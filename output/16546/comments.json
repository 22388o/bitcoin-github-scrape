[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518040668",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-518040668",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 518040668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxODA0MDY2OA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-04T22:16:27Z",
    "updated_at": "2021-02-22T00:09:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21207 (MOVEONLY: CWallet transaction code out of wallet.cpp/.h by ryanofsky)\n* #21073 (wallet: check when create wallets for the reserved name \"wallets\" by Saibato)\n* #20744 ([POC] Use std::filesystem. Remove Boost Filesystem & System by fanquake)\n* #20354 (test: Add feature_taproot.py --previous_release by MarcoFalke)\n* #20191 (wallet, refactor: make DescriptorScriptPubKeyMan agnostic of internal flag by S3RK)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518040668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/530788105",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-530788105",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 530788105,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDc4ODEwNQ==",
    "user": {
      "login": "Relaxo143",
      "id": 42069389,
      "node_id": "MDQ6VXNlcjQyMDY5Mzg5",
      "avatar_url": "https://avatars.githubusercontent.com/u/42069389?u=67891b2db5a607464f4befbb3aaf1d8296004fb7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Relaxo143",
      "html_url": "https://github.com/Relaxo143",
      "followers_url": "https://api.github.com/users/Relaxo143/followers",
      "following_url": "https://api.github.com/users/Relaxo143/following{/other_user}",
      "gists_url": "https://api.github.com/users/Relaxo143/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Relaxo143/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Relaxo143/subscriptions",
      "organizations_url": "https://api.github.com/users/Relaxo143/orgs",
      "repos_url": "https://api.github.com/users/Relaxo143/repos",
      "events_url": "https://api.github.com/users/Relaxo143/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Relaxo143/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-12T11:45:16Z",
    "updated_at": "2019-09-12T11:45:16Z",
    "author_association": "NONE",
    "body": "Can we expect this to be merged and included in 0.19? It's a really useful and requested feature! Thanks to everyone who is working on it.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/530788105/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/531692625",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-531692625",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 531692625,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMTY5MjYyNQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-16T08:54:00Z",
    "updated_at": "2019-09-16T08:54:00Z",
    "author_association": "MEMBER",
    "body": "@Relaxo143 not a chance; this is still work in progress and there's several pull requests that need to be reviewed and merged first. There's also a feature freeze on 0.19. ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/531692625/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/531853388",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-531853388",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 531853388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMTg1MzM4OA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-16T16:27:25Z",
    "updated_at": "2019-09-16T16:27:25Z",
    "author_association": "MEMBER",
    "body": "I dropped the dependency on my new `send` RPC proposal #16378, in favor of just tweaking `sendmany` and `sendtoaddress`. It's less powerful, but should reduce the review burden once native descriptors are merged.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/531853388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/589703948",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-589703948",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 589703948,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4OTcwMzk0OA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-21T15:33:01Z",
    "updated_at": "2020-02-21T15:33:01Z",
    "author_association": "MEMBER",
    "body": "Rebase and big update:\r\n* I dropped #15590 (`GetAddressType() & IsSegWit()`) in favor of `GetOutputType()`\r\n* this PR introduces `ExternalSignerScriptPubKeyMan` as a subclass of `DescriptorScriptPubKeyMan`",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/589703948/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/602820101",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-602820101",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 602820101,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMjgyMDEwMQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-23T19:50:27Z",
    "updated_at": "2020-03-23T19:50:27Z",
    "author_association": "MEMBER",
    "body": "Rebased on the latest #15764.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/602820101/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620011005",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-620011005",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 620011005,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDAxMTAwNQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-27T14:08:56Z",
    "updated_at": "2020-04-27T14:09:23Z",
    "author_association": "MEMBER",
    "body": "I'm marking this ready for review, even though 372eef4 is a placeholder commit (to be fixed in other pull requests). There's still rough edges, but it does work, as does the GUI followup in #16549.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620011005/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620627638",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-620627638",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 620627638,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDYyNzYzOA==",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?u=348c27f90b6fff8fd72fa27232272651436a2ff0&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-28T14:02:50Z",
    "updated_at": "2020-04-28T14:02:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620627638/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683071094",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-683071094",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 683071094,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzA3MTA5NA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-28T18:43:27Z",
    "updated_at": "2020-08-28T18:43:27Z",
    "author_association": "MEMBER",
    "body": "Rebased and dropped 3c65029b2cd7dc4874055cc55424bb7512071d2b since it's unused.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683071094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/692763317",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-692763317",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 692763317,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5Mjc2MzMxNw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-15T14:44:54Z",
    "updated_at": "2020-09-15T14:44:54Z",
    "author_association": "MEMBER",
    "body": "Rebased on top of the ultimate send RPC #16378; it now uses `send` instead of `sendtoaddress`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/692763317/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/693301585",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-693301585",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 693301585,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MzMwMTU4NQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-16T09:55:23Z",
    "updated_at": "2020-09-16T09:55:23Z",
    "author_association": "MEMBER",
    "body": "Something is causing Travis on ARM64 to bail out right before the functional tests. I already tried a restart. ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/693301585/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709042688",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-709042688",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 709042688,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTA0MjY4OA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-15T09:35:34Z",
    "updated_at": "2020-10-15T09:35:34Z",
    "author_association": "MEMBER",
    "body": "Rebased on Sqlite support #18916",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709042688/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/731211110",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-731211110",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 731211110,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMTIxMTExMA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-20T14:44:33Z",
    "updated_at": "2020-11-20T14:44:33Z",
    "author_association": "MEMBER",
    "body": "Nice work, builds on macos and playing around, will try gui branch too.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/731211110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/758034894",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-758034894",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 758034894,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1ODAzNDg5NA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-11T15:46:46Z",
    "updated_at": "2021-01-11T15:46:46Z",
    "author_association": "MEMBER",
    "body": "There was a merge conflict in `configure.ac` with the NAT-PMP introduction. Rebased version: https://github.com/laanwj/bitcoin/tree/tmp",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/758034894/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/758589844",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-758589844",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 758589844,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1ODU4OTg0NA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-12T11:19:43Z",
    "updated_at": "2021-01-12T11:24:02Z",
    "author_association": "MEMBER",
    "body": "@laanwj @fjahr thanks for the reviews! I was waiting for another PR (https://github.com/bitcoin-core/gui/pull/171) to land which I expect to require a rebase, but I might do it sooner.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/758589844/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/764833355",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-764833355",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 764833355,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NDgzMzM1NQ==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-21T18:02:04Z",
    "updated_at": "2021-01-21T18:02:04Z",
    "author_association": "MEMBER",
    "body": "@Sjors \r\n> @laanwj @fjahr thanks for the reviews! I was waiting for another PR ([bitcoin-core/gui#171](https://github.com/bitcoin-core/gui/pull/171)) to land which I expect to require a rebase, but I might do it sooner.\r\n\r\nhttps://github.com/bitcoin-core/gui/pull/171 just merged :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/764833355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/765556551",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-765556551",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 765556551,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTU1NjU1MQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-22T17:03:59Z",
    "updated_at": "2021-01-22T17:03:59Z",
    "author_association": "MEMBER",
    "body": "Rebased and addressed most feedback.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/765556551/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/769745983",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-769745983",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 769745983,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2OTc0NTk4Mw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-29T11:20:57Z",
    "updated_at": "2021-01-29T11:20:57Z",
    "author_association": "MEMBER",
    "body": "Rebased after #20012",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/769745983/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/776126807",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-776126807",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 776126807,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NjEyNjgwNw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-09T17:59:10Z",
    "updated_at": "2021-02-09T18:04:45Z",
    "author_association": "MEMBER",
    "body": "Rebased and addressed @achow101's feedback. It now calls HWI with `--regtest` (unsupported), `--testnet` or `--signet` instead of using `--testnet` for all non-mainnet networks. I might change that to `--chain ...` depending on what happens to https://github.com/bitcoin-core/HWI/pull/451, but shouldn't be blocking here.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/776126807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/778126833",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-778126833",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 778126833,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODEyNjgzMw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-12T10:59:12Z",
    "updated_at": "2021-02-12T10:59:12Z",
    "author_association": "MEMBER",
    "body": "This has been open for a long time. Hardware wallet support seems quite important. It would be nice if it got some more review and/or ACKs so that we can move forward with it.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/778126833/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/778128237",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-778128237",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 778128237,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODEyODIzNw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-12T11:02:16Z",
    "updated_at": "2021-02-12T11:02:16Z",
    "author_association": "MEMBER",
    "body": "Linting errors:\r\n```\r\nPython's open(...) seems to be used to open text files without explicitly\r\nspecifying encoding=\"utf8\":\r\n\r\ntest/functional/mocks/signer.py:        with open(mock_result_path, \"r\") as f:\r\ntest/functional/wallet_signer.py:        with open(os.path.join(node.cwd, \"mock_result\"), \"w\") as f:\r\n^---- failure generated from test/lint/lint-python-utf8-encoding.sh\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/778128237/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/778266866",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-778266866",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 778266866,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODI2Njg2Ng==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-12T15:36:05Z",
    "updated_at": "2021-02-12T15:37:04Z",
    "author_association": "MEMBER",
    "body": "Rebased, appeased linter and switched to using the new HWI `--chain` argument. Wallet experts, please bless #21127 as well.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/778266866/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/778313074",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-778313074",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 778313074,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODMxMzA3NA==",
    "user": {
      "login": "gruve-p",
      "id": 11212268,
      "node_id": "MDQ6VXNlcjExMjEyMjY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11212268?u=908bbd03f97241182a7e108fdca2e048b6bf462d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gruve-p",
      "html_url": "https://github.com/gruve-p",
      "followers_url": "https://api.github.com/users/gruve-p/followers",
      "following_url": "https://api.github.com/users/gruve-p/following{/other_user}",
      "gists_url": "https://api.github.com/users/gruve-p/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gruve-p/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gruve-p/subscriptions",
      "organizations_url": "https://api.github.com/users/gruve-p/orgs",
      "repos_url": "https://api.github.com/users/gruve-p/repos",
      "events_url": "https://api.github.com/users/gruve-p/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gruve-p/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-12T16:55:46Z",
    "updated_at": "2021-02-12T16:55:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK https://github.com/bitcoin/bitcoin/pull/16546/commits/e0ce81b4a5d8b8ae617de211747aac5fcad48570",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/778313074/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/778598558",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-778598558",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 778598558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODU5ODU1OA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-13T10:47:38Z",
    "updated_at": "2021-02-13T10:47:38Z",
    "author_association": "MEMBER",
    "body": "@fanquake boost process is used by `RunCommandParseJSON` (introduced in #15382). This can be used by any feature that involves calling an external command. Hence the separation. However, if you prefer I can still drop `--with-boost-process`. It just means that if we add another feature that uses this, that feature will require a separate configure flag. That's probably fine.\r\n\r\nDuring the development, when switching between branches all the time,  I find `--with-boost-process` convenient, because it works on this branch as well as master. But that's not a strong argument for keeping it.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/778598558/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/779020534",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-779020534",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 779020534,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3OTAyMDUzNA==",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?u=a0e0040aacd7d4f0787481e8ac30b494fa429e11&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-15T07:43:56Z",
    "updated_at": "2021-02-15T07:43:56Z",
    "author_association": "MEMBER",
    "body": "> It just means that if we add another feature that uses this, that feature will require a separate configure flag. That's probably fine.\r\n\r\nThat's exactly what should happen. Having a `--with-boost-process` configure flag just to be a catch-all for \"turn on anything that uses boost process\" is not something we want. Significant new features should have their own configure flags.\r\n\r\n>  I find --with-boost-process convenient, because it works on this branch as well as master. But that's not a strong argument for keeping it.\r\n\r\nNo it isn't.\r\n\r\nThe Boost Process macro itself is mostly just confusing. Boost Process is header only, so having a macro that run a bunch of checks for a library to link against is pointless? I don't really understand why it was written like that in the first place, and am planning on removing it.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/779020534/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/780632219",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-780632219",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 780632219,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MDYzMjIxOQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-17T15:25:32Z",
    "updated_at": "2021-02-17T15:25:32Z",
    "author_association": "MEMBER",
    "body": "Rebased and addressed nits.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/780632219/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/780823756",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-780823756",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 780823756,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MDgyMzc1Ng==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-17T20:12:57Z",
    "updated_at": "2021-02-17T20:12:57Z",
    "author_association": "MEMBER",
    "body": "Will do some testing ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/780823756/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/780831030",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-780831030",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 780831030,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MDgzMTAzMA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-17T20:25:29Z",
    "updated_at": "2021-02-17T20:25:29Z",
    "author_association": "MEMBER",
    "body": "ACK 85da1ad0442b243e10e7f671e14812e70e74f624",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/780831030/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/781557340",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-781557340",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 781557340,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MTU1NzM0MA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-18T18:44:53Z",
    "updated_at": "2021-02-18T18:44:53Z",
    "author_association": "MEMBER",
    "body": "Code review ACK 96f991a11a871502d1a39f684994c1e2664c3af7\r\nVerified that the only changes since 85da1ad0442b243e10e7f671e14812e70e74f624 are the `configure.ac` change, and simpllyfing `ExternalSigner::NetworkArg()` (removing a include for `strencodings.h` along the way).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/781557340/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/781596870",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-781596870",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 781596870,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MTU5Njg3MA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-18T19:54:24Z",
    "updated_at": "2021-02-18T19:54:24Z",
    "author_association": "MEMBER",
    "body": "re-ACK 96f991a11a871502d1a39f684994c1e2664c3af7",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/781596870/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/782884947",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-782884947",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 782884947,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4Mjg4NDk0Nw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-21T16:31:12Z",
    "updated_at": "2021-02-21T16:31:12Z",
    "author_association": "MEMBER",
    "body": "Rebased onto CI fix. @fanquake I replaced the remaining instances of `HAVE_BOOST_PROCESS` with `ENABLE_EXTERNAL_SIGNER`. In the process I squashed the MSVC and doc commit, since they're now just a simple rename.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/782884947/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/783308218",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-783308218",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 783308218,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MzMwODIxOA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-22T11:30:13Z",
    "updated_at": "2021-02-22T11:30:13Z",
    "author_association": "MEMBER",
    "body": "Please squash the `move-only: add underscore to externalsigner.h` commit as well. It's introduced in this PR, so let's introduce it with the eventual name directly.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/783308218/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/783587014",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-783587014",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 783587014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MzU4NzAxNA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-22T18:41:42Z",
    "updated_at": "2021-02-22T18:41:42Z",
    "author_association": "MEMBER",
    "body": "That may be a rather big rebase hell though, because the commits make incremental changes to these files so I'd have to divide this commit in 10 pieces, squash them in the right place and then deal with rebase conflicts. Unless there's an intelligent Git incantation to rename a file across all commits?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/783587014/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/783688565",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-783688565",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 783688565,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MzY4ODU2NQ==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-22T21:31:30Z",
    "updated_at": "2021-02-22T21:31:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Unless there's an intelligent Git incantation to rename a file across all commits?\r\n\r\nSomething like this will rename the one file. You can extend it to rename other files or do more replacements across commits:\r\n\r\n```bash\r\nend=f1824e7af7a8d53f9be50a6c6354511190dcb774\r\nstart=b9a262ea0a86f498959e81113522ce26299f1984\r\n\r\ngit checkout $end\r\ngit filter-branch --tree-filter '\r\n  git mv src/wallet/externalsigner.h src/wallet/external_signer.h\r\n  git grep -l externalsigner | xargs sed -i s:wallet/externalsigner.h:wallet/external_signer.h:\r\n' --force $start^..HEAD\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/783688565/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/783978913",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-783978913",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 783978913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4Mzk3ODkxMw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-23T07:41:59Z",
    "updated_at": "2021-02-23T07:41:59Z",
    "author_association": "MEMBER",
    "body": "Also git tends to be smart enough to take into account renamed files when rebasing. If you go to the first commit with `git rebase -i`, amend it for editing, `git mv src/wallet/externalsigner.h src/wallet/external_signer.h`, then `git rebase --continue`, that should not cause any merge conflicts.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/783978913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784126199",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-784126199",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 784126199,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDEyNjE5OQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-23T11:14:59Z",
    "updated_at": "2021-02-23T11:14:59Z",
    "author_association": "MEMBER",
    "body": "@ryanofsky's thanks! That worked (with some tweaks), and despite warnings from the git, it still compiles and history looks sane. @laanwj I have indeed seen Git behave sanely when it comes to renames, so maybe my worries were not necessary.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784126199/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784344292",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-784344292",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 784344292,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDM0NDI5Mg==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-23T16:50:41Z",
    "updated_at": "2021-02-23T16:50:41Z",
    "author_association": "MEMBER",
    "body": "re-ACK f75e0c1edde39a91cc353b0102638e232def9476",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784344292/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789064887",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#issuecomment-789064887",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16546",
    "id": 789064887,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTA2NDg4Nw==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-02T17:10:09Z",
    "updated_at": "2021-03-02T17:10:09Z",
    "author_association": "MEMBER",
    "body": "There is a [buggy](https://github.com/bitcoin/bitcoin/pull/21339#issue-583195145) execution path in the `configure` script. Fixed in #21339.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789064887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310408302",
    "pull_request_review_id": 270519353,
    "id": 310408302,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMDQwODMwMg==",
    "diff_hunk": "@@ -2653,6 +2673,8 @@ static UniValue createwallet(const JSONRPCRequest& request)\n             {\"blank\", RPCArg::Type::BOOL, /* default */ \"false\", \"Create a blank wallet. A blank wallet has no keys or HD seed. One can be set using sethdseed.\"},\n             {\"passphrase\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"Encrypt the wallet with this passphrase.\"},\n             {\"avoid_reuse\", RPCArg::Type::BOOL, /* default */ \"false\", \"Keep track of coin reuse, and treat dirty and clean coins differently with privacy considerations in mind.\"},\n+            {\"descriptors\", RPCArg::Type::BOOL, /* default */ \"false\", \"Create a native descriptor wallet. The wallet will use descriptors internally to handle address creation\"},\n+            {\"external_signer\", RPCArg::Type::BOOL, /* default */ \"false\", \"Use an external signer such as a hardware wallet. Requires -signer to be configured. Wallet creation will fail if keys cannot be fetched. Requires disable_private_keys and descriptors set to true.\"},",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 4,
    "original_position": 176,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "10b713dc90c396e850f51c5e6b3d026259b92e54",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This list-of-bools thing seems like a terrible idea...",
    "created_at": "2019-08-04T23:24:13Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r310408302",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310408302"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r310408302"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310408302/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2729,
    "original_line": 2729,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310408356",
    "pull_request_review_id": 270519418,
    "id": 310408356,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMDQwODM1Ng==",
    "diff_hunk": "@@ -4132,6 +4211,181 @@ UniValue walletcreatefundedpsbt(const JSONRPCRequest& request)\n     return result;\n }\n \n+UniValue send(const JSONRPCRequest& request)\n+{\n+    std::shared_ptr<CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n+    CWallet* const pwallet = wallet.get();\n+\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    RPCHelpMan{\"send\",\n+        \"\\nSend a transaction.\\n\",\n+        {\n+            {\"outputs\", RPCArg::Type::ARR, RPCArg::Optional::NO, \"a json array with outputs (key-value pairs), where none of the keys are duplicated.\\n\"\n+                    \"That is, each address can only appear once and there can only be one 'data' object.\\n\"\n+                    \"For convenience, a dictionary, which holds the key-value pairs directly, is also accepted.\",\n+                {\n+                    {\"\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED, \"\",\n+                        {\n+                            {\"address\", RPCArg::Type::AMOUNT, RPCArg::Optional::NO, \"A key-value pair. The key (string) is the bitcoin address, the value (float or string) is the amount in \" + CURRENCY_UNIT + \"\"},\n+                            {\"comment\", RPCArg::Type::STR, RPCArg::Optional::OMITTED_NAMED_ARG, \"A comment to store the name of the person or organization\\n\"\n+                            \"                              to which you're sending the transaction. This is not part of the \\n\"\n+                            \"                              transaction, just kept in your wallet.\"}\n+                        },\n+                    },\n+                    {\"\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED, \"\",\n+                        {\n+                            {\"data\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"A key-value pair. The key must be \\\"data\\\", the value is hex-encoded data\"},\n+                        },\n+                    },\n+                },\n+            },\n+            {\"inputs\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Leave empty to add inputs automatically. A json array of json objects\",\n+                {\n+                    {\"\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED, \"\",\n+                        {\n+                            {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                            {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},\n+                            {\"sequence\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The sequence number\"},\n+                        },\n+                    },\n+                },\n+            },\n+            {\"options\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED_NAMED_ARG, \"\",\n+                {\n+                    {\"add_inputs\", RPCArg::Type::BOOL, /* default */ \"false\", \"If inputs are specified, automatically include more if they are not enough.\"},\n+                    {\"add_to_wallet\", RPCArg::Type::BOOL, /* default */ \"true\", \"When false, returns a serialized transaction which will not be added to the wallet or broadcast\"},\n+                    {\"changeAddress\", RPCArg::Type::STR_HEX, /* default */ \"pool address\", \"The bitcoin address to receive the change\"},\n+                    {\"changePosition\", RPCArg::Type::NUM, /* default */ \"random\", \"The index of the change output\"},\n+                    {\"change_type\", RPCArg::Type::STR, /* default */ \"set by -changetype\", \"The output type to use. Only valid if changeAddress is not specified. Options are \\\"legacy\\\", \\\"p2sh-segwit\\\", and \\\"bech32\\\".\"},\n+                    {\"includeWatching\", RPCArg::Type::BOOL, /* default */ \"false\", \"Also select inputs which are watch only\"},\n+                    {\"locktime\", RPCArg::Type::NUM, /* default */ \"0\", \"Raw locktime. Non-0 value also locktime-activates inputs\"},\n+                    {\"lockUnspents\", RPCArg::Type::BOOL, /* default */ \"false\", \"Lock selected unspent outputs\"},\n+                    {\"feeRate\", RPCArg::Type::AMOUNT, /* default */ \"not set: makes wallet determine the fee\", \"Set a specific fee rate in \" + CURRENCY_UNIT + \"/kB\"},\n+                    {\"subtractFeeFromOutputs\", RPCArg::Type::ARR, /* default */ \"empty array\", \"A json array of integers.\\n\"\n+                    \"                              The fee will be equally deducted from the amount of each specified output.\\n\"\n+                    \"                              Those recipients will receive less bitcoins than you enter in their corresponding amount field.\\n\"\n+                    \"                              If no outputs are specified here, the sender pays the fee.\",\n+                        {\n+                            {\"vout_index\", RPCArg::Type::NUM, RPCArg::Optional::OMITTED, \"The zero-based output index, before a change output is added.\"},\n+                        },\n+                    },\n+                    {\"replaceable\", RPCArg::Type::BOOL, /* default */ \"false\", \"Marks this transaction as BIP125 replaceable.\\n\"\n+                    \"                              Allows this transaction to be replaced by a transaction with higher fees\"},\n+                    {\"conf_target\", RPCArg::Type::NUM, /* default */ \"Fallback to wallet's confirmation target\", \"Confirmation target (in blocks)\"},\n+                    {\"estimate_mode\", RPCArg::Type::STR, /* default */ \"UNSET\", \"The fee estimate mode, must be one of:\\n\"\n+                    \"         \\\"UNSET\\\"\\n\"\n+                    \"         \\\"ECONOMICAL\\\"\\n\"\n+                    \"         \\\"CONSERVATIVE\\\"\"},\n+                },\n+                \"options\"},\n+        },\n+        RPCResult{\n+                    \"{\\n\"\n+                    \"  \\\"complete\\\" : true|false, (boolean) If the transaction has a complete set of signatures\\n\"\n+                    \"  \\\"txid\\\" :                 (string) The transaction id for the send. Only 1 transaction is created regardless of \\n\"\n+                    \"                                      the number of addresses.\\n\",\n+                    \"  \\\"hex\\\" : \\\"value\\\",       (string) If add_to_wallet is false, the hex-encoded raw transaction with signature(s)\\n\"\n+                    \"  \\\"psbt\\\" : \\\"value\\\",      (string) If more signatures are needed, or if add_to_wallet is false, the base64-encoded (partially) signed transaction\\n\"\n+                    \"}\\n\"\n+                        },\n+                        RPCExamples{\n+                    \"\\nCreate a transaction with a specific input\\n\"\n+                    + HelpExampleCli(\"send\", \"'{\\\"1PGFqEzfmQch1gKD3ra4k18PNj3tTUUSqg\\\": 0.1}' '[{\\\"txid\\\":\\\"a08e6907dbbd3d809776dbfc5d82e371b764ed838b5655e72f463568df1aadf0\\\", \\\"vout\\\":1}]'\") +\n+                    \"\\nSpecify the order of outputs, set fee rate to 1 satoshi per byte and return result without adding to wallet or broadcasting to the network\\n\"\n+                    + HelpExampleCli(\"send\", \"'[{\\\"1PGFqEzfmQch1gKD3ra4k18PNj3tTUUSqg\\\": 0.1}, {\\\"1LtvqCaApEdUGFkpKMM4MstjcaL4dKg8SP\\\": 0.1}]' [] '{\\\"feeRate\\\": 0.00001, \\\"add_to_wallet\\\": false}'\")\n+                        },\n+                    }.Check(request);\n+\n+    RPCTypeCheck(request.params, {\n+        UniValueType(), // ARR or OBJ, checked later\n+        UniValue::VARR,\n+        UniValue::VOBJ,\n+        }, true\n+    );\n+\n+    CAmount fee;\n+    int change_position;\n+    bool rbf = pwallet->m_signal_rbf;\n+    const UniValue &replaceable_arg = request.params[2][\"replaceable\"];\n+    if (!replaceable_arg.isNull()) {\n+        RPCTypeCheckArgument(replaceable_arg, UniValue::VBOOL);\n+        rbf = replaceable_arg.isTrue();\n+    }\n+    CMutableTransaction rawTx = ConstructTransaction(request.params[1], request.params[0], request.params[2][\"locktime\"], rbf);\n+    CCoinControl coin_control;\n+    // Automatically select coins, unless at least one is manually selected. Can\n+    // be overriden by options.add_inputs.\n+    coin_control.m_add_inputs = rawTx.vin.size() == 0;\n+    FundTransaction(pwallet, rawTx, fee, change_position, request.params[2], coin_control);\n+\n+    bool add_to_wallet = true;\n+    if (request.params[2].exists(\"add_to_wallet\"))\n+        add_to_wallet = request.params[2][\"add_to_wallet\"].get_bool();\n+\n+    // Make a blank psbt\n+    PartiallySignedTransaction psbtx(rawTx);\n+\n+    // Fill transaction with out data and attempt to sign\n+    bool complete = true;\n+    bool bip32derivs = pwallet->IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER);\n+\n+    const TransactionError err = FillPSBT(pwallet, psbtx, complete, 1, true, bip32derivs);\n+    if (err != TransactionError::OK) {\n+        throw JSONRPCTransactionError(err);\n+    }\n+\n+    if (pwallet->IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER)) {\n+        const std::string command = gArgs.GetArg(\"-signer\", DEFAULT_EXTERNAL_SIGNER);\n+        if (command == \"\") throw std::runtime_error(std::string(__func__) + \": restart bitcoind with -signer=<cmd>\");",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 693,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "10b713dc90c396e850f51c5e6b3d026259b92e54",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "What if there are multiple wallets, with different signers?\r\n\r\nIMO `-signer` needs to be replaced with either a wallet-stored path, or a path provided when the wallet is loaded...",
    "created_at": "2019-08-04T23:25:27Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r310408356",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310408356"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r310408356"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310408356/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4364,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310517052",
    "pull_request_review_id": 270655920,
    "id": 310517052,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMDUxNzA1Mg==",
    "diff_hunk": "@@ -2653,6 +2673,8 @@ static UniValue createwallet(const JSONRPCRequest& request)\n             {\"blank\", RPCArg::Type::BOOL, /* default */ \"false\", \"Create a blank wallet. A blank wallet has no keys or HD seed. One can be set using sethdseed.\"},\n             {\"passphrase\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"Encrypt the wallet with this passphrase.\"},\n             {\"avoid_reuse\", RPCArg::Type::BOOL, /* default */ \"false\", \"Keep track of coin reuse, and treat dirty and clean coins differently with privacy considerations in mind.\"},\n+            {\"descriptors\", RPCArg::Type::BOOL, /* default */ \"false\", \"Create a native descriptor wallet. The wallet will use descriptors internally to handle address creation\"},\n+            {\"external_signer\", RPCArg::Type::BOOL, /* default */ \"false\", \"Use an external signer such as a hardware wallet. Requires -signer to be configured. Wallet creation will fail if keys cannot be fetched. Requires disable_private_keys and descriptors set to true.\"},",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 4,
    "original_position": 176,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "10b713dc90c396e850f51c5e6b3d026259b92e54",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Indeed, I was complaining about that when `blank` was added :-)",
    "created_at": "2019-08-05T09:34:30Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r310517052",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310517052"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r310517052"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310517052/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2729,
    "original_line": 2729,
    "side": "RIGHT",
    "in_reply_to_id": 310408302
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310517479",
    "pull_request_review_id": 270656459,
    "id": 310517479,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMDUxNzQ3OQ==",
    "diff_hunk": "@@ -4132,6 +4211,181 @@ UniValue walletcreatefundedpsbt(const JSONRPCRequest& request)\n     return result;\n }\n \n+UniValue send(const JSONRPCRequest& request)\n+{\n+    std::shared_ptr<CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n+    CWallet* const pwallet = wallet.get();\n+\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    RPCHelpMan{\"send\",\n+        \"\\nSend a transaction.\\n\",\n+        {\n+            {\"outputs\", RPCArg::Type::ARR, RPCArg::Optional::NO, \"a json array with outputs (key-value pairs), where none of the keys are duplicated.\\n\"\n+                    \"That is, each address can only appear once and there can only be one 'data' object.\\n\"\n+                    \"For convenience, a dictionary, which holds the key-value pairs directly, is also accepted.\",\n+                {\n+                    {\"\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED, \"\",\n+                        {\n+                            {\"address\", RPCArg::Type::AMOUNT, RPCArg::Optional::NO, \"A key-value pair. The key (string) is the bitcoin address, the value (float or string) is the amount in \" + CURRENCY_UNIT + \"\"},\n+                            {\"comment\", RPCArg::Type::STR, RPCArg::Optional::OMITTED_NAMED_ARG, \"A comment to store the name of the person or organization\\n\"\n+                            \"                              to which you're sending the transaction. This is not part of the \\n\"\n+                            \"                              transaction, just kept in your wallet.\"}\n+                        },\n+                    },\n+                    {\"\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED, \"\",\n+                        {\n+                            {\"data\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"A key-value pair. The key must be \\\"data\\\", the value is hex-encoded data\"},\n+                        },\n+                    },\n+                },\n+            },\n+            {\"inputs\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Leave empty to add inputs automatically. A json array of json objects\",\n+                {\n+                    {\"\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED, \"\",\n+                        {\n+                            {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                            {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},\n+                            {\"sequence\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The sequence number\"},\n+                        },\n+                    },\n+                },\n+            },\n+            {\"options\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED_NAMED_ARG, \"\",\n+                {\n+                    {\"add_inputs\", RPCArg::Type::BOOL, /* default */ \"false\", \"If inputs are specified, automatically include more if they are not enough.\"},\n+                    {\"add_to_wallet\", RPCArg::Type::BOOL, /* default */ \"true\", \"When false, returns a serialized transaction which will not be added to the wallet or broadcast\"},\n+                    {\"changeAddress\", RPCArg::Type::STR_HEX, /* default */ \"pool address\", \"The bitcoin address to receive the change\"},\n+                    {\"changePosition\", RPCArg::Type::NUM, /* default */ \"random\", \"The index of the change output\"},\n+                    {\"change_type\", RPCArg::Type::STR, /* default */ \"set by -changetype\", \"The output type to use. Only valid if changeAddress is not specified. Options are \\\"legacy\\\", \\\"p2sh-segwit\\\", and \\\"bech32\\\".\"},\n+                    {\"includeWatching\", RPCArg::Type::BOOL, /* default */ \"false\", \"Also select inputs which are watch only\"},\n+                    {\"locktime\", RPCArg::Type::NUM, /* default */ \"0\", \"Raw locktime. Non-0 value also locktime-activates inputs\"},\n+                    {\"lockUnspents\", RPCArg::Type::BOOL, /* default */ \"false\", \"Lock selected unspent outputs\"},\n+                    {\"feeRate\", RPCArg::Type::AMOUNT, /* default */ \"not set: makes wallet determine the fee\", \"Set a specific fee rate in \" + CURRENCY_UNIT + \"/kB\"},\n+                    {\"subtractFeeFromOutputs\", RPCArg::Type::ARR, /* default */ \"empty array\", \"A json array of integers.\\n\"\n+                    \"                              The fee will be equally deducted from the amount of each specified output.\\n\"\n+                    \"                              Those recipients will receive less bitcoins than you enter in their corresponding amount field.\\n\"\n+                    \"                              If no outputs are specified here, the sender pays the fee.\",\n+                        {\n+                            {\"vout_index\", RPCArg::Type::NUM, RPCArg::Optional::OMITTED, \"The zero-based output index, before a change output is added.\"},\n+                        },\n+                    },\n+                    {\"replaceable\", RPCArg::Type::BOOL, /* default */ \"false\", \"Marks this transaction as BIP125 replaceable.\\n\"\n+                    \"                              Allows this transaction to be replaced by a transaction with higher fees\"},\n+                    {\"conf_target\", RPCArg::Type::NUM, /* default */ \"Fallback to wallet's confirmation target\", \"Confirmation target (in blocks)\"},\n+                    {\"estimate_mode\", RPCArg::Type::STR, /* default */ \"UNSET\", \"The fee estimate mode, must be one of:\\n\"\n+                    \"         \\\"UNSET\\\"\\n\"\n+                    \"         \\\"ECONOMICAL\\\"\\n\"\n+                    \"         \\\"CONSERVATIVE\\\"\"},\n+                },\n+                \"options\"},\n+        },\n+        RPCResult{\n+                    \"{\\n\"\n+                    \"  \\\"complete\\\" : true|false, (boolean) If the transaction has a complete set of signatures\\n\"\n+                    \"  \\\"txid\\\" :                 (string) The transaction id for the send. Only 1 transaction is created regardless of \\n\"\n+                    \"                                      the number of addresses.\\n\",\n+                    \"  \\\"hex\\\" : \\\"value\\\",       (string) If add_to_wallet is false, the hex-encoded raw transaction with signature(s)\\n\"\n+                    \"  \\\"psbt\\\" : \\\"value\\\",      (string) If more signatures are needed, or if add_to_wallet is false, the base64-encoded (partially) signed transaction\\n\"\n+                    \"}\\n\"\n+                        },\n+                        RPCExamples{\n+                    \"\\nCreate a transaction with a specific input\\n\"\n+                    + HelpExampleCli(\"send\", \"'{\\\"1PGFqEzfmQch1gKD3ra4k18PNj3tTUUSqg\\\": 0.1}' '[{\\\"txid\\\":\\\"a08e6907dbbd3d809776dbfc5d82e371b764ed838b5655e72f463568df1aadf0\\\", \\\"vout\\\":1}]'\") +\n+                    \"\\nSpecify the order of outputs, set fee rate to 1 satoshi per byte and return result without adding to wallet or broadcasting to the network\\n\"\n+                    + HelpExampleCli(\"send\", \"'[{\\\"1PGFqEzfmQch1gKD3ra4k18PNj3tTUUSqg\\\": 0.1}, {\\\"1LtvqCaApEdUGFkpKMM4MstjcaL4dKg8SP\\\": 0.1}]' [] '{\\\"feeRate\\\": 0.00001, \\\"add_to_wallet\\\": false}'\")\n+                        },\n+                    }.Check(request);\n+\n+    RPCTypeCheck(request.params, {\n+        UniValueType(), // ARR or OBJ, checked later\n+        UniValue::VARR,\n+        UniValue::VOBJ,\n+        }, true\n+    );\n+\n+    CAmount fee;\n+    int change_position;\n+    bool rbf = pwallet->m_signal_rbf;\n+    const UniValue &replaceable_arg = request.params[2][\"replaceable\"];\n+    if (!replaceable_arg.isNull()) {\n+        RPCTypeCheckArgument(replaceable_arg, UniValue::VBOOL);\n+        rbf = replaceable_arg.isTrue();\n+    }\n+    CMutableTransaction rawTx = ConstructTransaction(request.params[1], request.params[0], request.params[2][\"locktime\"], rbf);\n+    CCoinControl coin_control;\n+    // Automatically select coins, unless at least one is manually selected. Can\n+    // be overriden by options.add_inputs.\n+    coin_control.m_add_inputs = rawTx.vin.size() == 0;\n+    FundTransaction(pwallet, rawTx, fee, change_position, request.params[2], coin_control);\n+\n+    bool add_to_wallet = true;\n+    if (request.params[2].exists(\"add_to_wallet\"))\n+        add_to_wallet = request.params[2][\"add_to_wallet\"].get_bool();\n+\n+    // Make a blank psbt\n+    PartiallySignedTransaction psbtx(rawTx);\n+\n+    // Fill transaction with out data and attempt to sign\n+    bool complete = true;\n+    bool bip32derivs = pwallet->IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER);\n+\n+    const TransactionError err = FillPSBT(pwallet, psbtx, complete, 1, true, bip32derivs);\n+    if (err != TransactionError::OK) {\n+        throw JSONRPCTransactionError(err);\n+    }\n+\n+    if (pwallet->IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER)) {\n+        const std::string command = gArgs.GetArg(\"-signer\", DEFAULT_EXTERNAL_SIGNER);\n+        if (command == \"\") throw std::runtime_error(std::string(__func__) + \": restart bitcoind with -signer=<cmd>\");",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 693,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "10b713dc90c396e850f51c5e6b3d026259b92e54",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Storing `signer` in the wallet makes sense, but I also think it can wait for a later PR. In practice afaik the only tool that currently works is HWI and it can handle multiple wallets. In the long run however I do hope that wallet manufactures provide their own software that just uses the same commands / responses. ",
    "created_at": "2019-08-05T09:35:33Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r310517479",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310517479"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r310517479"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310517479/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4364,
    "side": "RIGHT",
    "in_reply_to_id": 310408356
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/375648252",
    "pull_request_review_id": 354209663,
    "id": 375648252,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTY0ODI1Mg==",
    "diff_hunk": "@@ -0,0 +1,121 @@\n+# ===========================================================================\n+#     https://www.gnu.org/software/autoconf-archive/ax_boost_process.html\n+# ===========================================================================\n+#\n+# SYNOPSIS\n+#\n+#   AX_BOOST_PROCESS\n+#\n+# DESCRIPTION\n+#\n+#   Test for Process library from the Boost C++ libraries. The macro\n+#   requires a preceding call to AX_BOOST_BASE. Further documentation is\n+#   available at <http://randspringer.de/boost/index.html>.\n+#\n+#   This macro calls:\n+#\n+#     AC_SUBST(BOOST_PROCESS_LIB)",
    "path": "build-aux/m4/ax_boost_process.m4",
    "position": null,
    "original_position": 17,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "0a0d29541535789a4c1d64bbe02dfdc651686c57",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't see where we are linking this",
    "created_at": "2020-02-06T05:36:02Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r375648252",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/375648252"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r375648252"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/375648252/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 17,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/375649913",
    "pull_request_review_id": 354209663,
    "id": 375649913,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTY0OTkxMw==",
    "diff_hunk": "@@ -1075,6 +1081,7 @@ AX_BOOST_SYSTEM\n AX_BOOST_FILESYSTEM\n AX_BOOST_THREAD\n AX_BOOST_CHRONO\n+AX_BOOST_PROCESS",
    "path": "configure.ac",
    "position": null,
    "original_position": 24,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "0a0d29541535789a4c1d64bbe02dfdc651686c57",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This seems like it will pull in Boost.Process (and our - in this case dead - wrapper code using it) even with `--disable-external-signer`.\r\n\r\nMaybe not a problem since we plan to use it for other things too?",
    "created_at": "2020-02-06T05:44:15Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r375649913",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/375649913"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r375649913"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/375649913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1204,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508338950",
    "pull_request_review_id": 512496641,
    "id": 508338950,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODMzODk1MA==",
    "diff_hunk": "@@ -0,0 +1,70 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_WALLET_EXTERNALSIGNER_H\n+#define BITCOIN_WALLET_EXTERNALSIGNER_H\n+\n+#include <stdexcept>\n+#include <string>\n+#include <univalue.h>\n+#include <util/system.h>\n+\n+struct PartiallySignedTransaction;\n+\n+class ExternalSignerException : public std::runtime_error {\n+public:\n+    using std::runtime_error::runtime_error;\n+};\n+\n+//! Enables interaction with an external signing device or service, such as a",
    "path": "src/wallet/externalsigner.h",
    "position": null,
    "original_position": 20,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "fa453656d03466feaee62a0b4cf7532cfbd39818",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n//! Enables interaction with an external signing device or service, such as\r\n```",
    "created_at": "2020-10-20T09:13:05Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r508338950",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508338950"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r508338950"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508338950/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 20,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508343066",
    "pull_request_review_id": 512502064,
    "id": 508343066,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODM0MzA2Ng==",
    "diff_hunk": "@@ -0,0 +1,25 @@\n+// Copyright (c) 2018-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_WALLET_RPCSIGNER_H\n+#define BITCOIN_WALLET_RPCSIGNER_H\n+\n+#include <span.h>\n+#include <util/system.h>\n+#include <vector>\n+\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+\n+class CRPCCommand;\n+\n+namespace interfaces {\n+class Chain;\n+class Handler;\n+}\n+\n+Span<const CRPCCommand> GetSignerRPCCommands();\n+\n+#endif // BOOST_VERSION",
    "path": "src/wallet/rpcsigner.h",
    "position": null,
    "original_position": 23,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "fa453656d03466feaee62a0b4cf7532cfbd39818",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n#endif // ENABLE_EXTERNAL_SIGNER\r\n```",
    "created_at": "2020-10-20T09:19:02Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r508343066",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508343066"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r508343066"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508343066/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 23,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550931095",
    "pull_request_review_id": 560659956,
    "id": 550931095,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkzMTA5NQ==",
    "diff_hunk": "@@ -517,8 +517,6 @@ class LegacySigningProvider : public SigningProvider\n class DescriptorScriptPubKeyMan : public ScriptPubKeyMan\n {\n private:\n-    WalletDescriptor m_wallet_descriptor GUARDED_BY(cs_desc_man);",
    "path": "src/wallet/scriptpubkeyman.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "4bd42a528ebe65eedddac4bbeec41b2cfbeaa2eb",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is this necessary to be removed?",
    "created_at": "2021-01-02T23:07:47Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550931095",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550931095"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550931095"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550931095/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 520,
    "original_line": 520,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550932593",
    "pull_request_review_id": 560659956,
    "id": 550932593,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkzMjU5Mw==",
    "diff_hunk": "@@ -48,3 +48,18 @@ ExternalSigner ExternalSignerScriptPubKeyMan::GetExternalSigner() {\n #endif\n \n }\n+\n+bool ExternalSignerScriptPubKeyMan::DisplayAddress(const CScript scriptPubKey, const ExternalSigner &signer) const\n+{\n+#ifdef ENABLE_EXTERNAL_SIGNER",
    "path": "src/wallet/external_signer_scriptpubkeyman.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "68d9fa0afe3598bda99bd29e370a3c706305af24",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not sure if we need so many of these. This function should never be called if external signer is not enabled, right? Is this a belts & suspenders approach or is there a reason why it is absolutely necessary?",
    "created_at": "2021-01-02T23:27:02Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550932593",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550932593"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550932593"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550932593/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 52,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550932851",
    "pull_request_review_id": 560659956,
    "id": 550932851,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkzMjg1MQ==",
    "diff_hunk": "@@ -49,6 +49,11 @@ bool ExternalSigner::Enumerate(const std::string& command, std::vector<ExternalS\n     return true;\n }\n \n+UniValue ExternalSigner::displayAddress(const std::string& descriptor) const\n+{\n+    return RunCommandParseJSON(m_command + \" --fingerprint \\\"\" + m_fingerprint + \"\\\"\" + (m_mainnet ? \"\" : \" --testnet \") + \" displayaddress --desc \\\"\" + descriptor + \"\\\"\");",
    "path": "src/wallet/externalsigner.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "68d9fa0afe3598bda99bd29e370a3c706305af24",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Could add a helper function to avoid the need of repeating the common part of these commands.",
    "created_at": "2021-01-02T23:31:12Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550932851",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550932851"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550932851"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550932851/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 54,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550933091",
    "pull_request_review_id": 560659956,
    "id": 550933091,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkzMzA5MQ==",
    "diff_hunk": "@@ -58,6 +59,41 @@ static RPCHelpMan enumeratesigners()\n     };\n }\n \n+static RPCHelpMan signerdisplayaddress()\n+{\n+    return RPCHelpMan{\n+        \"signerdisplayaddress\",\n+        \"Display address on an external signer for verification.\\n\",\n+        {\n+            {\"address\",     RPCArg::Type::STR, RPCArg::Optional::NO, /* default_val */ \"\", \"bitcoin address to display\"},\n+        },\n+        RPCResult{RPCResult::Type::NONE,\"\",\"\"},\n+        RPCExamples{\"\"},\n+        [](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {\n+            std::shared_ptr<CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n+            CWallet* const pwallet = wallet.get();\n+\n+            if (!wallet) return NullUniValue;",
    "path": "src/wallet/rpcsigner.cpp",
    "position": 73,
    "original_position": 26,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "68d9fa0afe3598bda99bd29e370a3c706305af24",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think this goes before the line above",
    "created_at": "2021-01-02T23:34:54Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550933091",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550933091"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550933091"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550933091/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 73,
    "original_line": 73,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550934798",
    "pull_request_review_id": 560659956,
    "id": 550934798,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkzNDc5OA==",
    "diff_hunk": "@@ -1320,8 +1333,8 @@ AX_BOOST_SYSTEM\n AX_BOOST_FILESYSTEM\n AX_BOOST_THREAD\n \n-dnl Opt-in to boost-process\n-AS_IF([ test x$with_boost_process != x ], [ AX_BOOST_PROCESS ], [ ax_cv_boost_process=no ] )\n+dnl Opt-in to boost-process, unless external signer support is requested",
    "path": "configure.ac",
    "position": null,
    "original_position": 33,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "1fb4b8a60b5108b6061b8cbfa6ad7631e2277bd6",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "s/Opt-in/Opt-out/ ?",
    "created_at": "2021-01-02T23:57:18Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550934798",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550934798"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550934798"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550934798/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1404,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550938055",
    "pull_request_review_id": 560659956,
    "id": 550938055,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkzODA1NQ==",
    "diff_hunk": "@@ -0,0 +1,8 @@\n+// Copyright (c) 2018 The Bitcoin Core developers",
    "path": "src/wallet/externalsigner.cpp",
    "position": null,
    "original_position": 1,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "be811a8d3c4014d6de16196df0c44a208404cd97",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Copyright headers need to be updated, might as well get it over with now :)",
    "created_at": "2021-01-03T00:39:32Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550938055",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550938055"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550938055"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550938055/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550939032",
    "pull_request_review_id": 560659956,
    "id": 550939032,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkzOTAzMg==",
    "diff_hunk": "@@ -0,0 +1,53 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test external signer.\n+\n+Verify that a bitcoind node can use an external signer command\n+\"\"\"\n+import os\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+\n+class SignerTest(BitcoinTestFramework):\n+    def mock_signer_path(self):\n+        path = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'mocks', 'signer.py')\n+        if platform.system() == \"Windows\":\n+            return \"py \" + path\n+        else:\n+            return path\n+\n+    def set_test_params(self):\n+        self.num_nodes = 3\n+\n+        self.extra_args = [\n+            [],\n+            ['-signer=%s' % self.mock_signer_path()],\n+            ['-signer=%s' % \"fake.py\"],\n+        ]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_external_signer()\n+\n+    def set_mock_result(self, node, res):\n+        f = open(os.path.join(node.cwd, \"mock_result\"), \"w\", encoding=\"utf8\")\n+        f.write(res)\n+        f.close()\n+\n+    def clear_mock_result(self, node):\n+        os.remove(os.path.join(node.cwd, \"mock_result\"))\n+\n+    def run_test(self):\n+        self.log.info('-signer=%s' % self.mock_signer_path())\n+        assert_equal(self.nodes[0].getbalance(), 1250)",
    "path": "test/functional/wallet_signer.py",
    "position": null,
    "original_position": 50,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "0f6ff74efcacbc60a8b978381821eda7514e58d7",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I am guessing this was just a placeholder to see that things are working and this can be removed when the actual tests are added?",
    "created_at": "2021-01-03T00:53:15Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550939032",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550939032"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550939032"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550939032/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 50,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550939183",
    "pull_request_review_id": 560659956,
    "id": 550939183,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDkzOTE4Mw==",
    "diff_hunk": "@@ -259,6 +259,19 @@ std::shared_ptr<CWallet> CreateWallet(interfaces::Chain& chain, const std::strin\n         wallet_creation_flags |= WALLET_FLAG_BLANK_WALLET;\n     }\n \n+    // Private keys must be disabled for an external signer wallet\n+    if ((wallet_creation_flags & WALLET_FLAG_EXTERNAL_SIGNER) && !(wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        error = Untranslated(\"Private keys must be disabled when using an external signer\");\n+        status = DatabaseStatus::FAILED_CREATE;\n+        return nullptr;    }",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "a9cd63f8bccf0c7dffdf7ce1b907facf4c8a18aa",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`}` was probably not formated right by accident",
    "created_at": "2021-01-03T00:55:06Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550939183",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550939183"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r550939183"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550939183/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 266,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551020026",
    "pull_request_review_id": 560705454,
    "id": 551020026,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTAyMDAyNg==",
    "diff_hunk": "@@ -48,3 +48,18 @@ ExternalSigner ExternalSignerScriptPubKeyMan::GetExternalSigner() {\n #endif\n \n }\n+\n+bool ExternalSignerScriptPubKeyMan::DisplayAddress(const CScript scriptPubKey, const ExternalSigner &signer) const\n+{\n+#ifdef ENABLE_EXTERNAL_SIGNER",
    "path": "src/wallet/external_signer_scriptpubkeyman.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "68d9fa0afe3598bda99bd29e370a3c706305af24",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't think it compiles otherwise, because this calls an `ExternalSigner` function which needs boost::process",
    "created_at": "2021-01-03T15:31:26Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r551020026",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551020026"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r551020026"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551020026/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 52,
    "side": "RIGHT",
    "in_reply_to_id": 550932593
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551057734",
    "pull_request_review_id": 560727155,
    "id": 551057734,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTA1NzczNA==",
    "diff_hunk": "@@ -48,3 +48,18 @@ ExternalSigner ExternalSignerScriptPubKeyMan::GetExternalSigner() {\n #endif\n \n }\n+\n+bool ExternalSignerScriptPubKeyMan::DisplayAddress(const CScript scriptPubKey, const ExternalSigner &signer) const\n+{\n+#ifdef ENABLE_EXTERNAL_SIGNER",
    "path": "src/wallet/external_signer_scriptpubkeyman.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "68d9fa0afe3598bda99bd29e370a3c706305af24",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oh, that makes sense and I didn't think about that. Might be helpful to note that somewhere in a comment.",
    "created_at": "2021-01-03T21:41:13Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r551057734",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551057734"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r551057734"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551057734/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 52,
    "side": "RIGHT",
    "in_reply_to_id": 550932593
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555208596",
    "pull_request_review_id": 565570155,
    "id": 555208596,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTIwODU5Ng==",
    "diff_hunk": "@@ -250,10 +250,13 @@ BITCOIN_CORE_H = \\\n   wallet/crypter.h \\\n   wallet/db.h \\\n   wallet/dump.h \\\n+  wallet/externalsigner.h \\\n+  wallet/external_signer_scriptpubkeyman.h \\",
    "path": "src/Makefile.am",
    "position": 5,
    "original_position": 5,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "8aa7f0fead7049462a5763a8b02e56c9f30cefe8",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: I'd prefer these to be consistent in naming; either\r\n```\r\n  wallet/externalsigner.h \\\r\n  wallet/externalsigner_scriptpubkeyman.h \\\r\n```\r\nor\r\n```\r\n  wallet/external_signer.h \\\r\n  wallet/external_signer_scriptpubkeyman.h \\\r\n```\r\nI guess the former is most consistent with how things are done in other places.\r\n(same for the associated `.cpp`, of course).\r\n",
    "created_at": "2021-01-11T17:14:50Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r555208596",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555208596"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r555208596"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555208596/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 269,
    "original_line": 269,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555216258",
    "pull_request_review_id": 565579833,
    "id": 555216258,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTIxNjI1OA==",
    "diff_hunk": "@@ -4415,40 +4465,82 @@ void CWallet::ConnectScriptPubKeyManNotifiers()\n \n void CWallet::LoadDescriptorScriptPubKeyMan(uint256 id, WalletDescriptor& desc)\n {\n-    auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new DescriptorScriptPubKeyMan(*this, desc));\n-    m_spk_managers[id] = std::move(spk_manager);\n+    if (IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER)) {\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+        auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new ExternalSignerScriptPubKeyMan(*this, desc));\n+        m_spk_managers[id] = std::move(spk_manager);\n+#else\n+        throw std::runtime_error(std::string(__func__) + \": Wallets with external signers require Boost::System library.\");",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 102,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "8aa7f0fead7049462a5763a8b02e56c9f30cefe8",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Wouldn't it be better to mention `--enable-external-signer` configure flag in this error message instead of boost (which is just an implementation detail)?",
    "created_at": "2021-01-11T17:26:27Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r555216258",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555216258"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r555216258"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555216258/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4473,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555218279",
    "pull_request_review_id": 565582453,
    "id": 555218279,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTIxODI3OQ==",
    "diff_hunk": "@@ -829,6 +833,12 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n \n     std::vector<OutputGroup> GroupOutputs(const std::vector<COutput>& outputs, bool single_coin, const size_t max_ancestors) const;\n \n+#ifdef ENABLE_EXTERNAL_SIGNER\n+    ExternalSigner GetExternalSigner() EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n+#endif\n+    /* Display address on an external signer. Returns false if external signer support is not compiled */",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 43,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "8aa7f0fead7049462a5763a8b02e56c9f30cefe8",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Please use a doxygen compatible comment\r\n```c++\r\n/** Display address on an external signer. Returns false if external signer support is not compiled */\r\n```",
    "created_at": "2021-01-11T17:29:29Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r555218279",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555218279"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r555218279"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555218279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 839,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555222325",
    "pull_request_review_id": 565587581,
    "id": 555222325,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTIyMjMyNQ==",
    "diff_hunk": "@@ -0,0 +1,104 @@\n+// Copyright (c) 2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparamsbase.h>\n+#include <wallet/externalsigner.h>\n+#include <wallet/external_signer_scriptpubkeyman.h>\n+\n+bool ExternalSignerScriptPubKeyMan::SetupDescriptor(std::unique_ptr<Descriptor> desc)\n+{\n+    LOCK(cs_desc_man);\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS));\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER));\n+\n+    int64_t creation_time = GetTime();\n+\n+    // Make the descriptor\n+    WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n+    m_wallet_descriptor = w_desc;\n+\n+    // Store the descriptor\n+    WalletBatch batch(m_storage.GetDatabase());\n+    if (!batch.WriteDescriptor(GetID(), m_wallet_descriptor)) {\n+        throw std::runtime_error(std::string(__func__) + \": writing descriptor failed\");\n+    }\n+\n+    // TopUp\n+    TopUp();\n+\n+    m_storage.UnsetBlankWalletFlag(batch);\n+    return true;\n+}\n+\n+ExternalSigner ExternalSignerScriptPubKeyMan::GetExternalSigner() {",
    "path": "src/wallet/external_signer_scriptpubkeyman.cpp",
    "position": 36,
    "original_position": 34,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "8aa7f0fead7049462a5763a8b02e56c9f30cefe8",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Do you really want to construct a new instance every time and return by value here?\r\nThis function is called reasonably often (e.g. when signing, when displaying addresses).\r\nIt seems that these could be cached, and in that case a pointer (e.g. `std::shared_ptr`) would make more sense.\r\nBut not sure.",
    "created_at": "2021-01-11T17:35:54Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r555222325",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555222325"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r555222325"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555222325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 36,
    "original_line": 36,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555245004",
    "pull_request_review_id": 565616750,
    "id": 555245004,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTI0NTAwNA==",
    "diff_hunk": "@@ -0,0 +1,70 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_WALLET_EXTERNALSIGNER_H\n+#define BITCOIN_WALLET_EXTERNALSIGNER_H\n+\n+#include <stdexcept>\n+#include <string>\n+#include <univalue.h>\n+#include <util/system.h>\n+\n+struct PartiallySignedTransaction;\n+\n+class ExternalSignerException : public std::runtime_error {\n+public:\n+    using std::runtime_error::runtime_error;\n+};\n+\n+//! Enables interaction with an external signing device or service, such as\n+//! a hardware wallet. See doc/external-signer.md\n+class ExternalSigner\n+{\n+private:\n+    //! The command which handles interaction with the external signer.\n+    std::string m_command;\n+\n+public:\n+    //! @param[in] command      the command which handles interaction with the external signer\n+    //! @param[in] fingerprint  master key fingerprint of the signer\n+    //! @param[in] mainnet      Bitcoin mainnet or testnet\n+    ExternalSigner(const std::string& command, const std::string& fingerprint, bool mainnet, std::string name);\n+\n+    //! Master key fingerprint of the signer\n+    std::string m_fingerprint;\n+\n+    //! Bitcoin mainnet or testnet\n+    bool m_mainnet;\n+\n+    //! Name of signer\n+    std::string m_name;\n+\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+    //! Obtain a list of signers. Calls `<command> enumerate`.\n+    //! @param[in]              command the command which handles interaction with the external signer\n+    //! @param[in,out] signers  vector to which new signers (with a unique master key fingerprint) are added\n+    //! @param mainnet          Bitcoin mainnet or testnet\n+    //! @param[out] success     Boolean\n+    static bool Enumerate(const std::string& command, std::vector<ExternalSigner>& signers, bool mainnet = true, bool ignore_errors = false);\n+\n+    //! Display address on the device. Calls `<command> displayaddress --desc <descriptor>`.\n+    //! @param[in] descriptor Descriptor specifying which address to display.\n+    //!            Must include a public key or xpub, as well as key origin.\n+    UniValue displayAddress(const std::string& descriptor) const;",
    "path": "src/wallet/externalsigner.h",
    "position": null,
    "original_position": 54,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "8aa7f0fead7049462a5763a8b02e56c9f30cefe8",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Please start the method names with a capital letter here like in other classes.",
    "created_at": "2021-01-11T18:13:18Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r555245004",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555245004"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r555245004"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555245004/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 54,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555248451",
    "pull_request_review_id": 565621217,
    "id": 555248451,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTI0ODQ1MQ==",
    "diff_hunk": "@@ -0,0 +1,70 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_WALLET_EXTERNALSIGNER_H\n+#define BITCOIN_WALLET_EXTERNALSIGNER_H\n+\n+#include <stdexcept>\n+#include <string>\n+#include <univalue.h>\n+#include <util/system.h>\n+\n+struct PartiallySignedTransaction;\n+\n+class ExternalSignerException : public std::runtime_error {\n+public:\n+    using std::runtime_error::runtime_error;\n+};\n+\n+//! Enables interaction with an external signing device or service, such as\n+//! a hardware wallet. See doc/external-signer.md\n+class ExternalSigner\n+{\n+private:\n+    //! The command which handles interaction with the external signer.\n+    std::string m_command;\n+\n+public:\n+    //! @param[in] command      the command which handles interaction with the external signer\n+    //! @param[in] fingerprint  master key fingerprint of the signer\n+    //! @param[in] mainnet      Bitcoin mainnet or testnet\n+    ExternalSigner(const std::string& command, const std::string& fingerprint, bool mainnet, std::string name);\n+\n+    //! Master key fingerprint of the signer\n+    std::string m_fingerprint;\n+\n+    //! Bitcoin mainnet or testnet\n+    bool m_mainnet;",
    "path": "src/wallet/externalsigner.h",
    "position": null,
    "original_position": 38,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "8aa7f0fead7049462a5763a8b02e56c9f30cefe8",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is a bool enough here? E.g. what if someone wants to use external signers on signet, regtest? Or are those all \"testnet\" in this description?",
    "created_at": "2021-01-11T18:19:21Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r555248451",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555248451"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r555248451"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555248451/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 38,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555698715",
    "pull_request_review_id": 566173712,
    "id": 555698715,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTY5ODcxNQ==",
    "diff_hunk": "@@ -0,0 +1,70 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_WALLET_EXTERNALSIGNER_H\n+#define BITCOIN_WALLET_EXTERNALSIGNER_H\n+\n+#include <stdexcept>\n+#include <string>\n+#include <univalue.h>\n+#include <util/system.h>\n+\n+struct PartiallySignedTransaction;\n+\n+class ExternalSignerException : public std::runtime_error {\n+public:\n+    using std::runtime_error::runtime_error;\n+};\n+\n+//! Enables interaction with an external signing device or service, such as\n+//! a hardware wallet. See doc/external-signer.md\n+class ExternalSigner\n+{\n+private:\n+    //! The command which handles interaction with the external signer.\n+    std::string m_command;\n+\n+public:\n+    //! @param[in] command      the command which handles interaction with the external signer\n+    //! @param[in] fingerprint  master key fingerprint of the signer\n+    //! @param[in] mainnet      Bitcoin mainnet or testnet\n+    ExternalSigner(const std::string& command, const std::string& fingerprint, bool mainnet, std::string name);\n+\n+    //! Master key fingerprint of the signer\n+    std::string m_fingerprint;\n+\n+    //! Bitcoin mainnet or testnet\n+    bool m_mainnet;",
    "path": "src/wallet/externalsigner.h",
    "position": null,
    "original_position": 38,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "8aa7f0fead7049462a5763a8b02e56c9f30cefe8",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I should update the comment, but yes: signet, testnet and regtest use the same address format, which is the only thing that seems to matter when using hardware wallets (at the least the devices I've worked with). They don't even have their own BIP44/49/81 coin types.",
    "created_at": "2021-01-12T11:22:03Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r555698715",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555698715"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r555698715"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555698715/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 38,
    "side": "RIGHT",
    "in_reply_to_id": 555248451
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562741033",
    "pull_request_review_id": 574405666,
    "id": 562741033,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2Mjc0MTAzMw==",
    "diff_hunk": "@@ -517,8 +517,6 @@ class LegacySigningProvider : public SigningProvider\n class DescriptorScriptPubKeyMan : public ScriptPubKeyMan\n {\n private:\n-    WalletDescriptor m_wallet_descriptor GUARDED_BY(cs_desc_man);",
    "path": "src/wallet/scriptpubkeyman.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "4bd42a528ebe65eedddac4bbeec41b2cfbeaa2eb",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It's not removed: I moved it from `private` to `protected`.",
    "created_at": "2021-01-22T16:14:15Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r562741033",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562741033"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r562741033"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562741033/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 520,
    "original_line": 520,
    "side": "LEFT",
    "in_reply_to_id": 550931095
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562743914",
    "pull_request_review_id": 574409440,
    "id": 562743914,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2Mjc0MzkxNA==",
    "diff_hunk": "@@ -58,6 +59,41 @@ static RPCHelpMan enumeratesigners()\n     };\n }\n \n+static RPCHelpMan signerdisplayaddress()\n+{\n+    return RPCHelpMan{\n+        \"signerdisplayaddress\",\n+        \"Display address on an external signer for verification.\\n\",\n+        {\n+            {\"address\",     RPCArg::Type::STR, RPCArg::Optional::NO, /* default_val */ \"\", \"bitcoin address to display\"},\n+        },\n+        RPCResult{RPCResult::Type::NONE,\"\",\"\"},\n+        RPCExamples{\"\"},\n+        [](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {\n+            std::shared_ptr<CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n+            CWallet* const pwallet = wallet.get();\n+\n+            if (!wallet) return NullUniValue;",
    "path": "src/wallet/rpcsigner.cpp",
    "position": 73,
    "original_position": 26,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "68d9fa0afe3598bda99bd29e370a3c706305af24",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oops",
    "created_at": "2021-01-22T16:18:34Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r562743914",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562743914"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r562743914"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562743914/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 73,
    "original_line": 73,
    "side": "RIGHT",
    "in_reply_to_id": 550933091
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562745212",
    "pull_request_review_id": 574411116,
    "id": 562745212,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2Mjc0NTIxMg==",
    "diff_hunk": "@@ -1320,8 +1333,8 @@ AX_BOOST_SYSTEM\n AX_BOOST_FILESYSTEM\n AX_BOOST_THREAD\n \n-dnl Opt-in to boost-process\n-AS_IF([ test x$with_boost_process != x ], [ AX_BOOST_PROCESS ], [ ax_cv_boost_process=no ] )\n+dnl Opt-in to boost-process, unless external signer support is requested",
    "path": "configure.ac",
    "position": null,
    "original_position": 33,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "1fb4b8a60b5108b6061b8cbfa6ad7631e2277bd6",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In this PR you have to use `--with-boost-process` in order to enable external signer support. So it's opt-in. But in the GUI followup that's flipped _if_ you have GUI enabled.\r\n\r\nAlternatively you can use `--with-external-signer` which implies `--with-boost-process` and fails if Boost::Process is missing.",
    "created_at": "2021-01-22T16:20:23Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r562745212",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562745212"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r562745212"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562745212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1404,
    "side": "RIGHT",
    "in_reply_to_id": 550934798
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562747796",
    "pull_request_review_id": 574414752,
    "id": 562747796,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2Mjc0Nzc5Ng==",
    "diff_hunk": "@@ -0,0 +1,53 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test external signer.\n+\n+Verify that a bitcoind node can use an external signer command\n+\"\"\"\n+import os\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+\n+class SignerTest(BitcoinTestFramework):\n+    def mock_signer_path(self):\n+        path = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'mocks', 'signer.py')\n+        if platform.system() == \"Windows\":\n+            return \"py \" + path\n+        else:\n+            return path\n+\n+    def set_test_params(self):\n+        self.num_nodes = 3\n+\n+        self.extra_args = [\n+            [],\n+            ['-signer=%s' % self.mock_signer_path()],\n+            ['-signer=%s' % \"fake.py\"],\n+        ]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_external_signer()\n+\n+    def set_mock_result(self, node, res):\n+        f = open(os.path.join(node.cwd, \"mock_result\"), \"w\", encoding=\"utf8\")\n+        f.write(res)\n+        f.close()\n+\n+    def clear_mock_result(self, node):\n+        os.remove(os.path.join(node.cwd, \"mock_result\"))\n+\n+    def run_test(self):\n+        self.log.info('-signer=%s' % self.mock_signer_path())\n+        assert_equal(self.nodes[0].getbalance(), 1250)",
    "path": "test/functional/wallet_signer.py",
    "position": null,
    "original_position": 50,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "0f6ff74efcacbc60a8b978381821eda7514e58d7",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I dropped the balance sanity check and demoted the signer path to `debug`.",
    "created_at": "2021-01-22T16:24:34Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r562747796",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562747796"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r562747796"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562747796/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 50,
    "side": "RIGHT",
    "in_reply_to_id": 550939032
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562752425",
    "pull_request_review_id": 574420917,
    "id": 562752425,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2Mjc1MjQyNQ==",
    "diff_hunk": "@@ -250,10 +250,13 @@ BITCOIN_CORE_H = \\\n   wallet/crypter.h \\\n   wallet/db.h \\\n   wallet/dump.h \\\n+  wallet/externalsigner.h \\\n+  wallet/external_signer_scriptpubkeyman.h \\",
    "path": "src/Makefile.am",
    "position": 5,
    "original_position": 5,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "8aa7f0fead7049462a5763a8b02e56c9f30cefe8",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'll go for the second option, because it's more readable. I renamed it in a separate commit to avoid rebase hell.",
    "created_at": "2021-01-22T16:31:43Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r562752425",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562752425"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r562752425"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562752425/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 269,
    "original_line": 269,
    "side": "RIGHT",
    "in_reply_to_id": 555208596
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562762406",
    "pull_request_review_id": 574434013,
    "id": 562762406,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2Mjc2MjQwNg==",
    "diff_hunk": "@@ -0,0 +1,104 @@\n+// Copyright (c) 2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparamsbase.h>\n+#include <wallet/externalsigner.h>\n+#include <wallet/external_signer_scriptpubkeyman.h>\n+\n+bool ExternalSignerScriptPubKeyMan::SetupDescriptor(std::unique_ptr<Descriptor> desc)\n+{\n+    LOCK(cs_desc_man);\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS));\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER));\n+\n+    int64_t creation_time = GetTime();\n+\n+    // Make the descriptor\n+    WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n+    m_wallet_descriptor = w_desc;\n+\n+    // Store the descriptor\n+    WalletBatch batch(m_storage.GetDatabase());\n+    if (!batch.WriteDescriptor(GetID(), m_wallet_descriptor)) {\n+        throw std::runtime_error(std::string(__func__) + \": writing descriptor failed\");\n+    }\n+\n+    // TopUp\n+    TopUp();\n+\n+    m_storage.UnsetBlankWalletFlag(batch);\n+    return true;\n+}\n+\n+ExternalSigner ExternalSignerScriptPubKeyMan::GetExternalSigner() {",
    "path": "src/wallet/external_signer_scriptpubkeyman.cpp",
    "position": 36,
    "original_position": 34,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "8aa7f0fead7049462a5763a8b02e56c9f30cefe8",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "My guess would be that this is negligible compared to the slow USB communication and sluggish hardware wallets in general. I might leave that for someone else to improve.",
    "created_at": "2021-01-22T16:47:02Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r562762406",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562762406"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r562762406"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562762406/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 36,
    "original_line": 36,
    "side": "RIGHT",
    "in_reply_to_id": 555222325
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566325888",
    "pull_request_review_id": 578635931,
    "id": 566325888,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjMyNTg4OA==",
    "diff_hunk": "@@ -4548,7 +4558,7 @@ static const CRPCCommand commands[] =\n     { \"wallet\",             \"backupwallet\",                     &backupwallet,                  {\"destination\"} },\n     { \"wallet\",             \"bumpfee\",                          &bumpfee,                       {\"txid\", \"options\"} },\n     { \"wallet\",             \"psbtbumpfee\",                      &psbtbumpfee,                   {\"txid\", \"options\"} },\n-    { \"wallet\",             \"createwallet\",                     &createwallet,                  {\"wallet_name\", \"disable_private_keys\", \"blank\", \"passphrase\", \"avoid_reuse\", \"descriptors\", \"load_on_startup\"} },\n+    { \"wallet\",             \"createwallet\",                     &createwallet,                  {\"wallet_name\", \"disable_private_keys\", \"blank\", \"passphrase\", \"avoid_reuse\", \"descriptors\", \"load_on_startup\", \"external_signer\"} },",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 40,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "77742c4fc347b8ea17b87bf3752d21bda51abcc7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "can remove this diff, and then rebase",
    "created_at": "2021-01-28T18:44:05Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r566325888",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566325888"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r566325888"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/566325888/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4561,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572318711",
    "pull_request_review_id": 585856208,
    "id": 572318711,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjMxODcxMQ==",
    "diff_hunk": "@@ -53,6 +53,9 @@\n /* define if the Boost::Process library is available */\n #define HAVE_BOOST_PROCESS /**/\n \n+/* define if external signer support is enabled (requires Boost::Process) */\n+#define ENABLE_EXTERNAL_SIGNER 1 /**/",
    "path": "build_msvc/bitcoin_config.h",
    "position": null,
    "original_position": 5,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "235445a431c6146bb194761335761fa423469ac0",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 235445a431c6146bb194761335761fa423469ac0 \"msvc: define ENABLE_EXTERNAL_SIGNER\"\r\n\r\nSince this is supposed to be defaults, I don't think you should have `1` there. It should be like `HAVE_BOOST_PROCESS` right above.",
    "created_at": "2021-02-08T19:39:43Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572318711",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572318711"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572318711"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572318711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 57,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572323513",
    "pull_request_review_id": 585856208,
    "id": 572323513,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjMyMzUxMw==",
    "diff_hunk": "@@ -38,6 +38,9 @@ void DummyWalletInit::AddWalletOptions(ArgsManager& argsman) const\n         \"-paytxfee=<amt>\",\n         \"-rescan\",\n         \"-salvagewallet\",\n+#ifdef ENABLE_EXTERNAL_SIGNER",
    "path": "src/dummywallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "1425e784279cee4a04bf186990dcb8669af0bd01",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 1425e784279cee4a04bf186990dcb8669af0bd01 \"wallet: add -signer argument for external signer command\"\r\n\r\nHaving `-signer` in the hidden options does not require it to be guarded like this.",
    "created_at": "2021-02-08T19:47:28Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572323513",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572323513"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572323513"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572323513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 41,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572325164",
    "pull_request_review_id": 585856208,
    "id": 572325164,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjMyNTE2NA==",
    "diff_hunk": "@@ -0,0 +1,8 @@\n+// Copyright (c) 2018-2021 The Bitcoin Core developers",
    "path": "src/wallet/externalsigner.cpp",
    "position": null,
    "original_position": 1,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "1425e784279cee4a04bf186990dcb8669af0bd01",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 1425e784279cee4a04bf186990dcb8669af0bd01 \"wallet: add -signer argument for external signer command\"\r\n\r\nShould just be `2021` here and elsewhere?",
    "created_at": "2021-02-08T19:50:07Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572325164",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572325164"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572325164"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572325164/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572332070",
    "pull_request_review_id": 585856208,
    "id": 572332070,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjMzMjA3MA==",
    "diff_hunk": "@@ -0,0 +1,26 @@\n+// Copyright (c) 2019-2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_WALLET_EXTERNAL_SIGNER_SCRIPTPUBKEYMAN_H\n+#define BITCOIN_WALLET_EXTERNAL_SIGNER_SCRIPTPUBKEYMAN_H\n+\n+#include <wallet/scriptpubkeyman.h>\n+\n+class ExternalSignerScriptPubKeyMan : public DescriptorScriptPubKeyMan\n+{\n+  public:\n+  ExternalSignerScriptPubKeyMan(WalletStorage& storage, WalletDescriptor& descriptor)\n+      :   DescriptorScriptPubKeyMan(storage, descriptor)\n+      {}\n+  ExternalSignerScriptPubKeyMan(WalletStorage& storage, bool internal)\n+      :   DescriptorScriptPubKeyMan(storage, internal)\n+      {}\n+\n+  /** Provide a descriptor at setup time\n+  * Returns false if already setup or setup fails, true if setup is successful\n+  */\n+  bool SetupDescriptor(std::unique_ptr<Descriptor>desc);",
    "path": "src/wallet/external_signer_scriptpubkeyman.h",
    "position": 24,
    "original_position": 23,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "54cfea82c85bcbcef012922ad78dcb3ba3ae1c6e",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 54cfea82c85bcbcef012922ad78dcb3ba3ae1c6e \"wallet: add ExternalSignerScriptPubKeyMan\"\r\n\r\nShould be\r\n\r\n```suggestion\r\n  bool SetupDescriptor(std::unique_ptr<Descriptor> desc);\r\n```",
    "created_at": "2021-02-08T20:00:53Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572332070",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572332070"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572332070"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572332070/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 24,
    "original_line": 24,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572334983",
    "pull_request_review_id": 585856208,
    "id": 572334983,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjMzNDk4Mw==",
    "diff_hunk": "@@ -4428,8 +4429,17 @@ void CWallet::ConnectScriptPubKeyManNotifiers()\n \n void CWallet::LoadDescriptorScriptPubKeyMan(uint256 id, WalletDescriptor& desc)\n {\n-    auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new DescriptorScriptPubKeyMan(*this, desc));\n-    m_spk_managers[id] = std::move(spk_manager);\n+    if (IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER)) {",
    "path": "src/wallet/wallet.cpp",
    "position": 96,
    "original_position": 14,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "54cfea82c85bcbcef012922ad78dcb3ba3ae1c6e",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 54cfea82c85bcbcef012922ad78dcb3ba3ae1c6e \"wallet: add ExternalSignerScriptPubKeyMan\"\r\n\r\nThis is not necessarily going to work since it is possible we read (and thus load) a descriptor before we read and load the wallet flags.\r\n\r\nWe really should always be loading in the flags first (right after `minversion`) before reading the rest of the records in the db.",
    "created_at": "2021-02-08T20:05:55Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572334983",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572334983"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572334983"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572334983/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4495,
    "original_line": 4495,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572342189",
    "pull_request_review_id": 585856208,
    "id": 572342189,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjM0MjE4OQ==",
    "diff_hunk": "@@ -105,10 +105,13 @@ def test_categories(self):\n         if self.is_wallet_compiled():\n             components.append('Wallet')\n \n+        if self.is_external_signer_compiled():\n+            components.append('Signer')",
    "path": "test/functional/rpc_help.py",
    "position": 5,
    "original_position": 5,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "2352f3ec13e1d819e140e061f3d7927a20387cbe",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 2352f3ec13e1d819e140e061f3d7927a20387cbe \"rpc: add external signer RPC files\"\r\n\r\nMove this above to avoid `sorted` below?",
    "created_at": "2021-02-08T20:17:12Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572342189",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572342189"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572342189"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572342189/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 109,
    "original_line": 109,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572345061",
    "pull_request_review_id": 585856208,
    "id": 572345061,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjM0NTA2MQ==",
    "diff_hunk": "@@ -0,0 +1,70 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_WALLET_EXTERNALSIGNER_H\n+#define BITCOIN_WALLET_EXTERNALSIGNER_H\n+\n+#include <stdexcept>\n+#include <string>\n+#include <univalue.h>\n+#include <util/system.h>\n+\n+struct PartiallySignedTransaction;\n+\n+class ExternalSignerException : public std::runtime_error {\n+public:\n+    using std::runtime_error::runtime_error;\n+};\n+\n+//! Enables interaction with an external signing device or service, such as\n+//! a hardware wallet. See doc/external-signer.md\n+class ExternalSigner\n+{\n+private:\n+    //! The command which handles interaction with the external signer.\n+    std::string m_command;\n+\n+public:\n+    //! @param[in] command      the command which handles interaction with the external signer\n+    //! @param[in] fingerprint  master key fingerprint of the signer\n+    //! @param[in] mainnet      Bitcoin mainnet or testnet\n+    ExternalSigner(const std::string& command, const std::string& fingerprint, bool mainnet, std::string name);\n+\n+    //! Master key fingerprint of the signer\n+    std::string m_fingerprint;\n+\n+    //! Bitcoin mainnet or testnet\n+    bool m_mainnet;",
    "path": "src/wallet/externalsigner.h",
    "position": null,
    "original_position": 38,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "8aa7f0fead7049462a5763a8b02e56c9f30cefe8",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "For at least testnet and regtest, the bech32 address format is different.\r\n\r\nBut also, HWI only has mainnet and testnet so maybe just a bool is fine?",
    "created_at": "2021-02-08T20:21:56Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572345061",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572345061"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572345061"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572345061/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 38,
    "side": "RIGHT",
    "in_reply_to_id": 555248451
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572345219",
    "pull_request_review_id": 585856208,
    "id": 572345219,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjM0NTIxOQ==",
    "diff_hunk": "@@ -25,10 +26,27 @@ class ExternalSigner\n public:\n     //! @param[in] command      the command which handles interaction with the external signer\n     //! @param[in] fingerprint  master key fingerprint of the signer\n-    ExternalSigner(const std::string& command, const std::string& fingerprint);\n+    //! @param[in] mainnet      Bitcoin mainnet (as opposed to regtest, testnet and signet)\n+    ExternalSigner(const std::string& command, const std::string& fingerprint, bool mainnet, std::string name);",
    "path": "src/wallet/externalsigner.h",
    "position": null,
    "original_position": 14,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "9e0d6e145ca150f8e992a92558de4d0e5cd94dab",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 9e0d6e145ca150f8e992a92558de4d0e5cd94dab \"rpc: signer: add enumeratesigners to list external signers\"\r\n\r\nNeed docstring for `name`.",
    "created_at": "2021-02-08T20:22:11Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572345219",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572345219"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572345219"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572345219/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 30,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572353117",
    "pull_request_review_id": 585856208,
    "id": 572353117,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjM1MzExNw==",
    "diff_hunk": "@@ -2,36 +2,70 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n+#include <chainparamsbase.h>\n #include <rpc/server.h>\n+#include <rpc/util.h>\n #include <util/strencodings.h>\n #include <wallet/rpcsigner.h>\n+#include <wallet/rpcwallet.h>\n #include <wallet/wallet.h>\n \n #ifdef ENABLE_EXTERNAL_SIGNER\n \n-// CRPCCommand table won't compile with an empty array\n-static RPCHelpMan dummy()\n+static RPCHelpMan enumeratesigners()\n {\n-    return RPCHelpMan{\"dummy\",\n-                \"\\nDoes nothing.\\n\"\n-                \"\",\n-                {},\n-                RPCResult{RPCResult::Type::NONE, \"\", \"\"},\n-                RPCExamples{\"\"},\n-        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n-{\n-    return NullUniValue;\n-},\n+    return RPCHelpMan{\n+        \"enumeratesigners\",\n+        \"Returns a list of external signers from -signer.\",\n+        {},\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::ARR, \"signers\", /* optional */ false, \"\",\n+                {\n+                    {RPCResult::Type::STR_HEX, \"masterkeyfingerprint\", \"Master key fingerprint\"},\n+                    {RPCResult::Type::STR, \"name\", \"Device name\"},\n+                },\n+                }\n+            }\n+        },\n+        RPCExamples{\"\"},\n+        [](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {\n+            std::shared_ptr<CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n+            if (!wallet) return NullUniValue;\n+\n+            const std::string command = gArgs.GetArg(\"-signer\", DEFAULT_EXTERNAL_SIGNER);\n+            if (command == \"\") throw JSONRPCError(RPC_WALLET_ERROR, \"Error: restart bitcoind with -signer=<cmd>\");\n+            std::string chain = gArgs.GetChainName();\n+            const bool mainnet = chain == CBaseChainParams::MAIN;",
    "path": "src/wallet/rpcsigner.cpp",
    "position": null,
    "original_position": 51,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "9e0d6e145ca150f8e992a92558de4d0e5cd94dab",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 9e0d6e145ca150f8e992a92558de4d0e5cd94dab \"rpc: signer: add enumeratesigners to list external signers\"\r\n\r\nIt's probably better to use `Params().IsTestChain` rather than checking `gArgs` and doing a string comparison.\r\n\r\n```suggestion\r\n            const bool mainnet = !Params().IsTestChain()\r\n```",
    "created_at": "2021-02-08T20:35:48Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572353117",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572353117"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572353117"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572353117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 39,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 40,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572357930",
    "pull_request_review_id": 585856208,
    "id": 572357930,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjM1NzkzMA==",
    "diff_hunk": "@@ -0,0 +1,32 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+import os\n+import sys\n+import argparse\n+import json\n+\n+def perform_pre_checks():\n+    mock_result_path = os.path.join(os.getcwd(), \"mock_result\")\n+    if(os.path.isfile(mock_result_path)):\n+        f = open(mock_result_path, \"r\", encoding=\"utf8\")\n+        mock_result = f.read()\n+        f.close()\n+        if mock_result[0]:\n+            sys.stdout.write(mock_result[2:])\n+            sys.exit(int(mock_result[0]))\n+\n+parser = argparse.ArgumentParser(prog='./signer.py', description='External signer mock')\n+subparsers = parser.add_subparsers()\n+\n+if len(sys.argv) == 1:\n+  args = parser.parse_args(['-h'])\n+  exit()",
    "path": "test/functional/mocks/signer.py",
    "position": null,
    "original_position": 26,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "2926553d26e2f15e7986a73f6ee678112ab8ab7f",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 2926553d26e2f15e7986a73f6ee678112ab8ab7f \"test: add external signer test\"\r\n\r\n`argparse` already has a way to force a subparser command to be provided.\r\n\r\n```suggestion\r\nsubparsers = parser.add_subparsers(description='Commands', dest='command')\r\nsubparsers.required = True\r\n```",
    "created_at": "2021-02-08T20:43:25Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572357930",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572357930"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572357930"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572357930/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 22,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 26,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572360987",
    "pull_request_review_id": 585856208,
    "id": 572360987,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjM2MDk4Nw==",
    "diff_hunk": "@@ -3583,6 +3583,21 @@ void ReserveDestination::ReturnDestination()\n     address = CNoDestination();\n }\n \n+#ifdef ENABLE_EXTERNAL_SIGNER\n+ExternalSigner CWallet::GetExternalSigner() {\n+    const std::string command = gArgs.GetArg(\"-signer\", DEFAULT_EXTERNAL_SIGNER);\n+    if (command == \"\") throw std::runtime_error(std::string(__func__) + \": restart bitcoind with -signer=<cmd>\");\n+\n+    std::string chain = gArgs.GetChainName();\n+    const bool mainnet = chain == CBaseChainParams::MAIN;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "3fdaea28fc9befb77caa8c1fd1f5f61c577eabe6",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 3fdaea28fc9befb77caa8c1fd1f5f61c577eabe6 \"wallet: add GetExternalSigner()\"\r\n\r\nUse `Params().IsTestChain` rather than checking `gArgs` and doing a string comparison.\r\n\r\n```suggestion\r\n    const bool mainnet = !Params().IsTestChain()\r\n```",
    "created_at": "2021-02-08T20:48:21Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572360987",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572360987"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572360987"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572360987/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 3591,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 3592,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572362580",
    "pull_request_review_id": 585856208,
    "id": 572362580,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjM2MjU4MA==",
    "diff_hunk": "@@ -51,7 +51,7 @@ bool ExternalSigner::Enumerate(const std::string& command, std::vector<ExternalS\n \n UniValue ExternalSigner::GetDescriptors(int account)\n {\n-    return runCommandParseJSON(m_command + \" --fingerprint \\\"\" + m_fingerprint + \"\\\"\" + (m_mainnet ? \"\" : \" --testnet \") + \" getdescriptors --account \" + strprintf(\"%d\", account));\n+    return RunCommandParseJSON(m_command + \" --fingerprint \\\"\" + m_fingerprint + \"\\\"\" + (m_mainnet ? \"\" : \" --testnet \") + \" getdescriptors --account \" + strprintf(\"%d\", account));",
    "path": "src/wallet/externalsigner.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "6e0a04004c2ea6266b912fa520340188bf930967",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 6e0a04004c2ea6266b912fa520340188bf930967 \"wallet: fetch keys from external signer upon creation\"\r\n\r\nThis change should be squashed into 1c8e9ad70c858dc0cbaa2b6b3b92f67dc8b002d0",
    "created_at": "2021-02-08T20:50:54Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572362580",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572362580"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572362580"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572362580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 54,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572368905",
    "pull_request_review_id": 585856208,
    "id": 572368905,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjM2ODkwNQ==",
    "diff_hunk": "@@ -63,3 +63,42 @@ bool ExternalSignerScriptPubKeyMan::DisplayAddress(const CScript scriptPubKey, c\n     return false;\n #endif\n }\n+\n+// If sign is true, transaction must previously have been filled\n+TransactionError ExternalSignerScriptPubKeyMan::FillPSBT(PartiallySignedTransaction& psbt, int sighash_type, bool sign, bool bip32derivs, int* n_signed) const\n+{\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+    if (!sign) {\n+        return DescriptorScriptPubKeyMan::FillPSBT(psbt, sighash_type, false, bip32derivs, n_signed);\n+    }\n+\n+    // Already complete if every input is now signed\n+    bool complete = true;\n+    for (const auto& input : psbt.inputs) {\n+        // TODO: for multisig wallets, we should only care if all _our_ inputs are signed\n+        complete &= PSBTInputSigned(input);\n+    }\n+    if (complete) return TransactionError::OK;\n+\n+    const std::string command = gArgs.GetArg(\"-signer\", \"\"); // DEFAULT_EXTERNAL_SIGNER);\n+    if (command == \"\") throw std::runtime_error(std::string(__func__) + \": restart bitcoind with -signer=<cmd>\");\n+\n+    std::string chain = gArgs.GetChainName();\n+    const bool mainnet = chain == CBaseChainParams::MAIN;\n+    std::vector<ExternalSigner> signers;\n+    ExternalSigner::Enumerate(command, signers, mainnet);\n+    if (signers.empty()) return TransactionError::EXTERNAL_SIGNER_NOT_FOUND;\n+    // TODO: add fingerprint argument in case of multiple signers\n+    ExternalSigner signer = signers[0];",
    "path": "src/wallet/external_signer_scriptpubkeyman.cpp",
    "position": null,
    "original_position": 30,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "57b26f44b9109eb0c366adeb54bf5ebfc816b45e",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 57b26f44b9109eb0c366adeb54bf5ebfc816b45e \"rpc: send: support external signer\"\r\n\r\nPerhaps use `GetExternalSigner()` instead of duplicate code?",
    "created_at": "2021-02-08T21:01:36Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572368905",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572368905"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572368905"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572368905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 86,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 92,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572370566",
    "pull_request_review_id": 585856208,
    "id": 572370566,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjM3MDU2Ng==",
    "diff_hunk": "@@ -52,8 +52,25 @@ def displayaddress(args):\n \n     return sys.stdout.write(json.dumps({\"address\": \"bcrt1qm90ugl4d48jv8n6e5t9ln6t9zlpm5th68x4f8g\"}))\n \n+def signtx(args):\n+    if args.fingerprint != \"00000001\":\n+        return sys.stdout.write(json.dumps({\"error\": \"Unexpected fingerprint\", \"fingerprint\": args.fingerprint}))\n+\n+    f = open(os.path.join(os.getcwd(), \"mock_psbt\"), \"r\")\n+    mock_psbt = f.read()\n+    f.close()",
    "path": "test/functional/mocks/signer.py",
    "position": null,
    "original_position": 10,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "57b26f44b9109eb0c366adeb54bf5ebfc816b45e",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 57b26f44b9109eb0c366adeb54bf5ebfc816b45e \"rpc: send: support external signer\"\r\n\r\nUse `with`\r\n\r\n```suggestion\r\n    with open(os.path.join(os.getcwd(), \"mock_psbt\"), \"r\") as f:\r\n         mock_psbt = f.read()\r\n```",
    "created_at": "2021-02-08T21:04:45Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572370566",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572370566"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572370566"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572370566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 59,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 61,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572372372",
    "pull_request_review_id": 585856208,
    "id": 572372372,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjM3MjM3Mg==",
    "diff_hunk": "@@ -134,5 +135,85 @@ def run_test(self):\n         )\n         self.clear_mock_result(self.nodes[1])\n \n+        self.log.info('Prepare mock PSBT')\n+        self.nodes[0].sendtoaddress(address1, 1)\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # Load private key into wallet to generate a signed PSBT for the mock\n+        self.nodes[1].createwallet(wallet_name=\"mock\", disable_private_keys=False, blank=True, descriptors=True)\n+        mock_wallet = self.nodes[1].get_wallet_rpc(\"mock\")\n+        assert mock_wallet.getwalletinfo()['private_keys_enabled']\n+\n+        result = mock_wallet.importdescriptors([{\n+            \"desc\": \"wpkh([00000001/84'/1'/0']tprv8ZgxMBicQKsPd7Uf69XL1XwhmjHopUGep8GuEiJDZmbQz6o58LninorQAfcKZWARbtRtfnLcJ5MQ2AtHcQJCCRUcMRvmDUjyEmNUWwx8UbK/0/*)#rweraev0\",\n+            \"timestamp\": 0,\n+            \"range\": [0,1],\n+            \"internal\": False,\n+            \"active\": True\n+        },\n+        {\n+            \"desc\": \"wpkh([00000001/84'/1'/0']tprv8ZgxMBicQKsPd7Uf69XL1XwhmjHopUGep8GuEiJDZmbQz6o58LninorQAfcKZWARbtRtfnLcJ5MQ2AtHcQJCCRUcMRvmDUjyEmNUWwx8UbK/1/*)#j6uzqvuh\",\n+            \"timestamp\": 0,\n+            \"range\": [0, 0],\n+            \"internal\": True,\n+            \"active\": True\n+        }])\n+        assert_equal(result[0], {'success': True})\n+        assert_equal(result[1], {'success': True})\n+        assert_equal(mock_wallet.getwalletinfo()[\"txcount\"], 1)\n+        dest = self.nodes[0].getnewaddress(address_type='bech32')\n+        mock_psbt = mock_wallet.walletcreatefundedpsbt([], {dest:0.5}, 0, {}, True)['psbt']\n+        mock_psbt_signed = mock_wallet.walletprocesspsbt(psbt=mock_psbt, sign=True, sighashtype=\"ALL\", bip32derivs=True)\n+        mock_psbt_final = mock_wallet.finalizepsbt(mock_psbt_signed[\"psbt\"])\n+        mock_tx = mock_psbt_final[\"hex\"]\n+        assert(mock_wallet.testmempoolaccept([mock_tx])[0][\"allowed\"])\n+\n+        # # Create a new wallet and populate with specific public keys, in order\n+        # # to work with the mock signed PSBT.\n+        # self.nodes[1].createwallet(wallet_name=\"hww4\", disable_private_keys=True, descriptors=True, external_signer=True)\n+        # hww4 = self.nodes[1].get_wallet_rpc(\"hww4\")\n+        #\n+        # descriptors = [{\n+        #     \"desc\": \"wpkh([00000001/84'/1'/0']tpubD6NzVbkrYhZ4WaWSyoBvQwbpLkojyoTZPRsgXELWz3Popb3qkjcJyJUGLnL4qHHoQvao8ESaAstxYSnhyswJ76uZPStJRJCTKvosUCJZL5B/0/*)#x30uthjs\",\n+        #     \"timestamp\": \"now\",\n+        #     \"range\": [0, 1],\n+        #     \"internal\": False,\n+        #     \"watchonly\": True,\n+        #     \"active\": True\n+        # },\n+        # {\n+        #     \"desc\": \"wpkh([00000001/84'/1'/0']tpubD6NzVbkrYhZ4WaWSyoBvQwbpLkojyoTZPRsgXELWz3Popb3qkjcJyJUGLnL4qHHoQvao8ESaAstxYSnhyswJ76uZPStJRJCTKvosUCJZL5B/1/*)#h92akzzg\",\n+        #     \"timestamp\": \"now\",\n+        #     \"range\": [0, 0],\n+        #     \"internal\": True,\n+        #     \"watchonly\": True,\n+        #     \"active\": True\n+        # }]\n+\n+        # result = hww4.importdescriptors(descriptors)\n+        # assert_equal(result[0], {'success': True})\n+        # assert_equal(result[1], {'success': True})\n+        assert_equal(hww.getwalletinfo()[\"txcount\"], 1)\n+\n+        assert(hww.testmempoolaccept([mock_tx])[0][\"allowed\"])\n+\n+        f = open(os.path.join(self.nodes[1].cwd, \"mock_psbt\"), \"w\")\n+        f.write(mock_psbt_signed[\"psbt\"])\n+        f.close()",
    "path": "test/functional/wallet_signer.py",
    "position": null,
    "original_position": 102,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "57b26f44b9109eb0c366adeb54bf5ebfc816b45e",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 57b26f44b9109eb0c366adeb54bf5ebfc816b45e \"rpc: send: support external signer\"\r\n\r\nUse `with`\r\n\r\n```suggestion\r\n        with open(os.path.join(os.getcwd(), \"mock_psbt\"), \"w\") as f:\r\n             f.write(mock_psbt_signed[\"psbt\"])\r\n```",
    "created_at": "2021-02-08T21:07:56Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572372372",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572372372"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572372372"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572372372/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 201,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 203,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572373664",
    "pull_request_review_id": 585856208,
    "id": 572373664,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjM3MzY2NA==",
    "diff_hunk": "@@ -0,0 +1,52 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test external signer.\n+\n+Verify that a bitcoind node can use an external signer command\n+\"\"\"\n+import os\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+\n+class SignerTest(BitcoinTestFramework):\n+    def mock_signer_path(self):\n+        path = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'mocks', 'signer.py')\n+        if platform.system() == \"Windows\":\n+            return \"py \" + path\n+        else:\n+            return path\n+\n+    def set_test_params(self):\n+        self.num_nodes = 3\n+\n+        self.extra_args = [\n+            [],\n+            ['-signer=%s' % self.mock_signer_path()],\n+            ['-signer=%s' % \"fake.py\"],\n+        ]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_external_signer()\n+\n+    def set_mock_result(self, node, res):\n+        f = open(os.path.join(node.cwd, \"mock_result\"), \"w\", encoding=\"utf8\")\n+        f.write(res)\n+        f.close()",
    "path": "test/functional/wallet_signer.py",
    "position": null,
    "original_position": 43,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "2926553d26e2f15e7986a73f6ee678112ab8ab7f",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 2926553d26e2f15e7986a73f6ee678112ab8ab7f \"test: add external signer test\"\r\n\r\nUse `with`\r\n\r\n```suggestion\r\n        with open(os.path.join(node.cwd, \"mock_result\"), \"w\", encoding=\"utf8\") as f:\r\n            f.write(res)\r\n```",
    "created_at": "2021-02-08T21:10:02Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572373664",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572373664"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572373664"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572373664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 41,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 43,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572374599",
    "pull_request_review_id": 585856208,
    "id": 572374599,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjM3NDU5OQ==",
    "diff_hunk": "@@ -0,0 +1,52 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test external signer.\n+\n+Verify that a bitcoind node can use an external signer command\n+\"\"\"\n+import os\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+\n+class SignerTest(BitcoinTestFramework):\n+    def mock_signer_path(self):\n+        path = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'mocks', 'signer.py')\n+        if platform.system() == \"Windows\":\n+            return \"py \" + path\n+        else:\n+            return path\n+\n+    def set_test_params(self):\n+        self.num_nodes = 3\n+\n+        self.extra_args = [\n+            [],\n+            ['-signer=%s' % self.mock_signer_path()],\n+            ['-signer=%s' % \"fake.py\"],",
    "path": "test/functional/wallet_signer.py",
    "position": null,
    "original_position": 33,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "2926553d26e2f15e7986a73f6ee678112ab8ab7f",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 2926553d26e2f15e7986a73f6ee678112ab8ab7f \"test: add external signer test\"\r\n\r\nUse f-strings\r\n\r\n```suggestion\r\n            [f\"-signer={self.mock_signer_path()}\"],\r\n            [\"-signer=fake.py\"],\r\n```",
    "created_at": "2021-02-08T21:11:16Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572374599",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572374599"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572374599"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572374599/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 32,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 33,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572858097",
    "pull_request_review_id": 586509494,
    "id": 572858097,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Mjg1ODA5Nw==",
    "diff_hunk": "@@ -53,6 +53,9 @@\n /* define if the Boost::Process library is available */\n #define HAVE_BOOST_PROCESS /**/\n \n+/* define if external signer support is enabled (requires Boost::Process) */\n+#define ENABLE_EXTERNAL_SIGNER 1 /**/",
    "path": "build_msvc/bitcoin_config.h",
    "position": null,
    "original_position": 5,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "235445a431c6146bb194761335761fa423469ac0",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Just defining or setting it to 1 always confused me. As does MSVC. But it sounds reasonable... @sipsorcery?",
    "created_at": "2021-02-09T12:50:56Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572858097",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572858097"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572858097"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572858097/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 57,
    "side": "RIGHT",
    "in_reply_to_id": 572318711
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572863901",
    "pull_request_review_id": 586516933,
    "id": 572863901,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Mjg2MzkwMQ==",
    "diff_hunk": "@@ -0,0 +1,8 @@\n+// Copyright (c) 2018-2021 The Bitcoin Core developers",
    "path": "src/wallet/externalsigner.cpp",
    "position": null,
    "original_position": 1,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "1425e784279cee4a04bf186990dcb8669af0bd01",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good question. It's been under development and publicly visible since 2018 though.",
    "created_at": "2021-02-09T12:59:34Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572863901",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572863901"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572863901"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572863901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1,
    "side": "RIGHT",
    "in_reply_to_id": 572325164
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572871946",
    "pull_request_review_id": 586527647,
    "id": 572871946,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Mjg3MTk0Ng==",
    "diff_hunk": "@@ -0,0 +1,52 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test external signer.\n+\n+Verify that a bitcoind node can use an external signer command\n+\"\"\"\n+import os\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+\n+class SignerTest(BitcoinTestFramework):\n+    def mock_signer_path(self):\n+        path = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'mocks', 'signer.py')\n+        if platform.system() == \"Windows\":\n+            return \"py \" + path\n+        else:\n+            return path\n+\n+    def set_test_params(self):\n+        self.num_nodes = 3\n+\n+        self.extra_args = [\n+            [],\n+            ['-signer=%s' % self.mock_signer_path()],\n+            ['-signer=%s' % \"fake.py\"],",
    "path": "test/functional/wallet_signer.py",
    "position": null,
    "original_position": 33,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "2926553d26e2f15e7986a73f6ee678112ab8ab7f",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ah, we upgraded to Python 3.6 \"recently\" :-)",
    "created_at": "2021-02-09T13:12:16Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572871946",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572871946"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572871946"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572871946/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 32,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 33,
    "side": "RIGHT",
    "in_reply_to_id": 572374599
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572873344",
    "pull_request_review_id": 586529666,
    "id": 572873344,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Mjg3MzM0NA==",
    "diff_hunk": "@@ -0,0 +1,70 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_WALLET_EXTERNALSIGNER_H\n+#define BITCOIN_WALLET_EXTERNALSIGNER_H\n+\n+#include <stdexcept>\n+#include <string>\n+#include <univalue.h>\n+#include <util/system.h>\n+\n+struct PartiallySignedTransaction;\n+\n+class ExternalSignerException : public std::runtime_error {\n+public:\n+    using std::runtime_error::runtime_error;\n+};\n+\n+//! Enables interaction with an external signing device or service, such as\n+//! a hardware wallet. See doc/external-signer.md\n+class ExternalSigner\n+{\n+private:\n+    //! The command which handles interaction with the external signer.\n+    std::string m_command;\n+\n+public:\n+    //! @param[in] command      the command which handles interaction with the external signer\n+    //! @param[in] fingerprint  master key fingerprint of the signer\n+    //! @param[in] mainnet      Bitcoin mainnet or testnet\n+    ExternalSigner(const std::string& command, const std::string& fingerprint, bool mainnet, std::string name);\n+\n+    //! Master key fingerprint of the signer\n+    std::string m_fingerprint;\n+\n+    //! Bitcoin mainnet or testnet\n+    bool m_mainnet;",
    "path": "src/wallet/externalsigner.h",
    "position": null,
    "original_position": 38,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "8aa7f0fead7049462a5763a8b02e56c9f30cefe8",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I overlooked that regtest has a different prefix. Maybe an enum is a good idea...\r\nhttps://github.com/satoshilabs/slips/blob/master/slip-0173.md#registered-human-readable-parts",
    "created_at": "2021-02-09T13:14:43Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572873344",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572873344"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572873344"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572873344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 38,
    "side": "RIGHT",
    "in_reply_to_id": 555248451
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572953722",
    "pull_request_review_id": 586635367,
    "id": 572953722,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Mjk1MzcyMg==",
    "diff_hunk": "@@ -4428,8 +4429,17 @@ void CWallet::ConnectScriptPubKeyManNotifiers()\n \n void CWallet::LoadDescriptorScriptPubKeyMan(uint256 id, WalletDescriptor& desc)\n {\n-    auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new DescriptorScriptPubKeyMan(*this, desc));\n-    m_spk_managers[id] = std::move(spk_manager);\n+    if (IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER)) {",
    "path": "src/wallet/wallet.cpp",
    "position": 96,
    "original_position": 14,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "54cfea82c85bcbcef012922ad78dcb3ba3ae1c6e",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I made a separate PR for this: #21127",
    "created_at": "2021-02-09T14:56:10Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572953722",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572953722"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572953722"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572953722/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4495,
    "original_line": 4495,
    "side": "RIGHT",
    "in_reply_to_id": 572334983
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572962933",
    "pull_request_review_id": 586646754,
    "id": 572962933,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Mjk2MjkzMw==",
    "diff_hunk": "@@ -105,10 +105,13 @@ def test_categories(self):\n         if self.is_wallet_compiled():\n             components.append('Wallet')\n \n+        if self.is_external_signer_compiled():\n+            components.append('Signer')",
    "path": "test/functional/rpc_help.py",
    "position": 5,
    "original_position": 5,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "2352f3ec13e1d819e140e061f3d7927a20387cbe",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "But then I also have to add a line `components.append('Util')`",
    "created_at": "2021-02-09T15:05:51Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572962933",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572962933"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r572962933"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572962933/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 109,
    "original_line": 109,
    "side": "RIGHT",
    "in_reply_to_id": 572342189
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573056256",
    "pull_request_review_id": 586768970,
    "id": 573056256,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzA1NjI1Ng==",
    "diff_hunk": "@@ -53,6 +53,9 @@\n /* define if the Boost::Process library is available */\n #define HAVE_BOOST_PROCESS /**/\n \n+/* define if external signer support is enabled (requires Boost::Process) */\n+#define ENABLE_EXTERNAL_SIGNER 1 /**/",
    "path": "build_msvc/bitcoin_config.h",
    "position": null,
    "original_position": 5,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "235445a431c6146bb194761335761fa423469ac0",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think it's supposed to be either the default or a fixed setting indicating what msvc should be building. Either way, having `HAVE_BOOST_PROCESS` not defined above and still defining `ENABLE_EXTERNAL_SIGNER` is a conflict because we can't have external signer support without boost process.",
    "created_at": "2021-02-09T16:54:41Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r573056256",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573056256"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r573056256"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573056256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 57,
    "side": "RIGHT",
    "in_reply_to_id": 572318711
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574127293",
    "pull_request_review_id": 588116869,
    "id": 574127293,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDEyNzI5Mw==",
    "diff_hunk": "@@ -53,6 +53,9 @@\n /* define if the Boost::Process library is available */\n #define HAVE_BOOST_PROCESS /**/\n \n+/* define if external signer support is enabled (requires Boost::Process) */\n+#define ENABLE_EXTERNAL_SIGNER 1 /**/",
    "path": "build_msvc/bitcoin_config.h",
    "position": null,
    "original_position": 5,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "235445a431c6146bb194761335761fa423469ac0",
    "user": {
      "login": "sipsorcery",
      "id": 197660,
      "node_id": "MDQ6VXNlcjE5NzY2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/197660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipsorcery",
      "html_url": "https://github.com/sipsorcery",
      "followers_url": "https://api.github.com/users/sipsorcery/followers",
      "following_url": "https://api.github.com/users/sipsorcery/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipsorcery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipsorcery/subscriptions",
      "organizations_url": "https://api.github.com/users/sipsorcery/orgs",
      "repos_url": "https://api.github.com/users/sipsorcery/repos",
      "events_url": "https://api.github.com/users/sipsorcery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipsorcery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think msvc is the same as the other compilers. If you want to set a pre-processor define to act like a boolean flag there's no need to set a value on it. `#define ENABLE_EXTERNAL_SIGNER` is all you need if you're only checking for its existence with `#ifdef ENABLE_EXTERNAL_SIGNER`.",
    "created_at": "2021-02-10T22:35:56Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r574127293",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574127293"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r574127293"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574127293/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 57,
    "side": "RIGHT",
    "in_reply_to_id": 572318711
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575145746",
    "pull_request_review_id": 589363089,
    "id": 575145746,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTE0NTc0Ng==",
    "diff_hunk": "@@ -0,0 +1,52 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test external signer.\n+\n+Verify that a bitcoind node can use an external signer command\n+\"\"\"\n+import os\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+\n+class SignerTest(BitcoinTestFramework):\n+    def mock_signer_path(self):\n+        path = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'mocks', 'signer.py')\n+        if platform.system() == \"Windows\":\n+            return \"py \" + path\n+        else:\n+            return path\n+\n+    def set_test_params(self):\n+        self.num_nodes = 3\n+\n+        self.extra_args = [\n+            [],\n+            ['-signer=%s' % self.mock_signer_path()],\n+            ['-signer=%s' % \"fake.py\"],",
    "path": "test/functional/wallet_signer.py",
    "position": null,
    "original_position": 33,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "2926553d26e2f15e7986a73f6ee678112ab8ab7f",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It's funny but also a bit shameful that this has taken so long that the drift of linters and python versions is starting to eat into it.",
    "created_at": "2021-02-12T11:04:15Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r575145746",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575145746"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r575145746"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575145746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 32,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 33,
    "side": "RIGHT",
    "in_reply_to_id": 572374599
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575230827",
    "pull_request_review_id": 589472944,
    "id": 575230827,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTIzMDgyNw==",
    "diff_hunk": "@@ -0,0 +1,52 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test external signer.\n+\n+Verify that a bitcoind node can use an external signer command\n+\"\"\"\n+import os\n+import platform\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+\n+class SignerTest(BitcoinTestFramework):\n+    def mock_signer_path(self):\n+        path = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'mocks', 'signer.py')\n+        if platform.system() == \"Windows\":\n+            return \"py \" + path\n+        else:\n+            return path\n+\n+    def set_test_params(self):\n+        self.num_nodes = 3\n+\n+        self.extra_args = [\n+            [],\n+            ['-signer=%s' % self.mock_signer_path()],\n+            ['-signer=%s' % \"fake.py\"],",
    "path": "test/functional/wallet_signer.py",
    "position": null,
    "original_position": 33,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "2926553d26e2f15e7986a73f6ee678112ab8ab7f",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oh I've been plowing through rebases while descriptor wallets were being built. This is nothing :-)",
    "created_at": "2021-02-12T13:42:30Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r575230827",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575230827"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r575230827"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575230827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 32,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 33,
    "side": "RIGHT",
    "in_reply_to_id": 572374599
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575279150",
    "pull_request_review_id": 589534844,
    "id": 575279150,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTI3OTE1MA==",
    "diff_hunk": "@@ -53,6 +53,9 @@\n /* define if the Boost::Process library is available */\n #define HAVE_BOOST_PROCESS /**/\n \n+/* define if external signer support is enabled (requires Boost::Process) */\n+#define ENABLE_EXTERNAL_SIGNER 1 /**/",
    "path": "build_msvc/bitcoin_config.h",
    "position": null,
    "original_position": 5,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "235445a431c6146bb194761335761fa423469ac0",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ok, I'll use that.",
    "created_at": "2021-02-12T14:51:07Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r575279150",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575279150"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r575279150"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/575279150/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 57,
    "side": "RIGHT",
    "in_reply_to_id": 572318711
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577220531",
    "pull_request_review_id": 591722710,
    "id": 577220531,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NzIyMDUzMQ==",
    "diff_hunk": "@@ -4457,8 +4458,17 @@ void CWallet::ConnectScriptPubKeyManNotifiers()\n \n void CWallet::LoadDescriptorScriptPubKeyMan(uint256 id, WalletDescriptor& desc)\n {\n-    auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new DescriptorScriptPubKeyMan(*this, desc));\n-    m_spk_managers[id] = std::move(spk_manager);\n+    if (IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER)) {\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+        auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new ExternalSignerScriptPubKeyMan(*this, desc));\n+        m_spk_managers[id] = std::move(spk_manager);\n+#else\n+        throw std::runtime_error(std::string(__func__) + \": Configure with --enable-external-signer to use this\");",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 19,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "4106d7e45f7ab5a48a0b57d64b767306dfd51934",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "What \"this\" is may not be clear to the user",
    "created_at": "2021-02-16T23:52:20Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577220531",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577220531"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577220531"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577220531/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4466,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577228830",
    "pull_request_review_id": 591722710,
    "id": 577228830,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NzIyODgzMA==",
    "diff_hunk": "@@ -0,0 +1,171 @@\n+# Support for signing transactions outside of Bitcoin Core\n+\n+Bitcoin Core can be launched with `-signer=<cmd>` where `<cmd>` is an external tool which can sign transactions and perform other functions. For example, it can be used to communicate with a hardware wallet.\n+\n+## Example usage\n+\n+The following example is based on the [HWI](https://github.com/bitcoin-core/HWI) tool. Although this tool is hosted under the Bitcoin Core Github organization and maintained by Bitcoin Core developers, it should be used with caution. It is considered experimental and has far less review than Bitcoin Core itself. Be particularly careful when running tools such as these on a computer with private keys on it.",
    "path": "doc/external-signer.md",
    "position": null,
    "original_position": 7,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "af6c0c39dbf7f7023aaf9da04f1c7c0ad2428059",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "micro-nit: GitHub",
    "created_at": "2021-02-17T00:14:57Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577228830",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577228830"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577228830"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577228830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 7,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577232390",
    "pull_request_review_id": 591722710,
    "id": 577232390,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NzIzMjM5MA==",
    "diff_hunk": "@@ -0,0 +1,171 @@\n+# Support for signing transactions outside of Bitcoin Core\n+\n+Bitcoin Core can be launched with `-signer=<cmd>` where `<cmd>` is an external tool which can sign transactions and perform other functions. For example, it can be used to communicate with a hardware wallet.\n+\n+## Example usage\n+\n+The following example is based on the [HWI](https://github.com/bitcoin-core/HWI) tool. Although this tool is hosted under the Bitcoin Core Github organization and maintained by Bitcoin Core developers, it should be used with caution. It is considered experimental and has far less review than Bitcoin Core itself. Be particularly careful when running tools such as these on a computer with private keys on it.\n+\n+When using a hardware wallet, consult the manufacturer website for (alternative) software they recommend. As long as their software conforms to the standard below, it should be able to work with Bitcoin Core.\n+\n+Start Bitcoin Core:\n+\n+```sh\n+$ bitcoind -signer=../HWI/hwi.py\n+```\n+\n+### Device setup\n+\n+Follow the hardware manufacturers instructions for the initial device setup, as well as their instructions for creating a backup. Alternatively, for some devices, you can use the `setup`, `restore` and `backup` commands provided by [HWI](https://github.com/bitcoin-core/HWI).\n+\n+### Create wallet and import keys\n+\n+Get a list of signing devices / services:\n+\n+```\n+$ bitcoin-cli enumeratesigners\n+{\n+  \"signers\": [\n+    {\n+      \"fingerprint\": \"c8df832a\"\n+    }\n+]\n+```\n+\n+The master key fingerprint is used to identify a device.\n+\n+Create a wallet, this automatically imports the public keys:\n+\n+```sh\n+$ bitcoin-cli createwallet \"hww\" true true \"\" true true true\n+```\n+\n+### Verify an address\n+\n+Display an address on the device:\n+\n+```sh\n+$ bitcoin-cli -rpcwallet=<wallet> getnewaddress\n+$ bitcoin-cli -rpcwallet=<wallet> signerdisplayaddress <address>\n+```\n+\n+Replace `<address>` with the result of `getnewaddress`.\n+\n+### Spending\n+\n+Under the hood this uses a [Partially Signed Bitcoin Transaction](psbt.md).\n+\n+```sh\n+$ bitcoin-cli -rpcwallet=<wallet> sendtoaddress <address> <amount>\n+```\n+\n+This prompts your hardware wallet to sign, and fail if it's not connected. If successful\n+it automatically broadcasts the transaction.\n+\n+```sh\n+{\"complete\": true, \"txid\": <txid>}\n+```\n+\n+## Signer API\n+\n+In order to be compatible with Bitcoin Core any signer command should conform to the specification below. This specification is subject to change. Ideally a BIP should propose a standard so that other wallets can also make use of it.\n+\n+Prerequisite knowledge:\n+* [Output Descriptors](descriptors.md)\n+* Partially Signed Bitcoin Transaction ([PSBT](psbt.md))\n+\n+### `enumerate` (required)\n+\n+Usage:\n+```\n+$ <cmd> enumerate\n+[\n+    {\n+        \"fingerprint\": \"00000000\"\n+    }\n+]\n+```\n+\n+The command MUST return an (empty) array with at least a `fingerprint` field.\n+\n+A future extension could add an optional return field with device capabilities. Perhaps a descriptor with wildcards. For example: `[\"pkh(\"44'/0'/$'/{0,1}/*\"), sh(wpkh(\"49'/0'/$'/{0,1}/*\")), wpkh(\"84'/0'/$'/{0,1}/*\")]`. This would indicate the device supports legacy, wrapped SegWit and native SegWit. In addition it restricts the derivation paths that can used for those, to maintain compatibility with other wallet software. It also indicates the device, or the driver, doesn't support multisig.\n+\n+A future extension could add an optional return field `reachable`, in case `<cmd>` knows a signer exists but can't currently reach it.\n+\n+### `signtransaction` (required)\n+\n+Usage:\n+```\n+$ <cmd> --fingerprint=<fingerprint> (--testnet) signtransaction <psbt>\n+base64_encode_signed_psbt\n+```\n+\n+The command returns a psbt with any signatures.\n+\n+The `psbt` SHOULD include bip32 derivations. The command SHOULD fail if none of the bip32 derivations match a key owned by the device.\n+\n+The command SHOULD fail if the user cancels (return code?).",
    "path": "doc/external-signer.md",
    "position": null,
    "original_position": 107,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "af6c0c39dbf7f7023aaf9da04f1c7c0ad2428059",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is this \"return code?\" meant for the final doc",
    "created_at": "2021-02-17T00:24:59Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577232390",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577232390"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577232390"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577232390/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 107,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577234301",
    "pull_request_review_id": 591722710,
    "id": 577234301,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NzIzNDMwMQ==",
    "diff_hunk": "@@ -0,0 +1,128 @@\n+// Copyright (c) 2018-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparams.h>\n+#include <core_io.h>\n+#include <psbt.h>\n+#include <util/strencodings.h>\n+#include <util/system.h>\n+#include <wallet/external_signer.h>\n+\n+ExternalSigner::ExternalSigner(const std::string& command, const std::string& fingerprint, std::string chain, std::string name): m_command(command), m_fingerprint(fingerprint), m_chain(chain), m_name(name) {}\n+\n+const std::string ExternalSigner::NetworkArg() const {",
    "path": "src/wallet/external_signer.cpp",
    "position": null,
    "original_position": 14,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "b27ec70b1a04f3ece972721d54c2e1bc1ce4862a",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "style nit: brace",
    "created_at": "2021-02-17T00:30:09Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577234301",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577234301"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577234301"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577234301/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 14,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577234568",
    "pull_request_review_id": 591722710,
    "id": 577234568,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NzIzNDU2OA==",
    "diff_hunk": "@@ -3558,6 +3575,37 @@ void ReserveDestination::ReturnDestination()\n     address = CNoDestination();\n }\n \n+#ifdef ENABLE_EXTERNAL_SIGNER\n+ExternalSigner CWallet::GetExternalSigner() {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 47,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "b27ec70b1a04f3ece972721d54c2e1bc1ce4862a",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "style nit: brace",
    "created_at": "2021-02-17T00:30:51Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577234568",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577234568"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577234568"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577234568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3579,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577298195",
    "pull_request_review_id": 591807922,
    "id": 577298195,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NzI5ODE5NQ==",
    "diff_hunk": "@@ -4487,32 +4488,65 @@ void CWallet::SetupDescriptorScriptPubKeyMans()\n {\n     AssertLockHeld(cs_wallet);\n \n-    // Make a seed\n-    CKey seed_key;\n-    seed_key.MakeNewKey(true);\n-    CPubKey seed = seed_key.GetPubKey();\n-    assert(seed_key.VerifyPubKey(seed));\n+    if (!IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER)) {\n+        // Make a seed\n+        CKey seed_key;\n+        seed_key.MakeNewKey(true);\n+        CPubKey seed = seed_key.GetPubKey();\n+        assert(seed_key.VerifyPubKey(seed));\n \n-    // Get the extended key\n-    CExtKey master_key;\n-    master_key.SetSeed(seed_key.begin(), seed_key.size());\n+        // Get the extended key\n+        CExtKey master_key;\n+        master_key.SetSeed(seed_key.begin(), seed_key.size());\n \n-    for (bool internal : {false, true}) {\n-        for (OutputType t : OUTPUT_TYPES) {\n-            auto spk_manager = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(*this, internal));\n-            if (IsCrypted()) {\n-                if (IsLocked()) {\n-                    throw std::runtime_error(std::string(__func__) + \": Wallet is locked, cannot setup new descriptors\");\n+        for (bool internal : {false, true}) {\n+            for (OutputType t : OUTPUT_TYPES) {\n+                auto spk_manager = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(*this, internal));\n+                if (IsCrypted()) {\n+                    if (IsLocked()) {\n+                        throw std::runtime_error(std::string(__func__) + \": Wallet is locked, cannot setup new descriptors\");\n+                    }\n+                    if (!spk_manager->CheckDecryptionKey(vMasterKey) && !spk_manager->Encrypt(vMasterKey, nullptr)) {\n+                        throw std::runtime_error(std::string(__func__) + \": Could not encrypt new descriptors\");\n+                    }\n                 }\n-                if (!spk_manager->CheckDecryptionKey(vMasterKey) && !spk_manager->Encrypt(vMasterKey, nullptr)) {\n-                    throw std::runtime_error(std::string(__func__) + \": Could not encrypt new descriptors\");\n+                spk_manager->SetupDescriptorGeneration(master_key, t);\n+                uint256 id = spk_manager->GetID();\n+                m_spk_managers[id] = std::move(spk_manager);\n+                AddActiveScriptPubKeyMan(id, t, internal);\n+            }\n+        }\n+    } else {\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+        ExternalSigner signer = ExternalSignerScriptPubKeyMan::GetExternalSigner();\n+\n+        // TODO: add account parameter\n+        int account = 0;\n+        UniValue signer_res = signer.GetDescriptors(account);\n+\n+        if (!signer_res.isObject()) throw std::runtime_error(std::string(__func__) + \": Unexpect result\");",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 73,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "345d94e1c346d7f3cee42091e82ed008ae651887",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: `Unexpect` -> `Unexpected`",
    "created_at": "2021-02-17T03:21:46Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577298195",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577298195"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577298195"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577298195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4527,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577298302",
    "pull_request_review_id": 591807922,
    "id": 577298302,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NzI5ODMwMg==",
    "diff_hunk": "@@ -4487,32 +4488,65 @@ void CWallet::SetupDescriptorScriptPubKeyMans()\n {\n     AssertLockHeld(cs_wallet);\n \n-    // Make a seed\n-    CKey seed_key;\n-    seed_key.MakeNewKey(true);\n-    CPubKey seed = seed_key.GetPubKey();\n-    assert(seed_key.VerifyPubKey(seed));\n+    if (!IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER)) {\n+        // Make a seed\n+        CKey seed_key;\n+        seed_key.MakeNewKey(true);\n+        CPubKey seed = seed_key.GetPubKey();\n+        assert(seed_key.VerifyPubKey(seed));\n \n-    // Get the extended key\n-    CExtKey master_key;\n-    master_key.SetSeed(seed_key.begin(), seed_key.size());\n+        // Get the extended key\n+        CExtKey master_key;\n+        master_key.SetSeed(seed_key.begin(), seed_key.size());\n \n-    for (bool internal : {false, true}) {\n-        for (OutputType t : OUTPUT_TYPES) {\n-            auto spk_manager = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(*this, internal));\n-            if (IsCrypted()) {\n-                if (IsLocked()) {\n-                    throw std::runtime_error(std::string(__func__) + \": Wallet is locked, cannot setup new descriptors\");\n+        for (bool internal : {false, true}) {\n+            for (OutputType t : OUTPUT_TYPES) {\n+                auto spk_manager = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(*this, internal));\n+                if (IsCrypted()) {\n+                    if (IsLocked()) {\n+                        throw std::runtime_error(std::string(__func__) + \": Wallet is locked, cannot setup new descriptors\");\n+                    }\n+                    if (!spk_manager->CheckDecryptionKey(vMasterKey) && !spk_manager->Encrypt(vMasterKey, nullptr)) {\n+                        throw std::runtime_error(std::string(__func__) + \": Could not encrypt new descriptors\");\n+                    }\n                 }\n-                if (!spk_manager->CheckDecryptionKey(vMasterKey) && !spk_manager->Encrypt(vMasterKey, nullptr)) {\n-                    throw std::runtime_error(std::string(__func__) + \": Could not encrypt new descriptors\");\n+                spk_manager->SetupDescriptorGeneration(master_key, t);\n+                uint256 id = spk_manager->GetID();\n+                m_spk_managers[id] = std::move(spk_manager);\n+                AddActiveScriptPubKeyMan(id, t, internal);\n+            }\n+        }\n+    } else {\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+        ExternalSigner signer = ExternalSignerScriptPubKeyMan::GetExternalSigner();\n+\n+        // TODO: add account parameter\n+        int account = 0;\n+        UniValue signer_res = signer.GetDescriptors(account);\n+\n+        if (!signer_res.isObject()) throw std::runtime_error(std::string(__func__) + \": Unexpect result\");\n+        for (bool internal : {false, true}) {\n+            const UniValue& descriptor_vals = find_value(signer_res, internal ? \"internal\" : \"receive\");\n+            if (!descriptor_vals.isArray()) throw std::runtime_error(std::string(__func__) + \": Unexpect result\");",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 76,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "345d94e1c346d7f3cee42091e82ed008ae651887",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "same here",
    "created_at": "2021-02-17T03:22:10Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577298302",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577298302"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577298302"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577298302/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4530,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577300357",
    "pull_request_review_id": 591807922,
    "id": 577300357,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NzMwMDM1Nw==",
    "diff_hunk": "@@ -61,3 +61,31 @@ bool ExternalSignerScriptPubKeyMan::DisplayAddress(const CScript scriptPubKey, c\n     return false;\n #endif\n }\n+\n+// If sign is true, transaction must previously have been filled\n+TransactionError ExternalSignerScriptPubKeyMan::FillPSBT(PartiallySignedTransaction& psbt, int sighash_type, bool sign, bool bip32derivs, int* n_signed) const\n+{\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+    if (!sign) {\n+        return DescriptorScriptPubKeyMan::FillPSBT(psbt, sighash_type, false, bip32derivs, n_signed);\n+    }\n+\n+    // Already complete if every input is now signed\n+    bool complete = true;\n+    for (const auto& input : psbt.inputs) {\n+        // TODO: for multisig wallets, we should only care if all _our_ inputs are signed\n+        complete &= PSBTInputSigned(input);\n+    }\n+    if (complete) return TransactionError::OK;\n+\n+    std::string strFailReason;\n+    if( !GetExternalSigner().SignTransaction(psbt, strFailReason)) {",
    "path": "src/wallet/external_signer_scriptpubkeyman.cpp",
    "position": null,
    "original_position": 22,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "fb3559c9d167d7d1128ca1db5f604f5292c0bb30",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "style nit: spacing after `if(`",
    "created_at": "2021-02-17T03:29:17Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577300357",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577300357"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577300357"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577300357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 82,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577300888",
    "pull_request_review_id": 591807922,
    "id": 577300888,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NzMwMDg4OA==",
    "diff_hunk": "@@ -74,4 +78,51 @@ UniValue ExternalSigner::GetDescriptors(int account)\n     return RunCommandParseJSON(m_command + \" --fingerprint \\\"\" + m_fingerprint + \"\\\"\" + NetworkArg() + \" getdescriptors --account \" + strprintf(\"%d\", account));\n }\n \n+bool ExternalSigner::SignTransaction(PartiallySignedTransaction& psbtx, std::string& error)\n+{\n+    // Serialize the PSBT\n+    CDataStream ssTx(SER_NETWORK, PROTOCOL_VERSION);\n+    ssTx << psbtx;\n+\n+    // Check if signer fingerpint matches any input master key fingerprint",
    "path": "src/wallet/externalsigner.cpp",
    "position": null,
    "original_position": 21,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "fb3559c9d167d7d1128ca1db5f604f5292c0bb30",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: `fingerpint` -> `fingerprint`",
    "created_at": "2021-02-17T03:31:20Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577300888",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577300888"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r577300888"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577300888/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 87,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578263080",
    "pull_request_review_id": 593012535,
    "id": 578263080,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3ODI2MzA4MA==",
    "diff_hunk": "@@ -1393,16 +1394,21 @@ fi\n AX_BOOST_SYSTEM\n AX_BOOST_FILESYSTEM\n \n-dnl Opt-in to Boost Process\n-if test \"x$boost_process\" != xno; then\n+dnl Opt-in to Boost Process if external signer support is requested\n+if test \"x$use_external_signer\" != xno; then\n AC_MSG_CHECKING(for Boost Process)\n AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <boost/process.hpp>]],\n  [[ boost::process::child* child = new boost::process::child; delete child; ]])],\n- [ AC_MSG_RESULT(yes); AC_DEFINE([HAVE_BOOST_PROCESS],,[define if Boost::Process is available])],\n- [ AC_MSG_ERROR([Boost::Process is not available!])]\n+ [ AC_MSG_RESULT(yes)\n+ AC_DEFINE([HAVE_BOOST_PROCESS],,[define if Boost::Process is available])\n+ AC_DEFINE([ENABLE_EXTERNAL_SIGNER],,[define if external signer support is enabled])\n+ ],\n+ [ AC_MSG_RESULT(no)]",
    "path": "configure.ac",
    "position": null,
    "original_position": 40,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "85da1ad0442b243e10e7f671e14812e70e74f624",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think this is due to a merge conflict: please keep the error message here. Not finding `boost::process` when `--enable-external-signer` is fatal.",
    "created_at": "2021-02-18T09:32:17Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r578263080",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578263080"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r578263080"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578263080/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1406,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578269831",
    "pull_request_review_id": 593020969,
    "id": 578269831,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3ODI2OTgzMQ==",
    "diff_hunk": "@@ -0,0 +1,129 @@\n+// Copyright (c) 2018-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparams.h>\n+#include <core_io.h>\n+#include <psbt.h>\n+#include <util/strencodings.h>\n+#include <util/system.h>\n+#include <wallet/external_signer.h>\n+\n+ExternalSigner::ExternalSigner(const std::string& command, const std::string& fingerprint, std::string chain, std::string name): m_command(command), m_fingerprint(fingerprint), m_chain(chain), m_name(name) {}\n+\n+const std::string ExternalSigner::NetworkArg() const\n+{\n+    if (m_chain == CBaseChainParams::MAIN) {",
    "path": "src/wallet/external_signer.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "85da1ad0442b243e10e7f671e14812e70e74f624",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I would prefer to introduce a `CBaseChainParams.externalSignerChainName()` instead of an elaborate `if()` here, for this to keep the chain definition data-driven in one place.\r\n\r\n(not necessarily in this PR though, we can do this later)",
    "created_at": "2021-02-18T09:41:49Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r578269831",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578269831"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r578269831"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578269831/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578409028",
    "pull_request_review_id": 593201079,
    "id": 578409028,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3ODQwOTAyOA==",
    "diff_hunk": "@@ -1393,16 +1394,21 @@ fi\n AX_BOOST_SYSTEM\n AX_BOOST_FILESYSTEM\n \n-dnl Opt-in to Boost Process\n-if test \"x$boost_process\" != xno; then\n+dnl Opt-in to Boost Process if external signer support is requested\n+if test \"x$use_external_signer\" != xno; then\n AC_MSG_CHECKING(for Boost Process)\n AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <boost/process.hpp>]],\n  [[ boost::process::child* child = new boost::process::child; delete child; ]])],\n- [ AC_MSG_RESULT(yes); AC_DEFINE([HAVE_BOOST_PROCESS],,[define if Boost::Process is available])],\n- [ AC_MSG_ERROR([Boost::Process is not available!])]\n+ [ AC_MSG_RESULT(yes)\n+ AC_DEFINE([HAVE_BOOST_PROCESS],,[define if Boost::Process is available])\n+ AC_DEFINE([ENABLE_EXTERNAL_SIGNER],,[define if external signer support is enabled])\n+ ],\n+ [ AC_MSG_RESULT(no)]",
    "path": "configure.ac",
    "position": null,
    "original_position": 40,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "85da1ad0442b243e10e7f671e14812e70e74f624",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oops, good catch, that indeed fell through the rebase cracks. Hard to test presence of boost::process seperate from the rest of boost on macOS, because they're bundled. But on Windows this matters.",
    "created_at": "2021-02-18T13:18:30Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r578409028",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578409028"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r578409028"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578409028/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1406,
    "side": "RIGHT",
    "in_reply_to_id": 578263080
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578425220",
    "pull_request_review_id": 593222058,
    "id": 578425220,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3ODQyNTIyMA==",
    "diff_hunk": "@@ -0,0 +1,129 @@\n+// Copyright (c) 2018-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparams.h>\n+#include <core_io.h>\n+#include <psbt.h>\n+#include <util/strencodings.h>\n+#include <util/system.h>\n+#include <wallet/external_signer.h>\n+\n+ExternalSigner::ExternalSigner(const std::string& command, const std::string& fingerprint, std::string chain, std::string name): m_command(command), m_fingerprint(fingerprint), m_chain(chain), m_name(name) {}\n+\n+const std::string ExternalSigner::NetworkArg() const\n+{\n+    if (m_chain == CBaseChainParams::MAIN) {",
    "path": "src/wallet/external_signer.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "85da1ad0442b243e10e7f671e14812e70e74f624",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Alternatively, also out of scope, we could turn `CBaseChainParams` into an enum, so it's easier to use switch statements, and less likely to be forgotten if we add another network type.",
    "created_at": "2021-02-18T13:41:30Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r578425220",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578425220"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r578425220"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578425220/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT",
    "in_reply_to_id": 578269831
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578624796",
    "pull_request_review_id": 593489252,
    "id": 578624796,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3ODYyNDc5Ng==",
    "diff_hunk": "@@ -0,0 +1,129 @@\n+// Copyright (c) 2018-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparams.h>\n+#include <core_io.h>\n+#include <psbt.h>\n+#include <util/strencodings.h>\n+#include <util/system.h>\n+#include <wallet/external_signer.h>\n+\n+ExternalSigner::ExternalSigner(const std::string& command, const std::string& fingerprint, std::string chain, std::string name): m_command(command), m_fingerprint(fingerprint), m_chain(chain), m_name(name) {}\n+\n+const std::string ExternalSigner::NetworkArg() const\n+{\n+    if (m_chain == CBaseChainParams::MAIN) {",
    "path": "src/wallet/external_signer.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "85da1ad0442b243e10e7f671e14812e70e74f624",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "That'd be another option, but I prefer  to have all this information in one place. It was the point of having chainparams structures in the first place.",
    "created_at": "2021-02-18T17:48:14Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r578624796",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578624796"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r578624796"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578624796/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT",
    "in_reply_to_id": 578269831
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578626279",
    "pull_request_review_id": 593491164,
    "id": 578626279,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3ODYyNjI3OQ==",
    "diff_hunk": "@@ -0,0 +1,129 @@\n+// Copyright (c) 2018-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparams.h>\n+#include <core_io.h>\n+#include <psbt.h>\n+#include <util/strencodings.h>\n+#include <util/system.h>\n+#include <wallet/external_signer.h>\n+\n+ExternalSigner::ExternalSigner(const std::string& command, const std::string& fingerprint, std::string chain, std::string name): m_command(command), m_fingerprint(fingerprint), m_chain(chain), m_name(name) {}\n+\n+const std::string ExternalSigner::NetworkArg() const\n+{\n+    if (m_chain == CBaseChainParams::MAIN) {",
    "path": "src/wallet/external_signer.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "85da1ad0442b243e10e7f671e14812e70e74f624",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "But good point that they are strings. They also match exactly here:\r\n```\r\nconst std::string CBaseChainParams::MAIN = \"main\";\r\nconst std::string CBaseChainParams::TESTNET = \"test\";\r\nconst std::string CBaseChainParams::SIGNET = \"signet\";\r\nconst std::string CBaseChainParams::REGTEST = \"regtest\";\r\n```\r\nSo wouldn't `\" --chain \" + m_chain` achieve exactly the same?",
    "created_at": "2021-02-18T17:50:22Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r578626279",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578626279"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r578626279"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578626279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT",
    "in_reply_to_id": 578269831
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578655332",
    "pull_request_review_id": 593527813,
    "id": 578655332,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3ODY1NTMzMg==",
    "diff_hunk": "@@ -0,0 +1,129 @@\n+// Copyright (c) 2018-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparams.h>\n+#include <core_io.h>\n+#include <psbt.h>\n+#include <util/strencodings.h>\n+#include <util/system.h>\n+#include <wallet/external_signer.h>\n+\n+ExternalSigner::ExternalSigner(const std::string& command, const std::string& fingerprint, std::string chain, std::string name): m_command(command), m_fingerprint(fingerprint), m_chain(chain), m_name(name) {}\n+\n+const std::string ExternalSigner::NetworkArg() const\n+{\n+    if (m_chain == CBaseChainParams::MAIN) {",
    "path": "src/wallet/external_signer.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "85da1ad0442b243e10e7f671e14812e70e74f624",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good point...",
    "created_at": "2021-02-18T18:32:38Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r578655332",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578655332"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r578655332"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578655332/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT",
    "in_reply_to_id": 578269831
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579744214",
    "pull_request_review_id": 594803750,
    "id": 579744214,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTc0NDIxNA==",
    "diff_hunk": "@@ -0,0 +1,91 @@\n+// Copyright (c) 2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparams.h>\n+#include <wallet/external_signer.h>\n+#include <wallet/external_signer_scriptpubkeyman.h>\n+\n+\n+bool ExternalSignerScriptPubKeyMan::SetupDescriptor(std::unique_ptr<Descriptor> desc)\n+{\n+    LOCK(cs_desc_man);\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS));\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER));\n+\n+    int64_t creation_time = GetTime();\n+\n+    // Make the descriptor\n+    WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n+    m_wallet_descriptor = w_desc;\n+\n+    // Store the descriptor\n+    WalletBatch batch(m_storage.GetDatabase());\n+    if (!batch.WriteDescriptor(GetID(), m_wallet_descriptor)) {\n+        throw std::runtime_error(std::string(__func__) + \": writing descriptor failed\");\n+    }\n+\n+    // TopUp\n+    TopUp();\n+\n+    m_storage.UnsetBlankWalletFlag(batch);\n+    return true;\n+}\n+\n+ExternalSigner ExternalSignerScriptPubKeyMan::GetExternalSigner() {\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+    const std::string command = gArgs.GetArg(\"-signer\", \"\"); // DEFAULT_EXTERNAL_SIGNER);\n+    if (command == \"\") throw std::runtime_error(std::string(__func__) + \": restart bitcoind with -signer=<cmd>\");\n+    std::vector<ExternalSigner> signers;\n+    ExternalSigner::Enumerate(command, signers, Params().NetworkIDString());\n+    if (signers.empty()) throw std::runtime_error(std::string(__func__) + \": No external signers found\");\n+    // TODO: add fingerprint argument in case of multiple signers\n+    return signers[0];\n+#else\n+    throw std::runtime_error(std::string(__func__) + \": Wallets with external signers require Boost::System library.\");",
    "path": "src/wallet/external_signer_scriptpubkeyman.cpp",
    "position": null,
    "original_position": 45,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "96f991a11a871502d1a39f684994c1e2664c3af7",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Shouldn't this be Boost::Process?",
    "created_at": "2021-02-21T03:38:17Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r579744214",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579744214"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r579744214"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579744214/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 45,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579744226",
    "pull_request_review_id": 594803750,
    "id": 579744226,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTc0NDIyNg==",
    "diff_hunk": "@@ -4443,40 +4492,82 @@ void CWallet::ConnectScriptPubKeyManNotifiers()\n \n void CWallet::LoadDescriptorScriptPubKeyMan(uint256 id, WalletDescriptor& desc)\n {\n-    auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new DescriptorScriptPubKeyMan(*this, desc));\n-    m_spk_managers[id] = std::move(spk_manager);\n+    if (IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER)) {\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+        auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new ExternalSignerScriptPubKeyMan(*this, desc));\n+        m_spk_managers[id] = std::move(spk_manager);\n+#else\n+        throw std::runtime_error(std::string(__func__) + \": Configure with --enable-external-signer to use external signer wallets\");\n+#endif\n+    } else {\n+        auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new DescriptorScriptPubKeyMan(*this, desc));\n+        m_spk_managers[id] = std::move(spk_manager);\n+    }\n }\n \n void CWallet::SetupDescriptorScriptPubKeyMans()\n {\n     AssertLockHeld(cs_wallet);\n \n-    // Make a seed\n-    CKey seed_key;\n-    seed_key.MakeNewKey(true);\n-    CPubKey seed = seed_key.GetPubKey();\n-    assert(seed_key.VerifyPubKey(seed));\n+    if (!IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER)) {\n+        // Make a seed\n+        CKey seed_key;\n+        seed_key.MakeNewKey(true);\n+        CPubKey seed = seed_key.GetPubKey();\n+        assert(seed_key.VerifyPubKey(seed));\n \n-    // Get the extended key\n-    CExtKey master_key;\n-    master_key.SetSeed(seed_key.begin(), seed_key.size());\n+        // Get the extended key\n+        CExtKey master_key;\n+        master_key.SetSeed(seed_key.begin(), seed_key.size());\n \n-    for (bool internal : {false, true}) {\n-        for (OutputType t : OUTPUT_TYPES) {\n-            auto spk_manager = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(*this, internal));\n-            if (IsCrypted()) {\n-                if (IsLocked()) {\n-                    throw std::runtime_error(std::string(__func__) + \": Wallet is locked, cannot setup new descriptors\");\n+        for (bool internal : {false, true}) {\n+            for (OutputType t : OUTPUT_TYPES) {\n+                auto spk_manager = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(*this, internal));\n+                if (IsCrypted()) {\n+                    if (IsLocked()) {\n+                        throw std::runtime_error(std::string(__func__) + \": Wallet is locked, cannot setup new descriptors\");\n+                    }\n+                    if (!spk_manager->CheckDecryptionKey(vMasterKey) && !spk_manager->Encrypt(vMasterKey, nullptr)) {\n+                        throw std::runtime_error(std::string(__func__) + \": Could not encrypt new descriptors\");\n+                    }\n                 }\n-                if (!spk_manager->CheckDecryptionKey(vMasterKey) && !spk_manager->Encrypt(vMasterKey, nullptr)) {\n-                    throw std::runtime_error(std::string(__func__) + \": Could not encrypt new descriptors\");\n+                spk_manager->SetupDescriptorGeneration(master_key, t);\n+                uint256 id = spk_manager->GetID();\n+                m_spk_managers[id] = std::move(spk_manager);\n+                AddActiveScriptPubKeyMan(id, t, internal);\n+            }\n+        }\n+    } else {\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+        ExternalSigner signer = ExternalSignerScriptPubKeyMan::GetExternalSigner();\n+\n+        // TODO: add account parameter\n+        int account = 0;\n+        UniValue signer_res = signer.GetDescriptors(account);\n+\n+        if (!signer_res.isObject()) throw std::runtime_error(std::string(__func__) + \": Unexpected result\");\n+        for (bool internal : {false, true}) {\n+            const UniValue& descriptor_vals = find_value(signer_res, internal ? \"internal\" : \"receive\");\n+            if (!descriptor_vals.isArray()) throw std::runtime_error(std::string(__func__) + \": Unexpected result\");\n+            for (const UniValue& desc_val : descriptor_vals.get_array().getValues()) {\n+                std::string desc_str = desc_val.getValStr();\n+                FlatSigningProvider keys;\n+                std::string dummy_error;\n+                std::unique_ptr<Descriptor> desc = Parse(desc_str, keys, dummy_error, false);\n+                if (!desc->GetOutputType()) {\n+                    continue;\n                 }\n+                OutputType t =  *desc->GetOutputType();\n+                auto spk_manager = std::unique_ptr<ExternalSignerScriptPubKeyMan>(new ExternalSignerScriptPubKeyMan(*this, internal));\n+                spk_manager->SetupDescriptor(std::move(desc));\n+                uint256 id = spk_manager->GetID();\n+                m_spk_managers[id] = std::move(spk_manager);\n+                AddActiveScriptPubKeyMan(id, t, internal);\n             }\n-            spk_manager->SetupDescriptorGeneration(master_key, t);\n-            uint256 id = spk_manager->GetID();\n-            m_spk_managers[id] = std::move(spk_manager);\n-            AddActiveScriptPubKeyMan(id, t, internal);\n         }\n+#else\n+        throw std::runtime_error(std::string(__func__) + \": Wallets with external signers require Boost::System library.\");",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 190,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "96f991a11a871502d1a39f684994c1e2664c3af7",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Also Boost::Process here?",
    "created_at": "2021-02-21T03:38:37Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r579744226",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579744226"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r579744226"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579744226/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4569,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579744584",
    "pull_request_review_id": 594803750,
    "id": 579744584,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTc0NDU4NA==",
    "diff_hunk": "@@ -0,0 +1,91 @@\n+// Copyright (c) 2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparams.h>\n+#include <wallet/external_signer.h>\n+#include <wallet/external_signer_scriptpubkeyman.h>\n+\n+\n+bool ExternalSignerScriptPubKeyMan::SetupDescriptor(std::unique_ptr<Descriptor> desc)\n+{\n+    LOCK(cs_desc_man);\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS));\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER));\n+\n+    int64_t creation_time = GetTime();\n+\n+    // Make the descriptor\n+    WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n+    m_wallet_descriptor = w_desc;\n+\n+    // Store the descriptor\n+    WalletBatch batch(m_storage.GetDatabase());\n+    if (!batch.WriteDescriptor(GetID(), m_wallet_descriptor)) {\n+        throw std::runtime_error(std::string(__func__) + \": writing descriptor failed\");\n+    }\n+\n+    // TopUp\n+    TopUp();\n+\n+    m_storage.UnsetBlankWalletFlag(batch);\n+    return true;\n+}\n+\n+ExternalSigner ExternalSignerScriptPubKeyMan::GetExternalSigner() {\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+    const std::string command = gArgs.GetArg(\"-signer\", \"\"); // DEFAULT_EXTERNAL_SIGNER);",
    "path": "src/wallet/external_signer_scriptpubkeyman.cpp",
    "position": null,
    "original_position": 37,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "96f991a11a871502d1a39f684994c1e2664c3af7",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n    const std::string command = gArgs.GetArg(\"-signer\", DEFAULT_EXTERNAL_SIGNER);\r\n```\r\n\r\nOr if we are going to use `\"\"`, we should remove the commented code.",
    "created_at": "2021-02-21T03:43:51Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r579744584",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579744584"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r579744584"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579744584/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 37,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579761889",
    "pull_request_review_id": 594803750,
    "id": 579761889,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTc2MTg4OQ==",
    "diff_hunk": "@@ -0,0 +1,91 @@\n+// Copyright (c) 2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparams.h>\n+#include <wallet/external_signer.h>\n+#include <wallet/external_signer_scriptpubkeyman.h>\n+\n+\n+bool ExternalSignerScriptPubKeyMan::SetupDescriptor(std::unique_ptr<Descriptor> desc)\n+{\n+    LOCK(cs_desc_man);\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS));\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER));\n+\n+    int64_t creation_time = GetTime();\n+\n+    // Make the descriptor\n+    WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n+    m_wallet_descriptor = w_desc;\n+\n+    // Store the descriptor\n+    WalletBatch batch(m_storage.GetDatabase());\n+    if (!batch.WriteDescriptor(GetID(), m_wallet_descriptor)) {\n+        throw std::runtime_error(std::string(__func__) + \": writing descriptor failed\");\n+    }\n+\n+    // TopUp\n+    TopUp();\n+\n+    m_storage.UnsetBlankWalletFlag(batch);\n+    return true;\n+}\n+\n+ExternalSigner ExternalSignerScriptPubKeyMan::GetExternalSigner() {\n+#ifdef ENABLE_EXTERNAL_SIGNER",
    "path": "src/wallet/external_signer_scriptpubkeyman.cpp",
    "position": null,
    "original_position": 36,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "96f991a11a871502d1a39f684994c1e2664c3af7",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "From what I can see, `GetExternalSigner()` is only called from code that is inside `ENABLE_EXTERNAL_SIGNER` #idfefs. So why can't we wrap this whole function in an #ifdef, and drop the need for the `throw()`? I think the same goes for most of this file, and some other functions in this PR. It seems weird that when external signing is not enabled, we'd still be compiling functions that aren't called from anywhere, and who's purpose is to throw a runtime error to tell you about external signing and it's need of Boost Process.",
    "created_at": "2021-02-21T07:02:00Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r579761889",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579761889"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r579761889"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579761889/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 36,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579814595",
    "pull_request_review_id": 594846212,
    "id": 579814595,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTgxNDU5NQ==",
    "diff_hunk": "@@ -0,0 +1,91 @@\n+// Copyright (c) 2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparams.h>\n+#include <wallet/external_signer.h>\n+#include <wallet/external_signer_scriptpubkeyman.h>\n+\n+\n+bool ExternalSignerScriptPubKeyMan::SetupDescriptor(std::unique_ptr<Descriptor> desc)\n+{\n+    LOCK(cs_desc_man);\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS));\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER));\n+\n+    int64_t creation_time = GetTime();\n+\n+    // Make the descriptor\n+    WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n+    m_wallet_descriptor = w_desc;\n+\n+    // Store the descriptor\n+    WalletBatch batch(m_storage.GetDatabase());\n+    if (!batch.WriteDescriptor(GetID(), m_wallet_descriptor)) {\n+        throw std::runtime_error(std::string(__func__) + \": writing descriptor failed\");\n+    }\n+\n+    // TopUp\n+    TopUp();\n+\n+    m_storage.UnsetBlankWalletFlag(batch);\n+    return true;\n+}\n+\n+ExternalSigner ExternalSignerScriptPubKeyMan::GetExternalSigner() {\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+    const std::string command = gArgs.GetArg(\"-signer\", \"\"); // DEFAULT_EXTERNAL_SIGNER);",
    "path": "src/wallet/external_signer_scriptpubkeyman.cpp",
    "position": null,
    "original_position": 37,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "96f991a11a871502d1a39f684994c1e2664c3af7",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not sure what was going on there, but I put `DEFAULT_EXTERNAL_SIGNER` back.",
    "created_at": "2021-02-21T14:23:37Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r579814595",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579814595"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r579814595"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579814595/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 37,
    "side": "RIGHT",
    "in_reply_to_id": 579744584
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579818781",
    "pull_request_review_id": 594849100,
    "id": 579818781,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTgxODc4MQ==",
    "diff_hunk": "@@ -0,0 +1,91 @@\n+// Copyright (c) 2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparams.h>\n+#include <wallet/external_signer.h>\n+#include <wallet/external_signer_scriptpubkeyman.h>\n+\n+\n+bool ExternalSignerScriptPubKeyMan::SetupDescriptor(std::unique_ptr<Descriptor> desc)\n+{\n+    LOCK(cs_desc_man);\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS));\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER));\n+\n+    int64_t creation_time = GetTime();\n+\n+    // Make the descriptor\n+    WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n+    m_wallet_descriptor = w_desc;\n+\n+    // Store the descriptor\n+    WalletBatch batch(m_storage.GetDatabase());\n+    if (!batch.WriteDescriptor(GetID(), m_wallet_descriptor)) {\n+        throw std::runtime_error(std::string(__func__) + \": writing descriptor failed\");\n+    }\n+\n+    // TopUp\n+    TopUp();\n+\n+    m_storage.UnsetBlankWalletFlag(batch);\n+    return true;\n+}\n+\n+ExternalSigner ExternalSignerScriptPubKeyMan::GetExternalSigner() {\n+#ifdef ENABLE_EXTERNAL_SIGNER",
    "path": "src/wallet/external_signer_scriptpubkeyman.cpp",
    "position": null,
    "original_position": 36,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "96f991a11a871502d1a39f684994c1e2664c3af7",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If turns out I can put the entire `ExternalSignerScriptPubKeyMan` inside `#ifdef`. The most important `throw()`s are already in `wallet.cpp`.",
    "created_at": "2021-02-21T14:54:32Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r579818781",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579818781"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r579818781"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579818781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 36,
    "side": "RIGHT",
    "in_reply_to_id": 579761889
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579821268",
    "pull_request_review_id": 594850900,
    "id": 579821268,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTgyMTI2OA==",
    "diff_hunk": "@@ -0,0 +1,91 @@\n+// Copyright (c) 2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparams.h>\n+#include <wallet/external_signer.h>\n+#include <wallet/external_signer_scriptpubkeyman.h>\n+\n+\n+bool ExternalSignerScriptPubKeyMan::SetupDescriptor(std::unique_ptr<Descriptor> desc)\n+{\n+    LOCK(cs_desc_man);\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS));\n+    assert(m_storage.IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER));\n+\n+    int64_t creation_time = GetTime();\n+\n+    // Make the descriptor\n+    WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n+    m_wallet_descriptor = w_desc;\n+\n+    // Store the descriptor\n+    WalletBatch batch(m_storage.GetDatabase());\n+    if (!batch.WriteDescriptor(GetID(), m_wallet_descriptor)) {\n+        throw std::runtime_error(std::string(__func__) + \": writing descriptor failed\");\n+    }\n+\n+    // TopUp\n+    TopUp();\n+\n+    m_storage.UnsetBlankWalletFlag(batch);\n+    return true;\n+}\n+\n+ExternalSigner ExternalSignerScriptPubKeyMan::GetExternalSigner() {\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+    const std::string command = gArgs.GetArg(\"-signer\", \"\"); // DEFAULT_EXTERNAL_SIGNER);",
    "path": "src/wallet/external_signer_scriptpubkeyman.cpp",
    "position": null,
    "original_position": 37,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "96f991a11a871502d1a39f684994c1e2664c3af7",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Now I remember, I didn't want a circular inclusion. I just switched to `\"\"`.",
    "created_at": "2021-02-21T15:13:23Z",
    "updated_at": "2021-02-23T13:35:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r579821268",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579821268"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r579821268"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579821268/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 37,
    "side": "RIGHT",
    "in_reply_to_id": 579744584
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581223149",
    "pull_request_review_id": 596580077,
    "id": 581223149,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTIyMzE0OQ==",
    "diff_hunk": "@@ -0,0 +1,171 @@\n+# Support for signing transactions outside of Bitcoin Core\n+\n+Bitcoin Core can be launched with `-signer=<cmd>` where `<cmd>` is an external tool which can sign transactions and perform other functions. For example, it can be used to communicate with a hardware wallet.\n+\n+## Example usage\n+\n+The following example is based on the [HWI](https://github.com/bitcoin-core/HWI) tool. Although this tool is hosted under the Bitcoin Core GitHub organization and maintained by Bitcoin Core developers, it should be used with caution. It is considered experimental and has far less review than Bitcoin Core itself. Be particularly careful when running tools such as these on a computer with private keys on it.\n+\n+When using a hardware wallet, consult the manufacturer website for (alternative) software they recommend. As long as their software conforms to the standard below, it should be able to work with Bitcoin Core.\n+\n+Start Bitcoin Core:\n+\n+```sh\n+$ bitcoind -signer=../HWI/hwi.py\n+```\n+\n+### Device setup\n+\n+Follow the hardware manufacturers instructions for the initial device setup, as well as their instructions for creating a backup. Alternatively, for some devices, you can use the `setup`, `restore` and `backup` commands provided by [HWI](https://github.com/bitcoin-core/HWI).\n+\n+### Create wallet and import keys\n+\n+Get a list of signing devices / services:\n+\n+```\n+$ bitcoin-cli enumeratesigners\n+{\n+  \"signers\": [\n+    {\n+      \"fingerprint\": \"c8df832a\"\n+    }\n+]\n+```\n+\n+The master key fingerprint is used to identify a device.\n+\n+Create a wallet, this automatically imports the public keys:\n+\n+```sh\n+$ bitcoin-cli createwallet \"hww\" true true \"\" true true true",
    "path": "doc/external-signer.md",
    "position": 40,
    "original_position": 40,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: Would be nice to use named args",
    "created_at": "2021-02-23T17:10:47Z",
    "updated_at": "2021-02-23T17:25:05Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r581223149",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581223149"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r581223149"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581223149/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 40,
    "original_line": 40,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581234055",
    "pull_request_review_id": 596580077,
    "id": 581234055,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTIzNDA1NQ==",
    "diff_hunk": "@@ -0,0 +1,111 @@\n+// Copyright (c) 2018-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparamsbase.h>\n+#include <key_io.h>\n+#include <rpc/server.h>\n+#include <rpc/util.h>\n+#include <util/strencodings.h>\n+#include <wallet/rpcsigner.h>\n+#include <wallet/rpcwallet.h>\n+#include <wallet/wallet.h>\n+\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+\n+static RPCHelpMan enumeratesigners()\n+{\n+    return RPCHelpMan{\n+        \"enumeratesigners\",\n+        \"Returns a list of external signers from -signer.\",\n+        {},\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::ARR, \"signers\", /* optional */ false, \"\",\n+                {\n+                    {RPCResult::Type::STR_HEX, \"masterkeyfingerprint\", \"Master key fingerprint\"},\n+                    {RPCResult::Type::STR, \"name\", \"Device name\"},\n+                },\n+                }\n+            }\n+        },\n+        RPCExamples{\"\"},\n+        [](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {\n+            std::shared_ptr<CWallet> const wallet = GetWalletForJSONRPCRequest(request);",
    "path": "src/wallet/rpcsigner.cpp",
    "position": 35,
    "original_position": 35,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "why does this rpc require a wallet?",
    "created_at": "2021-02-23T17:25:01Z",
    "updated_at": "2021-02-23T17:25:05Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r581234055",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581234055"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r581234055"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581234055/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 35,
    "original_line": 35,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581331476",
    "pull_request_review_id": 596724111,
    "id": 581331476,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTMzMTQ3Ng==",
    "diff_hunk": "@@ -0,0 +1,111 @@\n+// Copyright (c) 2018-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <chainparamsbase.h>\n+#include <key_io.h>\n+#include <rpc/server.h>\n+#include <rpc/util.h>\n+#include <util/strencodings.h>\n+#include <wallet/rpcsigner.h>\n+#include <wallet/rpcwallet.h>\n+#include <wallet/wallet.h>\n+\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+\n+static RPCHelpMan enumeratesigners()\n+{\n+    return RPCHelpMan{\n+        \"enumeratesigners\",\n+        \"Returns a list of external signers from -signer.\",\n+        {},\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::ARR, \"signers\", /* optional */ false, \"\",\n+                {\n+                    {RPCResult::Type::STR_HEX, \"masterkeyfingerprint\", \"Master key fingerprint\"},\n+                    {RPCResult::Type::STR, \"name\", \"Device name\"},\n+                },\n+                }\n+            }\n+        },\n+        RPCExamples{\"\"},\n+        [](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {\n+            std::shared_ptr<CWallet> const wallet = GetWalletForJSONRPCRequest(request);",
    "path": "src/wallet/rpcsigner.cpp",
    "position": 35,
    "original_position": 35,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I might get rid of that requirement in a followup.",
    "created_at": "2021-02-23T19:34:36Z",
    "updated_at": "2021-02-23T19:34:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r581331476",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581331476"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r581331476"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581331476/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 35,
    "original_line": 35,
    "side": "RIGHT",
    "in_reply_to_id": 581234055
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649678490",
    "pull_request_review_id": 681436088,
    "id": 649678490,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0OTY3ODQ5MA==",
    "diff_hunk": "@@ -23,3 +23,4 @@ RPCAUTH=@abs_top_srcdir@/share/rpcauth/rpcauth.py\n @BUILD_BITCOIND_TRUE@ENABLE_BITCOIND=true\n @ENABLE_FUZZ_TRUE@ENABLE_FUZZ=true\n @ENABLE_ZMQ_TRUE@ENABLE_ZMQ=true\n+@ENABLE_EXTERNAL_SIGNER_TRUE@ENABLE_EXTERNAL_SIGNER=true",
    "path": "test/config.ini.in",
    "position": 4,
    "original_position": 4,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "~It seems the `@ENABLE_EXTERNAL_SIGNER_TRUE@` substitution does not work for some reasons.~",
    "created_at": "2021-06-11T04:17:19Z",
    "updated_at": "2021-06-11T05:32:48Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r649678490",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649678490"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r649678490"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649678490/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 26,
    "original_line": 26,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649701057",
    "pull_request_review_id": 681462594,
    "id": 649701057,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0OTcwMTA1Nw==",
    "diff_hunk": "@@ -23,3 +23,4 @@ RPCAUTH=@abs_top_srcdir@/share/rpcauth/rpcauth.py\n @BUILD_BITCOIND_TRUE@ENABLE_BITCOIND=true\n @ENABLE_FUZZ_TRUE@ENABLE_FUZZ=true\n @ENABLE_ZMQ_TRUE@ENABLE_ZMQ=true\n+@ENABLE_EXTERNAL_SIGNER_TRUE@ENABLE_EXTERNAL_SIGNER=true",
    "path": "test/config.ini.in",
    "position": 4,
    "original_position": 4,
    "commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "original_commit_id": "f75e0c1edde39a91cc353b0102638e232def9476",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nm, forgot to run `./autogen.sh`",
    "created_at": "2021-06-11T05:32:40Z",
    "updated_at": "2021-06-11T05:32:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r649701057",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649701057"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16546#discussion_r649701057"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649701057/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 26,
    "original_line": 26,
    "side": "RIGHT",
    "in_reply_to_id": 649678490
  }
]