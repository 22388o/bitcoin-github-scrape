[
  {
    "sha": "3a9803f186f0d326a922471414fba6442b14e6d4",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozYTk4MDNmMTg2ZjBkMzI2YTkyMjQ3MTQxNGZiYTY0NDJiMTRlNmQ0",
    "commit": {
      "author": {
        "name": "saibato",
        "email": "saibato.naga@pm.me",
        "date": "2020-07-28T18:07:57Z"
      },
      "committer": {
        "name": "saibato",
        "email": "saibato.naga@pm.me",
        "date": "2020-07-31T19:41:13Z"
      },
      "message": "Add new bool parameter -ephemeraltoronion to prepare for ADDRv2 use.\n\nThis to make safe v3 address creation possible if we transit\nto ADDRv2. If set, we generate ephemeral tor onion addresses instead\nof quasi static ones, that are generated on node restart from the\nstatic onion_private_key file we create with the first call in torcontroler.",
      "tree": {
        "sha": "d90e8d360a08e73d50d9a0ece6c3f00f7062f12f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d90e8d360a08e73d50d9a0ece6c3f00f7062f12f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3a9803f186f0d326a922471414fba6442b14e6d4",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3a9803f186f0d326a922471414fba6442b14e6d4",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3a9803f186f0d326a922471414fba6442b14e6d4",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3a9803f186f0d326a922471414fba6442b14e6d4/comments",
    "author": {
      "login": "Saibato",
      "id": 34917548,
      "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Saibato",
      "html_url": "https://github.com/Saibato",
      "followers_url": "https://api.github.com/users/Saibato/followers",
      "following_url": "https://api.github.com/users/Saibato/following{/other_user}",
      "gists_url": "https://api.github.com/users/Saibato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
      "organizations_url": "https://api.github.com/users/Saibato/orgs",
      "repos_url": "https://api.github.com/users/Saibato/repos",
      "events_url": "https://api.github.com/users/Saibato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Saibato/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Saibato",
      "id": 34917548,
      "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Saibato",
      "html_url": "https://github.com/Saibato",
      "followers_url": "https://api.github.com/users/Saibato/followers",
      "following_url": "https://api.github.com/users/Saibato/following{/other_user}",
      "gists_url": "https://api.github.com/users/Saibato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
      "organizations_url": "https://api.github.com/users/Saibato/orgs",
      "repos_url": "https://api.github.com/users/Saibato/repos",
      "events_url": "https://api.github.com/users/Saibato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Saibato/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "edec7f7c254294cd5c46ae5cf304353d458bb852",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/edec7f7c254294cd5c46ae5cf304353d458bb852",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/edec7f7c254294cd5c46ae5cf304353d458bb852"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 3,
      "deletions": 0
    },
    "files": [
      {
        "sha": "736d56b3bbb55096a54d401653885ce239119d95",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3a9803f186f0d326a922471414fba6442b14e6d4/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3a9803f186f0d326a922471414fba6442b14e6d4/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=3a9803f186f0d326a922471414fba6442b14e6d4",
        "patch": "@@ -462,6 +462,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-peertimeout=<n>\", strprintf(\"Specify p2p connection timeout in seconds. This option determines the amount of time a peer may be inactive before the connection to it is dropped. (minimum: 1, default: %d)\", DEFAULT_PEER_CONNECT_TIMEOUT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-torcontrol=<ip>:<port>\", strprintf(\"Tor control port to use if onion listening enabled (default: %s)\", DEFAULT_TOR_CONTROL), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-torpassword=<pass>\", \"Tor control port password (default: empty)\", ArgsManager::ALLOW_ANY | ArgsManager::SENSITIVE, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-ephemeraltoronion\", strprintf(\"generate ephemeral tor onion address at any node restart, default: %u)\", DEFAULT_EPHEMERAL_TOR_ONION), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n #ifdef USE_UPNP\n #if USE_UPNP\n     argsman.AddArg(\"-upnp\", \"Use UPnP to map the listening port (default: 1 when listening and no -proxy)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);"
      },
      {
        "sha": "b49240c67a8a331af0323ffc906123709be587cf",
        "filename": "src/torcontrol.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3a9803f186f0d326a922471414fba6442b14e6d4/src/torcontrol.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3a9803f186f0d326a922471414fba6442b14e6d4/src/torcontrol.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/torcontrol.h?ref=3a9803f186f0d326a922471414fba6442b14e6d4",
        "patch": "@@ -11,6 +11,8 @@\n \n extern const std::string DEFAULT_TOR_CONTROL;\n static const bool DEFAULT_LISTEN_ONION = true;\n+/** Allow onion address to be created ephemeral on every node restart */\n+static const bool DEFAULT_EPHEMERAL_TOR_ONION = false;\n \n void StartTorControl();\n void InterruptTorControl();"
      }
    ]
  }
]