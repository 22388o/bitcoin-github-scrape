[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847306032",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22049#issuecomment-847306032",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22049",
    "id": 847306032,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NzMwNjAzMg==",
    "user": {
      "login": "champo",
      "id": 202728,
      "node_id": "MDQ6VXNlcjIwMjcyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/202728?u=1b01a6b801a91b05726a543cda419b361f894638&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/champo",
      "html_url": "https://github.com/champo",
      "followers_url": "https://api.github.com/users/champo/followers",
      "following_url": "https://api.github.com/users/champo/following{/other_user}",
      "gists_url": "https://api.github.com/users/champo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/champo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/champo/subscriptions",
      "organizations_url": "https://api.github.com/users/champo/orgs",
      "repos_url": "https://api.github.com/users/champo/repos",
      "events_url": "https://api.github.com/users/champo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/champo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-24T20:14:31Z",
    "updated_at": "2021-05-24T20:14:31Z",
    "author_association": "NONE",
    "body": "> Seems reasonable, although the use case for this is not immediately obvious to me.\r\n\r\nThe use case is for applications that are using RBF for something else than bumping fee (as implemented by `bumpfee` RPC). RBF requires new inputs added to a replacement to be confirmed. The functional tests are modeled after one of the use cases: increasing the value of an output beyond the current funding of the TX.\r\n\r\n> Perhaps it would also be useful to add `inputs_max_depth` too?\r\n\r\nWill do!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847306032/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847360343",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22049#issuecomment-847360343",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22049",
    "id": 847360343,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NzM2MDM0Mw==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-24T21:53:38Z",
    "updated_at": "2021-08-12T22:17:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22686](https://github.com/bitcoin/bitcoin/pull/22686) (wallet: Use GetSelectionAmount in ApproximateBestSubset by achow101)\n* [#17211](https://github.com/bitcoin/bitcoin/pull/17211) (Allow fundrawtransaction and walletcreatefundedpsbt to take external inputs by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847360343/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847386545",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22049#issuecomment-847386545",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22049",
    "id": 847386545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NzM4NjU0NQ==",
    "user": {
      "login": "champo",
      "id": 202728,
      "node_id": "MDQ6VXNlcjIwMjcyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/202728?u=1b01a6b801a91b05726a543cda419b361f894638&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/champo",
      "html_url": "https://github.com/champo",
      "followers_url": "https://api.github.com/users/champo/followers",
      "following_url": "https://api.github.com/users/champo/following{/other_user}",
      "gists_url": "https://api.github.com/users/champo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/champo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/champo/subscriptions",
      "organizations_url": "https://api.github.com/users/champo/orgs",
      "repos_url": "https://api.github.com/users/champo/repos",
      "events_url": "https://api.github.com/users/champo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/champo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-24T22:13:55Z",
    "updated_at": "2021-05-24T22:13:55Z",
    "author_association": "NONE",
    "body": "Thanks for the quick look guys! I've updated the changset with your feedback. I'm not sure what the ettiquete is here regarding squashing mid-review, so I opted to add new commits. LMK if this is not what you expect.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847386545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/868196150",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22049#issuecomment-868196150",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22049",
    "id": 868196150,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2ODE5NjE1MA==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-25T04:32:21Z",
    "updated_at": "2021-06-25T04:32:21Z",
    "author_association": "MEMBER",
    "body": "Duplicate of #14641 ?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/868196150/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/899323350",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22049#issuecomment-899323350",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22049",
    "id": 899323350,
    "node_id": "IC_kwDOABII5841mpXW",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-16T08:26:49Z",
    "updated_at": "2021-08-16T08:26:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n\ud83d\udc19 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/899323350/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638239413",
    "pull_request_review_id": 667127883,
    "id": 638239413,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODIzOTQxMw==",
    "diff_hunk": "@@ -969,6 +970,53 @@ def test_include_unsafe(self):\n         signedtx = wallet.signrawtransactionwithwallet(fundedtx['hex'])\n         wallet.sendrawtransaction(signedtx['hex'])\n \n+    def test_inputs_min_chain_depth(self):\n+        unconfirmedAddress = self.nodes[0].getnewaddress()\n+        targetAddress = self.nodes[2].getnewaddress()\n+        unconfirmedTxid = self.nodes[0].sendtoaddress(unconfirmedAddress, 1)\n+\n+        utxo1 = self.nodes[0].listunspent(0, 1, [unconfirmedAddress])[0]\n+        assert unconfirmedTxid == utxo1['txid']\n+\n+        self.log.info(\"Crafting PSBT using an unconfirmed input\")",
    "path": "test/functional/rpc_fundrawtransaction.py",
    "position": null,
    "original_position": 20,
    "commit_id": "7f4c9039f717e4d3c99c7b905dfc6d77c4faeec1",
    "original_commit_id": "6086c58d27146d500b7ff8de89a5279a6f88457d",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In 6086c58d27146d500b7ff8de89a5279a6f88457d \"rpc: allow specifying min chain depth for inputs in fund calls\"\r\n\r\n```suggestion\r\n        self.log.info(\"Crafting tx using an unconfirmed input\")\r\n```\r\n\r\nHere and elsewhere in this file too.",
    "created_at": "2021-05-24T20:04:07Z",
    "updated_at": "2021-05-24T20:06:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22049#discussion_r638239413",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22049",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638239413"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22049#discussion_r638239413"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638239413/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 981,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638240818",
    "pull_request_review_id": 667129742,
    "id": 638240818,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODI0MDgxOA==",
    "diff_hunk": "@@ -3215,6 +3224,7 @@ static RPCHelpMan fundrawtransaction()\n                             {\"include_unsafe\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"Include inputs that are not safe to spend (unconfirmed transactions from outside keys and unconfirmed replacement transactions).\\n\"\n                                                           \"Warning: the resulting transaction may become invalid if one of the unsafe inputs disappears.\\n\"\n                                                           \"If that happens, you will need to fund the transaction with different inputs and republish it.\"},\n+                            {\"inputs_min_depth\", RPCArg::Type::NUM, RPCArg::Default{0}, \"If add_inputs is specified, require inputs with at least this chain depth.\"},",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 27,
    "commit_id": "7f4c9039f717e4d3c99c7b905dfc6d77c4faeec1",
    "original_commit_id": "6086c58d27146d500b7ff8de89a5279a6f88457d",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "IMO should be `minconf`, see `listunspent` RPC.",
    "created_at": "2021-05-24T20:06:54Z",
    "updated_at": "2021-05-24T20:07:19Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22049#discussion_r638240818",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22049",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638240818"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22049#discussion_r638240818"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638240818/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3227,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638343065",
    "pull_request_review_id": 667259205,
    "id": 638343065,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODM0MzA2NQ==",
    "diff_hunk": "@@ -4043,6 +4063,8 @@ static RPCHelpMan send()\n                     {\"include_unsafe\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"Include inputs that are not safe to spend (unconfirmed transactions from outside keys and unconfirmed replacement transactions).\\n\"\n                                                           \"Warning: the resulting transaction may become invalid if one of the unsafe inputs disappears.\\n\"\n                                                           \"If that happens, you will need to fund the transaction with different inputs and republish it.\"},\n+                    {\"minconfs\", RPCArg::Type::NUM, RPCArg::Default{0}, \"If add_inputs is specified, require inputs with at least this confirmations.\"},",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 45,
    "commit_id": "7f4c9039f717e4d3c99c7b905dfc6d77c4faeec1",
    "original_commit_id": "290f9dad447256bd97e50f243e70b8a06bc7123c",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It's singular:\r\nhttps://github.com/bitcoin/bitcoin/blob/b295395664bd37e26d168c329f238237b34aef8c/src/wallet/rpcwallet.cpp#L2844-L2845",
    "created_at": "2021-05-24T22:59:08Z",
    "updated_at": "2021-05-24T22:59:08Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22049#discussion_r638343065",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22049",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638343065"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22049#discussion_r638343065"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638343065/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4066,
    "side": "RIGHT"
  }
]