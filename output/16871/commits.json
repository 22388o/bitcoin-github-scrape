[
  {
    "sha": "ff6122f32b21fa00e9308e098b33b9657debc1d7",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmZjYxMjJmMzJiMjFmYTAwZTkzMDhlMDk4YjMzYjk2NTdkZWJjMWQ3",
    "commit": {
      "author": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2019-09-14T02:50:04Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2019-09-14T02:50:04Z"
      },
      "message": "doc: clarify protobuf build requirements",
      "tree": {
        "sha": "f6a17e34e7e7339a052b047968ec3e780d5b5a1e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f6a17e34e7e7339a052b047968ec3e780d5b5a1e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ff6122f32b21fa00e9308e098b33b9657debc1d7",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAl18VVwACgkQLuufXMCV\nJsGXOA/+LNCCkSaXIUDPF7qqhgApOu+gUOb3WIASdtg2Gfg5ve8CR3SbeBKddgyp\noHwhKICknR3OSOWcLxyxQzM4NEA2BlhnzmZ5KKscnqrAC6g8+qpicSQHNfNfHWXb\nx5NJ2EZguAmAB/KNJY/HO3lWEGmaizFAcZTtClcluraqIXgmYQ6DH5wbSMfdhMtT\nD7FNwGyNTphdHN6y6zj0finSGXCrYZSor2BT03+0AtPykqJQFVdem7QUo/YJgRuH\n5OLkJVXLKr1SMVlMPlYPnMxzqstnbGIhG7djI/QLpPrW3m1CwF28VGoe5xWIYldK\nhbCJmicrdI8oMGG9eynHguybhzW2qvsxU1fk2yxeL/Ja1lEPcyxrct0sLArdJFP7\nCOdYVDfqnwn0JwLeRG14411vov3+lu+goZJbJqOxMrlwADB2KQBXiOkTXg0UNs2g\nTrPISenqBJnW73jncZN9cTXLPD53x6BTGuhf7ctKtTkMf1zI6UPa9s/YTgaTWjho\nE2sxs8rUveahD4I+jyVku5qfIu3RLyCbgzxQvUjnlEmftET6MlXd5Y3CXIcrGTgI\n0Ew2HbM5qEgY47Zu29NKgH+vp0UHll1lwlTVmCQXJ/cNVcQijiz4H+Yd5L5fqrQg\nZGiqVCpPjNZcKCR2rLbHkQL2HWTKXCVwGvmsSfJugfsjmJ7GA30=\n=sb6a\n-----END PGP SIGNATURE-----",
        "payload": "tree f6a17e34e7e7339a052b047968ec3e780d5b5a1e\nparent fb4f5beb6ede4aadeaff779cd67a0f6665419488\nauthor fanquake <fanquake@gmail.com> 1568429404 +0800\ncommitter fanquake <fanquake@gmail.com> 1568429404 +0800\n\ndoc: clarify protobuf build requirements\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ff6122f32b21fa00e9308e098b33b9657debc1d7",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ff6122f32b21fa00e9308e098b33b9657debc1d7",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ff6122f32b21fa00e9308e098b33b9657debc1d7/comments",
    "author": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fb4f5beb6ede4aadeaff779cd67a0f6665419488",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fb4f5beb6ede4aadeaff779cd67a0f6665419488",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fb4f5beb6ede4aadeaff779cd67a0f6665419488"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "069c983e6ef618b322ead2dbd813fccb288a2fe2",
        "filename": "doc/build-unix.md",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ff6122f32b21fa00e9308e098b33b9657debc1d7/doc/build-unix.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ff6122f32b21fa00e9308e098b33b9657debc1d7/doc/build-unix.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/build-unix.md?ref=ff6122f32b21fa00e9308e098b33b9657debc1d7",
        "patch": "@@ -44,7 +44,7 @@ Optional dependencies:\n  miniupnpc   | UPnP Support     | Firewall-jumping support\n  libdb4.8    | Berkeley DB      | Wallet storage (only needed when wallet enabled)\n  qt          | GUI              | GUI toolkit (only needed when GUI enabled)\n- protobuf    | Payments in GUI  | Data interchange format used for payment protocol (only needed when GUI enabled)\n+ protobuf    | Payments in GUI  | Data interchange format used for payment protocol (only needed when BIP70 enabled)\n  libqrencode | QR codes in GUI  | Optional for generating QR codes (only needed when GUI enabled)\n  univalue    | Utility          | JSON parsing and encoding (bundled version will be used unless --with-system-univalue passed to configure)\n  libzmq3     | ZMQ notification | Optional, allows generating ZMQ notifications (requires ZMQ version >= 4.0.0)"
      },
      {
        "sha": "e5b4084d999487c68b17ed5452e51069fb9ad405",
        "filename": "doc/dependencies.md",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ff6122f32b21fa00e9308e098b33b9657debc1d7/doc/dependencies.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ff6122f32b21fa00e9308e098b33b9657debc1d7/doc/dependencies.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/dependencies.md?ref=ff6122f32b21fa00e9308e098b33b9657debc1d7",
        "patch": "@@ -35,7 +35,7 @@ Some dependencies are not needed in all configurations. The following are some f\n #### Options passed to `./configure`\n * MiniUPnPc is not needed with  `--with-miniupnpc=no`.\n * Berkeley DB is not needed with `--disable-wallet`.\n-* protobuf is not needed with `--disable-bip70`.\n+* protobuf is only needed with `--enable-bip70`.\n * Qt is not needed with `--without-gui`.\n * If the qrencode dependency is absent, QR support won't be added. To force an error when that happens, pass `--with-qrencode`.\n * ZeroMQ is needed only with the `--with-zmq` option."
      }
    ]
  },
  {
    "sha": "107e030723552cf272dc8da01bb682032a457a3d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxMDdlMDMwNzIzNTUyY2YyNzJkYzhkYTAxYmI2ODIwMzJhNDU3YTNk",
    "commit": {
      "author": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2019-09-14T03:03:56Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2019-09-14T04:58:59Z"
      },
      "message": "build: make protobuf optional in depends\n\nThose that want to build it can now pass PROTOBUF=1.",
      "tree": {
        "sha": "836921f04c518dd9f78bb825f27c05b3bc56fe5f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/836921f04c518dd9f78bb825f27c05b3bc56fe5f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/107e030723552cf272dc8da01bb682032a457a3d",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAl18c5MACgkQLuufXMCV\nJsFJvg//THf0MqxgPaJ7u/Xyxnjsr38fhMJ7ReUplDdezyZa9vsZ1QUS7R6QCg5O\nI9koCtdKqunJETgRmdwnn0aA86iwHo30mD/re+yCsVEEEVLcNJ2H3vgd+L+A1WIL\nP2eQkz5Z/pfPWkc/u+GCfeJvAGxJhmJdETeMoOZ095DP0OkLy5/cwq4+Q0fbn3Uu\nTF4C3Xnkbt4CmDnHD3KmyCD/EFJJESqWWhSVphGqNml90KWBNoC1CTL6EWHhLDnT\n6FUIiDYH+yMVMlVSO/DU5NGqQR/egSu9R9lT5CncnbJ82/lXeGHlyxJ9HPX9f2wZ\nvJQjPCG/HZT52JBI3UfciRTiyXhPRUStYSV4RHMaEC8IzjYrKJ8Y3C8MPwoj8BFH\nXiI7MnXA9joqz0FwjeY6Rzj6ILpdlakoENpugBttyBodRHuLvRTdM4OEjkFxYh38\n6WD/HqUQc/3KkwFJBx0x+LdXbSDsYs5UR6cBIOx6hP0TMINxLl294llF17vVoE/U\nEFDyznOoJnH45Wn4VCycbEXa6+j0tdBnxs3crXTfiW/S91dQkbwIJAH5J4zM7iv8\nHBfrifwhqQ83mH/KF1j1yvqYyPF3+HWIE8iFFv/EkMzje+n+pMqXYTGGeU9LIWFV\nmxqDdnbzzJF4kZ90tVHZHCKBA/2/80eb906NWmhwOhQcmMRp978=\n=hkqW\n-----END PGP SIGNATURE-----",
        "payload": "tree 836921f04c518dd9f78bb825f27c05b3bc56fe5f\nparent ff6122f32b21fa00e9308e098b33b9657debc1d7\nauthor fanquake <fanquake@gmail.com> 1568430236 +0800\ncommitter fanquake <fanquake@gmail.com> 1568437139 +0800\n\nbuild: make protobuf optional in depends\n\nThose that want to build it can now pass PROTOBUF=1.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/107e030723552cf272dc8da01bb682032a457a3d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/107e030723552cf272dc8da01bb682032a457a3d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/107e030723552cf272dc8da01bb682032a457a3d/comments",
    "author": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ff6122f32b21fa00e9308e098b33b9657debc1d7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ff6122f32b21fa00e9308e098b33b9657debc1d7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ff6122f32b21fa00e9308e098b33b9657debc1d7"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 16,
      "deletions": 4
    },
    "files": [
      {
        "sha": "63068dc95dd8554122d180d887387b352ffe9a38",
        "filename": "ci/test/00_setup_env_i686.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/107e030723552cf272dc8da01bb682032a457a3d/ci/test/00_setup_env_i686.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/107e030723552cf272dc8da01bb682032a457a3d/ci/test/00_setup_env_i686.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_i686.sh?ref=107e030723552cf272dc8da01bb682032a457a3d",
        "patch": "@@ -7,6 +7,7 @@\n export LC_ALL=C.UTF-8\n \n export HOST=i686-pc-linux-gnu\n+export DEP_OPTS=\"PROTOBUF=1\"\n export PACKAGES=\"g++-multilib python3-zmq\"\n export GOAL=\"install\"\n export BITCOIN_CONFIG=\"--enable-zmq --with-gui=qt5 --enable-bip70 --enable-glibc-back-compat --enable-reduce-exports LDFLAGS=-static-libstdc++\""
      },
      {
        "sha": "b7e9a9213edb59e95baaff52dd08da58aafe0c44",
        "filename": "depends/Makefile",
        "status": "modified",
        "additions": 6,
        "deletions": 2,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/107e030723552cf272dc8da01bb682032a457a3d/depends/Makefile",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/107e030723552cf272dc8da01bb682032a457a3d/depends/Makefile",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/Makefile?ref=107e030723552cf272dc8da01bb682032a457a3d",
        "patch": "@@ -5,6 +5,7 @@ WORK_PATH = $(BASEDIR)/work\n BASE_CACHE ?= $(BASEDIR)/built\n SDK_PATH ?= $(BASEDIR)/SDKs\n NO_QT ?=\n+PROTOBUF ?=\n RAPIDCHECK ?=\n NO_WALLET ?=\n NO_ZMQ ?=\n@@ -96,13 +97,15 @@ wallet_packages_$(NO_WALLET) = $(wallet_packages)\n upnp_packages_$(NO_UPNP) = $(upnp_packages)\n zmq_packages_$(NO_ZMQ) = $(zmq_packages)\n \n+protobuf_packages_$(PROTOBUF) = $(protobuf_packages)\n rapidcheck_packages_$(RAPIDCHECK) = $(rapidcheck_packages)\n \n packages += $($(host_arch)_$(host_os)_packages) $($(host_os)_packages) $(qt_packages_) $(wallet_packages_) $(upnp_packages_)\n native_packages += $($(host_arch)_$(host_os)_native_packages) $($(host_os)_native_packages)\n \n-ifneq ($(qt_packages_),)\n-native_packages += $(qt_native_packages)\n+ifeq ($(protobuf_packages_),)\n+native_packages += $(protobuf_native_packages)\n+packages += $(protobuf_packages)\n endif\n \n ifneq ($(zmq_packages_),)\n@@ -150,6 +153,7 @@ $(host_prefix)/share/config.site : config.site.in $(host_prefix)/.stamp_$(final_\n             -e 's|@allow_host_packages@|$(ALLOW_HOST_PACKAGES)|' \\\n             -e 's|@no_qt@|$(NO_QT)|' \\\n             -e 's|@no_zmq@|$(NO_ZMQ)|' \\\n+            -e 's|@enable_bip70@|$(PROTOBUF)|' \\\n             -e 's|@no_wallet@|$(NO_WALLET)|' \\\n             -e 's|@no_upnp@|$(NO_UPNP)|' \\\n             -e 's|@debug@|$(DEBUG)|' \\"
      },
      {
        "sha": "cfb9bbfeb0d57095ee954c00e5d3eb12a6b3ad59",
        "filename": "depends/README.md",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/107e030723552cf272dc8da01bb682032a457a3d/depends/README.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/107e030723552cf272dc8da01bb682032a457a3d/depends/README.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/README.md?ref=107e030723552cf272dc8da01bb682032a457a3d",
        "patch": "@@ -77,6 +77,7 @@ The following can be set when running make: make FOO=bar\n     NO_UPNP: Don't download/build/cache packages needed for enabling upnp\n     DEBUG: disable some optimizations and enable more runtime checking\n     RAPIDCHECK: build rapidcheck (experimental, requires cmake)\n+    PROTOBUF: build protobuf (used for deprecated BIP70 support)\n     HOST_ID_SALT: Optional salt to use when generating host package ids\n     BUILD_ID_SALT: Optional salt to use when generating build package ids\n "
      },
      {
        "sha": "d0d36641c4053ac5d73654451094fe54f0a90be6",
        "filename": "depends/config.site.in",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/107e030723552cf272dc8da01bb682032a457a3d/depends/config.site.in",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/107e030723552cf272dc8da01bb682032a457a3d/depends/config.site.in",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/config.site.in?ref=107e030723552cf272dc8da01bb682032a457a3d",
        "patch": "@@ -37,6 +37,10 @@ if test -z $enable_zmq && test -n \"@no_zmq@\"; then\n   enable_zmq=no\n fi\n \n+if test -n $enable_bip70 && test -n \"@enable_bip70@\"; then\n+  enable_bip70=yes\n+fi\n+\n if test x@host_os@ = xdarwin; then\n   BREW=no\n   PORT=no"
      },
      {
        "sha": "667fde5271a745e63c88f68e860fc7ac6126e1f2",
        "filename": "depends/packages/packages.mk",
        "status": "modified",
        "additions": 4,
        "deletions": 2,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/107e030723552cf272dc8da01bb682032a457a3d/depends/packages/packages.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/107e030723552cf272dc8da01bb682032a457a3d/depends/packages/packages.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/packages.mk?ref=107e030723552cf272dc8da01bb682032a457a3d",
        "patch": "@@ -1,7 +1,9 @@\n packages:=boost openssl libevent\n \n-qt_native_packages = native_protobuf\n-qt_packages = qrencode protobuf zlib\n+protobuf_native_packages = native_protobuf\n+protobuf_packages = protobuf\n+\n+qt_packages = qrencode zlib\n \n qt_linux_packages:=qt expat libxcb xcb_proto libXau xproto freetype fontconfig\n "
      }
    ]
  }
]