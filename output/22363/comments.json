[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/871029889",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#issuecomment-871029889",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22363",
    "id": 871029889,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MTAyOTg4OQ==",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?u=a0e0040aacd7d4f0787481e8ac30b494fa429e11&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-30T01:30:45Z",
    "updated_at": "2021-06-30T01:30:45Z",
    "author_association": "MEMBER",
    "body": "Concept ACK - if we've got these helpers for this, we might as well be using them.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/871029889/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/871175881",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#issuecomment-871175881",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22363",
    "id": 871175881,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MTE3NTg4MQ==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-30T07:48:47Z",
    "updated_at": "2021-06-30T07:48:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/871175881/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/872974120",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#issuecomment-872974120",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22363",
    "id": 872974120,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3Mjk3NDEyMA==",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-02T12:51:53Z",
    "updated_at": "2021-07-02T12:51:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Definite Concept ACK to reusing helper functions instead of creating scripts manually. I think we should add some unit tests to wallet_util.py, since it's not outside the realm of possibility for those util functions to have errors.\r\n\r\nAgree that unit tests are a good idea here! This way we can also check that the sanity checks in the helpers (i.e. for key/keyhash/scripthash lengths) work.\r\n\r\n> Good catch, but is the first commit ([61b6a01](https://github.com/bitcoin/bitcoin/commit/61b6a017a9f99ef072b2d1980dd547eb20093352) fix multisig P2SH-P2WSH script creation ) necessary? You overwrite it immediately in the next commit. Perhaps it'd be better to add a unit test that hits that case instead?\r\n\r\nThe intention was to clearly separate \"bugfixing\" (in parantheses because the result is not used in any test right now) and refactoring. I thought if that is mixed in a single commit, it could be potentially confusing for reviewers if at this single instance the replacement of CScript doesn't match the P2SH pattern. Will maybe squash it with a mention of the bugfix in the commit message though when I touch again. Adding a unit test is any case a good idea :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/872974120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/874150885",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#issuecomment-874150885",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22363",
    "id": 874150885,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NDE1MDg4NQ==",
    "user": {
      "login": "0xB10C",
      "id": 19157360,
      "node_id": "MDQ6VXNlcjE5MTU3MzYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/19157360?u=a20996a145f1be613c7b0a57e75d36508572e29d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xB10C",
      "html_url": "https://github.com/0xB10C",
      "followers_url": "https://api.github.com/users/0xB10C/followers",
      "following_url": "https://api.github.com/users/0xB10C/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xB10C/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
      "organizations_url": "https://api.github.com/users/0xB10C/orgs",
      "repos_url": "https://api.github.com/users/0xB10C/repos",
      "events_url": "https://api.github.com/users/0xB10C/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xB10C/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-05T14:20:06Z",
    "updated_at": "2021-07-05T14:20:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/874150885/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/874507912",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#issuecomment-874507912",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22363",
    "id": 874507912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NDUwNzkxMg==",
    "user": {
      "login": "rajarshimaitra",
      "id": 36541669,
      "node_id": "MDQ6VXNlcjM2NTQxNjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/36541669?u=3bb306a343c601258749dbbd03dbe66d0e9d82b4&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rajarshimaitra",
      "html_url": "https://github.com/rajarshimaitra",
      "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
      "following_url": "https://api.github.com/users/rajarshimaitra/following{/other_user}",
      "gists_url": "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
      "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
      "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
      "events_url": "https://api.github.com/users/rajarshimaitra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-06T06:54:01Z",
    "updated_at": "2021-07-06T06:54:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "tACK https://github.com/bitcoin/bitcoin/pull/22363/commits/905d672b743edf31531d095ffe800449eaffec69",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/874507912/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876594293",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#issuecomment-876594293",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22363",
    "id": 876594293,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NjU5NDI5Mw==",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?u=7965845672d27f915c0cbf6a4912ef63a012efb1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-08T16:53:32Z",
    "updated_at": "2021-07-08T16:53:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "tACK 905d672b743edf31531d095ffe800449eaffec69\r\n\r\nReview club meeting notes and IRC log: https://bitcoincore.reviews/22363\r\n\r\nThis PR has many simple \"substitution\" changes that follow the same pattern, and I wasn't confident that my attention span was sufficient to review all of them. So I made the following sort of change (in a semi-automated way) to the substitution changes in this PR (reinstated the old code and asserted that the new code created the same result):\r\n```diff\r\n-            spk = keyhash_to_p2pkh_script(pubkeyhash)\r\n+            spk = CScript([OP_DUP, OP_HASH160, pubkeyhash, OP_EQUALVERIFY, OP_CHECKSIG])\r\n+            assert_equal(spk, keyhash_to_p2pkh_script(pubkeyhash))\r\n```\r\nWith these changes, `test_runner.py` passes, so I'm pretty confident the changes are all correct. (Actually, I had some timeouts, but I'm pretty sure it's just because my system is too slow.)\r\n\r\nI also searched for places where these changes may have been missed and did not find any, so I think this PR is complete. Good PR!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876594293/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/662183467",
    "pull_request_review_id": 697096767,
    "id": 662183467,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2MjE4MzQ2Nw==",
    "diff_hunk": "@@ -25,10 +25,12 @@\n     OP_2,\n     OP_3,\n     OP_CHECKMULTISIG,\n-    OP_EQUAL,\n     OP_HASH160,\n     OP_RETURN,\n )\n+from test_framework.script_util import (",
    "path": "test/functional/mempool_accept.py",
    "position": 14,
    "original_position": 8,
    "commit_id": "905d672b743edf31531d095ffe800449eaffec69",
    "original_commit_id": "d7d3cd4f367a41f5e79e96dc7efa1ea8d493c344",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url": "https://api.github.com/users/glozow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In d7d3cd4f367a41f5e79e96dc7efa1ea8d493c344 use script_util helpers for creating P2SH scripts\r\n\r\nnit: remove the unused import `test_framework.script.hash160`. You remove it later, but this commit fails the linter.",
    "created_at": "2021-07-01T10:47:51Z",
    "updated_at": "2021-07-01T11:03:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r662183467",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/662183467"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r662183467"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/662183467/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 30,
    "original_line": 30,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/662988104",
    "pull_request_review_id": 698152531,
    "id": 662988104,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2Mjk4ODEwNA==",
    "diff_hunk": "@@ -25,10 +25,12 @@\n     OP_2,\n     OP_3,\n     OP_CHECKMULTISIG,\n-    OP_EQUAL,\n     OP_HASH160,\n     OP_RETURN,\n )\n+from test_framework.script_util import (",
    "path": "test/functional/mempool_accept.py",
    "position": 14,
    "original_position": 8,
    "commit_id": "905d672b743edf31531d095ffe800449eaffec69",
    "original_commit_id": "d7d3cd4f367a41f5e79e96dc7efa1ea8d493c344",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oops, my lazyness of never running the linter locally backfires ;) thanks for spotting out. Fixed.\r\n\r\n",
    "created_at": "2021-07-02T12:49:13Z",
    "updated_at": "2021-07-02T12:49:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r662988104",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/662988104"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r662988104"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/662988104/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 30,
    "original_line": 30,
    "side": "RIGHT",
    "in_reply_to_id": 662183467
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/663990893",
    "pull_request_review_id": 699257649,
    "id": 663990893,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2Mzk5MDg5Mw==",
    "diff_hunk": "@@ -49,7 +49,10 @@\n     OP_LSHIFT,\n     OP_RSHIFT\n )\n-basic_p2sh = sc.CScript([sc.OP_HASH160, sc.hash160(sc.CScript([sc.OP_0])), sc.OP_EQUAL])\n+from test_framework.script_util import (\n+    script_to_p2sh_script,\n+)\n+basic_p2sh = script_to_p2sh_script(sc.CScript([sc.OP_0]))",
    "path": "test/functional/data/invalid_txs.py",
    "position": null,
    "original_position": 8,
    "commit_id": "905d672b743edf31531d095ffe800449eaffec69",
    "original_commit_id": "15e3379a8ad9f7d0962af7e0a94b0a5e332b8743",
    "user": {
      "login": "rajarshimaitra",
      "id": 36541669,
      "node_id": "MDQ6VXNlcjM2NTQxNjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rajarshimaitra",
      "html_url": "https://github.com/rajarshimaitra",
      "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
      "following_url": "https://api.github.com/users/rajarshimaitra/following{/other_user}",
      "gists_url": "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
      "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
      "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
      "events_url": "https://api.github.com/users/rajarshimaitra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`CScript` is already imported. So just  `script_to_p2sh_script(CScript([sc.OP_0]))` would work. \r\n\r\nSo can be done for `OP_0` if its imported in the list above. ",
    "created_at": "2021-07-05T14:55:32Z",
    "updated_at": "2021-07-05T14:57:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r663990893",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/663990893"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r663990893"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/663990893/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 55,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664088832",
    "pull_request_review_id": 699374952,
    "id": 664088832,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2NDA4ODgzMg==",
    "diff_hunk": "@@ -49,7 +49,10 @@\n     OP_LSHIFT,\n     OP_RSHIFT\n )\n-basic_p2sh = sc.CScript([sc.OP_HASH160, sc.hash160(sc.CScript([sc.OP_0])), sc.OP_EQUAL])\n+from test_framework.script_util import (\n+    script_to_p2sh_script,\n+)\n+basic_p2sh = script_to_p2sh_script(sc.CScript([sc.OP_0]))",
    "path": "test/functional/data/invalid_txs.py",
    "position": null,
    "original_position": 8,
    "commit_id": "905d672b743edf31531d095ffe800449eaffec69",
    "original_commit_id": "15e3379a8ad9f7d0962af7e0a94b0a5e332b8743",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks for reviewing! Good point, got rid now of the redundant `import script as sc` and extended the list of OP_... imports accordingly, took also the chance to sort them. Should look cleaner now.",
    "created_at": "2021-07-05T18:48:31Z",
    "updated_at": "2021-07-05T18:49:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r664088832",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664088832"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r664088832"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664088832/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 55,
    "side": "RIGHT",
    "in_reply_to_id": 663990893
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664282535",
    "pull_request_review_id": 699593178,
    "id": 664282535,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2NDI4MjUzNQ==",
    "diff_hunk": "@@ -49,7 +49,10 @@\n     OP_LSHIFT,\n     OP_RSHIFT\n )\n-basic_p2sh = sc.CScript([sc.OP_HASH160, sc.hash160(sc.CScript([sc.OP_0])), sc.OP_EQUAL])\n+from test_framework.script_util import (\n+    script_to_p2sh_script,\n+)\n+basic_p2sh = script_to_p2sh_script(sc.CScript([sc.OP_0]))",
    "path": "test/functional/data/invalid_txs.py",
    "position": null,
    "original_position": 8,
    "commit_id": "905d672b743edf31531d095ffe800449eaffec69",
    "original_commit_id": "15e3379a8ad9f7d0962af7e0a94b0a5e332b8743",
    "user": {
      "login": "rajarshimaitra",
      "id": 36541669,
      "node_id": "MDQ6VXNlcjM2NTQxNjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rajarshimaitra",
      "html_url": "https://github.com/rajarshimaitra",
      "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
      "following_url": "https://api.github.com/users/rajarshimaitra/following{/other_user}",
      "gists_url": "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
      "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
      "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
      "events_url": "https://api.github.com/users/rajarshimaitra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Looks good now.. Thanks for considering. ",
    "created_at": "2021-07-06T06:53:47Z",
    "updated_at": "2021-07-06T06:53:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r664282535",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664282535"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r664282535"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664282535/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 55,
    "side": "RIGHT",
    "in_reply_to_id": 663990893
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/666408865",
    "pull_request_review_id": 702354322,
    "id": 666408865,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2NjQwODg2NQ==",
    "diff_hunk": "@@ -461,13 +462,13 @@ def make_spender(comment, *, tap=None, witv0=False, script=None, pkh=None, p2sh=\n             # P2WPKH\n             assert script is None\n             pubkeyhash = hash160(pkh)\n-            spk = CScript([OP_0, pubkeyhash])\n+            spk = key_to_p2wpkh_script(pkh)",
    "path": "test/functional/feature_taproot.py",
    "position": 33,
    "original_position": 23,
    "commit_id": "905d672b743edf31531d095ffe800449eaffec69",
    "original_commit_id": "905d672b743edf31531d095ffe800449eaffec69",
    "user": {
      "login": "0xB10C",
      "id": 19157360,
      "node_id": "MDQ6VXNlcjE5MTU3MzYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xB10C",
      "html_url": "https://github.com/0xB10C",
      "followers_url": "https://api.github.com/users/0xB10C/followers",
      "following_url": "https://api.github.com/users/0xB10C/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xB10C/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
      "organizations_url": "https://api.github.com/users/0xB10C/orgs",
      "repos_url": "https://api.github.com/users/0xB10C/repos",
      "events_url": "https://api.github.com/users/0xB10C/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xB10C/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Note: I first thought we are passing a public-key-hash to `key_to_p2wpkh_script()` as the variable is named `pkh`. Printing `pkh` shows that it is an uncompressed public key and the function docs say `pkh: the public key for P2PKH or P2WPKH spending` too. (nothing to do here)\r\n",
    "created_at": "2021-07-08T17:59:05Z",
    "updated_at": "2021-07-08T19:49:06Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r666408865",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/666408865"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r666408865"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/666408865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 465,
    "original_line": 465,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/666785588",
    "pull_request_review_id": 702828891,
    "id": 666785588,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2Njc4NTU4OA==",
    "diff_hunk": "@@ -83,7 +82,7 @@ def get_generate_key():\n                p2pkh_addr=key_to_p2pkh(pubkey),\n                p2wpkh_script=CScript([OP_0, pkh]).hex(),\n                p2wpkh_addr=key_to_p2wpkh(pubkey),\n-               p2sh_p2wpkh_script=CScript([OP_HASH160, hash160(CScript([OP_0, pkh])), OP_EQUAL]).hex(),\n+               p2sh_p2wpkh_script=script_to_p2sh_script(CScript([OP_0, pkh])).hex(),",
    "path": "test/functional/test_framework/wallet_util.py",
    "position": null,
    "original_position": 29,
    "commit_id": "905d672b743edf31531d095ffe800449eaffec69",
    "original_commit_id": "285a65ccfde2e811cfe01e916b998c02ee534a97",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "unrelated nit in 285a65ccfde2e811cfe01e916b998c02ee534a97:\r\n\r\nCould use `script_to_p2sh_script(p2wpkh_script)` to avoid duplication and to clarify that p2sh redeem script is equal to the scriptPubKey (OP_0 + witness program)?",
    "created_at": "2021-07-09T08:50:37Z",
    "updated_at": "2021-07-09T09:17:06Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r666785588",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/666785588"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r666785588"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/666785588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 85,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/666794261",
    "pull_request_review_id": 702828891,
    "id": 666794261,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2Njc5NDI2MQ==",
    "diff_hunk": "@@ -488,8 +489,7 @@ def test_v0_outputs_arent_spendable(self):\n \n         # Create two outputs, a p2wsh and p2sh-p2wsh\n         witness_program = CScript([OP_TRUE])",
    "path": "test/functional/p2p_segwit.py",
    "position": 48,
    "original_position": 22,
    "commit_id": "905d672b743edf31531d095ffe800449eaffec69",
    "original_commit_id": "905d672b743edf31531d095ffe800449eaffec69",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Unrelated comment in 905d672b743edf31531d095ffe800449eaffec69:\r\n\r\nThis is wrong. This is the *preimage* to the witness program. According to BIP 141:\r\n\r\n> ... 1-byte push opcode (for 0 to 16) followed by a data push between 2 and 40 bytes gets a new special meaning. The value of the first push is called the \"version byte\". The following byte vector pushed is called the \"witness program\". \r\n\r\nThe proper name is witnessScript:\r\n\r\n> The last item in the witness (the \"witnessScript\") is popped off, hashed with SHA256 ...",
    "created_at": "2021-07-09T09:03:05Z",
    "updated_at": "2021-07-09T09:17:06Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r666794261",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/666794261"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r666794261"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/666794261/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 491,
    "original_line": 491,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/667650675",
    "pull_request_review_id": 703747007,
    "id": 667650675,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2NzY1MDY3NQ==",
    "diff_hunk": "@@ -488,8 +489,7 @@ def test_v0_outputs_arent_spendable(self):\n \n         # Create two outputs, a p2wsh and p2sh-p2wsh\n         witness_program = CScript([OP_TRUE])",
    "path": "test/functional/p2p_segwit.py",
    "position": 48,
    "original_position": 22,
    "commit_id": "905d672b743edf31531d095ffe800449eaffec69",
    "original_commit_id": "905d672b743edf31531d095ffe800449eaffec69",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Being updated in #22429.",
    "created_at": "2021-07-12T06:13:49Z",
    "updated_at": "2021-07-12T06:13:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r667650675",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/667650675"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22363#discussion_r667650675"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22363"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/667650675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 491,
    "original_line": 491,
    "side": "RIGHT",
    "in_reply_to_id": 666794261
  }
]