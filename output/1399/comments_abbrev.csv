sipa,2012-06-08T21:06:39Z,"Rebased, refactored the code a bit, and added unit tests. Github fails to recognize it as automatically mergable...\n",https://github.com/bitcoin/bitcoin/pull/1399#issuecomment-6213068,6213068,
sipa,2012-06-14T15:45:59Z,Added more tests.\n,https://github.com/bitcoin/bitcoin/pull/1399#issuecomment-6332382,6332382,
Diapolo,2012-06-18T18:35:38Z,"@Sipa does this fix `::1` considered as invalid, if used in `LookupNumeric()`?\n",https://github.com/bitcoin/bitcoin/pull/1399#issuecomment-6404972,6404972,
sipa,2012-06-18T18:39:46Z,"@Diapolo yes; there's even some unit tests that test ""::1"".\n",https://github.com/bitcoin/bitcoin/pull/1399#issuecomment-6405090,6405090,
Diapolo,2012-06-18T18:42:16Z,Good to see it got merged :).\n,https://github.com/bitcoin/bitcoin/pull/1399#issuecomment-6405164,6405164,
gavinandresen,2012-05-30T22:45:18Z,"Are you sure the input string is well-formed?  What if it is the empty string, or "":"" ?  Either assertions or sanity checks would be a good idea to avoid indexing out-of-bounds.  And maybe unit tests for this routine...\n",https://github.com/bitcoin/bitcoin/pull/1399#discussion_r904288,904288,src/netbase.cpp
sipa,2012-05-31T09:10:30Z,"It deals with any string:\n- in[0]=='[': the fact that colon is not npos implies that in is longer than 0 charcters.\n- in[colon-1]==']': a colon was found and in[0] is not a colon, so colon is not 0.\n- in.find_last_of(':',colon-1): colon is not zero because of the colon==0 case.\n\nI'll add some comments and unit tests, though.\n",https://github.com/bitcoin/bitcoin/pull/1399#discussion_r906231,906231,src/netbase.cpp
gavinandresen,2012-06-01T12:37:34Z,"Thanks. I agree the logic as it is now won't crash, but without unit tests I think it is much too easy for somebody to modify it in the future an introduce a bug.\n\n(and I think there might be a problem with the empty string down on line 51, where you check if (in[0] ==...)  )\n",https://github.com/bitcoin/bitcoin/pull/1399#discussion_r914392,914392,src/netbase.cpp
