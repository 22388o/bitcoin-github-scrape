[
  {
    "sha": "d56ce21911574275cbb63bd88459e9bddbb5773a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkNTZjZTIxOTExNTc0Mjc1Y2JiNjNiZDg4NDU5ZTliZGRiYjU3NzNh",
    "commit": {
      "author": {
        "name": "Michael Dietz",
        "email": "michaeldietz@Michaels-Air.lan",
        "date": "2020-10-29T18:03:15Z"
      },
      "committer": {
        "name": "Michael Dietz",
        "email": "michaeldietz@Michaels-Air.lan",
        "date": "2020-10-29T18:03:15Z"
      },
      "message": "refactor: get wallet path relative to wallet_dir\n\nNow that boost has been updated >1.60 we can simplify how we get\nwallet path relative to wallet_dir by using boost::filesystem::lexically_relative.",
      "tree": {
        "sha": "f047b99d49c6f5be812dcfa6a05104f1130335f7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f047b99d49c6f5be812dcfa6a05104f1130335f7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d56ce21911574275cbb63bd88459e9bddbb5773a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d56ce21911574275cbb63bd88459e9bddbb5773a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d56ce21911574275cbb63bd88459e9bddbb5773a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d56ce21911574275cbb63bd88459e9bddbb5773a/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "42b66a6b814bca130a9ccf0a3f747cf33d628232",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/42b66a6b814bca130a9ccf0a3f747cf33d628232",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/42b66a6b814bca130a9ccf0a3f747cf33d628232"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 2,
      "deletions": 4
    },
    "files": [
      {
        "sha": "1b3358aef4d528cc0f6eacddfb35be9f855fb347",
        "filename": "src/wallet/walletutil.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 4,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d56ce21911574275cbb63bd88459e9bddbb5773a/src/wallet/walletutil.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d56ce21911574275cbb63bd88459e9bddbb5773a/src/wallet/walletutil.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/walletutil.cpp?ref=d56ce21911574275cbb63bd88459e9bddbb5773a",
        "patch": "@@ -39,7 +39,6 @@ fs::path GetWalletDir()\n std::vector<fs::path> ListWalletDir()\n {\n     const fs::path wallet_dir = GetWalletDir();\n-    const size_t offset = wallet_dir.string().size() + 1;\n     std::vector<fs::path> paths;\n     boost::system::error_code ec;\n \n@@ -49,9 +48,8 @@ std::vector<fs::path> ListWalletDir()\n             continue;\n         }\n \n-        // Get wallet path relative to walletdir by removing walletdir from the wallet path.\n-        // This can be replaced by boost::filesystem::lexically_relative once boost is bumped to 1.60.\n-        const fs::path path = it->path().string().substr(offset);\n+        // Get wallet path relative to wallet_dir by removing wallet_dir from the wallet path.\n+        const fs::path path = it->path().lexically_relative(wallet_dir);\n \n         if (it->status().type() == fs::directory_file &&\n             (ExistsBerkeleyDatabase(it->path()) || ExistsSQLiteDatabase(it->path()))) {"
      }
    ]
  }
]