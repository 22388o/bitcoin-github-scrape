laanwj,2020-12-16 15:59:23,"<details>\n  <summary>Diff between old and new patch</summary>\n\n```patch\n--- clang.patch	2020-12-16 16:55:03.987104506 +0100\n+++ clang_cxx_11.patch	2020-12-16 16:54:47.747154861 +0100\n@@ -1,7 +1,13 @@\n-diff --git a/src/dbinc/atomic.h b/src/dbinc/atomic.h\n-index 6a858f7..9f338dc 100644\n---- a/src/dbinc/atomic.h\n-+++ b/src/dbinc/atomic.h\n+commit 3311d68f11d1697565401eee6efc85c34",https://github.com/bitcoin/bitcoin/pull/20665#issuecomment-746531361,746531361,
fanquake,2021-01-10 07:38:01,@gruve-p can you squash your commits.,https://github.com/bitcoin/bitcoin/pull/20665#issuecomment-757432551,757432551,
gruve-p,2021-01-10 11:15:07,@fanquake Squashed,https://github.com/bitcoin/bitcoin/pull/20665#issuecomment-757458324,757458324,
gruve-p,2021-01-10 11:33:00,Ready for rereview @laanwj ,https://github.com/bitcoin/bitcoin/pull/20665#issuecomment-757460848,757460848,
fanquake,2021-01-11 05:58:09,"When I asked you to squash I'd assumed you'd actually tested that this works. I've checked that this produces the same `libdb_cxx-4.8.a` & `libdb-4.8.a`, however, as is, the patch wont apply:\n```bash\nCFLAGS=""-Wno-error=implicit-function-declaration"" ./contrib/install_db4.sh $(pwd)\n...\nx db-4.8.30.NC/txn/txn_stat.c\nx db-4.8.30.NC/txn/txn_util.c\ncan't find file to patch at input line 11",https://github.com/bitcoin/bitcoin/pull/20665#issuecomment-757640892,757640892,
gruve-p,2021-01-11 09:41:18,"@fanquake Fixed, squashed, changed commit message, force pushed then the PR closed again. Can you reopen it?",https://github.com/bitcoin/bitcoin/pull/20665#issuecomment-757811519,757811519,
fanquake,2021-01-11 13:15:56,"It's no longer possible to reopen this PR, probably because you force pushed to the branch while the PR was closed, so you will actually have to open another now.",https://github.com/bitcoin/bitcoin/pull/20665#issuecomment-757944319,757944319,
gruve-p,2021-01-11 17:56:18,New one opened,https://github.com/bitcoin/bitcoin/pull/20665#issuecomment-758119780,758119780,
laanwj,2020-12-15 19:59:14,"if it's in the same repository, does it need a download at all? ",https://github.com/bitcoin/bitcoin/pull/20665#discussion_r543646499,543646499,contrib/install_db4.sh
gruve-p,2020-12-16 10:54:38,"I see this script as a standalone script which installs libdb4.8 (Berkeley DB) without the need to be in the root of the bitcoin repository. One can just grab this script and run it anywhere on the machine, export BDB_PREFIX and then use the right parameters (BDB_LIBS= and BDB_CFLAGS) on configure",https://github.com/bitcoin/bitcoin/pull/20665#discussion_r544201366,544201366,contrib/install_db4.sh
laanwj,2020-12-16 15:52:26,"Yes, good point. Well I guess it could at least *try* finding the local patch, and resort to download if it doesn't exist.",https://github.com/bitcoin/bitcoin/pull/20665#discussion_r544411178,544411178,contrib/install_db4.sh
alevchuk,2020-12-19 18:21:39,"There is convenience for running curl from anywhere, yet are there other tradeoffs in depending on githubusercontent.com?",https://github.com/bitcoin/bitcoin/pull/20665#discussion_r546267638,546267638,contrib/install_db4.sh
laanwj,2020-12-20 11:46:34,"Possibly an even better solution: embed the patch in the script, with a heredoc.\n\nIt's more maintenance work *when* the patch needs to change (say, for compatibility with new compilers), but it is a small patch after all and it keeps the script more self-contained.",https://github.com/bitcoin/bitcoin/pull/20665#discussion_r546365479,546365479,contrib/install_db4.sh
MarcoFalke,2020-12-20 12:03:57,"Good idea. Also, this script will probably go in one or two major releases when we no longer require bdb",https://github.com/bitcoin/bitcoin/pull/20665#discussion_r546367420,546367420,contrib/install_db4.sh
gruve-p,2021-01-06 12:11:02,"Implemented your idea @laanwj\nI used my mobile to make the changes so the changes are untested.",https://github.com/bitcoin/bitcoin/pull/20665#discussion_r552544888,552544888,contrib/install_db4.sh
