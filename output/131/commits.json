[
  {
    "sha": "c2f76c3df8727329c62c1f5a8374b7151b25277a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjMmY3NmMzZGY4NzI3MzI5YzYyYzFmNWE4Mzc0YjcxNTFiMjUyNzdh",
    "commit": {
      "author": {
        "name": "tcatm",
        "email": "tcatm@gawab.com",
        "date": "2011-03-22T22:28:03Z"
      },
      "committer": {
        "name": "tcatm",
        "email": "tcatm@gawab.com",
        "date": "2011-03-22T22:28:03Z"
      },
      "message": "disable -daemon on windows; bitcoind forks only with -daemon set",
      "tree": {
        "sha": "8e9f055ca2ae453ea05fd2cd41a67ba9485b07d6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8e9f055ca2ae453ea05fd2cd41a67ba9485b07d6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c2f76c3df8727329c62c1f5a8374b7151b25277a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c2f76c3df8727329c62c1f5a8374b7151b25277a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c2f76c3df8727329c62c1f5a8374b7151b25277a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c2f76c3df8727329c62c1f5a8374b7151b25277a/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "1c09a4adb20aed76dd5f07051c605ffd56a093d6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1c09a4adb20aed76dd5f07051c605ffd56a093d6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1c09a4adb20aed76dd5f07051c605ffd56a093d6"
      }
    ],
    "stats": {
      "total": 24,
      "additions": 16,
      "deletions": 8
    },
    "files": [
      {
        "sha": "d2c6944ebc3c8bd5e0445ccf4c5a9ab2340ff395",
        "filename": "init.cpp",
        "status": "modified",
        "additions": 16,
        "deletions": 8,
        "changes": 24,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c2f76c3df8727329c62c1f5a8374b7151b25277a/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c2f76c3df8727329c62c1f5a8374b7151b25277a/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/init.cpp?ref=c2f76c3df8727329c62c1f5a8374b7151b25277a",
        "patch": "@@ -78,7 +78,9 @@ int main(int argc, char* argv[])\n     fRet = AppInit(argc, argv);\n \n     if (fRet && fDaemon)\n-        pthread_exit((void*)0);\n+        return 0;\n+\n+    return 1;\n }\n #endif\n \n@@ -158,6 +160,8 @@ bool AppInit2(int argc, char* argv[])\n             \"  -paytxfee=<amt>  \\t  \"   + _(\"Fee per KB to add to transactions you send\\n\") +\n #ifdef GUI\n             \"  -server          \\t\\t  \" + _(\"Accept command line and JSON-RPC commands\\n\") +\n+#endif\n+#ifndef WIN32 \n             \"  -daemon          \\t\\t  \" + _(\"Run in the background as a daemon and accept commands\\n\") +\n #endif\n             \"  -testnet         \\t\\t  \" + _(\"Use the test network\\n\") +\n@@ -194,17 +198,20 @@ bool AppInit2(int argc, char* argv[])\n \n     fDebug = GetBoolArg(\"-debug\");\n \n+#ifndef WIN32\n     fDaemon = GetBoolArg(\"-daemon\");\n+#else\n+    fDaemon = false;\n+#endif\n \n     if (fDaemon)\n         fServer = true;\n     else\n         fServer = GetBoolArg(\"-server\");\n \n-    /* force fServer and fDaemon when running without GUI */\n+    /* force fServer when running without GUI */\n #ifndef GUI\n     fServer = true;\n-    fDaemon = true;\n #endif\n \n     fPrintToConsole = GetBoolArg(\"-printtoconsole\");\n@@ -224,7 +231,7 @@ bool AppInit2(int argc, char* argv[])\n         exit(ret);\n     }\n \n-#ifndef GUI\n+#ifndef WIN32\n     if (fDaemon)\n     {\n         // Daemonize\n@@ -470,10 +477,11 @@ bool AppInit2(int argc, char* argv[])\n     if (fFirstRun)\n         SetStartOnSystemStartup(true);\n #endif\n-    \n-    if (fDaemon)\n-        while (!fShutdown)\n-            Sleep(5000);\n+\n+#ifndef GUI\n+    while (1)\n+        Sleep(5000);\n+#endif\n \n     return true;\n }"
      }
    ]
  },
  {
    "sha": "10923358f0cf7688febfff703c856bd00c0c3271",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxMDkyMzM1OGYwY2Y3Njg4ZmViZmZmNzAzYzg1NmJkMDBjMGMzMjcx",
    "commit": {
      "author": {
        "name": "tcatm",
        "email": "tcatm@gawab.com",
        "date": "2011-04-06T13:37:42Z"
      },
      "committer": {
        "name": "tcatm",
        "email": "tcatm@gawab.com",
        "date": "2011-04-06T13:39:09Z"
      },
      "message": "WIN32 -> __WXMSW__",
      "tree": {
        "sha": "1b719b294e04e0c1c1fe8e575d3a73cdde34797f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1b719b294e04e0c1c1fe8e575d3a73cdde34797f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/10923358f0cf7688febfff703c856bd00c0c3271",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/10923358f0cf7688febfff703c856bd00c0c3271",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/10923358f0cf7688febfff703c856bd00c0c3271",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/10923358f0cf7688febfff703c856bd00c0c3271/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "c2f76c3df8727329c62c1f5a8374b7151b25277a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c2f76c3df8727329c62c1f5a8374b7151b25277a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c2f76c3df8727329c62c1f5a8374b7151b25277a"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "a9bce38e4d70df8ca4083be58ddbcd6494846b5f",
        "filename": "init.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/10923358f0cf7688febfff703c856bd00c0c3271/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/10923358f0cf7688febfff703c856bd00c0c3271/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/init.cpp?ref=10923358f0cf7688febfff703c856bd00c0c3271",
        "patch": "@@ -161,7 +161,7 @@ bool AppInit2(int argc, char* argv[])\n #ifdef GUI\n             \"  -server          \\t\\t  \" + _(\"Accept command line and JSON-RPC commands\\n\") +\n #endif\n-#ifndef WIN32 \n+#ifndef __WXMSW__\n             \"  -daemon          \\t\\t  \" + _(\"Run in the background as a daemon and accept commands\\n\") +\n #endif\n             \"  -testnet         \\t\\t  \" + _(\"Use the test network\\n\") +\n@@ -198,7 +198,7 @@ bool AppInit2(int argc, char* argv[])\n \n     fDebug = GetBoolArg(\"-debug\");\n \n-#ifndef WIN32\n+#ifndef __WXMSW__\n     fDaemon = GetBoolArg(\"-daemon\");\n #else\n     fDaemon = false;\n@@ -231,7 +231,7 @@ bool AppInit2(int argc, char* argv[])\n         exit(ret);\n     }\n \n-#ifndef WIN32\n+#ifndef __WXMSW__\n     if (fDaemon)\n     {\n         // Daemonize"
      }
    ]
  }
]