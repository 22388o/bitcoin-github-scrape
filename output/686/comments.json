[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3050001",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/686#issuecomment-3050001",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/686",
    "id": 3050001,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTAwMDE=",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-12-07T17:13:36Z",
    "updated_at": "2011-12-07T17:13:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Other than that one concern, ACK\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3050001/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3055166",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/686#issuecomment-3055166",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/686",
    "id": 3055166,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTUxNjY=",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-12-07T23:11:36Z",
    "updated_at": "2011-12-07T23:11:36Z",
    "author_association": "MEMBER",
    "body": "At the same time, I propose adjusting the testnet base58 versions to match with the new proposed base58 version spec.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3055166/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3057087",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/686#issuecomment-3057087",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/686",
    "id": 3057087,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTcwODc=",
    "user": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?u=db313a954a318b81f5283d34908397d1ea3aeba3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-12-08T02:45:13Z",
    "updated_at": "2011-12-08T02:45:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "RE: why keep the regular-difficulty-every-2016-blocks:\n\nBecause if you don't, and hashing power drops, then it will never adjust downward properly because the common case for non-cusp blocks is \"find the last block with something other than minimum work and return its difficulty.\"\n\nExample:  Imagine difficulty is at 1111 before block 201600, and that block ends up taking 60 minutes to find. Imagine the normal difficulty adjustment would drop difficulty to 600.\n\nIf we allow block 201600 to have difficulty 1, then block 201601 would also be looked for at difficulty 1111, because there's no previous block with the new difficulty.\n\nI wrote the code that way so testnet is as close to mainnet as possible; I didn't want a completely different testnet non-cusp-block calculation (yes, I COULD figure out what the last difficulty adjustment interval was and factor out the difficulty computation into yet another method... benefit doesn't seem worth the extra code complexity).\n\nRE: adjusting testnet base58 version:  okey doke. What's the right number for testnet under your scheme? 192?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3057087/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3057108",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/686#issuecomment-3057108",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/686",
    "id": 3057108,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTcxMDg=",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-12-08T02:47:41Z",
    "updated_at": "2011-12-08T02:47:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "mmm, fair enough\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3057108/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3057120",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/686#issuecomment-3057120",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/686",
    "id": 3057120,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTcxMjA=",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-12-08T02:49:58Z",
    "updated_at": "2011-12-08T02:49:58Z",
    "author_association": "MEMBER",
    "body": "Yes, 192 for testnet pubkey-addresses. 196 for testnet script-addresses (OP_EVAL).\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3057120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3070164",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/686#issuecomment-3070164",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/686",
    "id": 3070164,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzAxNjQ=",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-12-08T21:19:49Z",
    "updated_at": "2011-12-08T21:19:49Z",
    "author_association": "MEMBER",
    "body": "The new anti-orphan-flood code won't break this, will it?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3070164/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3074729",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/686#issuecomment-3074729",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/686",
    "id": 3074729,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzQ3Mjk=",
    "user": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?u=db313a954a318b81f5283d34908397d1ea3aeba3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-12-09T02:30:16Z",
    "updated_at": "2011-12-09T02:30:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "coblee: Nice catch!  You're right, this would prevent difficulty from ever dropping all the way down to min difficulty.\n\nluke-jr: Nice catch! You're right, the orphan block DoS code needs to take into account this change.\n\nI won't have time to fix this until I'm back next week.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3074729/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3168939",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/686#issuecomment-3168939",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/686",
    "id": 3168939,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjg5Mzk=",
    "user": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?u=db313a954a318b81f5283d34908397d1ea3aeba3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2011-12-15T21:02:09Z",
    "updated_at": "2011-12-15T21:02:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Code updated/rebased to fix the issues pointed out by coblee and luke-jr.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3168939/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3454071",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/686#issuecomment-3454071",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/686",
    "id": 3454071,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTQwNzE=",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2012-01-11T21:34:10Z",
    "updated_at": "2012-01-11T21:34:10Z",
    "author_association": "MEMBER",
    "body": "Is this going to be merged before 15 Jan? ;)\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3454071/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/277175",
    "pull_request_review_id": null,
    "id": 277175,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NzE3NQ==",
    "diff_hunk": "@@ -683,16 +683,36 @@ unsigned int ComputeMinWork(unsigned int nBase, int64 nTime)\n     return bnResult.GetCompact();\n }\n \n-unsigned int static GetNextWorkRequired(const CBlockIndex* pindexLast)\n+unsigned int static GetNextWorkRequired(const CBlockIndex* pindexLast, const CBlock *pblock)\n {\n+    unsigned int nProofOfWorkLimit = bnProofOfWorkLimit.GetCompact();\n \n     // Genesis block\n     if (pindexLast == NULL)\n-        return bnProofOfWorkLimit.GetCompact();\n+        return nProofOfWorkLimit;\n \n     // Only change once per interval\n     if ((pindexLast->nHeight+1) % nInterval != 0)\n+    {\n+        // Special rules for testnet after 1 Jan 2012:",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "c52296a73e5222628bf6a03eaf727622594bf464",
    "original_commit_id": "4d056f61ec376e3ba420acd4d4ee0614011373af",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why inside the interval check?  If we are on the cusp of an interval, why shouldn't we allow min-diff blocks?\n",
    "created_at": "2011-12-07T17:13:22Z",
    "updated_at": "2012-01-31T18:20:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/686#discussion_r277175",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/686",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/277175"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/686#discussion_r277175"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/686"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/277175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 697,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281113",
    "pull_request_review_id": null,
    "id": 281113,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTExMw==",
    "diff_hunk": "@@ -683,16 +683,36 @@ unsigned int ComputeMinWork(unsigned int nBase, int64 nTime)\n     return bnResult.GetCompact();\n }\n \n-unsigned int static GetNextWorkRequired(const CBlockIndex* pindexLast)\n+unsigned int static GetNextWorkRequired(const CBlockIndex* pindexLast, const CBlock *pblock)\n {\n+    unsigned int nProofOfWorkLimit = bnProofOfWorkLimit.GetCompact();\n \n     // Genesis block\n     if (pindexLast == NULL)\n-        return bnProofOfWorkLimit.GetCompact();\n+        return nProofOfWorkLimit;\n \n     // Only change once per interval\n     if ((pindexLast->nHeight+1) % nInterval != 0)\n+    {\n+        // Special rules for testnet after 1 Jan 2012:\n+        if (fTestNet && pblock->nTime > 1325376000)\n+        {\n+            // If the new block's timestamp is more than 2* 10 minutes\n+            // then allow mining of a min-difficulty block.\n+            if (pblock->nTime - pindexLast->nTime > nTargetSpacing*2)\n+                return nProofOfWorkLimit;\n+            else\n+            {\n+                // Return the last non-min-difficulty-block",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 26,
    "commit_id": "c52296a73e5222628bf6a03eaf727622594bf464",
    "original_commit_id": "4d056f61ec376e3ba420acd4d4ee0614011373af",
    "user": {
      "login": "coblee",
      "id": 999927,
      "node_id": "MDQ6VXNlcjk5OTkyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/999927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/coblee",
      "html_url": "https://github.com/coblee",
      "followers_url": "https://api.github.com/users/coblee/followers",
      "following_url": "https://api.github.com/users/coblee/following{/other_user}",
      "gists_url": "https://api.github.com/users/coblee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/coblee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/coblee/subscriptions",
      "organizations_url": "https://api.github.com/users/coblee/orgs",
      "repos_url": "https://api.github.com/users/coblee/repos",
      "events_url": "https://api.github.com/users/coblee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/coblee/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "What if the correct difficulty for this interval is min difficulty? Wouldn't this code return something higher from a block that it finds in the previous inteval? It should probably stop at the interval change and use the difficulty there.\n\nconst CBlockIndex\\* pindex = pindexLast;\nwhile (pindex->pprev && pindex->nHeight % nInterval != 0 && pindex->nBits == nProofOfWorkLimit)\n    pindex = pindex->pprev;\nreturn pindex->nBits;\n",
    "created_at": "2011-12-08T21:11:33Z",
    "updated_at": "2012-01-31T18:20:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/686#discussion_r281113",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/686",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281113"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/686#discussion_r281113"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/686"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281113/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 706,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/345182",
    "pull_request_review_id": null,
    "id": 345182,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NTE4Mg==",
    "diff_hunk": "@@ -669,6 +669,11 @@ int64 static GetBlockValue(int nHeight, int64 nFees)\n //\n unsigned int ComputeMinWork(unsigned int nBase, int64 nTime)\n {\n+    // Testnet has min-difficulty blocks\n+    // after nTargetSpacing*2 time between blocks:\n+    if (fTestNet && nTime > nTargetSpacing*2)\n+        return bnProofOfWorkLimit.GetCompact();",
    "path": "src/main.cpp",
    "position": 7,
    "original_position": 7,
    "commit_id": "c52296a73e5222628bf6a03eaf727622594bf464",
    "original_commit_id": "6af708f122cedae62648da4e67cb2c7783d6cb1d",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'm not sure whether this affects anything, but this does not check `pblock->nTime > 1326585600` like the other one.\n",
    "created_at": "2012-01-11T22:19:14Z",
    "updated_at": "2012-01-31T18:20:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/686#discussion_r345182",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/686",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/345182"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/686#discussion_r345182"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/686"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/345182/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 774,
    "original_line": 675,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/346948",
    "pull_request_review_id": null,
    "id": 346948,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0Njk0OA==",
    "diff_hunk": "@@ -669,6 +669,11 @@ int64 static GetBlockValue(int nHeight, int64 nFees)\n //\n unsigned int ComputeMinWork(unsigned int nBase, int64 nTime)\n {\n+    // Testnet has min-difficulty blocks\n+    // after nTargetSpacing*2 time between blocks:\n+    if (fTestNet && nTime > nTargetSpacing*2)\n+        return bnProofOfWorkLimit.GetCompact();",
    "path": "src/main.cpp",
    "position": 7,
    "original_position": 7,
    "commit_id": "c52296a73e5222628bf6a03eaf727622594bf464",
    "original_commit_id": "6af708f122cedae62648da4e67cb2c7783d6cb1d",
    "user": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It is OK-- the code that calls ComputeMinWork call pblock->GetBlockTime() which just return pblock->nTime.\n",
    "created_at": "2012-01-12T14:30:10Z",
    "updated_at": "2012-01-31T18:20:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/686#discussion_r346948",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/686",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/346948"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/686#discussion_r346948"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/686"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/346948/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 774,
    "original_line": 675,
    "side": "RIGHT"
  }
]