Diapolo,2013-10-09T06:43:12Z,"@TheBlueMatt Can you take a look at the @BitcoinPullTester failure, seems unrelated to my pull.\n",https://github.com/bitcoin/bitcoin/pull/3069#issuecomment-25949844,25949844,
laanwj,2013-10-09T06:52:14Z,Thanks for cutting this down to one change\n,https://github.com/bitcoin/bitcoin/pull/3069#issuecomment-25950202,25950202,
Diapolo,2013-10-10T07:02:46Z,Is @BitcoinPullTester currently broken again? Would be nice if this (now small ^^) pull can come to an end.\n,https://github.com/bitcoin/bitcoin/pull/3069#issuecomment-26032940,26032940,
gavinandresen,2013-10-10T23:42:40Z,"Pull-tester _is_ broken, I'm poking at it to figure out why.\n\nRE: coinsSent:  I think @laanwj's intuition is right, adding to the address book should ideally be done as a coinsSent signal handler. I can imagine some future change where we want to add a coinsSent signal handler that does... something... that would like to know if the address we just sent to is in the address book. And the way you",https://github.com/bitcoin/bitcoin/pull/3069#issuecomment-26101328,26101328,
Diapolo,2013-10-11T13:36:46Z,"I changed the code back to emit coinsSent() AFTER the addressbook code was done or skipped, so this can be merged soon.\n\nAs for the other suggestions to implement another coinsSent signal handler for adding to the addressbook, I'm still not sure how do do this, but can now be done in the future anyway :).\n",https://github.com/bitcoin/bitcoin/pull/3069#issuecomment-26137319,26137319,
BitcoinPullTester,2013-10-11T14:09:08Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/48c011489b047389e7c1c3aa8634de5133ec5b5c for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/3069#issuecomment-26139699,26139699,
laanwj,2013-10-14T13:43:37Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/3069#issuecomment-26255777,26255777,
laanwj,2013-10-08T18:59:57Z,"I'm not sure that is correct; should this be done for every payment request, or just when the merchant is authenticated (ie ""secure payment"")? \nSame for the other similar changes below.\n",https://github.com/bitcoin/bitcoin/pull/3069#discussion_r6835914,6835914,src/qt/sendcoinsdialog.cpp
laanwj,2013-10-08T19:02:19Z,"When you remove this, coinsSent is no longer emitted for non-payment requests, is that on purpose?\n",https://github.com/bitcoin/bitcoin/pull/3069#discussion_r6835992,6835992,src/qt/walletmodel.cpp
Diapolo,2013-10-08T19:47:11Z,"Yes it is, as only payment-requests should trigger the `PaymentServer::fetchPaymentACK` slot AFAIK.\n@gavinandresen Can you verify this?\n",https://github.com/bitcoin/bitcoin/pull/3069#discussion_r6837444,6837444,src/qt/walletmodel.cpp
Diapolo,2013-10-08T19:52:15Z,"I need to re-think that change... could well be you are correct.\nEdit: This one is wrong, I'll check one by one now :).\n",https://github.com/bitcoin/bitcoin/pull/3069#discussion_r6837588,6837588,src/qt/sendcoinsdialog.cpp
Diapolo,2013-10-08T19:58:06Z,"This one is correct, as secure and insecure payment-requests can expire.\nEdit: But it triggers a bug, which only blocks the first to-address in a multi-address insecure payment-request :-/.\n",https://github.com/bitcoin/bitcoin/pull/3069#discussion_r6837768,6837768,src/qt/sendcoinsdialog.cpp
Diapolo,2013-10-09T07:09:32Z,"@laanwj I'm asking myself, if I should change the behaviour once more and just prevent touching the address book for secure payment-requests (green sendcoins UI), but allow it for insecure payment-requests (normal sendcoins UI). coinsSent would still be emited for both types, as paymentACK messages are received for secure and insecure ones.\n",https://github.com/bitcoin/bitcoin/pull/3069#discussion_r6848763,6848763,src/qt/walletmodel.cpp
gavinandresen,2013-10-09T07:46:33Z,Seems to me we'll want the coinsSent signal sent any time coins are sent.  And the fetchPaymentACK code should (does?) just ignore any non-payment-request-triggered signals (there isn't a paymentACK URL to fetch from in that case).\n,https://github.com/bitcoin/bitcoin/pull/3069#discussion_r6849152,6849152,src/qt/walletmodel.cpp
Diapolo,2013-10-09T10:28:00Z,"As the coinsSent signal is currently only connected to fetchPaymentACK I thought it would be nice to only emit it for payment-requests. You are right that nothing bad is happening currently in fetchPaymentACK for non payment-requests, but who knows ^^.\n",https://github.com/bitcoin/bitcoin/pull/3069#discussion_r6851952,6851952,src/qt/walletmodel.cpp
laanwj,2013-10-09T11:14:46Z,IMO it's better to leave out the special case here and always emit if it doesn't hurt. The name of the signal implies nothing about payment request or not.\n,https://github.com/bitcoin/bitcoin/pull/3069#discussion_r6852788,6852788,src/qt/walletmodel.cpp
Diapolo,2013-10-09T12:02:31Z,"Alright, should be fine now...\n",https://github.com/bitcoin/bitcoin/pull/3069#discussion_r6853621,6853621,src/qt/walletmodel.cpp
laanwj,2013-10-10T07:18:48Z,We could even do the 'add to address book' part of the function as another signal handler for `coinsSent`.\n,https://github.com/bitcoin/bitcoin/pull/3069#discussion_r6879572,6879572,src/qt/walletmodel.cpp
Diapolo,2013-10-10T09:55:50Z,"I don't see the benefit of your suggestion (yet), we need to access `wallet` for processing the address stuff, so that code belongs to `WalletModel` IMO.\n",https://github.com/bitcoin/bitcoin/pull/3069#discussion_r6882248,6882248,src/qt/walletmodel.cpp
