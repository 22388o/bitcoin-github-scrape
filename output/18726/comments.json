[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617482903",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18726#issuecomment-617482903",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18726",
    "id": 617482903,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNzQ4MjkwMw==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-22T00:43:53Z",
    "updated_at": "2020-04-24T18:37:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617482903/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617720234",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18726#issuecomment-617720234",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18726",
    "id": 617720234,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNzcyMDIzNA==",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-22T11:29:31Z",
    "updated_at": "2020-04-22T11:29:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK -- nit: now with so many small tests for checking the size limits, you could put them all in a new method of the test?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617720234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617926835",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18726#issuecomment-617926835",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18726",
    "id": 617926835,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNzkyNjgzNQ==",
    "user": {
      "login": "robot-visions",
      "id": 63171930,
      "node_id": "MDQ6VXNlcjYzMTcxOTMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/63171930?u=a54b743c9d786ee91ddd5512e19bcd0a2f937427&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/robot-visions",
      "html_url": "https://github.com/robot-visions",
      "followers_url": "https://api.github.com/users/robot-visions/followers",
      "following_url": "https://api.github.com/users/robot-visions/following{/other_user}",
      "gists_url": "https://api.github.com/users/robot-visions/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/robot-visions/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
      "organizations_url": "https://api.github.com/users/robot-visions/orgs",
      "repos_url": "https://api.github.com/users/robot-visions/repos",
      "events_url": "https://api.github.com/users/robot-visions/events{/privacy}",
      "received_events_url": "https://api.github.com/users/robot-visions/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-22T17:39:49Z",
    "updated_at": "2020-04-22T17:39:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Good idea, updated!  And thanks for the review.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617926835/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619407398",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18726#issuecomment-619407398",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18726",
    "id": 619407398,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTQwNzM5OA==",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-25T16:43:28Z",
    "updated_at": "2020-04-25T16:43:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "re-ACK https://github.com/bitcoin/bitcoin/commit/cd543d9193ac1882c1b4a8a84e3ac7356a8b7ce9",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619407398/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/415055337",
    "pull_request_review_id": 400390239,
    "id": 415055337,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTA1NTMzNw==",
    "diff_hunk": "@@ -64,19 +64,40 @@ def set_test_params(self):\n     def skip_test_if_missing_module(self):\n         self.skip_if_no_wallet()\n \n-    def run_test(self):\n-        filter_node = self.nodes[0].add_p2p_connection(FilterNode())\n-\n+    def test_size_limits(self, filter_node):\n         self.log.info('Check that too large filter is rejected')\n-        with self.nodes[0].assert_debug_log(['Misbehaving']):\n-            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=MAX_BLOOM_HASH_FUNCS+1))\n         with self.nodes[0].assert_debug_log(['Misbehaving']):\n             filter_node.send_and_ping(msg_filterload(data=b'\\xbb'*(MAX_BLOOM_FILTER_SIZE+1)))\n \n+        self.log.info('Check that max size filter is accepted')\n+        with self.nodes[0].assert_debug_log([], unexpected_msgs=['Misbehaving']):\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xbb'*(MAX_BLOOM_FILTER_SIZE)))\n+        filter_node.send_and_ping(msg_filterclear())\n+\n+        self.log.info('Check that filter with too many hash functions is rejected')\n+        with self.nodes[0].assert_debug_log(['Misbehaving']):\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=MAX_BLOOM_HASH_FUNCS+1))\n+\n+        self.log.info('Check that filter with max hash functions is accepted')\n+        with self.nodes[0].assert_debug_log([], unexpected_msgs=['Misbehaving']):\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=MAX_BLOOM_HASH_FUNCS, nTweak=0, nFlags=1))",
    "path": "test/functional/p2p_filter.py",
    "position": null,
    "original_position": 25,
    "commit_id": "cd543d9193ac1882c1b4a8a84e3ac7356a8b7ce9",
    "original_commit_id": "edf2491c733c9063c22e2cb8e04b1c3af874d79e",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: explicitely setting `nTweak` and `nFlags` is not needed here",
    "created_at": "2020-04-25T12:43:01Z",
    "updated_at": "2020-04-25T16:29:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18726#discussion_r415055337",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18726",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/415055337"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18726#discussion_r415055337"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18726"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/415055337/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 83,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/415095675",
    "pull_request_review_id": 400409148,
    "id": 415095675,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTA5NTY3NQ==",
    "diff_hunk": "@@ -64,19 +64,40 @@ def set_test_params(self):\n     def skip_test_if_missing_module(self):\n         self.skip_if_no_wallet()\n \n-    def run_test(self):\n-        filter_node = self.nodes[0].add_p2p_connection(FilterNode())\n-\n+    def test_size_limits(self, filter_node):\n         self.log.info('Check that too large filter is rejected')\n-        with self.nodes[0].assert_debug_log(['Misbehaving']):\n-            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=MAX_BLOOM_HASH_FUNCS+1))\n         with self.nodes[0].assert_debug_log(['Misbehaving']):\n             filter_node.send_and_ping(msg_filterload(data=b'\\xbb'*(MAX_BLOOM_FILTER_SIZE+1)))\n \n+        self.log.info('Check that max size filter is accepted')\n+        with self.nodes[0].assert_debug_log([], unexpected_msgs=['Misbehaving']):\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xbb'*(MAX_BLOOM_FILTER_SIZE)))\n+        filter_node.send_and_ping(msg_filterclear())\n+\n+        self.log.info('Check that filter with too many hash functions is rejected')\n+        with self.nodes[0].assert_debug_log(['Misbehaving']):\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=MAX_BLOOM_HASH_FUNCS+1))\n+\n+        self.log.info('Check that filter with max hash functions is accepted')\n+        with self.nodes[0].assert_debug_log([], unexpected_msgs=['Misbehaving']):\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=MAX_BLOOM_HASH_FUNCS, nTweak=0, nFlags=1))",
    "path": "test/functional/p2p_filter.py",
    "position": null,
    "original_position": 25,
    "commit_id": "cd543d9193ac1882c1b4a8a84e3ac7356a8b7ce9",
    "original_commit_id": "edf2491c733c9063c22e2cb8e04b1c3af874d79e",
    "user": {
      "login": "robot-visions",
      "id": 63171930,
      "node_id": "MDQ6VXNlcjYzMTcxOTMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/robot-visions",
      "html_url": "https://github.com/robot-visions",
      "followers_url": "https://api.github.com/users/robot-visions/followers",
      "following_url": "https://api.github.com/users/robot-visions/following{/other_user}",
      "gists_url": "https://api.github.com/users/robot-visions/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/robot-visions/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
      "organizations_url": "https://api.github.com/users/robot-visions/orgs",
      "repos_url": "https://api.github.com/users/robot-visions/repos",
      "events_url": "https://api.github.com/users/robot-visions/events{/privacy}",
      "received_events_url": "https://api.github.com/users/robot-visions/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed, thanks!",
    "created_at": "2020-04-25T16:29:44Z",
    "updated_at": "2020-04-25T16:29:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18726#discussion_r415095675",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18726",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/415095675"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18726#discussion_r415095675"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18726"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/415095675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 83,
    "side": "RIGHT",
    "in_reply_to_id": 415055337
  }
]