[
  {
    "sha": "46bedb7fc3338e19b269bd70d968600964124878",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0NmJlZGI3ZmMzMzM4ZTE5YjI2OWJkNzBkOTY4NjAwOTY0MTI0ODc4",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-10-25T21:34:05Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-10-25T21:45:05Z"
      },
      "message": "script: fix linter error in test_runner.py\n\nbefore this commit\n\n$ ./test/lint/lint-python.sh\ntest/functional/test_runner.py:42: error: Module has no attribute \"getwindowsversion\"\nFound 1 error in 1 file (checked 180 source files)\n\nafter\n\n$ ./test/lint/lint-python.sh\nSuccess: no issues found in 180 source files\n\n$ python3 -V -V\nPython 3.8.6 (default, Sep 25 2020, 09:36:53)\n[GCC 10.2.0]",
      "tree": {
        "sha": "bcd1117ce2e58a63b01186a2b6c160a7edcea3c8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bcd1117ce2e58a63b01186a2b6c160a7edcea3c8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/46bedb7fc3338e19b269bd70d968600964124878",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl+V8nEACgkQT1chs9Dj\nkh0KZQ/+PTZOfwFdpq2Kklw34dCP78W2Cq/YEmXI1/c3s33TGF+HTYGQsVXlCqoc\nIziNxM+eKY6cNUZX7jBFjvlPFWZmqwwrMtxSK/qpTkZ+YiFvg4UOl26wHxoussxm\nG/T5r8O3SaBn6jwt5k496LJpu0Uj9jVVLgw0fpqV4W08aiZDfEXHcFxopsz6gD43\nQAwgqP6pi91TmVx1WYwTUJcngPgjyRSs6MBgFy7U08lukVDGJKbvyFG72ZNYyITB\nVn8Q0zH0/yiKUx1enlSamqCzBecCJVH4NEMSx28q6cOwLJ+3bgmmXe8hxfE79IOD\n4MavgNm4v4rl0x1YLZ9LaFYqbgc1eo7rHWTZK1HX9fHx5oY34RYKaAvJgSN2DFNq\nfRXtcdNOvg29LXe7YOC19HwHfcD6HgKxGS4sHn/3n6kqSfAKh2MmhMVnIObAIckO\n4p/za15JdwOxgtS/6z8YISS+xd++OChSD+O2l7YJX5lMa0uz2nf+wIWX7F98l2lD\nEDHQglOj6XRFvPCNFb8Zz3QsuYEJmUbB9Sg/vJbA/kResmkLf82ZGFqLU5WWgdW9\nc8RnMmsxZRf53FIFY2GVSe52AHmP7nJWmx5KPOrHfnMdaUhDIchPgv1H0IF2wNlY\nMhEOMl6fr+afNjXHyGCca8jj1Qi2SujbVLwIUjM80/8h8JP5fwo=\n=iz/N\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIH70DM28E8kr5TO7aW+3DInQLf0AMxJNvcVASU306W10CP/wED5QGgIQ3o21\nya9yC3UoSE8I8QRflfJ18AhOmjZYFb3rxQCD3+MNLvkMjikoaHR0cHM6Ly9maW5u\nZXkuY2FsZW5kYXIuZXRlcm5pdHl3YWxsLmNvbf/wEHTVD01xsp+ohHzg9tdnzKII\n8QRflfJy8AgwDm/tbbBAzQCD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2Fs\nZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQtTHqdoP+WUUd+7k8wcphTgjxBF+V\n8nLwCN0+6WUI/Z4eAIPf4w0u+QyOLCtodHRwczovL2JvYi5idGMuY2FsZW5kYXIu\nb3BlbnRpbWVzdGFtcHMub3Jn8BDX1mARXbxGAvPoYDJmhUrkCPEEX5XycvAITjs+\nxb1jy60Ag9/jDS75DI4jImh0dHBzOi8vYnRjLmNhbGVuZGFyLmNhdGFsbGF4eS5j\nb20=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree bcd1117ce2e58a63b01186a2b6c160a7edcea3c8\nparent d67883d01e507dd22d1281f4a4860e79d6a46a47\nauthor Jon Atack <jon@atack.com> 1603661645 +0100\ncommitter Jon Atack <jon@atack.com> 1603662305 +0100\n\nscript: fix linter error in test_runner.py\n\nbefore this commit\n\n$ ./test/lint/lint-python.sh\ntest/functional/test_runner.py:42: error: Module has no attribute \"getwindowsversion\"\nFound 1 error in 1 file (checked 180 source files)\n\nafter\n\n$ ./test/lint/lint-python.sh\nSuccess: no issues found in 180 source files\n\n$ python3 -V -V\nPython 3.8.6 (default, Sep 25 2020, 09:36:53)\n[GCC 10.2.0]\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/46bedb7fc3338e19b269bd70d968600964124878",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/46bedb7fc3338e19b269bd70d968600964124878",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/46bedb7fc3338e19b269bd70d968600964124878/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d67883d01e507dd22d1281f4a4860e79d6a46a47",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d67883d01e507dd22d1281f4a4860e79d6a46a47",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d67883d01e507dd22d1281f4a4860e79d6a46a47"
      }
    ],
    "stats": {
      "total": 19,
      "additions": 12,
      "deletions": 7
    },
    "files": [
      {
        "sha": "2a31b68b7bec904f865787e1eedf85727ceb272d",
        "filename": "test/functional/test_runner.py",
        "status": "modified",
        "additions": 12,
        "deletions": 7,
        "changes": 19,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/46bedb7fc3338e19b269bd70d968600964124878/test/functional/test_runner.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/46bedb7fc3338e19b269bd70d968600964124878/test/functional/test_runner.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_runner.py?ref=46bedb7fc3338e19b269bd70d968600964124878",
        "patch": "@@ -39,7 +39,17 @@\n     CROSS = \"x \"\n     CIRCLE = \"o \"\n \n-if os.name != 'nt' or sys.getwindowsversion() >= (10, 0, 14393):\n+def set_ansi_formatting():\n+    \"\"\"Set primitive formatting on supported terminals via ANSI escape sequences.\"\"\"\n+    global BOLD, GREEN, RED, GREY\n+    BOLD = ('\\033[0m', '\\033[1m')\n+    GREEN = ('\\033[0m', '\\033[0;32m')\n+    RED = ('\\033[0m', '\\033[0;31m')\n+    GREY = ('\\033[0m', '\\033[1;30m')\n+\n+if sys.platform != \"win32\":\n+    set_ansi_formatting()\n+elif os.name != 'nt' or sys.getwindowsversion() >= (10, 0, 14393):\n     if os.name == 'nt':\n         import ctypes\n         kernel32 = ctypes.windll.kernel32  # type: ignore\n@@ -56,12 +66,7 @@\n         stderr_mode = ctypes.c_int32()\n         kernel32.GetConsoleMode(stderr, ctypes.byref(stderr_mode))\n         kernel32.SetConsoleMode(stderr, stderr_mode.value | ENABLE_VIRTUAL_TERMINAL_PROCESSING)\n-    # primitive formatting on supported\n-    # terminal via ANSI escape sequences:\n-    BOLD = ('\\033[0m', '\\033[1m')\n-    GREEN = ('\\033[0m', '\\033[0;32m')\n-    RED = ('\\033[0m', '\\033[0;31m')\n-    GREY = ('\\033[0m', '\\033[1;30m')\n+    set_ansi_formatting()\n \n TEST_EXIT_PASSED = 0\n TEST_EXIT_SKIPPED = 77"
      }
    ]
  }
]