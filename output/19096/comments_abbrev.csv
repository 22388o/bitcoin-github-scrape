practicalswift,2020-05-28 19:10:16,Concept ACK,https://github.com/bitcoin/bitcoin/pull/19096#issuecomment-635540829,635540829,
DrahtBot,2020-05-28 21:07:07,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19100 (refactor: Combine GetWalletForJSONRPCRequest and EnsureWalletIsAvailable functions by ryanofsky)\n* #18923 (wallet",https://github.com/bitcoin/bitcoin/pull/19096#issuecomment-635608061,635608061,
promag,2020-05-31 23:38:15,ACK e1cfcd4cf82bd7c62e95a4e80bead3cac08afdf0.,https://github.com/bitcoin/bitcoin/pull/19096#issuecomment-636548186,636548186,
MarcoFalke,2020-06-02 14:33:00,"ACK 4a7253ab6c3bb323581cea54573529c2f823f035 ðŸŽ‹\n\n<details><summary>Show signature and timestamp</summary>\n\nSignature:\n\n```\n-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA512\n\nACK 4a7253ab6c3bb323581cea54573529c2f823f035 ðŸŽ‹\n-----BEGIN PGP SIGNATURE-----\n\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUjJGQwAmXh+3GnuU8VGHIDajsI/sbNPuX1JJO4IAE5er+oHyDEebO2WCT",https://github.com/bitcoin/bitcoin/pull/19096#issuecomment-637582158,637582158,
MarcoFalke,2020-06-05 12:11:35,@ryanofsky What is the status of this? I am currently undecided on whether to send this into rebase hell or merge.,https://github.com/bitcoin/bitcoin/pull/19096#issuecomment-639443794,639443794,
promag,2020-05-28 22:18:37,"Instead of adding the `operator=` (which doesn't copy m_context) maybe overload constructor so that here would be `return command.actor({request, m_context}, result, last_handler)`. I've pushed 5e433dcb6fc3106281d14330879acf0ef1160b62 with this suggestion.",https://github.com/bitcoin/bitcoin/pull/19096#discussion_r432155491,432155491,src/interfaces/wallet.cpp
promag,2020-05-28 22:25:19,Why not `assert(context.Has<WalletContext>())` for now?,https://github.com/bitcoin/bitcoin/pull/19096#discussion_r432157919,432157919,src/wallet/rpcwallet.cpp
ryanofsky,2020-05-29 04:28:00,"re: https://github.com/bitcoin/bitcoin/pull/19096#discussion_r432155491\n\n> Instead of adding the `operator=` (which doesn't copy m_context) maybe overload constructor so that here would be `return command.actor({request, m_context}, result, last_handler)`. I've pushed [5e433dc](https://github.com/bitcoin/bitcoin/commit/5e433dcb6fc3106281d14330879acf0ef1160b62) with this suggestion.\n\nThanks",https://github.com/bitcoin/bitcoin/pull/19096#discussion_r432249280,432249280,src/interfaces/wallet.cpp
ryanofsky,2020-05-29 04:36:06,"re: https://github.com/bitcoin/bitcoin/pull/19096#discussion_r432157919\n\n> Why not `assert(context.Has<WalletContext>())` for now?\n\nNot sure what the advantages of asserting would be. I do think not aborting would be a little better but mostly just want `EnsureWalletContext` to be consistent with [`EnsureNodeContext`](\nhttps://github.com/bitcoin/bitcoin/blob/adc143fc2b9ab75837776046064fb",https://github.com/bitcoin/bitcoin/pull/19096#discussion_r432250903,432250903,src/wallet/rpcwallet.cpp
promag,2020-05-29 12:33:16,Is it possible to hit this exception?,https://github.com/bitcoin/bitcoin/pull/19096#discussion_r432451836,432451836,src/wallet/rpcwallet.cpp
MarcoFalke,2020-05-29 12:37:03,"assert can not be used in rpc code. See\n\n```\ntest/lint/lint-assertions.sh:# Macro CHECK_NONFATAL(condition) should be used instead of assert for RPC code, where it\n",https://github.com/bitcoin/bitcoin/pull/19096#discussion_r432453688,432453688,src/wallet/rpcwallet.cpp
MarcoFalke,2020-06-01 13:53:40,style-nit: I don't think this is valid clang-formatted code *hides*,https://github.com/bitcoin/bitcoin/pull/19096#discussion_r433247126,433247126,src/rpc/request.h
MarcoFalke,2020-06-01 13:54:29,"Would it be possible to do just this change in the first commit and all other changes in the second commit? If yes, that should simplify review. If no, I will take another look.",https://github.com/bitcoin/bitcoin/pull/19096#discussion_r433247636,433247636,src/wallet/rpcwallet.cpp
ryanofsky,2020-06-01 15:33:38,"re: https://github.com/bitcoin/bitcoin/pull/19096#discussion_r433247126\n\n> style-nit: I don't think this is valid clang-formatted code _hides_\n\nRan clang-format",https://github.com/bitcoin/bitcoin/pull/19096#discussion_r433308945,433308945,src/rpc/request.h
ryanofsky,2020-06-01 15:33:59,"re: https://github.com/bitcoin/bitcoin/pull/19096#discussion_r433247636\n\n> Would it be possible to do just this change in the first commit and all other changes in the second commit? If yes, that should simplify review. If no, I will take another look.\n\nMoved to new commit",https://github.com/bitcoin/bitcoin/pull/19096#discussion_r433309270,433309270,src/wallet/rpcwallet.cpp
ariard,2020-06-01 23:38:38,If it has to contain references for multiple wallet why not call it `WalletsContext` ? We have one node but maybe multiple wallets connected to it. ,https://github.com/bitcoin/bitcoin/pull/19096#discussion_r433543982,433543982,src/wallet/context.h
MarcoFalke,2020-06-02 14:34:03,Thanks for splitting up. This made the review easier for me.,https://github.com/bitcoin/bitcoin/pull/19096#discussion_r433924827,433924827,src/wallet/rpcwallet.cpp
ryanofsky,2020-06-04 11:00:41,"re: https://github.com/bitcoin/bitcoin/pull/19096#discussion_r433543982\n\n> If it has to contain references for multiple wallet why not call it `WalletsContext` ? We have one node but maybe multiple wallets connected to it.\n\nI think using ""wallets"" instead of ""wallet"" is good where it can prevent ambiguity and misuse (https://github.com/bitcoin/bitcoin/pull/12221), but using plural where a ",https://github.com/bitcoin/bitcoin/pull/19096#discussion_r435169388,435169388,src/wallet/context.h
