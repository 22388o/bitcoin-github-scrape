[
  {
    "sha": "dca9244fb45b21b86e5906daad60348f40fde19f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkY2E5MjQ0ZmI0NWIyMWI4NmU1OTA2ZGFhZDYwMzQ4ZjQwZmRlMTlm",
    "commit": {
      "author": {
        "name": "David Joel Schwartz",
        "email": "davidjoelschwartz@gmail.com",
        "date": "2011-08-06T13:15:00Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2011-10-04T03:59:45Z"
      },
      "message": "Optimized DecodeBase64",
      "tree": {
        "sha": "9c4fc9f9b80d776396f6ecadcab9019900481e36",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9c4fc9f9b80d776396f6ecadcab9019900481e36"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dca9244fb45b21b86e5906daad60348f40fde19f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dca9244fb45b21b86e5906daad60348f40fde19f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/dca9244fb45b21b86e5906daad60348f40fde19f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dca9244fb45b21b86e5906daad60348f40fde19f/comments",
    "author": {
      "login": "JoelKatz",
      "id": 877549,
      "node_id": "MDQ6VXNlcjg3NzU0OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/877549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JoelKatz",
      "html_url": "https://github.com/JoelKatz",
      "followers_url": "https://api.github.com/users/JoelKatz/followers",
      "following_url": "https://api.github.com/users/JoelKatz/following{/other_user}",
      "gists_url": "https://api.github.com/users/JoelKatz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JoelKatz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JoelKatz/subscriptions",
      "organizations_url": "https://api.github.com/users/JoelKatz/orgs",
      "repos_url": "https://api.github.com/users/JoelKatz/repos",
      "events_url": "https://api.github.com/users/JoelKatz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JoelKatz/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c7eb151ad0ed441d6fd598551059a9bbfb09e99e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c7eb151ad0ed441d6fd598551059a9bbfb09e99e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c7eb151ad0ed441d6fd598551059a9bbfb09e99e"
      }
    ],
    "stats": {
      "total": 78,
      "additions": 61,
      "deletions": 17
    },
    "files": [
      {
        "sha": "96393ad674717e271820b19c96bcb5e5fc55532a",
        "filename": "src/rpc.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 17,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dca9244fb45b21b86e5906daad60348f40fde19f/src/rpc.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dca9244fb45b21b86e5906daad60348f40fde19f/src/rpc.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc.cpp?ref=dca9244fb45b21b86e5906daad60348f40fde19f",
        "patch": "@@ -1834,23 +1834,6 @@ string EncodeBase64(string s)\n     return result;\n }\n \n-string DecodeBase64(string s)\n-{\n-    BIO *b64, *bmem;\n-\n-    char* buffer = static_cast<char*>(calloc(s.size(), sizeof(char)));\n-\n-    b64 = BIO_new(BIO_f_base64());\n-    BIO_set_flags(b64, BIO_FLAGS_BASE64_NO_NL);\n-    bmem = BIO_new_mem_buf(const_cast<char*>(s.c_str()), s.size());\n-    bmem = BIO_push(b64, bmem);\n-    BIO_read(bmem, buffer, s.size());\n-    BIO_free_all(bmem);\n-\n-    string result(buffer);\n-    free(buffer);\n-    return result;\n-}\n \n bool HTTPAuthorized(map<string, string>& mapHeaders)\n {"
      },
      {
        "sha": "2798c466a840bd8caf27044ac28eeed75eec5f13",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 60,
        "deletions": 0,
        "changes": 60,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dca9244fb45b21b86e5906daad60348f40fde19f/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dca9244fb45b21b86e5906daad60348f40fde19f/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=dca9244fb45b21b86e5906daad60348f40fde19f",
        "patch": "@@ -446,6 +446,66 @@ vector<unsigned char> ParseHex(const string& str)\n }\n \n \n+static const int decode64_table[256]=\n+{\n+ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n+ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n+ -1, -1, -1, 62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1,\n+ -1, -1, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14,\n+ 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1, -1, 26, 27, 28,\n+ 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48,\n+ 49, 50, 51, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n+ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n+ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n+ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n+ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n+ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n+ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1\n+};\n+\n+std::string DecodeBase64(const std::string &s)\n+{\n+    char buf[1024];\n+    if(s.length()>512) return \"\";\n+    char *optr=buf;\n+\n+    int dec, mode=0, left=0;\n+    size_t index=0;\n+    for (int i=0; i<s.length(); i++)\n+    {\n+         dec=decode64_table[s[i]];\n+         if(dec==-1) break;\n+         switch(mode)\n+         {\n+             case 0: // we have no bits and get 6\n+                 left = dec;\n+                 mode = 1;\n+                 break;\n+\n+              case 1: // we have 6 bits and keep 4\n+                 *optr++ = (left<<2) | (dec>>4);\n+                  left = dec & 15;\n+                  mode = 2;\n+                  break;\n+\n+             case 2: // we have 4 bits and get 6, we keep 2\n+                  *optr++ = (left<<4) | (dec>>2);\n+                 left = dec & 3;\n+                 mode = 3;\n+                 break;\n+\n+             case 3: // we have 2 bits and get 6\n+                 *optr++ = (left<<6) | dec;\n+                 mode=0;\n+                 break;\n+         }\n+    }\n+\n+    *optr=0;\n+    return buf;\n+}\n+\n+\n void ParseParameters(int argc, char* argv[])\n {\n     mapArgs.clear();"
      },
      {
        "sha": "85b7794ab6feb9aecb4764295e497cafda89f28e",
        "filename": "src/util.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dca9244fb45b21b86e5906daad60348f40fde19f/src/util.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dca9244fb45b21b86e5906daad60348f40fde19f/src/util.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.h?ref=dca9244fb45b21b86e5906daad60348f40fde19f",
        "patch": "@@ -202,6 +202,7 @@ int64 GetTime();\n int64 GetAdjustedTime();\n void AddTimeData(unsigned int ip, int64 nTime);\n std::string FormatFullVersion();\n+std::string DecodeBase64(const std::string &s);\n \n \n "
      }
    ]
  }
]