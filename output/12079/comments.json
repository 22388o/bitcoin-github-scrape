[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355000171",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12079#issuecomment-355000171",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12079",
    "id": 355000171,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTAwMDE3MQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-03T12:25:22Z",
    "updated_at": "2018-01-03T12:25:22Z",
    "author_association": "MEMBER",
    "body": "```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nutACK 416826cd1c9c7edfe2eb77b70e0d38313a8a57aa\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQIcBAEBCgAGBQJaTMuiAAoJENLqSFDnUoslBEUQAINrbUNb/HR/Jif3TuGxhu0h\r\nRKY+p/M3sRPNIHgcPPK7wjLc7wdJ128hcLIAzNca9R76XXtUoFz5i6/kaA/Dno3g\r\n9jRyTsj6Y17FSTDO24gO8xUkkuieX4BvRAmOxGciQY4Yl8Bz8SzjZ+9Tide3d2ky\r\nYixt7dI3+nniy5rShey33iKdUzmTPO1LPiM0cW2dYIDEtGXGH0e5yUPXT2XhVkHr\r\n+sRD9OU3egQRrquz5lvXEcjZBUZJ0aPxxTddW4netzRfADV3nqxd05/r1lwu3zw/\r\nianUdl5rqMkWxYq42+yCiw2qNxH+KcbLB71hncJaIt/atryNMTdEjF6qUw3Hnb66\r\nDJHS/SZT/a/CpONM1IcHcabQZJsfe+RsdcDODfTsGYDsdkERlsh1Ri/96Bs0dFOw\r\nWNcCrbLXTwY2Qdp+OG8MkMxhsbt4B70FEplDShxxVjEPeMr8mXIpHhmeSK1ptl08\r\nh2S/c6Y0Mv/YvgqoxSI+D3ZTmdGTwyESqF49o3lExl+fM+QeR5+xLcFuvHqgIYsm\r\nUPflAajI/660MbCN7h8scvez6tOeTcnTPtJZxPv65OlmS3a7gzLiggoJ1Q9n+V6I\r\nB4GmNA0tb94p2NDr4YNm+qVe8PRxy12R58CZwsKb5GmdM3bqbdRZ8Q6UwM3Etmml\r\nyZqdWJa5nI0uqvcL5i7D\r\n=3ZD6\r\n-----END PGP SIGNATURE-----",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355000171/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355591700",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12079#issuecomment-355591700",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12079",
    "id": 355591700,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTU5MTcwMA==",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-05T16:04:14Z",
    "updated_at": "2018-01-05T16:04:14Z",
    "author_association": "MEMBER",
    "body": "utACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355591700/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355738418",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12079#issuecomment-355738418",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12079",
    "id": 355738418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTczODQxOA==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-06T10:36:47Z",
    "updated_at": "2018-01-06T10:36:47Z",
    "author_association": "MEMBER",
    "body": "utACK 7f67dd0aa67ec030d5793dcc69594173d5b69fcc",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355738418/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159739869",
    "pull_request_review_id": 86739870,
    "id": 159739869,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTczOTg2OQ==",
    "diff_hunk": "@@ -249,8 +249,6 @@ UniValue prioritisetransaction(const JSONRPCRequest& request)\n             + HelpExampleRpc(\"prioritisetransaction\", \"\\\"txid\\\", 0.0, 10000\")\n         );\n \n-    LOCK(cs_main);",
    "path": "src/rpc/mining.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "7f67dd0aa67ec030d5793dcc69594173d5b69fcc",
    "original_commit_id": "021907bf0e0679f40a252b2dc2bd91bbd9ea0aa6",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why is this being removed?  It's not obvious to me that this wouldn't result in some kind of race with AcceptToMemoryPool.\r\n\r\nGenerally I think of cs_main as required to make any changes to the mempool, while mempool.cs is sufficient for read-only access to the mempool...  `PrioritiseTransaction` changes the mempool (re-sorting it), though I guess doesn't add or remove anything -- so it's not clear to me whether this would be problematic or not, with our current code.  But it seems safer to me to not remove the lock here, because even if there's no race condition now, it seems like it could result in a future bug.",
    "created_at": "2018-01-04T19:49:23Z",
    "updated_at": "2018-01-05T15:35:04Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12079#discussion_r159739869",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12079",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159739869"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12079#discussion_r159739869"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12079"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159739869/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 252,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159743859",
    "pull_request_review_id": 86744686,
    "id": 159743859,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTc0Mzg1OQ==",
    "diff_hunk": "@@ -249,8 +249,6 @@ UniValue prioritisetransaction(const JSONRPCRequest& request)\n             + HelpExampleRpc(\"prioritisetransaction\", \"\\\"txid\\\", 0.0, 10000\")\n         );\n \n-    LOCK(cs_main);",
    "path": "src/rpc/mining.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "7f67dd0aa67ec030d5793dcc69594173d5b69fcc",
    "original_commit_id": "021907bf0e0679f40a252b2dc2bd91bbd9ea0aa6",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes I can remove that commit, it's not entirely related to this PR. I guess it can be revisited later after annotations are in place.",
    "created_at": "2018-01-04T20:09:16Z",
    "updated_at": "2018-01-05T15:35:04Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12079#discussion_r159743859",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12079",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159743859"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12079#discussion_r159743859"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12079"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159743859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 252,
    "side": "LEFT",
    "in_reply_to_id": 159739869
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159904240",
    "pull_request_review_id": 86934520,
    "id": 159904240,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTkwNDI0MA==",
    "diff_hunk": "@@ -249,8 +249,6 @@ UniValue prioritisetransaction(const JSONRPCRequest& request)\n             + HelpExampleRpc(\"prioritisetransaction\", \"\\\"txid\\\", 0.0, 10000\")\n         );\n \n-    LOCK(cs_main);",
    "path": "src/rpc/mining.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "7f67dd0aa67ec030d5793dcc69594173d5b69fcc",
    "original_commit_id": "021907bf0e0679f40a252b2dc2bd91bbd9ea0aa6",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done.",
    "created_at": "2018-01-05T15:35:19Z",
    "updated_at": "2018-01-05T15:35:19Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12079#discussion_r159904240",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12079",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159904240"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12079#discussion_r159904240"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12079"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159904240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 252,
    "side": "LEFT",
    "in_reply_to_id": 159739869
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159919940",
    "pull_request_review_id": 86953043,
    "id": 159919940,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTkxOTk0MA==",
    "diff_hunk": "@@ -249,8 +249,6 @@ UniValue prioritisetransaction(const JSONRPCRequest& request)\n             + HelpExampleRpc(\"prioritisetransaction\", \"\\\"txid\\\", 0.0, 10000\")\n         );\n \n-    LOCK(cs_main);",
    "path": "src/rpc/mining.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "7f67dd0aa67ec030d5793dcc69594173d5b69fcc",
    "original_commit_id": "021907bf0e0679f40a252b2dc2bd91bbd9ea0aa6",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'd prefer if we document such assumptions in the code. Preferably with a clang static annotation but maybe also with a short description about the locking requirements for that method/class, if needed.",
    "created_at": "2018-01-05T16:37:17Z",
    "updated_at": "2018-01-05T16:37:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12079#discussion_r159919940",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12079",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159919940"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12079#discussion_r159919940"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12079"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159919940/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 252,
    "side": "LEFT",
    "in_reply_to_id": 159739869
  }
]