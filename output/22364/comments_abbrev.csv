DrahtBot,2021-06-29 09:34:52,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23544](https://github.com/bitcoin/bitcoin/pull/23544) (rpc, wallet: addhdseed, infer seed when importing descriptor with",https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-870438993,870438993,
Sjors,2021-06-29 15:03:42,"The first couple of commits can be merged earlier with a separate PR.\n\nI should try how this interacts with #22260.\n\nAlso, it'd be nice to have this on Signet, so explictly check for that chain and then make a followup to do it on testnet and mainnet?\n\nHow do you want to go about upgrading existing descriptor wallets? Given that it's still marked experimental, having some manual RPC / ",https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-870679313,870679313,
achow101,2021-07-21 02:13:13,The first commit was split to #22512,https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-883831476,883831476,
michaelfolkson,2021-08-02 09:59:08,"Concept ACK\n\nI misunderstood what the ""default"" aspect of this PR was referring to. As explained to me in the July 30th Core [wallet meeting](https://gnusha.org/bitcoin-core-dev/2021-07-30.log) there is no universal ""default"" descriptor in the wallet, just a default descriptor per address type. This PR is allowing a Taproot descriptor be constructed (and will be merged post Taproot activation)",https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-890893599,890893599,
Sjors,2021-10-20 12:30:32,"I made a [branch](https://github.com/Sjors/bitcoin/tree/2021/10/tr-desc-and-bech32m-gui) that combines this PR with #22260, so you get bech32m addresses in the GUI for new descriptor wallets. It seems to work fine.\n\nGiven that this PR has to wait for Taproot, I suggest splitting off all commits except 449ce29. Code looks reasonable at first glance, though it's unclear to me what problem 9a8632",https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-947618076,947618076,
MarcoFalke,2021-10-22 11:13:40,Anything left to do here to take this out of draft?,https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-949529745,949529745,
achow101,2021-10-22 17:18:12,"> Anything left to do here to take this out of draft?\n\nWaiting for taproot to activate?",https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-949822744,949822744,
Sjors,2021-10-22 17:25:53,"I don't think we should use PR draft status for that. If the code is ready for review, it probably should not be draft. Just a big warning to maintainers not to merge it yet.",https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-949827983,949827983,
jsarenik,2021-10-26 15:33:37,@achow101 Is the `DEFAULT_ADDRESS_TYPE` going to be changed in `src/wallet/wallet.h`? Not part of this PR yet.,https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-952060037,952060037,
achow101,2021-10-26 17:20:25,"> Is the `DEFAULT_ADDRESS_TYPE` going to be changed in `src/wallet/wallet.h`? Not part of this PR yet.\n\nNot yet. This would cause issues with wallets which don't have `tr()` descriptors.",https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-952149500,952149500,
MarcoFalke,2021-10-28 13:57:23,"review ACK 407bab94b91858cd3ea27dd96894fb6dfe2735d2 (only looked at the tests, didn't review the wallet changes)",https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-953871140,953871140,
MarcoFalke,2021-11-05 11:02:09,"nit, if you rebase and push:\n\n```diff\ndiff --git a/src/wallet/test/fuzz/notifications.cpp b/src/wallet/test/fuzz/notifications.cpp\nindex 252832785b..0811acca13 100644\n--- a/src/wallet/test/fuzz/notifications.cpp\n+++ b/src/wallet/test/fuzz/notifications.cpp\n@@ -68,9 +68,6 @@ struct FuzzedWallet {\n     CScript GetScriptPubKey(FuzzedDataProvider& fuzzed_data_provider)\n     {\n     ",https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-961802212,961802212,
MarcoFalke,2021-11-14 06:04:08,Adjusted title again for ðŸ¥•,https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-968212932,968212932,
Sjors,2021-11-14 16:08:58,tACK 407bab94b91858cd3ea27dd96894fb6dfe2735d2,https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-968319409,968319409,
sipa,2021-11-15 16:40:48,Concept ACK,https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-969095586,969095586,
laanwj,2021-11-15 20:39:10,"> How do you want to go about upgrading existing descriptor wallets? Given that it's still marked experimental, having some manual RPC / wallet tool command would be fine I think. But with future soft-forks such an upgrade should be automatically, just like how we added Segwit addresses to existing wallets.\n\nSame question (couldn't find an answer in this PR)â€”does this add the descriptor to exi",https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-969300704,969300704,
achow101,2021-11-15 20:58:58,"> Same question (couldn't find an answer in this PR)â€”does this add the descriptor to existing wallets, or only to new ones? If not, what is the upgrade command, and should it be added to the release notes?\n\nThis PR only applies to newly created descriptor wallets. Current wallet will need to be upgraded through some method that I haven't quite implemented yet. It will probably be some extensio",https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-969314865,969314865,
MarcoFalke,2021-11-16 12:20:18,why not https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-961802212 ?,https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-970217373,970217373,
achow101,2021-11-16 17:20:31,"> why not [#22364 (comment)](https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-961802212) ?\n\nForgot, done now.",https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-970491985,970491985,
MarcoFalke,2021-11-17 08:28:43,"Concept ACK 4868c9f1b39f03adee0009cd41d96598b43e8b78\n",https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-971346682,971346682,
Sjors,2021-11-17 13:19:02,re-utACK 4868c9f1b39f03adee0009cd41d96598b43e8b78,https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-971575796,971575796,
gruve-p,2021-11-22 08:44:32,ACK https://github.com/bitcoin/bitcoin/pull/22364/commits/4868c9f1b39f03adee0009cd41d96598b43e8b78,https://github.com/bitcoin/bitcoin/pull/22364#issuecomment-975281256,975281256,
MarcoFalke,2021-10-27 09:31:01,"Why is this line duplicated?\n\nAlso, it might be good to add an inline comment explaining why descriptor wallet behave differently?\n\nMaybe:\n\n```py\n# Descriptor wallets send the change to taproot addresses...?",https://github.com/bitcoin/bitcoin/pull/22364#discussion_r737282989,737282989,test/functional/wallet_groups.py
MarcoFalke,2021-10-27 09:31:52,"```suggestion\n        # A descriptor wallet should have 100 addresses * 4 types = 400 keys\n```\n\n?",https://github.com/bitcoin/bitcoin/pull/22364#discussion_r737283681,737283681,test/functional/wallet_descriptor.py
achow101,2021-10-27 17:15:14,"Oops, fixed. Added a comment.",https://github.com/bitcoin/bitcoin/pull/22364#discussion_r737684888,737684888,test/functional/wallet_groups.py
achow101,2021-10-27 17:15:19,Done,https://github.com/bitcoin/bitcoin/pull/22364#discussion_r737684950,737684950,test/functional/wallet_descriptor.py
MarcoFalke,2021-11-16 12:23:07,Does the comment in this function need an update?,https://github.com/bitcoin/bitcoin/pull/22364#discussion_r750216993,750216993,src/script/signingprovider.cpp
achow101,2021-11-16 17:20:35,Done,https://github.com/bitcoin/bitcoin/pull/22364#discussion_r750499607,750499607,src/script/signingprovider.cpp
