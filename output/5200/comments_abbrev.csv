laanwj,2014-11-03T07:22:03Z,"Whoa, great work\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-61446108,61446108,
morcos,2014-11-03T20:44:48Z,"Agreed.  This is a really nice change!  I like how the slider starts at normal and you have to consciously select a lower confirm target.  If we end up using #5159 or something similar, you might want to change the uninitialized error message.  It's possible to consistently not get an answer for a very low confirmation target like 1, because there is no fee that is reliably high enough and it seem",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-61545304,61545304,
cozz,2014-11-05T00:14:32Z,"update: addressed inline comments\n\n@morcos Yes, if our estimation code has an answer for 25, but not for 1, it would be confusing to tell the user in order to get 'fast' confirmation, you need to pay a lower fee than for 'normal'.\nBut that can be changed once we switch to the new estimation code. The current GUI is supposed to work with the current master.\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-61739253,61739253,
laanwj,2014-11-13T15:38:41Z,"Looks good to me!\n\nA question: ""Send as free transaction if possible"" - doesn't this toggle apply to all three settings equally, Recommended Minimum and Custom? That feels more logical to me.\n\nSome minor nits:\n- SmartFee → smart fee\n- at least → total at least (after Custom:)\n- Confirmation dialog should show the size of the transaction in kB, so that people can verify that the fee they sel",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-62909397,62909397,
luke-jr,2014-11-13T15:50:30Z,"Grammatical corrections:\n- ""1 block"" should not be plural\n- ""Send as free transaction if possible"" should be ""Send as gratis transaction if possible""; ""free"" means something else.\n\nWhat is the difference between ""Send as free transaction if possible"" and ""Minimum""? They sound like the same thing to me...\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-62912298,62912298,
cozz,2014-11-13T16:36:32Z,"@laanwj Yes, I had that checkbox apply to all three, but then I realized that this is not possible with the current logic of CreateTransaction. Its not a problem, but it requires CreateTransaction to be redesigned again. If you want that, I can do this, I just did not, to avoid critical changes. In the current master, if you pay a voluntary fee, you never send free.\nI also vote for changing it, b",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-62922081,62922081,
luke-jr,2014-11-13T16:41:33Z,"@cozz ""free transaction relay"" has been used for nodes that don't perform IsStandard filtering of transactions. It's better to use unambiguous terms, even if you accept the newer redefinition of ""free"" to include ""gratis"".\n\nIf gratis is possible, it would always be the minimum. So what is the difference?\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-62922972,62922972,
gavinandresen,2014-11-13T16:44:36Z,"""gratis"" is an obscure word.  How about ""zero-fee"".\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-62923539,62923539,
cozz,2014-11-13T17:01:16Z,"So lets replace ""free"" with ""zero-fee"" then.\n\nAbout the other thing, I can see that ""minimum"" may seem to imply ""zero-fee"", but its not. If we move the free-checkbox below, to apply to all three, this should become clearer.\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-62926420,62926420,
luke-jr,2014-11-13T17:21:57Z,"So what would ""Minimum"" do if you uncheck it? O.o\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-62930541,62930541,
cozz,2014-11-13T17:23:39Z,minimum is a radio button. you must select 1 of 3.\n,https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-62930804,62930804,
luke-jr,2014-11-13T17:31:43Z,"I mean selected Minimum and unchecked ""zero-fee"" - it doesn't make sense... if zero-fee is possible, it's _always_ the minimum.\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-62932068,62932068,
cozz,2014-11-13T17:59:26Z,"Ah. Yes, I understand what you mean. I just dont really know better. Renaming ""Minimum"" to ""Standard"" for example, would make it even more confusing. There just is a minimum relay fee, which is 1000 satoshis per kB. And I want to give the user the option to select that. The selected fee is independent of ""free"" or ""not"". Thats what the checkbox is there for.\nCurrently if you select ""Minimum"" you ",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-62936637,62936637,
cozz,2014-11-13T18:45:17Z,"Normally the minimum fee should be the start of the slider, and there should also be an estimation of how long it takes to confirm, if you just pay the minfee. Then we could remove the ""Minimum"" radio button. But our smartfee is not that smart by design, so we just have to make the best of it.\n\nWe could also remove the ""Minimum"" radio button, and combine it with ""Custom"" somehow.\nSimplest would",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-62943984,62943984,
luke-jr,2014-11-13T19:15:42Z,"The slider is added by this PR. Why not just guarantee the ""avoid rate limiting"" value exists on it, and label it as such?\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-62948851,62948851,
cozz,2014-11-14T17:37:43Z,"Yes, adding the minfee as part of the slider could be an idea. On the other hand this would make the slider rather complicated and not fool-proof anymore.\nOne main purpose of smartfee is to just select a fee automatically, so that the transaction confirms,\nwithout that the user has to think or understand anything.\n\nSo what about making the minfee a checkbox as part of custom. So we would have ",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63100752,63100752,
luke-jr,2014-11-14T17:41:58Z,"Hm, seeing it that way makes me think it should be a click-button to the right of the Custom options ""Set for quick relay"" or something, that changes the values?\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63101360,63101360,
cozz,2014-11-14T17:48:35Z,"If you click the checkbox, the upper controls would be disabled and preselected.\nBut I have also thought about that button. I would name it ""Set to minimum fee"".\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63102290,63102290,
luke-jr,2014-11-14T17:59:46Z,"Ah, okay, it makes sense to disable the upper part. I think relay should be mentioned, since that's what it means.\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63103884,63103884,
cozz,2014-11-14T18:03:51Z,"Ok, so I'll keep the checkbox. What you mean with relay? Its not the minimum relayfee. Its the minimum wallet fee.\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63104484,63104484,
luke-jr,2014-11-14T18:13:12Z,"That doesn't make sense. What is a ""minimum wallet fee""?\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63105653,63105653,
cozz,2014-11-14T18:14:13Z,See #5209\n,https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63105783,63105783,
luke-jr,2014-11-14T18:40:04Z,"In other words, the arbitrary value that floating fees is supposed to be _replacing_?\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63109378,63109378,
cozz,2014-11-14T19:10:28Z,"Yes, I could write another story now, about how bad I think smartfee is, but I already mentioned that in another pull request. This pull request is just about to bring to the GUI what we have. At least smartfee suggests ""some"" fee that we have seen confirms for sure. Which is an improvement. So people who have no idea what to pay in fee, are safe when they choose to pay the recommended fee, becaus",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63113752,63113752,
morcos,2014-11-14T20:13:47Z,Personally I think we're not addressing the biggest issue.  Given that you are selecting the fee rate you want to pay before your inputs are selected (unless you're using coin control) you have very little control on the total fee you're paying.  I think before we could have a really effective GUI for paying fees we'd have to address #4082.  There is a complicated interaction between the inputs yo,https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63122509,63122509,
cozz,2014-11-14T20:55:48Z,"@morcos yes, I agree to what you say, there is a lot of room for improvement.\nBut lets not make more of this pull request than what its supposed to do.\n\nThe point is that the current fee/priority selection, selects something thats confirms. And floats. Thats good. Even if way too high in some edge cases, its better than the hardcoded fee/priority values we had before. And people who know better",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63127614,63127614,
cozz,2014-11-15T20:39:15Z,"update:\n- make minfee a checkbox as part of custom\n- move zero-fee checkbox below to apply independent of ""recommended"" or ""custom""\n- nits\n\nAdded as separate commit for easier review. Should be squashed before merge. There were less changes to CreateTransaction required than\nI thought, but I introduced a ""-sendfreetransactions"" (default=false) command line parameter to have bitcoind behavior",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63191128,63191128,
luke-jr,2014-11-15T21:21:35Z,"When this says ""to be confirmed within 25 blocks"", what metric is it using for confirmation? The usual 6 blocks? If it's just 25 blocks to be mined, perhaps ""to begin confirmation within 25 blocks"" would be better.\n\nIt might be desirable to see the Smart-Fee estimate for mining/confirmation time even for Custom fee selection (move it outside the options?).\n\nWhat does the new ""Minimize"" button ",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63193135,63193135,
morcos,2014-11-15T22:04:40Z,"I think having the ""zero-fee"" option apply to both is confusing, because I think it still uses the txConfirmTarget you set in the top section.   I like the idea of having a top section which uses smart fee-logic (and has the zero-fee checkbox) and a bottom custom section (which either has the min-fee checkbox or makes it easy to set the min fee as the custom fee).   \n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63194589,63194589,
cozz,2014-11-15T22:43:27Z,"@luke-jr \nI can change it to ""included in a block within 25 blocks"".\n\nOur estimation API is supposed to take a target (like 11 blocks) and returns the fee, not the other way round. Also the estimations are not really good at the moment. As morcos said, even if you just pay the minfee, you get almost always included after 8 blocks. But our estimation code tells you 25 blocks, for a even higher f",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63196031,63196031,
cozz,2014-11-15T23:02:21Z,"ok, changed to ""Estimated to begin confirmation within x block(s).""\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63196630,63196630,
laanwj,2014-11-18T16:53:58Z,~~ACK after squash~~\n~~commithash 6bfa31feae0c731ab52777bafdd3cbda41522d76~~\n~~https://dev.visucore.com/bitcoin/acks/5200~~\n(see below)\n,https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63503380,63503380,
cozz,2014-11-18T23:12:55Z,squashed\n,https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63563768,63563768,
cozz,2014-11-19T15:08:27Z,"@laanwj ok, I just rebased and skipped that commit\n",https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-63653525,63653525,
rebroad,2014-12-11T00:10:14Z,This doesn't seem to work well with #5159 currently...\n,https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-66548703,66548703,
cozz,2014-12-11T00:53:09Z,The GUI slider just shows what estimatefee returns. You can test the estimatefee rpc-call to check.\n,https://github.com/bitcoin/bitcoin/pull/5200#issuecomment-66552604,66552604,
laanwj,2014-11-03T07:22:39Z,Changing this core default is probably accidental?\n,https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19720784,19720784,src/wallet.cpp
sipa,2014-11-03T07:35:28Z,"This is the default for the wallet only, not the relay fee minimum. (just pointing out; not saying it's intentional or not).\n",https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19721032,19721032,src/wallet.cpp
Diapolo,2014-11-03T09:06:59Z,AFAIK we have a GUIUtil function for saving and restoring window positions. It may make sense to also add one for reading/writing generic values?\n,https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19723084,19723084,src/qt/coincontroldialog.cpp
Diapolo,2014-11-03T09:07:43Z,Could / should be a boolean as we only have 1 or 0 currently?\n,https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19723105,19723105,src/qt/coincontroldialog.cpp
Diapolo,2014-11-03T09:08:27Z,Coding nit: Can you add a space in here and for the other places where you use that :)?\n,https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19723122,19723122,src/qt/coincontroldialog.cpp
Diapolo,2014-11-03T09:09:26Z,Do we have a constant for this somewhere or a function which returns that value?\n,https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19723148,19723148,src/qt/coincontroldialog.cpp
Diapolo,2014-11-03T09:12:55Z,IMHO you could also remove that completely (the whole signal/slot stuff for this).\n,https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19723267,19723267,src/qt/optionsdialog.cpp
Diapolo,2014-11-03T09:14:09Z,Nit: wallet before walletmodel\n,https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19723319,19723319,src/qt/sendcoinsdialog.cpp
Diapolo,2014-11-03T09:16:25Z,This should also have a NULL pointer check.\n,https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19723381,19723381,src/qt/sendcoinsdialog.cpp
Diapolo,2014-11-03T09:16:40Z,Same here... NULL pointer check?\n,https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19723390,19723390,src/qt/sendcoinsdialog.cpp
cozz,2014-11-03T17:07:59Z,"Sure, its intentional, we have reduced the minrelayfee from 10000 to 1000 satoshis in 0.9. But this did not make transactions cheaper for the people, because the wallet still paid 10000 (which is good, to ensure everybodys txs get relayed). After the 0.9 release there were even blogs about ""How to make your bitcoin transactions cheaper"", they told people to start bitcoin with -mintxfee=0.00001000 ",https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19747068,19747068,src/wallet.cpp
morcos,2014-11-03T20:49:45Z,Seems like it might be nice to move this call outside of the loops in `updateLabels` and `updateView` since its just the same call over and over again for each input.\n,https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19762868,19762868,src/qt/coincontroldialog.cpp
morcos,2014-11-03T20:51:13Z,This actually means the opposite of `nTxConfirmTarget` right?  This is how far over the slider is set?\n,https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19762945,19762945,src/qt/sendcoinsdialog.cpp
morcos,2014-11-03T20:56:05Z,"I'm not sure `AllowFree` is a good default here, that's the minimum possible priority to be included in a block, but isn't any indication that it's ever going to happen.  \n",https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19763216,19763216,src/qt/coincontroldialog.cpp
laanwj,2014-11-04T09:02:45Z,"OK - agreed, although it could be argued this needs to be in a separate change from the GUI changes, as it affects the RPC wallet as well\n",https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19791096,19791096,src/wallet.cpp
cozz,2014-11-05T00:07:26Z,"I am not completely objected to that idea, but on the other hand the values get written to disk in the QSettings destructor, so if we had a guiutil-function we would flush to disk on every call for no reason really.\n\nAnd as for the writings we would replace 1 line\n\n```\nsettings.setValue(key, value);\n```\n\nwith 1 line\n\n```\nGUIUtil::setQSetting(key, value);\n```\n\nwhich is not that much o",https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19846883,19846883,src/qt/coincontroldialog.cpp
cozz,2014-11-05T00:07:51Z,fixed\n,https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19846895,19846895,src/qt/sendcoinsdialog.cpp
cozz,2014-11-05T00:08:54Z,"Yes, I also thought that maybe we shouldnt allow free transactions by the hardcoded priority at all.\nOn the other hand, smartfee needs some people to send free transactions in order to have a reference.\n\nBut this is the wrong pull request for this discussion, here coincontrol just needs to follow CWallet:CreateTransaction.\nIf you want that to be changed, please create a separate issue for it, ",https://github.com/bitcoin/bitcoin/pull/5200#discussion_r19846942,19846942,src/qt/coincontroldialog.cpp
laanwj,2014-11-19T09:29:42Z,I thought you moved this change to #5209 so that it has its own discussion. You should remove it here.\n,https://github.com/bitcoin/bitcoin/pull/5200#discussion_r20564741,20564741,src/wallet.cpp
