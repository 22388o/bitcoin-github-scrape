[
  {
    "sha": "fa9a5bc1a0748afdc226f00abfd4f9e5df6d9139",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTlhNWJjMWEwNzQ4YWZkYzIyNmYwMGFiZmQ0ZjllNWRmNmQ5MTM5",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-12-05T16:43:55Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-12-10T19:08:20Z"
      },
      "message": "RPCHelpMan: Support required arguments after optional ones",
      "tree": {
        "sha": "9e3a5bca67f3b2c278c071fa1c202feda6d4e04c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9e3a5bca67f3b2c278c071fa1c202feda6d4e04c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa9a5bc1a0748afdc226f00abfd4f9e5df6d9139",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGcBAABCgAGBQJcDrmkAAoJEM4rdWl+aaVIv+YL/jkLF/B67fvRwmvxA87Em3NE\nKEKRaN9s+nJP3L1AsLCfZR8TpWWAbfH3jmJ07XSt3/Q1hDzcsrA9TOpsUDztTa9m\nH6fRHblo+kuJTMCSGOtVODOESMJXnJY0ijiC6WdEbqdQccMRUVxKluSY/B0nVlrg\nKC/a7n49cvQEgqSMLleIP8qqT/rq7S1Omd43tfF++sa1APycV9uMeUmF/5+1YuKy\nB89h12G8PWvaggEt2wzD7KhJQtSd0HtTDo/tfFEzYdempTL0NZvMQ6XFA6wAurbG\noyYxabDxNLVdSSl17/0sQKsccAn/V2m+1Cph2rzlXOJ94x5ocpTjR6Wajz7+++lT\n5/EXEuBf3OIrl9IfLEt1hUeEoW2Bld6msRix93g8u82+22GbIHbDHcZJ2Jxx1rTY\nX5z3IT54JoHvaDLDAgpNYxRlK7SJIvXLb5/uuf1BWBFEZaQl0TkJYAMbrK0jPYFq\nq4kEVa/iuvGdUIWYsSoRg0J7QUGTBTORNurorFigRQ==\n=z9yH\n-----END PGP SIGNATURE-----",
        "payload": "tree 9e3a5bca67f3b2c278c071fa1c202feda6d4e04c\nparent 5f23460c7e316fe7c944680f3feff07ebb867f70\nauthor MarcoFalke <falke.marco@gmail.com> 1544028235 -0500\ncommitter MarcoFalke <falke.marco@gmail.com> 1544468900 -0500\n\nRPCHelpMan: Support required arguments after optional ones\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa9a5bc1a0748afdc226f00abfd4f9e5df6d9139",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa9a5bc1a0748afdc226f00abfd4f9e5df6d9139",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa9a5bc1a0748afdc226f00abfd4f9e5df6d9139/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5f23460c7e316fe7c944680f3feff07ebb867f70",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5f23460c7e316fe7c944680f3feff07ebb867f70",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5f23460c7e316fe7c944680f3feff07ebb867f70"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 8,
      "deletions": 10
    },
    "files": [
      {
        "sha": "29684d0e6cfbceb7e5dfc6c3916a22df1bb48720",
        "filename": "src/rpc/mining.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9a5bc1a0748afdc226f00abfd4f9e5df6d9139/src/rpc/mining.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9a5bc1a0748afdc226f00abfd4f9e5df6d9139/src/rpc/mining.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/mining.cpp?ref=fa9a5bc1a0748afdc226f00abfd4f9e5df6d9139",
        "patch": "@@ -241,7 +241,7 @@ static UniValue prioritisetransaction(const JSONRPCRequest& request)\n                 \"Accepts the transaction into mined blocks at a higher (or lower) priority\\n\",\n                 {\n                     {\"txid\", RPCArg::Type::STR_HEX, /* opt */ false, /* default_val */ \"\", \"The transaction id.\"},\n-                    {\"dummy\", RPCArg::Type::NUM, /* opt */ false, /* default_val */ \"\", \"API-Compatibility for previous API. Must be zero or null.\\n\"\n+                    {\"dummy\", RPCArg::Type::NUM, /* opt */ true, /* default_val */ \"null\", \"API-Compatibility for previous API. Must be zero or null.\\n\"\n             \"                  DEPRECATED. For forward compatibility use named arguments and omit this parameter.\"},\n                     {\"fee_delta\", RPCArg::Type::NUM, /* opt */ false, /* default_val */ \"\", \"The fee value (in satoshis) to add (or subtract, if negative).\\n\"\n             \"                  Note, that this value is not a fee rate. It is a value to modify absolute fee of the TX.\\n\""
      },
      {
        "sha": "b91baee4ac3d1285c6020fc994430b9223395a5b",
        "filename": "src/rpc/util.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 9,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9a5bc1a0748afdc226f00abfd4f9e5df6d9139/src/rpc/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9a5bc1a0748afdc226f00abfd4f9e5df6d9139/src/rpc/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.cpp?ref=fa9a5bc1a0748afdc226f00abfd4f9e5df6d9139",
        "patch": "@@ -258,20 +258,19 @@ std::string RPCHelpMan::ToString() const\n \n     // Oneline summary\n     ret += m_name;\n-    bool is_optional{false};\n+    bool was_optional{false};\n     for (const auto& arg : m_args) {\n         ret += \" \";\n         if (arg.m_optional) {\n-            if (!is_optional) ret += \"( \";\n-            is_optional = true;\n+            if (!was_optional) ret += \"( \";\n+            was_optional = true;\n         } else {\n-            // Currently we still support unnamed arguments, so any argument following an optional argument must also be optional\n-            // If support for positional arguments is deprecated in the future, remove this line\n-            assert(!is_optional);\n+            if (was_optional) ret += \") \";\n+            was_optional = false;\n         }\n         ret += arg.ToString(/* oneline */ true);\n     }\n-    if (is_optional) ret += \" )\";\n+    if (was_optional) ret += \" )\";\n     ret += \"\\n\";\n \n     // Description\n@@ -285,8 +284,7 @@ std::string RPCHelpMan::ToString() const\n         if (i == 0) ret += \"\\nArguments:\\n\";\n \n         // Push named argument name and description\n-        const auto str_wrapper = (arg.m_type == RPCArg::Type::STR || arg.m_type == RPCArg::Type::STR_HEX) ? \"\\\"\" : \"\";\n-        sections.m_sections.emplace_back(std::to_string(i + 1) + \". \" + str_wrapper + arg.m_name + str_wrapper, arg.ToDescriptionString());\n+        sections.m_sections.emplace_back(std::to_string(i + 1) + \". \" + arg.m_name, arg.ToDescriptionString());\n         sections.m_max_pad = std::max(sections.m_max_pad, sections.m_sections.back().m_left.size());\n \n         // Recursively push nested args"
      }
    ]
  }
]