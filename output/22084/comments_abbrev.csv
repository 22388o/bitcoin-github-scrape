DrahtBot,2021-05-27 15:11:41,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #22097 (validation: Move package acceptance size limit from KvB to WU by ariard)\n* #21866 ([Bundle 7/7] validation: Farew",https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-849716399,849716399,
ariard,2021-05-28 05:20:12,I think this is ready for rebase and review now :) ,https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-850139565,850139565,
glozow,2021-05-28 08:51:40,yes! CC @ariard and @jnewbery :),https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-850261826,850261826,
jnewbery,2021-06-01 12:59:28,"Code review ACK 94f4946b9b42b3d7c7c87ffc98a2b5248e91cc46.\n\nThanks for addressing the outstanding review comments!",https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-852103966,852103966,
glozow,2021-06-02 09:42:26,Addressed @ariard's comments,https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-852878277,852878277,
jnewbery,2021-06-02 10:16:40,reACK 5cac95cd15da04b83afa1d31a43be9f5b30a1827,https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-852904796,852904796,
glozow,2021-06-02 15:50:36,"@ariard I looked back at the PR and just remembered your https://github.com/bitcoin/bitcoin/pull/20833#discussion_r621466059 about encapsulating the package policies, so I've added that commit and co-authored you.",https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-853142430,853142430,
jnewbery,2021-06-03 15:28:45,"utACK ee862d6efb4c3c01e55f0d5d7a82cce75323cf40\n\nChecked that final commit is move-only",https://github.com/bitcoin/bitcoin/pull/22084#issuecomment-853958028,853958028,
ariard,2021-06-01 17:30:42,"Can you switch the magic constant number of 4 by `WITNESS_SCALE_FACTOR` ?\n\nIt won't be required if #22097 gets first, but I don't care about the order, I can take the change there.",https://github.com/bitcoin/bitcoin/pull/22084#discussion_r643343919,643343919,src/policy/packages.h
ariard,2021-06-01 17:32:50,"What do you think about updating the reject reason to ""bip125-replacement-disallowed"" ?",https://github.com/bitcoin/bitcoin/pull/22084#discussion_r643345278,643345278,src/validation.cpp
glozow,2021-06-02 09:03:46,"yeah that makes sense, done",https://github.com/bitcoin/bitcoin/pull/22084#discussion_r643766064,643766064,src/policy/packages.h
glozow,2021-06-02 09:03:48,"sure, updated",https://github.com/bitcoin/bitcoin/pull/22084#discussion_r643766086,643766086,src/validation.cpp
jnewbery,2021-06-02 16:19:22,"This local variable is no longer needed:\n\n```diff\ndiff --git a/src/validation.cpp b/src/validation.cpp\nindex fef880152a..a5d7966b09 100644\n--- a/src/validation.cpp\n+++ b/src/validation.cpp\n@@ -1083,13 +1083,12 @@ PackageMempoolAcceptResult MemPoolAccept::AcceptMultipleTransactions(const std::\n {\n     AssertLockHeld(cs_main);\n \n-    PackageValidationState package_state;\n-   ",https://github.com/bitcoin/bitcoin/pull/22084#discussion_r644121103,644121103,src/validation.cpp
glozow,2021-06-02 16:29:33,done,https://github.com/bitcoin/bitcoin/pull/22084#discussion_r644128893,644128893,src/validation.cpp
harding,2021-06-07 19:20:08,"In [refactor] comment/naming improvements\n\nI think this is a bit confusing: the reader hasn't be introduced to the `allowed` field yet, so they don't know it's part of the results.  When I read this, I thought it was an input parameter that I had missed.  I don't think this is important, but if you edit, maybe this would be clearer:\n\n    ""Transactions that cannot be fully validated due to ",https://github.com/bitcoin/bitcoin/pull/22084#discussion_r646875181,646875181,src/rpc/rawtransaction.cpp
harding,2021-06-07 19:24:57,"In [refactor] comment/naming improvements \n\nÂµ-nit: maybe ""parents must appear *anywhere in the list* before their children"".  Otherwise someone could mistakenly infer that a parent needed to appear immediately before its children.",https://github.com/bitcoin/bitcoin/pull/22084#discussion_r646878232,646878232,src/validation.h
ariard,2021-06-08 21:24:55,plot twist: in fact we may need package *replace-by-feerate* :) ,https://github.com/bitcoin/bitcoin/pull/22084#discussion_r647804060,647804060,src/validation.cpp
glozow,2021-06-09 09:28:54,"Good point, I'll do this if I need to retouch or in a followup",https://github.com/bitcoin/bitcoin/pull/22084#discussion_r648131073,648131073,src/rpc/rawtransaction.cpp
glozow,2021-06-09 09:29:19,"Agree, will do this if I need to retouch or in a followup",https://github.com/bitcoin/bitcoin/pull/22084#discussion_r648131439,648131439,src/validation.h
glozow,2021-06-10 10:47:26,Added to #21800,https://github.com/bitcoin/bitcoin/pull/22084#discussion_r649069174,649069174,src/rpc/rawtransaction.cpp
glozow,2021-06-10 10:47:31,Added to #21800,https://github.com/bitcoin/bitcoin/pull/22084#discussion_r649069230,649069230,src/validation.h
