[
  {
    "sha": "dc9305b6162ec615ff5fb2876e4f312051b543af",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkYzkzMDViNjE2MmVjNjE1ZmY1ZmIyODc2ZTRmMzEyMDUxYjU0M2Fm",
    "commit": {
      "author": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2019-12-23T20:44:39Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2020-02-06T00:24:13Z"
      },
      "message": "random: don't special case clock usage on macOS\n\nclock_gettime(), CLOCK_MONOTONIC and CLOCK_REALTIME are all available for use on\nmacOS (now that we require macOS >=10.12). Use them rather than the deprecated\nmach_timespec_t time API.\n\nmaster:\n2019-12-23T20:49:43Z Feeding 216 bytes of dynamic environment data into RNG\n2019-12-23T20:50:43Z Feeding 216 bytes of dynamic environment data into RNG\n\nthis commit:\n2019-12-23T20:32:41Z Feeding 232 bytes of dynamic environment data into RNG\n2019-12-23T20:33:42Z Feeding 232 bytes of dynamic environment data into RNG",
      "tree": {
        "sha": "caddbf9089e86721ab6c7373e257b18258f67356",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/caddbf9089e86721ab6c7373e257b18258f67356"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dc9305b6162ec615ff5fb2876e4f312051b543af",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAl47XK0ACgkQLuufXMCV\nJsHlzxAAoxQRe2YK9dgHakZEjRl2d8WLXB3di7nMb+0PsQLrVU0iGnT/wDr34u/Y\ny/R0dksTyipa2wqYQ3tPoXeHjZ35tr4jidRmKyIr3YjnaCVuTC+rt15fyIEO8Xab\n05W6jvkq7L0aSxHx7WFpRFMWYUYG06Z0zHxEleoV+bV8QKEcTAmPnZmJ4DXgDimo\n9P7JuUQfw9fJGRlobGBiEaII8xsrtnDrMyCkEOLQ3GdvxWOQ5szufqfYNQ2DTmsX\nlCGIQWWkzQ9jXPJgFig1UXgIH803AZiUDJSg+n2dQrsOdOG7bOuwZzksXHTcZ6xI\nUNYPyaBQBNZLF6Nl350JHy9tUBlbrkPFQUZJuadBBRFTbnhPVa9hZYEnFQIjR7CP\nd8yVpnW3ZUPPNrO7P5WWp6+dWbVd4H6Gx8+j5AOD1lAaswXPUioRDTTwlxuBqwOR\nYF6+10AmE8Vjunzt0CcMK/JWQ/VM8tekLzB8W3cPWYMxtqBnKc/4DWcnFpWMrwBD\nV84i8bXOxKIEOHSVhja1Z8agL82ccDrG2GrIsgGbCz3lCf2DxalYgqHnVqdaUca0\nvpxuqp379Yp7KuiPJ2ofmlOENNfMkpYcui9mfTd1X0cDKS5Z6BESpMoSNEK4LnJo\nQhzv12nv4Vg6AVx2Er1+Vu8xWsP7O6R5h8ncb0rmCkKa/1nldPc=\n=58lb\n-----END PGP SIGNATURE-----",
        "payload": "tree caddbf9089e86721ab6c7373e257b18258f67356\nparent 8a56f79d491271120abc3843c46e9dda44edd308\nauthor fanquake <fanquake@gmail.com> 1577133879 -0500\ncommitter fanquake <fanquake@gmail.com> 1580948653 +0800\n\nrandom: don't special case clock usage on macOS\n\nclock_gettime(), CLOCK_MONOTONIC and CLOCK_REALTIME are all available for use on\nmacOS (now that we require macOS >=10.12). Use them rather than the deprecated\nmach_timespec_t time API.\n\nmaster:\n2019-12-23T20:49:43Z Feeding 216 bytes of dynamic environment data into RNG\n2019-12-23T20:50:43Z Feeding 216 bytes of dynamic environment data into RNG\n\nthis commit:\n2019-12-23T20:32:41Z Feeding 232 bytes of dynamic environment data into RNG\n2019-12-23T20:33:42Z Feeding 232 bytes of dynamic environment data into RNG\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dc9305b6162ec615ff5fb2876e4f312051b543af",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/dc9305b6162ec615ff5fb2876e4f312051b543af",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dc9305b6162ec615ff5fb2876e4f312051b543af/comments",
    "author": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8a56f79d491271120abc3843c46e9dda44edd308",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8a56f79d491271120abc3843c46e9dda44edd308",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8a56f79d491271120abc3843c46e9dda44edd308"
      }
    ],
    "stats": {
      "total": 14,
      "additions": 0,
      "deletions": 14
    },
    "files": [
      {
        "sha": "27f5b1b082dcd5bd5b30591f7834f1136aefbec4",
        "filename": "src/randomenv.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 14,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dc9305b6162ec615ff5fb2876e4f312051b543af/src/randomenv.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dc9305b6162ec615ff5fb2876e4f312051b543af/src/randomenv.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/randomenv.cpp?ref=dc9305b6162ec615ff5fb2876e4f312051b543af",
        "patch": "@@ -237,8 +237,6 @@ void RandAddDynamicEnv(CSHA512& hasher)\n     GetSystemTimeAsFileTime(&ftime);\n     hasher << ftime;\n #else\n-#  ifndef __MACH__\n-    // On non-MacOS systems, use various clock_gettime() calls.\n     struct timespec ts = {};\n #    ifdef CLOCK_MONOTONIC\n     clock_gettime(CLOCK_MONOTONIC, &ts);\n@@ -252,18 +250,6 @@ void RandAddDynamicEnv(CSHA512& hasher)\n     clock_gettime(CLOCK_BOOTTIME, &ts);\n     hasher << ts;\n #    endif\n-#  else\n-    // On MacOS use mach_absolute_time (number of CPU ticks since boot) as a replacement for CLOCK_MONOTONIC,\n-    // and clock_get_time for CALENDAR_CLOCK as a replacement for CLOCK_REALTIME.\n-    hasher << mach_absolute_time();\n-    // From https://gist.github.com/jbenet/1087739\n-    clock_serv_t cclock;\n-    mach_timespec_t mts = {};\n-    if (host_get_clock_service(mach_host_self(), CALENDAR_CLOCK, &cclock) == KERN_SUCCESS && clock_get_time(cclock, &mts) == KERN_SUCCESS) {\n-        hasher << mts;\n-        mach_port_deallocate(mach_task_self(), cclock);\n-    }\n-#  endif\n     // gettimeofday is available on all UNIX systems, but only has microsecond precision.\n     struct timeval tv = {};\n     gettimeofday(&tv, nullptr);"
      }
    ]
  }
]