practicalswift,2018-09-16T06:32:36Z,"> Original PR title: ""Qt: Don't use systray icon on inappropriate systems""\n\nWhen reading the PR title I first thought you were referring to Windows platforms :-)",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-421708989,421708989,
hebasto,2018-09-16T13:00:20Z,"@luke-jr \nThank you for your review. You're right. Fixed: the saved settings aren't touched.\nPlease re-review.",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-421761807,421761807,
hebasto,2018-09-16T17:32:32Z,"@promag \n\nThank you for your review.\n\n> How about `createTrayIconMenu`?\n\nhttps://github.com/bitcoin/bitcoin/blob/c53e083a49291b611d278a8db24ff235c1202e43/src/qt/bitcoingui.cpp#L603-L604\n\nIs it not enough?",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-421800787,421800787,
hebasto,2018-09-16T18:25:30Z,"@promag \nYou've suggested a more robust code. Fixed. Please re-review.",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-421808549,421808549,
hebasto,2018-09-16T18:31:06Z,"This PR title has been changed as @promag proposed.\n~~btw, **gui** prefix is not mentioned in the [CONTRIBUTING.md](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#contributor-workflow). Is it valid?~~ (answered by @laanwj on IRC)",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-421809343,421809343,
hebasto,2018-09-17T15:16:05Z,"@luke-jr \n> Someone might run it on GNOME, and then run it on KDE.\n> Systems without a systray should just behave as if the option doesn't exist at all IMO.\n\nYou're right. Fixed: settings are not touched at all on systems without a systray.",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-422057317,422057317,
laanwj,2018-09-23T11:35:03Z,utACK after squash,https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-423809931,423809931,
hebasto,2018-09-23T16:13:05Z,"> utACK after squash\n\n@laanwj squashed",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-423827652,423827652,
jonasschnelli,2018-09-25T18:36:31Z,"lightly tested on OSes where the tray is available.\nACK 244774d9626f37e15d8e021de4e735302ae2d292.\n",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-424454343,424454343,
jonasschnelli,2018-09-25T18:37:17Z,Waiting on @promag's ack or further comments ,https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-424454568,424454568,
promag,2018-09-25T18:43:20Z,"@jonasschnelli thanks for the reminder, will check tonight.",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-424456557,424456557,
promag,2018-09-26T00:02:50Z,"Could guard these mappings\nhttps://github.com/bitcoin/bitcoin/blob/244774d9626f37e15d8e021de4e735302ae2d292/src/qt/optionsdialog.cpp#L222-L223\n\nbut since these widgets are disabled and the options dialog is the only place that changes these options, the guard is not necessary.\n\n~~nit, could fix the comment~~\nhttps://github.com/bitcoin/bitcoin/blob/244774d9626f37e15d8e021de4e735302ae2d2",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-424540903,424540903,
hebasto,2018-09-26T20:12:39Z,"@promag \n> but since these widgets are disabled and the options dialog is the only place that changes these options, the guard is not necessary.\n\n~Agree.~ (see below)\n\n> nit, could fix the comment\n\nI did not catch your idea. What should it be like?\n\n",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-424853696,424853696,
promag,2018-09-26T20:17:23Z,"Should be ""Non macOS""?",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-424855173,424855173,
promag,2018-09-26T20:17:49Z,"BTW, I'm currently installing fedora..",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-424855298,424855298,
hebasto,2018-09-26T20:28:17Z,"@promag \n> Should be ""Non macOS""?\n\nAh, I see. The comment line `/* Window */` just repeats the Options tab name.\n",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-424858397,424858397,
promag,2018-09-26T21:17:12Z,"@hebasto right, disregard that comment then.",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-424872787,424872787,
hebasto,2018-09-27T13:33:34Z,"@promag \n\n> but since these widgets are disabled and the options dialog is the only place that changes these options, the guard is not necessary.\n\nIn fact, the guard around `mapper` *is* necessary: `addMapping` effectively overwrites `ui` settings in the `OptionsDialog` constructor.\n\nThank you for this catch. I'm going to fix it.\n",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-425094099,425094099,
hebasto,2018-09-27T14:28:37Z,@promag's catch has been fixed.,https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-425113968,425113968,
DrahtBot,2018-09-28T09:37:59Z,<!--32850dd3fdea838b4049e64f46995ea2-->\n| Coverage  | Change ([pull 14228](https://drahtbot.github.io/reports/coverage/bitcoin/bitcoin/14228/total.coverage/index.html)) | Reference ([master](https://drahtbot.github.io/reports/coverage/bitcoin/bitcoin/master/total.coverage/index.html))   |\n|-----------|-------------------------|--------------------|\n| Lines     | +0.0287 %            | 87.0361 %,https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-425381062,425381062,
hebasto,2018-10-13T19:22:13Z,@promag Would you mind re-reviewing this PR?,https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-429568408,429568408,
laanwj,2018-11-12T14:07:47Z,utACK ec1201a36847f7aa942eab1b3a3d082f6daf0031,https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-437893743,437893743,
promag,2018-11-12T14:11:53Z,"Sorry @hebasto, missed this. utACK ec1201a.",https://github.com/bitcoin/bitcoin/pull/14228#issuecomment-437895191,437895191,
luke-jr,2018-09-16T10:00:38Z,"Kinda of nasty to change the saved setting just because you run it once on a platform that doesn't support it. I suggest leaving it be in settings, greying the setting, and ignoring it.",https://github.com/bitcoin/bitcoin/pull/14228#discussion_r217908669,217908669,src/qt/optionsmodel.cpp
luke-jr,2018-09-16T13:59:23Z,"I'd leave this alone. Or at the very least, don't set any value if there's no systray.",https://github.com/bitcoin/bitcoin/pull/14228#discussion_r217915367,217915367,src/qt/optionsmodel.cpp
hebasto,2018-09-16T14:28:55Z,"If it'll be leaved alone the first call of the `OptionsModel` constructor sets `fHideTrayIcon` to the `false` anyway.\nWhy cannot it be initialized to the `true` on the GNOME environment?",https://github.com/bitcoin/bitcoin/pull/14228#discussion_r217916204,217916204,src/qt/optionsmodel.cpp
promag,2018-09-16T16:42:46Z,"I'd say that's another PR, like ""gui: Enable system tray icon by default if available""",https://github.com/bitcoin/bitcoin/pull/14228#discussion_r217920474,217920474,src/qt/optionsmodel.cpp
promag,2018-09-16T16:47:02Z,I would prevent calls to `createTrayIcon` and maybe `assert(QSystemTrayIcon::isSystemTrayAvailable())` here?,https://github.com/bitcoin/bitcoin/pull/14228#discussion_r217920614,217920614,src/qt/bitcoingui.cpp
luke-jr,2018-09-16T21:31:19Z,"@hebasto Because the environment is not necessarily a permanent thing. Someone might run it on GNOME, and then run it on KDE.\n\nSystems without a systray should just behave as if the option doesn't exist at all IMO.",https://github.com/bitcoin/bitcoin/pull/14228#discussion_r217928461,217928461,src/qt/optionsmodel.cpp
