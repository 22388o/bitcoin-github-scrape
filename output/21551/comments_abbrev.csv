hebasto,2021-03-30 05:47:34,The warmed up vcpkg cache [reduces](https://cirrus-ci.com/task/6335159239704576) build time by about 40 minutes.,https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-809929620,809929620,
MarcoFalke,2021-03-30 06:16:17,Still takes longer than the appveyor 38 minutes right now?,https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-809943087,809943087,
hebasto,2021-03-30 06:17:44,"> Still takes longer than the appveyor 38 minutes right now?\n\nRight.\n\nThe time is spent on installing `msbuild` tools, that are preinstalled on AppVeyor.",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-809943795,809943795,
DrahtBot,2021-04-07 00:49:04,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22899](https://github.com/bitcoin/bitcoin/pull/22899) (ci: Build and cache static Qt instead of downloading a pre-built ",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-814523608,814523608,
hebasto,2021-04-11 08:20:27,"@MarcoFalke \n> Still takes longer than the appveyor 38 minutes right now?\n\nDoes it make sense to move this task into the DrahtBot infrastructure? Or just close it?",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-817269316,817269316,
DrahtBot,2021-04-11 08:32:53,"I don't run Windows and macOS, so I can't run those native tasks",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-817270736,817270736,
hebasto,2021-04-11 19:55:17,"> Still takes longer than the appveyor 38 minutes right now?\n\nIt takes 27 minutes now.\n\n> The time is spent on installing `msbuild` tools, that are preinstalled on AppVeyor.\n\nFixed by using `visualstudio2019` image.",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-817363304,817363304,
fanquake,2021-09-02 03:32:09,"What is the status of this? Is the intention to replace Appveyor? If not, do we need two Windows builds? \n\nAn empty PR description is not really useful.",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-911109485,911109485,
MarcoFalke,2021-09-02 06:55:32,"I started this because Cirrus CI seems the most reliable CI provider, so having all configs on them seemed preferable.\n\nI guess the status here is: Needs review?",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-911280959,911280959,
MarcoFalke,2021-09-02 06:55:58,(Also needs appveyor removed),https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-911281420,911281420,
hebasto,2021-09-02 12:22:55,"@sipsorcery \n\nIt seems [`Qt5.12.11_x64_static_vs2019_16101.zip`](https://github.com/sipsorcery/qt_win_binary/releases/download/qt51211x64_static_vs2019_16101/Qt5.12.11_x64_static_vs2019_16101.zip) is not compatible with the `msbuild` in the `cirrusci/windowsservercore:visualstudio2019` image:\n\n```\nLINK : fatal error C1900: Il mismatch between 'P1' version '20210202' and 'P2' version '202",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-911617296,911617296,
sipsorcery,2021-09-02 12:32:24,"> May I ask you to build `Qt5.12.11_x64_static_vs2019_1694.zip` -- the recent Qt 5.12.11 with an older `msbuild`?\n\nSure, any idea where I can find the software versions installed on the cirrusci image you're using?\n",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-911626617,911626617,
hebasto,2021-09-02 12:36:05,"> > May I ask you to build `Qt5.12.11_x64_static_vs2019_1694.zip` -- the recent Qt 5.12.11 with an older `msbuild`?\n> \n> Sure, any idea where I can find the software versions installed on the cirrusci image you're using?\n\nhttps://github.com/cirruslabs/docker-images-windows",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-911630243,911630243,
hebasto,2021-09-02 12:50:27,"@sipsorcery \n\nThe `msbuild -version` output within the `cirrusci/windowsservercore:visualstudio2019` Cirrus image:\n\n```\nMicrosoft (R) Build Engine version 16.9.0+5e4b48a27 for .NET Framework\nCopyright (C) Microsoft Corporation. All rights reserved.\n16.9.0.16703\n",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-911644507,911644507,
sipsorcery,2021-09-02 12:55:52,"> The `msvc -version` output within the `cirrusci/windowsservercore:visualstudio2019` Cirrus image:\n> \n> ```\n> Microsoft (R) Build Engine version 16.9.0+5e4b48a27 for .NET Framework\n> Copyright (C) Microsoft Corporation. All rights reserved.\n> 16.9.0.16703\n> ```\n\nThanks for doing that. I was trying to track it down via the docker files. I already have that version of msbuild instal",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-911649834,911649834,
hebasto,2021-09-02 15:22:03,"@sipsorcery \n\nTo make debugging a bit easier in the future, I've added the following script:\n```\n  build_environment_script:\n    - choco list --localonly\n    - msbuild -version\n```",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-911802408,911802408,
sipsorcery,2021-09-04 09:43:39,@hebasto https://github.com/sipsorcery/qt_win_binary/releases/tag/qt51211x64_static_vs2019_160900,https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-912943754,912943754,
hebasto,2021-09-04 09:45:45,"> @hebasto https://github.com/sipsorcery/qt_win_binary/releases/tag/qt51211x64_static_vs2019_160900\n\nThanks!",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-912944016,912944016,
hebasto,2021-09-04 10:21:09,"@MarcoFalke @fanquake @sipsorcery \n\nThis PR is ready for reviewing now :tiger2: ",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-912948792,912948792,
sipsorcery,2021-09-04 12:23:02,"ACK ca9b9b9a2c0dd7ab767788be6512cfc34f1f6ee4.\n\nMakes sense to consolidate CI platforms.\n\nTested that latest msbuild version `16.11.0.36601` still works with the `Qt5.12.11_x64_static_vs2019_160900` binaries.\n\nOne potential pitfall will be the `vcpkg` caching. We had [some issues](https://github.com/bitcoin/bitcoin/issues?q=is%3Aissue+vcpkg) with that in the past, namely whan a PR added",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-912965187,912965187,
fanquake,2021-09-06 01:56:15,ACK after rebase,https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-913281027,913281027,
hebasto,2021-09-06 02:25:41,Rebased ca9b9b9a2c0dd7ab767788be6512cfc34f1f6ee4 -> da8810e4f69b43e96ddf69400bec503451a0e847 ([pr21551.06](https://github.com/hebasto/bitcoin/commits/pr21551.06) -> [pr21551.07](https://github.com/hebasto/bitcoin/commits/pr21551.07)) due to the conflict with #22861.,https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-913291694,913291694,
hebasto,2021-09-07 03:24:52,"Updated da8810e4f69b43e96ddf69400bec503451a0e847 -> 97292b19140db32c6d85d63b70382e7bf60a55c4 ([pr21551.07](https://github.com/hebasto/bitcoin/commits/pr21551.07) -> [pr21551.08](https://github.com/hebasto/bitcoin/commits/pr21551.08), [diff](https://github.com/hebasto/bitcoin/compare/pr21551.07..pr21551.08)):\n\n- addressed @MarcoFalke's comments",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-913962298,913962298,
MarcoFalke,2021-09-07 08:01:30,ack,https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-914081724,914081724,
hebasto,2021-09-07 08:34:22,"@sipsorcery \n\nAnother (final?) review? :smile: ",https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-914104992,914104992,
sipsorcery,2021-09-07 08:39:00,re-ACK 97292b19140db32c6d85d63b70382e7bf60a55c4.,https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-914108007,914108007,
MarcoFalke,2021-09-06 06:45:06,why 8 when the average usage is 2?,https://github.com/bitcoin/bitcoin/pull/21551#discussion_r702630438,702630438,.cirrus.yml
MarcoFalke,2021-09-06 06:45:15,"```suggestion\n  name: ""Win64 native [unit tests, no functional tests] [msvc]""\n```",https://github.com/bitcoin/bitcoin/pull/21551#discussion_r702630555,702630555,.cirrus.yml
MarcoFalke,2021-09-06 06:45:48,"This looks expensive, especially with 8 CPUs and without `BASE_TEMPLATE` to skip",https://github.com/bitcoin/bitcoin/pull/21551#discussion_r702630958,702630958,.cirrus.yml
hebasto,2021-09-07 03:27:32,Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-913962298).,https://github.com/bitcoin/bitcoin/pull/21551#discussion_r703150556,703150556,.cirrus.yml
hebasto,2021-09-07 03:28:02,[Updated](https://github.com/bitcoin/bitcoin/pull/21551#issuecomment-913962298).,https://github.com/bitcoin/bitcoin/pull/21551#discussion_r703150692,703150692,.cirrus.yml
hebasto,2021-09-07 03:49:20,"With `cpu: 4`:\n \n![Screenshot from 2021-09-07 06-45-03](https://user-images.githubusercontent.com/32963518/132281199-c3c4f8d3-dd99-4b50-bab7-60d58a99af49.png)\n\nAnd the total task time with a populated `vcpkg` cache:\n\n![Screenshot from 2021-09-07 06-46-09](https://user-images.githubusercontent.com/32963518/132281269-f262a40b-a91a-471a-8a5e-de59e59cf590.png)\n\n",https://github.com/bitcoin/bitcoin/pull/21551#discussion_r703156652,703156652,.cirrus.yml
MarcoFalke,2021-09-07 09:27:33,maybe add a comment why this is needed?,https://github.com/bitcoin/bitcoin/pull/21551#discussion_r703342550,703342550,.cirrus.yml
MarcoFalke,2021-09-07 09:35:57,why remove the `-l test_suite`?,https://github.com/bitcoin/bitcoin/pull/21551#discussion_r703348955,703348955,.cirrus.yml
hebasto,2021-09-07 09:40:50,:man_shrugging: Going to re-add it right now.,https://github.com/bitcoin/bitcoin/pull/21551#discussion_r703352640,703352640,.cirrus.yml
hebasto,2021-09-07 09:41:28,"Sure, I'm on it.",https://github.com/bitcoin/bitcoin/pull/21551#discussion_r703353149,703353149,.cirrus.yml
hebasto,2021-09-07 10:32:27,Done in #22909.,https://github.com/bitcoin/bitcoin/pull/21551#discussion_r703389326,703389326,.cirrus.yml
hebasto,2021-09-07 10:32:33,Done in #22909.,https://github.com/bitcoin/bitcoin/pull/21551#discussion_r703389388,703389388,.cirrus.yml
