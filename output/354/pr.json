{
  "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/354",
  "id": 198541,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTk4NTQx",
  "html_url": "https://github.com/bitcoin/bitcoin/pull/354",
  "diff_url": "https://github.com/bitcoin/bitcoin/pull/354.diff",
  "patch_url": "https://github.com/bitcoin/bitcoin/pull/354.patch",
  "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/354",
  "number": 354,
  "state": "closed",
  "locked": true,
  "title": "Support for \"exact send\" with manual coin selection",
  "user": {
    "login": "pasky",
    "id": 18439,
    "node_id": "MDQ6VXNlcjE4NDM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/18439?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pasky",
    "html_url": "https://github.com/pasky",
    "followers_url": "https://api.github.com/users/pasky/followers",
    "following_url": "https://api.github.com/users/pasky/following{/other_user}",
    "gists_url": "https://api.github.com/users/pasky/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pasky/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pasky/subscriptions",
    "organizations_url": "https://api.github.com/users/pasky/orgs",
    "repos_url": "https://api.github.com/users/pasky/repos",
    "events_url": "https://api.github.com/users/pasky/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pasky/received_events",
    "type": "User",
    "site_admin": false
  },
  "body": "These commits introduce CWallet::CreateExactTransaction() function that\nworks like CWallet::CreateTransaction(), but takes explicit list of\nprev_out transactions for sourcing the new transaction and fixed value\nof transaction fee.\n\nFurthermore, new RPC call 'sendexact' is introduced; it works like\n'sendmany', but takes explicit list of transactions to use as coin\nsources, and explicit value of transaction fee.\n\nAll outputs of the listed transactions that the account can claim are\nused to source coins; the output of the new transaction must be exactly\nthe same amount, the user is responsible for dealing with any change.\nThe user is also responsible for setting the transaction fee to such\na value that other nodes will relay the transaction.\n\nThe point is to provide a low-level interface for making transactions\nwithout all the auto-guessing implicitly done by the client. My primary\nmotivation is that I am a control freak and I want to have precise\ncontrol over the addresses used as \"sources\" of my transactions.\n\nThere are other applications too - even if more specific interfaces\nmight be more suited to them, this interface makes them possible at all\nas the lowest common denominator. E.g. people who wish to be sure no\ntransaction fees will be paid for their transaction can use this\ninterface. Or people wishing to try out different coin selection\nalgorithms (or when coin selection makes sense at the moment of\ntransaction setup, e.g. in case of anonymizers).\n\nQ: Why use explicit transactions instead of addresses?\nA: In reality, you do not quite transfer money \"from\" an address.\nAddress is just a token that proves you are authorized to claim\na particular amount of bitcoins listed as one of outputs of some\ntransaction. Specific use-cases might be simplified, but you would\nstill be in hands of a fixed coin selection algorithm.  You can use\n(somewhat laborously) listtransactions or external service to discover\ntransactions that send money to a given address.\n\nQ: Why use account instead of explicit addresses?\nA: First, it is more consistent with the other \"send\" interfaces\nand the wallet organization. Second, I believe account is the right\nabstraction - as mentioned, address is just a token for claiming some\nbitcoins, but different kind of claim proofs might be used (e.g. the\nnow-deprecated \"send to IP address\", or it could be possible to also\nspecify password-protected coins). In the future, you could associate\nfurther methods of authentication with accounts, but addresses are\nlimited. If you require a specific set of addresses to be used, you can\nset up an ad-hoc account.\n\nQ: What does that bit about \"change\" mean?\nA: If transaction input claims some output of a previous transaction,\nit must claim all the coins in the output. If you need to transfer\nsmaller amount than that, you must specify what to do with the\nremaining amount (change). The built-in coin selection algorithm\neither sends them to a new address (for better anonymity) or returns\nthem to the source address. Here, you are responsible for manually\nspecifying the destiny of your remaining amount.\n\nQ: Can I be finally sure I pay only the TX fee I specify?\nA: Yes, the TX fee you specify is final. However, please note that\nif the new transaction is large (i.e. has many inputs and outputs)\nor transfers too small amount and you do not offer any TX fee, it\nmay not be accepted by any other nodes. Note that this is more\nserious than not being included in a block - you could just wait\nlonger for a benevolent miner. In these circumstances, your\ntransaction is not likely to even _reach_ a mining node because\nthe P2P network will not relay it.\n\n(If you like the feature, you can send donations to\n19VF444umGxX76DZwPuWVMHpv7i84DHM1D.)\n",
  "created_at": "2011-06-27T02:11:13Z",
  "updated_at": "2021-09-08T10:01:50Z",
  "closed_at": "2011-10-05T15:58:05Z",
  "merged_at": null,
  "merge_commit_sha": "37125edce8941e0be00a212988a4e41a6ed31541",
  "assignee": null,
  "assignees": [],
  "requested_reviewers": [],
  "requested_teams": [],
  "labels": [
    {
      "id": 64583,
      "node_id": "MDU6TGFiZWw2NDU4Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
      "name": "Feature",
      "color": "7cf575",
      "default": false,
      "description": null
    }
  ],
  "milestone": null,
  "draft": false,
  "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/354/commits",
  "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/354/comments",
  "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments{/number}",
  "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/354/comments",
  "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/34fd79f9ca147cf2df78e12ec59ff8ddcedf2703",
  "head": {
    "label": "pasky:master",
    "ref": "master",
    "sha": "34fd79f9ca147cf2df78e12ec59ff8ddcedf2703",
    "user": {
      "login": "pasky",
      "id": 18439,
      "node_id": "MDQ6VXNlcjE4NDM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/18439?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pasky",
      "html_url": "https://github.com/pasky",
      "followers_url": "https://api.github.com/users/pasky/followers",
      "following_url": "https://api.github.com/users/pasky/following{/other_user}",
      "gists_url": "https://api.github.com/users/pasky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pasky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pasky/subscriptions",
      "organizations_url": "https://api.github.com/users/pasky/orgs",
      "repos_url": "https://api.github.com/users/pasky/repos",
      "events_url": "https://api.github.com/users/pasky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pasky/received_events",
      "type": "User",
      "site_admin": false
    },
    "repo": {
      "id": 1957974,
      "node_id": "MDEwOlJlcG9zaXRvcnkxOTU3OTc0",
      "name": "bitcoin",
      "full_name": "pasky/bitcoin",
      "private": false,
      "owner": {
        "login": "pasky",
        "id": 18439,
        "node_id": "MDQ6VXNlcjE4NDM5",
        "avatar_url": "https://avatars.githubusercontent.com/u/18439?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pasky",
        "html_url": "https://github.com/pasky",
        "followers_url": "https://api.github.com/users/pasky/followers",
        "following_url": "https://api.github.com/users/pasky/following{/other_user}",
        "gists_url": "https://api.github.com/users/pasky/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/pasky/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pasky/subscriptions",
        "organizations_url": "https://api.github.com/users/pasky/orgs",
        "repos_url": "https://api.github.com/users/pasky/repos",
        "events_url": "https://api.github.com/users/pasky/events{/privacy}",
        "received_events_url": "https://api.github.com/users/pasky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/pasky/bitcoin",
      "description": "Bitcoin integration/staging tree",
      "fork": true,
      "url": "https://api.github.com/repos/pasky/bitcoin",
      "forks_url": "https://api.github.com/repos/pasky/bitcoin/forks",
      "keys_url": "https://api.github.com/repos/pasky/bitcoin/keys{/key_id}",
      "collaborators_url": "https://api.github.com/repos/pasky/bitcoin/collaborators{/collaborator}",
      "teams_url": "https://api.github.com/repos/pasky/bitcoin/teams",
      "hooks_url": "https://api.github.com/repos/pasky/bitcoin/hooks",
      "issue_events_url": "https://api.github.com/repos/pasky/bitcoin/issues/events{/number}",
      "events_url": "https://api.github.com/repos/pasky/bitcoin/events",
      "assignees_url": "https://api.github.com/repos/pasky/bitcoin/assignees{/user}",
      "branches_url": "https://api.github.com/repos/pasky/bitcoin/branches{/branch}",
      "tags_url": "https://api.github.com/repos/pasky/bitcoin/tags",
      "blobs_url": "https://api.github.com/repos/pasky/bitcoin/git/blobs{/sha}",
      "git_tags_url": "https://api.github.com/repos/pasky/bitcoin/git/tags{/sha}",
      "git_refs_url": "https://api.github.com/repos/pasky/bitcoin/git/refs{/sha}",
      "trees_url": "https://api.github.com/repos/pasky/bitcoin/git/trees{/sha}",
      "statuses_url": "https://api.github.com/repos/pasky/bitcoin/statuses/{sha}",
      "languages_url": "https://api.github.com/repos/pasky/bitcoin/languages",
      "stargazers_url": "https://api.github.com/repos/pasky/bitcoin/stargazers",
      "contributors_url": "https://api.github.com/repos/pasky/bitcoin/contributors",
      "subscribers_url": "https://api.github.com/repos/pasky/bitcoin/subscribers",
      "subscription_url": "https://api.github.com/repos/pasky/bitcoin/subscription",
      "commits_url": "https://api.github.com/repos/pasky/bitcoin/commits{/sha}",
      "git_commits_url": "https://api.github.com/repos/pasky/bitcoin/git/commits{/sha}",
      "comments_url": "https://api.github.com/repos/pasky/bitcoin/comments{/number}",
      "issue_comment_url": "https://api.github.com/repos/pasky/bitcoin/issues/comments{/number}",
      "contents_url": "https://api.github.com/repos/pasky/bitcoin/contents/{+path}",
      "compare_url": "https://api.github.com/repos/pasky/bitcoin/compare/{base}...{head}",
      "merges_url": "https://api.github.com/repos/pasky/bitcoin/merges",
      "archive_url": "https://api.github.com/repos/pasky/bitcoin/{archive_format}{/ref}",
      "downloads_url": "https://api.github.com/repos/pasky/bitcoin/downloads",
      "issues_url": "https://api.github.com/repos/pasky/bitcoin/issues{/number}",
      "pulls_url": "https://api.github.com/repos/pasky/bitcoin/pulls{/number}",
      "milestones_url": "https://api.github.com/repos/pasky/bitcoin/milestones{/number}",
      "notifications_url": "https://api.github.com/repos/pasky/bitcoin/notifications{?since,all,participating}",
      "labels_url": "https://api.github.com/repos/pasky/bitcoin/labels{/name}",
      "releases_url": "https://api.github.com/repos/pasky/bitcoin/releases{/id}",
      "deployments_url": "https://api.github.com/repos/pasky/bitcoin/deployments",
      "created_at": "2011-06-27T01:07:03Z",
      "updated_at": "2018-08-21T18:58:36Z",
      "pushed_at": "2011-06-27T02:07:57Z",
      "git_url": "git://github.com/pasky/bitcoin.git",
      "ssh_url": "git@github.com:pasky/bitcoin.git",
      "clone_url": "https://github.com/pasky/bitcoin.git",
      "svn_url": "https://github.com/pasky/bitcoin",
      "homepage": "http://www.bitcoin.org",
      "size": 1646,
      "stargazers_count": 1,
      "watchers_count": 1,
      "language": "C++",
      "has_issues": false,
      "has_projects": true,
      "has_downloads": false,
      "has_wiki": true,
      "has_pages": false,
      "forks_count": 0,
      "mirror_url": null,
      "archived": false,
      "disabled": false,
      "open_issues_count": 0,
      "license": {
        "key": "mit",
        "name": "MIT License",
        "spdx_id": "MIT",
        "url": "https://api.github.com/licenses/mit",
        "node_id": "MDc6TGljZW5zZTEz"
      },
      "allow_forking": true,
      "is_template": false,
      "topics": [],
      "visibility": "public",
      "forks": 0,
      "open_issues": 0,
      "watchers": 1,
      "default_branch": "master"
    }
  },
  "base": {
    "label": "bitcoin:master",
    "ref": "master",
    "sha": "d0d80170a2ca73004e08fb85007fe055cbf4e411",
    "user": {
      "login": "bitcoin",
      "id": 528860,
      "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitcoin",
      "html_url": "https://github.com/bitcoin",
      "followers_url": "https://api.github.com/users/bitcoin/followers",
      "following_url": "https://api.github.com/users/bitcoin/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitcoin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitcoin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
      "organizations_url": "https://api.github.com/users/bitcoin/orgs",
      "repos_url": "https://api.github.com/users/bitcoin/repos",
      "events_url": "https://api.github.com/users/bitcoin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitcoin/received_events",
      "type": "Organization",
      "site_admin": false
    },
    "repo": {
      "id": 1181927,
      "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
      "name": "bitcoin",
      "full_name": "bitcoin/bitcoin",
      "private": false,
      "owner": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following{/other_user}",
        "gists_url": "https://api.github.com/users/bitcoin/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/bitcoin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events{/privacy}",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin",
      "description": "Bitcoin Core integration/staging tree",
      "fork": false,
      "url": "https://api.github.com/repos/bitcoin/bitcoin",
      "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
      "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys{/key_id}",
      "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators{/collaborator}",
      "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
      "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
      "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events{/number}",
      "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
      "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees{/user}",
      "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches{/branch}",
      "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
      "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs{/sha}",
      "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags{/sha}",
      "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs{/sha}",
      "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees{/sha}",
      "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/{sha}",
      "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
      "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
      "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
      "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
      "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
      "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits{/sha}",
      "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits{/sha}",
      "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments{/number}",
      "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments{/number}",
      "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/{+path}",
      "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/{base}...{head}",
      "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
      "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/{archive_format}{/ref}",
      "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
      "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues{/number}",
      "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls{/number}",
      "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones{/number}",
      "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications{?since,all,participating}",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels{/name}",
      "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases{/id}",
      "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
      "created_at": "2010-12-19T15:16:43Z",
      "updated_at": "2021-12-04T09:54:39Z",
      "pushed_at": "2021-12-04T11:01:43Z",
      "git_url": "git://github.com/bitcoin/bitcoin.git",
      "ssh_url": "git@github.com:bitcoin/bitcoin.git",
      "clone_url": "https://github.com/bitcoin/bitcoin.git",
      "svn_url": "https://github.com/bitcoin/bitcoin",
      "homepage": "https://bitcoincore.org/en/download",
      "size": 188538,
      "stargazers_count": 59794,
      "watchers_count": 59794,
      "language": "C++",
      "has_issues": true,
      "has_projects": true,
      "has_downloads": false,
      "has_wiki": false,
      "has_pages": false,
      "forks_count": 30742,
      "mirror_url": null,
      "archived": false,
      "disabled": false,
      "open_issues_count": 1017,
      "license": {
        "key": "mit",
        "name": "MIT License",
        "spdx_id": "MIT",
        "url": "https://api.github.com/licenses/mit",
        "node_id": "MDc6TGljZW5zZTEz"
      },
      "allow_forking": true,
      "is_template": false,
      "topics": [
        "bitcoin",
        "c-plus-plus",
        "cryptocurrency",
        "cryptography",
        "p2p"
      ],
      "visibility": "public",
      "forks": 30742,
      "open_issues": 1017,
      "watchers": 59794,
      "default_branch": "master"
    }
  },
  "_links": {
    "self": {
      "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/354"
    },
    "html": {
      "href": "https://github.com/bitcoin/bitcoin/pull/354"
    },
    "issue": {
      "href": "https://api.github.com/repos/bitcoin/bitcoin/issues/354"
    },
    "comments": {
      "href": "https://api.github.com/repos/bitcoin/bitcoin/issues/354/comments"
    },
    "review_comments": {
      "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/354/comments"
    },
    "review_comment": {
      "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments{/number}"
    },
    "commits": {
      "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/354/commits"
    },
    "statuses": {
      "href": "https://api.github.com/repos/bitcoin/bitcoin/statuses/34fd79f9ca147cf2df78e12ec59ff8ddcedf2703"
    }
  },
  "author_association": "NONE",
  "auto_merge": null,
  "active_lock_reason": "resolved",
  "merged": false,
  "mergeable": false,
  "rebaseable": false,
  "mergeable_state": "dirty",
  "merged_by": null,
  "comments": 6,
  "review_comments": 0,
  "maintainer_can_modify": false,
  "commits": 3,
  "additions": 211,
  "deletions": 37,
  "changed_files": 4
}