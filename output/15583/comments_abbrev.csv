promag,2019-03-11T23:02:53Z,Fixes https://github.com/bitcoin/bitcoin/issues/15555#issuecomment-471767756.,https://github.com/bitcoin/bitcoin/pull/15583#issuecomment-471774760,471774760,
hebasto,2019-03-11T23:10:12Z,Concept ACK.,https://github.com/bitcoin/bitcoin/pull/15583#issuecomment-471776712,471776712,
promag,2019-03-12T00:13:35Z,"> If there's an easy way to add a test, it could be nice to have.\n\nI'd like to confirm a gitian build first, cc @MarcoFalke.",https://github.com/bitcoin/bitcoin/pull/15583#issuecomment-471792200,471792200,
promag,2019-03-12T01:27:53Z,Thanks @fanquake!,https://github.com/bitcoin/bitcoin/pull/15583#issuecomment-471809975,471809975,
Sjors,2019-03-12T12:52:21Z,"Thanks for catching this @kiv06041992. I was able to reproduce with v0.18.0rc1 binary, as well as when building master from source.\n\nThis commit fixes it, so tACK 8de53d5097 (test would be nice).\n\nI'm even able to create a new wallet and use it, and the wallet will be hidden next time you start (no idea why one would want that).\n\n@promag can you copy the steps to reproduce to the descr",https://github.com/bitcoin/bitcoin/pull/15583#issuecomment-471987351,471987351,
promag,2019-03-12T14:41:55Z,"> @promag can you copy the steps to reproduce to the description?\n\nDone.",https://github.com/bitcoin/bitcoin/pull/15583#issuecomment-472029449,472029449,
laanwj,2019-03-13T11:49:42Z,"Although I agree that the current behavior is undesirable, I don't like ignoring errors either. In my experience this makes troubleshooting as good as impossible when something unexpected happens. Please handle the error or at least log it.",https://github.com/bitcoin/bitcoin/pull/15583#issuecomment-472390469,472390469,
promag,2019-03-13T13:55:47Z,"@laanwj agree, I'll log.",https://github.com/bitcoin/bitcoin/pull/15583#issuecomment-472431656,472431656,
ryanofsky,2019-03-13T14:33:55Z,"~~Maybe break on failure to increment, since that might result in an infinite loop.~~\n\nEDIT: It looks like failing to increment shouldn't cause infinite loops since `m_imp->increment(&ec)` is called unconditionally in https://www.boost.org/doc/libs/1_69_0/boost/filesystem/operations.hpp and end condition is based an internal stack.",https://github.com/bitcoin/bitcoin/pull/15583#issuecomment-472447328,472447328,
promag,2019-03-13T16:28:02Z,Now logging the error and the respective path. Also log error in `IsBerkeleyBtree`. Will squash after review.,https://github.com/bitcoin/bitcoin/pull/15583#issuecomment-472499297,472499297,
DrahtBot,2019-03-13T19:18:25Z,<!--a722867cd34abeea1fadc8d60700f111-->\nGitian builds for commit c3b1cb958f7c57c5d87db663f2b1a83e3471d354 (master):\n * `5f3ef0027c1346f85a0dd0511da9f800...` [bitcoin-0.18.99-aarch64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/c3b1cb958f7c57c5d87db663f2b1a83e3471d354/bitcoin-0.18.99-aarch64-linux-gnu-debug.tar.gz)\n * `9aae7dfd3a9dcb55adb6c4c67757e0f1...` [bitcoin-0.18.9,https://github.com/bitcoin/bitcoin/pull/15583#issuecomment-472567507,472567507,
laanwj,2019-03-13T19:37:54Z,"> Now logging the error and the respective path. Also log error in IsBerkeleyBtree. Will squash after review.\n\nThank you, looks good to me now, utACK after squash",https://github.com/bitcoin/bitcoin/pull/15583#issuecomment-472574418,472574418,
promag,2019-03-13T20:52:22Z,"Reworded and squashed, thanks.",https://github.com/bitcoin/bitcoin/pull/15583#issuecomment-472600711,472600711,
DrahtBot,2019-03-15T12:02:51Z,<!--a722867cd34abeea1fadc8d60700f111-->\nGitian builds for commit 8e1704c01537d1750555de23bfae00efa5864b3e (master):\n * `8f4b247c71f1488f37be2e59c8ba69fb...` [bitcoin-0.18.99-aarch64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/8e1704c01537d1750555de23bfae00efa5864b3e/bitcoin-0.18.99-aarch64-linux-gnu-debug.tar.gz)\n * `cdb6e8a5fda257575a44ea5db7ced49a...` [bitcoin-0.18.9,https://github.com/bitcoin/bitcoin/pull/15583#issuecomment-473260069,473260069,
ryanofsky,2019-03-12T00:02:41Z,Might be a good place to comment that errors are ignored.,https://github.com/bitcoin/bitcoin/pull/15583#discussion_r264476826,264476826,src/wallet/walletutil.cpp
promag,2019-03-12T00:11:56Z,"Good point, will add.",https://github.com/bitcoin/bitcoin/pull/15583#discussion_r264478615,264478615,src/wallet/walletutil.cpp
laanwj,2019-03-13T11:45:09Z,"Please don't ignore errors, at least log them",https://github.com/bitcoin/bitcoin/pull/15583#discussion_r265087642,265087642,src/wallet/walletutil.cpp
