[
  {
    "sha": "51f4fe48df4d65903a2e35f9b6f3f5fc12e704ca",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1MWY0ZmU0OGRmNGQ2NTkwM2EyZTM1ZjliNmYzZjVmYzEyZTcwNGNh",
    "commit": {
      "author": {
        "name": "Guillermo C\u00e9spedes Tab\u00e1rez",
        "email": "dev.dertin@gmail.com",
        "date": "2013-11-15T12:01:23Z"
      },
      "committer": {
        "name": "Guillermo C\u00e9spedes Tab\u00e1rez",
        "email": "dev.dertin@gmail.com",
        "date": "2013-11-15T12:01:23Z"
      },
      "message": "Update ax_boost_thread.m4\n\nUpgraded to serial 27.",
      "tree": {
        "sha": "f1f46b5c109780cbf6d4a8e768ca1c31f20631b9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f1f46b5c109780cbf6d4a8e768ca1c31f20631b9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/51f4fe48df4d65903a2e35f9b6f3f5fc12e704ca",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/51f4fe48df4d65903a2e35f9b6f3f5fc12e704ca",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/51f4fe48df4d65903a2e35f9b6f3f5fc12e704ca",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/51f4fe48df4d65903a2e35f9b6f3f5fc12e704ca/comments",
    "author": {
      "login": "dertin",
      "id": 1295883,
      "node_id": "MDQ6VXNlcjEyOTU4ODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1295883?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dertin",
      "html_url": "https://github.com/dertin",
      "followers_url": "https://api.github.com/users/dertin/followers",
      "following_url": "https://api.github.com/users/dertin/following{/other_user}",
      "gists_url": "https://api.github.com/users/dertin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dertin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dertin/subscriptions",
      "organizations_url": "https://api.github.com/users/dertin/orgs",
      "repos_url": "https://api.github.com/users/dertin/repos",
      "events_url": "https://api.github.com/users/dertin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dertin/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dertin",
      "id": 1295883,
      "node_id": "MDQ6VXNlcjEyOTU4ODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1295883?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dertin",
      "html_url": "https://github.com/dertin",
      "followers_url": "https://api.github.com/users/dertin/followers",
      "following_url": "https://api.github.com/users/dertin/following{/other_user}",
      "gists_url": "https://api.github.com/users/dertin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dertin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dertin/subscriptions",
      "organizations_url": "https://api.github.com/users/dertin/orgs",
      "repos_url": "https://api.github.com/users/dertin/repos",
      "events_url": "https://api.github.com/users/dertin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dertin/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4fc241235c41fbf7f2592dfee11db5b7b71c17ad",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4fc241235c41fbf7f2592dfee11db5b7b71c17ad",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4fc241235c41fbf7f2592dfee11db5b7b71c17ad"
      }
    ],
    "stats": {
      "total": 70,
      "additions": 33,
      "deletions": 37
    },
    "files": [
      {
        "sha": "79e12cdb4eaf6ab5079aaf7c24b99c178d0b4baa",
        "filename": "src/m4/ax_boost_thread.m4",
        "status": "modified",
        "additions": 33,
        "deletions": 37,
        "changes": 70,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/51f4fe48df4d65903a2e35f9b6f3f5fc12e704ca/src/m4/ax_boost_thread.m4",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/51f4fe48df4d65903a2e35f9b6f3f5fc12e704ca/src/m4/ax_boost_thread.m4",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/m4/ax_boost_thread.m4?ref=51f4fe48df4d65903a2e35f9b6f3f5fc12e704ca",
        "patch": "@@ -30,7 +30,7 @@\n #   and this notice are preserved. This file is offered as-is, without any\n #   warranty.\n \n-#serial 22\n+#serial 27\n \n AC_DEFUN([AX_BOOST_THREAD],\n [\n@@ -68,17 +68,13 @@ AC_DEFUN([AX_BOOST_THREAD],\n         [AC_LANG_PUSH([C++])\n \t\t\t CXXFLAGS_SAVE=$CXXFLAGS\n \n-\t\t\t # let us handle platform dependent issues in\n-\t\t\t # configure.ac\n-\n-\t\t\t # if test \"x$build_os\" = \"xsolaris\" ; then\n-\t\t\t # \t CXXFLAGS=\"-pthreads $CXXFLAGS\"\n-\t\t\t # elif test \"x$build_os\" = \"xming32\" ; then\n-\t\t\t # \t CXXFLAGS=\"-mthreads $CXXFLAGS\"\n-\t\t\t # else\n-\t\t\t # \tCXXFLAGS=\"-pthread $CXXFLAGS\"\n-\t\t\t # fi\n-\n+\t\t\t if test \"x$host_os\" = \"xsolaris\" ; then\n+\t\t\t\t CXXFLAGS=\"-pthreads $CXXFLAGS\"\n+\t\t\t elif test \"x$host_os\" = \"xmingw32\" ; then\n+\t\t\t\t CXXFLAGS=\"-mthreads $CXXFLAGS\"\n+\t\t\t else\n+\t\t\t\tCXXFLAGS=\"-pthread $CXXFLAGS\"\n+\t\t\t fi\n \t\t\t AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[@%:@include <boost/thread/thread.hpp>]],\n                                    [[boost::thread_group thrds;\n                                    return 0;]])],\n@@ -87,35 +83,35 @@ AC_DEFUN([AX_BOOST_THREAD],\n              AC_LANG_POP([C++])\n \t\t])\n \t\tif test \"x$ax_cv_boost_thread\" = \"xyes\"; then\n-           # if test \"x$build_os\" = \"xsolaris\" ; then\n-\t   # \t\t  BOOST_CPPFLAGS=\"-pthreads $BOOST_CPPFLAGS\"\n-\t   # \t   elif test \"x$build_os\" = \"xming32\" ; then\n-\t   # \t\t  BOOST_CPPFLAGS=\"-mthreads $BOOST_CPPFLAGS\"\n-\t   # \t   else\n-\t   # \t\t  BOOST_CPPFLAGS=\"-pthread $BOOST_CPPFLAGS\"\n-\t   # \t   fi\n+           if test \"x$host_os\" = \"xsolaris\" ; then\n+\t\t\t  BOOST_CPPFLAGS=\"-pthreads $BOOST_CPPFLAGS\"\n+\t\t   elif test \"x$host_os\" = \"xmingw32\" ; then\n+\t\t\t  BOOST_CPPFLAGS=\"-mthreads $BOOST_CPPFLAGS\"\n+\t\t   else\n+\t\t\t  BOOST_CPPFLAGS=\"-pthread $BOOST_CPPFLAGS\"\n+\t\t   fi\n \n \t\t\tAC_SUBST(BOOST_CPPFLAGS)\n \n \t\t\tAC_DEFINE(HAVE_BOOST_THREAD,,[define if the Boost::Thread library is available])\n             BOOSTLIBDIR=`echo $BOOST_LDFLAGS | sed -e 's/@<:@^\\/@:>@*//'`\n \n \t\t\tLDFLAGS_SAVE=$LDFLAGS\n-                        # case \"x$build_os\" in\n-                        #   *bsd* )\n-                        #        LDFLAGS=\"-pthread $LDFLAGS\"\n-                        #   break;\n-                        #   ;;\n-                        # esac\n+                        case \"x$host_os\" in\n+                          *bsd* )\n+                               LDFLAGS=\"-pthread $LDFLAGS\"\n+                          break;\n+                          ;;\n+                        esac\n             if test \"x$ax_boost_user_thread_lib\" = \"x\"; then\n-                for libextension in `ls $BOOSTLIBDIR/libboost_thread*.so* 2>/dev/null | sed 's,.*/,,' | sed -e 's;^lib\\(boost_thread.*\\)\\.so.*$;\\1;'` `ls $BOOSTLIBDIR/libboost_thread*.a* 2>/dev/null | sed 's,.*/,,' | sed -e 's;^lib\\(boost_thread.*\\)\\.a*$;\\1;'`; do\n+                for libextension in `ls -r $BOOSTLIBDIR/libboost_thread* 2>/dev/null | sed 's,.*/lib,,' | sed 's,\\..*,,'`; do\n                      ax_lib=${libextension}\n \t\t\t\t    AC_CHECK_LIB($ax_lib, exit,\n                                  [BOOST_THREAD_LIB=\"-l$ax_lib\"; AC_SUBST(BOOST_THREAD_LIB) link_thread=\"yes\"; break],\n                                  [link_thread=\"no\"])\n \t\t\t\tdone\n                 if test \"x$link_thread\" != \"xyes\"; then\n-                for libextension in `ls $BOOSTLIBDIR/boost_thread*.dll* 2>/dev/null | sed 's,.*/,,' | sed -e 's;^\\(boost_thread.*\\)\\.dll.*$;\\1;'` `ls $BOOSTLIBDIR/boost_thread*.a* 2>/dev/null | sed 's,.*/,,' | sed -e 's;^\\(boost_thread.*\\)\\.a*$;\\1;'` ; do\n+                for libextension in `ls -r $BOOSTLIBDIR/boost_thread* 2>/dev/null | sed 's,.*/,,' | sed 's,\\..*,,'`; do\n                      ax_lib=${libextension}\n \t\t\t\t    AC_CHECK_LIB($ax_lib, exit,\n                                  [BOOST_THREAD_LIB=\"-l$ax_lib\"; AC_SUBST(BOOST_THREAD_LIB) link_thread=\"yes\"; break],\n@@ -134,17 +130,17 @@ AC_DEFUN([AX_BOOST_THREAD],\n             if test \"x$ax_lib\" = \"x\"; then\n                 AC_MSG_ERROR(Could not find a version of the library!)\n             fi\n-\t\t\t# if test \"x$link_thread\" = \"xno\"; then\n-\t\t\t# \tAC_MSG_ERROR(Could not link against $ax_lib !)\n-                        # else\n-                        #    case \"x$build_os\" in\n-                        #       *bsd* )\n-\t\t\t# \tBOOST_LDFLAGS=\"-pthread $BOOST_LDFLAGS\"\n-                        #       break;\n-                        #       ;;\n-                        #    esac\n+\t\t\tif test \"x$link_thread\" = \"xno\"; then\n+\t\t\t\tAC_MSG_ERROR(Could not link against $ax_lib !)\n+                        else\n+                           case \"x$host_os\" in\n+                              *bsd* )\n+\t\t\t\tBOOST_LDFLAGS=\"-pthread $BOOST_LDFLAGS\"\n+                              break;\n+                              ;;\n+                           esac\n \n-\t\t\t# fi\n+\t\t\tfi\n \t\tfi\n \n \t\tCPPFLAGS=\"$CPPFLAGS_SAVED\""
      }
    ]
  }
]