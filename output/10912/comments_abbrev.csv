jonasschnelli,2017-07-24T07:55:27Z,"Nice catch!\nAFAIK this is the only place where (we intended) to test `memory_cleanse`. Maybe keep it and switch the sizeof's to the correct constants?",https://github.com/bitcoin/bitcoin/pull/10912#issuecomment-317346647,317346647,
sipa,2017-07-24T07:56:07Z,Having memory_cleanse in a test seems pointless.,https://github.com/bitcoin/bitcoin/pull/10912#issuecomment-317346804,317346804,
practicalswift,2017-07-24T08:16:18Z,"Perhaps `memory_cleanse` deserves a dedicated test (a subject for another PR)? :-)\n\nIf so I'll leave this PR as-is.",https://github.com/bitcoin/bitcoin/pull/10912#issuecomment-317351232,317351232,
jonasschnelli,2017-07-24T08:47:43Z,"Agree with a dedicated test.\n@sipa is right that cleaning memory in test is pointless, although I think it makes sense to test the `memory_cleanse` function (to eventually make sure compiler doesn't optimise out the cleanse [volatile] function)?",https://github.com/bitcoin/bitcoin/pull/10912#issuecomment-317358486,317358486,
sipa,2017-07-24T08:52:27Z,"Testing more is better, but I think this code is not testing more. If the memory_cleanse  would somehow fail to do its job, I don't think this would cause any test to fail? (I haven't looked closely, please correct me if I'm wrong)",https://github.com/bitcoin/bitcoin/pull/10912#issuecomment-317359682,317359682,
jonasschnelli,2017-07-24T08:55:09Z,">  If the memory_cleanse would somehow fail to do its job, I don't think this would cause any test to fail?\n\nYes. We should have a dedicated test for `memory_cleanse` then.\nJust executing the code has only little advantages (crashes/exceptions will be detected, memory leaks when running with valgrind, etc.).",https://github.com/bitcoin/bitcoin/pull/10912#issuecomment-317360362,317360362,
practicalswift,2017-07-24T09:12:36Z,I've now updated the PR: now calling `memory_cleanse(…)` with the expected args.,https://github.com/bitcoin/bitcoin/pull/10912#issuecomment-317364610,317364610,
jonasschnelli,2017-07-24T09:19:54Z,utACK 17a1f639c906a14e02ac03b51b7e030f3f47a86c,https://github.com/bitcoin/bitcoin/pull/10912#issuecomment-317366443,317366443,
TheBlueMatt,2017-07-25T18:32:18Z,"utACK. Yes, lets actually /test/ memory_cleanse at some point.",https://github.com/bitcoin/bitcoin/pull/10912#issuecomment-317828391,317828391,
MarcoFalke,2017-07-25T19:39:54Z,Please amend the commit message/pull request body and pull title.,https://github.com/bitcoin/bitcoin/pull/10912#issuecomment-317849392,317849392,
practicalswift,2017-07-25T22:05:44Z,@MarcoFalke Done! :-),https://github.com/bitcoin/bitcoin/pull/10912#issuecomment-317886969,317886969,
laanwj,2017-07-26T10:10:04Z,"Apparently this tests nothing, if this error was not detected! \n\nBut it's clear that the new code is what the intention was so meh-ACK.",https://github.com/bitcoin/bitcoin/pull/10912#issuecomment-318010784,318010784,
MarcoFalke,2017-07-30T10:37:33Z,post mege utACK 065039d,https://github.com/bitcoin/bitcoin/pull/10912#issuecomment-318893018,318893018,
jonasschnelli,2017-07-24T07:49:18Z,"Change the `sizeof` to `WALLET_CRYPTO_KEY_SIZE`, and `WALLET_CRYPTO_IV_SIZE`?",https://github.com/bitcoin/bitcoin/pull/10912#discussion_r128968146,128968146,src/wallet/test/crypto_tests.cpp
practicalswift,2017-07-24T07:53:59Z,"@jonasschnelli Yes, that is the correct fix if we want to keep the `memory_cleanse(…)`-calls. Do we? :-)  If so, I'll fix them!",https://github.com/bitcoin/bitcoin/pull/10912#discussion_r128968949,128968949,src/wallet/test/crypto_tests.cpp
jonasschnelli,2017-07-24T08:49:18Z,"I don't care that much. I personably would try to keep it even if cleaning memory is pointless because I generally follow ""test more is better""-approach.",https://github.com/bitcoin/bitcoin/pull/10912#discussion_r128980942,128980942,src/wallet/test/crypto_tests.cpp
