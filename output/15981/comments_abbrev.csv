practicalswift,2019-05-08 11:23:52,Concept ACK,https://github.com/bitcoin/bitcoin/pull/15981#issuecomment-490448937,490448937,
DrahtBot,2019-05-08 13:17:57,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15976](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15976.html) (refactor: move methods under CChainState (p",https://github.com/bitcoin/bitcoin/pull/15981#issuecomment-490481862,490481862,
Bushstar,2019-05-08 14:42:31,"I personally prefer `class::func` where applicable, I'll update this PR. Normalising all logging like this is a much bigger task and will conflict with a lot of other PRs, I'll stick to the ones in this PR for now.",https://github.com/bitcoin/bitcoin/pull/15981#issuecomment-490514409,490514409,
Bushstar,2019-05-08 15:50:00,"Travis hit the time limit, seems less prone to this in the morning UK, I'll force push again tomorrow morning if it's not been manually run and succeeded by then.",https://github.com/bitcoin/bitcoin/pull/15981#issuecomment-490541977,490541977,
gmaxwell,2019-05-08 20:22:55,"jnewbery: that same argument pretty much argues against doing this, since all these messages will change in refactors.  I'm not sure how we ended up with so many function names inside log entries, it isn't generally a good idea: we shouldn't have our errors change due to refactoring. Not just log parsing tools, but also users googling messages.",https://github.com/bitcoin/bitcoin/pull/15981#issuecomment-490636879,490636879,
jnewbery,2019-05-08 21:04:41,"> that same argument pretty much argues against doing this, since all these messages will change in refactors.\n\nRight, so what do you suggest? Removing the function names from logs entirely?",https://github.com/bitcoin/bitcoin/pull/15981#issuecomment-490650428,490650428,
MarcoFalke,2019-05-08 21:13:47,"Most of the logs are error conditions and there are two parts of the log message with different purpose:\n* The function name/class name to tell the developer where it happened\n* The verbose text to explain what happened\n\nI think search engines today can deal with a single word that is off. And including more information for developers can't hurt, as long as it is correct. Not sure how many",https://github.com/bitcoin/bitcoin/pull/15981#issuecomment-490653125,490653125,
promag,2019-05-08 21:24:41,"I think we should feel free to change logs, it isn't like an API, is it?",https://github.com/bitcoin/bitcoin/pull/15981#issuecomment-490656333,490656333,
gmaxwell,2019-05-10 02:55:22,"Changing of the function name will reliably break log parsing. Rather than including potentially changing function names the messages should be descriptive enough that there isn't any trouble finding them (considering how often functions move from file to file it isn't like a search is avoidable!). Then both needs are satisfied.\n\nMacros like this are primarily useful for automatically generate",https://github.com/bitcoin/bitcoin/pull/15981#issuecomment-491137186,491137186,
MarcoFalke,2019-05-10 11:39:00,"Couldn't the logs use something like `__FILE__` and `__LINE__`. In combination with the commit from the debug log, this should be sufficient to find the exact location without searching.",https://github.com/bitcoin/bitcoin/pull/15981#issuecomment-491258744,491258744,
sipa,2019-05-10 17:08:57,"@gmaxwell For new code, with new messages, I'm very much in favor of using descriptive searchable and not-code-organization-dependent message texts. But what do you suggest we do with the code that is already there right now? Messages with function names in them have been in the codebase since before the project was on Github. We can replace them, and break the searchability property once, or we c",https://github.com/bitcoin/bitcoin/pull/15981#issuecomment-491361981,491361981,
gmaxwell,2019-05-11 19:41:56,@sipa I could go either way-- but using __func__ is not either of those ways.  I would personally prefer that we replace them with strings that don't need to be changed unless the underlying behaviour changes.  I would rather that they be potentially misleading then generated by __func__.  No one working on the code itself is going to be confused too long by a log entry with an incorrect function ,https://github.com/bitcoin/bitcoin/pull/15981#issuecomment-491538706,491538706,
DrahtBot,2019-06-05 10:20:43,<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase,https://github.com/bitcoin/bitcoin/pull/15981#issuecomment-499026500,499026500,
laanwj,2019-06-13 13:27:06,"I think this is way too controversial for a simple logging change, so I'm going to close this, sorry.\n\n>  I'm not sure how we ended up with so many function names inside log entries, it isn't generally a good idea: we shouldn't have our errors change due to refactoring\n\nI tend to agree with this. It'd make much more sense to prefix messages with a broad category (net, rpc, validation, ...)",https://github.com/bitcoin/bitcoin/pull/15981#issuecomment-501702195,501702195,
jnewbery,2019-05-08 14:01:56,"I think this changes the log from `LockedPool:` to `free:`, which seems less useful",https://github.com/bitcoin/bitcoin/pull/15981#discussion_r282080426,282080426,src/support/lockedpool.cpp
promag,2019-05-08 14:03:53,This is different.,https://github.com/bitcoin/bitcoin/pull/15981#discussion_r282081313,282081313,src/validation.cpp
promag,2019-05-08 14:07:31,ðŸ‘€ ,https://github.com/bitcoin/bitcoin/pull/15981#discussion_r282082958,282082958,src/support/lockedpool.cpp
Bushstar,2019-05-08 14:13:24,"Should either be LockedPool::free or just LockedPool:, this was a mistake to change.",https://github.com/bitcoin/bitcoin/pull/15981#discussion_r282085697,282085697,src/support/lockedpool.cpp
Bushstar,2019-05-08 14:14:17,This should not have been included. Will change this back.,https://github.com/bitcoin/bitcoin/pull/15981#discussion_r282086144,282086144,src/support/lockedpool.cpp
Bushstar,2019-05-08 14:34:01,"That error was first added by sipa in the commit below and has always been RollbackBlock() even though in the ReplayBlocks function. There's a RollforwardBlock function added above ReplayBlocks so I suspect it was a WIP name that did not get updated in the error call.\n\nhttps://github.com/bitcoin/bitcoin/commit/013a56aa1af985894b3eaf7c325647b0b74e4456",https://github.com/bitcoin/bitcoin/pull/15981#discussion_r282095441,282095441,src/validation.cpp
