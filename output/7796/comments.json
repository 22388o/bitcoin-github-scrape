[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204947683",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#issuecomment-204947683",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7796",
    "id": 204947683,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDk0NzY4Mw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-03T11:28:42Z",
    "updated_at": "2016-04-03T11:29:49Z",
    "author_association": "MEMBER",
    "body": "Negative fee rates imply that you pay a smaller, more negative fee the larger the transaction? What do negative fees even mean, steal from the miner? Or is this so that anti-transactions of negative size pay a positive fee?\n\nI'd say this is an edge case better to get rid of (e.g. assert or throw an error).\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204947683/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204947736",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#issuecomment-204947736",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7796",
    "id": 204947736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDk0NzczNg==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-03T11:30:08Z",
    "updated_at": "2016-04-03T11:30:08Z",
    "author_association": "MEMBER",
    "body": "Uninformed guess: maybe they are relevant for priotizetransaction?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204947736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204947781",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#issuecomment-204947781",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7796",
    "id": 204947781,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDk0Nzc4MQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-03T11:31:10Z",
    "updated_at": "2016-04-03T11:31:10Z",
    "author_association": "MEMBER",
    "body": "According to @MarcoFalke they already don't work on 64-bit architectures, which is probably 90%+ of all nodes. Better to remove it for 32 bit as well.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204947781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204948093",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#issuecomment-204948093",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7796",
    "id": 204948093,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDk0ODA5Mw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-03T11:35:33Z",
    "updated_at": "2016-04-03T11:35:33Z",
    "author_association": "MEMBER",
    "body": "@sipa is correct\n\n@laanwj I have pushed the fix as a second commit, so the travis result can be compared. The fix is probably a lot smaller than the fix which  removes support.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204948093/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204949199",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#issuecomment-204949199",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7796",
    "id": 204949199,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDk0OTE5OQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-03T11:48:10Z",
    "updated_at": "2016-04-03T11:48:16Z",
    "author_association": "MEMBER",
    "body": "Ok, at least document this then, for example in the doc comment of the constructor. It's extremely unintuitive to me and probably to others reading this code as well.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204949199/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204951227",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#issuecomment-204951227",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7796",
    "id": 204951227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDk1MTIyNw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-03T12:00:53Z",
    "updated_at": "2016-04-03T12:00:53Z",
    "author_association": "MEMBER",
    "body": "Ok, will add the doc later...\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204951227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204981991",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#issuecomment-204981991",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7796",
    "id": 204981991,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDk4MTk5MQ==",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?u=b7dd63827227d69794b5fe28797b1bd107b930dd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-03T13:54:59Z",
    "updated_at": "2016-04-03T13:54:59Z",
    "author_association": "MEMBER",
    "body": "ping @sdaftuar \n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/204981991/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/205825692",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#issuecomment-205825692",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7796",
    "id": 205825692,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNTgyNTY5Mg==",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-05T14:08:35Z",
    "updated_at": "2016-04-05T14:08:35Z",
    "author_association": "MEMBER",
    "body": "I think it's probably better to fix support for negative fee rates on 64-bit platforms, because (a) fixing the `prioritisetransaction` RPC to disallow negative feerates would be difficult/annoying because fee deltas can be stored prior to transaction acceptance, (b) it would be counterintuitive if you called `prioritisetransaction` with -X and then later with X but didn't get back to where you started, and (c) I think there might be legitimate reasons to want to keep an ordering of transactions you don't want to mine right now (which you'd lose if you tried to floor everything at zero, which is the easiest reasonable alternative I can come up with).\n\nBut to be fair, I'm surprised that no one has complained about this before, because as far as I can tell, up until 0.12, if you used prioritisetransaction to apply a negative feerate, then the mining code would immediately select it as a super-high-fee transaction.  (I stumbled upon this behavior while working on #7063.)\n\nSo, concept ACK.  I agree with @laanwj's [comment about the cast](https://github.com/bitcoin/bitcoin/pull/7796#discussion_r58308944).  Also, I think it probably makes most sense to enforce the property that `CFeeRate(X).GetFee(size) == -1 * CFeeRate(-X).GetFee(size)`; if everyone agrees, then we should make the special case rounding recently introduced (where we return CFeeRate(1)) also apply in the negative fee rate case.\n\nAlso, we should add a unit test that exercises the constructor `CFeeRate(const CAmount& nFeePaid, size_t nSize_)` that is changed in this PR.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/205825692/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/207516697",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#issuecomment-207516697",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7796",
    "id": 207516697,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzUxNjY5Nw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-08T17:01:50Z",
    "updated_at": "2016-04-08T17:01:50Z",
    "author_association": "MEMBER",
    "body": "> I think it probably makes most sense to enforce the property that CFeeRate(X).GetFee(size) == -1 \\* CFeeRate(-X).GetFee(size);\n\nMakes sense, done.\n\n> add a unit test that exercises the constructor CFeeRate(const CAmount& nFeePaid, size_t nSize_)\n\nDone.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/207516697/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/207777672",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#issuecomment-207777672",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7796",
    "id": 207777672,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzc3NzY3Mg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-09T11:54:46Z",
    "updated_at": "2016-04-09T11:54:46Z",
    "author_association": "MEMBER",
    "body": "Before on 64-bit:\n\n```\ntest/amount_tests.cpp(33): error: feeRate.GetFee(1) == -1 has failed [18446744073709550 != -1]\ntest/amount_tests.cpp(34): error: feeRate.GetFee(121) == -121 has failed [18446744073709430 != -121]\ntest/amount_tests.cpp(35): error: feeRate.GetFee(999) == -999 has failed [18446744073708552 != -999]\ntest/amount_tests.cpp(36): error: feeRate.GetFee(1e3) == -1e3 has failed [18446744073708551 != -1000]\ntest/amount_tests.cpp(37): error: feeRate.GetFee(9e3) == -9e3 has failed [18446744073700551 != -9000]\ntest/amount_tests.cpp(53): error: feeRate.GetFee(8) == -1 has failed [18446744073709550 != -1]\ntest/amount_tests.cpp(54): error: feeRate.GetFee(9) == -1 has failed [18446744073709550 != -1]\ntest/amount_tests.cpp(58): error: CFeeRate(CAmount(-1), 1000) == CFeeRate(-1) has failed\n```\n\nAfter:\ntests pass\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/207777672/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/209857572",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#issuecomment-209857572",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7796",
    "id": 209857572,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTg1NzU3Mg==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-14T09:54:36Z",
    "updated_at": "2016-04-14T09:54:36Z",
    "author_association": "MEMBER",
    "body": "utACK facf5a4\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/209857572/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/209977856",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#issuecomment-209977856",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7796",
    "id": 209977856,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTk3Nzg1Ng==",
    "user": {
      "login": "jtimon",
      "id": 1008458,
      "node_id": "MDQ6VXNlcjEwMDg0NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1008458?u=636a89c913ac407f52bb8d57c4fff384b98f421f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtimon",
      "html_url": "https://github.com/jtimon",
      "followers_url": "https://api.github.com/users/jtimon/followers",
      "following_url": "https://api.github.com/users/jtimon/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtimon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
      "organizations_url": "https://api.github.com/users/jtimon/orgs",
      "repos_url": "https://api.github.com/users/jtimon/repos",
      "events_url": "https://api.github.com/users/jtimon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtimon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-14T14:42:36Z",
    "updated_at": "2016-04-14T14:42:36Z",
    "author_association": "MEMBER",
    "body": "After this, the following change will fail the new tests in amount_tests.cpp: https://github.com/bitcoin/bitcoin/pull/7728/commits/5ca24733d08ac57e01c521ded864fd516448f351\n\nThis is a mystery to me, can anybody help me understand?\nI get the same errors that MarcoFalke gets \"Before on 64-bit:\", do I have to do something locally on 64 bits linux?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/209977856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58308944",
    "pull_request_review_id": null,
    "id": 58308944,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzA4OTQ0",
    "diff_hunk": "@@ -9,16 +9,18 @@\n \n const std::string CURRENCY_UNIT = \"BTC\";\n \n-CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nSize)\n+CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nSize_)\n {\n+    int64_t nSize = nSize_;\n     if (nSize > 0)\n-        nSatoshisPerK = nFeePaid*1000/nSize;\n+        nSatoshisPerK = nFeePaid * 1000 / nSize;",
    "path": "src/amount.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "facf5a494708df755a15d63d339412201512e13f",
    "original_commit_id": "fa064427abbddbdc93e767ac662cc9803c333975",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Instead of the temporary variable, why not just:\n\n```\nnSatoshisPerK = nFeePaid * 1000 / static_cast<int64_t>(nSize);\n```\n\nAlso at least theoretically you should handle the case where nSize is outside the range of `int64_t`, though I doubt someone will ever care about transactions that large.\n",
    "created_at": "2016-04-03T11:46:47Z",
    "updated_at": "2016-04-09T13:28:45Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#discussion_r58308944",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7796",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58308944"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7796#discussion_r58308944"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7796"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58308944/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58309089",
    "pull_request_review_id": null,
    "id": 58309089,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzA5MDg5",
    "diff_hunk": "@@ -9,16 +9,18 @@\n \n const std::string CURRENCY_UNIT = \"BTC\";\n \n-CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nSize)\n+CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nSize_)\n {\n+    int64_t nSize = nSize_;\n     if (nSize > 0)\n-        nSatoshisPerK = nFeePaid*1000/nSize;\n+        nSatoshisPerK = nFeePaid * 1000 / nSize;",
    "path": "src/amount.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "facf5a494708df755a15d63d339412201512e13f",
    "original_commit_id": "fa064427abbddbdc93e767ac662cc9803c333975",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If it is used more than once, you'd rather want to do the cast only once. I guess an alternative would be to change it in the constructor arguments, but that is less verbose, imo.\n",
    "created_at": "2016-04-03T12:00:42Z",
    "updated_at": "2016-04-09T13:28:45Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#discussion_r58309089",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7796",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58309089"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7796#discussion_r58309089"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7796"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58309089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58309225",
    "pull_request_review_id": null,
    "id": 58309225,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzA5MjI1",
    "diff_hunk": "@@ -9,16 +9,18 @@\n \n const std::string CURRENCY_UNIT = \"BTC\";\n \n-CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nSize)\n+CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nSize_)\n {\n+    int64_t nSize = nSize_;\n     if (nSize > 0)\n-        nSatoshisPerK = nFeePaid*1000/nSize;\n+        nSatoshisPerK = nFeePaid * 1000 / nSize;",
    "path": "src/amount.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "facf5a494708df755a15d63d339412201512e13f",
    "original_commit_id": "fa064427abbddbdc93e767ac662cc9803c333975",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> I guess an alternative would be to change it in the constructor arguments\n\nI thought of that, but didn't mention it at second thought. Before you know it people will want full support for negative sizes as well. The appropriate type is size_t.\n",
    "created_at": "2016-04-03T12:12:37Z",
    "updated_at": "2016-04-09T13:28:45Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#discussion_r58309225",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7796",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58309225"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7796#discussion_r58309225"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7796"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58309225/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59056658",
    "pull_request_review_id": null,
    "id": 59056658,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDU2NjU4",
    "diff_hunk": "@@ -9,16 +9,18 @@\n \n const std::string CURRENCY_UNIT = \"BTC\";\n \n-CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nSize)\n+CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nSize_)\n {\n+    int64_t nSize = nSize_;\n     if (nSize > 0)\n-        nSatoshisPerK = nFeePaid*1000/nSize;\n+        nSatoshisPerK = nFeePaid * 1000 / nSize;",
    "path": "src/amount.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "facf5a494708df755a15d63d339412201512e13f",
    "original_commit_id": "fa064427abbddbdc93e767ac662cc9803c333975",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This would require a cast in 4 places instead of two (see diff below) but I am happy to apply the diff an squash. Please let me know how to proceed so we can finalize this.\n\n``` diff\ndiff --git a/src/amount.cpp b/src/amount.cpp\nindex 7b8618d..3966c5f 100644\n--- a/src/amount.cpp\n+++ b/src/amount.cpp\n@@ -13,8 +13,7 @@ CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nBytes_)\n {\n     assert(nBytes_ <= uint64_t(std::numeric_limits<int64_t>::max()));\n-    int64_t nSize = int64_t(nBytes_);\n\n-    if (nSize > 0)\n-        nSatoshisPerK = nFeePaid * 1000 / nSize;\n+    if (int64_t(nBytes_) > 0)\n+        nSatoshisPerK = nFeePaid * 1000 / int64_t(nBytes_);\n     else\n         nSatoshisPerK = 0;\n@@ -24,9 +23,8 @@ CAmount CFeeRate::GetFee(size_t nBytes_) const\n {\n     assert(nBytes_ <= uint64_t(std::numeric_limits<int64_t>::max()));\n-    int64_t nSize = int64_t(nBytes_);\n\n-    CAmount nFee = nSatoshisPerK * nSize / 1000;\n+    CAmount nFee = nSatoshisPerK * int64_t(nBytes_) / 1000;\n\n-    if (nFee == 0 && nSize != 0) {\n+    if (nFee == 0 && int64_t(nBytes_) != 0) {\n         if (nSatoshisPerK > 0)\n             nFee = CAmount(1);\n```\n",
    "created_at": "2016-04-08T17:01:45Z",
    "updated_at": "2016-04-09T13:28:45Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#discussion_r59056658",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7796",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59056658"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7796#discussion_r59056658"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7796"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59056658/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59721346",
    "pull_request_review_id": null,
    "id": 59721346,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NzIxMzQ2",
    "diff_hunk": "@@ -9,20 +9,30 @@\n \n const std::string CURRENCY_UNIT = \"BTC\";\n \n-CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nSize)\n+CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nBytes_)\n {\n+    assert(nBytes_ <= uint64_t(std::numeric_limits<int64_t>::max()));\n+    int64_t nSize = int64_t(nBytes_);\n+\n     if (nSize > 0)\n-        nSatoshisPerK = nFeePaid*1000/nSize;\n+        nSatoshisPerK = nFeePaid * 1000 / nSize;\n     else\n         nSatoshisPerK = 0;\n }\n \n-CAmount CFeeRate::GetFee(size_t nSize) const\n+CAmount CFeeRate::GetFee(size_t nBytes_) const\n {\n+    assert(nBytes_ <= uint64_t(std::numeric_limits<int64_t>::max()));\n+    int64_t nSize = int64_t(nBytes_);\n+\n     CAmount nFee = nSatoshisPerK * nSize / 1000;\n \n-    if (nFee == 0 && nSize != 0 && nSatoshisPerK > 0)\n-        nFee = CAmount(1);\n+    if (nFee == 0 && nSize != 0) {",
    "path": "src/amount.cpp",
    "position": 27,
    "original_position": 27,
    "commit_id": "facf5a494708df755a15d63d339412201512e13f",
    "original_commit_id": "facf5a494708df755a15d63d339412201512e13f",
    "user": {
      "login": "jtimon",
      "id": 1008458,
      "node_id": "MDQ6VXNlcjEwMDg0NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtimon",
      "html_url": "https://github.com/jtimon",
      "followers_url": "https://api.github.com/users/jtimon/followers",
      "following_url": "https://api.github.com/users/jtimon/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtimon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
      "organizations_url": "https://api.github.com/users/jtimon/orgs",
      "repos_url": "https://api.github.com/users/jtimon/repos",
      "events_url": "https://api.github.com/users/jtimon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtimon/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Couldn't have we just removed this special case from here (ie move this check to the callers that need it)?\nI know that would be more disruptive, but it will also make increasing the internal precision easier later.\n",
    "created_at": "2016-04-14T13:58:48Z",
    "updated_at": "2016-04-14T13:58:48Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#discussion_r59721346",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7796",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59721346"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7796#discussion_r59721346"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7796"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59721346/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 30,
    "original_line": 30,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59732039",
    "pull_request_review_id": null,
    "id": 59732039,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NzMyMDM5",
    "diff_hunk": "@@ -9,20 +9,30 @@\n \n const std::string CURRENCY_UNIT = \"BTC\";\n \n-CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nSize)\n+CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nBytes_)\n {\n+    assert(nBytes_ <= uint64_t(std::numeric_limits<int64_t>::max()));\n+    int64_t nSize = int64_t(nBytes_);\n+\n     if (nSize > 0)\n-        nSatoshisPerK = nFeePaid*1000/nSize;\n+        nSatoshisPerK = nFeePaid * 1000 / nSize;\n     else\n         nSatoshisPerK = 0;\n }\n \n-CAmount CFeeRate::GetFee(size_t nSize) const\n+CAmount CFeeRate::GetFee(size_t nBytes_) const\n {\n+    assert(nBytes_ <= uint64_t(std::numeric_limits<int64_t>::max()));\n+    int64_t nSize = int64_t(nBytes_);\n+\n     CAmount nFee = nSatoshisPerK * nSize / 1000;\n \n-    if (nFee == 0 && nSize != 0 && nSatoshisPerK > 0)\n-        nFee = CAmount(1);\n+    if (nFee == 0 && nSize != 0) {",
    "path": "src/amount.cpp",
    "position": 27,
    "original_position": 27,
    "commit_id": "facf5a494708df755a15d63d339412201512e13f",
    "original_commit_id": "facf5a494708df755a15d63d339412201512e13f",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sure!\n\nI am only aware of the wallet using it: https://github.com/bitcoin/bitcoin/blob/430fffefaab6832b8f6605f14a992e7e55b9547e/src/wallet/wallet.cpp#L2335\n",
    "created_at": "2016-04-14T14:55:57Z",
    "updated_at": "2016-04-14T14:55:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#discussion_r59732039",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7796",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59732039"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7796#discussion_r59732039"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7796"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59732039/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 30,
    "original_line": 30,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59753604",
    "pull_request_review_id": null,
    "id": 59753604,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NzUzNjA0",
    "diff_hunk": "@@ -9,20 +9,30 @@\n \n const std::string CURRENCY_UNIT = \"BTC\";\n \n-CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nSize)\n+CFeeRate::CFeeRate(const CAmount& nFeePaid, size_t nBytes_)\n {\n+    assert(nBytes_ <= uint64_t(std::numeric_limits<int64_t>::max()));\n+    int64_t nSize = int64_t(nBytes_);\n+\n     if (nSize > 0)\n-        nSatoshisPerK = nFeePaid*1000/nSize;\n+        nSatoshisPerK = nFeePaid * 1000 / nSize;\n     else\n         nSatoshisPerK = 0;\n }\n \n-CAmount CFeeRate::GetFee(size_t nSize) const\n+CAmount CFeeRate::GetFee(size_t nBytes_) const\n {\n+    assert(nBytes_ <= uint64_t(std::numeric_limits<int64_t>::max()));\n+    int64_t nSize = int64_t(nBytes_);\n+\n     CAmount nFee = nSatoshisPerK * nSize / 1000;\n \n-    if (nFee == 0 && nSize != 0 && nSatoshisPerK > 0)\n-        nFee = CAmount(1);\n+    if (nFee == 0 && nSize != 0) {",
    "path": "src/amount.cpp",
    "position": 27,
    "original_position": 27,
    "commit_id": "facf5a494708df755a15d63d339412201512e13f",
    "original_commit_id": "facf5a494708df755a15d63d339412201512e13f",
    "user": {
      "login": "jtimon",
      "id": 1008458,
      "node_id": "MDQ6VXNlcjEwMDg0NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtimon",
      "html_url": "https://github.com/jtimon",
      "followers_url": "https://api.github.com/users/jtimon/followers",
      "following_url": "https://api.github.com/users/jtimon/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtimon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
      "organizations_url": "https://api.github.com/users/jtimon/orgs",
      "repos_url": "https://api.github.com/users/jtimon/repos",
      "events_url": "https://api.github.com/users/jtimon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtimon/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oh, that's great. Moving from nSatoshisPerK to 1 was already and step forward. But I've strong reason to believe that this special case was the most important impediment for not being able to \"easily\" do more than *2 on internal precision in #7731(in fact, I don't think it would pass all the tests if I rebased this now due to this change).\n\nIf you create a PR to move the special case to the wallet only, please ping me for review, I am very interested in seeing that happening. Looking at the code you link to, it looks like that part can actually be simplified as a result, instead of complicating it. But tests will break...\n",
    "created_at": "2016-04-14T17:03:44Z",
    "updated_at": "2016-04-14T17:03:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7796#discussion_r59753604",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7796",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59753604"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7796#discussion_r59753604"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7796"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59753604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 30,
    "original_line": 30,
    "side": "RIGHT"
  }
]