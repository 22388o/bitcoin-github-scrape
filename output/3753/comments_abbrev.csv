jgarzik,2014-02-26T23:13:52Z,Self-note:  does pwalletMain->IsMine() require a lock?  I'm thinking yes.\n,https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-36190092,36190092,
Diapolo,2014-02-26T23:36:50Z,Why not use the term gc (garbage collection)?\n,https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-36191968,36191968,
ABISprotocol,2014-02-26T23:37:10Z,"Nice, thanks.\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-36192037,36192037,
gavinandresen,2014-02-27T14:59:50Z,"Good idea, ACK on concept.\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-36249969,36249969,
rebroad,2014-02-27T18:55:36Z,What has changed regarding bitcoin that is making this feature more necessary now where it wasn't so necessary in the past?\n,https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-36277121,36277121,
gavinandresen,2014-02-27T19:02:09Z,"@rebroad : we want to lower the relay fee, to give miners more opportunity to mine lower-fee transactions. But we don't want attackers to be able to gum up memory with lots of spammy, will-never-get-mined transactions...\n\n(and this is where Mike Hearn jumps in and points out, again, that we're doing it wrong and we should relay all transactions until we hit per-peer memory or bandwidth limits...",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-36277855,36277855,
laanwj,2014-02-28T12:03:15Z,"@diapolo The name garbage collection is way, way too general. This cleans up the transactions in the pool, so pool manager is a good name.\nACK on concept\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-36344125,36344125,
gmaxwell,2014-02-28T12:06:55Z,Pool boy.\n,https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-36344359,36344359,
sipa,2014-02-28T13:00:11Z,"I believe the current implementation will remove unconfirmed dependencies of wallet transactions, transitively removing wallet transactions too.\n\nI'd prefer a flag bit in the mempool to mark transactions as precious, and when applied, it automatically propagates up to its dependencies.\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-36347898,36347898,
sipa,2014-02-28T13:35:54Z,"I also don't really like mempool (management) code needing to know about all connected wallets, and acquire locks on them. The mempool should function independently.\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-36350695,36350695,
charlie93,2014-03-01T18:23:35Z,"Can't believe I registered for this. I'm with gmaxwell, ""pool boy"" is more appropriate.\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-36432174,36432174,
mikehearn,2014-03-14T13:05:46Z,"Why a separate thread? It could just run after receiving a new tx, I think? The more threads there are, the easier it is to slip up and slice your thumb off ...\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-37644461,37644461,
jgarzik,2014-03-14T13:10:58Z,This operation is too slow and expensive to run after every new TX.\n,https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-37644880,37644880,
mikehearn,2014-03-14T13:13:01Z,"The first step is to check if it's time to run, i.e. if now - lastTime > 24hrs. So I don't see what the issue is.\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-37645052,37645052,
jgarzik,2014-03-14T13:16:47Z,"@mikehearn Ah, I thought you were suggesting to run the operation after receipt of _every_ TX.\n\nYes, you could do it that way too.\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-37645363,37645363,
jgarzik,2014-05-20T21:27:03Z,Rebased\n,https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-43685451,43685451,
ABISprotocol,2014-06-24T00:36:19Z,Please explain the merge conflict.\n,https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-46919472,46919472,
jgarzik,2014-07-18T18:34:36Z,"Rebased.  The following feedback from @laanwj @sipa must be addressed before merge,\n_""I'd rather have that the wallets let the mempool know that a transaction is precious (with a flag), than having the mempool manager poll the main wallet._\n\n_If you want to do it this way (poolman -> wallets) please use the RegisterWallet / UnregisterWallet machinery from main.cpp, and add a CWalletInterface me",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-49464772,49464772,
ABISprotocol,2014-07-18T20:05:18Z,@jgarzik Thanks for your work on this!\n,https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-49473889,49473889,
BitcoinPullTester,2014-08-18T19:41:00Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p3753_b5d216a7b3dd68b784601973ff95e15cdfd13ebf/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-te",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-52543810,52543810,
dgenr8,2014-08-30T16:08:05Z,"Expiring from mempool based on wall clock age, measured from first receipt, suffers from a reseeding  problem: any node with a copy of tx can re-introduce it and start the cycle again, and this will happen easily due to clock differences.\n\nOne way to mitigate this problem would be to stop relaying tx for some time before forgetting completely about it.\n\nA stronger and complimentary improvement",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-53962637,53962637,
ABISprotocol,2014-09-02T03:19:40Z,"Brief note:  certain uses of nLockTime can be used intentionally (or perhaps unintentionally as well) to create problems, for details go dig into bitcointalk or, this stackexchange example...\nhttps://bitcoin.stackexchange.com/questions/8408/can-nlocktime-tx-be-used-to-flood-mempools\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-54105716,54105716,
laanwj,2014-09-02T08:25:22Z,"The possibility of reseeding is intentional. The reason for this pull is resource management, ie, make sure that transactions that no one cares about don't linger around forever. A node is free to rebroadcast transactions that it cares about.\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-54122197,54122197,
dgenr8,2014-09-03T06:14:18Z,"I could accidentally debilitate mempool janitors across the entire network if I set up two nodes to exchange mempools whenever they reconnected to each other, and restarted each frequently. --Kaz Wesley\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-54256158,54256158,
jgarzik,2014-09-03T12:57:39Z,"@dgenr8 IGNORING the fact that nodes don't do that now, such modified nodes would then offer a bunch of TXs that other nodes would ignore.\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-54292009,54292009,
dgenr8,2014-09-03T23:36:44Z,"Ok, ""accidentally"" is a stretch.  These nodes would also have to ""accidentally"" persist their mempools across restarts to actually be troublesome.  But it suggests how easily a trouble-maker could defeat janitors network-wide that rely only on receipt time.\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-54383626,54383626,
jgarzik,2014-09-03T23:55:22Z,"As noted, the troublemaker is not just two nodes restarting or remembering longer.  That is just fine.  A troublemaker would have to actively connect and offer ancient TXs, and that would be noticed.\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-54386278,54386278,
ABISprotocol,2014-09-09T05:00:08Z,"Probably unrelated, but 'poolman' as well understood as it might be, seems so hombre-focused.\nAlternatives?  poolbeing, poolhelper, poolbot, poolio, poolcleaner\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-54924467,54924467,
jonasschnelli,2014-12-29T09:40:00Z,Needs rebase.\n,https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-68243693,68243693,
ABISprotocol,2015-01-02T04:03:55Z,"I just want to leave this as a comment rather than forking, pull requesting or any such-ness atm. I wanted to suggest that when this goes through to final at such point when rebase please consider the original remark I had some while back which was, I think, to rename from poolman.h to poolbeing.h, (see line 99 at src/Makefile.am for example).\nSimilarly poolman.cpp would become poolbeing.cpp and ",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-68507872,68507872,
ghost,2015-02-05T19:55:07Z,What is a Poolbeing? Politically-correct nonsense which doesn't belong in bitcoin core is what.\n\nI vote Poolbot or Poolcleaner if you're so upset by the ending '-man' in the English language.\n,https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-73114739,73114739,
ABISprotocol,2015-02-15T21:09:55Z,"Hi, my request for poolbeing was alluding for something beyond the standard anthropomorphic reference, and yes, that which ended in man.  Not that I was upset by it, because I'm not, but I think that in light of the progress of technology today (consider for example DAOs) it makes more sense to have poolbeing.  In light of your question, ""what is a poolbeing,"" I would ask to you in return, ""What i",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-74437183,74437183,
sipa,2015-02-15T21:38:28Z,"Not sure about the intention, but I always interpreted 'man' here as an\nabbreviation for 'mamager'...\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-74438495,74438495,
dexX7,2015-04-24T12:00:26Z,"The command `""invalidateblock""` is handy for testing with one node, but I was looking for mempool manipulation, and this was the closest thing I've found. So for what it's worth, since it's slightly related, I added a command to clear the whole mempool via the RPC interface:\n- https://github.com/dexX7/bitcoin/compare/e687023daf4c4720d6804d7dcc51b8df2bc55684...dexX7:oc-0.10-rpc-clearmempool\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-95909874,95909874,
pstratem,2015-06-13T02:59:32Z,"@ABISprotocol poolman is short for pool manager, manager is from the latin manus for hand, and has nothing to do with gender\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-111660867,111660867,
laanwj,2015-06-13T05:04:41Z,How to move forward here? (and I don't mean in regard to silly word games)\n,https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-111670400,111670400,
pstratem,2015-06-13T06:03:40Z,Is expiration of mempool transactions on a fixed known schedule really the best solution?\n,https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-111679052,111679052,
jgarzik,2015-06-13T16:50:58Z,"@laanwj The merge blocker with this pull request is a @sipa comment from long ago:  The janitor must not sweep transactions which are ""precious"" to the local node.  Generally this means wallet transactions.\n\nThis is not a blocker for disabled-wallet configurations; thus two paths forward are,\n1. Disable poolman for wallet nodes.\n2. Do The Right Thing, and create an interface whereby the wallet",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-111729341,111729341,
jonasschnelli,2015-06-13T18:15:36Z,"For the wallet enabled mode, i think, if there would be a signal over CValidationInterface (something like `CheckJanitor(const CTransaction& tx, bool& clean)` the wallet could allow/disallow ""precious"" transactions to be preserved/not affected by the janitor.\nI will rebase this PR and add the additional wallet/validation-interface signaling (during the next couple of days).\nIMO this PR (or lets ",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-111737843,111737843,
pstratem,2015-06-13T21:55:08Z,"@jgarzik well clearly this not a huge priority for merging (it's been sitting around for over a year now)\n\nmodeling the mempool as a superblock seems reasonable, but is maybe too expensive to actually run everytime a new transaction is included.\n\nwhat do you think about simply removing the transaction (and it's dependents) with the lowest priority?\n",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-111755141,111755141,
ABISprotocol,2015-07-15T09:53:50Z,"@pstratem removing transaction(s) and dependents with lowest priority is not a good idea because low-priority dust (and/or transactions which exceed dust threshold but which are of lower priorities) should not be rejected due to the importance of inclusion of types of transactions to support a wide range of participants' needs, income ranges, and re-envisioning of dust as microgiving capacity or o",https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-121559904,121559904,
jgarzik,2015-07-23T17:47:41Z,Closing out older pull requests.\n\nThis is not a judgement on this pull request or time-based expiration.  Time-based mempool expiration continues to be the best way to sample what miners are not confirming.\n\nThere is potential for resubmitting or reopening this in the future.\n,https://github.com/bitcoin/bitcoin/pull/3753#issuecomment-124178969,124178969,
laanwj,2014-02-28T11:38:31Z,"I'd rather have that the wallets let the mempool know that a transaction is precious (with a flag), than having the mempool manager poll the main wallet.\n\nIf you want to do it this way (poolman -> wallets) please use the RegisterWallet / UnregisterWallet machinery from main.cpp, and add a CWalletInterface method for this.\n",https://github.com/bitcoin/bitcoin/pull/3753#discussion_r10161243,10161243,src/poolman.cpp
sipa,2014-05-20T21:52:51Z,Agree.\n,https://github.com/bitcoin/bitcoin/pull/3753#discussion_r12870496,12870496,src/poolman.cpp
sipa,2014-05-20T21:53:32Z,You also need to remove everything that depends on a wallet transaction.\n,https://github.com/bitcoin/bitcoin/pull/3753#discussion_r12870530,12870530,src/poolman.cpp
ABISprotocol,2014-05-22T07:37:11Z,Thank you\n,https://github.com/bitcoin/bitcoin/pull/3753#discussion_r12938002,12938002,src/poolman.cpp
Diapolo,2014-07-02T11:32:08Z,"Can you ensure these new commands are alphabetically ordered in the help message list.\n\nMay I also suggest to add a DEFAULT_JANITORINTERVAL, DEFAULT_JANITOREXPIRE and use that here and in the `GetArg()`. It IMHO nice to use this in the help strings, because when changing a default we don't need to change the help string (and don't need to re-translate).\n\nSee e.g. -blockmaxsize=<n> in init.cpp.",https://github.com/bitcoin/bitcoin/pull/3753#discussion_r14451929,14451929,src/init.cpp
Diapolo,2015-01-08T14:04:23Z,Nit: Could you switch these two and place them above `-listen` please. Also @luke-jr A few weeks ago changed all strings in help messages to use `strprintf(_())` as that makes life for translators easier.\n,https://github.com/bitcoin/bitcoin/pull/3753#discussion_r22652590,22652590,src/init.cpp
Diapolo,2015-01-08T14:05:54Z,"This allows negative numbers, is this intended? Perhaps just use unsigned.\n",https://github.com/bitcoin/bitcoin/pull/3753#discussion_r22652676,22652676,src/init.cpp
Diapolo,2015-01-08T14:06:37Z,Missing license :).\n,https://github.com/bitcoin/bitcoin/pull/3753#discussion_r22652703,22652703,src/poolman.cpp
Diapolo,2015-01-08T14:07:51Z,Also misses license and correct header define `#ifndef BITCOIN_POOLMAN_H` (and at the file end).\n,https://github.com/bitcoin/bitcoin/pull/3753#discussion_r22652749,22652749,src/poolman.h
Diapolo,2015-01-08T14:08:27Z,Nit: Is this correct help text formating?\n,https://github.com/bitcoin/bitcoin/pull/3753#discussion_r22652778,22652778,src/rpcblockchain.cpp
ABISprotocol,2015-01-09T11:50:55Z,change to poolbeing.h \\n,https://github.com/bitcoin/bitcoin/pull/3753#discussion_r22712329,22712329,src/Makefile.am
ABISprotocol,2015-01-09T11:51:23Z,change to poolbeing.cpp \\n,https://github.com/bitcoin/bitcoin/pull/3753#discussion_r22712346,22712346,src/Makefile.am
ABISprotocol,2015-01-09T11:52:28Z,"change to ""poolbeing.h"" \n",https://github.com/bitcoin/bitcoin/pull/3753#discussion_r22712373,22712373,src/init.cpp
ABISprotocol,2015-01-09T11:53:08Z,see notes on changes from poolman to poolbeing (languaging basically) above\n,https://github.com/bitcoin/bitcoin/pull/3753#discussion_r22712395,22712395,src/init.cpp
ABISprotocol,2015-01-09T11:53:48Z,should be changed from poolman.h to poolbeing.h\n,https://github.com/bitcoin/bitcoin/pull/3753#discussion_r22712412,22712412,src/poolman.cpp
ABISprotocol,2015-01-09T11:54:27Z,poolbeing -> wallets\n,https://github.com/bitcoin/bitcoin/pull/3753#discussion_r22712434,22712434,src/poolman.cpp
ABISprotocol,2015-01-09T11:55:31Z,poolman.h to be changed to poolbeing.h\n,https://github.com/bitcoin/bitcoin/pull/3753#discussion_r22712460,22712460,src/rpcblockchain.cpp
