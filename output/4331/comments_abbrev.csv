ghost,2014-06-12T06:17:59Z,Untested ACK\n,https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-45833782,45833782,
laanwj,2014-06-19T08:35:27Z,"Such a large change to the wallet needs much more than an untested ack. If you want this merged,  help testing.\n",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-46535911,46535911,
laanwj,2014-07-01T08:04:42Z,"I'm a tad surprised that this gets no testing. Lots of complaints about this problem with the wallet, and then someone attempts to solve it and the pull is virtually ignored.\n",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-47628033,47628033,
ghost,2014-07-01T12:43:03Z,Needs to be rebased first.\n,https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-47650809,47650809,
Diapolo,2014-07-01T14:12:23Z,Code looks good apart from my nits. I'm going to test this tomorrow!\n,https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-47660672,47660672,
cozz,2014-07-01T18:46:41Z,Rebased and fixed @Diapolo comments (thanks for reviewing!):\n- IsDust(..) now calls getDustThreshold(..) to remove duplicate code\n- readded clear(); in sendcoinsentry. The clear() was removed because it also hides the fee-checkbox. Instead I added now another show() in sendcoinsdialog::setModel()\n,https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-47694730,47694730,
Earlz,2014-07-08T00:31:11Z,Has there been any further testing or updates done with this? \n,https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-48258678,48258678,
Earlz,2014-07-08T00:52:57Z,"Also, there appears to be a bug when sending money to yourself (same input as output). In this scenario, it will subtract the fees from the other recipient(the random change address). It seems a bit misleading, but it is a fairly uncommon scenario for any purpose but testing\n",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-48260029,48260029,
cozz,2014-07-08T02:41:18Z,"@Earlz Thanks for testing. I just tried this, I can not reproduce the bug you describe. A change address is inserted at a random position in the raw transaction. The fee is subtracted from the first recipient, but Before the change address is inserted. The fee should never be subtracted from the change address.\nThere should not be any difference, if you send to yourself or not.\n\nDid you look at",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-48266114,48266114,
Earlz,2014-07-08T21:26:24Z,"Yea, I'm not able to reproduce this behavior now either. Maybe I didn't use the subtractfeefromtotal option when sending it or some such. Also, unrelated, but I merged this PR into a downstream coin fork and added a command line option to subtract fees by default, as well as splitting fees evenly among all recipients in a manysend. If you are interested in these changes I can rebase them onto bitc",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-48401651,48401651,
cozz,2014-07-23T19:02:36Z,"update:\nI added now a commit by @Earlz and changed the design to what he suggested, thanks for helping.\nSo the fee is now subtracted equally from each recipient.\n\nThe checkbox moved to the bottom in the UI, I think this is cleaner than what we had before, only\nshowing the checkbox for the first recipient.\n\n![subtractfeefromamount9](https://cloud.githubusercontent.com/assets/2814559/3678534/",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-49919541,49919541,
laanwj,2014-07-24T07:35:40Z,"@cozz It looks better, but with multiple recipients now it's not clear from which of the amounts the fee will get subtracted. ~~Maybe: only allow the option in case of _one_ recipient?~~\n\nEdit: hm no, that makes it impossible to send your entire balance to multiple addresses...\n",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-49976307,49976307,
sipa,2014-07-24T09:13:33Z,"Or move the checkbox next to each amount field ""subtree fee from this amount""?\n",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-49984862,49984862,
laanwj,2014-07-24T09:49:57Z,@sipa What would happen if it's selected for multiple? Or should that be avoided somehow by providing a kind of radio button.\n,https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-49988300,49988300,
sipa,2014-07-24T09:58:11Z,"EIther prevent it, or use equal split?\n",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-49989074,49989074,
cozz,2014-07-24T13:31:36Z,"So you prefer the checkbox on the top. Then simplest may be, \nto show a checkbox for each recipient, but if you click one\ncheckbox of one recipient, all others are selected automatically. Same for uncheck.\nSo only allow all or nothing.\n\nIf we leave it at the bottom we can simply change the description:\n""Subtract the fee equally from the amount of each recipient.""\n",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-50017301,50017301,
laanwj,2014-07-24T13:41:54Z,"But if you always deduct it equally from all amounts, that means you cannot chose from which amount the fee is deducted. If that is a big loss I don't know, maybe no one cares about that.\nThe idea of adding a checkbox to every entry is to allow the user to choose which one.\n\nN.B.: in the case of equal division, if you send very large amounts as well as very small amounts, be careful that some a",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-50019005,50019005,
cozz,2014-07-24T13:47:21Z,"Ok, I will look into it, choosing individually.\n",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-50019606,50019606,
cozz,2014-07-25T00:02:17Z,"update:\n\nNow showing the checkbox for each recipient, letting the user choose individually,\nsame for sendmany.\n\nI had to make some small design-changes to CWallet::CreateTransaction\n- introduce vector&lt;CRecipient&gt; instead of vector&lt;std::pair&lt;CScript, int64_t&gt; &gt;\n- return the change position in int& nChangePosRet. This is, so that the GUI can just reassign the amounts\n  and ",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-50093863,50093863,
laanwj,2014-07-25T07:42:56Z,UI looks good to me now! I still need to take a better look at the code and test around with functionality on regtest.\n,https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-50117940,50117940,
laanwj,2014-09-08T08:16:40Z,"Works for me.\n\nThis needs RPC tests, though (or an update to the current RPC tests so that the new parameters are tested).\n",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-54788198,54788198,
BitcoinPullTester,2014-09-09T01:54:02Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4331_b8956a0de3ae9eb8127ce7f5b995512bb53d2a25/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-te",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-54913982,54913982,
cozz,2014-09-09T02:12:52Z,Added a quick RPC test.\n,https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-54915117,54915117,
cozz,2014-10-03T03:47:34Z,rebased\n,https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-57748531,57748531,
Diapolo,2014-11-21T16:23:54Z,@cozz What about this after your smart fee pull git merged?\n,https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-63994669,63994669,
gmaxwell,2014-11-21T20:40:27Z,"I'd very much like to have a feature to support this. \n\nThere is an related change which I'd also like to see:  Round UP the payment to avoid change. E.g. If I say pay 1.0 btc, and I have a 1.001 coin, and I'm just paying another account of my own, it's stupid to take 0.001 btc in change.  Interface was do you have an thoughts if this pull would obstruct doing that?  (I'd always envisioned the r",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-64034317,64034317,
cozz,2014-11-22T08:26:31Z,"@Diapolo If we wanted this for 0.10 it would have been merged earlier, I guess. But yeah, would be nice to see this merged after branch off, especially as the workflow of sending everything minus the fee, is harder to do now because we removed the rounding of fees.\n\n@gmaxwell Would a simple option ""Never create change smaller than x"" make you happy?\nwhere x is just an absolute value in bitcoins",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-64073412,64073412,
morcos,2014-11-22T15:19:57Z,The logic around this I find most troublesome was introduced in #85.  The current incarnation of it in `SelectCoinsMinConf` causes you to keep selecting more inputs until you have at least .01 BTC more than you need so that your change is never less than .01 (unless you happened to have exactly the right amount).   I haven't played around with it to know if this is more of a problem with smartfees,https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-64083423,64083423,
cozz,2014-11-22T16:38:23Z,"@morcos yes, the sub-cent fee rule has been removed recently, this means that #85 could be reverted now.\n",https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-64086079,64086079,
laanwj,2015-02-26T13:16:08Z,Rebased as #5831\n,https://github.com/bitcoin/bitcoin/pull/4331#issuecomment-76175959,76175959,
Diapolo,2014-07-01T13:42:55Z,"I'd love to see a comment here, what the 148u are and why 3*minRelayTxFee.\n",https://github.com/bitcoin/bitcoin/pull/4331#discussion_r14404033,14404033,src/core.h
Diapolo,2014-07-01T14:03:38Z,"Nit: More a question, should `Bitcoins` be uppercase in general?\n",https://github.com/bitcoin/bitcoin/pull/4331#discussion_r14405250,14405250,src/qt/forms/sendcoinsentry.ui
Diapolo,2014-07-01T14:06:33Z,"Nit: While you are at it, can you remove this new-line ;)?\n",https://github.com/bitcoin/bitcoin/pull/4331#discussion_r14405410,14405410,src/qt/sendcoinsdialog.cpp
Diapolo,2014-07-01T14:07:43Z,Why was this removed?\n,https://github.com/bitcoin/bitcoin/pull/4331#discussion_r14405467,14405467,src/qt/sendcoinsentry.cpp
cozz,2014-07-01T18:56:07Z,I guess lowercase is ok here.\n\nSee https://bitcoin.org/en/faq\nLooks like they say bitcoins when talking about coins. But Bitcoin when talking about Bitcoin.\n\nOr here also lowercase https://github.com/bitcoin/bitcoin/blob/master/src/rpcwallet.cpp#L1590\n,https://github.com/bitcoin/bitcoin/pull/4331#discussion_r14422727,14422727,src/qt/forms/sendcoinsentry.ui
Diapolo,2014-07-01T19:23:20Z,That's fine with me then :).\n,https://github.com/bitcoin/bitcoin/pull/4331#discussion_r14424238,14424238,src/qt/forms/sendcoinsentry.ui
laanwj,2014-07-25T07:34:30Z,"I think it is strange to have these as a static variable, instead of part of the class - but this is an existing problem, it's not something to be solved in this pull.\n",https://github.com/bitcoin/bitcoin/pull/4331#discussion_r15389125,15389125,src/qt/coincontroldialog.cpp
