[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889158212",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#issuecomment-889158212",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22546",
    "id": 889158212,
    "node_id": "IC_kwDOABII5840_3pE",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T13:46:32Z",
    "updated_at": "2021-07-29T13:46:32Z",
    "author_association": "MEMBER",
    "body": "> [ee722d3](https://github.com/bitcoin/bitcoin/commit/ee722d3fdb16b374197fd80ad564146e7eff524e): It's not clear what this commit is doing, or what `Align frameworks with macOS codesign tool requirements` is meant to mean.\r\n\r\nYeah, it was a hard time for me to choose a right wording. Without the first commit the signing tool returns an error:\r\n```\r\n% make deploy\r\n...\r\ndist/Bitcoin-Qt.app: replacing existing signature\r\ndist/Bitcoin-Qt.app: bundle format unrecognized, invalid, or unsuitable\r\nIn subcomponent: /Users/hebasto/bitcoin/dist/Bitcoin-Qt.app/Contents/Frameworks/QtPrintSupport.framework\r\nTraceback (most recent call last):\r\n  File \"/Users/hebasto/bitcoin/./contrib/macdeploy/macdeployqtplus\", line 552, in <module>\r\n    subprocess.check_call(f\"codesign --deep --force --sign - {target}\", shell=True)\r\n  File \"/opt/homebrew/Cellar/python@3.9/3.9.6/Frameworks/Python.framework/Versions/3.9/lib/python3.9/subprocess.py\", line 373, in check_call\r\n    raise CalledProcessError(retcode, cmd)\r\nsubprocess.CalledProcessError: Command 'codesign --deep --force --sign - dist/Bitcoin-Qt.app' returned non-zero exit status 1.\r\nmake: *** [Bitcoin-Core.dmg] Error 1\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889158212/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889231790",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#issuecomment-889231790",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22546",
    "id": 889231790,
    "node_id": "IC_kwDOABII5841AJmu",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T15:15:24Z",
    "updated_at": "2021-07-29T15:15:24Z",
    "author_association": "MEMBER",
    "body": "Updated 4d489dd34330478315b128f14e3e57e5cd284655 -> bbdd5889da71955e8004b43217b740ddaf799d4e ([pr22546.02](https://github.com/hebasto/bitcoin/commits/pr22546.02) -> [pr22546.03](https://github.com/hebasto/bitcoin/commits/pr22546.03), [diff](https://github.com/hebasto/bitcoin/compare/pr22546.02..pr22546.03)):\r\n- addressed @fanquake's [comment](https://github.com/bitcoin/bitcoin/pull/22546#pullrequestreview-717717809):\r\n\r\n> You've also imported `subprocess` and not used it.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889231790/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889596718",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#issuecomment-889596718",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22546",
    "id": 889596718,
    "node_id": "IC_kwDOABII5841Bisu",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?u=a0e0040aacd7d4f0787481e8ac30b494fa429e11&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-30T03:13:38Z",
    "updated_at": "2021-07-30T03:13:38Z",
    "author_association": "MEMBER",
    "body": "> Yeah, it was a hard time for me to choose a right wording. Without the first commit the signing tool returns an error:\r\n\r\nOk. I'll have a look. This needs a better commit message (with explanation), otherwise by itself, it's not clear what problem it's fixing or why it's the correct solution.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889596718/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/896498548",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#issuecomment-896498548",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22546",
    "id": 896498548,
    "node_id": "IC_kwDOABII5841b3t0",
    "user": {
      "login": "RandyMcMillan",
      "id": 152159,
      "node_id": "MDQ6VXNlcjE1MjE1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/152159?u=ddcb9078962d0497d29302d869925400f604e6c1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RandyMcMillan",
      "html_url": "https://github.com/RandyMcMillan",
      "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
      "following_url": "https://api.github.com/users/RandyMcMillan/following{/other_user}",
      "gists_url": "https://api.github.com/users/RandyMcMillan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RandyMcMillan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
      "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
      "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
      "events_url": "https://api.github.com/users/RandyMcMillan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-11T04:52:33Z",
    "updated_at": "2021-08-11T04:54:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Tested on macOS 11.4 (20F71)\r\n\r\n![Remote Desktop Picture August 11, 2021 at 12 53 52 AM EDT](https://user-images.githubusercontent.com/152159/128971628-ff69d244-2b8d-4f7c-bb51-c93b43807fec.png)\r\n\r\n--- \r\n\r\nNote:\r\n\r\nTechnically the package import order is not standard.\r\nThis may be a good time to bring it into compliance.\r\n\r\nhttps://github.com/RandyMcMillan/bitcoin/commit/d8deef3b9176c26ae0ee10b9596c861a67514e6c\r\n\r\n![Remote Desktop Picture August 11, 2021 at 12 43 27 AM EDT](https://user-images.githubusercontent.com/152159/128970859-838286d3-398b-48ab-86a2-7a70edb528d3.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/896498548/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/913121059",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#issuecomment-913121059",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22546",
    "id": 913121059,
    "node_id": "IC_kwDOABII5842bR8j",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-05T09:56:38Z",
    "updated_at": "2021-09-05T09:56:38Z",
    "author_association": "MEMBER",
    "body": "Updated bbdd5889da71955e8004b43217b740ddaf799d4e -> 462e63220867982495804397beb782ebc0b2e17a ([pr22546.03](https://github.com/hebasto/bitcoin/commits/pr22546.03) -> [pr22546.04](https://github.com/hebasto/bitcoin/commits/pr22546.04)):\r\n\r\n- addressed @jarolrod's [comment](https://github.com/bitcoin/bitcoin/pull/22546#discussion_r702340406)\r\n- rebased on the recent CI code",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/913121059/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919073042",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#issuecomment-919073042",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22546",
    "id": 919073042,
    "node_id": "IC_kwDOABII5842x_ES",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-14T11:45:52Z",
    "updated_at": "2021-09-14T11:45:52Z",
    "author_association": "MEMBER",
    "body": "Updated 462e63220867982495804397beb782ebc0b2e17a -> c206adc4a304c85cfaeb67eeea38dd8c0409ed95 ([pr22546.04](https://github.com/hebasto/bitcoin/commits/pr22546.04) -> [pr22546.05](https://github.com/hebasto/bitcoin/commits/pr22546.05)):\r\n\r\n- addressed @fanquake's [comment](https://github.com/bitcoin/bitcoin/pull/22546#discussion_r679617499):\r\n> Probably easier to just always sign then. Otherwise this should have an explainer.\r\n\r\n- rebased on top of the merged https://github.com/bitcoin-core/gui/pull/418",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919073042/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/925299344",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#issuecomment-925299344",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22546",
    "id": 925299344,
    "node_id": "IC_kwDOABII5843JvKQ",
    "user": {
      "login": "RandyMcMillan",
      "id": 152159,
      "node_id": "MDQ6VXNlcjE1MjE1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/152159?u=ddcb9078962d0497d29302d869925400f604e6c1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RandyMcMillan",
      "html_url": "https://github.com/RandyMcMillan",
      "followers_url": "https://api.github.com/users/RandyMcMillan/followers",
      "following_url": "https://api.github.com/users/RandyMcMillan/following{/other_user}",
      "gists_url": "https://api.github.com/users/RandyMcMillan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RandyMcMillan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RandyMcMillan/subscriptions",
      "organizations_url": "https://api.github.com/users/RandyMcMillan/orgs",
      "repos_url": "https://api.github.com/users/RandyMcMillan/repos",
      "events_url": "https://api.github.com/users/RandyMcMillan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RandyMcMillan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-22T20:19:31Z",
    "updated_at": "2021-09-22T20:19:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "tACK c206adc\r\n\r\n\r\n![Remote Desktop Picture September 22, 2021 at 4 13 22 PM EDT](https://user-images.githubusercontent.com/152159/134415767-3a7fbad9-4628-4ba1-a3bf-0dbcbf2ba76b.png)\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/925299344/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678864272",
    "pull_request_review_id": 717717809,
    "id": 678864272,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3ODg2NDI3Mg==",
    "diff_hunk": "@@ -543,6 +546,9 @@ ds.close()\n \n # ------------------------------------------------\n \n+if need_to_sign_target and platform.system() == \"Darwin\" and platform.machine() == \"arm64\":",
    "path": "contrib/macdeploy/macdeployqtplus",
    "position": null,
    "original_position": 123,
    "commit_id": "c206adc4a304c85cfaeb67eeea38dd8c0409ed95",
    "original_commit_id": "4d489dd34330478315b128f14e3e57e5cd284655",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is there a problem with just always signing in the `need_to_sign_target` case,  i.e non-depends builds, rather than making this specific to arm64?",
    "created_at": "2021-07-29T06:33:19Z",
    "updated_at": "2021-07-29T06:33:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r678864272",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678864272"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r678864272"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678864272/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 549,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679131008",
    "pull_request_review_id": 718066304,
    "id": 679131008,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTEzMTAwOA==",
    "diff_hunk": "@@ -543,6 +546,9 @@ ds.close()\n \n # ------------------------------------------------\n \n+if need_to_sign_target and platform.system() == \"Darwin\" and platform.machine() == \"arm64\":",
    "path": "contrib/macdeploy/macdeployqtplus",
    "position": null,
    "original_position": 123,
    "commit_id": "c206adc4a304c85cfaeb67eeea38dd8c0409ed95",
    "original_commit_id": "4d489dd34330478315b128f14e3e57e5cd284655",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not a problem at all, just not required.",
    "created_at": "2021-07-29T13:04:45Z",
    "updated_at": "2021-07-29T13:04:45Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r679131008",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679131008"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r679131008"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679131008/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 549,
    "side": "RIGHT",
    "in_reply_to_id": 678864272
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679617499",
    "pull_request_review_id": 718686303,
    "id": 679617499,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTYxNzQ5OQ==",
    "diff_hunk": "@@ -543,6 +546,9 @@ ds.close()\n \n # ------------------------------------------------\n \n+if need_to_sign_target and platform.system() == \"Darwin\" and platform.machine() == \"arm64\":",
    "path": "contrib/macdeploy/macdeployqtplus",
    "position": null,
    "original_position": 123,
    "commit_id": "c206adc4a304c85cfaeb67eeea38dd8c0409ed95",
    "original_commit_id": "4d489dd34330478315b128f14e3e57e5cd284655",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Probably easier to just always sign then. Otherwise this should have an explainer.",
    "created_at": "2021-07-30T03:12:38Z",
    "updated_at": "2021-07-30T03:12:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r679617499",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679617499"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r679617499"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679617499/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 549,
    "side": "RIGHT",
    "in_reply_to_id": 678864272
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679706425",
    "pull_request_review_id": 718790896,
    "id": 679706425,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTcwNjQyNQ==",
    "diff_hunk": "@@ -543,6 +546,9 @@ ds.close()\n \n # ------------------------------------------------\n \n+if need_to_sign_target and platform.system() == \"Darwin\" and platform.machine() == \"arm64\":",
    "path": "contrib/macdeploy/macdeployqtplus",
    "position": null,
    "original_position": 123,
    "commit_id": "c206adc4a304c85cfaeb67eeea38dd8c0409ed95",
    "original_commit_id": "4d489dd34330478315b128f14e3e57e5cd284655",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is the following comment good as an explanation (compiled from Apple [docs](https://developer.apple.com/documentation/macos-release-notes/macos-big-sur-11_0_1-universal-apps-release-notes)):\r\n\r\n_\"In macOS 11 on Macs with Apple silicon the operating system enforces that any executable must be signed before it\u2019s allowed to run. After using tools such as strip or install_name_tool, to call codesign is required to properly ad-hoc sign binaries.\"_\r\n\r\n?",
    "created_at": "2021-07-30T07:17:43Z",
    "updated_at": "2021-07-30T07:17:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r679706425",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679706425"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r679706425"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679706425/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 549,
    "side": "RIGHT",
    "in_reply_to_id": 678864272
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/702340406",
    "pull_request_review_id": 746601075,
    "id": 702340406,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMjM0MDQwNg==",
    "diff_hunk": "@@ -244,52 +244,52 @@ def copyFramework(framework: FrameworkInfo, path: str, verbose: int) -> Optional\n         fromPath = framework.sourceFilePath\n     toDir = os.path.join(path, framework.destinationDirectory)\n     toPath = os.path.join(toDir, framework.binaryName)\n-    \n-    if not os.path.exists(fromPath):\n-        raise RuntimeError(f\"No file at {fromPath}\")\n-    \n-    if os.path.exists(toPath):\n-        return None # Already there\n-    \n-    if not os.path.exists(toDir):\n-        os.makedirs(toDir)\n-    \n-    shutil.copy2(fromPath, toPath)\n-    if verbose:\n-        print(\"Copied:\", fromPath)\n-        print(\" to:\", toPath)\n+\n+    if framework.isDylib():\n+        if not os.path.exists(fromPath):\n+            raise RuntimeError(f\"No file at {fromPath}\")\n+\n+        if os.path.exists(toPath):\n+            return None # Already there\n+\n+        if not os.path.exists(toDir):\n+            os.makedirs(toDir)\n+\n+        shutil.copy2(fromPath, toPath)\n+        if verbose:\n+            print(\"Copied:\", fromPath)\n+            print(\" to:\", toPath)\n+    else:\n+        to_dir = os.path.join(path, \"Contents\", \"Frameworks\", framework.frameworkName)\n+        if os.path.exists(to_dir):\n+            return None # Already there\n+\n+        from_dir = framework.frameworkPath\n+        if not os.path.exists(from_dir):\n+            raise RuntimeError(f\"No diretory at {from_dir}\")",
    "path": "contrib/macdeploy/macdeployqtplus",
    "position": null,
    "original_position": 49,
    "commit_id": "c206adc4a304c85cfaeb67eeea38dd8c0409ed95",
    "original_commit_id": "bbdd5889da71955e8004b43217b740ddaf799d4e",
    "user": {
      "login": "jarolrod",
      "id": 23396902,
      "node_id": "MDQ6VXNlcjIzMzk2OTAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/23396902?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jarolrod",
      "html_url": "https://github.com/jarolrod",
      "followers_url": "https://api.github.com/users/jarolrod/followers",
      "following_url": "https://api.github.com/users/jarolrod/following{/other_user}",
      "gists_url": "https://api.github.com/users/jarolrod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jarolrod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jarolrod/subscriptions",
      "organizations_url": "https://api.github.com/users/jarolrod/orgs",
      "repos_url": "https://api.github.com/users/jarolrod/repos",
      "events_url": "https://api.github.com/users/jarolrod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jarolrod/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n            raise RuntimeError(f\"No directory at {from_dir}\")\r\n```",
    "created_at": "2021-09-04T23:34:19Z",
    "updated_at": "2021-09-05T03:28:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r702340406",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/702340406"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r702340406"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/702340406/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 269,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/702398748",
    "pull_request_review_id": 746633689,
    "id": 702398748,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMjM5ODc0OA==",
    "diff_hunk": "@@ -244,52 +244,52 @@ def copyFramework(framework: FrameworkInfo, path: str, verbose: int) -> Optional\n         fromPath = framework.sourceFilePath\n     toDir = os.path.join(path, framework.destinationDirectory)\n     toPath = os.path.join(toDir, framework.binaryName)\n-    \n-    if not os.path.exists(fromPath):\n-        raise RuntimeError(f\"No file at {fromPath}\")\n-    \n-    if os.path.exists(toPath):\n-        return None # Already there\n-    \n-    if not os.path.exists(toDir):\n-        os.makedirs(toDir)\n-    \n-    shutil.copy2(fromPath, toPath)\n-    if verbose:\n-        print(\"Copied:\", fromPath)\n-        print(\" to:\", toPath)\n+\n+    if framework.isDylib():\n+        if not os.path.exists(fromPath):\n+            raise RuntimeError(f\"No file at {fromPath}\")\n+\n+        if os.path.exists(toPath):\n+            return None # Already there\n+\n+        if not os.path.exists(toDir):\n+            os.makedirs(toDir)\n+\n+        shutil.copy2(fromPath, toPath)\n+        if verbose:\n+            print(\"Copied:\", fromPath)\n+            print(\" to:\", toPath)\n+    else:\n+        to_dir = os.path.join(path, \"Contents\", \"Frameworks\", framework.frameworkName)\n+        if os.path.exists(to_dir):\n+            return None # Already there\n+\n+        from_dir = framework.frameworkPath\n+        if not os.path.exists(from_dir):\n+            raise RuntimeError(f\"No diretory at {from_dir}\")",
    "path": "contrib/macdeploy/macdeployqtplus",
    "position": null,
    "original_position": 49,
    "commit_id": "c206adc4a304c85cfaeb67eeea38dd8c0409ed95",
    "original_commit_id": "bbdd5889da71955e8004b43217b740ddaf799d4e",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/22546#issuecomment-913121059).",
    "created_at": "2021-09-05T09:56:59Z",
    "updated_at": "2021-09-05T09:56:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r702398748",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/702398748"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r702398748"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/702398748/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 269,
    "side": "RIGHT",
    "in_reply_to_id": 702340406
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/702990426",
    "pull_request_review_id": 747336269,
    "id": 702990426,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMjk5MDQyNg==",
    "diff_hunk": "@@ -543,6 +546,9 @@ ds.close()\n \n # ------------------------------------------------\n \n+if need_to_sign_target and platform.system() == \"Darwin\" and platform.machine() == \"arm64\":",
    "path": "contrib/macdeploy/macdeployqtplus",
    "position": null,
    "original_position": 123,
    "commit_id": "c206adc4a304c85cfaeb67eeea38dd8c0409ed95",
    "original_commit_id": "4d489dd34330478315b128f14e3e57e5cd284655",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I agree that adding a comment here makes sense. It's not obvious why this would be ARM-only.",
    "created_at": "2021-09-06T15:57:42Z",
    "updated_at": "2021-09-06T15:57:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r702990426",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/702990426"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r702990426"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/702990426/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 549,
    "side": "RIGHT",
    "in_reply_to_id": 678864272
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/702994807",
    "pull_request_review_id": 747341744,
    "id": 702994807,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMjk5NDgwNw==",
    "diff_hunk": "@@ -244,52 +244,52 @@ def copyFramework(framework: FrameworkInfo, path: str, verbose: int) -> Optional\n         fromPath = framework.sourceFilePath\n     toDir = os.path.join(path, framework.destinationDirectory)\n     toPath = os.path.join(toDir, framework.binaryName)\n-    \n-    if not os.path.exists(fromPath):\n-        raise RuntimeError(f\"No file at {fromPath}\")\n-    \n-    if os.path.exists(toPath):\n-        return None # Already there\n-    \n-    if not os.path.exists(toDir):\n-        os.makedirs(toDir)\n-    \n-    shutil.copy2(fromPath, toPath)\n-    if verbose:\n-        print(\"Copied:\", fromPath)\n-        print(\" to:\", toPath)\n+\n+    if framework.isDylib():\n+        if not os.path.exists(fromPath):\n+            raise RuntimeError(f\"No file at {fromPath}\")\n+\n+        if os.path.exists(toPath):\n+            return None # Already there\n+\n+        if not os.path.exists(toDir):\n+            os.makedirs(toDir)\n+\n+        shutil.copy2(fromPath, toPath)\n+        if verbose:\n+            print(\"Copied:\", fromPath)\n+            print(\" to:\", toPath)\n+    else:\n+        to_dir = os.path.join(path, \"Contents\", \"Frameworks\", framework.frameworkName)\n+        if os.path.exists(to_dir):\n+            return None # Already there\n+\n+        from_dir = framework.frameworkPath\n+        if not os.path.exists(from_dir):\n+            raise RuntimeError(f\"No directory at {from_dir}\")\n+\n+        shutil.copytree(from_dir, to_dir, symlinks=True)\n+        if verbose:\n+            print(\"Copied:\", from_dir)\n+            print(\" to:\", to_dir)\n+\n+        headers_link = os.path.join(to_dir, \"Headers\")\n+        if os.path.exists(headers_link):\n+            os.unlink(headers_link)\n+\n+        headers_dir = os.path.join(to_dir, framework.binaryDirectory, \"Headers\")\n+        if os.path.exists(headers_dir):\n+            shutil.rmtree(headers_dir)\n \n     permissions = os.stat(toPath)\n     if not permissions.st_mode & stat.S_IWRITE:\n       os.chmod(toPath, permissions.st_mode | stat.S_IWRITE)\n \n-    if not framework.isDylib(): # Copy resources for real frameworks\n-\n-        linkfrom = os.path.join(path, \"Contents\",\"Frameworks\", framework.frameworkName, \"Versions\", \"Current\")\n-        linkto = framework.version\n-        if not os.path.exists(linkfrom):\n-            os.symlink(linkto, linkfrom)\n-            print(\"Linked:\", linkfrom, \"->\", linkto)\n-        fromResourcesDir = framework.sourceResourcesDirectory\n-        if os.path.exists(fromResourcesDir):\n-            toResourcesDir = os.path.join(path, framework.destinationResourcesDirectory)\n-            shutil.copytree(fromResourcesDir, toResourcesDir, symlinks=True)\n-            if verbose:\n-                print(\"Copied resources:\", fromResourcesDir)\n-                print(\" to:\", toResourcesDir)\n-        fromContentsDir = framework.sourceVersionContentsDirectory\n-        if not os.path.exists(fromContentsDir):\n-            fromContentsDir = framework.sourceContentsDirectory\n-        if os.path.exists(fromContentsDir):\n-            toContentsDir = os.path.join(path, framework.destinationVersionContentsDirectory)\n-            shutil.copytree(fromContentsDir, toContentsDir, symlinks=True)\n-            if verbose:\n-                print(\"Copied Contents:\", fromContentsDir)\n-                print(\" to:\", toContentsDir)\n-    \n     return toPath\n \n def deployFrameworks(frameworks: List[FrameworkInfo], bundlePath: str, binaryPath: str, strip: bool, verbose: int, deploymentInfo: Optional[DeploymentInfo] = None) -> DeploymentInfo:\n+    global need_to_sign_target",
    "path": "contrib/macdeploy/macdeployqtplus",
    "position": null,
    "original_position": 95,
    "commit_id": "c206adc4a304c85cfaeb67eeea38dd8c0409ed95",
    "original_commit_id": "462e63220867982495804397beb782ebc0b2e17a",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It's kind of ugly to use a global here, can't we return the flag in DeploymentInfo.",
    "created_at": "2021-09-06T16:07:57Z",
    "updated_at": "2021-09-06T16:07:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r702994807",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/702994807"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r702994807"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/702994807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 291,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/703029203",
    "pull_request_review_id": 747379771,
    "id": 703029203,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMzAyOTIwMw==",
    "diff_hunk": "@@ -543,6 +546,9 @@ ds.close()\n \n # ------------------------------------------------\n \n+if need_to_sign_target and platform.system() == \"Darwin\" and platform.machine() == \"arm64\":",
    "path": "contrib/macdeploy/macdeployqtplus",
    "position": null,
    "original_position": 123,
    "commit_id": "c206adc4a304c85cfaeb67eeea38dd8c0409ed95",
    "original_commit_id": "4d489dd34330478315b128f14e3e57e5cd284655",
    "user": {
      "login": "jarolrod",
      "id": 23396902,
      "node_id": "MDQ6VXNlcjIzMzk2OTAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/23396902?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jarolrod",
      "html_url": "https://github.com/jarolrod",
      "followers_url": "https://api.github.com/users/jarolrod/followers",
      "following_url": "https://api.github.com/users/jarolrod/following{/other_user}",
      "gists_url": "https://api.github.com/users/jarolrod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jarolrod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jarolrod/subscriptions",
      "organizations_url": "https://api.github.com/users/jarolrod/orgs",
      "repos_url": "https://api.github.com/users/jarolrod/repos",
      "events_url": "https://api.github.com/users/jarolrod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jarolrod/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I am of the opinion that it is just easier to always sign. Right now the requirement is only for apple silicon, but I have not seen anything to say that this wouldn't expand to remaining intel Macs in future OS versions.\r\n\r\nIf we stick with only signing for arm, then the following is a suitable comment:\r\n\r\n> \"Starting with macOS 11 on Apple silicon, executables must be signed before they are allowed to run.\"\r\n\r\n",
    "created_at": "2021-09-06T17:57:29Z",
    "updated_at": "2021-09-06T17:57:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r703029203",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/703029203"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r703029203"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/703029203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 549,
    "side": "RIGHT",
    "in_reply_to_id": 678864272
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708185702",
    "pull_request_review_id": 753831887,
    "id": 708185702,
    "node_id": "PRRC_kwDOABII584qNg5m",
    "diff_hunk": "@@ -244,52 +244,52 @@ def copyFramework(framework: FrameworkInfo, path: str, verbose: int) -> Optional\n         fromPath = framework.sourceFilePath\n     toDir = os.path.join(path, framework.destinationDirectory)\n     toPath = os.path.join(toDir, framework.binaryName)\n-    \n-    if not os.path.exists(fromPath):\n-        raise RuntimeError(f\"No file at {fromPath}\")\n-    \n-    if os.path.exists(toPath):\n-        return None # Already there\n-    \n-    if not os.path.exists(toDir):\n-        os.makedirs(toDir)\n-    \n-    shutil.copy2(fromPath, toPath)\n-    if verbose:\n-        print(\"Copied:\", fromPath)\n-        print(\" to:\", toPath)\n+\n+    if framework.isDylib():\n+        if not os.path.exists(fromPath):\n+            raise RuntimeError(f\"No file at {fromPath}\")\n+\n+        if os.path.exists(toPath):\n+            return None # Already there\n+\n+        if not os.path.exists(toDir):\n+            os.makedirs(toDir)\n+\n+        shutil.copy2(fromPath, toPath)\n+        if verbose:\n+            print(\"Copied:\", fromPath)\n+            print(\" to:\", toPath)\n+    else:\n+        to_dir = os.path.join(path, \"Contents\", \"Frameworks\", framework.frameworkName)\n+        if os.path.exists(to_dir):\n+            return None # Already there\n+\n+        from_dir = framework.frameworkPath\n+        if not os.path.exists(from_dir):\n+            raise RuntimeError(f\"No directory at {from_dir}\")\n+\n+        shutil.copytree(from_dir, to_dir, symlinks=True)\n+        if verbose:\n+            print(\"Copied:\", from_dir)\n+            print(\" to:\", to_dir)\n+\n+        headers_link = os.path.join(to_dir, \"Headers\")\n+        if os.path.exists(headers_link):\n+            os.unlink(headers_link)\n+\n+        headers_dir = os.path.join(to_dir, framework.binaryDirectory, \"Headers\")\n+        if os.path.exists(headers_dir):\n+            shutil.rmtree(headers_dir)\n \n     permissions = os.stat(toPath)\n     if not permissions.st_mode & stat.S_IWRITE:\n       os.chmod(toPath, permissions.st_mode | stat.S_IWRITE)\n \n-    if not framework.isDylib(): # Copy resources for real frameworks\n-\n-        linkfrom = os.path.join(path, \"Contents\",\"Frameworks\", framework.frameworkName, \"Versions\", \"Current\")\n-        linkto = framework.version\n-        if not os.path.exists(linkfrom):\n-            os.symlink(linkto, linkfrom)\n-            print(\"Linked:\", linkfrom, \"->\", linkto)\n-        fromResourcesDir = framework.sourceResourcesDirectory\n-        if os.path.exists(fromResourcesDir):\n-            toResourcesDir = os.path.join(path, framework.destinationResourcesDirectory)\n-            shutil.copytree(fromResourcesDir, toResourcesDir, symlinks=True)\n-            if verbose:\n-                print(\"Copied resources:\", fromResourcesDir)\n-                print(\" to:\", toResourcesDir)\n-        fromContentsDir = framework.sourceVersionContentsDirectory\n-        if not os.path.exists(fromContentsDir):\n-            fromContentsDir = framework.sourceContentsDirectory\n-        if os.path.exists(fromContentsDir):\n-            toContentsDir = os.path.join(path, framework.destinationVersionContentsDirectory)\n-            shutil.copytree(fromContentsDir, toContentsDir, symlinks=True)\n-            if verbose:\n-                print(\"Copied Contents:\", fromContentsDir)\n-                print(\" to:\", toContentsDir)\n-    \n     return toPath\n \n def deployFrameworks(frameworks: List[FrameworkInfo], bundlePath: str, binaryPath: str, strip: bool, verbose: int, deploymentInfo: Optional[DeploymentInfo] = None) -> DeploymentInfo:\n+    global need_to_sign_target",
    "path": "contrib/macdeploy/macdeployqtplus",
    "position": null,
    "original_position": 95,
    "commit_id": "c206adc4a304c85cfaeb67eeea38dd8c0409ed95",
    "original_commit_id": "462e63220867982495804397beb782ebc0b2e17a",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "[Updated](https://github.com/bitcoin/bitcoin/pull/22546#issuecomment-919073042).",
    "created_at": "2021-09-14T11:46:32Z",
    "updated_at": "2021-09-14T11:46:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r708185702",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708185702"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r708185702"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708185702/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 291,
    "side": "RIGHT",
    "in_reply_to_id": 702994807
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708185999",
    "pull_request_review_id": 753832270,
    "id": 708185999,
    "node_id": "PRRC_kwDOABII584qNg-P",
    "diff_hunk": "@@ -543,6 +546,9 @@ ds.close()\n \n # ------------------------------------------------\n \n+if need_to_sign_target and platform.system() == \"Darwin\" and platform.machine() == \"arm64\":",
    "path": "contrib/macdeploy/macdeployqtplus",
    "position": null,
    "original_position": 123,
    "commit_id": "c206adc4a304c85cfaeb67eeea38dd8c0409ed95",
    "original_commit_id": "4d489dd34330478315b128f14e3e57e5cd284655",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> Probably easier to just always sign then. Otherwise this should have an explainer.\r\n\r\n[Updated](https://github.com/bitcoin/bitcoin/pull/22546#issuecomment-919073042).",
    "created_at": "2021-09-14T11:46:58Z",
    "updated_at": "2021-09-14T11:46:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r708185999",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708185999"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r708185999"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708185999/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 549,
    "side": "RIGHT",
    "in_reply_to_id": 678864272
  }
]