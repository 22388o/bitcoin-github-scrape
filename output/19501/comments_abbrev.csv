glozow,2020-07-12 20:38:26,Concept ACK!,https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-657272184,657272184,
DrahtBot,2020-07-12 23:18:55,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20012 (rpc: Remove duplicate name and argNames from CRPCCommand by MarcoFalke)\n* #18418 (wallet: Increase OUTPUT_GROUP_M",https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-657290299,657290299,
stackman27,2020-07-15 04:03:01,"Added a new commit: added new arguments to `src/rpc/client.cpp` , changed the case to snake_case,  generalized the verbose description and added entry object inside verbose if.  ",https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-658532440,658532440,
fjahr,2020-07-17 23:10:48,"Concept ACK\n\nPlease squash the fixup commits.",https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-660375190,660375190,
stackman27,2020-07-18 04:07:10,"Update: Fixed verbose information and also the log info in wallet_basic.py, also squashed all the nit commits. ",https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-660420806,660420806,
fjahr,2020-07-18 09:57:46,"> Update: Fixed verbose information and also the log info in wallet_basic.py, also squashed all the nit commits.\n\nThank you! But I meant to squash the fix-ups into the original commits. Otherwise, it's harder to review because reviewers can not just go through the commits in order but need to jump back and forth to check if what they see in the first commit is not already changed in a later co",https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-660459112,660459112,
stackman27,2020-07-18 20:02:34,Squashed nit commits to [test] send rpcs returns fee reason!,https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-660534788,660534788,
laanwj,2020-07-22 20:21:46,"Small comment on the commit messages\n```\n* dbafâ€¦ [test] send rpcs returns fee reason (Sishir Giri) (pull/19501/head)\n* 7298â€¦ [send] send rpcs returns fee reason (Sishir Giri)\n```\nI think, instead of using the same message with a different prefix, it would be clearer to make it:\n\n- [test] Check that send RPCs return fee reason\n- [rpc] Make send RPCs return fee reason\n\nAlso we do",https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-662676119,662676119,
stackman27,2020-07-27 00:00:25,Resolved all the comments! Fixed travis and squash the nit commits!,https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-664057929,664057929,
luke-jr,2020-07-29 23:33:43,Thoughts on turning `sendmany` param 1/dummy into an options object? (And not including this functionality in `sendtoaddress`),https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-665983239,665983239,
laanwj,2020-08-06 18:21:46,"Travis:\n```\n* Checking consistency between dispatch tables and vRPCConvertParams\n\nThe subject line of commit hash c8992e89594a54edf283e4916f794475070b5114 is followed by a non-empty line. Subject lines should always be followed by a blank line.\n```\n(you need an empty line between the commit title and the body)",https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-670096901,670096901,
fjahr,2020-08-07 23:20:47,"> Travis:\n> \n> ```\n> * Checking consistency between dispatch tables and vRPCConvertParams\n> \n> The subject line of commit hash c8992e89594a54edf283e4916f794475070b5114 is followed by a non-empty line. Subject lines should always be followed by a blank line.\n> ```\n> \n> (you need an empty line between the commit title and the body)\n\nIt's not his fault, the new linter was buggy. T",https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-670781156,670781156,
stackman27,2020-09-09 01:02:46,Rebased and Changed `str feereason` to `FeeCalculation*`,https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-689234487,689234487,
stackman27,2020-09-17 06:12:04,Rebased and fixed all the changes,https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-693948676,693948676,
MarcoFalke,2020-09-27 09:26:26,ACK a3fe42c140008b7dbbef55b3d75c56d2c6343c43,https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-699610373,699610373,
stackman27,2020-09-28 20:24:49,@luke-jr @instagibbs @laanwj @fjahr  could you please verify whether I've resolved all the problems that you've highlighted? Thank you,https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-700261981,700261981,
instagibbs,2020-09-29 15:25:05,ACK https://github.com/bitcoin/bitcoin/pull/19501/commits/69cf5d4eeb73f7d685e915fc17af64634d88a4a2,https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-700781870,700781870,
meshcollider,2020-09-29 20:15:39,"@stackman27 if there are a couple of ACKs then it's better not to fix small nits and leave them in case there's a bigger change that needs to be done. Small spacing nits, etc. won't stop a merge :smile: ",https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-700961536,700961536,
stackman27,2020-09-29 20:17:47,"> @stackman27 if there are a couple of ACKs then it's better not to fix small nits and leave them in case there's a bigger change that needs to be done. Small spacing nits, etc. won't stop a merge ðŸ˜„\n\nOkay for sure! Thank you ",https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-700962726,700962726,
MarcoFalke,2020-09-30 05:59:33,"Mind force pushing the previous reviewed version?\n\n```\ngit push your_remote 69cf5d4:send_rpc_feereason -f\n```\n\n?",https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-701174290,701174290,
stackman27,2020-09-30 06:04:45,"> Mind force pushing the previous reviewed version?\n> \n> ```\n> git push your_remote 69cf5d4:send_rpc_feereason -f\n> ```\n> \n> ?\n\nYes just pushed!",https://github.com/bitcoin/bitcoin/pull/19501#issuecomment-701176187,701176187,
achow101,2020-07-12 23:09:20,nit: Our naming convention is to use `snake_case` rather than `camelCase`.,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r453374549,453374549,src/wallet/feebumper.cpp
achow101,2020-07-12 23:12:27,I don't think we put spaces as the key in a json object as spaces tend to break things. Typically we do lowercase snake_case.,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r453374886,453374886,src/wallet/rpcwallet.cpp
achow101,2020-07-12 23:12:32,It  would be preferable to have this text be generic instead of specific for the fee reason. Same for the other RPCs you've changed.,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r453374899,453374899,src/wallet/rpcwallet.cpp
MarcoFalke,2020-07-13 05:10:28,nit: I think this can be put in the (smaller) `if (verbose)` scope,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r453437782,453437782,src/wallet/rpcwallet.cpp
glozow,2020-07-16 02:18:16,"nit: log message can be more informative, like ""Test send* RPCs with verbose=True""",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r455469767,455469767,test/functional/wallet_basic.py
glozow,2020-07-16 02:18:53,Also then comments are not _that_ necessary since it's pretty self-explanatory what you're doing,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r455469904,455469904,test/functional/wallet_basic.py
glozow,2020-07-16 02:26:51,"This is just a tad bit confusing, I'd recommend something like ""If true, return the fee reason""",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r455472002,455472002,src/wallet/rpcwallet.cpp
glozow,2020-07-16 02:30:05,"Style-wise, if you keep comments, it's best for them to be complete sentences",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r455472847,455472847,test/functional/wallet_basic.py
glozow,2020-07-16 02:32:54,"Er, something more generic would be ""If true, return extra information about the transaction.""",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r455473614,455473614,src/wallet/rpcwallet.cpp
fjahr,2020-07-18 10:01:02,Linter fails here on the trailing whitespace.,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r456773484,456773484,test/functional/wallet_basic.py
fjahr,2020-07-18 10:01:20,Also here trailing whitespace.,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r456773517,456773517,test/functional/wallet_basic.py
laanwj,2020-07-22 20:19:05,please follow the style: `if (verbose) {`,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r459058380,459058380,src/wallet/rpcwallet.cpp
achow101,2020-07-22 20:31:41,"`hex` usually implies the full raw transaction. This is just a txid, so this should instead be named `txid`.",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r459065071,459065071,src/wallet/rpcwallet.cpp
achow101,2020-07-22 20:32:52,The `RPCResult` will need to be updated to include the `verbose` result too.,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r459065696,459065696,src/wallet/rpcwallet.cpp
achow101,2020-07-22 20:34:21,The result should already be a `str` so there's no need for `str(...)` here.,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r459066407,459066407,test/functional/wallet_basic.py
achow101,2020-07-27 00:07:47,seems like these changes should be in the previous commit,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r460591165,460591165,src/wallet/rpcwallet.cpp
achow101,2020-07-27 00:09:55,"This isn't quite what I was looking for.\n\nThere are 2 possible results, so we need to have different RPC results for them. `getrawtransaction` has a similar `verbose` result. I would suggest looking at that to see how this should be done.",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r460591453,460591453,src/wallet/rpcwallet.cpp
luke-jr,2020-07-29 23:38:40,Seems like it would work better to use `FeeReason*` here (or perhaps `FeeCalculation*`),https://github.com/bitcoin/bitcoin/pull/19501#discussion_r462650007,462650007,src/wallet/wallet.cpp
stackman27,2020-07-31 05:42:27,Are you recommending changing the pointer name from fee_reason to FeeReason? ,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r463415539,463415539,src/wallet/wallet.cpp
fjahr,2020-07-31 13:16:56,He is referring to the enum `FeeReason` or the struct `FeeCalculation` to be used here instead of a string.,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r463604446,463604446,src/wallet/wallet.cpp
instagibbs,2020-08-05 15:18:29,"uhhh, this looks like an accidental file addition? :)",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r465805163,465805163,~
instagibbs,2020-08-05 15:20:14,"`s/Optional, //` no need to say optional.",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r465806355,465806355,src/wallet/rpcwallet.cpp
instagibbs,2020-08-05 15:21:23,"yay for object instead of string result, can add more things going forward.",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r465807191,465807191,src/wallet/rpcwallet.cpp
instagibbs,2020-08-05 15:21:41,"`s/Optional, //` no need to say optional.",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r465807435,465807435,src/wallet/rpcwallet.cpp
stackman27,2020-08-13 01:00:53,"How would i go about that because i'd have to change everything that calls `createTransaction` and also the UniValue entry string type? I'm just a bit confused because when I change its type to `FeeReason*` , I get bombarded with errors ",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r469634016,469634016,src/wallet/wallet.cpp
fjahr,2020-08-13 20:38:49,"Yes, it's not just a change in this line. The other places where you pass in a string now you will need to use the `FeeReason*` type as well (as you have already noticed). You also won't convert the reason to a string in this function but where you actually need it as a string. But most importantly: take your time to and try to understand these errors. Once you understand them they can guide you t",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r470233919,470233919,src/wallet/wallet.cpp
stackman27,2020-09-09 06:10:28,I changed the `str fee reason` to struct `FeeCalculation`,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r485360460,485360460,src/wallet/wallet.cpp
stackman27,2020-09-18 20:20:52,Fixed it,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r491171775,491171775,~
MarcoFalke,2020-09-23 18:21:38,This will need to be two RPCResults (one for verbose=False and one for verbose=True). Refer to other places in the code base on how to do that.,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r493797534,493797534,src/wallet/rpcwallet.cpp
MarcoFalke,2020-09-23 18:25:34,"```suggestion\n    bool CreateTransaction(const std::vector<CRecipient>& vecSend, CTransactionRef& tx, CAmount& nFeeRet, int& nChangePosInOut, bilingual_str& error, const CCoinControl& coin_control, FeeCalculation& fee_calc_out, bool sign = true);\n```\n\nCould rename to `fee_calc_out` to clarify that this is an out param?",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r493799871,493799871,src/wallet/wallet.h
stackman27,2020-09-25 19:30:01,Changed the variable name from `feecalc_feereason` to `fee_calc_out',https://github.com/bitcoin/bitcoin/pull/19501#discussion_r495190304,495190304,src/wallet/wallet.h
stackman27,2020-09-25 19:30:37,Also added two RPCResult in `sendtoaddress` and `sendmany`,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r495190564,495190564,src/wallet/wallet.h
MarcoFalke,2020-09-26 10:23:41,"```suggestion\n                            {RPCResult::Type::STR, ""fee reason"", ""The transaction fee reason.""}\n```",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r495442402,495442402,src/wallet/rpcwallet.cpp
stackman27,2020-09-27 01:03:36,code adjusted based on the feedback. Removed `str` from [test] and changed rpc result return to `str`,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r495512104,495512104,src/wallet/rpcwallet.cpp
instagibbs,2020-09-28 20:46:38,"maybe add a case where you explicitly pass in `verbose = False` to cover that case too :+1: \n",https://github.com/bitcoin/bitcoin/pull/19501#discussion_r496222351,496222351,test/functional/wallet_basic.py
stackman27,2020-09-28 22:00:24,Added `verbose = False` case in test file,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r496260516,496260516,test/functional/wallet_basic.py
meshcollider,2020-09-29 11:43:16,micro-nit: spacing between `false:`,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r496650050,496650050,src/wallet/rpcwallet.cpp
meshcollider,2020-09-29 11:45:08,micro-nit: double space between `Only  1`,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r496651061,496651061,src/wallet/rpcwallet.cpp
stackman27,2020-09-29 19:27:59,for some reason git is ignoring my whitespace changes. Any suggestions on how to fix that?,https://github.com/bitcoin/bitcoin/pull/19501#discussion_r496989726,496989726,src/wallet/rpcwallet.cpp
