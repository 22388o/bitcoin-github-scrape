[
  {
    "sha": "fad0c58c3ecdf2a2a602ff39c9fd9dda7f8747d9",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWQwYzU4YzNlY2RmMmEyYTYwMmZmMzljOWZkOWRkYTdmODc0N2Q5",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-06-07T11:28:01Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-06-07T11:41:13Z"
      },
      "message": "fuzz: Remove confusing return keyword from CallOneOf\n\nThe return type is already enforced to be void by the\nternary operator:\n\n./test/fuzz/util.h:47:25: error: right operand to ? is void, but left operand is of type *OTHER_TYPE*\n    ((i++ == call_index ? callables() : void()), ...);\n                        ^ ~~~~~~~~~~~   ~~~~~~",
      "tree": {
        "sha": "46053ffe8ca4052dc2cdfde8d75a997a7e70d0ec",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/46053ffe8ca4052dc2cdfde8d75a997a7e70d0ec"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fad0c58c3ecdf2a2a602ff39c9fd9dda7f8747d9",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUjS6Av9Fe0TsctttTnUw2+RM4r+9bFlqqB6QIKM/4iODJOV+L3C62ns8uyhREtL\nSw8rLOuYRg7Yd1T6/b8TGm3/XyjXkPy0PU7+pWCAOamOWK4stEMimvsPG8qroyZA\n7C6PQfCmSG/4/YdeUdCNq9wLF3fVgS9Q4/n1iwZK8Z/Wz6QGP8KqQt1E0ky4Fvj8\no8L2jaWQDZsRsOGzQl56zOr7sHYZD6WuERi7cOmyJceukUEx7o4Mx7QBMxvKR5V0\n/zOgUvx6bt7d7/5zEQAhEe6L9nNqAS/jGqEGKvcNUJ5OmoS51tuUoKhJg9n87uKG\nfPgVfvfTAlbpHOnDcxDKiDHQb4DcVe73WRqJJsj/wZQfNt9B99s4eBp41JCu/MZ5\nH+c2QNN6oo1yLaBgQKEhZoPikVoJ6C/9/FFVyVs4OPH1DqFji78A5UzxePE2TjFy\ns9w+mMZTFVtnoLzImsW9kgUyZmAy524JEaDRC1AhueuIUZo1xNU8UZkNsSrKQhDJ\nzLOPECdh\n=+cbe\n-----END PGP SIGNATURE-----",
        "payload": "tree 46053ffe8ca4052dc2cdfde8d75a997a7e70d0ec\nparent 912cb594901b1a5dd99aa4c00be34ae36512bc57\nauthor MarcoFalke <falke.marco@gmail.com> 1623065281 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1623066073 +0200\n\nfuzz: Remove confusing return keyword from CallOneOf\n\nThe return type is already enforced to be void by the\nternary operator:\n\n./test/fuzz/util.h:47:25: error: right operand to ? is void, but left operand is of type *OTHER_TYPE*\n    ((i++ == call_index ? callables() : void()), ...);\n                        ^ ~~~~~~~~~~~   ~~~~~~\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fad0c58c3ecdf2a2a602ff39c9fd9dda7f8747d9",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fad0c58c3ecdf2a2a602ff39c9fd9dda7f8747d9",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fad0c58c3ecdf2a2a602ff39c9fd9dda7f8747d9/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "912cb594901b1a5dd99aa4c00be34ae36512bc57",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/912cb594901b1a5dd99aa4c00be34ae36512bc57",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/912cb594901b1a5dd99aa4c00be34ae36512bc57"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "023dcdb3e53186c2a946a105338b956c70471d34",
        "filename": "src/test/fuzz/util.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fad0c58c3ecdf2a2a602ff39c9fd9dda7f8747d9/src/test/fuzz/util.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fad0c58c3ecdf2a2a602ff39c9fd9dda7f8747d9/src/test/fuzz/util.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/util.h?ref=fad0c58c3ecdf2a2a602ff39c9fd9dda7f8747d9",
        "patch": "@@ -44,7 +44,7 @@ void CallOneOf(FuzzedDataProvider& fuzzed_data_provider, Callables... callables)\n     const size_t call_index{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(0, call_size - 1)};\n \n     size_t i{0};\n-    return ((i++ == call_index ? callables() : void()), ...);\n+    ((i++ == call_index ? callables() : void()), ...);\n }\n \n template <typename Collection>"
      }
    ]
  },
  {
    "sha": "fa13f34bf35129b38af699a0faf32c39d2ba8576",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTEzZjM0YmYzNTEyOWIzOGFmNjk5YTBmYWYzMmMzOWQyYmE4NTc2",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-06-07T11:40:12Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-06-07T11:41:14Z"
      },
      "message": "fuzz: Increase branch coverage of the float fuzz target",
      "tree": {
        "sha": "9ec57b3093e022e894d13a56181987d24c383e7f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9ec57b3093e022e894d13a56181987d24c383e7f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa13f34bf35129b38af699a0faf32c39d2ba8576",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUiBQgv9EchOctlXJ8gSRXXoQOUU5f2BpzN5kLmXN6UjqEobGLeGRn5Ize/YLv8u\nspdQbnhzbBU1yqeUULi8Yxk5ocJBOJ2DzSnY2e6x3UynLCU0wq2W/L1xeS+Ly474\n/2AER+efc5s9l/CaV6b8WmLVzbs/l5Qvex4lGuPikXROfnTlEku1uf1ZG3K4+BYp\nCAfxiW7LKwk5QuxiGnmJaZ+vu44VL4uHrq7BP2frRUQ7ydasIRZNRMkZ24ZS89YG\nmGRtbU0Y58wSi6kyk1YnKllaYudw4knwhCL9Fzq4PWOhZTrxeeZhSCX21KM80Swb\nmj2iyNOgU39cxVF6/vGDAStxZGAsILU8BNDaKvghWbJdBmyZcmZHx/T9t+1LkzW7\n+I1ReODp5nHED7dlZt/B+INzpr9e8jWjupP59gjhAqNDerkTkW3cTCOUQe8c/hHu\nFReJoLryY8XqIzwXLZjVl0FevN+QN+d5N3mQZ+gI+/9qc+7hyCuqsMVUqdqpqiC6\n54WQEzVd\n=4pMR\n-----END PGP SIGNATURE-----",
        "payload": "tree 9ec57b3093e022e894d13a56181987d24c383e7f\nparent fad0c58c3ecdf2a2a602ff39c9fd9dda7f8747d9\nauthor MarcoFalke <falke.marco@gmail.com> 1623066012 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1623066074 +0200\n\nfuzz: Increase branch coverage of the float fuzz target\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa13f34bf35129b38af699a0faf32c39d2ba8576",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa13f34bf35129b38af699a0faf32c39d2ba8576",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa13f34bf35129b38af699a0faf32c39d2ba8576/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fad0c58c3ecdf2a2a602ff39c9fd9dda7f8747d9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fad0c58c3ecdf2a2a602ff39c9fd9dda7f8747d9",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fad0c58c3ecdf2a2a602ff39c9fd9dda7f8747d9"
      }
    ],
    "stats": {
      "total": 29,
      "additions": 28,
      "deletions": 1
    },
    "files": [
      {
        "sha": "2f77c8949e2262c9875618ea86bae5dd889fa169",
        "filename": "src/test/fuzz/float.cpp",
        "status": "modified",
        "additions": 28,
        "deletions": 1,
        "changes": 29,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa13f34bf35129b38af699a0faf32c39d2ba8576/src/test/fuzz/float.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa13f34bf35129b38af699a0faf32c39d2ba8576/src/test/fuzz/float.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/float.cpp?ref=fa13f34bf35129b38af699a0faf32c39d2ba8576",
        "patch": "@@ -5,6 +5,7 @@\n #include <memusage.h>\n #include <test/fuzz/FuzzedDataProvider.h>\n #include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n #include <util/serfloat.h>\n #include <version.h>\n \n@@ -17,7 +18,33 @@ FUZZ_TARGET(float)\n     FuzzedDataProvider fuzzed_data_provider(buffer.data(), buffer.size());\n \n     {\n-        const double d = fuzzed_data_provider.ConsumeFloatingPoint<double>();\n+        const double d{[&] {\n+            double tmp;\n+            CallOneOf(\n+                fuzzed_data_provider,\n+                // an actual number\n+                [&] { tmp = fuzzed_data_provider.ConsumeFloatingPoint<double>(); },\n+                // special numbers and NANs\n+                [&] { tmp = fuzzed_data_provider.PickValueInArray({\n+                          std::numeric_limits<double>::infinity(),\n+                          -std::numeric_limits<double>::infinity(),\n+                          std::numeric_limits<double>::min(),\n+                          -std::numeric_limits<double>::min(),\n+                          std::numeric_limits<double>::max(),\n+                          -std::numeric_limits<double>::max(),\n+                          std::numeric_limits<double>::lowest(),\n+                          -std::numeric_limits<double>::lowest(),\n+                          std::numeric_limits<double>::quiet_NaN(),\n+                          -std::numeric_limits<double>::quiet_NaN(),\n+                          std::numeric_limits<double>::signaling_NaN(),\n+                          -std::numeric_limits<double>::signaling_NaN(),\n+                          std::numeric_limits<double>::denorm_min(),\n+                          -std::numeric_limits<double>::denorm_min(),\n+                      }); },\n+                // Anything from raw memory (also checks that DecodeDouble doesn't crash on any input)\n+                [&] { tmp = DecodeDouble(fuzzed_data_provider.ConsumeIntegral<uint64_t>()); });\n+            return tmp;\n+        }()};\n         (void)memusage::DynamicUsage(d);\n \n         uint64_t encoded = EncodeDouble(d);"
      }
    ]
  }
]