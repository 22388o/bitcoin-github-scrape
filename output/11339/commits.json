[
  {
    "sha": "06125d44ee475f1f4d80bc5fb447550f27605b1a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowNjEyNWQ0NGVlNDc1ZjFmNGQ4MGJjNWZiNDQ3NTUwZjI3NjA1YjFh",
    "commit": {
      "author": {
        "name": "Dan Raviv",
        "email": "dan@soundradix.com",
        "date": "2017-09-15T09:59:17Z"
      },
      "committer": {
        "name": "Dan Raviv",
        "email": "dan@soundradix.com",
        "date": "2017-09-15T10:08:50Z"
      },
      "message": "Minor improvements to checkpoints code\n\n- Use auto where appropriate, improved var names keep code obvious\n- Removed redundant 'checkpoints' intermediate variable in GetLastCheckpoint()\n- Remove redundant includes (made more obviously redundant by using auto)\n- Remove redundant parameter name in GetLastCheckpoint() declaration\n- Whitespace, braces follow developer notes",
      "tree": {
        "sha": "3a0646c01299760a60bf0cd48382bfc3d897daaa",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3a0646c01299760a60bf0cd48382bfc3d897daaa"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/06125d44ee475f1f4d80bc5fb447550f27605b1a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/06125d44ee475f1f4d80bc5fb447550f27605b1a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/06125d44ee475f1f4d80bc5fb447550f27605b1a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/06125d44ee475f1f4d80bc5fb447550f27605b1a/comments",
    "author": {
      "login": "danra",
      "id": 84245,
      "node_id": "MDQ6VXNlcjg0MjQ1",
      "avatar_url": "https://avatars.githubusercontent.com/u/84245?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danra",
      "html_url": "https://github.com/danra",
      "followers_url": "https://api.github.com/users/danra/followers",
      "following_url": "https://api.github.com/users/danra/following{/other_user}",
      "gists_url": "https://api.github.com/users/danra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danra/subscriptions",
      "organizations_url": "https://api.github.com/users/danra/orgs",
      "repos_url": "https://api.github.com/users/danra/repos",
      "events_url": "https://api.github.com/users/danra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danra/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "danra",
      "id": 84245,
      "node_id": "MDQ6VXNlcjg0MjQ1",
      "avatar_url": "https://avatars.githubusercontent.com/u/84245?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danra",
      "html_url": "https://github.com/danra",
      "followers_url": "https://api.github.com/users/danra/followers",
      "following_url": "https://api.github.com/users/danra/following{/other_user}",
      "gists_url": "https://api.github.com/users/danra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danra/subscriptions",
      "organizations_url": "https://api.github.com/users/danra/orgs",
      "repos_url": "https://api.github.com/users/danra/repos",
      "events_url": "https://api.github.com/users/danra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danra/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0f399a9ff227896265cafab9b2e9fab6cdb9b5b9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0f399a9ff227896265cafab9b2e9fab6cdb9b5b9",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0f399a9ff227896265cafab9b2e9fab6cdb9b5b9"
      }
    ],
    "stats": {
      "total": 32,
      "additions": 11,
      "deletions": 21
    },
    "files": [
      {
        "sha": "b16602092ecc0a1406478eec9efdd4635ed66980",
        "filename": "src/checkpoints.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 15,
        "changes": 24,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/06125d44ee475f1f4d80bc5fb447550f27605b1a/src/checkpoints.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/06125d44ee475f1f4d80bc5fb447550f27605b1a/src/checkpoints.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/checkpoints.cpp?ref=06125d44ee475f1f4d80bc5fb447550f27605b1a",
        "patch": "@@ -8,25 +8,19 @@\n #include \"chainparams.h\"\n #include \"reverse_iterator.h\"\n #include \"validation.h\"\n-#include \"uint256.h\"\n-\n-#include <stdint.h>\n-\n \n namespace Checkpoints {\n \n-    CBlockIndex* GetLastCheckpoint(const CCheckpointData& data)\n-    {\n-        const MapCheckpoints& checkpoints = data.mapCheckpoints;\n-\n-        for (const MapCheckpoints::value_type& i : reverse_iterate(checkpoints))\n-        {\n-            const uint256& hash = i.second;\n-            BlockMap::const_iterator t = mapBlockIndex.find(hash);\n-            if (t != mapBlockIndex.end())\n-                return t->second;\n+CBlockIndex* GetLastCheckpoint(const CCheckpointData& data)\n+{\n+    for (const auto& checkpoint : reverse_iterate(data.mapCheckpoints)) {\n+        const auto& hash = checkpoint.second;\n+        const auto match = mapBlockIndex.find(hash);\n+        if (match != mapBlockIndex.end()) {\n+            return match->second;\n         }\n-        return nullptr;\n     }\n+    return nullptr;\n+}\n \n } // namespace Checkpoints"
      },
      {
        "sha": "76a63b3a30f1a4d5edce9464ec9a916f5ed857c6",
        "filename": "src/checkpoints.h",
        "status": "modified",
        "additions": 2,
        "deletions": 6,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/06125d44ee475f1f4d80bc5fb447550f27605b1a/src/checkpoints.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/06125d44ee475f1f4d80bc5fb447550f27605b1a/src/checkpoints.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/checkpoints.h?ref=06125d44ee475f1f4d80bc5fb447550f27605b1a",
        "patch": "@@ -5,10 +5,6 @@\n #ifndef BITCOIN_CHECKPOINTS_H\n #define BITCOIN_CHECKPOINTS_H\n \n-#include \"uint256.h\"\n-\n-#include <map>\n-\n class CBlockIndex;\n struct CCheckpointData;\n \n@@ -20,8 +16,8 @@ namespace Checkpoints\n {\n \n //! Returns last CBlockIndex* in mapBlockIndex that is a checkpoint\n-CBlockIndex* GetLastCheckpoint(const CCheckpointData& data);\n+CBlockIndex* GetLastCheckpoint(const CCheckpointData&);\n \n-} //namespace Checkpoints\n+} // namespace Checkpoints\n \n #endif // BITCOIN_CHECKPOINTS_H"
      }
    ]
  }
]