sipa,2020-03-26 22:56:46,ACK f85203097f78d9daa1d35c4097a80beab31da2a4 if someone verifies this works as intended on *BSD.,https://github.com/bitcoin/bitcoin/pull/18443#issuecomment-604729082,604729082,
laanwj,2020-03-27 08:42:03,"ACK f85203097f78d9daa1d35c4097a80beab31da2a4\nI'd assume the `MADV_` constants are guaranteed to be in the same header as `mmap`, `sys/mman.h`?\n\nEdit: I've verified that the call to `madvise` is done on FreeBSD. I have not test whether it is effective.",https://github.com/bitcoin/bitcoin/pull/18443#issuecomment-604883103,604883103,
vasild,2020-03-27 09:14:33,"I [verified this works as intended](https://github.com/bitcoin/bitcoin/pull/15600#pullrequestreview-381242434) on FreeBSD 12.\n\nYes, the `MADV_` constants are in `sys/mman.h`:\nhttps://www.freebsd.org/cgi/man.cgi?query=madvise\nhttps://linux.die.net/man/2/madvise",https://github.com/bitcoin/bitcoin/pull/18443#issuecomment-604895929,604895929,
laanwj,2020-03-27 10:18:50,"> Yes, the MADV_ constants are in sys/mman.h:\n\nOk good to know—if this was not the case, it would be better to have an autotools check instead.",https://github.com/bitcoin/bitcoin/pull/18443#issuecomment-604922197,604922197,
practicalswift,2020-03-29 12:20:50,Code-review ACK f85203097f78d9daa1d35c4097a80beab31da2a4 assuming a reviewer with FreeBSD access verifies that the PR goal is achieved :),https://github.com/bitcoin/bitcoin/pull/18443#issuecomment-605627705,605627705,
luke-jr,2020-03-26 19:56:43,"I think it would be preferable to use a new `#ifdef` here, just in case there's ever a system with both defined, but only one supported at runtime...",https://github.com/bitcoin/bitcoin/pull/18443#discussion_r398852736,398852736,src/support/lockedpool.cpp
sipa,2020-03-26 22:56:09,"As there are currently no such systems, and the flags do exactly the same thing, it seems unlikely that that would ever be an issue.",https://github.com/bitcoin/bitcoin/pull/18443#discussion_r398940600,398940600,src/support/lockedpool.cpp
laanwj,2020-03-27 07:10:22,"even more if both defined this is ""bizarro"" territory and it might be better to fail the compile to reconsider what to do here, i don't think naively calling both in order (in what order?) is ever a good idea …\n(but to be clear: leaving it like this is fine with me)",https://github.com/bitcoin/bitcoin/pull/18443#discussion_r399071410,399071410,src/support/lockedpool.cpp
vasild,2020-03-27 09:08:45,"I think if there is a system that defines `MADV_DONTDUMP`, but it is not supported at runtime (!?) then that system is badly broken. Regardless if it also defines `MADV_NOCORE` that works.",https://github.com/bitcoin/bitcoin/pull/18443#discussion_r399123402,399123402,src/support/lockedpool.cpp
