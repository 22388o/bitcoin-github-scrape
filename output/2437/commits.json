[
  {
    "sha": "abf11f79ae2a9767778b36a2f9e0c4bc97624602",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphYmYxMWY3OWFlMmE5NzY3Nzc4YjM2YTJmOWUwYzRiYzk3NjI0NjAy",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2013-04-01T12:43:50Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2013-04-01T12:43:50Z"
      },
      "message": "fix \"send coins\" via context menu in address book\n\n- the send coins context menu entry was not working anymore, because\n  a non current version of #2220 was merged onto current master\n- also removes some unneeded spaces and adds a comment to\n  WalletModel::getNumTransactions()",
      "tree": {
        "sha": "3537530880bb6484b20e897a88f852bf3acf339c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3537530880bb6484b20e897a88f852bf3acf339c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/abf11f79ae2a9767778b36a2f9e0c4bc97624602",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/abf11f79ae2a9767778b36a2f9e0c4bc97624602",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/abf11f79ae2a9767778b36a2f9e0c4bc97624602",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/abf11f79ae2a9767778b36a2f9e0c4bc97624602/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "71fcfbe79b85ab9719b5264a0a5c34b2fb2c6127",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/71fcfbe79b85ab9719b5264a0a5c34b2fb2c6127",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/71fcfbe79b85ab9719b5264a0a5c34b2fb2c6127"
      }
    ],
    "stats": {
      "total": 55,
      "additions": 31,
      "deletions": 24
    },
    "files": [
      {
        "sha": "5708ba78f72227f0ad24a8c3ea8aa8fe626bf025",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=abf11f79ae2a9767778b36a2f9e0c4bc97624602",
        "patch": "@@ -205,7 +205,7 @@ void BitcoinGUI::createActions()\n     connect(historyAction, SIGNAL(triggered()), this, SLOT(gotoHistoryPage()));\n     connect(addressBookAction, SIGNAL(triggered()), this, SLOT(showNormalIfMinimized()));\n     connect(addressBookAction, SIGNAL(triggered()), this, SLOT(gotoAddressBookPage()));\n-    \n+\n     quitAction = new QAction(QIcon(\":/icons/quit\"), tr(\"E&xit\"), this);\n     quitAction->setStatusTip(tr(\"Quit application\"));\n     quitAction->setShortcut(QKeySequence(Qt::CTRL + Qt::Key_Q));\n@@ -475,9 +475,9 @@ void BitcoinGUI::gotoReceiveCoinsPage()\n     if (walletFrame) walletFrame->gotoReceiveCoinsPage();\n }\n \n-void BitcoinGUI::gotoSendCoinsPage()\n+void BitcoinGUI::gotoSendCoinsPage(QString addr)\n {\n-    if (walletFrame) walletFrame->gotoSendCoinsPage();\n+    if (walletFrame) walletFrame->gotoSendCoinsPage(addr);\n }\n \n void BitcoinGUI::gotoSignMessageTab(QString addr)\n@@ -700,7 +700,7 @@ void BitcoinGUI::askFee(qint64 nFeeRequired, bool *payFee)\n \n void BitcoinGUI::incomingTransaction(const QString& date, int unit, qint64 amount, const QString& type, const QString& address)\n {\n-   // On new transaction, make an info balloon\n+    // On new transaction, make an info balloon\n     message((amount)<0 ? tr(\"Sent transaction\") : tr(\"Incoming transaction\"),\n              tr(\"Date: %1\\n\"\n                 \"Amount: %2\\n\""
      },
      {
        "sha": "c0cde97b6a83a9a581a652712c8abfd22281eefe",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=abf11f79ae2a9767778b36a2f9e0c4bc97624602",
        "patch": "@@ -94,7 +94,7 @@ class BitcoinGUI : public QMainWindow\n     QAction *changePassphraseAction;\n     QAction *aboutQtAction;\n     QAction *openRPCConsoleAction;\n-    \n+\n     QSystemTrayIcon *trayIcon;\n     Notificator *notificator;\n     TransactionView *transactionView;\n@@ -162,7 +162,7 @@ private slots:\n     /** Switch to receive coins page */\n     void gotoReceiveCoinsPage();\n     /** Switch to send coins page */\n-    void gotoSendCoinsPage();\n+    void gotoSendCoinsPage(QString addr = \"\");\n \n     /** Show Sign/Verify Message dialog and switch to sign message tab */\n     void gotoSignMessageTab(QString addr = \"\");"
      },
      {
        "sha": "b5947caf3ac2ffd189e418113ebc07a77b07bce5",
        "filename": "src/qt/walletframe.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/walletframe.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/walletframe.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.cpp?ref=abf11f79ae2a9767778b36a2f9e0c4bc97624602",
        "patch": "@@ -88,9 +88,9 @@ void WalletFrame::gotoReceiveCoinsPage()\n     walletStack->gotoReceiveCoinsPage();\n }\n \n-void WalletFrame::gotoSendCoinsPage()\n+void WalletFrame::gotoSendCoinsPage(QString addr)\n {\n-    walletStack->gotoSendCoinsPage();\n+    walletStack->gotoSendCoinsPage(addr);\n }\n \n void WalletFrame::gotoSignMessageTab(QString addr)"
      },
      {
        "sha": "3649185e8ae84819f9f1211bd5038a3b7221f71f",
        "filename": "src/qt/walletframe.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/walletframe.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/walletframe.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.h?ref=abf11f79ae2a9767778b36a2f9e0c4bc97624602",
        "patch": "@@ -25,7 +25,7 @@ class WalletFrame : public QFrame\n \n     bool addWallet(const QString& name, WalletModel *walletModel);\n     bool setCurrentWallet(const QString& name);\n-    \n+\n     void removeAllWallets();\n \n     bool handleURI(const QString &uri);\n@@ -47,7 +47,7 @@ public slots:\n     /** Switch to receive coins page */\n     void gotoReceiveCoinsPage();\n     /** Switch to send coins page */\n-    void gotoSendCoinsPage();\n+    void gotoSendCoinsPage(QString addr = \"\");\n \n     /** Show Sign/Verify Message dialog and switch to sign message tab */\n     void gotoSignMessageTab(QString addr = \"\");"
      },
      {
        "sha": "20535a451d891e39a90eed3b798d61c77eb3f91c",
        "filename": "src/qt/walletmodel.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/walletmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/walletmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.cpp?ref=abf11f79ae2a9767778b36a2f9e0c4bc97624602",
        "patch": "@@ -56,6 +56,8 @@ int WalletModel::getNumTransactions() const\n     int numTransactions = 0;\n     {\n         LOCK(wallet->cs_wallet);\n+        // the size of mapWallet contains the number of unique transaction IDs\n+        // (e.g. payments to yourself generate 2 transactions, but both share the same transaction ID)\n         numTransactions = wallet->mapWallet.size();\n     }\n     return numTransactions;"
      },
      {
        "sha": "42d86956beb8056f2bde26e39bdd0dc8d969290f",
        "filename": "src/qt/walletstack.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/walletstack.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/walletstack.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletstack.cpp?ref=abf11f79ae2a9767778b36a2f9e0c4bc97624602",
        "patch": "@@ -97,11 +97,11 @@ void WalletStack::gotoReceiveCoinsPage()\n         i.value()->gotoReceiveCoinsPage();\n }\n \n-void WalletStack::gotoSendCoinsPage()\n+void WalletStack::gotoSendCoinsPage(QString addr)\n {\n     QMap<QString, WalletView*>::const_iterator i;\n     for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n-        i.value()->gotoSendCoinsPage();\n+        i.value()->gotoSendCoinsPage(addr);\n }\n \n void WalletStack::gotoSignMessageTab(QString addr)"
      },
      {
        "sha": "ea4cc121d127b7846f6d52c233b4e29da335192d",
        "filename": "src/qt/walletstack.h",
        "status": "modified",
        "additions": 5,
        "deletions": 5,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/walletstack.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/walletstack.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletstack.h?ref=abf11f79ae2a9767778b36a2f9e0c4bc97624602",
        "patch": "@@ -45,16 +45,16 @@ class WalletStack : public QStackedWidget\n     ~WalletStack();\n \n     void setBitcoinGUI(BitcoinGUI *gui) { this->gui = gui; }\n-    \n+\n     void setClientModel(ClientModel *clientModel) { this->clientModel = clientModel; }\n-    \n+\n     bool addWallet(const QString& name, WalletModel *walletModel);\n     bool removeWallet(const QString& name);\n-    \n+\n     void removeAllWallets();\n \n     bool handleURI(const QString &uri);\n-    \n+\n     void showOutOfSyncWarning(bool fShow);\n \n private:\n@@ -76,7 +76,7 @@ public slots:\n     /** Switch to receive coins page */\n     void gotoReceiveCoinsPage();\n     /** Switch to send coins page */\n-    void gotoSendCoinsPage();\n+    void gotoSendCoinsPage(QString addr = \"\");\n \n     /** Show Sign/Verify Message dialog and switch to sign message tab */\n     void gotoSignMessageTab(QString addr = \"\");"
      },
      {
        "sha": "6be34e5ff4209fef0863724ee29a05ab529afc7f",
        "filename": "src/qt/walletview.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 3,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/walletview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/walletview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.cpp?ref=abf11f79ae2a9767778b36a2f9e0c4bc97624602",
        "patch": "@@ -74,9 +74,11 @@ WalletView::WalletView(QWidget *parent, BitcoinGUI *_gui):\n     // Double-clicking on a transaction on the transaction history page shows details\n     connect(transactionView, SIGNAL(doubleClicked(QModelIndex)), transactionView, SLOT(showDetails()));\n \n-    // Clicking on \"Verify Message\" in the address book sends you to the verify message tab\n+    // Clicking on \"Send Coins\" in the address book sends you to the send coins tab\n+    connect(addressBookPage, SIGNAL(sendCoins(QString)), this, SLOT(gotoSendCoinsPage(QString)));\n+    // Clicking on \"Verify Message\" in the address book opens the verify message tab in the Sign/Verify Message dialog\n     connect(addressBookPage, SIGNAL(verifyMessage(QString)), this, SLOT(gotoVerifyMessageTab(QString)));\n-    // Clicking on \"Sign Message\" in the receive coins page sends you to the sign message tab\n+    // Clicking on \"Sign Message\" in the receive coins page opens the sign message tab in the Sign/Verify Message dialog\n     connect(receiveCoinsPage, SIGNAL(signMessage(QString)), this, SLOT(gotoSignMessageTab(QString)));\n \n     gotoOverviewPage();\n@@ -257,13 +259,16 @@ void WalletView::gotoReceiveCoinsPage()\n     connect(exportAction, SIGNAL(triggered()), receiveCoinsPage, SLOT(exportClicked()));\n }\n \n-void WalletView::gotoSendCoinsPage()\n+void WalletView::gotoSendCoinsPage(QString addr)\n {\n     sendCoinsAction->setChecked(true);\n     setCurrentWidget(sendCoinsPage);\n \n     exportAction->setEnabled(false);\n     disconnect(exportAction, SIGNAL(triggered()), 0, 0);\n+\n+    if(!addr.isEmpty())\n+        sendCoinsPage->setAddress(addr);\n }\n \n void WalletView::gotoSignMessageTab(QString addr)"
      },
      {
        "sha": "caa51d7c3a2215becdba902febb46e8f1e5ed9b3",
        "filename": "src/qt/walletview.h",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/walletview.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/abf11f79ae2a9767778b36a2f9e0c4bc97624602/src/qt/walletview.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.h?ref=abf11f79ae2a9767778b36a2f9e0c4bc97624602",
        "patch": "@@ -49,9 +49,9 @@ class WalletView : public QStackedWidget\n         functionality.\n     */\n     void setWalletModel(WalletModel *walletModel);\n-    \n+\n     bool handleURI(const QString &uri);\n-    \n+\n     void showOutOfSyncWarning(bool fShow);\n \n private:\n@@ -105,7 +105,7 @@ public slots:\n     /** Switch to receive coins page */\n     void gotoReceiveCoinsPage();\n     /** Switch to send coins page */\n-    void gotoSendCoinsPage();\n+    void gotoSendCoinsPage(QString addr = \"\");\n \n     /** Show Sign/Verify Message dialog and switch to sign message tab */\n     void gotoSignMessageTab(QString addr = \"\");\n@@ -125,7 +125,7 @@ public slots:\n     void changePassphrase();\n     /** Ask for passphrase to unlock wallet temporarily */\n     void unlockWallet();\n-    \n+\n     void setEncryptionStatus();\n };\n "
      }
    ]
  }
]