laanwj,2016-04-05T16:14:02Z,This is meant to fix #7794\n,https://github.com/bitcoin/bitcoin/pull/7816#issuecomment-205877424,205877424,
paveljanik,2016-04-05T18:53:19Z,"tests fail with:\n\n```\nInitializing test directory /var/folders/65/fn0h49r55k7779vg1b_h461r0000gn/T/testfGlvKm\nJSONRPC error: Error: Keypool ran out, please call keypoolrefill first\n  File ""/private/tmp/bitcoin-7816/qa/rpc-tests/test_framework/test_framework.py"", line 135, in main\n    self.run_test()\n  File ""./keypool.py"", line 83, in run_test\n    nodes[0].generate(1)\n  File ""/private/tmp/",https://github.com/bitcoin/bitcoin/pull/7816#issuecomment-205947403,205947403,
jonasschnelli,2016-04-06T07:12:10Z,Fixed the bug (accidentally erase keypool key) that caused the test to fail.\nFixed @paveljanik typo/nit.\n,https://github.com/bitcoin/bitcoin/pull/7816#issuecomment-206169576,206169576,
paveljanik,2016-04-06T07:40:05Z,"So if the keypool is empty, you are returning NOW. RPC `getinfo`'s help says/expects the key to exist though:\n\n```\n  ""keypoololdest"": xxxxxx,    (numeric) the timestamp (seconds since GMT epoch) of the oldest pre-generated key in the key pool\n```\n\nThis is a slight change in the semantic, but I think it is OK.\n",https://github.com/bitcoin/bitcoin/pull/7816#issuecomment-206186669,206186669,
paveljanik,2016-04-06T08:15:22Z,"minor nit: commit message typo slighly-> slightly (sorry for noticing all these unimportant things, please bear with me...).\n",https://github.com/bitcoin/bitcoin/pull/7816#issuecomment-206209929,206209929,
jonasschnelli,2016-04-06T09:07:22Z,"@paveljanik: \n\n> So if the keypool is empty, you are returning NOW\n\nI think this was already the case before. `ReserveKeyFromKeyPool` returns -1 if the keypool is empty which should have lead to return `GetTime()`? Or am I wrong'\n\nThanks. Fixed the commit typo. I'm happy if you point to nits/typos.\n",https://github.com/bitcoin/bitcoin/pull/7816#issuecomment-206240976,206240976,
laanwj,2016-04-19T10:25:41Z,"Yes, the `return GetTime();` was already there. If this was written from scratch it could be argued if returning the current time is the sensible thing to do, but let's not change this API.\n",https://github.com/bitcoin/bitcoin/pull/7816#issuecomment-211846790,211846790,
laanwj,2016-04-19T10:40:21Z,tACK 9f7336b Can confirm that this solves #7794.\n,https://github.com/bitcoin/bitcoin/pull/7816#issuecomment-211851529,211851529,
paveljanik,2016-04-05T18:48:52Z,Typo: if\n,https://github.com/bitcoin/bitcoin/pull/7816#discussion_r58594404,58594404,src/wallet/wallet.cpp
paveljanik,2016-04-05T18:55:11Z,"How do you know it is `GetOldestKeyPoolTime` who failed?\n\nEdit: Ah, please use `__func__` ;-))\n",https://github.com/bitcoin/bitcoin/pull/7816#discussion_r58595548,58595548,src/wallet/wallet.cpp
jonasschnelli,2016-04-06T07:10:47Z,Thanks. But lets keep `GetOldestKeyPoolTime():` for now and let it open if someone wants to change the whole wallet sources to make use of `__func__`. Mixing would be worse IMO.\n,https://github.com/bitcoin/bitcoin/pull/7816#discussion_r58660341,58660341,src/wallet/wallet.cpp
paveljanik,2016-04-06T07:32:51Z,"Sorry, this is like using TABs to indent and say that it is OK to use TABs, and later someone could reformat it completely with `clang-format`. I thought we already agreed that in new code, we should follow our best practice (and as you see on my example above, it can even fool people). And it is shorter ;-)\n",https://github.com/bitcoin/bitcoin/pull/7816#discussion_r58662401,58662401,src/wallet/wallet.cpp
