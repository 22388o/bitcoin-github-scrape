DrahtBot,2020-02-15 18:37:26,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19011 (Reduce cs_main lock accumulation during GUI startup by jonasschnelli)\n* #19007 (relax GUI locks: avoid unnecesarr",https://github.com/bitcoin/bitcoin/pull/18152#issuecomment-586629097,586629097,
hebasto,2020-03-04 21:36:52,"@ryanofsky \nThank you for your review. Your comments have been addressed.\n\nAlso rebased due to #17399.",https://github.com/bitcoin/bitcoin/pull/18152#issuecomment-594862645,594862645,
hebasto,2020-05-19 00:10:58,"Updated 7a2a5edc09986bcbcfd370ece644e7c31fa71b25 -> a0d0f1c6c3d736bc0ee076b7f27a0ef59fd260bc ([pr18152.03](https://github.com/hebasto/bitcoin/commits/pr18152.03) -> [pr18152.04](https://github.com/hebasto/bitcoin/commits/pr18152.04), [diff](https://github.com/hebasto/bitcoin/compare/pr18152.03..pr18152.04)):\n\n- rebased due to the conflict with #16224 and #17737\n- addressed @ryanofsky's [comm",https://github.com/bitcoin/bitcoin/pull/18152#issuecomment-630499465,630499465,
jonasschnelli,2020-05-19 07:03:02,"Core Review ACK a0d0f1c6c3d736bc0ee076b7f27a0ef59fd260bc (modulo [question](https://github.com/bitcoin/bitcoin/pull/18152#pullrequestreview-414140601)).\nLightly tested (mainnet catchup about 800 blocks). The annoying GUI blockings during normal catch-up operation are gone. Haven't tested reindex.",https://github.com/bitcoin/bitcoin/pull/18152#issuecomment-630626092,630626092,
jonasschnelli,2020-05-19 12:36:08,I'm not opposed to backport this since the Mac-Only GUI freeze is IMO an ugly bug.,https://github.com/bitcoin/bitcoin/pull/18152#issuecomment-630788847,630788847,
promag,2020-05-21 08:50:28,Code review ACK a0d0f1c6c3d736bc0ee076b7f27a0ef59fd260bc.,https://github.com/bitcoin/bitcoin/pull/18152#issuecomment-631968042,631968042,
ryanofsky,2020-02-26 18:09:59,"I'm not sure what motivation is exposing the import state, but it seems like you'd want the state to be `INIT_REINDEX` not `INIT_IMPORT` during reindexing (see [`ThreadImport`](https://github.com/bitcoin/bitcoin/blob/e5d47ed8fd3724cc5295fca70573f1edf552ff62/src/init.cpp#L676-L693)) so I don't understand the way these are prioritized",https://github.com/bitcoin/bitcoin/pull/18152#discussion_r384670633,384670633,src/qt/clientmodel.cpp
ryanofsky,2020-02-26 18:13:46,"I don't see how this could be right. It appears to be never calling numBlockChanged at all during POST_INIT state\n\nUsage of throttle here is also potentially confusing. ""throttle"" bool should indicate when to slow down notifications, not when to send them",https://github.com/bitcoin/bitcoin/pull/18152#discussion_r384672745,384672745,src/qt/clientmodel.cpp
hebasto,2020-03-04 21:37:25,Reworked.,https://github.com/bitcoin/bitcoin/pull/18152#discussion_r387949044,387949044,src/qt/clientmodel.cpp
hebasto,2020-03-04 21:37:39,Fixed.,https://github.com/bitcoin/bitcoin/pull/18152#discussion_r387949158,387949158,src/qt/clientmodel.cpp
ryanofsky,2020-05-18 20:35:32,"In commit ""refactor: Pass SynchronizationState enum to GUI"" (ebc93a0d80b2fa899753e97be480ff3f290e9789)\n\nI think it probably doesn't make sense to have this in system.h, which mostly contains lower level operating system stuff. I'd probably move it to validation.h here https://github.com/bitcoin/bitcoin/blob/dc5333d31f280e09bb1e8cdacfbe842f4ab9e69b/src/validation.h#L105 near the related reindex",https://github.com/bitcoin/bitcoin/pull/18152#discussion_r426879020,426879020,src/util/system.h
hebasto,2020-05-19 00:11:21,[Updated](https://github.com/bitcoin/bitcoin/pull/18152#issuecomment-630499465).,https://github.com/bitcoin/bitcoin/pull/18152#discussion_r426958346,426958346,src/util/system.h
jonasschnelli,2020-05-19 06:37:47,We drop the check on `fImporting` here? Is that a problem?,https://github.com/bitcoin/bitcoin/pull/18152#discussion_r427062245,427062245,src/qt/bitcoingui.cpp
hebasto,2020-05-19 07:24:03,"In the `(m_node.isInitialBlockDownload() || m_node.getReindex() || m_node.getImporting())` expression all but the first operand are redundant as in `CChainState::IsInitialBlockDownload()` we have:\nhttps://github.com/bitcoin/bitcoin/blob/362f9c60a54e673bb3daa8996f86d4bc7547eb13/src/validation.cpp#L1302-L1303\n\nRight?",https://github.com/bitcoin/bitcoin/pull/18152#discussion_r427083769,427083769,src/qt/bitcoingui.cpp
jonasschnelli,2020-05-19 07:33:22,I see. It was unnecessary in the first place as it looks.,https://github.com/bitcoin/bitcoin/pull/18152#discussion_r427088771,427088771,src/qt/bitcoingui.cpp
