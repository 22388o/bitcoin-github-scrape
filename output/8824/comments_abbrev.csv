jnewbery,2016-10-14T09:31:11Z,https://github.com/bitcoin/bitcoin/pull/8817 has now been merged into master. I've rebased this PR.\n,https://github.com/bitcoin/bitcoin/pull/8824#issuecomment-253752997,253752997,
jnewbery,2016-10-14T10:50:26Z,bitcoin-test-util.py now fails json tests because output includes transaction size and vsize. I'll fix up the tests in a new commit.\n,https://github.com/bitcoin/bitcoin/pull/8824#issuecomment-253768989,253768989,
jonasschnelli,2016-10-17T06:33:20Z,"Concept ACK.\nWe should make sure, there is no API changes (= maybe ~100% test coverage?) because of the refactoring. \n",https://github.com/bitcoin/bitcoin/pull/8824#issuecomment-254123343,254123343,
jnewbery,2016-10-24T09:46:15Z,@jonasschnelli - are you happy with my response above? Any further questions?\n,https://github.com/bitcoin/bitcoin/pull/8824#issuecomment-255695641,255695641,
jnewbery,2016-11-04T09:35:45Z,rebased. Is anyone happy to ACK this?\n\n@jonasschnelli - did you have time to review my response above?\n,https://github.com/bitcoin/bitcoin/pull/8824#issuecomment-258382899,258382899,
jonasschnelli,2016-11-04T14:21:12Z,Tested ACK 22c34e7e4c74d2c7d1cc64a75c6654f3ae82377b\n,https://github.com/bitcoin/bitcoin/pull/8824#issuecomment-258443942,258443942,
jnewbery,2017-01-10T15:47:59Z,Rebased,https://github.com/bitcoin/bitcoin/pull/8824#issuecomment-271611135,271611135,
jnewbery,2017-02-15T21:55:22Z,Rebased,https://github.com/bitcoin/bitcoin/pull/8824#issuecomment-280152567,280152567,
jnewbery,2017-03-07T23:07:58Z,Addressed @laanwj 's review comment and rebased.,https://github.com/bitcoin/bitcoin/pull/8824#issuecomment-284890437,284890437,
fanquake,2017-03-22T23:45:52Z,Needs a rebase.,https://github.com/bitcoin/bitcoin/pull/8824#issuecomment-288574124,288574124,
jnewbery,2017-03-24T21:01:49Z,Rebased,https://github.com/bitcoin/bitcoin/pull/8824#issuecomment-289141939,289141939,
laanwj,2017-04-26T10:09:05Z,"It looks like this got entangled with a test change?\n\nhere's a rebased version: https://github.com/laanwj/bitcoin/tree/2017_04_jnewbery_JSON_refactor\n\nWas planning to merge it, but the json test changes in a RPC refactoring pull don't look right.",https://github.com/bitcoin/bitcoin/pull/8824#issuecomment-297332916,297332916,
jnewbery,2017-04-28T13:39:11Z,"""size"" was added to the getrawtransaction output in #7072. ""vsize"" was added in #8149. Because bitcoin-tx used `TxToUniv()` and the rawtransaction RPCs used `TxToJSON()`, bitcoin-tx functionality fell behind the ratransaction RPC functionality and didn't include these new fields. This PR removes the duplicate code between `TxToUniv()` and `TxToJSON()`, and as a result restores parity between bitco",https://github.com/bitcoin/bitcoin/pull/8824#issuecomment-298000198,298000198,
jnewbery,2017-04-28T14:02:30Z,rebased. Last time please :),https://github.com/bitcoin/bitcoin/pull/8824#issuecomment-298006129,298006129,
jonasschnelli,2016-10-17T06:31:17Z,Maybe `::GetVirtualTransactionSize(tx)`?\n,https://github.com/bitcoin/bitcoin/pull/8824#discussion_r83583490,83583490,src/core_write.cpp
jnewbery,2016-10-17T16:40:59Z,"`GetVirtualTransactionSize()` is declared in policy.h, which isn't included in core_write.\n\nWhy is `GetVirtualTransactionSize()` in policy? Because transaction virtual size isn't a consensus rule, and is only used for mempool admittance/miner selection. On top of that,  after https://github.com/bitcoin/bitcoin/pull/8365 , virtual size has been overloaded to mean both _transaction weight_/4 and a",https://github.com/bitcoin/bitcoin/pull/8824#discussion_r83683923,83683923,src/core_write.cpp
jonasschnelli,2016-11-04T14:15:53Z,"~~Doesn't this require `std::max(GetTransactionWeight(tx), nSigOpCost * nBytesPerSigOp)`?~~\nNm: it's not required here.\n",https://github.com/bitcoin/bitcoin/pull/8824#discussion_r86553431,86553431,src/core_write.cpp
laanwj,2017-02-16T09:06:55Z,"Server is the wrong place for this - the conceptual idea is that it is a purely a RPC server, and independent of anything bitcoin specific.",https://github.com/bitcoin/bitcoin/pull/8824#discussion_r101471537,101471537,src/rpc/server.h
laanwj,2017-02-16T09:10:17Z,"Hm, I think you can simply remove the changes to this file as the function is in core_write now?",https://github.com/bitcoin/bitcoin/pull/8824#discussion_r101472080,101472080,src/rpc/server.h
