[
  {
    "sha": "fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTQ3YTBiMDAzZjUzNzA4YjZkNWRmMWVkNGU3ZjhhN2M2OGFhM2Fj",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-03-27T22:00:29Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-03-27T21:58:51Z"
      },
      "message": "net: Make addr relay mockable",
      "tree": {
        "sha": "dd909b4e2f8de9def87fa483ed0b2f4d0cf86bcf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dd909b4e2f8de9def87fa483ed0b2f4d0cf86bcf"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUhq7Av8CkNtxQRnnIkeUVtBvF1b6zIHJV6KhqRWIlmxIZGLJQ5xSyu/DR5MQ/Qc\nUcHqPkFB2GStqJ6QEUd4WIoNrHGKmtHqcLQ341nKnx9M+3ODmjqgkibCNkSXTC+e\nJuiOZWRr3NT1XSCh4CSYn9H/WdUEKsAI5q6Zk0SwwIK70c0Q1sGrmirn1rW6UD3c\nZq+vo1G1fc46Zi4I+FOHlw5sOquXQArlZeVD2PZxqR8e08nXkCFxvrkNnZMdS/JC\ngNhHu6Pli7qz5Ci9k7JFOiEESrSdJXsHVpDJD5/ShJTUc2pzwJJfDmJCRDrFuHx6\ngcYxtkqZvCUYTvzdYiQ2fd2flkmEfc4uHFJpsTzsGzGkvUzWdCnZZgIU8pVZ5QW3\nsCAHpd+ovoRp9cTeCaBt/qPNfhgUcaajhNradvizoCXqVqHlny490qNeilmkD64F\nifv70RizFApf+Lw8tjfeCeVbzVD9QErD94jcFO7JuUrAPytFaSM4DT5np5Q1atbh\nMgrANwPO\n=h30m\n-----END PGP SIGNATURE-----",
        "payload": "tree dd909b4e2f8de9def87fa483ed0b2f4d0cf86bcf\nparent 210b533a114462473024c92a20a0765001abd45d\nauthor MarcoFalke <falke.marco@gmail.com> 1585346429 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1585346331 -0400\n\nnet: Make addr relay mockable\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "210b533a114462473024c92a20a0765001abd45d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/210b533a114462473024c92a20a0765001abd45d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/210b533a114462473024c92a20a0765001abd45d"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 10,
      "deletions": 10
    },
    "files": [
      {
        "sha": "059f3fa1ee2c547a38d821d400efc758d96289b4",
        "filename": "src/net.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac/src/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac/src/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.h?ref=fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac",
        "patch": "@@ -797,8 +797,8 @@ class CNode\n     std::vector<CAddress> vAddrToSend;\n     const std::unique_ptr<CRollingBloomFilter> m_addr_known;\n     bool fGetAddr{false};\n-    int64_t nNextAddrSend GUARDED_BY(cs_sendProcessing){0};\n-    int64_t nNextLocalAddrSend GUARDED_BY(cs_sendProcessing){0};\n+    std::chrono::microseconds m_next_addr_send GUARDED_BY(cs_sendProcessing){0};\n+    std::chrono::microseconds m_next_local_addr_send GUARDED_BY(cs_sendProcessing){0};\n \n     bool IsAddrRelayPeer() const { return m_addr_known != nullptr; }\n "
      },
      {
        "sha": "8b1218b4dd04f7835a0228a3b336cb80158d1d63",
        "filename": "src/net_processing.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 8,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac/src/net_processing.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac/src/net_processing.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net_processing.cpp?ref=fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac",
        "patch": "@@ -97,10 +97,10 @@ void EraseOrphansFor(NodeId peer);\n /** Increase a node's misbehavior score. */\n void Misbehaving(NodeId nodeid, int howmuch, const std::string& message=\"\") EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n \n-/** Average delay between local address broadcasts in seconds. */\n-static constexpr unsigned int AVG_LOCAL_ADDRESS_BROADCAST_INTERVAL = 24 * 60 * 60;\n-/** Average delay between peer address broadcasts in seconds. */\n-static const unsigned int AVG_ADDRESS_BROADCAST_INTERVAL = 30;\n+/** Average delay between local address broadcasts */\n+static constexpr std::chrono::hours AVG_LOCAL_ADDRESS_BROADCAST_INTERVAL{24};\n+/** Average delay between peer address broadcasts */\n+static constexpr std::chrono::seconds AVG_ADDRESS_BROADCAST_INTERVAL{30};\n /** Average delay between trickled inventory transmissions in seconds.\n  *  Blocks and whitelisted receivers bypass this, outbound peers get half this delay. */\n static const unsigned int INVENTORY_BROADCAST_INTERVAL = 5;\n@@ -3583,16 +3583,16 @@ bool PeerLogicValidation::SendMessages(CNode* pto)\n         int64_t nNow = GetTimeMicros();\n         auto current_time = GetTime<std::chrono::microseconds>();\n \n-        if (pto->IsAddrRelayPeer() && !::ChainstateActive().IsInitialBlockDownload() && pto->nNextLocalAddrSend < nNow) {\n+        if (pto->IsAddrRelayPeer() && !::ChainstateActive().IsInitialBlockDownload() && pto->m_next_local_addr_send < current_time) {\n             AdvertiseLocal(pto);\n-            pto->nNextLocalAddrSend = PoissonNextSend(nNow, AVG_LOCAL_ADDRESS_BROADCAST_INTERVAL);\n+            pto->m_next_local_addr_send = PoissonNextSend(current_time, AVG_LOCAL_ADDRESS_BROADCAST_INTERVAL);\n         }\n \n         //\n         // Message: addr\n         //\n-        if (pto->IsAddrRelayPeer() && pto->nNextAddrSend < nNow) {\n-            pto->nNextAddrSend = PoissonNextSend(nNow, AVG_ADDRESS_BROADCAST_INTERVAL);\n+        if (pto->IsAddrRelayPeer() && pto->m_next_addr_send < current_time) {\n+            pto->m_next_addr_send = PoissonNextSend(current_time, AVG_ADDRESS_BROADCAST_INTERVAL);\n             std::vector<CAddress> vAddr;\n             vAddr.reserve(pto->vAddrToSend.size());\n             assert(pto->m_addr_known);"
      }
    ]
  },
  {
    "sha": "fa1793c1c44a3f75a09f9c636467b8274c541bdd",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTE3OTNjMWM0NGEzZjc1YTA5ZjljNjM2NDY3YjgyNzRjNTQxYmRk",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-03-27T23:27:27Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-02T13:56:20Z"
      },
      "message": "net: Pass connman const when relaying address",
      "tree": {
        "sha": "6434659ffd30fa9c9e9353545b6d4afb14dd438a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6434659ffd30fa9c9e9353545b6d4afb14dd438a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa1793c1c44a3f75a09f9c636467b8274c541bdd",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUjG+Qv/fVTibeHhHp8d3g6S1WIAUc+x89FhQ2JzEN/xL59GBdz/QUov+DiY++0s\nV9w2iFnBkC6UDkp31vigJhYMQwRz5eUCNJhc4NxaFG0JN0jpgkU8SQ2z2JHp3mjk\ntEPypWFLR/ecMX8M0yQFohZeRAgb+jUPQFvzLQdZVv7hSJFr28/p50owy82YcGbF\nr7IP0jXLUT/BIzb1ZHB2HTdPdYmwoXqchH/iQcbDPACXv5LIoMCinVGpIZV293Pn\ngNMapkksaokaKk4PLfDyTOjpp9ixqDRCFpnHT9iq84ZTEeWo4a9dGIlcTC9xqc7j\nLQyLoE4UJ/1jk6Oq8V9IAyrGrXihbkHwW6NBm4lwcUzW9p6tUD2TYa3XVsfxfPGM\n/3hIb9FA3urY9VczwfMXXDI8W62uc1PxRaWM8iBCtNbNClPpFvDmkOrW9uHy7l4o\nk4F6KFzofqirUldgXHsDYaVy65GOBpVnmsYHcdr1qcjtV0cw23FPZh0wc85pRfEg\nVbAZvS6o\n=TlnT\n-----END PGP SIGNATURE-----",
        "payload": "tree 6434659ffd30fa9c9e9353545b6d4afb14dd438a\nparent fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac\nauthor MarcoFalke <falke.marco@gmail.com> 1585351647 +0800\ncommitter MarcoFalke <falke.marco@gmail.com> 1585835780 +0800\n\nnet: Pass connman const when relaying address\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa1793c1c44a3f75a09f9c636467b8274c541bdd",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa1793c1c44a3f75a09f9c636467b8274c541bdd",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa1793c1c44a3f75a09f9c636467b8274c541bdd/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa47a0b003f53708b6d5df1ed4e7f8a7c68aa3ac"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 4,
      "deletions": 4
    },
    "files": [
      {
        "sha": "4cdb4698d6bff2042b052f3df01ef9b1d318a2d5",
        "filename": "src/net_processing.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa1793c1c44a3f75a09f9c636467b8274c541bdd/src/net_processing.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa1793c1c44a3f75a09f9c636467b8274c541bdd/src/net_processing.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net_processing.cpp?ref=fa1793c1c44a3f75a09f9c636467b8274c541bdd",
        "patch": "@@ -1365,15 +1365,15 @@ void RelayTransaction(const uint256& txid, const CConnman& connman)\n     });\n }\n \n-static void RelayAddress(const CAddress& addr, bool fReachable, CConnman* connman)\n+static void RelayAddress(const CAddress& addr, bool fReachable, const CConnman& connman)\n {\n     unsigned int nRelayNodes = fReachable ? 2 : 1; // limited relaying of addresses outside our network(s)\n \n     // Relay to a limited number of other nodes\n     // Use deterministic randomness to send to the same nodes for 24 hours\n     // at a time so the m_addr_knowns of the chosen nodes prevent repeats\n     uint64_t hashAddr = addr.GetHash();\n-    const CSipHasher hasher = connman->GetDeterministicRandomizer(RANDOMIZER_ID_ADDRESS_RELAY).Write(hashAddr << 32).Write((GetTime() + hashAddr) / (24*60*60));\n+    const CSipHasher hasher = connman.GetDeterministicRandomizer(RANDOMIZER_ID_ADDRESS_RELAY).Write(hashAddr << 32).Write((GetTime() + hashAddr) / (24 * 60 * 60));\n     FastRandomContext insecure_rand;\n \n     std::array<std::pair<uint64_t, CNode*>,2> best{{{0, nullptr}, {0, nullptr}}};\n@@ -1398,7 +1398,7 @@ static void RelayAddress(const CAddress& addr, bool fReachable, CConnman* connma\n         }\n     };\n \n-    connman->ForEachNodeThen(std::move(sortfunc), std::move(pushfunc));\n+    connman.ForEachNodeThen(std::move(sortfunc), std::move(pushfunc));\n }\n \n void static ProcessGetBlockData(CNode* pfrom, const CChainParams& chainparams, const CInv& inv, CConnman* connman)\n@@ -2192,7 +2192,7 @@ bool ProcessMessage(CNode* pfrom, const std::string& strCommand, CDataStream& vR\n             if (addr.nTime > nSince && !pfrom->fGetAddr && vAddr.size() <= 10 && addr.IsRoutable())\n             {\n                 // Relay to a limited number of other nodes\n-                RelayAddress(addr, fReachable, connman);\n+                RelayAddress(addr, fReachable, *connman);\n             }\n             // Do not store addresses outside our network\n             if (fReachable)"
      }
    ]
  },
  {
    "sha": "fa1da3d4bfc0511a89f5b19d5a4d89e55ff7ccde",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTFkYTNkNGJmYzA1MTFhODlmNWIxOWQ1YTRkODllNTVmZjdjY2Rl",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-02T14:09:30Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-02T15:29:32Z"
      },
      "message": "test: Add basic addr relay test",
      "tree": {
        "sha": "2fce1967ce13682d30398d0b34aab91d46d75262",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2fce1967ce13682d30398d0b34aab91d46d75262"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa1da3d4bfc0511a89f5b19d5a4d89e55ff7ccde",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUiQZgv/duGVk12Ayyz2Y9AaXQl9ZznflKphe6Q3FRuDavNLiciLYGZDdaHPc7zK\nms9Hv0TMsoxx+GFS5bcKEhuGmIKahrkpXHnkWKS8Eh+NNTlrShJnbOvlo82bclId\nkVxTbPX1vMvTQA4HPTyzPiEq96bckDBZviW45XM7ls7r0IRNQDMHOSY71AwN0J4P\n/tJWdFdo+a42uiQgCkWKaCJb+sNNizw6wfuLubta0t3fKBoK5UCNf5qWyAA8RwDz\nSlGun1wPL3a6IHUaNeK/XU05OxRZDcgV4miaWmePN5GFnTU08T6OK8R4SeuE2e1O\nTlT/wV7h26qsRIJGfK25krtcPtlgZzy1ZXqrgBTHKwdPuT+74O3PAAHlir3ItRXl\nFYby61TzHWXCyh8P4q7pfhgynBl4U/KaERUkxV3jN3oze1sMs38nk+OUHN3DzGp1\nf2k2oA6PXoRWDee1me/+l51WbuSyH0ksPNxDRj24iqJC0KP3yMrxyOd6wUnGKchm\nNOCUDPvV\n=ZnOa\n-----END PGP SIGNATURE-----",
        "payload": "tree 2fce1967ce13682d30398d0b34aab91d46d75262\nparent fa1793c1c44a3f75a09f9c636467b8274c541bdd\nauthor MarcoFalke <falke.marco@gmail.com> 1585836570 +0800\ncommitter MarcoFalke <falke.marco@gmail.com> 1585841372 +0800\n\ntest: Add basic addr relay test\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa1da3d4bfc0511a89f5b19d5a4d89e55ff7ccde",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa1da3d4bfc0511a89f5b19d5a4d89e55ff7ccde",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa1da3d4bfc0511a89f5b19d5a4d89e55ff7ccde/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa1793c1c44a3f75a09f9c636467b8274c541bdd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa1793c1c44a3f75a09f9c636467b8274c541bdd",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa1793c1c44a3f75a09f9c636467b8274c541bdd"
      }
    ],
    "stats": {
      "total": 72,
      "additions": 72,
      "deletions": 0
    },
    "files": [
      {
        "sha": "6046237101cc5a24fba6bf25fa00599607c60f07",
        "filename": "test/functional/p2p_addr_relay.py",
        "status": "added",
        "additions": 71,
        "deletions": 0,
        "changes": 71,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa1da3d4bfc0511a89f5b19d5a4d89e55ff7ccde/test/functional/p2p_addr_relay.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa1da3d4bfc0511a89f5b19d5a4d89e55ff7ccde/test/functional/p2p_addr_relay.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/p2p_addr_relay.py?ref=fa1da3d4bfc0511a89f5b19d5a4d89e55ff7ccde",
        "patch": "@@ -0,0 +1,71 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test addr relay\n+\"\"\"\n+\n+from test_framework.messages import (\n+    CAddress,\n+    NODE_NETWORK,\n+    NODE_WITNESS,\n+    msg_addr,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+)\n+import time\n+\n+ADDRS = []\n+for i in range(10):\n+    addr = CAddress()\n+    addr.time = int(time.time()) + i\n+    addr.nServices = NODE_NETWORK | NODE_WITNESS\n+    addr.ip = \"123.123.123.{}\".format(i % 256)\n+    addr.port = 8333 + i\n+    ADDRS.append(addr)\n+\n+\n+class AddrReceiver(P2PInterface):\n+    def on_addr(self, message):\n+        for addr in message.addrs:\n+            assert_equal(addr.nServices, 9)\n+            assert addr.ip.startswith('123.123.123.')\n+            assert (8333 <= addr.port < 8343)\n+\n+\n+class AddrTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.log.info('Create connection that sends addr messages')\n+        addr_source = self.nodes[0].add_p2p_connection(P2PInterface())\n+        msg = msg_addr()\n+\n+        self.log.info('Send too large addr message')\n+        msg.addrs = ADDRS * 101\n+        with self.nodes[0].assert_debug_log(['message addr size() = 1010']):\n+            addr_source.send_and_ping(msg)\n+\n+        self.log.info('Check that addr message content is relayed and added to addrman')\n+        addr_receiver = self.nodes[0].add_p2p_connection(AddrReceiver())\n+        msg.addrs = ADDRS\n+        with self.nodes[0].assert_debug_log([\n+                'Added 10 addresses from 127.0.0.1: 0 tried',\n+                'received: addr (301 bytes) peer=0',\n+                'sending addr (301 bytes) peer=1',\n+        ]):\n+            addr_source.send_and_ping(msg)\n+            self.nodes[0].setmocktime(int(time.time()) + 30 * 60)\n+            addr_receiver.sync_with_ping()\n+\n+\n+if __name__ == '__main__':\n+    AddrTest().main()"
      },
      {
        "sha": "d6181af9347cdaa093ca83c2b0fd4c6300b9d7ec",
        "filename": "test/functional/test_runner.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa1da3d4bfc0511a89f5b19d5a4d89e55ff7ccde/test/functional/test_runner.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa1da3d4bfc0511a89f5b19d5a4d89e55ff7ccde/test/functional/test_runner.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_runner.py?ref=fa1da3d4bfc0511a89f5b19d5a4d89e55ff7ccde",
        "patch": "@@ -144,6 +144,7 @@\n     'rpc_blockchain.py',\n     'rpc_deprecated.py',\n     'wallet_disable.py',\n+    'p2p_addr_relay.py',\n     'rpc_net.py',\n     'wallet_keypool.py',\n     'p2p_mempool.py',"
      }
    ]
  }
]