DrahtBot,2018-11-26T12:33:12Z,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14519](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14519.html) (tests: add utility to easily profile node p",https://github.com/bitcoin/bitcoin/pull/14805#issuecomment-441623236,441623236,
laanwj,2018-12-13T14:00:51Z,"LGTM, though we don't *need* it at the moment, this is a sufficiently small and useful change I don't see any reason to consider not merging it.\nutACK 98a1846b00d9c3076d6dcd96244fae6f923e26a0\n",https://github.com/bitcoin/bitcoin/pull/14805#issuecomment-446978111,446978111,
jnewbery,2018-12-13T16:00:17Z,"(sorry for the post-merge review. I only just saw this)\n\nThis isn't really safe and I suggest we revert it. `add_nodes` was designed to only be called once at the top of the test. The idea is that the number of required nodes is declared up front, and each node can then be stopped/started during the test.\n\nWe *could* relax that restriction if necessary, but I don't think it is necessary. I",https://github.com/bitcoin/bitcoin/pull/14805#issuecomment-447021398,447021398,
stevenroose,2018-12-14T10:22:06Z,"Yeah, without documentation, the name `add_nodes` suggests that you can ""add"" nodes with it, implying it should be able to be called more than once.\n\n> if add_nodes() is called later in the test with the num_nodes argument set to >1, each of the additional new nodes will have the same index (see self.nodes.append(TestNode(numnode,...)\n\nThat is not true, that is exactly the issue that I sol",https://github.com/bitcoin/bitcoin/pull/14805#issuecomment-447281699,447281699,
jnewbery,2018-12-14T15:38:10Z,"> That is not true, that is exactly the issue that I solved.\n\nApologies, yes - you're right.\n\nI believe the first point is still a problem.",https://github.com/bitcoin/bitcoin/pull/14805#issuecomment-447361647,447361647,
promag,2018-11-26T11:56:32Z,"nit, we could return the added nodes.",https://github.com/bitcoin/bitcoin/pull/14805#discussion_r236225247,236225247,test/functional/test_framework/test_framework.py
jimmysong,2018-11-26T22:26:33Z,"if you're not going to use `i`, this is better:\n\n`for _ in range(num_nodes):`",https://github.com/bitcoin/bitcoin/pull/14805#discussion_r236452190,236452190,test/functional/test_framework/test_framework.py
promag,2018-11-26T22:43:11Z,It's used.,https://github.com/bitcoin/bitcoin/pull/14805#discussion_r236456889,236456889,test/functional/test_framework/test_framework.py
