[
  {
    "sha": "b4f3e9c09eab533179be8efe478a0f21c3f83e6c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiNGYzZTljMDllYWI1MzMxNzliZThlZmU0NzhhMGYyMWMzZjgzZTZj",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2015-11-17T10:17:09Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2015-11-19T10:08:29Z"
      },
      "message": "ui: Add \"Copy raw transaction data\" to transaction list context menu\n\nAdd a way to quickly copy transaction hex.\n\nPrimarily useful when manually submitting transactions,\ne.g. `-walletbroadcast=0` is set.",
      "tree": {
        "sha": "6b89bb89cd487db59149e372a4ed477e928ec0a9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6b89bb89cd487db59149e372a4ed477e928ec0a9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b4f3e9c09eab533179be8efe478a0f21c3f83e6c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b4f3e9c09eab533179be8efe478a0f21c3f83e6c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b4f3e9c09eab533179be8efe478a0f21c3f83e6c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b4f3e9c09eab533179be8efe478a0f21c3f83e6c/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "eac53ec992018a14db6f8a65a7ce333a4c8284cc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eac53ec992018a14db6f8a65a7ce333a4c8284cc",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/eac53ec992018a14db6f8a65a7ce333a4c8284cc"
      }
    ],
    "stats": {
      "total": 26,
      "additions": 26,
      "deletions": 0
    },
    "files": [
      {
        "sha": "e8ada9f762dfa934e0a7cc575d6ef687d6a00b31",
        "filename": "src/qt/transactiontablemodel.cpp",
        "status": "modified",
        "additions": 15,
        "deletions": 0,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4f3e9c09eab533179be8efe478a0f21c3f83e6c/src/qt/transactiontablemodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4f3e9c09eab533179be8efe478a0f21c3f83e6c/src/qt/transactiontablemodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactiontablemodel.cpp?ref=b4f3e9c09eab533179be8efe478a0f21c3f83e6c",
        "patch": "@@ -13,6 +13,7 @@\n #include \"transactionrecord.h\"\n #include \"walletmodel.h\"\n \n+#include \"core_io.h\"\n #include \"main.h\"\n #include \"sync.h\"\n #include \"uint256.h\"\n@@ -220,6 +221,18 @@ class TransactionTablePriv\n         }\n         return QString();\n     }\n+\n+    QString getTxHex(TransactionRecord *rec)\n+    {\n+        LOCK2(cs_main, wallet->cs_wallet);\n+        std::map<uint256, CWalletTx>::iterator mi = wallet->mapWallet.find(rec->hash);\n+        if(mi != wallet->mapWallet.end())\n+        {\n+            std::string strHex = EncodeHexTx(static_cast<CTransaction>(mi->second));\n+            return QString::fromStdString(strHex);\n+        }\n+        return QString();\n+    }\n };\n \n TransactionTableModel::TransactionTableModel(const PlatformStyle *platformStyle, CWallet* wallet, WalletModel *parent):\n@@ -594,6 +607,8 @@ QVariant TransactionTableModel::data(const QModelIndex &index, int role) const\n         return rec->getTxID();\n     case TxHashRole:\n         return QString::fromStdString(rec->hash.ToString());\n+    case TxHexRole:\n+        return priv->getTxHex(rec);\n     case ConfirmedRole:\n         return rec->status.countsForBalance;\n     case FormattedAmountRole:"
      },
      {
        "sha": "601f893d47ecb1c103b9429736d435fb21dae351",
        "filename": "src/qt/transactiontablemodel.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4f3e9c09eab533179be8efe478a0f21c3f83e6c/src/qt/transactiontablemodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4f3e9c09eab533179be8efe478a0f21c3f83e6c/src/qt/transactiontablemodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactiontablemodel.h?ref=b4f3e9c09eab533179be8efe478a0f21c3f83e6c",
        "patch": "@@ -60,6 +60,8 @@ class TransactionTableModel : public QAbstractTableModel\n         TxIDRole,\n         /** Transaction hash */\n         TxHashRole,\n+        /** Transaction data, hex-encoded */\n+        TxHexRole,\n         /** Is transaction confirmed? */\n         ConfirmedRole,\n         /** Formatted amount, without brackets when unconfirmed */"
      },
      {
        "sha": "11e6d750ac320a493ec028382f35505b8d70024a",
        "filename": "src/qt/transactionview.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4f3e9c09eab533179be8efe478a0f21c3f83e6c/src/qt/transactionview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4f3e9c09eab533179be8efe478a0f21c3f83e6c/src/qt/transactionview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactionview.cpp?ref=b4f3e9c09eab533179be8efe478a0f21c3f83e6c",
        "patch": "@@ -141,6 +141,7 @@ TransactionView::TransactionView(const PlatformStyle *platformStyle, QWidget *pa\n     QAction *copyLabelAction = new QAction(tr(\"Copy label\"), this);\n     QAction *copyAmountAction = new QAction(tr(\"Copy amount\"), this);\n     QAction *copyTxIDAction = new QAction(tr(\"Copy transaction ID\"), this);\n+    QAction *copyTxHexAction = new QAction(tr(\"Copy raw transaction\"), this);\n     QAction *editLabelAction = new QAction(tr(\"Edit label\"), this);\n     QAction *showDetailsAction = new QAction(tr(\"Show transaction details\"), this);\n \n@@ -149,6 +150,7 @@ TransactionView::TransactionView(const PlatformStyle *platformStyle, QWidget *pa\n     contextMenu->addAction(copyLabelAction);\n     contextMenu->addAction(copyAmountAction);\n     contextMenu->addAction(copyTxIDAction);\n+    contextMenu->addAction(copyTxHexAction);\n     contextMenu->addAction(editLabelAction);\n     contextMenu->addAction(showDetailsAction);\n \n@@ -170,6 +172,7 @@ TransactionView::TransactionView(const PlatformStyle *platformStyle, QWidget *pa\n     connect(copyLabelAction, SIGNAL(triggered()), this, SLOT(copyLabel()));\n     connect(copyAmountAction, SIGNAL(triggered()), this, SLOT(copyAmount()));\n     connect(copyTxIDAction, SIGNAL(triggered()), this, SLOT(copyTxID()));\n+    connect(copyTxHexAction, SIGNAL(triggered()), this, SLOT(copyTxHex()));\n     connect(editLabelAction, SIGNAL(triggered()), this, SLOT(editLabel()));\n     connect(showDetailsAction, SIGNAL(triggered()), this, SLOT(showDetails()));\n }\n@@ -380,6 +383,11 @@ void TransactionView::copyTxID()\n     GUIUtil::copyEntryData(transactionView, 0, TransactionTableModel::TxIDRole);\n }\n \n+void TransactionView::copyTxHex()\n+{\n+    GUIUtil::copyEntryData(transactionView, 0, TransactionTableModel::TxHexRole);\n+}\n+\n void TransactionView::editLabel()\n {\n     if(!transactionView->selectionModel() ||!model)"
      },
      {
        "sha": "dde700c4d1498abbd713e2a750b7418ed95aae8c",
        "filename": "src/qt/transactionview.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4f3e9c09eab533179be8efe478a0f21c3f83e6c/src/qt/transactionview.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4f3e9c09eab533179be8efe478a0f21c3f83e6c/src/qt/transactionview.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactionview.h?ref=b4f3e9c09eab533179be8efe478a0f21c3f83e6c",
        "patch": "@@ -93,6 +93,7 @@ private Q_SLOTS:\n     void copyLabel();\n     void copyAmount();\n     void copyTxID();\n+    void copyTxHex();\n     void openThirdPartyTxUrl(QString url);\n     void updateWatchOnlyColumn(bool fHaveWatchOnly);\n "
      }
    ]
  }
]