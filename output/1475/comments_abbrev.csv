burger2,2012-06-17T18:07:19Z,It's hard to test when testnet isn't working that good on my computer.\n,https://github.com/bitcoin/bitcoin/pull/1475#issuecomment-6383261,6383261,
laanwj,2012-06-17T18:34:42Z,"I don't think this is the right solution. The view classes (Overviewpage, SendCoinsDialog, ...) should not be burdened with implementation details such as new blocks coming in. As I understand, there is a problem with WalletModel not sending the BalanceUpdated signal every time the Balance changes. Hence, this should be fixed in WalletModel.\n\nThe problem seems to be that some kind of transaction",https://github.com/bitcoin/bitcoin/pull/1475#issuecomment-6383517,6383517,
Diapolo,2012-06-17T19:41:55Z,"@burger2 To fix your testnet problems try out #1477. Current master has a bug, which gives all testnet nodes on IRC the same NICK, which causes the current testnet3 troubles.\n\n@laanwj I think the immature balance, which then matures after 120 blocks is not taken correctly into account in terms of the `balanceChanged` signal. The state change from immature to mature, which also changes the curren",https://github.com/bitcoin/bitcoin/pull/1475#issuecomment-6384053,6384053,
laanwj,2012-06-17T19:51:05Z,"Yes, I'm going to implement this differently. This should really be restricted to WalletModel. It's indeed true that the balanceChanged signal in updateTransaction does not help here, but it could be emitted from different places as well. Having a non-functional balanceChanged signal and working around that means confusion for future updates, you should simply be able to connect to balanceChanged ",https://github.com/bitcoin/bitcoin/pull/1475#issuecomment-6384124,6384124,
Diapolo,2012-06-17T20:50:45Z,"That's fine, if you are currently working on a patch I'm going to stop further progress here. What about the changes to wallet and walletmodel? I'll quote myself:\n\nI'm sure the current call to GetCredit(pcoin) can't be correct, as it does:\n\n<pre>\nif (IsCoinBase() && GetBlocksToMaturity() > 0)\n            return 0;\n</pre>\n\n\nAnd this is the opposite of what we need for the immature coins, ",https://github.com/bitcoin/bitcoin/pull/1475#issuecomment-6384590,6384590,
laanwj,2012-06-17T21:02:30Z,"I'm not particularly known with that part of the code, but what do you think is wrong? To me, it reads like\n""If this is a coin-base (mined), _and_ there are more than 0 blocks left to maturity, the credit is 0"". Which makes sense to me.\n",https://github.com/bitcoin/bitcoin/pull/1475#issuecomment-6384732,6384732,
Diapolo,2012-06-17T21:09:19Z,It does a `return 0;` for the conditions we want to be true for adding immature coins together. Need to double check...\n,https://github.com/bitcoin/bitcoin/pull/1475#issuecomment-6384806,6384806,
Diapolo,2012-06-17T21:19:40Z,"The current master code uses GetCredit() from CWallet, while I added GetImmatureCredit() into CWalletTx, which I think fit's better in there, as it's similar to CWallet::GetBalance() and CWallet::GetUnconfirmedBalance(). But you are probably right and the current code works.\n",https://github.com/bitcoin/bitcoin/pull/1475#issuecomment-6384909,6384909,
Diapolo,2012-06-17T21:33:45Z,"@laanwj I showed sipa the code, who also thinks the new function (CWallet::GetUnconfirmedBalance()) is cleaner ... but as this is unrelated to fixing the base-issue, I will create another pull and close this one!\n",https://github.com/bitcoin/bitcoin/pull/1475#issuecomment-6385060,6385060,
laanwj,2012-06-18T05:38:46Z,The change in WalletModel also makes sense (makes it somewhat more readable). The only thing I don't agree with are the changes in the views.\n,https://github.com/bitcoin/bitcoin/pull/1475#issuecomment-6388283,6388283,
Diapolo,2012-06-18T06:13:56Z,"That's fine, I'll open a new one and you patch the signal thing :).\n",https://github.com/bitcoin/bitcoin/pull/1475#issuecomment-6388610,6388610,
Diapolo,2012-06-20T13:16:40Z,"@laanwj Is your fix on track for 0.7, any branch you want me to test?\n",https://github.com/bitcoin/bitcoin/pull/1475#issuecomment-6453511,6453511,
