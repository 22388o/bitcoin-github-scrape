jonasschnelli,2015-02-10T08:26:41Z,"Tested.\nIndeed it fixed the problem listed above.\n\nBut why is there a `if(!associatedLabel.isEmpty())` check? Maybe it makes sense to not clear the label field if one selects a address from address-book without label. The user could have set a string there before selecting an address from the address book.\n\nBut i also think, that this fix could make sense. Overwriting the label field from the",https://github.com/bitcoin/bitcoin/pull/5781#issuecomment-73661488,73661488,
fsb4000,2015-02-10T13:44:33Z,@jonasschnelli\n\n> And why we need a ::compare here? Wouldn't it be sufficient to just remove the if(!associatedLabel.isEmpty()). There is no drawback in overwriting the label string with the same string IMO.\n\nActually yes. In Novacoin I deleted if(!associatedLabel.isEmpty()) and didn't use ::compare.\nhttps://github.com/fsb4000/novacoin/commit/470c4e06a2f6d379eef355b94fb6bee059c6cb12\nBut here,https://github.com/bitcoin/bitcoin/pull/5781#issuecomment-73700682,73700682,
laanwj,2015-02-18T12:11:08Z,"I remember this was 'fixed' quite a few times over git history. It's worth getting this right. Looks like quite brittle code with the compare, can't we distinguish the events some other way?\n",https://github.com/bitcoin/bitcoin/pull/5781#issuecomment-74854394,74854394,
fsb4000,2015-02-18T14:28:58Z,Sure\nWe can use:\n\n``` c++\nif( ui->addAsLabel->text() != associatedLabel)\n```\n\nif you don't want use QString::compare.\n,https://github.com/bitcoin/bitcoin/pull/5781#issuecomment-74871937,74871937,
laanwj,2015-02-19T10:18:22Z,"I wasn't complaining about usage of the compare function.\n\nMore that this behavior (AFAIK) has been changed back and forth over the history, which usually indicates something else is wrong. If I understand correctly this basically brings back the pre- f9f75f320eedbc33f80f3978703db72dca76a94b behavior of always changing the label and thus #840.\n",https://github.com/bitcoin/bitcoin/pull/5781#issuecomment-75027931,75027931,
Diapolo,2015-02-19T11:23:31Z,I also remember I was already on this a while ago... I can't recover what I did exactly :-/.\n,https://github.com/bitcoin/bitcoin/pull/5781#issuecomment-75036606,75036606,
laanwj,2015-03-16T11:30:39Z,So has anyone tested this? Does it bring back issue #840?\n,https://github.com/bitcoin/bitcoin/pull/5781#issuecomment-81591069,81591069,
fsb4000,2015-03-16T11:36:23Z,"Yes, it bring back the issue :(\n",https://github.com/bitcoin/bitcoin/pull/5781#issuecomment-81593613,81593613,
laanwj,2015-04-15T11:22:44Z,Do you intend to fix this so that doesn't re-introduce an old issue?\n,https://github.com/bitcoin/bitcoin/pull/5781#issuecomment-93334176,93334176,
fsb4000,2015-04-16T15:30:21Z,no\n,https://github.com/bitcoin/bitcoin/pull/5781#issuecomment-93764247,93764247,
jonasschnelli,2015-02-10T08:28:28Z,"Why don't you pack the `QString::compare(ui->addAsLabel->text(), associatedLabel, Qt::CaseSensitive)` into the if:\n`if (QString::compare(ui->addAsLabel->text(), associatedLabel, Qt::CaseSensitive))`\n\nAnd why we need a `::compare` here? Wouldn't it be sufficient to just remove the `if(!associatedLabel.isEmpty())`. There is no drawback in overwriting the label string with the same string IMO.\n",https://github.com/bitcoin/bitcoin/pull/5781#discussion_r24395666,24395666,src/qt/sendcoinsentry.cpp
jonasschnelli,2015-02-10T08:29:17Z,"at this point, `res` can only be `false`. Changing line 261 makes no sense to me.\n",https://github.com/bitcoin/bitcoin/pull/5781#discussion_r24395703,24395703,src/qt/sendcoinsentry.cpp
fsb4000,2015-02-10T13:35:00Z,"res can be and false and true. (Because I deleted return true from if)\nOk, I will change the code now.\n",https://github.com/bitcoin/bitcoin/pull/5781#discussion_r24411714,24411714,src/qt/sendcoinsentry.cpp
