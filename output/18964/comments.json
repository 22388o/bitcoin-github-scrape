[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/627639630",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18964#issuecomment-627639630",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18964",
    "id": 627639630,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNzYzOTYzMA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-12T22:46:37Z",
    "updated_at": "2020-05-12T22:46:37Z",
    "author_association": "MEMBER",
    "body": "Q1 - should this be optional? \ud83e\udd14\r\nQ2 - should include all import calls here? (draft because of this)\r\n\r\n@ryanofsky FYI currently using `requestMempoolTransactions`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/627639630/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628008566",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18964#issuecomment-628008566",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18964",
    "id": 628008566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODAwODU2Ng==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-13T14:00:06Z",
    "updated_at": "2020-05-13T14:00:20Z",
    "author_association": "MEMBER",
    "body": "> Concept ACK.\r\n> \r\n> From reading the code, the first commit can never pass tests?\r\n\r\nWhy?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628008566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628025638",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18964#issuecomment-628025638",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18964",
    "id": 628025638,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODAyNTYzOA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-13T14:26:24Z",
    "updated_at": "2020-05-13T14:26:24Z",
    "author_association": "MEMBER",
    "body": "I assumed that the check after `importprivkey` might fail because of the missing rescan, but that might not be the case, as the wallet already knows the tx is in the mempool.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628025638/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628026434",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18964#issuecomment-628026434",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18964",
    "id": 628026434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODAyNjQzNA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-13T14:27:33Z",
    "updated_at": "2020-05-13T14:27:33Z",
    "author_association": "MEMBER",
    "body": "> I assumed that the check after `importprivkey` might fail because of the missing rescan, but that might not be the case, as the wallet already knows the tx is in the mempool.\r\n\r\nCorrect, that's why the 2nd commit tests `importprivkey` with a fresh wallet.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628026434/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628042279",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18964#issuecomment-628042279",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18964",
    "id": 628042279,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODA0MjI3OQ==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-13T14:50:18Z",
    "updated_at": "2020-05-13T14:50:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "This looks very good, and should be extended to work with other import rpcs (also maybe in the future `sethdseed`, found I needed a rescan recently there too).\r\n\r\nI would probably **not** make this conditioned on the rescan option, just because as a user I can't think of any real world case where I'd want to import a key and not have the wallet detect mempool transactions using that key. This is different from the very real `rescan=false` use-case, which is to avoid rescanning blocks because rescanning blocks is ridiculously slow. If in the future someone thinks of a use-case for importing keys without scanning the mempool, we could always extend the rescan option",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628042279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628046953",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18964#issuecomment-628046953",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18964",
    "id": 628046953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODA0Njk1Mw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-13T14:56:48Z",
    "updated_at": "2020-05-13T14:56:48Z",
    "author_association": "MEMBER",
    "body": "> because rescanning blocks is ridiculously slow\r\n\r\nThe mempool can have 100s of MBs of transactions. I haven't crunched the numbers, but we should make sure that import RPCs don't get slow either.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628046953/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628049485",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18964#issuecomment-628049485",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18964",
    "id": 628049485,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODA0OTQ4NQ==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-13T15:00:30Z",
    "updated_at": "2020-05-13T15:00:30Z",
    "author_association": "MEMBER",
    "body": "Right, and it would be even worse with big wallets.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628049485/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628580719",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18964#issuecomment-628580719",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18964",
    "id": 628580719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODU4MDcxOQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-14T11:47:43Z",
    "updated_at": "2020-05-14T11:47:43Z",
    "author_association": "MEMBER",
    "body": "Suggested doc fixup:\r\n\r\n```diff\r\ndiff --git a/src/wallet/rpcdump.cpp b/src/wallet/rpcdump.cpp\r\nindex 7bf3d169c3..4d1ba7ebf5 100644\r\n--- a/src/wallet/rpcdump.cpp\r\n+++ b/src/wallet/rpcdump.cpp\r\n@@ -103,11 +103,13 @@ UniValue importprivkey(const JSONRPCRequest& request)\r\n                 \"Hint: use importmulti to import more than one private key.\\n\"\r\n             \"\\nNote: This call can take over an hour to complete if rescan is true, during that time, other rpc calls\\n\"\r\n             \"may report that the imported key exists but related transactions are still missing, leading to temporarily incorrect/bogus balances and unspent outputs until rescan completes.\\n\"\r\n+            \"The rescan parameter can be set to false if the key was never used to create transactions. If it is set to false,\\n\"\r\n+            \"but the key was used to create transactions, rescanwallet needs to be called with the appropriate block range.\\n\"\r\n             \"Note: Use \\\"getwalletinfo\\\" to query the scanning progress.\\n\",\r\n                 {\r\n                     {\"privkey\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The private key (see dumpprivkey)\"},\r\n                     {\"label\", RPCArg::Type::STR, /* default */ \"current label if address exists, otherwise \\\"\\\"\", \"An optional label\"},\r\n-                    {\"rescan\", RPCArg::Type::BOOL, /* default */ \"true\", \"Rescan the wallet for transactions\"},\r\n+                    {\"rescan\", RPCArg::Type::BOOL, /* default */ \"true\", \"Scan the chain and mempool for wallet transactions.\"},\r\n                 },\r\n                 RPCResult{RPCResult::Type::NONE, \"\", \"\"},\r\n                 RPCExamples{\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628580719/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/633527231",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18964#issuecomment-633527231",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18964",
    "id": 633527231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMzUyNzIzMQ==",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?u=348c27f90b6fff8fd72fa27232272651436a2ff0&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-25T11:32:16Z",
    "updated_at": "2020-05-25T11:32:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK\r\n\r\nI don't have a good feeling for the performance of a large mempool rescan but I do believe it will have a considerable impact for nodes with large, full mempools. So I agree it should be added to the rescan RPC and it should not be run for the `import*` RPCs in case of `rescan=false`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/633527231/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/424403293",
    "pull_request_review_id": 410879835,
    "id": 424403293,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQwMzI5Mw==",
    "diff_hunk": "@@ -185,6 +185,8 @@ UniValue importprivkey(const JSONRPCRequest& request)\n                 pwallet->ImportScripts({GetScriptForDestination(WitnessV0KeyHash(vchAddress))}, 0 /* timestamp */);\n             }\n         }\n+        // Scan mempool for transactions\n+        pwallet->chain().requestMempoolTransactions(*pwallet);",
    "path": "src/wallet/rpcdump.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "cb652c5b7ef87af04bc0e555c7d7fc8a5cc5ed72",
    "original_commit_id": "cb652c5b7ef87af04bc0e555c7d7fc8a5cc5ed72",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why is this done even when rescan is turned off? I think this should only be run when rescan is on.\r\n\r\nIf the user turns off rescan, they know that\r\n* either no transaction has happened in the past, so rescan is not needed\r\n* or they do a full rescan later\r\n\r\nThis also means that this should be added to the rescan RPC.",
    "created_at": "2020-05-13T12:38:47Z",
    "updated_at": "2020-05-13T12:39:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18964#discussion_r424403293",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18964",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/424403293"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18964#discussion_r424403293"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18964"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/424403293/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 189,
    "original_line": 189,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/424480423",
    "pull_request_review_id": 410980103,
    "id": 424480423,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ4MDQyMw==",
    "diff_hunk": "@@ -185,6 +185,8 @@ UniValue importprivkey(const JSONRPCRequest& request)\n                 pwallet->ImportScripts({GetScriptForDestination(WitnessV0KeyHash(vchAddress))}, 0 /* timestamp */);\n             }\n         }\n+        // Scan mempool for transactions\n+        pwallet->chain().requestMempoolTransactions(*pwallet);",
    "path": "src/wallet/rpcdump.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "cb652c5b7ef87af04bc0e555c7d7fc8a5cc5ed72",
    "original_commit_id": "cb652c5b7ef87af04bc0e555c7d7fc8a5cc5ed72",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> This also means that this should be added to the rescan RPC.\r\n\r\nMight be the best approach, it would cover any import that rescans and also manual rescan. So in practice `ScanForWalletTransactions` where `stop_block.IsNull` would scan mempool too?",
    "created_at": "2020-05-13T14:26:00Z",
    "updated_at": "2020-05-13T14:26:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18964#discussion_r424480423",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18964",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/424480423"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18964#discussion_r424480423"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18964"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/424480423/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 189,
    "original_line": 189,
    "side": "RIGHT",
    "in_reply_to_id": 424403293
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484093472",
    "pull_request_review_id": 483159472,
    "id": 484093472,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA5MzQ3Mg==",
    "diff_hunk": "@@ -185,6 +185,8 @@ UniValue importprivkey(const JSONRPCRequest& request)\n                 pwallet->ImportScripts({GetScriptForDestination(WitnessV0KeyHash(vchAddress))}, 0 /* timestamp */);\n             }\n         }\n+        // Scan mempool for transactions\n+        pwallet->chain().requestMempoolTransactions(*pwallet);",
    "path": "src/wallet/rpcdump.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "cb652c5b7ef87af04bc0e555c7d7fc8a5cc5ed72",
    "original_commit_id": "cb652c5b7ef87af04bc0e555c7d7fc8a5cc5ed72",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> So in practice `ScanForWalletTransactions` where `stop_block.IsNull` would scan mempool too?\r\n\r\n@MarcoFalke is this your suggestion?",
    "created_at": "2020-09-06T17:12:51Z",
    "updated_at": "2020-09-06T17:12:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18964#discussion_r484093472",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18964",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484093472"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18964#discussion_r484093472"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18964"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484093472/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 189,
    "original_line": 189,
    "side": "RIGHT",
    "in_reply_to_id": 424403293
  }
]