gavinandresen,2012-03-26T18:36:23Z,"ACK.  Tested on my Mac via:\n1. Run old code with luke's broken testnet/ dir : result: hang\n2. Restore addr.dat with addr.dat.hang\n3. Re-run with this patch : result : happy bitcoind\n\nsipa: any idea why this fixes the issue, or what the issue was in the first place?\n",https://github.com/bitcoin/bitcoin/pull/994#issuecomment-4700940,4700940,
sipa,2012-03-26T18:42:07Z,"No, I don't understand what's going on. I made bitcoind close the entire database environnement and create a new one when doing the rewrite, and it still blocks as soon as it tries to write a single value to the file. I have no idea what it is waiting for, but bdb calls pthread_cond_wait while there is only a single thread alive, which means a guaranteed deadlock.\n",https://github.com/bitcoin/bitcoin/pull/994#issuecomment-4701066,4701066,
