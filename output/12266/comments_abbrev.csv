TheBlueMatt,2018-01-25T02:23:05Z,Needs an 0.16 tag.,https://github.com/bitcoin/bitcoin/pull/12266#issuecomment-360340271,360340271,
theuni,2018-01-26T23:36:37Z,"Since the scheduler is going to need a proper Interrupt/Shutdown before dropping the threadGroup anyway, can we just take this opportunity to create those? Then we could just skip the threadGroup.interrupt_all(), and the .join_all() would finish immediately.\n\nThat would be much easier to review, IMO, because it makes the scheduler's teardown procedure explicit.",https://github.com/bitcoin/bitcoin/pull/12266#issuecomment-360934783,360934783,
laanwj,2018-01-28T08:49:04Z,"> Then we could just skip the threadGroup.interrupt_all(), and the .join_all() would finish immediately.\n\nRight - the longer term plan is to rid of 'threadgroup' completely, by giving each 'module' its own Interrupt/Shutdown.\n\nBut more often than not, changes to shutdown introduced new problems. I think this is very risky to do this last minute for 0.16.\n\nIs there a more minimalistic, ",https://github.com/bitcoin/bitcoin/pull/12266#issuecomment-361047434,361047434,
TheBlueMatt,2018-01-29T14:19:04Z,"Given that threadGroup is *only* used for scheduler and checkqueue, I'd strongly object to this being more than a rather-minimalistic change. The ""obvious, minimalistic"" change is to keep the scheduler running until after CConnman has been Stop()ed, which this does, the only additional thing is it keeps the checkqueue running, which is a rather trivial change.",https://github.com/bitcoin/bitcoin/pull/12266#issuecomment-361259054,361259054,
promag,2018-01-29T21:37:09Z,"> But more often than not, changes to shutdown introduced new problems. I think this is very risky to do this last minute for 0.16.\n\nAgree.\n\nIs there a way I can reproduce the issue?",https://github.com/bitcoin/bitcoin/pull/12266#issuecomment-361394983,361394983,
laanwj,2018-01-30T08:53:17Z,"I discussed with @TheBlueMatt on IRC and now I think this is very straightforward - there's not much left using the thread group (only the scheduler and checkqueue), and anything that removes the global thread group will also need the changes to remove the arguments. So it's a step forward in that regard.\n\nSo utACK 082a61c69d7a539b5a48c4376a657f1c5aa92d81",https://github.com/bitcoin/bitcoin/pull/12266#issuecomment-361519571,361519571,
meshcollider,2018-01-30T11:09:53Z,I'm not too familiar with the thread management but this looks straightforward enough for me to at least give a concept ACK / tentative utACK https://github.com/bitcoin/bitcoin/pull/12266/commits/082a61c69d7a539b5a48c4376a657f1c5aa92d81,https://github.com/bitcoin/bitcoin/pull/12266#issuecomment-361560897,361560897,
morcos,2018-01-30T14:48:33Z,posthumous utACK,https://github.com/bitcoin/bitcoin/pull/12266#issuecomment-361615620,361615620,
promag,2018-01-25T09:43:18Z,static?,https://github.com/bitcoin/bitcoin/pull/12266#discussion_r163791819,163791819,src/init.cpp
promag,2018-01-25T09:44:33Z,static?,https://github.com/bitcoin/bitcoin/pull/12266#discussion_r163792108,163792108,src/init.cpp
