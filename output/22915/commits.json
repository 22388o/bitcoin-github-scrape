[
  {
    "sha": "fa3f5d0dae2381038439b91ef2af85ec277c8294",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTNmNWQwZGFlMjM4MTAzODQzOWI5MWVmMmFmODVlYzI3N2M4Mjk0",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-09-07T08:48:45Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-09-07T08:44:43Z"
      },
      "message": "Move addrman includes from .h to .cpp\n\nThis is a follow-up to the code move in commit a820e79512b67b1bfda20bdc32b47086d2b0910d",
      "tree": {
        "sha": "ba07fa105500cdf5a94611b39a9f831e9b15f789",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ba07fa105500cdf5a94611b39a9f831e9b15f789"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa3f5d0dae2381038439b91ef2af85ec277c8294",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgGJAv/eJ3LRtIE37QNnmk+qP9GGkwih+v+2U6sVqJYz2J2xSJxxleVVmm/lL+J\nJztWHvmruBsiFr1ySCBPiFVCgpCZ9pcymvd9olRq45li/tPC4jxt0edoIJQ681di\n1V9g9o/zmR54RWyns23wt5A5e/f0XfZ+DsfCHlPp51IUnaHrei2/F87RCcoYErla\nkflneImaFfU9qZi6zCLOGUzjGsaDDzgG+aW4Ia5tol5ECbnkZwzG9y5mPtSZPjuB\noKekZRlhY9o8ENf5nfHoqhPvgSPgjU9x6PBk+CZr3E2rgY8M1t+WxAXAIUlhge/E\n9zALZ/cZL8G0nIKM7al8iAeKLACyT3xh1gyUvhAl7Pxn0aBEamJ+Pf99OVcU4d+v\n0PI14Uf+cPT8XCtcB78jmJwynvcTThxRQWqYwG9q+bkv8e29YjKWImmnynruMatV\n4FPqWJV76htydJDu8VepvuZKPwdWLe/cnMW979n97HsYNs1KxdG/Nw0CkkcalHLb\nHljhy3ry\n=y8H1\n-----END PGP SIGNATURE-----",
        "payload": "tree ba07fa105500cdf5a94611b39a9f831e9b15f789\nparent 9393666e7817c6d745789144f3a1ac61fe6cdecf\nauthor MarcoFalke <falke.marco@gmail.com> 1631004525 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1631004283 +0200\n\nMove addrman includes from .h to .cpp\n\nThis is a follow-up to the code move in commit a820e79512b67b1bfda20bdc32b47086d2b0910d\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa3f5d0dae2381038439b91ef2af85ec277c8294",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa3f5d0dae2381038439b91ef2af85ec277c8294",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa3f5d0dae2381038439b91ef2af85ec277c8294/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "9393666e7817c6d745789144f3a1ac61fe6cdecf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9393666e7817c6d745789144f3a1ac61fe6cdecf",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/9393666e7817c6d745789144f3a1ac61fe6cdecf"
      }
    ],
    "stats": {
      "total": 23,
      "additions": 11,
      "deletions": 12
    },
    "files": [
      {
        "sha": "bf1230110f8a21d9e2d068cb588c1b6f0e12315e",
        "filename": "src/addrman.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa3f5d0dae2381038439b91ef2af85ec277c8294/src/addrman.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa3f5d0dae2381038439b91ef2af85ec277c8294/src/addrman.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/addrman.cpp?ref=fa3f5d0dae2381038439b91ef2af85ec277c8294",
        "patch": "@@ -5,10 +5,12 @@\n \n #include <addrman.h>\n \n+#include <clientversion.h>\n #include <hash.h>\n #include <logging.h>\n #include <netaddress.h>\n #include <serialize.h>\n+#include <streams.h>\n \n #include <cmath>\n #include <optional>"
      },
      {
        "sha": "14cc113f94d66d7f36be3ce54d1b55847573180f",
        "filename": "src/addrman.h",
        "status": "modified",
        "additions": 2,
        "deletions": 9,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa3f5d0dae2381038439b91ef2af85ec277c8294/src/addrman.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa3f5d0dae2381038439b91ef2af85ec277c8294/src/addrman.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/addrman.h?ref=fa3f5d0dae2381038439b91ef2af85ec277c8294",
        "patch": "@@ -6,23 +6,16 @@\n #ifndef BITCOIN_ADDRMAN_H\n #define BITCOIN_ADDRMAN_H\n \n-#include <clientversion.h>\n-#include <config/bitcoin-config.h>\n #include <fs.h>\n-#include <hash.h>\n+#include <logging.h>\n #include <netaddress.h>\n #include <protocol.h>\n-#include <random.h>\n-#include <streams.h>\n #include <sync.h>\n #include <timedata.h>\n-#include <tinyformat.h>\n-#include <util/system.h>\n \n-#include <iostream>\n+#include <cstdint>\n #include <optional>\n #include <set>\n-#include <stdint.h>\n #include <unordered_map>\n #include <vector>\n "
      },
      {
        "sha": "4a8ec55630638dc84d76b287fd08a09368ebab10",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa3f5d0dae2381038439b91ef2af85ec277c8294/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa3f5d0dae2381038439b91ef2af85ec277c8294/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=fa3f5d0dae2381038439b91ef2af85ec277c8294",
        "patch": "@@ -24,6 +24,7 @@\n #include <scheduler.h>\n #include <util/sock.h>\n #include <util/strencodings.h>\n+#include <util/system.h>\n #include <util/thread.h>\n #include <util/trace.h>\n #include <util/translation.h>"
      },
      {
        "sha": "5eeb2d5308e20520cd52c07c07b244f61decf9d9",
        "filename": "src/qt/walletframe.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa3f5d0dae2381038439b91ef2af85ec277c8294/src/qt/walletframe.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa3f5d0dae2381038439b91ef2af85ec277c8294/src/qt/walletframe.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.cpp?ref=fa3f5d0dae2381038439b91ef2af85ec277c8294",
        "patch": "@@ -11,6 +11,7 @@\n #include <qt/psbtoperationsdialog.h>\n #include <qt/walletmodel.h>\n #include <qt/walletview.h>\n+#include <util/system.h>\n \n #include <cassert>\n "
      },
      {
        "sha": "4ed06d588ba57dd4def19c716ccf26aa25514cb2",
        "filename": "src/test/addrman_tests.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 3,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa3f5d0dae2381038439b91ef2af85ec277c8294/src/test/addrman_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa3f5d0dae2381038439b91ef2af85ec277c8294/src/test/addrman_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/addrman_tests.cpp?ref=fa3f5d0dae2381038439b91ef2af85ec277c8294",
        "patch": "@@ -5,13 +5,14 @@\n #include <addrdb.h>\n #include <addrman.h>\n #include <chainparams.h>\n+#include <clientversion.h>\n+#include <hash.h>\n+#include <netbase.h>\n+#include <random.h>\n #include <test/data/asmap.raw.h>\n #include <test/util/setup_common.h>\n #include <util/asmap.h>\n #include <util/string.h>\n-#include <hash.h>\n-#include <netbase.h>\n-#include <random.h>\n \n #include <boost/test/unit_test.hpp>\n "
      },
      {
        "sha": "73a7d24971a4df1a1fd5f379f4dd06442cdfd98f",
        "filename": "src/test/fuzz/versionbits.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa3f5d0dae2381038439b91ef2af85ec277c8294/src/test/fuzz/versionbits.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa3f5d0dae2381038439b91ef2af85ec277c8294/src/test/fuzz/versionbits.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/versionbits.cpp?ref=fa3f5d0dae2381038439b91ef2af85ec277c8294",
        "patch": "@@ -6,6 +6,7 @@\n #include <chainparams.h>\n #include <consensus/params.h>\n #include <primitives/block.h>\n+#include <util/system.h>\n #include <versionbits.h>\n \n #include <test/fuzz/FuzzedDataProvider.h>"
      }
    ]
  },
  {
    "sha": "fa7f77b7d1709bf35808fced0d67b6e97b784d63",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTdmNzdiN2QxNzA5YmYzNTgwOGZjZWQwZDY3YjZlOTdiNzg0ZDYz",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-08-20T10:33:24Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-09-07T08:44:48Z"
      },
      "message": "Fix addrdb includes",
      "tree": {
        "sha": "9f367ad5af125d530f7af4f0f6cc46e46486fbce",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9f367ad5af125d530f7af4f0f6cc46e46486fbce"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa7f77b7d1709bf35808fced0d67b6e97b784d63",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUg1LgwAz1j8d6bIVH2xvcLAlkfjFyvZlkVHLbg2AWhgwkV+87mb4P2vmGyaeEKR\nhdVkYFvBbb2BwgobKhvQSXfzlKegZbhfmHA9wz+MMjLt1tLugWInQP4GRLRPvJVl\n1ar4xBwwAqMJH7l5QKDlgMPtq57WSZl+skAVwlkCHB8sm8PIoyHWB84X+1R0hXtR\nbOoVZhPDuVekMnr2hr8PHbHSCxrxB+TWVXEp33MMkt0EffQAtF184vS2MrQFn64T\ndTnmfZd8yhYB63GoZqlytNd2wGUax0h6q/VsC+Q32KY1R2mxUnMdIlhtp1XxjrKI\nDcKiWUnotuZYb5f5t/W+i106Yz7PrQQf4l2X7MgBZ9ytYIVUKLAadMU1BqcktPmc\nZhhRrZiCP4XOJnC34H2CS1vvZqeD/hU05n8HCLgW3nzFMw2kUzLoCAtZRZSCG/c2\n/6CLwZSQpOxPUK89bgIjgNrr7/RrFxxqVZiidtfIn5MuT0vFV4gu8rquF8gLpmYB\nWI66sBva\n=WylQ\n-----END PGP SIGNATURE-----",
        "payload": "tree 9f367ad5af125d530f7af4f0f6cc46e46486fbce\nparent fa3f5d0dae2381038439b91ef2af85ec277c8294\nauthor MarcoFalke <falke.marco@gmail.com> 1629455604 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1631004288 +0200\n\nFix addrdb includes\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa7f77b7d1709bf35808fced0d67b6e97b784d63",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa7f77b7d1709bf35808fced0d67b6e97b784d63",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa7f77b7d1709bf35808fced0d67b6e97b784d63/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa3f5d0dae2381038439b91ef2af85ec277c8294",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa3f5d0dae2381038439b91ef2af85ec277c8294",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa3f5d0dae2381038439b91ef2af85ec277c8294"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 4,
      "deletions": 1
    },
    "files": [
      {
        "sha": "48947ee967fe02dba425a0b191526406594c26bf",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa7f77b7d1709bf35808fced0d67b6e97b784d63/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa7f77b7d1709bf35808fced0d67b6e97b784d63/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=fa7f77b7d1709bf35808fced0d67b6e97b784d63",
        "patch": "@@ -9,6 +9,7 @@\n \n #include <net.h>\n \n+#include <addrdb.h>\n #include <banman.h>\n #include <clientversion.h>\n #include <compat.h>"
      },
      {
        "sha": "5aca0bd75c77a9406aab2585edbeaded4910995f",
        "filename": "src/net.h",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa7f77b7d1709bf35808fced0d67b6e97b784d63/src/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa7f77b7d1709bf35808fced0d67b6e97b784d63/src/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.h?ref=fa7f77b7d1709bf35808fced0d67b6e97b784d63",
        "patch": "@@ -6,7 +6,6 @@\n #ifndef BITCOIN_NET_H\n #define BITCOIN_NET_H\n \n-#include <addrdb.h>\n #include <addrman.h>\n #include <amount.h>\n #include <bloom.h>"
      },
      {
        "sha": "4b5b38e43f887e88264229f6c38c4ae22c15f155",
        "filename": "src/qt/bantablemodel.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa7f77b7d1709bf35808fced0d67b6e97b784d63/src/qt/bantablemodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa7f77b7d1709bf35808fced0d67b6e97b784d63/src/qt/bantablemodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bantablemodel.h?ref=fa7f77b7d1709bf35808fced0d67b6e97b784d63",
        "patch": "@@ -5,6 +5,7 @@\n #ifndef BITCOIN_QT_BANTABLEMODEL_H\n #define BITCOIN_QT_BANTABLEMODEL_H\n \n+#include <addrdb.h>\n #include <net.h>\n \n #include <memory>"
      },
      {
        "sha": "9c1022047ef9c91dd794ea76b54185d6b62d59c4",
        "filename": "src/test/fuzz/data_stream.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa7f77b7d1709bf35808fced0d67b6e97b784d63/src/test/fuzz/data_stream.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa7f77b7d1709bf35808fced0d67b6e97b784d63/src/test/fuzz/data_stream.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/data_stream.cpp?ref=fa7f77b7d1709bf35808fced0d67b6e97b784d63",
        "patch": "@@ -2,6 +2,7 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n+#include <addrdb.h>\n #include <addrman.h>\n #include <net.h>\n #include <test/fuzz/FuzzedDataProvider.h>"
      },
      {
        "sha": "5a732aeeff09a7621041560aaa56d94fab6089bc",
        "filename": "src/test/fuzz/integer.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa7f77b7d1709bf35808fced0d67b6e97b784d63/src/test/fuzz/integer.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa7f77b7d1709bf35808fced0d67b6e97b784d63/src/test/fuzz/integer.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/integer.cpp?ref=fa7f77b7d1709bf35808fced0d67b6e97b784d63",
        "patch": "@@ -23,6 +23,7 @@\n #include <test/fuzz/fuzz.h>\n #include <test/fuzz/util.h>\n #include <uint256.h>\n+#include <univalue.h>\n #include <util/check.h>\n #include <util/moneystr.h>\n #include <util/strencodings.h>"
      }
    ]
  },
  {
    "sha": "fade9a1a4db71241ccad03fdacfb626453952963",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWRlOWExYTRkYjcxMjQxY2NhZDAzZmRhY2ZiNjI2NDUzOTUyOTYz",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-08-21T09:22:21Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-09-07T09:05:16Z"
      },
      "message": "Remove confusing CAddrDB\n\nThe class only stores the file path, reading it from a global. Globals\nare confusing and make testing harder.\n\nThe method reading from a stream does not even use any class members, so\nputting it in a class is also confusing.",
      "tree": {
        "sha": "08c9e5b360cd324eac820a7600cfc39707be9ec2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/08c9e5b360cd324eac820a7600cfc39707be9ec2"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fade9a1a4db71241ccad03fdacfb626453952963",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgIgwv+M7iKcrJCcYj2WfE+l0nCHak7l1/DOkUEYxRQNK+xmjhUe7CjoRoE3l2O\nf4g9j2zLIdmuQdgKanuTWOx86WfoU4kK6RiH8kTjuyFIvsyq5tBC/1H5x210SZsu\nLo5DkRFSW1aiF0k9IpHfuCzrjxgJgRzAk0x0PLdKvcd4X+aavFGIzSJ/FQ6lFywB\n47gnvx5yV+pEHpPkHDfGHtP3YzffkDH+GRS+Y6Z0IJ0aF+ggvPlbsfL2MhGnQZ77\nAQtSIkpe6wEz3irI6dg/poqENTqbwcCBktFhO5OM5nl0ljd9SzTlJwpv7JL9zLyZ\nTON/nkU6uWs4t8i+2OQ/3PKjYP3Nd1L5kAWeOhF1+aRmNMCbXiAsVQkrElU1H6oi\nRCwbZTHmbxOHyZYwhBncWgnViEzzNkYT8Gh3Lhh7XOQyn5ejCyZbwsZdhnrHeSl8\nAh+NciSUYvCjhLFfNCzKL6KRjoUBCzI8Lw1CrOVLc/mQy+29SsG6ZIREPRH10RMH\nSjo+bZNv\n=gJIt\n-----END PGP SIGNATURE-----",
        "payload": "tree 08c9e5b360cd324eac820a7600cfc39707be9ec2\nparent fa7f77b7d1709bf35808fced0d67b6e97b784d63\nauthor MarcoFalke <falke.marco@gmail.com> 1629537741 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1631005516 +0200\n\nRemove confusing CAddrDB\n\nThe class only stores the file path, reading it from a global. Globals\nare confusing and make testing harder.\n\nThe method reading from a stream does not even use any class members, so\nputting it in a class is also confusing.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fade9a1a4db71241ccad03fdacfb626453952963",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fade9a1a4db71241ccad03fdacfb626453952963",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fade9a1a4db71241ccad03fdacfb626453952963/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa7f77b7d1709bf35808fced0d67b6e97b784d63",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa7f77b7d1709bf35808fced0d67b6e97b784d63",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa7f77b7d1709bf35808fced0d67b6e97b784d63"
      }
    ],
    "stats": {
      "total": 55,
      "additions": 22,
      "deletions": 33
    },
    "files": [
      {
        "sha": "856f318961966dc00e5e92184dbaf54fc806eb8c",
        "filename": "src/addrdb.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 8,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fade9a1a4db71241ccad03fdacfb626453952963/src/addrdb.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fade9a1a4db71241ccad03fdacfb626453952963/src/addrdb.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/addrdb.cpp?ref=fade9a1a4db71241ccad03fdacfb626453952963",
        "patch": "@@ -170,22 +170,19 @@ bool CBanDB::Read(banmap_t& banSet)\n     return true;\n }\n \n-CAddrDB::CAddrDB()\n-{\n-    pathAddr = gArgs.GetDataDirNet() / \"peers.dat\";\n-}\n-\n-bool CAddrDB::Write(const CAddrMan& addr)\n+bool DumpPeerAddresses(const ArgsManager& args, const CAddrMan& addr)\n {\n+    const auto pathAddr = args.GetDataDirNet() / \"peers.dat\";\n     return SerializeFileDB(\"peers\", pathAddr, addr, CLIENT_VERSION);\n }\n \n-bool CAddrDB::Read(CAddrMan& addr)\n+bool ReadPeerAddresses(const ArgsManager& args, CAddrMan& addr)\n {\n+    const auto pathAddr = args.GetDataDirNet() / \"peers.dat\";\n     return DeserializeFileDB(pathAddr, addr, CLIENT_VERSION);\n }\n \n-bool CAddrDB::Read(CAddrMan& addr, CDataStream& ssPeers)\n+bool ReadFromStream(CAddrMan& addr, CDataStream& ssPeers)\n {\n     return DeserializeDB(ssPeers, addr, false);\n }"
      },
      {
        "sha": "c31c126ee31889bad1841e57cf1634b38b36fc2f",
        "filename": "src/addrdb.h",
        "status": "modified",
        "additions": 6,
        "deletions": 12,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fade9a1a4db71241ccad03fdacfb626453952963/src/addrdb.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fade9a1a4db71241ccad03fdacfb626453952963/src/addrdb.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/addrdb.h?ref=fade9a1a4db71241ccad03fdacfb626453952963",
        "patch": "@@ -12,21 +12,15 @@\n \n #include <vector>\n \n-class CAddress;\n+class ArgsManager;\n class CAddrMan;\n+class CAddress;\n class CDataStream;\n \n-/** Access to the (IP) address database (peers.dat) */\n-class CAddrDB\n-{\n-private:\n-    fs::path pathAddr;\n-public:\n-    CAddrDB();\n-    bool Write(const CAddrMan& addr);\n-    bool Read(CAddrMan& addr);\n-    static bool Read(CAddrMan& addr, CDataStream& ssPeers);\n-};\n+bool DumpPeerAddresses(const ArgsManager& args, const CAddrMan& addr);\n+bool ReadPeerAddresses(const ArgsManager& args, CAddrMan& addr);\n+/** Only used by tests. */\n+bool ReadFromStream(CAddrMan& addr, CDataStream& ssPeers);\n \n /** Access to the banlist database (banlist.json) */\n class CBanDB"
      },
      {
        "sha": "2869cf4daf7e7ea75c6a5b39a7cff4ceb3c33ab3",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 3,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fade9a1a4db71241ccad03fdacfb626453952963/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fade9a1a4db71241ccad03fdacfb626453952963/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=fade9a1a4db71241ccad03fdacfb626453952963",
        "patch": "@@ -1206,14 +1206,13 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         // Load addresses from peers.dat\n         uiInterface.InitMessage(_(\"Loading P2P addresses\u2026\").translated);\n         int64_t nStart = GetTimeMillis();\n-        CAddrDB adb;\n-        if (adb.Read(*node.addrman)) {\n+        if (ReadPeerAddresses(args, *node.addrman)) {\n             LogPrintf(\"Loaded %i addresses from peers.dat  %dms\\n\", node.addrman->size(), GetTimeMillis() - nStart);\n         } else {\n             // Addrman can be in an inconsistent state after failure, reset it\n             node.addrman = std::make_unique<CAddrMan>(asmap, /* deterministic */ false, /* consistency_check_ratio */ check_addrman);\n             LogPrintf(\"Recreating peers.dat\\n\");\n-            adb.Write(*node.addrman);\n+            DumpPeerAddresses(args, *node.addrman);\n         }\n     }\n "
      },
      {
        "sha": "c31b2d899e7c0d789a5b376a338955028783a6ed",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 2,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fade9a1a4db71241ccad03fdacfb626453952963/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fade9a1a4db71241ccad03fdacfb626453952963/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=fade9a1a4db71241ccad03fdacfb626453952963",
        "patch": "@@ -1749,8 +1749,7 @@ void CConnman::DumpAddresses()\n {\n     int64_t nStart = GetTimeMillis();\n \n-    CAddrDB adb;\n-    adb.Write(addrman);\n+    DumpPeerAddresses(::gArgs, addrman);\n \n     LogPrint(BCLog::NET, \"Flushed %d addresses to peers.dat  %dms\\n\",\n            addrman.size(), GetTimeMillis() - nStart);"
      },
      {
        "sha": "835b18d42ec46380ff1e803924f40bb929153c67",
        "filename": "src/test/addrman_tests.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 7,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fade9a1a4db71241ccad03fdacfb626453952963/src/test/addrman_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fade9a1a4db71241ccad03fdacfb626453952963/src/test/addrman_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/addrman_tests.cpp?ref=fade9a1a4db71241ccad03fdacfb626453952963",
        "patch": "@@ -1003,7 +1003,7 @@ BOOST_AUTO_TEST_CASE(addrman_evictionworks)\n     BOOST_CHECK(addrman.SelectTriedCollision().ToString() == \"[::]:0\");\n }\n \n-BOOST_AUTO_TEST_CASE(caddrdb_read)\n+BOOST_AUTO_TEST_CASE(load_addrman)\n {\n     CAddrManUncorrupted addrmanUncorrupted;\n \n@@ -1038,17 +1038,17 @@ BOOST_AUTO_TEST_CASE(caddrdb_read)\n     BOOST_CHECK(addrman1.size() == 3);\n     BOOST_CHECK(exceptionThrown == false);\n \n-    // Test that CAddrDB::Read creates an addrman with the correct number of addrs.\n+    // Test that ReadFromStream creates an addrman with the correct number of addrs.\n     CDataStream ssPeers2 = AddrmanToStream(addrmanUncorrupted);\n \n     CAddrMan addrman2(/* asmap */ std::vector<bool>(), /* deterministic */ false, /* consistency_check_ratio */ 100);\n     BOOST_CHECK(addrman2.size() == 0);\n-    BOOST_CHECK(CAddrDB::Read(addrman2, ssPeers2));\n+    BOOST_CHECK(ReadFromStream(addrman2, ssPeers2));\n     BOOST_CHECK(addrman2.size() == 3);\n }\n \n \n-BOOST_AUTO_TEST_CASE(caddrdb_read_corrupted)\n+BOOST_AUTO_TEST_CASE(load_addrman_corrupted)\n {\n     CAddrManCorrupted addrmanCorrupted;\n \n@@ -1064,16 +1064,16 @@ BOOST_AUTO_TEST_CASE(caddrdb_read_corrupted)\n     } catch (const std::exception&) {\n         exceptionThrown = true;\n     }\n-    // Even through de-serialization failed addrman is not left in a clean state.\n+    // Even though de-serialization failed addrman is not left in a clean state.\n     BOOST_CHECK(addrman1.size() == 1);\n     BOOST_CHECK(exceptionThrown);\n \n-    // Test that CAddrDB::Read fails if peers.dat is corrupt\n+    // Test that ReadFromStream fails if peers.dat is corrupt\n     CDataStream ssPeers2 = AddrmanToStream(addrmanCorrupted);\n \n     CAddrMan addrman2(/* asmap */ std::vector<bool>(), /* deterministic */ false, /* consistency_check_ratio */ 100);\n     BOOST_CHECK(addrman2.size() == 0);\n-    BOOST_CHECK(!CAddrDB::Read(addrman2, ssPeers2));\n+    BOOST_CHECK(!ReadFromStream(addrman2, ssPeers2));\n }\n \n "
      },
      {
        "sha": "08e9c91ba31ab7c245754b3aca7d983c76a195b5",
        "filename": "src/test/fuzz/data_stream.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fade9a1a4db71241ccad03fdacfb626453952963/src/test/fuzz/data_stream.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fade9a1a4db71241ccad03fdacfb626453952963/src/test/fuzz/data_stream.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/data_stream.cpp?ref=fade9a1a4db71241ccad03fdacfb626453952963",
        "patch": "@@ -23,5 +23,5 @@ FUZZ_TARGET_INIT(data_stream_addr_man, initialize_data_stream_addr_man)\n     FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n     CDataStream data_stream = ConsumeDataStream(fuzzed_data_provider);\n     CAddrMan addr_man(/* asmap */ std::vector<bool>(), /* deterministic */ false, /* consistency_check_ratio */ 0);\n-    CAddrDB::Read(addr_man, data_stream);\n+    ReadFromStream(addr_man, data_stream);\n }"
      }
    ]
  }
]