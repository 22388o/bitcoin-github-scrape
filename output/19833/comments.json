[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683326649",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#issuecomment-683326649",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833",
    "id": 683326649,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzMyNjY0OQ==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-29T18:30:25Z",
    "updated_at": "2021-09-04T22:15:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22341](https://github.com/bitcoin/bitcoin/pull/22341) (rpc: add getxpub by Sjors)\n* [#20205](https://github.com/bitcoin/bitcoin/pull/20205) (wallet: Properly support a wallet id by achow101)\n* [#19602](https://github.com/bitcoin/bitcoin/pull/19602) (wallet: Migrate legacy wallets to descriptor wallets by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683326649/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683388458",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#issuecomment-683388458",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833",
    "id": 683388458,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzM4ODQ1OA==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-30T07:46:56Z",
    "updated_at": "2020-08-30T07:46:56Z",
    "author_association": "MEMBER",
    "body": "Concept ACK.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683388458/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683817419",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#issuecomment-683817419",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833",
    "id": 683817419,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzgxNzQxOQ==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-31T14:33:51Z",
    "updated_at": "2020-08-31T14:33:51Z",
    "author_association": "MEMBER",
    "body": "> we will be forced to guard all such functions with negative assertions `EXCLUSIVE_LOCKS_REQUIRED(!m_wallet->cs_wallet)`\r\n\r\nSeems unnecessary no? Locking an already locked `Mutex` fails. If you really want static analysis then we could add a new method in the private implementation just to add the annotation?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683817419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683817871",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#issuecomment-683817871",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833",
    "id": 683817871,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzgxNzg3MQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-31T14:34:32Z",
    "updated_at": "2020-08-31T14:34:32Z",
    "author_association": "MEMBER",
    "body": "> Placing LOCK() macros in member functions of a class that implements an interface is not a good idea. When CWallet::cs_wallet actually transits from RecurviseMutex to Mutex we will be forced to guard all such functions with negative assertions EXCLUSIVE_LOCKS_REQUIRED(!m_wallet->cs_wallet). But they won't work as they are placed not in a header file.\r\n\r\nThere are already LOCK(cs_wallet) in the interface cpp file. How is the new one any different and how would it make it any harder. Also, I am not sure if we really want to annotate extensively with negative lock annotations. Has there been a conceptual discussion about this?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683817871/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683822082",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#issuecomment-683822082",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833",
    "id": 683822082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzgyMjA4Mg==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-31T14:41:11Z",
    "updated_at": "2020-08-31T14:41:11Z",
    "author_association": "MEMBER",
    "body": "@promag \r\n> > we will be forced to guard all such functions with negative assertions `EXCLUSIVE_LOCKS_REQUIRED(!m_wallet->cs_wallet)`\r\n> \r\n> Seems unnecessary no? Locking an already locked `Mutex` fails.\r\n\r\nYes, it does. In run time.\r\n\r\n> If you really want static analysis then we could add a new method in the private implementation just to add the annotation?\r\n\r\nActually moving implementation class declaration into a header will help.\r\n\r\n@MarcoFalke \r\n> There are already LOCK(cs_wallet) in the interface cpp file.\r\n\r\nYes, there are. Unfortunately.\r\n\r\n> Also, I am not sure if we really want to annotate extensively with negative lock annotations. Has there been a conceptual discussion about this?\r\n\r\nYou are correct. But it seems premature until transit from `RecurviseMutex` to `Mutex` happens. Btw, do you see downsides of it?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683822082/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683825024",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#issuecomment-683825024",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833",
    "id": 683825024,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzgyNTAyNA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-31T14:45:26Z",
    "updated_at": "2020-08-31T14:45:26Z",
    "author_association": "MEMBER",
    "body": "> Actually moving implementation class declaration into a header will help.\r\n\r\nI don't understand what you mean, please elaborate.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683825024/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683837483",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#issuecomment-683837483",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833",
    "id": 683837483,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzgzNzQ4Mw==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-31T15:05:51Z",
    "updated_at": "2020-08-31T15:05:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't think you could use EXCLUSIVE_LOCKS_REQUIRED(!m_wallet->cs_wallet) in the interfaces::WalletImpl class, for the same reason you couldn't use EXCLUSIVE_LOCKS_REQUIRED(!pwallet->cs_wallet) on RPC methods, because method callers can't know which wallet object the wallet pointer points to, so couldn't provably meet the requirements.\r\n\r\nTo make cs_wallet non-recursive, you I think you just need to make a blanket assumption that cs_wallet will not held when calling RPC methods or interfaces::Wallet* methods, and it won't be possible to use locking annotations in a meaningful way.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683837483/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683840639",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#issuecomment-683840639",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833",
    "id": 683840639,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4Mzg0MDYzOQ==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-31T15:11:02Z",
    "updated_at": "2020-08-31T15:11:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Actually moving implementation class declaration into a header will help.\r\n\r\nThe reason the implementation class is not in a header is that implementation class methods are never called directly. They are only called through the interface, and the interface is only called by the GUI. I don't think there's a way to make GUI aware of cs_wallet and be able to satisfy assertions about whether it is locked or unlocked.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683840639/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683922388",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#issuecomment-683922388",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833",
    "id": 683922388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzkyMjM4OA==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-31T17:33:30Z",
    "updated_at": "2020-08-31T17:33:30Z",
    "author_association": "MEMBER",
    "body": "@ryanofsky \r\n> > Actually moving implementation class declaration into a header will help.\r\n> \r\n> The reason the implementation class is not in a header is that implementation class methods are never called directly. They are only called through the interface, and the interface is only called by the GUI. I don't think there's a way to make GUI aware of cs_wallet and be able to satisfy assertions about whether it is locked or unlocked.\r\n\r\nWe could use `LOCK_RETURNED` aka [`RETURN_CAPABILITY`](https://clang.llvm.org/docs/ThreadSafetyAnalysis.html#return-capability-c).\r\n\r\n@promag \r\n> > Actually moving implementation class declaration into a header will help.\r\n> \r\n> I don't understand what you mean, please elaborate.\r\n\r\nMind looking into this branch: https://github.com/hebasto/bitcoin/commits/pr19833-0831-demo ?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683922388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/723436488",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#issuecomment-723436488",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833",
    "id": 723436488,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzQzNjQ4OA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-07T11:51:38Z",
    "updated_at": "2020-11-07T11:51:38Z",
    "author_association": "MEMBER",
    "body": "@hebasto rebased to have a fresh build, mind taking a 2nd look?\r\n\r\n@meshcollider ping.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/723436488/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/912624434",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#issuecomment-912624434",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833",
    "id": 912624434,
    "node_id": "IC_kwDOABII5842ZYsy",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-03T15:31:42Z",
    "updated_at": "2021-09-03T15:31:42Z",
    "author_association": "MEMBER",
    "body": "@promag \r\n\r\nA friendly reminder to rebase :)\r\n\r\nHappy to re-ACK then.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/912624434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/912951315",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#issuecomment-912951315",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19833",
    "id": 912951315,
    "node_id": "IC_kwDOABII5842aogT",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-04T10:39:12Z",
    "updated_at": "2021-09-04T10:39:12Z",
    "author_association": "MEMBER",
    "body": "To be fair #22100 simplified this change, 97dbdcd7eb1cf8c10f9cfd92c23ac9ef58d1d5cb is no longer necessary.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/912951315/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/479741525",
    "pull_request_review_id": 478183735,
    "id": 479741525,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc0MTUyNQ==",
    "diff_hunk": "@@ -370,7 +371,11 @@ class WalletImpl : public Wallet\n         balances = getBalances();\n         return true;\n     }\n-    CAmount getBalance() override { return m_wallet->GetBalance().m_mine_trusted; }\n+    CAmount getBalance() override\n+    {\n+        LOCK(m_wallet->cs_wallet);\n+        return m_wallet->GetBalance().m_mine_trusted;\n+    }",
    "path": "src/interfaces/wallet.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "5fabde6fadd1b07e981c97f5087d67c4179340ba",
    "original_commit_id": "d306298e4f572905c2319409a13f6fcf777cfa5c",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Probably, it would be a cleaner code with two methods:\r\n- `getBalance() EXCLUSIVE_LOCKS_REQUIRED(!m_wallet->cs_wallet)`\r\n- `getBalance_cs() EXCLUSIVE_LOCKS_REQUIRED(m_wallet->cs_wallet)`\r\n\r\nSee:\r\n- https://github.com/bitcoin/bitcoin/pull/19238#issuecomment-646226615\r\n- a7b1a649ec473bd9811e34cf489bd88b3c3d6406 (#19238)",
    "created_at": "2020-08-30T08:45:19Z",
    "updated_at": "2020-11-12T10:08:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r479741525",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/479741525"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r479741525"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/479741525/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 374,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 379,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/479753710",
    "pull_request_review_id": 478192066,
    "id": 479753710,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc1MzcxMA==",
    "diff_hunk": "@@ -370,7 +371,11 @@ class WalletImpl : public Wallet\n         balances = getBalances();\n         return true;\n     }\n-    CAmount getBalance() override { return m_wallet->GetBalance().m_mine_trusted; }\n+    CAmount getBalance() override\n+    {\n+        LOCK(m_wallet->cs_wallet);\n+        return m_wallet->GetBalance().m_mine_trusted;\n+    }",
    "path": "src/interfaces/wallet.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "5fabde6fadd1b07e981c97f5087d67c4179340ba",
    "original_commit_id": "d306298e4f572905c2319409a13f6fcf777cfa5c",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It could replace 6 instances of added `WITH_LOCK()` :)",
    "created_at": "2020-08-30T10:48:49Z",
    "updated_at": "2020-11-12T10:08:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r479753710",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/479753710"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r479753710"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/479753710/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 374,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 379,
    "side": "RIGHT",
    "in_reply_to_id": 479741525
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/480105962",
    "pull_request_review_id": 478582394,
    "id": 480105962,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEwNTk2Mg==",
    "diff_hunk": "@@ -370,7 +371,11 @@ class WalletImpl : public Wallet\n         balances = getBalances();\n         return true;\n     }\n-    CAmount getBalance() override { return m_wallet->GetBalance().m_mine_trusted; }\n+    CAmount getBalance() override\n+    {\n+        LOCK(m_wallet->cs_wallet);\n+        return m_wallet->GetBalance().m_mine_trusted;\n+    }",
    "path": "src/interfaces/wallet.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "5fabde6fadd1b07e981c97f5087d67c4179340ba",
    "original_commit_id": "d306298e4f572905c2319409a13f6fcf777cfa5c",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Do you mean `getBalance` or `GetBalance`? I don't see why we want that on `interfaces::Wallet`. If you mean `GetBalance` then ATM I tend to prefer explicit `WITH_LOCK`/`LOCK` for so few cases. If we go that way then I'd prefer to overload `GetBalance(Lock)`.",
    "created_at": "2020-08-31T12:46:47Z",
    "updated_at": "2020-11-12T10:08:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r480105962",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/480105962"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r480105962"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/480105962/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 374,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 379,
    "side": "RIGHT",
    "in_reply_to_id": 479741525
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/480143790",
    "pull_request_review_id": 478632710,
    "id": 480143790,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE0Mzc5MA==",
    "diff_hunk": "@@ -370,7 +371,11 @@ class WalletImpl : public Wallet\n         balances = getBalances();\n         return true;\n     }\n-    CAmount getBalance() override { return m_wallet->GetBalance().m_mine_trusted; }\n+    CAmount getBalance() override\n+    {\n+        LOCK(m_wallet->cs_wallet);\n+        return m_wallet->GetBalance().m_mine_trusted;\n+    }",
    "path": "src/interfaces/wallet.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "5fabde6fadd1b07e981c97f5087d67c4179340ba",
    "original_commit_id": "d306298e4f572905c2319409a13f6fcf777cfa5c",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> Do you mean `getBalance` or `GetBalance`?\r\n\r\nMy suggestion is wrong and confusing. Please ignore it.\r\n\r\n> If we go that way then I'd prefer to overload `GetBalance(Lock)`.\r\n\r\nI'm afraid Clang Thread Safety Analysis won't understand it due to https://clang.llvm.org/docs/ThreadSafetyAnalysis.html#no-alias-analysis",
    "created_at": "2020-08-31T13:49:37Z",
    "updated_at": "2020-11-12T10:08:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r480143790",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/480143790"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r480143790"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/480143790/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 374,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 379,
    "side": "RIGHT",
    "in_reply_to_id": 479741525
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/521978861",
    "pull_request_review_id": 528922403,
    "id": 521978861,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk3ODg2MQ==",
    "diff_hunk": "@@ -348,6 +348,7 @@ class WalletImpl : public Wallet\n     }\n     WalletBalances getBalances() override\n     {\n+        LOCK(m_wallet->cs_wallet);",
    "path": "src/interfaces/wallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "5fabde6fadd1b07e981c97f5087d67c4179340ba",
    "original_commit_id": "fa2cf369e0837c8ba2713bc1d37cc237ffd31f63",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Could the lock be bounded to `GetBalance` only?",
    "created_at": "2020-11-12T09:56:36Z",
    "updated_at": "2020-11-12T10:08:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r521978861",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/521978861"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r521978861"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/521978861/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 351,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/521994566",
    "pull_request_review_id": 528942332,
    "id": 521994566,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk5NDU2Ng==",
    "diff_hunk": "@@ -348,6 +348,7 @@ class WalletImpl : public Wallet\n     }\n     WalletBalances getBalances() override\n     {\n+        LOCK(m_wallet->cs_wallet);",
    "path": "src/interfaces/wallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "5fabde6fadd1b07e981c97f5087d67c4179340ba",
    "original_commit_id": "fa2cf369e0837c8ba2713bc1d37cc237ffd31f63",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "WITH_LOCK?",
    "created_at": "2020-11-12T10:20:36Z",
    "updated_at": "2020-11-12T10:20:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r521994566",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/521994566"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r521994566"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/521994566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 351,
    "side": "RIGHT",
    "in_reply_to_id": 521978861
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/521995978",
    "pull_request_review_id": 528944188,
    "id": 521995978,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk5NTk3OA==",
    "diff_hunk": "@@ -348,6 +348,7 @@ class WalletImpl : public Wallet\n     }\n     WalletBalances getBalances() override\n     {\n+        LOCK(m_wallet->cs_wallet);",
    "path": "src/interfaces/wallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "5fabde6fadd1b07e981c97f5087d67c4179340ba",
    "original_commit_id": "fa2cf369e0837c8ba2713bc1d37cc237ffd31f63",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> WITH_LOCK?\r\n\r\nThat is my thought.",
    "created_at": "2020-11-12T10:22:45Z",
    "updated_at": "2020-11-12T10:22:46Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r521995978",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/521995978"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r521995978"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/521995978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 351,
    "side": "RIGHT",
    "in_reply_to_id": 521978861
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/522185664",
    "pull_request_review_id": 529192866,
    "id": 522185664,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjE4NTY2NA==",
    "diff_hunk": "@@ -348,6 +348,7 @@ class WalletImpl : public Wallet\n     }\n     WalletBalances getBalances() override\n     {\n+        LOCK(m_wallet->cs_wallet);",
    "path": "src/interfaces/wallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "5fabde6fadd1b07e981c97f5087d67c4179340ba",
    "original_commit_id": "fa2cf369e0837c8ba2713bc1d37cc237ffd31f63",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think it's no big deal for now. I'll do it it I have to update.",
    "created_at": "2020-11-12T15:18:59Z",
    "updated_at": "2020-11-12T15:18:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r522185664",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/522185664"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19833#discussion_r522185664"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19833"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/522185664/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 351,
    "side": "RIGHT",
    "in_reply_to_id": 521978861
  }
]