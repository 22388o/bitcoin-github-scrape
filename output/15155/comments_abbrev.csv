laanwj,2019-01-14T15:56:20Z,Concept ACK anyhow,https://github.com/bitcoin/bitcoin/pull/15155#issuecomment-454055444,454055444,
laanwj,2019-01-22T12:21:54Z,"@luke-jr can you please address the comment, it's a trivial change but not going to be merged like this",https://github.com/bitcoin/bitcoin/pull/15155#issuecomment-456380443,456380443,
laanwj,2019-02-12T13:17:29Z,"Closing this and putting up for grabs, it's desirable functionality but not implemented in an acceptable way imo.",https://github.com/bitcoin/bitcoin/pull/15155#issuecomment-462755117,462755117,
kristapsk,2019-01-12T13:59:05Z,"Why not just - `if os.getenv(""BITCOINCLI"") != None:`?",https://github.com/bitcoin/bitcoin/pull/15155#discussion_r247313659,247313659,test/functional/test_framework/test_framework.py
luke-jr,2019-01-12T14:29:12Z,"Python's documentation says `getenv` returns a string, but without a default it returns `None` in CPython. Providing a default avoids the ambiguity/contradiction.",https://github.com/bitcoin/bitcoin/pull/15155#discussion_r247314428,247314428,test/functional/test_framework/test_framework.py
kristapsk,2019-01-12T15:32:57Z,"In both Python 2 and 3 docs, default is `None` as well.\n* https://docs.python.org/2/library/os.html#os.getenv \n* https://docs.python.org/3/library/os.html#os.getenv",https://github.com/bitcoin/bitcoin/pull/15155#discussion_r247316220,247316220,test/functional/test_framework/test_framework.py
luke-jr,2019-01-12T23:07:53Z,"""key, default and the result are str.""",https://github.com/bitcoin/bitcoin/pull/15155#discussion_r247328819,247328819,test/functional/test_framework/test_framework.py
kristapsk,2019-01-12T23:24:12Z,"But it actually returns `None`, which isn't string, if environment variable is not set, both in Python2 and Python3.\n```\n$ python\nPython 3.6.5 (default, Sep 11 2018, 13:54:50) \n[GCC 4.9.3] on linux\nType ""help"", ""copyright"", ""credits"" or ""license"" for more information.\n>>> import os\n>>> type(os.getenv('unsetenvironmentvariable'))\n<class 'NoneType'>\n```",https://github.com/bitcoin/bitcoin/pull/15155#discussion_r247329088,247329088,test/functional/test_framework/test_framework.py
luke-jr,2019-01-12T23:25:34Z,But that's not documented/guaranteed behaviour.,https://github.com/bitcoin/bitcoin/pull/15155#discussion_r247329117,247329117,test/functional/test_framework/test_framework.py
kristapsk,2019-01-12T23:56:47Z,Default being `None` is documented.,https://github.com/bitcoin/bitcoin/pull/15155#discussion_r247329751,247329751,test/functional/test_framework/test_framework.py
luke-jr,2019-01-13T00:14:02Z,Not as a return value.,https://github.com/bitcoin/bitcoin/pull/15155#discussion_r247330001,247330001,test/functional/test_framework/test_framework.py
laanwj,2019-01-14T12:46:35Z,"I agree with @kristapsk here. The correct way to do this is:\n```python\nif os.getenv(""BITCOINCLI"") is not None:\n```\nor, if you don't want to support an empty value / regard an empty value as unset\n```python\nif not os.getenv(""BITCOINCLI""):\n```\nSpecial-casing is a default value is, imo, fragile and ugly.",https://github.com/bitcoin/bitcoin/pull/15155#discussion_r247478619,247478619,test/functional/test_framework/test_framework.py
luke-jr,2019-01-14T17:03:25Z,"Special-casing the default here is well-defined, not fragile... the alternatives are what is fragile, since they're not guaranteed behaviours [yet?].",https://github.com/bitcoin/bitcoin/pull/15155#discussion_r247575357,247575357,test/functional/test_framework/test_framework.py
MarcoFalke,2019-01-14T18:20:16Z,Returning `None` or a string is just the pythonic way to say it returns `optional<string>`,https://github.com/bitcoin/bitcoin/pull/15155#discussion_r247601850,247601850,test/functional/test_framework/test_framework.py
laanwj,2019-01-16T17:20:59Z,"> Returning None or a string is just the pythonic way to say it returns optional<string>\n\nExactly.\n",https://github.com/bitcoin/bitcoin/pull/15155#discussion_r248375451,248375451,test/functional/test_framework/test_framework.py
