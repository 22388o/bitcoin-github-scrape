[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/235888988",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8417#issuecomment-235888988",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8417",
    "id": 235888988,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTg4ODk4OA==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-28T13:07:27Z",
    "updated_at": "2016-07-28T13:07:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixes https://github.com/bitcoin/bitcoin/issues/8410\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/235888988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/235890956",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8417#issuecomment-235890956",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8417",
    "id": 235890956,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTg5MDk1Ng==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-28T13:15:45Z",
    "updated_at": "2016-07-28T13:15:45Z",
    "author_association": "MEMBER",
    "body": "Thanks for adding helpful comments!\n\nLooks good utACK 54af51d98d0b38f08c58dd589bff81883aee2854\n\nOn Thu, Jul 28, 2016 at 3:07 PM, Jonas Schnelli notifications@github.com\nwrote:\n\n> Fixes #8410 https://github.com/bitcoin/bitcoin/issues/8410\n> \n> \u2014\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/bitcoin/bitcoin/pull/8417#issuecomment-235888988, or mute\n> the thread\n> https://github.com/notifications/unsubscribe-auth/AGGmv4IYRv6WKzvpt7bGCNrIuD9M8rNoks5qaKmtgaJpZM4JXMQj\n> .\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/235890956/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/236214704",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8417#issuecomment-236214704",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8417",
    "id": 236214704,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjIxNDcwNA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-29T15:39:16Z",
    "updated_at": "2016-07-29T15:39:16Z",
    "author_association": "MEMBER",
    "body": "Thanks, a test for this is very welcome, test code looks good to me\nutACK 54af51d\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/236214704/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/236548164",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8417#issuecomment-236548164",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8417",
    "id": 236548164,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjU0ODE2NA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-01T10:43:56Z",
    "updated_at": "2016-08-01T10:43:56Z",
    "author_association": "MEMBER",
    "body": "Sorry for the delayed feedback. I will try to create another pull to address those.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/236548164/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957452",
    "pull_request_review_id": null,
    "id": 72957452,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcyOTU3NDUy",
    "diff_hunk": "@@ -0,0 +1,120 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2016 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+import shutil",
    "path": "qa/rpc-tests/wallet-dump.py",
    "position": 9,
    "original_position": 9,
    "commit_id": "54af51d98d0b38f08c58dd589bff81883aee2854",
    "original_commit_id": "54af51d98d0b38f08c58dd589bff81883aee2854",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Unused import\n",
    "created_at": "2016-08-01T10:40:07Z",
    "updated_at": "2016-08-01T10:40:07Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8417#discussion_r72957452",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8417",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957452"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8417#discussion_r72957452"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8417"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957452/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 9,
    "original_line": 9,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957532",
    "pull_request_review_id": null,
    "id": 72957532,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcyOTU3NTMy",
    "diff_hunk": "@@ -0,0 +1,120 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2016 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+import shutil\n+\n+\n+class WalletDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def setup_network(self, split=False):\n+        extra_args = [[\"-keypool=100\"]]\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, extra_args)\n+\n+    def run_test (self):\n+        tmpdir = self.options.tmpdir\n+\n+        #generate 20 addresses to compare against the dump\n+        test_addr_count = 20\n+        addrs = []\n+        for i in range(0,test_addr_count):\n+            addr = self.nodes[0].getnewaddress()\n+            vaddr= self.nodes[0].validateaddress(addr) #required to get hd keypath\n+            addrs.append(vaddr)\n+\n+        # dump unencrypted wallet\n+        self.nodes[0].dumpwallet(tmpdir + \"/node0/wallet.unencrypted.dump\")\n+\n+        #open file\n+        inputfile = open(tmpdir + \"/node0/wallet.unencrypted.dump\")\n+        found_addr = 0\n+        found_addr_chg = 0\n+        found_addr_rsv = 0\n+        hdmasteraddr = \"\"\n+        for line in inputfile:",
    "path": "qa/rpc-tests/wallet-dump.py",
    "position": 43,
    "original_position": 43,
    "commit_id": "54af51d98d0b38f08c58dd589bff81883aee2854",
    "original_commit_id": "54af51d98d0b38f08c58dd589bff81883aee2854",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "No need to duplicate this huge for loop\n",
    "created_at": "2016-08-01T10:40:48Z",
    "updated_at": "2016-08-01T10:40:48Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8417#discussion_r72957532",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8417",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957532"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8417#discussion_r72957532"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8417"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 43,
    "original_line": 43,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957676",
    "pull_request_review_id": null,
    "id": 72957676,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcyOTU3Njc2",
    "diff_hunk": "@@ -0,0 +1,120 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2016 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+import shutil\n+\n+\n+class WalletDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def setup_network(self, split=False):\n+        extra_args = [[\"-keypool=100\"]]\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, extra_args)\n+\n+    def run_test (self):\n+        tmpdir = self.options.tmpdir\n+\n+        #generate 20 addresses to compare against the dump\n+        test_addr_count = 20\n+        addrs = []\n+        for i in range(0,test_addr_count):\n+            addr = self.nodes[0].getnewaddress()\n+            vaddr= self.nodes[0].validateaddress(addr) #required to get hd keypath\n+            addrs.append(vaddr)\n+\n+        # dump unencrypted wallet\n+        self.nodes[0].dumpwallet(tmpdir + \"/node0/wallet.unencrypted.dump\")\n+\n+        #open file\n+        inputfile = open(tmpdir + \"/node0/wallet.unencrypted.dump\")\n+        found_addr = 0\n+        found_addr_chg = 0\n+        found_addr_rsv = 0\n+        hdmasteraddr = \"\"\n+        for line in inputfile:\n+            #only read non comment lines\n+            if line[0] != \"#\" and len(line) > 10:\n+                #split out some data\n+                keyLabel, comment = line.split(\"#\")\n+                key = keyLabel.split(\" \")[0]\n+                keytype = keyLabel.split(\" \")[2]\n+                if len(comment) > 1:\n+                    addrKeypath = comment.split(\" addr=\")[1]\n+                    addr = addrKeypath.split(\" \")[0]\n+                    keypath = \"\"\n+                    if keytype != \"hdmaster=1\":\n+                        keypath = addrKeypath.rstrip().split(\"hdkeypath=\")[1]\n+                    else:\n+                        #keep hd master for later comp.\n+                        hdmasteraddr = addr\n+\n+                    #count key types\n+                    for addrObj in addrs:\n+                        if (addrObj['address'] == addr and addrObj['hdkeypath'] == keypath and keytype == \"label=\"):\n+                            found_addr+=1\n+                            break\n+                        elif (keytype == \"change=1\"):\n+                            found_addr_chg+=1\n+                            break\n+                        elif (keytype == \"reserve=1\"):\n+                            found_addr_rsv+=1\n+                            break\n+        assert(found_addr == test_addr_count) #all keys must be in the dump\n+        assert(found_addr_chg == 50) #50 blocks where mined\n+        assert(found_addr_rsv == 100) #100 reserve keys (keypool)",
    "path": "qa/rpc-tests/wallet-dump.py",
    "position": 73,
    "original_position": 73,
    "commit_id": "54af51d98d0b38f08c58dd589bff81883aee2854",
    "original_commit_id": "54af51d98d0b38f08c58dd589bff81883aee2854",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Please use `assert_equal`, otherwise it is harder to track down when an issue arises\n",
    "created_at": "2016-08-01T10:41:22Z",
    "updated_at": "2016-08-01T10:41:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8417#discussion_r72957676",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8417",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957676"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8417#discussion_r72957676"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8417"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 73,
    "original_line": 73,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957897",
    "pull_request_review_id": null,
    "id": 72957897,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcyOTU3ODk3",
    "diff_hunk": "@@ -0,0 +1,120 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2016 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+import shutil\n+\n+\n+class WalletDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def setup_network(self, split=False):\n+        extra_args = [[\"-keypool=100\"]]\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, extra_args)\n+\n+    def run_test (self):\n+        tmpdir = self.options.tmpdir\n+\n+        #generate 20 addresses to compare against the dump\n+        test_addr_count = 20\n+        addrs = []\n+        for i in range(0,test_addr_count):\n+            addr = self.nodes[0].getnewaddress()\n+            vaddr= self.nodes[0].validateaddress(addr) #required to get hd keypath\n+            addrs.append(vaddr)\n+\n+        # dump unencrypted wallet\n+        self.nodes[0].dumpwallet(tmpdir + \"/node0/wallet.unencrypted.dump\")\n+\n+        #open file\n+        inputfile = open(tmpdir + \"/node0/wallet.unencrypted.dump\")\n+        found_addr = 0\n+        found_addr_chg = 0\n+        found_addr_rsv = 0\n+        hdmasteraddr = \"\"\n+        for line in inputfile:\n+            #only read non comment lines\n+            if line[0] != \"#\" and len(line) > 10:\n+                #split out some data\n+                keyLabel, comment = line.split(\"#\")\n+                key = keyLabel.split(\" \")[0]\n+                keytype = keyLabel.split(\" \")[2]\n+                if len(comment) > 1:\n+                    addrKeypath = comment.split(\" addr=\")[1]\n+                    addr = addrKeypath.split(\" \")[0]\n+                    keypath = \"\"\n+                    if keytype != \"hdmaster=1\":\n+                        keypath = addrKeypath.rstrip().split(\"hdkeypath=\")[1]\n+                    else:\n+                        #keep hd master for later comp.\n+                        hdmasteraddr = addr\n+\n+                    #count key types\n+                    for addrObj in addrs:\n+                        if (addrObj['address'] == addr and addrObj['hdkeypath'] == keypath and keytype == \"label=\"):\n+                            found_addr+=1\n+                            break\n+                        elif (keytype == \"change=1\"):\n+                            found_addr_chg+=1\n+                            break\n+                        elif (keytype == \"reserve=1\"):\n+                            found_addr_rsv+=1\n+                            break\n+        assert(found_addr == test_addr_count) #all keys must be in the dump\n+        assert(found_addr_chg == 50) #50 blocks where mined\n+        assert(found_addr_rsv == 100) #100 reserve keys (keypool)\n+\n+        #encrypt wallet, restart, unlock and dump\n+        self.nodes[0].encryptwallet('test')\n+        bitcoind_processes[0].wait()\n+        self.nodes[0] = start_node(0, self.options.tmpdir)",
    "path": "qa/rpc-tests/wallet-dump.py",
    "position": 78,
    "original_position": 78,
    "commit_id": "54af51d98d0b38f08c58dd589bff81883aee2854",
    "original_commit_id": "54af51d98d0b38f08c58dd589bff81883aee2854",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You are starting with the default keypool of `1` (for the test framework). This may cause issues in the future.\n",
    "created_at": "2016-08-01T10:42:43Z",
    "updated_at": "2016-08-01T10:42:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8417#discussion_r72957897",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8417",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957897"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8417#discussion_r72957897"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8417"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957897/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 78,
    "original_line": 78,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957937",
    "pull_request_review_id": null,
    "id": 72957937,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcyOTU3OTM3",
    "diff_hunk": "@@ -0,0 +1,120 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2016 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+import shutil\n+\n+\n+class WalletDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def setup_network(self, split=False):\n+        extra_args = [[\"-keypool=100\"]]\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, extra_args)\n+\n+    def run_test (self):\n+        tmpdir = self.options.tmpdir\n+\n+        #generate 20 addresses to compare against the dump\n+        test_addr_count = 20\n+        addrs = []\n+        for i in range(0,test_addr_count):\n+            addr = self.nodes[0].getnewaddress()\n+            vaddr= self.nodes[0].validateaddress(addr) #required to get hd keypath\n+            addrs.append(vaddr)\n+\n+        # dump unencrypted wallet\n+        self.nodes[0].dumpwallet(tmpdir + \"/node0/wallet.unencrypted.dump\")\n+\n+        #open file\n+        inputfile = open(tmpdir + \"/node0/wallet.unencrypted.dump\")\n+        found_addr = 0\n+        found_addr_chg = 0\n+        found_addr_rsv = 0\n+        hdmasteraddr = \"\"\n+        for line in inputfile:\n+            #only read non comment lines\n+            if line[0] != \"#\" and len(line) > 10:\n+                #split out some data\n+                keyLabel, comment = line.split(\"#\")\n+                key = keyLabel.split(\" \")[0]\n+                keytype = keyLabel.split(\" \")[2]",
    "path": "qa/rpc-tests/wallet-dump.py",
    "position": 49,
    "original_position": 49,
    "commit_id": "54af51d98d0b38f08c58dd589bff81883aee2854",
    "original_commit_id": "54af51d98d0b38f08c58dd589bff81883aee2854",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: `use_lowercase_and_underscore`\n",
    "created_at": "2016-08-01T10:43:08Z",
    "updated_at": "2016-08-01T10:43:08Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8417#discussion_r72957937",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8417",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957937"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8417#discussion_r72957937"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8417"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957937/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 49,
    "original_line": 49,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957977",
    "pull_request_review_id": null,
    "id": 72957977,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcyOTU3OTc3",
    "diff_hunk": "@@ -0,0 +1,120 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2016 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+import shutil\n+\n+\n+class WalletDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def setup_network(self, split=False):\n+        extra_args = [[\"-keypool=100\"]]\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, extra_args)\n+\n+    def run_test (self):\n+        tmpdir = self.options.tmpdir\n+\n+        #generate 20 addresses to compare against the dump\n+        test_addr_count = 20\n+        addrs = []\n+        for i in range(0,test_addr_count):\n+            addr = self.nodes[0].getnewaddress()\n+            vaddr= self.nodes[0].validateaddress(addr) #required to get hd keypath\n+            addrs.append(vaddr)\n+\n+        # dump unencrypted wallet\n+        self.nodes[0].dumpwallet(tmpdir + \"/node0/wallet.unencrypted.dump\")\n+\n+        #open file\n+        inputfile = open(tmpdir + \"/node0/wallet.unencrypted.dump\")\n+        found_addr = 0\n+        found_addr_chg = 0\n+        found_addr_rsv = 0\n+        hdmasteraddr = \"\"\n+        for line in inputfile:\n+            #only read non comment lines\n+            if line[0] != \"#\" and len(line) > 10:\n+                #split out some data\n+                keyLabel, comment = line.split(\"#\")\n+                key = keyLabel.split(\" \")[0]",
    "path": "qa/rpc-tests/wallet-dump.py",
    "position": 48,
    "original_position": 48,
    "commit_id": "54af51d98d0b38f08c58dd589bff81883aee2854",
    "original_commit_id": "54af51d98d0b38f08c58dd589bff81883aee2854",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Unused variable\n",
    "created_at": "2016-08-01T10:43:24Z",
    "updated_at": "2016-08-01T10:43:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8417#discussion_r72957977",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8417",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957977"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8417#discussion_r72957977"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8417"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/72957977/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 48,
    "original_line": 48,
    "side": "RIGHT"
  }
]