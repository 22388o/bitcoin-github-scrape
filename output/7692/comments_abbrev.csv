jonasschnelli,2016-03-15T09:47:50Z,Concept ACK.\nNeeds rebase.\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-196744657,196744657,
MarcoFalke,2016-03-15T09:54:52Z,Concept ACK\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-196746530,196746530,
btcdrak,2016-03-15T10:42:57Z,@jonasschnelli rebased\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-196761477,196761477,
laanwj,2016-03-15T14:06:37Z,"Concept ACK. I had an earlier try at this with #6260, but tt's good that there is an alternative in the form of a mailing list now - that was pretty much the only concern.\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-196836021,196836021,
paveljanik,2016-03-15T19:18:12Z,Concept ACK.\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-196981745,196981745,
maaku,2016-03-16T17:39:15Z,"This code is actually very useful for other projects that build off of bitcoin code base, and could be useful within the context of bitcoin if reconfigured. Perhaps just disable the code, not remove it entirely?\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197449839,197449839,
laanwj,2016-03-16T19:16:42Z,"> This code is actually very useful for other projects that build off of bitcoin code base\n\nSorry, but I don't think that's a valid reason to maintain code that we shouldn't have anymore. And I'm sure there's much better ways of doing this in derived projects as well, which don't rely on one network-wide secret key.\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197497279,197497279,
rebroad,2016-03-17T11:02:07Z,concept ACK\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197820794,197820794,
achow101,2016-03-17T14:34:27Z,So what has changed between now and several months ago when this was last attempted? Aren't the same reasons for not removing the alerts then still applicable today?\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197905299,197905299,
laanwj,2016-03-17T15:06:52Z,"> Aren't the same reasons for not removing the alerts then still applicable today?\n\nJust read #6260 and the OP.\nA few months ago pretty much everyone was in favor of this, but there was no alternative notification system yet. There is now a mailing list for alerts instead.\n\nThe alert system suffers from many problems:\n- Philosophically, there should not be a key with special meaning on the P",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197924551,197924551,
achow101,2016-03-17T15:55:46Z,"A mailing list would work for this specific client, but what about network wide issues like a blockchain fork like the fourth of July fork?\n\nAlso, since the alert system is network wide, what will be done about other clients that still implement the alerts?\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197945363,197945363,
laanwj,2016-03-17T16:28:37Z,"> A mailing list would work for this specific client, but what about network wide issues like a blockchain fork like the fourth of July fork?\n\nNetwork wide issues will also be posted to the mailing list. Also, other software can have their own mailing lists. Decentralization, you know. No one should be trusted with central responsibility to send alerts over the network.\n\n> what will be done ab",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197960977,197960977,
btcdrak,2016-03-17T16:42:39Z,"@achow101 Please note the alert system was not even used for the ""July fork"".\n\nIf Mark Karpeles has the key, how do we know he wasn't forced to hand it over to the Japanese police or that they have obtained it from accessing his computers? At this stage the key should be considered compromised at the very least, but in any case, a network wide, privileged messaging system is pretty outrageous fo",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197967429,197967429,
jl2012,2016-03-17T16:45:27Z,Concept ACK\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197969160,197969160,
NicolasDorier,2016-03-17T16:49:42Z,Concept ACK\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197970471,197970471,
achow101,2016-03-17T17:18:00Z,"@btcdrak Wait, it wasn't used in that fork? I thought it was. \n\nAnyways, since it looks like there are better alternatives which allow for more decentralization, I agree with removing this.\nConcept ACK.\n\nAlthough, if/when this is merged, all of the other wallet developers should be informed so that they remove the code for processing alerts.\n\nAlso, maybe the community should be made aware o",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197982515,197982515,
instagibbs,2016-03-17T17:18:15Z,Concept ACK\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197982657,197982657,
laanwj,2016-03-17T17:19:10Z,"> ""The core developers are taking too much power by forcing protocol rules"".\n\nWe're removing our own privileged position from the P2P protocol (note: not consensus) rules. Oh no! Taking so much power.\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197983159,197983159,
achow101,2016-03-17T17:23:59Z,"> We're removing our own privileged position from the P2P protocol (note: not consensus) rules. Oh no!\n\nYeah, and people can be irrational and there are also shills and conspiracy theorists trying to find every reason to discredit the Core devs\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197985912,197985912,
btcdrak,2016-03-17T17:28:17Z,@achow101 This is not a consensus rule. We are choosing to remove centralisation from the _Bitcoin Core_ distribution.\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197987766,197987766,
laanwj,2016-03-17T17:29:16Z,"> Yeah, and people can be irrational and there are also shills and conspiracy theorists trying to find every reason to discredit the Core devs\n\nThis is going very far off-topic. Let's keep it at this.\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197988260,197988260,
achow101,2016-03-17T17:31:18Z,"@btcdrak Yes, I know. I am just saying that the reaction to this will probably be that even though it is a protocol rule.\n\n@laanwj sorry (I've been hanging out at bitcointalk too long)\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197989396,197989396,
luke-jr,2016-03-17T20:19:24Z,"I'd prefer to see an equivalent alert system replacement first, but the risks to the current one are probably significant enough to warrant its early removal.\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198065791,198065791,
laanwj,2016-03-18T09:50:57Z,"> I'd prefer to see an equivalent alert system replacement first\n\nThat was the same argument last time, and the time before that. At some point we have to cut the knot, and I'd say that is now.\n\nLots of proposals for alternatives, but an alert system isn't really anything people want to spend time working on, it appears. It makes sense in a way, because the only time people worry about such a ",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198284428,198284428,
seweso,2016-03-18T12:57:17Z,"This would mean you move to even more centralised communication methods. So it is very weird to use decentralisation as an argument here. \n\nNot to mention that the alert system gives information at exactly the right time: when you plan to use Bitcoin. \n\nMy advice would be to de-activate it at a certain block height, and then remove it. That should add enough pressure to build alternative, and ",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198343095,198343095,
Aquentus,2016-03-18T13:04:30Z,"Wasn't an Alert sent to all nodes in 2013 to ask them to downgrade to 0.7 urgently? I think there are some irc chat logs which show that there was. Can we say, in the absence of the alert, how much longer it may take for such accidental hardfork to be quickly resolved?\n\nAlthough other public announcement methods can be used, node operators may not be paying attention at that specific point, with",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198346637,198346637,
laanwj,2016-03-18T13:11:51Z,"> This would mean you move to even more centralised communication methods. So it is very weird to use decentralisation as an argument here.\n\nDecentralization is always a compromise, you get more of something, but all of those instances are of course centralized, controlled by one or a few persons (for example, nodes). It's more decentralized in this way: every project (Core, Btcd, Classic, etc) ",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198348651,198348651,
laanwj,2016-03-18T13:15:09Z,"> For example, if it means that an accidental hardfork would last for days, I think that would be a disaster so I wouldn't support it's removal.\n\nThat's nonsense. For the time it takes to solve an accidental hardfork it makes no difference through which mechanism people are notified.\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198350089,198350089,
chris-belcher,2016-03-18T13:39:54Z,"A malicious actor who has the private key could send an alert with a download link to malware. Even if only 5% of node operators click the link it will still provide a huge incentive to do this.\n\nIn the context of the ongoing scaling debate (this PR has been linked to reddit.com/r/btc), the alert key is known to Gavin Andresen.\nGavin could send out an alert if the 750/1000 block version Bitcoin",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198364513,198364513,
pointbiz,2016-03-18T13:46:37Z,NACK \nIMO security is layered and this is meant as a last line of defense. It's been used appropriately in the past. Theymos mentioned it can be made safer by using a finite list of codes instead of free form string. \n\nExisting risks should be summarized please. I only read these:\n-Mark Karpales might have the private key. \n-key could be abused during contentious fork and we won't know who se,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198367410,198367410,
btcdrak,2016-03-18T13:48:00Z,"> Did I miss any risks?\n\nYes, the fact that the Japanese police are probably in [possession of the key](https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-197967429).\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198368345,198368345,
laanwj,2016-03-18T13:50:07Z,"> The alert key was more acceptable when all the developers were in agreement politically, that's not true any longer which provides a reason for the system to be abused.\n\nYes, it was acceptable in the beginning of the system. Now it's time to let reins like this go.\n\nNote that you don't have to agree with this change: if no one with the 'golden' key (which is - likely- accessible by only a fe",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198369493,198369493,
theymos,2016-03-18T16:09:32Z,"I still think that there are cases in which all users of Bitcoin Core need to be notified immediately, such as in case of critical security flaws. In reality, almost no one is going to read the mailing list. I agree that the current alert system is kind of stupid, but I very much think that it's a bad idea to make a release without the alert system or some replacement.\n\n@chris-belcher I wrote a ",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198429695,198429695,
laanwj,2016-03-18T16:34:03Z,"BTW: needs mention in the release notes for 0.13. Makes sense to advertise the mailing list more, there.\n\n> In reality, almost no one is going to read the mailing list\n\nNot so sure about that. This is a low-traffic mailing list, there will be no discussion just notifications of critical alerts and new (final) releases. It may be easier to keep track of than some obscure message in the client, ",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198441984,198441984,
btcdrak,2016-03-18T16:35:50Z,"@theymos \n\n> I agree that the current alert system is kind of stupid,\n\nIt's not that it's stupid, it's that it is a Bitcoin network wide system that grants privilege to a few people. It's just plain wrong. Not to mention that we shoudl consider the keys compromised now by the Japanese police at the very least.\n\n> In reality, almost no one is going to read the mailing list\n\nThis is a new do",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198443130,198443130,
aalness,2016-03-18T16:48:06Z,"This seems foolish to me. Most users aren't reading email lists (it's an increasingly antiquated concept with much latency) and various forums have different audiences speaking a variety of languages. There's no better way to alert the network immediately than directly through their client. If the goal is to be petty towards Gavin, fine rotate the key. But this seems like the most effective means ",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198448169,198448169,
laanwj,2016-03-18T16:49:14Z,> fine rotate the key\n\nThat's not actually possible with the current system (without introducing DoS risk to the network).\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198448778,198448778,
theymos,2016-03-18T16:53:53Z,"To cleanly change the key, you can add a restriction that the old key can't send alerts with priority greater than some number. Then old nodes can still be alerted, but the old key can always be overridden by the new key(s). Also, the old key can be set to completely expire after some time.\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198451513,198451513,
btcdrak,2016-03-18T16:57:44Z,@theymos Doesn't work for unupgraded nodes or fork-of-the-day clients either.\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198453220,198453220,
laanwj,2016-03-18T16:59:31Z,"@theymos A new system should not be based on the P2P `alert` message, but something that:\n- Can be used by different software on the network in parallel, with relaying not dependent on being accepted by that software - for example, by using a transaction. With the current system, there is no communication across 'islands' of software with different keys.\n- Needs multiple developers to sign befor",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198454028,198454028,
laanwj,2016-03-18T17:11:59Z,"This is getting repetitive.\n\nFrom now on, please **only comment on the actual code change here**. PR discussion are for reviewing code, not for endless discussion, the format isn't suited to it - people apparently comment here with their opinion ready without reading any of the preceding discussion.\n\nImplementations of new, better alert systems are welcome in new PRs.\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198458119,198458119,
petertodd,2016-03-18T18:05:52Z,Concept ACK\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198475173,198475173,
FinalHash,2016-03-18T18:07:52Z,"Concept NACK\n\nReason per Peter Todd:\nIn general, removing a component of a messaging layer that has extreme censorship resistance is a bad idea. I feel like this is simply a waste of time and meant to only boot folks with said keys out of the system and overall serves no real purpose. If you can cite why this will be beneficial for Bitcoin, I might be more likely to ACK. But this serves no purp",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198476044,198476044,
petertodd,2016-03-18T18:10:03Z,@FinalHash NACKs have to be accompanied by reasons why you are NACKing:\n\nhttps://github.com/bitcoin/bitcoin/blob/ea0f5a2b04bbbc80448e883824448acb3c5d1921/CONTRIBUTING.md#peer-review\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198476742,198476742,
afk11,2016-03-18T18:24:22Z,"Code review & concept ACK, though orphaned constants need removing: https://github.com/btcdrak/bitcoin/pull/7\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198482252,198482252,
paveljanik,2016-03-18T18:27:09Z,"Wiki should be updated: https://en.bitcoin.it/wiki/Alert_system\n\nAs we are going to not react on ALERT messages, shouldn't proper deprecation-BIP be created as the meaning of one of its messages is going to be changed?\n\nIf you run with `-debug=net`, alerts will be logged as unknown commands, which is probably OK.\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198484168,198484168,
laanwj,2016-03-18T19:16:12Z,"> As we are going to not react on ALERT messages, shouldn't proper deprecation-BIP be created as the meaning of one of its messages is going to be changed?\n\nIf you want - note that there was never a BIP introducing the alert message either. Also: the meaning of the message is not being changed, we'd just be no longer paying attention to it. This was already possible with the option `-alerts=0`. ",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198503392,198503392,
paveljanik,2016-03-18T19:43:58Z,Can be removed as well now:\n\n```\nsrc/chainparams.h:    const std::vector<unsigned char>& AlertKey() const { return vAlertPubKey; }\nsrc/chainparams.h:    std::vector<unsigned char> vAlertPubKey;\n```\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198514675,198514675,
btcdrak,2016-03-18T19:55:43Z,@paveljanik done.\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198517726,198517726,
gmaxwell,2016-03-19T13:55:00Z,"utACK. This should be removed.\n\n>  3 people have the keys\n\nMany more people than three have the keys; the complete set is not made public for personal safety reasons (and given the likely compromise, is not even known to any person). But now, understanding that this misunderstanding exists, some of the strange opposition makes a lot more sense to me, and this only increases my belief that this",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-198706586,198706586,
dcousens,2016-03-21T00:42:28Z,concept ACK\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-199070979,199070979,
laanwj,2016-03-21T12:42:55Z,ACK cfd519e\n,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-199256032,199256032,
whatisgravity,2016-03-24T17:55:26Z,The fact that this introduces a greater attack surface for an unknown group of people should be enough to remove it immediately.\n\nEdit: Also isn't there clear conflict of interest issues with anyone who holds a key from arguing/voting on the existence of this feature?\n\n> This code is actually very useful for other projects that build off of bitcoin code base\n\nThey can look at previous commit,https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-200949372,200949372,
gmaxwell,2016-03-24T19:03:17Z,"@whatisgravity It's removed now-- it's worth noting that the main contributors to Bitcoin Core have been trying to remove it for a couple years now, but have (and continue to) suffered pushback from some parties... it took a while to overcome that.\n",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-200972974,200972974,
maaku,2016-03-24T21:12:16Z,"> Sorry, but I don't think that's a valid reason to maintain code that we shouldn't have anymore. And I'm sure there's much better ways of doing this in derived projects as well, which don't rely on one network-wide secret key.\n\nThat's the wonder of open source -- having code in a repository doesn't mean that you or the other core committers are required to personally support it, other than make",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-201022353,201022353,
laanwj,2016-03-25T10:07:56Z,"> That's the wonder of open source -- having code in a repository doesn't mean that you or the other core committers are required to personally support it, other than make sure that your own merged patches don't break automated unit tests.\n\nNo, I disagree - at least how our project is structured - trying hard to handle issues and fix bugs that come up, for example - there is at least a little re",https://github.com/bitcoin/bitcoin/pull/7692#issuecomment-201227234,201227234,
paveljanik,2016-03-15T19:15:01Z,New line deleted.\n,https://github.com/bitcoin/bitcoin/pull/7692#discussion_r56223697,56223697,src/test/alert_tests.cpp
paveljanik,2016-03-15T19:16:12Z,Some wild editing was done in this file? Please check `git diff -w`. It can help to clean it.\n,https://github.com/bitcoin/bitcoin/pull/7692#discussion_r56223889,56223889,src/test/alert_tests.cpp
laanwj,2016-03-18T14:35:48Z,"Would it make sense to pass strMessage through to the GUI?\nEdit: Hm, it already calls `getStatusBarWarnings()` to get at the message. It's a bit circuitous but works, no need to change that in this pull.\n",https://github.com/bitcoin/bitcoin/pull/7692#discussion_r56664892,56664892,src/main.cpp
paveljanik,2016-03-18T18:15:03Z,Here you are deleting the only `RAW_TEST_FILE` definition - please remove it in the rest of the file or leave this variable empty here to not cause confusion (and keep it for the future).\n,https://github.com/bitcoin/bitcoin/pull/7692#discussion_r56699968,56699968,src/Makefile.test.include
paveljanik,2016-03-18T18:18:35Z,"Remove class `CAlert` is still used in the developer documentation as an example, but I think it is OK: `doc/developer-notes.md:class CAlert`.\n",https://github.com/bitcoin/bitcoin/pull/7692#discussion_r56700430,56700430,src/alert.h
btcdrak,2016-03-18T19:09:35Z,The documentation is unrelated. Just happens to be an example.\n,https://github.com/bitcoin/bitcoin/pull/7692#discussion_r56707579,56707579,src/alert.h
laanwj,2016-03-18T19:29:42Z,"I think it may be better to empty it instead, in case raw test files are added in the future\n",https://github.com/bitcoin/bitcoin/pull/7692#discussion_r56710113,56710113,src/Makefile.test.include
btcdrak,2016-03-18T19:57:28Z,I added it back.\n,https://github.com/bitcoin/bitcoin/pull/7692#discussion_r56713613,56713613,src/Makefile.test.include
