[
  {
    "sha": "42cc79bc1dc8f85cec912efcfe965b2c91538ae2",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0MmNjNzliYzFkYzhmODVjZWM5MTJlZmNmZTk2NWIyYzkxNTM4YWUy",
    "commit": {
      "author": {
        "name": "Chun Kuan Lee",
        "email": "ken2812221@gmail.com",
        "date": "2018-08-01T10:02:06Z"
      },
      "committer": {
        "name": "Chun Kuan Lee",
        "email": "ken2812221@gmail.com",
        "date": "2018-08-29T18:17:25Z"
      },
      "message": "depends: native_nsis",
      "tree": {
        "sha": "69b426edad77bd123cc9813c9780b224ef7bd90f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/69b426edad77bd123cc9813c9780b224ef7bd90f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/42cc79bc1dc8f85cec912efcfe965b2c91538ae2",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/42cc79bc1dc8f85cec912efcfe965b2c91538ae2",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/42cc79bc1dc8f85cec912efcfe965b2c91538ae2",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/42cc79bc1dc8f85cec912efcfe965b2c91538ae2/comments",
    "author": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4e9a6f87b7d25d56fca4166bd929003cf15c9b58",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4e9a6f87b7d25d56fca4166bd929003cf15c9b58",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4e9a6f87b7d25d56fca4166bd929003cf15c9b58"
      }
    ],
    "stats": {
      "total": 60,
      "additions": 54,
      "deletions": 6
    },
    "files": [
      {
        "sha": "a66fa0bdc053b6b36e7e85318f5cba50bcdf31b0",
        "filename": ".travis.yml",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/42cc79bc1dc8f85cec912efcfe965b2c91538ae2/.travis.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/42cc79bc1dc8f85cec912efcfe965b2c91538ae2/.travis.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.travis.yml?ref=42cc79bc1dc8f85cec912efcfe965b2c91538ae2",
        "patch": "@@ -71,15 +71,16 @@ jobs:\n         HOST=i686-w64-mingw32\n         DPKG_ADD_ARCH=\"i386\"\n         DEP_OPTS=\"NO_QT=1\"\n-        PACKAGES=\"python3 nsis g++-mingw-w64-i686 wine-binfmt wine32\"\n+        PACKAGES=\"python3 scons g++-mingw-w64-i686 wine-binfmt wine32\"\n         GOAL=\"install\"\n         BITCOIN_CONFIG=\"--enable-reduce-exports\"\n # Win64\n     - stage: test\n       env: >-\n         HOST=x86_64-w64-mingw32\n+        DPKG_ADD_ARCH=\"i386\"\n         DEP_OPTS=\"NO_QT=1\"\n-        PACKAGES=\"python3 nsis g++-mingw-w64-x86-64 wine-binfmt wine64\"\n+        PACKAGES=\"python3 scons g++-mingw-w64-i686 g++-mingw-w64-x86-64 wine-binfmt wine64\"\n         GOAL=\"install\"\n         BITCOIN_CONFIG=\"--enable-reduce-exports\"\n # 32-bit + dash"
      },
      {
        "sha": "4104d5d074cfb8a0cceb6f1f19801ecff5d89c3b",
        "filename": "contrib/gitian-descriptors/gitian-win.yml",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/42cc79bc1dc8f85cec912efcfe965b2c91538ae2/contrib/gitian-descriptors/gitian-win.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/42cc79bc1dc8f85cec912efcfe965b2c91538ae2/contrib/gitian-descriptors/gitian-win.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-win.yml?ref=42cc79bc1dc8f85cec912efcfe965b2c91538ae2",
        "patch": "@@ -17,7 +17,7 @@ packages:\n - \"bsdmainutils\"\n - \"mingw-w64\"\n - \"g++-mingw-w64\"\n-- \"nsis\"\n+- \"scons\"\n - \"zip\"\n - \"ca-certificates\"\n - \"python\"\n@@ -30,8 +30,8 @@ script: |\n   WRAP_DIR=$HOME/wrapped\n   HOSTS=\"i686-w64-mingw32 x86_64-w64-mingw32\"\n   CONFIGFLAGS=\"--enable-reduce-exports --disable-bench --disable-gui-tests\"\n-  FAKETIME_HOST_PROGS=\"ar ranlib nm windres strip objcopy\"\n-  FAKETIME_PROGS=\"date makensis zip\"\n+  FAKETIME_HOST_PROGS=\"ar as ranlib nm windres strip objcopy\"\n+  FAKETIME_PROGS=\"date scons zip\"\n   HOST_CFLAGS=\"-O2 -g\"\n   HOST_CXXFLAGS=\"-O2 -g\"\n \n@@ -54,7 +54,7 @@ script: |\n     echo \"REAL=\\`which -a ${prog} | grep -v ${WRAP_DIR}/${prog} | head -1\\`\" >> ${WRAP_DIR}/${prog}\n     echo 'export LD_PRELOAD=/usr/lib/x86_64-linux-gnu/faketime/libfaketime.so.1' >> ${WRAP_DIR}/${prog}\n     echo \"export FAKETIME=\\\"$1\\\"\" >> ${WRAP_DIR}/${prog}\n-    echo \"\\$REAL \\$@\" >> $WRAP_DIR/${prog}\n+    echo \"\\$REAL \\\"\\$@\\\"\" >> $WRAP_DIR/${prog}\n     chmod +x ${WRAP_DIR}/${prog}\n   done\n   }"
      },
      {
        "sha": "50dc57fbe9b31dbba40a70824db87a8e58055810",
        "filename": "depends/packages/native_nsis.mk",
        "status": "added",
        "additions": 26,
        "deletions": 0,
        "changes": 26,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/42cc79bc1dc8f85cec912efcfe965b2c91538ae2/depends/packages/native_nsis.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/42cc79bc1dc8f85cec912efcfe965b2c91538ae2/depends/packages/native_nsis.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/native_nsis.mk?ref=42cc79bc1dc8f85cec912efcfe965b2c91538ae2",
        "patch": "@@ -0,0 +1,26 @@\n+package=native_nsis\n+$(package)_version=3.03\n+$(package)_download_path=https://sourceforge.net/projects/nsis/files/NSIS%203/$($(package)_version)\n+$(package)_file_name=nsis-$($(package)_version)-src.tar.bz2\n+$(package)_sha256_hash=abae7f4488bc6de7a4dd760d5f0e7cd3aad7747d4d7cd85786697c8991695eaa\n+$(package)_dependencies=native_zlib\n+\n+define $(package)_set_vars\n+$(package)_build_opts  = PREFIX=$(build_prefix)\n+$(package)_build_opts += PREFIX_DEST=$($(package)_staging_dir)\n+$(package)_build_opts += APPEND_CPPPATH=$(build_prefix)/include\n+$(package)_build_opts += APPEND_LIBPATH=$(build_prefix)/lib\n+$(package)_build_opts += SKIPDOC=COPYING\n+$(package)_build_opts += SKIPSTUBS=bzip2\n+$(package)_build_opts += SKIPPLUGINS=AdvSplash,Banner,BgImage,Dialer,InstallOptions,LangDLL,Library/TypeLib,Math,nsExec,NSISdl,Splash,UserInfo,VPatch/Source/Plugin\n+$(package)_build_opts += SKIPUTILS=Library/LibraryLocal,Library/RegTool,MakeLangId,Makensisw,'NSIS Menu',SubStart,VPatch/Source/GenPat,zip2exe\n+$(package)_build_opts += SKIPMISC=MultiUser,'Modern UI',VPatch\n+endef\n+\n+define $(package)_build_cmds\n+  scons $($(package)_build_opts)\n+endef\n+\n+define $(package)_stage_cmds\n+  scons $($(package)_build_opts) install-bin install-data\n+endef"
      },
      {
        "sha": "dbfd2fa8ef587417c6f8e57084e5399030ee48d4",
        "filename": "depends/packages/native_zlib.mk",
        "status": "added",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/42cc79bc1dc8f85cec912efcfe965b2c91538ae2/depends/packages/native_zlib.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/42cc79bc1dc8f85cec912efcfe965b2c91538ae2/depends/packages/native_zlib.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/native_zlib.mk?ref=42cc79bc1dc8f85cec912efcfe965b2c91538ae2",
        "patch": "@@ -0,0 +1,18 @@\n+package=native_zlib\n+$(package)_version=1.2.11\n+$(package)_download_path=http://www.zlib.net\n+$(package)_file_name=zlib-$($(package)_version).tar.gz\n+$(package)_sha256_hash=c3e5e9fdd5004dcb542feda5ee4f0ff0744628baf8ed2dd5d66f8ca1197cb1a1\n+\n+define $(package)_config_cmds\n+  ./configure --prefix=$(build_prefix)\n+endef\n+\n+define $(package)_build_cmds\n+  $(MAKE)\n+endef\n+\n+define $(package)_stage_cmds\n+  $(MAKE) DESTDIR=$($(package)_staging_dir) install\n+endef\n+"
      },
      {
        "sha": "c4caa93dcb717889aa29069eb557cbdd21b9de2f",
        "filename": "depends/packages/packages.mk",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/42cc79bc1dc8f85cec912efcfe965b2c91538ae2/depends/packages/packages.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/42cc79bc1dc8f85cec912efcfe965b2c91538ae2/depends/packages/packages.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/packages.mk?ref=42cc79bc1dc8f85cec912efcfe965b2c91538ae2",
        "patch": "@@ -13,6 +13,7 @@ wallet_packages=bdb\n upnp_packages=miniupnpc\n \n darwin_native_packages = native_biplist native_ds_store native_mac_alias\n+mingw32_native_packages = native_nsis native_zlib\n \n ifneq ($(build_os),darwin)\n darwin_native_packages += native_cctools native_cdrkit native_libdmg-hfsplus"
      },
      {
        "sha": "a5feeff43ef59f6386c739101947c27197ab8f7a",
        "filename": "share/setup.nsi.in",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/42cc79bc1dc8f85cec912efcfe965b2c91538ae2/share/setup.nsi.in",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/42cc79bc1dc8f85cec912efcfe965b2c91538ae2/share/setup.nsi.in",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/share/setup.nsi.in?ref=42cc79bc1dc8f85cec912efcfe965b2c91538ae2",
        "patch": "@@ -1,4 +1,6 @@\n Name \"@PACKAGE_NAME@ (@WINDOWS_BITS@-bit)\"\n+Unicode true\n+SetDateSave off\n \n RequestExecutionLevel highest\n SetCompressor /SOLID lzma"
      }
    ]
  }
]