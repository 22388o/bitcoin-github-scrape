[
  {
    "sha": "cf3b20c0496d99c80973b86c8f8bec11de7c2b3c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjZjNiMjBjMDQ5NmQ5OWM4MDk3M2I4NmM4ZjhiZWMxMWRlN2MyYjNj",
    "commit": {
      "author": {
        "name": "Jeff Garzik",
        "email": "jgarzik@exmulti.com",
        "date": "2012-09-24T04:32:12Z"
      },
      "committer": {
        "name": "Jeff Garzik",
        "email": "jgarzik@redhat.com",
        "date": "2012-09-24T04:32:12Z"
      },
      "message": "Introduce and use new nServices P2P flag, NODE_VALIDATION",
      "tree": {
        "sha": "8828986a0914ccbd3afa7761028a81bf5aa079a8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8828986a0914ccbd3afa7761028a81bf5aa079a8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf3b20c0496d99c80973b86c8f8bec11de7c2b3c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cf3b20c0496d99c80973b86c8f8bec11de7c2b3c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/cf3b20c0496d99c80973b86c8f8bec11de7c2b3c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cf3b20c0496d99c80973b86c8f8bec11de7c2b3c/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "feec18e329300a6411498b0c01781e16cb742d6f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/feec18e329300a6411498b0c01781e16cb742d6f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/feec18e329300a6411498b0c01781e16cb742d6f"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 5,
      "deletions": 4
    },
    "files": [
      {
        "sha": "e5ef30d911ce1e0b1bf05cd33f0b5701f5fe52e3",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cf3b20c0496d99c80973b86c8f8bec11de7c2b3c/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cf3b20c0496d99c80973b86c8f8bec11de7c2b3c/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=cf3b20c0496d99c80973b86c8f8bec11de7c2b3c",
        "patch": "@@ -49,7 +49,7 @@ struct LocalServiceInfo {\n bool fClient = false;\n bool fDiscover = true;\n bool fUseUPnP = false;\n-uint64 nLocalServices = (fClient ? 0 : NODE_NETWORK);\n+uint64 nLocalServices = (fClient ? 0 : NODE_NETWORK | NODE_VALIDATION);\n static CCriticalSection cs_mapLocalHost;\n static map<CNetAddr, LocalServiceInfo> mapLocalHost;\n static bool vfReachable[NET_MAX] = {};"
      },
      {
        "sha": "f3c0c06d260c45d433ec39109208c50707db951e",
        "filename": "src/protocol.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cf3b20c0496d99c80973b86c8f8bec11de7c2b3c/src/protocol.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cf3b20c0496d99c80973b86c8f8bec11de7c2b3c/src/protocol.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/protocol.cpp?ref=cf3b20c0496d99c80973b86c8f8bec11de7c2b3c",
        "patch": "@@ -88,7 +88,7 @@ CAddress::CAddress(CService ipIn, uint64 nServicesIn) : CService(ipIn)\n \n void CAddress::Init()\n {\n-    nServices = NODE_NETWORK;\n+    nServices = NODE_NETWORK | NODE_VALIDATION;\n     nTime = 100000000;\n     nLastTry = 0;\n }"
      },
      {
        "sha": "c856fc5665f10f55b970105c54a5755ad4fae9f9",
        "filename": "src/protocol.h",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cf3b20c0496d99c80973b86c8f8bec11de7c2b3c/src/protocol.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cf3b20c0496d99c80973b86c8f8bec11de7c2b3c/src/protocol.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/protocol.h?ref=cf3b20c0496d99c80973b86c8f8bec11de7c2b3c",
        "patch": "@@ -67,15 +67,16 @@ class CMessageHeader\n /** nServices flags */\n enum\n {\n-    NODE_NETWORK = (1 << 0),\n+    NODE_NETWORK = (1 << 0),           // has full blockchain\n+    NODE_VALIDATION = (1 << 1),        // has full block headers + UTXO set\n };\n \n /** A CService with information about it as peer */\n class CAddress : public CService\n {\n     public:\n         CAddress();\n-        explicit CAddress(CService ipIn, uint64 nServicesIn=NODE_NETWORK);\n+        explicit CAddress(CService ipIn, uint64 nServicesIn=NODE_NETWORK | NODE_VALIDATION);\n \n         void Init();\n "
      }
    ]
  }
]