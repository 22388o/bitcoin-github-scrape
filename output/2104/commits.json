[
  {
    "sha": "62c9b1155f966cfb91d01d5598f974610962fa82",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2MmM5YjExNTVmOTY2Y2ZiOTFkMDFkNTU5OGY5NzQ2MTA5NjJmYTgy",
    "commit": {
      "author": {
        "name": "Andrey",
        "email": "al42and@gmail.com",
        "date": "2012-12-13T14:59:10Z"
      },
      "committer": {
        "name": "Andrey",
        "email": "al42and@gmail.com",
        "date": "2012-12-13T14:59:10Z"
      },
      "message": "listreceivedbyaddress now provides tx ids (issue #1149)",
      "tree": {
        "sha": "9661741ffcacf8b3e99237419f65e38c1e2c0b4a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9661741ffcacf8b3e99237419f65e38c1e2c0b4a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/62c9b1155f966cfb91d01d5598f974610962fa82",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/62c9b1155f966cfb91d01d5598f974610962fa82",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/62c9b1155f966cfb91d01d5598f974610962fa82",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/62c9b1155f966cfb91d01d5598f974610962fa82/comments",
    "author": {
      "login": "al42and",
      "id": 933873,
      "node_id": "MDQ6VXNlcjkzMzg3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/933873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/al42and",
      "html_url": "https://github.com/al42and",
      "followers_url": "https://api.github.com/users/al42and/followers",
      "following_url": "https://api.github.com/users/al42and/following{/other_user}",
      "gists_url": "https://api.github.com/users/al42and/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/al42and/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/al42and/subscriptions",
      "organizations_url": "https://api.github.com/users/al42and/orgs",
      "repos_url": "https://api.github.com/users/al42and/repos",
      "events_url": "https://api.github.com/users/al42and/events{/privacy}",
      "received_events_url": "https://api.github.com/users/al42and/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "al42and",
      "id": 933873,
      "node_id": "MDQ6VXNlcjkzMzg3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/933873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/al42and",
      "html_url": "https://github.com/al42and",
      "followers_url": "https://api.github.com/users/al42and/followers",
      "following_url": "https://api.github.com/users/al42and/following{/other_user}",
      "gists_url": "https://api.github.com/users/al42and/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/al42and/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/al42and/subscriptions",
      "organizations_url": "https://api.github.com/users/al42and/orgs",
      "repos_url": "https://api.github.com/users/al42and/repos",
      "events_url": "https://api.github.com/users/al42and/events{/privacy}",
      "received_events_url": "https://api.github.com/users/al42and/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "07c3f846c260020aa07af92d28f384509d79a086",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/07c3f846c260020aa07af92d28f384509d79a086",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/07c3f846c260020aa07af92d28f384509d79a086"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 8,
      "deletions": 0
    },
    "files": [
      {
        "sha": "e17be780ac56fbf66e0e712cc41a62a54e4ac187",
        "filename": "src/rpcwallet.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/62c9b1155f966cfb91d01d5598f974610962fa82/src/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/62c9b1155f966cfb91d01d5598f974610962fa82/src/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcwallet.cpp?ref=62c9b1155f966cfb91d01d5598f974610962fa82",
        "patch": "@@ -813,6 +813,7 @@ struct tallyitem\n {\n     int64 nAmount;\n     int nConf;\n+    vector<uint256> txids;\n     tallyitem()\n     {\n         nAmount = 0;\n@@ -854,6 +855,7 @@ Value ListReceived(const Array& params, bool fByAccounts)\n             tallyitem& item = mapTally[address];\n             item.nAmount += txout.nValue;\n             item.nConf = min(item.nConf, nDepth);\n+            item.txids.push_back(wtx.GetHash());\n         }\n     }\n \n@@ -889,6 +891,12 @@ Value ListReceived(const Array& params, bool fByAccounts)\n             obj.push_back(Pair(\"account\",       strAccount));\n             obj.push_back(Pair(\"amount\",        ValueFromAmount(nAmount)));\n             obj.push_back(Pair(\"confirmations\", (nConf == std::numeric_limits<int>::max() ? 0 : nConf)));\n+            Array transactions;\n+            BOOST_FOREACH(const uint256& item, (*it).second.txids)\n+            {\n+                transactions.push_back(item.GetHex());\n+            }\n+            obj.push_back(Pair(\"txids\", transactions));\n             ret.push_back(obj);\n         }\n     }"
      }
    ]
  },
  {
    "sha": "1a20469428ef623f4edc2cdac72aef001836536c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxYTIwNDY5NDI4ZWY2MjNmNGVkYzJjZGFjNzJhZWYwMDE4MzY1MzZj",
    "commit": {
      "author": {
        "name": "Andrey",
        "email": "al42and@gmail.com",
        "date": "2012-12-16T19:10:32Z"
      },
      "committer": {
        "name": "Andrey",
        "email": "al42and@gmail.com",
        "date": "2012-12-16T19:10:32Z"
      },
      "message": "Updated help and tests for getreceivedby(account|address)",
      "tree": {
        "sha": "b1b423d8ae5ce86d8acd043dc907a51a62b006dc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b1b423d8ae5ce86d8acd043dc907a51a62b006dc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1a20469428ef623f4edc2cdac72aef001836536c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1a20469428ef623f4edc2cdac72aef001836536c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/1a20469428ef623f4edc2cdac72aef001836536c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1a20469428ef623f4edc2cdac72aef001836536c/comments",
    "author": {
      "login": "al42and",
      "id": 933873,
      "node_id": "MDQ6VXNlcjkzMzg3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/933873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/al42and",
      "html_url": "https://github.com/al42and",
      "followers_url": "https://api.github.com/users/al42and/followers",
      "following_url": "https://api.github.com/users/al42and/following{/other_user}",
      "gists_url": "https://api.github.com/users/al42and/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/al42and/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/al42and/subscriptions",
      "organizations_url": "https://api.github.com/users/al42and/orgs",
      "repos_url": "https://api.github.com/users/al42and/repos",
      "events_url": "https://api.github.com/users/al42and/events{/privacy}",
      "received_events_url": "https://api.github.com/users/al42and/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "al42and",
      "id": 933873,
      "node_id": "MDQ6VXNlcjkzMzg3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/933873?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/al42and",
      "html_url": "https://github.com/al42and",
      "followers_url": "https://api.github.com/users/al42and/followers",
      "following_url": "https://api.github.com/users/al42and/following{/other_user}",
      "gists_url": "https://api.github.com/users/al42and/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/al42and/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/al42and/subscriptions",
      "organizations_url": "https://api.github.com/users/al42and/orgs",
      "repos_url": "https://api.github.com/users/al42and/repos",
      "events_url": "https://api.github.com/users/al42and/events{/privacy}",
      "received_events_url": "https://api.github.com/users/al42and/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "62c9b1155f966cfb91d01d5598f974610962fa82",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/62c9b1155f966cfb91d01d5598f974610962fa82",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/62c9b1155f966cfb91d01d5598f974610962fa82"
      }
    ],
    "stats": {
      "total": 45,
      "additions": 35,
      "deletions": 10
    },
    "files": [
      {
        "sha": "d9d364c820662d332b5bf575b115461101f025dc",
        "filename": "src/rpcwallet.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 3,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1a20469428ef623f4edc2cdac72aef001836536c/src/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1a20469428ef623f4edc2cdac72aef001836536c/src/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcwallet.cpp?ref=1a20469428ef623f4edc2cdac72aef001836536c",
        "patch": "@@ -892,9 +892,12 @@ Value ListReceived(const Array& params, bool fByAccounts)\n             obj.push_back(Pair(\"amount\",        ValueFromAmount(nAmount)));\n             obj.push_back(Pair(\"confirmations\", (nConf == std::numeric_limits<int>::max() ? 0 : nConf)));\n             Array transactions;\n-            BOOST_FOREACH(const uint256& item, (*it).second.txids)\n+            if (it != mapTally.end())\n             {\n-                transactions.push_back(item.GetHex());\n+                BOOST_FOREACH(const uint256& item, (*it).second.txids)\n+                {\n+                    transactions.push_back(item.GetHex());\n+                }\n             }\n             obj.push_back(Pair(\"txids\", transactions));\n             ret.push_back(obj);\n@@ -929,7 +932,8 @@ Value listreceivedbyaddress(const Array& params, bool fHelp)\n             \"  \\\"address\\\" : receiving address\\n\"\n             \"  \\\"account\\\" : the account of the receiving address\\n\"\n             \"  \\\"amount\\\" : total amount received by the address\\n\"\n-            \"  \\\"confirmations\\\" : number of confirmations of the most recent transaction included\");\n+            \"  \\\"confirmations\\\" : number of confirmations of the most recent transaction included\\n\"\n+            \"  \\\"txids\\\" : list of transactions with outputs to the address\\n\");\n \n     return ListReceived(params, false);\n }"
      },
      {
        "sha": "35eabed0e23f0dd7c86e3285e2d67719fc1c4b2b",
        "filename": "src/test/rpc_tests.cpp",
        "status": "modified",
        "additions": 28,
        "deletions": 7,
        "changes": 35,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1a20469428ef623f4edc2cdac72aef001836536c/src/test/rpc_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1a20469428ef623f4edc2cdac72aef001836536c/src/test/rpc_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/rpc_tests.cpp?ref=1a20469428ef623f4edc2cdac72aef001836536c",
        "patch": "@@ -79,23 +79,44 @@ static Value CallRPC(string args)\n     }\n }\n \n-BOOST_AUTO_TEST_CASE(rpc_rawparams)\n+BOOST_AUTO_TEST_CASE(rpc_wallet)\n {\n-    // Test raw transaction API argument handling\n+    // Test RPC calls for various wallet statistics\n     Value r;\n \n-    BOOST_CHECK_THROW(CallRPC(\"getrawtransaction\"), runtime_error);\n-    BOOST_CHECK_THROW(CallRPC(\"getrawtransaction not_hex\"), runtime_error);\n-    BOOST_CHECK_THROW(CallRPC(\"getrawtransaction a3b807410df0b60fcb9736768df5823938b2f838694939ba45f3c0a1bff150ed not_int\"), runtime_error);\n-\n     BOOST_CHECK_NO_THROW(CallRPC(\"listunspent\"));\n     BOOST_CHECK_THROW(CallRPC(\"listunspent string\"), runtime_error);\n     BOOST_CHECK_THROW(CallRPC(\"listunspent 0 string\"), runtime_error);\n     BOOST_CHECK_THROW(CallRPC(\"listunspent 0 1 not_array\"), runtime_error);\n+    BOOST_CHECK_THROW(CallRPC(\"listunspent 0 1 [] extra\"), runtime_error);\n     BOOST_CHECK_NO_THROW(r=CallRPC(\"listunspent 0 1 []\"));\n-    BOOST_CHECK_THROW(r=CallRPC(\"listunspent 0 1 [] extra\"), runtime_error);\n     BOOST_CHECK(r.get_array().empty());\n \n+    BOOST_CHECK_NO_THROW(CallRPC(\"listreceivedbyaddress\"));\n+    BOOST_CHECK_NO_THROW(CallRPC(\"listreceivedbyaddress 0\"));\n+    BOOST_CHECK_THROW(CallRPC(\"listreceivedbyaddress not_int\"), runtime_error);\n+    BOOST_CHECK_THROW(CallRPC(\"listreceivedbyaddress 0 not_bool\"), runtime_error);\n+    BOOST_CHECK_NO_THROW(CallRPC(\"listreceivedbyaddress 0 true\"));\n+    BOOST_CHECK_THROW(CallRPC(\"listreceivedbyaddress 0 true extra\"), runtime_error);\n+\n+    BOOST_CHECK_NO_THROW(CallRPC(\"listreceivedbyaccount\"));\n+    BOOST_CHECK_NO_THROW(CallRPC(\"listreceivedbyaccount 0\"));\n+    BOOST_CHECK_THROW(CallRPC(\"listreceivedbyaccount not_int\"), runtime_error);\n+    BOOST_CHECK_THROW(CallRPC(\"listreceivedbyaccount 0 not_bool\"), runtime_error);\n+    BOOST_CHECK_NO_THROW(CallRPC(\"listreceivedbyaccount 0 true\"));\n+    BOOST_CHECK_THROW(CallRPC(\"listreceivedbyaccount 0 true extra\"), runtime_error);\n+}\n+\n+\n+BOOST_AUTO_TEST_CASE(rpc_rawparams)\n+{\n+    // Test raw transaction API argument handling\n+    Value r;\n+\n+    BOOST_CHECK_THROW(CallRPC(\"getrawtransaction\"), runtime_error);\n+    BOOST_CHECK_THROW(CallRPC(\"getrawtransaction not_hex\"), runtime_error);\n+    BOOST_CHECK_THROW(CallRPC(\"getrawtransaction a3b807410df0b60fcb9736768df5823938b2f838694939ba45f3c0a1bff150ed not_int\"), runtime_error);\n+\n     BOOST_CHECK_THROW(CallRPC(\"createrawtransaction\"), runtime_error);\n     BOOST_CHECK_THROW(CallRPC(\"createrawtransaction null null\"), runtime_error);\n     BOOST_CHECK_THROW(CallRPC(\"createrawtransaction not_array\"), runtime_error);"
      }
    ]
  }
]