DrahtBot,2021-05-07 21:41:23,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23614](https://github.com/bitcoin/bitcoin/pull/23614) (test: add unit test for block-relay-only eviction by mzumsande)\n",https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-834799406,834799406,
practicalswift,2021-05-08 13:04:28,Strong Concept ACK: mockable means fuzzable.,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-835354652,835354652,
jonatack,2021-05-10 10:37:26,Concept ACK,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-836534098,836534098,
promag,2021-05-12 21:57:54,@vasild I think 96bcc72 and refactors around it could easily be merged on its own.,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-840122253,840122253,
vasild,2021-05-13 11:54:51,`0256cfd34...e68bc633f`: address review suggestions,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-840507818,840507818,
vasild,2021-05-13 12:34:05,"> @vasild I think [`96bcc72`](https://github.com/bitcoin/bitcoin/commit/96bcc72b5dc4f8ba5654d8ddeab844688507f1ce) and refactors around it could easily be merged on its own.\n\nRight! Submitted in https://github.com/bitcoin/bitcoin/pull/21943.",https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-840525755,840525755,
jnewbery,2021-05-14 09:32:30,Very nice. Strong concept ACK.,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-841131091,841131091,
vasild,2021-05-14 10:42:33,"`e68bc633f...5772edb36`: add an explicit commit that shows we intentionally don't process newly accepted nodes, as discussed in https://github.com/bitcoin/bitcoin/pull/21943#discussion_r632150326",https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-841165411,841165411,
vasild,2021-05-17 15:22:31,`5772edb...ec5f887`: replicate changes to https://github.com/bitcoin/bitcoin/pull/21943,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-842413902,842413902,
vasild,2021-05-19 11:49:52,`ec5f887543...a0b00304a8`: rebase due to conflicts,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-844026325,844026325,
vasild,2021-05-20 13:32:12,"`a0b00304a8...6bed261aaf`: rebase due to conflicts, follow the trend from https://github.com/bitcoin/bitcoin/pull/21659 and flag newly added `Sock` methods with `[[nodiscard]]`",https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-845125104,845125104,
vasild,2021-05-31 08:45:05,"`6bed261aaf...272ecad4bf`:\n* Rebase\n* Fix https://github.com/bitcoin/bitcoin/issues/21744\n* To denote an invalid socket: use an empty `shared_ptr`/`unique_ptr` to `Sock` (that owns `nullptr`) instead of a `Sock` object that contains `m_socket` equal to `INVALID_SOCKET`. This way high-level callers never need to lookup the internal file descriptor of `Sock`.",https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-851327527,851327527,
vasild,2021-05-31 14:53:29,`272ecad4bf...2833c71862`: fix a compiler warning,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-851541638,851541638,
vasild,2021-06-03 14:37:23,`2833c71862...f029732b34`: rebase due to conflicts,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-853920077,853920077,
vasild,2021-06-22 08:12:24,`f029732b34...379e9e7279`: rebase due to conflicts,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-865699111,865699111,
vasild,2021-06-30 13:20:48,"`379e9e7279...cdf537545a`: during fuzzing, mock also DNS lookup; this is necessary since we now fuzz high level code which may end up doing DNS lookups, for example: `CConnman::OpenNetworkConnection() -> CConnman::ConnectNode() -> Lookup()`\n",https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-871399099,871399099,
jamesob,2021-06-30 13:23:08,"Concept ACK, excited to dig into this.",https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-871400967,871400967,
vasild,2021-08-25 11:11:55,`cdf537545a...c98c54e3e3`: rebase due to conflicts,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-905405607,905405607,
vasild,2021-09-28 07:37:09,"`c98c54e3e3...f8d0ae7e5d`: rebase due to conflicts and address review suggestions from child PRs: https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-928928790, https://github.com/bitcoin/bitcoin/pull/21943#issuecomment-928930542.",https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-928935114,928935114,
vasild,2021-09-28 13:21:52,`f8d0ae7e5d...39476dc354`: rebase and pick minor changes from child PR https://github.com/bitcoin/bitcoin/pull/21943#issuecomment-929201658.,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-929204917,929204917,
vasild,2021-10-08 08:39:47,`39476dc354...02aeba0713`: rebase due to conflicts,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-938456509,938456509,
vasild,2021-10-26 08:26:03,`02aeba0713...94f8543cda`: rebase and pick changes from child PR: https://github.com/bitcoin/bitcoin/pull/21943#issuecomment-951672368,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-951704268,951704268,
vasild,2021-11-10 10:06:12,`94f8543cda...3673db7c0a`: rebase due to conflicts,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-964977872,964977872,
vasild,2021-11-12 10:18:11,`3673db7c0a...ff3d6a5937`: pick changes from child PR: https://github.com/bitcoin/bitcoin/pull/21943#issuecomment-966969216,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-966985437,966985437,
vasild,2021-11-18 16:28:19,`ff3d6a5937...63280ff095`: rebase due to conflicts and pick changes from child PR: https://github.com/bitcoin/bitcoin/pull/21943#issuecomment-972830829,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-973029626,973029626,
vasild,2021-11-26 11:00:47,"`63280ff095...8fa0821747`: rebase due to conflicts. #21943 which was part of this PR was merged, thus remove its commits from this PR.",https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-979882888,979882888,
vasild,2021-12-01 15:36:00,`8fa0821747...9dd36c4a72`: rebase due to conflicts,https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-983760980,983760980,
promag,2021-05-12 14:31:58,"96bcc72b5dc4f8ba5654d8ddeab844688507f1ce\n\nnit, * const",https://github.com/bitcoin/bitcoin/pull/21878#discussion_r631097383,631097383,src/net.h
promag,2021-05-12 14:32:42,"96bcc72b5dc4f8ba5654d8ddeab844688507f1ce\n\nnit, make private and add const getter `const std::vector<CNode*>& nodes() const { return m_nodes_copy; }`",https://github.com/bitcoin/bitcoin/pull/21878#discussion_r631097997,631097997,src/net.h
MarcoFalke,2021-05-12 15:03:21,`&` is even better,https://github.com/bitcoin/bitcoin/pull/21878#discussion_r631125656,631125656,src/net.h
promag,2021-05-12 21:55:33,I did though of that but then the caller inits with `{*this}`?,https://github.com/bitcoin/bitcoin/pull/21878#discussion_r631427329,631427329,src/net.h
vasild,2021-05-13 11:58:29,"After reading\nhttps://github.com/isocpp/CppCoreGuidelines/issues/222 and\nhttps://github.com/isocpp/CppCoreGuidelines/issues/1707\nI decided to use a reference instead of a pointer because the member cannot/must not be nullable.",https://github.com/bitcoin/bitcoin/pull/21878#discussion_r631758140,631758140,src/net.h
vasild,2021-05-13 11:58:42,Done.,https://github.com/bitcoin/bitcoin/pull/21878#discussion_r631758260,631758260,src/net.h
