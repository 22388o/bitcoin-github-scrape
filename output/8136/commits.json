[
  {
    "sha": "8b78486d02ed3c1c217d79ebca78a70d73e0d570",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4Yjc4NDg2ZDAyZWQzYzFjMjE3ZDc5ZWJjYTc4YTcwZDczZTBkNTcw",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-06-02T11:52:09Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-06-07T09:04:01Z"
      },
      "message": "Log/report in 10% steps during VerifyDB",
      "tree": {
        "sha": "98acc2df32e03dc5ff44b6de58bf7e81f9092644",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/98acc2df32e03dc5ff44b6de58bf7e81f9092644"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8b78486d02ed3c1c217d79ebca78a70d73e0d570",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJXVo4CAAoJECnUvLZBb1Psg78QAJEDVmYZeXKjzhcUd8qs2/cJ\na3Sy+dF9gpXoABFzylPnIbOY56HHR+z9gNVxpITXp84so1diLMhwP6QIWqIaxxbb\nvBIW3uvRqcNOh7g5sg1T5larIkvJ9NXePkrwsj0PFqpj2F6NpXjc28aDFCru2AuD\nyux2uz1lcMslpkzxF53+SpkkiBrtwcKy4UIbaPlIJxh4+HYDF6L6m7ceqewmGWx2\n9XCEtRxkjlNMUAUyOdncmCNCv4YNT6hZNkQjEbAswhh+ORT5Ejq5XLBP4NLgnouB\nGV7CnbNc7XLJTeF705l9ltlslSQLNyN9Q1ubGDbEq7iwreOyeMCOU/9EoG4ikuvK\n9Au0f4qRq7z/tTkrtNEVBKgCHQ9FKv/drDBRfcCDzUtoVvzzTNppzL/8336AupaH\n5eDdKCDuFFFJzdk72WhHrVKc1CB9U3/4KPpVyJXnHgNbc7Hn6LfyR7ThzWcV9QXe\nRRJEzm6RFJJNCLQ+gu3oJx3J8GTRuBa97c9e9vuZeklXgELTHOCFX9liCEskROyW\n6K7VobmEtufgP5ouSsA/TKtDb43yxk8TRiI5pWgbiNy48aLYUBslJoSdfSu+0Zau\n3GM9dIgPbF9AltV1Dzw7bzzXvd/V2xCQat+EieHtKSk4aOLKT+ROmw198zg1Ryod\nwqOWoZmZY1EB9MYDF+tO\n=C4od\n-----END PGP SIGNATURE-----",
        "payload": "tree 98acc2df32e03dc5ff44b6de58bf7e81f9092644\nparent ee1533e262e72d0b5aaae187ab9a37ba79c9cda7\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1464868329 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1465290241 +0200\n\nLog/report in 10% steps during VerifyDB\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8b78486d02ed3c1c217d79ebca78a70d73e0d570",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8b78486d02ed3c1c217d79ebca78a70d73e0d570",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8b78486d02ed3c1c217d79ebca78a70d73e0d570/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ee1533e262e72d0b5aaae187ab9a37ba79c9cda7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ee1533e262e72d0b5aaae187ab9a37ba79c9cda7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ee1533e262e72d0b5aaae187ab9a37ba79c9cda7"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 10,
      "deletions": 1
    },
    "files": [
      {
        "sha": "a712698210df88b93da5bc1c72349f7a8d0a4731",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 10,
        "deletions": 1,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8b78486d02ed3c1c217d79ebca78a70d73e0d570/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8b78486d02ed3c1c217d79ebca78a70d73e0d570/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=8b78486d02ed3c1c217d79ebca78a70d73e0d570",
        "patch": "@@ -3873,10 +3873,18 @@ bool CVerifyDB::VerifyDB(const CChainParams& chainparams, CCoinsView *coinsview,\n     CBlockIndex* pindexFailure = NULL;\n     int nGoodTransactions = 0;\n     CValidationState state;\n+    int reportDone = 0;\n+    LogPrintf(\"[0%]...\");\n     for (CBlockIndex* pindex = chainActive.Tip(); pindex && pindex->pprev; pindex = pindex->pprev)\n     {\n         boost::this_thread::interruption_point();\n-        uiInterface.ShowProgress(_(\"Verifying blocks...\"), std::max(1, std::min(99, (int)(((double)(chainActive.Height() - pindex->nHeight)) / (double)nCheckDepth * (nCheckLevel >= 4 ? 50 : 100)))));\n+        int percentageDone = std::max(1, std::min(99, (int)(((double)(chainActive.Height() - pindex->nHeight)) / (double)nCheckDepth * (nCheckLevel >= 4 ? 50 : 100))));\n+        if (reportDone < percentageDone/10) {\n+            // report every 10% step\n+            LogPrintf(\"[%d%%]...\", percentageDone);\n+            reportDone = percentageDone/10;\n+        }\n+        uiInterface.ShowProgress(_(\"Verifying blocks...\"), percentageDone);\n         if (pindex->nHeight < chainActive.Height()-nCheckDepth)\n             break;\n         if (fPruneMode && !(pindex->nStatus & BLOCK_HAVE_DATA)) {\n@@ -3934,6 +3942,7 @@ bool CVerifyDB::VerifyDB(const CChainParams& chainparams, CCoinsView *coinsview,\n         }\n     }\n \n+    LogPrintf(\"[DONE].\\n\");\n     LogPrintf(\"No coin database inconsistencies in last %i blocks (%i transactions)\\n\", chainActive.Height() - pindexState->nHeight, nGoodTransactions);\n \n     return true;"
      }
    ]
  }
]