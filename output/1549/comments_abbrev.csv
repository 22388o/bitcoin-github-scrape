gavinandresen,2012-07-02T19:55:35Z,"addnode RPC: cool.\n\ngetaddednodeinfo : An Object with duplicated keys (""connectedto"") is going to cause problems in some languages. And I don't understand the multiple connectedto's-- if I addnode a node, I might get more than one connection to it?\n",https://github.com/bitcoin/bitcoin/pull/1549#issuecomment-6718191,6718191,
TheBlueMatt,2012-07-02T20:10:29Z,"Changed to array.\n\nSure, there are a number of scenarios where you may get more than one connection to a given -addnode (when the -addnode is dns and maps to multiple addresses).  -addnode itself wont make more than one connection, but you may get an incoming connection, or happen to connect to another ip that is mapped to from your added node.\n",https://github.com/bitcoin/bitcoin/pull/1549#issuecomment-6718551,6718551,
gmaxwell,2012-07-02T22:10:14Z,"Hm. I wonder if it should work instead like this:\n\ngetaddednodeinfo  ->  ""addednode"": [ ""dnsseed.bluematt.me"", ""foobarbaz.onion"" ] \n^ what you actually have addnoded\n\ngetaddednodeinfo  dnsseed.bluematt.me ->  ""address"" : [ ""95.154.99.150:8333"", ""...""]\n^ how they are currently being resolved by bitcoind. \n\nAnd leave the connected status (in/out/not connected) up to getpeerinfo?\n\nOtherwise",https://github.com/bitcoin/bitcoin/pull/1549#issuecomment-6721252,6721252,
sipa,2012-07-02T23:47:24Z,"I wonder whether addnode is the right thing to expose - it is intended to be used for stable trusted nodes you know and is something more of a config setting. For an RPC, it may be more useful to have a one-shot command ""connect now to X, no matter what"".\n\nEventually, I think the entire network config should be exposed via RPC, but I'd do that via some ""setnetconfig [config]"" call, rather than s",https://github.com/bitcoin/bitcoin/pull/1549#issuecomment-6722763,6722763,
TheBlueMatt,2012-07-02T23:52:38Z,"@gmaxwell In terms of listing the full list of addresses the added node resolves to...yes, that would be better.  In terms of making the user make two/three calls to get at the info on whether or not a given added node is connected, I entirely disagree here.  I'll add a in/out/not connected flag.\n\n@sipa The goal is to allow a long-running node to add trusted nodes without having to restart.  In ",https://github.com/bitcoin/bitcoin/pull/1549#issuecomment-6722834,6722834,
gmaxwell,2012-07-03T00:05:14Z,"@TheBlueMatt  Yea, I actually wrote the tristate first and then thought some people might disagree with the duplication.\n\nI'm pretty sure we should have commands to edit addnode on running nodes. I'm tired of restarting my p2pool bitcoind's just to dork around with the addnode settings.  Perhaps the oneshot could just be a addnode foo oneshot instead of another RPC? \n",https://github.com/bitcoin/bitcoin/pull/1549#issuecomment-6723029,6723029,
TheBlueMatt,2012-07-04T02:23:24Z,"Tweaked as a result of suggestions.\nNow you have:\naddnode <node> <add|remove|onetry> and getaddednodeinfo [node]\ngetaddednodeinfo may look something like this:\nï¿¼\n[\n{\n""addednode"" : ""10.232.4.10"",\n""connected"" : true,\n""addresses"" : [\n{\n""address"" : ""10.232.4.10:8333"",\n""connected"" : ""outbound""\n}\n]\n},\n{\n""addednode"" : ""dnsseed.bluematt.me"",\n""connected"" : true,\n""addresses"" : [\n{\n""addr",https://github.com/bitcoin/bitcoin/pull/1549#issuecomment-6751340,6751340,
jgarzik,2012-07-04T02:49:44Z,addnode ACK\n,https://github.com/bitcoin/bitcoin/pull/1549#issuecomment-6751597,6751597,
luke-jr,2012-07-11T05:29:58Z,This needs rebasing.\n,https://github.com/bitcoin/bitcoin/pull/1549#issuecomment-6898477,6898477,
TheBlueMatt,2013-01-23T17:25:15Z,"Test Plan (can someone run through this to make the powers-that-be happy) :\nReplace <IP Address> with an IP of a bitcoin node which you can kill/restart at will.\nReplace <DNS Name> with a dns name which has a very low TTL which you can change to point to a different IP during testing without waiting too long.\nNote that many actions will only take effect after a delay of up to two minutes,\nyou ",https://github.com/bitcoin/bitcoin/pull/1549#issuecomment-12611079,12611079,
gavinandresen,2013-01-24T02:44:37Z,"The powers that be will kick in a BTC or two bounty for somebody to execute the test plan (and save their debug.logs somewhere, so we really know they ran the test).\n\nRecruiting a tester from the #bitcoin IRC channel or from https://bitcointalk.org/index.php?board=12.0  seems to work.\n",https://github.com/bitcoin/bitcoin/pull/1549#issuecomment-12634517,12634517,
BitcoinPullTester,2013-01-27T08:37:23Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/f2bd6c28e6bddd75d56d580c28f45d2a8be065ab for binaries and test log.\n",https://github.com/bitcoin/bitcoin/pull/1549#issuecomment-12751499,12751499,
apoelstra,2013-01-27T20:44:57Z,Ran the test as BlueMatt suggested. Everything worked correctly. A full report and relevant debug.log files are at\n\nhttp://download.wpsoftware.net/code/bitcoin-1549/\n,https://github.com/bitcoin/bitcoin/pull/1549#issuecomment-12761157,12761157,
gavinandresen,2013-01-28T19:08:58Z,"Thanks @apoelstra , 1 BTC ""thanks for testing"" tip sent.\n\nACK on code changes, pulling.\n",https://github.com/bitcoin/bitcoin/pull/1549#issuecomment-12798305,12798305,
