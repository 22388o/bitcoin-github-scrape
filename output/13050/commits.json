[
  {
    "sha": "29da2e9f0286a536978548234f4390b321507a23",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyOWRhMmU5ZjAyODZhNTM2OTc4NTQ4MjM0ZjQzOTBiMzIxNTA3YTIz",
    "commit": {
      "author": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-04-21T17:48:07Z"
      },
      "committer": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-06-01T13:30:34Z"
      },
      "message": "speed up of test_big_witness_transaction by reusing of CTransaction.\n\ntest_big_witness_transaction was spending most of time converting CMutableTransaction to Transaction, which involves recalculating hashes. This means the time complexity for providing witnesses for the 4500 inputs had a O(n2) component. This change replaces the call to SignSignature (which always creates a new CTransaction) with calls to lower level functions ProduceSignature and UpdateTransaction, which allows for reuse of a single CTransaction. This reduces execution time in about 70%.",
      "tree": {
        "sha": "96deb4a8468c4dc60590c482353920001db52214",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/96deb4a8468c4dc60590c482353920001db52214"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/29da2e9f0286a536978548234f4390b321507a23",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/29da2e9f0286a536978548234f4390b321507a23",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/29da2e9f0286a536978548234f4390b321507a23",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/29da2e9f0286a536978548234f4390b321507a23/comments",
    "author": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e24bf1ce184bc8d5bba70a3f3e9c43c2df07f4d3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e24bf1ce184bc8d5bba70a3f3e9c43c2df07f4d3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e24bf1ce184bc8d5bba70a3f3e9c43c2df07f4d3"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 9,
      "deletions": 2
    },
    "files": [
      {
        "sha": "756317678b98977fe073507e0f510d1ea69f969c",
        "filename": "src/test/transaction_tests.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 2,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/29da2e9f0286a536978548234f4390b321507a23/src/test/transaction_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/29da2e9f0286a536978548234f4390b321507a23/src/test/transaction_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/transaction_tests.cpp?ref=29da2e9f0286a536978548234f4390b321507a23",
        "patch": "@@ -449,10 +449,17 @@ BOOST_AUTO_TEST_CASE(test_big_witness_transaction) {\n         mtx.vout[i].scriptPubKey = CScript() << OP_1;\n     }\n \n+    // create a single CTransaction to be used in generating all signatures\n+    CTransaction txToConst(mtx);\n+\n     // sign all inputs\n-    for(uint32_t i = 0; i < mtx.vin.size(); i++) {\n-        bool hashSigned = SignSignature(keystore, scriptPubKey, mtx, i, 1000, sigHashes.at(i % sigHashes.size()));\n+    for (uint32_t i = 0; i < mtx.vin.size(); i++) {\n+        TransactionSignatureCreator creator(&txToConst, i, 1000, sigHashes.at(i % sigHashes.size()));\n+\n+        SignatureData sigdata;\n+        bool hashSigned = ProduceSignature(keystore, creator, scriptPubKey, sigdata);\n         assert(hashSigned);\n+        UpdateTransaction(mtx, i, sigdata);\n     }\n \n     CDataStream ssout(SER_NETWORK, PROTOCOL_VERSION);"
      }
    ]
  },
  {
    "sha": "384bcd116c7bdfbe7ed851a739a8d8c8809d4d12",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozODRiY2QxMTZjN2JkZmJlN2VkODUxYTczOWE4ZDhjODgwOWQ0ZDEy",
    "commit": {
      "author": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-05-01T05:16:39Z"
      },
      "committer": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-06-01T13:30:34Z"
      },
      "message": "speed up of tx_validationcache_tests by reusing of CTransaction.\n\nThis commit uses the a similar strategy as used for speeding up test_big_witness_transaction, that is, reusing the same CTransaction for several calls. Attains a speed up of about 15%.",
      "tree": {
        "sha": "cf9129f13196ffd97033a1ddcffdcd91fcb4ab2c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cf9129f13196ffd97033a1ddcffdcd91fcb4ab2c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/384bcd116c7bdfbe7ed851a739a8d8c8809d4d12",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/384bcd116c7bdfbe7ed851a739a8d8c8809d4d12",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/384bcd116c7bdfbe7ed851a739a8d8c8809d4d12",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/384bcd116c7bdfbe7ed851a739a8d8c8809d4d12/comments",
    "author": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "29da2e9f0286a536978548234f4390b321507a23",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/29da2e9f0286a536978548234f4390b321507a23",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/29da2e9f0286a536978548234f4390b321507a23"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 5,
      "deletions": 3
    },
    "files": [
      {
        "sha": "084b0f1eacf791b897aea9f48fa6dc2af99ceec3",
        "filename": "src/test/txvalidationcache_tests.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 3,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/384bcd116c7bdfbe7ed851a739a8d8c8809d4d12/src/test/txvalidationcache_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/384bcd116c7bdfbe7ed851a739a8d8c8809d4d12/src/test/txvalidationcache_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/txvalidationcache_tests.cpp?ref=384bcd116c7bdfbe7ed851a739a8d8c8809d4d12",
        "patch": "@@ -105,6 +105,8 @@ BOOST_FIXTURE_TEST_CASE(tx_mempool_block_doublespend, TestChain100Setup)\n static void ValidateCheckInputsForAllFlags(CMutableTransaction &tx, uint32_t failing_flags, bool add_to_cache)\n {\n     PrecomputedTransactionData txdata(tx);\n+    CTransaction cTx(tx);\n+\n     // If we add many more flags, this loop can get too expensive, but we can\n     // rewrite in the future to randomly pick a set of flags to evaluate.\n     for (uint32_t test_flags=0; test_flags < (1U << 16); test_flags += 1) {\n@@ -119,7 +121,7 @@ static void ValidateCheckInputsForAllFlags(CMutableTransaction &tx, uint32_t fai\n             // WITNESS requires P2SH\n             test_flags |= SCRIPT_VERIFY_P2SH;\n         }\n-        bool ret = CheckInputs(tx, state, pcoinsTip.get(), true, test_flags, true, add_to_cache, txdata, nullptr);\n+        bool ret = CheckInputs(cTx, state, pcoinsTip.get(), true, test_flags, true, add_to_cache, txdata, nullptr);\n         // CheckInputs should succeed iff test_flags doesn't intersect with\n         // failing_flags\n         bool expected_return_value = !(test_flags & failing_flags);\n@@ -129,13 +131,13 @@ static void ValidateCheckInputsForAllFlags(CMutableTransaction &tx, uint32_t fai\n         if (ret && add_to_cache) {\n             // Check that we get a cache hit if the tx was valid\n             std::vector<CScriptCheck> scriptchecks;\n-            BOOST_CHECK(CheckInputs(tx, state, pcoinsTip.get(), true, test_flags, true, add_to_cache, txdata, &scriptchecks));\n+            BOOST_CHECK(CheckInputs(cTx, state, pcoinsTip.get(), true, test_flags, true, add_to_cache, txdata, &scriptchecks));\n             BOOST_CHECK(scriptchecks.empty());\n         } else {\n             // Check that we get script executions to check, if the transaction\n             // was invalid, or we didn't add to cache.\n             std::vector<CScriptCheck> scriptchecks;\n-            BOOST_CHECK(CheckInputs(tx, state, pcoinsTip.get(), true, test_flags, true, add_to_cache, txdata, &scriptchecks));\n+            BOOST_CHECK(CheckInputs(cTx, state, pcoinsTip.get(), true, test_flags, true, add_to_cache, txdata, &scriptchecks));\n             BOOST_CHECK_EQUAL(scriptchecks.size(), tx.vin.size());\n         }\n     }"
      }
    ]
  },
  {
    "sha": "92b880d4be3b0d5541101223988044d90961b370",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5MmI4ODBkNGJlM2IwZDU1NDExMDEyMjM5ODgwNDRkOTA5NjFiMzcw",
    "commit": {
      "author": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-05-03T15:51:08Z"
      },
      "committer": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-06-01T13:30:34Z"
      },
      "message": "Reduced number of validations in `tx_validationcache_tests` to keep the run time reasonable.\n\nFollowing a suggestion in the comments, changed `ValidateCheckInputsForAllFlags` from testing all possible flag combinations to testing a random subset. Also created a new enum constant for the highest flag, so that this test doesn\u2019t keep testing an incomplete subset in case a new flag is added.",
      "tree": {
        "sha": "66f2e3d05d822a96b3ea1327eee833644f9f4bf8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/66f2e3d05d822a96b3ea1327eee833644f9f4bf8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/92b880d4be3b0d5541101223988044d90961b370",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/92b880d4be3b0d5541101223988044d90961b370",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/92b880d4be3b0d5541101223988044d90961b370",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/92b880d4be3b0d5541101223988044d90961b370/comments",
    "author": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "384bcd116c7bdfbe7ed851a739a8d8c8809d4d12",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/384bcd116c7bdfbe7ed851a739a8d8c8809d4d12",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/384bcd116c7bdfbe7ed851a739a8d8c8809d4d12"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 6,
      "deletions": 3
    },
    "files": [
      {
        "sha": "fe93b28d459308c4682260faab7a8a03546a5136",
        "filename": "src/script/interpreter.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/92b880d4be3b0d5541101223988044d90961b370/src/script/interpreter.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/92b880d4be3b0d5541101223988044d90961b370/src/script/interpreter.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/interpreter.h?ref=92b880d4be3b0d5541101223988044d90961b370",
        "patch": "@@ -115,6 +115,8 @@ enum\n     // Making OP_CODESEPARATOR and FindAndDelete fail any non-segwit scripts\n     //\n     SCRIPT_VERIFY_CONST_SCRIPTCODE = (1U << 16),\n+\n+    HIGHEST_FLAG = SCRIPT_VERIFY_CONST_SCRIPTCODE\n };\n \n bool CheckSignatureEncoding(const std::vector<unsigned char> &vchSig, unsigned int flags, ScriptError* serror);"
      },
      {
        "sha": "17780348b9ff0b1b1526d710b27519cf3514d990",
        "filename": "src/test/txvalidationcache_tests.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 3,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/92b880d4be3b0d5541101223988044d90961b370/src/test/txvalidationcache_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/92b880d4be3b0d5541101223988044d90961b370/src/test/txvalidationcache_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/txvalidationcache_tests.cpp?ref=92b880d4be3b0d5541101223988044d90961b370",
        "patch": "@@ -107,9 +107,10 @@ static void ValidateCheckInputsForAllFlags(CMutableTransaction &tx, uint32_t fai\n     PrecomputedTransactionData txdata(tx);\n     CTransaction cTx(tx);\n \n-    // If we add many more flags, this loop can get too expensive, but we can\n-    // rewrite in the future to randomly pick a set of flags to evaluate.\n-    for (uint32_t test_flags=0; test_flags < (1U << 16); test_flags += 1) {\n+    for (uint32_t count=0; count < 10000; count++) {\n+        // Randomly selects flag combinations\n+        uint32_t test_flags = rand() % (HIGHEST_FLAG << 1);\n+\n         CValidationState state;\n         // Filter out incompatible flag choices\n         if ((test_flags & SCRIPT_VERIFY_CLEANSTACK)) {"
      }
    ]
  },
  {
    "sha": "0d1a6ab4cad23e147189302ce8d85794d698f1a7",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowZDFhNmFiNGNhZDIzZTE0NzE4OTMwMmNlOGQ4NTc5NGQ2OThmMWE3",
    "commit": {
      "author": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-05-04T14:46:25Z"
      },
      "committer": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-06-01T13:30:34Z"
      },
      "message": "small optimization in CreateNewBlock_validity, reusing txs\n\nThe two tests that check for the sigops limit with 1001 multisig transactions now reuse the same transactions, instead of creating the exact same two times.",
      "tree": {
        "sha": "b5d38875c0e8007e057a40f11cbcb9e7ac3bd342",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b5d38875c0e8007e057a40f11cbcb9e7ac3bd342"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0d1a6ab4cad23e147189302ce8d85794d698f1a7",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0d1a6ab4cad23e147189302ce8d85794d698f1a7",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0d1a6ab4cad23e147189302ce8d85794d698f1a7",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0d1a6ab4cad23e147189302ce8d85794d698f1a7/comments",
    "author": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "92b880d4be3b0d5541101223988044d90961b370",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/92b880d4be3b0d5541101223988044d90961b370",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/92b880d4be3b0d5541101223988044d90961b370"
      }
    ],
    "stats": {
      "total": 28,
      "additions": 18,
      "deletions": 10
    },
    "files": [
      {
        "sha": "7941a456abd5ac54a12f1925f2de0559d0c54ffa",
        "filename": "src/test/miner_tests.cpp",
        "status": "modified",
        "additions": 18,
        "deletions": 10,
        "changes": 28,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0d1a6ab4cad23e147189302ce8d85794d698f1a7/src/test/miner_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0d1a6ab4cad23e147189302ce8d85794d698f1a7/src/test/miner_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/miner_tests.cpp?ref=0d1a6ab4cad23e147189302ce8d85794d698f1a7",
        "patch": "@@ -270,29 +270,37 @@ BOOST_AUTO_TEST_CASE(CreateNewBlock_validity)\n     tx.vin[0].prevout.n = 0;\n     tx.vout.resize(1);\n     tx.vout[0].nValue = BLOCKSUBSIDY;\n+\n+    // Creates 1001 multisig transactions\n+    std::vector<CTransaction> multisigTxs;\n+\n     for (unsigned int i = 0; i < 1001; ++i)\n     {\n         tx.vout[0].nValue -= LOWFEE;\n-        hash = tx.GetHash();\n+        CTransaction cTx(tx);\n+        multisigTxs.push_back(cTx);\n+        tx.vin[0].prevout.hash = cTx.GetHash();\n+    }\n+\n+    for (unsigned int i = 0; i < multisigTxs.size(); ++i)\n+    {\n+        CTransaction &cTx = multisigTxs[i];\n+        hash = cTx.GetHash();\n         bool spendsCoinbase = i == 0; // only first tx spends coinbase\n         // If we don't set the # of sig ops in the CTxMemPoolEntry, template creation fails\n-        mempool.addUnchecked(hash, entry.Fee(LOWFEE).Time(GetTime()).SpendsCoinbase(spendsCoinbase).FromTx(tx));\n-        tx.vin[0].prevout.hash = hash;\n+        mempool.addUnchecked(hash, entry.Fee(LOWFEE).Time(GetTime()).SpendsCoinbase(spendsCoinbase).FromTx(cTx));\n     }\n \n     BOOST_CHECK_EXCEPTION(AssemblerForTest(chainparams).CreateNewBlock(scriptPubKey), std::runtime_error, HasReason(\"bad-blk-sigops\"));\n     mempool.clear();\n \n-    tx.vin[0].prevout.hash = txFirst[0]->GetHash();\n-    tx.vout[0].nValue = BLOCKSUBSIDY;\n-    for (unsigned int i = 0; i < 1001; ++i)\n+    for (unsigned int i = 0; i < multisigTxs.size(); ++i)\n     {\n-        tx.vout[0].nValue -= LOWFEE;\n-        hash = tx.GetHash();\n+        CTransaction &cTx = multisigTxs[i];\n+        hash = cTx.GetHash();\n         bool spendsCoinbase = i == 0; // only first tx spends coinbase\n         // If we do set the # of sig ops in the CTxMemPoolEntry, template creation passes\n-        mempool.addUnchecked(hash, entry.Fee(LOWFEE).Time(GetTime()).SpendsCoinbase(spendsCoinbase).SigOpsCost(80).FromTx(tx));\n-        tx.vin[0].prevout.hash = hash;\n+        mempool.addUnchecked(hash, entry.Fee(LOWFEE).Time(GetTime()).SpendsCoinbase(spendsCoinbase).SigOpsCost(80).FromTx(cTx));\n     }\n     BOOST_CHECK(pblocktemplate = AssemblerForTest(chainparams).CreateNewBlock(scriptPubKey));\n     mempool.clear();"
      }
    ]
  },
  {
    "sha": "8cc436ffdb8fb179295c0afdcd2644506f0ee2a6",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4Y2M0MzZmZmRiOGZiMTc5Mjk1YzBhZmRjZDI2NDQ1MDZmMGVlMmE2",
    "commit": {
      "author": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-05-12T16:06:38Z"
      },
      "committer": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-06-01T13:30:34Z"
      },
      "message": "Speed up knapsack_solver_test by not recreating wallet 100 times.\n\nMoved the code for creating the wallet out of the 100-times repetition loop, for the most time-consuming tests.",
      "tree": {
        "sha": "835ce8d475821c85402252f07f63899cef7ce89c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/835ce8d475821c85402252f07f63899cef7ce89c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8cc436ffdb8fb179295c0afdcd2644506f0ee2a6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8cc436ffdb8fb179295c0afdcd2644506f0ee2a6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8cc436ffdb8fb179295c0afdcd2644506f0ee2a6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8cc436ffdb8fb179295c0afdcd2644506f0ee2a6/comments",
    "author": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0d1a6ab4cad23e147189302ce8d85794d698f1a7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0d1a6ab4cad23e147189302ce8d85794d698f1a7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0d1a6ab4cad23e147189302ce8d85794d698f1a7"
      }
    ],
    "stats": {
      "total": 60,
      "additions": 35,
      "deletions": 25
    },
    "files": [
      {
        "sha": "bfa3c3348a645d1fdd16bf0e8542c1744290901e",
        "filename": "src/wallet/test/coinselector_tests.cpp",
        "status": "modified",
        "additions": 35,
        "deletions": 25,
        "changes": 60,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8cc436ffdb8fb179295c0afdcd2644506f0ee2a6/src/wallet/test/coinselector_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8cc436ffdb8fb179295c0afdcd2644506f0ee2a6/src/wallet/test/coinselector_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/test/coinselector_tests.cpp?ref=8cc436ffdb8fb179295c0afdcd2644506f0ee2a6",
        "patch": "@@ -436,13 +436,17 @@ BOOST_AUTO_TEST_CASE(knapsack_solver_test)\n         BOOST_CHECK(testWallet.SelectCoinsMinConf(MIN_CHANGE * 9990 / 100, filter_confirmed, vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used));\n         BOOST_CHECK_EQUAL(nValueRet, 101 * MIN_CHANGE);\n         BOOST_CHECK_EQUAL(setCoinsRet.size(), 2U);\n+      }\n \n-        // test with many inputs\n-        for (CAmount amt=1500; amt < COIN; amt*=10) {\n-             empty_wallet();\n-             // Create 676 inputs (=  (old MAX_STANDARD_TX_SIZE == 100000)  / 148 bytes per input)\n-             for (uint16_t j = 0; j < 676; j++)\n-                 add_coin(amt);\n+      // test with many inputs\n+      for (CAmount amt=1500; amt < COIN; amt*=10) {\n+           empty_wallet();\n+           // Create 676 inputs (=  (old MAX_STANDARD_TX_SIZE == 100000)  / 148 bytes per input)\n+           for (uint16_t j = 0; j < 676; j++)\n+               add_coin(amt);\n+\n+           // We only create the wallet once to save time, but we still run the coin selection RUN_TESTS times.\n+           for (int i = 0; i < RUN_TESTS; i++) {\n              BOOST_CHECK(testWallet.SelectCoinsMinConf(2000, filter_confirmed, vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used));\n              if (amt - 2000 < MIN_CHANGE) {\n                  // needs more than one input:\n@@ -455,14 +459,17 @@ BOOST_AUTO_TEST_CASE(knapsack_solver_test)\n                  BOOST_CHECK_EQUAL(nValueRet, amt);\n                  BOOST_CHECK_EQUAL(setCoinsRet.size(), 1U);\n              }\n-        }\n+           }\n+      }\n \n-        // test randomness\n-        {\n-            empty_wallet();\n-            for (int i2 = 0; i2 < 100; i2++)\n-                add_coin(COIN);\n+      // test randomness\n+      {\n+          empty_wallet();\n+          for (int i2 = 0; i2 < 100; i2++)\n+              add_coin(COIN);\n \n+          // Again, we only create the wallet once to save time, but we still run the coin selection RUN_TESTS times.\n+          for (int i = 0; i < RUN_TESTS; i++) {\n             // picking 50 from 100 coins doesn't depend on the shuffle,\n             // but does depend on randomness in the stochastic approximation code\n             BOOST_CHECK(testWallet.SelectCoinsMinConf(50 * COIN, filter_standard, vCoins, setCoinsRet , nValueRet, coin_selection_params, bnb_used));\n@@ -480,17 +487,19 @@ BOOST_AUTO_TEST_CASE(knapsack_solver_test)\n                     fails++;\n             }\n             BOOST_CHECK_NE(fails, RANDOM_REPEATS);\n-\n-            // add 75 cents in small change.  not enough to make 90 cents,\n-            // then try making 90 cents.  there are multiple competing \"smallest bigger\" coins,\n-            // one of which should be picked at random\n-            add_coin(5 * CENT);\n-            add_coin(10 * CENT);\n-            add_coin(15 * CENT);\n-            add_coin(20 * CENT);\n-            add_coin(25 * CENT);\n-\n-            fails = 0;\n+          }\n+\n+          // add 75 cents in small change.  not enough to make 90 cents,\n+          // then try making 90 cents.  there are multiple competing \"smallest bigger\" coins,\n+          // one of which should be picked at random\n+          add_coin(5 * CENT);\n+          add_coin(10 * CENT);\n+          add_coin(15 * CENT);\n+          add_coin(20 * CENT);\n+          add_coin(25 * CENT);\n+\n+          for (int i = 0; i < RUN_TESTS; i++) {\n+            int fails = 0;\n             for (int j = 0; j < RANDOM_REPEATS; j++)\n             {\n                 // selecting 1 from 100 identical coins depends on the shuffle; this test will fail 1% of the time\n@@ -501,8 +510,9 @@ BOOST_AUTO_TEST_CASE(knapsack_solver_test)\n                     fails++;\n             }\n             BOOST_CHECK_NE(fails, RANDOM_REPEATS);\n-        }\n-    }\n+          }\n+      }\n+\n     empty_wallet();\n }\n "
      }
    ]
  },
  {
    "sha": "f4f2180760b9622c7fdc2689b82d5b6e09303425",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNGYyMTgwNzYwYjk2MjJjN2ZkYzI2ODliODJkNWI2ZTA5MzAzNDI1",
    "commit": {
      "author": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-05-13T03:54:15Z"
      },
      "committer": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-06-01T13:30:34Z"
      },
      "message": "changed test_CheckQueue_Correct_Random to take reasonable time.\n\ntest_CheckQueue_Correct_Random was taking too long a time, and concentrating most tests in ranges close to 100,000. Changed to a more evenly distribution between 0 and 100,000 and reduced to about 40 random amounts of checks.",
      "tree": {
        "sha": "f14a7495ac033f0bb5e83dcff2c98482ff45ab12",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f14a7495ac033f0bb5e83dcff2c98482ff45ab12"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f4f2180760b9622c7fdc2689b82d5b6e09303425",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f4f2180760b9622c7fdc2689b82d5b6e09303425",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f4f2180760b9622c7fdc2689b82d5b6e09303425",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f4f2180760b9622c7fdc2689b82d5b6e09303425/comments",
    "author": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8cc436ffdb8fb179295c0afdcd2644506f0ee2a6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8cc436ffdb8fb179295c0afdcd2644506f0ee2a6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8cc436ffdb8fb179295c0afdcd2644506f0ee2a6"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 2,
      "deletions": 3
    },
    "files": [
      {
        "sha": "135bc448f29b067e89a207d164adf08cf1f8a22d",
        "filename": "src/test/checkqueue_tests.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 3,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f4f2180760b9622c7fdc2689b82d5b6e09303425/src/test/checkqueue_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f4f2180760b9622c7fdc2689b82d5b6e09303425/src/test/checkqueue_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/checkqueue_tests.cpp?ref=f4f2180760b9622c7fdc2689b82d5b6e09303425",
        "patch": "@@ -203,8 +203,8 @@ BOOST_AUTO_TEST_CASE(test_CheckQueue_Correct_Max)\n BOOST_AUTO_TEST_CASE(test_CheckQueue_Correct_Random)\n {\n     std::vector<size_t> range;\n-    range.reserve(100000/1000);\n-    for (size_t i = 2; i < 100000; i += std::max((size_t)1, (size_t)InsecureRandRange(std::min((size_t)1000, ((size_t)100000) - i))))\n+    range.reserve(40);\n+    for (size_t i = 2; i < 100000; i += InsecureRandRange(5000) + 1)\n         range.push_back(i);\n     Correct_Queue_range(range);\n }\n@@ -442,4 +442,3 @@ BOOST_AUTO_TEST_CASE(test_CheckQueueControl_Locks)\n     }\n }\n BOOST_AUTO_TEST_SUITE_END()\n-"
      }
    ]
  },
  {
    "sha": "c10d3d5a8b1efc11a8cc889a61f8b6f79b07740a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjMTBkM2Q1YThiMWVmYzExYThjYzg4OWE2MWY4YjZmNzliMDc3NDBh",
    "commit": {
      "author": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-05-31T02:11:33Z"
      },
      "committer": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-06-01T13:30:34Z"
      },
      "message": "Revert \"speed up of test_big_witness_transaction by reusing of CTransaction.\"\n\nThis reverts commit 525b2f0117e0469a6154defd985019395b53dfb5.",
      "tree": {
        "sha": "9d0b4eec4348529b098cdaaccbedb9ac93122711",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9d0b4eec4348529b098cdaaccbedb9ac93122711"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c10d3d5a8b1efc11a8cc889a61f8b6f79b07740a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c10d3d5a8b1efc11a8cc889a61f8b6f79b07740a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c10d3d5a8b1efc11a8cc889a61f8b6f79b07740a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c10d3d5a8b1efc11a8cc889a61f8b6f79b07740a/comments",
    "author": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f4f2180760b9622c7fdc2689b82d5b6e09303425",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f4f2180760b9622c7fdc2689b82d5b6e09303425",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f4f2180760b9622c7fdc2689b82d5b6e09303425"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 2,
      "deletions": 9
    },
    "files": [
      {
        "sha": "cc72e96eb14f1d28ab26794168700b9a25ec1e5d",
        "filename": "src/test/transaction_tests.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 9,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c10d3d5a8b1efc11a8cc889a61f8b6f79b07740a/src/test/transaction_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c10d3d5a8b1efc11a8cc889a61f8b6f79b07740a/src/test/transaction_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/transaction_tests.cpp?ref=c10d3d5a8b1efc11a8cc889a61f8b6f79b07740a",
        "patch": "@@ -449,17 +449,10 @@ BOOST_AUTO_TEST_CASE(test_big_witness_transaction) {\n         mtx.vout[i].scriptPubKey = CScript() << OP_1;\n     }\n \n-    // create a single CTransaction to be used in generating all signatures\n-    CTransaction txToConst(mtx);\n-\n     // sign all inputs\n-    for (uint32_t i = 0; i < mtx.vin.size(); i++) {\n-        TransactionSignatureCreator creator(&txToConst, i, 1000, sigHashes.at(i % sigHashes.size()));\n-\n-        SignatureData sigdata;\n-        bool hashSigned = ProduceSignature(keystore, creator, scriptPubKey, sigdata);\n+    for(uint32_t i = 0; i < mtx.vin.size(); i++) {\n+        bool hashSigned = SignSignature(keystore, scriptPubKey, mtx, i, 1000, sigHashes.at(i % sigHashes.size()));\n         assert(hashSigned);\n-        UpdateTransaction(mtx, i, sigdata);\n     }\n \n     CDataStream ssout(SER_NETWORK, PROTOCOL_VERSION);"
      }
    ]
  },
  {
    "sha": "614b354867fad8a1a489bb066e6e358e3a119e03",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2MTRiMzU0ODY3ZmFkOGExYTQ4OWJiMDY2ZTZlMzU4ZTNhMTE5ZTAz",
    "commit": {
      "author": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-06-02T17:50:18Z"
      },
      "committer": {
        "name": "lucash.dev@gmail.com",
        "email": "lucash.dev@gmail.com",
        "date": "2018-06-02T17:50:18Z"
      },
      "message": "Revert \"small optimization in CreateNewBlock_validity, reusing txs\"\n\nThis reverts commit 0d1a6ab4cad23e147189302ce8d85794d698f1a7.",
      "tree": {
        "sha": "bf230dcb615fae3794f9a2223090f188cf9086c4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bf230dcb615fae3794f9a2223090f188cf9086c4"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/614b354867fad8a1a489bb066e6e358e3a119e03",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/614b354867fad8a1a489bb066e6e358e3a119e03",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/614b354867fad8a1a489bb066e6e358e3a119e03",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/614b354867fad8a1a489bb066e6e358e3a119e03/comments",
    "author": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "lucash-dev",
      "id": 31627588,
      "node_id": "MDQ6VXNlcjMxNjI3NTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31627588?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucash-dev",
      "html_url": "https://github.com/lucash-dev",
      "followers_url": "https://api.github.com/users/lucash-dev/followers",
      "following_url": "https://api.github.com/users/lucash-dev/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucash-dev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucash-dev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucash-dev/subscriptions",
      "organizations_url": "https://api.github.com/users/lucash-dev/orgs",
      "repos_url": "https://api.github.com/users/lucash-dev/repos",
      "events_url": "https://api.github.com/users/lucash-dev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucash-dev/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c10d3d5a8b1efc11a8cc889a61f8b6f79b07740a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c10d3d5a8b1efc11a8cc889a61f8b6f79b07740a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c10d3d5a8b1efc11a8cc889a61f8b6f79b07740a"
      }
    ],
    "stats": {
      "total": 28,
      "additions": 10,
      "deletions": 18
    },
    "files": [
      {
        "sha": "9a325f5f4c1f0a1abc29be92be185c5d7a123309",
        "filename": "src/test/miner_tests.cpp",
        "status": "modified",
        "additions": 10,
        "deletions": 18,
        "changes": 28,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/614b354867fad8a1a489bb066e6e358e3a119e03/src/test/miner_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/614b354867fad8a1a489bb066e6e358e3a119e03/src/test/miner_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/miner_tests.cpp?ref=614b354867fad8a1a489bb066e6e358e3a119e03",
        "patch": "@@ -270,37 +270,29 @@ BOOST_AUTO_TEST_CASE(CreateNewBlock_validity)\n     tx.vin[0].prevout.n = 0;\n     tx.vout.resize(1);\n     tx.vout[0].nValue = BLOCKSUBSIDY;\n-\n-    // Creates 1001 multisig transactions\n-    std::vector<CTransaction> multisigTxs;\n-\n     for (unsigned int i = 0; i < 1001; ++i)\n     {\n         tx.vout[0].nValue -= LOWFEE;\n-        CTransaction cTx(tx);\n-        multisigTxs.push_back(cTx);\n-        tx.vin[0].prevout.hash = cTx.GetHash();\n-    }\n-\n-    for (unsigned int i = 0; i < multisigTxs.size(); ++i)\n-    {\n-        CTransaction &cTx = multisigTxs[i];\n-        hash = cTx.GetHash();\n+        hash = tx.GetHash();\n         bool spendsCoinbase = i == 0; // only first tx spends coinbase\n         // If we don't set the # of sig ops in the CTxMemPoolEntry, template creation fails\n-        mempool.addUnchecked(hash, entry.Fee(LOWFEE).Time(GetTime()).SpendsCoinbase(spendsCoinbase).FromTx(cTx));\n+        mempool.addUnchecked(hash, entry.Fee(LOWFEE).Time(GetTime()).SpendsCoinbase(spendsCoinbase).FromTx(tx));\n+        tx.vin[0].prevout.hash = hash;\n     }\n \n     BOOST_CHECK_EXCEPTION(AssemblerForTest(chainparams).CreateNewBlock(scriptPubKey), std::runtime_error, HasReason(\"bad-blk-sigops\"));\n     mempool.clear();\n \n-    for (unsigned int i = 0; i < multisigTxs.size(); ++i)\n+    tx.vin[0].prevout.hash = txFirst[0]->GetHash();\n+    tx.vout[0].nValue = BLOCKSUBSIDY;\n+    for (unsigned int i = 0; i < 1001; ++i)\n     {\n-        CTransaction &cTx = multisigTxs[i];\n-        hash = cTx.GetHash();\n+        tx.vout[0].nValue -= LOWFEE;\n+        hash = tx.GetHash();\n         bool spendsCoinbase = i == 0; // only first tx spends coinbase\n         // If we do set the # of sig ops in the CTxMemPoolEntry, template creation passes\n-        mempool.addUnchecked(hash, entry.Fee(LOWFEE).Time(GetTime()).SpendsCoinbase(spendsCoinbase).SigOpsCost(80).FromTx(cTx));\n+        mempool.addUnchecked(hash, entry.Fee(LOWFEE).Time(GetTime()).SpendsCoinbase(spendsCoinbase).SigOpsCost(80).FromTx(tx));\n+        tx.vin[0].prevout.hash = hash;\n     }\n     BOOST_CHECK(pblocktemplate = AssemblerForTest(chainparams).CreateNewBlock(scriptPubKey));\n     mempool.clear();"
      }
    ]
  }
]