[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/883923664",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#issuecomment-883923664",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22514",
    "id": 883923664,
    "node_id": "IC_kwDOABII5840r5rQ",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-21T06:18:53Z",
    "updated_at": "2021-07-21T06:18:53Z",
    "author_association": "MEMBER",
    "body": "Is this for backport?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/883923664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/884078711",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#issuecomment-884078711",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22514",
    "id": 884078711,
    "node_id": "IC_kwDOABII5840sfh3",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-21T10:26:31Z",
    "updated_at": "2021-11-28T06:28:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23602](https://github.com/bitcoin/bitcoin/pull/23602) (wallet: Split stuff from rpcwallet by MarcoFalke)\n* [#23578](https://github.com/bitcoin/bitcoin/pull/23578) (Add external signer taproot support by Sjors)\n* [#22558](https://github.com/bitcoin/bitcoin/pull/22558) (psbt: Taproot fields for PSBT by achow101)\n* [#22513](https://github.com/bitcoin/bitcoin/pull/22513) (rpc: Allow walletprocesspsbt to sign without finalizing by achow101)\n* [#21283](https://github.com/bitcoin/bitcoin/pull/21283) (Implement BIP 370 PSBTv2 by achow101)\n* [#17034](https://github.com/bitcoin/bitcoin/pull/17034) ([BIP 174] PSBT version, proprietary, and xpub fields by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/884078711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/884330126",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#issuecomment-884330126",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22514",
    "id": 884330126,
    "node_id": "IC_kwDOABII5840tc6O",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-21T16:37:31Z",
    "updated_at": "2021-07-21T16:37:31Z",
    "author_association": "MEMBER",
    "body": "> Is this for backport?\r\n\r\nThere is no explicit PSBT support for Taproot yet, so I don't think so. Although we do still sign PSBTs that have Taproot inputs, but only if we make those inputs final.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/884330126/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/893649344",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#issuecomment-893649344",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22514",
    "id": 893649344,
    "node_id": "IC_kwDOABII5841RAHA",
    "user": {
      "login": "GeneFerneau",
      "id": 80422284,
      "node_id": "MDQ6VXNlcjgwNDIyMjg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/80422284?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GeneFerneau",
      "html_url": "https://github.com/GeneFerneau",
      "followers_url": "https://api.github.com/users/GeneFerneau/followers",
      "following_url": "https://api.github.com/users/GeneFerneau/following{/other_user}",
      "gists_url": "https://api.github.com/users/GeneFerneau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GeneFerneau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GeneFerneau/subscriptions",
      "organizations_url": "https://api.github.com/users/GeneFerneau/orgs",
      "repos_url": "https://api.github.com/users/GeneFerneau/repos",
      "events_url": "https://api.github.com/users/GeneFerneau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GeneFerneau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-05T17:28:28Z",
    "updated_at": "2021-08-05T17:28:28Z",
    "author_association": "NONE",
    "body": "Concept + code review ACK [96f78e](https://github.com/bitcoin/bitcoin/pull/22514/commits/96f78ed1fdd9c5de2fa5ff125f79b37bd75af9c1)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/893649344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/967705694",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#issuecomment-967705694",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22514",
    "id": 967705694,
    "node_id": "IC_kwDOABII5845rgRe",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-12T22:36:34Z",
    "updated_at": "2021-11-12T22:36:34Z",
    "author_association": "MEMBER",
    "body": "Apparently without this, we may end up creating final transactions with a lower feerate than expected.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/967705694/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/974151567",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#issuecomment-974151567",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22514",
    "id": 974151567,
    "node_id": "IC_kwDOABII5846EF-P",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-19T15:08:10Z",
    "updated_at": "2021-11-19T15:08:10Z",
    "author_association": "MEMBER",
    "body": "Mmm, the help text was changed from defaulting to `ALL` to `SIGHASH_DEFAULT` in https://github.com/bitcoin/bitcoin/commit/458a345b0590fd2fa04c7d8d70beb8d57e34bbc8, but that change also made sure for non-taproot it's interpreted as `ALL`.\r\n\r\nLet's make the help text say `RPCArg::Default{\"DEFAULT for Taproot, ALL otherwise\"}` and behave accordingly.\r\n\r\nThe first commit 62621db looks good to me.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/974151567/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/974297682",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#issuecomment-974297682",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22514",
    "id": 974297682,
    "node_id": "IC_kwDOABII5846EppS",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-19T18:14:08Z",
    "updated_at": "2021-11-19T18:14:08Z",
    "author_association": "MEMBER",
    "body": "> Let's make the help text say `RPCArg::Default{\"DEFAULT for Taproot, ALL otherwise\"}` and behave accordingly.\r\n\r\nAdded a commit for that.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/974297682/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/975730699",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#issuecomment-975730699",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22514",
    "id": 975730699,
    "node_id": "IC_kwDOABII5846KHgL",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-22T17:00:19Z",
    "updated_at": "2021-11-22T17:00:19Z",
    "author_association": "MEMBER",
    "body": "utACK 322d117f6f39d8534b4ea77cd46fbe0635a7b3c5\r\n\r\nMaybe swap the last two commits for clarity (or add \"for taproot\" to ff1ec7b)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/975730699/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/975735901",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#issuecomment-975735901",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22514",
    "id": 975735901,
    "node_id": "IC_kwDOABII5846KIxd",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-22T17:05:33Z",
    "updated_at": "2021-11-22T17:05:33Z",
    "author_association": "MEMBER",
    "body": "utACK 322d117f6f39d8534b4ea77cd46fbe0635a7b3c5",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/975735901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981815207",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#issuecomment-981815207",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22514",
    "id": 981815207,
    "node_id": "IC_kwDOABII5846hU-n",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-29T16:46:09Z",
    "updated_at": "2021-11-29T16:46:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n\ud83d\udc19 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981815207/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/748246806",
    "pull_request_review_id": 804754267,
    "id": 748246806,
    "node_id": "PRRC_kwDOABII584smVcW",
    "diff_hunk": "@@ -581,7 +581,7 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n      */\n     TransactionError FillPSBT(PartiallySignedTransaction& psbtx,\n                   bool& complete,\n-                  int sighash_type = 1 /* SIGHASH_ALL */,\n+                  int sighash_type = 0 /* SIGHASH_DEFAULT */,",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 5,
    "commit_id": "322d117f6f39d8534b4ea77cd46fbe0635a7b3c5",
    "original_commit_id": "96f78ed1fdd9c5de2fa5ff125f79b37bd75af9c1",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe I'm missing something obvious, but any reason why we use magic numbers with comments here (and also for the interface in `src/wallet/scriptpubkeyman.h`), rather than the enum directly?\r\n```suggestion\r\n                  int sighash_type = SIGHASH_DEFAULT,\r\n```",
    "created_at": "2021-11-12T12:29:29Z",
    "updated_at": "2021-11-12T12:30:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#discussion_r748246806",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22514",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/748246806"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22514#discussion_r748246806"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22514"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/748246806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 584,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/748448908",
    "pull_request_review_id": 805035193,
    "id": 748448908,
    "node_id": "PRRC_kwDOABII584snGyM",
    "diff_hunk": "@@ -581,7 +581,7 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n      */\n     TransactionError FillPSBT(PartiallySignedTransaction& psbtx,\n                   bool& complete,\n-                  int sighash_type = 1 /* SIGHASH_ALL */,\n+                  int sighash_type = 0 /* SIGHASH_DEFAULT */,",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 5,
    "commit_id": "322d117f6f39d8534b4ea77cd46fbe0635a7b3c5",
    "original_commit_id": "96f78ed1fdd9c5de2fa5ff125f79b37bd75af9c1",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "There was a time a while ago where that didn't work and this code has just been moved around to various places without changing. I've changed it to use `SIGHASH_DEFAULT` directly.",
    "created_at": "2021-11-12T17:05:16Z",
    "updated_at": "2021-11-12T17:05:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#discussion_r748448908",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22514",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/748448908"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22514#discussion_r748448908"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22514"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/748448908/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 584,
    "side": "RIGHT",
    "in_reply_to_id": 748246806
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/749445449",
    "pull_request_review_id": 806231207,
    "id": 749445449,
    "node_id": "PRRC_kwDOABII584sq6FJ",
    "diff_hunk": "@@ -624,7 +624,7 @@ TransactionError LegacyScriptPubKeyMan::FillPSBT(PartiallySignedTransaction& psb\n         }\n \n         // Get the Sighash type\n-        if (sign && input.sighash_type > 0 && input.sighash_type != sighash_type) {\n+        if (sign && input.sighash_type > 0 && sighash_type > 0 && input.sighash_type != sighash_type) {",
    "path": "src/wallet/scriptpubkeyman.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "322d117f6f39d8534b4ea77cd46fbe0635a7b3c5",
    "original_commit_id": "ed964019f7af13028c99381c3c2b9b1b4d060409",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is this right? I think we should distinguish based on whether the PSBT having having a PSBT_IN_SIGHASH_TYPE record and not. I think the current code treats there not being a record, and the record being 0 as identical?",
    "created_at": "2021-11-15T15:41:43Z",
    "updated_at": "2021-11-15T15:41:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#discussion_r749445449",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22514",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/749445449"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22514#discussion_r749445449"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22514"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/749445449/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 627,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/749605036",
    "pull_request_review_id": 806447073,
    "id": 749605036,
    "node_id": "PRRC_kwDOABII584srhCs",
    "diff_hunk": "@@ -624,7 +624,7 @@ TransactionError LegacyScriptPubKeyMan::FillPSBT(PartiallySignedTransaction& psb\n         }\n \n         // Get the Sighash type\n-        if (sign && input.sighash_type > 0 && input.sighash_type != sighash_type) {\n+        if (sign && input.sighash_type > 0 && sighash_type > 0 && input.sighash_type != sighash_type) {",
    "path": "src/wallet/scriptpubkeyman.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "322d117f6f39d8534b4ea77cd46fbe0635a7b3c5",
    "original_commit_id": "ed964019f7af13028c99381c3c2b9b1b4d060409",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hmm, yes. I've changed `input.sighash_type` to be an optional. The issue this particular change fixed was test related, so I've updated the tests instead.",
    "created_at": "2021-11-15T19:06:04Z",
    "updated_at": "2021-11-15T19:06:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#discussion_r749605036",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22514",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/749605036"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22514#discussion_r749605036"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22514"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/749605036/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 627,
    "side": "RIGHT",
    "in_reply_to_id": 749445449
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/754472684",
    "pull_request_review_id": 812800650,
    "id": 754472684,
    "node_id": "PRRC_kwDOABII584s-Fbs",
    "diff_hunk": "@@ -86,9 +86,9 @@ struct PSBTInput\n             }\n \n             // Write the sighash type\n-            if (sighash_type > 0) {\n+            if (sighash_type != std::nullopt) {",
    "path": "src/psbt.h",
    "position": 14,
    "original_position": 14,
    "commit_id": "322d117f6f39d8534b4ea77cd46fbe0635a7b3c5",
    "original_commit_id": "fcc10ca42068689d4c8833154c5996c3374be11b",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"psbt: Make signhash_type std::optional<int>\"\r\n\r\nNit: I think the ideomatic way of writing this would be `if (sighash_type.has_value())` or just `if (sighash_type)` (here and further).",
    "created_at": "2021-11-22T17:02:33Z",
    "updated_at": "2021-11-22T17:05:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#discussion_r754472684",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22514",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/754472684"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22514#discussion_r754472684"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22514"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/754472684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 89,
    "original_line": 89,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/754474555",
    "pull_request_review_id": 812800650,
    "id": 754474555,
    "node_id": "PRRC_kwDOABII584s-F47",
    "diff_hunk": "@@ -455,7 +455,7 @@ def run_test(self):\n             wrpc = self.nodes[2].get_wallet_rpc(\"wallet{}\".format(i))\n             for key in signer['privkeys']:\n                 wrpc.importprivkey(key)\n-            signed_tx = wrpc.walletprocesspsbt(signer['psbt'])['psbt']\n+            signed_tx = wrpc.walletprocesspsbt(signer['psbt'], True, \"ALL\")['psbt']",
    "path": "test/functional/rpc_psbt.py",
    "position": 5,
    "original_position": 5,
    "commit_id": "322d117f6f39d8534b4ea77cd46fbe0635a7b3c5",
    "original_commit_id": "ff1ec7b11adb3ba3393ea2cbaf071d3131e41e6a",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"psbt: Actually use SIGHASH_DEFAULT\"\r\n\r\nWhat is this change for?",
    "created_at": "2021-11-22T17:04:58Z",
    "updated_at": "2021-11-22T17:05:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#discussion_r754474555",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22514",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/754474555"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22514#discussion_r754474555"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22514"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/754474555/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 458,
    "original_line": 458,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/754477334",
    "pull_request_review_id": 812807257,
    "id": 754477334,
    "node_id": "PRRC_kwDOABII584s-GkW",
    "diff_hunk": "@@ -455,7 +455,7 @@ def run_test(self):\n             wrpc = self.nodes[2].get_wallet_rpc(\"wallet{}\".format(i))\n             for key in signer['privkeys']:\n                 wrpc.importprivkey(key)\n-            signed_tx = wrpc.walletprocesspsbt(signer['psbt'])['psbt']\n+            signed_tx = wrpc.walletprocesspsbt(signer['psbt'], True, \"ALL\")['psbt']",
    "path": "test/functional/rpc_psbt.py",
    "position": 5,
    "original_position": 5,
    "commit_id": "322d117f6f39d8534b4ea77cd46fbe0635a7b3c5",
    "original_commit_id": "ff1ec7b11adb3ba3393ea2cbaf071d3131e41e6a",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "At least one of the tests sets the sighash type in the PSBT. However when we sign, if the sighash type given in the RPC does not match the sighash type in the PSBT, we fail to sign. So this change is to make sure that we do sign those PSBTs.",
    "created_at": "2021-11-22T17:08:35Z",
    "updated_at": "2021-11-22T17:08:35Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22514#discussion_r754477334",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22514",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/754477334"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22514#discussion_r754477334"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22514"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/754477334/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 458,
    "original_line": 458,
    "side": "RIGHT",
    "in_reply_to_id": 754474555
  }
]