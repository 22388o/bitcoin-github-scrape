[
  {
    "sha": "25e1d0bf417237caa5d36b4e757f29e6c8be8aad",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyNWUxZDBiZjQxNzIzN2NhYTVkMzZiNGU3NTdmMjllNmM4YmU4YWFk",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2020-05-19T13:11:45Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2020-08-12T14:31:23Z"
      },
      "message": "RPCConsole, take initial chaintip data as parameter",
      "tree": {
        "sha": "28e5a2da0dd7c57579d9ea5be5c2f8f93878f99b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/28e5a2da0dd7c57579d9ea5be5c2f8f93878f99b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/25e1d0bf417237caa5d36b4e757f29e6c8be8aad",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/25e1d0bf417237caa5d36b4e757f29e6c8be8aad",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/25e1d0bf417237caa5d36b4e757f29e6c8be8aad",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/25e1d0bf417237caa5d36b4e757f29e6c8be8aad/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ce3bdd0ed1bbfeaa19a5b75dc07943118826f930",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ce3bdd0ed1bbfeaa19a5b75dc07943118826f930",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ce3bdd0ed1bbfeaa19a5b75dc07943118826f930"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 4,
      "deletions": 4
    },
    "files": [
      {
        "sha": "a14fae6460cd423142f971a687e79fae2f0f5076",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/25e1d0bf417237caa5d36b4e757f29e6c8be8aad/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/25e1d0bf417237caa5d36b4e757f29e6c8be8aad/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=25e1d0bf417237caa5d36b4e757f29e6c8be8aad",
        "patch": "@@ -556,7 +556,7 @@ bool RPCConsole::eventFilter(QObject* obj, QEvent *event)\n     return QWidget::eventFilter(obj, event);\n }\n \n-void RPCConsole::setClientModel(ClientModel *model)\n+void RPCConsole::setClientModel(ClientModel *model, int bestblock_height, int64_t bestblock_date, double verification_progress)\n {\n     clientModel = model;\n \n@@ -576,13 +576,13 @@ void RPCConsole::setClientModel(ClientModel *model)\n         setNumConnections(model->getNumConnections());\n         connect(model, &ClientModel::numConnectionsChanged, this, &RPCConsole::setNumConnections);\n \n-        interfaces::Node& node = clientModel->node();\n-        setNumBlocks(node.getNumBlocks(), QDateTime::fromTime_t(node.getLastBlockTime()), node.getVerificationProgress(), false);\n+        setNumBlocks(bestblock_height, QDateTime::fromTime_t(bestblock_date), verification_progress, false);\n         connect(model, &ClientModel::numBlocksChanged, this, &RPCConsole::setNumBlocks);\n \n         updateNetworkState();\n         connect(model, &ClientModel::networkActiveChanged, this, &RPCConsole::setNetworkActive);\n \n+        interfaces::Node& node = clientModel->node();\n         updateTrafficStats(node.getTotalBytesRecv(), node.getTotalBytesSent());\n         connect(model, &ClientModel::bytesChanged, this, &RPCConsole::updateTrafficStats);\n "
      },
      {
        "sha": "280c5bd71a95f932792441abcd4151e8630d031e",
        "filename": "src/qt/rpcconsole.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/25e1d0bf417237caa5d36b4e757f29e6c8be8aad/src/qt/rpcconsole.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/25e1d0bf417237caa5d36b4e757f29e6c8be8aad/src/qt/rpcconsole.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.h?ref=25e1d0bf417237caa5d36b4e757f29e6c8be8aad",
        "patch": "@@ -46,7 +46,7 @@ class RPCConsole: public QWidget\n         return RPCParseCommandLine(&node, strResult, strCommand, true, pstrFilteredOut, wallet_model);\n     }\n \n-    void setClientModel(ClientModel *model);\n+    void setClientModel(ClientModel *model = nullptr, int bestblock_height = 0, int64_t bestblock_date = 0, double verification_progress = 0.0);\n     void addWallet(WalletModel * const walletModel);\n     void removeWallet(WalletModel* const walletModel);\n "
      }
    ]
  },
  {
    "sha": "b354a1480abbd71fb7fb82c39c81ea0644bbfce4",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiMzU0YTE0ODBhYmJkNzFmYjdmYjgyYzM5YzgxZWEwNjQ0YmJmY2U0",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2020-05-19T13:13:17Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2020-08-12T14:44:06Z"
      },
      "message": "Add BlockAndHeaderTipInfo to the node interface/appInit",
      "tree": {
        "sha": "f16a3990ad74133097e1b48e83a4f32a8cec2b30",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f16a3990ad74133097e1b48e83a4f32a8cec2b30"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b354a1480abbd71fb7fb82c39c81ea0644bbfce4",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b354a1480abbd71fb7fb82c39c81ea0644bbfce4",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b354a1480abbd71fb7fb82c39c81ea0644bbfce4",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b354a1480abbd71fb7fb82c39c81ea0644bbfce4/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "25e1d0bf417237caa5d36b4e757f29e6c8be8aad",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/25e1d0bf417237caa5d36b4e757f29e6c8be8aad",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/25e1d0bf417237caa5d36b4e757f29e6c8be8aad"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 13,
      "deletions": 3
    },
    "files": [
      {
        "sha": "21400d00f8d9d860168dc1f656ca986464e4f3d5",
        "filename": "src/interfaces/node.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b354a1480abbd71fb7fb82c39c81ea0644bbfce4/src/interfaces/node.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b354a1480abbd71fb7fb82c39c81ea0644bbfce4/src/interfaces/node.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/interfaces/node.cpp?ref=b354a1480abbd71fb7fb82c39c81ea0644bbfce4",
        "patch": "@@ -80,10 +80,10 @@ class NodeImpl : public Node\n         return AppInitBasicSetup() && AppInitParameterInteraction() && AppInitSanityChecks() &&\n                AppInitLockDataDirectory();\n     }\n-    bool appInitMain() override\n+    bool appInitMain(interfaces::BlockAndHeaderTipInfo* tip_info) override\n     {\n         m_context->chain = MakeChain(*m_context);\n-        return AppInitMain(m_context_ref, *m_context);\n+        return AppInitMain(m_context_ref, *m_context, tip_info);\n     }\n     void appShutdown() override\n     {"
      },
      {
        "sha": "753f3e6b132bd534d5251d785097e9be494f43de",
        "filename": "src/interfaces/node.h",
        "status": "modified",
        "additions": 11,
        "deletions": 1,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b354a1480abbd71fb7fb82c39c81ea0644bbfce4/src/interfaces/node.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b354a1480abbd71fb7fb82c39c81ea0644bbfce4/src/interfaces/node.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/interfaces/node.h?ref=b354a1480abbd71fb7fb82c39c81ea0644bbfce4",
        "patch": "@@ -39,6 +39,16 @@ class Handler;\n class Wallet;\n struct BlockTip;\n \n+//! Block and header tip information\n+struct BlockAndHeaderTipInfo\n+{\n+    int block_height;\n+    int64_t block_time;\n+    int header_height;\n+    int64_t header_time;\n+    double verification_progress;\n+};\n+\n //! Top-level interface for a bitcoin node (bitcoind process).\n class Node\n {\n@@ -96,7 +106,7 @@ class Node\n     virtual bool baseInitialize() = 0;\n \n     //! Start node.\n-    virtual bool appInitMain() = 0;\n+    virtual bool appInitMain(interfaces::BlockAndHeaderTipInfo* tip_info = nullptr) = 0;\n \n     //! Stop node.\n     virtual void appShutdown() = 0;"
      }
    ]
  },
  {
    "sha": "d42cb790687788c78aa2f0c1988238ab52050782",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkNDJjYjc5MDY4Nzc4OGM3OGFhMmYwYzE5ODgyMzhhYjUyMDUwNzgy",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2020-05-19T13:13:50Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2020-08-12T14:44:09Z"
      },
      "message": "Optionally populate BlockAndHeaderTipInfo during AppInitMain",
      "tree": {
        "sha": "dd67b88ba93f92c03d9cd7c2b1dbb010b9fcb173",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dd67b88ba93f92c03d9cd7c2b1dbb010b9fcb173"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d42cb790687788c78aa2f0c1988238ab52050782",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d42cb790687788c78aa2f0c1988238ab52050782",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d42cb790687788c78aa2f0c1988238ab52050782",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d42cb790687788c78aa2f0c1988238ab52050782/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b354a1480abbd71fb7fb82c39c81ea0644bbfce4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b354a1480abbd71fb7fb82c39c81ea0644bbfce4",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b354a1480abbd71fb7fb82c39c81ea0644bbfce4"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 15,
      "deletions": 2
    },
    "files": [
      {
        "sha": "966462a93fe94b3040e92967204661d2858e9842",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 1,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d42cb790687788c78aa2f0c1988238ab52050782/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d42cb790687788c78aa2f0c1988238ab52050782/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=d42cb790687788c78aa2f0c1988238ab52050782",
        "patch": "@@ -24,6 +24,7 @@\n #include <index/blockfilterindex.h>\n #include <index/txindex.h>\n #include <interfaces/chain.h>\n+#include <interfaces/node.h>\n #include <key.h>\n #include <miner.h>\n #include <net.h>\n@@ -1242,7 +1243,7 @@ bool AppInitLockDataDirectory()\n     return true;\n }\n \n-bool AppInitMain(const util::Ref& context, NodeContext& node)\n+bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n {\n     const CChainParams& chainparams = Params();\n     // ********************************************************* Step 4a: application initialization\n@@ -1877,6 +1878,15 @@ bool AppInitMain(const util::Ref& context, NodeContext& node)\n         LOCK(cs_main);\n         LogPrintf(\"block tree size = %u\\n\", chainman.BlockIndex().size());\n         chain_active_height = chainman.ActiveChain().Height();\n+        if (tip_info) {\n+            tip_info->block_height = chain_active_height;\n+            tip_info->block_time = chainman.ActiveChain().Tip() ? chainman.ActiveChain().Tip()->GetBlockTime() : Params().GenesisBlock().GetBlockTime();\n+            tip_info->verification_progress = GuessVerificationProgress(Params().TxData(), chainman.ActiveChain().Tip());\n+        }\n+        if (tip_info && ::pindexBestHeader) {\n+            tip_info->header_height = ::pindexBestHeader->nHeight;\n+            tip_info->header_time = ::pindexBestHeader->GetBlockTime();\n+        }\n     }\n     LogPrintf(\"nBestHeight = %d\\n\", chain_active_height);\n "
      },
      {
        "sha": "20008ba5be14a3bec76b0b56104062b9564df4d9",
        "filename": "src/init.h",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d42cb790687788c78aa2f0c1988238ab52050782/src/init.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d42cb790687788c78aa2f0c1988238ab52050782/src/init.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.h?ref=d42cb790687788c78aa2f0c1988238ab52050782",
        "patch": "@@ -11,6 +11,9 @@\n #include <util/system.h>\n \n struct NodeContext;\n+namespace interfaces {\n+struct BlockAndHeaderTipInfo;\n+}\n namespace boost {\n class thread_group;\n } // namespace boost\n@@ -54,7 +57,7 @@ bool AppInitLockDataDirectory();\n  * @note This should only be done after daemonization. Call Shutdown() if this function fails.\n  * @pre Parameters should be parsed and config file should be read, AppInitLockDataDirectory should have been called.\n  */\n-bool AppInitMain(const util::Ref& context, NodeContext& node);\n+bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info = nullptr);\n \n /**\n  * Register all arguments with the ArgsManager"
      }
    ]
  },
  {
    "sha": "386ec192a57b76492125d691ceda1b4aa832312e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozODZlYzE5MmE1N2I3NjQ5MjEyNWQ2OTFjZWRhMWI0YWE4MzIzMTJl",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2020-05-19T13:15:00Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2020-08-12T14:44:09Z"
      },
      "message": "Reduce cs_main lock accumulation during GUI startup",
      "tree": {
        "sha": "02338397b2bd70204ccba5ac2406e197f791b172",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/02338397b2bd70204ccba5ac2406e197f791b172"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/386ec192a57b76492125d691ceda1b4aa832312e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/386ec192a57b76492125d691ceda1b4aa832312e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/386ec192a57b76492125d691ceda1b4aa832312e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/386ec192a57b76492125d691ceda1b4aa832312e/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d42cb790687788c78aa2f0c1988238ab52050782",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d42cb790687788c78aa2f0c1988238ab52050782",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d42cb790687788c78aa2f0c1988238ab52050782"
      }
    ],
    "stats": {
      "total": 32,
      "additions": 17,
      "deletions": 15
    },
    "files": [
      {
        "sha": "f53fcc41f3c015ee88bcf9d2b084a14dab9f210b",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 4,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/386ec192a57b76492125d691ceda1b4aa832312e/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/386ec192a57b76492125d691ceda1b4aa832312e/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=386ec192a57b76492125d691ceda1b4aa832312e",
        "patch": "@@ -81,6 +81,7 @@ static void RegisterMetaTypes()\n \n     qRegisterMetaType<std::function<void()>>(\"std::function<void()>\");\n     qRegisterMetaType<QMessageBox::Icon>(\"QMessageBox::Icon\");\n+    qRegisterMetaType<interfaces::BlockAndHeaderTipInfo>(\"interfaces::BlockAndHeaderTipInfo\");\n }\n \n static QString GetLangTerritory()\n@@ -164,8 +165,9 @@ void BitcoinCore::initialize()\n     {\n         qDebug() << __func__ << \": Running initialization in thread\";\n         util::ThreadRename(\"qt-init\");\n-        bool rv = m_node.appInitMain();\n-        Q_EMIT initializeResult(rv);\n+        interfaces::BlockAndHeaderTipInfo tip_info;\n+        bool rv = m_node.appInitMain(&tip_info);\n+        Q_EMIT initializeResult(rv, tip_info);\n     } catch (const std::exception& e) {\n         handleRunawayException(&e);\n     } catch (...) {\n@@ -342,7 +344,7 @@ void BitcoinApplication::requestShutdown()\n     Q_EMIT requestedShutdown();\n }\n \n-void BitcoinApplication::initializeResult(bool success)\n+void BitcoinApplication::initializeResult(bool success, interfaces::BlockAndHeaderTipInfo tip_info)\n {\n     qDebug() << __func__ << \": Initialization result: \" << success;\n     // Set exit result.\n@@ -352,7 +354,7 @@ void BitcoinApplication::initializeResult(bool success)\n         // Log this only after AppInitMain finishes, as then logging setup is guaranteed complete\n         qInfo() << \"Platform customization:\" << platformStyle->getName();\n         clientModel = new ClientModel(m_node, optionsModel);\n-        window->setClientModel(clientModel);\n+        window->setClientModel(clientModel, &tip_info);\n #ifdef ENABLE_WALLET\n         if (WalletModel::isWalletEnabled()) {\n             m_wallet_controller = new WalletController(*clientModel, platformStyle, this);"
      },
      {
        "sha": "20c6dfc047562e89ab21fc25204f900dfbb08f40",
        "filename": "src/qt/bitcoin.h",
        "status": "modified",
        "additions": 4,
        "deletions": 6,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/386ec192a57b76492125d691ceda1b4aa832312e/src/qt/bitcoin.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/386ec192a57b76492125d691ceda1b4aa832312e/src/qt/bitcoin.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.h?ref=386ec192a57b76492125d691ceda1b4aa832312e",
        "patch": "@@ -12,6 +12,8 @@\n #include <QApplication>\n #include <memory>\n \n+#include <interfaces/node.h>\n+\n class BitcoinGUI;\n class ClientModel;\n class NetworkStyle;\n@@ -21,10 +23,6 @@ class PlatformStyle;\n class WalletController;\n class WalletModel;\n \n-namespace interfaces {\n-class Handler;\n-class Node;\n-} // namespace interfaces\n \n /** Class encapsulating Bitcoin Core startup and shutdown.\n  * Allows running startup and shutdown in a different thread from the UI thread.\n@@ -40,7 +38,7 @@ public Q_SLOTS:\n     void shutdown();\n \n Q_SIGNALS:\n-    void initializeResult(bool success);\n+    void initializeResult(bool success, interfaces::BlockAndHeaderTipInfo tip_info);\n     void shutdownResult();\n     void runawayException(const QString &message);\n \n@@ -91,7 +89,7 @@ class BitcoinApplication: public QApplication\n     void setupPlatformStyle();\n \n public Q_SLOTS:\n-    void initializeResult(bool success);\n+    void initializeResult(bool success, interfaces::BlockAndHeaderTipInfo tip_info);\n     void shutdownResult();\n     /// Handle runaway exceptions. Shows a message box with the problem and quits the program.\n     void handleRunawayException(const QString &message);"
      },
      {
        "sha": "56adbf249a91be10434a40e6c0e59881d9ca4bf2",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/386ec192a57b76492125d691ceda1b4aa832312e/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/386ec192a57b76492125d691ceda1b4aa832312e/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=386ec192a57b76492125d691ceda1b4aa832312e",
        "patch": "@@ -574,7 +574,7 @@ void BitcoinGUI::createToolBars()\n     }\n }\n \n-void BitcoinGUI::setClientModel(ClientModel *_clientModel)\n+void BitcoinGUI::setClientModel(ClientModel *_clientModel, interfaces::BlockAndHeaderTipInfo* tip_info)\n {\n     this->clientModel = _clientModel;\n     if(_clientModel)\n@@ -588,8 +588,8 @@ void BitcoinGUI::setClientModel(ClientModel *_clientModel)\n         connect(_clientModel, &ClientModel::numConnectionsChanged, this, &BitcoinGUI::setNumConnections);\n         connect(_clientModel, &ClientModel::networkActiveChanged, this, &BitcoinGUI::setNetworkActive);\n \n-        modalOverlay->setKnownBestHeight(_clientModel->getHeaderTipHeight(), QDateTime::fromTime_t(_clientModel->getHeaderTipTime()));\n-        setNumBlocks(m_node.getNumBlocks(), QDateTime::fromTime_t(m_node.getLastBlockTime()), m_node.getVerificationProgress(), false, SynchronizationState::INIT_DOWNLOAD);\n+        modalOverlay->setKnownBestHeight(tip_info->header_height, QDateTime::fromTime_t(tip_info->header_time));\n+        setNumBlocks(tip_info->block_height, QDateTime::fromTime_t(tip_info->block_time), tip_info->verification_progress, false, SynchronizationState::INIT_DOWNLOAD);\n         connect(_clientModel, &ClientModel::numBlocksChanged, this, &BitcoinGUI::setNumBlocks);\n \n         // Receive and report messages from client model\n@@ -600,7 +600,7 @@ void BitcoinGUI::setClientModel(ClientModel *_clientModel)\n         // Show progress dialog\n         connect(_clientModel, &ClientModel::showProgress, this, &BitcoinGUI::showProgress);\n \n-        rpcConsole->setClientModel(_clientModel);\n+        rpcConsole->setClientModel(_clientModel, tip_info->block_height, tip_info->block_time, tip_info->verification_progress);\n \n         updateProxyIcon();\n "
      },
      {
        "sha": "4c55f286932d2cb9b9456aeb4ba875049d62e64a",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/386ec192a57b76492125d691ceda1b4aa832312e/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/386ec192a57b76492125d691ceda1b4aa832312e/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=386ec192a57b76492125d691ceda1b4aa832312e",
        "patch": "@@ -43,6 +43,7 @@ enum class SynchronizationState;\n namespace interfaces {\n class Handler;\n class Node;\n+struct BlockAndHeaderTipInfo;\n }\n \n QT_BEGIN_NAMESPACE\n@@ -75,7 +76,7 @@ class BitcoinGUI : public QMainWindow\n     /** Set the client model.\n         The client model represents the part of the core that communicates with the P2P network, and is wallet-agnostic.\n     */\n-    void setClientModel(ClientModel *clientModel);\n+    void setClientModel(ClientModel *clientModel = nullptr, interfaces::BlockAndHeaderTipInfo* tip_info = nullptr);\n #ifdef ENABLE_WALLET\n     void setWalletController(WalletController* wallet_controller);\n #endif"
      },
      {
        "sha": "0b5c34154811ac9bd9e51719d354631780e5db2f",
        "filename": "src/qt/test/apptests.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/386ec192a57b76492125d691ceda1b4aa832312e/src/qt/test/apptests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/386ec192a57b76492125d691ceda1b4aa832312e/src/qt/test/apptests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/test/apptests.cpp?ref=386ec192a57b76492125d691ceda1b4aa832312e",
        "patch": "@@ -67,6 +67,7 @@ void AppTests::appTests()\n         return GetDataDir() / \"blocks\";\n     }());\n \n+    qRegisterMetaType<interfaces::BlockAndHeaderTipInfo>(\"interfaces::BlockAndHeaderTipInfo\");\n     m_app.parameterSetup();\n     m_app.createOptionsModel(true /* reset settings */);\n     QScopedPointer<const NetworkStyle> style(NetworkStyle::instantiate(Params().NetworkIDString()));"
      }
    ]
  }
]