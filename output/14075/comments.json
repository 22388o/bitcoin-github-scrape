[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/416407367",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-416407367",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 416407367,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjQwNzM2Nw==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-28T00:03:11Z",
    "updated_at": "2018-08-28T00:03:11Z",
    "author_association": "MEMBER",
    "body": "Rebased. The first commit is still from #14019 ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/416407367/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/416974371",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-416974371",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 416974371,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjk3NDM3MQ==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-29T14:28:52Z",
    "updated_at": "2018-08-29T14:28:52Z",
    "author_association": "MEMBER",
    "body": "`CWallet::CreateTransaction` needs to check for keys in change keypool even if `WALLET_FLAG_DISABLE_PRIVATE_KEYS` is set.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/416974371/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/421096615",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-421096615",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 421096615,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTA5NjYxNQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-13T17:57:33Z",
    "updated_at": "2018-09-13T17:57:33Z",
    "author_association": "MEMBER",
    "body": "Concept ACK. Lightly tested via your combined branch 3fa968ea343: I was able to import a bunch of receive and change keys. I was also able to receive coins on a `bech32` address and send from it.\r\n\r\nFor some reason when I composed the transaction it picked change address with index 1 instead of with index 0. Is that an existing rule?\r\n\r\nWhat I also found confusing, though I don't know if that's this PR, or the other two or just existing weirdness, is how `dumpwallet` shows `p2sh-p2wpkh` addresses under `# addr`, even though I launched bitcoind with `-addresstype=bech32`.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/421096615/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/421184428",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-421184428",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 421184428,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTE4NDQyOA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-13T23:32:36Z",
    "updated_at": "2018-09-13T23:32:36Z",
    "author_association": "MEMBER",
    "body": "> For some reason when I composed the transaction it picked change address with index 1 instead of with index 0. Is that an existing rule?\r\n\r\nMaybe your import command was weird? It should be adding them in the order of the import command so you should be getting them in that order too.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/421184428/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426873840",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-426873840",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 426873840,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjg3Mzg0MA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-04T03:31:00Z",
    "updated_at": "2018-10-04T03:31:00Z",
    "author_association": "MEMBER",
    "body": "What's a good way to inspect the wallet / keypool?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426873840/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426996508",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-426996508",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 426996508,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjk5NjUwOA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-04T12:16:47Z",
    "updated_at": "2018-10-04T12:16:47Z",
    "author_association": "MEMBER",
    "body": "@Sjors You can use dumpwallet",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426996508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/427238139",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-427238139",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 427238139,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzIzODEzOQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-05T03:50:49Z",
    "updated_at": "2018-10-17T08:34:25Z",
    "author_association": "MEMBER",
    "body": "@achow101 `dumpwallet` doesn't contain the bip32 derivation paths though.\r\n\r\nI'll try with `getaddressinfo`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/427238139/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430013430",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-430013430",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 430013430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDAxMzQzMA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-15T21:07:12Z",
    "updated_at": "2018-10-15T21:07:12Z",
    "author_association": "MEMBER",
    "body": "I will rework this to not require #14019 as soon as I have time (in a few days)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430013430/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435854838",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-435854838",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 435854838,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTg1NDgzOA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-05T12:18:58Z",
    "updated_at": "2018-11-06T09:28:59Z",
    "author_association": "MEMBER",
    "body": "Probably best rebased on #14491 or its predecessor.\r\n\r\nHere's my attempt at it: https://github.com/Sjors/bitcoin/tree/2018/11/watch-only-keypool\r\n* start with #14021 \r\n* cherry-pick 0abb0b28e76224fb5b163b29937b7a08ed60d20a, bcb8b4834ada2fcdbdcdeeed7cbc95ee0b81f9b0\r\n* manually cherry-pick bcb8b4834ada2fcdbdcdeeed7cbc95ee0b81f9b0\r\n\r\nIt seems to work for a simple case, but haven't thoroughly tested it.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435854838/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436284225",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-436284225",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 436284225,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjI4NDIyNQ==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-06T15:04:52Z",
    "updated_at": "2018-11-06T15:04:52Z",
    "author_association": "MEMBER",
    "body": "Rebased onto #14491",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436284225/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/437119112",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-437119112",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 437119112,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzExOTExMg==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-08T19:08:01Z",
    "updated_at": "2018-11-08T19:08:01Z",
    "author_association": "MEMBER",
    "body": "I've added two commits contributed by @instagibbs. The first one makes it so that things are imported in the order they are listed in the import command or in the order expanded for ranged descriptors. The second commit has watch keys imported to the keypool be marked as used when transactions are seen using them.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/437119112/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/437302117",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-437302117",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 437302117,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzMwMjExNw==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-09T09:30:03Z",
    "updated_at": "2019-02-10T23:39:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14021](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14021.html) (Import key origin data through descriptors in importmulti by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/437302117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/439351070",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-439351070",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 439351070,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTM1MTA3MA==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-16T10:29:48Z",
    "updated_at": "2018-11-16T10:29:48Z",
    "author_association": "MEMBER",
    "body": "Light utACK https://github.com/bitcoin/bitcoin/pull/14075/commits/8e6b7bd5e9aeb8efe85068de8fc38cf0b22f1185\r\n\r\nWill review more in-depth after the dependent PRs are merged and this is rebased",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/439351070/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446547958",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-446547958",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 446547958,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjU0Nzk1OA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-12T11:01:29Z",
    "updated_at": "2018-12-12T11:17:52Z",
    "author_association": "MEMBER",
    "body": "I think we should make `keypoolrefill` and `TopUpKeyPool` work with just public keys.\r\n\r\nWhen `WALLET_FLAG_DISABLE_PRIVATE_KEYS` is set we can skip the `EnsureWalletIsUnlocked(pwallet)` check.\r\n\r\n`TopUpKeyPool` currently only creates random fresh keys (for legacy wallets) or derives new keys from the wallet HD seed. We could change it to first walk through `solvable` keys in the wallet.\r\n\r\nFor safety we could prevent it from putting keys without private keys into the keypool for wallets without `WALLET_FLAG_DISABLE_PRIVATE_KEYS`.\r\n\r\nIn that case we don't need the `keypool` option in `importmulti`.\r\n\r\nThis might make it easier to refactor towards a descriptor based wallet without a _global_ keypool (cc @sipa), because we avoid adding another code path where stuff can be added to the keypool. In such a refactor a RPC method like `getnewaddress` will have to reference a descriptor. That would be the wallet receive descriptor by default. `importmulti` would then be able to set the wallet receive descriptor (in case the wallet is empty). It doesn't do keypool management stuff.\r\n\r\nThis would also let you create a new wallet without keys and then import private keys yourself via importmulti, something that currently doesn't work (at least not with `getnewaddress` and the GUI equivalent).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446547958/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447669564",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-447669564",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 447669564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzY2OTU2NA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-16T19:36:48Z",
    "updated_at": "2018-12-16T19:36:48Z",
    "author_association": "MEMBER",
    "body": "Rebased.\r\n\r\nI dropped the last commit as #14821 should handle that.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447669564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/449746795",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-449746795",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 449746795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTc0Njc5NQ==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-24T15:29:40Z",
    "updated_at": "2018-12-24T15:29:40Z",
    "author_association": "MEMBER",
    "body": "Rebased",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/449746795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/455704126",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-455704126",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 455704126,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTcwNDEyNg==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-18T22:10:09Z",
    "updated_at": "2019-01-18T22:10:09Z",
    "author_association": "MEMBER",
    "body": "I've added a commit which fixed an issue where the `Request payment` button was not being enabled once keys were imported to the keypool. That commit sends a signal to the GUI every time the keypool changes so that the button will be enabled and disabled as there keys are added and removed from the keypool.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/455704126/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456228317",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-456228317",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 456228317,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjIyODMxNw==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-22T00:01:38Z",
    "updated_at": "2019-01-22T00:01:38Z",
    "author_association": "MEMBER",
    "body": "I split out 28c89d1 into it's own PR: #15225",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456228317/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456497278",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-456497278",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 456497278,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjQ5NzI3OA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-22T17:54:57Z",
    "updated_at": "2019-01-22T17:58:08Z",
    "author_association": "MEMBER",
    "body": "In light of #15226 (specifically the test comment \"Imported private keys are currently ignored by the keypool\") I'd like to revisit my [earlier remark](\r\nhttps://github.com/bitcoin/bitcoin/pull/14075#issuecomment-446547958):\r\n\r\nI'd like to avoid messing with the keypool inside of `importmulti`. Instead I would prefer if `TopUpKeyPool` can deal with imported keys.\r\n\r\n> `TopUpKeyPool` currently only creates random fresh keys (for legacy wallets) or derives new keys from the wallet HD seed. We could change it to first walk through solvable keys in the wallet.\r\n\r\n> In that case we don't need the `keypool` option in `importmulti`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456497278/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/458691861",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-458691861",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 458691861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODY5MTg2MQ==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-29T20:19:28Z",
    "updated_at": "2019-01-29T20:19:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK\r\n\r\nIdeally \u2013 but orthogonal to this PR \u2013 would be if someone could provide a xpub or range based descriptor during sethdseed (or new command) that would make the keypool act similar to the default HD keypool but derive watch only pub keys.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/458691861/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/459492568",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-459492568",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 459492568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTQ5MjU2OA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-31T20:24:34Z",
    "updated_at": "2019-01-31T20:24:34Z",
    "author_association": "MEMBER",
    "body": "Tested a4bd25d, import works and GUI new address button updates as expected.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/459492568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/459493527",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-459493527",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 459493527,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTQ5MzUyNw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-31T20:27:36Z",
    "updated_at": "2019-01-31T20:27:36Z",
    "author_association": "MEMBER",
    "body": ">  if someone could provide a xpub or range based descriptor during sethdseed (or new command) that would make the keypool act similar to the default HD keypool but derive watch only pub keys.\r\n\r\nI would prefer to hold off on that until we have a descriptor based wallet, which would make that trivial.\r\n\r\nIn the mean time you can set the import range argument for the descriptor extremely long for a (probably) good enough result.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/459493527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462037542",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-462037542",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 462037542,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjAzNzU0Mg==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-09T11:45:16Z",
    "updated_at": "2019-02-09T12:00:10Z",
    "author_association": "MEMBER",
    "body": "I had some difficulty combining this with #15226 (blank wallet) and made a commit that does that, poorly: https://github.com/Sjors/bitcoin/commit/8988a96e2eff8bd6344f9e93032e86742e7dc3f8\r\nHowever, the blank wallet PR has since changed again, so my commit is merely useful for inspiration and some extra tests. Don't let it hold back merging here.\r\n\r\nI had to choose between the two PR's, I prefer this one, because it's needed for [HWI](https://github.com/bitcoin-core/HWI).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462037542/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462055828",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-462055828",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 462055828,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjA1NTgyOA==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-09T15:58:40Z",
    "updated_at": "2019-02-09T15:58:40Z",
    "author_association": "MEMBER",
    "body": "I don't think we can get both this and #14021 in to 0.18 so I'll remove this from the milestone",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462055828/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462074050",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-462074050",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 462074050,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjA3NDA1MA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-09T19:51:47Z",
    "updated_at": "2019-02-09T19:51:47Z",
    "author_association": "MEMBER",
    "body": "I've actually decided to base this on #15226. In the version of #15226, I introduced `CanGetAddresses` and `CanGenerateKeys` which I am using here for determining whether there are things in the keypool to fetch keys instead of `NoPrivkeysAndKeypoolEmpty` (which did a similar thing but was less robust). Because of this, I have also replaced `WalletModel::privateKeysDisabled` with `canGetaddresses`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462074050/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462275673",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-462275673",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 462275673,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjI3NTY3Mw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-11T10:14:16Z",
    "updated_at": "2019-02-11T11:27:21Z",
    "author_association": "MEMBER",
    "body": "I used a rather unpractical descriptor in my example above, with hardened derivation after the xpub. Let's try that again...\r\n\r\nIt works fine, so tACK a6e2c33, but I'm still confused why it works :-)\r\n\r\nHere's a wallet where one address has received funds:\r\n\r\n```sh\r\nbitcoin-cli createwallet keypool true\r\nbitcoin-cli -rpcwallet=keypool importmulti '[{\"desc\": \"wpkh(tpubD6NzVbkrYhZ4YNXVQbNhMK1WqguFsUXceaVJKbmno2aZ3B6QfbMeraaYvnBSGpV3vxLyTTK9DYT1yoEck4XUScMzXoQ2U2oSmE2JyMedq3H/0/*)\", \"range\": {\"end\": 2}, \"timestamp\": 1548979200, \"watchonly\": true, \"keypool\": true}]'\r\n```\r\n\r\nThe transaction immediately appears in QT, although the balance is incorrect until the next restart.\r\n\r\n```sh\r\nbitcoin-cli -rpcwallet=keypool getaddressinfo tb1qsh65n95t9myg5xn44h9gmlmh2kej0l0yppqkqx\r\n```\r\n```json\r\n{\r\n  \"address\": \"tb1qsh65n95t9myg5xn44h9gmlmh2kej0l0yppqkqx\",\r\n  \"scriptPubKey\": \"001485f549968b2ec88a1a75adca8dff7755b327fde4\",\r\n  \"ismine\": false,\r\n  \"solvable\": true,\r\n  \"desc\": \"wpkh([85f54996]0245fa928afe25e7b1c38d3bc16aafd933dda8ea8c653396cfc1d87859ef14331d)\",\r\n  \"iswatchonly\": true,\r\n  \"isscript\": false,\r\n  \"iswitness\": true,\r\n  \"witness_version\": 0,\r\n  \"witness_program\": \"85f549968b2ec88a1a75adca8dff7755b327fde4\",\r\n  \"pubkey\": \"0245fa928afe25e7b1c38d3bc16aafd933dda8ea8c653396cfc1d87859ef14331d\",\r\n  \"label\": \"\",\r\n  \"ischange\": false,\r\n  \"timestamp\": 1548979200,\r\n  \"labels\": [\r\n    {\r\n      \"name\": \"\",\r\n      \"purpose\": \"receive\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nRemember when @instagibbs added:\r\n\r\n> The second commit has watch keys imported to the keypool be marked as used when transactions are seen using them.\r\n\r\nYou then dropped that commit, because it was superseded by #14821.\r\n\r\nThe problem is that `AddToWalletIfInvolvingMe` only considers `IsMine` https://github.com/bitcoin/bitcoin/blame/master/src/wallet/wallet.cpp#L972.\r\n\r\nBut these imported public keys are merely `Solvable` so why aren't they skipped? Is the keypool somehow treated as `IsMine` even though `getaddressinfo` disagrees?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462275673/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462369203",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-462369203",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 462369203,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjM2OTIwMw==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-11T15:28:27Z",
    "updated_at": "2019-02-11T15:28:27Z",
    "author_association": "MEMBER",
    "body": "> But these imported public keys are merely `Solvable` so why aren't they skipped?\r\n\r\n`IsMine()` returns true for things that are watch only, solvable, or spendable.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462369203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462372141",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-462372141",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 462372141,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjM3MjE0MQ==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-11T15:35:39Z",
    "updated_at": "2019-02-11T15:35:39Z",
    "author_association": "MEMBER",
    "body": "More concretely, `IsMine` does a last-minute check if the exact scriptPubKey exists in the watchonly store if it fails at everything else.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462372141/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463727777",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-463727777",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 463727777,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzcyNzc3Nw==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T18:01:04Z",
    "updated_at": "2019-02-14T18:01:04Z",
    "author_association": "MEMBER",
    "body": "Feel free to remove \"built on\" comment in OP so I don't keep checking if it's time to review in earnest :) ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463727777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463732686",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-463732686",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 463732686,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzczMjY4Ng==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T18:14:53Z",
    "updated_at": "2019-02-14T18:14:53Z",
    "author_association": "MEMBER",
    "body": "There is no test for keys being imported in order, and it appears to not actually be implemented for descriptors with ranges? You're iterating over a map's keys, which will be sorted in `CKeyID` order.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463732686/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463756158",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-463756158",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 463756158,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Mzc1NjE1OA==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T19:19:18Z",
    "updated_at": "2019-02-14T19:19:18Z",
    "author_association": "MEMBER",
    "body": "Good news: I'm wrong, and I'm the one who wrote the logic originally :( \r\n\r\nTest and I'm happy.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463756158/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463759396",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-463759396",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 463759396,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Mzc1OTM5Ng==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T19:28:41Z",
    "updated_at": "2019-02-14T19:28:41Z",
    "author_association": "MEMBER",
    "body": "@instagibbs keys from a ranged descriptor are imported in order. Feel free to replace this test:\r\n\r\n```py\r\n        # Test importing of a ranged descriptor without keys, check order\r\n        self.log.info(\"Should import the ranged descriptor with specified range as solvable\")\r\n        self.test_importmulti({\"desc\": desc,\r\n                               \"timestamp\": \"now\",\r\n                               \"range\": {\"end\": 9}},\r\n                              success=True,\r\n                              warnings=[\"Some private keys are missing, outputs will be considered watchonly. If this is intentional, specify the watchonly flag.\"])\r\n        # Check the first two addresses:\r\n        for address in addresses:\r\n            test_address(self.nodes[1],\r\n                         key.p2sh_p2wpkh_addr,\r\n                         solvable=True)\r\n\r\n        # Check keys were imported in the correct order:\r\n        for i in range(10):\r\n            address = self.nodes[1].getnewaddress()\r\n            assert_equal(self.nodes[1].getaddressinfo(address)[\"hdkeypath\"], \"m/0'/0'/%s'\" % i)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463759396/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463761195",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-463761195",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 463761195,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Mzc2MTE5NQ==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T19:33:27Z",
    "updated_at": "2019-02-14T19:33:27Z",
    "author_association": "MEMBER",
    "body": "Test fix only change.\r\n\r\nreACK https://github.com/bitcoin/bitcoin/pull/14075/commits/32fd3bb627fbd3c44b4f45434ead56f207dffa06",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463761195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463765056",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-463765056",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 463765056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Mzc2NTA1Ng==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T19:43:32Z",
    "updated_at": "2019-02-14T19:43:32Z",
    "author_association": "MEMBER",
    "body": "re-ACK https://github.com/bitcoin/bitcoin/pull/14075/commits/38fbc101d1342222565b8670b7cd9c2485a57c74\r\n\r\nOrdering test fixed, at least locally.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463765056/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463770072",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-463770072",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 463770072,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Mzc3MDA3Mg==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T19:56:31Z",
    "updated_at": "2019-02-14T19:56:31Z",
    "author_association": "MEMBER",
    "body": "utACK a6e2c3331023d11112f8e9d176aa823d84b3f5ce (only adds a test since my last ACK)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463770072/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463829201",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-463829201",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 463829201,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzgyOTIwMQ==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T22:32:22Z",
    "updated_at": "2019-02-14T22:32:22Z",
    "author_association": "MEMBER",
    "body": "utACK https://github.com/bitcoin/bitcoin/pull/14075/commits/38fbc101d1342222565b8670b7cd9c2485a57c74",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463829201/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463850235",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-463850235",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 463850235,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Mzg1MDIzNQ==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T23:51:19Z",
    "updated_at": "2019-02-14T23:51:19Z",
    "author_association": "MEMBER",
    "body": "LGTM https://github.com/bitcoin/bitcoin/pull/14075/commits/f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463850235/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463939400",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-463939400",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14075",
    "id": 463939400,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzkzOTQwMA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-15T07:41:58Z",
    "updated_at": "2019-02-15T07:41:58Z",
    "author_association": "MEMBER",
    "body": "Post merge utACK f4b00b7",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463939400/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212841823",
    "pull_request_review_id": 149553531,
    "id": 212841823,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjg0MTgyMw==",
    "diff_hunk": "@@ -467,6 +467,67 @@ def run_test (self):\n         import_pub2 = self.nodes[0].getaddressinfo(addr2)['pubkey']\n         assert_equal(pub2, import_pub2)\n \n+        # Import some public keys to the keypool of a no privkey wallet",
    "path": "test/functional/wallet_importmulti.py",
    "position": 12,
    "original_position": 4,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "d7d9ac9654cdac69268574c94cf864c71d39f10f",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Commit \"Fetch keys from keypool when private keys are disabled\"\r\n\r\nCould move test to a different commit?",
    "created_at": "2018-08-26T23:02:19Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r212841823",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212841823"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r212841823"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212841823/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 693,
    "original_line": 693,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212841827",
    "pull_request_review_id": 149553531,
    "id": 212841827,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjg0MTgyNw==",
    "diff_hunk": "@@ -467,6 +467,67 @@ def run_test (self):\n         import_pub2 = self.nodes[0].getaddressinfo(addr2)['pubkey']\n         assert_equal(pub2, import_pub2)\n \n+        # Import some public keys to the keypool of a no privkey wallet\n+        self.log.info(\"Adding pubkey to keypool of disableprivkey wallet\")\n+        self.nodes[1].createwallet(\"noprivkeys\", True)",
    "path": "test/functional/wallet_importmulti.py",
    "position": null,
    "original_position": 6,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "d7d9ac9654cdac69268574c94cf864c71d39f10f",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Commit \"Fetch keys from keypool when private keys are disabled\"\r\n\r\nUse named argument `disable_private_keys=True`?",
    "created_at": "2018-08-26T23:02:26Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r212841827",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212841827"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r212841827"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212841827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 472,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212841877",
    "pull_request_review_id": 149553531,
    "id": 212841877,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjg0MTg3Nw==",
    "diff_hunk": "@@ -1198,6 +1219,7 @@ UniValue importmulti(const JSONRPCRequest& mainRequest)\n             \"      \\\"internal\\\": <true>                                    , (boolean, optional, default: false) Stating whether matching outputs should be treated as not incoming payments\\n\"\n             \"      \\\"watchonly\\\": <true>                                   , (boolean, optional, default: false) Stating whether matching outputs should be considered watched even when they're not spendable, only allowed if keys are empty\\n\"\n             \"      \\\"label\\\": <label>                                      , (string, optional, default: '') Label to assign to the address (aka account name, for now), only allowed with internal=false\\n\"\n+            \"      \\\"keypool\\\": <true|false>                               , (boolean, optional, default: true) If true, adds the pubkeys to the keypool if private keys are disabled for the wallet.\\n\"",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 53,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "803a91650d055cfe4b9428e6dcb99a4776ef1ba4",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Commit \"Add option to importmulti add an imported pubkey to the keypool\"\r\n\r\nDefault false.",
    "created_at": "2018-08-26T23:04:02Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r212841877",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212841877"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r212841877"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212841877/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1222,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212841894",
    "pull_request_review_id": 149553531,
    "id": 212841894,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjg0MTg5NA==",
    "diff_hunk": "@@ -876,6 +877,16 @@ static UniValue ProcessImport(CWallet * const pwallet, const UniValue& data, con\n             throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid redeem script\");\n         }\n \n+        // Add to keypool only works with privkeys disabled\n+        if (add_keypool && !pwallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, \"Keys can only be imported to the keypool when private keys are disabled\");\n+        }\n+\n+        // Add to keypool only works with pubkeys\n+        if (add_keypool && pubKeys.size() == 0) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, \"Only pubkeys be imported to the keypool\");",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 19,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "803a91650d055cfe4b9428e6dcb99a4776ef1ba4",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Commit \"Add option to importmulti add an imported pubkey to the keypool\"\r\n\r\n... can be ...",
    "created_at": "2018-08-26T23:04:33Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r212841894",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212841894"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r212841894"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212841894/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 887,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213011946",
    "pull_request_review_id": 149756425,
    "id": 213011946,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzAxMTk0Ng==",
    "diff_hunk": "@@ -559,7 +559,7 @@ bool WalletModel::isWalletEnabled()\n \n bool WalletModel::privateKeysDisabled() const\n {\n-    return m_wallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+    return m_wallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && m_wallet->KeypoolCountExternalKeys() == 0;",
    "path": "src/qt/walletmodel.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "d7d9ac9654cdac69268574c94cf864c71d39f10f",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This function should be renamed or called into from a new one.\r\n\r\n`WalletModel::KeypoolEmptyAndPrivkeysDisabled` or something obnoxiously explicit.",
    "created_at": "2018-08-27T15:15:45Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213011946",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213011946"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213011946"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213011946/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 562,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213015525",
    "pull_request_review_id": 149756425,
    "id": 213015525,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzAxNTUyNQ==",
    "diff_hunk": "@@ -161,11 +161,15 @@ static UniValue getnewaddress(const JSONRPCRequest& request)\n             + HelpExampleRpc(\"getnewaddress\", \"\")\n         );\n \n-    if (pwallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, \"Error: Private keys are disabled for this wallet\");\n+    LOCK(pwallet->cs_wallet);\n+\n+    if (pwallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && pwallet->KeypoolCountExternalKeys() == 0) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Error: Private keys are disabled for this wallet and no keys in the external keypool\");\n     }\n \n-    LOCK(pwallet->cs_wallet);\n+    if (!pwallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !pwallet->IsLocked()) {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "d7d9ac9654cdac69268574c94cf864c71d39f10f",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Might be time to make a `TryToTopUpKeyPool` function for when we will continue regardless. We do this in a number of places in the PR and probably elsewhere.",
    "created_at": "2018-08-27T15:26:36Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213015525",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213015525"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213015525"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213015525/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 179,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213017252",
    "pull_request_review_id": 149756425,
    "id": 213017252,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzAxNzI1Mg==",
    "diff_hunk": "@@ -3417,7 +3423,7 @@ bool CWallet::ReserveKeyFromKeyPool(int64_t& nIndex, CKeyPool& keypool, bool fRe\n         if (!IsLocked())\n             TopUpKeyPool();\n \n-        bool fReturningInternal = IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT) && fRequestedInternal;\n+        bool fReturningInternal = ((IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT)) || IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS))  && fRequestedInternal;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 18,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "d7d9ac9654cdac69268574c94cf864c71d39f10f",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "assumption here being using importmulti means you want to support hdsplit?\r\n\r\nPerhaps break this into two lines:\r\n```\r\nbool fReturningInternal = fRequestedInternal;\r\nfReturningInternal &= (IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT)) || IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\r\n```",
    "created_at": "2018-08-27T15:31:40Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213017252",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213017252"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213017252"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213017252/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3426,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213018153",
    "pull_request_review_id": 149756425,
    "id": 213018153,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzAxODE1Mw==",
    "diff_hunk": "@@ -3434,7 +3440,7 @@ bool CWallet::ReserveKeyFromKeyPool(int64_t& nIndex, CKeyPool& keypool, bool fRe\n         if (!batch.ReadPool(nIndex, keypool)) {\n             throw std::runtime_error(std::string(__func__) + \": read failed\");\n         }\n-        if (!HaveKey(keypool.vchPubKey.GetID())) {\n+        if (!IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !HaveKey(keypool.vchPubKey.GetID())) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 27,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "d7d9ac9654cdac69268574c94cf864c71d39f10f",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Belt and suspenders, we should be checking that this exists in our wallet regardless yes? Just not asking if we have the private key itself.",
    "created_at": "2018-08-27T15:34:18Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213018153",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213018153"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213018153"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213018153/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3443,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213019389",
    "pull_request_review_id": 149756425,
    "id": 213019389,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzAxOTM4OQ==",
    "diff_hunk": "@@ -3478,23 +3484,21 @@ void CWallet::ReturnKey(int64_t nIndex, bool fInternal, const CPubKey& pubkey)\n \n bool CWallet::GetKeyFromPool(CPubKey& result, bool internal)\n {\n-    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+    LOCK(cs_wallet);\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && KeypoolCountExternalKeys() == 0) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 37,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "d7d9ac9654cdac69268574c94cf864c71d39f10f",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This should be checking the keypool corresponding to `internal`, yes?",
    "created_at": "2018-08-27T15:37:59Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213019389",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213019389"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213019389"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213019389/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3488,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213145236",
    "pull_request_review_id": 149919627,
    "id": 213145236,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzE0NTIzNg==",
    "diff_hunk": "@@ -161,11 +161,15 @@ static UniValue getnewaddress(const JSONRPCRequest& request)\n             + HelpExampleRpc(\"getnewaddress\", \"\")\n         );\n \n-    if (pwallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, \"Error: Private keys are disabled for this wallet\");\n+    LOCK(pwallet->cs_wallet);\n+\n+    if (pwallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && pwallet->KeypoolCountExternalKeys() == 0) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Error: Private keys are disabled for this wallet and no keys in the external keypool\");\n     }\n \n-    LOCK(pwallet->cs_wallet);\n+    if (!pwallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !pwallet->IsLocked()) {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "d7d9ac9654cdac69268574c94cf864c71d39f10f",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`TopUpKeypool` actually already has this check in it so it won't do anything when the disable private keys flag is set. This is just an extra belt and suspenders check.",
    "created_at": "2018-08-27T23:24:44Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213145236",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213145236"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213145236"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213145236/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 179,
    "side": "RIGHT",
    "in_reply_to_id": 213015525
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150903",
    "pull_request_review_id": 149926428,
    "id": 213150903,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzE1MDkwMw==",
    "diff_hunk": "@@ -467,6 +467,67 @@ def run_test (self):\n         import_pub2 = self.nodes[0].getaddressinfo(addr2)['pubkey']\n         assert_equal(pub2, import_pub2)\n \n+        # Import some public keys to the keypool of a no privkey wallet",
    "path": "test/functional/wallet_importmulti.py",
    "position": 12,
    "original_position": 4,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "d7d9ac9654cdac69268574c94cf864c71d39f10f",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2018-08-28T00:01:50Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213150903",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150903"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213150903"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150903/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 693,
    "original_line": 693,
    "side": "RIGHT",
    "in_reply_to_id": 212841823
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150916",
    "pull_request_review_id": 149926440,
    "id": 213150916,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzE1MDkxNg==",
    "diff_hunk": "@@ -467,6 +467,67 @@ def run_test (self):\n         import_pub2 = self.nodes[0].getaddressinfo(addr2)['pubkey']\n         assert_equal(pub2, import_pub2)\n \n+        # Import some public keys to the keypool of a no privkey wallet\n+        self.log.info(\"Adding pubkey to keypool of disableprivkey wallet\")\n+        self.nodes[1].createwallet(\"noprivkeys\", True)",
    "path": "test/functional/wallet_importmulti.py",
    "position": null,
    "original_position": 6,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "d7d9ac9654cdac69268574c94cf864c71d39f10f",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2018-08-28T00:01:54Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213150916",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150916"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213150916"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150916/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 472,
    "side": "RIGHT",
    "in_reply_to_id": 212841827
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150933",
    "pull_request_review_id": 149926456,
    "id": 213150933,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzE1MDkzMw==",
    "diff_hunk": "@@ -1198,6 +1219,7 @@ UniValue importmulti(const JSONRPCRequest& mainRequest)\n             \"      \\\"internal\\\": <true>                                    , (boolean, optional, default: false) Stating whether matching outputs should be treated as not incoming payments\\n\"\n             \"      \\\"watchonly\\\": <true>                                   , (boolean, optional, default: false) Stating whether matching outputs should be considered watched even when they're not spendable, only allowed if keys are empty\\n\"\n             \"      \\\"label\\\": <label>                                      , (string, optional, default: '') Label to assign to the address (aka account name, for now), only allowed with internal=false\\n\"\n+            \"      \\\"keypool\\\": <true|false>                               , (boolean, optional, default: true) If true, adds the pubkeys to the keypool if private keys are disabled for the wallet.\\n\"",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 53,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "803a91650d055cfe4b9428e6dcb99a4776ef1ba4",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed",
    "created_at": "2018-08-28T00:02:00Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213150933",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150933"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213150933"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150933/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1222,
    "side": "RIGHT",
    "in_reply_to_id": 212841877
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150943",
    "pull_request_review_id": 149926469,
    "id": 213150943,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzE1MDk0Mw==",
    "diff_hunk": "@@ -876,6 +877,16 @@ static UniValue ProcessImport(CWallet * const pwallet, const UniValue& data, con\n             throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid redeem script\");\n         }\n \n+        // Add to keypool only works with privkeys disabled\n+        if (add_keypool && !pwallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, \"Keys can only be imported to the keypool when private keys are disabled\");\n+        }\n+\n+        // Add to keypool only works with pubkeys\n+        if (add_keypool && pubKeys.size() == 0) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, \"Only pubkeys be imported to the keypool\");",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 19,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "803a91650d055cfe4b9428e6dcb99a4776ef1ba4",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed",
    "created_at": "2018-08-28T00:02:04Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213150943",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150943"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213150943"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150943/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 887,
    "side": "RIGHT",
    "in_reply_to_id": 212841894
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150957",
    "pull_request_review_id": 149926487,
    "id": 213150957,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzE1MDk1Nw==",
    "diff_hunk": "@@ -559,7 +559,7 @@ bool WalletModel::isWalletEnabled()\n \n bool WalletModel::privateKeysDisabled() const\n {\n-    return m_wallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+    return m_wallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && m_wallet->KeypoolCountExternalKeys() == 0;",
    "path": "src/qt/walletmodel.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "d7d9ac9654cdac69268574c94cf864c71d39f10f",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2018-08-28T00:02:10Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213150957",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150957"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213150957"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 562,
    "side": "RIGHT",
    "in_reply_to_id": 213011946
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150976",
    "pull_request_review_id": 149926511,
    "id": 213150976,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzE1MDk3Ng==",
    "diff_hunk": "@@ -3417,7 +3423,7 @@ bool CWallet::ReserveKeyFromKeyPool(int64_t& nIndex, CKeyPool& keypool, bool fRe\n         if (!IsLocked())\n             TopUpKeyPool();\n \n-        bool fReturningInternal = IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT) && fRequestedInternal;\n+        bool fReturningInternal = ((IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT)) || IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS))  && fRequestedInternal;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 18,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "d7d9ac9654cdac69268574c94cf864c71d39f10f",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2018-08-28T00:02:15Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213150976",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150976"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213150976"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213150976/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3426,
    "side": "RIGHT",
    "in_reply_to_id": 213017252
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213151030",
    "pull_request_review_id": 149926567,
    "id": 213151030,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzE1MTAzMA==",
    "diff_hunk": "@@ -3434,7 +3440,7 @@ bool CWallet::ReserveKeyFromKeyPool(int64_t& nIndex, CKeyPool& keypool, bool fRe\n         if (!batch.ReadPool(nIndex, keypool)) {\n             throw std::runtime_error(std::string(__func__) + \": read failed\");\n         }\n-        if (!HaveKey(keypool.vchPubKey.GetID())) {\n+        if (!IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !HaveKey(keypool.vchPubKey.GetID())) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 27,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "d7d9ac9654cdac69268574c94cf864c71d39f10f",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I changed this line to check for the pubkey in the wallet instead of the privkey.",
    "created_at": "2018-08-28T00:02:39Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213151030",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213151030"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213151030"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213151030/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3443,
    "side": "RIGHT",
    "in_reply_to_id": 213018153
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213151039",
    "pull_request_review_id": 149926578,
    "id": 213151039,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzE1MTAzOQ==",
    "diff_hunk": "@@ -3478,23 +3484,21 @@ void CWallet::ReturnKey(int64_t nIndex, bool fInternal, const CPubKey& pubkey)\n \n bool CWallet::GetKeyFromPool(CPubKey& result, bool internal)\n {\n-    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+    LOCK(cs_wallet);\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && KeypoolCountExternalKeys() == 0) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 37,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "d7d9ac9654cdac69268574c94cf864c71d39f10f",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed",
    "created_at": "2018-08-28T00:02:45Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213151039",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213151039"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213151039"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213151039/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3488,
    "side": "RIGHT",
    "in_reply_to_id": 213019389
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213675322",
    "pull_request_review_id": 150559368,
    "id": 213675322,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzY3NTMyMg==",
    "diff_hunk": "@@ -272,6 +272,9 @@ class Wallet\n     //! Register handler for watchonly changed messages.\n     using WatchOnlyChangedFn = std::function<void(bool have_watch_only)>;\n     virtual std::unique_ptr<Handler> handleWatchOnlyChanged(WatchOnlyChangedFn fn) = 0;\n+\n+    // Get the number of external keypool keys",
    "path": "src/interfaces/wallet.h",
    "position": null,
    "original_position": 5,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "85b6075ec7e8d275bc21574e6b16e0f5993d1b4d",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "generalize comment",
    "created_at": "2018-08-29T13:27:37Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213675322",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213675322"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213675322"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213675322/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 276,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213675937",
    "pull_request_review_id": 150559368,
    "id": 213675937,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzY3NTkzNw==",
    "diff_hunk": "@@ -3311,6 +3311,22 @@ size_t CWallet::KeypoolCountExternalKeys()\n     return setExternalKeyPool.size() + set_pre_split_keypool.size();\n }\n \n+bool CWallet::NoPrivkeysAndKeypoolEmpty(bool internal)\n+{\n+    if (!IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        return false;\n+    }\n+\n+    {\n+        LOCK(cs_wallet);\n+        if (internal) {\n+            return setInternalKeyPool.size() == 0;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "85b6075ec7e8d275bc21574e6b16e0f5993d1b4d",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "mu-nit: add commit for KeypoolCountInternalKeys",
    "created_at": "2018-08-29T13:29:15Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213675937",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213675937"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213675937"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213675937/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3277,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213831230",
    "pull_request_review_id": 150750967,
    "id": 213831230,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzgzMTIzMA==",
    "diff_hunk": "@@ -3311,6 +3311,22 @@ size_t CWallet::KeypoolCountExternalKeys()\n     return setExternalKeyPool.size() + set_pre_split_keypool.size();\n }\n \n+bool CWallet::NoPrivkeysAndKeypoolEmpty(bool internal)\n+{\n+    if (!IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        return false;\n+    }\n+\n+    {\n+        LOCK(cs_wallet);\n+        if (internal) {\n+            return setInternalKeyPool.size() == 0;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "85b6075ec7e8d275bc21574e6b16e0f5993d1b4d",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think that's unnecssary.",
    "created_at": "2018-08-29T20:55:41Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213831230",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213831230"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213831230"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213831230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3277,
    "side": "RIGHT",
    "in_reply_to_id": 213675937
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213832373",
    "pull_request_review_id": 150752385,
    "id": 213832373,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzgzMjM3Mw==",
    "diff_hunk": "@@ -272,6 +272,9 @@ class Wallet\n     //! Register handler for watchonly changed messages.\n     using WatchOnlyChangedFn = std::function<void(bool have_watch_only)>;\n     virtual std::unique_ptr<Handler> handleWatchOnlyChanged(WatchOnlyChangedFn fn) = 0;\n+\n+    // Get the number of external keypool keys",
    "path": "src/interfaces/wallet.h",
    "position": null,
    "original_position": 5,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "85b6075ec7e8d275bc21574e6b16e0f5993d1b4d",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2018-08-29T20:59:35Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213832373",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213832373"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r213832373"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213832373/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 276,
    "side": "RIGHT",
    "in_reply_to_id": 213675322
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216212468",
    "pull_request_review_id": 153640991,
    "id": 216212468,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNjIxMjQ2OA==",
    "diff_hunk": "@@ -446,6 +446,88 @@ def run_test (self):\n                 \"timestamp\": \"\",\n             }])\n \n+        # Importing multiple public keys with 2-of-2 p2sh multisig\n+        self.log.info(\"Pubkeys should be available after importing 2-of-2 p2sh multisig with pubkeys\")\n+        addr1 = self.nodes[1].getnewaddress()\n+        addr2 = self.nodes[1].getnewaddress()\n+        pub1 = self.nodes[1].getaddressinfo(addr1)['pubkey']\n+        pub2 = self.nodes[1].getaddressinfo(addr2)['pubkey']\n+        ms = self.nodes[1].createmultisig(2, [pub1, pub2])\n+        result = self.nodes[0].importmulti(\n+            [{\n+                'scriptPubKey' : { 'address' : ms['address']},",
    "path": "test/functional/wallet_importmulti.py",
    "position": null,
    "original_position": 13,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "acb05a18202c86ab0635d850c63d4461258bbfd0",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "FWIW, PEP-8 whitespace nits:\r\n\r\n```\r\n./test/functional/wallet_importmulti.py:458:31: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:458:35: E201 whitespace after '{'\r\n./test/functional/wallet_importmulti.py:458:45: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:459:31: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:460:26: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:482:31: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:482:35: E201 whitespace after '{'\r\n./test/functional/wallet_importmulti.py:482:45: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:483:31: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:484:26: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:485:26: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:504:31: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:504:35: E201 whitespace after '{'\r\n./test/functional/wallet_importmulti.py:504:45: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:505:31: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:506:26: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:507:26: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:508:27: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:523:27: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:523:31: E201 whitespace after '{'\r\n./test/functional/wallet_importmulti.py:523:41: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:524:27: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:525:22: E203 whitespace before ':'\r\n./test/functional/wallet_importmulti.py:526:22: E203 whitespace before ':'\r\n```",
    "created_at": "2018-09-10T06:44:10Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r216212468",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216212468"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r216212468"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216212468/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 458,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217565129",
    "pull_request_review_id": 155310230,
    "id": 217565129,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNzU2NTEyOQ==",
    "diff_hunk": "@@ -446,6 +446,88 @@ def run_test (self):\n                 \"timestamp\": \"\",\n             }])\n \n+        # Importing multiple public keys with 2-of-2 p2sh multisig\n+        self.log.info(\"Pubkeys should be available after importing 2-of-2 p2sh multisig with pubkeys\")\n+        addr1 = self.nodes[1].getnewaddress()\n+        addr2 = self.nodes[1].getnewaddress()\n+        pub1 = self.nodes[1].getaddressinfo(addr1)['pubkey']\n+        pub2 = self.nodes[1].getaddressinfo(addr2)['pubkey']\n+        ms = self.nodes[1].createmultisig(2, [pub1, pub2])\n+        result = self.nodes[0].importmulti(\n+            [{\n+                'scriptPubKey' : { 'address' : ms['address']},",
    "path": "test/functional/wallet_importmulti.py",
    "position": null,
    "original_position": 13,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "acb05a18202c86ab0635d850c63d4461258bbfd0",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed",
    "created_at": "2018-09-13T23:36:09Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r217565129",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217565129"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r217565129"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217565129/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 458,
    "side": "RIGHT",
    "in_reply_to_id": 216212468
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/221463595",
    "pull_request_review_id": 160118937,
    "id": 221463595,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMTQ2MzU5NQ==",
    "diff_hunk": "@@ -917,6 +928,58 @@ static UniValue ProcessImport(CWallet * const pwallet, const UniValue& data, con\n                 pwallet->SetAddressBook(dest, label, \"receive\");\n             }\n \n+            // Import public keys\n+            for (size_t i = 0; i < pubKeys.size(); ++i) {\n+                const std::string& pubkey = pubKeys[i].get_str();\n+\n+                if (!IsHex(pubkey)) {\n+                    throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Pubkey must be a hex string\");\n+                }\n+\n+                std::vector<unsigned char> vData(ParseHex(pubkey));",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 37,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "5022a35a6b82aed509d1eccc87bcbeb3a0564e02",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This `vData` shadows another local variable `vData` :-)",
    "created_at": "2018-09-30T15:45:10Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r221463595",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/221463595"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r221463595"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/221463595/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 939,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255345358",
    "pull_request_review_id": 201911575,
    "id": 255345358,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM0NTM1OA==",
    "diff_hunk": "@@ -625,6 +625,74 @@ def run_test(self):\n                      ismine=False,\n                      iswatchonly=False)\n \n+        # Import some public keys to the keypool of a no privkey wallet\n+        self.log.info(\"Adding pubkey to keypool of disableprivkey wallet\")\n+        self.nodes[1].createwallet(wallet_name=\"noprivkeys\", disable_private_keys=True)\n+        wrpc = self.nodes[1].get_wallet_rpc(\"noprivkeys\")\n+\n+        addr1 = self.nodes[0].getnewaddress()\n+        addr2 = self.nodes[0].getnewaddress()\n+        pub1 = self.nodes[0].getaddressinfo(addr1)['pubkey']\n+        pub2 = self.nodes[0].getaddressinfo(addr2)['pubkey']\n+        result = wrpc.importmulti(\n+            [{\n+                'desc': 'wpkh(' + pub1 + ')',\n+                'keypool': True,\n+                \"timestamp\": \"now\",\n+            },\n+            {\n+                'desc': 'wpkh(' + pub2 + ')',\n+                'keypool': True,\n+                \"timestamp\": \"now\",\n+            }]\n+        )\n+        assert result[0]['success']\n+        assert result[1]['success']\n+        newaddr1 = wrpc.getnewaddress()\n+        assert_equal(addr1, newaddr1)\n+        newaddr2 = wrpc.getnewaddress()\n+        assert_equal(addr2, newaddr2)\n+\n+        # Import some public keys to the internal keypool of a no privkey wallet\n+        self.log.info(\"Adding pubkey to internal keypool of disableprivkey wallet\")\n+        addr1 = self.nodes[0].getnewaddress()\n+        addr2 = self.nodes[0].getnewaddress()\n+        pub1 = self.nodes[0].getaddressinfo(addr1)['pubkey']\n+        pub2 = self.nodes[0].getaddressinfo(addr2)['pubkey']\n+        result = wrpc.importmulti(\n+            [{\n+                'desc': 'wpkh(' + pub1 + ')',\n+                'keypool': True,\n+                'internal': True,\n+                \"timestamp\": \"now\",\n+            },\n+            {\n+                'desc': 'wpkh(' + pub2 + ')',\n+                'keypool': True,\n+                'internal': True,\n+                \"timestamp\": \"now\",\n+            }]\n+        )\n+        assert result[0]['success']\n+        assert result[1]['success']",
    "path": "test/functional/wallet_importmulti.py",
    "position": 62,
    "original_position": 53,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "7369e1a459bd0a033ad0e83f340bb0e05ca49566",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: `assert_equal(wrpc.getwalletinfo()[\"keypoolsize\"],2)`",
    "created_at": "2019-02-10T16:52:48Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255345358",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255345358"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255345358"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255345358/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 743,
    "original_line": 743,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255346203",
    "pull_request_review_id": 201911575,
    "id": 255346203,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM0NjIwMw==",
    "diff_hunk": "@@ -1202,7 +1202,7 @@ void BitcoinGUI::updateWalletStatus()\n     }\n     WalletModel * const walletModel = walletView->getWalletModel();\n     setEncryptionStatus(walletModel->getEncryptionStatus());\n-    setHDStatus(walletModel->privateKeysDisabled(), walletModel->wallet().hdEnabled());\n+    setHDStatus(!walletModel->canGetAddresses(), walletModel->wallet().hdEnabled());",
    "path": "src/qt/bitcoingui.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "5c73073d18df77226cf49ea2de8efc946ed4476d",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: update documentation and argument name for `setHDStatus`.",
    "created_at": "2019-02-10T17:15:34Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255346203",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255346203"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255346203"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255346203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1205,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255347804",
    "pull_request_review_id": 201911575,
    "id": 255347804,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM0NzgwNA==",
    "diff_hunk": "@@ -161,7 +161,7 @@ void OverviewPage::setBalance(const interfaces::WalletBalances& balances)\n {\n     int unit = walletModel->getOptionsModel()->getDisplayUnit();\n     m_balances = balances;\n-    if (walletModel->privateKeysDisabled()) {\n+    if (!walletModel->canGetAddresses()) {",
    "path": "src/qt/overviewpage.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "5c73073d18df77226cf49ea2de8efc946ed4476d",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is weird; whether we treat watch-only balances as ours shouldn't depend on if the keypool is empty. The original `privateKeysDisabled()` is more appropriate, because it's the only wallet type where we can be certain no private keys will be added at any time (saving us from having to deal with a bunch of UI glitches described below). \r\n\r\nFortunately you need to do something fairly contrived to make it misbehave:\r\n\r\nUsing my patch that allows adding private keys to the keypool, create a blank wallet with private keys enabled and import:\r\n\r\n```\r\n importmulti '[{\"desc\": \"sh(wpkh(tprv8ZgxMBicQKsPeuVhWwi6wuMQGfPKi9Li5GtX35jVNknACgqe3CY4g5xgkfDDJcmtF7o1QnxWDRYw4H5P26PXq7sbcUkEqeR4fg3Kxp2tigg/0h/0h/*))\", \"range\": {\"end\": 2},  \"keys\": [\"cSWSqykYtfkrWQ5FX6rCQPEME9iBaJcpqAgsCBeJDGQdrdS8V6G4\", \"cUHbt88Mu51u2Wz4xfuEPYCiAiNFRzuNZqDEDVGfGSz12DvPMRJu\", \"cPR5WCsjJr5vM3BTcwUji7u9fCW5pQPMsywS1fCxPbe4bf2XJEKG\"], \"timestamp\": \"now\", \"keypool\": true}]'\r\n```\r\n\r\nI sent testnet coins to the first two of those keys. This means the keypool should be 1.\r\n\r\nNow add a watch-only address:\r\n\r\n```\r\nimportmulti '[{\"desc\": \"sh(wpkh(tpubD6NzVbkrYhZ4YNXVQbNhMK1WqguFsUXceaVJKbmno2aZ3B6QfbMeraaYvnBSGpV3vxLyTTK9DYT1yoEck4XUScMzXoQ2U2oSmE2JyMedq3H/0h/0h/*))\", \"range\": {\"start\": 3, \"end\": 3}, \"timestamp\": \"now\", \"keypool\": true, \"watchonly\": true}]'\r\n```\r\n\r\nRestart QT and notice there's a watch-only column. Generate addresses to deplete the keypool and restart QT, notice the watch-only column goes away and your balance now shows zero.\r\n\r\nThere's a few other QT glitches too, but not necessarily new:\r\n* balances don't update after `importmulti`, you have to restart QT\r\n* HD indicated doesn't update",
    "created_at": "2019-02-10T17:55:34Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255347804",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255347804"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255347804"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255347804/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 164,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255348169",
    "pull_request_review_id": 201911575,
    "id": 255348169,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM0ODE2OQ==",
    "diff_hunk": "@@ -184,7 +184,7 @@ void OverviewPage::setBalance(const interfaces::WalletBalances& balances)\n     // for symmetry reasons also show immature label when the watch-only one is shown\n     ui->labelImmature->setVisible(showImmature || showWatchOnlyImmature);\n     ui->labelImmatureText->setVisible(showImmature || showWatchOnlyImmature);\n-    ui->labelWatchImmature->setVisible(!walletModel->privateKeysDisabled() && showWatchOnlyImmature); // show watch-only immature balance\n+    ui->labelWatchImmature->setVisible(walletModel->canGetAddresses() && showWatchOnlyImmature); // show watch-only immature balance",
    "path": "src/qt/overviewpage.cpp",
    "position": null,
    "original_position": 14,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "5c73073d18df77226cf49ea2de8efc946ed4476d",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Same as above, but even more rare.",
    "created_at": "2019-02-10T18:06:26Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255348169",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255348169"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255348169"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255348169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 187,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255348210",
    "pull_request_review_id": 201911575,
    "id": 255348210,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM0ODIxMA==",
    "diff_hunk": "@@ -2756,7 +2756,7 @@ bool CWallet::CreateTransaction(interfaces::Chain::Lock& locked_chain, const std\n                 //  post-backup change.\n \n                 // Reserve a new key pair from key pool\n-                if (IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+                if (!CanGetAddresses(true)) {\n                     strFailReason = _(\"Can't generate a change-address key. Private keys are disabled for this wallet.\");",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "5c73073d18df77226cf49ea2de8efc946ed4476d",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: drop / tweak \"Private keys are disabled for this wallet.\"",
    "created_at": "2019-02-10T18:07:36Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255348210",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255348210"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255348210"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255348210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2760,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255348392",
    "pull_request_review_id": 201911575,
    "id": 255348392,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM0ODM5Mg==",
    "diff_hunk": "@@ -3417,7 +3417,8 @@ bool CWallet::ReserveKeyFromKeyPool(int64_t& nIndex, CKeyPool& keypool, bool fRe\n         if (!IsLocked())\n             TopUpKeyPool();\n \n-        bool fReturningInternal = IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT) && fRequestedInternal;\n+        bool fReturningInternal = fRequestedInternal;\n+        fReturningInternal &= (IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT)) || IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS);",
    "path": "src/wallet/wallet.cpp",
    "position": 69,
    "original_position": 15,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "5c73073d18df77226cf49ea2de8efc946ed4476d",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, add `HasHDSeed()` to complement `IsHDEnabled()`, and make it more clear what you're checking:\r\n```cpp\r\n// All WALLET_FLAG_DISABLE_PRIVATE_KEYS wallets were created after HD_SPLIT was added.\r\nconst bool fSupportsInternal = (HasHDSeed() && IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) || CanSupportFeature(FEATURE_HD_SPLIT)\r\nbool fReturningInternal = fRequestedInternal & fSupportsInternal;\r\n```",
    "created_at": "2019-02-10T18:12:29Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255348392",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255348392"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255348392"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255348392/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3491,
    "original_line": 3491,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255349233",
    "pull_request_review_id": 201911575,
    "id": 255349233,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM0OTIzMw==",
    "diff_hunk": "@@ -993,6 +993,7 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n     bool NewKeyPool();\n     size_t KeypoolCountExternalKeys() EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n     bool TopUpKeyPool(unsigned int kpSize = 0);\n+    void AddKeypoolPubkey(const CPubKey& pubkey, const bool internal);",
    "path": "src/wallet/wallet.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "dffff150e98fc96c98e9e8caf40cec7391bbebfb",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: call this new function from `TopUpKeyPool`, so it's more clear this function reuses existing code. It could take a `error_message` and an optional `WalletBatch` argument. If `WalletBatch` is set it should skip `NotifyCanGetAddressesChanged()`, though that gets a bit ugly.",
    "created_at": "2019-02-10T18:34:15Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255349233",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255349233"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255349233"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255349233/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1004,
    "original_line": 1004,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354746",
    "pull_request_review_id": 201920841,
    "id": 255354746,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM1NDc0Ng==",
    "diff_hunk": "@@ -625,6 +625,74 @@ def run_test(self):\n                      ismine=False,\n                      iswatchonly=False)\n \n+        # Import some public keys to the keypool of a no privkey wallet\n+        self.log.info(\"Adding pubkey to keypool of disableprivkey wallet\")\n+        self.nodes[1].createwallet(wallet_name=\"noprivkeys\", disable_private_keys=True)\n+        wrpc = self.nodes[1].get_wallet_rpc(\"noprivkeys\")\n+\n+        addr1 = self.nodes[0].getnewaddress()\n+        addr2 = self.nodes[0].getnewaddress()\n+        pub1 = self.nodes[0].getaddressinfo(addr1)['pubkey']\n+        pub2 = self.nodes[0].getaddressinfo(addr2)['pubkey']\n+        result = wrpc.importmulti(\n+            [{\n+                'desc': 'wpkh(' + pub1 + ')',\n+                'keypool': True,\n+                \"timestamp\": \"now\",\n+            },\n+            {\n+                'desc': 'wpkh(' + pub2 + ')',\n+                'keypool': True,\n+                \"timestamp\": \"now\",\n+            }]\n+        )\n+        assert result[0]['success']\n+        assert result[1]['success']\n+        newaddr1 = wrpc.getnewaddress()\n+        assert_equal(addr1, newaddr1)\n+        newaddr2 = wrpc.getnewaddress()\n+        assert_equal(addr2, newaddr2)\n+\n+        # Import some public keys to the internal keypool of a no privkey wallet\n+        self.log.info(\"Adding pubkey to internal keypool of disableprivkey wallet\")\n+        addr1 = self.nodes[0].getnewaddress()\n+        addr2 = self.nodes[0].getnewaddress()\n+        pub1 = self.nodes[0].getaddressinfo(addr1)['pubkey']\n+        pub2 = self.nodes[0].getaddressinfo(addr2)['pubkey']\n+        result = wrpc.importmulti(\n+            [{\n+                'desc': 'wpkh(' + pub1 + ')',\n+                'keypool': True,\n+                'internal': True,\n+                \"timestamp\": \"now\",\n+            },\n+            {\n+                'desc': 'wpkh(' + pub2 + ')',\n+                'keypool': True,\n+                'internal': True,\n+                \"timestamp\": \"now\",\n+            }]\n+        )\n+        assert result[0]['success']\n+        assert result[1]['success']",
    "path": "test/functional/wallet_importmulti.py",
    "position": 62,
    "original_position": 53,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "7369e1a459bd0a033ad0e83f340bb0e05ca49566",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-02-10T20:43:41Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255354746",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354746"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255354746"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 743,
    "original_line": 743,
    "side": "RIGHT",
    "in_reply_to_id": 255345358
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354763",
    "pull_request_review_id": 201920854,
    "id": 255354763,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM1NDc2Mw==",
    "diff_hunk": "@@ -1202,7 +1202,7 @@ void BitcoinGUI::updateWalletStatus()\n     }\n     WalletModel * const walletModel = walletView->getWalletModel();\n     setEncryptionStatus(walletModel->getEncryptionStatus());\n-    setHDStatus(walletModel->privateKeysDisabled(), walletModel->wallet().hdEnabled());\n+    setHDStatus(!walletModel->canGetAddresses(), walletModel->wallet().hdEnabled());",
    "path": "src/qt/bitcoingui.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "5c73073d18df77226cf49ea2de8efc946ed4476d",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I've reverted this change.",
    "created_at": "2019-02-10T20:43:55Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255354763",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354763"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255354763"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1205,
    "side": "RIGHT",
    "in_reply_to_id": 255346203
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354773",
    "pull_request_review_id": 201920867,
    "id": 255354773,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM1NDc3Mw==",
    "diff_hunk": "@@ -161,7 +161,7 @@ void OverviewPage::setBalance(const interfaces::WalletBalances& balances)\n {\n     int unit = walletModel->getOptionsModel()->getDisplayUnit();\n     m_balances = balances;\n-    if (walletModel->privateKeysDisabled()) {\n+    if (!walletModel->canGetAddresses()) {",
    "path": "src/qt/overviewpage.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "5c73073d18df77226cf49ea2de8efc946ed4476d",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I reverted that change",
    "created_at": "2019-02-10T20:44:05Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255354773",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354773"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255354773"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 164,
    "side": "RIGHT",
    "in_reply_to_id": 255347804
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354781",
    "pull_request_review_id": 201920876,
    "id": 255354781,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM1NDc4MQ==",
    "diff_hunk": "@@ -184,7 +184,7 @@ void OverviewPage::setBalance(const interfaces::WalletBalances& balances)\n     // for symmetry reasons also show immature label when the watch-only one is shown\n     ui->labelImmature->setVisible(showImmature || showWatchOnlyImmature);\n     ui->labelImmatureText->setVisible(showImmature || showWatchOnlyImmature);\n-    ui->labelWatchImmature->setVisible(!walletModel->privateKeysDisabled() && showWatchOnlyImmature); // show watch-only immature balance\n+    ui->labelWatchImmature->setVisible(walletModel->canGetAddresses() && showWatchOnlyImmature); // show watch-only immature balance",
    "path": "src/qt/overviewpage.cpp",
    "position": null,
    "original_position": 14,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "5c73073d18df77226cf49ea2de8efc946ed4476d",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Reverted",
    "created_at": "2019-02-10T20:44:24Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255354781",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354781"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255354781"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 187,
    "side": "RIGHT",
    "in_reply_to_id": 255348169
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354839",
    "pull_request_review_id": 201920939,
    "id": 255354839,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM1NDgzOQ==",
    "diff_hunk": "@@ -993,6 +993,7 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n     bool NewKeyPool();\n     size_t KeypoolCountExternalKeys() EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n     bool TopUpKeyPool(unsigned int kpSize = 0);\n+    void AddKeypoolPubkey(const CPubKey& pubkey, const bool internal);",
    "path": "src/wallet/wallet.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "dffff150e98fc96c98e9e8caf40cec7391bbebfb",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I added a function `AddKeypoolPubkeyWithDB` which `TopUpKeypool` calls. `AddKeypoolPubkey` will make the `WalletBatch`, call `AddKeypoolPubkeyWithDB` and then ``NotifyCanGetAddressesChanged``.",
    "created_at": "2019-02-10T20:45:55Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255354839",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354839"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255354839"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354839/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1004,
    "original_line": 1004,
    "side": "RIGHT",
    "in_reply_to_id": 255349233
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354927",
    "pull_request_review_id": 201921039,
    "id": 255354927,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM1NDkyNw==",
    "diff_hunk": "@@ -3417,7 +3417,8 @@ bool CWallet::ReserveKeyFromKeyPool(int64_t& nIndex, CKeyPool& keypool, bool fRe\n         if (!IsLocked())\n             TopUpKeyPool();\n \n-        bool fReturningInternal = IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT) && fRequestedInternal;\n+        bool fReturningInternal = fRequestedInternal;\n+        fReturningInternal &= (IsHDEnabled() && CanSupportFeature(FEATURE_HD_SPLIT)) || IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS);",
    "path": "src/wallet/wallet.cpp",
    "position": 69,
    "original_position": 15,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "5c73073d18df77226cf49ea2de8efc946ed4476d",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "We can do that later.",
    "created_at": "2019-02-10T20:48:17Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255354927",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354927"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255354927"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255354927/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3491,
    "original_line": 3491,
    "side": "RIGHT",
    "in_reply_to_id": 255348392
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255355290",
    "pull_request_review_id": 201921308,
    "id": 255355290,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM1NTI5MA==",
    "diff_hunk": "@@ -2756,7 +2756,7 @@ bool CWallet::CreateTransaction(interfaces::Chain::Lock& locked_chain, const std\n                 //  post-backup change.\n \n                 // Reserve a new key pair from key pool\n-                if (IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+                if (!CanGetAddresses(true)) {\n                     strFailReason = _(\"Can't generate a change-address key. Private keys are disabled for this wallet.\");",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "5c73073d18df77226cf49ea2de8efc946ed4476d",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Changed.",
    "created_at": "2019-02-10T20:54:42Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255355290",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255355290"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255355290"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255355290/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2760,
    "side": "RIGHT",
    "in_reply_to_id": 255348210
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255377738",
    "pull_request_review_id": 201947153,
    "id": 255377738,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3NzczOA==",
    "diff_hunk": "@@ -625,6 +625,76 @@ def run_test(self):\n                      ismine=False,\n                      iswatchonly=False)\n \n+        # Import some public keys to the keypool of a no privkey wallet",
    "path": "test/functional/wallet_importmulti.py",
    "position": 12,
    "original_position": 4,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "70ec7598a31a12383ec31ba8ff6f2fca33834bd9",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "A test showing that importing some non-single-pubkey addresses using descriptors doesn't cause the keypool to grow seems apt.",
    "created_at": "2019-02-11T04:01:57Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255377738",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255377738"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255377738"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255377738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 693,
    "original_line": 693,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255380700",
    "pull_request_review_id": 201950679,
    "id": 255380700,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM4MDcwMA==",
    "diff_hunk": "@@ -625,6 +625,76 @@ def run_test(self):\n                      ismine=False,\n                      iswatchonly=False)\n \n+        # Import some public keys to the keypool of a no privkey wallet",
    "path": "test/functional/wallet_importmulti.py",
    "position": 12,
    "original_position": 4,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "70ec7598a31a12383ec31ba8ff6f2fca33834bd9",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-02-11T04:45:50Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255380700",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255380700"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r255380700"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255380700/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 693,
    "original_line": 693,
    "side": "RIGHT",
    "in_reply_to_id": 255377738
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256977707",
    "pull_request_review_id": 203927499,
    "id": 256977707,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Njk3NzcwNw==",
    "diff_hunk": "@@ -625,6 +625,119 @@ def run_test(self):\n                      ismine=False,\n                      iswatchonly=False)\n \n+        # Import some public keys to the keypool of a no privkey wallet\n+        self.log.info(\"Adding pubkey to keypool of disableprivkey wallet\")\n+        self.nodes[1].createwallet(wallet_name=\"noprivkeys\", disable_private_keys=True)\n+        wrpc = self.nodes[1].get_wallet_rpc(\"noprivkeys\")\n+\n+        addr1 = self.nodes[0].getnewaddress()\n+        addr2 = self.nodes[0].getnewaddress()\n+        pub1 = self.nodes[0].getaddressinfo(addr1)['pubkey']\n+        pub2 = self.nodes[0].getaddressinfo(addr2)['pubkey']\n+        result = wrpc.importmulti(\n+            [{\n+                'desc': 'wpkh(' + pub1 + ')',\n+                'keypool': True,\n+                \"timestamp\": \"now\",\n+            },\n+            {\n+                'desc': 'wpkh(' + pub2 + ')',\n+                'keypool': True,\n+                \"timestamp\": \"now\",\n+            }]\n+        )\n+        assert result[0]['success']\n+        assert result[1]['success']\n+        assert_equal(wrpc.getwalletinfo()[\"keypoolsize\"], 2)\n+        newaddr1 = wrpc.getnewaddress()\n+        assert_equal(addr1, newaddr1)\n+        newaddr2 = wrpc.getnewaddress()\n+        assert_equal(addr2, newaddr2)\n+\n+        # Import some public keys to the internal keypool of a no privkey wallet\n+        self.log.info(\"Adding pubkey to internal keypool of disableprivkey wallet\")\n+        addr1 = self.nodes[0].getnewaddress()\n+        addr2 = self.nodes[0].getnewaddress()\n+        pub1 = self.nodes[0].getaddressinfo(addr1)['pubkey']\n+        pub2 = self.nodes[0].getaddressinfo(addr2)['pubkey']\n+        result = wrpc.importmulti(\n+            [{\n+                'desc': 'wpkh(' + pub1 + ')',\n+                'keypool': True,\n+                'internal': True,\n+                \"timestamp\": \"now\",\n+            },\n+            {\n+                'desc': 'wpkh(' + pub2 + ')',\n+                'keypool': True,\n+                'internal': True,\n+                \"timestamp\": \"now\",\n+            }]\n+        )\n+        assert result[0]['success']\n+        assert result[1]['success']\n+        assert_equal(wrpc.getwalletinfo()[\"keypoolsize_hd_internal\"], 2)\n+        newaddr1 = wrpc.getrawchangeaddress()\n+        assert_equal(addr1, newaddr1)\n+        newaddr2 = wrpc.getrawchangeaddress()\n+        assert_equal(addr2, newaddr2)\n+\n+        # Import a multisig and make sure the keys don't go into the keypool\n+        self.log.info('Imported scripts with pubkeys shoud not have their pubkeys go into the keypool')\n+        addr1 = self.nodes[0].getnewaddress()\n+        addr2 = self.nodes[0].getnewaddress()\n+        pub1 = self.nodes[0].getaddressinfo(addr1)['pubkey']\n+        pub2 = self.nodes[0].getaddressinfo(addr2)['pubkey']\n+        result = wrpc.importmulti(\n+            [{\n+                'desc': 'wsh(multi(2,' + pub1 + ',' + pub2 + '))',\n+                'keypool': True,\n+                \"timestamp\": \"now\",\n+            }]\n+        )\n+        assert result[0]['success']\n+        assert_equal(wrpc.getwalletinfo()[\"keypoolsize\"], 0)\n+\n+        # Cannot import those pubkeys to keypool of wallet with privkeys\n+        self.log.info(\"Pubkeys cannot be added to the keypool of a wallet with private keys\")\n+        wrpc = self.nodes[1].get_wallet_rpc(\"\")\n+        assert wrpc.getwalletinfo()['private_keys_enabled']\n+        result = wrpc.importmulti(\n+            [{\n+                'desc': 'wpkh(' + pub1 + ')',\n+                'keypool': True,\n+                \"timestamp\": \"now\",\n+            }]\n+        )\n+        assert_equal(result[0]['error']['code'], -8)\n+        assert_equal(result[0]['error']['message'], \"Keys can only be imported to the keypool when private keys are disabled\")\n+\n+        # Make sure ranged imports import keys in order\n+        self.log.info('Key ranges should be imported in order')\n+        wrpc = self.nodes[1].get_wallet_rpc(\"noprivkeys\")\n+        assert_equal(wrpc.getwalletinfo()[\"keypoolsize\"], 0)\n+        assert_equal(wrpc.getwalletinfo()[\"private_keys_enabled\"], False)\n+        xpriv = \"tpubD6NzVbkrYhZ4YNXVQbNhMK1WqguFsUXceaVJKbmno2aZ3B6QfbMeraaYvnBSGpV3vxLyTTK9DYT1yoEck4XUScMzXoQ2U2oSmE2JyMedq3H\"\n+        addresses = [\n+            'bcrt1qtmp74ayg7p24uslctssvjm06q5phz4yrxucgnv', # m/0'/0'/0\n+            'bcrt1q8vprchan07gzagd5e6v9wd7azyucksq2xc76k8', # m/0'/0'/1\n+            'bcrt1qtuqdtha7zmqgcrr26n2rqxztv5y8rafjp9lulu', # m/0'/0'/2\n+            'bcrt1qau64272ymawq26t90md6an0ps99qkrse58m640', # m/0'/0'/3\n+            'bcrt1qsg97266hrh6cpmutqen8s4s962aryy77jp0fg0', # m/0'/0'/4\n+        ]\n+        result = wrpc.importmulti(\n+            [{\n+                'desc': 'wpkh(' + xpub + '/0h/0h/*' + ')',",
    "path": "test/functional/wallet_importmulti.py",
    "position": null,
    "original_position": 106,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "0f9f035449e34a9c6e8ed32d3e56afe7a665f538",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```\r\n./test/functional/wallet_importmulti.py:730:35: F821 undefined name 'xpub'\r\n```",
    "created_at": "2019-02-14T19:26:41Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r256977707",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256977707"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r256977707"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256977707/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 730,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256978847",
    "pull_request_review_id": 203928903,
    "id": 256978847,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Njk3ODg0Nw==",
    "diff_hunk": "@@ -625,6 +625,119 @@ def run_test(self):\n                      ismine=False,\n                      iswatchonly=False)\n \n+        # Import some public keys to the keypool of a no privkey wallet\n+        self.log.info(\"Adding pubkey to keypool of disableprivkey wallet\")\n+        self.nodes[1].createwallet(wallet_name=\"noprivkeys\", disable_private_keys=True)\n+        wrpc = self.nodes[1].get_wallet_rpc(\"noprivkeys\")\n+\n+        addr1 = self.nodes[0].getnewaddress()\n+        addr2 = self.nodes[0].getnewaddress()\n+        pub1 = self.nodes[0].getaddressinfo(addr1)['pubkey']\n+        pub2 = self.nodes[0].getaddressinfo(addr2)['pubkey']\n+        result = wrpc.importmulti(\n+            [{\n+                'desc': 'wpkh(' + pub1 + ')',\n+                'keypool': True,\n+                \"timestamp\": \"now\",\n+            },\n+            {\n+                'desc': 'wpkh(' + pub2 + ')',\n+                'keypool': True,\n+                \"timestamp\": \"now\",\n+            }]\n+        )\n+        assert result[0]['success']\n+        assert result[1]['success']\n+        assert_equal(wrpc.getwalletinfo()[\"keypoolsize\"], 2)\n+        newaddr1 = wrpc.getnewaddress()\n+        assert_equal(addr1, newaddr1)\n+        newaddr2 = wrpc.getnewaddress()\n+        assert_equal(addr2, newaddr2)\n+\n+        # Import some public keys to the internal keypool of a no privkey wallet\n+        self.log.info(\"Adding pubkey to internal keypool of disableprivkey wallet\")\n+        addr1 = self.nodes[0].getnewaddress()\n+        addr2 = self.nodes[0].getnewaddress()\n+        pub1 = self.nodes[0].getaddressinfo(addr1)['pubkey']\n+        pub2 = self.nodes[0].getaddressinfo(addr2)['pubkey']\n+        result = wrpc.importmulti(\n+            [{\n+                'desc': 'wpkh(' + pub1 + ')',\n+                'keypool': True,\n+                'internal': True,\n+                \"timestamp\": \"now\",\n+            },\n+            {\n+                'desc': 'wpkh(' + pub2 + ')',\n+                'keypool': True,\n+                'internal': True,\n+                \"timestamp\": \"now\",\n+            }]\n+        )\n+        assert result[0]['success']\n+        assert result[1]['success']\n+        assert_equal(wrpc.getwalletinfo()[\"keypoolsize_hd_internal\"], 2)\n+        newaddr1 = wrpc.getrawchangeaddress()\n+        assert_equal(addr1, newaddr1)\n+        newaddr2 = wrpc.getrawchangeaddress()\n+        assert_equal(addr2, newaddr2)\n+\n+        # Import a multisig and make sure the keys don't go into the keypool\n+        self.log.info('Imported scripts with pubkeys shoud not have their pubkeys go into the keypool')\n+        addr1 = self.nodes[0].getnewaddress()\n+        addr2 = self.nodes[0].getnewaddress()\n+        pub1 = self.nodes[0].getaddressinfo(addr1)['pubkey']\n+        pub2 = self.nodes[0].getaddressinfo(addr2)['pubkey']\n+        result = wrpc.importmulti(\n+            [{\n+                'desc': 'wsh(multi(2,' + pub1 + ',' + pub2 + '))',\n+                'keypool': True,\n+                \"timestamp\": \"now\",\n+            }]\n+        )\n+        assert result[0]['success']\n+        assert_equal(wrpc.getwalletinfo()[\"keypoolsize\"], 0)\n+\n+        # Cannot import those pubkeys to keypool of wallet with privkeys\n+        self.log.info(\"Pubkeys cannot be added to the keypool of a wallet with private keys\")\n+        wrpc = self.nodes[1].get_wallet_rpc(\"\")\n+        assert wrpc.getwalletinfo()['private_keys_enabled']\n+        result = wrpc.importmulti(\n+            [{\n+                'desc': 'wpkh(' + pub1 + ')',\n+                'keypool': True,\n+                \"timestamp\": \"now\",\n+            }]\n+        )\n+        assert_equal(result[0]['error']['code'], -8)\n+        assert_equal(result[0]['error']['message'], \"Keys can only be imported to the keypool when private keys are disabled\")\n+\n+        # Make sure ranged imports import keys in order\n+        self.log.info('Key ranges should be imported in order')\n+        wrpc = self.nodes[1].get_wallet_rpc(\"noprivkeys\")\n+        assert_equal(wrpc.getwalletinfo()[\"keypoolsize\"], 0)\n+        assert_equal(wrpc.getwalletinfo()[\"private_keys_enabled\"], False)\n+        xpriv = \"tpubD6NzVbkrYhZ4YNXVQbNhMK1WqguFsUXceaVJKbmno2aZ3B6QfbMeraaYvnBSGpV3vxLyTTK9DYT1yoEck4XUScMzXoQ2U2oSmE2JyMedq3H\"\n+        addresses = [\n+            'bcrt1qtmp74ayg7p24uslctssvjm06q5phz4yrxucgnv', # m/0'/0'/0\n+            'bcrt1q8vprchan07gzagd5e6v9wd7azyucksq2xc76k8', # m/0'/0'/1\n+            'bcrt1qtuqdtha7zmqgcrr26n2rqxztv5y8rafjp9lulu', # m/0'/0'/2\n+            'bcrt1qau64272ymawq26t90md6an0ps99qkrse58m640', # m/0'/0'/3\n+            'bcrt1qsg97266hrh6cpmutqen8s4s962aryy77jp0fg0', # m/0'/0'/4\n+        ]\n+        result = wrpc.importmulti(\n+            [{\n+                'desc': 'wpkh(' + xpub + '/0h/0h/*' + ')',",
    "path": "test/functional/wallet_importmulti.py",
    "position": null,
    "original_position": 106,
    "commit_id": "f4b00b70e811d3772589ab3c64d7658f4dbdab69",
    "original_commit_id": "0f9f035449e34a9c6e8ed32d3e56afe7a665f538",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Whoops",
    "created_at": "2019-02-14T19:29:51Z",
    "updated_at": "2019-02-14T23:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r256978847",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256978847"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14075#discussion_r256978847"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14075"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256978847/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 730,
    "side": "RIGHT",
    "in_reply_to_id": 256977707
  }
]