[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643422188",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#issuecomment-643422188",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19260",
    "id": 643422188,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MzQyMjE4OA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-12T18:25:26Z",
    "updated_at": "2020-06-12T18:25:26Z",
    "author_association": "MEMBER",
    "body": "Concept ACK. There shouldn't be a reason for a node to send filterclear when we haven't offered them bloom services to them.\r\n\r\nSee also BIP 111: \r\n\r\n> If a node does not support bloom filters but receives a \"filterload\", \"filteradd\", or \"filterclear\" message from a peer the node should disconnect that peer immediately\r\n\r\nhttps://github.com/bitcoin/bips/blob/master/bip-0111.mediawiki\r\n\r\nnit: I think this is a good opportunity to move the disconnect handling of `NetMsgType::FILTERLOAD` and ` NetMsgType::FILTERADD` into the respective scope of the switch statement instead of having it at the top of the function, disconnected from the actual filter message handling.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643422188/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643557995",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#issuecomment-643557995",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19260",
    "id": 643557995,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MzU1Nzk5NQ==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-13T02:50:10Z",
    "updated_at": "2020-06-14T04:28:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19252 (test: wait for disconnect in disconnect_p2ps + bloomfilter test followups by gzhao408)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643557995/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643701023",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#issuecomment-643701023",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19260",
    "id": 643701023,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MzcwMTAyMw==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-14T00:42:40Z",
    "updated_at": "2020-06-14T00:42:40Z",
    "author_association": "MEMBER",
    "body": "Code review ACK 18a2e0a3f7071b8df6b20ecc1b34b3f2abb13cfc\r\n\r\nGreat tidy-up. Thanks Gloria!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643701023/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643730843",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#issuecomment-643730843",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19260",
    "id": 643730843,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MzczMDg0Mw==",
    "user": {
      "login": "naumenkogs",
      "id": 7975071,
      "node_id": "MDQ6VXNlcjc5NzUwNzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7975071?u=06eb9ae4f9b3f954056098860decccbf1340e40f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/naumenkogs",
      "html_url": "https://github.com/naumenkogs",
      "followers_url": "https://api.github.com/users/naumenkogs/followers",
      "following_url": "https://api.github.com/users/naumenkogs/following{/other_user}",
      "gists_url": "https://api.github.com/users/naumenkogs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
      "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
      "repos_url": "https://api.github.com/users/naumenkogs/repos",
      "events_url": "https://api.github.com/users/naumenkogs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-14T07:35:55Z",
    "updated_at": "2020-06-14T07:36:04Z",
    "author_association": "MEMBER",
    "body": "utACK 18a2e0a\r\n\r\nI was somewhat confused by the last commit, because the description of the PR is about `filterclear`, but the last commit has absolutely nothing to do with `filterclear`.\r\nNot sure if we want to do anything about it :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643730843/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644058579",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#issuecomment-644058579",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19260",
    "id": 644058579,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDA1ODU3OQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-15T10:59:19Z",
    "updated_at": "2020-06-15T10:59:19Z",
    "author_association": "MEMBER",
    "body": "re-ACK 3a10d935ac only change is replacing false with true \ud83d\ude9d\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nre-ACK 3a10d935ac only change is replacing false with true \ud83d\ude9d\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUiicAwAuImcvIy26lnaw4VoTkzdS0iEgf2zA6xyuFKb3zUCSKpX80mPbnrdDxue\r\n32BIzcZfgyy5FvhWuJddItl3wEdmnyJK/1vZqRogs/Q4oljfVaDxzdIPKc3lhoG/\r\nGNOut9oyn0WAhL26QQDdqWwCq94GFJ7DSClIfsozyXQcs61ylKQULEBpP039uR1R\r\n/PQEKZoS8t2ThDQXHgcLmC04QYARp8PX5RvSBbxFQz75Kl9vUD9Qfs3/KlCHBThU\r\ndKwWnLt/yQp3w0Wz4XVgjborfhgeLVVzmvkBRZboFEMXJPaC1OkinxS3nydh6MYz\r\n7fMTVM61b95qy21pBSr0iT8T/gslbr7sj2H9OEkfU7t8s096qnPfVgd/qTtMmneR\r\nv5NN9WVf9SXq8nmhGZQPLL/gehW1RGC99vSL3MwrQQwspz13lU+3wAXEGV16k7Py\r\nuFKUrHkUlNitTxn9vFWoeTLIlWFtJ6Qc2B6dc3wMJ7k1KHfv2yI1CA1OcdO4osNv\r\npRAS6UPd\r\n=ZuJt\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `d49fb833782cb07ba218eb5ea866b2c2f12e58a1ac6670b3a225942fdd3a8e52  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e892940108d49fb833782cb07ba218eb5ea866b2c2f12e58a1ac6670b3a225942fdd3a8e52f0103c04b8c6d8a1b725bb8031c53f57b9d108fff0107c17668fb0d82be83eef6731e41506b808f1045ee7547cf008a80c1881e09b04be0083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff010ace2c1ce54b81da5a48e5bebd5a4385108f0208ea4598e8802f435f56f7d8c101decd080a2814c8962b6b28136630218f9926908f1045ee7547ef008cecf3530c651d82e0083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6df010bba6ccc6d73c82c96b9749ba67d7925a08f1045ee7547cf0081c33a0e9f53e4e320083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267)\r\n\r\n</details>\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644058579/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644131218",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#issuecomment-644131218",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19260",
    "id": 644131218,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDEzMTIxOA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-15T13:21:25Z",
    "updated_at": "2020-06-15T13:21:25Z",
    "author_association": "MEMBER",
    "body": "Code review ACK 3a10d935ac8ebabdfd336569d943f042ff84b13e",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644131218/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644262136",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#issuecomment-644262136",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19260",
    "id": 644262136,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDI2MjEzNg==",
    "user": {
      "login": "gillichu",
      "id": 13020431,
      "node_id": "MDQ6VXNlcjEzMDIwNDMx",
      "avatar_url": "https://avatars.githubusercontent.com/u/13020431?u=3de82ec7644e5b402dafa00d532b5771da5bb705&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gillichu",
      "html_url": "https://github.com/gillichu",
      "followers_url": "https://api.github.com/users/gillichu/followers",
      "following_url": "https://api.github.com/users/gillichu/following{/other_user}",
      "gists_url": "https://api.github.com/users/gillichu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gillichu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gillichu/subscriptions",
      "organizations_url": "https://api.github.com/users/gillichu/orgs",
      "repos_url": "https://api.github.com/users/gillichu/repos",
      "events_url": "https://api.github.com/users/gillichu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gillichu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-15T17:16:36Z",
    "updated_at": "2020-06-15T17:16:36Z",
    "author_association": "NONE",
    "body": "Concept ACK, I just learned a lot about how bloom filters are used in Bitcoin. ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644262136/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644312380",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#issuecomment-644312380",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19260",
    "id": 644312380,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDMxMjM4MA==",
    "user": {
      "login": "gillichu",
      "id": 13020431,
      "node_id": "MDQ6VXNlcjEzMDIwNDMx",
      "avatar_url": "https://avatars.githubusercontent.com/u/13020431?u=3de82ec7644e5b402dafa00d532b5771da5bb705&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gillichu",
      "html_url": "https://github.com/gillichu",
      "followers_url": "https://api.github.com/users/gillichu/followers",
      "following_url": "https://api.github.com/users/gillichu/following{/other_user}",
      "gists_url": "https://api.github.com/users/gillichu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gillichu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gillichu/subscriptions",
      "organizations_url": "https://api.github.com/users/gillichu/orgs",
      "repos_url": "https://api.github.com/users/gillichu/repos",
      "events_url": "https://api.github.com/users/gillichu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gillichu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-15T18:46:58Z",
    "updated_at": "2020-06-15T18:47:58Z",
    "author_association": "NONE",
    "body": "tested ACK: quick test_runner on macOS [`3a10d93`](https://github.com/bitcoin/bitcoin/commit/3a10d935ac8ebabdfd336569d943f042ff84b13e)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644312380/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644313610",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#issuecomment-644313610",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19260",
    "id": 644313610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDMxMzYxMA==",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?u=3e27bc6589085f3450be1b0e969d04008cc77565&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url": "https://api.github.com/users/glozow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-15T18:49:25Z",
    "updated_at": "2020-06-15T18:49:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "\ud83d\ude02  Thanks @gillichu, I really appreciate the effort \ud83d\ude4f  \r\n\r\nIt's \\[\\`commit\\`\\]\\(link\\)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644313610/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644383655",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#issuecomment-644383655",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19260",
    "id": 644383655,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDM4MzY1NQ==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-15T20:53:32Z",
    "updated_at": "2020-06-15T20:53:32Z",
    "author_association": "MEMBER",
    "body": "> It's \\[\\`commit\\`\\]\\(link\\)\r\n\r\nNo need to use markdown for links to the commit hash. Just paste the full hash and github will automatically convert it to a link to commit.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644383655/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644403226",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#issuecomment-644403226",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19260",
    "id": 644403226,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDQwMzIyNg==",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?u=3e27bc6589085f3450be1b0e969d04008cc77565&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url": "https://api.github.com/users/glozow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-15T21:36:03Z",
    "updated_at": "2020-06-15T21:36:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Just paste the full hash and github will automatically convert it to a link to commit.\r\n\r\nWHAT I've been using markdown this whole time \ud83d\ude2d ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644403226/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 2,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644563951",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#issuecomment-644563951",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19260",
    "id": 644563951,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDU2Mzk1MQ==",
    "user": {
      "login": "naumenkogs",
      "id": 7975071,
      "node_id": "MDQ6VXNlcjc5NzUwNzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7975071?u=06eb9ae4f9b3f954056098860decccbf1340e40f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/naumenkogs",
      "html_url": "https://github.com/naumenkogs",
      "followers_url": "https://api.github.com/users/naumenkogs/followers",
      "following_url": "https://api.github.com/users/naumenkogs/following{/other_user}",
      "gists_url": "https://api.github.com/users/naumenkogs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
      "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
      "repos_url": "https://api.github.com/users/naumenkogs/repos",
      "events_url": "https://api.github.com/users/naumenkogs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-16T06:39:42Z",
    "updated_at": "2020-06-16T06:39:42Z",
    "author_association": "MEMBER",
    "body": "utACK 3a10d93",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644563951/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/831076188",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#issuecomment-831076188",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19260",
    "id": 831076188,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMTA3NjE4OA==",
    "user": {
      "login": "rebroad",
      "id": 1530283,
      "node_id": "MDQ6VXNlcjE1MzAyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1530283?u=6a4a31aaddbc438e053c52d084a698a5f622f1ea&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rebroad",
      "html_url": "https://github.com/rebroad",
      "followers_url": "https://api.github.com/users/rebroad/followers",
      "following_url": "https://api.github.com/users/rebroad/following{/other_user}",
      "gists_url": "https://api.github.com/users/rebroad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rebroad/subscriptions",
      "organizations_url": "https://api.github.com/users/rebroad/orgs",
      "repos_url": "https://api.github.com/users/rebroad/repos",
      "events_url": "https://api.github.com/users/rebroad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rebroad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-03T07:24:11Z",
    "updated_at": "2021-05-03T07:33:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Concept ACK. There shouldn't be a reason for a node to send filterclear when we haven't offered them bloom services to them.\r\n> \r\n> See also BIP 111:\r\n> \r\n> > If a node does not support bloom filters but receives a \"filterload\", \"filteradd\", or \"filterclear\" message from a peer the node should disconnect that peer immediately\r\n> \r\n> https://github.com/bitcoin/bips/blob/master/bip-0111.mediawiki\r\n> \r\n> nit: I think this is a good opportunity to move the disconnect handling of `NetMsgType::FILTERLOAD` and ` NetMsgType::FILTERADD` into the respective scope of the switch statement instead of having it at the top of the function, disconnected from the actual filter message handling.\r\n\r\nfilterclear was also available to request a node sends TXs after IBD had completed, and using blocksonly at connection handshake - this worked better than using feefilter as it was part of the connection handshake, unlike feefilter, which requires a message later. \r\n\r\nAnyway, not a big issue, but seems like a lot of work to change something that already worked.\r\n\r\nAlso, bloom filters were introduced before feefilter, so older nodes are now being disrespected by not having TXs sent to them when they ask for them. We shouldn't really be breaking backwards compatibility, IMHO, unless we actually want to on purpose - e.g. is there a reason not to send TXs to old nodes?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/831076188/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/831090015",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#issuecomment-831090015",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19260",
    "id": 831090015,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMTA5MDAxNQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-03T07:52:48Z",
    "updated_at": "2021-05-03T07:52:48Z",
    "author_association": "MEMBER",
    "body": "@rebroad Please, there is no reason to leave comments on three pull requests to ask questions. The thread you created in #21839 is sufficient.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/831090015/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439644235",
    "pull_request_review_id": 430040270,
    "id": 439644235,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY0NDIzNQ==",
    "diff_hunk": "@@ -3447,6 +3433,16 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n     }\n \n     if (msg_type == NetMsgType::FILTERLOAD) {\n+        if (!(pfrom.GetLocalServices() & NODE_BLOOM)) {",
    "path": "src/net_processing.cpp",
    "position": 25,
    "original_position": 25,
    "commit_id": "3a10d935ac8ebabdfd336569d943f042ff84b13e",
    "original_commit_id": "8207e3b7e34758255149805b609752727a3a0a96",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url": "https://api.github.com/users/glozow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This code block is repeated 3 times and bloats the `ProcessMessage` function. Would a helper function like `MaybePunishNodeForBloom` be appropriate or is this fine?",
    "created_at": "2020-06-12T21:11:59Z",
    "updated_at": "2020-06-14T18:55:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439644235",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439644235"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439644235"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439644235/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3436,
    "original_line": 3436,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439701965",
    "pull_request_review_id": 430107188,
    "id": 439701965,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTcwMTk2NQ==",
    "diff_hunk": "@@ -3447,6 +3433,16 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n     }\n \n     if (msg_type == NetMsgType::FILTERLOAD) {\n+        if (!(pfrom.GetLocalServices() & NODE_BLOOM)) {",
    "path": "src/net_processing.cpp",
    "position": 25,
    "original_position": 25,
    "commit_id": "3a10d935ac8ebabdfd336569d943f042ff84b13e",
    "original_commit_id": "8207e3b7e34758255149805b609752727a3a0a96",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, but I think you can also just reduce the complexity here. I don't think there's any benefit to calling `Misbehaving()` on a peer that sends us a `FILTER*` message. Calling `Misbehaving(100)` results in us disconnecting the peer and then marking it discouraged (see #19219). Discouragement is a mechanism to prevent our limited connection slots being used up by incompatible or broken peers.\r\n\r\nSo I think we should just set `fDisconnect` for any peer that sends us a `FILTER*` message when we don't have `NODE_BLOOM` enabled, regardless of their version number.",
    "created_at": "2020-06-13T02:39:41Z",
    "updated_at": "2020-06-14T18:55:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439701965",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439701965"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439701965"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439701965/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3436,
    "original_line": 3436,
    "side": "RIGHT",
    "in_reply_to_id": 439644235
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439732937",
    "pull_request_review_id": 430133747,
    "id": 439732937,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTczMjkzNw==",
    "diff_hunk": "@@ -3447,6 +3433,16 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n     }\n \n     if (msg_type == NetMsgType::FILTERLOAD) {\n+        if (!(pfrom.GetLocalServices() & NODE_BLOOM)) {",
    "path": "src/net_processing.cpp",
    "position": 25,
    "original_position": 25,
    "commit_id": "3a10d935ac8ebabdfd336569d943f042ff84b13e",
    "original_commit_id": "8207e3b7e34758255149805b609752727a3a0a96",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In theory it is possible to set `-banscore=101` to not disconnect a 100-misbehaving peer. Though, that would only kick down the can by one more message. I can't see a use case for that and encouraging users to change banscore to accomodate misbehaving light clients seems ill-advised. So I agree with the suggestion made by @jnewbery (simply make an fDisconnect)",
    "created_at": "2020-06-13T11:46:46Z",
    "updated_at": "2020-06-14T18:55:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439732937",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439732937"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439732937"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439732937/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3436,
    "original_line": 3436,
    "side": "RIGHT",
    "in_reply_to_id": 439644235
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439744787",
    "pull_request_review_id": 430144399,
    "id": 439744787,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc0NDc4Nw==",
    "diff_hunk": "@@ -3447,6 +3433,16 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n     }\n \n     if (msg_type == NetMsgType::FILTERLOAD) {\n+        if (!(pfrom.GetLocalServices() & NODE_BLOOM)) {",
    "path": "src/net_processing.cpp",
    "position": 25,
    "original_position": 25,
    "commit_id": "3a10d935ac8ebabdfd336569d943f042ff84b13e",
    "original_commit_id": "8207e3b7e34758255149805b609752727a3a0a96",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "We should remove `-banscore` entirely. It's not useful user configuration.",
    "created_at": "2020-06-13T14:50:39Z",
    "updated_at": "2020-06-14T18:55:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439744787",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439744787"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439744787"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439744787/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3436,
    "original_line": 3436,
    "side": "RIGHT",
    "in_reply_to_id": 439644235
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439765489",
    "pull_request_review_id": 430162813,
    "id": 439765489,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc2NTQ4OQ==",
    "diff_hunk": "@@ -3447,6 +3433,16 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n     }\n \n     if (msg_type == NetMsgType::FILTERLOAD) {\n+        if (!(pfrom.GetLocalServices() & NODE_BLOOM)) {",
    "path": "src/net_processing.cpp",
    "position": 25,
    "original_position": 25,
    "commit_id": "3a10d935ac8ebabdfd336569d943f042ff84b13e",
    "original_commit_id": "8207e3b7e34758255149805b609752727a3a0a96",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url": "https://api.github.com/users/glozow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks for the suggestion! I've updated it but I think Travis timed out on one of the builds.",
    "created_at": "2020-06-13T20:05:15Z",
    "updated_at": "2020-06-14T18:55:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439765489",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439765489"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439765489"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439765489/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3436,
    "original_line": 3436,
    "side": "RIGHT",
    "in_reply_to_id": 439644235
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439828128",
    "pull_request_review_id": 430217721,
    "id": 439828128,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTgyODEyOA==",
    "diff_hunk": "@@ -3490,13 +3490,15 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n     }\n \n     if (msg_type == NetMsgType::FILTERCLEAR) {\n+        if (!(pfrom.GetLocalServices() & NODE_BLOOM)) {\n+            pfrom.fDisconnect = true;\n+            return false;",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "3a10d935ac8ebabdfd336569d943f042ff84b13e",
    "original_commit_id": "294b96772b7d184a0cd6f56bd76ef118f4c78cc6",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "in commit 294b96772b7d184a0cd6f56bd76ef118f4c78cc6:\r\n\r\nAny reason to return false here? The only effect is that it will log a line with `FAILED` with the NET debug category. However, it should be pretty clear from the log already that receiving a filterclear message and then disconnecting a peer means the message was ignored.",
    "created_at": "2020-06-14T13:05:22Z",
    "updated_at": "2020-06-14T18:55:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439828128",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439828128"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439828128"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439828128/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3495,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439828305",
    "pull_request_review_id": 430217721,
    "id": 439828305,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTgyODMwNQ==",
    "diff_hunk": "@@ -3466,6 +3456,10 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n     }\n \n     if (msg_type == NetMsgType::FILTERADD) {\n+        if (!(pfrom.GetLocalServices() & NODE_BLOOM)) {\n+            pfrom.fDisconnect = true;\n+            return false;",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 38,
    "commit_id": "3a10d935ac8ebabdfd336569d943f042ff84b13e",
    "original_commit_id": "18a2e0a3f7071b8df6b20ecc1b34b3f2abb13cfc",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "in commit 18a2e0a3f7071b8df6b20ecc1b34b3f2abb13cfc:\r\n\r\nSame",
    "created_at": "2020-06-14T13:07:37Z",
    "updated_at": "2020-06-14T18:55:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439828305",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439828305"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439828305"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439828305/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3461,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439832289",
    "pull_request_review_id": 430221299,
    "id": 439832289,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTgzMjI4OQ==",
    "diff_hunk": "@@ -3490,13 +3490,15 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n     }\n \n     if (msg_type == NetMsgType::FILTERCLEAR) {\n+        if (!(pfrom.GetLocalServices() & NODE_BLOOM)) {\n+            pfrom.fDisconnect = true;\n+            return false;",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "3a10d935ac8ebabdfd336569d943f042ff84b13e",
    "original_commit_id": "294b96772b7d184a0cd6f56bd76ef118f4c78cc6",
    "user": {
      "login": "naumenkogs",
      "id": 7975071,
      "node_id": "MDQ6VXNlcjc5NzUwNzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/naumenkogs",
      "html_url": "https://github.com/naumenkogs",
      "followers_url": "https://api.github.com/users/naumenkogs/followers",
      "following_url": "https://api.github.com/users/naumenkogs/following{/other_user}",
      "gists_url": "https://api.github.com/users/naumenkogs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
      "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
      "repos_url": "https://api.github.com/users/naumenkogs/repos",
      "events_url": "https://api.github.com/users/naumenkogs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I was confused here too, but it seems like this is a common thing to do. Many occurences of \r\n``\r\n             pfrom.fDisconnect = true;\r\n            return false; \r\n``",
    "created_at": "2020-06-14T13:53:37Z",
    "updated_at": "2020-06-14T18:55:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439832289",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439832289"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439832289"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439832289/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3495,
    "side": "RIGHT",
    "in_reply_to_id": 439828128
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439833059",
    "pull_request_review_id": 430221975,
    "id": 439833059,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTgzMzA1OQ==",
    "diff_hunk": "@@ -3490,13 +3490,15 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n     }\n \n     if (msg_type == NetMsgType::FILTERCLEAR) {\n+        if (!(pfrom.GetLocalServices() & NODE_BLOOM)) {\n+            pfrom.fDisconnect = true;\n+            return false;",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "3a10d935ac8ebabdfd336569d943f042ff84b13e",
    "original_commit_id": "294b96772b7d184a0cd6f56bd76ef118f4c78cc6",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The majority of disconnects is followed by a `return true;`. The ones that don't should be changed too. And longer term the return value should be removed completely.",
    "created_at": "2020-06-14T14:02:09Z",
    "updated_at": "2020-06-14T18:55:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439833059",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439833059"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439833059"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439833059/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3495,
    "side": "RIGHT",
    "in_reply_to_id": 439828128
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439857807",
    "pull_request_review_id": 430242789,
    "id": 439857807,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTg1NzgwNw==",
    "diff_hunk": "@@ -3490,13 +3490,15 @@ bool ProcessMessage(CNode& pfrom, const std::string& msg_type, CDataStream& vRec\n     }\n \n     if (msg_type == NetMsgType::FILTERCLEAR) {\n+        if (!(pfrom.GetLocalServices() & NODE_BLOOM)) {\n+            pfrom.fDisconnect = true;\n+            return false;",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "3a10d935ac8ebabdfd336569d943f042ff84b13e",
    "original_commit_id": "294b96772b7d184a0cd6f56bd76ef118f4c78cc6",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url": "https://api.github.com/users/glozow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks! Yup, my reasoning was that's what it looked like in other places \ud83d\ude05 ",
    "created_at": "2020-06-14T18:54:22Z",
    "updated_at": "2020-06-14T18:55:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439857807",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439857807"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19260#discussion_r439857807"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19260"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439857807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3495,
    "side": "RIGHT",
    "in_reply_to_id": 439828128
  }
]