practicalswift,2021-10-18 12:28:27,Concept ACK,https://github.com/bitcoin/bitcoin/pull/23300#issuecomment-945714767,945714767,
DrahtBot,2021-10-18 20:48:05,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23371](https://github.com/bitcoin/bitcoin/pull/23371) (test: MiniWallet: add P2TR support and use it per default by theS",https://github.com/bitcoin/bitcoin/pull/23300#issuecomment-946152777,946152777,
hebasto,2021-11-08 11:24:37,Concept ACK.,https://github.com/bitcoin/bitcoin/pull/23300#issuecomment-963056763,963056763,
MarcoFalke,2021-11-09 09:33:50,">  I think there are some other tests you could apply it like rpc_packages.py.\n\nCan you explain this a bit more? Or maybe create a follow-up yourself?",https://github.com/bitcoin/bitcoin/pull/23300#issuecomment-963972405,963972405,
hebasto,2021-11-09 09:38:48,"FWIW, was testing this PR, and with the following patch:\n```diff\ndiff --git a/.cirrus.yml b/.cirrus.yml\nindex f7962e951..93866de06 100644\n--- a/.cirrus.yml\n+++ b/.cirrus.yml\n@@ -164,7 +164,7 @@ task:\n     - netsh int ipv4 set dynamicport tcp start=1025 num=64511\n     - netsh int ipv6 set dynamicport tcp start=1025 num=64511\n     # Exclude feature_dbcrash for now due to timeout\n",https://github.com/bitcoin/bitcoin/pull/23300#issuecomment-963976081,963976081,
MarcoFalke,2021-11-09 09:49:58,Thanks for testing. Do you have logs for the two timeouts?,https://github.com/bitcoin/bitcoin/pull/23300#issuecomment-963984685,963984685,
hebasto,2021-11-09 10:09:44,"> Thanks for testing. Do you have logs for the two timeouts?\n\nhttps://api.cirrus-ci.com/v1/task/4512194625798144/logs/functional_tests.log",https://github.com/bitcoin/bitcoin/pull/23300#issuecomment-964000789,964000789,
MarcoFalke,2021-11-09 10:23:26,"The pruning one has a reorg and a call to `verifychain`, which may take a long time, so this is expected:\n\n```\n                                   test_framework.authproxy.JSONRPCException: 'verifychain' RPC took longer than 60.000000 seconds. Consider using larger timeout for calls that take longer to return. (-344)\n```\n\nThe rpc_misc one looks like an unrelated issue.",https://github.com/bitcoin/bitcoin/pull/23300#issuecomment-964012225,964012225,
hebasto,2021-11-09 10:25:56,"> The rpc_misc one looks like an unrelated issue.\n\nCould be easy tuned:\n```diff\n@@ -84,7 +84,7 @@ class RpcMiscTest(BitcoinTestFramework):\n \n         # Restart the node with indices and wait for them to sync\n         self.restart_node(0, [""-txindex"", ""-blockfilterindex"", ""-coinstatsindex""])\n-        self.wait_until(lambda: all(i[""synced""] for i in node.getindexinfo().values()))\n+",https://github.com/bitcoin/bitcoin/pull/23300#issuecomment-964014167,964014167,
MarcoFalke,2021-11-09 10:27:29,"The sync threads all exit within a second, so I don't understand why raising the timeout would fix this issue.",https://github.com/bitcoin/bitcoin/pull/23300#issuecomment-964015440,964015440,
hebasto,2021-11-09 11:31:33,"@MarcoFalke \n> The sync threads all exit within a second...\n\nThat is not the case in CI environment. See my [demo branch](https://github.com/hebasto/bitcoin/commits/211109-timeout.DEMO), and its CI [log](https://api.cirrus-ci.com/v1/task/4679953598906368/logs/functional_tests.log):\n```\n2021-11-09T11:28:10.405000Z TestFramework (INFO): Total time taken by `wait_until` call: 52.64929151535",https://github.com/bitcoin/bitcoin/pull/23300#issuecomment-964065427,964065427,
MarcoFalke,2021-11-09 11:39:58,"Oh you are right.\n\nAny idea why `coinstatsindex` takes more than a minute on windows, but finishes in less than a second on linux?",https://github.com/bitcoin/bitcoin/pull/23300#issuecomment-964070780,964070780,
hebasto,2021-11-09 12:25:25,"> Any idea why `coinstatsindex` takes more than a minute on windows, but finishes in less than a second on linux?\n\nHave no idea.\n\nLocally, on Windows 10 Pro 21H1, it takes about 30 seconds.",https://github.com/bitcoin/bitcoin/pull/23300#issuecomment-964105034,964105034,
luke-jr,2021-10-29 15:46:16,"Suggest making it a required parameter, otherwise there's a high risk of backports breaking.",https://github.com/bitcoin/bitcoin/pull/23300#discussion_r739343543,739343543,test/functional/test_framework/test_framework.py
MarcoFalke,2021-10-29 15:59:06,"I don't think we'll backport any major test changes to 22.x (or earlier) at this point, and hopefully this pull is merged before the next major release, so backports to 23.x aren't an issue.\n\nIf reviewers insist that this should be done, I suggest doing it in a follow up as a scripted-diff to make it easy to review and keep the conflicts in this pull low.",https://github.com/bitcoin/bitcoin/pull/23300#discussion_r739357792,739357792,test/functional/test_framework/test_framework.py
