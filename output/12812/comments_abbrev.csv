jnewbery,2018-03-29T15:37:58Z,"unit tests failing in travis:\n\n```\ntest/getarg_tests.cpp(39): error in ""configfile"": check gArgs.GetBoolArg(""-foo"", false) failed\ntest/getarg_tests.cpp(43): error in ""configfile"": check !gArgs.GetBoolArg(""-bar"", true) failed\ntest/getarg_tests.cpp(46): error in ""configfile"": check gArgs.GetArg(""-baz"", """") == ""11"" failed [ != 11]\ntest/getarg_tests.cpp(47): error in ""configfile"": check gA",https://github.com/bitcoin/bitcoin/pull/12812#issuecomment-377276447,377276447,
Empact,2018-03-30T00:58:48Z,"@jnewbery Seems like it was a datadir caching issue, clearing the cache worked.\n\nIronically, ParseParameters('-datadir') does not clear the datadir cache, probably because ParseParameters is called once and at the beginning of the run.",https://github.com/bitcoin/bitcoin/pull/12812#issuecomment-377415743,377415743,
Empact,2018-03-30T01:00:13Z,Rerunning after rebase for good measure.,https://github.com/bitcoin/bitcoin/pull/12812#issuecomment-377415947,377415947,
conscott,2018-03-30T14:19:00Z,Tested ACK 3ea6a91f16c076e2774700c0364dfc1e7aca5b2a,https://github.com/bitcoin/bitcoin/pull/12812#issuecomment-377534031,377534031,
jnewbery,2018-04-02T13:52:19Z,"Concept ACK, but agree with @laanwj about the test file. Take a look at https://github.com/bitcoin/bitcoin/blob/821980c00feef143a6ecf6af65926e18cfd30396/src/Makefile.test.include#L161 to see how the `.json.h` files are generated.",https://github.com/bitcoin/bitcoin/pull/12812#issuecomment-377933559,377933559,
ryanofsky,2018-04-03T15:37:07Z,"> Take a look at bitcoin/src/Makefile.test.include\n\nFeel free to fix this whatever way is simplest, but I would probably chose to avoid dealing with make, and instead just put the config in a multiline raw `R""(...)""` string that maybe gets written to a temporary file at runtime, if necessary.",https://github.com/bitcoin/bitcoin/pull/12812#issuecomment-378294402,378294402,
laanwj,2018-04-03T16:50:01Z,">instead just put the config in a multiline raw R""(...)"" string that maybe gets written to a temporary file at runtime, if necessary.\n\nWhat, C++11 has multi-line string literals? TIL",https://github.com/bitcoin/bitcoin/pull/12812#issuecomment-378318943,378318943,
ajtowns,2018-04-05T00:19:22Z,"I think #12878 covers most of this (without needing the separate file, due to splitting ReadConfigStream out of ReadConfigFile), and that the `-datadir` and file-reading testing is probably better done via the functional test suite rather than the unit tests.",https://github.com/bitcoin/bitcoin/pull/12812#issuecomment-378784650,378784650,
Empact,2018-04-05T01:32:23Z,"Agreed, I prefer #12878 üëç ",https://github.com/bitcoin/bitcoin/pull/12812#issuecomment-378794806,378794806,
laanwj,2018-04-02T11:25:29Z,"The practice for the unit tests has been to embed all test files in the source code - by including the generated test files (in this case `bitcoin.conf.raw.h`, I think).\nThe reason is that it should be possible to copy `test_bitcoin` to a new platform (for example by installing the distributed binaries) and run it without copying the entire source tree.\nIf you really need a file (for testing) ",https://github.com/bitcoin/bitcoin/pull/12812#discussion_r178528177,178528177,src/test/getarg_tests.cpp
