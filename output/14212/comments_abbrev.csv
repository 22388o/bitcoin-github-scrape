practicalswift,2018-09-13T15:01:10Z,utACK fa328ae9133b257e93a85db31df568b792c44bd5,https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421038999,421038999,
laanwj,2018-09-13T15:55:25Z,"right, bitcoind needs libcrypto not libssl\nutACK fa328ae9133b257e93a85db31df568b792c44bd5",https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421058059,421058059,
laanwj,2018-09-13T15:57:51Z,"BTW—are you sure bitcoin-qt does need libssl, or does it only use it through qt? I know it uses some OpenSSL functionality directly but not from what library.",https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421058961,421058961,
laanwj,2018-09-13T15:59:25Z,"at the least it could be removed from `src/Makefile.test.include` as well\n\nThe latter gives a linker error:\n```\n…/bitcoin/src/qt/test/test_main.cpp:71: undefined reference to `OPENSSL_init_ssl'\n```\nNote, though, that this is the *only* occurence. Why does this need to be initialized? (removing it does not seem to have any influence on the tests passing)\n\nFWIW I could purge direct u",https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421059506,421059506,
Sjors,2018-09-13T18:32:31Z,"If you're completely purging it, can `libssl.pc` also be removed from `depends/packages/openssl.mk`?\n\nSuccesfully compiled and lightly tested 23ec611 on macOS 10.13.6, including opening a BIP-70 payment request.",https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421107554,421107554,
laanwj,2018-09-13T18:34:44Z,"> If you're completely purging it, can libssl.pc also be removed from depends/packages/openssl.mk?\n\nI don't think removing it from depends is safe—Qt is still relying on it for `https://` connections, which are necessary for BIP70. It's just we have no *direct* dependency on it anymore.",https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421108227,421108227,
Sjors,2018-09-13T18:41:59Z,"@laanwj are you sure QT isn't using openssl instead of libssl? I'm generally confused by the distinction, but the QT [docs](http://doc.qt.io/qt-5/ssl.html) mention:\n\n> When building Qt from source, the configuration system checks for the presence of the openssl/opensslv.h header provided by source or developer packages of OpenSSL.\n\nOr is there some other place where QT does need libssl?\n",https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421110406,421110406,
ken2812221,2018-09-13T18:46:31Z,"@Sjors libssl is a library of openssl, you can take a look at https://github.com/openssl/openssl/blob/master/README#L27-L29",https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421111801,421111801,
laanwj,2018-09-13T18:47:28Z,"> @laanwj are you sure QT isn't using openssl instead of libssl? I'm generally confused by the distinction, but the QT docs mention:\n\nAs I understand it, OpenSSL  is a combination of two libraries, ""libcrypto"" and ""libssl"", the first handles cryptography and certificate operations and randomness, the second networking. Our project uses only the former, which is why this PR works, however Qt (t",https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421112096,421112096,
jnewbery,2018-09-13T18:51:56Z,utACK b0e2411144c1204793ed25e598963c7d8eae12f6,https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421113415,421113415,
Sjors,2018-09-13T19:00:01Z,"@ken2812221 @laanwj you're right, `openssl/opensslv.h` indeed refers to the whole kitchen sink, I misread the README:\n<img width=""564"" alt=""schermafbeelding 2018-09-13 om 20 56 38"" src=""https://user-images.githubusercontent.com/10217/45509345-90acf980-b797-11e8-82bc-00a86ea68bd3.png"">\n\nProbably worth mentioning in the commit message that this removes the _direct_ dependency, but not the indi",https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421115805,421115805,
MarcoFalke,2018-09-13T20:33:17Z,@laanwj Your branch to remove it altogether seems to fail: https://travis-ci.org/bitcoin/bitcoin/builds/428326156 (Note the included libssl header in the qt tests file: 6e996d3),https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421143560,421143560,
laanwj,2018-09-13T21:01:40Z,"@MarcoFalke argh—so it looks like that when Qt is linked statically, as in gitian, it relies on the bitcoin build pulling `-lssl` in. This is no problem when building against qt dynamically, which is why I didn't notice before. e.g, here's Qt indirectly referring to ssl functions:\n```\n/home/ubuntu/build/bitcoin/depends/i686-w64-mingw32/share/../lib/libQt5Network.a(qsslsocket_openssl_symbols.o)",https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421151925,421151925,
MarcoFalke,2018-09-13T21:04:32Z,"Ah, anyway. I removed the SSL_LIB from test_bitcoin as you suggested (and some other changes as well)",https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421152716,421152716,
MarcoFalke,2018-09-14T12:59:33Z,I am going to merge this after the gitian build returns,https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421350613,421350613,
laanwj,2018-09-14T13:58:47Z,"+1\n\nOn Fri, Sep 14, 2018, 14:59 MarcoFalke <notifications@github.com> wrote:\n\n> I am going to merge this after the gitian build returns\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421350613>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-a",https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421367158,421367158,
DrahtBot,2018-09-14T23:00:55Z,"<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #10102 ([experimental] Multiprocess bitcoin by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421505628,421505628,
DrahtBot,2018-09-15T09:09:01Z,<!--a722867cd34abeea1fadc8d60700f111-->\nGitian builds for commit f09bc7ec9859bba6d1df765adb1030d276b8f626 (master):\n * `6a3a09c426fc6e0f1b92dbd157c82a41...` [bitcoin-0.17.99-aarch64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/f09bc7ec9859bba6d1df765adb1030d276b8f626/bitcoin-0.17.99-aarch64-linux-gnu-debug.tar.gz)\n * `3772825f517fd8ec06efce82f471d198...` [bitcoin-0.17.9,https://github.com/bitcoin/bitcoin/pull/14212#issuecomment-421543080,421543080,
