[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169748063",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-169748063",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 169748063,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTc0ODA2Mw==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-07T17:35:35Z",
    "updated_at": "2016-01-07T17:35:35Z",
    "author_association": "MEMBER",
    "body": "This is way too late for 0.12...\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169748063/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169752951",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-169752951",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 169752951,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTc1Mjk1MQ==",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?u=b7dd63827227d69794b5fe28797b1bd107b930dd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-07T17:45:25Z",
    "updated_at": "2016-01-07T17:45:25Z",
    "author_association": "MEMBER",
    "body": "@luke-jr I don't think we can release 0.12 without this.  With mempool eviction combined with the new behaviour that unconfirmed txs still tie up the coins they spend even if the txs are not in the mempool, users may end up with permanently unspendable coins frequently.\n\nWe discussed making this change in conjunction with the other changes back in November, but it appears to have slipped through the cracks.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169752951/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169755227",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-169755227",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 169755227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTc1NTIyNw==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-07T17:52:19Z",
    "updated_at": "2016-01-07T17:52:19Z",
    "author_association": "MEMBER",
    "body": "This situation isn't really any worse than the status quo from older versions...\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169755227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169793688",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-169793688",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 169793688,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTc5MzY4OA==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-07T20:17:31Z",
    "updated_at": "2016-01-07T20:17:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK.\nI agree it late for 0.12,... but I don't take a position on this (if it's saver to go with or without a such feature).\n\nWould be nice to see some tests (especially when we tag this for 0.12).\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169793688/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169814431",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-169814431",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 169814431,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTgxNDQzMQ==",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?u=b7dd63827227d69794b5fe28797b1bd107b930dd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-07T21:42:33Z",
    "updated_at": "2016-01-07T21:42:33Z",
    "author_association": "MEMBER",
    "body": "Addressed @jonasschnelli's comment (thanks for quick review!) and reordered commits for simpler reading.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169814431/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169885072",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-169885072",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 169885072,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTg4NTA3Mg==",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?u=b7dd63827227d69794b5fe28797b1bd107b930dd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-08T03:47:28Z",
    "updated_at": "2016-01-08T03:47:28Z",
    "author_association": "MEMBER",
    "body": "oops, i didn't mean to push that RPC test yet, it was still in progress, but might as well leave it there for now...\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169885072/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169995500",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-169995500",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 169995500,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTk5NTUwMA==",
    "user": {
      "login": "kanzure",
      "id": 101238,
      "node_id": "MDQ6VXNlcjEwMTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/101238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kanzure",
      "html_url": "https://github.com/kanzure",
      "followers_url": "https://api.github.com/users/kanzure/followers",
      "following_url": "https://api.github.com/users/kanzure/following{/other_user}",
      "gists_url": "https://api.github.com/users/kanzure/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kanzure/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kanzure/subscriptions",
      "organizations_url": "https://api.github.com/users/kanzure/orgs",
      "repos_url": "https://api.github.com/users/kanzure/repos",
      "events_url": "https://api.github.com/users/kanzure/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kanzure/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-08T13:01:44Z",
    "updated_at": "2016-01-08T13:01:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think a name like \"abandonlocaltransaction\" or \"abandonunconfirmedtransaction\" could help to minimize ambiguity.  But I would consider this a very low priority suggestion, because this RPC call is only available when the wallet is enabled.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169995500/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169996224",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-169996224",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 169996224,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTk5NjIyNA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-08T13:05:34Z",
    "updated_at": "2016-01-08T13:05:34Z",
    "author_association": "MEMBER",
    "body": "> abandonunconfirmedtransaction\n\nHow would you type that without any typos? I'd rather make the rpc short (\"abandontx\") and the documentation/GUI verbose.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169996224/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169996403",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-169996403",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 169996403,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTk5NjQwMw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-08T13:06:47Z",
    "updated_at": "2016-01-08T13:06:47Z",
    "author_association": "MEMBER",
    "body": "Concept ACK  6d74a63154cca756d698d6022c694b21e7f43ac5\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169996403/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170052012",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-170052012",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 170052012,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDA1MjAxMg==",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?u=b7dd63827227d69794b5fe28797b1bd107b930dd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-08T16:46:06Z",
    "updated_at": "2016-01-08T16:46:06Z",
    "author_association": "MEMBER",
    "body": "Thanks for the review. \nAddressed nits in RPC help and finalized the RPC test\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170052012/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170073408",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-170073408",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 170073408,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDA3MzQwOA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-08T17:52:29Z",
    "updated_at": "2016-01-08T18:33:12Z",
    "author_association": "MEMBER",
    "body": "Reviewed-tests ACK 21702ff\n\n@morcos Please fix the travis issue (file not found)\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170073408/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170094366",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-170094366",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 170094366,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDA5NDM2Ng==",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?u=b7dd63827227d69794b5fe28797b1bd107b930dd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-08T19:05:15Z",
    "updated_at": "2016-01-08T19:05:15Z",
    "author_association": "MEMBER",
    "body": "oops sorry.\nfixed typo and removed bitcoind argument from rpc test.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170094366/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170104433",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-170104433",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 170104433,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDEwNDQzMw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-08T19:44:57Z",
    "updated_at": "2016-01-08T19:44:57Z",
    "author_association": "MEMBER",
    "body": "QT-tested ACK d716866\n\n![screenshot from 2016-01-08 20-41-15](https://cloud.githubusercontent.com/assets/6399679/12207715/839120a8-b648-11e5-9ee4-a74eb4ebdfe8.png)\nNit: Qt balance != getwalletinfo\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170104433/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170494961",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-170494961",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 170494961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDQ5NDk2MQ==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-11T10:02:56Z",
    "updated_at": "2016-01-11T10:02:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Tested ACK (also ack on a 0.12 bp, because it's a wallet only change)\nNits:\n- missing update signal (see above)\n- missing flag in `listtransactions`.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170494961/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170500230",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-170500230",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 170500230,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDUwMDIzMA==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-11T10:21:54Z",
    "updated_at": "2016-01-11T10:21:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Addressed the nits and a cosmetic change for GUI in: https://github.com/morcos/bitcoin/pull/6\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170500230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170662587",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-170662587",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 170662587,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDY2MjU4Nw==",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?u=b7dd63827227d69794b5fe28797b1bd107b930dd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-11T19:27:50Z",
    "updated_at": "2016-01-11T19:27:50Z",
    "author_association": "MEMBER",
    "body": "@jonasschnelli , thanks!  I added your notify commit.  I left the other changes for a separate pull.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170662587/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170701107",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-170701107",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 170701107,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDcwMTEwNw==",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?u=b7dd63827227d69794b5fe28797b1bd107b930dd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-11T21:47:52Z",
    "updated_at": "2016-01-11T21:47:52Z",
    "author_association": "MEMBER",
    "body": "Ok updated after speaking to @jonasschnelli \nI think this is good now\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170701107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170787339",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-170787339",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 170787339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDc4NzMzOQ==",
    "user": {
      "login": "PRabahy",
      "id": 429961,
      "node_id": "MDQ6VXNlcjQyOTk2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/429961?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PRabahy",
      "html_url": "https://github.com/PRabahy",
      "followers_url": "https://api.github.com/users/PRabahy/followers",
      "following_url": "https://api.github.com/users/PRabahy/following{/other_user}",
      "gists_url": "https://api.github.com/users/PRabahy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PRabahy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PRabahy/subscriptions",
      "organizations_url": "https://api.github.com/users/PRabahy/orgs",
      "repos_url": "https://api.github.com/users/PRabahy/repos",
      "events_url": "https://api.github.com/users/PRabahy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PRabahy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-12T04:39:54Z",
    "updated_at": "2016-01-12T04:39:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Does https://github.com/bitcoin/bitcoin/blob/master/contrib/bitcoind.bash-completion need to get updated with this change?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170787339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170823816",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-170823816",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 170823816,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDgyMzgxNg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-12T07:29:54Z",
    "updated_at": "2016-01-12T07:29:54Z",
    "author_association": "MEMBER",
    "body": "@PRabahy sure, but I don't think this is part of this pull.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170823816/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/171295091",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#issuecomment-171295091",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7312",
    "id": 171295091,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTI5NTA5MQ==",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?u=b7dd63827227d69794b5fe28797b1bd107b930dd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-13T13:46:03Z",
    "updated_at": "2016-01-13T13:46:03Z",
    "author_association": "MEMBER",
    "body": "Addressed @laanwj's concern about clearly identifying constant\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/171295091/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49119119",
    "pull_request_review_id": null,
    "id": 49119119,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE5MTE5",
    "diff_hunk": "@@ -455,8 +457,10 @@ bool CWallet::IsSpent(const uint256& hash, unsigned int n) const\n     {\n         const uint256& wtxid = it->second;\n         std::map<uint256, CWalletTx>::const_iterator mit = mapWallet.find(wtxid);\n-        if (mit != mapWallet.end() && mit->second.GetDepthInMainChain() >= 0)\n-            return true; // Spent\n+        if (mit != mapWallet.end()) {\n+            if (mit->second.GetDepthInMainChain() > 0  || (mit->second.GetDepthInMainChain() == 0 && !mit->second.isAbandoned()))",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "d11fc1695c0453ef22a633e516726f82717dd1d9",
    "original_commit_id": "9726a520ee2e11d567bbc63901bf1cdde328d658",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`CMerkleTx::GetDepthInMainChain()` is slightly expansive (and `IsSpent()` gets called a lot). Would caching `mit->second.GetDepthInMainChain()` make sense? Or do we expect the compiler does it internally (I don't think so)?\n",
    "created_at": "2016-01-07T20:05:04Z",
    "updated_at": "2016-01-13T13:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49119119",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49119119"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49119119"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49119119/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 461,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49120293",
    "pull_request_review_id": null,
    "id": 49120293,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIwMjkz",
    "diff_hunk": "@@ -48,6 +48,8 @@ bool fSendFreeTransactions = DEFAULT_SEND_FREE_TRANSACTIONS;\n  */\n CFeeRate CWallet::minTxFee = CFeeRate(DEFAULT_TRANSACTION_MINFEE);\n \n+const uint256 CMerkleTx::abandonHash(uint256S(\"0000000000000000000000000000000000000000000000000000000000000001\"));",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "d11fc1695c0453ef22a633e516726f82717dd1d9",
    "original_commit_id": "9726a520ee2e11d567bbc63901bf1cdde328d658",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: I probably would do it also that way,... but, maybe a cleaner way would be to use `CWalletTx::mapValue` (a flexible kv store) which also would not require a db-scheme update.\n",
    "created_at": "2016-01-07T20:14:45Z",
    "updated_at": "2016-01-13T13:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49120293",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49120293"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49120293"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49120293/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 51,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49126953",
    "pull_request_review_id": null,
    "id": 49126953,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2OTUz",
    "diff_hunk": "@@ -455,8 +457,10 @@ bool CWallet::IsSpent(const uint256& hash, unsigned int n) const\n     {\n         const uint256& wtxid = it->second;\n         std::map<uint256, CWalletTx>::const_iterator mit = mapWallet.find(wtxid);\n-        if (mit != mapWallet.end() && mit->second.GetDepthInMainChain() >= 0)\n-            return true; // Spent\n+        if (mit != mapWallet.end()) {\n+            if (mit->second.GetDepthInMainChain() > 0  || (mit->second.GetDepthInMainChain() == 0 && !mit->second.isAbandoned()))",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "d11fc1695c0453ef22a633e516726f82717dd1d9",
    "original_commit_id": "9726a520ee2e11d567bbc63901bf1cdde328d658",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "sure can fix\n",
    "created_at": "2016-01-07T21:17:09Z",
    "updated_at": "2016-01-13T13:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49126953",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49126953"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49126953"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49126953/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 461,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49129512",
    "pull_request_review_id": null,
    "id": 49129512,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI5NTEy",
    "diff_hunk": "@@ -48,6 +48,8 @@ bool fSendFreeTransactions = DEFAULT_SEND_FREE_TRANSACTIONS;\n  */\n CFeeRate CWallet::minTxFee = CFeeRate(DEFAULT_TRANSACTION_MINFEE);\n \n+const uint256 CMerkleTx::abandonHash(uint256S(\"0000000000000000000000000000000000000000000000000000000000000001\"));",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "d11fc1695c0453ef22a633e516726f82717dd1d9",
    "original_commit_id": "9726a520ee2e11d567bbc63901bf1cdde328d658",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I debated doing that and maybe it would have been better, but I liked the way updating the hashBlock automatically made the transaction no longer abandoned with this approach.\n",
    "created_at": "2016-01-07T21:38:53Z",
    "updated_at": "2016-01-13T13:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49129512",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49129512"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49129512"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49129512/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 51,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49165361",
    "pull_request_review_id": null,
    "id": 49165361,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY1MzYx",
    "diff_hunk": "@@ -48,6 +48,8 @@ bool fSendFreeTransactions = DEFAULT_SEND_FREE_TRANSACTIONS;\n  */\n CFeeRate CWallet::minTxFee = CFeeRate(DEFAULT_TRANSACTION_MINFEE);\n \n+const uint256 CMerkleTx::abandonHash(uint256S(\"0000000000000000000000000000000000000000000000000000000000000001\"));",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "d11fc1695c0453ef22a633e516726f82717dd1d9",
    "original_commit_id": "9726a520ee2e11d567bbc63901bf1cdde328d658",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> I debated doing that and maybe it would have been better, but I liked the way updating the hashBlock automatically made the transaction no longer abandoned with this approach.\n\nfair enough.\n",
    "created_at": "2016-01-08T08:04:11Z",
    "updated_at": "2016-01-13T13:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49165361",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49165361"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49165361"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49165361/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 51,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49185451",
    "pull_request_review_id": null,
    "id": 49185451,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg1NDUx",
    "diff_hunk": "@@ -1764,6 +1764,40 @@ UniValue gettransaction(const UniValue& params, bool fHelp)\n     return entry;\n }\n \n+UniValue abandontransaction(const UniValue& params, bool fHelp)\n+{\n+    if (!EnsureWalletIsAvailable(fHelp))\n+        return NullUniValue;\n+\n+    if (fHelp || params.size() != 1)\n+        throw runtime_error(\n+            \"abandontransaction \\\"txid\\\"\\n\"\n+            \"\\nMark in-wallet transaction <txid> as abandoned\\n\"\n+            \"This will mark this tx and all its in-wallet descendants as abandoned which will allow\\n\"",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "d11fc1695c0453ef22a633e516726f82717dd1d9",
    "original_commit_id": "6d74a63154cca756d698d6022c694b21e7f43ac5",
    "user": {
      "login": "kanzure",
      "id": 101238,
      "node_id": "MDQ6VXNlcjEwMTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/101238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kanzure",
      "html_url": "https://github.com/kanzure",
      "followers_url": "https://api.github.com/users/kanzure/followers",
      "following_url": "https://api.github.com/users/kanzure/following{/other_user}",
      "gists_url": "https://api.github.com/users/kanzure/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kanzure/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kanzure/subscriptions",
      "organizations_url": "https://api.github.com/users/kanzure/orgs",
      "repos_url": "https://api.github.com/users/kanzure/repos",
      "events_url": "https://api.github.com/users/kanzure/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kanzure/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "consistency nit: all the other fHelp messages use \"transaction\" and \"transactions\" instead of \"tx\" and \"txs\".\n",
    "created_at": "2016-01-08T12:58:15Z",
    "updated_at": "2016-01-13T13:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49185451",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49185451"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49185451"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49185451/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1776,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49211705",
    "pull_request_review_id": null,
    "id": 49211705,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjExNzA1",
    "diff_hunk": "@@ -105,6 +105,7 @@\n     'prioritise_transaction.py',\n     'invalidblockrequest.py',\n     'invalidtxrequest.py',\n+    'abandonconflicts.py',",
    "path": "qa/pull-tester/rpc-tests.py",
    "position": null,
    "original_position": 4,
    "commit_id": "d11fc1695c0453ef22a633e516726f82717dd1d9",
    "original_commit_id": "21702ff8cde6680eac4744f2b34ce36e8f5a8133",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "abandonconflicts.py: No such file or directory\n",
    "created_at": "2016-01-08T17:09:18Z",
    "updated_at": "2016-01-13T13:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49211705",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49211705"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49211705"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49211705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 108,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49211783",
    "pull_request_review_id": null,
    "id": 49211783,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjExNzgz",
    "diff_hunk": "@@ -0,0 +1,153 @@\n+#!/usr/bin/env python2\n+# Copyright (c) 2014-2015 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+try:\n+    import urllib.parse as urlparse\n+except ImportError:\n+    import urlparse\n+\n+class AbandonConflictTest(BitcoinTestFramework):\n+\n+    def setup_network(self):\n+        self.nodes = []\n+        self.nodes.append(start_node(0, self.options.tmpdir, [\"-debug\",\"-logtimemicros\",\"-minrelaytxfee=0.00001\"], binary=\"bitcoind\"))",
    "path": "qa/rpc-tests/abandonconflict.py",
    "position": null,
    "original_position": 18,
    "commit_id": "d11fc1695c0453ef22a633e516726f82717dd1d9",
    "original_commit_id": "21702ff8cde6680eac4744f2b34ce36e8f5a8133",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: Is the `\"-debug\",\"-logtimemicros\"` part required?\n\nAlso the `binary=\"bitcoind\"` part?\n",
    "created_at": "2016-01-08T17:10:02Z",
    "updated_at": "2016-01-13T13:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49211783",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49211783"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49211783"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49211783/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 18,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49213180",
    "pull_request_review_id": null,
    "id": 49213180,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjEzMTgw",
    "diff_hunk": "@@ -0,0 +1,153 @@\n+#!/usr/bin/env python2\n+# Copyright (c) 2014-2015 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+try:\n+    import urllib.parse as urlparse\n+except ImportError:\n+    import urlparse\n+\n+class AbandonConflictTest(BitcoinTestFramework):\n+\n+    def setup_network(self):\n+        self.nodes = []\n+        self.nodes.append(start_node(0, self.options.tmpdir, [\"-debug\",\"-logtimemicros\",\"-minrelaytxfee=0.00001\"], binary=\"bitcoind\"))",
    "path": "qa/rpc-tests/abandonconflict.py",
    "position": null,
    "original_position": 18,
    "commit_id": "d11fc1695c0453ef22a633e516726f82717dd1d9",
    "original_commit_id": "21702ff8cde6680eac4744f2b34ce36e8f5a8133",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think we should drop the `binary=\"bitcoind\"` part -- by default `start_node` can pick up the binary from the BITCOIND environment variable which is preferred when set.\n",
    "created_at": "2016-01-08T17:22:16Z",
    "updated_at": "2016-01-13T13:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49213180",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49213180"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49213180"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49213180/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 18,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49229186",
    "pull_request_review_id": null,
    "id": 49229186,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjI5MTg2",
    "diff_hunk": "@@ -0,0 +1,153 @@\n+#!/usr/bin/env python2\n+# Copyright (c) 2014-2015 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+try:\n+    import urllib.parse as urlparse\n+except ImportError:\n+    import urlparse\n+\n+class AbandonConflictTest(BitcoinTestFramework):\n+\n+    def setup_network(self):\n+        self.nodes = []\n+        self.nodes.append(start_node(0, self.options.tmpdir, [\"-debug\",\"-logtimemicros\",\"-minrelaytxfee=0.00001\"]))\n+        self.nodes.append(start_node(1, self.options.tmpdir, [\"-debug\",\"-logtimemicros\"]))\n+        connect_nodes(self.nodes[0], 1)\n+\n+    def run_test(self):\n+        self.nodes[1].generate(100)\n+        sync_blocks(self.nodes)\n+        balance = self.nodes[0].getbalance()\n+        txA = self.nodes[0].sendtoaddress(self.nodes[0].getnewaddress(), Decimal(\"10\"))\n+        txB = self.nodes[0].sendtoaddress(self.nodes[0].getnewaddress(), Decimal(\"10\"))\n+        txC = self.nodes[0].sendtoaddress(self.nodes[0].getnewaddress(), Decimal(\"10\"))\n+        sync_mempools(self.nodes)\n+        self.nodes[1].generate(1)\n+\n+        sync_blocks(self.nodes)\n+        newbalance = self.nodes[0].getbalance()\n+        assert(balance - newbalance < Decimal(\"0.001\")) #no more than fees lost\n+        balance = newbalance\n+\n+        url = urlparse.urlparse(self.nodes[1].url)\n+        self.nodes[0].disconnectnode(url.hostname+\":\"+str(p2p_port(1)))\n+\n+        # Identify the 10btc outputs\n+        nA = next(i for i, vout in enumerate(self.nodes[0].getrawtransaction(txA, 1)[\"vout\"]) if vout[\"value\"] == Decimal(\"10\"))\n+        nB = next(i for i, vout in enumerate(self.nodes[0].getrawtransaction(txB, 1)[\"vout\"]) if vout[\"value\"] == Decimal(\"10\"))\n+        nC = next(i for i, vout in enumerate(self.nodes[0].getrawtransaction(txC, 1)[\"vout\"]) if vout[\"value\"] == Decimal(\"10\"))\n+\n+        inputs =[]\n+        # spend 10btc outputs from txA and txB\n+        inputs.append({\"txid\":txA, \"vout\":nA})\n+        inputs.append({\"txid\":txB, \"vout\":nB})\n+        outputs = {}\n+\n+        outputs[self.nodes[0].getnewaddress()] = Decimal(\"14.99998\")\n+        outputs[self.nodes[1].getnewaddress()] = Decimal(\"5\")\n+        signed = self.nodes[0].signrawtransaction(self.nodes[0].createrawtransaction(inputs, outputs))\n+        txAB1 = self.nodes[0].sendrawtransaction(signed[\"hex\"])\n+\n+        # Identify the 14.99998btc output\n+        nAB = next(i for i, vout in enumerate(self.nodes[0].getrawtransaction(txAB1, 1)[\"vout\"]) if vout[\"value\"] == Decimal(\"14.99998\"))\n+\n+        #Create a child tx spending AB1 and C\n+        inputs = []\n+        inputs.append({\"txid\":txAB1, \"vout\":nAB})\n+        inputs.append({\"txid\":txC, \"vout\":nC})\n+        outputs = {}\n+        outputs[self.nodes[0].getnewaddress()] = Decimal(\"24.9996\")\n+        signed2 = self.nodes[0].signrawtransaction(self.nodes[0].createrawtransaction(inputs, outputs))\n+        txABC2 = self.nodes[0].sendrawtransaction(signed2[\"hex\"])\n+\n+        # In mempool txs from self should increase balance from change\n+        newbalance = self.nodes[0].getbalance()\n+        assert(newbalance == balance - Decimal(\"30\") + Decimal(\"24.9996\"))\n+        balance = newbalance\n+\n+        # Restart the node with a higher min relay fee so the parent tx is no longer in mempool\n+        # TODO: redo with eviction\n+        # Note had to make sure tx did not have AllowFree priority\n+        stop_node(self.nodes[0],0)\n+        self.nodes[0]=start_node(0, self.options.tmpdir, [\"-debug\",\"-logtimemicros\",\"-minrelaytxfee=0.0001\"])\n+\n+        # Verify txs no longer in mempool\n+        assert(len(self.nodes[0].getrawmempool()) == 0)\n+\n+        # Not in mempool txs from self should only reduce balance\n+        # inputs are still spent, but change not received\n+        newbalance = self.nodes[0].getbalance()\n+        assert(newbalance == balance - Decimal(\"24.9996\"))\n+        balance = newbalance\n+\n+        # Abandon original transaction and verify inputs are available again\n+        # including that the child tx was also abandoned\n+        self.nodes[0].abandontransaction(txAB1)\n+        newbalance = self.nodes[0].getbalance()\n+        assert(newbalance == balance + Decimal(\"30\"))\n+        balance = newbalance\n+\n+        # Verify that even with a low min relay fee, the tx is not reaccepted from wallet on startup once abandoned\n+        stop_node(self.nodes[0],0)\n+        self.nodes[0]=start_node(0, self.options.tmpdir, [\"-debug\",\"-logtimemicros\",\"-minrelaytxfee=0.00001\"])\n+        assert(len(self.nodes[0].getrawmempool()) == 0)\n+        assert(self.nodes[0].getbalance() == balance)\n+\n+        # But if its received again then it is unabandoned\n+        # And since now in mempool, the change is available\n+        # But its child tx remains abandoned\n+        self.nodes[0].sendrawtransaction(signed[\"hex\"])\n+        newbalance = self.nodes[0].getbalance()\n+        assert(newbalance == balance - Decimal(\"20\") + Decimal(\"14.99998\"))\n+        balance = newbalance\n+\n+        # Send child tx again so its unabandoned\n+        self.nodes[0].sendrawtransaction(signed2[\"hex\"])",
    "path": "qa/rpc-tests/abandonconflict.py",
    "position": 110,
    "original_position": 110,
    "commit_id": "d11fc1695c0453ef22a633e516726f82717dd1d9",
    "original_commit_id": "d7168667b37da8051deca3bf13d967e813d7423b",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Shouldn't `resendwallettransactions` do the same? I get the empty array on `resendwallettransactions`.\n",
    "created_at": "2016-01-08T19:43:11Z",
    "updated_at": "2016-01-13T13:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49229186",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49229186"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49229186"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49229186/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 110,
    "original_line": 110,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49303648",
    "pull_request_review_id": null,
    "id": 49303648,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAzNjQ4",
    "diff_hunk": "@@ -768,6 +779,63 @@ bool CWallet::AddToWalletIfInvolvingMe(const CTransaction& tx, const CBlock* pbl\n     return false;\n }\n \n+bool CWallet::AbandonTransaction(const uint256& hashTx)\n+{\n+    LOCK2(cs_main, cs_wallet);\n+\n+    // Do not flush the wallet here for performance reasons\n+    CWalletDB walletdb(strWalletFile, \"r+\", false);\n+\n+    std::set<uint256> todo;\n+    std::set<uint256> done;\n+\n+    // Can't mark abandoned if confirmed or in mempool\n+    assert(mapWallet.count(hashTx));\n+    CWalletTx& origtx = mapWallet[hashTx];\n+    if (origtx.GetDepthInMainChain() > 0 || origtx.InMempool()) {\n+        return false;\n+    }\n+\n+    todo.insert(hashTx);\n+\n+    while (!todo.empty()) {\n+        uint256 now = *todo.begin();\n+        todo.erase(now);\n+        done.insert(now);\n+        assert(mapWallet.count(now));\n+        CWalletTx& wtx = mapWallet[now];\n+        int currentconfirm = wtx.GetDepthInMainChain();\n+        // If the orig tx was not in block, none of its spends can be\n+        assert(currentconfirm <= 0);\n+        // if (currentconfirm < 0) {Tx and spends are already conflicted, no need to abandon}\n+        if (currentconfirm == 0 && !wtx.isAbandoned()) {\n+            // If the orig tx was not in block/mempool, none of its spends can be in mempool\n+            assert(!wtx.InMempool());\n+            wtx.nIndex = -1;\n+            wtx.setAbandoned();\n+            wtx.MarkDirty();\n+            wtx.WriteToDisk(&walletdb);",
    "path": "src/wallet/wallet.cpp",
    "position": 95,
    "original_position": 95,
    "commit_id": "d11fc1695c0453ef22a633e516726f82717dd1d9",
    "original_commit_id": "d7168667b37da8051deca3bf13d967e813d7423b",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think here we also need a `NotifyTransactionChanged(this, wtx.GetHash(), CT_UPDATED);` Otherwise the signal listeners (UI) can't recalculate the balance.\n",
    "created_at": "2016-01-11T09:54:55Z",
    "updated_at": "2016-01-13T13:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49303648",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49303648"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49303648"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49303648/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 817,
    "original_line": 817,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49303690",
    "pull_request_review_id": null,
    "id": 49303690,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAzNjkw",
    "diff_hunk": "@@ -768,6 +779,63 @@ bool CWallet::AddToWalletIfInvolvingMe(const CTransaction& tx, const CBlock* pbl\n     return false;\n }\n \n+bool CWallet::AbandonTransaction(const uint256& hashTx)\n+{\n+    LOCK2(cs_main, cs_wallet);\n+\n+    // Do not flush the wallet here for performance reasons\n+    CWalletDB walletdb(strWalletFile, \"r+\", false);\n+\n+    std::set<uint256> todo;\n+    std::set<uint256> done;\n+\n+    // Can't mark abandoned if confirmed or in mempool\n+    assert(mapWallet.count(hashTx));\n+    CWalletTx& origtx = mapWallet[hashTx];\n+    if (origtx.GetDepthInMainChain() > 0 || origtx.InMempool()) {\n+        return false;\n+    }\n+\n+    todo.insert(hashTx);\n+\n+    while (!todo.empty()) {\n+        uint256 now = *todo.begin();\n+        todo.erase(now);\n+        done.insert(now);\n+        assert(mapWallet.count(now));\n+        CWalletTx& wtx = mapWallet[now];\n+        int currentconfirm = wtx.GetDepthInMainChain();\n+        // If the orig tx was not in block, none of its spends can be\n+        assert(currentconfirm <= 0);\n+        // if (currentconfirm < 0) {Tx and spends are already conflicted, no need to abandon}\n+        if (currentconfirm == 0 && !wtx.isAbandoned()) {\n+            // If the orig tx was not in block/mempool, none of its spends can be in mempool\n+            assert(!wtx.InMempool());\n+            wtx.nIndex = -1;\n+            wtx.setAbandoned();\n+            wtx.MarkDirty();\n+            wtx.WriteToDisk(&walletdb);\n+            // Iterate over all its outputs, and mark transactions in the wallet that spend them abandoned too\n+            TxSpends::const_iterator iter = mapTxSpends.lower_bound(COutPoint(hashTx, 0));\n+            while (iter != mapTxSpends.end() && iter->first.hash == now) {\n+                if (!done.count(iter->second)) {\n+                    todo.insert(iter->second);\n+                }\n+                iter++;\n+            }\n+            // If a transaction changes 'conflicted' state, that changes the balance\n+            // available of the outputs it spends. So force those to be recomputed\n+            BOOST_FOREACH(const CTxIn& txin, wtx.vin)\n+            {\n+                if (mapWallet.count(txin.prevout.hash))\n+                    mapWallet[txin.prevout.hash].MarkDirty();",
    "path": "src/wallet/wallet.cpp",
    "position": 110,
    "original_position": 109,
    "commit_id": "d11fc1695c0453ef22a633e516726f82717dd1d9",
    "original_commit_id": "d7168667b37da8051deca3bf13d967e813d7423b",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "~~Probably also here:\n`NotifyTransactionChanged(this, txin.prevout.hash, CT_UPDATED);`~~\n",
    "created_at": "2016-01-11T09:55:27Z",
    "updated_at": "2016-01-13T13:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49303690",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49303690"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49303690"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49303690/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 832,
    "original_line": 831,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49590752",
    "pull_request_review_id": null,
    "id": 49590752,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTkwNzUy",
    "diff_hunk": "@@ -0,0 +1,153 @@\n+#!/usr/bin/env python2\n+# Copyright (c) 2014-2015 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+try:\n+    import urllib.parse as urlparse\n+except ImportError:\n+    import urlparse\n+\n+class AbandonConflictTest(BitcoinTestFramework):\n+\n+    def setup_network(self):\n+        self.nodes = []\n+        self.nodes.append(start_node(0, self.options.tmpdir, [\"-debug\",\"-logtimemicros\",\"-minrelaytxfee=0.00001\"]))\n+        self.nodes.append(start_node(1, self.options.tmpdir, [\"-debug\",\"-logtimemicros\"]))\n+        connect_nodes(self.nodes[0], 1)\n+\n+    def run_test(self):\n+        self.nodes[1].generate(100)\n+        sync_blocks(self.nodes)\n+        balance = self.nodes[0].getbalance()\n+        txA = self.nodes[0].sendtoaddress(self.nodes[0].getnewaddress(), Decimal(\"10\"))\n+        txB = self.nodes[0].sendtoaddress(self.nodes[0].getnewaddress(), Decimal(\"10\"))\n+        txC = self.nodes[0].sendtoaddress(self.nodes[0].getnewaddress(), Decimal(\"10\"))\n+        sync_mempools(self.nodes)\n+        self.nodes[1].generate(1)\n+\n+        sync_blocks(self.nodes)\n+        newbalance = self.nodes[0].getbalance()\n+        assert(balance - newbalance < Decimal(\"0.001\")) #no more than fees lost\n+        balance = newbalance\n+\n+        url = urlparse.urlparse(self.nodes[1].url)\n+        self.nodes[0].disconnectnode(url.hostname+\":\"+str(p2p_port(1)))\n+\n+        # Identify the 10btc outputs\n+        nA = next(i for i, vout in enumerate(self.nodes[0].getrawtransaction(txA, 1)[\"vout\"]) if vout[\"value\"] == Decimal(\"10\"))\n+        nB = next(i for i, vout in enumerate(self.nodes[0].getrawtransaction(txB, 1)[\"vout\"]) if vout[\"value\"] == Decimal(\"10\"))\n+        nC = next(i for i, vout in enumerate(self.nodes[0].getrawtransaction(txC, 1)[\"vout\"]) if vout[\"value\"] == Decimal(\"10\"))\n+\n+        inputs =[]\n+        # spend 10btc outputs from txA and txB\n+        inputs.append({\"txid\":txA, \"vout\":nA})\n+        inputs.append({\"txid\":txB, \"vout\":nB})\n+        outputs = {}\n+\n+        outputs[self.nodes[0].getnewaddress()] = Decimal(\"14.99998\")\n+        outputs[self.nodes[1].getnewaddress()] = Decimal(\"5\")\n+        signed = self.nodes[0].signrawtransaction(self.nodes[0].createrawtransaction(inputs, outputs))\n+        txAB1 = self.nodes[0].sendrawtransaction(signed[\"hex\"])\n+\n+        # Identify the 14.99998btc output\n+        nAB = next(i for i, vout in enumerate(self.nodes[0].getrawtransaction(txAB1, 1)[\"vout\"]) if vout[\"value\"] == Decimal(\"14.99998\"))\n+\n+        #Create a child tx spending AB1 and C\n+        inputs = []\n+        inputs.append({\"txid\":txAB1, \"vout\":nAB})\n+        inputs.append({\"txid\":txC, \"vout\":nC})\n+        outputs = {}\n+        outputs[self.nodes[0].getnewaddress()] = Decimal(\"24.9996\")\n+        signed2 = self.nodes[0].signrawtransaction(self.nodes[0].createrawtransaction(inputs, outputs))\n+        txABC2 = self.nodes[0].sendrawtransaction(signed2[\"hex\"])\n+\n+        # In mempool txs from self should increase balance from change\n+        newbalance = self.nodes[0].getbalance()\n+        assert(newbalance == balance - Decimal(\"30\") + Decimal(\"24.9996\"))\n+        balance = newbalance\n+\n+        # Restart the node with a higher min relay fee so the parent tx is no longer in mempool\n+        # TODO: redo with eviction\n+        # Note had to make sure tx did not have AllowFree priority\n+        stop_node(self.nodes[0],0)\n+        self.nodes[0]=start_node(0, self.options.tmpdir, [\"-debug\",\"-logtimemicros\",\"-minrelaytxfee=0.0001\"])\n+\n+        # Verify txs no longer in mempool\n+        assert(len(self.nodes[0].getrawmempool()) == 0)\n+\n+        # Not in mempool txs from self should only reduce balance\n+        # inputs are still spent, but change not received\n+        newbalance = self.nodes[0].getbalance()\n+        assert(newbalance == balance - Decimal(\"24.9996\"))\n+        balance = newbalance\n+\n+        # Abandon original transaction and verify inputs are available again\n+        # including that the child tx was also abandoned\n+        self.nodes[0].abandontransaction(txAB1)\n+        newbalance = self.nodes[0].getbalance()\n+        assert(newbalance == balance + Decimal(\"30\"))\n+        balance = newbalance\n+\n+        # Verify that even with a low min relay fee, the tx is not reaccepted from wallet on startup once abandoned\n+        stop_node(self.nodes[0],0)\n+        self.nodes[0]=start_node(0, self.options.tmpdir, [\"-debug\",\"-logtimemicros\",\"-minrelaytxfee=0.00001\"])\n+        assert(len(self.nodes[0].getrawmempool()) == 0)\n+        assert(self.nodes[0].getbalance() == balance)\n+\n+        # But if its received again then it is unabandoned\n+        # And since now in mempool, the change is available\n+        # But its child tx remains abandoned\n+        self.nodes[0].sendrawtransaction(signed[\"hex\"])\n+        newbalance = self.nodes[0].getbalance()\n+        assert(newbalance == balance - Decimal(\"20\") + Decimal(\"14.99998\"))\n+        balance = newbalance\n+\n+        # Send child tx again so its unabandoned\n+        self.nodes[0].sendrawtransaction(signed2[\"hex\"])",
    "path": "qa/rpc-tests/abandonconflict.py",
    "position": 110,
    "original_position": 110,
    "commit_id": "d11fc1695c0453ef22a633e516726f82717dd1d9",
    "original_commit_id": "d7168667b37da8051deca3bf13d967e813d7423b",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I thought it made sense that abandoned transactions would not be automatically resent.\nThat way when you restart a bitcoind with transactions that you've tried to abandon, it wouldn't automatically try to send them all again\n",
    "created_at": "2016-01-13T13:44:22Z",
    "updated_at": "2016-01-13T13:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49590752",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49590752"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7312#discussion_r49590752"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7312"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/49590752/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 110,
    "original_line": 110,
    "side": "RIGHT"
  }
]