[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/203838086",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7756#issuecomment-203838086",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7756",
    "id": 203838086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzgzODA4Ng==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-31T09:12:35Z",
    "updated_at": "2016-03-31T09:12:35Z",
    "author_association": "MEMBER",
    "body": "Travis fail is unrelated (https://github.com/bitcoin/bitcoin/issues/7470#issuecomment-202332354), respinning.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/203838086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206312054",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7756#issuecomment-206312054",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7756",
    "id": 206312054,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjMxMjA1NA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-06T11:05:16Z",
    "updated_at": "2016-04-06T11:05:16Z",
    "author_association": "MEMBER",
    "body": "Rebased\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206312054/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206322046",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7756#issuecomment-206322046",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7756",
    "id": 206322046,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjMyMjA0Ng==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-06T11:28:37Z",
    "updated_at": "2016-04-06T11:28:37Z",
    "author_association": "MEMBER",
    "body": "> - rpc: Add method gettxoutsetinfo2 that uses new Cursor method\n\nThat seems outdated.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206322046/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206339906",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7756#issuecomment-206339906",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7756",
    "id": 206339906,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjMzOTkwNg==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-06T12:02:23Z",
    "updated_at": "2016-04-06T12:02:23Z",
    "author_association": "MEMBER",
    "body": "> That seems outdated.\n\nYes, I've removed that in the rebase, I had multiple commits with two `getutxosetinfo` in an intermediate step but that was annoying to rebase over #7766.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206339906/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/207743050",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7756#issuecomment-207743050",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7756",
    "id": 207743050,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzc0MzA1MA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-09T08:14:39Z",
    "updated_at": "2016-04-09T08:14:39Z",
    "author_association": "MEMBER",
    "body": "Pushed a commit that should address @sipa's comment: get rid of loop, no more chance of hiding failures.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/207743050/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/209031021",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7756#issuecomment-209031021",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7756",
    "id": 209031021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTAzMTAyMQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-12T17:59:38Z",
    "updated_at": "2016-04-12T17:59:38Z",
    "author_association": "MEMBER",
    "body": "utACK 299fad9\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/209031021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210484541",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7756#issuecomment-210484541",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7756",
    "id": 210484541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDQ4NDU0MQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-15T14:33:19Z",
    "updated_at": "2016-04-15T14:33:19Z",
    "author_association": "MEMBER",
    "body": "Squashed eacf28c 299fad9 into 509cb00\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210484541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58687618",
    "pull_request_review_id": null,
    "id": 58687618,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4Njg3NjE4",
    "diff_hunk": "@@ -45,7 +45,7 @@ bool CCoinsView::GetCoins(const uint256 &txid, CCoins &coins) const { return fal\n bool CCoinsView::HaveCoins(const uint256 &txid) const { return false; }\n uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n bool CCoinsView::BatchWrite(CCoinsMap &mapCoins, const uint256 &hashBlock) { return false; }\n-bool CCoinsView::GetStats(CCoinsStats &stats) const { return false; }\n+CCoinsViewCursor *CCoinsView::Cursor() const { return 0; }",
    "path": "src/coins.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "509cb006d514cece5ab7680094f033c8dc8a2318",
    "original_commit_id": "c1331def20f17405b28bd37176429b4cd9c8d189",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Using NULL would be clearer as it's a pointer.\n",
    "created_at": "2016-04-06T11:10:23Z",
    "updated_at": "2016-04-15T14:33:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7756#discussion_r58687618",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7756",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58687618"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7756#discussion_r58687618"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7756"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58687618/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 48,
    "original_line": 48,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58692992",
    "pull_request_review_id": null,
    "id": 58692992,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NjkyOTky",
    "diff_hunk": "@@ -45,7 +45,7 @@ bool CCoinsView::GetCoins(const uint256 &txid, CCoins &coins) const { return fal\n bool CCoinsView::HaveCoins(const uint256 &txid) const { return false; }\n uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n bool CCoinsView::BatchWrite(CCoinsMap &mapCoins, const uint256 &hashBlock) { return false; }\n-bool CCoinsView::GetStats(CCoinsStats &stats) const { return false; }\n+CCoinsViewCursor *CCoinsView::Cursor() const { return 0; }",
    "path": "src/coins.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "509cb006d514cece5ab7680094f033c8dc8a2318",
    "original_commit_id": "c1331def20f17405b28bd37176429b4cd9c8d189",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Bjarne Stroustrup taught me not to use NULL in c++ code: http://www.stroustrup.com/bs_faq2.html#null\nI don't care deeply about this though.\n",
    "created_at": "2016-04-06T12:05:37Z",
    "updated_at": "2016-04-15T14:33:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7756#discussion_r58692992",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7756",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58692992"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7756#discussion_r58692992"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7756"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58692992/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 48,
    "original_line": 48,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58718514",
    "pull_request_review_id": null,
    "id": 58718514,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzE4NTE0",
    "diff_hunk": "@@ -45,7 +45,7 @@ bool CCoinsView::GetCoins(const uint256 &txid, CCoins &coins) const { return fal\n bool CCoinsView::HaveCoins(const uint256 &txid) const { return false; }\n uint256 CCoinsView::GetBestBlock() const { return uint256(); }\n bool CCoinsView::BatchWrite(CCoinsMap &mapCoins, const uint256 &hashBlock) { return false; }\n-bool CCoinsView::GetStats(CCoinsStats &stats) const { return false; }\n+CCoinsViewCursor *CCoinsView::Cursor() const { return 0; }",
    "path": "src/coins.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "509cb006d514cece5ab7680094f033c8dc8a2318",
    "original_commit_id": "c1331def20f17405b28bd37176429b4cd9c8d189",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Interesting. Comment retracted.\n",
    "created_at": "2016-04-06T14:49:25Z",
    "updated_at": "2016-04-15T14:33:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7756#discussion_r58718514",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7756",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58718514"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7756#discussion_r58718514"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7756"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58718514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 48,
    "original_line": 48,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58719141",
    "pull_request_review_id": null,
    "id": 58719141,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzE5MTQx",
    "diff_hunk": "@@ -94,50 +94,53 @@ bool CBlockTreeDB::ReadLastBlockFile(int &nFile) {\n     return Read(DB_LAST_BLOCK, nFile);\n }\n \n-bool CCoinsViewDB::GetStats(CCoinsStats &stats) const {\n+CCoinsViewCursor *CCoinsViewDB::Cursor() const\n+{\n+    CCoinsViewDBCursor *i = new CCoinsViewDBCursor(const_cast<CDBWrapper*>(&db)->NewIterator(), GetBestBlock());\n     /* It seems that there are no \"const iterators\" for LevelDB.  Since we\n        only need read operations on it, use a const-cast to get around\n        that restriction.  */\n-    boost::scoped_ptr<CDBIterator> pcursor(const_cast<CDBWrapper*>(&db)->NewIterator());\n-    pcursor->Seek(DB_COINS);\n+    i->pcursor->Seek(DB_COINS);\n+    // Cache key of first record\n+    i->pcursor->GetKey(i->keyTmp);\n+    return i;\n+}\n \n-    CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n-    stats.hashBlock = GetBestBlock();\n-    ss << stats.hashBlock;\n-    CAmount nTotalAmount = 0;\n-    while (pcursor->Valid()) {\n-        boost::this_thread::interruption_point();\n-        std::pair<char, uint256> key;\n-        CCoins coins;\n-        if (pcursor->GetKey(key) && key.first == DB_COINS) {\n-            if (pcursor->GetValue(coins)) {\n-                stats.nTransactions++;\n-                for (unsigned int i=0; i<coins.vout.size(); i++) {\n-                    const CTxOut &out = coins.vout[i];\n-                    if (!out.IsNull()) {\n-                        stats.nTransactionOutputs++;\n-                        ss << VARINT(i+1);\n-                        ss << out;\n-                        nTotalAmount += out.nValue;\n-                    }\n-                }\n-                stats.nSerializedSize += 32 + pcursor->GetValueSize();\n-                ss << VARINT(0);\n-            } else {\n-                return error(\"CCoinsViewDB::GetStats() : unable to read value\");\n-            }\n-        } else {\n-            break;\n-        }\n-        pcursor->Next();\n+bool CCoinsViewDBCursor::GetKey(uint256 &key) const\n+{\n+    // Return cached key\n+    if (keyTmp.first == DB_COINS) {\n+        key = keyTmp.second;\n+        return true;\n     }\n-    {\n-        LOCK(cs_main);\n-        stats.nHeight = mapBlockIndex.find(stats.hashBlock)->second->nHeight;\n+    return false;\n+}\n+\n+bool CCoinsViewDBCursor::GetValue(CCoins &coins) const\n+{\n+    return pcursor->GetValue(coins);\n+}\n+\n+unsigned int CCoinsViewDBCursor::GetValueSize() const\n+{\n+    return pcursor->GetValueSize();\n+}\n+\n+bool CCoinsViewDBCursor::Valid() const\n+{\n+    return pcursor->Valid();\n+}\n+\n+void CCoinsViewDBCursor::Next()\n+{\n+    while (true) {",
    "path": "src/txdb.cpp",
    "position": null,
    "original_position": 78,
    "commit_id": "509cb006d514cece5ab7680094f033c8dc8a2318",
    "original_commit_id": "eacf28cb382a9cac92981c2d8389a00468d9a42d",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This should never loop more than once, I think? Seems that the loop here could hide potential problems.\n",
    "created_at": "2016-04-06T14:52:32Z",
    "updated_at": "2016-04-15T14:33:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7756#discussion_r58719141",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7756",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58719141"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7756#discussion_r58719141"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7756"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58719141/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 136,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58719259",
    "pull_request_review_id": null,
    "id": 58719259,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzE5MjU5",
    "diff_hunk": "@@ -94,50 +94,53 @@ bool CBlockTreeDB::ReadLastBlockFile(int &nFile) {\n     return Read(DB_LAST_BLOCK, nFile);\n }\n \n-bool CCoinsViewDB::GetStats(CCoinsStats &stats) const {\n+CCoinsViewCursor *CCoinsViewDB::Cursor() const\n+{\n+    CCoinsViewDBCursor *i = new CCoinsViewDBCursor(const_cast<CDBWrapper*>(&db)->NewIterator(), GetBestBlock());\n     /* It seems that there are no \"const iterators\" for LevelDB.  Since we\n        only need read operations on it, use a const-cast to get around\n        that restriction.  */\n-    boost::scoped_ptr<CDBIterator> pcursor(const_cast<CDBWrapper*>(&db)->NewIterator());\n-    pcursor->Seek(DB_COINS);\n+    i->pcursor->Seek(DB_COINS);\n+    // Cache key of first record\n+    i->pcursor->GetKey(i->keyTmp);\n+    return i;\n+}\n \n-    CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n-    stats.hashBlock = GetBestBlock();\n-    ss << stats.hashBlock;\n-    CAmount nTotalAmount = 0;\n-    while (pcursor->Valid()) {\n-        boost::this_thread::interruption_point();\n-        std::pair<char, uint256> key;\n-        CCoins coins;\n-        if (pcursor->GetKey(key) && key.first == DB_COINS) {\n-            if (pcursor->GetValue(coins)) {\n-                stats.nTransactions++;\n-                for (unsigned int i=0; i<coins.vout.size(); i++) {\n-                    const CTxOut &out = coins.vout[i];\n-                    if (!out.IsNull()) {\n-                        stats.nTransactionOutputs++;\n-                        ss << VARINT(i+1);\n-                        ss << out;\n-                        nTotalAmount += out.nValue;\n-                    }\n-                }\n-                stats.nSerializedSize += 32 + pcursor->GetValueSize();\n-                ss << VARINT(0);\n-            } else {\n-                return error(\"CCoinsViewDB::GetStats() : unable to read value\");\n-            }\n-        } else {\n-            break;\n-        }\n-        pcursor->Next();\n+bool CCoinsViewDBCursor::GetKey(uint256 &key) const\n+{\n+    // Return cached key\n+    if (keyTmp.first == DB_COINS) {\n+        key = keyTmp.second;\n+        return true;\n     }\n-    {\n-        LOCK(cs_main);\n-        stats.nHeight = mapBlockIndex.find(stats.hashBlock)->second->nHeight;\n+    return false;\n+}\n+\n+bool CCoinsViewDBCursor::GetValue(CCoins &coins) const\n+{\n+    return pcursor->GetValue(coins);\n+}\n+\n+unsigned int CCoinsViewDBCursor::GetValueSize() const\n+{\n+    return pcursor->GetValueSize();\n+}\n+\n+bool CCoinsViewDBCursor::Valid() const\n+{\n+    return pcursor->Valid();\n+}\n+\n+void CCoinsViewDBCursor::Next()\n+{\n+    while (true) {\n+        pcursor->Next();\n+        if (!pcursor->Valid())\n+            return;\n+        if (pcursor->GetKey(keyTmp) && keyTmp.first == DB_COINS)\n+            return;\n     }\n-    stats.hashSerialized = ss.GetHash();\n-    stats.nTotalAmount = nTotalAmount;\n-    return true;\n+    keyTmp.first = 0; // Invalidate cached key after last record so that GetKey() returns false",
    "path": "src/txdb.cpp",
    "position": null,
    "original_position": 88,
    "commit_id": "509cb006d514cece5ab7680094f033c8dc8a2318",
    "original_commit_id": "eacf28cb382a9cac92981c2d8389a00468d9a42d",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Unreachable code?\n",
    "created_at": "2016-04-06T14:53:08Z",
    "updated_at": "2016-04-15T14:33:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7756#discussion_r58719259",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7756",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58719259"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7756#discussion_r58719259"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7756"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58719259/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 143,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59012843",
    "pull_request_review_id": null,
    "id": 59012843,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDEyODQz",
    "diff_hunk": "@@ -94,50 +94,53 @@ bool CBlockTreeDB::ReadLastBlockFile(int &nFile) {\n     return Read(DB_LAST_BLOCK, nFile);\n }\n \n-bool CCoinsViewDB::GetStats(CCoinsStats &stats) const {\n+CCoinsViewCursor *CCoinsViewDB::Cursor() const\n+{\n+    CCoinsViewDBCursor *i = new CCoinsViewDBCursor(const_cast<CDBWrapper*>(&db)->NewIterator(), GetBestBlock());\n     /* It seems that there are no \"const iterators\" for LevelDB.  Since we\n        only need read operations on it, use a const-cast to get around\n        that restriction.  */\n-    boost::scoped_ptr<CDBIterator> pcursor(const_cast<CDBWrapper*>(&db)->NewIterator());\n-    pcursor->Seek(DB_COINS);\n+    i->pcursor->Seek(DB_COINS);\n+    // Cache key of first record\n+    i->pcursor->GetKey(i->keyTmp);\n+    return i;\n+}\n \n-    CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n-    stats.hashBlock = GetBestBlock();\n-    ss << stats.hashBlock;\n-    CAmount nTotalAmount = 0;\n-    while (pcursor->Valid()) {\n-        boost::this_thread::interruption_point();\n-        std::pair<char, uint256> key;\n-        CCoins coins;\n-        if (pcursor->GetKey(key) && key.first == DB_COINS) {\n-            if (pcursor->GetValue(coins)) {\n-                stats.nTransactions++;\n-                for (unsigned int i=0; i<coins.vout.size(); i++) {\n-                    const CTxOut &out = coins.vout[i];\n-                    if (!out.IsNull()) {\n-                        stats.nTransactionOutputs++;\n-                        ss << VARINT(i+1);\n-                        ss << out;\n-                        nTotalAmount += out.nValue;\n-                    }\n-                }\n-                stats.nSerializedSize += 32 + pcursor->GetValueSize();\n-                ss << VARINT(0);\n-            } else {\n-                return error(\"CCoinsViewDB::GetStats() : unable to read value\");\n-            }\n-        } else {\n-            break;\n-        }\n-        pcursor->Next();\n+bool CCoinsViewDBCursor::GetKey(uint256 &key) const\n+{\n+    // Return cached key\n+    if (keyTmp.first == DB_COINS) {\n+        key = keyTmp.second;\n+        return true;\n     }\n-    {\n-        LOCK(cs_main);\n-        stats.nHeight = mapBlockIndex.find(stats.hashBlock)->second->nHeight;\n+    return false;\n+}\n+\n+bool CCoinsViewDBCursor::GetValue(CCoins &coins) const\n+{\n+    return pcursor->GetValue(coins);\n+}\n+\n+unsigned int CCoinsViewDBCursor::GetValueSize() const\n+{\n+    return pcursor->GetValueSize();\n+}\n+\n+bool CCoinsViewDBCursor::Valid() const\n+{\n+    return pcursor->Valid();\n+}\n+\n+void CCoinsViewDBCursor::Next()\n+{\n+    while (true) {",
    "path": "src/txdb.cpp",
    "position": null,
    "original_position": 78,
    "commit_id": "509cb006d514cece5ab7680094f033c8dc8a2318",
    "original_commit_id": "eacf28cb382a9cac92981c2d8389a00468d9a42d",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Right, there can't be holes between DB_COINS records, will change this loop.\n",
    "created_at": "2016-04-08T11:42:14Z",
    "updated_at": "2016-04-15T14:33:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7756#discussion_r59012843",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7756",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59012843"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7756#discussion_r59012843"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7756"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59012843/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 136,
    "side": "RIGHT"
  }
]