[
  {
    "sha": "9c24588e73f4b905809931008741d85ec3c902d1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5YzI0NTg4ZTczZjRiOTA1ODA5OTMxMDA4NzQxZDg1ZWMzYzkwMmQx",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-21T21:15:28Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-04-06T13:29:18Z"
      },
      "message": "updated db.cpp to use make_preferred()",
      "tree": {
        "sha": "7072511bb8c55adb50103f760b944e3027ec5ae1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7072511bb8c55adb50103f760b944e3027ec5ae1"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9c24588e73f4b905809931008741d85ec3c902d1",
      "comment_count": 9,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9c24588e73f4b905809931008741d85ec3c902d1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/9c24588e73f4b905809931008741d85ec3c902d1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9c24588e73f4b905809931008741d85ec3c902d1/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "9362da78b0d8f0dd7bbad259adcb3e4d0cf58e56",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9362da78b0d8f0dd7bbad259adcb3e4d0cf58e56",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/9362da78b0d8f0dd7bbad259adcb3e4d0cf58e56"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 10,
      "deletions": 6
    },
    "files": [
      {
        "sha": "7bd89b66eaeb8f6546bb1c32e819e009a57cf147",
        "filename": "src/db.cpp",
        "status": "modified",
        "additions": 10,
        "deletions": 6,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9c24588e73f4b905809931008741d85ec3c902d1/src/db.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9c24588e73f4b905809931008741d85ec3c902d1/src/db.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/db.cpp?ref=9c24588e73f4b905809931008741d85ec3c902d1",
        "patch": "@@ -79,19 +79,21 @@ CDB::CDB(const char* pszFile, const char* pszMode) : pdb(NULL)\n             if (fShutdown)\n                 return;\n             string strDataDir = GetDataDir();\n-            string strLogDir = strDataDir + \"/database\";\n-            filesystem::create_directory(strLogDir.c_str());\n-            string strErrorFile = strDataDir + \"/db.log\";\n-            printf(\"dbenv.open strLogDir=%s strErrorFile=%s\\n\", strLogDir.c_str(), strErrorFile.c_str());\n+            filesystem::path pathLogDir(strDataDir + \"/database\");\n+            pathLogDir.make_preferred();\n+            filesystem::create_directory(pathLogDir);\n+            filesystem::path pathErrorFile(strDataDir + \"/db.log\");\n+            pathErrorFile.make_preferred();\n+            printf(\"dbenv.open LogDir=%s ErrorFile=%s\\n\", pathLogDir.string().c_str(), pathErrorFile.string().c_str());\n \n             int nDbCache = GetArg(\"-dbcache\", 25);\n-            dbenv.set_lg_dir(strLogDir.c_str());\n+            dbenv.set_lg_dir(pathLogDir.string().c_str());\n             dbenv.set_cachesize(nDbCache / 1024, (nDbCache % 1024)*1048576, 1);\n             dbenv.set_lg_bsize(1048576);\n             dbenv.set_lg_max(10485760);\n             dbenv.set_lk_max_locks(10000);\n             dbenv.set_lk_max_objects(10000);\n-            dbenv.set_errfile(fopen(strErrorFile.c_str(), \"a\")); /// debug\n+            dbenv.set_errfile(fopen(pathErrorFile.string().c_str(), \"a\")); /// debug\n             dbenv.set_flags(DB_AUTO_COMMIT, 1);\n             dbenv.log_set_config(DB_LOG_AUTO_REMOVE, 1);\n             ret = dbenv.open(strDataDir.c_str(),\n@@ -1172,7 +1174,9 @@ bool BackupWallet(const CWallet& wallet, const string& strDest)\n \n                 // Copy wallet.dat\n                 filesystem::path pathSrc(GetDataDir() + \"/\" + wallet.strWalletFile);\n+                pathSrc.make_preferred();\n                 filesystem::path pathDest(strDest);\n+                pathDest.make_preferred();\n                 if (filesystem::is_directory(pathDest))\n                     pathDest = pathDest / wallet.strWalletFile;\n "
      }
    ]
  },
  {
    "sha": "93fb7489a74db621d66bb5fe81acdc49603acd03",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5M2ZiNzQ4OWE3NGRiNjIxZDY2YmI1ZmU4MWFjZGM0OTYwM2FjZDAz",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-31T13:05:55Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-04-06T13:29:19Z"
      },
      "message": "updated bitcoinrpc.cpp to use make_preferred() and removed double inclusion of boost/filesystem.hpp",
      "tree": {
        "sha": "26f1f5b68ddd91990e1ed669e54f4567d834db6e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/26f1f5b68ddd91990e1ed669e54f4567d834db6e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/93fb7489a74db621d66bb5fe81acdc49603acd03",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/93fb7489a74db621d66bb5fe81acdc49603acd03",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/93fb7489a74db621d66bb5fe81acdc49603acd03",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/93fb7489a74db621d66bb5fe81acdc49603acd03/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "9c24588e73f4b905809931008741d85ec3c902d1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9c24588e73f4b905809931008741d85ec3c902d1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/9c24588e73f4b905809931008741d85ec3c902d1"
      }
    ],
    "stats": {
      "total": 28,
      "additions": 15,
      "deletions": 13
    },
    "files": [
      {
        "sha": "d9ea4ddf42bd4f827c86af919baa37119c1b9e46",
        "filename": "src/bitcoinrpc.cpp",
        "status": "modified",
        "additions": 15,
        "deletions": 13,
        "changes": 28,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/93fb7489a74db621d66bb5fe81acdc49603acd03/src/bitcoinrpc.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/93fb7489a74db621d66bb5fe81acdc49603acd03/src/bitcoinrpc.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoinrpc.cpp?ref=93fb7489a74db621d66bb5fe81acdc49603acd03",
        "patch": "@@ -15,7 +15,6 @@\n #include <boost/algorithm/string.hpp>\n #include <boost/lexical_cast.hpp>\n #include <boost/asio/ssl.hpp> \n-#include <boost/filesystem.hpp>\n #include <boost/filesystem/fstream.hpp>\n typedef boost::asio::ssl::stream<boost::asio::ip::tcp::socket> SSLStream;\n \n@@ -2385,18 +2384,21 @@ void ThreadRPCServer2(void* parg)\n     if (fUseSSL)\n     {\n         context.set_options(ssl::context::no_sslv2);\n-        filesystem::path certfile = GetArg(\"-rpcsslcertificatechainfile\", \"server.cert\");\n-        if (!certfile.is_complete()) certfile = filesystem::path(GetDataDir()) / certfile;\n-        if (filesystem::exists(certfile)) context.use_certificate_chain_file(certfile.string().c_str());\n-        else printf(\"ThreadRPCServer ERROR: missing server certificate file %s\\n\", certfile.string().c_str());\n-        filesystem::path pkfile = GetArg(\"-rpcsslprivatekeyfile\", \"server.pem\");\n-        if (!pkfile.is_complete()) pkfile = filesystem::path(GetDataDir()) / pkfile;\n-        if (filesystem::exists(pkfile)) context.use_private_key_file(pkfile.string().c_str(), ssl::context::pem);\n-        else printf(\"ThreadRPCServer ERROR: missing server private key file %s\\n\", pkfile.string().c_str());\n-\n-        string ciphers = GetArg(\"-rpcsslciphers\",\n-                                         \"TLSv1+HIGH:!SSLv2:!aNULL:!eNULL:!AH:!3DES:@STRENGTH\");\n-        SSL_CTX_set_cipher_list(context.impl(), ciphers.c_str());\n+\n+        filesystem::path pathCertFile(GetArg(\"-rpcsslcertificatechainfile\", \"server.cert\"));\n+        if (!pathCertFile.is_complete()) pathCertFile = filesystem::path(GetDataDir()) / pathCertFile;\n+        pathCertFile.make_preferred();\n+        if (filesystem::exists(pathCertFile)) context.use_certificate_chain_file(certfile.string().c_str());\n+        else printf(\"ThreadRPCServer ERROR: missing server certificate file %s\\n\", pathCertFile.string().c_str());\n+\n+        filesystem::path pathPKFile(GetArg(\"-rpcsslprivatekeyfile\", \"server.pem\"));\n+        if (!pathPKFile.is_complete()) pathPKFile = filesystem::path(GetDataDir()) / pathPKFile;\n+        pathPKFile.make_preferred();\n+        if (filesystem::exists(pathPKFile)) context.use_private_key_file(pkfile.string().c_str(), ssl::context::pem);\n+        else printf(\"ThreadRPCServer ERROR: missing server private key file %s\\n\", pathPKFile.string().c_str());\n+\n+        string strCiphers = GetArg(\"-rpcsslciphers\", \"TLSv1+HIGH:!SSLv2:!aNULL:!eNULL:!AH:!3DES:@STRENGTH\");\n+        SSL_CTX_set_cipher_list(context.impl(), strCiphers.c_str());\n     }\n \n     loop"
      }
    ]
  },
  {
    "sha": "36949554ab1a0466dbee80bbab7a7b2aa74a4cec",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozNjk0OTU1NGFiMWEwNDY2ZGJlZTgwYmJhYjdhN2IyYWE3NGE0Y2Vj",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-31T13:22:45Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-04-06T13:29:20Z"
      },
      "message": "updated util.cpp to use make_preferred()",
      "tree": {
        "sha": "06024ed0313e5795713245fac4dafc70ec782649",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/06024ed0313e5795713245fac4dafc70ec782649"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/36949554ab1a0466dbee80bbab7a7b2aa74a4cec",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/36949554ab1a0466dbee80bbab7a7b2aa74a4cec",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/36949554ab1a0466dbee80bbab7a7b2aa74a4cec",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/36949554ab1a0466dbee80bbab7a7b2aa74a4cec/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "93fb7489a74db621d66bb5fe81acdc49603acd03",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/93fb7489a74db621d66bb5fe81acdc49603acd03",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/93fb7489a74db621d66bb5fe81acdc49603acd03"
      }
    ],
    "stats": {
      "total": 23,
      "additions": 14,
      "deletions": 9
    },
    "files": [
      {
        "sha": "70f429b7fc7e48c5fd516f640934911db49ad269",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 14,
        "deletions": 9,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/36949554ab1a0466dbee80bbab7a7b2aa74a4cec/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/36949554ab1a0466dbee80bbab7a7b2aa74a4cec/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=36949554ab1a0466dbee80bbab7a7b2aa74a4cec",
        "patch": "@@ -2,6 +2,7 @@\n // Copyright (c) 2009-2012 The Bitcoin developers\n // Distributed under the MIT/X11 software license, see the accompanying\n // file license.txt or http://www.opensource.org/licenses/mit-license.php.\n+\n #include \"headers.h\"\n #include \"strlcpy.h\"\n #include <boost/algorithm/string/join.hpp>\n@@ -858,10 +859,11 @@ string GetDataDir()\n string GetConfigFile()\n {\n     namespace fs = boost::filesystem;\n-    fs::path pathConfig(GetArg(\"-conf\", \"bitcoin.conf\"));\n-    if (!pathConfig.is_complete())\n-        pathConfig = fs::path(GetDataDir()) / pathConfig;\n-    return pathConfig.string();\n+\n+    fs::path pathConfigFile(GetArg(\"-conf\", \"bitcoin.conf\"));\n+    if (!pathConfigFile.is_complete()) pathConfigFile = fs::path(GetDataDir()) / pathConfigFile;\n+    pathConfigFile.make_preferred();\n+    return pathConfigFile.string();\n }\n \n bool ReadConfigFile(map<string, string>& mapSettingsRet,\n@@ -874,7 +876,9 @@ bool ReadConfigFile(map<string, string>& mapSettingsRet,\n     {\n         if (fs::is_directory(fs::system_complete(mapSettingsRet[\"-datadir\"])))\n         {\n-            fs::path pathDataDir = fs::system_complete(mapSettingsRet[\"-datadir\"]);\n+            fs::path pathDataDir(fs::system_complete(mapSettingsRet[\"-datadir\"]));\n+            pathDataDir.make_preferred();\n+\n             strlcpy(pszSetDataDir, pathDataDir.string().c_str(), sizeof(pszSetDataDir));\n         }\n         else\n@@ -908,10 +912,11 @@ bool ReadConfigFile(map<string, string>& mapSettingsRet,\n string GetPidFile()\n {\n     namespace fs = boost::filesystem;\n-    fs::path pathConfig(GetArg(\"-pid\", \"bitcoind.pid\"));\n-    if (!pathConfig.is_complete())\n-        pathConfig = fs::path(GetDataDir()) / pathConfig;\n-    return pathConfig.string();\n+\n+    fs::path pathPidFile(GetArg(\"-pid\", \"bitcoind.pid\"));\n+    if (!pathPidFile.is_complete()) pathPidFile = fs::path(GetDataDir()) / pathPidFile;\n+    pathPidFile.make_preferred();\n+    return pathPidFile.string();\n }\n \n void CreatePidFile(string pidFile, pid_t pid)"
      }
    ]
  },
  {
    "sha": "42c63d3ad2e3d3d64d23f01c0286edbeacff82ae",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0MmM2M2QzYWQyZTNkM2Q2NGQyM2YwMWMwMjg2ZWRiZWFjZmY4MmFl",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-04-06T13:31:28Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-04-06T13:31:28Z"
      },
      "message": "fixed small error in bitcoinrpc.cpp",
      "tree": {
        "sha": "a88e21fedfec452ac2d4345f1dafc317e2bd667a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a88e21fedfec452ac2d4345f1dafc317e2bd667a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/42c63d3ad2e3d3d64d23f01c0286edbeacff82ae",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/42c63d3ad2e3d3d64d23f01c0286edbeacff82ae",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/42c63d3ad2e3d3d64d23f01c0286edbeacff82ae",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/42c63d3ad2e3d3d64d23f01c0286edbeacff82ae/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "36949554ab1a0466dbee80bbab7a7b2aa74a4cec",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/36949554ab1a0466dbee80bbab7a7b2aa74a4cec",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/36949554ab1a0466dbee80bbab7a7b2aa74a4cec"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "7353d608b6b9d40364e99bae7cca8784d6ce32c5",
        "filename": "src/bitcoinrpc.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/42c63d3ad2e3d3d64d23f01c0286edbeacff82ae/src/bitcoinrpc.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/42c63d3ad2e3d3d64d23f01c0286edbeacff82ae/src/bitcoinrpc.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoinrpc.cpp?ref=42c63d3ad2e3d3d64d23f01c0286edbeacff82ae",
        "patch": "@@ -2388,13 +2388,13 @@ void ThreadRPCServer2(void* parg)\n         filesystem::path pathCertFile(GetArg(\"-rpcsslcertificatechainfile\", \"server.cert\"));\n         if (!pathCertFile.is_complete()) pathCertFile = filesystem::path(GetDataDir()) / pathCertFile;\n         pathCertFile.make_preferred();\n-        if (filesystem::exists(pathCertFile)) context.use_certificate_chain_file(certfile.string().c_str());\n+        if (filesystem::exists(pathCertFile)) context.use_certificate_chain_file(pathCertFile.string().c_str());\n         else printf(\"ThreadRPCServer ERROR: missing server certificate file %s\\n\", pathCertFile.string().c_str());\n \n         filesystem::path pathPKFile(GetArg(\"-rpcsslprivatekeyfile\", \"server.pem\"));\n         if (!pathPKFile.is_complete()) pathPKFile = filesystem::path(GetDataDir()) / pathPKFile;\n         pathPKFile.make_preferred();\n-        if (filesystem::exists(pathPKFile)) context.use_private_key_file(pkfile.string().c_str(), ssl::context::pem);\n+        if (filesystem::exists(pathPKFile)) context.use_private_key_file(pathPKFile.string().c_str(), ssl::context::pem);\n         else printf(\"ThreadRPCServer ERROR: missing server private key file %s\\n\", pathPKFile.string().c_str());\n \n         string strCiphers = GetArg(\"-rpcsslciphers\", \"TLSv1+HIGH:!SSLv2:!aNULL:!eNULL:!AH:!3DES:@STRENGTH\");"
      }
    ]
  }
]