laanwj,2013-11-13T12:19:18Z,Checked the test_bitcoin.exe produced by the pull tester on WinXP: no errors in sprintf_tests.\n,https://github.com/bitcoin/bitcoin/pull/3244#issuecomment-28389999,28389999,
brandondahler,2013-11-13T12:37:42Z,"@laanwj continuing dicussion about using iostreams, would there be any known cross-compatibility issues with the switch?\n",https://github.com/bitcoin/bitcoin/pull/3244#issuecomment-28390939,28390939,
laanwj,2013-11-13T12:53:40Z,"@brandondahler This should be safe, and is only a very small change. As it works with the ancient mingw that pulltester uses (and on windows XP, which is the minimum Windows version that we support), it certainly works with latter ones.\n\nA later patch could switch to using boost::format and/or iostreams, but that would be a huge patch and touch every file and function in the core (breaking all o",https://github.com/bitcoin/bitcoin/pull/3244#issuecomment-28391736,28391736,
Diapolo,2013-11-13T15:45:46Z,"Tried it, still results in the compiler spaming warnings for me...\n",https://github.com/bitcoin/bitcoin/pull/3244#issuecomment-28405343,28405343,
laanwj,2013-11-13T15:53:11Z,"@Diapolo but does the resulting bitcointest work?\n\nI guess the reason that you get warnings is that the ATTR_WARN has to be changed to use C99 conventions too on WIN32:\n\n```\n#define ATTR_WARN_PRINTF(X,Y) __attribute__((format(printf,X,Y)))\n```\n\nCan you try changing it to?\n\n```\n#define ATTR_WARN_PRINTF(X,Y) __attribute__((format(gnu_printf,X,Y)))\n```\n\nEdit: already pushed this, works ",https://github.com/bitcoin/bitcoin/pull/3244#issuecomment-28406047,28406047,
Diapolo,2013-11-13T15:54:51Z,Let me check the executable...\n,https://github.com/bitcoin/bitcoin/pull/3244#issuecomment-28406202,28406202,
Diapolo,2013-11-13T16:15:21Z,<pre>\nRunning 103 test cases...\n*** No errors detected\n</pre>\n\nWin7 x64 with the test_bitcoin.exe from pulltester above. Still weird...\n,https://github.com/bitcoin/bitcoin/pull/3244#issuecomment-28408124,28408124,
Diapolo,2013-11-13T16:18:03Z,"Your latest change leads to this warnings:\n\n<pre>\nC:\Users\Diapolo\bitcoin.Qt\src\util.h: Warnung:format '%d' expects argument of type 'int', but argument 3 has type 'int64_t {aka long long int}' [-Wformat=]\n #define strprintf(format, ...) real_strprintf(format, 0, __VA_ARGS__)\n                                                                     ^\n</pre>\n\nor\n\n<pre>\nC:\Users\Diapolo\bitc",https://github.com/bitcoin/bitcoin/pull/3244#issuecomment-28408364,28408364,
BitcoinPullTester,2013-11-13T16:34:30Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/c82788effffda0758de20880b2925b42044ce08d for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/3244#issuecomment-28409911,28409911,
Diapolo,2013-11-13T16:36:38Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/3244#issuecomment-28410112,28410112,
Diapolo,2013-11-13T16:23:23Z,"It seems this did the final magic, I get no more warning with MinGW on Win7 x64. Drawback could be that we broke MSVC support? I really dunno, as I never tried that compiler and wont in the near future...\n",https://github.com/bitcoin/bitcoin/pull/3244#discussion_r7631108,7631108,src/util.h
laanwj,2013-11-13T16:29:37Z,"In theory, yes. But as I understand it, newer MSVCs (on Vista and newer) also support C99 syntax for printf format characters.\nThough I'm sure there are many small things that would have the be changed to successfully build in MSVC. \nNo one is bothering with that anyway at the moment.\n",https://github.com/bitcoin/bitcoin/pull/3244#discussion_r7631338,7631338,src/util.h
Diapolo,2013-11-13T16:36:28Z,"@laanwj Perhaps we should remove MSVC compatibility changes that are all over the code then? No one is maintaining them, so what benefit have they?\n",https://github.com/bitcoin/bitcoin/pull/3244#discussion_r7631595,7631595,src/util.h
laanwj,2013-11-13T17:04:09Z,Don't bother. I don't want to intentionally make it harder to build with MSVC.\n,https://github.com/bitcoin/bitcoin/pull/3244#discussion_r7632581,7632581,src/util.h
