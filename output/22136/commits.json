[
  {
    "sha": "e4640595d697f39153ea4b362e3555cba9677030",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplNDY0MDU5NWQ2OTdmMzkxNTNlYTRiMzYyZTM1NTVjYmE5Njc3MDMw",
    "commit": {
      "author": {
        "name": "Jo\u00e3o Barbosa",
        "email": "joao.paulo.barbosa@gmail.com",
        "date": "2021-06-03T09:29:01Z"
      },
      "committer": {
        "name": "Jo\u00e3o Barbosa",
        "email": "joao.paulo.barbosa@gmail.com",
        "date": "2021-06-03T09:29:12Z"
      },
      "message": "wip: Add --disable-rpc configure option",
      "tree": {
        "sha": "2d814ead7d0bd29040ad285680c9e45bab337531",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2d814ead7d0bd29040ad285680c9e45bab337531"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e4640595d697f39153ea4b362e3555cba9677030",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e4640595d697f39153ea4b362e3555cba9677030",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e4640595d697f39153ea4b362e3555cba9677030",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e4640595d697f39153ea4b362e3555cba9677030/comments",
    "author": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a9435e34457e0bfebd22e574fe63428537948aeb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a9435e34457e0bfebd22e574fe63428537948aeb",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a9435e34457e0bfebd22e574fe63428537948aeb"
      }
    ],
    "stats": {
      "total": 36,
      "additions": 27,
      "deletions": 9
    },
    "files": [
      {
        "sha": "bfc9c4c69dc183a683dcf9466a7524c8e38b05d5",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e4640595d697f39153ea4b362e3555cba9677030/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e4640595d697f39153ea4b362e3555cba9677030/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=e4640595d697f39153ea4b362e3555cba9677030",
        "patch": "@@ -114,6 +114,12 @@ AM_CONDITIONAL([HAVE_DOXYGEN], [test -n \"$DOXYGEN\"])\n \n AC_ARG_VAR(PYTHONPATH, Augments the default search path for python module files)\n \n+AC_ARG_ENABLE([rpc],\n+  [AS_HELP_STRING([--disable-rpc],\n+  [disable rpc (enabled by default)])],\n+  [enable_rpc=$enableval],\n+  [enable_rpc=yes])\n+\n AC_ARG_ENABLE([wallet],\n   [AS_HELP_STRING([--disable-wallet],\n   [disable wallet (enabled by default)])],\n@@ -1777,6 +1783,7 @@ AM_CONDITIONAL([TARGET_DARWIN], [test x$TARGET_OS = xdarwin])\n AM_CONDITIONAL([BUILD_DARWIN], [test x$BUILD_OS = xdarwin])\n AM_CONDITIONAL([TARGET_LINUX], [test x$TARGET_OS = xlinux])\n AM_CONDITIONAL([TARGET_WINDOWS], [test x$TARGET_OS = xwindows])\n+AM_CONDITIONAL([ENABLE_RPC],[test x$enable_rpc = xyes])\n AM_CONDITIONAL([ENABLE_WALLET],[test x$enable_wallet = xyes])\n AM_CONDITIONAL([USE_SQLITE], [test \"x$use_sqlite\" = \"xyes\"])\n AM_CONDITIONAL([USE_BDB], [test \"x$use_bdb\" = \"xyes\"])\n@@ -1933,6 +1940,7 @@ echo \"Options used to compile and link:\"\n echo \"  external signer = $use_external_signer\"\n echo \"  multiprocess    = $build_multiprocess\"\n echo \"  with libs       = $build_bitcoin_libs\"\n+echo \"  with rpc        = $enable_rpc\"\n echo \"  with wallet     = $enable_wallet\"\n if test \"x$enable_wallet\" != \"xno\"; then\n     echo \"    with sqlite   = $use_sqlite\""
      },
      {
        "sha": "80f98b1ca676541158a1dbb04edb62b44bcbb634",
        "filename": "src/Makefile.am",
        "status": "modified",
        "additions": 19,
        "deletions": 9,
        "changes": 28,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e4640595d697f39153ea4b362e3555cba9677030/src/Makefile.am",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e4640595d697f39153ea4b362e3555cba9677030/src/Makefile.am",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.am?ref=e4640595d697f39153ea4b362e3555cba9677030",
        "patch": "@@ -355,12 +355,6 @@ libbitcoin_server_a_SOURCES = \\\n   policy/settings.cpp \\\n   pow.cpp \\\n   rest.cpp \\\n-  rpc/blockchain.cpp \\\n-  rpc/mining.cpp \\\n-  rpc/misc.cpp \\\n-  rpc/net.cpp \\\n-  rpc/rawtransaction.cpp \\\n-  rpc/server.cpp \\\n   script/sigcache.cpp \\\n   shutdown.cpp \\\n   signet.cpp \\\n@@ -375,6 +369,16 @@ libbitcoin_server_a_SOURCES = \\\n   versionbits.cpp \\\n   $(BITCOIN_CORE_H)\n \n+if ENABLE_RPC\n+libbitcoin_server_a_SOURCES += \\\n+\trpc/blockchain.cpp \\\n+\trpc/mining.cpp \\\n+\trpc/misc.cpp \\\n+\trpc/net.cpp \\\n+\trpc/rawtransaction.cpp \\\n+\trpc/server.cpp\n+endif\n+\n if ENABLE_WALLET\n libbitcoin_server_a_SOURCES += wallet/init.cpp\n endif\n@@ -389,8 +393,10 @@ libbitcoin_zmq_a_SOURCES = \\\n   zmq/zmqabstractnotifier.cpp \\\n   zmq/zmqnotificationinterface.cpp \\\n   zmq/zmqpublishnotifier.cpp \\\n-  zmq/zmqrpc.cpp \\\n   zmq/zmqutil.cpp\n+if ENABLE_RPC\n+libbitcoin_zmq_a_SOURCES += zmq/zmqrpc.cpp\n+endif\n endif\n \n \n@@ -410,8 +416,6 @@ libbitcoin_wallet_a_SOURCES = \\\n   wallet/interfaces.cpp \\\n   wallet/load.cpp \\\n   wallet/receive.cpp \\\n-  wallet/rpcdump.cpp \\\n-  wallet/rpcwallet.cpp \\\n   wallet/scriptpubkeyman.cpp \\\n   wallet/spend.cpp \\\n   wallet/transaction.cpp \\\n@@ -421,6 +425,12 @@ libbitcoin_wallet_a_SOURCES = \\\n   wallet/coinselection.cpp \\\n   $(BITCOIN_CORE_H)\n \n+if ENABLE_RPC\n+libbitcoin_wallet_a_SOURCES += \\\n+\twallet/rpcdump.cpp \\\n+\twallet/rpcwallet.cpp\n+endif\n+\n if USE_SQLITE\n libbitcoin_wallet_a_SOURCES += wallet/sqlite.cpp\n endif"
      }
    ]
  }
]