[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401140985",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-401140985",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 401140985,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTE0MDk4NQ==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-28T19:06:35Z",
    "updated_at": "2018-06-28T19:06:35Z",
    "author_association": "MEMBER",
    "body": "Feedback to address from @ryanofsky\r\n\r\nSome thoughts looking at code:\r\n\r\n- It seems like it would be good to raise an error if `IsDeprecatedRPCEnabled(\"accounts\")` and the account argument is not null or \"*\". Otherwise the argument would be silently ignored.\r\n- Documentation seems to say default minconf is 1, while implementation uses 0 or 1.\r\n- Maybe could dedup caching code in `GetAvailableCredit` a little with something like\r\n\r\n```\r\nCAmount* cache = filter == ISMINE_SPENDABLE  ? nAvailableCreditCached : \r\n                 filter == ISMINE_WATCH_ONLY ? nAvailableWatchCreditCached :\r\n                 nullptr;\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401140985/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401171720",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-401171720",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 401171720,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTE3MTcyMA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-28T21:00:07Z",
    "updated_at": "2018-06-28T21:00:07Z",
    "author_association": "MEMBER",
    "body": "> I guess that would not work for min dept of 0 (unconfirmed).\r\n\r\nAre you saying that we also need to check `pcoin->InMempool()` for coins with 0 depth?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401171720/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401186338",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-401186338",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 401186338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTE4NjMzOA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-28T21:59:52Z",
    "updated_at": "2018-06-28T21:59:52Z",
    "author_association": "MEMBER",
    "body": "I believe that I've addressed all of @ryanofsky's feedback. Russ - can you rereview and confirm?\r\n\r\nNeed to address @jonasschnelli's comment. Jonas - can you please confirm my question above? Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401186338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401370490",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-401370490",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 401370490,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTM3MDQ5MA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-29T14:25:57Z",
    "updated_at": "2018-06-29T14:25:57Z",
    "author_association": "MEMBER",
    "body": "Thanks @ryanofsky . Updated to treat `*` as an acceptable dummy argument.\r\n\r\nI don't think we want to entirely remove the possibility of calling this method with positional arguments.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401370490/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401395313",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-401395313",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 401395313,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTM5NTMxMw==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-29T15:48:26Z",
    "updated_at": "2018-06-29T15:48:26Z",
    "author_association": "MEMBER",
    "body": "Thanks for the review @ryanofsky !",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401395313/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401410116",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-401410116",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 401410116,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTQxMDExNg==",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?u=a1574ca2038ff1dfaa9a7764c59ea5ff4f305b5d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-29T16:44:11Z",
    "updated_at": "2018-06-29T16:44:11Z",
    "author_association": "MEMBER",
    "body": "This calls for a test, no?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401410116/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401457799",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-401457799",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 401457799,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTQ1Nzc5OQ==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-29T19:55:24Z",
    "updated_at": "2018-06-29T19:55:24Z",
    "author_association": "MEMBER",
    "body": "@Empact - test added. Review plz :slightly_smiling_face: ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401457799/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401464423",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-401464423",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 401464423,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTQ2NDQyMw==",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?u=a1574ca2038ff1dfaa9a7764c59ea5ff4f305b5d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-29T20:24:06Z",
    "updated_at": "2018-06-29T20:24:06Z",
    "author_association": "MEMBER",
    "body": "Should `CWallet::GetUnconfirmedBalance` use the cache?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401464423/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401471423",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-401471423",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 401471423,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTQ3MTQyMw==",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?u=a1574ca2038ff1dfaa9a7764c59ea5ff4f305b5d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-29T20:54:24Z",
    "updated_at": "2018-06-29T20:54:24Z",
    "author_association": "MEMBER",
    "body": "utACK 702ae1e",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401471423/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401535534",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-401535534",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 401535534,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTUzNTUzNA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-30T11:36:36Z",
    "updated_at": "2018-07-14T00:25:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #13637 (wallet: Add GetBalances to calculate all balances by promag)\n* #13631 (Add CMerkleTx::IsImmatureCoinBase method by Empact)\n* #13083 (Add compile time checking for cs_main runtime locking assertions by practicalswift)\n* #11634 (wallet: Add missing cs_wallet/cs_KeyStore locks to wallet by practicalswift)\n* #11020 ([wallet] getbalance: Add option to include non-mempool UTXOs by kallewoof)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401535534/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/402473757",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-402473757",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 402473757,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjQ3Mzc1Nw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-04T13:06:34Z",
    "updated_at": "2018-07-04T13:06:34Z",
    "author_association": "MEMBER",
    "body": "utACK 702ae1e21a09d8c31406839c4ea507c5fa276898",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/402473757/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404989086",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-404989086",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 404989086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDk4OTA4Ng==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-14T01:27:54Z",
    "updated_at": "2018-07-14T01:27:54Z",
    "author_association": "MEMBER",
    "body": "utACK 702ae1e21a09d8c31406839c4ea507c5fa276898",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404989086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/405138171",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-405138171",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 405138171,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTEzODE3MQ==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-16T02:38:46Z",
    "updated_at": "2018-07-16T02:38:46Z",
    "author_association": "MEMBER",
    "body": "@Empact @promag - thanks for the reviews. I'll look at addressing nits in a follow-up.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/405138171/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435105708",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-435105708",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 435105708,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTEwNTcwOA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-01T16:48:28Z",
    "updated_at": "2018-11-01T16:48:28Z",
    "author_association": "MEMBER",
    "body": "@Empact @promag - I've addressed the remaining nits in https://github.com/jnewbery/bitcoin/tree/13566_nits, but there isn't much in there. I'm not sure if there's much point in opening a new PR.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435105708/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435395589",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-435395589",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 435395589,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTM5NTU4OQ==",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?u=a1574ca2038ff1dfaa9a7764c59ea5ff4f305b5d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-02T14:21:04Z",
    "updated_at": "2018-11-02T14:21:04Z",
    "author_association": "MEMBER",
    "body": "Yeah I would leave it as-is at this point.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435395589/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435399892",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-435399892",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 435399892,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTM5OTg5Mg==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-02T14:34:39Z",
    "updated_at": "2018-11-02T14:34:39Z",
    "author_association": "MEMBER",
    "body": "@jnewbery agree, not worth it.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435399892/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435419771",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#issuecomment-435419771",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13566",
    "id": 435419771,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTQxOTc3MQ==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-02T15:34:54Z",
    "updated_at": "2018-11-02T15:34:54Z",
    "author_association": "MEMBER",
    "body": "Agree. Thanks for the input. Sorry those changes didn't make it!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435419771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199161775",
    "pull_request_review_id": 133229591,
    "id": 199161775,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5OTE2MTc3NQ==",
    "diff_hunk": "@@ -895,38 +905,35 @@ static UniValue getbalance(const JSONRPCRequest& request)\n \n     LOCK2(cs_main, pwallet->cs_wallet);\n \n-    if (IsDeprecatedRPCEnabled(\"accounts\")) {\n-        const UniValue& account_value = request.params[0];\n-        const UniValue& minconf = request.params[1];\n-        const UniValue& include_watchonly = request.params[2];\n+    const UniValue& account_value = request.params[0];\n \n-        if (account_value.isNull()) {\n-            if (!minconf.isNull()) {\n-                throw JSONRPCError(RPC_INVALID_PARAMETER,\n-                    \"getbalance minconf option is only currently supported if an account is specified\");\n-            }\n-            if (!include_watchonly.isNull()) {\n-                throw JSONRPCError(RPC_INVALID_PARAMETER,\n-                    \"getbalance include_watchonly option is only currently supported if an account is specified\");\n-            }\n-            return ValueFromAmount(pwallet->GetBalance());\n-        }\n+    int min_depth = 0;\n+    if (IsDeprecatedRPCEnabled(\"accounts\") && !account_value.isNull()) {\n+        // Default min_depth to 1 when an account is provided.\n+        min_depth = 1;\n+    }\n+    if (!request.params[1].isNull()) {\n+        min_depth = request.params[1].get_int();\n+    }\n+\n+    isminefilter filter = ISMINE_SPENDABLE;\n+    if (!request.params[2].isNull() && request.params[2].get_bool()) {\n+        filter = filter | ISMINE_WATCH_ONLY;\n+    }\n+\n+    if (!account_value.isNull()) {\n \n         const std::string& account_param = account_value.get_str();\n         const std::string* account = account_param != \"*\" ? &account_param : nullptr;\n \n-        int nMinDepth = 1;\n-        if (!minconf.isNull())\n-            nMinDepth = minconf.get_int();\n-        isminefilter filter = ISMINE_SPENDABLE;\n-        if(!include_watchonly.isNull())\n-            if(include_watchonly.get_bool())\n-                filter = filter | ISMINE_WATCH_ONLY;\n-\n-        return ValueFromAmount(pwallet->GetLegacyBalance(filter, nMinDepth, account));\n+        if (!IsDeprecatedRPCEnabled(\"accounts\") && *account != \"\") {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 80,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "c57f2009f65ffedc7531644243d5d7ddd786edde",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"[RPC] [wallet] allow getbalance to use min_conf and watch_only\"\r\n\r\nI think the safest thing here would be to raise an error whenever accounts are deprecated and account is non-null, because previously `getbalance(null)`, `getbalance(\"*\")`, and `getbalance(\"\")` each did different things, and it doesn't seem good to silently ignore a requested behavior. Another slightly less safe but maybe acceptable option would be to change `\"\"` to `\"*\"` on this line, since `getbalance(\"*\")` and `getbalance(null)` at least were more similar than `getbalance(\"*\")` and `getbalance(\"\")`\r\n\r\nPreviously, and currently with the deprecated accounts feature enabled:\r\n\r\n- `getbalance(null)` would return total balance\r\n- `getbalance(\"*\")` would return total balance with legacy accounting method\r\n- `getbalance(\"account\")` would return balance associated with a named account\r\n- `getbalance(\"\")` would return leftover balance not associated with any named accounts",
    "created_at": "2018-06-29T13:39:45Z",
    "updated_at": "2018-06-29T19:54:33Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199161775",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199161775"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199161775"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199161775/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 929,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199175544",
    "pull_request_review_id": 133246916,
    "id": 199175544,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5OTE3NTU0NA==",
    "diff_hunk": "@@ -895,38 +905,35 @@ static UniValue getbalance(const JSONRPCRequest& request)\n \n     LOCK2(cs_main, pwallet->cs_wallet);\n \n-    if (IsDeprecatedRPCEnabled(\"accounts\")) {\n-        const UniValue& account_value = request.params[0];\n-        const UniValue& minconf = request.params[1];\n-        const UniValue& include_watchonly = request.params[2];\n+    const UniValue& account_value = request.params[0];\n \n-        if (account_value.isNull()) {\n-            if (!minconf.isNull()) {\n-                throw JSONRPCError(RPC_INVALID_PARAMETER,\n-                    \"getbalance minconf option is only currently supported if an account is specified\");\n-            }\n-            if (!include_watchonly.isNull()) {\n-                throw JSONRPCError(RPC_INVALID_PARAMETER,\n-                    \"getbalance include_watchonly option is only currently supported if an account is specified\");\n-            }\n-            return ValueFromAmount(pwallet->GetBalance());\n-        }\n+    int min_depth = 0;\n+    if (IsDeprecatedRPCEnabled(\"accounts\") && !account_value.isNull()) {\n+        // Default min_depth to 1 when an account is provided.\n+        min_depth = 1;\n+    }\n+    if (!request.params[1].isNull()) {\n+        min_depth = request.params[1].get_int();\n+    }\n+\n+    isminefilter filter = ISMINE_SPENDABLE;\n+    if (!request.params[2].isNull() && request.params[2].get_bool()) {\n+        filter = filter | ISMINE_WATCH_ONLY;\n+    }\n+\n+    if (!account_value.isNull()) {\n \n         const std::string& account_param = account_value.get_str();\n         const std::string* account = account_param != \"*\" ? &account_param : nullptr;\n \n-        int nMinDepth = 1;\n-        if (!minconf.isNull())\n-            nMinDepth = minconf.get_int();\n-        isminefilter filter = ISMINE_SPENDABLE;\n-        if(!include_watchonly.isNull())\n-            if(include_watchonly.get_bool())\n-                filter = filter | ISMINE_WATCH_ONLY;\n-\n-        return ValueFromAmount(pwallet->GetLegacyBalance(filter, nMinDepth, account));\n+        if (!IsDeprecatedRPCEnabled(\"accounts\") && *account != \"\") {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 80,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "c57f2009f65ffedc7531644243d5d7ddd786edde",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199161775\r\n\r\nAlso want to note that another approach we could take here would not be to deprecate the `account` argument at all, but instead just rename it to `label` and pass it down as an option to the GetBalance() and GetAvailableCredit methods where it could be used to filter txouts there by address label. This would be a simple code change, just adding `if (!label || *label == GetLabelName(txout.scriptPubKey))`.",
    "created_at": "2018-06-29T14:23:03Z",
    "updated_at": "2018-06-29T19:54:33Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199175544",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199175544"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199175544"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199175544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 929,
    "side": "RIGHT",
    "in_reply_to_id": 199161775
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199270410",
    "pull_request_review_id": 133365393,
    "id": 199270410,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5OTI3MDQxMA==",
    "diff_hunk": "@@ -2224,7 +2194,7 @@ CAmount CWallet::GetUnconfirmedWatchOnlyBalance() const\n         {\n             const CWalletTx* pcoin = &entry.second;\n             if (!pcoin->IsTrusted() && pcoin->GetDepthInMainChain() == 0 && pcoin->InMempool())\n-                nTotal += pcoin->GetAvailableWatchOnlyCredit();\n+                nTotal += pcoin->GetAvailableCredit(true, ISMINE_WATCH_ONLY);",
    "path": "src/wallet/wallet.cpp",
    "position": 137,
    "original_position": 137,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: comment bool arg?",
    "created_at": "2018-06-29T20:19:05Z",
    "updated_at": "2018-06-29T20:19:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199270410",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199270410"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199270410"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199270410/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2197,
    "original_line": 2197,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199272826",
    "pull_request_review_id": 133368558,
    "id": 199272826,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5OTI3MjgyNg==",
    "diff_hunk": "@@ -1977,8 +1977,20 @@ CAmount CWalletTx::GetAvailableCredit(bool fUseCache) const\n     if (IsCoinBase() && GetBlocksToMaturity() > 0)\n         return 0;\n \n-    if (fUseCache && fAvailableCreditCached)\n-        return nAvailableCreditCached;\n+    CAmount* cache = nullptr;\n+    bool* cache_used = nullptr;\n+\n+    if (filter == ISMINE_SPENDABLE) {\n+        cache = &nAvailableCreditCached;\n+        cache_used = &fAvailableCreditCached;\n+    } else if (filter == ISMINE_WATCH_ONLY) {\n+        cache = &nAvailableWatchCreditCached;\n+        cache_used = &fAvailableWatchCreditCached;\n+    }",
    "path": "src/wallet/wallet.cpp",
    "position": 24,
    "original_position": 24,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: could move this into a `fUseCache` block, connected with 1991 below.",
    "created_at": "2018-06-29T20:30:22Z",
    "updated_at": "2018-06-29T20:30:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199272826",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199272826"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199272826"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199272826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1989,
    "original_line": 1989,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199273845",
    "pull_request_review_id": 133369833,
    "id": 199273845,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5OTI3Mzg0NQ==",
    "diff_hunk": "@@ -895,38 +905,35 @@ static UniValue getbalance(const JSONRPCRequest& request)\n \n     LOCK2(cs_main, pwallet->cs_wallet);\n \n-    if (IsDeprecatedRPCEnabled(\"accounts\")) {\n-        const UniValue& account_value = request.params[0];\n-        const UniValue& minconf = request.params[1];\n-        const UniValue& include_watchonly = request.params[2];\n+    const UniValue& account_value = request.params[0];\n \n-        if (account_value.isNull()) {\n-            if (!minconf.isNull()) {\n-                throw JSONRPCError(RPC_INVALID_PARAMETER,\n-                    \"getbalance minconf option is only currently supported if an account is specified\");\n-            }\n-            if (!include_watchonly.isNull()) {\n-                throw JSONRPCError(RPC_INVALID_PARAMETER,\n-                    \"getbalance include_watchonly option is only currently supported if an account is specified\");\n-            }\n-            return ValueFromAmount(pwallet->GetBalance());\n-        }\n+    int min_depth = 0;\n+    if (IsDeprecatedRPCEnabled(\"accounts\") && !account_value.isNull()) {\n+        // Default min_depth to 1 when an account is provided.\n+        min_depth = 1;\n+    }\n+    if (!request.params[1].isNull()) {\n+        min_depth = request.params[1].get_int();\n+    }\n+\n+    isminefilter filter = ISMINE_SPENDABLE;\n+    if (!request.params[2].isNull() && request.params[2].get_bool()) {\n+        filter = filter | ISMINE_WATCH_ONLY;",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 63,
    "original_position": 63,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: `|=`",
    "created_at": "2018-06-29T20:34:52Z",
    "updated_at": "2018-06-29T20:34:53Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199273845",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199273845"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199273845"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199273845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 921,
    "original_line": 921,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199274395",
    "pull_request_review_id": 133370549,
    "id": 199274395,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5OTI3NDM5NQ==",
    "diff_hunk": "@@ -4416,7 +4423,7 @@ static const CRPCCommand commands[] =\n     { \"wallet\",             \"dumpwallet\",                       &dumpwallet,                    {\"filename\"} },\n     { \"wallet\",             \"encryptwallet\",                    &encryptwallet,                 {\"passphrase\"} },\n     { \"wallet\",             \"getaddressinfo\",                   &getaddressinfo,                {\"address\"} },\n-    { \"wallet\",             \"getbalance\",                       &getbalance,                    {\"account\",\"minconf\",\"include_watchonly\"} },\n+    { \"wallet\",             \"getbalance\",                       &getbalance,                    {\"account|dummy\",\"minconf\",\"include_watchonly\"} },",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 97,
    "original_position": 97,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe show `*` here instead of dummy?",
    "created_at": "2018-06-29T20:37:38Z",
    "updated_at": "2018-06-29T20:37:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199274395",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199274395"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199274395"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199274395/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4426,
    "original_line": 4426,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199275856",
    "pull_request_review_id": 133372379,
    "id": 199275856,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5OTI3NTg1Ng==",
    "diff_hunk": "@@ -895,38 +905,35 @@ static UniValue getbalance(const JSONRPCRequest& request)\n \n     LOCK2(cs_main, pwallet->cs_wallet);\n \n-    if (IsDeprecatedRPCEnabled(\"accounts\")) {\n-        const UniValue& account_value = request.params[0];\n-        const UniValue& minconf = request.params[1];\n-        const UniValue& include_watchonly = request.params[2];\n+    const UniValue& account_value = request.params[0];\n \n-        if (account_value.isNull()) {\n-            if (!minconf.isNull()) {\n-                throw JSONRPCError(RPC_INVALID_PARAMETER,\n-                    \"getbalance minconf option is only currently supported if an account is specified\");\n-            }\n-            if (!include_watchonly.isNull()) {\n-                throw JSONRPCError(RPC_INVALID_PARAMETER,\n-                    \"getbalance include_watchonly option is only currently supported if an account is specified\");\n-            }\n-            return ValueFromAmount(pwallet->GetBalance());\n-        }\n+    int min_depth = 0;\n+    if (IsDeprecatedRPCEnabled(\"accounts\") && !account_value.isNull()) {\n+        // Default min_depth to 1 when an account is provided.\n+        min_depth = 1;\n+    }\n+    if (!request.params[1].isNull()) {\n+        min_depth = request.params[1].get_int();\n+    }\n+\n+    isminefilter filter = ISMINE_SPENDABLE;\n+    if (!request.params[2].isNull() && request.params[2].get_bool()) {\n+        filter = filter | ISMINE_WATCH_ONLY;\n+    }\n+\n+    if (!account_value.isNull()) {\n ",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 67,
    "original_position": 67,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: whitespace",
    "created_at": "2018-06-29T20:44:50Z",
    "updated_at": "2018-06-29T20:44:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199275856",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199275856"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199275856"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199275856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 925,
    "original_line": 925,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199276069",
    "pull_request_review_id": 133372664,
    "id": 199276069,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5OTI3NjA2OQ==",
    "diff_hunk": "@@ -853,8 +853,9 @@ static UniValue getbalance(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || (request.params.size() > 3 && IsDeprecatedRPCEnabled(\"accounts\")) || (request.params.size() != 0 && !IsDeprecatedRPCEnabled(\"accounts\")))\n+    if (request.fHelp || (request.params.size() > 3 ))",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: whitespace",
    "created_at": "2018-06-29T20:45:53Z",
    "updated_at": "2018-06-29T20:45:53Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199276069",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199276069"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r199276069"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199276069/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 856,
    "original_line": 856,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200208092",
    "pull_request_review_id": 134478252,
    "id": 200208092,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMDIwODA5Mg==",
    "diff_hunk": "@@ -1977,8 +1977,20 @@ CAmount CWalletTx::GetAvailableCredit(bool fUseCache) const\n     if (IsCoinBase() && GetBlocksToMaturity() > 0)\n         return 0;\n \n-    if (fUseCache && fAvailableCreditCached)\n-        return nAvailableCreditCached;\n+    CAmount* cache = nullptr;\n+    bool* cache_used = nullptr;\n+\n+    if (filter == ISMINE_SPENDABLE) {\n+        cache = &nAvailableCreditCached;\n+        cache_used = &fAvailableCreditCached;\n+    } else if (filter == ISMINE_WATCH_ONLY) {\n+        cache = &nAvailableWatchCreditCached;\n+        cache_used = &fAvailableWatchCreditCached;\n+    }",
    "path": "src/wallet/wallet.cpp",
    "position": 24,
    "original_position": 24,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "What if `filter == ISMINE_ALL` \u2014 which can be when `include_watchonly=true` in RPC `getbalance` \u2014 could sum both if cached?",
    "created_at": "2018-07-04T22:52:37Z",
    "updated_at": "2018-07-04T23:17:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r200208092",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200208092"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r200208092"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200208092/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1989,
    "original_line": 1989,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200208757",
    "pull_request_review_id": 134478252,
    "id": 200208757,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMDIwODc1Nw==",
    "diff_hunk": "@@ -460,9 +460,8 @@ class CWalletTx : public CMerkleTx\n     CAmount GetDebit(const isminefilter& filter) const;\n     CAmount GetCredit(const isminefilter& filter) const;\n     CAmount GetImmatureCredit(bool fUseCache=true) const;\n-    CAmount GetAvailableCredit(bool fUseCache=true) const;\n+    CAmount GetAvailableCredit(bool fUseCache=true, const isminefilter& filter=ISMINE_SPENDABLE) const;",
    "path": "src/wallet/wallet.h",
    "position": 5,
    "original_position": 5,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, drop `&`?",
    "created_at": "2018-07-04T23:06:36Z",
    "updated_at": "2018-07-04T23:17:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r200208757",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200208757"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r200208757"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200208757/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 463,
    "original_line": 463,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200209060",
    "pull_request_review_id": 134478252,
    "id": 200209060,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMDIwOTA2MA==",
    "diff_hunk": "@@ -2154,16 +2139,17 @@ void CWallet::ResendWalletTransactions(int64_t nBestBlockTime, CConnman* connman\n  */\n \n \n-CAmount CWallet::GetBalance() const\n+CAmount CWallet::GetBalance(const isminefilter& filter, const int min_depth) const\n {\n     CAmount nTotal = 0;\n     {\n         LOCK2(cs_main, cs_wallet);\n         for (const auto& entry : mapWallet)\n         {\n             const CWalletTx* pcoin = &entry.second;\n-            if (pcoin->IsTrusted())\n-                nTotal += pcoin->GetAvailableCredit();\n+            if (pcoin->IsTrusted() && pcoin->GetDepthInMainChain() >= min_depth) {",
    "path": "src/wallet/wallet.cpp",
    "position": 103,
    "original_position": 103,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`IsTrusted()` already computes `GetDepthInMainChain()`. Suggestion:\r\n```cpp\r\nbool IsTrusted(int min_depth = 1)\r\n```",
    "created_at": "2018-07-04T23:12:05Z",
    "updated_at": "2018-07-04T23:17:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r200209060",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200209060"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r200209060"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200209060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2150,
    "original_line": 2150,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/202848913",
    "pull_request_review_id": 137625077,
    "id": 202848913,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMjg0ODkxMw==",
    "diff_hunk": "@@ -2154,16 +2139,17 @@ void CWallet::ResendWalletTransactions(int64_t nBestBlockTime, CConnman* connman\n  */\n \n \n-CAmount CWallet::GetBalance() const\n+CAmount CWallet::GetBalance(const isminefilter& filter, const int min_depth) const\n {\n     CAmount nTotal = 0;\n     {\n         LOCK2(cs_main, cs_wallet);\n         for (const auto& entry : mapWallet)\n         {\n             const CWalletTx* pcoin = &entry.second;\n-            if (pcoin->IsTrusted())\n-                nTotal += pcoin->GetAvailableCredit();\n+            if (pcoin->IsTrusted() && pcoin->GetDepthInMainChain() >= min_depth) {",
    "path": "src/wallet/wallet.cpp",
    "position": 103,
    "original_position": 103,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ignore my comment, I tried that refactor and it doesn't look good.",
    "created_at": "2018-07-16T22:49:44Z",
    "updated_at": "2018-07-16T22:49:45Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r202848913",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/202848913"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r202848913"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/202848913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2150,
    "original_line": 2150,
    "side": "RIGHT",
    "in_reply_to_id": 200209060
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230078846",
    "pull_request_review_id": 170732172,
    "id": 230078846,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMDA3ODg0Ng==",
    "diff_hunk": "@@ -2224,7 +2194,7 @@ CAmount CWallet::GetUnconfirmedWatchOnlyBalance() const\n         {\n             const CWalletTx* pcoin = &entry.second;\n             if (!pcoin->IsTrusted() && pcoin->GetDepthInMainChain() == 0 && pcoin->InMempool())\n-                nTotal += pcoin->GetAvailableWatchOnlyCredit();\n+                nTotal += pcoin->GetAvailableCredit(true, ISMINE_WATCH_ONLY);",
    "path": "src/wallet/wallet.cpp",
    "position": 137,
    "original_position": 137,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't think it's the project's coding style to always comment arguments (at least, I don't see that elsewhere in the codebase as the norm).",
    "created_at": "2018-11-01T15:16:13Z",
    "updated_at": "2018-11-01T15:16:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r230078846",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230078846"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r230078846"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230078846/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2197,
    "original_line": 2197,
    "side": "RIGHT",
    "in_reply_to_id": 199270410
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230080654",
    "pull_request_review_id": 170734480,
    "id": 230080654,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMDA4MDY1NA==",
    "diff_hunk": "@@ -4416,7 +4423,7 @@ static const CRPCCommand commands[] =\n     { \"wallet\",             \"dumpwallet\",                       &dumpwallet,                    {\"filename\"} },\n     { \"wallet\",             \"encryptwallet\",                    &encryptwallet,                 {\"passphrase\"} },\n     { \"wallet\",             \"getaddressinfo\",                   &getaddressinfo,                {\"address\"} },\n-    { \"wallet\",             \"getbalance\",                       &getbalance,                    {\"account\",\"minconf\",\"include_watchonly\"} },\n+    { \"wallet\",             \"getbalance\",                       &getbalance,                    {\"account|dummy\",\"minconf\",\"include_watchonly\"} },",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 97,
    "original_position": 97,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`dummy` is the name of the argument. `*` is the value that it needs to be set to.",
    "created_at": "2018-11-01T15:20:56Z",
    "updated_at": "2018-11-01T15:20:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r230080654",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230080654"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r230080654"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230080654/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4426,
    "original_line": 4426,
    "side": "RIGHT",
    "in_reply_to_id": 199274395
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230093851",
    "pull_request_review_id": 170751018,
    "id": 230093851,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMDA5Mzg1MQ==",
    "diff_hunk": "@@ -1977,8 +1977,20 @@ CAmount CWalletTx::GetAvailableCredit(bool fUseCache) const\n     if (IsCoinBase() && GetBlocksToMaturity() > 0)\n         return 0;\n \n-    if (fUseCache && fAvailableCreditCached)\n-        return nAvailableCreditCached;\n+    CAmount* cache = nullptr;\n+    bool* cache_used = nullptr;\n+\n+    if (filter == ISMINE_SPENDABLE) {\n+        cache = &nAvailableCreditCached;\n+        cache_used = &fAvailableCreditCached;\n+    } else if (filter == ISMINE_WATCH_ONLY) {\n+        cache = &nAvailableWatchCreditCached;\n+        cache_used = &fAvailableWatchCreditCached;\n+    }",
    "path": "src/wallet/wallet.cpp",
    "position": 24,
    "original_position": 24,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "No, `cache` and `cache_used` are updated below even if `fUseCache` is not set.",
    "created_at": "2018-11-01T15:54:24Z",
    "updated_at": "2018-11-01T15:54:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r230093851",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230093851"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r230093851"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230093851/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1989,
    "original_line": 1989,
    "side": "RIGHT",
    "in_reply_to_id": 199272826
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230095022",
    "pull_request_review_id": 170752571,
    "id": 230095022,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMDA5NTAyMg==",
    "diff_hunk": "@@ -1977,8 +1977,20 @@ CAmount CWalletTx::GetAvailableCredit(bool fUseCache) const\n     if (IsCoinBase() && GetBlocksToMaturity() > 0)\n         return 0;\n \n-    if (fUseCache && fAvailableCreditCached)\n-        return nAvailableCreditCached;\n+    CAmount* cache = nullptr;\n+    bool* cache_used = nullptr;\n+\n+    if (filter == ISMINE_SPENDABLE) {\n+        cache = &nAvailableCreditCached;\n+        cache_used = &fAvailableCreditCached;\n+    } else if (filter == ISMINE_WATCH_ONLY) {\n+        cache = &nAvailableWatchCreditCached;\n+        cache_used = &fAvailableWatchCreditCached;\n+    }",
    "path": "src/wallet/wallet.cpp",
    "position": 24,
    "original_position": 24,
    "commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "original_commit_id": "702ae1e21a09d8c31406839c4ea507c5fa276898",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Seems like a reasonable optimization, but I don't think it's required. Could be done in a separate PR.",
    "created_at": "2018-11-01T15:57:37Z",
    "updated_at": "2018-11-01T15:57:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r230095022",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230095022"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13566#discussion_r230095022"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13566"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230095022/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1989,
    "original_line": 1989,
    "side": "RIGHT",
    "in_reply_to_id": 200208092
  }
]