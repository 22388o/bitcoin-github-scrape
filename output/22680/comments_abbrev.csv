achow101,2021-08-11 01:54:45,Needs 22.0 backport,https://github.com/bitcoin/bitcoin/pull/22680#issuecomment-896438118,896438118,
fanquake,2021-08-11 01:58:37,"```bash\nIn contrib/guix/libexec/build.sh line 243:\nexport GIT_TAG=$(git describe --exact-match 2> /dev/null)\n       ^-----^ SC2155: Declare and assign separately to avoid masking return values.\n\n\nIn contrib/guix/libexec/build.sh line 244:\nexport GIT_COMMIT=$(git rev-parse --short=12 HEAD)\n       ^--------^ SC2155: Declare and assign separately to avoid masking return values.\n\nF",https://github.com/bitcoin/bitcoin/pull/22680#issuecomment-896439493,896439493,
achow101,2021-08-11 21:00:39,Closing in favor of #22685. I think using the version already being set in source is better than trying to extract it from git tags.,https://github.com/bitcoin/bitcoin/pull/22680#issuecomment-897148958,897148958,
DrahtBot,2021-08-12 18:59:07,<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds\n\n| File | commit c3545a7396787c1d649f2d12fcb380b714cab6b2<br>(master) | commit e451db2c246b03f858f7af9882e8c20bed3b8b65<br>(master and this pull) |\n|--|--|--|\n| SHA256SUMS.part | [`204b7435d5668c46...`](https://drahtbot.space/guix/bitcoin/bitcoin/c3545a7396787c1d649f2d12fcb380b714cab6b2/SHA256SUMS.part) | [`c9ba49283c4c798c...`](https://,https://github.com/bitcoin/bitcoin/pull/22680#issuecomment-897890844,897890844,
hebasto,2021-08-11 08:25:03,"6b6b8e7edeba3360738fb40ebc12872a81089967\n\nShould we check `GIT_TAG` and `GIT_COMMIT` for emptiness, and run the following `if` block only when they are empty?",https://github.com/bitcoin/bitcoin/pull/22680#discussion_r686611902,686611902,share/genbuild.sh
hebasto,2021-08-11 08:25:53,"6b6b8e7edeba3360738fb40ebc12872a81089967\n\nWhy this change is required?",https://github.com/bitcoin/bitcoin/pull/22680#discussion_r686612618,686612618,share/genbuild.sh
hebasto,2021-08-11 08:27:28,"cb4b1906bfbd636df8e7dd7fedee5d0951d2e3b1\n\nWhy not just\n```suggestion\nexport GIT_COMMIT=$(git rev-parse --short=12 HEAD)\n```\n?",https://github.com/bitcoin/bitcoin/pull/22680#discussion_r686613872,686613872,contrib/guix/libexec/build.sh
achow101,2021-08-11 19:30:11,"No, I did it this way specifically to allow for `GIT_TAG` and `GIT_COMMIT` to be fallbacks. So if we are in the git work tree, then it won't be possible to accidentally override them with the incorrect values.",https://github.com/bitcoin/bitcoin/pull/22680#discussion_r687114660,687114660,share/genbuild.sh
achow101,2021-08-11 19:31:01,"It isn't, but it's simpler.",https://github.com/bitcoin/bitcoin/pull/22680#discussion_r687115163,687115163,share/genbuild.sh
achow101,2021-08-11 19:31:25,shellcheck complained. https://github.com/koalaman/shellcheck/wiki/SC2155,https://github.com/bitcoin/bitcoin/pull/22680#discussion_r687115413,687115413,contrib/guix/libexec/build.sh
hebasto,2021-08-11 19:36:20,"```suggestion\nGIT_COMMIT=$(git rev-parse --short=12 HEAD)\nexport GIT_COMMIT\n```\n\nto do not introduce a new variable `git_commit`?",https://github.com/bitcoin/bitcoin/pull/22680#discussion_r687118467,687118467,contrib/guix/libexec/build.sh
