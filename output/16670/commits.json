[
  {
    "sha": "fa8cd6f9c13319baca467864661982a3dfb2320c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYThjZDZmOWMxMzMxOWJhY2E0Njc4NjQ2NjE5ODJhM2RmYjIzMjBj",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2019-08-20T18:51:43Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2019-08-20T20:51:41Z"
      },
      "message": "util: Add Join helper to join a list of strings",
      "tree": {
        "sha": "1d92c6fde4e276efa705802bfc57a944f13b5b3a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1d92c6fde4e276efa705802bfc57a944f13b5b3a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa8cd6f9c13319baca467864661982a3dfb2320c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUg/vQwArD2efC4FOYwvS+4f0HmT3JZXYuCgDjqTVBm1wmmnworbvUnVFfGsZhEo\n5iBsPhAkrQTU44Ajt5mkxLn70LDnUDtVyp8XyW5mgpyBIys/ghQgP9JLKOWbb6/G\nAHemCl56VjYatd1mIlCyFaYeBr+Yh4O6jnz/0Ysgq1z7m3RDpQzggDgGievXXW2t\nH6Xrae1srlbRK80xitoLgqpmxW6/Dlgo9tRTqCkk0YCvSA8/X7WDFTBDJ5DVz8GI\nyWJ60mtzmMnoD/Iv5TtJJPQpD72JC1xgmIoZbJXSJm9KCHmlxPr/a4wbmV8GFTzt\n8ueCWqwytNS/bVZQOTgTyp1QkKdswkUAGvHGS4GI9gxiNq8+LhBApjaVawz+pLhx\nqwSxXOYcwB0XN/bR60t9oWERCCaOtgQvx0nnksEvTP9FcgbHk1X+qUo2I3HFpIV5\n2tdYUDxOM2htO2IAj4yMFT9UwnPpL4cEtDvxdeZL9mU+G5wOSCugupl9xwlT8O9Z\nTeCdnm35\n=Q2v1\n-----END PGP SIGNATURE-----",
        "payload": "tree 1d92c6fde4e276efa705802bfc57a944f13b5b3a\nparent e00ecb3d7aaee463643e486ca03c318e192b8058\nauthor MarcoFalke <falke.marco@gmail.com> 1566327103 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1566334301 -0400\n\nutil: Add Join helper to join a list of strings\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa8cd6f9c13319baca467864661982a3dfb2320c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa8cd6f9c13319baca467864661982a3dfb2320c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa8cd6f9c13319baca467864661982a3dfb2320c/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e00ecb3d7aaee463643e486ca03c318e192b8058",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e00ecb3d7aaee463643e486ca03c318e192b8058",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e00ecb3d7aaee463643e486ca03c318e192b8058"
      }
    ],
    "stats": {
      "total": 60,
      "additions": 58,
      "deletions": 2
    },
    "files": [
      {
        "sha": "477b1300bc6513f45214910bd7a40e003fc82c83",
        "filename": "src/Makefile.am",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa8cd6f9c13319baca467864661982a3dfb2320c/src/Makefile.am",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa8cd6f9c13319baca467864661982a3dfb2320c/src/Makefile.am",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.am?ref=fa8cd6f9c13319baca467864661982a3dfb2320c",
        "patch": "@@ -211,6 +211,7 @@ BITCOIN_CORE_H = \\\n   util/memory.h \\\n   util/moneystr.h \\\n   util/rbf.h \\\n+  util/string.h \\\n   util/threadnames.h \\\n   util/time.h \\\n   util/translation.h \\\n@@ -501,6 +502,7 @@ libbitcoin_util_a_SOURCES = \\\n   util/rbf.cpp \\\n   util/threadnames.cpp \\\n   util/strencodings.cpp \\\n+  util/string.cpp \\\n   util/time.cpp \\\n   util/url.cpp \\\n   util/validation.cpp \\"
      },
      {
        "sha": "65cb956fbe5b92aa35875d015237f57d45bba1f7",
        "filename": "src/test/util_tests.cpp",
        "status": "modified",
        "additions": 16,
        "deletions": 2,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa8cd6f9c13319baca467864661982a3dfb2320c/src/test/util_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa8cd6f9c13319baca467864661982a3dfb2320c/src/test/util_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/util_tests.cpp?ref=fa8cd6f9c13319baca467864661982a3dfb2320c",
        "patch": "@@ -6,11 +6,12 @@\n \n #include <clientversion.h>\n #include <sync.h>\n+#include <test/setup_common.h>\n #include <test/util.h>\n-#include <util/strencodings.h>\n #include <util/moneystr.h>\n+#include <util/strencodings.h>\n+#include <util/string.h>\n #include <util/time.h>\n-#include <test/setup_common.h>\n \n #include <stdint.h>\n #include <thread>\n@@ -123,6 +124,19 @@ BOOST_AUTO_TEST_CASE(util_HexStr)\n     );\n }\n \n+BOOST_AUTO_TEST_CASE(util_Join)\n+{\n+    // Normal version\n+    BOOST_CHECK_EQUAL(Join({}, \", \"), \"\");\n+    BOOST_CHECK_EQUAL(Join({\"foo\"}, \", \"), \"foo\");\n+    BOOST_CHECK_EQUAL(Join({\"foo\", \"bar\"}, \", \"), \"foo, bar\");\n+\n+    // Version with unary operator\n+    const auto op_upper = [](const std::string& s) { return ToUpper(s); };\n+    BOOST_CHECK_EQUAL(Join<std::string>({}, \", \", op_upper), \"\");\n+    BOOST_CHECK_EQUAL(Join<std::string>({\"foo\"}, \", \", op_upper), \"FOO\");\n+    BOOST_CHECK_EQUAL(Join<std::string>({\"foo\", \"bar\"}, \", \", op_upper), \"FOO, BAR\");\n+}\n \n BOOST_AUTO_TEST_CASE(util_FormatISO8601DateTime)\n {"
      },
      {
        "sha": "8ea3a1afc6a0f81aca31050880a37113ca3b243a",
        "filename": "src/util/string.cpp",
        "status": "added",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa8cd6f9c13319baca467864661982a3dfb2320c/src/util/string.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa8cd6f9c13319baca467864661982a3dfb2320c/src/util/string.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/string.cpp?ref=fa8cd6f9c13319baca467864661982a3dfb2320c",
        "patch": "@@ -0,0 +1,5 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <util/string.h>"
      },
      {
        "sha": "dec0c19b08293978aa024941aca3d808628dd0fa",
        "filename": "src/util/string.h",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa8cd6f9c13319baca467864661982a3dfb2320c/src/util/string.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa8cd6f9c13319baca467864661982a3dfb2320c/src/util/string.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/string.h?ref=fa8cd6f9c13319baca467864661982a3dfb2320c",
        "patch": "@@ -0,0 +1,35 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_STRING_H\n+#define BITCOIN_UTIL_STRING_H\n+\n+#include <functional>\n+#include <string>\n+#include <vector>\n+\n+/**\n+ * Join a list of items\n+ *\n+ * @param list       The list to join\n+ * @param separator  The separator\n+ * @param unary_op   Apply this operator to each item in the list\n+ */\n+template <typename T, typename UnaryOp>\n+std::string Join(const std::vector<T>& list, const std::string& separator, UnaryOp unary_op)\n+{\n+    std::string ret;\n+    for (size_t i = 0; i < list.size(); ++i) {\n+        if (i > 0) ret += separator;\n+        ret += unary_op(list.at(i));\n+    }\n+    return ret;\n+}\n+\n+inline std::string Join(const std::vector<std::string>& list, const std::string& separator)\n+{\n+    return Join(list, separator, [](const std::string& i) { return i; });\n+}\n+\n+#endif // BITCOIN_UTIL_STRENCODINGS_H"
      }
    ]
  },
  {
    "sha": "faebf6271467048dc8a9a0c526a0f8565023a966",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWViZjYyNzE0NjcwNDhkYzhhOWEwYzUyNmEwZjg1NjUwMjNhOTY2",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2019-08-20T20:58:50Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2019-08-20T20:52:33Z"
      },
      "message": "rpc: Use Join helper in rpc/util",
      "tree": {
        "sha": "4cc63baa1e5ee80952456c105399fbcaac012770",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4cc63baa1e5ee80952456c105399fbcaac012770"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faebf6271467048dc8a9a0c526a0f8565023a966",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUjOnwv/cg6g0M0Atln/Eon2N5egHE7hcs1YPD/nrSGBGJ84Q4qW34vV4f0YCjc1\nW+6Fese48THCiqsSPukS4ObNjns3jKkcLVa9+6z8tOwlqTYUoJ6k3En5XiGaCYqB\ncZsgivESHYjUJVXiopxdN8TeFA27FGaQQC/soERnpYjT2fyG6/+WLbCwVI0FEscx\n2+MOLBB0ZegFgHMXL1lf0jr+xaOZQ6vyq/qgp7CaYKg2wfrsIeJKWVHArBlHSerb\n7WiI29Ga+yEHfGqdpRTF+Q4RdNxgIIx3BfJ0bVjtgObSqWKsDip2t5y3T41gblL7\n4stP2GmOb7Mu17P+GkFoIXMBkopr6r+ByjqvqGLdwlYOb4wlja/SCD2N4fXknmzu\nJjDO2OXp/lYh0cKEjWEvyBHD6waHRAW5uq8mHSSpoYBStW9RZEr71wsZAK0xbyoP\nIu1h4ZXxP4Jw9+dYYMp2DeaasWcNp+09GePCnLvnLJT779BF5kR3Ba93rpvNoKDL\nF1+ARpF+\n=AOrY\n-----END PGP SIGNATURE-----",
        "payload": "tree 4cc63baa1e5ee80952456c105399fbcaac012770\nparent fa8cd6f9c13319baca467864661982a3dfb2320c\nauthor MarcoFalke <falke.marco@gmail.com> 1566334730 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1566334353 -0400\n\nrpc: Use Join helper in rpc/util\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faebf6271467048dc8a9a0c526a0f8565023a966",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/faebf6271467048dc8a9a0c526a0f8565023a966",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faebf6271467048dc8a9a0c526a0f8565023a966/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa8cd6f9c13319baca467864661982a3dfb2320c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa8cd6f9c13319baca467864661982a3dfb2320c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa8cd6f9c13319baca467864661982a3dfb2320c"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 3,
      "deletions": 6
    },
    "files": [
      {
        "sha": "22d67c34daee903669637f6099710c74c09ca8d6",
        "filename": "src/rpc/util.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 6,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faebf6271467048dc8a9a0c526a0f8565023a966/src/rpc/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faebf6271467048dc8a9a0c526a0f8565023a966/src/rpc/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.cpp?ref=faebf6271467048dc8a9a0c526a0f8565023a966",
        "patch": "@@ -4,11 +4,12 @@\n \n #include <key_io.h>\n #include <outputtype.h>\n-#include <script/signingprovider.h>\n #include <rpc/util.h>\n #include <script/descriptor.h>\n+#include <script/signingprovider.h>\n #include <tinyformat.h>\n #include <util/strencodings.h>\n+#include <util/string.h>\n \n #include <tuple>\n \n@@ -645,11 +646,7 @@ std::string RPCArg::ToString(const bool oneline) const\n     }\n     case Type::OBJ:\n     case Type::OBJ_USER_KEYS: {\n-        std::string res;\n-        for (size_t i = 0; i < m_inner.size();) {\n-            res += m_inner[i].ToStringObj(oneline);\n-            if (++i < m_inner.size()) res += \",\";\n-        }\n+        const std::string res = Join(m_inner, \",\", [&](const RPCArg& i) { return i.ToStringObj(oneline); });\n         if (m_type == Type::OBJ) {\n             return \"{\" + res + \"}\";\n         } else {"
      }
    ]
  }
]