DrahtBot,2020-12-19 03:25:10,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/20697#issuecomment-748412119,748412119,
hebasto,2020-12-20 12:19:31,"Updated 144250e3f055d47d18379b01056e9d3eb11e9231 -> 83c07d1e3f8809183cce4ca88176d700249e9f55 ([pr20697.03](https://github.com/hebasto/bitcoin/commits/pr20697.03) -> [pr20697.04](https://github.com/hebasto/bitcoin/commits/pr20697.04)):\n\n- addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/20697#discussion_r545826069):\n> Maybe submit this as a separate pull? ;)\n\nSee:",https://github.com/bitcoin/bitcoin/pull/20697#issuecomment-748600578,748600578,
hebasto,2020-12-21 09:24:48,"Updated 83c07d1e3f8809183cce4ca88176d700249e9f55 -> b4cd93d6f3e822365b107ccd5f0426fef31b7156 ([pr20697.04](https://github.com/hebasto/bitcoin/commits/pr20697.04) -> [pr20697.05](https://github.com/hebasto/bitcoin/commits/pr20697.05), [diff](https://github.com/hebasto/bitcoin/compare/pr20697.04..pr20697.05)):\n\n- addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/20697#dis",https://github.com/bitcoin/bitcoin/pull/20697#issuecomment-748869426,748869426,
MarcoFalke,2020-12-21 11:07:00,ACK 3c2478c38522c176e81befd4d991a259b09be063,https://github.com/bitcoin/bitcoin/pull/20697#issuecomment-748916110,748916110,
hebasto,2020-12-21 11:10:15,"Updated b4cd93d6f3e822365b107ccd5f0426fef31b7156 -> f89d374069e2c4b7897d4b95f69876fc42604550 ([pr20697.05](https://github.com/hebasto/bitcoin/commits/pr20697.05) -> [pr20697.07](https://github.com/hebasto/bitcoin/commits/pr20697.07), [diff](https://github.com/hebasto/bitcoin/compare/pr20697.05..pr20697.07)):\n\n- addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/20697#dis",https://github.com/bitcoin/bitcoin/pull/20697#issuecomment-748917645,748917645,
MarcoFalke,2020-12-21 11:11:48,This was merged two seconds before you force pushed :sweat_smile: ,https://github.com/bitcoin/bitcoin/pull/20697#issuecomment-748918391,748918391,
hebasto,2020-12-21 11:12:32,"> This was merged two seconds before you force pushed sweat_smile\n\nslow typing :)",https://github.com/bitcoin/bitcoin/pull/20697#issuecomment-748918695,748918695,
MarcoFalke,2020-12-18 12:29:21,we don't run the linters on any branch because it is too late to fixup any issues that have been merged,https://github.com/bitcoin/bitcoin/pull/20697#discussion_r545800497,545800497,ci/lint/06_script.sh
hebasto,2020-12-18 12:35:28,"Correct. But this is for forked repos and personal Cirrus accounts.\n\n`test/lint/lint-git-commit-check.sh` and `test/lint/lint-whitespace.sh` work in all scenarios now.",https://github.com/bitcoin/bitcoin/pull/20697#discussion_r545803534,545803534,ci/lint/06_script.sh
MarcoFalke,2020-12-18 12:47:48,The command to create a branch would be git branch master origin/master,https://github.com/bitcoin/bitcoin/pull/20697#discussion_r545809507,545809507,ci/lint/05_before_script.sh
MarcoFalke,2020-12-18 13:20:07,Maybe submit this as a separate pull? ;),https://github.com/bitcoin/bitcoin/pull/20697#discussion_r545826069,545826069,ci/lint/06_script.sh
MarcoFalke,2020-12-18 13:24:19,"needs to be guarded by ` if [ -n ""$CIRRUS_PR"" ]; then`",https://github.com/bitcoin/bitcoin/pull/20697#discussion_r545828178,545828178,ci/lint/05_before_script.sh
hebasto,2020-12-20 12:20:09,Thanks! [Done](https://github.com/bitcoin/bitcoin/pull/20697#issuecomment-748600578).,https://github.com/bitcoin/bitcoin/pull/20697#discussion_r546369368,546369368,ci/lint/06_script.sh
hebasto,2020-12-20 12:20:47,Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/20697#issuecomment-748600578).,https://github.com/bitcoin/bitcoin/pull/20697#discussion_r546369424,546369424,ci/lint/05_before_script.sh
MarcoFalke,2020-12-21 07:06:55,Is this needed?,https://github.com/bitcoin/bitcoin/pull/20697#discussion_r546541495,546541495,ci/lint/06_script.sh
hebasto,2020-12-21 07:15:53,"Actually, it replaces the `git fetch` command from the removed `ci/lint/05_before_script.sh`\n\nOh, I see. The `CIRRUS_BASE_SHA` must already be in the commit history for pulls, right?\nI'll push another change without this command.",https://github.com/bitcoin/bitcoin/pull/20697#discussion_r546544159,546544159,ci/lint/06_script.sh
hebasto,2020-12-21 09:25:17,Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/20697#issuecomment-748869426).,https://github.com/bitcoin/bitcoin/pull/20697#discussion_r546596830,546596830,ci/lint/06_script.sh
MarcoFalke,2020-12-21 09:55:07,"Why is this changed again? Now it will include master commits, because master has already been merged in for pull requests (see .cirrus.yml)\n\n`COMMIT_RANGE=""${CIRRUS_BASE_SHA}..$GIT_HEAD""` was correct.",https://github.com/bitcoin/bitcoin/pull/20697#discussion_r546611033,546611033,ci/lint/06_script.sh
hebasto,2020-12-21 10:00:08,"> ... master has already been merged in for pull requests (see .cirrus.yml)\n\nRight.\n\nFor described case ""when a changed PR is force pushed into the base branch that has already grown, i.e., the pull is effectively based on the non-top commit of the base branch"" I think `COMMIT_RANGE=""${CIRRUS_BASE_SHA}..$GIT_HEAD""` is wrong, as `$CIRRUS_BASE_SHA` is not the commit on which the pull is base",https://github.com/bitcoin/bitcoin/pull/20697#discussion_r546613692,546613692,ci/lint/06_script.sh
MarcoFalke,2020-12-21 10:17:43,"> $CIRRUS_BASE_SHA is not the commit on which the pull is based on.\n\nIt is the commit that this pull is de-facto based on, assuming that `git merge A` is approximately doing the same like `git rebase A`.\n\nAs I mentioned previously the current version is broken and will include all commits that have been pushed to master since. See:\n\nhttps://cirrus-ci.com/task/5396234322051072?command=l",https://github.com/bitcoin/bitcoin/pull/20697#discussion_r546622200,546622200,ci/lint/06_script.sh
hebasto,2020-12-21 10:24:16,"In `.cirrus.yml` the base branch is merged into the pull one. That's why I think that [listed](https://cirrus-ci.com/task/5396234322051072?command=lint#L931) commits are correct `COMMIT_RANGE` to lint.\n\nOTOH, we could merge the pull branch into the base one. In that case `$CIRRUS_BASE_SHA` will work as documented.",https://github.com/bitcoin/bitcoin/pull/20697#discussion_r546625404,546625404,ci/lint/06_script.sh
MarcoFalke,2020-12-21 10:29:55,"> That's why I think that listed commits are correct COMMIT_RANGE to lint.\n\nIt is not the way it worked on travis",https://github.com/bitcoin/bitcoin/pull/20697#discussion_r546628282,546628282,ci/lint/06_script.sh
hebasto,2020-12-21 10:31:43,"Agree.\n\nIs it acceptable to s/`git merge A`/`git rebase A`/ ?",https://github.com/bitcoin/bitcoin/pull/20697#discussion_r546629043,546629043,ci/lint/06_script.sh
hebasto,2020-12-21 10:56:27,"I've tested `COMMIT_RANGE=""${CIRRUS_BASE_SHA}..$GIT_HEAD""`. It works for all cases.\n`git` is smart enough to know what to do :)\n\nBut for a human the value of `COMMIT_RANGE` is a bit cryptic (regarding to pull commits) in cases of a pull based on the non-top commit of the base branch. So going to skip output of it.",https://github.com/bitcoin/bitcoin/pull/20697#discussion_r546640516,546640516,ci/lint/06_script.sh
MarcoFalke,2020-12-21 10:58:54,"> Is it acceptable to s/git merge A/git rebase A/ ?\n\nIn theory yes, in practise it doesn't work with subtree bumps.",https://github.com/bitcoin/bitcoin/pull/20697#discussion_r546641642,546641642,ci/lint/06_script.sh
