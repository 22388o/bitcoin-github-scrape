[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/548609825",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#issuecomment-548609825",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17335",
    "id": 548609825,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0ODYwOTgyNQ==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-31T23:35:25Z",
    "updated_at": "2019-10-31T23:35:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can we turn off these lints? Who cares at all if we have some unused imports in some python tests? This seems entirely useless.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/548609825/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/548644465",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#issuecomment-548644465",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17335",
    "id": 548644465,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0ODY0NDQ2NQ==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-01T02:42:20Z",
    "updated_at": "2020-02-11T21:39:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #16756 (test: Connection eviction logic tests by mzumsande)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/548644465/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565826606",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#issuecomment-565826606",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17335",
    "id": 565826606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTgyNjYwNg==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-15T16:54:12Z",
    "updated_at": "2019-12-15T16:54:29Z",
    "author_association": "MEMBER",
    "body": "Suggeted fixups: https://github.com/jnewbery/bitcoin/commit/3357670144485dcde14ddf98a90fab0fca6965a3 (in branch https://github.com/jnewbery/bitcoin/tree/pr17335.1)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565826606/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643434300",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#issuecomment-643434300",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17335",
    "id": 643434300,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MzQzNDMwMA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-12T18:56:28Z",
    "updated_at": "2020-06-12T18:56:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n\ud83d\udc19 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643434300/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643461161",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#issuecomment-643461161",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17335",
    "id": 643461161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MzQ2MTE2MQ==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-12T20:04:50Z",
    "updated_at": "2020-06-12T20:04:50Z",
    "author_association": "MEMBER",
    "body": "This has unaddressed review comments from > 6 months ago. Closing and marking 'up for grabs'.\r\n\r\n@TheBlueMatt - if you want to pick this up again, let me know and I'll reopen.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643461161/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/650593797",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#issuecomment-650593797",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17335",
    "id": 650593797,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDU5Mzc5Nw==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-27T18:07:34Z",
    "updated_at": "2020-06-27T18:07:34Z",
    "author_association": "MEMBER",
    "body": "Picked this up in #19397.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/650593797/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341586307",
    "pull_request_review_id": 310472564,
    "id": 341586307,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTU4NjMwNw==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": 7,
    "original_position": 7,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "for p2p, since we already have RPC tests for it(I had to look)",
    "created_at": "2019-11-01T14:06:51Z",
    "updated_at": "2019-11-04T17:07:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341586307",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341586307"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341586307"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341586307/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 7,
    "original_line": 7,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341699998",
    "pull_request_review_id": 310625186,
    "id": 341699998,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTY5OTk5OA==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [['-debug', '-whitelist=127.0.0.1'],['-debug', '-whitelist=127.0.0.1']]",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": null,
    "original_position": 16,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "why `-debug`? It's on by default.\r\n\r\nPlease comment why `-whitelist` is required",
    "created_at": "2019-11-01T18:32:18Z",
    "updated_at": "2019-11-04T17:07:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341699998",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341699998"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341699998"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341699998/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341700327",
    "pull_request_review_id": 310625186,
    "id": 341700327,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTcwMDMyNw==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": 6,
    "original_position": 6,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Prefer to use file docstrings over code comments for the top-level comment",
    "created_at": "2019-11-01T18:33:05Z",
    "updated_at": "2019-11-04T17:07:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341700327",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341700327"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341700327"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341700327/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 6,
    "original_line": 6,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341704009",
    "pull_request_review_id": 310625186,
    "id": 341704009,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTcwNDAwOQ==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [['-debug', '-whitelist=127.0.0.1'],['-debug', '-whitelist=127.0.0.1']]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1) # Leave IBD\n+        self.sync_all()\n+\n+        cnt = self.nodes[0].getblockcount()\n+\n+        node1blocks = self.nodes[1].generate(18)\n+\n+        self.sync_all()\n+        if (self.nodes[0].getblockcount() != cnt + 18):\n+            raise AssertionError(\"Failed to sync initial blocks\")\n+\n+        self.nodes[0].invalidateblock(node1blocks[0])\n+        self.nodes[1].invalidateblock(node1blocks[0])\n+\n+        if (self.nodes[0].getblockcount() != cnt):\n+            raise AssertionError(\"Failed to invalidate initial blocks\")\n+\n+        # The test framework is a little dense wrt mining on nodes without wallets -",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": null,
    "original_position": 36,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This comment is wrong. All nodes will generate to a deterministic address (whether wallet is enabled or not).\r\n\r\nOther ways to achieve this:\r\n- call `self.nodes[0].generatetoaddress(17, self.nodes[0].getnewaddress()) to get a new address (and hence new block hash)\r\n- call `sleep(1)` to get a new timestamp (and hence new block hash)\r\n- ~use `setmocktime()` to get a new timestamp (and hence new block hash)~ probably not a good idea if you're testing p2p behaviour.",
    "created_at": "2019-11-01T18:42:38Z",
    "updated_at": "2019-11-04T17:07:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341704009",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341704009"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341704009"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341704009/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 36,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341704847",
    "pull_request_review_id": 310625186,
    "id": 341704847,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTcwNDg0Nw==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [['-debug', '-whitelist=127.0.0.1'],['-debug', '-whitelist=127.0.0.1']]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1) # Leave IBD\n+        self.sync_all()\n+\n+        cnt = self.nodes[0].getblockcount()\n+\n+        node1blocks = self.nodes[1].generate(18)\n+\n+        self.sync_all()\n+        if (self.nodes[0].getblockcount() != cnt + 18):\n+            raise AssertionError(\"Failed to sync initial blocks\")\n+\n+        self.nodes[0].invalidateblock(node1blocks[0])\n+        self.nodes[1].invalidateblock(node1blocks[0])\n+\n+        if (self.nodes[0].getblockcount() != cnt):\n+            raise AssertionError(\"Failed to invalidate initial blocks\")\n+\n+        # The test framework is a little dense wrt mining on nodes without wallets -",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": null,
    "original_position": 36,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "also: I'd gently encourage you not to call other contributors' code 'a little dense'",
    "created_at": "2019-11-01T18:44:52Z",
    "updated_at": "2019-11-04T17:07:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341704847",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341704847"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341704847"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341704847/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 36,
    "side": "RIGHT",
    "in_reply_to_id": 341704009
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341726045",
    "pull_request_review_id": 310661188,
    "id": 341726045,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTcyNjA0NQ==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [['-debug', '-whitelist=127.0.0.1'],['-debug', '-whitelist=127.0.0.1']]",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": null,
    "original_position": 16,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Because that's what was there before, its just a test, and it doesn't seem to hurt anything.",
    "created_at": "2019-11-01T19:47:45Z",
    "updated_at": "2019-11-04T17:07:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341726045",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341726045"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341726045"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341726045/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT",
    "in_reply_to_id": 341699998
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341726243",
    "pull_request_review_id": 310661482,
    "id": 341726243,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTcyNjI0Mw==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": 6,
    "original_position": 6,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't know what a docstrng is.",
    "created_at": "2019-11-01T19:48:22Z",
    "updated_at": "2019-11-04T17:07:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341726243",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341726243"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341726243"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341726243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 6,
    "original_line": 6,
    "side": "RIGHT",
    "in_reply_to_id": 341700327
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341726800",
    "pull_request_review_id": 310662265,
    "id": 341726800,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTcyNjgwMA==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [['-debug', '-whitelist=127.0.0.1'],['-debug', '-whitelist=127.0.0.1']]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1) # Leave IBD\n+        self.sync_all()\n+\n+        cnt = self.nodes[0].getblockcount()\n+\n+        node1blocks = self.nodes[1].generate(18)\n+\n+        self.sync_all()\n+        if (self.nodes[0].getblockcount() != cnt + 18):\n+            raise AssertionError(\"Failed to sync initial blocks\")\n+\n+        self.nodes[0].invalidateblock(node1blocks[0])\n+        self.nodes[1].invalidateblock(node1blocks[0])\n+\n+        if (self.nodes[0].getblockcount() != cnt):\n+            raise AssertionError(\"Failed to invalidate initial blocks\")\n+\n+        # The test framework is a little dense wrt mining on nodes without wallets -",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": null,
    "original_position": 36,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I tried getnewaddress first - sadly this is just an issue for non-wallet nodes. Wallet'd nodes will generate a *new* deterministic address, but the test framework just hard-codes a bunch. That's totally fine, but it is a bit dense. I'm also a bit dense, and so is lots of code I write, cause its just a hack to get it to work. Didn't mean it at all as an insult, just describing the state of it.",
    "created_at": "2019-11-01T19:50:07Z",
    "updated_at": "2019-11-04T17:07:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341726800",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341726800"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341726800"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341726800/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 36,
    "side": "RIGHT",
    "in_reply_to_id": 341704009
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341733707",
    "pull_request_review_id": 310672106,
    "id": 341733707,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTczMzcwNw==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": 6,
    "original_position": 6,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Here you go: https://www.python.org/dev/peps/pep-0257/",
    "created_at": "2019-11-01T20:11:43Z",
    "updated_at": "2019-11-04T17:07:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341733707",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341733707"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341733707"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341733707/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 6,
    "original_line": 6,
    "side": "RIGHT",
    "in_reply_to_id": 341700327
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341733765",
    "pull_request_review_id": 310672205,
    "id": 341733765,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTczMzc2NQ==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [['-debug', '-whitelist=127.0.0.1'],['-debug', '-whitelist=127.0.0.1']]",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": null,
    "original_position": 16,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "How can it be there before if this is a new test?",
    "created_at": "2019-11-01T20:11:57Z",
    "updated_at": "2019-11-04T17:07:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341733765",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341733765"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341733765"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341733765/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT",
    "in_reply_to_id": 341699998
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341734241",
    "pull_request_review_id": 310672865,
    "id": 341734241,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTczNDI0MQ==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [['-debug', '-whitelist=127.0.0.1'],['-debug', '-whitelist=127.0.0.1']]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1) # Leave IBD\n+        self.sync_all()\n+\n+        cnt = self.nodes[0].getblockcount()\n+\n+        node1blocks = self.nodes[1].generate(18)\n+\n+        self.sync_all()\n+        if (self.nodes[0].getblockcount() != cnt + 18):\n+            raise AssertionError(\"Failed to sync initial blocks\")\n+\n+        self.nodes[0].invalidateblock(node1blocks[0])\n+        self.nodes[1].invalidateblock(node1blocks[0])\n+\n+        if (self.nodes[0].getblockcount() != cnt):\n+            raise AssertionError(\"Failed to invalidate initial blocks\")\n+\n+        # The test framework is a little dense wrt mining on nodes without wallets -",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": null,
    "original_position": 36,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It's not dense. It's how we get tests to work with wallet enabled and disabled.\r\n\r\nCan you remove the incorrect comment please?",
    "created_at": "2019-11-01T20:13:29Z",
    "updated_at": "2019-11-04T17:07:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341734241",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341734241"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341734241"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341734241/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 36,
    "side": "RIGHT",
    "in_reply_to_id": 341704009
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341735375",
    "pull_request_review_id": 310674483,
    "id": 341735375,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTczNTM3NQ==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [['-debug', '-whitelist=127.0.0.1'],['-debug', '-whitelist=127.0.0.1']]",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": null,
    "original_position": 16,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The code was taken, almost verbatim from #5806, its not fresh.",
    "created_at": "2019-11-01T20:17:12Z",
    "updated_at": "2019-11-04T17:07:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341735375",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341735375"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341735375"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341735375/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT",
    "in_reply_to_id": 341699998
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341743161",
    "pull_request_review_id": 310685351,
    "id": 341743161,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTc0MzE2MQ==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [['-debug', '-whitelist=127.0.0.1'],['-debug', '-whitelist=127.0.0.1']]",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": null,
    "original_position": 16,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Adding '-whitelist=127.0.0.1' to tests seems to me to make them less realistic, more brittle and harder to maintain if different connection options are added. It also changes p2p behaviour so that it's less obvious that the test is testing what you want to test in a focused way. Does whitelisting interact with how blocks are sync'ed in the event of a block being invalidated? I don't know, and by adding this option you're requiring reviewers to figure that out (or just rubberstamp ACK this PR without understanding the code). So my request is to either remove this or comment on why you've chosen to add this option.",
    "created_at": "2019-11-01T20:40:56Z",
    "updated_at": "2019-11-04T17:07:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341743161",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341743161"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r341743161"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341743161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT",
    "in_reply_to_id": 341699998
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342164614",
    "pull_request_review_id": 311221565,
    "id": 342164614,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjE2NDYxNA==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [['-debug', '-whitelist=127.0.0.1'],['-debug', '-whitelist=127.0.0.1']]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1) # Leave IBD\n+        self.sync_all()\n+\n+        cnt = self.nodes[0].getblockcount()\n+\n+        node1blocks = self.nodes[1].generate(18)\n+\n+        self.sync_all()\n+        if (self.nodes[0].getblockcount() != cnt + 18):\n+            raise AssertionError(\"Failed to sync initial blocks\")\n+\n+        self.nodes[0].invalidateblock(node1blocks[0])\n+        self.nodes[1].invalidateblock(node1blocks[0])\n+\n+        if (self.nodes[0].getblockcount() != cnt):\n+            raise AssertionError(\"Failed to invalidate initial blocks\")\n+\n+        # The test framework is a little dense wrt mining on nodes without wallets -",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": null,
    "original_position": 36,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fair, likely should not have used the word \"dense\". I cleared up the comment, though I still think this approach is the easiest?",
    "created_at": "2019-11-04T17:08:24Z",
    "updated_at": "2019-11-04T17:08:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r342164614",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342164614"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r342164614"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342164614/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 36,
    "side": "RIGHT",
    "in_reply_to_id": 341704009
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342265263",
    "pull_request_review_id": 311352005,
    "id": 342265263,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjI2NTI2Mw==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": 6,
    "original_position": 6,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "50190dfaafac7f6bf7f1b8ff2dcc494ec7643912",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Take a look at the other tests, particularly https://github.com/bitcoin/bitcoin/blob/master/test/functional/example_test.py#L5 and https://github.com/bitcoin/bitcoin/blob/master/test/functional/README.md#style-guidelines. Documenting what the test is supposed to be testing and why is a courtesy to any other developer who tries to understand this in future. \"Test invalidateblock\" doesn't explain what this test is for.",
    "created_at": "2019-11-04T20:55:01Z",
    "updated_at": "2019-11-04T21:03:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r342265263",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342265263"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r342265263"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342265263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 6,
    "original_line": 6,
    "side": "RIGHT",
    "in_reply_to_id": 341700327
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342265530",
    "pull_request_review_id": 311352005,
    "id": 342265530,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjI2NTUzMA==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [[],[]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1) # Leave IBD\n+        self.sync_all()\n+\n+        cnt = self.nodes[0].getblockcount()\n+\n+        node1blocks = self.nodes[1].generate(18)\n+\n+        self.sync_all()\n+        if (self.nodes[0].getblockcount() != cnt + 18):\n+            raise AssertionError(\"Failed to sync initial blocks\")\n+\n+        self.nodes[0].invalidateblock(node1blocks[0])\n+        self.nodes[1].invalidateblock(node1blocks[0])\n+\n+        if (self.nodes[0].getblockcount() != cnt):\n+            raise AssertionError(\"Failed to invalidate initial blocks\")\n+\n+        # The test framework uses a static per-node address which will generate\n+        # a deterministic block if we have no wallet.",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": 37,
    "original_position": 37,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "'if we have no wallet' is inaccurate. All calls to `generate` in the functional test framework will generate blocks to a hardcoded address.",
    "created_at": "2019-11-04T20:55:42Z",
    "updated_at": "2019-11-04T21:03:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r342265530",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342265530"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r342265530"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342265530/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 37,
    "original_line": 37,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342265629",
    "pull_request_review_id": 311352005,
    "id": 342265629,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjI2NTYyOQ==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [[],[]]",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": 16,
    "original_position": 16,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This isn't required if you're not adding any extra args.",
    "created_at": "2019-11-04T20:55:57Z",
    "updated_at": "2019-11-04T21:03:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r342265629",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342265629"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r342265629"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342265629/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 16,
    "original_line": 16,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342266356",
    "pull_request_review_id": 311352005,
    "id": 342266356,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjI2NjM1Ng==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [[],[]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1) # Leave IBD\n+        self.sync_all()\n+\n+        cnt = self.nodes[0].getblockcount()\n+\n+        node1blocks = self.nodes[1].generate(18)\n+\n+        self.sync_all()\n+        if (self.nodes[0].getblockcount() != cnt + 18):\n+            raise AssertionError(\"Failed to sync initial blocks\")\n+\n+        self.nodes[0].invalidateblock(node1blocks[0])\n+        self.nodes[1].invalidateblock(node1blocks[0])\n+\n+        if (self.nodes[0].getblockcount() != cnt):\n+            raise AssertionError(\"Failed to invalidate initial blocks\")\n+\n+        # The test framework uses a static per-node address which will generate\n+        # a deterministic block if we have no wallet.\n+        # Instead, mine on nodes[0], which will use a different hardcoded address\n+        # than the one we previously used, making this block unique.\n+        self.nodes[0].generate(17)\n+\n+        print(\"All blocks generated, trying to sync\")",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": 42,
    "original_position": 42,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Use `self.log.info()` rather than `print`",
    "created_at": "2019-11-04T20:57:46Z",
    "updated_at": "2019-11-04T21:03:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r342266356",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342266356"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r342266356"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342266356/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 42,
    "original_line": 42,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342266963",
    "pull_request_review_id": 311352005,
    "id": 342266963,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjI2Njk2Mw==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": 15,
    "original_position": 15,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If you remove this line, you can also remove the following lines from `run_test`:\r\n\r\n```\r\n        self.nodes[0].generate(1) # Leave IBD\r\n        self.sync_all()\r\n```\r\n\r\nThe test will run more quickly and it'll be clearer to readers what the test is for.",
    "created_at": "2019-11-04T20:59:13Z",
    "updated_at": "2019-11-04T21:03:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r342266963",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342266963"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r342266963"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342266963/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 15,
    "original_line": 15,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342268521",
    "pull_request_review_id": 311352005,
    "id": 342268521,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjI2ODUyMQ==",
    "diff_hunk": "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test invalidateblock\n+#\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class InvalidateBlockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [[],[]]\n+\n+    def run_test(self):\n+        self.nodes[0].generate(1) # Leave IBD\n+        self.sync_all()\n+\n+        cnt = self.nodes[0].getblockcount()\n+\n+        node1blocks = self.nodes[1].generate(18)\n+\n+        self.sync_all()\n+        if (self.nodes[0].getblockcount() != cnt + 18):\n+            raise AssertionError(\"Failed to sync initial blocks\")\n+\n+        self.nodes[0].invalidateblock(node1blocks[0])\n+        self.nodes[1].invalidateblock(node1blocks[0])\n+\n+        if (self.nodes[0].getblockcount() != cnt):\n+            raise AssertionError(\"Failed to invalidate initial blocks\")\n+\n+        # The test framework uses a static per-node address which will generate\n+        # a deterministic block if we have no wallet.",
    "path": "test/functional/p2p_post_invalidate_sync.py",
    "position": 37,
    "original_position": 37,
    "commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "original_commit_id": "df117c82129f1a7ef0898d46794fc9d9bad64923",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think it's _slightly_ clearer if all blocks are generated on node0 and sync'ed to node1. It makes it more obvious to someone reading the test that this is testing node1 being able to resync to an less-work chain if it previously invalidated a different chain.",
    "created_at": "2019-11-04T21:03:06Z",
    "updated_at": "2019-11-04T21:03:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r342268521",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342268521"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17335#discussion_r342268521"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342268521/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 37,
    "original_line": 37,
    "side": "RIGHT",
    "in_reply_to_id": 342265530
  }
]