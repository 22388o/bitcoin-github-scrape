[
  {
    "sha": "73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3M2NkNWIyNWI5MDFlMTdkMjRiZDJlYmViN2ZlMzM0ZjYwOTJkM2Q4",
    "commit": {
      "author": {
        "name": "Cristian Mircea Messel",
        "email": "mess110@gmail.com",
        "date": "2017-10-02T14:59:32Z"
      },
      "committer": {
        "name": "Cristian Mircea Messel",
        "email": "mess110@gmail.com",
        "date": "2018-05-15T20:23:56Z"
      },
      "message": "[gui] Add proxy icon in statusbar",
      "tree": {
        "sha": "6e7c9ad6b3e756d21d13a13ddf81496b946b4fa4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6e7c9ad6b3e756d21d13a13ddf81496b946b4fa4"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/comments",
    "author": {
      "login": "mess110",
      "id": 226170,
      "node_id": "MDQ6VXNlcjIyNjE3MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/226170?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mess110",
      "html_url": "https://github.com/mess110",
      "followers_url": "https://api.github.com/users/mess110/followers",
      "following_url": "https://api.github.com/users/mess110/following{/other_user}",
      "gists_url": "https://api.github.com/users/mess110/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mess110/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mess110/subscriptions",
      "organizations_url": "https://api.github.com/users/mess110/orgs",
      "repos_url": "https://api.github.com/users/mess110/repos",
      "events_url": "https://api.github.com/users/mess110/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mess110/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "mess110",
      "id": 226170,
      "node_id": "MDQ6VXNlcjIyNjE3MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/226170?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mess110",
      "html_url": "https://github.com/mess110",
      "followers_url": "https://api.github.com/users/mess110/followers",
      "following_url": "https://api.github.com/users/mess110/following{/other_user}",
      "gists_url": "https://api.github.com/users/mess110/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mess110/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mess110/subscriptions",
      "organizations_url": "https://api.github.com/users/mess110/orgs",
      "repos_url": "https://api.github.com/users/mess110/repos",
      "events_url": "https://api.github.com/users/mess110/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mess110/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "13da2899ae42d48547e5cb491ea6aba4882b3306",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/13da2899ae42d48547e5cb491ea6aba4882b3306",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/13da2899ae42d48547e5cb491ea6aba4882b3306"
      }
    ],
    "stats": {
      "total": 121,
      "additions": 120,
      "deletions": 1
    },
    "files": [
      {
        "sha": "21cca7d9acfe4b8458b2946fbb04fd35d367a032",
        "filename": "contrib/debian/copyright",
        "status": "modified",
        "additions": 6,
        "deletions": 1,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/contrib/debian/copyright",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/contrib/debian/copyright",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/debian/copyright?ref=73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8",
        "patch": "@@ -76,8 +76,8 @@ Comment:\n \n Files: src/qt/res/icons/clock*.png\n        src/qt/res/icons/eye_*.png\n-       src/qt/res/icons/verify.png\n        src/qt/res/icons/tx_in*.png\n+       src/qt/res/icons/verify.png\n        src/qt/res/src/clock_*.svg\n        src/qt/res/src/tx_*.svg\n        src/qt/res/src/verify.svg\n@@ -93,6 +93,11 @@ Copyright: Bitboy, Jonas Schnelli\n License: public-domain\n Comment: Site: https://bitcointalk.org/?topic=1756.0\n \n+Files: src/qt/res/icons/proxy.png\n+       src/qt/res/src/proxy.svg\n+Copyright: Cristian Mircea Messel\n+Licese: public-domain\n+\n \n License: Expat\n  Permission is hereby granted, free of charge, to any person obtaining a"
      },
      {
        "sha": "a84a11ac458235d167ce40a91e9fb9b056383659",
        "filename": "src/Makefile.qt.include",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/Makefile.qt.include",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/Makefile.qt.include",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.qt.include?ref=73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8",
        "patch": "@@ -278,6 +278,7 @@ RES_ICONS = \\\n   qt/res/icons/network_disabled.png \\\n   qt/res/icons/open.png \\\n   qt/res/icons/overview.png \\\n+  qt/res/icons/proxy.png \\\n   qt/res/icons/quit.png \\\n   qt/res/icons/receive.png \\\n   qt/res/icons/remove.png \\"
      },
      {
        "sha": "fddc2a5685b16c818a6ffd51807cccc121cd40d0",
        "filename": "src/qt/bitcoin.qrc",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/qt/bitcoin.qrc",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/qt/bitcoin.qrc",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.qrc?ref=73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8",
        "patch": "@@ -53,6 +53,7 @@\n         <file alias=\"hd_enabled\">res/icons/hd_enabled.png</file>\n         <file alias=\"hd_disabled\">res/icons/hd_disabled.png</file>\n         <file alias=\"network_disabled\">res/icons/network_disabled.png</file>\n+        <file alias=\"proxy\">res/icons/proxy.png</file>\n     </qresource>\n     <qresource prefix=\"/movies\">\n         <file alias=\"spinner-000\">res/movies/spinner-000.png</file>"
      },
      {
        "sha": "5511ca84e6de3da3dcbc72e4926569308e694147",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8",
        "patch": "@@ -83,6 +83,7 @@ BitcoinGUI::BitcoinGUI(interfaces::Node& node, const PlatformStyle *_platformSty\n     unitDisplayControl(0),\n     labelWalletEncryptionIcon(0),\n     labelWalletHDStatusIcon(0),\n+    labelProxyIcon(0),\n     connectionsControl(0),\n     labelBlocksIcon(0),\n     progressBarLabel(0),\n@@ -201,6 +202,7 @@ BitcoinGUI::BitcoinGUI(interfaces::Node& node, const PlatformStyle *_platformSty\n     unitDisplayControl = new UnitDisplayStatusBarControl(platformStyle);\n     labelWalletEncryptionIcon = new QLabel();\n     labelWalletHDStatusIcon = new QLabel();\n+    labelProxyIcon = new QLabel();\n     connectionsControl = new GUIUtil::ClickableLabel();\n     labelBlocksIcon = new GUIUtil::ClickableLabel();\n     if(enableWallet)\n@@ -211,6 +213,7 @@ BitcoinGUI::BitcoinGUI(interfaces::Node& node, const PlatformStyle *_platformSty\n         frameBlocksLayout->addWidget(labelWalletEncryptionIcon);\n         frameBlocksLayout->addWidget(labelWalletHDStatusIcon);\n     }\n+    frameBlocksLayout->addWidget(labelProxyIcon);\n     frameBlocksLayout->addStretch();\n     frameBlocksLayout->addWidget(connectionsControl);\n     frameBlocksLayout->addStretch();\n@@ -503,6 +506,9 @@ void BitcoinGUI::setClientModel(ClientModel *_clientModel)\n         connect(_clientModel, SIGNAL(showProgress(QString,int)), this, SLOT(showProgress(QString,int)));\n \n         rpcConsole->setClientModel(_clientModel);\n+\n+        updateProxyIcon();\n+\n #ifdef ENABLE_WALLET\n         if(walletFrame)\n         {\n@@ -1125,6 +1131,24 @@ void BitcoinGUI::updateWalletStatus()\n }\n #endif // ENABLE_WALLET\n \n+void BitcoinGUI::updateProxyIcon()\n+{\n+    std::string ip_port;\n+    bool proxy_enabled = clientModel->getProxyInfo(ip_port);\n+\n+    if (proxy_enabled) {\n+        if (labelProxyIcon->pixmap() == 0) {\n+            QString ip_port_q = QString::fromStdString(ip_port);\n+            labelProxyIcon->setPixmap(platformStyle->SingleColorIcon(\":/icons/proxy\").pixmap(STATUSBAR_ICONSIZE, STATUSBAR_ICONSIZE));\n+            labelProxyIcon->setToolTip(tr(\"Proxy is <b>enabled</b>: %1\").arg(ip_port_q));\n+        } else {\n+            labelProxyIcon->show();\n+        }\n+    } else {\n+        labelProxyIcon->hide();\n+    }\n+}\n+\n void BitcoinGUI::showNormalIfMinimized(bool fToggleHidden)\n {\n     if(!clientModel)"
      },
      {
        "sha": "8ce14f06c62bc073c8697dff131bdc6c58852ff1",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8",
        "patch": "@@ -92,6 +92,7 @@ class BitcoinGUI : public QMainWindow\n     UnitDisplayStatusBarControl *unitDisplayControl;\n     QLabel *labelWalletEncryptionIcon;\n     QLabel *labelWalletHDStatusIcon;\n+    QLabel *labelProxyIcon;\n     QLabel *connectionsControl;\n     QLabel *labelBlocksIcon;\n     QLabel *progressBarLabel;\n@@ -209,6 +210,10 @@ public Q_SLOTS:\n     void incomingTransaction(const QString& date, int unit, const CAmount& amount, const QString& type, const QString& address, const QString& label, const QString& walletName);\n #endif // ENABLE_WALLET\n \n+private:\n+    /** Set the proxy-enabled icon as shown in the UI. */\n+    void updateProxyIcon();\n+\n private Q_SLOTS:\n #ifdef ENABLE_WALLET\n     /** Switch to overview (home) page */"
      },
      {
        "sha": "a623771aa051f9e7fe3f0c01488477cb0ef7dbc3",
        "filename": "src/qt/clientmodel.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/qt/clientmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/qt/clientmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/clientmodel.cpp?ref=73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8",
        "patch": "@@ -17,6 +17,7 @@\n #include <interfaces/node.h>\n #include <validation.h>\n #include <net.h>\n+#include <netbase.h>\n #include <txmempool.h>\n #include <ui_interface.h>\n #include <util.h>\n@@ -268,3 +269,13 @@ void ClientModel::unsubscribeFromCoreSignals()\n     m_handler_notify_block_tip->disconnect();\n     m_handler_notify_header_tip->disconnect();\n }\n+\n+bool ClientModel::getProxyInfo(std::string& ip_port) const\n+{\n+    proxyType ipv4, ipv6;\n+    if (m_node.getProxy((Network) 1, ipv4) && m_node.getProxy((Network) 2, ipv6)) {\n+      ip_port = ipv4.proxy.ToStringIPPort();\n+      return true;\n+    }\n+    return false;\n+}"
      },
      {
        "sha": "9d4fa74b7a001320426d06e38f7bc7d6e98cc1a8",
        "filename": "src/qt/clientmodel.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/qt/clientmodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/qt/clientmodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/clientmodel.h?ref=73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8",
        "patch": "@@ -70,6 +70,8 @@ class ClientModel : public QObject\n     QString formatClientStartupTime() const;\n     QString dataDir() const;\n \n+    bool getProxyInfo(std::string& ip_port) const;\n+\n     // caches for the best header\n     mutable std::atomic<int> cachedBestHeaderHeight;\n     mutable std::atomic<int64_t> cachedBestHeaderTime;"
      },
      {
        "sha": "67c552d0de594ab546ecde7c9bb0b825ca99c3c1",
        "filename": "src/qt/res/icons/proxy.png",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/qt/res/icons/proxy.png",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/qt/res/icons/proxy.png",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/res/icons/proxy.png?ref=73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8"
      },
      {
        "sha": "b42fa6394839df1ce6b2044c8f65f970b30c31eb",
        "filename": "src/qt/res/src/proxy.svg",
        "status": "added",
        "additions": 70,
        "deletions": 0,
        "changes": 70,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/qt/res/src/proxy.svg",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8/src/qt/res/src/proxy.svg",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/res/src/proxy.svg?ref=73cd5b25b901e17d24bd2ebeb7fe334f6092d3d8",
        "patch": "@@ -0,0 +1,70 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n+<!-- Created with Inkscape (http://www.inkscape.org/) -->\n+\n+<svg\n+   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n+   xmlns:cc=\"http://creativecommons.org/ns#\"\n+   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\n+   xmlns:svg=\"http://www.w3.org/2000/svg\"\n+   xmlns=\"http://www.w3.org/2000/svg\"\n+   xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\n+   xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"\n+   width=\"128px\"\n+   height=\"128px\"\n+   id=\"svg2991\"\n+   version=\"1.1\"\n+   inkscape:version=\"0.48.4 r9939\"\n+   sodipodi:docname=\"proxy.svg\"\n+   inkscape:export-xdpi=\"90\"\n+   inkscape:export-ydpi=\"90\">\n+  <defs\n+     id=\"defs2993\" />\n+  <sodipodi:namedview\n+     id=\"base\"\n+     pagecolor=\"#ffffff\"\n+     bordercolor=\"#666666\"\n+     borderopacity=\"1.0\"\n+     inkscape:pageopacity=\"0.0\"\n+     inkscape:pageshadow=\"2\"\n+     inkscape:zoom=\"3.8890872\"\n+     inkscape:cx=\"4.0410731\"\n+     inkscape:cy=\"31.916897\"\n+     inkscape:current-layer=\"layer1\"\n+     showgrid=\"true\"\n+     inkscape:document-units=\"px\"\n+     inkscape:grid-bbox=\"true\"\n+     inkscape:window-width=\"1920\"\n+     inkscape:window-height=\"1056\"\n+     inkscape:window-x=\"0\"\n+     inkscape:window-y=\"24\"\n+     inkscape:window-maximized=\"1\" />\n+  <metadata\n+     id=\"metadata2996\">\n+    <rdf:RDF>\n+      <cc:Work\n+         rdf:about=\"\">\n+        <dc:format>image/svg+xml</dc:format>\n+        <dc:type\n+           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\n+        <dc:title></dc:title>\n+      </cc:Work>\n+    </rdf:RDF>\n+  </metadata>\n+  <g\n+     id=\"layer1\"\n+     inkscape:label=\"Layer 1\"\n+     inkscape:groupmode=\"layer\">\n+    <text\n+       xml:space=\"preserve\"\n+       style=\"font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans\"\n+       x=\"26.981934\"\n+       y=\"110.45972\"\n+       id=\"text2999\"\n+       sodipodi:linespacing=\"125%\"><tspan\n+         sodipodi:role=\"line\"\n+         id=\"tspan3001\"\n+         x=\"26.981934\"\n+         y=\"110.45972\"\n+         style=\"font-size:111px\">P</tspan></text>\n+  </g>\n+</svg>"
      }
    ]
  }
]