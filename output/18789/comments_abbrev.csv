achow101,2020-04-27 21:08:42,"@luke-jr suggested that such a button should be behind an expert mode thing but I'm not sure how to do that. It's not clear to me how that would look in the GUI. One thought I had was to have something like an ""advanced options"" box that could be hidden, but I don't know enough about Qt to implement such a thing.",https://github.com/bitcoin/bitcoin/pull/18789#issuecomment-620235815,620235815,
DrahtBot,2020-04-27 23:02:24,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#21576](https://github.com/bitcoin/bitcoin/pull/21576) (rpc, gui: bumpfee signer support by Sjors)\n* [#15936](https://gi",https://github.com/bitcoin/bitcoin/pull/18789#issuecomment-620280067,620280067,
instagibbs,2020-04-28 17:16:20,Definitely an improvement from prior PRs. Have you looked at `Enable coin control features` in the options menu? I tend to agree with Luke here in that for a basic user it's still too much clutter and could confuse them into thinking they've sent when they have not so that might be a place to put that option if you can figure it out. Maybe the button could also automagically show up if and only if,https://github.com/bitcoin/bitcoin/pull/18789#issuecomment-620741580,620741580,
Sjors,2020-04-28 18:50:27,"This is very scary:\n\n<img width=""471"" alt=""Schermafbeelding 2020-04-28 om 20 39 47"" src=""https://user-images.githubusercontent.com/10217/80524768-6e79e680-8990-11ea-87f9-10df04a5e2d0.png"">\n\nI don't think this model is a good place for this. It's main goal is to allow the user to check their transaction, not to make new decisions.\n\nI think the current behaviour of showing ""the right"" bu",https://github.com/bitcoin/bitcoin/pull/18789#issuecomment-620790506,620790506,
achow101,2020-04-28 19:25:29,"> I don't think this model is a good place for this. It's main goal is to allow the user to check their transaction, not to make new decisions.\n\nI don't see how making new decisions is mutually exclusive with checking the transaction. Users are still checking the transaction.\n\n> I think the current behaviour of showing ""the right"" button is good enough for now. Under the hood it could be s",https://github.com/bitcoin/bitcoin/pull/18789#issuecomment-620807393,620807393,
achow101,2020-04-28 20:19:21,I've added a checkbox in the options to enable/disable showing the `Create Unsigned` button. The button will be shown for `privateKeysDisabled` too.,https://github.com/bitcoin/bitcoin/pull/18789#issuecomment-620832616,620832616,
Sjors,2020-04-29 07:58:01,"Thanks for adding the setting.\n\nFor watch-only wallets, the send screen still says `Create Unsigned`:\n\n<img width=""526"" alt=""Schermafbeelding 2020-04-29 om 09 50 33"" src=""https://user-images.githubusercontent.com/10217/80572748-18905780-89ff-11ea-9a07-f98943746602.png"">\n\nThat should be `Send` for consistency. But that could be confusing; a user might know they need a PSBT, but they onl",https://github.com/bitcoin/bitcoin/pull/18789#issuecomment-621049109,621049109,
achow101,2020-04-29 16:41:42,"> That should be `Send` for consistency. But that could be confusing; a user might know they need a PSBT, but they only see a ""Send"" button.\n\nThat could be changed to say ""Create"". I think ""Create"" is broad enough to imply ""make and send"" and ""make unsigned"".\n\n> So I think your original approach of adding the Create Unsigned button in the Send screen (and the extra menu option for bump fee",https://github.com/bitcoin/bitcoin/pull/18789#issuecomment-621328871,621328871,
luke-jr,2020-12-04 19:30:26,@jarolrod You probably need to merge with master... That's an old issue unrelated to this PR,https://github.com/bitcoin/bitcoin/pull/18789#issuecomment-738974198,738974198,
jarolrod,2020-12-04 19:53:57,"> @jarolrod You probably need to merge with master... That's an old issue unrelated to this PR\n\nThanks! Wasn't aware, now I know. False alarm, I merged and 768ef5c compiles.",https://github.com/bitcoin/bitcoin/pull/18789#issuecomment-738985801,738985801,
Sjors,2021-06-16 09:23:36,"tACK 72e0239\n\nFor the default wallet not much changes in the interface, unless the user opts into the advanced PSBT setting. So that's good.\n\nAlthough ""Increase fee"" can correctly create a PSBT, if you actually broadcast it the transaction list tab is confusing, because it doesn't mark the original as replaced (until it's confirmed). But that's a separate bug.",https://github.com/bitcoin/bitcoin/pull/18789#issuecomment-862200901,862200901,
DrahtBot,2021-09-30 09:57:40,"<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a ""draft"".</sub>",https://github.com/bitcoin/bitcoin/pull/18789#issuecomment-931174009,931174009,
achow101,2021-09-30 19:44:03,Moved to the GUI repo: https://github.com/bitcoin-core/gui/pull/441,https://github.com/bitcoin/bitcoin/pull/18789#issuecomment-931612431,931612431,
luke-jr,2020-05-18 22:11:25,"Maybe this should be a more general ""Enable Advanced PSBT Controls""?",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r426920198,426920198,src/qt/forms/optionsdialog.ui
luke-jr,2020-05-18 22:12:37,"I'm not sure if we have a standard naming schema for QSettings at this point, but `m_` seems wrong at least? (Since they're typeless, keeping the hungarian notation makes sense...)",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r426920628,426920628,src/qt/optionsmodel.cpp
luke-jr,2020-05-18 22:16:09,The new prompt sounds too complicated for normal users...,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r426921950,426921950,src/qt/sendcoinsdialog.cpp
luke-jr,2020-05-18 22:16:58,Can we move this up to have the `||` only done once?,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r426922250,426922250,src/qt/sendcoinsdialog.cpp
luke-jr,2020-05-18 22:19:17,We shouldn't count down if we're leaving it disabled...,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r426923142,426923142,src/qt/sendcoinsdialog.cpp
luke-jr,2020-05-18 22:19:51,Seems harmless to countdown unconditionally here.,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r426923349,426923349,src/qt/sendcoinsdialog.cpp
achow101,2020-05-19 19:53:50,`m_psbt_button` is nullptr when it isn't being shown.,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r427561213,427561213,src/qt/sendcoinsdialog.cpp
achow101,2020-05-19 20:01:02,It is though.,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r427565179,427565179,src/qt/sendcoinsdialog.cpp
achow101,2020-05-19 20:01:16,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r427565315,427565315,src/qt/forms/optionsdialog.ui
achow101,2020-05-19 20:01:22,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r427565351,427565351,src/qt/optionsmodel.cpp
achow101,2020-05-19 20:01:36,I've reverted it back to the original prompt with a slight modification,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r427565495,427565495,src/qt/sendcoinsdialog.cpp
achow101,2020-05-19 20:11:54,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r427570881,427570881,src/qt/sendcoinsdialog.cpp
luke-jr,2020-05-30 17:07:02,"PSBTs aren't Bitcoin Core specific, though, so `PACKAGE_NAME` seems to be the wrong substitution to use here?",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r432870643,432870643,src/qt/sendcoinsdialog.cpp
luke-jr,2020-05-30 17:08:43,"""Or you can ""...what?",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r432870769,432870769,src/qt/sendcoinsdialog.cpp
achow101,2020-06-08 15:51:37,"Oops, removed.",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r436811963,436811963,src/qt/sendcoinsdialog.cpp
achow101,2020-06-08 15:51:52,This is just the same as the string above.,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r436812134,436812134,src/qt/sendcoinsdialog.cpp
jarolrod,2021-06-10 01:03:28,"```diff\n+    /*: Message displayed when attempting to create a transaction. Cautionary text\n+        to prompt the user to verify that the displayed details represent the transaction\n+        the user intends to create. */     \n     question_string.append(tr(""Do you want to create this transaction?""));\n```",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r648779050,648779050,src/qt/sendcoinsdialog.cpp
jarolrod,2021-06-10 01:14:47,"```suggestion\n    // Show the ""Create Unsigned"" button if the option is set or private keys are disabled\n```",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r648782572,648782572,src/qt/walletmodel.cpp
jarolrod,2021-06-14 06:58:47,"```suggestion\n        question_string.append(tr(""Please, review your transaction. You can create and send this transaction or create a Partially Signed Bitcoin Transaction (PSBT), which you can save or copy and then sign with e.g. an offline %1 wallet or a PSBT-compatible hardware wallet."").arg(PACKAGE_NAME));\n```",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r650689991,650689991,src/qt/sendcoinsdialog.cpp
jarolrod,2021-06-14 07:40:19,"Add translator comment (using this revised text:) \n```diff\n+    /*: Text to inform a user attempting to create a transaction of their current options.\n+        At this stage, a user can send their transaction or create a PSBT.\n+        This string is displayed when private keys and PSBT controls are enabled. */\n     question_string.append(tr(""Please, review your transaction. You can crea",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r650712934,650712934,src/qt/sendcoinsdialog.cpp
jarolrod,2021-06-14 07:46:53,"while here, add a translator comment for this string\n\n```diff\n+    /*: Text to inform a user attempting to create a transaction of their current options.\n+        At this stage, a user only create a PSBT. This string is displayed when private keys \n+        are disabled and an external signer is available. */\n     question_string.append(tr(""Please, review your transaction proposal. Thi",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r650716984,650716984,src/qt/sendcoinsdialog.cpp
jarolrod,2021-06-14 07:54:52,"```diff\n+    /*: Ask a user if they would like to manually increase the fee of a transaction \n+        they are trying to create. */\n     QString questionString = tr(""Do you want to increase the fee?"");\n```",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r650722182,650722182,src/qt/walletmodel.cpp
jarolrod,2021-06-14 08:22:09,"while here, add a translator comment for this string\n\n```diff\n+    /*: Text to prompt user to review the details of the transaction\n+        they are attempting to send. */\n     question_string.append(tr(""Please, review your transaction.""));\n```",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r650739943,650739943,src/qt/sendcoinsdialog.cpp
jarolrod,2021-06-14 08:23:54,"shouldn't `""Send""` and `""Create Unsigned""` be translatable? \n\n```suggestion\n    SendConfirmationDialog confirmationDialog(tr(""Confirm fee bump""), questionString, """", """", SEND_CONFIRM_DELAY, tr(""Send""), !m_wallet->privateKeysDisabled(), tr(""Create Unsigned""), show_unsigned_button, nullptr);\n```",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r650741366,650741366,src/qt/walletmodel.cpp
achow101,2021-08-17 23:15:29,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r690785243,690785243,src/qt/sendcoinsdialog.cpp
achow101,2021-08-17 23:15:33,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r690785280,690785280,src/qt/walletmodel.cpp
achow101,2021-08-17 23:15:38,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r690785308,690785308,src/qt/sendcoinsdialog.cpp
achow101,2021-08-17 23:15:41,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r690785334,690785334,src/qt/sendcoinsdialog.cpp
achow101,2021-08-17 23:15:46,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r690785360,690785360,src/qt/sendcoinsdialog.cpp
achow101,2021-08-17 23:15:49,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r690785382,690785382,src/qt/walletmodel.cpp
achow101,2021-08-17 23:15:52,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r690785403,690785403,src/qt/sendcoinsdialog.cpp
achow101,2021-08-17 23:15:57,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r690785437,690785437,src/qt/walletmodel.cpp
jarolrod,2021-08-17 23:46:27,"These are meant to be [translator comments](https://doc.qt.io/qt-5/i18n-source-translation.html#translator-comments), i can understand the confusion with doxygen comment syntax ü§ó\n\nThese extra `*` will be displayed to the translator and will be confusing:\n```\n<message>\n        <location line=""-5""/>\n        <source>Do you want to create this transaction?</source>\n        <extracomment>",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r690796458,690796458,src/qt/sendcoinsdialog.cpp
jarolrod,2021-08-18 01:05:30,"add a tooltip?\n\n```diff\n@@ -238,6 +238,9 @@\n           </item>\n           <item>\n            <widget class=""QCheckBox"" name=""m_enable_psbt_controls"">\n+            <property name=""toolTip"">\n+             <string extracomment=""Tooltip text for options window setting that enables advanced PSBT controls."">Whether to show advanced PSBT controls or not.</string>\n+            </property",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r690826235,690826235,src/qt/forms/optionsdialog.ui
jarolrod,2021-08-18 01:11:25,"The capitalization here is different from the other options menu settings. Also, we should add a mnemonic shortcut.\n\nWhile here, we can add a translator comment to this `*.ui` string by using the `extracomment` field.\n\n\n```suggestion\n             <string extracomment=""An options window setting to enable advanced PSBT controls."">Enable advanced &amp;PSBT controls</string>\n```",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r690827977,690827977,src/qt/forms/optionsdialog.ui
jarolrod,2021-08-18 14:43:43,"```suggestion\n        question_string.append(tr(""Please, review your transaction. You can create and send this transaction or create a Partially Signed Bitcoin Transaction (PSBT), which you can save or copy and then sign with, e.g., an offline %1 wallet, or a PSBT-compatible hardware wallet."").arg(PACKAGE_NAME));\n```",https://github.com/bitcoin/bitcoin/pull/18789#discussion_r691307869,691307869,src/qt/sendcoinsdialog.cpp
achow101,2021-08-18 17:58:19,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r691484000,691484000,src/qt/sendcoinsdialog.cpp
achow101,2021-08-18 17:58:23,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r691484061,691484061,src/qt/forms/optionsdialog.ui
achow101,2021-08-18 17:58:26,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r691484100,691484100,src/qt/forms/optionsdialog.ui
achow101,2021-08-18 17:58:34,Done,https://github.com/bitcoin/bitcoin/pull/18789#discussion_r691484206,691484206,src/qt/sendcoinsdialog.cpp
