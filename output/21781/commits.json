[
  {
    "sha": "b3f800f56b76738619edae8840d9e891829f9045",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiM2Y4MDBmNTZiNzY3Mzg2MTllZGFlODg0MGQ5ZTg5MTgyOWY5MDQ1",
    "commit": {
      "author": {
        "name": "Guido Vranken",
        "email": "guidovranken@gmail.com",
        "date": "2021-04-26T19:47:31Z"
      },
      "committer": {
        "name": "Guido Vranken",
        "email": "guidovranken@gmail.com",
        "date": "2021-04-26T19:47:31Z"
      },
      "message": "crypto: Throw exception on passing ChaCha20 key of invalid size",
      "tree": {
        "sha": "1ba2c1535aa7ba0ea577169888b694e2d76656d8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1ba2c1535aa7ba0ea577169888b694e2d76656d8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b3f800f56b76738619edae8840d9e891829f9045",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b3f800f56b76738619edae8840d9e891829f9045",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b3f800f56b76738619edae8840d9e891829f9045",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b3f800f56b76738619edae8840d9e891829f9045/comments",
    "author": {
      "login": "guidovranken",
      "id": 6846644,
      "node_id": "MDQ6VXNlcjY4NDY2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6846644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/guidovranken",
      "html_url": "https://github.com/guidovranken",
      "followers_url": "https://api.github.com/users/guidovranken/followers",
      "following_url": "https://api.github.com/users/guidovranken/following{/other_user}",
      "gists_url": "https://api.github.com/users/guidovranken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/guidovranken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/guidovranken/subscriptions",
      "organizations_url": "https://api.github.com/users/guidovranken/orgs",
      "repos_url": "https://api.github.com/users/guidovranken/repos",
      "events_url": "https://api.github.com/users/guidovranken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/guidovranken/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "guidovranken",
      "id": 6846644,
      "node_id": "MDQ6VXNlcjY4NDY2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6846644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/guidovranken",
      "html_url": "https://github.com/guidovranken",
      "followers_url": "https://api.github.com/users/guidovranken/followers",
      "following_url": "https://api.github.com/users/guidovranken/following{/other_user}",
      "gists_url": "https://api.github.com/users/guidovranken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/guidovranken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/guidovranken/subscriptions",
      "organizations_url": "https://api.github.com/users/guidovranken/orgs",
      "repos_url": "https://api.github.com/users/guidovranken/repos",
      "events_url": "https://api.github.com/users/guidovranken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/guidovranken/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "683dda2a70e7a210996fa34be23bd0c563971ba9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/683dda2a70e7a210996fa34be23bd0c563971ba9",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/683dda2a70e7a210996fa34be23bd0c563971ba9"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 5,
      "deletions": 0
    },
    "files": [
      {
        "sha": "7b3b8883d43fd6dabc3ed2d99c6f3e186c91ffd5",
        "filename": "src/crypto/chacha20.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b3f800f56b76738619edae8840d9e891829f9045/src/crypto/chacha20.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b3f800f56b76738619edae8840d9e891829f9045/src/crypto/chacha20.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/crypto/chacha20.cpp?ref=b3f800f56b76738619edae8840d9e891829f9045",
        "patch": "@@ -8,6 +8,7 @@\n #include <crypto/common.h>\n #include <crypto/chacha20.h>\n \n+#include <stdexcept>\n #include <string.h>\n \n constexpr static inline uint32_t rotl32(uint32_t v, int c) { return (v << c) | (v >> (32 - c)); }\n@@ -23,6 +24,10 @@ static const unsigned char tau[] = \"expand 16-byte k\";\n \n void ChaCha20::SetKey(const unsigned char* k, size_t keylen)\n {\n+    if (keylen != 16 && keylen != 32) {\n+        throw std::invalid_argument(\"ChaCha20 key size must be 16 or 32\");\n+    }\n+\n     const unsigned char *constants;\n \n     input[4] = ReadLE32(k + 0);"
      }
    ]
  },
  {
    "sha": "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2NWEzMzY4YTIzY2RjMDU5ZmQ1ZTZlOWU1ODEyMWE1Yjk4NmY4MDkx",
    "commit": {
      "author": {
        "name": "Guido Vranken",
        "email": "guidovranken@gmail.com",
        "date": "2021-04-26T19:58:13Z"
      },
      "committer": {
        "name": "Guido Vranken",
        "email": "guidovranken@gmail.com",
        "date": "2021-04-26T19:58:13Z"
      },
      "message": "script: Replace address-of idiom with vector data() method",
      "tree": {
        "sha": "41ca06a794b22959d26d505926862d53a75e1a3f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/41ca06a794b22959d26d505926862d53a75e1a3f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/65a3368a23cdc059fd5e6e9e58121a5b986f8091",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/65a3368a23cdc059fd5e6e9e58121a5b986f8091",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/65a3368a23cdc059fd5e6e9e58121a5b986f8091/comments",
    "author": {
      "login": "guidovranken",
      "id": 6846644,
      "node_id": "MDQ6VXNlcjY4NDY2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6846644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/guidovranken",
      "html_url": "https://github.com/guidovranken",
      "followers_url": "https://api.github.com/users/guidovranken/followers",
      "following_url": "https://api.github.com/users/guidovranken/following{/other_user}",
      "gists_url": "https://api.github.com/users/guidovranken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/guidovranken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/guidovranken/subscriptions",
      "organizations_url": "https://api.github.com/users/guidovranken/orgs",
      "repos_url": "https://api.github.com/users/guidovranken/repos",
      "events_url": "https://api.github.com/users/guidovranken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/guidovranken/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "guidovranken",
      "id": 6846644,
      "node_id": "MDQ6VXNlcjY4NDY2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6846644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/guidovranken",
      "html_url": "https://github.com/guidovranken",
      "followers_url": "https://api.github.com/users/guidovranken/followers",
      "following_url": "https://api.github.com/users/guidovranken/following{/other_user}",
      "gists_url": "https://api.github.com/users/guidovranken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/guidovranken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/guidovranken/subscriptions",
      "organizations_url": "https://api.github.com/users/guidovranken/orgs",
      "repos_url": "https://api.github.com/users/guidovranken/repos",
      "events_url": "https://api.github.com/users/guidovranken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/guidovranken/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b3f800f56b76738619edae8840d9e891829f9045",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b3f800f56b76738619edae8840d9e891829f9045",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b3f800f56b76738619edae8840d9e891829f9045"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "c5ff3d8d13c4d6efac4dde9613f9ef6ae33d7761",
        "filename": "src/script/sigcache.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/65a3368a23cdc059fd5e6e9e58121a5b986f8091/src/script/sigcache.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/65a3368a23cdc059fd5e6e9e58121a5b986f8091/src/script/sigcache.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/sigcache.cpp?ref=65a3368a23cdc059fd5e6e9e58121a5b986f8091",
        "patch": "@@ -53,7 +53,7 @@ class CSignatureCache\n     ComputeEntryECDSA(uint256& entry, const uint256 &hash, const std::vector<unsigned char>& vchSig, const CPubKey& pubkey) const\n     {\n         CSHA256 hasher = m_salted_hasher_ecdsa;\n-        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(&vchSig[0], vchSig.size()).Finalize(entry.begin());\n+        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(vchSig.data(), vchSig.size()).Finalize(entry.begin());\n     }\n \n     void"
      }
    ]
  },
  {
    "sha": "562cfc18c8ea95011460c1edddf6f6bfbd3b78d4",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NjJjZmMxOGM4ZWE5NTAxMTQ2MGMxZWRkZGY2ZjZiZmJkM2I3OGQ0",
    "commit": {
      "author": {
        "name": "Guido Vranken",
        "email": "guidovranken@gmail.com",
        "date": "2021-05-04T23:29:36Z"
      },
      "committer": {
        "name": "Guido Vranken",
        "email": "guidovranken@gmail.com",
        "date": "2021-05-04T23:29:36Z"
      },
      "message": "crypto: Replace exception with assert to validate ChaCha20 key size",
      "tree": {
        "sha": "39610b013c70cae725e290f89f9431f31bceb2f0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/39610b013c70cae725e290f89f9431f31bceb2f0"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/562cfc18c8ea95011460c1edddf6f6bfbd3b78d4",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/562cfc18c8ea95011460c1edddf6f6bfbd3b78d4",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/562cfc18c8ea95011460c1edddf6f6bfbd3b78d4",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/562cfc18c8ea95011460c1edddf6f6bfbd3b78d4/comments",
    "author": {
      "login": "guidovranken",
      "id": 6846644,
      "node_id": "MDQ6VXNlcjY4NDY2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6846644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/guidovranken",
      "html_url": "https://github.com/guidovranken",
      "followers_url": "https://api.github.com/users/guidovranken/followers",
      "following_url": "https://api.github.com/users/guidovranken/following{/other_user}",
      "gists_url": "https://api.github.com/users/guidovranken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/guidovranken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/guidovranken/subscriptions",
      "organizations_url": "https://api.github.com/users/guidovranken/orgs",
      "repos_url": "https://api.github.com/users/guidovranken/repos",
      "events_url": "https://api.github.com/users/guidovranken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/guidovranken/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "guidovranken",
      "id": 6846644,
      "node_id": "MDQ6VXNlcjY4NDY2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6846644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/guidovranken",
      "html_url": "https://github.com/guidovranken",
      "followers_url": "https://api.github.com/users/guidovranken/followers",
      "following_url": "https://api.github.com/users/guidovranken/following{/other_user}",
      "gists_url": "https://api.github.com/users/guidovranken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/guidovranken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/guidovranken/subscriptions",
      "organizations_url": "https://api.github.com/users/guidovranken/orgs",
      "repos_url": "https://api.github.com/users/guidovranken/repos",
      "events_url": "https://api.github.com/users/guidovranken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/guidovranken/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/65a3368a23cdc059fd5e6e9e58121a5b986f8091",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/65a3368a23cdc059fd5e6e9e58121a5b986f8091"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 2,
      "deletions": 4
    },
    "files": [
      {
        "sha": "4813e63e68fbdabcbe7261b1c139485aa85508ee",
        "filename": "src/crypto/chacha20.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 4,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/562cfc18c8ea95011460c1edddf6f6bfbd3b78d4/src/crypto/chacha20.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/562cfc18c8ea95011460c1edddf6f6bfbd3b78d4/src/crypto/chacha20.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/crypto/chacha20.cpp?ref=562cfc18c8ea95011460c1edddf6f6bfbd3b78d4",
        "patch": "@@ -8,7 +8,7 @@\n #include <crypto/common.h>\n #include <crypto/chacha20.h>\n \n-#include <stdexcept>\n+#include <cassert>\n #include <string.h>\n \n constexpr static inline uint32_t rotl32(uint32_t v, int c) { return (v << c) | (v >> (32 - c)); }\n@@ -24,9 +24,7 @@ static const unsigned char tau[] = \"expand 16-byte k\";\n \n void ChaCha20::SetKey(const unsigned char* k, size_t keylen)\n {\n-    if (keylen != 16 && keylen != 32) {\n-        throw std::invalid_argument(\"ChaCha20 key size must be 16 or 32\");\n-    }\n+    assert(keylen == 16 || keylen == 32);\n \n     const unsigned char *constants;\n "
      }
    ]
  },
  {
    "sha": "6542bf5de4ac3f867a085ae9d8b51427bb9230e3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2NTQyYmY1ZGU0YWMzZjg2N2EwODVhZTlkOGI1MTQyN2JiOTIzMGUz",
    "commit": {
      "author": {
        "name": "Guido Vranken",
        "email": "guidovranken@gmail.com",
        "date": "2021-05-21T23:54:21Z"
      },
      "committer": {
        "name": "Guido Vranken",
        "email": "guidovranken@gmail.com",
        "date": "2021-05-21T23:54:21Z"
      },
      "message": "crypto: Update ChaCha20 method declaration comments",
      "tree": {
        "sha": "01ddc41580daf9daff2302d876812ed075e99770",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/01ddc41580daf9daff2302d876812ed075e99770"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6542bf5de4ac3f867a085ae9d8b51427bb9230e3",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6542bf5de4ac3f867a085ae9d8b51427bb9230e3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6542bf5de4ac3f867a085ae9d8b51427bb9230e3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6542bf5de4ac3f867a085ae9d8b51427bb9230e3/comments",
    "author": {
      "login": "guidovranken",
      "id": 6846644,
      "node_id": "MDQ6VXNlcjY4NDY2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6846644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/guidovranken",
      "html_url": "https://github.com/guidovranken",
      "followers_url": "https://api.github.com/users/guidovranken/followers",
      "following_url": "https://api.github.com/users/guidovranken/following{/other_user}",
      "gists_url": "https://api.github.com/users/guidovranken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/guidovranken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/guidovranken/subscriptions",
      "organizations_url": "https://api.github.com/users/guidovranken/orgs",
      "repos_url": "https://api.github.com/users/guidovranken/repos",
      "events_url": "https://api.github.com/users/guidovranken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/guidovranken/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "guidovranken",
      "id": 6846644,
      "node_id": "MDQ6VXNlcjY4NDY2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6846644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/guidovranken",
      "html_url": "https://github.com/guidovranken",
      "followers_url": "https://api.github.com/users/guidovranken/followers",
      "following_url": "https://api.github.com/users/guidovranken/following{/other_user}",
      "gists_url": "https://api.github.com/users/guidovranken/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/guidovranken/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/guidovranken/subscriptions",
      "organizations_url": "https://api.github.com/users/guidovranken/orgs",
      "repos_url": "https://api.github.com/users/guidovranken/repos",
      "events_url": "https://api.github.com/users/guidovranken/events{/privacy}",
      "received_events_url": "https://api.github.com/users/guidovranken/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "562cfc18c8ea95011460c1edddf6f6bfbd3b78d4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/562cfc18c8ea95011460c1edddf6f6bfbd3b78d4",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/562cfc18c8ea95011460c1edddf6f6bfbd3b78d4"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "4d1d0d751af6272448d1d9d254dbb207fb94ec44",
        "filename": "src/crypto/chacha20.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6542bf5de4ac3f867a085ae9d8b51427bb9230e3/src/crypto/chacha20.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6542bf5de4ac3f867a085ae9d8b51427bb9230e3/src/crypto/chacha20.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/crypto/chacha20.h?ref=6542bf5de4ac3f867a085ae9d8b51427bb9230e3",
        "patch": "@@ -17,8 +17,8 @@ class ChaCha20\n \n public:\n     ChaCha20();\n-    ChaCha20(const unsigned char* key, size_t keylen);\n-    void SetKey(const unsigned char* key, size_t keylen); //!< set key with flexible keylength; 256bit recommended */\n+    ChaCha20(const unsigned char* key, size_t keylen); //!< set key of 128 or 256 bits; 256 bits recommended */\n+    void SetKey(const unsigned char* key, size_t keylen); //!< set key of 128 or 256 bits; 256 bits recommended */\n     void SetIV(uint64_t iv); // set the 64bit nonce\n     void Seek(uint64_t pos); // set the 64bit block counter\n "
      }
    ]
  }
]