[
  {
    "sha": "338f62f701169a241221f4195d78d51d98b59ba8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozMzhmNjJmNzAxMTY5YTI0MTIyMWY0MTk1ZDc4ZDUxZDk4YjU5YmE4",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2015-10-09T13:49:29Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2015-10-15T17:43:16Z"
      },
      "message": "[devtools] add clang-format.py",
      "tree": {
        "sha": "85f27c56fe45742571689e4c10a8d637e1f5fccc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/85f27c56fe45742571689e4c10a8d637e1f5fccc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/338f62f701169a241221f4195d78d51d98b59ba8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/338f62f701169a241221f4195d78d51d98b59ba8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/338f62f701169a241221f4195d78d51d98b59ba8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/338f62f701169a241221f4195d78d51d98b59ba8/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6cf73b0cd4cf510aafc37719c68e6634c1719502",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6cf73b0cd4cf510aafc37719c68e6634c1719502",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6cf73b0cd4cf510aafc37719c68e6634c1719502"
      }
    ],
    "stats": {
      "total": 62,
      "additions": 62,
      "deletions": 0
    },
    "files": [
      {
        "sha": "cee99047ac67e69fe767a910ac56811e574cfc8d",
        "filename": "contrib/devtools/clang-format.py",
        "status": "added",
        "additions": 62,
        "deletions": 0,
        "changes": 62,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/338f62f701169a241221f4195d78d51d98b59ba8/contrib/devtools/clang-format.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/338f62f701169a241221f4195d78d51d98b59ba8/contrib/devtools/clang-format.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/devtools/clang-format.py?ref=338f62f701169a241221f4195d78d51d98b59ba8",
        "patch": "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python\n+'''\n+Wrapper script for clang-format\n+\n+Copyright (c) 2015 MarcoFalke\n+Copyright (c) 2015 The Bitcoin Core developers\n+Distributed under the MIT software license, see the accompanying\n+file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+'''\n+\n+import os\n+import sys\n+import subprocess\n+\n+tested_versions = ['3.6.0', '3.6.1', '3.6.2'] # A set of versions known to produce the same output\n+accepted_file_extensions = ('.h', '.cpp') # Files to format\n+\n+def check_clang_format_version(clang_format_exe):\n+    try:\n+        output = subprocess.check_output([clang_format_exe, '-version'])\n+        for ver in tested_versions:\n+            if ver in output:\n+                print \"Detected clang-format version \" + ver\n+                return\n+        raise RuntimeError(\"Untested version: \" + output)\n+    except Exception as e:\n+        print 'Could not verify version of ' + clang_format_exe + '.'\n+        raise e\n+\n+def check_command_line_args(argv):\n+    required_args = ['{clang-format-exe}', '{files}']\n+    example_args = ['clang-format-3.x', 'src/main.cpp', 'src/wallet/*']\n+\n+    if(len(argv) < len(required_args) + 1):\n+        for word in (['Usage:', argv[0]] + required_args):\n+            print word,\n+        print ''\n+        for word in (['E.g:', argv[0]] + example_args):\n+            print word,\n+        print ''\n+        sys.exit(1)\n+\n+def run_clang_format(clang_format_exe, files):\n+    for target in files:\n+        if os.path.isdir(target):\n+            for path, dirs, files in os.walk(target):\n+                run_clang_format(clang_format_exe, (os.path.join(path, f) for f in files))\n+        elif target.endswith(accepted_file_extensions):\n+            print \"Format \" + target\n+            subprocess.check_call([clang_format_exe, '-i', '-style=file', target], stdout=open(os.devnull, 'wb'), stderr=subprocess.STDOUT)\n+        else:\n+            print \"Skip \" + target\n+\n+def main(argv):\n+    check_command_line_args(argv)\n+    clang_format_exe = argv[1]\n+    files = argv[2:]\n+    check_clang_format_version(clang_format_exe)\n+    run_clang_format(clang_format_exe, files)\n+\n+if __name__ == \"__main__\":\n+    main(sys.argv)"
      }
    ]
  },
  {
    "sha": "8c15f33d15fddd984946b56a257049e15ddf4038",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4YzE1ZjMzZDE1ZmRkZDk4NDk0NmI1NmEyNTcwNDllMTVkZGY0MDM4",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2015-10-15T17:42:22Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2015-10-15T18:28:29Z"
      },
      "message": "[trivial] Update contrib/devtools/README.md",
      "tree": {
        "sha": "f118dd5d49a4fc92d6a046969bdf88d73eae812c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f118dd5d49a4fc92d6a046969bdf88d73eae812c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8c15f33d15fddd984946b56a257049e15ddf4038",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8c15f33d15fddd984946b56a257049e15ddf4038",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8c15f33d15fddd984946b56a257049e15ddf4038",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8c15f33d15fddd984946b56a257049e15ddf4038/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "338f62f701169a241221f4195d78d51d98b59ba8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/338f62f701169a241221f4195d78d51d98b59ba8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/338f62f701169a241221f4195d78d51d98b59ba8"
      }
    ],
    "stats": {
      "total": 26,
      "additions": 20,
      "deletions": 6
    },
    "files": [
      {
        "sha": "278794f14cadcfd035ddda6f42d1358cdb487504",
        "filename": "contrib/devtools/README.md",
        "status": "modified",
        "additions": 20,
        "deletions": 6,
        "changes": 26,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8c15f33d15fddd984946b56a257049e15ddf4038/contrib/devtools/README.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8c15f33d15fddd984946b56a257049e15ddf4038/contrib/devtools/README.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/devtools/README.md?ref=8c15f33d15fddd984946b56a257049e15ddf4038",
        "patch": "@@ -1,9 +1,14 @@\n Contents\n-===========\n+========\n This directory contains tools for developers working on this repository.\n \n+clang-format.py\n+===============\n+\n+A script to format cpp source code according to [.clang-format](../../src/.clang-format). This should only be applied to new files or files which are currently not actively developed on. Also, git subtrees are not subject to formatting.\n+\n github-merge.sh\n-==================\n+===============\n \n A small script to automate merging pull-requests securely and sign them with GPG.\n \n@@ -37,23 +42,31 @@ Configuring the github-merge tool for the bitcoin repository is done in the foll\n     git config --global user.signingkey mykeyid (if you want to GPG sign)\n \n fix-copyright-headers.py\n-===========================\n+========================\n \n Every year newly updated files need to have its copyright headers updated to reflect the current year.\n If you run this script from src/ it will automatically update the year on the copyright header for all\n .cpp and .h files if these have a git commit from the current year.\n \n For example a file changed in 2014 (with 2014 being the current year):\n+\n ```// Copyright (c) 2009-2013 The Bitcoin Core developers```\n \n would be changed to:\n+\n ```// Copyright (c) 2009-2014 The Bitcoin Core developers```\n \n+optimize-pngs.py\n+================\n+\n+A script to optimize png files in the bitcoin\n+repository (requires pngcrush).\n+\n symbol-check.py\n-==================\n+===============\n \n A script to check that the (Linux) executables produced by gitian only contain\n-allowed gcc, glibc and libstdc++ version symbols.  This makes sure they are\n+allowed gcc, glibc and libstdc++ version symbols. This makes sure they are\n still compatible with the minimum supported Linux distribution versions.\n \n Example usage after a gitian build:\n@@ -70,7 +83,7 @@ If there are 'unsupported' symbols, the return value will be 1 a list like this\n     .../64/test_bitcoin: symbol _ZNSt8__detail15_List_nod from unsupported version GLIBCXX_3.4.15\n \n update-translations.py\n-=======================\n+======================\n \n Run this script from the root of the repository to update all translations from transifex.\n It will do the following automatically:\n@@ -93,4 +106,5 @@ maintained:\n * for sec/leveldb: https://github.com/bitcoin/leveldb.git (branch bitcoin-fork)\n \n Usage: git-subtree-check.sh DIR COMMIT\n+\n COMMIT may be omitted, in which case HEAD is used."
      }
    ]
  }
]