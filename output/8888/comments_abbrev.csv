laanwj,2016-10-05T03:35:21Z,Concept ACK\n,https://github.com/bitcoin/bitcoin/pull/8888#issuecomment-251573908,251573908,
fanquake,2016-10-05T06:53:49Z,"Test failure:\n\n```\nstart_node: RPC succesfully started\nJSONRPC error: Error: Peer-to-peer functionality missing or disabled\nStopping nodes\nNot cleaning up dir /tmp/testk3xseb1n/41\nFailed\nstderr:\n  File ""/home/travis/build/bitcoin/bitcoin/qa/rpc-tests/test_framework/test_framework.py"", line 148, in main\n    self.run_test()\n  File ""/home/travis/build/bitcoin/bitcoin/build/../qa/rpc-tests/",https://github.com/bitcoin/bitcoin/pull/8888#issuecomment-251596570,251596570,
paveljanik,2016-10-05T11:05:22Z,This change results is two new `-Wshadow` warnings:\n\n```\nqt/peertablemodel.cpp:62:2445: warning: declaration shadows a local variable [-Wshadow]\nqt/peertablemodel.cpp:74:264: warning: declaration shadows a local variable [-Wshadow]\n\nqt/peertablemodel.cpp:54:49: note: previous declaration is here\n    void refreshPeers(QList<CNodeCombinedStats> stats)\n```\n,https://github.com/bitcoin/bitcoin/pull/8888#issuecomment-251645286,251645286,
theuni,2016-10-05T18:12:51Z,"Before fixing up here, I'd like to get opinions on an alternate approach to the wallet: https://github.com/theuni/bitcoin/commit/349edab789557db615b29a5869118b4b08c50dab . Note that this was done quickly, it needs to be fixed up for correctness in a few places.\n\nThere, rather than passing the connman instance into the wallet, the wallet loses the ability to relay. Instead, callers are expected t",https://github.com/bitcoin/bitcoin/pull/8888#issuecomment-251754237,251754237,
MarcoFalke,2016-10-06T08:22:18Z,"@theuni Personally I like the new approach better (wallet does not require the connman). Even though this would require some ""glue logic"" in the caller for sending out the inv, it would reduce the complexity of our ""modular"" design. For example, it would make error handling easier. Right now the wallet can be seen as a proxy between GUI/RPC and Mempool/p2p. And the wallet needs to handle mempool r",https://github.com/bitcoin/bitcoin/pull/8888#issuecomment-251897415,251897415,
theuni,2016-10-06T15:23:07Z,"@MarcoFalke Agreed on all points. Notice that with that commit, mempool handling (when recording a new tx) is also pushed out of the wallet, and errors there are handled (albeit awkwardly): https://github.com/theuni/bitcoin/commit/349edab789557db615b29a5869118b4b08c50dab#diff-df7d84ff2f53fcb2a0dc15a3a51e55ceR972 .\nThat error handling seemed funky to me as well, but I wasn't sure how problems woul",https://github.com/bitcoin/bitcoin/pull/8888#issuecomment-251996423,251996423,
jonasschnelli,2016-10-08T15:14:40Z,"@theuni: I like the https://github.com/theuni/bitcoin/commit/349edab789557db615b29a5869118b4b08c50dab approach.\nMaybe we could drive the even further (later):\nWhat if the wallet only uses signals to access the conman and the mempool?\nI'm not entirely sure, but AFAIK we would only need two signals, something ike `PushInventoryAllNodes()` and `bool PushToMemoryPool()`.\n",https://github.com/bitcoin/bitcoin/pull/8888#issuecomment-252429828,252429828,
MarcoFalke,2016-11-10T22:11:19Z,"Changed labels, as the scope changed.\n\nAlso, needs rebase again.\n\nConcept ACK.\n",https://github.com/bitcoin/bitcoin/pull/8888#issuecomment-259822742,259822742,
jonasschnelli,2016-11-22T14:33:37Z,Needs rebase.,https://github.com/bitcoin/bitcoin/pull/8888#issuecomment-262255796,262255796,
jonasschnelli,2017-01-03T08:33:17Z,Still needs rebase.,https://github.com/bitcoin/bitcoin/pull/8888#issuecomment-270068768,270068768,
jonasschnelli,2017-03-17T13:47:48Z,Closing due to inactivity (feel free to reopen).,https://github.com/bitcoin/bitcoin/pull/8888#issuecomment-287357937,287357937,
theuni,2017-03-18T00:51:26Z,"Thanks, will do so soon.",https://github.com/bitcoin/bitcoin/pull/8888#issuecomment-287504146,287504146,
dongcarl,2019-01-23T21:32:15Z,"@theuni @jonasschnelli @MarcoFalke\n\nI would like to take on rebasing this as it is another step towards eliminating globals. Is there anything else that's within scope here that https://github.com/theuni/bitcoin/commit/349edab789557db615b29a5869118b4b08c50dab didn't cover?",https://github.com/bitcoin/bitcoin/pull/8888#issuecomment-456974285,456974285,
ryanofsky,2019-01-23T23:12:37Z,"Code here is largely out of date. Pushing network stats to the gui instead of having it query them might be a good idea, though. I don't know enough about the topic to say.",https://github.com/bitcoin/bitcoin/pull/8888#issuecomment-457003118,457003118,
MarcoFalke,2016-10-05T07:28:01Z,This will now throw the error if `-walletbroadcast` is turned off?\n,https://github.com/bitcoin/bitcoin/pull/8888#discussion_r81913716,81913716,src/wallet/rpcwallet.cpp
MarcoFalke,2016-10-05T07:41:32Z,Maybe keep a `bool isConnmanMissing()` for now?\n,https://github.com/bitcoin/bitcoin/pull/8888#discussion_r81915516,81915516,src/wallet/rpcwallet.cpp
