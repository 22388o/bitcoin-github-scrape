sipa,2016-07-22T14:17:59Z,"I guess this does not entirely fix #8117: the main problem I was observing is that after a call with `-reindex-chainstate`, RPC calls would fail with ""error code: -28: error message: Loading banlist..."" until the full reindex would complete. That should be fixed by this, though fully activating may be delayed still due to the contention between CNode creation and block processing in the background",https://github.com/bitcoin/bitcoin/pull/8392#issuecomment-234555979,234555979,
sipa,2016-07-30T00:19:05Z,"Rebased and fixed a bug in unit tests (it needed a call to ActivateBestChain as well now, since removing it from InitBlockIndex).\n",https://github.com/bitcoin/bitcoin/pull/8392#issuecomment-236324386,236324386,
laanwj,2016-08-02T06:34:45Z,Going to test this one\n,https://github.com/bitcoin/bitcoin/pull/8392#issuecomment-236813270,236813270,
laanwj,2016-08-02T13:02:21Z,"It now does all the catching up at `Starting network threads...`, which I suppose is better than at `Loading banlist...` but the underlying problem is still there:\n\n```\n2016-08-02 12:57:08 init message: Loading banlist...\n2016-08-02 12:57:08 Loaded 0 banned node ips/subnets from banlist.dat  47ms\n2016-08-02 12:57:08 init message: Starting network threads...\n2016-08-02 12:57:08 Added connecti",https://github.com/bitcoin/bitcoin/pull/8392#issuecomment-236897026,236897026,
NicolasDorier,2016-07-24T02:41:43Z,"I'm not familiar with this code so I may be wrong.\nHowever, it seems you are locking `cs_GenesisWait` waiting for `fHaveGenesis` to be true, while at the same time, the code responsible to make `fHaveGenesis` true at https://github.com/bitcoin/bitcoin/pull/8392/files#diff-c865a8939105e6350a50af02766291b7R521 need the same  `cs_GenesisWait` lock. Seems deadlock ?\n",https://github.com/bitcoin/bitcoin/pull/8392#discussion_r71980977,71980977,src/init.cpp
sipa,2016-07-24T08:22:50Z,@NicolasDorier Waiting on a condition variable releases the lock\ntemporarily.\n,https://github.com/bitcoin/bitcoin/pull/8392#discussion_r71984197,71984197,src/init.cpp
rebroad,2016-08-23T09:58:31Z,This line was only just added in May by Patrick! Is the loss of sensitivity to a shutdown request intentional?\n,https://github.com/bitcoin/bitcoin/pull/8392#discussion_r75835380,75835380,src/init.cpp
