promag,2018-12-05T21:48:44Z,Have you seen #11614?,https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-444663017,444663017,
ch4ot1c,2018-12-05T22:20:46Z,"@promag Thanks for showing me that - I hadn't seen it.\n\nI think the prior discussion is great; I value these changes for the same reasons as @astanway:\n\n- Swift / Objective-C doesn't have a transaction or block parsing library available; I would like to avoid custom code involving `varint`, etc. This ""portability"" concern will almost certainly appear again.\n- I am using @fanquake's CoreR",https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-444673828,444673828,
laanwj,2018-12-06T14:27:23Z,"I don't think JSON and ZMQ is a good combination. The formatting overhead for JSON kind of defeats the purpose of a low-latency networking system like ZMQ.\n\nI don't disagree it could be useful for some cases though.",https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-444888216,444888216,
gmaxwell,2018-12-09T14:50:21Z,@laanwj That was also my thought on seeing the PR title.,https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-445544041,445544041,
ch4ot1c,2018-12-09T16:38:29Z,I hear the response - fair enough. What could be done next / instead? Any room for it to be optional or are we marking it 'bad practice'?,https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-445551923,445551923,
laanwj,2018-12-09T16:43:50Z,"> I hear the response - fair enough. What could be done next /  instead? \n\nIf performance isn't important, otherwise you'd be using a client-side decoding library, but you're using zmq as a notification mechanism, why is the extra roundtrip to call `getblock` or `decoderawtransaction` such a problem?\n",https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-445552344,445552344,
ch4ot1c,2018-12-09T20:19:08Z,"A small performance hit in-transit would cost less and be more reliable than two (1 zmq 1 rpc) networking events, I guess was my reasoning. The duplicate call would mean more transferred data in total than zmq with JSON formatting. I'm only interested in the latest block's stats.\n\nImplementing parsing on clients makes the most sense, agreed.\n\n`hashblock` is all I really needed. `hashtx`, `",https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-445567980,445567980,
ch4ot1c,2018-12-09T20:29:35Z,A defensive check could also be added regarding the max expected size of `rawblock` and `rawtx`.,https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-445568792,445568792,
jonasschnelli,2018-12-09T20:50:01Z,"I agree with @laanwj about JSON probably not being something we should have in conjunction with ZMQ.\n\nI think a path for having JSON push notification would be the RPC long polling feature.\nA first step could be: https://github.com/bitcoin/bitcoin/pull/13262 (outdated)",https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-445570455,445570455,
promag,2018-12-10T14:01:40Z,"I agree with @jonasschnelli.\n\n@ch4ot1c don't forget that at the moment zmq notifications happen on the ""main"" thread. RPC is handled on a thread pool.",https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-445825086,445825086,
laanwj,2019-01-09T18:08:48Z,As there is no agreement to do this I'm closing this PR,https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-452796365,452796365,
