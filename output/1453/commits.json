[
  {
    "sha": "22e96a1aee5196fe2f33c2faa35320d00c6499f4",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyMmU5NmExYWVlNTE5NmZlMmYzM2MyZmFhMzUzMjBkMDBjNjQ5OWY0",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-06-27T15:56:55Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-07-01T22:04:30Z"
      },
      "message": "Fix Bitcoin-Qt proxy settings to always display the current setting",
      "tree": {
        "sha": "12ac8fecbf49cc13d1fbc7e325380a11097dde7b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/12ac8fecbf49cc13d1fbc7e325380a11097dde7b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/22e96a1aee5196fe2f33c2faa35320d00c6499f4",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/22e96a1aee5196fe2f33c2faa35320d00c6499f4",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/22e96a1aee5196fe2f33c2faa35320d00c6499f4",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/22e96a1aee5196fe2f33c2faa35320d00c6499f4/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "eca96d71187ddd053fa3be0e9e396b4a700d9ae0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eca96d71187ddd053fa3be0e9e396b4a700d9ae0",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/eca96d71187ddd053fa3be0e9e396b4a700d9ae0"
      }
    ],
    "stats": {
      "total": 29,
      "additions": 24,
      "deletions": 5
    },
    "files": [
      {
        "sha": "1e7618cd02ba1646205ca8dae49cd042d23de7e2",
        "filename": "src/netbase.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/22e96a1aee5196fe2f33c2faa35320d00c6499f4/src/netbase.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/22e96a1aee5196fe2f33c2faa35320d00c6499f4/src/netbase.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/netbase.cpp?ref=22e96a1aee5196fe2f33c2faa35320d00c6499f4",
        "patch": "@@ -444,6 +444,14 @@ bool GetProxy(enum Network net, CService &addrProxy) {\n     return true;\n }\n \n+bool GetProxySocksVersion(enum Network net, int &nSocksVersion) {\n+    assert(net >= 0 && net < NET_MAX);\n+    if (!proxyInfo[net].second)\n+        return false;\n+    nSocksVersion = proxyInfo[net].second;\n+    return true;\n+}\n+\n bool SetNameProxy(CService addrProxy, int nSocksVersion) {\n     if (nSocksVersion != 0 && nSocksVersion != 5)\n         return false;"
      },
      {
        "sha": "626372f5a9b83f71372915b27880268958469695",
        "filename": "src/netbase.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/22e96a1aee5196fe2f33c2faa35320d00c6499f4/src/netbase.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/22e96a1aee5196fe2f33c2faa35320d00c6499f4/src/netbase.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/netbase.h?ref=22e96a1aee5196fe2f33c2faa35320d00c6499f4",
        "patch": "@@ -137,6 +137,7 @@ enum Network ParseNetwork(std::string net);\n void SplitHostPort(std::string in, int &portOut, std::string &hostOut);\n bool SetProxy(enum Network net, CService addrProxy, int nSocksVersion = 5);\n bool GetProxy(enum Network net, CService &addrProxy);\n+bool GetProxySocksVersion(enum Network net, int &nSocksVersion);\n bool IsProxy(const CNetAddr &addr);\n bool SetNameProxy(CService addrProxy, int nSocksVersion = 5);\n bool GetNameProxy();"
      },
      {
        "sha": "bac17767fdba21f81b9ccf42caf8ebbeb602d41a",
        "filename": "src/qt/optionsmodel.cpp",
        "status": "modified",
        "additions": 15,
        "deletions": 5,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/22e96a1aee5196fe2f33c2faa35320d00c6499f4/src/qt/optionsmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/22e96a1aee5196fe2f33c2faa35320d00c6499f4/src/qt/optionsmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsmodel.cpp?ref=22e96a1aee5196fe2f33c2faa35320d00c6499f4",
        "patch": "@@ -139,13 +139,23 @@ QVariant OptionsModel::data(const QModelIndex & index, int role) const\n         case MinimizeToTray:\n             return QVariant(fMinimizeToTray);\n         case MapPortUPnP:\n-            return settings.value(\"fUseUPnP\", GetBoolArg(\"-upnp\", true));\n+            return QVariant(fUseUPnP);\n         case MinimizeOnClose:\n             return QVariant(fMinimizeOnClose);\n-        case ProxyUse:\n-            return settings.value(\"fUseProxy\", false);\n-        case ProxySocksVersion:\n-            return settings.value(\"nSocksVersion\", 5);\n+        case ProxyUse: {\n+            int nSocksVersion;\n+            if (GetProxySocksVersion(NET_IPV4, nSocksVersion))\n+                return QVariant(true);\n+            else\n+                return QVariant(false);\n+        }\n+        case ProxySocksVersion: {\n+            int nSocksVersion;\n+            if (GetProxySocksVersion(NET_IPV4, nSocksVersion))\n+                return QVariant(nSocksVersion);\n+            else\n+                return settings.value(\"nSocksVersion\", 5);\n+        }\n         case ProxyIP: {\n             CService addrProxy;\n             if (GetProxy(NET_IPV4, addrProxy))"
      }
    ]
  },
  {
    "sha": "1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxY2E3ZWUyYzQwZWJmYjNiYmUxNWE0NDY1ZGIzMWFhMWQ4MDFiMjcx",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-06-27T21:20:27Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-07-02T01:50:01Z"
      },
      "message": "Add support for auto-updating to Bitcoin-Qt on Windows.",
      "tree": {
        "sha": "ecb7aa3e844bff9137acddc1954f3661ff140309",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ecb7aa3e844bff9137acddc1954f3661ff140309"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "22e96a1aee5196fe2f33c2faa35320d00c6499f4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/22e96a1aee5196fe2f33c2faa35320d00c6499f4",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/22e96a1aee5196fe2f33c2faa35320d00c6499f4"
      }
    ],
    "stats": {
      "total": 414,
      "additions": 414,
      "deletions": 0
    },
    "files": [
      {
        "sha": "73cfac9a4ec408f5b7fbc94052ad5a29cd6c1ab1",
        "filename": "bitcoin-qt.pro",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/bitcoin-qt.pro",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/bitcoin-qt.pro",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/bitcoin-qt.pro?ref=1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
        "patch": "@@ -4,6 +4,7 @@ VERSION = 0.6.99\n INCLUDEPATH += src src/json src/qt\n DEFINES += QT_GUI BOOST_THREAD_USE_LIB BOOST_SPIRIT_THREADSAFE USE_IPV6\n CONFIG += no_include_pwd\n+QT += network\n \n # for boost 1.37, add -mt to the boost libraries\n # use: qmake BOOST_LIB_SUFFIX=-mt\n@@ -102,6 +103,7 @@ HEADERS += src/qt/bitcoingui.h \\\n     src/qt/addressbookpage.h \\\n     src/qt/messagepage.h \\\n     src/qt/aboutdialog.h \\\n+    src/qt/updatedialog.h \\\n     src/qt/editaddressdialog.h \\\n     src/qt/bitcoinaddressvalidator.h \\\n     src/addrman.h \\\n@@ -171,6 +173,7 @@ SOURCES += src/qt/bitcoin.cpp src/qt/bitcoingui.cpp \\\n     src/qt/addressbookpage.cpp \\\n     src/qt/messagepage.cpp \\\n     src/qt/aboutdialog.cpp \\\n+    src/qt/updatedialog.cpp \\\n     src/qt/editaddressdialog.cpp \\\n     src/qt/bitcoinaddressvalidator.cpp \\\n     src/version.cpp \\\n@@ -230,6 +233,7 @@ FORMS += \\\n     src/qt/forms/addressbookpage.ui \\\n     src/qt/forms/messagepage.ui \\\n     src/qt/forms/aboutdialog.ui \\\n+    src/qt/forms/updatedialog.ui \\\n     src/qt/forms/editaddressdialog.ui \\\n     src/qt/forms/transactiondescdialog.ui \\\n     src/qt/forms/overviewpage.ui \\"
      },
      {
        "sha": "21bfd8220d23103864fb60211b555e37f2a118d3",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
        "patch": "@@ -7,6 +7,7 @@\n #include \"optionsmodel.h\"\n #include \"guiutil.h\"\n #include \"guiconstants.h\"\n+#include \"updatedialog.h\"\n \n #include \"init.h\"\n #include \"ui_interface.h\"\n@@ -283,6 +284,11 @@ int main(int argc, char *argv[])\n                     }\n                 }\n #endif\n+\n+#ifdef WIN32\n+                UpdateDialog* dlg = new UpdateDialog(clientModel);\n+#endif\n+\n                 app.exec();\n \n                 window.hide();"
      },
      {
        "sha": "9471157178eb76f83add19aa8f815d9f05e32e29",
        "filename": "src/qt/clientmodel.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/clientmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/clientmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/clientmodel.cpp?ref=1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
        "patch": "@@ -4,6 +4,7 @@\n #include \"addresstablemodel.h\"\n #include \"transactiontablemodel.h\"\n \n+#include \"version.h\"\n #include \"main.h\"\n #include \"ui_interface.h\"\n \n@@ -115,6 +116,11 @@ OptionsModel *ClientModel::getOptionsModel()\n     return optionsModel;\n }\n \n+int ClientModel::clientVersion() const\n+{\n+    return CLIENT_VERSION;\n+}\n+\n QString ClientModel::formatFullVersion() const\n {\n     return QString::fromStdString(FormatFullVersion());"
      },
      {
        "sha": "bc73ebb556fedb51932bd6dbae2d12bb736c920c",
        "filename": "src/qt/clientmodel.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/clientmodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/clientmodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/clientmodel.h?ref=1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
        "patch": "@@ -38,6 +38,7 @@ class ClientModel : public QObject\n     //! Return warnings to be displayed in status bar\n     QString getStatusBarWarnings() const;\n \n+    int clientVersion() const;\n     QString formatFullVersion() const;\n     QString formatBuildDate() const;\n     QString clientName() const;"
      },
      {
        "sha": "6d310a7141e48a027df06f766803409b82f52225",
        "filename": "src/qt/forms/updatedialog.ui",
        "status": "added",
        "additions": 212,
        "deletions": 0,
        "changes": 212,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/forms/updatedialog.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/forms/updatedialog.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/updatedialog.ui?ref=1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
        "patch": "@@ -0,0 +1,212 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<ui version=\"4.0\">\n+ <class>UpdateDialog</class>\n+ <widget class=\"QDialog\" name=\"UpdateDialog\">\n+  <property name=\"geometry\">\n+   <rect>\n+    <x>0</x>\n+    <y>0</y>\n+    <width>400</width>\n+    <height>220</height>\n+   </rect>\n+  </property>\n+  <property name=\"sizePolicy\">\n+   <sizepolicy hsizetype=\"Fixed\" vsizetype=\"Fixed\">\n+    <horstretch>0</horstretch>\n+    <verstretch>0</verstretch>\n+   </sizepolicy>\n+  </property>\n+  <property name=\"windowTitle\">\n+   <string>Update Bitcoin-Qt</string>\n+  </property>\n+  <widget class=\"QLabel\" name=\"label\">\n+   <property name=\"geometry\">\n+    <rect>\n+     <x>10</x>\n+     <y>10</y>\n+     <width>381</width>\n+     <height>16</height>\n+    </rect>\n+   </property>\n+   <property name=\"font\">\n+    <font>\n+     <weight>75</weight>\n+     <bold>true</bold>\n+    </font>\n+   </property>\n+   <property name=\"text\">\n+    <string>An update is available for Bitcoin-Qt.</string>\n+   </property>\n+  </widget>\n+  <widget class=\"QLabel\" name=\"label_3\">\n+   <property name=\"geometry\">\n+    <rect>\n+     <x>10</x>\n+     <y>50</y>\n+     <width>91</width>\n+     <height>16</height>\n+    </rect>\n+   </property>\n+   <property name=\"text\">\n+    <string>Latest Version:</string>\n+   </property>\n+  </widget>\n+  <widget class=\"QLabel\" name=\"label_4\">\n+   <property name=\"geometry\">\n+    <rect>\n+     <x>10</x>\n+     <y>70</y>\n+     <width>91</width>\n+     <height>16</height>\n+    </rect>\n+   </property>\n+   <property name=\"text\">\n+    <string>Changelog:</string>\n+   </property>\n+  </widget>\n+  <widget class=\"QLabel\" name=\"securityUpdateLabel\">\n+   <property name=\"enabled\">\n+    <bool>true</bool>\n+   </property>\n+   <property name=\"geometry\">\n+    <rect>\n+     <x>10</x>\n+     <y>90</y>\n+     <width>381</width>\n+     <height>41</height>\n+    </rect>\n+   </property>\n+   <property name=\"styleSheet\">\n+    <string notr=\"true\">QLabel { color: red; }</string>\n+   </property>\n+   <property name=\"text\">\n+    <string>Warning: the above update is a security update. In order to protect your security, it is highly recommended that you upgrade immediately.  See the changelog for more information.</string>\n+   </property>\n+   <property name=\"wordWrap\">\n+    <bool>true</bool>\n+   </property>\n+  </widget>\n+  <widget class=\"QLabel\" name=\"label_6\">\n+   <property name=\"geometry\">\n+    <rect>\n+     <x>110</x>\n+     <y>70</y>\n+     <width>271</width>\n+     <height>16</height>\n+    </rect>\n+   </property>\n+   <property name=\"text\">\n+    <string notr=\"true\">&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p&gt;&lt;a href=&quot;http://en.bitcoin.it/wiki/Changelog&quot;&gt;http://en.bitcoin.it/wiki/Changelog&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</string>\n+   </property>\n+   <property name=\"openExternalLinks\">\n+    <bool>true</bool>\n+   </property>\n+  </widget>\n+  <widget class=\"QLabel\" name=\"latestVersionLabel\">\n+   <property name=\"geometry\">\n+    <rect>\n+     <x>110</x>\n+     <y>50</y>\n+     <width>271</width>\n+     <height>16</height>\n+    </rect>\n+   </property>\n+   <property name=\"text\">\n+    <string/>\n+   </property>\n+  </widget>\n+  <widget class=\"QLabel\" name=\"currentVersionLabel\">\n+   <property name=\"geometry\">\n+    <rect>\n+     <x>110</x>\n+     <y>30</y>\n+     <width>271</width>\n+     <height>16</height>\n+    </rect>\n+   </property>\n+   <property name=\"text\">\n+    <string/>\n+   </property>\n+  </widget>\n+  <widget class=\"QLabel\" name=\"label_2\">\n+   <property name=\"geometry\">\n+    <rect>\n+     <x>10</x>\n+     <y>30</y>\n+     <width>81</width>\n+     <height>16</height>\n+    </rect>\n+   </property>\n+   <property name=\"text\">\n+    <string>Current Version:</string>\n+   </property>\n+  </widget>\n+  <widget class=\"QDialogButtonBox\" name=\"buttonBox\">\n+   <property name=\"geometry\">\n+    <rect>\n+     <x>20</x>\n+     <y>180</y>\n+     <width>361</width>\n+     <height>32</height>\n+    </rect>\n+   </property>\n+   <property name=\"orientation\">\n+    <enum>Qt::Horizontal</enum>\n+   </property>\n+   <property name=\"standardButtons\">\n+    <set>QDialogButtonBox::No|QDialogButtonBox::Yes</set>\n+   </property>\n+  </widget>\n+  <widget class=\"QLabel\" name=\"label_5\">\n+   <property name=\"geometry\">\n+    <rect>\n+     <x>10</x>\n+     <y>140</y>\n+     <width>371</width>\n+     <height>31</height>\n+    </rect>\n+   </property>\n+   <property name=\"text\">\n+    <string>Click Yes to update, or No to close this window and ignore the update until Bitcoin-Qt is restarted.</string>\n+   </property>\n+   <property name=\"wordWrap\">\n+    <bool>true</bool>\n+   </property>\n+  </widget>\n+ </widget>\n+ <resources/>\n+ <connections>\n+  <connection>\n+   <sender>buttonBox</sender>\n+   <signal>accepted()</signal>\n+   <receiver>UpdateDialog</receiver>\n+   <slot>accept()</slot>\n+   <hints>\n+    <hint type=\"sourcelabel\">\n+     <x>200</x>\n+     <y>195</y>\n+    </hint>\n+    <hint type=\"destinationlabel\">\n+     <x>199</x>\n+     <y>109</y>\n+    </hint>\n+   </hints>\n+  </connection>\n+  <connection>\n+   <sender>buttonBox</sender>\n+   <signal>rejected()</signal>\n+   <receiver>UpdateDialog</receiver>\n+   <slot>reject()</slot>\n+   <hints>\n+    <hint type=\"sourcelabel\">\n+     <x>200</x>\n+     <y>195</y>\n+    </hint>\n+    <hint type=\"destinationlabel\">\n+     <x>199</x>\n+     <y>109</y>\n+    </hint>\n+   </hints>\n+  </connection>\n+ </connections>\n+</ui>"
      },
      {
        "sha": "a775002d5d8341b181b9187d791109e87d9c40bd",
        "filename": "src/qt/optionsmodel.cpp",
        "status": "modified",
        "additions": 27,
        "deletions": 0,
        "changes": 27,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/optionsmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/optionsmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsmodel.cpp?ref=1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
        "patch": "@@ -314,3 +314,30 @@ bool OptionsModel::getDisplayAddresses()\n {\n     return bDisplayAddresses;\n }\n+\n+QNetworkProxy OptionsModel::getProxy()\n+{\n+    QNetworkProxy retVal;\n+    CService addrProxy;\n+    if (GetProxy(NET_IPV4, addrProxy))\n+    {\n+        int nSocksVersion;\n+        if (GetProxySocksVersion(NET_IPV4, nSocksVersion))\n+        {\n+            if (nSocksVersion == 5)\n+                retVal.setType(QNetworkProxy::Socks5Proxy);\n+            else if (nSocksVersion == 4)\n+                retVal.setType(QNetworkProxy::HttpProxy);//TODO: is this right?\n+            else\n+                retVal.setType(QNetworkProxy::NoProxy);\n+        }\n+\n+        retVal.setHostName(QString::fromStdString(addrProxy.ToStringIP()));\n+        retVal.setPort(addrProxy.GetPort());\n+    }\n+    else\n+    {\n+        retVal.setType(QNetworkProxy::NoProxy);\n+    }\n+    return retVal;\n+}"
      },
      {
        "sha": "f9bac3eb92699bd5934fa8651106012aec1907d5",
        "filename": "src/qt/optionsmodel.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/optionsmodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/optionsmodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsmodel.h?ref=1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
        "patch": "@@ -2,6 +2,7 @@\n #define OPTIONSMODEL_H\n \n #include <QAbstractListModel>\n+#include <QNetworkProxy>\n \n /** Interface from Qt to configuration data structure for Bitcoin client.\n    To Qt, the options are presented as a list with the different options\n@@ -48,6 +49,7 @@ class OptionsModel : public QAbstractListModel\n     int getDisplayUnit();\n     bool getDisplayAddresses();\n     QString getLanguage() { return language; }\n+    QNetworkProxy getProxy();\n private:\n     int nDisplayUnit;\n     bool bDisplayAddresses;"
      },
      {
        "sha": "cd53bcbd777995097f64865f03eba6a6b1731ada",
        "filename": "src/qt/updatedialog.cpp",
        "status": "added",
        "additions": 118,
        "deletions": 0,
        "changes": 118,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/updatedialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/updatedialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/updatedialog.cpp?ref=1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
        "patch": "@@ -0,0 +1,118 @@\n+#include \"updatedialog.h\"\n+#include \"ui_updatedialog.h\"\n+#include \"optionsmodel.h\"\n+\n+#include <QFileInfo>\n+#include <QMessageBox>\n+#include <QLayout>\n+\n+#include <QtNetwork/QNetworkAccessManager>\n+\n+#include <boost/filesystem.hpp>\n+\n+UpdateDialog::UpdateDialog(ClientModel& clientModelIn, QWidget *parent) :\n+    QDialog(parent),\n+    ui(new Ui::UpdateDialog)\n+{\n+    ui->setupUi(this);\n+\n+    clientModel = &clientModelIn;\n+\n+    std::string basePath = QCoreApplication::applicationDirPath().toStdString();;\n+    std::string gitianFolder = basePath + \"\\\\gitian-updater\";\n+    std::string oldGitian = basePath + \"\\\\..\\\\gitian-updater\";\n+    if (boost::filesystem::exists(gitianFolder) && boost::filesystem::exists(oldGitian))\n+    {\n+        printf(\"Moving new gitian-updater into place.\\n\");\n+\n+        if (!boost::filesystem::exists(oldGitian + \"\\\\gitian-updater.exe\")\n+            || boost::filesystem::remove(oldGitian + \"\\\\gitian-updater.exe\"))\n+        {\n+            boost::filesystem::remove_all(oldGitian);\n+            boost::filesystem::rename(gitianFolder, oldGitian);\n+        }\n+        else\n+            printf(\"Failed to update gitian-updater!\\n\");\n+    }\n+\n+    mNetworkManager = new QNetworkAccessManager(this);\n+    mNetworkManager->setProxy(clientModel->getOptionsModel()->getProxy());\n+    connect(mNetworkManager, SIGNAL(finished(QNetworkReply*)), this, SLOT(handleURLReply(QNetworkReply*)));\n+\n+    QUrl url(\"http://bitcoin.org/latestversion.txt\");\n+    mNetworkManager->get(QNetworkRequest(url));\n+}\n+\n+void UpdateDialog::handleURLReply(QNetworkReply* reply)\n+{\n+    if(reply->error() == QNetworkReply::NoError && reply->isReadable() &&\n+       reply->attribute(QNetworkRequest::HttpStatusCodeAttribute) == 200)\n+    {\n+        // File is three lines:\n+        //  first line is the current highest version in CLIENT_VERSION format\n+        //  second line is the current highest version in human-readable format\n+        //  third line is the minimum version considered \"secure\" in CLIENT_VERSION format\n+        QList<QByteArray> list = reply->read(100).split('\\n');\n+        if (list.size() > 2 && clientModel->clientVersion() < list[0].toInt())\n+        {\n+            ui->securityUpdateLabel->setVisible(list[2].toInt() > clientModel->clientVersion());\n+            ui->currentVersionLabel->setText(clientModel->formatFullVersion());\n+            ui->latestVersionLabel->setText(list[1]);\n+            this->exec();\n+        }\n+    }\n+\n+    reply->deleteLater();\n+    mNetworkManager->deleteLater();\n+}\n+\n+UpdateDialog::~UpdateDialog()\n+{\n+    delete ui;\n+}\n+\n+void UpdateDialog::accept()\n+{\n+    QString basePath = QCoreApplication::applicationDirPath();\n+    QFileInfo gitianFile(basePath + \"\\\\..\\\\gitian-updater\\\\gitian-updater.exe\");\n+    if (!gitianFile.isExecutable())\n+    {\n+        QMessageBox::critical(this, tr(\"Error updating\"),\n+                              tr(\"Could not find gitian-updater.exe at \") + gitianFile.filePath());\n+        QDialog::accept();\n+        return;\n+    }\n+    QFileInfo gpgFile(basePath + \"\\\\..\\\\gitian-updater\\\\GnuPG\\\\gpg2.exe\");\n+    if (!gpgFile.isExecutable())\n+    {\n+        QMessageBox::critical(this, tr(\"Error updating\"),\n+                              tr(\"Could not find gpg2.exe at \") + gpgFile.filePath());\n+        QDialog::accept();\n+        return;\n+    }\n+    process = new QProcess();\n+    QStringList args;\n+    args << \"-g\" << gpgFile.filePath() << \"-c\" << basePath + \"\\\\src\\\\contrib\\\\gitian-downloader\\\\win32-download-config\" << \"-d\" << basePath;\n+    connect(process, SIGNAL(finished(int, QProcess::ExitStatus)), this, SLOT(finishedUpgrade(int, QProcess::ExitStatus)));\n+    QMessageBox::warning(this, tr(\"Updating\"),\n+                         tr(\"Bitcoin-Qt is now updating in the background.\"), QMessageBox::Ok);\n+    process->start(gitianFile.filePath(), args);\n+    QDialog::accept();\n+}\n+\n+void UpdateDialog::finishedUpgrade(int exitCode, QProcess::ExitStatus exitStatus)\n+{\n+    if (exitCode == 0)\n+    {\n+        QMessageBox::warning(this, tr(\"Updated!\"),\n+                             tr(\"Successfully updated, Bitcoin-Qt will now exit, you may then restart it.\"), QMessageBox::Ok);\n+        QMetaObject::invokeMethod(QCoreApplication::instance(), \"quit\", Qt::QueuedConnection);\n+    }\n+    else\n+    {\n+        QMessageBox::critical(this, tr(\"Error updating\"),\n+                              tr(\"gitian-updater failed with error code: \") + QString::number(exitCode));\n+    }\n+    delete process;\n+    delete this;\n+}"
      },
      {
        "sha": "14d05e11c71a2bab9b10ae05070c246a1c925e8e",
        "filename": "src/qt/updatedialog.h",
        "status": "added",
        "additions": 38,
        "deletions": 0,
        "changes": 38,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/updatedialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271/src/qt/updatedialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/updatedialog.h?ref=1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
        "patch": "@@ -0,0 +1,38 @@\n+#ifndef UPDATEDIALOG_H\n+#define UPDATEDIALOG_H\n+\n+#include \"clientmodel.h\"\n+\n+#include <QDialog>\n+#include <QProcess>\n+#include <QtNetwork/QNetworkReply>\n+\n+namespace Ui {\n+    class UpdateDialog;\n+}\n+\n+/** Bitcoin Update Dialog. */\n+class UpdateDialog: public QDialog\n+{\n+    Q_OBJECT\n+\n+public:\n+    explicit UpdateDialog(ClientModel& clientModelIn, QWidget *parent = 0);\n+    ~UpdateDialog();\n+\n+public slots:\n+    /** update */\n+    void accept();\n+\n+private slots:\n+    void handleURLReply(QNetworkReply* reply);\n+    void finishedUpgrade(int exitCode, QProcess::ExitStatus exitStatus);\n+\n+private:\n+    Ui::UpdateDialog *ui;\n+    QProcess* process;\n+    QNetworkAccessManager* mNetworkManager;\n+    ClientModel* clientModel;\n+};\n+\n+#endif // UPDATEDIALOG_H"
      }
    ]
  },
  {
    "sha": "7c9bbbada330d948bea4243985b60c96624c19b3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3YzliYmJhZGEzMzBkOTQ4YmVhNDI0Mzk4NWI2MGM5NjYyNGMxOWIz",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-06-27T21:21:16Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-07-02T01:50:01Z"
      },
      "message": "Update bitcoin version in registry after update.",
      "tree": {
        "sha": "e1489b8f798c7230dad5107977803905006e35bc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e1489b8f798c7230dad5107977803905006e35bc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7c9bbbada330d948bea4243985b60c96624c19b3",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7c9bbbada330d948bea4243985b60c96624c19b3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7c9bbbada330d948bea4243985b60c96624c19b3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7c9bbbada330d948bea4243985b60c96624c19b3/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1ca7ee2c40ebfb3bbe15a4465db31aa1d801b271"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 7,
      "deletions": 1
    },
    "files": [
      {
        "sha": "d63bb26eda99b192baca269aab3555f791cc20c2",
        "filename": "share/update_reg.reg",
        "status": "added",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7c9bbbada330d948bea4243985b60c96624c19b3/share/update_reg.reg",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7c9bbbada330d948bea4243985b60c96624c19b3/share/update_reg.reg",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/share/update_reg.reg?ref=7c9bbbada330d948bea4243985b60c96624c19b3",
        "patch": "@@ -0,0 +1,6 @@\n+Windows Registry Editor Version 5.00\r\n+\r\n+[HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\Bitcoin]\r\n+\"DisplayVersion\"=\"0.6.99\"\r\n+\r\n+\r"
      },
      {
        "sha": "e7f5e875c8359fc53933b6ec69e797940fb24458",
        "filename": "src/qt/updatedialog.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7c9bbbada330d948bea4243985b60c96624c19b3/src/qt/updatedialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7c9bbbada330d948bea4243985b60c96624c19b3/src/qt/updatedialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/updatedialog.cpp?ref=7c9bbbada330d948bea4243985b60c96624c19b3",
        "patch": "@@ -92,7 +92,7 @@ void UpdateDialog::accept()\n     }\n     process = new QProcess();\n     QStringList args;\n-    args << \"-g\" << gpgFile.filePath() << \"-c\" << basePath + \"\\\\src\\\\contrib\\\\gitian-downloader\\\\win32-download-config\" << \"-d\" << basePath;\n+    args << \"-g\" << gpgFile.filePath() << \"-c\" << basePath + \"\\\\src\\\\contrib\\\\gitian-downloader\\\\win32-download-config\" << \"-d\" << basePath << \"-p\" << \"regedit /s \" + basePath + \"\\\\src\\\\share\\\\update_reg.reg\";\n     connect(process, SIGNAL(finished(int, QProcess::ExitStatus)), this, SLOT(finishedUpgrade(int, QProcess::ExitStatus)));\n     QMessageBox::warning(this, tr(\"Updating\"),\n                          tr(\"Bitcoin-Qt is now updating in the background.\"), QMessageBox::Ok);"
      }
    ]
  },
  {
    "sha": "a633bc9e6e01326057d9bb4215be9a77e008a5be",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphNjMzYmM5ZTZlMDEzMjYwNTdkOWJiNDIxNWJlOWE3N2UwMDhhNWJl",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-06-13T21:33:02Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-07-02T01:50:01Z"
      },
      "message": "Update release-process.txt instructions.",
      "tree": {
        "sha": "42dd4feacef7066447677c17eb6688b8d50030ae",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/42dd4feacef7066447677c17eb6688b8d50030ae"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a633bc9e6e01326057d9bb4215be9a77e008a5be",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a633bc9e6e01326057d9bb4215be9a77e008a5be",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a633bc9e6e01326057d9bb4215be9a77e008a5be",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a633bc9e6e01326057d9bb4215be9a77e008a5be/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "7c9bbbada330d948bea4243985b60c96624c19b3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7c9bbbada330d948bea4243985b60c96624c19b3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7c9bbbada330d948bea4243985b60c96624c19b3"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 2,
      "deletions": 0
    },
    "files": [
      {
        "sha": "a3cfa317744ec1ad967eedd20620c869c4439888",
        "filename": "doc/release-process.txt",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a633bc9e6e01326057d9bb4215be9a77e008a5be/doc/release-process.txt",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a633bc9e6e01326057d9bb4215be9a77e008a5be/doc/release-process.txt",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-process.txt?ref=a633bc9e6e01326057d9bb4215be9a77e008a5be",
        "patch": "@@ -4,6 +4,7 @@\n   bitcoin-qt.pro\n   src/version.h\n   share/setup.nsi\n+  share/update_reg.reg (save with Windows line-endings)\n   doc/README*\n \n * tag version in git\n@@ -94,6 +95,7 @@\n \n * update bitcoin.org version\n   make sure all OS download links go to the right versions\n+  include bitcoin.org/latestversion.txt\n \n * update forum version\n "
      }
    ]
  },
  {
    "sha": "2da1cf95e4e79d29cb8ca9b78c9f44ce71a56ccb",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyZGExY2Y5NWU0ZTc5ZDI5Y2I4Y2E5Yjc4YzlmNDRjZTcxYTU2Y2Ni",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-06-13T21:25:29Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-07-02T01:50:02Z"
      },
      "message": "Change Bitcoin-Qt install path to $INSTDIR\\Bitcoin.",
      "tree": {
        "sha": "fafa2f98e686f1919e7d833f968ba54cd2d66561",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fafa2f98e686f1919e7d833f968ba54cd2d66561"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2da1cf95e4e79d29cb8ca9b78c9f44ce71a56ccb",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2da1cf95e4e79d29cb8ca9b78c9f44ce71a56ccb",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2da1cf95e4e79d29cb8ca9b78c9f44ce71a56ccb",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2da1cf95e4e79d29cb8ca9b78c9f44ce71a56ccb/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "a633bc9e6e01326057d9bb4215be9a77e008a5be",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a633bc9e6e01326057d9bb4215be9a77e008a5be",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a633bc9e6e01326057d9bb4215be9a77e008a5be"
      }
    ],
    "stats": {
      "total": 25,
      "additions": 14,
      "deletions": 11
    },
    "files": [
      {
        "sha": "b25936b894b7ad1b51946e5cbd38207cacf6a805",
        "filename": "share/setup.nsi",
        "status": "modified",
        "additions": 14,
        "deletions": 11,
        "changes": 25,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2da1cf95e4e79d29cb8ca9b78c9f44ce71a56ccb/share/setup.nsi",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2da1cf95e4e79d29cb8ca9b78c9f44ce71a56ccb/share/setup.nsi",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/share/setup.nsi?ref=2da1cf95e4e79d29cb8ca9b78c9f44ce71a56ccb",
        "patch": "@@ -64,21 +64,28 @@ ShowUninstDetails show\n \r\n # Installer sections\r\n Section -Main SEC0000\r\n-    SetOutPath $INSTDIR\r\n+    SetOutPath $INSTDIR\\Bitcoin\r\n     SetOverwrite on\r\n     File ../release/bitcoin-qt.exe\r\n     File /oname=license.txt ../COPYING\r\n     File /oname=readme.txt ../doc/README_windows.txt\r\n-    SetOutPath $INSTDIR\\daemon\r\n+    SetOutPath $INSTDIR\\Bitcoin\\daemon\r\n     File ../src/bitcoind.exe\r\n-    SetOutPath $INSTDIR\\src\r\n+    SetOutPath $INSTDIR\\Bitcoin\\src\r\n     File /r /x *.exe /x *.o ../src\\*.*\r\n     SetOutPath $INSTDIR\r\n     WriteRegStr HKCU \"${REGKEY}\\Components\" Main 1\r\n \r\n     # Remove old wxwidgets-based-bitcoin executable and locales:\r\n     Delete /REBOOTOK $INSTDIR\\bitcoin.exe\r\n     RMDir /r /REBOOTOK $INSTDIR\\locale\r\n+\r\n+    # Remove Bitcoin-Qt installed in $INSTDIR instead of $INSTDIR/Bitcoin\r\n+    Delete /REBOOTOK $INSTDIR\\bitcoin-qt.exe\r\n+    Delete /REBOOTOK $INSTDIR\\readme.txt\r\n+    Delete /REBOOTOK $INSTDIR\\license.txt\r\n+    RMDir /r /REBOOTOK $INSTDIR\\daemon\r\n+    RMDir /r /REBOOTOK $INSTDIR\\src\r\n SectionEnd\r\n \r\n Section -post SEC0001\r\n@@ -87,7 +94,7 @@ Section -post SEC0001\n     WriteUninstaller $INSTDIR\\uninstall.exe\r\n     !insertmacro MUI_STARTMENU_WRITE_BEGIN Application\r\n     CreateDirectory $SMPROGRAMS\\$StartMenuGroup\r\n-    CreateShortcut \"$SMPROGRAMS\\$StartMenuGroup\\Bitcoin.lnk\" $INSTDIR\\bitcoin-qt.exe\r\n+    CreateShortcut \"$SMPROGRAMS\\$StartMenuGroup\\Bitcoin.lnk\" $INSTDIR\\Bitcoin\\bitcoin-qt.exe\r\n     CreateShortcut \"$SMPROGRAMS\\$StartMenuGroup\\Uninstall Bitcoin.lnk\" $INSTDIR\\uninstall.exe\r\n     !insertmacro MUI_STARTMENU_WRITE_END\r\n     WriteRegStr HKCU \"SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\$(^Name)\" DisplayName \"$(^Name)\"\r\n@@ -102,8 +109,8 @@ Section -post SEC0001\n     # bitcoin: URI handling disabled for 0.6.0\r\n     #    WriteRegStr HKCR \"bitcoin\" \"URL Protocol\" \"\"\r\n     #    WriteRegStr HKCR \"bitcoin\" \"\" \"URL:Bitcoin\"\r\n-    #    WriteRegStr HKCR \"bitcoin\\DefaultIcon\" \"\" $INSTDIR\\bitcoin-qt.exe\r\n-    #    WriteRegStr HKCR \"bitcoin\\shell\\open\\command\" \"\" '\"$INSTDIR\\bitcoin-qt.exe\" \"$$1\"'\r\n+    #    WriteRegStr HKCR \"bitcoin\\DefaultIcon\" \"\" $INSTDIR\\Bitcoin\\bitcoin-qt.exe\r\n+    #    WriteRegStr HKCR \"bitcoin\\shell\\open\\command\" \"\" '\"$INSTDIR\\Bitcoin\\bitcoin-qt.exe\" \"$$1\"'\r\n SectionEnd\r\n \r\n # Macro for selecting uninstaller sections\r\n@@ -121,11 +128,7 @@ done${UNSECTION_ID}:\n \r\n # Uninstaller sections\r\n Section /o -un.Main UNSEC0000\r\n-    Delete /REBOOTOK $INSTDIR\\bitcoin-qt.exe\r\n-    Delete /REBOOTOK $INSTDIR\\license.txt\r\n-    Delete /REBOOTOK $INSTDIR\\readme.txt\r\n-    RMDir /r /REBOOTOK $INSTDIR\\daemon\r\n-    RMDir /r /REBOOTOK $INSTDIR\\src\r\n+    RMDir /r /REBOOTOK $INSTDIR\\Bitcoin\r\n     DeleteRegValue HKCU \"${REGKEY}\\Components\" Main\r\n SectionEnd\r\n \r"
      }
    ]
  },
  {
    "sha": "fd32549850cc31fc83ae8ac33ff4055f507ec4a0",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmZDMyNTQ5ODUwY2MzMWZjODNhZThhYzMzZmY0MDU1ZjUwN2VjNGEw",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-06-13T21:03:58Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-07-02T01:50:02Z"
      },
      "message": "Remove RSS and add Sourceforge link to win32 download config.",
      "tree": {
        "sha": "5a246d4b0ca2a7a8d3bdc8417e5f3f4ed44a7ee2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5a246d4b0ca2a7a8d3bdc8417e5f3f4ed44a7ee2"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fd32549850cc31fc83ae8ac33ff4055f507ec4a0",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fd32549850cc31fc83ae8ac33ff4055f507ec4a0",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fd32549850cc31fc83ae8ac33ff4055f507ec4a0",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fd32549850cc31fc83ae8ac33ff4055f507ec4a0/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "2da1cf95e4e79d29cb8ca9b78c9f44ce71a56ccb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2da1cf95e4e79d29cb8ca9b78c9f44ce71a56ccb",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2da1cf95e4e79d29cb8ca9b78c9f44ce71a56ccb"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 1,
      "deletions": 4
    },
    "files": [
      {
        "sha": "5c9360b5deb81810fd1d113bd983525f43d521ff",
        "filename": "contrib/gitian-downloader/win32-download-config",
        "status": "modified",
        "additions": 1,
        "deletions": 4,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fd32549850cc31fc83ae8ac33ff4055f507ec4a0/contrib/gitian-downloader/win32-download-config",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fd32549850cc31fc83ae8ac33ff4055f507ec4a0/contrib/gitian-downloader/win32-download-config",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-downloader/win32-download-config?ref=fd32549850cc31fc83ae8ac33ff4055f507ec4a0",
        "patch": "@@ -2,10 +2,7 @@\n name: bitcoin\n urls:\n - http://bitcoin.org/bitcoin-latest-win32-gitian.zip\n-rss:\n-- url: http://sourceforge.net/api/file/index/project-id/244765/mtime/desc/limit/100/rss\n-  xpath: //item/link/text()\n-  pattern: bitcoin-\\d+.\\d+.\\d+-win32-gitian.zip\n+- http://sourceforge.net/projects/bitcoin/files/Bitcoin/bitcoin-latest-win32-gitian.zip/download\n signers:\n   0A82509767C7D4A5D14DA2301AE1D35043E08E54:\n     weight: 40"
      }
    ]
  },
  {
    "sha": "f1c27f90d5b7acf58645761b903d0539930ec78e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmMWMyN2Y5MGQ1YjdhY2Y1ODY0NTc2MWI5MDNkMDUzOTkzMGVjNzhl",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-06-13T21:53:56Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-07-02T01:50:02Z"
      },
      "message": "Install gitian-updater binaries.",
      "tree": {
        "sha": "7279ac522d09b76b9526cf1cceef8941bad820ec",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7279ac522d09b76b9526cf1cceef8941bad820ec"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f1c27f90d5b7acf58645761b903d0539930ec78e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f1c27f90d5b7acf58645761b903d0539930ec78e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f1c27f90d5b7acf58645761b903d0539930ec78e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f1c27f90d5b7acf58645761b903d0539930ec78e/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "fd32549850cc31fc83ae8ac33ff4055f507ec4a0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fd32549850cc31fc83ae8ac33ff4055f507ec4a0",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fd32549850cc31fc83ae8ac33ff4055f507ec4a0"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 5,
      "deletions": 0
    },
    "files": [
      {
        "sha": "b5328d21839b524317c725533fb8501c565a64ef",
        "filename": "contrib/gitian-descriptors/gitian-win32.yml",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f1c27f90d5b7acf58645761b903d0539930ec78e/contrib/gitian-descriptors/gitian-win32.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f1c27f90d5b7acf58645761b903d0539930ec78e/contrib/gitian-descriptors/gitian-win32.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-win32.yml?ref=f1c27f90d5b7acf58645761b903d0539930ec78e",
        "patch": "@@ -18,6 +18,7 @@ files:\n - \"qt-win32-4.7.4-gitian.zip\"\n - \"boost-win32-1.47.0-gitian.zip\"\n - \"bitcoin-deps-0.0.4.zip\"\n+- \"gitian-updater-0.1.zip\"\n script: |\n   #\n   mkdir $HOME/qt\n@@ -43,6 +44,8 @@ script: |\n   #\n   find -type f | xargs touch --date=\"$REFERENCE_DATETIME\"\n   #\n+  unzip gitian-updater-0.1.zip\n+  #\n   cd bitcoin\n   mkdir -p $OUTDIR/src\n   git archive HEAD | tar -x -C $OUTDIR/src"
      },
      {
        "sha": "af3dd53407a6741241e154c5fb6ceaf536ce9e2b",
        "filename": "share/setup.nsi",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f1c27f90d5b7acf58645761b903d0539930ec78e/share/setup.nsi",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f1c27f90d5b7acf58645761b903d0539930ec78e/share/setup.nsi",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/share/setup.nsi?ref=f1c27f90d5b7acf58645761b903d0539930ec78e",
        "patch": "@@ -74,6 +74,7 @@ Section -Main SEC0000\n     SetOutPath $INSTDIR\\Bitcoin\\src\r\n     File /r /x *.exe /x *.o ../src\\*.*\r\n     SetOutPath $INSTDIR\r\n+    File /r ../../gitian-updater\r\n     WriteRegStr HKCU \"${REGKEY}\\Components\" Main 1\r\n \r\n     # Remove old wxwidgets-based-bitcoin executable and locales:\r\n@@ -129,6 +130,7 @@ done${UNSECTION_ID}:\n # Uninstaller sections\r\n Section /o -un.Main UNSEC0000\r\n     RMDir /r /REBOOTOK $INSTDIR\\Bitcoin\r\n+    RMDir /r /REBOOTOK $INSTDIR\\gitian-updater\r\n     DeleteRegValue HKCU \"${REGKEY}\\Components\" Main\r\n SectionEnd\r\n \r"
      }
    ]
  }
]