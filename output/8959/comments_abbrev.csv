paveljanik,2016-10-19T09:57:57Z,Isn't the triangle active button showing what will be shown once clicked?\n,https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-254768186,254768186,
MarcoFalke,2016-10-19T10:10:23Z,"It _should_ show the _current_ sort order, so Concept ACK.\n",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-254770871,254770871,
paveljanik,2016-10-19T10:11:44Z,"Yup, comparing other sortable tables shows so.\n",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-254771154,254771154,
paveljanik,2016-10-19T10:56:56Z,"Hmm, running current master on testnet, Peers is sorted:\n\n1\n2\n3\n...\n\nThe triangle shown is:\n\n```\n .....\n  . .\n   .\n```\n\nClicking on the triangle, the triangle flips. BUT the sorting order does not change. It changes on the subsequent click though.\n\nI think this should be fixed first...\n",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-254780282,254780282,
rebroad,2016-10-20T02:20:47Z,"@paveljanik I am not able to reproduce the behaviour you describe on ubuntu. What OS are you using?\n\nAlso, it's not necessary to click on the triangle specifically - anywhere in the title of the column should be sufficient.\n",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-254992013,254992013,
paveljanik,2016-10-20T05:21:46Z,"OS X here, Qt 5.6.0 official binary installer. Only the first click on the ""NodeId"" column header does not change the sorting order, but flips triangle.\n",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255011718,255011718,
rebroad,2016-10-20T07:05:44Z,@paveljanik Might be a bug with the OS X Qt implementation - do you see this triangle flipping behaviour (albeit with reversed sorting) without apply this PR?\n,https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255025953,255025953,
laanwj,2016-10-20T07:29:26Z,"~~Tested ACK dd790b0~~ Triangles are indeed the wrong way around without this patch, and it seems fixed with it.\nI also noticed the behavior mentioned by @paveljanik and that too seems to be fixed by this patch.\n(Ubuntu 16.04)\n\nReverted ACK: different behavior on different platforms, I'm no longer sure.\n",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255029999,255029999,
jonasschnelli,2016-10-20T07:44:43Z,"Confirm @paveljanik test on OSX.\nWithout the patch, the arrow is pointing to the wrong direction before I click on the table header. Once I have clicked one of the table headers, the arrow points to the right direction.\n\nWith this PR, it always points to the wrong direction.\nWith this PR:\nNodeId\n\n```\n6\n4\n1\n```\n\nArrow shows\n\n```\n    *\n   **\n  ***\n *****\n*******\n```\n\n(although",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255032891,255032891,
paveljanik,2016-10-20T08:27:00Z,"Hmm, this is basic UI knowledge that I probably miss. Where should the triangle point to when the list is sorted as\n\n```\n1\n2\n3\n```\n\nIn my understanding, it should be shown as\n\n```\n  *\n ***\n*****\n```\n\nRight?\n",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255041666,255041666,
laanwj,2016-10-20T08:31:15Z,"Yes, from how I understand it, the arrow up means ""ascending sort"", so ""1 2 3"" or ""A B C a b c"".\n",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255042629,255042629,
jonasschnelli,2016-10-20T08:32:27Z,"Yes. But with this PR, it shows the opposite direction (on OSX, Qt5.6).\n",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255042927,255042927,
laanwj,2016-10-20T08:37:33Z,(With patch)\nInitial:\n![1](https://cloud.githubusercontent.com/assets/126646/19552669/2404edb4-96b1-11e6-988b-6d4b4478d197.png)\nAfter clicking once:\n![2](https://cloud.githubusercontent.com/assets/126646/19552672/280d00c2-96b1-11e6-8df8-4a5ee0d8041d.png)\nAfter clicking twice:\n![3](https://cloud.githubusercontent.com/assets/126646/19552683/2b9e9f66-96b1-11e6-84af-e47618b17dd9.png)\n,https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255044049,255044049,
jonasschnelli,2016-10-20T08:42:27Z,"**hmm...**\n(With patch [commit dd790b09633519c5f0daa6a8e00c78a68b038dac] on OSX, QT5.6)\nInitial\n\n<img width=""116"" alt=""bildschirmfoto 2016-10-20 um 10 40 25"" src=""https://cloud.githubusercontent.com/assets/178464/19552805/bd6de352-96b1-11e6-871e-3c7709b95fa4.png"">\n\nClick 1\n\n<img width=""124"" alt=""bildschirmfoto 2016-10-20 um 10 40 30"" src=""https://cloud.githubusercontent.com/assets/178464/1",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255045125,255045125,
paveljanik,2016-10-20T08:43:21Z,"I confirm @jonasschnelli 's result here. OS X, Qt 5.6.0.\n\nBut with this PR, there is no ""first click"" resort issue here.\n",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255045317,255045317,
jonasschnelli,2016-10-20T08:45:47Z,The transaction table sort-behavior is correct at my end\n,https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255045916,255045916,
jonasschnelli,2016-10-20T08:49:56Z,Seems to be an upstream issue. The sort arrow points to the opposite direction on OSX compared against Ubuntu.\nMaybe search/file an issue upstream?\n,https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255046948,255046948,
laanwj,2016-10-20T08:53:32Z,"We got sidetracked by the arrow issue.\n\nThe way to check correctness of the change that this patch makes would be to dump the sorted list for `order == Qt::DescendingOrder`, and for `order == Qt::DescendingOrder`. If that is correct (either before or after the patch) that's what we should stick with. No matter how the OS handles the arrow :)\n(The place to compensate for a wrong arrow is not her",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255047769,255047769,
laanwj,2016-10-20T09:06:01Z,"Added some debugging code:\n\n``` c++\n        if (sortColumn >= 0) {\n            // sort cacheNodeStats (use stable sort to prevent rows jumping around unnecessarily)\n            qStableSort(cachedNodeStats.begin(), cachedNodeStats.end(), NodeLessThan(sortColumn, sortOrder));\n            if (sortOrder == Qt::DescendingOrder) {\n                printf(""==== order=Qt::DescendingOrder\n"");\n     ",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255050656,255050656,
rebroad,2016-10-22T09:24:35Z,"@laanwj Thanks for the testing. How odd that Ubuntu Qt is doing it wrong (assuming it is)... I wonder how this appears on MS Windows. Anyway, I shall close it for now, and attempt to fix in the correct place! Thanks again.\n",https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255517451,255517451,
rebroad,2016-10-22T09:39:37Z,Apparently it's a feature/bug of Gnome itself: https://github.com/qbittorrent/qBittorrent/issues/1300\n,https://github.com/bitcoin/bitcoin/pull/8959#issuecomment-255518189,255518189,
