[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/255216372",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#issuecomment-255216372",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8969",
    "id": 255216372,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTIxNjM3Mg==",
    "user": {
      "login": "CodeShark",
      "id": 894059,
      "node_id": "MDQ6VXNlcjg5NDA1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/894059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CodeShark",
      "html_url": "https://github.com/CodeShark",
      "followers_url": "https://api.github.com/users/CodeShark/followers",
      "following_url": "https://api.github.com/users/CodeShark/following{/other_user}",
      "gists_url": "https://api.github.com/users/CodeShark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CodeShark/subscriptions",
      "organizations_url": "https://api.github.com/users/CodeShark/orgs",
      "repos_url": "https://api.github.com/users/CodeShark/repos",
      "events_url": "https://api.github.com/users/CodeShark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CodeShark/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-20T20:19:07Z",
    "updated_at": "2016-10-20T20:19:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/255216372/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/256677095",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#issuecomment-256677095",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8969",
    "id": 256677095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjY3NzA5NQ==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-27T15:33:56Z",
    "updated_at": "2016-10-27T15:33:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Removed the \"   Remove pfrom parameter from ProcessNewBlock\" commit, as it was subtely broken, and fixing it requires a bit more work which would complicate this PR.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/256677095/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257183863",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#issuecomment-257183863",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8969",
    "id": 257183863,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzE4Mzg2Mw==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-30T22:20:16Z",
    "updated_at": "2016-10-30T22:20:16Z",
    "author_association": "MEMBER",
    "body": "utACK\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257183863/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257303497",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#issuecomment-257303497",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8969",
    "id": 257303497,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzMwMzQ5Nw==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-31T14:10:34Z",
    "updated_at": "2016-10-31T14:10:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Squashed (without rebase - there are currently no merge conflicts so no need).\nOne tiny change from 479eeccda37f0d53904b32f55decdb65742d3136 to f5b960be4e9a9ab669e1436194fa904ccba58900 which just to reduce total diff size (see https://0bin.net/paste/2JB1+Ayq2N8VKw7P#TmdS1p5JcsuvvWKClIkcSOoSNQDMGJBB9HdzG+Yg7iz).\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257303497/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257446138",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#issuecomment-257446138",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8969",
    "id": 257446138,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzQ0NjEzOA==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-31T23:05:24Z",
    "updated_at": "2016-10-31T23:05:24Z",
    "author_association": "MEMBER",
    "body": "utACK f5b960be4e9a9ab669e1436194fa904ccba58900, with the same caveat as before: I'm not confident enough with FlushStateToDisk to ACK, but no reason to believe the changes are harmful.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257446138/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258177440",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#issuecomment-258177440",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8969",
    "id": 258177440,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODE3NzQ0MA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-03T15:31:20Z",
    "updated_at": "2016-11-03T15:31:20Z",
    "author_association": "MEMBER",
    "body": "utACK f5b960b\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258177440/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85384413",
    "pull_request_review_id": 6104989,
    "id": 85384413,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg1Mzg0NDEz",
    "diff_hunk": "@@ -5847,8 +5850,8 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n \n             PartiallyDownloadedBlock& partialBlock = *it->second.second->partialBlock;\n             ReadStatus status = partialBlock.FillBlock(block, resp.txn);\n+            MarkBlockAsReceived(resp.blockhash); // it is now an empty pointer",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 31,
    "commit_id": "f5b960be4e9a9ab669e1436194fa904ccba58900",
    "original_commit_id": "66a0a96f40b5480a63a394ea5973b5343f78adaf",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "We want it marked even in the READ_STATUS_FAILED case?\n",
    "created_at": "2016-10-27T17:13:39Z",
    "updated_at": "2016-10-31T14:10:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85384413",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85384413"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85384413"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85384413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 5853,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85393037",
    "pull_request_review_id": 6104989,
    "id": 85393037,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg1MzkzMDM3",
    "diff_hunk": "@@ -4281,18 +4284,12 @@ void UnloadBlockIndex()\n     mempool.clear();\n     mapOrphanTransactions.clear();\n     mapOrphanTransactionsByPrev.clear();\n-    nSyncStarted = 0;",
    "path": "src/main.cpp",
    "position": 108,
    "original_position": 14,
    "commit_id": "f5b960be4e9a9ab669e1436194fa904ccba58900",
    "original_commit_id": "43cb80ba7dff64834cec2089c42682a3c741d09b",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Am I correct in assuming that everything removed here will eventually be making its way into PeerLogicValidation?\n",
    "created_at": "2016-10-27T17:58:49Z",
    "updated_at": "2016-10-31T14:10:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85393037",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85393037"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85393037"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85393037/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4276,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85393665",
    "pull_request_review_id": 6104989,
    "id": 85393665,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg1MzkzNjY1",
    "diff_hunk": "@@ -1581,6 +1591,8 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         BOOST_FOREACH(const uint256& hashTx, vHashTxToUncache)\n             pcoinsTip->Uncache(hashTx);\n     }\n+    // After we've (potentially) uncached entries, ensure our coins cache is still within its size limits\n+    FlushStateToDisk(state, FLUSH_STATE_PERIODIC);",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 22,
    "commit_id": "f5b960be4e9a9ab669e1436194fa904ccba58900",
    "original_commit_id": "ca4b15bc230137d9a6692265d8bc8b9ed8900a44",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't know the mempool behavior well enough to review this... is it ok to be potentially flushing while processing orphans recursively?\n",
    "created_at": "2016-10-27T18:01:47Z",
    "updated_at": "2016-10-31T14:10:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85393665",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85393665"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85393665"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85393665/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1595,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85400746",
    "pull_request_review_id": 6120585,
    "id": 85400746,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg1NDAwNzQ2",
    "diff_hunk": "@@ -4281,18 +4284,12 @@ void UnloadBlockIndex()\n     mempool.clear();\n     mapOrphanTransactions.clear();\n     mapOrphanTransactionsByPrev.clear();\n-    nSyncStarted = 0;",
    "path": "src/main.cpp",
    "position": 108,
    "original_position": 14,
    "commit_id": "f5b960be4e9a9ab669e1436194fa904ccba58900",
    "original_commit_id": "43cb80ba7dff64834cec2089c42682a3c741d09b",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "There should be no need (see elaborated commit message).\n",
    "created_at": "2016-10-27T18:38:55Z",
    "updated_at": "2016-10-31T14:10:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85400746",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85400746"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85400746"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85400746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4276,
    "original_line": null,
    "side": "RIGHT",
    "in_reply_to_id": 85393037
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85401010",
    "pull_request_review_id": 6120842,
    "id": 85401010,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg1NDAxMDEw",
    "diff_hunk": "@@ -1581,6 +1591,8 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         BOOST_FOREACH(const uint256& hashTx, vHashTxToUncache)\n             pcoinsTip->Uncache(hashTx);\n     }\n+    // After we've (potentially) uncached entries, ensure our coins cache is still within its size limits\n+    FlushStateToDisk(state, FLUSH_STATE_PERIODIC);",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 22,
    "commit_id": "f5b960be4e9a9ab669e1436194fa904ccba58900",
    "original_commit_id": "ca4b15bc230137d9a6692265d8bc8b9ed8900a44",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "FlushStateToDisk shouldn't effect anything that mempool (or anything, actually) cares about except for memory usage, I believe.\n",
    "created_at": "2016-10-27T18:40:15Z",
    "updated_at": "2016-10-31T14:10:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85401010",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85401010"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85401010"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85401010/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1595,
    "side": "RIGHT",
    "in_reply_to_id": 85393665
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85406777",
    "pull_request_review_id": 6126321,
    "id": 85406777,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg1NDA2Nzc3",
    "diff_hunk": "@@ -5847,8 +5850,8 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n \n             PartiallyDownloadedBlock& partialBlock = *it->second.second->partialBlock;\n             ReadStatus status = partialBlock.FillBlock(block, resp.txn);\n+            MarkBlockAsReceived(resp.blockhash); // it is now an empty pointer",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 31,
    "commit_id": "f5b960be4e9a9ab669e1436194fa904ccba58900",
    "original_commit_id": "66a0a96f40b5480a63a394ea5973b5343f78adaf",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed.\n",
    "created_at": "2016-10-27T19:11:46Z",
    "updated_at": "2016-10-31T14:10:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85406777",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85406777"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85406777"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85406777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 5853,
    "side": "RIGHT",
    "in_reply_to_id": 85384413
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85612690",
    "pull_request_review_id": 6321822,
    "id": 85612690,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg1NjEyNjkw",
    "diff_hunk": "@@ -1581,6 +1591,8 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         BOOST_FOREACH(const uint256& hashTx, vHashTxToUncache)\n             pcoinsTip->Uncache(hashTx);\n     }\n+    // After we've (potentially) uncached entries, ensure our coins cache is still within its size limits\n+    FlushStateToDisk(state, FLUSH_STATE_PERIODIC);",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 31,
    "commit_id": "f5b960be4e9a9ab669e1436194fa904ccba58900",
    "original_commit_id": "ab3dcd8eb0acf8b9e930fc0f090be927be86afa6",
    "user": {
      "login": "kazcw",
      "id": 1047859,
      "node_id": "MDQ6VXNlcjEwNDc4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazcw",
      "html_url": "https://github.com/kazcw",
      "followers_url": "https://api.github.com/users/kazcw/followers",
      "following_url": "https://api.github.com/users/kazcw/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazcw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
      "organizations_url": "https://api.github.com/users/kazcw/orgs",
      "repos_url": "https://api.github.com/users/kazcw/repos",
      "events_url": "https://api.github.com/users/kazcw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazcw/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Minor edge case: a non-fatal error in FlushState (currently only low disk space) would override a MODE_INVALID, preventing misbehavior accounting and reject messages for the current tx. Since MODE_ERROR from FlushState is ignored in this case anyway, I think it'd be more robust to give FlushState a dummy CValidationState.\n",
    "created_at": "2016-10-28T21:23:22Z",
    "updated_at": "2016-10-31T14:10:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85612690",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85612690"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85612690"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85612690/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1595,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85643766",
    "pull_request_review_id": 6350458,
    "id": 85643766,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg1NjQzNzY2",
    "diff_hunk": "@@ -1581,6 +1591,8 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         BOOST_FOREACH(const uint256& hashTx, vHashTxToUncache)\n             pcoinsTip->Uncache(hashTx);\n     }\n+    // After we've (potentially) uncached entries, ensure our coins cache is still within its size limits\n+    FlushStateToDisk(state, FLUSH_STATE_PERIODIC);",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 31,
    "commit_id": "f5b960be4e9a9ab669e1436194fa904ccba58900",
    "original_commit_id": "ab3dcd8eb0acf8b9e930fc0f090be927be86afa6",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Heh, true, though in all of those cases we AbortNode, sooooo\n",
    "created_at": "2016-10-29T16:45:10Z",
    "updated_at": "2016-10-31T14:10:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85643766",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85643766"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85643766"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85643766/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1595,
    "side": "RIGHT",
    "in_reply_to_id": 85612690
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85670629",
    "pull_request_review_id": 6372958,
    "id": 85670629,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg1NjcwNjI5",
    "diff_hunk": "@@ -1581,6 +1591,8 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         BOOST_FOREACH(const uint256& hashTx, vHashTxToUncache)\n             pcoinsTip->Uncache(hashTx);\n     }\n+    // After we've (potentially) uncached entries, ensure our coins cache is still within its size limits\n+    FlushStateToDisk(state, FLUSH_STATE_PERIODIC);",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 22,
    "commit_id": "f5b960be4e9a9ab669e1436194fa904ccba58900",
    "original_commit_id": "ca4b15bc230137d9a6692265d8bc8b9ed8900a44",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "FlushStateToDisk should be fine to be called as long as no child CCoinsViewCache exists (which isn't the case here).\n",
    "created_at": "2016-10-30T21:58:13Z",
    "updated_at": "2016-10-31T14:10:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85670629",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85670629"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8969#discussion_r85670629"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8969"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85670629/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1595,
    "side": "RIGHT",
    "in_reply_to_id": 85393665
  }
]