[
  {
    "sha": "fa13090d2048c9a1e475eb25de756763f8adddb8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTEzMDkwZDIwNDhjOWExZTQ3NWViMjVkZTc1Njc2M2Y4YWRkZGI4",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-05-05T11:26:10Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-05-05T11:25:58Z"
      },
      "message": "contrib: Remove optimize-pngs.py script, which lives in the maintainer repo\n\nhttps://github.com/bitcoin-core/bitcoin-maintainer-tools/blob/master/optimize-pngs.py",
      "tree": {
        "sha": "867b26f3dfdc35943ae14b3bbc95f56bd3bdb4d8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/867b26f3dfdc35943ae14b3bbc95f56bd3bdb4d8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa13090d2048c9a1e475eb25de756763f8adddb8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgmnwwAi1u9FsL7/bv7zEMu1+d6YcfoQBQ5rkIIKirHbaze+RpjHekS9LBYn74s\ndnz0/8FJL5eMkT920R1HWQJ6FDShpJxJPRsSU/hpYNhVzTD6TJa68gRJT6bHJcDR\nyU01i0pUXjuTF9HNbm3ROCOAi8yyMs2oMl6WFbjfg2Ge+dpCU41w/9zgeiZ0pU2H\nX8eLVIxyuKmuCqS0f6VmNbv7c8NLPugGqvlIah+PLNoOLdso4Jf4Xoev01bgbnkl\nyNbJWf4mpLSKiRB1lAodIwLclyZ61/sziNL+HQdzQY8NTTPBPY0GHAwRnXgMZ3MF\n8EsTPDKkqPx8EZDOXhPobdljjDNcTJfmZZIF0Ne3fAA5lpvcRIQWcW+c5HCRkRWP\npuIRdGDaeS8w0qOHM2YfyPwHvDIzznzBef23taR0rab4kTGVRuChdW2iwRUC1q1j\nBLT2QD3wT5xstfeQWgrTz9UaJSCIVOJn7rbWoZ0nvp9Hmn64KWALqSoDD4PXXDXN\neHwCcqzX\n=5ujz\n-----END PGP SIGNATURE-----",
        "payload": "tree 867b26f3dfdc35943ae14b3bbc95f56bd3bdb4d8\nparent ae32e5ce3d268881cbf631de1903b2a414bb64e1\nauthor MarcoFalke <falke.marco@gmail.com> 1588677970 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1588677958 -0400\n\ncontrib: Remove optimize-pngs.py script, which lives in the maintainer repo\n\nhttps://github.com/bitcoin-core/bitcoin-maintainer-tools/blob/master/optimize-pngs.py\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa13090d2048c9a1e475eb25de756763f8adddb8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa13090d2048c9a1e475eb25de756763f8adddb8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa13090d2048c9a1e475eb25de756763f8adddb8/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ae32e5ce3d268881cbf631de1903b2a414bb64e1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ae32e5ce3d268881cbf631de1903b2a414bb64e1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ae32e5ce3d268881cbf631de1903b2a414bb64e1"
      }
    ],
    "stats": {
      "total": 82,
      "additions": 0,
      "deletions": 82
    },
    "files": [
      {
        "sha": "bdff7a84b098bd430d9e3b3ec8c58106da7bb680",
        "filename": "contrib/devtools/README.md",
        "status": "modified",
        "additions": 0,
        "deletions": 6,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa13090d2048c9a1e475eb25de756763f8adddb8/contrib/devtools/README.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa13090d2048c9a1e475eb25de756763f8adddb8/contrib/devtools/README.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/devtools/README.md?ref=fa13090d2048c9a1e475eb25de756763f8adddb8",
        "patch": "@@ -89,12 +89,6 @@ example:\n BUILDDIR=$PWD/build contrib/devtools/gen-manpages.sh\n ```\n \n-optimize-pngs.py\n-================\n-\n-A script to optimize png files in the bitcoin\n-repository (requires pngcrush).\n-\n security-check.py and test-security-check.py\n ============================================\n "
      },
      {
        "sha": "e9481dbbcf54159b08f8a27daf4905826b03804e",
        "filename": "contrib/devtools/optimize-pngs.py",
        "status": "removed",
        "additions": 0,
        "deletions": 76,
        "changes": 76,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ae32e5ce3d268881cbf631de1903b2a414bb64e1/contrib/devtools/optimize-pngs.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ae32e5ce3d268881cbf631de1903b2a414bb64e1/contrib/devtools/optimize-pngs.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/devtools/optimize-pngs.py?ref=ae32e5ce3d268881cbf631de1903b2a414bb64e1",
        "patch": "@@ -1,76 +0,0 @@\n-#!/usr/bin/env python3\n-# Copyright (c) 2014-2018 The Bitcoin Core developers\n-# Distributed under the MIT software license, see the accompanying\n-# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n-'''\n-Run this script every time you change one of the png files. Using pngcrush, it will optimize the png files, remove various color profiles, remove ancillary chunks (alla) and text chunks (text).\n-#pngcrush -brute -ow -rem gAMA -rem cHRM -rem iCCP -rem sRGB -rem alla -rem text\n-'''\n-import os\n-import sys\n-import subprocess\n-import hashlib\n-from PIL import Image  # pip3 install Pillow\n-\n-def file_hash(filename):\n-    '''Return hash of raw file contents'''\n-    with open(filename, 'rb') as f:\n-        return hashlib.sha256(f.read()).hexdigest()\n-\n-def content_hash(filename):\n-    '''Return hash of RGBA contents of image'''\n-    i = Image.open(filename)\n-    i = i.convert('RGBA')\n-    data = i.tobytes()\n-    return hashlib.sha256(data).hexdigest()\n-\n-pngcrush = 'pngcrush'\n-git = 'git'\n-folders = [\"src/qt/res/movies\", \"src/qt/res/icons\", \"share/pixmaps\"]\n-basePath = subprocess.check_output([git, 'rev-parse', '--show-toplevel'], universal_newlines=True, encoding='utf8').rstrip('\\n')\n-totalSaveBytes = 0\n-noHashChange = True\n-\n-outputArray = []\n-for folder in folders:\n-    absFolder=os.path.join(basePath, folder)\n-    for file in os.listdir(absFolder):\n-        extension = os.path.splitext(file)[1]\n-        if extension.lower() == '.png':\n-            print(\"optimizing {}...\".format(file), end =' ')\n-            file_path = os.path.join(absFolder, file)\n-            fileMetaMap = {'file' : file, 'osize': os.path.getsize(file_path), 'sha256Old' : file_hash(file_path)}\n-            fileMetaMap['contentHashPre'] = content_hash(file_path)\n-\n-            try:\n-                subprocess.call([pngcrush, \"-brute\", \"-ow\", \"-rem\", \"gAMA\", \"-rem\", \"cHRM\", \"-rem\", \"iCCP\", \"-rem\", \"sRGB\", \"-rem\", \"alla\", \"-rem\", \"text\", file_path],\n-                                stdout=subprocess.DEVNULL, stderr=subprocess.DEVNULL)\n-            except:\n-                print(\"pngcrush is not installed, aborting...\")\n-                sys.exit(0)\n-\n-            #verify\n-            if \"Not a PNG file\" in subprocess.check_output([pngcrush, \"-n\", \"-v\", file_path], stderr=subprocess.STDOUT, universal_newlines=True, encoding='utf8'):\n-                print(\"PNG file \"+file+\" is corrupted after crushing, check out pngcursh version\")\n-                sys.exit(1)\n-\n-            fileMetaMap['sha256New'] = file_hash(file_path)\n-            fileMetaMap['contentHashPost'] = content_hash(file_path)\n-\n-            if fileMetaMap['contentHashPre'] != fileMetaMap['contentHashPost']:\n-                print(\"Image contents of PNG file {} before and after crushing don't match\".format(file))\n-                sys.exit(1)\n-\n-            fileMetaMap['psize'] = os.path.getsize(file_path)\n-            outputArray.append(fileMetaMap)\n-            print(\"done\")\n-\n-print(\"summary:\\n+++++++++++++++++\")\n-for fileDict in outputArray:\n-    oldHash = fileDict['sha256Old']\n-    newHash = fileDict['sha256New']\n-    totalSaveBytes += fileDict['osize'] - fileDict['psize']\n-    noHashChange = noHashChange and (oldHash == newHash)\n-    print(fileDict['file']+\"\\n  size diff from: \"+str(fileDict['osize'])+\" to: \"+str(fileDict['psize'])+\"\\n  old sha256: \"+oldHash+\"\\n  new sha256: \"+newHash+\"\\n\")\n-\n-print(\"completed. Checksum stable: \"+str(noHashChange)+\". Total reduction: \"+str(totalSaveBytes)+\" bytes\")"
      }
    ]
  }
]