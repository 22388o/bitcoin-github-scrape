laanwj,2017-06-01T14:03:34Z,"Thanks for reviewing @JeremyRubin @jnewbery \n\n>  though many files are out of date.\n\nI somewhat dread having to rebase this, but hope to do so in the near future.\n\n> I'm wondering why this is labeled ""bare minimum to support UNIX sockets"" and when support seems pretty complete. Are there other p2p features over unix sockets that you'd want to support?\n\nThere's no support in RPC cal",https://github.com/bitcoin/bitcoin/pull/9979#issuecomment-305502837,305502837,
jnewbery,2017-06-01T14:29:36Z,"> I somewhat dread having to rebase this, but hope to do so in the near future.\n\nYes - rebase looks like it's going to be a big job :(\n\nLet me know if I can help in any way - I'm definitely interested in getting Unix socket support for RPC.",https://github.com/bitcoin/bitcoin/pull/9979#issuecomment-305510735,305510735,
ryanofsky,2017-06-01T20:49:57Z,"> I somewhat dread having to rebase this, but hope to do so in the near future.\n\nI didn't try rebasing, but the merge with master doesn't look bad at all. The only C++ code conflicts are mapMultiArgs -> gArgs replacements. There is a huge scary looking conflict in the test framework util.py, but it just comes from the initialize_chain function moving to another file, and the changes there are ",https://github.com/bitcoin/bitcoin/pull/9979#issuecomment-305616278,305616278,
laanwj,2017-06-24T11:31:40Z,Closing this for now. I'll probably pick it up again for 0.16.,https://github.com/bitcoin/bitcoin/pull/9979#issuecomment-310833286,310833286,
JeremyRubin,2017-04-05T14:47:56Z,"an easy way to replicate this without a new boost dep is:\n```c++\nif (!i->rfind(RPC_ADD_PREFIX_UNIX, 0))\n```",https://github.com/bitcoin/bitcoin/pull/9979#discussion_r109936241,109936241,src/httpserver.cpp
JeremyRubin,2017-04-05T14:53:38Z,"Might be better to have the ifdef define two different functions HandleUnixSocket.\n\nI'm always nervous with compiler directives inside functions, unless the code switched is ~1 line. Large ifdefs are in a couple places in this PR.",https://github.com/bitcoin/bitcoin/pull/9979#discussion_r109937942,109937942,src/bitcoin-cli.cpp
JeremyRubin,2017-04-05T15:18:41Z,"slight preference for something with ownership guarantees of\n\n```c++\nstd::vector<std::unique_ptr<void>> cleanupUNIXSockets;\n// must be non null value\ncleanupUNIXSockets.emplace_back(1, [=](void*) { evunix_remove_socket(path); });\ncleanupUNIXSockets.clear();\n```\nso that sockets aren't double removed.\n\nMaybe wrap the evunix stuff in a class and just keep a vector of those around?",https://github.com/bitcoin/bitcoin/pull/9979#discussion_r109944856,109944856,src/httpserver.cpp
JeremyRubin,2017-04-05T15:31:02Z,"recommend comment language (took me a minute to understand your comment because of ambiguity on here and that):\n\nWe will get an address of localhost either via a unix socket or via a localhost peer. There is no sane way to return an address for a socket, so we always return localhost's IPv6.",https://github.com/bitcoin/bitcoin/pull/9979#discussion_r109948645,109948645,src/httpserver.cpp
laanwj,2017-04-05T17:37:10Z,"I like boost::starts_with. It's python idom (and many other languages) so easy to read. If we want to do without that, I think we should simply implement our own in terms of what you write.",https://github.com/bitcoin/bitcoin/pull/9979#discussion_r109979931,109979931,src/httpserver.cpp
laanwj,2017-04-05T17:39:48Z,"Ok, makes sense",https://github.com/bitcoin/bitcoin/pull/9979#discussion_r109980592,109980592,src/httpserver.cpp
laanwj,2017-04-05T17:41:03Z,"Indeed, factoring this out to a function makes sense",https://github.com/bitcoin/bitcoin/pull/9979#discussion_r109980968,109980968,src/bitcoin-cli.cpp
ryanofsky,2017-05-08T18:03:39Z,"In commit ""p2p: Bare minimum to support UNIX sockets""\n\nAny reason this error is translated while others are not?",https://github.com/bitcoin/bitcoin/pull/9979#discussion_r115313231,115313231,src/net.cpp
ryanofsky,2017-05-08T18:04:29Z,"In commit ""p2p: Bare minimum to support UNIX sockets""\n\nMaybe mention path is unix socket path",https://github.com/bitcoin/bitcoin/pull/9979#discussion_r115313439,115313439,src/net.cpp
