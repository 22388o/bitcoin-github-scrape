[
  {
    "sha": "568aa0cf8329293692e4249dabd94052533c050d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NjhhYTBjZjgzMjkyOTM2OTJlNDI0OWRhYmQ5NDA1MjUzM2MwNTBk",
    "commit": {
      "author": {
        "name": "Nathan Marley",
        "email": "nathan.marley@gmail.com",
        "date": "2019-09-16T00:00:49Z"
      },
      "committer": {
        "name": "Nathan Marley",
        "email": "nathan.marley@gmail.com",
        "date": "2019-09-20T17:47:06Z"
      },
      "message": "Add OpenSSL termios fix for musl libc",
      "tree": {
        "sha": "01ad65c5c4ef6af25272a1dcbb940e0e2c50f17f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/01ad65c5c4ef6af25272a1dcbb940e0e2c50f17f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/568aa0cf8329293692e4249dabd94052533c050d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/568aa0cf8329293692e4249dabd94052533c050d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/568aa0cf8329293692e4249dabd94052533c050d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/568aa0cf8329293692e4249dabd94052533c050d/comments",
    "author": {
      "login": "nmarley",
      "id": 1735354,
      "node_id": "MDQ6VXNlcjE3MzUzNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1735354?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nmarley",
      "html_url": "https://github.com/nmarley",
      "followers_url": "https://api.github.com/users/nmarley/followers",
      "following_url": "https://api.github.com/users/nmarley/following{/other_user}",
      "gists_url": "https://api.github.com/users/nmarley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nmarley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nmarley/subscriptions",
      "organizations_url": "https://api.github.com/users/nmarley/orgs",
      "repos_url": "https://api.github.com/users/nmarley/repos",
      "events_url": "https://api.github.com/users/nmarley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nmarley/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "nmarley",
      "id": 1735354,
      "node_id": "MDQ6VXNlcjE3MzUzNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1735354?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nmarley",
      "html_url": "https://github.com/nmarley",
      "followers_url": "https://api.github.com/users/nmarley/followers",
      "following_url": "https://api.github.com/users/nmarley/following{/other_user}",
      "gists_url": "https://api.github.com/users/nmarley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nmarley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nmarley/subscriptions",
      "organizations_url": "https://api.github.com/users/nmarley/orgs",
      "repos_url": "https://api.github.com/users/nmarley/repos",
      "events_url": "https://api.github.com/users/nmarley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nmarley/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f8b0b190aa9d13e93ebfe34b5655dbe8ed8df3d3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f8b0b190aa9d13e93ebfe34b5655dbe8ed8df3d3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f8b0b190aa9d13e93ebfe34b5655dbe8ed8df3d3"
      }
    ],
    "stats": {
      "total": 19,
      "additions": 19,
      "deletions": 0
    },
    "files": [
      {
        "sha": "3e8a22a1b0b61d9d07dc635e836575286a552f72",
        "filename": "depends/packages/openssl.mk",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/568aa0cf8329293692e4249dabd94052533c050d/depends/packages/openssl.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/568aa0cf8329293692e4249dabd94052533c050d/depends/packages/openssl.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/openssl.mk?ref=568aa0cf8329293692e4249dabd94052533c050d",
        "patch": "@@ -3,6 +3,7 @@ $(package)_version=1.0.1k\n $(package)_download_path=https://www.openssl.org/source\n $(package)_file_name=$(package)-$($(package)_version).tar.gz\n $(package)_sha256_hash=8f9faeaebad088e772f4ef5e38252d472be4d878c6b3a2718c10a4fcebe7a41c\n+$(package)_patches=0001-Add-OpenSSL-termios-fix-for-musl-libc.patch\n \n define $(package)_set_vars\n $(package)_config_env=AR=\"$($(package)_ar)\" RANLIB=\"$($(package)_ranlib)\" CC=\"$($(package)_cc)\"\n@@ -60,6 +61,7 @@ $(package)_config_opts_i686_mingw32=mingw\n endef\n \n define $(package)_preprocess_cmds\n+  patch -p1 < $($(package)_patch_dir)/0001-Add-OpenSSL-termios-fix-for-musl-libc.patch && \\\n   sed -i.old \"/define DATE/d\" util/mkbuildinf.pl && \\\n   sed -i.old \"s|engines apps test|engines|\" Makefile.org\n endef"
      },
      {
        "sha": "003099bdc20095d4050287d4457b8369b630fd62",
        "filename": "depends/patches/openssl/0001-Add-OpenSSL-termios-fix-for-musl-libc.patch",
        "status": "added",
        "additions": 17,
        "deletions": 0,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/568aa0cf8329293692e4249dabd94052533c050d/depends/patches/openssl/0001-Add-OpenSSL-termios-fix-for-musl-libc.patch",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/568aa0cf8329293692e4249dabd94052533c050d/depends/patches/openssl/0001-Add-OpenSSL-termios-fix-for-musl-libc.patch",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/patches/openssl/0001-Add-OpenSSL-termios-fix-for-musl-libc.patch?ref=568aa0cf8329293692e4249dabd94052533c050d",
        "patch": "@@ -0,0 +1,17 @@\n+diff --git a/crypto/ui/ui_openssl.c b/crypto/ui/ui_openssl.c\n+index a38c758..d99edc2 100644\n+--- a/crypto/ui/ui_openssl.c\n++++ b/crypto/ui/ui_openssl.c\n+@@ -190,9 +190,9 @@\n+ # undef  SGTTY\n+ #endif\n+ \n+-#if defined(linux) && !defined(TERMIO)\n+-# undef  TERMIOS\n+-# define TERMIO\n++#if defined(linux)\n++# define TERMIOS\n++# undef  TERMIO\n+ # undef  SGTTY\n+ #endif\n+ "
      }
    ]
  }
]