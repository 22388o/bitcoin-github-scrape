practicalswift,2019-04-25 21:33:26,utACK ad2b70aa26cecbcc42c305401855212de9b3c26c,https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-486845963,486845963,
DrahtBot,2019-04-25 22:14:18,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16224](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16224.html) (gui: Bilingual GUI error messages by hebast",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-486856935,486856935,
Sjors,2019-04-27 18:55:02,"utACK ad2b70a, that was annoying me too. @ryanofsky I don't think the UI dialog text needs a ""Error: "" prefix. The dialog title and giant red icon make it clear enough that this is an error.",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487310824,487310824,
promag,2019-04-28 22:37:06,"On macos the message box title is missing, should fix that at least?\n<img width=""338"" alt=""Screenshot 2019-04-28 at 23 34 14"" src=""https://user-images.githubusercontent.com/3534524/56870902-4b7bc600-6a0e-11e9-82c5-8d5131a4b218.png"">\n",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487421346,487421346,
hebasto,2019-04-29 06:35:01,"@promag https://doc.qt.io/qt-5/qmessagebox.html#setWindowTitle\n> On macOS, the window title is ignored (as required by the macOS Guidelines).\n\nI can see two possible ways:\n- platform-dependent `QMessageBox` text:\n  - ""_Error: Message_"" on macOS\n  - ""_Message_"" on other platforms\n- do not touch GUI code at all\n\nWhich one is more preferable?\n",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487464960,487464960,
promag,2019-04-29 06:41:49,"I agree with @ryanofsky, having equal messages isn't that terrible, especially when it's about to quit.",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487466226,487466226,
jonasschnelli,2019-04-29 06:52:08,"Thanks for working on this.\nI agree with @ryanofsky that the message should be the same.\n\nMaybe the wording should be more ""final"" since ""low"" is eventually something that is non-critical were ""too low"" would be understandable (together with red error sign).",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487468327,487468327,
Sjors,2019-04-29 08:57:51,Maybe add a comment in source to remind us of the macOS situation.,https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487505479,487505479,
MarcoFalke,2019-04-29 12:21:47,"What about prepending the prefix  based on the error type?\n\n\n```diff\ndiff --git a/src/qt/bitcoingui.cpp b/src/qt/bitcoingui.cpp\nindex abf9136eee..851bfe2b71 100644\n--- a/src/qt/bitcoingui.cpp\n+++ b/src/qt/bitcoingui.cpp\n@@ -1022,9 +1022,9 @@ void BitcoinGUI::setNumBlocks(int count, const QDateTime& blockDate, double nVer\n     progressBar->setToolTip(tooltip);\n }\n \n-void Bit",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487558099,487558099,
ryanofsky,2019-04-29 15:25:12,"re: https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487558099\n\n> `message = tr(""Error"") + "": "" + message;`\n\nFormatting could be part of the translation:\n\n```c++\nmessage = tr(""Error: %s"", message)\n```",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487624823,487624823,
hebasto,2019-04-30 11:18:26,"Currently, Bitcoin Core code has the following features.\n\nThe `ThreadSafeMessageBox()` messages are rendered in two ways:\n- by `noui_ThreadSafeMessageBox()` using `LogPrintf()` and `fprintf(stderr, ...)` with\nadding _translated_ type prefix (""Error"" / ""Warning"" / ""Information"")\n- by `BitcoinGUI::message()` using `QMessageBox` with adding _translated_ type suffix (""Error"" / ""Warning"" / ""I",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487914058,487914058,
ryanofsky,2019-04-30 12:35:28,"re: https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487914058 from hebasto\n\n> Unfortunately, I cannot see the simple way to refactor the code to achieve both uniformity and usability.\n\nI think it'd make sense to just focus on implementing desired behavior this PR, and not do a broad refactoring at the same time. It sounds like the goal is just to get identical translated ""Error:",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487934230,487934230,
MarcoFalke,2019-04-30 13:14:15,"Logging translated messages to debug.log is a bug (it makes the log useless as universally understood debugging medium)\n\nSteps to reproduce:\n\n```\n$ ./src/qt/bitcoin-qt -whitelist=asdf -lang=fr -printtoconsole\n\n...\n2019-04-30T13:11:46Z nBestHeight = 3045\n2019-04-30T13:11:46Z torcontrol thread start\n2019-04-30T13:11:46Z Erreur: Masque réseau invalide indiqué dans -whitelist : « a",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487947077,487947077,
hebasto,2019-04-30 13:17:28,"@MarcoFalke \nAgree. There was a dedicated PR #15340.",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487948132,487948132,
ryanofsky,2019-04-30 13:50:02,"> Logging translated messages to debug.log is a bug (it makes the log useless as universally understood debugging medium)\n\nDoes this impact my suggestion above? It seems like currently we log both translated and untranslated messages, and after my suggestion we'd continue to do that. My suggestion is just about making prefixes in translated messages consistent.\n\nMore generally, I don't see",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487959759,487959759,
hebasto,2019-04-30 14:01:04,"Just a reminder:\n\n[Translation Strings Policy](https://github.com/bitcoin/bitcoin/blob/master/doc/translation_strings_policy.md#do-not-translate-internal-errors):\n> Do not translate internal errors, log messages, or messages that appear on the RPC interface. If an error is to be shown to the user, use a translatable generic message, then log the detailed message to the log. E.g., ""A fatal in",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487963834,487963834,
hebasto,2019-04-30 19:09:36,"The following comments have been addressed:\n- https://github.com/bitcoin/bitcoin/pull/15894#pullrequestreview-230889663 by @ryanofsky \n> ... I think ideally the line would appear as ""Error: Disk space is low!"" in both the GUI and in the log.\n\n- https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487468327 by @jonasschnelli \n> Maybe the wording should be more ""final"" since ""low"" is",https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-488077474,488077474,
hebasto,2019-06-19 16:23:50,Rebased.,https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-503632058,503632058,
laanwj,2019-06-25 11:32:42,concept and code-review ACK f724f31401b963c75bd64f5e2c5b9d9561a9a9dd,https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-505404517,505404517,
hebasto,2019-06-25 20:05:32,@MarcoFalke Thank you for your review. I could see my code from another point of view.,https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-505601690,505601690,
ryanofsky,2019-04-30 19:21:15,Why this is changing capitalization? All caps seems ugly.,https://github.com/bitcoin/bitcoin/pull/15894#discussion_r279899092,279899092,src/qt/bitcoingui.cpp
ryanofsky,2019-04-30 19:32:06,"Is there a reason this is adding an ""ERROR: "" prefix for errors generically but using an ""Error: "" prefix for the disk space error? Why not be consistent?",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r279902928,279902928,src/qt/bitcoingui.cpp
hebasto,2019-04-30 19:57:38,Fixed.,https://github.com/bitcoin/bitcoin/pull/15894#discussion_r279911957,279911957,src/qt/bitcoingui.cpp
hebasto,2019-04-30 19:58:26,Fixed.,https://github.com/bitcoin/bitcoin/pull/15894#discussion_r279912257,279912257,src/qt/bitcoingui.cpp
MarcoFalke,2019-06-25 14:24:29,"Why is this no longer translated, like the other `PACKAGE_NAME`s?",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297215718,297215718,src/qt/bitcoingui.cpp
MarcoFalke,2019-06-25 14:26:08,"Why can't this use the existing translation of `tr(""Error"")`? Seems overkill to burden the translator with a format string.",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297216617,297216617,src/qt/bitcoingui.cpp
MarcoFalke,2019-06-25 14:32:02,"Since you are changing the translation here anyway, might as well remove the prefix and not set the flag?",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297219995,297219995,src/validation.cpp
MarcoFalke,2019-06-25 14:32:45,"The param should be named `msg_prefix` or something more specific, no?",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297220395,297220395,src/validation.cpp
MarcoFalke,2019-06-25 14:33:34,style-nit: Generally it is preferred to not invert the condition if there is an else clause anyway.,https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297220864,297220864,src/validation.cpp
MarcoFalke,2019-06-25 14:35:18,Why is this no longer translated?,https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297221774,297221774,src/noui.cpp
hebasto,2019-06-25 18:15:18,"I'm agree that in the `src/qt/` directory the translated `PACKAGE_NAME` is always used.\nHow should I fix it when this PR has been merged already? A new PR?\n\n> Why is this no longer translated..?\n\nThe `PACKAGE_NAME` is a _brand/product name_ which should not be translated, in my strong opinion.\nI've read rebranding discussion (#3203, #3400, #3408, ...).\nCould you point me to a similar",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297326036,297326036,src/qt/bitcoingui.cpp
hebasto,2019-06-25 18:19:45,Agree. How should I fix it when this PR has been merged already? A new PR?,https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297327909,297327909,src/validation.cpp
hebasto,2019-06-25 18:20:15,Agree. How should I fix it when this PR has been merged already? A new PR?,https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297328109,297328109,src/validation.cpp
hebasto,2019-06-25 18:24:26,"Because it will be printed to `debug.log` and/or `stderr` (also, see https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487947077).",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297329920,297329920,src/noui.cpp
hebasto,2019-06-25 18:34:40,"Please, see the https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487624823 by @ryanofsky.",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297334407,297334407,src/qt/bitcoingui.cpp
hebasto,2019-06-25 18:40:14,"Please see:\n- https://github.com/bitcoin/bitcoin/pull/15894#pullrequestreview-230889663 by @ryanofsky \n- https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487466226 by @promag \n- https://github.com/bitcoin/bitcoin/pull/15894#issuecomment-487468327 by @jonasschnelli \n",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297336767,297336767,src/validation.cpp
MarcoFalke,2019-06-25 18:44:22,"That explains that it can be done, not why.",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297338578,297338578,src/qt/bitcoingui.cpp
MarcoFalke,2019-06-25 18:46:58,"Yeah, I'd say it is shorter to write \n\n```cpp\nreturn AbortNode(state, ""Disk space is too low!"", _(""Disk space is too low!""));\n```\n\nwhich should do the same?",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297339757,297339757,src/validation.cpp
hebasto,2019-06-25 19:20:47,"Maybe [this](https://github.com/bitcoin/bitcoin/blob/master/doc/translation_strings_policy.md#avoid-fragments) could explain that?\nIf not, would you mind providing the Bitcoin Core team's best practices for such cases?",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297353149,297353149,src/qt/bitcoingui.cpp
hebasto,2019-06-25 19:58:23,"> which should do the same?\n\nNot quite.\nThe difference is whether {""Error: ""|""Warning: "":} prefix is translated or not in the `debug.log` and `stderr`.",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297367171,297367171,src/validation.cpp
MarcoFalke,2019-06-25 20:12:43,"Yeah, there have been a lot of discussions in the past, also on IRC. We should at least be self-consistent.",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297372607,297372607,src/qt/bitcoingui.cpp
hebasto,2019-06-25 20:30:27,"> We should at least be self-consistent.\n\nRight.",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297379504,297379504,src/qt/bitcoingui.cpp
MarcoFalke,2019-06-25 20:43:08,"Right. I guess it shouldn't, but at the current state of this pull request, it is translated.\n\nI presume you are fixing this in #16224 (or similar)?",https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297384687,297384687,src/validation.cpp
hebasto,2019-06-25 20:52:21,Yes. I think it was my fault to touch translations in this PR ((,https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297388233,297388233,src/validation.cpp
Sjors,2019-06-26 00:38:04,A new PR is the best approach.,https://github.com/bitcoin/bitcoin/pull/15894#discussion_r297445876,297445876,src/validation.cpp
hebasto,2019-07-09 05:57:04,As #16291 is merged I'm going to resolve this conversation.,https://github.com/bitcoin/bitcoin/pull/15894#discussion_r301406896,301406896,src/qt/bitcoingui.cpp
