promag,2018-02-05T23:22:04Z,"Ping @sdaftuar, author of this code.",https://github.com/bitcoin/bitcoin/pull/12361#issuecomment-363255422,363255422,
promag,2018-02-06T22:55:32Z,Fixed typo in commit message (feebumber -> feebumper). Thanks @laanwj.,https://github.com/bitcoin/bitcoin/pull/12361#issuecomment-363593651,363593651,
laanwj,2018-02-08T20:10:08Z,"> I'm skeptical of adding assert's for unusual but otherwise benign situations\n\nWe should especially avoid that in network code, very easy to introduce a DoS vector.",https://github.com/bitcoin/bitcoin/pull/12361#issuecomment-364233482,364233482,
promag,2018-02-09T00:54:12Z,"> Perhaps we could just improve the error message, to indicate that the user should report the error to the software developers if it were to trigger?\n\nI have no strong opinion in this matter.\n\n> I'm skeptical of adding assert's for unusual but otherwise benign situations\n\nClosing after @sdaftuar reasoning.",https://github.com/bitcoin/bitcoin/pull/12361#issuecomment-364300355,364300355,
MarcoFalke,2018-02-06T23:09:02Z,"According to a comment, this is about to change:\n```cpp\n// TODO: if we expect the failure to be long term or permanent, instead delete wtx from the wallet and return failure.",https://github.com/bitcoin/bitcoin/pull/12361#discussion_r166472325,166472325,src/wallet/feebumper.cpp
MarcoFalke,2018-02-06T23:09:42Z,"Could make sense to move it out of the assertion, such that the code continues to run if assertions are not compiled.",https://github.com/bitcoin/bitcoin/pull/12361#discussion_r166472485,166472485,src/wallet/feebumper.cpp
promag,2018-02-08T09:33:52Z,ATM the comment is correct. The assertion below helps detecting if that changes.,https://github.com/bitcoin/bitcoin/pull/12361#discussion_r166875541,166875541,src/wallet/feebumper.cpp
promag,2018-02-08T09:38:27Z,"Agree, done.",https://github.com/bitcoin/bitcoin/pull/12361#discussion_r166876672,166876672,src/wallet/feebumper.cpp
sdaftuar,2018-02-08T19:34:51Z,"Rather than asserting that the result is true, I think it would make more sense to change the signature of CommitTransaction so that it doesn't return anything.",https://github.com/bitcoin/bitcoin/pull/12361#discussion_r167044457,167044457,src/wallet/feebumper.cpp
sdaftuar,2018-02-08T19:45:07Z,"While I think the comment here is correct, I don't think that adding an assert is very helpful to detecting if this were to change -- having the software crash on some user in the wild if somehow we violate this assumption in some edge case seems worse than recovering and producing an error message.",https://github.com/bitcoin/bitcoin/pull/12361#discussion_r167047227,167047227,src/wallet/feebumper.cpp
MarcoFalke,2018-02-08T20:19:05Z,"Even if we changed it to return false, it will do so very rarely. Likely never in tests. So whenever this changes we introduce a non-deterministic crash when calling an rpc and no one notices until it is out in the wild.",https://github.com/bitcoin/bitcoin/pull/12361#discussion_r167055917,167055917,src/wallet/feebumper.cpp
promag,2018-02-09T00:42:05Z,See https://github.com/bitcoin/bitcoin/pull/12361#discussion_r166472325.,https://github.com/bitcoin/bitcoin/pull/12361#discussion_r167112110,167112110,src/wallet/feebumper.cpp
promag,2018-02-09T00:50:15Z,"Side note, I should split in two lines as per @MarcoFalke suggestion.",https://github.com/bitcoin/bitcoin/pull/12361#discussion_r167113307,167113307,src/wallet/feebumper.cpp
promag,2018-02-09T00:53:37Z,Maybe we should remove the comment.,https://github.com/bitcoin/bitcoin/pull/12361#discussion_r167113811,167113811,src/wallet/feebumper.cpp
