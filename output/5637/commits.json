[
  {
    "sha": "0fd9e2bf43d217d9a76003476661c8ab53606548",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowZmQ5ZTJiZjQzZDIxN2Q5YTc2MDAzNDc2NjYxYzhhYjUzNjA2NTQ4",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2015-01-10T14:02:12Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2015-01-10T14:02:12Z"
      },
      "message": "[Qt] don't allow amount changes when AmountSpinBox is read-only\n\n- before it was possible to use the steps to change e.g. amouns of\n  authenticated or unauthenticated payment requests (AmountSpinBox is\n  already set to read-only here) - this is now fixed\n- also move the reimplemented stepEnabled() function to the\n  protected section of our class, where it belongs (see Qt doc)",
      "tree": {
        "sha": "a243e1438970ac6666c9547647898ef1b0fe6094",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a243e1438970ac6666c9547647898ef1b0fe6094"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0fd9e2bf43d217d9a76003476661c8ab53606548",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0fd9e2bf43d217d9a76003476661c8ab53606548",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0fd9e2bf43d217d9a76003476661c8ab53606548",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0fd9e2bf43d217d9a76003476661c8ab53606548/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "4f73a8f64d1555b4053f2a0a5c79083e50a0ce21",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4f73a8f64d1555b4053f2a0a5c79083e50a0ce21",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4f73a8f64d1555b4053f2a0a5c79083e50a0ce21"
      }
    ],
    "stats": {
      "total": 38,
      "additions": 21,
      "deletions": 17
    },
    "files": [
      {
        "sha": "3e0ca0282bd36de0fdd17115d93ad28e869fb9e8",
        "filename": "src/qt/bitcoinamountfield.cpp",
        "status": "modified",
        "additions": 21,
        "deletions": 17,
        "changes": 38,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0fd9e2bf43d217d9a76003476661c8ab53606548/src/qt/bitcoinamountfield.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0fd9e2bf43d217d9a76003476661c8ab53606548/src/qt/bitcoinamountfield.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoinamountfield.cpp?ref=0fd9e2bf43d217d9a76003476661c8ab53606548",
        "patch": "@@ -20,6 +20,7 @@\n class AmountSpinBox: public QAbstractSpinBox\n {\n     Q_OBJECT\n+\n public:\n     explicit AmountSpinBox(QWidget *parent):\n         QAbstractSpinBox(parent),\n@@ -72,23 +73,6 @@ class AmountSpinBox: public QAbstractSpinBox\n         setValue(val);\n     }\n \n-    StepEnabled stepEnabled() const\n-    {\n-        StepEnabled rv = 0;\n-        if(text().isEmpty()) // Allow step-up with empty field\n-            return StepUpEnabled;\n-        bool valid = false;\n-        CAmount val = value(&valid);\n-        if(valid)\n-        {\n-            if(val > 0)\n-                rv |= StepDownEnabled;\n-            if(val < BitcoinUnits::maxMoney())\n-                rv |= StepUpEnabled;\n-        }\n-        return rv;\n-    }\n-\n     void setDisplayUnit(int unit)\n     {\n         bool valid = false;\n@@ -139,6 +123,7 @@ class AmountSpinBox: public QAbstractSpinBox\n         }\n         return cachedMinimumSizeHint;\n     }\n+\n private:\n     int currentUnit;\n     CAmount singleStep;\n@@ -179,6 +164,25 @@ class AmountSpinBox: public QAbstractSpinBox\n         return QAbstractSpinBox::event(event);\n     }\n \n+    StepEnabled stepEnabled() const\n+    {\n+        StepEnabled rv = 0;\n+        if (isReadOnly()) // Disable steps when AmountSpinBox is read-only\n+            return StepNone;\n+        if(text().isEmpty()) // Allow step-up with empty field\n+            return StepUpEnabled;\n+        bool valid = false;\n+        CAmount val = value(&valid);\n+        if(valid)\n+        {\n+            if(val > 0)\n+                rv |= StepDownEnabled;\n+            if(val < BitcoinUnits::maxMoney())\n+                rv |= StepUpEnabled;\n+        }\n+        return rv;\n+    }\n+\n signals:\n     void valueChanged();\n };"
      }
    ]
  },
  {
    "sha": "80dd50ccba97fc7cd0d005f51622d6a2ad8dad84",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4MGRkNTBjY2JhOTdmYzdjZDBkMDA1ZjUxNjIyZDZhMmFkOGRhZDg0",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2015-01-13T10:51:45Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2015-01-13T10:51:45Z"
      },
      "message": "[Qt] group variables below initial if-clauses in AmountSpinBox::stepEnabled",
      "tree": {
        "sha": "c1c0839610fc7bde1f8a5110d841de0a8923d7dd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c1c0839610fc7bde1f8a5110d841de0a8923d7dd"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/80dd50ccba97fc7cd0d005f51622d6a2ad8dad84",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/80dd50ccba97fc7cd0d005f51622d6a2ad8dad84",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/80dd50ccba97fc7cd0d005f51622d6a2ad8dad84",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/80dd50ccba97fc7cd0d005f51622d6a2ad8dad84/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "0fd9e2bf43d217d9a76003476661c8ab53606548",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0fd9e2bf43d217d9a76003476661c8ab53606548",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0fd9e2bf43d217d9a76003476661c8ab53606548"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 3,
      "deletions": 2
    },
    "files": [
      {
        "sha": "4c00aca9858fcb3057b0b7670ae741c737d769f7",
        "filename": "src/qt/bitcoinamountfield.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/80dd50ccba97fc7cd0d005f51622d6a2ad8dad84/src/qt/bitcoinamountfield.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/80dd50ccba97fc7cd0d005f51622d6a2ad8dad84/src/qt/bitcoinamountfield.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoinamountfield.cpp?ref=80dd50ccba97fc7cd0d005f51622d6a2ad8dad84",
        "patch": "@@ -166,11 +166,12 @@ class AmountSpinBox: public QAbstractSpinBox\n \n     StepEnabled stepEnabled() const\n     {\n-        StepEnabled rv = 0;\n         if (isReadOnly()) // Disable steps when AmountSpinBox is read-only\n             return StepNone;\n-        if(text().isEmpty()) // Allow step-up with empty field\n+        if (text().isEmpty()) // Allow step-up with empty field\n             return StepUpEnabled;\n+\n+        StepEnabled rv = 0;\n         bool valid = false;\n         CAmount val = value(&valid);\n         if(valid)"
      }
    ]
  }
]