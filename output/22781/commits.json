[
  {
    "sha": "8733a8e84c4b2e484f6ed6159fcf5f29a360d42e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4NzMzYThlODRjNGIyZTQ4NGY2ZWQ2MTU5ZmNmNWYyOWEzNjBkNDJl",
    "commit": {
      "author": {
        "name": "Saibato",
        "email": "saibato.naga@pm.me",
        "date": "2021-08-23T16:49:10Z"
      },
      "committer": {
        "name": "Saibato",
        "email": "saibato.naga@pm.me",
        "date": "2021-08-24T09:10:33Z"
      },
      "message": "the result of CWallet::IsHDEnabled() was initialized with true.\n\nBut in case of no keys or a blank hd wallet the iterator would be skipped\nand not set to false but true, since the loop would be not entered.\n\nThat had resulted in a wrong return and subsequent false HD and watch-only\nicon display in gui when reloading a wallet after closing.\n\nUpdate src/wallet/wallet.cpp\n\nCo-authored-by: Hennadii Stepanov <32963518+hebasto@users.noreply.github.com>",
      "tree": {
        "sha": "ae724fe57020e509aeecc8c2c8cce6d3ba7d94ec",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ae724fe57020e509aeecc8c2c8cce6d3ba7d94ec"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8733a8e84c4b2e484f6ed6159fcf5f29a360d42e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8733a8e84c4b2e484f6ed6159fcf5f29a360d42e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8733a8e84c4b2e484f6ed6159fcf5f29a360d42e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8733a8e84c4b2e484f6ed6159fcf5f29a360d42e/comments",
    "author": {
      "login": "Saibato",
      "id": 34917548,
      "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Saibato",
      "html_url": "https://github.com/Saibato",
      "followers_url": "https://api.github.com/users/Saibato/followers",
      "following_url": "https://api.github.com/users/Saibato/following{/other_user}",
      "gists_url": "https://api.github.com/users/Saibato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
      "organizations_url": "https://api.github.com/users/Saibato/orgs",
      "repos_url": "https://api.github.com/users/Saibato/repos",
      "events_url": "https://api.github.com/users/Saibato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Saibato/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Saibato",
      "id": 34917548,
      "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Saibato",
      "html_url": "https://github.com/Saibato",
      "followers_url": "https://api.github.com/users/Saibato/followers",
      "following_url": "https://api.github.com/users/Saibato/following{/other_user}",
      "gists_url": "https://api.github.com/users/Saibato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
      "organizations_url": "https://api.github.com/users/Saibato/orgs",
      "repos_url": "https://api.github.com/users/Saibato/repos",
      "events_url": "https://api.github.com/users/Saibato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Saibato/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "eb09c26724e3f714b613788fc506f2ff3a208d2c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eb09c26724e3f714b613788fc506f2ff3a208d2c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/eb09c26724e3f714b613788fc506f2ff3a208d2c"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 3,
      "deletions": 2
    },
    "files": [
      {
        "sha": "6fcede07dc4f3c16bd8af06a08076004f4b10022",
        "filename": "src/wallet/wallet.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8733a8e84c4b2e484f6ed6159fcf5f29a360d42e/src/wallet/wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8733a8e84c4b2e484f6ed6159fcf5f29a360d42e/src/wallet/wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.cpp?ref=8733a8e84c4b2e484f6ed6159fcf5f29a360d42e",
        "patch": "@@ -1364,9 +1364,10 @@ CAmount CWallet::GetDebit(const CTransaction& tx, const isminefilter& filter) co\n bool CWallet::IsHDEnabled() const\n {\n     // All Active ScriptPubKeyMans must be HD for this to be true\n-    bool result = true;\n+    bool result = false;\n     for (const auto& spk_man : GetActiveScriptPubKeyMans()) {\n-        result &= spk_man->IsHDEnabled();\n+        if (!spk_man->IsHDEnabled()) return false;\n+        result = true;\n     }\n     return result;\n }"
      }
    ]
  }
]