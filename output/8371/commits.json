[
  {
    "sha": "0904c3cda4d1f40d41154bd9b2739660bdf12852",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowOTA0YzNjZGE0ZDFmNDBkNDExNTRiZDliMjczOTY2MGJkZjEyODUy",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-07-19T13:22:01Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-08-26T07:53:09Z"
      },
      "message": "[Refactor] refactor function that forms human readable text out of a timeoffset",
      "tree": {
        "sha": "0dbd125588b7d8979a08e37e469c012765b14f07",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0dbd125588b7d8979a08e37e469c012765b14f07"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0904c3cda4d1f40d41154bd9b2739660bdf12852",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJXv/VlAAoJECnUvLZBb1PsgTYQAJNQvrKb8/phzeFfQVntHZyy\nG59ZWR0tpktrXethavaeFSwfATuBNhMyB0g5SKo1U9sCygtJ2qd7imkTz/hzS2Tb\n57jtHG29dWpwTaIYNy6AL4EegG5+OmKiKpH/xbcFCTl8qiHd6JDHMlX2T5qEepYZ\nSy92B9YAgHKGHLHAryh/5XxWZ1+CkWTcRkxKFCSIFped7xtpXEbloV5J4X0jFQ9M\n5sCv6MM+v4E+TSa2vHXDdzQ7yvO+57oVuRHGUM/rq2usVsQ+UWx3qRVUC0GX1GAi\nKmjBmsdnopJeEJIQHMDltzUp8QEVE1NdItCc1EDg6et5q9DC1QL20DUgFLZercMH\nFItFT6pNLnd2A+DOfVBgZdGKk2TU4hCvi/HkeNwmukoG+wmpi/GpLMMP8x3HakYk\n7xvXl+MJUjUxDxChyTuetrjBzFkfd1iucJFV/gUg2wQO3Q9TvuZScx0mOTLbXu75\nVu6p/8wyF4/58lPQIDKkSlZdFs/1p2kjU0U0mhOnUXKoxycwvSvGcqbhuLhlkQ29\n2uaCuwnGylV5FGLVOVKS6arQfHp4upEHIH4j5H25LXaL/TAm9er1HVei6MbMGKFX\nyOGf7MVJ4zmVG3p9h12FCtFbo4NbSeHkyAkoki5yYW1w+cH9+z6jrc8Cpbn/twQO\nWdpSP5tUootARer0rf64\n=LTui\n-----END PGP SIGNATURE-----",
        "payload": "tree 0dbd125588b7d8979a08e37e469c012765b14f07\nparent 53f8f226bd1d627c4a6dec5862a1d4ea5a933e45\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1468934521 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1472197989 +0200\n\n[Refactor] refactor function that forms human readable text out of a timeoffset\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0904c3cda4d1f40d41154bd9b2739660bdf12852",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0904c3cda4d1f40d41154bd9b2739660bdf12852",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0904c3cda4d1f40d41154bd9b2739660bdf12852/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "53f8f226bd1d627c4a6dec5862a1d4ea5a933e45",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/53f8f226bd1d627c4a6dec5862a1d4ea5a933e45",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/53f8f226bd1d627c4a6dec5862a1d4ea5a933e45"
      }
    ],
    "stats": {
      "total": 63,
      "additions": 39,
      "deletions": 24
    },
    "files": [
      {
        "sha": "b3cd7cfbcad939bcc89722b2d6493eb24ccb1ee5",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 24,
        "changes": 25,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0904c3cda4d1f40d41154bd9b2739660bdf12852/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0904c3cda4d1f40d41154bd9b2739660bdf12852/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=0904c3cda4d1f40d41154bd9b2739660bdf12852",
        "patch": "@@ -762,30 +762,7 @@ void BitcoinGUI::setNumBlocks(int count, const QDateTime& blockDate, double nVer\n     }\n     else\n     {\n-        // Represent time from last generated block in human readable text\n-        QString timeBehindText;\n-        const int HOUR_IN_SECONDS = 60*60;\n-        const int DAY_IN_SECONDS = 24*60*60;\n-        const int WEEK_IN_SECONDS = 7*24*60*60;\n-        const int YEAR_IN_SECONDS = 31556952; // Average length of year in Gregorian calendar\n-        if(secs < 2*DAY_IN_SECONDS)\n-        {\n-            timeBehindText = tr(\"%n hour(s)\",\"\",secs/HOUR_IN_SECONDS);\n-        }\n-        else if(secs < 2*WEEK_IN_SECONDS)\n-        {\n-            timeBehindText = tr(\"%n day(s)\",\"\",secs/DAY_IN_SECONDS);\n-        }\n-        else if(secs < YEAR_IN_SECONDS)\n-        {\n-            timeBehindText = tr(\"%n week(s)\",\"\",secs/WEEK_IN_SECONDS);\n-        }\n-        else\n-        {\n-            qint64 years = secs / YEAR_IN_SECONDS;\n-            qint64 remainder = secs % YEAR_IN_SECONDS;\n-            timeBehindText = tr(\"%1 and %2\").arg(tr(\"%n year(s)\", \"\", years)).arg(tr(\"%n week(s)\",\"\", remainder/WEEK_IN_SECONDS));\n-        }\n+        QString timeBehindText = GUIUtil::formateNiceTimeOffset(secs);\n \n         progressBarLabel->setVisible(true);\n         progressBar->setFormat(tr(\"%1 behind\").arg(timeBehindText));"
      },
      {
        "sha": "fe9de1c7a1bfdca568f36557100726684c4f8233",
        "filename": "src/qt/guiutil.cpp",
        "status": "modified",
        "additions": 36,
        "deletions": 0,
        "changes": 36,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0904c3cda4d1f40d41154bd9b2739660bdf12852/src/qt/guiutil.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0904c3cda4d1f40d41154bd9b2739660bdf12852/src/qt/guiutil.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiutil.cpp?ref=0904c3cda4d1f40d41154bd9b2739660bdf12852",
        "patch": "@@ -952,4 +952,40 @@ QString formatTimeOffset(int64_t nTimeOffset)\n   return QString(QObject::tr(\"%1 s\")).arg(QString::number((int)nTimeOffset, 10));\n }\n \n+QString formateNiceTimeOffset(qint64 secs)\n+{\n+    // Represent time from last generated block in human readable text\n+    QString timeBehindText;\n+    const int HOUR_IN_SECONDS = 60*60;\n+    const int DAY_IN_SECONDS = 24*60*60;\n+    const int WEEK_IN_SECONDS = 7*24*60*60;\n+    const int YEAR_IN_SECONDS = 31556952; // Average length of year in Gregorian calendar\n+    if(secs < 60)\n+    {\n+        timeBehindText = QObject::tr(\"%n seconds(s)\",\"\",secs);\n+    }\n+    else if(secs < 2*HOUR_IN_SECONDS)\n+    {\n+        timeBehindText = QObject::tr(\"%n minutes(s)\",\"\",secs/60);\n+    }\n+    else if(secs < 2*DAY_IN_SECONDS)\n+    {\n+        timeBehindText = QObject::tr(\"%n hour(s)\",\"\",secs/HOUR_IN_SECONDS);\n+    }\n+    else if(secs < 2*WEEK_IN_SECONDS)\n+    {\n+        timeBehindText = QObject::tr(\"%n day(s)\",\"\",secs/DAY_IN_SECONDS);\n+    }\n+    else if(secs < YEAR_IN_SECONDS)\n+    {\n+        timeBehindText = QObject::tr(\"%n week(s)\",\"\",secs/WEEK_IN_SECONDS);\n+    }\n+    else\n+    {\n+        qint64 years = secs / YEAR_IN_SECONDS;\n+        qint64 remainder = secs % YEAR_IN_SECONDS;\n+        timeBehindText = QObject::tr(\"%1 and %2\").arg(QObject::tr(\"%n year(s)\", \"\", years)).arg(QObject::tr(\"%n week(s)\",\"\", remainder/WEEK_IN_SECONDS));\n+    }\n+    return timeBehindText;\n+}\n } // namespace GUIUtil"
      },
      {
        "sha": "7697e53ae9f3d6e0e3312880dd364f4c5f0bbf41",
        "filename": "src/qt/guiutil.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0904c3cda4d1f40d41154bd9b2739660bdf12852/src/qt/guiutil.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0904c3cda4d1f40d41154bd9b2739660bdf12852/src/qt/guiutil.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiutil.h?ref=0904c3cda4d1f40d41154bd9b2739660bdf12852",
        "patch": "@@ -200,6 +200,8 @@ namespace GUIUtil\n     /* Format a CNodeCombinedStats.nTimeOffset into a user-readable string. */\n     QString formatTimeOffset(int64_t nTimeOffset);\n \n+    QString formateNiceTimeOffset(qint64 secs);\n+\n #if defined(Q_OS_MAC) && QT_VERSION >= 0x050000\n     // workaround for Qt OSX Bug:\n     // https://bugreports.qt-project.org/browse/QTBUG-15631"
      }
    ]
  },
  {
    "sha": "bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiZDQ0YTA0ZGMzZmU5NGQyNzY0ZmFkZDlmOWE3ZGViODFmZjQ5ZjQ1",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-07-19T13:27:14Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-08-26T07:53:09Z"
      },
      "message": "[Qt] make Out-Of-Sync warning icon clickable",
      "tree": {
        "sha": "ebfd15a3a1c3d083c1b16b147839001e66121549",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ebfd15a3a1c3d083c1b16b147839001e66121549"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJXv/VlAAoJECnUvLZBb1Ps20oQAJ/hER8KhMV/pcxUwqRJ6m+S\nx5CwOizdaFaqF4z/+juVDuAGUKhE5Z/sf3Gn5d5lCbsHHdwrPJEoMctz2zy0rwJ+\nInvPqFH0myZ17RMrNijSdETYbwbwvnVM+Wty5DC4YhuW69dLtXSt62U4IooZhfm2\nAGHpxmbySEVwupWTG4v+EL7hLAru1EW9epdjMHsKVcGYKQi42Rt3X6iEaAfLJdf6\nhMCetGx8zvfOX/1qjOsY3h1kJzOggOCtkVFW3lr/+R2JCHGbjqaVZpx70kpCQpmM\nnpO5Dp6HQmPYN397zX1Rin/eVJwQ+eoZj9uB2CDKFfGKOOChDEMKGLRUQONLE8Gw\naiDv3Ba4K8c31cpvMViD/hb2m6C2A1vPkJlFwwato2VZrJe24AgXxs6I5TuaEBbr\nqL350f845EX3l7t6NMwMVw13q1L3qdzvaf+Yx0IPD4oa2dji1IRWxCWJr0lO2pqO\nUWHgAA7FyrcFTO79P2pCmpvhoJV4m0rqsOZ36IguB7HPzWPRCi0oHtfn8YP/mqOP\nQWUryKCQ2zCunMFUUzQVwGhHO/rtJ8SiSpTp7gHZV/ccLQcuGYaATUT6cNHPDaW7\nOkWRHPQM/nV3yewCXGFXOF1Hd1AXf9gF3iT65mO0HMbnlPmYcOXClNhwY2nEgEGQ\np+W5o9GT7naRQAdw6X73\n=jMY6\n-----END PGP SIGNATURE-----",
        "payload": "tree ebfd15a3a1c3d083c1b16b147839001e66121549\nparent 0904c3cda4d1f40d41154bd9b2739660bdf12852\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1468934834 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1472197989 +0200\n\n[Qt] make Out-Of-Sync warning icon clickable\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0904c3cda4d1f40d41154bd9b2739660bdf12852",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0904c3cda4d1f40d41154bd9b2739660bdf12852",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0904c3cda4d1f40d41154bd9b2739660bdf12852"
      }
    ],
    "stats": {
      "total": 36,
      "additions": 34,
      "deletions": 2
    },
    "files": [
      {
        "sha": "923ed689961011aa7695bcfcd24b2d0d31d09896",
        "filename": "src/qt/forms/overviewpage.ui",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/src/qt/forms/overviewpage.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/src/qt/forms/overviewpage.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/overviewpage.ui?ref=bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45",
        "patch": "@@ -61,7 +61,7 @@\n             <item>\n              <widget class=\"QPushButton\" name=\"labelWalletStatus\">\n               <property name=\"enabled\">\n-               <bool>false</bool>\n+               <bool>true</bool>\n               </property>\n               <property name=\"maximumSize\">\n                <size>\n@@ -447,7 +447,7 @@\n             <item>\n              <widget class=\"QPushButton\" name=\"labelTransactionsStatus\">\n               <property name=\"enabled\">\n-               <bool>false</bool>\n+               <bool>true</bool>\n               </property>\n               <property name=\"maximumSize\">\n                <size>"
      },
      {
        "sha": "e415a6c4dd2df234fe3456665703e44aeb814746",
        "filename": "src/qt/overviewpage.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/src/qt/overviewpage.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/src/qt/overviewpage.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/overviewpage.cpp?ref=bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45",
        "patch": "@@ -140,6 +140,8 @@ OverviewPage::OverviewPage(const PlatformStyle *platformStyle, QWidget *parent)\n \n     // start with displaying the \"out of sync\" warnings\n     showOutOfSyncWarning(true);\n+    connect(ui->labelWalletStatus, SIGNAL(clicked()), this, SLOT(handleOutOfSyncWarningClicks()));\n+    connect(ui->labelTransactionsStatus, SIGNAL(clicked()), this, SLOT(handleOutOfSyncWarningClicks()));\n }\n \n void OverviewPage::handleTransactionClicked(const QModelIndex &index)\n@@ -148,6 +150,11 @@ void OverviewPage::handleTransactionClicked(const QModelIndex &index)\n         Q_EMIT transactionClicked(filter->mapToSource(index));\n }\n \n+void OverviewPage::handleOutOfSyncWarningClicks()\n+{\n+    Q_EMIT outOfSyncWarningClicked();\n+}\n+\n OverviewPage::~OverviewPage()\n {\n     delete ui;"
      },
      {
        "sha": "65cd3341b6b4293e84289537916048a338bae460",
        "filename": "src/qt/overviewpage.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/src/qt/overviewpage.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/src/qt/overviewpage.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/overviewpage.h?ref=bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45",
        "patch": "@@ -42,6 +42,7 @@ public Q_SLOTS:\n \n Q_SIGNALS:\n     void transactionClicked(const QModelIndex &index);\n+    void outOfSyncWarningClicked();\n \n private:\n     Ui::OverviewPage *ui;\n@@ -62,6 +63,7 @@ private Q_SLOTS:\n     void handleTransactionClicked(const QModelIndex &index);\n     void updateAlerts(const QString &warnings);\n     void updateWatchOnlyLabels(bool showWatchOnly);\n+    void handleOutOfSyncWarningClicks();\n };\n \n #endif // BITCOIN_QT_OVERVIEWPAGE_H"
      },
      {
        "sha": "9d68e54e3a27bbf9a159ebc29dce67091dc027ba",
        "filename": "src/qt/walletframe.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/src/qt/walletframe.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/src/qt/walletframe.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.cpp?ref=bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45",
        "patch": "@@ -57,6 +57,8 @@ bool WalletFrame::addWallet(const QString& name, WalletModel *walletModel)\n     // Ensure a walletView is able to show the main window\n     connect(walletView, SIGNAL(showNormalIfMinimized()), gui, SLOT(showNormalIfMinimized()));\n \n+    connect(walletView, SIGNAL(outOfSyncWarningClicked()), this, SLOT(outOfSyncWarningClicked()));\n+\n     return true;\n }\n \n@@ -195,3 +197,7 @@ WalletView *WalletFrame::currentWalletView()\n     return qobject_cast<WalletView*>(walletStack->currentWidget());\n }\n \n+void WalletFrame::outOfSyncWarningClicked()\n+{\n+    Q_EMIT requestedOfSyncWarningInfo();\n+}\n\\ No newline at end of file"
      },
      {
        "sha": "7e3a5690eb00a46056ff0c97a37efd16f7d6a755",
        "filename": "src/qt/walletframe.h",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/src/qt/walletframe.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/src/qt/walletframe.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.h?ref=bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45",
        "patch": "@@ -38,6 +38,10 @@ class WalletFrame : public QFrame\n \n     void showOutOfSyncWarning(bool fShow);\n \n+Q_SIGNALS:\n+    /** Notify that the user has requested more information about the out-of-sync warning */\n+    void requestedOfSyncWarningInfo();\n+\n private:\n     QStackedWidget *walletStack;\n     BitcoinGUI *gui;\n@@ -78,6 +82,8 @@ public Q_SLOTS:\n     void usedSendingAddresses();\n     /** Show used receiving addresses */\n     void usedReceivingAddresses();\n+    /** Pass on signal over requested out-of-sync-warning information */\n+    void outOfSyncWarningClicked();\n };\n \n #endif // BITCOIN_QT_WALLETFRAME_H"
      },
      {
        "sha": "656b21586f8387de90d9c4cbf85abea17cd7abcf",
        "filename": "src/qt/walletview.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/src/qt/walletview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/src/qt/walletview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.cpp?ref=bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45",
        "patch": "@@ -66,6 +66,7 @@ WalletView::WalletView(const PlatformStyle *platformStyle, QWidget *parent):\n \n     // Clicking on a transaction on the overview pre-selects the transaction on the transaction history page\n     connect(overviewPage, SIGNAL(transactionClicked(QModelIndex)), transactionView, SLOT(focusTransaction(QModelIndex)));\n+    connect(overviewPage, SIGNAL(outOfSyncWarningClicked()), this, SLOT(requestedOfSyncWarningInfo()));\n \n     // Double-clicking on a transaction on the transaction history page shows details\n     connect(transactionView, SIGNAL(doubleClicked(QModelIndex)), transactionView, SLOT(showDetails()));\n@@ -322,3 +323,8 @@ void WalletView::showProgress(const QString &title, int nProgress)\n     else if (progressDialog)\n         progressDialog->setValue(nProgress);\n }\n+\n+void WalletView::requestedOfSyncWarningInfo()\n+{\n+    Q_EMIT outOfSyncWarningClicked();\n+}"
      },
      {
        "sha": "c0a27ab98970d4da88dffe9524f5b290cbba460d",
        "filename": "src/qt/walletview.h",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/src/qt/walletview.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45/src/qt/walletview.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.h?ref=bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45",
        "patch": "@@ -110,6 +110,9 @@ public Q_SLOTS:\n     /** Show progress dialog e.g. for rescan */\n     void showProgress(const QString &title, int nProgress);\n \n+    /** User has requested more information about the out of sync state */\n+    void requestedOfSyncWarningInfo();\n+\n Q_SIGNALS:\n     /** Signal that we want to show the main window */\n     void showNormalIfMinimized();\n@@ -121,6 +124,8 @@ public Q_SLOTS:\n     void hdEnabledStatusChanged(int hdEnabled);\n     /** Notify that a new transaction appeared */\n     void incomingTransaction(const QString& date, int unit, const CAmount& amount, const QString& type, const QString& address, const QString& label);\n+    /** Notify that the out of sync warning icon has been pressed */\n+    void outOfSyncWarningClicked();\n };\n \n #endif // BITCOIN_QT_WALLETVIEW_H"
      }
    ]
  },
  {
    "sha": "a001f1880283089d3eb0aa83e889d9707d79fd5f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphMDAxZjE4ODAyODMwODlkM2ViMGFhODNlODg5ZDk3MDdkNzlmZDVm",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-07-19T13:49:50Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-08-26T07:53:09Z"
      },
      "message": "[Qt] Always pass the numBlocksChanged signal for headers tip changed",
      "tree": {
        "sha": "1de8dacdf8f8aff2a6b4c36d70531aa5f97d474d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1de8dacdf8f8aff2a6b4c36d70531aa5f97d474d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a001f1880283089d3eb0aa83e889d9707d79fd5f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJXv/VlAAoJECnUvLZBb1PsEUEQAJ0XIu1fuANN3eeV0NQFZrQb\ncAAVQABvBCnRGOWOnBGcmEXQGdN8Wzq7nNiriDqLXG+YpmbWfiEgbabxFjpm+w4d\nqKiCPhhslHWqwnOXICNLUA+x5qkWtlr120Mv+AabakqHs2H/1PL9Yk8KeTjYw8S4\nNJIn83uRnfya179z66slcE8lBfVpNLlyfOlrfJ2Z1ESz6mzaBIsN+7prOsFfHVXP\nEReObuUoTzMs0voDt0t2XbI0lIOhxRIbcqK/cwwgTA+gDmlkK+nXMZ8Qjd34jYez\n20eqsNO6Bv3ZMVjE/OMGbVCtm//90pam1zgJZ7oPA7E1j02euvMzrh05LMlO4kAb\njh2RVyq1g2KRvFI5gj3OhIMeqKxiui9VYKWc+6vdU0vU6DxcKIivpBnQIVKVPffY\nGNqtP5HeveLHXmekuHn/dKsUfTcSisPvb99oLYLQRpg4LeSFzKjeeM1u1nKi0HZP\n3k6wpZmRcxPKbwkz9JiYl5WaAT8huUQ7Y/HCAoOvuUOB4/F4JhykEfRbv4uNUrnU\nciEmmWLHiMP26AESwrsB9k9ffCHviF8hUiP0XmAi8WDs0cyFut2re7+4bEdeo+fn\nV0tUqc1jmn2hl+/R1Zd4UJr3Yepon8xTroKN4UjxmfEkqDfgbsXuG7FQwjpzFitC\nQsIKlPo7xTKaEWdLvr80\n=lLiw\n-----END PGP SIGNATURE-----",
        "payload": "tree 1de8dacdf8f8aff2a6b4c36d70531aa5f97d474d\nparent bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1468936190 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1472197989 +0200\n\n[Qt] Always pass the numBlocksChanged signal for headers tip changed\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a001f1880283089d3eb0aa83e889d9707d79fd5f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a001f1880283089d3eb0aa83e889d9707d79fd5f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a001f1880283089d3eb0aa83e889d9707d79fd5f/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bd44a04dc3fe94d2764fadd9f9a7deb81ff49f45"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "30f412dd232f88db8246db9784de3911783938a6",
        "filename": "src/qt/clientmodel.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a001f1880283089d3eb0aa83e889d9707d79fd5f/src/qt/clientmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a001f1880283089d3eb0aa83e889d9707d79fd5f/src/qt/clientmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/clientmodel.cpp?ref=a001f1880283089d3eb0aa83e889d9707d79fd5f",
        "patch": "@@ -234,7 +234,7 @@ static void BlockTipChanged(ClientModel *clientmodel, bool initialSync, const CB\n     int64_t& nLastUpdateNotification = fHeader ? nLastHeaderTipUpdateNotification : nLastBlockTipUpdateNotification;\n \n     // if we are in-sync, update the UI regardless of last update time\n-    if (!initialSync || now - nLastUpdateNotification > MODEL_UPDATE_DELAY) {\n+    if (fHeader || !initialSync || now - nLastUpdateNotification > MODEL_UPDATE_DELAY) {\n         //pass a async signal to the UI thread\n         QMetaObject::invokeMethod(clientmodel, \"numBlocksChanged\", Qt::QueuedConnection,\n                                   Q_ARG(int, pIndex->nHeight),"
      }
    ]
  },
  {
    "sha": "e47052f6b5ea901ecdc1cb8245dd98a98b06618a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplNDcwNTJmNmI1ZWE5MDFlY2RjMWNiODI0NWRkOThhOThiMDY2MThh",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-07-19T13:50:50Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-08-26T07:53:09Z"
      },
      "message": "[Qt] ClientModel add method to get the height of the header chain",
      "tree": {
        "sha": "36ce56606cc4ce302091412264196a9df86a6705",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/36ce56606cc4ce302091412264196a9df86a6705"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e47052f6b5ea901ecdc1cb8245dd98a98b06618a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJXv/VlAAoJECnUvLZBb1PsRL4QAKbGlruW9O5H9B3e6daaM9Og\n2LX8Ery8u58b5e2fQp8rlPFuE2NVWx0rrCFWfmZFDPjzYJUXEZ+0eSPIXKPLJzv5\n1+c6ZnuEvZqZVodh6Uofi8Wm2Ttllx22L/7+3S2GChSeZ0lZC4AXDsXcPPBKILkI\nKv2ORxEjU5W/u4Ztqp51OgmSw811f5Pch4/j9nFUTMxZFIL1N+Y/F1yYGruYozUw\nBQDXrk76qIniIqfNtTQkftVCyn3Qn9ZnWCGKHvwuRYb2Yxsm+kzkczU9d73sAQ6X\n3eXmKUN41ymp6v3S4Cc6IVuXMbVbq/2GuZFPbQE/ziNNHjkx04lVktEQ6WW1UtCJ\ntkGE++qg0Cmri4igoDIRDn02MsoP0flc9Y9PxeCDWCHdqb8eY4bXQdUX6AmZgEtY\ni730J1IWa+8DJa8canr8RoXjBi56NUZXVOQrB6weTLxxYeIk6EeYD4PHtrA6J4RU\n0laJUTX2x+ZhQFGbfNGqZMjWOpIG8dn7xat+LLqw/IYmU5j3i4/7oR2AUWsEpa2H\nY7j/2WCHcDOCQy+rTKgppEioftlN9KGOdAXQnJ+iz31EfXseh+I14XnIf8ghUT2+\n7JFZyjlZwRou9Ar+lYwbxPMM4DL4s5DiRXauHqoSTuXx75Y9p7eAUdY5CS6I9+Y5\nVDIcTijgsGMT9JYe+aZ3\n=epVA\n-----END PGP SIGNATURE-----",
        "payload": "tree 36ce56606cc4ce302091412264196a9df86a6705\nparent a001f1880283089d3eb0aa83e889d9707d79fd5f\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1468936250 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1472197989 +0200\n\n[Qt] ClientModel add method to get the height of the header chain\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e47052f6b5ea901ecdc1cb8245dd98a98b06618a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e47052f6b5ea901ecdc1cb8245dd98a98b06618a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e47052f6b5ea901ecdc1cb8245dd98a98b06618a/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a001f1880283089d3eb0aa83e889d9707d79fd5f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a001f1880283089d3eb0aa83e889d9707d79fd5f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a001f1880283089d3eb0aa83e889d9707d79fd5f"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 9,
      "deletions": 0
    },
    "files": [
      {
        "sha": "e3240b95a25f8b2b4cd3200dfcab72d49e66d386",
        "filename": "src/qt/clientmodel.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e47052f6b5ea901ecdc1cb8245dd98a98b06618a/src/qt/clientmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e47052f6b5ea901ecdc1cb8245dd98a98b06618a/src/qt/clientmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/clientmodel.cpp?ref=e47052f6b5ea901ecdc1cb8245dd98a98b06618a",
        "patch": "@@ -68,6 +68,14 @@ int ClientModel::getNumBlocks() const\n     return chainActive.Height();\n }\n \n+int ClientModel::getHeaderHeight() const\n+{\n+    LOCK(cs_main);\n+    if (!pindexBestHeader)\n+        return 0;\n+    return pindexBestHeader->nHeight;\n+}\n+\n quint64 ClientModel::getTotalBytesRecv() const\n {\n     return CNode::GetTotalBytesRecv();"
      },
      {
        "sha": "f0c9a7988a62e6d8ba1cf73d0fd4978c05d08e2a",
        "filename": "src/qt/clientmodel.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e47052f6b5ea901ecdc1cb8245dd98a98b06618a/src/qt/clientmodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e47052f6b5ea901ecdc1cb8245dd98a98b06618a/src/qt/clientmodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/clientmodel.h?ref=e47052f6b5ea901ecdc1cb8245dd98a98b06618a",
        "patch": "@@ -51,6 +51,7 @@ class ClientModel : public QObject\n     //! Return number of connections, default is in- and outbound (total)\n     int getNumConnections(unsigned int flags = CONNECTIONS_ALL) const;\n     int getNumBlocks() const;\n+    int getHeaderHeight() const;\n \n     //! Return number of transactions in the mempool\n     long getMempoolSize() const;"
      }
    ]
  },
  {
    "sha": "e3245b43d5c6fc984e8c60495f6db54f85d64368",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplMzI0NWI0M2Q1YzZmYzk4NGU4YzYwNDk1ZjZkYjU0Zjg1ZDY0MzY4",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-07-19T13:51:24Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-08-26T09:34:30Z"
      },
      "message": "[Qt] add out-of-sync modal info layer",
      "tree": {
        "sha": "3deac5cbe80a37cf8e1d3b60eb6d86a86b8cb249",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3deac5cbe80a37cf8e1d3b60eb6d86a86b8cb249"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e3245b43d5c6fc984e8c60495f6db54f85d64368",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJXwA0nAAoJECnUvLZBb1Ps8JcP/0w3CeobX/2Vg/jV47kiZZTq\n3amJPpZwJRnnFYpHGgw+38TOvGBb5KWZNyrXdOq0nNhhcjt2H4cOq9UJeUsvXhD8\n+uP5MnxDlx0J8oqstpaMY3lORCA05kCN+j1WZ8eTPS5rogTomYFnyHLvwu9czQwR\nhwDs/at83SeO0bHwtCNk3wLANy9Z/X+YsxRaHvrwmtG99/OUILTc4/RZPk6aTk/T\nH+CKk7Fu7tr1hWmukS1mCk8wz94y0BtltdQFJ1hOxzBO98gXzcOrb43BGZDxhK8Z\nUqUszjZQWTuCxyKTSG+dAFemCdVA/J010S3aKbc9jSNslJNJBbIUys87TuCQneHx\n6mG3UGPPTTYyiSqNF/Uf9/tL8EvVSTUA6iVzuONuMrbGL6R/dJldaih1W8DibJuQ\ncv/KfPHLVca3mkeDH4XURrh1iIOpl+WUfPdH0mwgdMOtAYkZdgoYY5Htjp56xlph\nuwYKC0lEGWuoZJ4vDhy2rGYp8+rGkRIMAzd75gpxEgcqVv94N4G3rYGtb1BuYAd6\n2KKE0CbuFteIWSpxMsUbg50tb+blBZ/vlkKYDV02CzYYm5Mmb6yoiA05ncfc0HdH\ndUw6Xzs/QZfa0NVnAf4/mGGCufalpJT5+SUVaVD7zFRaEWcEVD+/nT5fDSJBxifh\nPdEcMfkHcWp6+4z7BZut\n=aFkS\n-----END PGP SIGNATURE-----",
        "payload": "tree 3deac5cbe80a37cf8e1d3b60eb6d86a86b8cb249\nparent e47052f6b5ea901ecdc1cb8245dd98a98b06618a\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1468936284 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1472204070 +0200\n\n[Qt] add out-of-sync modal info layer\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e3245b43d5c6fc984e8c60495f6db54f85d64368",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e3245b43d5c6fc984e8c60495f6db54f85d64368",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e3245b43d5c6fc984e8c60495f6db54f85d64368/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e47052f6b5ea901ecdc1cb8245dd98a98b06618a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e47052f6b5ea901ecdc1cb8245dd98a98b06618a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e47052f6b5ea901ecdc1cb8245dd98a98b06618a"
      }
    ],
    "stats": {
      "total": 603,
      "additions": 602,
      "deletions": 1
    },
    "files": [
      {
        "sha": "ea9be82717e91ee0b6bdf8039056b715bf33b1c8",
        "filename": "src/Makefile.qt.include",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e3245b43d5c6fc984e8c60495f6db54f85d64368/src/Makefile.qt.include",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e3245b43d5c6fc984e8c60495f6db54f85d64368/src/Makefile.qt.include",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.qt.include?ref=e3245b43d5c6fc984e8c60495f6db54f85d64368",
        "patch": "@@ -96,6 +96,7 @@ QT_FORMS_UI = \\\n   qt/forms/editaddressdialog.ui \\\n   qt/forms/helpmessagedialog.ui \\\n   qt/forms/intro.ui \\\n+  qt/forms/modaloverlay.ui \\\n   qt/forms/openuridialog.ui \\\n   qt/forms/optionsdialog.ui \\\n   qt/forms/overviewpage.ui \\\n@@ -125,6 +126,7 @@ QT_MOC_CPP = \\\n   qt/moc_intro.cpp \\\n   qt/moc_macdockiconhandler.cpp \\\n   qt/moc_macnotificationhandler.cpp \\\n+  qt/moc_modaloverlay.cpp \\\n   qt/moc_notificator.cpp \\\n   qt/moc_openuridialog.cpp \\\n   qt/moc_optionsdialog.cpp \\\n@@ -192,6 +194,7 @@ BITCOIN_QT_H = \\\n   qt/intro.h \\\n   qt/macdockiconhandler.h \\\n   qt/macnotificationhandler.h \\\n+  qt/modaloverlay.h \\\n   qt/networkstyle.h \\\n   qt/notificator.h \\\n   qt/openuridialog.h \\\n@@ -292,6 +295,7 @@ BITCOIN_QT_CPP = \\\n   qt/csvmodelwriter.cpp \\\n   qt/guiutil.cpp \\\n   qt/intro.cpp \\\n+  qt/modaloverlay.cpp \\\n   qt/networkstyle.cpp \\\n   qt/notificator.cpp \\\n   qt/optionsdialog.cpp \\"
      },
      {
        "sha": "628d35b5ea8b546295cbd6e0ee3b6dfe17035f0c",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 30,
        "deletions": 1,
        "changes": 31,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e3245b43d5c6fc984e8c60495f6db54f85d64368/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e3245b43d5c6fc984e8c60495f6db54f85d64368/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=e3245b43d5c6fc984e8c60495f6db54f85d64368",
        "patch": "@@ -12,6 +12,7 @@\n #include \"clientmodel.h\"\n #include \"guiconstants.h\"\n #include \"guiutil.h\"\n+#include \"modaloverlay.h\"\n #include \"networkstyle.h\"\n #include \"notificator.h\"\n #include \"openuridialog.h\"\n@@ -114,6 +115,7 @@ BitcoinGUI::BitcoinGUI(const PlatformStyle *platformStyle, const NetworkStyle *n\n     notificator(0),\n     rpcConsole(0),\n     helpMessageDialog(0),\n+    modalOverlay(0),\n     prevBlocks(0),\n     spinnerFrame(0),\n     platformStyle(platformStyle)\n@@ -241,6 +243,12 @@ BitcoinGUI::BitcoinGUI(const PlatformStyle *platformStyle, const NetworkStyle *n\n \n     // Subscribe to notifications from core\n     subscribeToCoreSignals();\n+\n+    modalOverlay = new ModalOverlay(this->centralWidget());\n+#ifdef ENABLE_WALLET\n+    if(enableWallet)\n+        connect(walletFrame, SIGNAL(requestedOfSyncWarningInfo()), this, SLOT(showModalOverlay()));\n+#endif\n }\n \n BitcoinGUI::~BitcoinGUI()\n@@ -491,6 +499,8 @@ void BitcoinGUI::setClientModel(ClientModel *clientModel)\n             // initialize the disable state of the tray icon with the current value in the model.\n             setTrayIconVisible(optionsModel->getHideTrayIcon());\n         }\n+\n+        modalOverlay->setKnownBestHeight(clientModel->getHeaderHeight());\n     } else {\n         // Disable possibility to show main window via action\n         toggleHideAction->setEnabled(false);\n@@ -705,7 +715,14 @@ void BitcoinGUI::setNumConnections(int count)\n \n void BitcoinGUI::setNumBlocks(int count, const QDateTime& blockDate, double nVerificationProgress, bool header)\n {\n-    if(!clientModel)\n+    if (modalOverlay)\n+    {\n+        if (header)\n+            modalOverlay->setKnownBestHeight(count);\n+        else\n+            modalOverlay->tipUpdate(count, blockDate, nVerificationProgress);\n+    }\n+    if (!clientModel)\n         return;\n \n     // Prevent orphan statusbar messages (e.g. hover Quit in main menu, wait until chain-sync starts -> garbelled text)\n@@ -754,7 +771,10 @@ void BitcoinGUI::setNumBlocks(int count, const QDateTime& blockDate, double nVer\n \n #ifdef ENABLE_WALLET\n         if(walletFrame)\n+        {\n             walletFrame->showOutOfSyncWarning(false);\n+            modalOverlay->showHide(true, true);\n+        }\n #endif // ENABLE_WALLET\n \n         progressBarLabel->setVisible(false);\n@@ -782,7 +802,10 @@ void BitcoinGUI::setNumBlocks(int count, const QDateTime& blockDate, double nVer\n \n #ifdef ENABLE_WALLET\n         if(walletFrame)\n+        {\n             walletFrame->showOutOfSyncWarning(true);\n+            modalOverlay->showHide();\n+        }\n #endif // ENABLE_WALLET\n \n         tooltip += QString(\"<br>\");\n@@ -1078,6 +1101,12 @@ void BitcoinGUI::setTrayIconVisible(bool fHideTrayIcon)\n     }\n }\n \n+void BitcoinGUI::showModalOverlay()\n+{\n+    if (modalOverlay)\n+        modalOverlay->showHide(false, true);\n+}\n+\n static bool ThreadSafeMessageBox(BitcoinGUI *gui, const std::string& message, const std::string& caption, unsigned int style)\n {\n     bool modal = (style & CClientUIInterface::MODAL);"
      },
      {
        "sha": "0eaa44b263ac51ba7a03f07235ef5a71344a0cd2",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e3245b43d5c6fc984e8c60495f6db54f85d64368/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e3245b43d5c6fc984e8c60495f6db54f85d64368/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=e3245b43d5c6fc984e8c60495f6db54f85d64368",
        "patch": "@@ -29,6 +29,7 @@ class UnitDisplayStatusBarControl;\n class WalletFrame;\n class WalletModel;\n class HelpMessageDialog;\n+class ModalOverlay;\n \n class CWallet;\n \n@@ -118,6 +119,7 @@ class BitcoinGUI : public QMainWindow\n     Notificator *notificator;\n     RPCConsole *rpcConsole;\n     HelpMessageDialog *helpMessageDialog;\n+    ModalOverlay *modalOverlay;\n \n     /** Keep track of previous number of blocks, to detect progress */\n     int prevBlocks;\n@@ -229,6 +231,8 @@ private Q_SLOTS:\n     \n     /** When hideTrayIcon setting is changed in OptionsModel hide or show the icon accordingly. */\n     void setTrayIconVisible(bool);\n+\n+    void showModalOverlay();\n };\n \n class UnitDisplayStatusBarControl : public QLabel"
      },
      {
        "sha": "f1967a7c057213b2d958fb78ebc38a41ca56ac3c",
        "filename": "src/qt/forms/modaloverlay.ui",
        "status": "added",
        "additions": 370,
        "deletions": 0,
        "changes": 370,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e3245b43d5c6fc984e8c60495f6db54f85d64368/src/qt/forms/modaloverlay.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e3245b43d5c6fc984e8c60495f6db54f85d64368/src/qt/forms/modaloverlay.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/modaloverlay.ui?ref=e3245b43d5c6fc984e8c60495f6db54f85d64368",
        "patch": "@@ -0,0 +1,370 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<ui version=\"4.0\">\n+ <class>ModalOverlay</class>\n+ <widget class=\"ModalOverlay\" name=\"ModalOverlay\">\n+  <property name=\"geometry\">\n+   <rect>\n+    <x>0</x>\n+    <y>0</y>\n+    <width>640</width>\n+    <height>385</height>\n+   </rect>\n+  </property>\n+  <property name=\"windowTitle\">\n+   <string>Form</string>\n+  </property>\n+  <layout class=\"QVBoxLayout\" name=\"verticalLayout\" stretch=\"0\">\n+   <property name=\"sizeConstraint\">\n+    <enum>QLayout::SetDefaultConstraint</enum>\n+   </property>\n+   <property name=\"leftMargin\">\n+    <number>0</number>\n+   </property>\n+   <property name=\"topMargin\">\n+    <number>0</number>\n+   </property>\n+   <property name=\"rightMargin\">\n+    <number>0</number>\n+   </property>\n+   <property name=\"bottomMargin\">\n+    <number>0</number>\n+   </property>\n+   <item>\n+    <widget class=\"QWidget\" name=\"bgWidget\" native=\"true\">\n+     <property name=\"styleSheet\">\n+      <string notr=\"true\">#bgWidget { background: rgba(0,0,0,220); }</string>\n+     </property>\n+     <layout class=\"QVBoxLayout\" name=\"verticalLayoutMain\" stretch=\"1\">\n+      <property name=\"leftMargin\">\n+       <number>60</number>\n+      </property>\n+      <property name=\"topMargin\">\n+       <number>60</number>\n+      </property>\n+      <property name=\"rightMargin\">\n+       <number>60</number>\n+      </property>\n+      <property name=\"bottomMargin\">\n+       <number>60</number>\n+      </property>\n+      <item>\n+       <widget class=\"QWidget\" name=\"contentWidget\" native=\"true\">\n+        <property name=\"styleSheet\">\n+         <string notr=\"true\">#contentWidget { background: rgba(255,255,255,240); border-radius: 6px; }\n+\n+QLabel { color: rgb(40,40,40);  }</string>\n+        </property>\n+        <layout class=\"QVBoxLayout\" name=\"verticalLayoutSub\" stretch=\"1,0,0,0\">\n+         <property name=\"spacing\">\n+          <number>0</number>\n+         </property>\n+         <property name=\"leftMargin\">\n+          <number>10</number>\n+         </property>\n+         <property name=\"topMargin\">\n+          <number>10</number>\n+         </property>\n+         <property name=\"rightMargin\">\n+          <number>10</number>\n+         </property>\n+         <property name=\"bottomMargin\">\n+          <number>10</number>\n+         </property>\n+         <item>\n+          <layout class=\"QHBoxLayout\" name=\"horizontalLayoutIconText\" stretch=\"0,1\">\n+           <property name=\"topMargin\">\n+            <number>20</number>\n+           </property>\n+           <item>\n+            <layout class=\"QVBoxLayout\" name=\"verticalLayoutIcon\">\n+             <property name=\"leftMargin\">\n+              <number>0</number>\n+             </property>\n+             <item>\n+              <widget class=\"QPushButton\" name=\"warningIcon\">\n+               <property name=\"text\">\n+                <string/>\n+               </property>\n+               <property name=\"icon\">\n+                <iconset>\n+                 <normaloff>:/icons/warning</normaloff>\n+                 <disabledoff>:/icons/warning</disabledoff>:/icons/warning</iconset>\n+               </property>\n+               <property name=\"iconSize\">\n+                <size>\n+                 <width>48</width>\n+                 <height>48</height>\n+                </size>\n+               </property>\n+               <property name=\"flat\">\n+                <bool>true</bool>\n+               </property>\n+              </widget>\n+             </item>\n+             <item>\n+              <spacer name=\"verticalSpacerWarningIcon\">\n+               <property name=\"orientation\">\n+                <enum>Qt::Vertical</enum>\n+               </property>\n+               <property name=\"sizeHint\" stdset=\"0\">\n+                <size>\n+                 <width>20</width>\n+                 <height>40</height>\n+                </size>\n+               </property>\n+              </spacer>\n+             </item>\n+            </layout>\n+           </item>\n+           <item>\n+            <layout class=\"QVBoxLayout\" name=\"verticalLayoutInfoText\">\n+             <property name=\"leftMargin\">\n+              <number>0</number>\n+             </property>\n+             <property name=\"topMargin\">\n+              <number>0</number>\n+             </property>\n+             <item>\n+              <widget class=\"QLabel\" name=\"infoText\">\n+               <property name=\"text\">\n+                <string>The displayed information may be out of date. Your wallet automatically synchronizes with the Bitcoin network after a connection is established, but this process has not completed yet.</string>\n+               </property>\n+               <property name=\"textFormat\">\n+                <enum>Qt::RichText</enum>\n+               </property>\n+               <property name=\"wordWrap\">\n+                <bool>true</bool>\n+               </property>\n+              </widget>\n+             </item>\n+             <item>\n+              <widget class=\"QLabel\" name=\"infoTextStrong\">\n+               <property name=\"font\">\n+                <font>\n+                 <weight>75</weight>\n+                 <bold>true</bold>\n+                </font>\n+               </property>\n+               <property name=\"text\">\n+                <string>This means that recent transactions will not be visible, and the balance will not be up-to-date until this process has completed. Spending bitcoins is not possible during that phase!</string>\n+               </property>\n+               <property name=\"textFormat\">\n+                <enum>Qt::RichText</enum>\n+               </property>\n+               <property name=\"wordWrap\">\n+                <bool>true</bool>\n+               </property>\n+              </widget>\n+             </item>\n+             <item>\n+              <spacer name=\"verticalSpacerInTextSpace\">\n+               <property name=\"orientation\">\n+                <enum>Qt::Vertical</enum>\n+               </property>\n+               <property name=\"sizeHint\" stdset=\"0\">\n+                <size>\n+                 <width>20</width>\n+                 <height>40</height>\n+                </size>\n+               </property>\n+              </spacer>\n+             </item>\n+            </layout>\n+           </item>\n+          </layout>\n+         </item>\n+         <item>\n+          <spacer name=\"verticalSpacerAfterText\">\n+           <property name=\"orientation\">\n+            <enum>Qt::Vertical</enum>\n+           </property>\n+           <property name=\"sizeHint\" stdset=\"0\">\n+            <size>\n+             <width>20</width>\n+             <height>40</height>\n+            </size>\n+           </property>\n+          </spacer>\n+         </item>\n+         <item>\n+          <layout class=\"QFormLayout\" name=\"formLayout\">\n+           <property name=\"fieldGrowthPolicy\">\n+            <enum>QFormLayout::FieldsStayAtSizeHint</enum>\n+           </property>\n+           <property name=\"horizontalSpacing\">\n+            <number>6</number>\n+           </property>\n+           <property name=\"verticalSpacing\">\n+            <number>6</number>\n+           </property>\n+           <property name=\"topMargin\">\n+            <number>10</number>\n+           </property>\n+           <item row=\"0\" column=\"0\">\n+            <widget class=\"QLabel\" name=\"labelAmoutOfBlocksLeft\">\n+             <property name=\"font\">\n+              <font>\n+               <weight>75</weight>\n+               <bold>true</bold>\n+              </font>\n+             </property>\n+             <property name=\"text\">\n+              <string>Amount of blocks left</string>\n+             </property>\n+            </widget>\n+           </item>\n+           <item row=\"0\" column=\"1\">\n+            <widget class=\"QLabel\" name=\"amountOfBlocksLeft\">\n+             <property name=\"text\">\n+              <string>unknown...</string>\n+             </property>\n+            </widget>\n+           </item>\n+           <item row=\"1\" column=\"0\">\n+            <widget class=\"QLabel\" name=\"labelLastBlockTime\">\n+             <property name=\"font\">\n+              <font>\n+               <weight>75</weight>\n+               <bold>true</bold>\n+              </font>\n+             </property>\n+             <property name=\"text\">\n+              <string>Last block time</string>\n+             </property>\n+            </widget>\n+           </item>\n+           <item row=\"1\" column=\"1\">\n+            <widget class=\"QLabel\" name=\"newestBlockDate\">\n+             <property name=\"sizePolicy\">\n+              <sizepolicy hsizetype=\"Maximum\" vsizetype=\"Preferred\">\n+               <horstretch>0</horstretch>\n+               <verstretch>0</verstretch>\n+              </sizepolicy>\n+             </property>\n+             <property name=\"text\">\n+              <string>unknown...</string>\n+             </property>\n+            </widget>\n+           </item>\n+           <item row=\"2\" column=\"0\">\n+            <widget class=\"QLabel\" name=\"labelSyncDone\">\n+             <property name=\"font\">\n+              <font>\n+               <weight>75</weight>\n+               <bold>true</bold>\n+              </font>\n+             </property>\n+             <property name=\"text\">\n+              <string>Progress</string>\n+             </property>\n+            </widget>\n+           </item>\n+           <item row=\"2\" column=\"1\">\n+            <layout class=\"QHBoxLayout\" name=\"horizontalLayoutSync\" stretch=\"0,1\">\n+             <item>\n+              <widget class=\"QLabel\" name=\"percentageProgress\">\n+               <property name=\"text\">\n+                <string>~</string>\n+               </property>\n+              </widget>\n+             </item>\n+             <item>\n+              <widget class=\"QProgressBar\" name=\"progressBar\">\n+               <property name=\"value\">\n+                <number>24</number>\n+               </property>\n+              </widget>\n+             </item>\n+            </layout>\n+           </item>\n+           <item row=\"4\" column=\"0\">\n+            <widget class=\"QLabel\" name=\"labelProgressIncrease\">\n+             <property name=\"font\">\n+              <font>\n+               <weight>75</weight>\n+               <bold>true</bold>\n+              </font>\n+             </property>\n+             <property name=\"text\">\n+              <string>Progress increase per Hour</string>\n+             </property>\n+            </widget>\n+           </item>\n+           <item row=\"4\" column=\"1\">\n+            <widget class=\"QLabel\" name=\"progressIncreasePerH\">\n+             <property name=\"text\">\n+              <string>calculating...</string>\n+             </property>\n+            </widget>\n+           </item>\n+           <item row=\"5\" column=\"0\">\n+            <widget class=\"QLabel\" name=\"labelEstimatedTimeLeft\">\n+             <property name=\"font\">\n+              <font>\n+               <weight>75</weight>\n+               <bold>true</bold>\n+              </font>\n+             </property>\n+             <property name=\"text\">\n+              <string>Estimated time left until synced</string>\n+             </property>\n+            </widget>\n+           </item>\n+           <item row=\"5\" column=\"1\">\n+            <widget class=\"QLabel\" name=\"expectedTimeLeft\">\n+             <property name=\"text\">\n+              <string>calculating...</string>\n+             </property>\n+            </widget>\n+           </item>\n+          </layout>\n+         </item>\n+         <item>\n+          <layout class=\"QHBoxLayout\" name=\"horizontalLayoutButtons\">\n+           <property name=\"leftMargin\">\n+            <number>10</number>\n+           </property>\n+           <property name=\"topMargin\">\n+            <number>10</number>\n+           </property>\n+           <item>\n+            <spacer name=\"horizontalSpacer\">\n+             <property name=\"orientation\">\n+              <enum>Qt::Horizontal</enum>\n+             </property>\n+             <property name=\"sizeHint\" stdset=\"0\">\n+              <size>\n+               <width>40</width>\n+               <height>20</height>\n+              </size>\n+             </property>\n+            </spacer>\n+           </item>\n+           <item>\n+            <widget class=\"QPushButton\" name=\"closeButton\">\n+             <property name=\"text\">\n+              <string>Hide</string>\n+             </property>\n+            </widget>\n+           </item>\n+          </layout>\n+         </item>\n+        </layout>\n+       </widget>\n+      </item>\n+     </layout>\n+    </widget>\n+   </item>\n+  </layout>\n+ </widget>\n+ <customwidgets>\n+  <customwidget>\n+   <class>ModalOverlay</class>\n+   <extends>QWidget</extends>\n+   <header>modaloverlay.h</header>\n+   <container>1</container>\n+  </customwidget>\n+ </customwidgets>\n+ <resources/>\n+ <connections/>\n+</ui>"
      },
      {
        "sha": "1cd5b199661b71ac9930930c77c138256f2f6964",
        "filename": "src/qt/modaloverlay.cpp",
        "status": "added",
        "additions": 150,
        "deletions": 0,
        "changes": 150,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e3245b43d5c6fc984e8c60495f6db54f85d64368/src/qt/modaloverlay.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e3245b43d5c6fc984e8c60495f6db54f85d64368/src/qt/modaloverlay.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/modaloverlay.cpp?ref=e3245b43d5c6fc984e8c60495f6db54f85d64368",
        "patch": "@@ -0,0 +1,150 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"modaloverlay.h\"\n+#include \"ui_modaloverlay.h\"\n+\n+#include \"guiutil.h\"\n+\n+#include <QResizeEvent>\n+#include <QPropertyAnimation>\n+\n+ModalOverlay::ModalOverlay(QWidget *parent) :\n+QWidget(parent),\n+ui(new Ui::ModalOverlay),\n+bestBlockHeight(0),\n+layerIsVisible(false),\n+userClosed(false)\n+{\n+    ui->setupUi(this);\n+    connect(ui->closeButton, SIGNAL(clicked()), this, SLOT(closeClicked()));\n+    if (parent) {\n+        parent->installEventFilter(this);\n+        raise();\n+    }\n+\n+    blockProcessTime.clear();\n+    setVisible(false);\n+}\n+\n+ModalOverlay::~ModalOverlay()\n+{\n+    delete ui;\n+}\n+\n+bool ModalOverlay::eventFilter(QObject * obj, QEvent * ev) {\n+    if (obj == parent()) {\n+        if (ev->type() == QEvent::Resize) {\n+            QResizeEvent * rev = static_cast<QResizeEvent*>(ev);\n+            resize(rev->size());\n+            if (!layerIsVisible)\n+                setGeometry(0, height(), width(), height());\n+\n+        }\n+        else if (ev->type() == QEvent::ChildAdded) {\n+            raise();\n+        }\n+    }\n+    return QWidget::eventFilter(obj, ev);\n+}\n+\n+//! Tracks parent widget changes\n+bool ModalOverlay::event(QEvent* ev) {\n+    if (ev->type() == QEvent::ParentAboutToChange) {\n+        if (parent()) parent()->removeEventFilter(this);\n+    }\n+    else if (ev->type() == QEvent::ParentChange) {\n+        if (parent()) {\n+            parent()->installEventFilter(this);\n+            raise();\n+        }\n+    }\n+    return QWidget::event(ev);\n+}\n+\n+void ModalOverlay::setKnownBestHeight(int count)\n+{\n+    if (count > bestBlockHeight)\n+        bestBlockHeight = count;\n+}\n+\n+void ModalOverlay::tipUpdate(int count, const QDateTime& blockDate, double nVerificationProgress)\n+{\n+    QDateTime currentDate = QDateTime::currentDateTime();\n+\n+    // keep a vector of samples of verification progress at height\n+    blockProcessTime.push_front(qMakePair(currentDate.currentMSecsSinceEpoch(), nVerificationProgress));\n+\n+    // show progress speed if we have more then one sample\n+    if (blockProcessTime.size() >= 2)\n+    {\n+        // try to get the window from the last 500 seconds or at least 10 samples\n+        double progressStart = blockProcessTime[0].second;\n+        double progressDelta = 0;\n+        double progressPerHour = 0;\n+        qint64 timeDelta = 0;\n+        qint64 remainingMSecs = 0;\n+        double remainingProgress = 1.0 - nVerificationProgress;\n+        for (int i = 1; i < blockProcessTime.size(); i++)\n+        {\n+            QPair<qint64, double> sample = blockProcessTime[i];\n+\n+            // take first sample after 500 seconds or last available one\n+            if (sample.first < (currentDate.currentMSecsSinceEpoch() - 500*1000) || i == blockProcessTime.size()-1)\n+            {\n+                progressDelta = progressStart-sample.second;\n+                timeDelta = blockProcessTime[0].first - sample.first;\n+                progressPerHour = progressDelta/(double)timeDelta*1000*3600;\n+                remainingMSecs = remainingProgress / progressDelta * timeDelta;\n+                break;\n+            }\n+        }\n+        // show progress increase per hour\n+        ui->progressIncreasePerH->setText(QString::number(progressPerHour*100, 'f', 2)+\"%\");\n+\n+        // show expected remaining time\n+        ui->expectedTimeLeft->setText(GUIUtil::formateNiceTimeOffset(remainingMSecs/1000.0));\n+\n+        // keep maximal 5000 samples\n+        static int maxSamples = 5000;\n+        if (blockProcessTime.count() > maxSamples)\n+            blockProcessTime.remove(maxSamples, blockProcessTime.count()-maxSamples);\n+    }\n+\n+    // show the last block date\n+    ui->newestBlockDate->setText(blockDate.toString());\n+\n+    // show the percentage done according to nVerificationProgress\n+    ui->percentageProgress->setText(QString::number(nVerificationProgress*100, 'f', 2)+\"%\");\n+    ui->progressBar->setValue(nVerificationProgress*100);\n+\n+    // show remaining amount of blocks\n+    if (bestBlockHeight > 0)\n+        ui->amountOfBlocksLeft->setText(QString::number(bestBlockHeight-count));\n+}\n+\n+void ModalOverlay::showHide(bool hide, bool userRequested)\n+{\n+    if ( (layerIsVisible && !hide) || (!layerIsVisible && hide) || (!hide && userClosed && !userRequested))\n+        return;\n+\n+    if (!isVisible() && !hide)\n+        setVisible(true);\n+\n+    setGeometry(0, hide ? 0 : height(), width(), height());\n+\n+    QPropertyAnimation* animation = new QPropertyAnimation(this, \"pos\");\n+    animation->setDuration(300);\n+    animation->setStartValue(QPoint(0, hide ? 0 : this->height()));\n+    animation->setEndValue(QPoint(0, hide ? this->height() : 0));\n+    animation->setEasingCurve(QEasingCurve::OutQuad);\n+    animation->start(QAbstractAnimation::DeleteWhenStopped);\n+    layerIsVisible = !hide;\n+}\n+\n+void ModalOverlay::closeClicked()\n+{\n+    showHide(true);\n+    userClosed = true;\n+}"
      },
      {
        "sha": "5bf913a3f3d6fce33132cd808e9a0384436fdd47",
        "filename": "src/qt/modaloverlay.h",
        "status": "added",
        "additions": 44,
        "deletions": 0,
        "changes": 44,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e3245b43d5c6fc984e8c60495f6db54f85d64368/src/qt/modaloverlay.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e3245b43d5c6fc984e8c60495f6db54f85d64368/src/qt/modaloverlay.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/modaloverlay.h?ref=e3245b43d5c6fc984e8c60495f6db54f85d64368",
        "patch": "@@ -0,0 +1,44 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_QT_MODALOVERLAY_H\n+#define BITCOIN_QT_MODALOVERLAY_H\n+\n+#include <QDateTime>\n+#include <QWidget>\n+\n+namespace Ui {\n+    class ModalOverlay;\n+}\n+\n+/** Modal overlay to display information about the chain-sync state */\n+class ModalOverlay : public QWidget\n+{\n+    Q_OBJECT\n+\n+public:\n+    explicit ModalOverlay(QWidget *parent);\n+    ~ModalOverlay();\n+\n+public Q_SLOTS:\n+    void tipUpdate(int count, const QDateTime& blockDate, double nVerificationProgress);\n+    void setKnownBestHeight(int count);\n+\n+    // will show or hide the modal layer\n+    void showHide(bool hide = false, bool userRequested = false);\n+    void closeClicked();\n+\n+protected:\n+    bool eventFilter(QObject * obj, QEvent * ev);\n+    bool event(QEvent* ev);\n+\n+private:\n+    Ui::ModalOverlay *ui;\n+    int bestBlockHeight; //best known height (based on the headers)\n+    QVector<QPair<qint64, double> > blockProcessTime;\n+    bool layerIsVisible;\n+    bool userClosed;\n+};\n+\n+#endif // BITCOIN_QT_MODALOVERLAY_H"
      }
    ]
  },
  {
    "sha": "d8b062ef5eea3addff00a09bad1dab162452b4b5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkOGIwNjJlZjVlZWEzYWRkZmYwMGEwOWJhZDFkYWIxNjI0NTJiNGI1",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-09-13T14:36:24Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-09-13T15:57:25Z"
      },
      "message": "[Qt] only update \"amount of blocks left\" when the header chain is in-sync",
      "tree": {
        "sha": "bc4a075d2557f3ea653ffc6b07540fc7653cce97",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bc4a075d2557f3ea653ffc6b07540fc7653cce97"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d8b062ef5eea3addff00a09bad1dab162452b4b5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJX2CHmAAoJECnUvLZBb1PsuYoQAI6jPo4Ege/S3AtLHtYZ4EKZ\nCGZmX1YY6AL0+PCB7uyIsEHQHgFagOHu1cCGn0YJ3w7AJN2Qme3ilEw8FmdxG53x\n7EC1jz7yOU8gqT2JusXfEAvCA9nVpNa+POrNkTRQTWRSgrj8mQS8l2t3K6Fnd0kT\njCqP72k25/IMa1C8rXWkC00nSEfkazYqgrx8+NsUqWmoEFtMv0YMPuY+MPs4TMOz\nAjNaA6yZL6THUFfNY66RcPjD6nTUG4D1Pz6cm5pw98bwfkrEhZbUPztH3HoQtjSL\nFK0FWc+eqAaAWIvlRs6Ge+aV/uS2De06YBS8SRj53fJcv7Gtg5JNqm9FPQvW5Ctk\nwt1lm0cfwCegokpk/QvTEg9sokUMt8iRmmpJ5CvMdMDHRfeXUC6nOsVCZ0rapnbg\nFZ7V1ylRr8eegl9huF4Dt4dhOb2nM7cVsSvs5llq2tZ4paE+s9rps58YRt5JzD1R\nsgrx2JbaUFhakaVcx6GSBpapQDnffqOvNZxqwHPePxsqqQ7DyVpTz7Vo/7mR0cpq\nHMKcOTGfTrqOmpbm2FJ0Nj1trpGK3YaeyC8is8PPpK3ByvBQowMjcnpvIKQ1QmgO\novoF0gl2BhsRUfSkthrxblKKgFuWTBkDw1QtPBXNmCWOsetP8om1hh5+zA03ZKSD\n562mcPQwfwL43mCWcyOk\n=3Ywb\n-----END PGP SIGNATURE-----",
        "payload": "tree bc4a075d2557f3ea653ffc6b07540fc7653cce97\nparent e3245b43d5c6fc984e8c60495f6db54f85d64368\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1473777384 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1473782245 +0200\n\n[Qt] only update \"amount of blocks left\" when the header chain is in-sync\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d8b062ef5eea3addff00a09bad1dab162452b4b5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d8b062ef5eea3addff00a09bad1dab162452b4b5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d8b062ef5eea3addff00a09bad1dab162452b4b5/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e3245b43d5c6fc984e8c60495f6db54f85d64368",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e3245b43d5c6fc984e8c60495f6db54f85d64368",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e3245b43d5c6fc984e8c60495f6db54f85d64368"
      }
    ],
    "stats": {
      "total": 41,
      "additions": 32,
      "deletions": 9
    },
    "files": [
      {
        "sha": "c184745dbe4fdbe321d7c10a292c3d47855ed6de",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 2,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d8b062ef5eea3addff00a09bad1dab162452b4b5/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d8b062ef5eea3addff00a09bad1dab162452b4b5/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=d8b062ef5eea3addff00a09bad1dab162452b4b5",
        "patch": "@@ -500,7 +500,7 @@ void BitcoinGUI::setClientModel(ClientModel *clientModel)\n             setTrayIconVisible(optionsModel->getHideTrayIcon());\n         }\n \n-        modalOverlay->setKnownBestHeight(clientModel->getHeaderHeight());\n+        modalOverlay->setKnownBestHeight(clientModel->getHeaderTipHeight(), QDateTime::fromTime_t(clientModel->getHeaderTipTime()));\n     } else {\n         // Disable possibility to show main window via action\n         toggleHideAction->setEnabled(false);\n@@ -718,7 +718,10 @@ void BitcoinGUI::setNumBlocks(int count, const QDateTime& blockDate, double nVer\n     if (modalOverlay)\n     {\n         if (header)\n-            modalOverlay->setKnownBestHeight(count);\n+        {\n+            /* use clientmodels getHeaderTipHeight and getHeaderTipTime because the NotifyHeaderTip signal does not fire when updating the best header */\n+            modalOverlay->setKnownBestHeight(clientModel->getHeaderTipHeight(), QDateTime::fromTime_t(clientModel->getHeaderTipTime()));\n+        }\n         else\n             modalOverlay->tipUpdate(count, blockDate, nVerificationProgress);\n     }"
      },
      {
        "sha": "fb0cce59ccda3d622f1eab69a92ac93cfcd42a3d",
        "filename": "src/qt/clientmodel.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 1,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d8b062ef5eea3addff00a09bad1dab162452b4b5/src/qt/clientmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d8b062ef5eea3addff00a09bad1dab162452b4b5/src/qt/clientmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/clientmodel.cpp?ref=d8b062ef5eea3addff00a09bad1dab162452b4b5",
        "patch": "@@ -68,14 +68,22 @@ int ClientModel::getNumBlocks() const\n     return chainActive.Height();\n }\n \n-int ClientModel::getHeaderHeight() const\n+int ClientModel::getHeaderTipHeight() const\n {\n     LOCK(cs_main);\n     if (!pindexBestHeader)\n         return 0;\n     return pindexBestHeader->nHeight;\n }\n \n+int64_t ClientModel::getHeaderTipTime() const\n+{\n+    LOCK(cs_main);\n+    if (!pindexBestHeader)\n+        return 0;\n+    return pindexBestHeader->GetBlockTime();\n+}\n+\n quint64 ClientModel::getTotalBytesRecv() const\n {\n     return CNode::GetTotalBytesRecv();"
      },
      {
        "sha": "3fd8404cbb70bd2d454b1c225481ebf4b87b615d",
        "filename": "src/qt/clientmodel.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d8b062ef5eea3addff00a09bad1dab162452b4b5/src/qt/clientmodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d8b062ef5eea3addff00a09bad1dab162452b4b5/src/qt/clientmodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/clientmodel.h?ref=d8b062ef5eea3addff00a09bad1dab162452b4b5",
        "patch": "@@ -51,8 +51,8 @@ class ClientModel : public QObject\n     //! Return number of connections, default is in- and outbound (total)\n     int getNumConnections(unsigned int flags = CONNECTIONS_ALL) const;\n     int getNumBlocks() const;\n-    int getHeaderHeight() const;\n-\n+    int getHeaderTipHeight() const;\n+    int64_t getHeaderTipTime() const;\n     //! Return number of transactions in the mempool\n     long getMempoolSize() const;\n     //! Return the dynamic memory usage of the mempool"
      },
      {
        "sha": "ce9ceaaadd7e4acb0a3ef33dafe30fb12e2278a4",
        "filename": "src/qt/forms/modaloverlay.ui",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d8b062ef5eea3addff00a09bad1dab162452b4b5/src/qt/forms/modaloverlay.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d8b062ef5eea3addff00a09bad1dab162452b4b5/src/qt/forms/modaloverlay.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/modaloverlay.ui?ref=d8b062ef5eea3addff00a09bad1dab162452b4b5",
        "patch": "@@ -82,6 +82,9 @@ QLabel { color: rgb(40,40,40);  }</string>\n              </property>\n              <item>\n               <widget class=\"QPushButton\" name=\"warningIcon\">\n+               <property name=\"enabled\">\n+                <bool>false</bool>\n+               </property>\n                <property name=\"text\">\n                 <string/>\n                </property>"
      },
      {
        "sha": "c54889039133c9fb523e33c98e19f8850083ad93",
        "filename": "src/qt/modaloverlay.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 3,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d8b062ef5eea3addff00a09bad1dab162452b4b5/src/qt/modaloverlay.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d8b062ef5eea3addff00a09bad1dab162452b4b5/src/qt/modaloverlay.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/modaloverlay.cpp?ref=d8b062ef5eea3addff00a09bad1dab162452b4b5",
        "patch": "@@ -63,10 +63,17 @@ bool ModalOverlay::event(QEvent* ev) {\n     return QWidget::event(ev);\n }\n \n-void ModalOverlay::setKnownBestHeight(int count)\n+void ModalOverlay::setKnownBestHeight(int count, const QDateTime& blockDate)\n {\n-    if (count > bestBlockHeight)\n-        bestBlockHeight = count;\n+\n+    /* only update the blockheight if the headerschain-tip is not older then 30 days */\n+    int64_t now = QDateTime::currentDateTime().toTime_t();\n+    int64_t btime = blockDate.toTime_t();\n+    if (btime+3600*24*30 > now)\n+    {\n+        if (count > bestBlockHeight)\n+            bestBlockHeight = count;\n+    }\n }\n \n void ModalOverlay::tipUpdate(int count, const QDateTime& blockDate, double nVerificationProgress)\n@@ -122,6 +129,8 @@ void ModalOverlay::tipUpdate(int count, const QDateTime& blockDate, double nVeri\n     // show remaining amount of blocks\n     if (bestBlockHeight > 0)\n         ui->amountOfBlocksLeft->setText(QString::number(bestBlockHeight-count));\n+    else\n+        ui->expectedTimeLeft->setText(tr(\"Unknown. Syncing Headers...\"));\n }\n \n void ModalOverlay::showHide(bool hide, bool userRequested)"
      },
      {
        "sha": "bdbe3c39a70aca97175c4d7522905b7724caebad",
        "filename": "src/qt/modaloverlay.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d8b062ef5eea3addff00a09bad1dab162452b4b5/src/qt/modaloverlay.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d8b062ef5eea3addff00a09bad1dab162452b4b5/src/qt/modaloverlay.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/modaloverlay.h?ref=d8b062ef5eea3addff00a09bad1dab162452b4b5",
        "patch": "@@ -23,7 +23,7 @@ class ModalOverlay : public QWidget\n \n public Q_SLOTS:\n     void tipUpdate(int count, const QDateTime& blockDate, double nVerificationProgress);\n-    void setKnownBestHeight(int count);\n+    void setKnownBestHeight(int count, const QDateTime& blockDate);\n \n     // will show or hide the modal layer\n     void showHide(bool hide = false, bool userRequested = false);"
      }
    ]
  },
  {
    "sha": "08827df3ecce925928dc3bedcdef63bfca290300",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowODgyN2RmM2VjY2U5MjU5MjhkYzNiZWRjZGVmNjNiZmNhMjkwMzAw",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-09-21T08:29:57Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-09-23T14:07:21Z"
      },
      "message": "[Qt] modalinfolayer: removed unused comments, renamed signal, code style overhaul",
      "tree": {
        "sha": "29d9b9a06371b8f4d6b66036d9f98f3def55b7ae",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/29d9b9a06371b8f4d6b66036d9f98f3def55b7ae"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/08827df3ecce925928dc3bedcdef63bfca290300",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJX5TcaAAoJECnUvLZBb1PsrP8P/2t/XogGyAZ6GpJ87gCJnFsW\nDhVjFcs6D3Oqp1LGL7DuHhR8g0rzz5Ggkw83sDKPZ73Mn6fv56j6rV+RQzup7zRS\nEoZF/XzTtjN44Tb3HcBeOOrJduMFPTtO6PIotI98axdyKfmSEfOZ5iOUJVg5iiUy\nhQaWvmot5ZuvdobTGtBq4trpH9SkSQ1uOiTFili7mNH0ihWSpKS7vptisBBqdWjN\npIJjqQEf242AQRCMT50GY7sfbvuLa6PiL13UgvQy4Ty8NMJ4Rr2gtXcmnbtBpJIj\nvCZ6R0xR9OKJH2vJTmaQDE8g0zKCFmn5Eu7xGSHf2kG9SqCz9X119JryC8CUEl5l\nidfdQAtLUOD3P8+AbqL+4c4KlbMQqiIpoRyMv13Z/2Pgu0FD3XmFTXTL6xp0KTPJ\nz6PUr0s013PAn4Z1uO2pLvE5cDd7R1bEshrLtvhivfwOtFBrKBD3Kx22sTolLoKL\n/JW8gyH8hm4zV/Jen/qtfNnYEdBsyrbg2Arsale5FLxNbQ3JN0c6tPKSdkt0RS1i\nVUW+SzlUhyBLda8pVXPaHazd43Msg1dq36wK/mPVjMDGVGjKaSvTVoaYwzVk21FK\nhhLttNth+ZaCNUjxsAW1MMuMziJM40jkOs+SAFfZGd6ovaOEnHra5fkcDjRD8Syx\nz/Qoqh0Uh9EacOzdRf9J\n=CVXU\n-----END PGP SIGNATURE-----",
        "payload": "tree 29d9b9a06371b8f4d6b66036d9f98f3def55b7ae\nparent d8b062ef5eea3addff00a09bad1dab162452b4b5\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1474446597 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1474639641 +0200\n\n[Qt] modalinfolayer: removed unused comments, renamed signal, code style overhaul\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/08827df3ecce925928dc3bedcdef63bfca290300",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/08827df3ecce925928dc3bedcdef63bfca290300",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/08827df3ecce925928dc3bedcdef63bfca290300/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d8b062ef5eea3addff00a09bad1dab162452b4b5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d8b062ef5eea3addff00a09bad1dab162452b4b5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d8b062ef5eea3addff00a09bad1dab162452b4b5"
      }
    ],
    "stats": {
      "total": 31,
      "additions": 15,
      "deletions": 16
    },
    "files": [
      {
        "sha": "2a9afc51a0c036aea27e196d33c8bdd41017c17a",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/08827df3ecce925928dc3bedcdef63bfca290300/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/08827df3ecce925928dc3bedcdef63bfca290300/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=08827df3ecce925928dc3bedcdef63bfca290300",
        "patch": "@@ -247,7 +247,7 @@ BitcoinGUI::BitcoinGUI(const PlatformStyle *platformStyle, const NetworkStyle *n\n     modalOverlay = new ModalOverlay(this->centralWidget());\n #ifdef ENABLE_WALLET\n     if(enableWallet)\n-        connect(walletFrame, SIGNAL(requestedOfSyncWarningInfo()), this, SLOT(showModalOverlay()));\n+        connect(walletFrame, SIGNAL(requestedSyncWarningInfo()), this, SLOT(showModalOverlay()));\n #endif\n }\n \n@@ -717,13 +717,13 @@ void BitcoinGUI::setNumBlocks(int count, const QDateTime& blockDate, double nVer\n {\n     if (modalOverlay)\n     {\n-        if (header)\n-        {\n+        if (header) {\n             /* use clientmodels getHeaderTipHeight and getHeaderTipTime because the NotifyHeaderTip signal does not fire when updating the best header */\n             modalOverlay->setKnownBestHeight(clientModel->getHeaderTipHeight(), QDateTime::fromTime_t(clientModel->getHeaderTipTime()));\n         }\n-        else\n+        else {\n             modalOverlay->tipUpdate(count, blockDate, nVerificationProgress);\n+        }\n     }\n     if (!clientModel)\n         return;"
      },
      {
        "sha": "ccec1b3e1e50fa5f39bfb2779bc546efab01fe15",
        "filename": "src/qt/forms/modaloverlay.ui",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/08827df3ecce925928dc3bedcdef63bfca290300/src/qt/forms/modaloverlay.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/08827df3ecce925928dc3bedcdef63bfca290300/src/qt/forms/modaloverlay.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/modaloverlay.ui?ref=08827df3ecce925928dc3bedcdef63bfca290300",
        "patch": "@@ -130,7 +130,7 @@ QLabel { color: rgb(40,40,40);  }</string>\n              <item>\n               <widget class=\"QLabel\" name=\"infoText\">\n                <property name=\"text\">\n-                <string>The displayed information may be out of date. Your wallet automatically synchronizes with the Bitcoin network after a connection is established, but this process has not completed yet.</string>\n+                <string>The displayed information may be out of date. Your wallet automatically synchronizes with the Bitcoin network after a connection is established, but this process has not completed yet. This means that recent transactions will not be visible, and the balance will not be up-to-date until this process has completed.</string>\n                </property>\n                <property name=\"textFormat\">\n                 <enum>Qt::RichText</enum>\n@@ -149,7 +149,7 @@ QLabel { color: rgb(40,40,40);  }</string>\n                 </font>\n                </property>\n                <property name=\"text\">\n-                <string>This means that recent transactions will not be visible, and the balance will not be up-to-date until this process has completed. Spending bitcoins is not possible during that phase!</string>\n+                <string>Spending bitcoins may not be possible during that phase!</string>\n                </property>\n                <property name=\"textFormat\">\n                 <enum>Qt::RichText</enum>"
      },
      {
        "sha": "7b121e9e88b452175d880ea13da1e35e056cfeb5",
        "filename": "src/qt/modaloverlay.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 4,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/08827df3ecce925928dc3bedcdef63bfca290300/src/qt/modaloverlay.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/08827df3ecce925928dc3bedcdef63bfca290300/src/qt/modaloverlay.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/modaloverlay.cpp?ref=08827df3ecce925928dc3bedcdef63bfca290300",
        "patch": "@@ -86,7 +86,6 @@ void ModalOverlay::tipUpdate(int count, const QDateTime& blockDate, double nVeri\n     // show progress speed if we have more then one sample\n     if (blockProcessTime.size() >= 2)\n     {\n-        // try to get the window from the last 500 seconds or at least 10 samples\n         double progressStart = blockProcessTime[0].second;\n         double progressDelta = 0;\n         double progressPerHour = 0;\n@@ -114,9 +113,9 @@ void ModalOverlay::tipUpdate(int count, const QDateTime& blockDate, double nVeri\n         ui->expectedTimeLeft->setText(GUIUtil::formateNiceTimeOffset(remainingMSecs/1000.0));\n \n         // keep maximal 5000 samples\n-        static int maxSamples = 5000;\n-        if (blockProcessTime.count() > maxSamples)\n-            blockProcessTime.remove(maxSamples, blockProcessTime.count()-maxSamples);\n+        static const int MAX_SAMPLES = 5000;\n+        if (blockProcessTime.count() > MAX_SAMPLES)\n+            blockProcessTime.remove(MAX_SAMPLES, blockProcessTime.count()-MAX_SAMPLES);\n     }\n \n     // show the last block date"
      },
      {
        "sha": "518d9ea90a25f4503e5f18e578cebb313efee53d",
        "filename": "src/qt/walletframe.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/08827df3ecce925928dc3bedcdef63bfca290300/src/qt/walletframe.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/08827df3ecce925928dc3bedcdef63bfca290300/src/qt/walletframe.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.cpp?ref=08827df3ecce925928dc3bedcdef63bfca290300",
        "patch": "@@ -199,5 +199,5 @@ WalletView *WalletFrame::currentWalletView()\n \n void WalletFrame::outOfSyncWarningClicked()\n {\n-    Q_EMIT requestedOfSyncWarningInfo();\n-}\n\\ No newline at end of file\n+    Q_EMIT requestedSyncWarningInfo();\n+}"
      },
      {
        "sha": "00c2f5636379a2f8cce9aebd1654d75a877870c2",
        "filename": "src/qt/walletframe.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/08827df3ecce925928dc3bedcdef63bfca290300/src/qt/walletframe.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/08827df3ecce925928dc3bedcdef63bfca290300/src/qt/walletframe.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.h?ref=08827df3ecce925928dc3bedcdef63bfca290300",
        "patch": "@@ -40,7 +40,7 @@ class WalletFrame : public QFrame\n \n Q_SIGNALS:\n     /** Notify that the user has requested more information about the out-of-sync warning */\n-    void requestedOfSyncWarningInfo();\n+    void requestedSyncWarningInfo();\n \n private:\n     QStackedWidget *walletStack;"
      },
      {
        "sha": "b163ce3dcfc4c0729843a4852c4ea2c332e618a2",
        "filename": "src/qt/walletview.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/08827df3ecce925928dc3bedcdef63bfca290300/src/qt/walletview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/08827df3ecce925928dc3bedcdef63bfca290300/src/qt/walletview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.cpp?ref=08827df3ecce925928dc3bedcdef63bfca290300",
        "patch": "@@ -66,7 +66,7 @@ WalletView::WalletView(const PlatformStyle *platformStyle, QWidget *parent):\n \n     // Clicking on a transaction on the overview pre-selects the transaction on the transaction history page\n     connect(overviewPage, SIGNAL(transactionClicked(QModelIndex)), transactionView, SLOT(focusTransaction(QModelIndex)));\n-    connect(overviewPage, SIGNAL(outOfSyncWarningClicked()), this, SLOT(requestedOfSyncWarningInfo()));\n+    connect(overviewPage, SIGNAL(outOfSyncWarningClicked()), this, SLOT(requestedSyncWarningInfo()));\n \n     // Double-clicking on a transaction on the transaction history page shows details\n     connect(transactionView, SIGNAL(doubleClicked(QModelIndex)), transactionView, SLOT(showDetails()));\n@@ -324,7 +324,7 @@ void WalletView::showProgress(const QString &title, int nProgress)\n         progressDialog->setValue(nProgress);\n }\n \n-void WalletView::requestedOfSyncWarningInfo()\n+void WalletView::requestedSyncWarningInfo()\n {\n     Q_EMIT outOfSyncWarningClicked();\n }"
      },
      {
        "sha": "aaa6aacbf07474edea9da5c79cbb0e60631a2617",
        "filename": "src/qt/walletview.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/08827df3ecce925928dc3bedcdef63bfca290300/src/qt/walletview.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/08827df3ecce925928dc3bedcdef63bfca290300/src/qt/walletview.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.h?ref=08827df3ecce925928dc3bedcdef63bfca290300",
        "patch": "@@ -111,7 +111,7 @@ public Q_SLOTS:\n     void showProgress(const QString &title, int nProgress);\n \n     /** User has requested more information about the out of sync state */\n-    void requestedOfSyncWarningInfo();\n+    void requestedSyncWarningInfo();\n \n Q_SIGNALS:\n     /** Signal that we want to show the main window */"
      }
    ]
  }
]