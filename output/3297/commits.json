[
  {
    "sha": "84f8551f3ab2ee1be72590278855972e7f200c94",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4NGY4NTUxZjNhYjJlZTFiZTcyNTkwMjc4ODU1OTcyZTdmMjAwYzk0",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2013-11-21T16:59:31Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2013-12-09T14:24:45Z"
      },
      "message": "[Qt] misc small Mac related changes/cleanups\n\n- cleanup Info.plist.in and specify high DPI mode enable command as per\n  http://blog.qt.digia.com/blog/2013/04/25/retina-display-support-for-mac-os-ios-and-x11/\n- move setting of QApplication::setAttribute() to bitcoin.cpp and add\n  attribute for enabling use of high DPI pixmaps for Qt >= 5.1\n- add missing setWindowTitle() on Mac\n- cleanup Mac / non-Mac setup in bitcoingui.cpp",
      "tree": {
        "sha": "1b1cfe8845b6ca3f6b822485a0bd5fd4d3a8215e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1b1cfe8845b6ca3f6b822485a0bd5fd4d3a8215e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/84f8551f3ab2ee1be72590278855972e7f200c94",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/84f8551f3ab2ee1be72590278855972e7f200c94",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/84f8551f3ab2ee1be72590278855972e7f200c94",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/84f8551f3ab2ee1be72590278855972e7f200c94/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "7202d9d9bf6e7442ea8e945b271dcec079ff5239",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7202d9d9bf6e7442ea8e945b271dcec079ff5239",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7202d9d9bf6e7442ea8e945b271dcec079ff5239"
      }
    ],
    "stats": {
      "total": 40,
      "additions": 31,
      "deletions": 9
    },
    "files": [
      {
        "sha": "54ced278f2a71ed49bc28ab29cc8b2e3af181d7d",
        "filename": "share/qt/Info.plist.in",
        "status": "modified",
        "additions": 12,
        "deletions": 1,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/84f8551f3ab2ee1be72590278855972e7f200c94/share/qt/Info.plist.in",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/84f8551f3ab2ee1be72590278855972e7f200c94/share/qt/Info.plist.in",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/share/qt/Info.plist.in?ref=84f8551f3ab2ee1be72590278855972e7f200c94",
        "patch": "@@ -4,18 +4,25 @@\n <dict>\n   <key>CFBundleIconFile</key>\n   <string>bitcoin.icns</string>\n+\n   <key>CFBundlePackageType</key>\n   <string>APPL</string>\n+\n   <key>CFBundleGetInfoString</key>\n   <string>@CLIENT_VERSION_MAJOR@.@CLIENT_VERSION_MINOR@, Copyright \u00a9 2009-@COPYRIGHT_YEAR@ The Bitcoin developers</string>\n+\n   <key>CFBundleShortVersionString</key>\n   <string>@CLIENT_VERSION_MAJOR@.@CLIENT_VERSION_MINOR@</string>\n+\n   <key>CFBundleVersion</key>\n   <string>@CLIENT_VERSION_MAJOR@.@CLIENT_VERSION_MINOR@</string>\n+\n   <key>CFBundleSignature</key>\n   <string>????</string>\n+\n   <key>CFBundleExecutable</key>\n   <string>Bitcoin-Qt</string>\n+\n   <key>CFBundleIdentifier</key>\n   <string>org.bitcoinfoundation.Bitcoin-Qt</string>\n \n@@ -69,7 +76,11 @@\n       <string>Owner</string>\n     </dict>\n   </array>\n+\n+  <key>NSPrincipalClass</key>\n+    <string>NSApplication</string>\n+\n   <key>NSHighResolutionCapable</key>\n-  <true/>\n+    <string>True</string>\n </dict>\n </plist>"
      },
      {
        "sha": "2b3bf3bfb53649dbba1262c1349caad143fc0a34",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/84f8551f3ab2ee1be72590278855972e7f200c94/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/84f8551f3ab2ee1be72590278855972e7f200c94/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=84f8551f3ab2ee1be72590278855972e7f200c94",
        "patch": "@@ -200,6 +200,13 @@ int main(int argc, char *argv[])\n \n     Q_INIT_RESOURCE(bitcoin);\n     QApplication app(argc, argv);\n+#if QT_VERSION > 0x050100\n+    // Generate high-dpi pixmaps\n+    QApplication::setAttribute(Qt::AA_UseHighDpiPixmaps);\n+#endif\n+#ifdef Q_OS_MAC\n+    QApplication::setAttribute(Qt::AA_DontShowIconsInMenus);\n+#endif\n \n     // Register meta types used for QMetaObject::invokeMethod\n     qRegisterMetaType< bool* >();"
      },
      {
        "sha": "b1daba5cba92a36ae4af70cac6627ad6e66c885d",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 8,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/84f8551f3ab2ee1be72590278855972e7f200c94/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/84f8551f3ab2ee1be72590278855972e7f200c94/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=84f8551f3ab2ee1be72590278855972e7f200c94",
        "patch": "@@ -69,28 +69,32 @@ BitcoinGUI::BitcoinGUI(bool fIsTestnet, QWidget *parent) :\n {\n     GUIUtil::restoreWindowGeometry(\"nWindow\", QSize(850, 550), this);\n \n-#ifndef Q_OS_MAC\n     if (!fIsTestnet)\n     {\n         setWindowTitle(tr(\"Bitcoin\") + \" - \" + tr(\"Wallet\"));\n+#ifndef Q_OS_MAC\n         QApplication::setWindowIcon(QIcon(\":icons/bitcoin\"));\n         setWindowIcon(QIcon(\":icons/bitcoin\"));\n+#else\n+        MacDockIconHandler::instance()->setIcon(QIcon(\":icons/bitcoin\"));\n+#endif\n     }\n     else\n     {\n         setWindowTitle(tr(\"Bitcoin\") + \" - \" + tr(\"Wallet\") + \" \" + tr(\"[testnet]\"));\n+#ifndef Q_OS_MAC\n         QApplication::setWindowIcon(QIcon(\":icons/bitcoin_testnet\"));\n         setWindowIcon(QIcon(\":icons/bitcoin_testnet\"));\n-    }\n #else\n-    setUnifiedTitleAndToolBarOnMac(true);\n-    QApplication::setAttribute(Qt::AA_DontShowIconsInMenus);\n-\n-    if (!fIsTestnet)\n-        MacDockIconHandler::instance()->setIcon(QIcon(\":icons/bitcoin\"));\n-    else\n         MacDockIconHandler::instance()->setIcon(QIcon(\":icons/bitcoin_testnet\"));\n #endif\n+    }\n+\n+#if defined(Q_OS_MAC) && QT_VERSION < 0x050000\n+    // This property is not implemented in Qt 5. Setting it has no effect.\n+    // A replacement API (QtMacUnifiedToolBar) is available in QtMacExtras.\n+    setUnifiedTitleAndToolBarOnMac(true);\n+#endif\n \n     // Create wallet frame and make it the central widget\n     walletFrame = new WalletFrame(this);"
      }
    ]
  }
]