[
  {
    "sha": "34aa3112c8d3366303873fbd217e23d9cba798e4",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozNGFhMzExMmM4ZDMzNjYzMDM4NzNmYmQyMTdlMjNkOWNiYTc5OGU0",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-05-14T21:22:45Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-05-15T06:04:51Z"
      },
      "message": "adapt user-experience from messagepage / move placeholderTexts from XML to source to avoid a problem with Qt < 4.7 / add eventFilter for address field to select text when clicking in / add Clear All button / rework strings",
      "tree": {
        "sha": "6a91b9dcd7955ae8cecdf12dc78dcde5a9c1561b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6a91b9dcd7955ae8cecdf12dc78dcde5a9c1561b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/34aa3112c8d3366303873fbd217e23d9cba798e4",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/34aa3112c8d3366303873fbd217e23d9cba798e4",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/34aa3112c8d3366303873fbd217e23d9cba798e4",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/34aa3112c8d3366303873fbd217e23d9cba798e4/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "2643ce97ae40d9ed6260b7d2608f7ca9181bb391",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2643ce97ae40d9ed6260b7d2608f7ca9181bb391",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2643ce97ae40d9ed6260b7d2608f7ca9181bb391"
      }
    ],
    "stats": {
      "total": 138,
      "additions": 72,
      "deletions": 66
    },
    "files": [
      {
        "sha": "a7c99716e42a7c1741f40dba7db38a3b5756c3e5",
        "filename": "src/qt/forms/verifymessagedialog.ui",
        "status": "modified",
        "additions": 30,
        "deletions": 54,
        "changes": 84,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/34aa3112c8d3366303873fbd217e23d9cba798e4/src/qt/forms/verifymessagedialog.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/34aa3112c8d3366303873fbd217e23d9cba798e4/src/qt/forms/verifymessagedialog.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/verifymessagedialog.ui?ref=34aa3112c8d3366303873fbd217e23d9cba798e4",
        "patch": "@@ -17,7 +17,7 @@\n    <item>\n     <widget class=\"QLabel\" name=\"label\">\n      <property name=\"text\">\n-      <string>Enter the message and signature below (be careful to correctly copy newlines, spaces, tabs, and other invisible characters), and press apply to obtain the bitcoin address used to sign the message.</string>\n+      <string>Enter the message and signature below (be careful to correctly copy newlines, spaces, tabs and other invisible characters) to obtain the Bitcoin address used to sign the message.</string>\n      </property>\n      <property name=\"alignment\">\n       <set>Qt::AlignLeading|Qt::AlignLeft|Qt::AlignTop</set>\n@@ -35,9 +35,6 @@\n      <property name=\"text\">\n       <string/>\n      </property>\n-     <property name=\"placeholderText\">\n-      <string>Signature</string>\n-     </property>\n     </widget>\n    </item>\n    <item>\n@@ -48,9 +45,6 @@\n      <property name=\"readOnly\">\n       <bool>true</bool>\n      </property>\n-     <property name=\"placeholderText\">\n-      <string>Address</string>\n-     </property>\n     </widget>\n    </item>\n    <item>\n@@ -62,6 +56,20 @@\n    </item>\n    <item>\n     <layout class=\"QHBoxLayout\" name=\"horizontalLayout\">\n+     <item>\n+      <widget class=\"QPushButton\" name=\"verifyMessage\">\n+       <property name=\"toolTip\">\n+        <string>Verify a message and obtain the Bitcoin address used to sign the message</string>\n+       </property>\n+       <property name=\"text\">\n+        <string>&amp;Verify Message</string>\n+       </property>\n+       <property name=\"icon\">\n+        <iconset resource=\"../bitcoin.qrc\">\n+         <normaloff>:/icons/transaction_0</normaloff>:/icons/transaction_0</iconset>\n+       </property>\n+      </widget>\n+     </item>\n      <item>\n       <widget class=\"QPushButton\" name=\"copyToClipboard\">\n        <property name=\"enabled\">\n@@ -79,6 +87,20 @@\n        </property>\n       </widget>\n      </item>\n+     <item>\n+      <widget class=\"QPushButton\" name=\"clearButton\">\n+       <property name=\"toolTip\">\n+        <string>Reset all verify message fields</string>\n+       </property>\n+       <property name=\"text\">\n+        <string>Clear &amp;All</string>\n+       </property>\n+       <property name=\"icon\">\n+        <iconset resource=\"../bitcoin.qrc\">\n+         <normaloff>:/icons/remove</normaloff>:/icons/remove</iconset>\n+       </property>\n+      </widget>\n+     </item>\n      <item>\n       <spacer name=\"horizontalSpacer\">\n        <property name=\"orientation\">\n@@ -92,58 +114,12 @@\n        </property>\n       </spacer>\n      </item>\n-     <item>\n-      <widget class=\"QDialogButtonBox\" name=\"buttonBox\">\n-       <property name=\"orientation\">\n-        <enum>Qt::Horizontal</enum>\n-       </property>\n-       <property name=\"standardButtons\">\n-        <set>QDialogButtonBox::Apply|QDialogButtonBox::Close</set>\n-       </property>\n-       <property name=\"centerButtons\">\n-        <bool>false</bool>\n-       </property>\n-      </widget>\n-     </item>\n     </layout>\n    </item>\n   </layout>\n  </widget>\n  <resources>\n   <include location=\"../bitcoin.qrc\"/>\n  </resources>\n- <connections>\n-  <connection>\n-   <sender>buttonBox</sender>\n-   <signal>accepted()</signal>\n-   <receiver>VerifyMessageDialog</receiver>\n-   <slot>accept()</slot>\n-   <hints>\n-    <hint type=\"sourcelabel\">\n-     <x>248</x>\n-     <y>254</y>\n-    </hint>\n-    <hint type=\"destinationlabel\">\n-     <x>157</x>\n-     <y>274</y>\n-    </hint>\n-   </hints>\n-  </connection>\n-  <connection>\n-   <sender>buttonBox</sender>\n-   <signal>rejected()</signal>\n-   <receiver>VerifyMessageDialog</receiver>\n-   <slot>reject()</slot>\n-   <hints>\n-    <hint type=\"sourcelabel\">\n-     <x>316</x>\n-     <y>260</y>\n-    </hint>\n-    <hint type=\"destinationlabel\">\n-     <x>286</x>\n-     <y>274</y>\n-    </hint>\n-   </hints>\n-  </connection>\n- </connections>\n+ <connections/>\n </ui>"
      },
      {
        "sha": "1f82e2ac315f5677669696bbdd2194c1849e1f1c",
        "filename": "src/qt/verifymessagedialog.cpp",
        "status": "modified",
        "additions": 32,
        "deletions": 3,
        "changes": 35,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/34aa3112c8d3366303873fbd217e23d9cba798e4/src/qt/verifymessagedialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/34aa3112c8d3366303873fbd217e23d9cba798e4/src/qt/verifymessagedialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/verifymessagedialog.cpp?ref=34aa3112c8d3366303873fbd217e23d9cba798e4",
        "patch": "@@ -22,7 +22,16 @@ VerifyMessageDialog::VerifyMessageDialog(AddressTableModel *addressModel, QWidge\n {\n     ui->setupUi(this);\n \n+#if (QT_VERSION >= 0x040700)\n+    /* Do not move this to the XML file, Qt before 4.7 will choke on it */\n+    ui->lnSig->setPlaceholderText(tr(\"Enter Bitcoin signature\"));\n+    ui->lnAddress->setPlaceholderText(tr(\"Click \\\"Apply\\\" to obtain address\"));\n+#endif\n+\n     GUIUtil::setupAddressWidget(ui->lnAddress, this);\n+    ui->lnAddress->installEventFilter(this);\n+\n+    ui->edMessage->setFocus();\n }\n \n VerifyMessageDialog::~VerifyMessageDialog()\n@@ -63,13 +72,33 @@ bool VerifyMessageDialog::checkAddress()\n     return true;\n }\n \n-void VerifyMessageDialog::on_buttonBox_clicked(QAbstractButton *button)\n+void VerifyMessageDialog::on_verifyMessage_clicked()\n {\n-    if(ui->buttonBox->buttonRole(button) == QDialogButtonBox::ApplyRole)\n-        checkAddress();\n+    checkAddress();\n }\n \n void VerifyMessageDialog::on_copyToClipboard_clicked()\n {\n     QApplication::clipboard()->setText(ui->lnAddress->text());\n }\n+\n+void VerifyMessageDialog::on_clearButton_clicked()\n+{\n+    ui->edMessage->clear();\n+    ui->lnSig->clear();\n+    ui->lnAddress->clear();\n+    ui->lblStatus->clear();\n+\n+    ui->edMessage->setFocus();\n+}\n+\n+bool VerifyMessageDialog::eventFilter(QObject *object, QEvent *event)\n+{\n+    if(object == ui->lnAddress && (event->type() == QEvent::MouseButtonPress ||\n+                                   event->type() == QEvent::FocusIn))\n+    {\n+        ui->lnAddress->selectAll();\n+        return true;\n+    }\n+    return QDialog::eventFilter(object, event);\n+}"
      },
      {
        "sha": "9a3fb43415bdda1a1bbe33d4d579ecac27a1637a",
        "filename": "src/qt/verifymessagedialog.h",
        "status": "modified",
        "additions": 10,
        "deletions": 9,
        "changes": 19,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/34aa3112c8d3366303873fbd217e23d9cba798e4/src/qt/verifymessagedialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/34aa3112c8d3366303873fbd217e23d9cba798e4/src/qt/verifymessagedialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/verifymessagedialog.h?ref=34aa3112c8d3366303873fbd217e23d9cba798e4",
        "patch": "@@ -3,16 +3,14 @@\n \n #include <QDialog>\n \n+namespace Ui {\n+    class VerifyMessageDialog;\n+}\n class AddressTableModel;\n \n QT_BEGIN_NAMESPACE\n-class QAbstractButton;\n QT_END_NAMESPACE\n \n-namespace Ui {\n-    class VerifyMessageDialog;\n-}\n-\n class VerifyMessageDialog : public QDialog\n {\n     Q_OBJECT\n@@ -21,16 +19,19 @@ class VerifyMessageDialog : public QDialog\n     explicit VerifyMessageDialog(AddressTableModel *addressModel, QWidget *parent = 0);\n     ~VerifyMessageDialog();\n \n-private slots:\n-    void on_buttonBox_clicked(QAbstractButton *button);\n-\n-    void on_copyToClipboard_clicked();\n+protected:\n+    bool eventFilter(QObject *object, QEvent *event);\n \n private:\n     bool checkAddress();\n \n     Ui::VerifyMessageDialog *ui;\n     AddressTableModel *model;\n+\n+private slots:\n+    void on_verifyMessage_clicked();\n+    void on_copyToClipboard_clicked();\n+    void on_clearButton_clicked();\n };\n \n #endif // VERIFYMESSAGEDIALOG_H"
      }
    ]
  }
]