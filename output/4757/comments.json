[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53172635",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4757#issuecomment-53172635",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4757",
    "id": 53172635,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMTcyNjM1",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-24T00:53:37Z",
    "updated_at": "2014-08-24T00:53:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Tested ACK.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53172635/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53175958",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4757#issuecomment-53175958",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4757",
    "id": 53175958,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMTc1OTU4",
    "user": {
      "login": "BitcoinPullTester",
      "id": 2110907,
      "node_id": "MDQ6VXNlcjIxMTA5MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BitcoinPullTester",
      "html_url": "https://github.com/BitcoinPullTester",
      "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
      "following_url": "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
      "gists_url": "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
      "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
      "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
      "events_url": "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-24T03:14:26Z",
    "updated_at": "2014-08-24T03:14:26Z",
    "author_association": "NONE",
    "body": "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4757_b4a72a75b4795dffbe973b0ae287343df2dac13c/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53175958/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/16632903",
    "pull_request_review_id": null,
    "id": 16632903,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2NjMyOTAz",
    "diff_hunk": "@@ -1,12 +1,16 @@\n \n-# bitcoind RPC settings\n+# bitcoind RPC settings (linearize-hashes)\n rpcuser=someuser\n rpcpassword=somepassword\n host=127.0.0.1\n port=8332\n \n-# bootstrap.dat settings\n+# bootstrap.dat hashlist settings (linearize-hashes)\n+max_height=313000\n+\n+# bootstrap.dat input/output settings (linearize-data)\n netmagic=f9beb4d9\n-max_height=279000\n-output=bootstrap.dat\n+input=/home/jgarzik/.bitcoin/blocks",
    "path": "contrib/linearize/example-linearize.cfg",
    "position": null,
    "original_position": 17,
    "commit_id": "b4a72a75b4795dffbe973b0ae287343df2dac13c",
    "original_commit_id": "de37135150f4d9faafa1993316dccac6e02d25eb",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can we not hard-code /home/jgarzik (can we default to $HOME/.bitcoin/blocks or so?)\n",
    "created_at": "2014-08-23T21:46:49Z",
    "updated_at": "2014-08-24T03:00:19Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4757#discussion_r16632903",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4757",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/16632903"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4757#discussion_r16632903"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4757"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/16632903/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 13,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/16633625",
    "pull_request_review_id": null,
    "id": 16633625,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2NjMzNjI1",
    "diff_hunk": "@@ -0,0 +1,182 @@\n+#!/usr/bin/python\n+#\n+# linearize-data.py: Construct a linear, no-fork version of the chain.\n+#\n+# Copyright (c) 2013 The Bitcoin developers\n+# Distributed under the MIT/X11 software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#\n+\n+import json\n+import struct\n+import re\n+import base64\n+import httplib\n+import sys\n+import hashlib\n+\n+MAX_OUT_SZ = 128 * 1024 * 1024\n+\n+settings = {}\n+\n+\n+def uint32(x):\n+\treturn x & 0xffffffffL\n+\n+def bytereverse(x):\n+\treturn uint32(( ((x) << 24) | (((x) << 8) & 0x00ff0000) |\n+\t\t       (((x) >> 8) & 0x0000ff00) | ((x) >> 24) ))\n+\n+def bufreverse(in_buf):\n+\tout_words = []\n+\tfor i in range(0, len(in_buf), 4):\n+\t\tword = struct.unpack('@I', in_buf[i:i+4])[0]\n+\t\tout_words.append(struct.pack('@I', bytereverse(word)))\n+\treturn ''.join(out_words)\n+\n+def wordreverse(in_buf):\n+\tout_words = []\n+\tfor i in range(0, len(in_buf), 4):\n+\t\tout_words.append(in_buf[i:i+4])\n+\tout_words.reverse()\n+\treturn ''.join(out_words)\n+\n+def calc_hdr_hash(rawblock):\n+\tblk_hdr = rawblock[:80]\n+\n+\thash1 = hashlib.sha256()\n+\thash1.update(blk_hdr)\n+\thash1_o = hash1.digest()\n+\n+\thash2 = hashlib.sha256()\n+\thash2.update(hash1_o)\n+\thash2_o = hash2.digest()\n+\n+\treturn hash2_o\n+\n+def calc_hash_str(rawblock):\n+\thash = calc_hdr_hash(rawblock)\n+\thash = bufreverse(hash)\n+\thash = wordreverse(hash)\n+\thash_str = hash.encode('hex')\n+\treturn hash_str\n+\n+def get_block_hashes(settings):\n+\tblkindex = []\n+\tf = open(settings['hashlist'], \"r\")\n+\tfor line in f:\n+\t\tline = line.rstrip()\n+\t\tblkindex.append(line)\n+\n+\tprint(\"Read \" + str(len(blkindex)) + \" hashes\")\n+\n+\treturn blkindex\n+\n+def mkblockset(blkindex):\n+\tblkmap = {}\n+\tfor hash in blkindex:\n+\t\tblkmap[hash] = True\n+\treturn blkmap\n+\n+def copydata(settings, blkindex, blkset):\n+\tinFn = 0\n+\tinF = None\n+\toutFn = 0\n+\toutsz = 0\n+\toutF = None\n+\tblkCount = 0\n+\n+\tfileOutput = True\n+\tif 'output' in settings:\n+\t\tfileOutput = False\n+\n+\twhile True:\n+\t\tif not inF:\n+\t\t\tfname = \"%s/blk%05d.dat\" % (settings['input'], inFn)\n+\t\t\tprint(\"Input file\" + fname)\n+\t\t\tinF = open(fname, \"rb\")\n+\n+\t\tinhdr = inF.read(8)\n+\t\tif (not inhdr or (inhdr[0] == \"\\0\")):\n+\t\t\tinF.close()\n+\t\t\tinF = None\n+\t\t\tinFn = inFn + 1\n+\t\t\tcontinue\n+\n+\t\tinMagic = inhdr[:4]\n+\t\tif (inMagic != settings['netmagic']):\n+\t\t\tprint(\"Invalid magic:\" + inMagic)\n+\t\t\treturn\n+\t\tinLenLE = inhdr[4:]\n+\t\tsu = struct.unpack(\"<I\", inLenLE)\n+\t\tinLen = su[0]\n+\t\trawblock = inF.read(inLen)\n+\n+\t\thash_str = calc_hash_str(rawblock)\n+\t\tif not hash_str in blkset:\n+\t\t\tprint(\"Skipping unknown block \" + hash_str)\n+\t\t\tcontinue\n+\n+\t\tif not fileOutput and ((outsz + inLen) > MAX_OUT_SZ):\n+\t\t\toutF.close()\n+\t\t\toutF = None\n+\t\t\toutFn = outFn + 1\n+\t\t\toutsz = 0\n+\t\tif not outF:\n+\t\t\tif fileOutput:\n+\t\t\t\tfname = settings['output_file']\n+\t\t\telse:\n+\t\t\t\tfname = \"%s/blk%05d.dat\" % (settings['output'], outFn)\n+\t\t\tprint(\"Output file\" + fname)\n+\t\t\toutF = open(fname, \"wb\")\n+\n+\t\toutF.write(inhdr)\n+\t\toutF.write(rawblock)\n+\t\toutsz = outsz + inLen + 8\n+\n+\t\tblkCount = blkCount + 1\n+\n+\t\tif (blkCount % 1000) == 0:\n+\t\t\tprint(\"Wrote \" + str(blkCount) + \" blocks\")\n+\n+if __name__ == '__main__':\n+\tif len(sys.argv) != 2:\n+\t\tprint \"Usage: linearize-data.py CONFIG-FILE\"\n+\t\tsys.exit(1)\n+\n+\tf = open(sys.argv[1])\n+\tfor line in f:\n+\t\t# skip comment lines\n+\t\tm = re.search('^\\s*#', line)\n+\t\tif m:\n+\t\t\tcontinue\n+\n+\t\t# parse key=value lines\n+\t\tm = re.search('^(\\w+)\\s*=\\s*(\\S.*)$', line)\n+\t\tif m is None:\n+\t\t\tcontinue\n+\t\tsettings[m.group(1)] = m.group(2)\n+\tf.close()\n+\n+\tif 'netmagic' not in settings:\n+\t\tsettings['netmagic'] = 'f9beb4d9'\n+\tif 'input' not in settings:\n+\t\tsettings['input'] = 'input'\n+\tif 'hashlist' not in settings:\n+\t\tsettings['hashlist'] = 'hashlist.out'",
    "path": "contrib/linearize/linearize-data.py",
    "position": null,
    "original_position": 166,
    "commit_id": "b4a72a75b4795dffbe973b0ae287343df2dac13c",
    "original_commit_id": "e53a00b83e1fe424d702db0c70795a5ee807017a",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can we keep this consistent with hashlist.txt?\n",
    "created_at": "2014-08-24T00:53:14Z",
    "updated_at": "2014-08-24T03:00:19Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4757#discussion_r16633625",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4757",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/16633625"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4757#discussion_r16633625"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4757"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/16633625/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 166,
    "side": "RIGHT"
  }
]