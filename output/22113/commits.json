[
  {
    "sha": "0c2139a3f160d1d443460e4c5928109a6ab8cd11",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowYzIxMzlhM2YxNjBkMWQ0NDM0NjBlNGM1OTI4MTA5YTZhYjhjZDEx",
    "commit": {
      "author": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2021-05-31T17:18:04Z"
      },
      "committer": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2021-05-31T17:18:04Z"
      },
      "message": "test: fix typo in feature_cltv.py (s/ctlv/cltv/)",
      "tree": {
        "sha": "016ad69427dc75a7c664234b3f82bfddb5e3a9fb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/016ad69427dc75a7c664234b3f82bfddb5e3a9fb"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0c2139a3f160d1d443460e4c5928109a6ab8cd11",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0c2139a3f160d1d443460e4c5928109a6ab8cd11",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0c2139a3f160d1d443460e4c5928109a6ab8cd11",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0c2139a3f160d1d443460e4c5928109a6ab8cd11/comments",
    "author": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "11225905b722a53fcfc25b73e779c2b5217849bc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/11225905b722a53fcfc25b73e779c2b5217849bc",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/11225905b722a53fcfc25b73e779c2b5217849bc"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "1f8e3e66459fe778ecb0abe8cb01fe2f8b6d1405",
        "filename": "test/functional/feature_cltv.py",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0c2139a3f160d1d443460e4c5928109a6ab8cd11/test/functional/feature_cltv.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0c2139a3f160d1d443460e4c5928109a6ab8cd11/test/functional/feature_cltv.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_cltv.py?ref=0c2139a3f160d1d443460e4c5928109a6ab8cd11",
        "patch": "@@ -111,17 +111,17 @@ def run_test(self):\n         self.log.info(\"Test that invalid-according-to-CLTV transactions can still appear in a block\")\n \n         # create one invalid tx per CLTV failure reason (5 in total) and collect them\n-        invalid_ctlv_txs = []\n+        invalid_cltv_txs = []\n         for i in range(5):\n             spendtx = wallet.create_self_transfer(from_node=self.nodes[0])['tx']\n             spendtx = cltv_invalidate(self.nodes[0], spendtx, i)\n-            invalid_ctlv_txs.append(spendtx)\n+            invalid_cltv_txs.append(spendtx)\n \n         tip = self.nodes[0].getbestblockhash()\n         block_time = self.nodes[0].getblockheader(tip)['mediantime'] + 1\n         block = create_block(int(tip, 16), create_coinbase(CLTV_HEIGHT - 1), block_time)\n         block.nVersion = 3\n-        block.vtx.extend(invalid_ctlv_txs)\n+        block.vtx.extend(invalid_cltv_txs)\n         block.hashMerkleRoot = block.calc_merkle_root()\n         block.solve()\n "
      }
    ]
  },
  {
    "sha": "9ab2ce0a6673acc7ee0f85158fc087fce0fc7dd8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5YWIyY2UwYTY2NzNhY2M3ZWUwZjg1MTU4ZmMwODdmY2UwZmM3ZGQ4",
    "commit": {
      "author": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2021-05-31T17:29:05Z"
      },
      "committer": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2021-05-31T17:34:00Z"
      },
      "message": "test: drop unused node parameters in feature_cltv.py\n\nThe following functions had a parameter \"node\" that is unsused\nand hence can be removed:\n    - cltv_modify_tx()\n    - cltv_invalidate()\n    - cltv_validate()",
      "tree": {
        "sha": "055da25715eacc873a03594544cfe0527309afde",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/055da25715eacc873a03594544cfe0527309afde"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9ab2ce0a6673acc7ee0f85158fc087fce0fc7dd8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9ab2ce0a6673acc7ee0f85158fc087fce0fc7dd8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/9ab2ce0a6673acc7ee0f85158fc087fce0fc7dd8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9ab2ce0a6673acc7ee0f85158fc087fce0fc7dd8/comments",
    "author": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0c2139a3f160d1d443460e4c5928109a6ab8cd11",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0c2139a3f160d1d443460e4c5928109a6ab8cd11",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0c2139a3f160d1d443460e4c5928109a6ab8cd11"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 8,
      "deletions": 8
    },
    "files": [
      {
        "sha": "b1adb37bc4fc90dfc103f0c21865d53682ca3f05",
        "filename": "test/functional/feature_cltv.py",
        "status": "modified",
        "additions": 8,
        "deletions": 8,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9ab2ce0a6673acc7ee0f85158fc087fce0fc7dd8/test/functional/feature_cltv.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9ab2ce0a6673acc7ee0f85158fc087fce0fc7dd8/test/functional/feature_cltv.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_cltv.py?ref=9ab2ce0a6673acc7ee0f85158fc087fce0fc7dd8",
        "patch": "@@ -37,7 +37,7 @@\n # Helper function to modify a transaction by\n # 1) prepending a given script to the scriptSig of vin 0 and\n # 2) (optionally) modify the nSequence of vin 0 and the tx's nLockTime\n-def cltv_modify_tx(node, tx, prepend_scriptsig, nsequence=None, nlocktime=None):\n+def cltv_modify_tx(tx, prepend_scriptsig, nsequence=None, nlocktime=None):\n     assert_equal(len(tx.vin), 1)\n     if nsequence is not None:\n         tx.vin[0].nSequence = nsequence\n@@ -48,7 +48,7 @@ def cltv_modify_tx(node, tx, prepend_scriptsig, nsequence=None, nlocktime=None):\n     return tx\n \n \n-def cltv_invalidate(node, tx, failure_reason):\n+def cltv_invalidate(tx, failure_reason):\n     # Modify the signature in vin 0 and nSequence/nLockTime of the tx to fail CLTV\n     #\n     # According to BIP65, OP_CHECKLOCKTIMEVERIFY can fail due the following reasons:\n@@ -69,14 +69,14 @@ def cltv_invalidate(node, tx, failure_reason):\n         [[CScriptNum(500),  OP_CHECKLOCKTIMEVERIFY, OP_DROP], 0xffffffff, 500],\n     ][failure_reason]\n \n-    return cltv_modify_tx(node, tx, prepend_scriptsig=scheme[0], nsequence=scheme[1], nlocktime=scheme[2])\n+    return cltv_modify_tx(tx, prepend_scriptsig=scheme[0], nsequence=scheme[1], nlocktime=scheme[2])\n \n \n-def cltv_validate(node, tx, height):\n+def cltv_validate(tx, height):\n     # Modify the signature in vin 0 and nSequence/nLockTime of the tx to pass CLTV\n     scheme = [[CScriptNum(height), OP_CHECKLOCKTIMEVERIFY, OP_DROP], 0, height]\n \n-    return cltv_modify_tx(node, tx, prepend_scriptsig=scheme[0], nsequence=scheme[1], nlocktime=scheme[2])\n+    return cltv_modify_tx(tx, prepend_scriptsig=scheme[0], nsequence=scheme[1], nlocktime=scheme[2])\n \n \n class BIP65Test(BitcoinTestFramework):\n@@ -114,7 +114,7 @@ def run_test(self):\n         invalid_cltv_txs = []\n         for i in range(5):\n             spendtx = wallet.create_self_transfer(from_node=self.nodes[0])['tx']\n-            spendtx = cltv_invalidate(self.nodes[0], spendtx, i)\n+            spendtx = cltv_invalidate(spendtx, i)\n             invalid_cltv_txs.append(spendtx)\n \n         tip = self.nodes[0].getbestblockhash()\n@@ -149,7 +149,7 @@ def run_test(self):\n         # create and test one invalid tx per CLTV failure reason (5 in total)\n         for i in range(5):\n             spendtx = wallet.create_self_transfer(from_node=self.nodes[0])['tx']\n-            spendtx = cltv_invalidate(self.nodes[0], spendtx, i)\n+            spendtx = cltv_invalidate(spendtx, i)\n \n             expected_cltv_reject_reason = [\n                 \"non-mandatory-script-verify-flag (Operation not valid with the current stack size)\",\n@@ -182,7 +182,7 @@ def run_test(self):\n                 peer.sync_with_ping()\n \n         self.log.info(\"Test that a version 4 block with a valid-according-to-CLTV transaction is accepted\")\n-        spendtx = cltv_validate(self.nodes[0], spendtx, CLTV_HEIGHT - 1)\n+        spendtx = cltv_validate(spendtx, CLTV_HEIGHT - 1)\n \n         block.vtx.pop(1)\n         block.vtx.append(spendtx)"
      }
    ]
  },
  {
    "sha": "7e32fde912b3924fdb27ec1f658ac11fcf160b3e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3ZTMyZmRlOTEyYjM5MjRmZGIyN2VjMWY2NThhYzExZmNmMTYwYjNl",
    "commit": {
      "author": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2021-05-31T17:44:02Z"
      },
      "committer": {
        "name": "Sebastian Falbesoner",
        "email": "sebastian.falbesoner@gmail.com",
        "date": "2021-05-31T17:47:30Z"
      },
      "message": "test: feature_cltv.py: don't return tx copies in modification functions\n\nThe functions cltv_modify_tx(), cltv_invalidate() and cltv_validate()\nall modify the passed transaction in-place, i.e. there is no need\nto return a copy.",
      "tree": {
        "sha": "681d5496c5338034dadf83e692391792b55c42b7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/681d5496c5338034dadf83e692391792b55c42b7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7e32fde912b3924fdb27ec1f658ac11fcf160b3e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7e32fde912b3924fdb27ec1f658ac11fcf160b3e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7e32fde912b3924fdb27ec1f658ac11fcf160b3e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7e32fde912b3924fdb27ec1f658ac11fcf160b3e/comments",
    "author": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "9ab2ce0a6673acc7ee0f85158fc087fce0fc7dd8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9ab2ce0a6673acc7ee0f85158fc087fce0fc7dd8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/9ab2ce0a6673acc7ee0f85158fc087fce0fc7dd8"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 5,
      "deletions": 6
    },
    "files": [
      {
        "sha": "10d2072dba01a071d0e861f401a0a60aa413a199",
        "filename": "test/functional/feature_cltv.py",
        "status": "modified",
        "additions": 5,
        "deletions": 6,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7e32fde912b3924fdb27ec1f658ac11fcf160b3e/test/functional/feature_cltv.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7e32fde912b3924fdb27ec1f658ac11fcf160b3e/test/functional/feature_cltv.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_cltv.py?ref=7e32fde912b3924fdb27ec1f658ac11fcf160b3e",
        "patch": "@@ -45,7 +45,6 @@ def cltv_modify_tx(tx, prepend_scriptsig, nsequence=None, nlocktime=None):\n \n     tx.vin[0].scriptSig = CScript(prepend_scriptsig + list(CScript(tx.vin[0].scriptSig)))\n     tx.rehash()\n-    return tx\n \n \n def cltv_invalidate(tx, failure_reason):\n@@ -69,14 +68,14 @@ def cltv_invalidate(tx, failure_reason):\n         [[CScriptNum(500),  OP_CHECKLOCKTIMEVERIFY, OP_DROP], 0xffffffff, 500],\n     ][failure_reason]\n \n-    return cltv_modify_tx(tx, prepend_scriptsig=scheme[0], nsequence=scheme[1], nlocktime=scheme[2])\n+    cltv_modify_tx(tx, prepend_scriptsig=scheme[0], nsequence=scheme[1], nlocktime=scheme[2])\n \n \n def cltv_validate(tx, height):\n     # Modify the signature in vin 0 and nSequence/nLockTime of the tx to pass CLTV\n     scheme = [[CScriptNum(height), OP_CHECKLOCKTIMEVERIFY, OP_DROP], 0, height]\n \n-    return cltv_modify_tx(tx, prepend_scriptsig=scheme[0], nsequence=scheme[1], nlocktime=scheme[2])\n+    cltv_modify_tx(tx, prepend_scriptsig=scheme[0], nsequence=scheme[1], nlocktime=scheme[2])\n \n \n class BIP65Test(BitcoinTestFramework):\n@@ -114,7 +113,7 @@ def run_test(self):\n         invalid_cltv_txs = []\n         for i in range(5):\n             spendtx = wallet.create_self_transfer(from_node=self.nodes[0])['tx']\n-            spendtx = cltv_invalidate(spendtx, i)\n+            cltv_invalidate(spendtx, i)\n             invalid_cltv_txs.append(spendtx)\n \n         tip = self.nodes[0].getbestblockhash()\n@@ -149,7 +148,7 @@ def run_test(self):\n         # create and test one invalid tx per CLTV failure reason (5 in total)\n         for i in range(5):\n             spendtx = wallet.create_self_transfer(from_node=self.nodes[0])['tx']\n-            spendtx = cltv_invalidate(spendtx, i)\n+            cltv_invalidate(spendtx, i)\n \n             expected_cltv_reject_reason = [\n                 \"non-mandatory-script-verify-flag (Operation not valid with the current stack size)\",\n@@ -182,7 +181,7 @@ def run_test(self):\n                 peer.sync_with_ping()\n \n         self.log.info(\"Test that a version 4 block with a valid-according-to-CLTV transaction is accepted\")\n-        spendtx = cltv_validate(spendtx, CLTV_HEIGHT - 1)\n+        cltv_validate(spendtx, CLTV_HEIGHT - 1)\n \n         block.vtx.pop(1)\n         block.vtx.append(spendtx)"
      }
    ]
  }
]