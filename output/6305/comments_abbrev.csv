theuni,2015-06-19T03:53:51Z,"While there are no other builds in the queue, I'll force-push a few times to try to trigger the NPE\n",https://github.com/bitcoin/bitcoin/pull/6305#issuecomment-113358870,113358870,
theuni,2015-06-19T05:53:37Z,"Grr, 7 forced rebuilds and no errors. I'm not sure if that's a good thing or not :)\n",https://github.com/bitcoin/bitcoin/pull/6305#issuecomment-113383354,113383354,
laanwj,2015-06-19T06:27:07Z,"Well it tends to happen in droves, as if it depends on the load on the Travis server.\nI wouldn't applaud yet :)\n",https://github.com/bitcoin/bitcoin/pull/6305#issuecomment-113390255,113390255,
laanwj,2015-06-19T12:58:04Z,Going ahead and merging this for troubleshooting improvement.\n,https://github.com/bitcoin/bitcoin/pull/6305#issuecomment-113507911,113507911,
dexX7,2015-06-19T17:10:36Z,"The issue is still present. I looped it locally, until it failed (took around 30 min):\n\n```\n06:34:40 15 BitcoindComparisonTool$1.onPreMessageReceived: Requested 230386124745549b4a14cb801c16c308568fcc5679b5afd9df0d8601cf938f7e\n06:34:40 15 Peer.processMessage: Received unhandled message: Reject: block 0f863347c378794f3a04e2899158a2f952c3720159fe71b6e13d23cca538f4d2 for reason 'bad-txns-inputs-mi",https://github.com/bitcoin/bitcoin/pull/6305#issuecomment-113578450,113578450,
theuni,2015-06-19T17:18:48Z,"@dexX7 Thanks for having a look. The line numbers didn't change, so it's the same as before.\n\nI came to the same conclusion when I looked into it last time, but @mikehearn was confident that the issue couldn't be here. My guess was that it could be caused by a non-so-random PRNG causing ping lookups to race. In that case, replacing the bitcoind.ping().get() with bitcoind.ping(counter++).get() wo",https://github.com/bitcoin/bitcoin/pull/6305#issuecomment-113580134,113580134,
dexX7,2015-06-19T19:51:12Z,"> My guess was that it could be caused by a non-so-random PRNG causing ping lookups to race.\n\nAh, just to clarify: I'm not sure, how it's caused, and this was just a guess.\n\nBut regarding the nonce lookup ""collision"": I gave it a try and it looks like the nonce can be anything, there always seems to be only one ping in the pending pings list (at least in these tests, for what I saw).\n\nI quic",https://github.com/bitcoin/bitcoin/pull/6305#issuecomment-113623614,113623614,
theuni,2015-06-19T20:36:43Z,"@dexX7 Ah, great work. Looks like we have an answer :)\n",https://github.com/bitcoin/bitcoin/pull/6305#issuecomment-113633975,113633975,
mikehearn,2015-06-21T12:45:13Z,"@dexX7 Thanks! The race is fixed in this commit:\n\nhttps://github.com/bitcoinj/bitcoinj/commit/ce50e0b7558d623481c4bb5c18d136de85268b2e\n\nRunning ""mvn package"" inside a git master checkout of bitcoinj should create a file core/target/pull-tests.jar that contains a fresh pull tester.\n",https://github.com/bitcoin/bitcoin/pull/6305#issuecomment-113894917,113894917,
