jgarzik,2011-05-09T17:49:48Z,"This is not correct.  The point of fUseUPnP is that it should always evaluate to false if upnp is absent.  That puts the #ifdef in a single location, rather than requiring an ifdef at every site, crapping up the code.\n",https://github.com/bitcoin/bitcoin/pull/213#issuecomment-1125080,1125080,
dholbert,2011-05-09T17:54:14Z,"ah -- perhaps ths change should actually be ""#ifdef"", not ""#if""?\n\nIt looks like fUseUPnP is only defined if USE_UPNP is defined -- quoting main.cpp:\n\n<pre>\n#ifdef USE_UPNP\n#if USE_UPNP\nint fUseUPnP = true;\n#else\nint fUseUPnP = false;\n#endif\n#endif\n</pre>\n\n...though it's declared unconditionally in main.h:\n\n<pre>\nextern int fUseUPnP;\n</pre>\n\n\nMaybe ""fUseUPnP"" should be defined ",https://github.com/bitcoin/bitcoin/pull/213#issuecomment-1125101,1125101,
TheBlueMatt,2011-05-09T18:12:11Z,"Probably should be, though it doesn't cause issues unless you have stale outputs in obj/*\n",https://github.com/bitcoin/bitcoin/pull/213#issuecomment-1125228,1125228,
dholbert,2011-05-09T18:30:02Z,"OK, this latest commit reverts my original changes, and instead groups the ""USE_UPNP undefined"" situation in with ""USE_UPNP=0"" situation, for defining fUseUPnP.\n\n> Probably should be, though it doesn't cause issues unless you have stale outputs in obj/*\n\nIt actually did cause issues for me, the first time I ever built bitcoin.\n",https://github.com/bitcoin/bitcoin/pull/213#issuecomment-1125332,1125332,
TheBlueMatt,2011-05-09T18:47:20Z,What compiler version?  The only ones I've ever seen don't cause problems there.  Did you not start to compile with USE_UPNP=0/1 then stop and go back and compile with USE_UPNP=\n,https://github.com/bitcoin/bitcoin/pull/213#issuecomment-1125446,1125446,
dholbert,2011-05-09T19:22:16Z,"> Did you not start to compile with USE_UPNP=0/1 then stop and go back and compile with USE_UPNP=\n\nSorry, yeah -- you're totally right.  I thought I was building from scratch, but I think what happened was:\n- I initially built using stock bitcoin source (no makefile tweaks)\n- That failed since I don't have the UPNP library.\n- Then I tweaked makefile.unix to have ""USE_UPNP:=""\n- ...and that ga",https://github.com/bitcoin/bitcoin/pull/213#issuecomment-1125661,1125661,
TheBlueMatt,2011-05-09T19:46:51Z,"Well, it doesn't matter that much as the autotools stuff should fix all this.\n",https://github.com/bitcoin/bitcoin/pull/213#issuecomment-1125766,1125766,
jgarzik,2011-05-12T21:24:09Z,"Can someone roll these into a single commit, please?  It is ready to pull, otherwise.\n\nWe prefer not to pull in situations where we're pulling ""commit A, now commit B fixes commit A"" type situations, to avoid cluttering the upstream bitcoin git history.\n",https://github.com/bitcoin/bitcoin/pull/213#issuecomment-1149373,1149373,
dholbert,2011-05-12T21:34:22Z,"I can do that, sure - should I just do that as a fresh commit & fresh pull request, then? (sorry, I'm new to github)\n",https://github.com/bitcoin/bitcoin/pull/213#issuecomment-1149432,1149432,
TheBlueMatt,2011-05-12T21:35:06Z,"Did it for you :), fUseUPnPfix branch, ACK.\n",https://github.com/bitcoin/bitcoin/pull/213#issuecomment-1149438,1149438,
dholbert,2011-05-12T21:35:37Z,"ah, thanks! :)\n",https://github.com/bitcoin/bitcoin/pull/213#issuecomment-1149440,1149440,
jgarzik,2011-05-12T21:42:30Z,pulled bluematt's fix\n,https://github.com/bitcoin/bitcoin/pull/213#issuecomment-1149472,1149472,
