[
  {
    "sha": "9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5Yzc2YmExOGNkZmUwMWZlOTI2NmUwZGNmNjcxNGRiZTBhYmJiODM3",
    "commit": {
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-08-29T15:48:25Z"
      },
      "committer": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-09-07T23:19:17Z"
      },
      "message": "[wallet] Rename InitLoadWallet() to OpenWallets()\n\nRationale:\n- this init function can now open multiple wallets (hence\n  Wallet->Wallets)\n- This is named as the antonym to CloseWallets(), which carries out the\n  opposite action.",
      "tree": {
        "sha": "abaa247a4fa23eb98ffde4f6bba991e6b56a5a94",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/abaa247a4fa23eb98ffde4f6bba991e6b56a5a94"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837/comments",
    "author": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f088a1bb392eaecd912ff9bca6967a8f4765c2b7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f088a1bb392eaecd912ff9bca6967a8f4765c2b7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f088a1bb392eaecd912ff9bca6967a8f4765c2b7"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "387bd2e2f76d2e43edf3b8214a70d39e5a72da85",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837",
        "patch": "@@ -1567,7 +1567,7 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n \n     // ********************************************************* Step 8: load wallet\n #ifdef ENABLE_WALLET\n-    if (!InitLoadWallet())\n+    if (!OpenWallets())\n         return false;\n #else\n     LogPrintf(\"No wallet support compiled in!\\n\");"
      },
      {
        "sha": "95b188b629a5aea00c96d01531c1c5ba3d2e82a8",
        "filename": "src/wallet/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837/src/wallet/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837/src/wallet/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.cpp?ref=9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837",
        "patch": "@@ -228,7 +228,7 @@ bool WalletVerify()\n     return true;\n }\n \n-bool InitLoadWallet()\n+bool OpenWallets()\n {\n     if (gArgs.GetBoolArg(\"-disablewallet\", DEFAULT_DISABLE_WALLET)) {\n         LogPrintf(\"Wallet disabled!\\n\");"
      },
      {
        "sha": "1821e5e70715062dd09ebec63522f0dd3a9a95d1",
        "filename": "src/wallet/init.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837/src/wallet/init.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837/src/wallet/init.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.h?ref=9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837",
        "patch": "@@ -20,6 +20,6 @@ bool WalletParameterInteraction();\n bool WalletVerify();\n \n //! Load wallet databases.\n-bool InitLoadWallet();\n+bool OpenWallets();\n \n #endif // BITCOIN_WALLET_INIT_H"
      }
    ]
  },
  {
    "sha": "1b9cee66e1c50cb6f110793ec5dc4c6a291cce36",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxYjljZWU2NmUxYzUwY2I2ZjExMDc5M2VjNWRjNGM2YTI5MWNjZTM2",
    "commit": {
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-08-29T15:51:02Z"
      },
      "committer": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-09-07T23:21:09Z"
      },
      "message": "[wallet] Rename WalletVerify() to VerifyWallets()\n\nThis function can now verify multiple wallets.",
      "tree": {
        "sha": "77654dbc19f0924841b6181008f6b72f3a0244ca",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/77654dbc19f0924841b6181008f6b72f3a0244ca"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1b9cee66e1c50cb6f110793ec5dc4c6a291cce36",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1b9cee66e1c50cb6f110793ec5dc4c6a291cce36",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/1b9cee66e1c50cb6f110793ec5dc4c6a291cce36",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1b9cee66e1c50cb6f110793ec5dc4c6a291cce36/comments",
    "author": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/9c76ba18cdfe01fe9266e0dcf6714dbe0abbb837"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "ce368a6bb169eb173743f19f216b87952f4bbab3",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1b9cee66e1c50cb6f110793ec5dc4c6a291cce36/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1b9cee66e1c50cb6f110793ec5dc4c6a291cce36/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=1b9cee66e1c50cb6f110793ec5dc4c6a291cce36",
        "patch": "@@ -1246,7 +1246,7 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n \n     // ********************************************************* Step 5: verify wallet database integrity\n #ifdef ENABLE_WALLET\n-    if (!WalletVerify())\n+    if (!VerifyWallets())\n         return false;\n #endif\n     // ********************************************************* Step 6: network initialization"
      },
      {
        "sha": "f39201e79c6409063d25ebcee4be5906fd457b60",
        "filename": "src/wallet/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1b9cee66e1c50cb6f110793ec5dc4c6a291cce36/src/wallet/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1b9cee66e1c50cb6f110793ec5dc4c6a291cce36/src/wallet/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.cpp?ref=1b9cee66e1c50cb6f110793ec5dc4c6a291cce36",
        "patch": "@@ -171,7 +171,7 @@ bool WalletParameterInteraction()\n     return true;\n }\n \n-bool WalletVerify()\n+bool VerifyWallets()\n {\n     if (gArgs.GetBoolArg(\"-disablewallet\", DEFAULT_DISABLE_WALLET))\n         return true;"
      },
      {
        "sha": "a66b3594390ac4d83346100c15597363222137db",
        "filename": "src/wallet/init.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1b9cee66e1c50cb6f110793ec5dc4c6a291cce36/src/wallet/init.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1b9cee66e1c50cb6f110793ec5dc4c6a291cce36/src/wallet/init.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.h?ref=1b9cee66e1c50cb6f110793ec5dc4c6a291cce36",
        "patch": "@@ -17,7 +17,7 @@ bool WalletParameterInteraction();\n //! Responsible for reading and validating the -wallet arguments and verifying the wallet database.\n //  This function will perform salvage on the wallet if requested, as long as only one wallet is\n //  being loaded (CWallet::ParameterInteraction forbids -salvagewallet, -zapwallettxes or -upgradewallet with multiwallet).\n-bool WalletVerify();\n+bool VerifyWallets();\n \n //! Load wallet databases.\n bool OpenWallets();"
      }
    ]
  },
  {
    "sha": "2da5eafa47cdf81107bd3e71a709d404ebb6dcdb",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyZGE1ZWFmYTQ3Y2RmODExMDdiZDNlNzFhNzA5ZDQwNGViYjZkY2Ri",
    "commit": {
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-08-28T16:31:53Z"
      },
      "committer": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-09-07T23:21:26Z"
      },
      "message": "[wallet] Add FlushWallets() function to wallet/init.cpp",
      "tree": {
        "sha": "5ebc2890b25d7697dec4c0b3a36764363b3a087d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5ebc2890b25d7697dec4c0b3a36764363b3a087d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2da5eafa47cdf81107bd3e71a709d404ebb6dcdb",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2da5eafa47cdf81107bd3e71a709d404ebb6dcdb",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2da5eafa47cdf81107bd3e71a709d404ebb6dcdb",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2da5eafa47cdf81107bd3e71a709d404ebb6dcdb/comments",
    "author": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1b9cee66e1c50cb6f110793ec5dc4c6a291cce36",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1b9cee66e1c50cb6f110793ec5dc4c6a291cce36",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1b9cee66e1c50cb6f110793ec5dc4c6a291cce36"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 11,
      "deletions": 6
    },
    "files": [
      {
        "sha": "6d250a25cf65b1c375e16707cbcadafbfc9343c5",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 6,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2da5eafa47cdf81107bd3e71a709d404ebb6dcdb/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2da5eafa47cdf81107bd3e71a709d404ebb6dcdb/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=2da5eafa47cdf81107bd3e71a709d404ebb6dcdb",
        "patch": "@@ -189,9 +189,7 @@ void Shutdown()\n     StopRPC();\n     StopHTTPServer();\n #ifdef ENABLE_WALLET\n-    for (CWalletRef pwallet : vpwallets) {\n-        pwallet->Flush(false);\n-    }\n+    FlushWallets(false);\n #endif\n     MapPort(false);\n     UnregisterValidationInterface(peerLogic.get());\n@@ -246,9 +244,7 @@ void Shutdown()\n         pblocktree = nullptr;\n     }\n #ifdef ENABLE_WALLET\n-    for (CWalletRef pwallet : vpwallets) {\n-        pwallet->Flush(true);\n-    }\n+    FlushWallets(true);\n #endif\n \n #if ENABLE_ZMQ"
      },
      {
        "sha": "f58f3bc545074f5e6bf8076a7c21c51829e40f03",
        "filename": "src/wallet/init.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2da5eafa47cdf81107bd3e71a709d404ebb6dcdb/src/wallet/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2da5eafa47cdf81107bd3e71a709d404ebb6dcdb/src/wallet/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.cpp?ref=2da5eafa47cdf81107bd3e71a709d404ebb6dcdb",
        "patch": "@@ -245,3 +245,9 @@ bool OpenWallets()\n \n     return true;\n }\n+\n+void FlushWallets(bool shutdown) {\n+    for (CWalletRef pwallet : vpwallets) {\n+        pwallet->Flush(shutdown);\n+    }\n+}"
      },
      {
        "sha": "5445c72d1c2c2357d2f9d86a7859f0f58d254a6c",
        "filename": "src/wallet/init.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2da5eafa47cdf81107bd3e71a709d404ebb6dcdb/src/wallet/init.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2da5eafa47cdf81107bd3e71a709d404ebb6dcdb/src/wallet/init.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.h?ref=2da5eafa47cdf81107bd3e71a709d404ebb6dcdb",
        "patch": "@@ -22,4 +22,7 @@ bool VerifyWallets();\n //! Load wallet databases.\n bool OpenWallets();\n \n+//! Flush all wallets in preparation for shutdown.\n+//! Call with shutdown = true to actually shutdown the wallet.\n+void FlushWallets(bool shutdown);\n #endif // BITCOIN_WALLET_INIT_H"
      }
    ]
  },
  {
    "sha": "77fe07c1591395b4279f9f2ff3c36c6bde11fbb7",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3N2ZlMDdjMTU5MTM5NWI0Mjc5ZjlmMmZmM2MzNmM2YmRlMTFmYmI3",
    "commit": {
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-08-28T16:53:56Z"
      },
      "committer": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-09-07T23:21:26Z"
      },
      "message": "[wallet] Add StopWallets() function to wallet/init.cpp",
      "tree": {
        "sha": "340158d4f541bb9f4bbc7bbe1615ba1e1a2e66d2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/340158d4f541bb9f4bbc7bbe1615ba1e1a2e66d2"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/77fe07c1591395b4279f9f2ff3c36c6bde11fbb7",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/77fe07c1591395b4279f9f2ff3c36c6bde11fbb7",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/77fe07c1591395b4279f9f2ff3c36c6bde11fbb7",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/77fe07c1591395b4279f9f2ff3c36c6bde11fbb7/comments",
    "author": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2da5eafa47cdf81107bd3e71a709d404ebb6dcdb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2da5eafa47cdf81107bd3e71a709d404ebb6dcdb",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2da5eafa47cdf81107bd3e71a709d404ebb6dcdb"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 14,
      "deletions": 6
    },
    "files": [
      {
        "sha": "d1ffe126d42902196e0b43b8dcfee8b5eda16ce5",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/77fe07c1591395b4279f9f2ff3c36c6bde11fbb7/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/77fe07c1591395b4279f9f2ff3c36c6bde11fbb7/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=77fe07c1591395b4279f9f2ff3c36c6bde11fbb7",
        "patch": "@@ -189,7 +189,7 @@ void Shutdown()\n     StopRPC();\n     StopHTTPServer();\n #ifdef ENABLE_WALLET\n-    FlushWallets(false);\n+    FlushWallets();\n #endif\n     MapPort(false);\n     UnregisterValidationInterface(peerLogic.get());\n@@ -244,7 +244,7 @@ void Shutdown()\n         pblocktree = nullptr;\n     }\n #ifdef ENABLE_WALLET\n-    FlushWallets(true);\n+    StopWallets();\n #endif\n \n #if ENABLE_ZMQ"
      },
      {
        "sha": "2b5c6b17370c46bae641efb30930966f738d22eb",
        "filename": "src/wallet/init.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 2,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/77fe07c1591395b4279f9f2ff3c36c6bde11fbb7/src/wallet/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/77fe07c1591395b4279f9f2ff3c36c6bde11fbb7/src/wallet/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.cpp?ref=77fe07c1591395b4279f9f2ff3c36c6bde11fbb7",
        "patch": "@@ -246,8 +246,14 @@ bool OpenWallets()\n     return true;\n }\n \n-void FlushWallets(bool shutdown) {\n+void FlushWallets() {\n     for (CWalletRef pwallet : vpwallets) {\n-        pwallet->Flush(shutdown);\n+        pwallet->Flush(false);\n+    }\n+}\n+\n+void StopWallets() {\n+    for (CWalletRef pwallet : vpwallets) {\n+        pwallet->Flush(true);\n     }\n }"
      },
      {
        "sha": "c06b05847458743005c808066dbfb7ff5f91e28c",
        "filename": "src/wallet/init.h",
        "status": "modified",
        "additions": 4,
        "deletions": 2,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/77fe07c1591395b4279f9f2ff3c36c6bde11fbb7/src/wallet/init.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/77fe07c1591395b4279f9f2ff3c36c6bde11fbb7/src/wallet/init.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.h?ref=77fe07c1591395b4279f9f2ff3c36c6bde11fbb7",
        "patch": "@@ -23,6 +23,8 @@ bool VerifyWallets();\n bool OpenWallets();\n \n //! Flush all wallets in preparation for shutdown.\n-//! Call with shutdown = true to actually shutdown the wallet.\n-void FlushWallets(bool shutdown);\n+void FlushWallets();\n+\n+//! Stop all wallets. Wallets will be flushed first.\n+void StopWallets();\n #endif // BITCOIN_WALLET_INIT_H"
      }
    ]
  },
  {
    "sha": "062d63102eb1e90168d28589de8bf182e9a6a7d3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowNjJkNjMxMDJlYjFlOTAxNjhkMjg1ODlkZThiZjE4MmU5YTZhN2Qz",
    "commit": {
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-08-28T16:41:33Z"
      },
      "committer": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-09-07T23:21:26Z"
      },
      "message": "[wallet] Add CloseWallets() function to wallet/init.cpp",
      "tree": {
        "sha": "b0550b5a12daf40f065b21a4c6ddb0dd7619936a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b0550b5a12daf40f065b21a4c6ddb0dd7619936a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/062d63102eb1e90168d28589de8bf182e9a6a7d3",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/062d63102eb1e90168d28589de8bf182e9a6a7d3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/062d63102eb1e90168d28589de8bf182e9a6a7d3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/062d63102eb1e90168d28589de8bf182e9a6a7d3/comments",
    "author": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "77fe07c1591395b4279f9f2ff3c36c6bde11fbb7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/77fe07c1591395b4279f9f2ff3c36c6bde11fbb7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/77fe07c1591395b4279f9f2ff3c36c6bde11fbb7"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 12,
      "deletions": 4
    },
    "files": [
      {
        "sha": "3f528a1f5de0ccb417aadab7b63faf39afec885e",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 4,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/062d63102eb1e90168d28589de8bf182e9a6a7d3/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/062d63102eb1e90168d28589de8bf182e9a6a7d3/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=062d63102eb1e90168d28589de8bf182e9a6a7d3",
        "patch": "@@ -265,10 +265,7 @@ void Shutdown()\n     UnregisterAllValidationInterfaces();\n     GetMainSignals().UnregisterBackgroundSignalScheduler();\n #ifdef ENABLE_WALLET\n-    for (CWalletRef pwallet : vpwallets) {\n-        delete pwallet;\n-    }\n-    vpwallets.clear();\n+    CloseWallets();\n #endif\n     globalVerifyHandle.reset();\n     ECC_Stop();"
      },
      {
        "sha": "84318eac0af0c9a6eaa1eac4122fec79f6b9b7bc",
        "filename": "src/wallet/init.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/062d63102eb1e90168d28589de8bf182e9a6a7d3/src/wallet/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/062d63102eb1e90168d28589de8bf182e9a6a7d3/src/wallet/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.cpp?ref=062d63102eb1e90168d28589de8bf182e9a6a7d3",
        "patch": "@@ -257,3 +257,10 @@ void StopWallets() {\n         pwallet->Flush(true);\n     }\n }\n+\n+void CloseWallets() {\n+    for (CWalletRef pwallet : vpwallets) {\n+        delete pwallet;\n+    }\n+    vpwallets.clear();\n+}"
      },
      {
        "sha": "1be2ef9273fd5e846bef79f31a595b6052cd9d03",
        "filename": "src/wallet/init.h",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/062d63102eb1e90168d28589de8bf182e9a6a7d3/src/wallet/init.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/062d63102eb1e90168d28589de8bf182e9a6a7d3/src/wallet/init.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.h?ref=062d63102eb1e90168d28589de8bf182e9a6a7d3",
        "patch": "@@ -27,4 +27,8 @@ void FlushWallets();\n \n //! Stop all wallets. Wallets will be flushed first.\n void StopWallets();\n+\n+//! Close all wallets.\n+void CloseWallets();\n+\n #endif // BITCOIN_WALLET_INIT_H"
      }
    ]
  },
  {
    "sha": "290f3c56d9dd8a519920939a4fc440da832c1c63",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyOTBmM2M1NmQ5ZGQ4YTUxOTkyMDkzOWE0ZmM0NDBkYTgzMmMxYzYz",
    "commit": {
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-08-28T17:33:59Z"
      },
      "committer": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-09-07T23:21:26Z"
      },
      "message": "[wallet] Add RegisterWalletRPC() function to wallet/init.cpp",
      "tree": {
        "sha": "c6a33d86aa941f6f3a7f6b17821ecf7d8464ccc6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c6a33d86aa941f6f3a7f6b17821ecf7d8464ccc6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/290f3c56d9dd8a519920939a4fc440da832c1c63",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/290f3c56d9dd8a519920939a4fc440da832c1c63",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/290f3c56d9dd8a519920939a4fc440da832c1c63",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/290f3c56d9dd8a519920939a4fc440da832c1c63/comments",
    "author": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "062d63102eb1e90168d28589de8bf182e9a6a7d3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/062d63102eb1e90168d28589de8bf182e9a6a7d3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/062d63102eb1e90168d28589de8bf182e9a6a7d3"
      }
    ],
    "stats": {
      "total": 21,
      "additions": 17,
      "deletions": 4
    },
    "files": [
      {
        "sha": "9022b4a4c98c84b856a52ef32223f16274cbeaf2",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/290f3c56d9dd8a519920939a4fc440da832c1c63/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/290f3c56d9dd8a519920939a4fc440da832c1c63/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=290f3c56d9dd8a519920939a4fc440da832c1c63",
        "patch": "@@ -1017,7 +1017,7 @@ bool AppInitParameterInteraction()\n \n     RegisterAllCoreRPCCommands(tableRPC);\n #ifdef ENABLE_WALLET\n-    RegisterWalletRPCCommands(tableRPC);\n+    RegisterWalletRPC(tableRPC);\n #endif\n \n     nConnectTimeout = gArgs.GetArg(\"-timeout\", DEFAULT_CONNECT_TIMEOUT);"
      },
      {
        "sha": "9fd038150fc340e05cf0554fa30017617b00ff42",
        "filename": "src/wallet/init.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/290f3c56d9dd8a519920939a4fc440da832c1c63/src/wallet/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/290f3c56d9dd8a519920939a4fc440da832c1c63/src/wallet/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.cpp?ref=290f3c56d9dd8a519920939a4fc440da832c1c63",
        "patch": "@@ -10,6 +10,7 @@\n #include \"utilmoneystr.h\"\n #include \"validation.h\"\n #include \"wallet/wallet.h\"\n+#include \"wallet/rpcwallet.h\"\n \n std::string GetWalletHelpString(bool showDebug)\n {\n@@ -171,6 +172,13 @@ bool WalletParameterInteraction()\n     return true;\n }\n \n+void RegisterWalletRPC(CRPCTable &t)\n+{\n+    if (gArgs.GetBoolArg(\"-disablewallet\", false)) return;\n+\n+    RegisterWalletRPCCommands(t);\n+}\n+\n bool VerifyWallets()\n {\n     if (gArgs.GetBoolArg(\"-disablewallet\", DEFAULT_DISABLE_WALLET))"
      },
      {
        "sha": "588357119c5562c64502a3e938ed83af4d875853",
        "filename": "src/wallet/init.h",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/290f3c56d9dd8a519920939a4fc440da832c1c63/src/wallet/init.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/290f3c56d9dd8a519920939a4fc440da832c1c63/src/wallet/init.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.h?ref=290f3c56d9dd8a519920939a4fc440da832c1c63",
        "patch": "@@ -8,12 +8,17 @@\n \n #include <string>\n \n+class CRPCTable;\n+\n //! Return the wallets help message.\n std::string GetWalletHelpString(bool showDebug);\n \n //! Wallets parameter interaction\n bool WalletParameterInteraction();\n \n+//! Register wallet RPCs.\n+void RegisterWalletRPC(CRPCTable &tableRPC);\n+\n //! Responsible for reading and validating the -wallet arguments and verifying the wallet database.\n //  This function will perform salvage on the wallet if requested, as long as only one wallet is\n //  being loaded (CWallet::ParameterInteraction forbids -salvagewallet, -zapwallettxes or -upgradewallet with multiwallet)."
      },
      {
        "sha": "6ef3599a1ca7b9128e9ace3dacecc9aefa766cd1",
        "filename": "src/wallet/rpcwallet.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 3,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/290f3c56d9dd8a519920939a4fc440da832c1c63/src/wallet/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/290f3c56d9dd8a519920939a4fc440da832c1c63/src/wallet/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/rpcwallet.cpp?ref=290f3c56d9dd8a519920939a4fc440da832c1c63",
        "patch": "@@ -3217,9 +3217,6 @@ static const CRPCCommand commands[] =\n \n void RegisterWalletRPCCommands(CRPCTable &t)\n {\n-    if (gArgs.GetBoolArg(\"-disablewallet\", false))\n-        return;\n-\n     for (unsigned int vcidx = 0; vcidx < ARRAYLEN(commands); vcidx++)\n         t.appendCommand(commands[vcidx].name, &commands[vcidx]);\n }"
      },
      {
        "sha": "14e51610d968db090f2357cf8d4a10fa654951ed",
        "filename": "src/wallet/rpcwallet.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/290f3c56d9dd8a519920939a4fc440da832c1c63/src/wallet/rpcwallet.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/290f3c56d9dd8a519920939a4fc440da832c1c63/src/wallet/rpcwallet.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/rpcwallet.h?ref=290f3c56d9dd8a519920939a4fc440da832c1c63",
        "patch": "@@ -5,7 +5,10 @@\n #ifndef BITCOIN_WALLET_RPCWALLET_H\n #define BITCOIN_WALLET_RPCWALLET_H\n \n+#include <string>\n+\n class CRPCTable;\n+class CWallet;\n class JSONRPCRequest;\n \n void RegisterWalletRPCCommands(CRPCTable &t);"
      }
    ]
  },
  {
    "sha": "43b0e81d0f8f5d235e1cdaa2ee128b67259f7109",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0M2IwZTgxZDBmOGY1ZDIzNWUxY2RhYTJlZTEyOGI2NzI1OWY3MTA5",
    "commit": {
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-08-29T15:47:06Z"
      },
      "committer": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-09-07T23:21:26Z"
      },
      "message": "[wallet] Add StartWallets() function to wallet/init.cpp",
      "tree": {
        "sha": "427059c5b9d0675285ec2b294c2212702d959d21",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/427059c5b9d0675285ec2b294c2212702d959d21"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/43b0e81d0f8f5d235e1cdaa2ee128b67259f7109",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/43b0e81d0f8f5d235e1cdaa2ee128b67259f7109",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/43b0e81d0f8f5d235e1cdaa2ee128b67259f7109",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/43b0e81d0f8f5d235e1cdaa2ee128b67259f7109/comments",
    "author": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "290f3c56d9dd8a519920939a4fc440da832c1c63",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/290f3c56d9dd8a519920939a4fc440da832c1c63",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/290f3c56d9dd8a519920939a4fc440da832c1c63"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 11,
      "deletions": 4
    },
    "files": [
      {
        "sha": "fc31d3d4dd726177f56414691a609525fbdea3a1",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 4,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/43b0e81d0f8f5d235e1cdaa2ee128b67259f7109/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/43b0e81d0f8f5d235e1cdaa2ee128b67259f7109/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=43b0e81d0f8f5d235e1cdaa2ee128b67259f7109",
        "patch": "@@ -44,7 +44,6 @@\n #include \"validationinterface.h\"\n #ifdef ENABLE_WALLET\n #include \"wallet/init.h\"\n-#include \"wallet/wallet.h\"\n #endif\n #include \"warnings.h\"\n #include <stdint.h>\n@@ -1691,9 +1690,7 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     uiInterface.InitMessage(_(\"Done loading\"));\n \n #ifdef ENABLE_WALLET\n-    for (CWalletRef pwallet : vpwallets) {\n-        pwallet->postInitProcess(scheduler);\n-    }\n+    StartWallets(scheduler);\n #endif\n \n     return !fRequestShutdown;"
      },
      {
        "sha": "1e00735ed952e1758312a152ebeb34cab4dd1d93",
        "filename": "src/wallet/init.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/43b0e81d0f8f5d235e1cdaa2ee128b67259f7109/src/wallet/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/43b0e81d0f8f5d235e1cdaa2ee128b67259f7109/src/wallet/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.cpp?ref=43b0e81d0f8f5d235e1cdaa2ee128b67259f7109",
        "patch": "@@ -254,6 +254,12 @@ bool OpenWallets()\n     return true;\n }\n \n+void StartWallets(CScheduler& scheduler) {\n+    for (CWalletRef pwallet : vpwallets) {\n+        pwallet->postInitProcess(scheduler);\n+    }\n+}\n+\n void FlushWallets() {\n     for (CWalletRef pwallet : vpwallets) {\n         pwallet->Flush(false);"
      },
      {
        "sha": "0d5e5f0cdea4d7e6168875ab084ac4e26e81d039",
        "filename": "src/wallet/init.h",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/43b0e81d0f8f5d235e1cdaa2ee128b67259f7109/src/wallet/init.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/43b0e81d0f8f5d235e1cdaa2ee128b67259f7109/src/wallet/init.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.h?ref=43b0e81d0f8f5d235e1cdaa2ee128b67259f7109",
        "patch": "@@ -9,6 +9,7 @@\n #include <string>\n \n class CRPCTable;\n+class CScheduler;\n \n //! Return the wallets help message.\n std::string GetWalletHelpString(bool showDebug);\n@@ -27,6 +28,9 @@ bool VerifyWallets();\n //! Load wallet databases.\n bool OpenWallets();\n \n+//! Complete startup of wallets.\n+void StartWallets(CScheduler& scheduler);\n+\n //! Flush all wallets in preparation for shutdown.\n void FlushWallets();\n "
      }
    ]
  },
  {
    "sha": "5d2a3995e7035b3607a11660a2c8330a548f733d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1ZDJhMzk5NWU3MDM1YjM2MDdhMTE2NjBhMmM4MzMwYTU0OGY3MzNk",
    "commit": {
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-09-07T23:22:11Z"
      },
      "committer": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2017-09-07T23:22:11Z"
      },
      "message": "[trivial] fixup comment for VerifyWallets()",
      "tree": {
        "sha": "9aa1fb09499e9ece70551da9d051b7654f64894a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9aa1fb09499e9ece70551da9d051b7654f64894a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5d2a3995e7035b3607a11660a2c8330a548f733d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5d2a3995e7035b3607a11660a2c8330a548f733d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5d2a3995e7035b3607a11660a2c8330a548f733d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5d2a3995e7035b3607a11660a2c8330a548f733d/comments",
    "author": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "43b0e81d0f8f5d235e1cdaa2ee128b67259f7109",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/43b0e81d0f8f5d235e1cdaa2ee128b67259f7109",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/43b0e81d0f8f5d235e1cdaa2ee128b67259f7109"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "0b3ee2dda260d5b525af995c9c089c7ef3d7888c",
        "filename": "src/wallet/init.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5d2a3995e7035b3607a11660a2c8330a548f733d/src/wallet/init.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5d2a3995e7035b3607a11660a2c8330a548f733d/src/wallet/init.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.h?ref=5d2a3995e7035b3607a11660a2c8330a548f733d",
        "patch": "@@ -22,7 +22,7 @@ void RegisterWalletRPC(CRPCTable &tableRPC);\n \n //! Responsible for reading and validating the -wallet arguments and verifying the wallet database.\n //  This function will perform salvage on the wallet if requested, as long as only one wallet is\n-//  being loaded (CWallet::ParameterInteraction forbids -salvagewallet, -zapwallettxes or -upgradewallet with multiwallet).\n+//  being loaded (WalletParameterInteraction forbids -salvagewallet, -zapwallettxes or -upgradewallet with multiwallet).\n bool VerifyWallets();\n \n //! Load wallet databases."
      }
    ]
  }
]