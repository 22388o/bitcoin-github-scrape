laanwj,2017-03-17T09:37:11Z,Nice! Concept ACK,https://github.com/bitcoin/bitcoin/pull/10017#issuecomment-287308512,287308512,
practicalswift,2017-03-17T10:20:00Z,"@jnewbery Good stuff! Just a minor nit - consider running `flake8` on `combine_logs.py` and fix the warnings to bring it in line with PEP-8 :-)\n\nThese are the warnings:\n```\n      1  B901 blind except: statement\n      1  E221 multiple spaces before operator\n      1  E231 missing whitespace after ','\n     10  E251 unexpected spaces around keyword / parameter equals\n      5  E261 at l",https://github.com/bitcoin/bitcoin/pull/10017#issuecomment-287317623,287317623,
jnewbery,2017-03-17T14:24:59Z,"Thanks @practicalswift . I've addressed the flake8 warnings except:\n\n```\n4     E302 expected 2 blank lines, found 1\n1     E305 expected 2 blank lines after class or function definition, found 1\n15    E501 line too long (80 > 79 characters)\n```\n\nwhich I don't care about.",https://github.com/bitcoin/bitcoin/pull/10017#issuecomment-287367784,287367784,
MarcoFalke,2017-03-17T18:28:42Z,Indeed. Really nice!,https://github.com/bitcoin/bitcoin/pull/10017#issuecomment-287435451,287435451,
TheBlueMatt,2017-03-17T22:22:41Z,Awesome! Can we get travis to use this when it dumps failed debug logs (I believe its via test_framework.py).,https://github.com/bitcoin/bitcoin/pull/10017#issuecomment-287485997,287485997,
jnewbery,2017-03-17T22:42:27Z,"@TheBlueMatt that's definitely possible. I'd envision travis pushing the html logs to S3 or similar and printing a link in its build log.\n\nBut first things first: this needs a bit of review. Once it's merged we can look at integrating it into our build process.",https://github.com/bitcoin/bitcoin/pull/10017#issuecomment-287489102,287489102,
MarcoFalke,2017-03-19T09:45:20Z,"Tested double-rainbow ACK\n\n![screenshot from 2017-03-19 10-44-05](https://cloud.githubusercontent.com/assets/6399679/24079796/1af91bf4-0c91-11e7-8f70-4a86276da6c2.png)\n\n",https://github.com/bitcoin/bitcoin/pull/10017#issuecomment-287605178,287605178,
jnewbery,2017-03-20T14:48:53Z,Thanks for the review @paveljanik . Nits addressed in https://github.com/bitcoin/bitcoin/pull/10017/commits/af802c8b45f6fa913dcc0442a48343cb75a521e5.,https://github.com/bitcoin/bitcoin/pull/10017#issuecomment-287782225,287782225,
laanwj,2017-03-21T12:51:06Z,The script needs to be moved for #9956,https://github.com/bitcoin/bitcoin/pull/10017#issuecomment-288068523,288068523,
jnewbery,2017-03-21T14:08:56Z,"I've rebased and moved the script to /test/functional, addressed @laanwj's nit https://github.com/bitcoin/bitcoin/pull/10017#discussion_r107131372 and updated logging in the functional test framework to always log in UTC.",https://github.com/bitcoin/bitcoin/pull/10017#issuecomment-288089308,288089308,
jnewbery,2017-03-21T21:31:07Z,fixup commits squashed https://github.com/jnewbery/bitcoin/tree/pr10017.1 -> https://github.com/jnewbery/bitcoin/tree/pr10017.2,https://github.com/bitcoin/bitcoin/pull/10017#issuecomment-288225382,288225382,
laanwj,2017-03-22T11:21:17Z,"Re-tested, looks good to me now, everything is in the right order. I think this can turn out to be really useful in debugging synchronization issues. Removing the [POC] tag.",https://github.com/bitcoin/bitcoin/pull/10017#issuecomment-288369463,288369463,
paveljanik,2017-03-19T11:44:45Z,reners -> renders,https://github.com/bitcoin/bitcoin/pull/10017#discussion_r106804479,106804479,qa/pull-tester/combine_logs.py
paveljanik,2017-03-19T11:45:08Z,color -> Color,https://github.com/bitcoin/bitcoin/pull/10017#discussion_r106804489,106804489,qa/pull-tester/combine_logs.py
paveljanik,2017-03-19T11:47:14Z,This new dependency should be mentioned somewhere.,https://github.com/bitcoin/bitcoin/pull/10017#discussion_r106804515,106804515,qa/pull-tester/combine_logs.py
laanwj,2017-03-20T14:37:45Z,"It's mentioned in the --help message:\n\n> parser.add_argument('--html', dest='html', action='store_true', help='outputs the combined log as html. Requires jinja2. pip install jinja2')\n\nAs it's only required when `--html` is provided and not by default I'd say that is enough.\n",https://github.com/bitcoin/bitcoin/pull/10017#discussion_r106916727,106916727,qa/pull-tester/combine_logs.py
jnewbery,2017-03-20T14:47:41Z,"I agree. HTML rendering is not expected to be the mainline use case. If you do want to render as HTML, the documentation is exactly where it should be, at the point of use (and with instructions on how to resolve the problem):\n\n```python\n        try:\n            import jinja2\n        except ImportError:\n            print(""jinja2 not found. Try `pip install jinja2`"")\n            sys.e",https://github.com/bitcoin/bitcoin/pull/10017#discussion_r106919695,106919695,qa/pull-tester/combine_logs.py
paveljanik,2017-03-20T14:49:12Z,Yes.,https://github.com/bitcoin/bitcoin/pull/10017#discussion_r106920139,106920139,qa/pull-tester/combine_logs.py
laanwj,2017-03-21T11:01:06Z,"Nit: `\033[0m` suffices, and the WHITE comment should probably go as the reset-color depends on the terminal settings.",https://github.com/bitcoin/bitcoin/pull/10017#discussion_r107125968,107125968,qa/pull-tester/combine_logs.py
laanwj,2017-03-21T11:30:41Z,"Not a bug in this tool, but I noticed a divergence with the sorting of messages: logging from the test framework is in local time, logging from the nodes is in UTC. This causes, in Europe, all the test messages to sink to the end. I think all logging should be UTC.",https://github.com/bitcoin/bitcoin/pull/10017#discussion_r107131372,107131372,qa/pull-tester/combine_logs.py
jnewbery,2017-03-21T14:07:31Z,"Yes, you're right - all logging should be in UTC. I've pushed a commit which makes the functional test framework log in UTC. Can you retest with the latest tip?",https://github.com/bitcoin/bitcoin/pull/10017#discussion_r107163137,107163137,qa/pull-tester/combine_logs.py
jnewbery,2017-03-21T14:07:43Z,Thanks - fixed,https://github.com/bitcoin/bitcoin/pull/10017#discussion_r107163184,107163184,qa/pull-tester/combine_logs.py
