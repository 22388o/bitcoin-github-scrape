[
  {
    "sha": "fc0eca31b33f87882e2aa329a3746d4e08af1985",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYzBlY2EzMWIzM2Y4Nzg4MmUyYWEzMjlhMzc0NmQ0ZTA4YWYxOTg1",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-06-15T14:38:01Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-06-16T08:41:24Z"
      },
      "message": "fuzz: fix fuzz binary linking order\n\nWe encountered a linking error when attempting to include external_signer_scriptpubkeyman.cpp when configured with --disable-external-signer.\n\nEverywhere else we have LIBBITCOIN_WALLET, it is always before LIBBITCOIN_COMMON. But if you go up to where FUZZ_SUITE_LD_COMMON is first set, you see that we will end up having LIBBITCOIN_COMMON set before LIBBITCOIN_WALLET which means that the linker will have problems linking things common things that the wallet uses. Because the order is correct for the other targets, we only see a linker error for test/fuzz/fuzz.\n\nIn this diff, LIBTEST_UTIL and LIBTEST_FUZZ are moved to the top because they include LIBBITCOIN_SERVER and LIBBITCOIN_COMMON. LIBBITCOIN_SERVER always needs to be the first item in the linker order since it has the most dependencies.\n\nThe makefiles for making the fuzz and test binaries should be revisited so that the linking order is made consistent with the rest of the code and to avoid other linker order issues that may crop up in the future.\n\nCo-Authored-By: Andrew Chow <achow101-github@achow101.com>",
      "tree": {
        "sha": "a37dd4539476c1fa1e89c675d68ba6421b8e1a52",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a37dd4539476c1fa1e89c675d68ba6421b8e1a52"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fc0eca31b33f87882e2aa329a3746d4e08af1985",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmDJuf8ACgkQV/+b28ww\nEAnYZxAAiNmeqGaEM/FHJy6ZOKO22BbfdnaHnt4XAo7F1g8in9MmvGfUGA0UKtpj\nfWDm0zYePOFfPn/HBqRqknbSrf/TuUv8o2fr+krOxsZtbkRiKY0SspOsz1MgDCXY\n8novPpUJqGoWD+gNCj66p+WmVxP9hV91a8sUhgTmGCcpN0QKLvG/eGIqC0/dF5EG\nLkycOL/aA874huEZLHvl95pDx3QmLymYen/ZJD1K/7ErbUE5Vq9bm2RSKpxNL9Jv\nPpyeNpeVshOvCVGXMo7IIBdeMS8d4/+/23GuXfsRawMLVuEfYjtTB5NmsTFYEeJ1\nA2BrAdMy7bQgRuUiy5BL4LtvrJaArizUZVj1CXgJLY+mHUV4Lt0n7NOVSjIWgGJN\n+uCYagiq9f7eHXaX33ZNA9T7BK0ABbXItPiXeUvmYAiIUUjA/A+PgijBdSTvgb3O\ndyymnoMbNwm+IXtuc4GKd+DPZRRSy82o6TaGG92DYm8hdOrokp3Fvddcm32W3OgJ\nup5jEDw6bPrHT8NuLKqk95CZ7eQmcfQtUh0ygEWNSvl+NbKej5JAYnIDaPoOQGCs\ndydJ2dkABJhdkn4E0sSRO1rxBnTs4px+juRskCqaQ55TH+HUpor+ngewcynJpmuP\nmO5tXJpPZ0lvtFyeWEELIgXz0nGnIeF9qZQnC0bxjkKdoX8hSP4=\n=jsGz\n-----END PGP SIGNATURE-----",
        "payload": "tree a37dd4539476c1fa1e89c675d68ba6421b8e1a52\nparent eb63b1db2c4d2877a10fce391cf2c0c60b6210f3\nauthor Sjors Provoost <sjors@sprovoost.nl> 1623767881 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1623832884 +0200\n\nfuzz: fix fuzz binary linking order\n\nWe encountered a linking error when attempting to include external_signer_scriptpubkeyman.cpp when configured with --disable-external-signer.\n\nEverywhere else we have LIBBITCOIN_WALLET, it is always before LIBBITCOIN_COMMON. But if you go up to where FUZZ_SUITE_LD_COMMON is first set, you see that we will end up having LIBBITCOIN_COMMON set before LIBBITCOIN_WALLET which means that the linker will have problems linking things common things that the wallet uses. Because the order is correct for the other targets, we only see a linker error for test/fuzz/fuzz.\n\nIn this diff, LIBTEST_UTIL and LIBTEST_FUZZ are moved to the top because they include LIBBITCOIN_SERVER and LIBBITCOIN_COMMON. LIBBITCOIN_SERVER always needs to be the first item in the linker order since it has the most dependencies.\n\nThe makefiles for making the fuzz and test binaries should be revisited so that the linking order is made consistent with the rest of the code and to avoid other linker order issues that may crop up in the future.\n\nCo-Authored-By: Andrew Chow <achow101-github@achow101.com>\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fc0eca31b33f87882e2aa329a3746d4e08af1985",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fc0eca31b33f87882e2aa329a3746d4e08af1985",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fc0eca31b33f87882e2aa329a3746d4e08af1985/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "eb63b1db2c4d2877a10fce391cf2c0c60b6210f3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eb63b1db2c4d2877a10fce391cf2c0c60b6210f3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/eb63b1db2c4d2877a10fce391cf2c0c60b6210f3"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "fc2fd801660325d9a12787c5882bc460d1732479",
        "filename": "src/Makefile.test.include",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fc0eca31b33f87882e2aa329a3746d4e08af1985/src/Makefile.test.include",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fc0eca31b33f87882e2aa329a3746d4e08af1985/src/Makefile.test.include",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.test.include?ref=fc0eca31b33f87882e2aa329a3746d4e08af1985",
        "patch": "@@ -35,11 +35,12 @@ BITCOIN_TEST_SUITE = \\\n   $(TEST_UTIL_H)\n \n FUZZ_SUITE_LD_COMMON = \\\n+ $(LIBTEST_UTIL) \\\n+ $(LIBTEST_FUZZ) \\\n  $(LIBBITCOIN_SERVER) \\\n+ $(LIBBITCOIN_WALLET) \\\n  $(LIBBITCOIN_COMMON) \\\n  $(LIBBITCOIN_UTIL) \\\n- $(LIBTEST_UTIL) \\\n- $(LIBTEST_FUZZ) \\\n  $(LIBBITCOIN_CONSENSUS) \\\n  $(LIBBITCOIN_CRYPTO) \\\n  $(LIBBITCOIN_CLI) \\\n@@ -160,7 +161,6 @@ BITCOIN_TESTS += \\\n   wallet/test/scriptpubkeyman_tests.cpp\n \n FUZZ_SUITE_LD_COMMON +=\\\n- $(LIBBITCOIN_WALLET) \\\n  $(SQLITE_LIBS) \\\n  $(BDB_LIBS)\n "
      }
    ]
  },
  {
    "sha": "7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3ZDk0NTMwNDFiODI3YmFmYmRmYzFhYzBiMDFjN2I3ZTFlZTJiZDRm",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-05-13T14:19:44Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-06-16T08:48:38Z"
      },
      "message": "refactor: clean up external_signer.h includes\n\nCo-Authored-By: Hennadii Stepanov <32963518+hebasto@users.noreply.github.com>",
      "tree": {
        "sha": "8e4b23d7e923bc21e75e0e03e81f4590a1a4210c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8e4b23d7e923bc21e75e0e03e81f4590a1a4210c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmDJuvcACgkQV/+b28ww\nEAkZew//X1UHXE4cWhxa7qaPdoFOoi7si9vLdBPCVO8MyzlbSJkZtSzLeOq0bJz4\nzmV6me5/Tp8P3uXbgCnJRilZ6F6h673TsPg3JB+EFO77HCaU9DSfv+w61zAvp7xg\nCOJO2aMYxSEjO/N/6sQIVe6Mo5QXRB0zmi8YU5sABZqVAYuBlOAp8mcfus9ozY6e\nOCdbzWWu4sLpxfLQd6rcJW8RwGI/ONBDBckPyiiUslO7c10T1nJXFRGt72sjfUdt\ncB7soEKzK1AL86xq8UP3WlNh5h0diCMCQohg57qiyT0DP/svTmu39Oyrfd0Rs5fc\n5nWweYSSJ3ZHd/DKnom0cYkQ1nDvKKkCkeng0IELMe5TcKWK624Zdhk4MpG2lPfb\nqj0qitviIQTj2GDLmNARd50N0fYfAKFRYWzZwpA43McN+gUPPDD+ded43JKs29k4\nIqdwlNk7xA61mcxKkhrsZmjqkW314tBKDpLrzLsSXlPeDRA5H6PDUobDuXkpI7Fm\nM3jO/EhGMGfDl4/crTROprr6ADXoGyPYMySVlNmcpQxKXlT3vJoQa/6/3oRr5w6P\nINzw4y9LeD9pWvQ1oob6IIH1dwCIy/OS9JvjWU9pmyQVWN2gFykI1nEH7cRQuAmm\n15f/vmrygAwK/KL+osxTYf6eHFaEeuUfqG2uKsCzFSrvs5ui7PA=\n=qdYm\n-----END PGP SIGNATURE-----",
        "payload": "tree 8e4b23d7e923bc21e75e0e03e81f4590a1a4210c\nparent fc0eca31b33f87882e2aa329a3746d4e08af1985\nauthor Sjors Provoost <sjors@sprovoost.nl> 1620915584 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1623833318 +0200\n\nrefactor: clean up external_signer.h includes\n\nCo-Authored-By: Hennadii Stepanov <32963518+hebasto@users.noreply.github.com>\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fc0eca31b33f87882e2aa329a3746d4e08af1985",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fc0eca31b33f87882e2aa329a3746d4e08af1985",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fc0eca31b33f87882e2aa329a3746d4e08af1985"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 3,
      "deletions": 2
    },
    "files": [
      {
        "sha": "37a5fe4b3838c13241e7c3f97e640bcbeda4788f",
        "filename": "src/node/interfaces.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f/src/node/interfaces.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f/src/node/interfaces.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/node/interfaces.cpp?ref=7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f",
        "patch": "@@ -6,6 +6,7 @@\n #include <banman.h>\n #include <chain.h>\n #include <chainparams.h>\n+#include <external_signer.h>\n #include <init.h>\n #include <interfaces/chain.h>\n #include <interfaces/handler.h>"
      },
      {
        "sha": "24f73a2ea07559ae7b98f9ac776eb955bfdf4908",
        "filename": "src/qt/walletcontroller.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f/src/qt/walletcontroller.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f/src/qt/walletcontroller.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletcontroller.cpp?ref=7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f",
        "patch": "@@ -11,6 +11,7 @@\n #include <qt/guiutil.h>\n #include <qt/walletmodel.h>\n \n+#include <external_signer.h>\n #include <interfaces/handler.h>\n #include <interfaces/node.h>\n #include <util/string.h>"
      },
      {
        "sha": "6af936b1acf290cd95d951615db4f033831e9284",
        "filename": "src/wallet/scriptpubkeyman.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f/src/wallet/scriptpubkeyman.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f/src/wallet/scriptpubkeyman.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/scriptpubkeyman.cpp?ref=7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f",
        "patch": "@@ -13,7 +13,6 @@\n #include <util/system.h>\n #include <util/time.h>\n #include <util/translation.h>\n-#include <external_signer.h>\n #include <wallet/scriptpubkeyman.h>\n \n #include <optional>"
      },
      {
        "sha": "98fab2603005deb0962ed608f2dcffe5350742ef",
        "filename": "src/wallet/wallet.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f/src/wallet/wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f/src/wallet/wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.cpp?ref=7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f",
        "patch": "@@ -8,6 +8,7 @@\n #include <chain.h>\n #include <consensus/consensus.h>\n #include <consensus/validation.h>\n+#include <external_signer.h>\n #include <fs.h>\n #include <interfaces/chain.h>\n #include <interfaces/wallet.h>"
      },
      {
        "sha": "66f39edb4d730a54ca50a0125ccbfc40866d22bb",
        "filename": "src/wallet/wallet.h",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f/src/wallet/wallet.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f/src/wallet/wallet.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.h?ref=7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f",
        "patch": "@@ -21,7 +21,6 @@\n #include <validationinterface.h>\n #include <wallet/coinselection.h>\n #include <wallet/crypter.h>\n-#include <external_signer.h>\n #include <wallet/receive.h>\n #include <wallet/scriptpubkeyman.h>\n #include <wallet/spend.h>"
      }
    ]
  },
  {
    "sha": "5be90c907eba0a38019c7d9826623d5d5f567c66",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1YmU5MGM5MDdlYmEwYTM4MDE5YzdkOTgyNjYyM2Q1ZDVmNTY3YzY2",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2020-06-16T16:56:11Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-06-16T08:48:57Z"
      },
      "message": "build: enable external signer by default",
      "tree": {
        "sha": "f5966f0e4686a222b2da488d5bc80556e03c8b03",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f5966f0e4686a222b2da488d5bc80556e03c8b03"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5be90c907eba0a38019c7d9826623d5d5f567c66",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmDJuvkACgkQV/+b28ww\nEAkGww//Qs9q94BcD65K8k6DthmsYnq5UWbylYTa6hbC3C+GAqExzrJ5ZxzMJkq5\nFS7qIYCrpWHsFdi+tMHM77H28OERZVtZARCLPx0d4Zebdo0Y1ri0i5X43VskeFkU\njgBxCNOA3LRB5BrLf3A68wTT8QgLh3GniKL1bykNqN7/pLSoVf54g5TrKBS1CpPR\nSFfv6KeelXdHmeVrD0p0HJgx9JHkZF0ByV+JcYDWlX4LjXG7Drx+LC7r3dKAhRg0\nbVA1yxHzJacp6WVsgRXXJTrzx5lnSFG5SJ20ydaKRMYAmH8AW8N1z61/bRQ2UW+o\nstMpLQ9xncrlV0A2Ts4xjlL3FTBDa+KY8biSLUsB14l5iSrV9ytzaioC3ePep7dE\nyNMAIlcEvgKjBaDMDe4aGz2V7qzNIYaGY7/Axba/ntVJBFQBVVPKjP+ZEN7nIF0/\ngNv1tdQQ5Sztrz3RipR5qGCIpKtQM5Vu+pR1J5afB205u2JDoBaDJiSb05HZwC8S\nl25mTlFPmpd4/w55eBS1Sc19LKpUt56rMrhv8V3QWUUaPOxOLgFOO+Gjh+1rJEgd\nwGqLHVfL45uZlyYxTj28zMY32De1z6AH3vsH9A1Ct0hmpsMT5NQCckYiECQFQxjV\nhtt66U5noOhUJP0CA83I4pj7RaF5COtfF9MEqDUsfi1ygRmrZaY=\n=rgBE\n-----END PGP SIGNATURE-----",
        "payload": "tree f5966f0e4686a222b2da488d5bc80556e03c8b03\nparent 7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f\nauthor Sjors Provoost <sjors@sprovoost.nl> 1592326571 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1623833337 +0200\n\nbuild: enable external signer by default\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5be90c907eba0a38019c7d9826623d5d5f567c66",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5be90c907eba0a38019c7d9826623d5d5f567c66",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5be90c907eba0a38019c7d9826623d5d5f567c66/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7d9453041b827bafbdfc1ac0b01c7b7e1ee2bd4f"
      }
    ],
    "stats": {
      "total": 26,
      "additions": 13,
      "deletions": 13
    },
    "files": [
      {
        "sha": "8d2b70e549c9af0435891eff2b2f7ed19d2684d9",
        "filename": "ci/test/00_setup_env_arm.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_arm.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_arm.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_arm.sh?ref=5be90c907eba0a38019c7d9826623d5d5f567c66",
        "patch": "@@ -25,4 +25,4 @@ export RUN_FUNCTIONAL_TESTS=false\n export GOAL=\"install\"\n # -Wno-psabi is to disable ABI warnings: \"note: parameter passing for argument of type ... changed in GCC 7.1\"\n # This could be removed once the ABI change warning does not show up by default\n-export BITCOIN_CONFIG=\"--enable-glibc-back-compat --enable-reduce-exports CXXFLAGS=-Wno-psabi --enable-external-signer\"\n+export BITCOIN_CONFIG=\"--enable-glibc-back-compat --enable-reduce-exports CXXFLAGS=-Wno-psabi\""
      },
      {
        "sha": "2ddb93290706e0aa52503dbcc4bbb29108016e5c",
        "filename": "ci/test/00_setup_env_i686_centos.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_i686_centos.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_i686_centos.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_i686_centos.sh?ref=5be90c907eba0a38019c7d9826623d5d5f567c66",
        "patch": "@@ -11,6 +11,6 @@ export CONTAINER_NAME=ci_i686_centos_8\n export DOCKER_NAME_TAG=centos:8\n export DOCKER_PACKAGES=\"gcc-c++ glibc-devel.x86_64 libstdc++-devel.x86_64 glibc-devel.i686 libstdc++-devel.i686 ccache libtool make git python3 python3-zmq which patch lbzip2 dash rsync coreutils bison\"\n export GOAL=\"install\"\n-export BITCOIN_CONFIG=\"--enable-zmq --with-gui=qt5 --enable-reduce-exports --enable-external-signer\"\n+export BITCOIN_CONFIG=\"--enable-zmq --with-gui=qt5 --enable-reduce-exports\"\n export CONFIG_SHELL=\"/bin/dash\"\n export TEST_RUNNER_ENV=\"LC_ALL=en_US.UTF-8\""
      },
      {
        "sha": "73ac09c1de1c6199e5f90cefd969db15b49dce96",
        "filename": "ci/test/00_setup_env_mac.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_mac.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_mac.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_mac.sh?ref=5be90c907eba0a38019c7d9826623d5d5f567c66",
        "patch": "@@ -15,4 +15,4 @@ export XCODE_BUILD_ID=12A7403\n export RUN_UNIT_TESTS=false\n export RUN_FUNCTIONAL_TESTS=false\n export GOAL=\"deploy\"\n-export BITCOIN_CONFIG=\"--with-gui --enable-reduce-exports --enable-external-signer\"\n+export BITCOIN_CONFIG=\"--with-gui --enable-reduce-exports\""
      },
      {
        "sha": "c0d951a04171535372a71cda362d8c3427fd9d24",
        "filename": "ci/test/00_setup_env_mac_host.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_mac_host.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_mac_host.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_mac_host.sh?ref=5be90c907eba0a38019c7d9826623d5d5f567c66",
        "patch": "@@ -9,7 +9,7 @@ export LC_ALL=C.UTF-8\n export HOST=x86_64-apple-darwin18\n export PIP_PACKAGES=\"zmq lief\"\n export GOAL=\"install\"\n-export BITCOIN_CONFIG=\"--with-gui --enable-reduce-exports --enable-external-signer\"\n+export BITCOIN_CONFIG=\"--with-gui --enable-reduce-exports\"\n export CI_OS_NAME=\"macos\"\n export NO_DEPENDS=1\n export OSX_SDK=\"\""
      },
      {
        "sha": "ab185b6e7142f98fa44792677d5e6aa9760db532",
        "filename": "ci/test/00_setup_env_native_asan.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_native_asan.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_native_asan.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_native_asan.sh?ref=5be90c907eba0a38019c7d9826623d5d5f567c66",
        "patch": "@@ -11,4 +11,4 @@ export PACKAGES=\"clang llvm python3-zmq qtbase5-dev qttools5-dev-tools libevent-\n export DOCKER_NAME_TAG=ubuntu:hirsute\n export NO_DEPENDS=1\n export GOAL=\"install\"\n-export BITCOIN_CONFIG=\"--enable-zmq --with-incompatible-bdb --with-gui=qt5 CPPFLAGS='-DARENA_DEBUG -DDEBUG_LOCKORDER' --with-sanitizers=address,integer,undefined CC=clang CXX=clang++ --enable-external-signer\"\n+export BITCOIN_CONFIG=\"--enable-zmq --with-incompatible-bdb --with-gui=qt5 CPPFLAGS='-DARENA_DEBUG -DDEBUG_LOCKORDER' --with-sanitizers=address,integer,undefined CC=clang CXX=clang++\""
      },
      {
        "sha": "58388fa92882193ffc8559009bf660d0392acd4a",
        "filename": "ci/test/00_setup_env_native_fuzz.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_native_fuzz.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_native_fuzz.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_native_fuzz.sh?ref=5be90c907eba0a38019c7d9826623d5d5f567c66",
        "patch": "@@ -14,5 +14,5 @@ export RUN_UNIT_TESTS=false\n export RUN_FUNCTIONAL_TESTS=false\n export RUN_FUZZ_TESTS=true\n export GOAL=\"install\"\n-export BITCOIN_CONFIG=\"--enable-fuzz --with-sanitizers=fuzzer,address,undefined,integer CC=clang CXX=clang++ --enable-external-signer\"\n+export BITCOIN_CONFIG=\"--enable-fuzz --with-sanitizers=fuzzer,address,undefined,integer CC=clang CXX=clang++\"\n export CCACHE_SIZE=200M"
      },
      {
        "sha": "1418dfbc513b3642847f892b20c24308040761f6",
        "filename": "ci/test/00_setup_env_native_multiprocess.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_native_multiprocess.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_native_multiprocess.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_native_multiprocess.sh?ref=5be90c907eba0a38019c7d9826623d5d5f567c66",
        "patch": "@@ -11,7 +11,7 @@ export DOCKER_NAME_TAG=ubuntu:20.04\n export PACKAGES=\"cmake python3 python3-pip llvm clang\"\n export DEP_OPTS=\"DEBUG=1 MULTIPROCESS=1\"\n export GOAL=\"install\"\n-export BITCOIN_CONFIG=\"--enable-external-signer --enable-debug CC=clang CXX=clang++\"  # Use clang to avoid OOM\n+export BITCOIN_CONFIG=\"--enable-debug CC=clang CXX=clang++\"  # Use clang to avoid OOM\n export TEST_RUNNER_ENV=\"BITCOIND=bitcoin-node\"\n export RUN_SECURITY_TESTS=\"true\"\n export PIP_PACKAGES=\"lief\""
      },
      {
        "sha": "d167c9198ad29d96bf97dda37c5efdaeeecbddd5",
        "filename": "ci/test/00_setup_env_native_nowallet.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_native_nowallet.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_native_nowallet.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_native_nowallet.sh?ref=5be90c907eba0a38019c7d9826623d5d5f567c66",
        "patch": "@@ -11,4 +11,4 @@ export DOCKER_NAME_TAG=ubuntu:18.04  # Use bionic to have one config run the tes\n export PACKAGES=\"python3-zmq clang-5.0 llvm-5.0\"  # Use clang-5 to test C++17 compatibility, see doc/dependencies.md\n export DEP_OPTS=\"NO_WALLET=1\"\n export GOAL=\"install\"\n-export BITCOIN_CONFIG=\"--enable-glibc-back-compat --enable-reduce-exports CC=clang-5.0 CXX=clang++-5.0 --enable-external-signer\"\n+export BITCOIN_CONFIG=\"--enable-glibc-back-compat --enable-reduce-exports CC=clang-5.0 CXX=clang++-5.0\""
      },
      {
        "sha": "9c57eba62ad943f2087d6f5ffcf62a051783a9b2",
        "filename": "ci/test/00_setup_env_native_qt5.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_native_qt5.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_native_qt5.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_native_qt5.sh?ref=5be90c907eba0a38019c7d9826623d5d5f567c66",
        "patch": "@@ -16,4 +16,4 @@ export RUN_UNIT_TESTS=\"false\"\n export GOAL=\"install\"\n export PREVIOUS_RELEASES_TO_DOWNLOAD=\"v0.15.2 v0.16.3 v0.17.2 v0.18.1 v0.19.1\"\n export BITCOIN_CONFIG=\"--enable-zmq --with-libs=no --with-gui=qt5 --enable-glibc-back-compat --enable-reduce-exports\n---enable-debug --disable-fuzz-binary  CFLAGS=\\\"-g0 -O2 -funsigned-char\\\" CXXFLAGS=\\\"-g0 -O2 -funsigned-char\\\" --enable-external-signer\"\n+--enable-debug --disable-fuzz-binary  CFLAGS=\\\"-g0 -O2 -funsigned-char\\\" CXXFLAGS=\\\"-g0 -O2 -funsigned-char\\\"\""
      },
      {
        "sha": "a5082bdaab37c2c5ece085944fb873dbba6c2e51",
        "filename": "ci/test/00_setup_env_native_tsan.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_native_tsan.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_native_tsan.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_native_tsan.sh?ref=5be90c907eba0a38019c7d9826623d5d5f567c66",
        "patch": "@@ -11,4 +11,4 @@ export DOCKER_NAME_TAG=ubuntu:hirsute\n export PACKAGES=\"clang llvm libc++abi-dev libc++-dev python3-zmq\"\n export DEP_OPTS=\"CC=clang CXX='clang++ -stdlib=libc++'\"\n export GOAL=\"install\"\n-export BITCOIN_CONFIG=\"--enable-zmq --with-gui=no CPPFLAGS='-DARENA_DEBUG -DDEBUG_LOCKORDER' CXXFLAGS='-g' --with-sanitizers=thread CC=clang CXX='clang++ -stdlib=libc++' --enable-external-signer\"\n+export BITCOIN_CONFIG=\"--enable-zmq --with-gui=no CPPFLAGS='-DARENA_DEBUG -DDEBUG_LOCKORDER' CXXFLAGS='-g' --with-sanitizers=thread CC=clang CXX='clang++ -stdlib=libc++'\""
      },
      {
        "sha": "51a0fd9117d865d57a3ae6f369d804125f5aeb9f",
        "filename": "ci/test/00_setup_env_s390x.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_s390x.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5be90c907eba0a38019c7d9826623d5d5f567c66/ci/test/00_setup_env_s390x.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_s390x.sh?ref=5be90c907eba0a38019c7d9826623d5d5f567c66",
        "patch": "@@ -23,4 +23,4 @@ export RUN_UNIT_TESTS=true\n export TEST_RUNNER_ENV=\"LC_ALL=C\"\n export RUN_FUNCTIONAL_TESTS=true\n export GOAL=\"install\"\n-export BITCOIN_CONFIG=\"--enable-reduce-exports --with-incompatible-bdb --enable-external-signer\"\n+export BITCOIN_CONFIG=\"--enable-reduce-exports --with-incompatible-bdb\""
      },
      {
        "sha": "9d306a5445975a9c401a9a88038b4429f78a5bc6",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5be90c907eba0a38019c7d9826623d5d5f567c66/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5be90c907eba0a38019c7d9826623d5d5f567c66/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=5be90c907eba0a38019c7d9826623d5d5f567c66",
        "patch": "@@ -333,9 +333,9 @@ AC_ARG_ENABLE([werror],\n     [enable_werror=no])\n \n AC_ARG_ENABLE([external-signer],\n-    [AS_HELP_STRING([--enable-external-signer],[compile external signer support (default is no, requires Boost::Process)])],\n+    [AS_HELP_STRING([--enable-external-signer],[compile external signer support (default is yes, requires Boost::Process)])],\n     [use_external_signer=$enableval],\n-    [use_external_signer=no])\n+    [use_external_signer=yes])\n \n AC_LANG_PUSH([C++])\n "
      }
    ]
  },
  {
    "sha": "4455145e266450397b45acd7286686966edd072b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0NDU1MTQ1ZTI2NjQ1MDM5N2I0NWFjZDcyODY2ODY5NjZlZGQwNzJi",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-05-13T13:23:19Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-06-16T08:48:58Z"
      },
      "message": "refactor: reduce #ifdef ENABLE_EXTERNAL_SIGNER usage\n\nIn particular this make the node interface independent on whether external signer support is compiled.",
      "tree": {
        "sha": "4829ded062fa7b872330d876cd981dddfda30a6a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4829ded062fa7b872330d876cd981dddfda30a6a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4455145e266450397b45acd7286686966edd072b",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmDJuvoACgkQV/+b28ww\nEAmlzw//fSiSQBC3j7GgW1n699W+LLRh0YeKUe2+4BdhAogVCtPLwqwwnLVhYt7W\nDU22mAkQwCHK8M2pxtrso8f4LLxUlA0JEEYs65gwIEZCM8TXsPBi1so96XAnxGc+\nxw4Q+t05aiBmSE9DEl8KMnZv3+YIg4IcHSBEaqW0WtdURDRX/NRS3WfhbUzawWoh\nQpxOaqARgX4JrKnG1rogbHSB3sJp6jYNJqjGC1WdHkkmkuWxayeGJBbWzocgTIKS\n5/xiOP+5YFXA/ok38CFKDWNCQHBwB+nyAIL0gJFBF9C9Xn9+LgTJubmXriuglH+N\nG605lA1BXPgq+yZ6eTRbaH+JGzlnbXnf2SvM+xdB3IEGXnCxS7OlEnQp/+B3ShNG\n9Y+/+f/CMDMfPEMzlooYeYEqMGWRHwYafM5b0uL0kljQjizCzBLclPYbDGDaOpP/\nL+DJ+qjlFZrVQr5Of/HYw+199OcpPT5L7NjBJsm0NN8+eXp8MBDcgoC8kO6FEtHl\nUPNreqemLf4PzrXC4JNTFkccOf4XH/YPR25GrVXDw+BSyTYz0QFs3pOdhi3VRAsF\n2b93Lj9oqp7qkfCMGRwXXXabuooDdcL0l/FUOQnfa8zs3QIVunQCcWc+KJj9asRP\nZWd8vQCYkPstjOt26qE24YyS1v88peuElFqDYGV49eBKjuHDYuc=\n=Y8Fp\n-----END PGP SIGNATURE-----",
        "payload": "tree 4829ded062fa7b872330d876cd981dddfda30a6a\nparent 5be90c907eba0a38019c7d9826623d5d5f567c66\nauthor Sjors Provoost <sjors@sprovoost.nl> 1620912199 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1623833338 +0200\n\nrefactor: reduce #ifdef ENABLE_EXTERNAL_SIGNER usage\n\nIn particular this make the node interface independent on whether external signer support is compiled.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4455145e266450397b45acd7286686966edd072b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4455145e266450397b45acd7286686966edd072b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4455145e266450397b45acd7286686966edd072b/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5be90c907eba0a38019c7d9826623d5d5f567c66",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5be90c907eba0a38019c7d9826623d5d5f567c66",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5be90c907eba0a38019c7d9826623d5d5f567c66"
      }
    ],
    "stats": {
      "total": 60,
      "additions": 15,
      "deletions": 45
    },
    "files": [
      {
        "sha": "b2bd7cb261a42cfbc6f63e96b3a7fc569a855dd4",
        "filename": "src/external_signer.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 4,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4455145e266450397b45acd7286686966edd072b/src/external_signer.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4455145e266450397b45acd7286686966edd072b/src/external_signer.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/external_signer.cpp?ref=4455145e266450397b45acd7286686966edd072b",
        "patch": "@@ -13,8 +13,6 @@\n #include <string>\n #include <vector>\n \n-#ifdef ENABLE_EXTERNAL_SIGNER\n-\n ExternalSigner::ExternalSigner(const std::string& command, const std::string& fingerprint, const std::string chain, const std::string name): m_command(command), m_fingerprint(fingerprint), m_chain(chain), m_name(name) {}\n \n const std::string ExternalSigner::NetworkArg() const\n@@ -116,5 +114,3 @@ bool ExternalSigner::SignTransaction(PartiallySignedTransaction& psbtx, std::str\n \n     return true;\n }\n-\n-#endif // ENABLE_EXTERNAL_SIGNER"
      },
      {
        "sha": "c4f723a1bb8fdc236a2350d6d1852eaf6af7c367",
        "filename": "src/external_signer.h",
        "status": "modified",
        "additions": 0,
        "deletions": 4,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4455145e266450397b45acd7286686966edd072b/src/external_signer.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4455145e266450397b45acd7286686966edd072b/src/external_signer.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/external_signer.h?ref=4455145e266450397b45acd7286686966edd072b",
        "patch": "@@ -11,8 +11,6 @@\n #include <string>\n #include <vector>\n \n-#ifdef ENABLE_EXTERNAL_SIGNER\n-\n struct PartiallySignedTransaction;\n \n //! Enables interaction with an external signing device or service, such as\n@@ -65,6 +63,4 @@ class ExternalSigner\n     bool SignTransaction(PartiallySignedTransaction& psbt, std::string& error);\n };\n \n-#endif // ENABLE_EXTERNAL_SIGNER\n-\n #endif // BITCOIN_EXTERNAL_SIGNER_H"
      },
      {
        "sha": "77129423db9b2f7e7e23b60ec0142f1a74a855d1",
        "filename": "src/interfaces/node.h",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4455145e266450397b45acd7286686966edd072b/src/interfaces/node.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4455145e266450397b45acd7286686966edd072b/src/interfaces/node.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/interfaces/node.h?ref=4455145e266450397b45acd7286686966edd072b",
        "patch": "@@ -111,10 +111,8 @@ class Node\n     //! Disconnect node by id.\n     virtual bool disconnectById(NodeId id) = 0;\n \n-#ifdef ENABLE_EXTERNAL_SIGNER\n     //! List external signers\n     virtual std::vector<ExternalSigner> externalSigners() = 0;\n-#endif\n \n     //! Get total bytes recv.\n     virtual int64_t getTotalBytesRecv() = 0;"
      },
      {
        "sha": "fce3c1809c30211e1cd9e0a25e93dda69f62540e",
        "filename": "src/node/interfaces.cpp",
        "status": "modified",
        "additions": 10,
        "deletions": 2,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4455145e266450397b45acd7286686966edd072b/src/node/interfaces.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4455145e266450397b45acd7286686966edd072b/src/node/interfaces.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/node/interfaces.cpp?ref=4455145e266450397b45acd7286686966edd072b",
        "patch": "@@ -171,16 +171,24 @@ class NodeImpl : public Node\n         }\n         return false;\n     }\n-#ifdef ENABLE_EXTERNAL_SIGNER\n     std::vector<ExternalSigner> externalSigners() override\n     {\n+#ifdef ENABLE_EXTERNAL_SIGNER\n         std::vector<ExternalSigner> signers = {};\n         const std::string command = gArgs.GetArg(\"-signer\", \"\");\n         if (command == \"\") return signers;\n         ExternalSigner::Enumerate(command, signers, Params().NetworkIDString());\n         return signers;\n+#else\n+        // This result is undistinguisable from a succesful call that returns\n+        // no signers. For the current GUI this doesn't matter, because the wallet\n+        // creation dialog disables the external signer checkbox in both\n+        // cases. The return type could be changed to std::optional<std::vector>\n+        // (or something that also includes error messages) if this distinction\n+        // becomes important.\n+        return {};\n+#endif // ENABLE_EXTERNAL_SIGNER\n     }\n-#endif\n     int64_t getTotalBytesRecv() override { return m_context->connman ? m_context->connman->GetTotalBytesRecv() : 0; }\n     int64_t getTotalBytesSent() override { return m_context->connman ? m_context->connman->GetTotalBytesSent() : 0; }\n     size_t getMempoolSize() override { return m_context->mempool ? m_context->mempool->size() : 0; }"
      },
      {
        "sha": "cea41a94aef0765cb2ed25289a913598cd56870e",
        "filename": "src/qt/createwalletdialog.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4455145e266450397b45acd7286686966edd072b/src/qt/createwalletdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4455145e266450397b45acd7286686966edd072b/src/qt/createwalletdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/createwalletdialog.cpp?ref=4455145e266450397b45acd7286686966edd072b",
        "patch": "@@ -112,7 +112,6 @@ CreateWalletDialog::~CreateWalletDialog()\n     delete ui;\n }\n \n-#ifdef ENABLE_EXTERNAL_SIGNER\n void CreateWalletDialog::setSigners(std::vector<ExternalSigner>& signers)\n {\n     if (!signers.empty()) {\n@@ -132,7 +131,6 @@ void CreateWalletDialog::setSigners(std::vector<ExternalSigner>& signers)\n         ui->external_signer_checkbox->setEnabled(false);\n     }\n }\n-#endif\n \n QString CreateWalletDialog::walletName() const\n {"
      },
      {
        "sha": "3f6a32548ebed31e852889beeebe40bdf9912c11",
        "filename": "src/qt/createwalletdialog.h",
        "status": "modified",
        "additions": 1,
        "deletions": 6,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4455145e266450397b45acd7286686966edd072b/src/qt/createwalletdialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4455145e266450397b45acd7286686966edd072b/src/qt/createwalletdialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/createwalletdialog.h?ref=4455145e266450397b45acd7286686966edd072b",
        "patch": "@@ -7,11 +7,8 @@\n \n #include <QDialog>\n \n-class WalletModel;\n-\n-#ifdef ENABLE_EXTERNAL_SIGNER\n class ExternalSigner;\n-#endif\n+class WalletModel;\n \n namespace Ui {\n     class CreateWalletDialog;\n@@ -27,9 +24,7 @@ class CreateWalletDialog : public QDialog\n     explicit CreateWalletDialog(QWidget* parent);\n     virtual ~CreateWalletDialog();\n \n-#ifdef ENABLE_EXTERNAL_SIGNER\n     void setSigners(std::vector<ExternalSigner>& signers);\n-#endif\n \n     QString walletName() const;\n     bool isEncryptWalletChecked() const;"
      },
      {
        "sha": "3cceb5ca5a4d572abe903460ce731892adedc438",
        "filename": "src/qt/walletcontroller.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4455145e266450397b45acd7286686966edd072b/src/qt/walletcontroller.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4455145e266450397b45acd7286686966edd072b/src/qt/walletcontroller.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletcontroller.cpp?ref=4455145e266450397b45acd7286686966edd072b",
        "patch": "@@ -296,15 +296,13 @@ void CreateWalletActivity::create()\n {\n     m_create_wallet_dialog = new CreateWalletDialog(m_parent_widget);\n \n-#ifdef ENABLE_EXTERNAL_SIGNER\n     std::vector<ExternalSigner> signers;\n     try {\n         signers = node().externalSigners();\n     } catch (const std::runtime_error& e) {\n         QMessageBox::critical(nullptr, tr(\"Can't list signers\"), e.what());\n     }\n     m_create_wallet_dialog->setSigners(signers);\n-#endif\n \n     m_create_wallet_dialog->setWindowModality(Qt::ApplicationModal);\n     m_create_wallet_dialog->show();"
      },
      {
        "sha": "5ea01392755d1205e9dc41eaabee43a92756e8e8",
        "filename": "src/util/system.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 2,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4455145e266450397b45acd7286686966edd072b/src/util/system.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4455145e266450397b45acd7286686966edd072b/src/util/system.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/system.cpp?ref=4455145e266450397b45acd7286686966edd072b",
        "patch": "@@ -1243,9 +1243,9 @@ void runCommand(const std::string& strCommand)\n }\n #endif\n \n-#ifdef ENABLE_EXTERNAL_SIGNER\n UniValue RunCommandParseJSON(const std::string& str_command, const std::string& str_std_in)\n {\n+#ifdef ENABLE_EXTERNAL_SIGNER\n     namespace bp = boost::process;\n \n     UniValue result_json;\n@@ -1277,8 +1277,10 @@ UniValue RunCommandParseJSON(const std::string& str_command, const std::string&\n     if (!result_json.read(result)) throw std::runtime_error(\"Unable to parse JSON: \" + result);\n \n     return result_json;\n-}\n+#else\n+    throw std::runtime_error(\"Compiled without external signing support (required for external signing).\");\n #endif // ENABLE_EXTERNAL_SIGNER\n+}\n \n void SetupEnvironment()\n {"
      },
      {
        "sha": "ea9870a343e7305bdc2074e5ada4f06fa19c5065",
        "filename": "src/util/system.h",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4455145e266450397b45acd7286686966edd072b/src/util/system.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4455145e266450397b45acd7286686966edd072b/src/util/system.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/system.h?ref=4455145e266450397b45acd7286686966edd072b",
        "patch": "@@ -102,7 +102,6 @@ std::string ShellEscape(const std::string& arg);\n #if HAVE_SYSTEM\n void runCommand(const std::string& strCommand);\n #endif\n-#ifdef ENABLE_EXTERNAL_SIGNER\n /**\n  * Execute a command which returns JSON, and parse the result.\n  *\n@@ -111,7 +110,6 @@ void runCommand(const std::string& strCommand);\n  * @return parsed JSON\n  */\n UniValue RunCommandParseJSON(const std::string& str_command, const std::string& str_std_in=\"\");\n-#endif // ENABLE_EXTERNAL_SIGNER\n \n /**\n  * Most paths passed as configuration arguments are treated as relative to"
      },
      {
        "sha": "e5464c5b89c2e40b201f275eb7c10d5e07ea468e",
        "filename": "src/wallet/external_signer_scriptpubkeyman.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 4,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4455145e266450397b45acd7286686966edd072b/src/wallet/external_signer_scriptpubkeyman.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4455145e266450397b45acd7286686966edd072b/src/wallet/external_signer_scriptpubkeyman.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/external_signer_scriptpubkeyman.cpp?ref=4455145e266450397b45acd7286686966edd072b",
        "patch": "@@ -13,8 +13,6 @@\n #include <utility>\n #include <vector>\n \n-#ifdef ENABLE_EXTERNAL_SIGNER\n-\n bool ExternalSignerScriptPubKeyMan::SetupDescriptor(std::unique_ptr<Descriptor> desc)\n {\n     LOCK(cs_desc_man);\n@@ -84,5 +82,3 @@ TransactionError ExternalSignerScriptPubKeyMan::FillPSBT(PartiallySignedTransact\n     FinalizePSBT(psbt); // This won't work in a multisig setup\n     return TransactionError::OK;\n }\n-\n-#endif"
      },
      {
        "sha": "5df1e6d9395fdf571ed1f3000145b0287bfca8c4",
        "filename": "src/wallet/external_signer_scriptpubkeyman.h",
        "status": "modified",
        "additions": 0,
        "deletions": 3,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4455145e266450397b45acd7286686966edd072b/src/wallet/external_signer_scriptpubkeyman.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4455145e266450397b45acd7286686966edd072b/src/wallet/external_signer_scriptpubkeyman.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/external_signer_scriptpubkeyman.h?ref=4455145e266450397b45acd7286686966edd072b",
        "patch": "@@ -5,7 +5,6 @@\n #ifndef BITCOIN_WALLET_EXTERNAL_SIGNER_SCRIPTPUBKEYMAN_H\n #define BITCOIN_WALLET_EXTERNAL_SIGNER_SCRIPTPUBKEYMAN_H\n \n-#ifdef ENABLE_EXTERNAL_SIGNER\n #include <wallet/scriptpubkeyman.h>\n \n #include <memory>\n@@ -31,6 +30,4 @@ class ExternalSignerScriptPubKeyMan : public DescriptorScriptPubKeyMan\n \n   TransactionError FillPSBT(PartiallySignedTransaction& psbt, int sighash_type = 1 /* SIGHASH_ALL */, bool sign = true, bool bip32derivs = false, int* n_signed = nullptr) const override;\n };\n-#endif\n-\n #endif // BITCOIN_WALLET_EXTERNAL_SIGNER_SCRIPTPUBKEYMAN_H"
      },
      {
        "sha": "073d5e269be4b83be7db99b3cd582a7b7e21ce9b",
        "filename": "src/wallet/wallet.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 12,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4455145e266450397b45acd7286686966edd072b/src/wallet/wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4455145e266450397b45acd7286686966edd072b/src/wallet/wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.cpp?ref=4455145e266450397b45acd7286686966edd072b",
        "patch": "@@ -2216,7 +2216,6 @@ void ReserveDestination::ReturnDestination()\n \n bool CWallet::DisplayAddress(const CTxDestination& dest)\n {\n-#ifdef ENABLE_EXTERNAL_SIGNER\n     CScript scriptPubKey = GetScriptForDestination(dest);\n     const auto spk_man = GetScriptPubKeyMan(scriptPubKey);\n     if (spk_man == nullptr) {\n@@ -2228,9 +2227,6 @@ bool CWallet::DisplayAddress(const CTxDestination& dest)\n     }\n     ExternalSigner signer = ExternalSignerScriptPubKeyMan::GetExternalSigner();\n     return signer_spk_man->DisplayAddress(scriptPubKey, signer);\n-#else\n-    return false;\n-#endif\n }\n \n void CWallet::LockCoin(const COutPoint& output)\n@@ -3064,12 +3060,8 @@ void CWallet::ConnectScriptPubKeyManNotifiers()\n void CWallet::LoadDescriptorScriptPubKeyMan(uint256 id, WalletDescriptor& desc)\n {\n     if (IsWalletFlagSet(WALLET_FLAG_EXTERNAL_SIGNER)) {\n-#ifdef ENABLE_EXTERNAL_SIGNER\n         auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new ExternalSignerScriptPubKeyMan(*this, desc));\n         m_spk_managers[id] = std::move(spk_manager);\n-#else\n-        throw std::runtime_error(std::string(__func__) + \": Compiled without external signing support (required for external signing)\");\n-#endif\n     } else {\n         auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new DescriptorScriptPubKeyMan(*this, desc));\n         m_spk_managers[id] = std::move(spk_manager);\n@@ -3109,7 +3101,6 @@ void CWallet::SetupDescriptorScriptPubKeyMans()\n             }\n         }\n     } else {\n-#ifdef ENABLE_EXTERNAL_SIGNER\n         ExternalSigner signer = ExternalSignerScriptPubKeyMan::GetExternalSigner();\n \n         // TODO: add account parameter\n@@ -3136,9 +3127,6 @@ void CWallet::SetupDescriptorScriptPubKeyMans()\n                 AddActiveScriptPubKeyMan(id, t, internal);\n             }\n         }\n-#else\n-        throw std::runtime_error(std::string(__func__) + \": Compiled without external signing support (required for external signing)\");\n-#endif // ENABLE_EXTERNAL_SIGNER\n     }\n }\n "
      }
    ]
  },
  {
    "sha": "d672404466204444a1d9f2d3498de4448f53d2be",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkNjcyNDA0NDY2MjA0NDQ0YTFkOWYyZDM0OThkZTQ0NDhmNTNkMmJl",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-06-15T14:58:55Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-06-16T08:48:58Z"
      },
      "message": "refactor: make ExternalSigner NetworkArg() and m_chain private",
      "tree": {
        "sha": "3e29dfb437f1463d83a3d9483b3855ebdce45574",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3e29dfb437f1463d83a3d9483b3855ebdce45574"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d672404466204444a1d9f2d3498de4448f53d2be",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmDJuvoACgkQV/+b28ww\nEAkMHg//XN5LREAoNf6woWLFy6yfpkCdqGkUjoEM2JvQj/9LYeXRsBRRV2aq3YGK\nIdkLV8q/kccnCzRjwcuX+xXHptkfWoMi/w46OcV2W2r6OavW/rBAHVQ4PtkGj+3n\nhbm94YzcRpKZPz9b7/SkpH35QDmgknO5VFGrppFhgQ2kPhRRIbpPpLRQJCA6ejpe\nyBRHpfGGq+jmJeBjDGx5ni1HMhIpCDFgPCXca0HY7COd6okOt+MocK1OimKeqwSX\nhifdohOlPs27LHzb8rYq+HhhZ1VMZj6UU6n4PannJ9t7/H2pmYV1vl1RhcKsjWWr\n+3wfYpl7wv6F2fzEzM9e9XNvGA6q/NkBMjwdzAvex5uscHu2uXghuObkXMl3gNhB\n2r04eRM/16pqdlMZFW2ODDwJHLkB846A734THFcfmkXLQx/f1EMjljkiFYfXG/Yt\nbMu/XQ6b0x9CnC07niaWa+8oalMD13UMf69jXI8SuwPsl3FXWyHYCSyMcd4KyjIk\no8egqwqldpzCUzEK/cUtn+Pw9uM+KgWtvn+sFNX5ZFgJxjH0come5DpJqcckxaYP\nsHX8ztge64jnnh/lrw6nWYvIp3NwJfq80+9LZkWbPwv5J9N0o/h+BgpxyPQg/RkE\nMgBWKNAECYPF7wrOrEzFEmlI1VNGtDZajLF08QpordgchJPio2w=\n=wi3F\n-----END PGP SIGNATURE-----",
        "payload": "tree 3e29dfb437f1463d83a3d9483b3855ebdce45574\nparent 4455145e266450397b45acd7286686966edd072b\nauthor Sjors Provoost <sjors@sprovoost.nl> 1623769135 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1623833338 +0200\n\nrefactor: make ExternalSigner NetworkArg() and m_chain private\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d672404466204444a1d9f2d3498de4448f53d2be",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d672404466204444a1d9f2d3498de4448f53d2be",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d672404466204444a1d9f2d3498de4448f53d2be/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4455145e266450397b45acd7286686966edd072b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4455145e266450397b45acd7286686966edd072b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4455145e266450397b45acd7286686966edd072b"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 8,
      "deletions": 8
    },
    "files": [
      {
        "sha": "d6388b759add7a0d2fec1244574353156554f52d",
        "filename": "src/external_signer.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d672404466204444a1d9f2d3498de4448f53d2be/src/external_signer.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d672404466204444a1d9f2d3498de4448f53d2be/src/external_signer.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/external_signer.cpp?ref=d672404466204444a1d9f2d3498de4448f53d2be",
        "patch": "@@ -13,7 +13,7 @@\n #include <string>\n #include <vector>\n \n-ExternalSigner::ExternalSigner(const std::string& command, const std::string& fingerprint, const std::string chain, const std::string name): m_command(command), m_fingerprint(fingerprint), m_chain(chain), m_name(name) {}\n+ExternalSigner::ExternalSigner(const std::string& command, const std::string chain, const std::string& fingerprint, const std::string name): m_command(command), m_chain(chain), m_fingerprint(fingerprint), m_name(name) {}\n \n const std::string ExternalSigner::NetworkArg() const\n {\n@@ -53,7 +53,7 @@ bool ExternalSigner::Enumerate(const std::string& command, std::vector<ExternalS\n         if (model_field.isStr() && model_field.getValStr() != \"\") {\n             name += model_field.getValStr();\n         }\n-        signers.push_back(ExternalSigner(command, fingerprintStr, chain, name));\n+        signers.push_back(ExternalSigner(command, chain, fingerprintStr, name));\n     }\n     return true;\n }"
      },
      {
        "sha": "e40fd7f010738daafe5257235213501ae2c0248a",
        "filename": "src/external_signer.h",
        "status": "modified",
        "additions": 6,
        "deletions": 6,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d672404466204444a1d9f2d3498de4448f53d2be/src/external_signer.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d672404466204444a1d9f2d3498de4448f53d2be/src/external_signer.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/external_signer.h?ref=d672404466204444a1d9f2d3498de4448f53d2be",
        "patch": "@@ -21,24 +21,24 @@ class ExternalSigner\n     //! The command which handles interaction with the external signer.\n     std::string m_command;\n \n+    //! Bitcoin mainnet, testnet, etc\n+    std::string m_chain;\n+\n+    const std::string NetworkArg() const;\n+\n public:\n     //! @param[in] command      the command which handles interaction with the external signer\n     //! @param[in] fingerprint  master key fingerprint of the signer\n     //! @param[in] chain        \"main\", \"test\", \"regtest\" or \"signet\"\n     //! @param[in] name         device name\n-    ExternalSigner(const std::string& command, const std::string& fingerprint, const std::string chain, const std::string name);\n+    ExternalSigner(const std::string& command, const std::string chain, const std::string& fingerprint, const std::string name);\n \n     //! Master key fingerprint of the signer\n     std::string m_fingerprint;\n \n-    //! Bitcoin mainnet, testnet, etc\n-    std::string m_chain;\n-\n     //! Name of signer\n     std::string m_name;\n \n-    const std::string NetworkArg() const;\n-\n     //! Obtain a list of signers. Calls `<command> enumerate`.\n     //! @param[in]              command the command which handles interaction with the external signer\n     //! @param[in,out] signers  vector to which new signers (with a unique master key fingerprint) are added"
      }
    ]
  },
  {
    "sha": "2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyZjViZGNiYzMxYTJlZWI3YzExMjI2YTllNTFjNTZmMDJhYzgwN2Rk",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-06-15T17:11:09Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-06-16T08:48:58Z"
      },
      "message": "gui: misc external signer fixes and translation hints",
      "tree": {
        "sha": "33b303294df49fd2e3004ff053ec0cd903f8b8ff",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/33b303294df49fd2e3004ff053ec0cd903f8b8ff"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmDJuvoACgkQV/+b28ww\nEAkgVw//bvrZoRqylVf7Lnl/xGmkwWG7iBU72CudhChF9Pl/YMscajpWarIzLS7d\nNBc0HjFLM+jc57ezBhlRdoCSBqGW8QETw3e2sDTCFvktiyXJZ0KsIEmxpBtkkgQK\nx0a/mVhyTgRTbUoUgmouL9quKoyGT+1fpVeB9PqXijpc4LHz1Q2couwTnPXOGRne\nC/byQ0PO3NebFizIek7EwlmdH6NXyDWCYD4wNfAwthoee83v31xv7KP6gofsY5wO\nhyI8MbjZ2TQkvYSBM9Hl2Ief2gvpfudESvLD08QHb/zUyQLtd0oKKK2OiZipBp1/\nEK0QQQgTnRJ7a1u5ykfJ4VcyVedFcpLo6JZYVgYMC+47QGpSsZVPW6D8txErTH1c\ncwjIPZMtadvAFHtrqubj9blUsdJ8r9qleBPFLxga0ybePoQ6d2jWhnrwa3CTl8Uz\nssrSQkVhtBazhNha4gxztSY9489Gam7jxu+2jvko3W+9tEbgeXIwRU0rq80aVhiL\npURznw4jzHvyXUk7iSWONvTkTfXBre46+C5MTuOplsFT5T9x5Gnz3FpCrJUyAbDT\nJjtU3LUZZEF9KV76LqSgHXbO4+CW/47l0yhqEBaMAJX10htnm2P2aObk21Ri71v6\nAWzUlLB6mFI+gYK6esb+c7oT1D3YOShLSpKLPTziSPRi4rFeAPs=\n=b5VD\n-----END PGP SIGNATURE-----",
        "payload": "tree 33b303294df49fd2e3004ff053ec0cd903f8b8ff\nparent d672404466204444a1d9f2d3498de4448f53d2be\nauthor Sjors Provoost <sjors@sprovoost.nl> 1623777069 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1623833338 +0200\n\ngui: misc external signer fixes and translation hints\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d672404466204444a1d9f2d3498de4448f53d2be",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d672404466204444a1d9f2d3498de4448f53d2be",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d672404466204444a1d9f2d3498de4448f53d2be"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 14,
      "deletions": 4
    },
    "files": [
      {
        "sha": "dc24bbc6a6979f153a7f84be72b30ed774a236e8",
        "filename": "src/qt/createwalletdialog.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd/src/qt/createwalletdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd/src/qt/createwalletdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/createwalletdialog.cpp?ref=2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd",
        "patch": "@@ -31,8 +31,9 @@ CreateWalletDialog::CreateWalletDialog(QWidget* parent) :\n         // Disable the disable_privkeys_checkbox and external_signer_checkbox when isEncryptWalletChecked is\n         // set to true, enable it when isEncryptWalletChecked is false.\n         ui->disable_privkeys_checkbox->setEnabled(!checked);\n+#ifdef ENABLE_EXTERNAL_SIGNER\n         ui->external_signer_checkbox->setEnabled(!checked);\n-\n+#endif\n         // When the disable_privkeys_checkbox is disabled, uncheck it.\n         if (!ui->disable_privkeys_checkbox->isEnabled()) {\n             ui->disable_privkeys_checkbox->setChecked(false);\n@@ -112,7 +113,7 @@ CreateWalletDialog::~CreateWalletDialog()\n     delete ui;\n }\n \n-void CreateWalletDialog::setSigners(std::vector<ExternalSigner>& signers)\n+void CreateWalletDialog::setSigners(const std::vector<ExternalSigner>& signers)\n {\n     if (!signers.empty()) {\n         ui->external_signer_checkbox->setEnabled(true);"
      },
      {
        "sha": "25ddf97585094697264dc2c51277aa9be95a96f4",
        "filename": "src/qt/createwalletdialog.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd/src/qt/createwalletdialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd/src/qt/createwalletdialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/createwalletdialog.h?ref=2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd",
        "patch": "@@ -24,7 +24,7 @@ class CreateWalletDialog : public QDialog\n     explicit CreateWalletDialog(QWidget* parent);\n     virtual ~CreateWalletDialog();\n \n-    void setSigners(std::vector<ExternalSigner>& signers);\n+    void setSigners(const std::vector<ExternalSigner>& signers);\n \n     QString walletName() const;\n     bool isEncryptWalletChecked() const;"
      },
      {
        "sha": "b12fe9656759bfa47537b1c7d474089969345883",
        "filename": "src/qt/optionsdialog.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd/src/qt/optionsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd/src/qt/optionsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsdialog.cpp?ref=2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd",
        "patch": "@@ -92,6 +92,11 @@ OptionsDialog::OptionsDialog(QWidget *parent, bool enableWallet) :\n         ui->thirdPartyTxUrls->setVisible(false);\n     }\n \n+#ifndef ENABLE_EXTERNAL_SIGNER\n+    //: \"External signing\" means using devices such as hardware wallets.\n+    ui->externalSignerPath->setToolTip(tr(\"Compiled without external signing support (required for external signing)\"));\n+    ui->externalSignerPath->setEnabled(false);\n+#endif\n     /* Display elements init */\n     QDir translations(\":translations\");\n "
      },
      {
        "sha": "41f22e9c3416dca7ccb28236a382360474a2a210",
        "filename": "src/qt/receiverequestdialog.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd/src/qt/receiverequestdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd/src/qt/receiverequestdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/receiverequestdialog.cpp?ref=2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd",
        "patch": "@@ -90,7 +90,7 @@ void ReceiveRequestDialog::setInfo(const SendCoinsRecipient &_info)\n         ui->wallet_content->hide();\n     }\n \n-    ui->btnVerify->setVisible(this->model->wallet().hasExternalSigner());\n+    ui->btnVerify->setVisible(model->wallet().hasExternalSigner());\n \n     connect(ui->btnVerify, &QPushButton::clicked, [this] {\n         model->displayAddress(info.address.toStdString());"
      },
      {
        "sha": "c9bf757dfc9ca0296460128bf39d9d5421c978ce",
        "filename": "src/qt/sendcoinsdialog.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd/src/qt/sendcoinsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd/src/qt/sendcoinsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsdialog.cpp?ref=2f5bdcbc31a2eeb7c11226a9e51c56f02ac807dd",
        "patch": "@@ -200,12 +200,14 @@ void SendCoinsDialog::setModel(WalletModel *_model)\n         ui->optInRBF->setCheckState(Qt::Checked);\n \n         if (model->wallet().hasExternalSigner()) {\n+            //: \"device\" usually means a hardware wallet\n             ui->sendButton->setText(tr(\"Sign on device\"));\n             if (gArgs.GetArg(\"-signer\", \"\") != \"\") {\n                 ui->sendButton->setEnabled(true);\n                 ui->sendButton->setToolTip(tr(\"Connect your hardware wallet first.\"));\n             } else {\n                 ui->sendButton->setEnabled(false);\n+                //: \"External signer\" means using devices such as hardware wallets.\n                 ui->sendButton->setToolTip(tr(\"Set external signer script path in Options -> Wallet\"));\n             }\n         } else if (model->wallet().privateKeysDisabled()) {\n@@ -426,11 +428,13 @@ void SendCoinsDialog::sendButtonClicked([[maybe_unused]] bool checked)\n                 return;\n             }\n             if (err == TransactionError::EXTERNAL_SIGNER_NOT_FOUND) {\n+                //: \"External signer\" means using devices such as hardware wallets.\n                 QMessageBox::critical(nullptr, tr(\"External signer not found\"), \"External signer not found\");\n                 send_failure = true;\n                 return;\n             }\n             if (err == TransactionError::EXTERNAL_SIGNER_FAILED) {\n+                //: \"External signer\" means using devices such as hardware wallets.\n                 QMessageBox::critical(nullptr, tr(\"External signer failure\"), \"External signer failure\");\n                 send_failure = true;\n                 return;"
      }
    ]
  }
]