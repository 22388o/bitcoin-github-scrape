[
  {
    "sha": "ba8c8b22272ad40fe2de465d7e745532bab48d3b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYThjOGIyMjI3MmFkNDBmZTJkZTQ2NWQ3ZTc0NTUzMmJhYjQ4ZDNi",
    "commit": {
      "author": {
        "name": "Ben Woosley",
        "email": "ben.woosley@gmail.com",
        "date": "2019-01-07T18:56:28Z"
      },
      "committer": {
        "name": "Ben Woosley",
        "email": "ben.woosley@gmail.com",
        "date": "2019-01-09T10:26:59Z"
      },
      "message": "Fail if either disk space check fails\n\nRather than both.\n\nIntroduced in 386a6b62a8a1db9dd0f354cb95b7585f555c7e5d",
      "tree": {
        "sha": "3aeeed2359e4d2506aceb8e7ec5d2ced435cccae",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3aeeed2359e4d2506aceb8e7ec5d2ced435cccae"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ba8c8b22272ad40fe2de465d7e745532bab48d3b",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE+XLHXoy4Dim7e8hvTYykuhgECQYFAlw1zHQACgkQTYykuhgE\nCQaRtxAAgWy1bivp7vDZVVnyaF4ocGEpXK2HnGMF/JiW+x8ueIVMH2877OvWsMJ4\n9vwgtQshe2XQb250iCastiN4VyMfqD80NpRPbKvYTCA0CXIf2vDtBgRO/69Qtjv/\nxqi6AAbA1UvBReHwON7gf9MQUGxFsO1DOYZ10mGfKkCnzx/bhQDQ8s/n88POlavv\n4dhfMFLnPQFmpY3z+eGNnwtSHo8FghlGHNfelwGr1uzQDOcFrkgc8l7HBgeGcpB2\nXIL/nKstjXRqWEw6m9PGqNtJU1Sn1zthgEu+B2KYKtTwAeyT30D5h9phvQqIvwh8\n/YoK9Tkg1itTjYBqjvgeoyORlUqnUwbC1mRVuuII3/XiAwHV/d6dqx4AnvzGswPL\nFd/TUoH1jyWRwCYYeQ8Fo+8lb9o8+oCbxNoC3S4Bow0o5VL9Dr05fuwFVgIq/r7p\nj9Zy7MMH3Q9Uy4bxuMzMw41zZ1+G6hz1SrCPFuYo7dVRLhY/Kkaz/h/DAzLoQgve\n7QweIK8X8wAwLIbq8L3Wt5EkQtvlG9B7kXH12G5bWE3vjdjo8aBmB/rCSC0GxObo\nAFDRPAI02kZcu1Ft1W9sC4Kg1tjsyvEwIpKGuL8CO9aHWJtXd2MOIgZlEfRSpH/n\nNnK94t6VqPh1QK9Gc4+kjHV2I2YQNqpYJzS5gG63yBoj+amP+aw=\n=67zC\n-----END PGP SIGNATURE-----",
        "payload": "tree 3aeeed2359e4d2506aceb8e7ec5d2ced435cccae\nparent 1973257da0501169f9d1e1eb5c0896ac25b471f9\nauthor Ben Woosley <ben.woosley@gmail.com> 1546887388 -0800\ncommitter Ben Woosley <ben.woosley@gmail.com> 1547029619 -0800\n\nFail if either disk space check fails\n\nRather than both.\n\nIntroduced in 386a6b62a8a1db9dd0f354cb95b7585f555c7e5d\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ba8c8b22272ad40fe2de465d7e745532bab48d3b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ba8c8b22272ad40fe2de465d7e745532bab48d3b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ba8c8b22272ad40fe2de465d7e745532bab48d3b/comments",
    "author": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1973257da0501169f9d1e1eb5c0896ac25b471f9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1973257da0501169f9d1e1eb5c0896ac25b471f9",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1973257da0501169f9d1e1eb5c0896ac25b471f9"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 7,
      "deletions": 1
    },
    "files": [
      {
        "sha": "f4f00ea69136ef9da582f2ff8a23209c2683a406",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 1,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ba8c8b22272ad40fe2de465d7e745532bab48d3b/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ba8c8b22272ad40fe2de465d7e745532bab48d3b/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=ba8c8b22272ad40fe2de465d7e745532bab48d3b",
        "patch": "@@ -1631,8 +1631,14 @@ bool AppInitMain(InitInterfaces& interfaces)\n \n     // ********************************************************* Step 11: import blocks\n \n-    if (!CheckDiskSpace() && !CheckDiskSpace(0, true))\n+    if (!CheckDiskSpace(/* additional_bytes */ 0, /* blocks_dir */ false)) {\n+        InitError(strprintf(_(\"Error: Disk space is low for %s\"), GetDataDir()));\n         return false;\n+    }\n+    if (!CheckDiskSpace(/* additional_bytes */ 0, /* blocks_dir */ true)) {\n+        InitError(strprintf(_(\"Error: Disk space is low for %s\"), GetBlocksDir()));\n+        return false;\n+    }\n \n     // Either install a handler to notify us when genesis activates, or set fHaveGenesis directly.\n     // No locking, as this happens before any background thread is started."
      }
    ]
  }
]