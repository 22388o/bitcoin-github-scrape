[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372042436",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-372042436",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 372042436,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjA0MjQzNg==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-10T16:25:32Z",
    "updated_at": "2018-03-10T16:25:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "The argument for keeping the block index in the data dir would be that in the vast majority of cases it means the block index will be on the same filesystem as the utxo database, and therefore we can rely on regular filesystem semantics regarding data ordering. If the block index and utxo database are on different filesystems then it's not possible to guarantee that one is ahead of the other without fully serializing the operations with fsync.\r\n\r\nI will try to look through the code more and think about this more closely. I think this change is fine the way the code currently works because the flushes are basically serialized anyway (and we fsync for block storage and block index updates), but this might become annoying long term.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372042436/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372089163",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-372089163",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 372089163,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjA4OTE2Mw==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-11T04:43:31Z",
    "updated_at": "2018-03-11T04:43:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Added a commit (basically a one-liner) that will make the block index database stick in datadir.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372089163/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372094666",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-372094666",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 372094666,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjA5NDY2Ng==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-11T07:11:58Z",
    "updated_at": "2018-03-11T07:11:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK Once you fix the python lint failure.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372094666/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372140158",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-372140158",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 372140158,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjE0MDE1OA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-11T19:05:53Z",
    "updated_at": "2018-03-11T19:05:53Z",
    "author_association": "MEMBER",
    "body": "Concept ACK.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372140158/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372633558",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-372633558",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 372633558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjYzMzU1OA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-13T11:27:29Z",
    "updated_at": "2018-03-13T11:28:10Z",
    "author_association": "MEMBER",
    "body": "Concept ACK, this would avoid some symlinking gymnastics I'm currently doing.\r\n(ref; #10922)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372633558/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372666695",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-372666695",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 372666695,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjY2NjY5NQ==",
    "user": {
      "login": "hkjn",
      "id": 287215,
      "node_id": "MDQ6VXNlcjI4NzIxNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/287215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkjn",
      "html_url": "https://github.com/hkjn",
      "followers_url": "https://api.github.com/users/hkjn/followers",
      "following_url": "https://api.github.com/users/hkjn/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkjn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkjn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkjn/subscriptions",
      "organizations_url": "https://api.github.com/users/hkjn/orgs",
      "repos_url": "https://api.github.com/users/hkjn/repos",
      "events_url": "https://api.github.com/users/hkjn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkjn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-13T13:35:12Z",
    "updated_at": "2018-03-13T13:35:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK 34ec8e3, once lint issues are fixed.\r\n\r\nDoes what it says on the tin, seems like a useful feature.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372666695/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373375739",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-373375739",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 373375739,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzM3NTczOQ==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-15T13:29:57Z",
    "updated_at": "2018-03-15T13:29:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "I might have to retract my earlier statement, as @sipa says [here](https://github.com/bitcoin/bitcoin/pull/10922#issuecomment-317596359) that the blocks index and block files should be on the same filesystem, contradicting my earlier statement. I'm not sure if I understand that reasoning though, as we fsync after writing the block and before committing to the block index, which should be fine across filesystems. If it's really true that they need to be on the same filesystem that would be problematic in the future if we ever wanted to merge the block index and the chainstate index.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373375739/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373379810",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-373379810",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 373379810,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzM3OTgxMA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-15T13:43:18Z",
    "updated_at": "2018-03-15T19:32:10Z",
    "author_association": "MEMBER",
    "body": "~~I think this is almost ready. Will test.~~ However, python-nanny wants you to fix:\r\n```\r\n./test/functional/feature_blocksdir.py:20:63: E703 statement ends with a semicolon\r\n^---- failure generated from contrib/devtools/lint-python.sh\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373379810/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373548896",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-373548896",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 373548896,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzU0ODg5Ng==",
    "user": {
      "login": "donaloconnor",
      "id": 6394033,
      "node_id": "MDQ6VXNlcjYzOTQwMzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6394033?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/donaloconnor",
      "html_url": "https://github.com/donaloconnor",
      "followers_url": "https://api.github.com/users/donaloconnor/followers",
      "following_url": "https://api.github.com/users/donaloconnor/following{/other_user}",
      "gists_url": "https://api.github.com/users/donaloconnor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/donaloconnor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/donaloconnor/subscriptions",
      "organizations_url": "https://api.github.com/users/donaloconnor/orgs",
      "repos_url": "https://api.github.com/users/donaloconnor/repos",
      "events_url": "https://api.github.com/users/donaloconnor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/donaloconnor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-15T22:56:12Z",
    "updated_at": "2018-03-15T22:57:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373548896/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374246044",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-374246044",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 374246044,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDI0NjA0NA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-19T15:09:15Z",
    "updated_at": "2018-03-19T15:09:15Z",
    "author_association": "MEMBER",
    "body": "> I might have to retract my earlier statement, as @sipa says here that the blocks index and block files should be on the same filesystem\r\n\r\nWouldn't this imply that we're better off without commit https://github.com/bitcoin/bitcoin/pull/12653/commits/4855b9e8365e0037fcd9a4c6796dea04efa019ec? That would keep the block index with the blocks, which is @sipa's preference.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374246044/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374452598",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-374452598",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 374452598,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDQ1MjU5OA==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T02:36:17Z",
    "updated_at": "2018-03-20T02:36:17Z",
    "author_association": "CONTRIBUTOR",
    "body": ">> I might have to retract my earlier statement, as @sipa says here that the blocks index and block files should be on the same filesystem\r\n\r\n> Wouldn't this imply that we're better off without commit 4855b9e? That would keep the block index with the blocks, which is @sipa's preference.\r\n\r\n@sipa: can you elaborate your concerns of having the index outside of the blocks directory?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374452598/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374452816",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-374452816",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 374452816,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDQ1MjgxNg==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T02:37:43Z",
    "updated_at": "2018-03-20T02:37:43Z",
    "author_association": "MEMBER",
    "body": "@jonasschnelli @eklitzke I don't think there's an actual problem with having the blocks and the block index on separate filesystems. I was worried about them going out of sync due to management (you copy one but not the other, etc).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374452816/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374453089",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-374453089",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 374453089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDQ1MzA4OQ==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T02:39:24Z",
    "updated_at": "2018-03-20T02:39:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @sipa.\r\nI think then we should keep the last commit (a1926362ecb3c354ae338ef7d7020daf78f980c9).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374453089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376639575",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-376639575",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 376639575,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjYzOTU3NQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-27T19:06:30Z",
    "updated_at": "2018-03-27T19:06:30Z",
    "author_association": "MEMBER",
    "body": "In that case, utACK a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376639575/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377225716",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-377225716",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 377225716,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzIyNTcxNg==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T12:54:03Z",
    "updated_at": "2018-03-29T12:54:03Z",
    "author_association": "MEMBER",
    "body": "Sorry I'm late to the party, but I'm seeing some strange behavior on macOS, see #12828. ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377225716/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378324754",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-378324754",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 378324754,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODMyNDc1NA==",
    "user": {
      "login": "opacey",
      "id": 13622471,
      "node_id": "MDQ6VXNlcjEzNjIyNDcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/13622471?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/opacey",
      "html_url": "https://github.com/opacey",
      "followers_url": "https://api.github.com/users/opacey/followers",
      "following_url": "https://api.github.com/users/opacey/following{/other_user}",
      "gists_url": "https://api.github.com/users/opacey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/opacey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/opacey/subscriptions",
      "organizations_url": "https://api.github.com/users/opacey/orgs",
      "repos_url": "https://api.github.com/users/opacey/repos",
      "events_url": "https://api.github.com/users/opacey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/opacey/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-03T17:07:43Z",
    "updated_at": "2018-04-03T17:07:43Z",
    "author_association": "NONE",
    "body": "I ran a little test just to see the effect of putting the entire datadir an external USB 3.0 HDD versus the internal SSD (cross ref #10736):\r\n  MacBookPro2013 ExternalUSBHDD (NoNetwork) = ~1min, CPU ~35%\r\n  MacBookPro2013 InternalSSD (NoNetwork) = ~2.0sec, CPU ~120%\r\n  MacBookPro2017 InternalSSD (NoNetwork) = ~2.0sec, CPU ~120%\r\n  MacBookPro2017 InternalSSD (NetworkOn) = ~2.5sec, CPU ~120%\r\n\r\nTimings are gaps between block validations. There is a ~30x slow down when using the USB 3.0 HDD.\r\n\r\nI also experimented with different combinations of the following settings:\r\n\tpar=1, 2, 3, 4\r\n\tdbcache=1000, 2000, 4000, 5000\r\n\tmaxsigcachesize=64, 1000\r\n...they didn't seem to have a significant effect on timing except dbcache (bigger = better).\r\n\r\nI'm surprised that signature verification speed increase is negligible between a 2013 Core i5 and a 2017 Core i5 [and that par doesn't seem to effect results significantly, though that's off topic.]",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378324754/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426202288",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-426202288",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 426202288,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjIwMjI4OA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-02T09:04:48Z",
    "updated_at": "2018-10-02T09:14:56Z",
    "author_association": "MEMBER",
    "body": "> This PR adds a -blocksdir option that allows one to keep the blockfiles and the blockindex external from the data directory (instead of creating symlinks).\r\n\r\n@jonasschnelli could you update/fix the PR description?\r\n\r\nEdit: Done",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426202288/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/452043082",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#issuecomment-452043082",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12653",
    "id": 452043082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MjA0MzA4Mg==",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?u=a1574ca2038ff1dfaa9a7764c59ea5ff4f305b5d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-07T18:59:14Z",
    "updated_at": "2019-01-07T18:59:14Z",
    "author_association": "MEMBER",
    "body": "https://github.com/bitcoin/bitcoin/pull/15124",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/452043082/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173667736",
    "pull_request_review_id": 102894584,
    "id": 173667736,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MzY2NzczNg==",
    "diff_hunk": "@@ -182,6 +182,7 @@ void ReleaseDirectoryLocks();\n \n bool TryCreateDirectories(const fs::path& p);\n fs::path GetDefaultDataDir();\n+const fs::path &GetBlocksDir(bool fNetSpecific = true);",
    "path": "src/util.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "original_commit_id": "34ec8e308b99228f1bff1b9c26d8533a46727cb6",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I am wondering why this should be net specific, considering that we have the same concept for wallets and the `GetWalletDir` is not net specific.",
    "created_at": "2018-03-11T20:13:01Z",
    "updated_at": "2018-03-20T02:33:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r173667736",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173667736"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r173667736"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173667736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 185,
    "original_line": 185,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173841457",
    "pull_request_review_id": 103096628,
    "id": 173841457,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3Mzg0MTQ1Nw==",
    "diff_hunk": "@@ -0,0 +1,34 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the blocksdir option.\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework, initialize_datadir\n+\n+import shutil\n+import os\n+\n+class BlocksdirTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.stop_node(0)\n+        node0path = os.path.join(self.options.tmpdir, \"node0\");",
    "path": "test/functional/feature_blocksdir.py",
    "position": null,
    "original_position": 20,
    "commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "original_commit_id": "34ec8e308b99228f1bff1b9c26d8533a46727cb6",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Remove `;`.",
    "created_at": "2018-03-12T15:37:23Z",
    "updated_at": "2018-03-20T02:33:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r173841457",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173841457"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r173841457"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173841457/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 20,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173843918",
    "pull_request_review_id": 103096628,
    "id": 173843918,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3Mzg0MzkxOA==",
    "diff_hunk": "@@ -0,0 +1,34 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the blocksdir option.\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework, initialize_datadir\n+\n+import shutil\n+import os\n+\n+class BlocksdirTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.stop_node(0)\n+        node0path = os.path.join(self.options.tmpdir, \"node0\");\n+        shutil.rmtree(node0path)\n+        initialize_datadir(self.options.tmpdir, 0)\n+        self.log.info(\"Starting with non exiting blocksdir ...\")\n+        self.assert_start_raises_init_error(0, [\"-blocksdir=\"+self.options.tmpdir+ \"/blocksdir\"], \"Specified blocks director\")",
    "path": "test/functional/feature_blocksdir.py",
    "position": null,
    "original_position": 24,
    "commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "original_commit_id": "34ec8e308b99228f1bff1b9c26d8533a46727cb6",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Add\r\n```py\r\nblocksdir = os.path.join(self.options.tmpdir, \"blocksdir\")\r\n```\r\nand reuse here and below.",
    "created_at": "2018-03-12T15:44:09Z",
    "updated_at": "2018-03-20T02:33:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r173843918",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173843918"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r173843918"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173843918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 24,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173847868",
    "pull_request_review_id": 103096628,
    "id": 173847868,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3Mzg0Nzg2OA==",
    "diff_hunk": "@@ -147,7 +147,7 @@ size_t CCoinsViewDB::EstimateSize() const\n     return db.EstimateSize(DB_COIN, (char)(DB_COIN+1));\n }\n \n-CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(GetDataDir() / \"blocks\" / \"index\", nCacheSize, fMemory, fWipe) {\n+CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(gArgs.IsArgSet(\"-blocksdir\") ? GetDataDir() / \"blockindex\" : GetBlocksDir() / \"index\", nCacheSize, fMemory, fWipe) {",
    "path": "src/txdb.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "original_commit_id": "34ec8e308b99228f1bff1b9c26d8533a46727cb6",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`\"blockindex\"`? Should be `\"blocks\" / \"index\"`?\r\n\r\nMaybe add `GetBlockIndexDir()`?",
    "created_at": "2018-03-12T15:54:39Z",
    "updated_at": "2018-03-20T02:33:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r173847868",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173847868"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r173847868"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173847868/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 150,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174784834",
    "pull_request_review_id": 104204235,
    "id": 174784834,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDc4NDgzNA==",
    "diff_hunk": "@@ -182,6 +182,7 @@ void ReleaseDirectoryLocks();\n \n bool TryCreateDirectories(const fs::path& p);\n fs::path GetDefaultDataDir();\n+const fs::path &GetBlocksDir(bool fNetSpecific = true);",
    "path": "src/util.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "original_commit_id": "34ec8e308b99228f1bff1b9c26d8533a46727cb6",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Isn't the blocks directory *by definition* net specific?",
    "created_at": "2018-03-15T13:42:03Z",
    "updated_at": "2018-03-20T02:33:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r174784834",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174784834"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r174784834"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174784834/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 185,
    "original_line": 185,
    "side": "RIGHT",
    "in_reply_to_id": 173667736
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174905759",
    "pull_request_review_id": 104349571,
    "id": 174905759,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDkwNTc1OQ==",
    "diff_hunk": "@@ -147,7 +147,7 @@ size_t CCoinsViewDB::EstimateSize() const\n     return db.EstimateSize(DB_COIN, (char)(DB_COIN+1));\n }\n \n-CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(GetDataDir() / \"blocks\" / \"index\", nCacheSize, fMemory, fWipe) {\n+CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(gArgs.IsArgSet(\"-blocksdir\") ? GetDataDir() / \"blockindex\" : GetBlocksDir() / \"index\", nCacheSize, fMemory, fWipe) {",
    "path": "src/txdb.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "original_commit_id": "34ec8e308b99228f1bff1b9c26d8533a46727cb6",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, this seems wrong.\r\nI tried providing my existing blocks directory:\r\n```\r\n$ src/bitcoind -testnet -blocksdir=/store2/tmp/bitcoin/testnet3/blocks -printtoconsole\r\n2018-03-15T19:29:04Z Opening LevelDB in /.../.bitcoin/testnet3/blockindex\r\n2018-03-15T19:29:04Z Opened LevelDB successfully\r\n...\r\n2018-03-15T19:29:05Z : Error initializing block database.\r\nPlease restart with -reindex or -reindex-chainstate to recover.\r\n: Error initializing block database.\r\nPlease restart with -reindex or -reindex-chainstate to recover.\r\n```\r\nThis fails. Shouldn't it  use the `index` directory within the `blocksdir`?",
    "created_at": "2018-03-15T19:31:54Z",
    "updated_at": "2018-03-20T02:33:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r174905759",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174905759"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r174905759"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174905759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 150,
    "side": "RIGHT",
    "in_reply_to_id": 173847868
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175640919",
    "pull_request_review_id": 105202445,
    "id": 175640919,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NTY0MDkxOQ==",
    "diff_hunk": "@@ -147,7 +147,7 @@ size_t CCoinsViewDB::EstimateSize() const\n     return db.EstimateSize(DB_COIN, (char)(DB_COIN+1));\n }\n \n-CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(GetDataDir() / \"blocks\" / \"index\", nCacheSize, fMemory, fWipe) {\n+CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(gArgs.IsArgSet(\"-blocksdir\") ? GetDataDir() / \"blockindex\" : GetBlocksDir() / \"index\", nCacheSize, fMemory, fWipe) {",
    "path": "src/txdb.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "original_commit_id": "34ec8e308b99228f1bff1b9c26d8533a46727cb6",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Using the same directory looks most obvious correct, though, if you switch the blocks dir to a different path (with `-blocksdir=<path>`) users may run into troubles since the old blocks dir may still be in the datadir...\r\nBut I agree, lets keep \"block\" / \"Index\" for now... \r\nfixed.",
    "created_at": "2018-03-20T02:35:12Z",
    "updated_at": "2018-03-20T02:35:12Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r175640919",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175640919"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r175640919"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175640919/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 150,
    "side": "RIGHT",
    "in_reply_to_id": 173847868
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282600933",
    "pull_request_review_id": 235740108,
    "id": 282600933,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MjYwMDkzMw==",
    "diff_hunk": "@@ -147,7 +147,7 @@ size_t CCoinsViewDB::EstimateSize() const\n     return db.EstimateSize(DB_COIN, (char)(DB_COIN+1));\n }\n \n-CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(GetDataDir() / \"blocks\" / \"index\", nCacheSize, fMemory, fWipe) {\n+CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(gArgs.IsArgSet(\"-blocksdir\") ? GetDataDir() / \"blocks\" / \"index\" : GetBlocksDir() / \"index\", nCacheSize, fMemory, fWipe) {",
    "path": "src/txdb.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "original_commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "user": {
      "login": "markblundeberg",
      "id": 36528214,
      "node_id": "MDQ6VXNlcjM2NTI4MjE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/36528214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markblundeberg",
      "html_url": "https://github.com/markblundeberg",
      "followers_url": "https://api.github.com/users/markblundeberg/followers",
      "following_url": "https://api.github.com/users/markblundeberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/markblundeberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markblundeberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markblundeberg/subscriptions",
      "organizations_url": "https://api.github.com/users/markblundeberg/orgs",
      "repos_url": "https://api.github.com/users/markblundeberg/repos",
      "events_url": "https://api.github.com/users/markblundeberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markblundeberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "What is this conditional for -- why not always just `GetDataDir() / \"blocks\" / \"index\"` ?",
    "created_at": "2019-05-09T18:03:53Z",
    "updated_at": "2019-05-09T18:03:54Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r282600933",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282600933"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r282600933"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282600933/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 150,
    "original_line": 150,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282615414",
    "pull_request_review_id": 235759455,
    "id": 282615414,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MjYxNTQxNA==",
    "diff_hunk": "@@ -147,7 +147,7 @@ size_t CCoinsViewDB::EstimateSize() const\n     return db.EstimateSize(DB_COIN, (char)(DB_COIN+1));\n }\n \n-CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(GetDataDir() / \"blocks\" / \"index\", nCacheSize, fMemory, fWipe) {\n+CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(gArgs.IsArgSet(\"-blocksdir\") ? GetDataDir() / \"blocks\" / \"index\" : GetBlocksDir() / \"index\", nCacheSize, fMemory, fWipe) {",
    "path": "src/txdb.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "original_commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The `-blocksdir` parameter lets you put blocks in a completely different directory, e.g. on a slow cheap magnetic harddrive, keeping the rest on your datadir on SSD. `blocks/index` also needs to be on a fast drive. Ideally tough I think datadir/blocks/index should move to datadir/index/blocks",
    "created_at": "2019-05-09T18:43:31Z",
    "updated_at": "2019-05-09T18:43:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r282615414",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282615414"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r282615414"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282615414/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 150,
    "original_line": 150,
    "side": "RIGHT",
    "in_reply_to_id": 282600933
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282678552",
    "pull_request_review_id": 235840670,
    "id": 282678552,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MjY3ODU1Mg==",
    "diff_hunk": "@@ -147,7 +147,7 @@ size_t CCoinsViewDB::EstimateSize() const\n     return db.EstimateSize(DB_COIN, (char)(DB_COIN+1));\n }\n \n-CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(GetDataDir() / \"blocks\" / \"index\", nCacheSize, fMemory, fWipe) {\n+CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(gArgs.IsArgSet(\"-blocksdir\") ? GetDataDir() / \"blocks\" / \"index\" : GetBlocksDir() / \"index\", nCacheSize, fMemory, fWipe) {",
    "path": "src/txdb.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "original_commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "user": {
      "login": "markblundeberg",
      "id": 36528214,
      "node_id": "MDQ6VXNlcjM2NTI4MjE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/36528214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markblundeberg",
      "html_url": "https://github.com/markblundeberg",
      "followers_url": "https://api.github.com/users/markblundeberg/followers",
      "following_url": "https://api.github.com/users/markblundeberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/markblundeberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markblundeberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markblundeberg/subscriptions",
      "organizations_url": "https://api.github.com/users/markblundeberg/orgs",
      "repos_url": "https://api.github.com/users/markblundeberg/repos",
      "events_url": "https://api.github.com/users/markblundeberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markblundeberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, I just mean that no matter whether the `gArgs.IsArgSet(\"-blocksdir\") ?` conditional here is True / False, either way it results in using \"DATADIR/blocks/index\". So the conditional seems like just extra code ... though this makes me suspect I'm missing something.",
    "created_at": "2019-05-09T21:47:02Z",
    "updated_at": "2019-05-09T21:47:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r282678552",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282678552"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r282678552"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282678552/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 150,
    "original_line": 150,
    "side": "RIGHT",
    "in_reply_to_id": 282600933
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282893333",
    "pull_request_review_id": 236116885,
    "id": 282893333,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4Mjg5MzMzMw==",
    "diff_hunk": "@@ -147,7 +147,7 @@ size_t CCoinsViewDB::EstimateSize() const\n     return db.EstimateSize(DB_COIN, (char)(DB_COIN+1));\n }\n \n-CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(GetDataDir() / \"blocks\" / \"index\", nCacheSize, fMemory, fWipe) {\n+CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(gArgs.IsArgSet(\"-blocksdir\") ? GetDataDir() / \"blocks\" / \"index\" : GetBlocksDir() / \"index\", nCacheSize, fMemory, fWipe) {",
    "path": "src/txdb.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "original_commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`gArgs.IsArgSet(\"-blocksdir\") ? GetDataDir() / \"blocks\" / \"index\" : GetBlocksDir() / \"index\"`\r\n\r\nIf launched without `-blocksdir`:\r\n```\r\nfalse -> GetBlocksDir() / \"index\" -> ~/.bitcoin/blocks/index\r\n```\r\n\r\nIf launched with with `-blocksdir=/mnt/magnetic/blocks`:\r\n```\r\ntrue -> GetDataDir() / \"blocks\" / \"index\" ->   /mnt/magnetic/blocks/index\r\n```\r\n\r\nNote that `GetBlocksDir()` internally also checks the `-blocksdir` argument, and create a directory if needed, so it won't use DATADIR in that is set.\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/a1926362ecb3c354ae338ef7d7020daf78f980c9/src/util.cpp#L607-L634",
    "created_at": "2019-05-10T13:53:38Z",
    "updated_at": "2019-05-10T13:54:28Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r282893333",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282893333"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r282893333"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/282893333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 150,
    "original_line": 150,
    "side": "RIGHT",
    "in_reply_to_id": 282600933
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283150872",
    "pull_request_review_id": 236433001,
    "id": 283150872,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MzE1MDg3Mg==",
    "diff_hunk": "@@ -147,7 +147,7 @@ size_t CCoinsViewDB::EstimateSize() const\n     return db.EstimateSize(DB_COIN, (char)(DB_COIN+1));\n }\n \n-CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(GetDataDir() / \"blocks\" / \"index\", nCacheSize, fMemory, fWipe) {\n+CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(gArgs.IsArgSet(\"-blocksdir\") ? GetDataDir() / \"blocks\" / \"index\" : GetBlocksDir() / \"index\", nCacheSize, fMemory, fWipe) {",
    "path": "src/txdb.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "original_commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "user": {
      "login": "markblundeberg",
      "id": 36528214,
      "node_id": "MDQ6VXNlcjM2NTI4MjE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/36528214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/markblundeberg",
      "html_url": "https://github.com/markblundeberg",
      "followers_url": "https://api.github.com/users/markblundeberg/followers",
      "following_url": "https://api.github.com/users/markblundeberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/markblundeberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/markblundeberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markblundeberg/subscriptions",
      "organizations_url": "https://api.github.com/users/markblundeberg/orgs",
      "repos_url": "https://api.github.com/users/markblundeberg/repos",
      "events_url": "https://api.github.com/users/markblundeberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/markblundeberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ah sorry, I meant to say either way it uses `GetBlocksDir()/\"blocks\"/\"index\"` but wrote DATADIR. Anyway though as you say, the directory check&create does make it slightly different.",
    "created_at": "2019-05-12T19:35:28Z",
    "updated_at": "2019-05-12T19:35:28Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r283150872",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283150872"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r283150872"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283150872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 150,
    "original_line": 150,
    "side": "RIGHT",
    "in_reply_to_id": 282600933
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331790650",
    "pull_request_review_id": 297839886,
    "id": 331790650,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTc5MDY1MA==",
    "diff_hunk": "@@ -147,7 +147,7 @@ size_t CCoinsViewDB::EstimateSize() const\n     return db.EstimateSize(DB_COIN, (char)(DB_COIN+1));\n }\n \n-CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(GetDataDir() / \"blocks\" / \"index\", nCacheSize, fMemory, fWipe) {\n+CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(gArgs.IsArgSet(\"-blocksdir\") ? GetDataDir() / \"blocks\" / \"index\" : GetBlocksDir() / \"index\", nCacheSize, fMemory, fWipe) {",
    "path": "src/txdb.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "original_commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> If launched with with `-blocksdir=/mnt/magnetic/blocks`:\r\n> \r\n> ```\r\n> true -> GetDataDir() / \"blocks\" / \"index\" ->   /mnt/magnetic/blocks/index\r\n> ```\r\n\r\nThis is incorrect, right @Sjors?",
    "created_at": "2019-10-06T13:50:36Z",
    "updated_at": "2019-10-06T13:50:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r331790650",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331790650"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r331790650"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331790650/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 150,
    "original_line": 150,
    "side": "RIGHT",
    "in_reply_to_id": 282600933
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331804678",
    "pull_request_review_id": 297854502,
    "id": 331804678,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTgwNDY3OA==",
    "diff_hunk": "@@ -147,7 +147,7 @@ size_t CCoinsViewDB::EstimateSize() const\n     return db.EstimateSize(DB_COIN, (char)(DB_COIN+1));\n }\n \n-CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(GetDataDir() / \"blocks\" / \"index\", nCacheSize, fMemory, fWipe) {\n+CBlockTreeDB::CBlockTreeDB(size_t nCacheSize, bool fMemory, bool fWipe) : CDBWrapper(gArgs.IsArgSet(\"-blocksdir\") ? GetDataDir() / \"blocks\" / \"index\" : GetBlocksDir() / \"index\", nCacheSize, fMemory, fWipe) {",
    "path": "src/txdb.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "original_commit_id": "a1926362ecb3c354ae338ef7d7020daf78f980c9",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I believe it's like this: `-blocksdir=/mnt/magnetic` will put blocks in `/mnt/magnetic/blocks`. The block index will remain at `~/.bitcoin/blocks/index` and `~/.bitcoin/blocks` will otherwise be empty.",
    "created_at": "2019-10-06T18:58:42Z",
    "updated_at": "2019-10-06T18:58:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r331804678",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331804678"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12653#discussion_r331804678"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12653"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331804678/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 150,
    "original_line": 150,
    "side": "RIGHT",
    "in_reply_to_id": 282600933
  }
]