TheBlueMatt,2017-06-06T00:52:27Z,I'm not sold on passing in the VersionBitsCache (which is the primary difference between this and the version at #10192) - why should ConnectBlock even be aware that there is a fancy cache making GetScriptFlags faster?,https://github.com/bitcoin/bitcoin/pull/10427#issuecomment-306350621,306350621,
jtimon,2017-06-07T12:43:50Z,"> why should ConnectBlock even be aware that there is a fancy cache making GetScriptFlags faster?\n\nWell, GetScriptFlags is aware of it anyway, so at a minimum, I think not calling IsWitnessEnabled from it is very reasonable.\n\nRegarding the question, ConnectBlock should is aware of the global versionbitscache because it uses it though GetScriptFlags, whether we chose to make that dependency",https://github.com/bitcoin/bitcoin/pull/10427#issuecomment-306782995,306782995,
TheBlueMatt,2017-06-07T17:09:52Z,"Guess its all a personal preference thing - make functions more static and pass globals in from higher up the stack, or put a bit more encapsulation in the lower-level functions and keep the globals only for those functions. I tend to prefer the second, myself, but open to other views.",https://github.com/bitcoin/bitcoin/pull/10427#issuecomment-306861693,306861693,
jtimon,2017-06-07T17:22:34Z,"Thoughts on at least removing the use of IsWitnessEnabled() from your version of the change?\nThat's just removing the use of an unnecessary wrapper.",https://github.com/bitcoin/bitcoin/pull/10427#issuecomment-306865367,306865367,
TheBlueMatt,2017-06-07T17:52:51Z,"I dont have any strong feelings, but IsWitnessEnabled is a much clearer expression of whats going on, and also keeps duplication of that check to one place, which is nice (especially given all the folks running around doing crazy 148/149/etc implementations).",https://github.com/bitcoin/bitcoin/pull/10427#issuecomment-306873739,306873739,
jtimon,2017-06-07T21:04:36Z,"Whatever, I guess I can do this changes later if I ever get to the point where I can actually use them. Closing.",https://github.com/bitcoin/bitcoin/pull/10427#issuecomment-306924506,306924506,
