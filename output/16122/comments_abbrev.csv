promag,2019-05-29 22:04:10,It's not possible to run RPC commands (not even by bitcoin-cli) if the initial rescan hasn't completed.  A long term alternative is to move this rescan after the initialization? /cc @ryanofsky ,https://github.com/bitcoin/bitcoin/pull/16122#issuecomment-497125663,497125663,
ryanofsky,2019-05-30 11:24:57,"> A long term alternative is to move this rescan after the initialization? /cc @ryanofsky\n\nSince the rescan loop doesn't hold onto cs_main anymore, I'd expect that RPC commands could work during a rescan, and don't understand exactly what problem causes this crash, and what problem causes bitcoin-cli not to work right now.\n\nLonger term, I think the main thing that needs to happen is for th",https://github.com/bitcoin/bitcoin/pull/16122#issuecomment-497297921,497297921,
promag,2019-05-30 15:38:44,"> and what problem causes bitcoin-cli not to work right now.\n\nBecause the server gives `RPC_IN_WARMUP`:\n```sh\nsrc/bitcoin-cli -regtest help\nerror code: -28\nerror message:\nRescanning...\n```\n\n> don't understand exactly what problem causes this crash\n\nBecause  `autoCompleter` is null here:\nhttps://github.com/bitcoin/bitcoin/blob/727143b65cdb801a0b755cb8b3aff97da5fe8f27/src/q",https://github.com/bitcoin/bitcoin/pull/16122#issuecomment-497375129,497375129,
fanquake,2019-05-31 14:06:23,"tACK https://github.com/bitcoin/bitcoin/pull/16122/commits/2d8ad2f99710a8981e33fe2d6ce834b0076c4e80 on macOS.\n\nUsing master (c7cfd20a77ce57d200b3b9e5e0dfb0d63818abdc) it's possible to cause a crash during startup by opening `Window` -> `Console` typing anything into the console and hitting enter.\n\n```bash\nlldb Bitcoin-Qt.app\n(lldb) target create ""Bitcoin-Qt.app""\nCurrent executable se",https://github.com/bitcoin/bitcoin/pull/16122#issuecomment-497721221,497721221,
ryanofsky,2019-05-30 15:45:00,Maybe add a comment saying the edit line starts off disabled to wait for rpc warmup.,https://github.com/bitcoin/bitcoin/pull/16122#discussion_r289049142,289049142,src/qt/rpcconsole.cpp
promag,2019-05-30 22:26:27,Done.,https://github.com/bitcoin/bitcoin/pull/16122#discussion_r289196362,289196362,src/qt/rpcconsole.cpp
