[
  {
    "sha": "7b50bb2f1b96cb8964819e03eb044c3b88746946",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3YjUwYmIyZjFiOTZjYjg5NjQ4MTllMDNlYjA0NGMzYjg4NzQ2OTQ2",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2014-01-16T15:05:44Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2014-01-18T15:57:02Z"
      },
      "message": "[Qt] add utilitydialog.cpp/h and helpmessage class\n\n- adds a nice and well formated dialog, which displays our -? help message\n  (all options/paramaters)\n- moves aboutdialog.cpp/h to the new utilitydialog\n- move GUI shutdown window to utilitydialog",
      "tree": {
        "sha": "bf67dbda25f0be285c549e528c031ee76e1eef69",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bf67dbda25f0be285c549e528c031ee76e1eef69"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7b50bb2f1b96cb8964819e03eb044c3b88746946",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7b50bb2f1b96cb8964819e03eb044c3b88746946",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7b50bb2f1b96cb8964819e03eb044c3b88746946",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7b50bb2f1b96cb8964819e03eb044c3b88746946/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "490d6a30461d11aa112efe9fb3006797651ba4d5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/490d6a30461d11aa112efe9fb3006797651ba4d5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/490d6a30461d11aa112efe9fb3006797651ba4d5"
      }
    ],
    "stats": {
      "total": 505,
      "additions": 343,
      "deletions": 162
    },
    "files": [
      {
        "sha": "3a72d10f4732b80e50d943d9d600e8d38b9957b9",
        "filename": "contrib/bitcoin-qt.pro",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b50bb2f1b96cb8964819e03eb044c3b88746946/contrib/bitcoin-qt.pro",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b50bb2f1b96cb8964819e03eb044c3b88746946/contrib/bitcoin-qt.pro",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/bitcoin-qt.pro?ref=7b50bb2f1b96cb8964819e03eb044c3b88746946",
        "patch": "@@ -4,6 +4,7 @@ FORMS += \\\n     ../src/qt/forms/askpassphrasedialog.ui \\\n     ../src/qt/forms/coincontroldialog.ui \\\n     ../src/qt/forms/editaddressdialog.ui \\\n+    ../src/qt/forms/helpmessagedialog.ui \\\n     ../src/qt/forms/intro.ui \\\n     ../src/qt/forms/openuridialog.ui \\\n     ../src/qt/forms/optionsdialog.ui \\"
      },
      {
        "sha": "3dfe8ee6caea40f301bd8f0b4cd5c53746fe15af",
        "filename": "src/qt/Makefile.am",
        "status": "modified",
        "additions": 5,
        "deletions": 4,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/Makefile.am",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/Makefile.am",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/Makefile.am?ref=7b50bb2f1b96cb8964819e03eb044c3b88746946",
        "patch": "@@ -80,6 +80,7 @@ QT_FORMS_UI = \\\n   forms/askpassphrasedialog.ui \\\n   forms/coincontroldialog.ui \\\n   forms/editaddressdialog.ui \\\n+  forms/helpmessagedialog.ui \\\n   forms/intro.ui \\\n   forms/openuridialog.ui \\\n   forms/optionsdialog.ui \\\n@@ -93,7 +94,6 @@ QT_FORMS_UI = \\\n   forms/transactiondescdialog.ui\n \n QT_MOC_CPP = \\\n-  moc_aboutdialog.cpp \\\n   moc_addressbookpage.cpp \\\n   moc_addresstablemodel.cpp \\\n   moc_askpassphrasedialog.cpp \\\n@@ -133,6 +133,7 @@ QT_MOC_CPP = \\\n   moc_transactionfilterproxy.cpp \\\n   moc_transactiontablemodel.cpp \\\n   moc_transactionview.cpp \\\n+  moc_utilitydialog.cpp \\  \n   moc_walletframe.cpp \\\n   moc_walletmodel.cpp \\\n   moc_walletview.cpp\n@@ -155,7 +156,6 @@ PROTOBUF_H = paymentrequest.pb.h\n PROTOBUF_PROTO = paymentrequest.proto\n \n BITCOIN_QT_H = \\\n-  aboutdialog.h \\\n   addressbookpage.h \\\n   addresstablemodel.h \\\n   askpassphrasedialog.h \\\n@@ -198,6 +198,7 @@ BITCOIN_QT_H = \\\n   transactionrecord.h \\\n   transactiontablemodel.h \\\n   transactionview.h \\\n+  utilitydialog.h \\\n   walletframe.h \\\n   walletmodel.h \\\n   walletmodeltransaction.h \\\n@@ -248,7 +249,6 @@ RES_ICONS = \\\n   res/icons/tx_mined.png\n \n BITCOIN_QT_CPP = \\\n-  aboutdialog.cpp \\\n   bitcoin.cpp \\\n   bitcoinaddressvalidator.cpp \\\n   bitcoinamountfield.cpp \\\n@@ -267,7 +267,8 @@ BITCOIN_QT_CPP = \\\n   rpcconsole.cpp \\\n   signverifymessagedialog.cpp \\\n   splashscreen.cpp \\\n-  trafficgraphwidget.cpp\n+  trafficgraphwidget.cpp \\\n+  utilitydialog.cpp\n \n if ENABLE_WALLET\n BITCOIN_QT_CPP += \\"
      },
      {
        "sha": "6581a19c18f20d8fb3b91c68da4712d4d15f5b45",
        "filename": "src/qt/aboutdialog.cpp",
        "status": "removed",
        "additions": 0,
        "deletions": 38,
        "changes": 38,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/490d6a30461d11aa112efe9fb3006797651ba4d5/src/qt/aboutdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/490d6a30461d11aa112efe9fb3006797651ba4d5/src/qt/aboutdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/aboutdialog.cpp?ref=490d6a30461d11aa112efe9fb3006797651ba4d5",
        "patch": "@@ -1,38 +0,0 @@\n-// Copyright (c) 2011-2013 The Bitcoin developers\n-// Distributed under the MIT/X11 software license, see the accompanying\n-// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n-\n-#include \"aboutdialog.h\"\n-#include \"ui_aboutdialog.h\"\n-\n-#include \"clientmodel.h\"\n-\n-#include \"clientversion.h\"\n-\n-AboutDialog::AboutDialog(QWidget *parent) :\n-    QDialog(parent),\n-    ui(new Ui::AboutDialog)\n-{\n-    ui->setupUi(this);\n-\n-    // Set current copyright year\n-    ui->copyrightLabel->setText(tr(\"Copyright\") + QString(\" &copy; 2009-%1 \").arg(COPYRIGHT_YEAR) + tr(\"The Bitcoin Core developers\"));\n-}\n-\n-void AboutDialog::setModel(ClientModel *model)\n-{\n-    if(model)\n-    {\n-        ui->versionLabel->setText(model->formatFullVersion());\n-    }\n-}\n-\n-AboutDialog::~AboutDialog()\n-{\n-    delete ui;\n-}\n-\n-void AboutDialog::on_buttonBox_accepted()\n-{\n-    close();\n-}"
      },
      {
        "sha": "1b131c4dcc896cbcfcfb3db547f6695b57cdb584",
        "filename": "src/qt/aboutdialog.h",
        "status": "removed",
        "additions": 0,
        "deletions": 34,
        "changes": 34,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/490d6a30461d11aa112efe9fb3006797651ba4d5/src/qt/aboutdialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/490d6a30461d11aa112efe9fb3006797651ba4d5/src/qt/aboutdialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/aboutdialog.h?ref=490d6a30461d11aa112efe9fb3006797651ba4d5",
        "patch": "@@ -1,34 +0,0 @@\n-// Copyright (c) 2011-2013 The Bitcoin developers\n-// Distributed under the MIT/X11 software license, see the accompanying\n-// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n-\n-#ifndef ABOUTDIALOG_H\n-#define ABOUTDIALOG_H\n-\n-#include <QDialog>\n-\n-class ClientModel;\n-\n-namespace Ui {\n-    class AboutDialog;\n-}\n-\n-/** \"About\" dialog box */\n-class AboutDialog : public QDialog\n-{\n-    Q_OBJECT\n-\n-public:\n-    explicit AboutDialog(QWidget *parent);\n-    ~AboutDialog();\n-\n-    void setModel(ClientModel *model);\n-\n-private:\n-    Ui::AboutDialog *ui;\n-\n-private slots:\n-    void on_buttonBox_accepted();\n-};\n-\n-#endif // ABOUTDIALOG_H"
      },
      {
        "sha": "848e50deb071b88e93c699f1bce2389fc46c2d79",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 14,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=7b50bb2f1b96cb8964819e03eb044c3b88746946",
        "patch": "@@ -14,6 +14,7 @@\n #include \"intro.h\"\n #include \"optionsmodel.h\"\n #include \"splashscreen.h\"\n+#include \"utilitydialog.h\"\n #ifdef ENABLE_WALLET\n #include \"paymentserver.h\"\n #include \"walletmodel.h\"\n@@ -36,8 +37,6 @@\n #include <QTimer>\n #include <QTranslator>\n #include <QThread>\n-#include <QVBoxLayout>\n-#include <QLabel>\n \n #if defined(QT_STATICPLUGIN)\n #include <QtPlugin>\n@@ -356,17 +355,7 @@ void BitcoinApplication::requestShutdown()\n     clientModel = 0;\n \n     // Show a simple window indicating shutdown status\n-    QWidget *shutdownWindow = new QWidget();\n-    QVBoxLayout *layout = new QVBoxLayout();\n-    layout->addWidget(new QLabel(\n-        tr(\"Bitcoin Core is shutting down...\") + \"<br /><br />\" +\n-        tr(\"Do not shut down the computer until this window disappears.\")));\n-    shutdownWindow->setLayout(layout);\n-\n-    // Center shutdown window at where main window was\n-    const QPoint global = window->mapToGlobal(window->rect().center());\n-    shutdownWindow->move(global.x() - shutdownWindow->width() / 2, global.y() - shutdownWindow->height() / 2);\n-    shutdownWindow->show();\n+    ShutdownWindow::showShutdownWindow(window);\n \n     // Request shutdown from core thread\n     emit requestedShutdown();\n@@ -503,7 +492,7 @@ int main(int argc, char *argv[])\n     // but before showing splash screen.\n     if (mapArgs.count(\"-?\") || mapArgs.count(\"--help\"))\n     {\n-        GUIUtil::HelpMessageBox help;\n+        HelpMessageDialog help(NULL);\n         help.showOrPrint();\n         return 1;\n     }"
      },
      {
        "sha": "1008ef2b082d0f75d33697a1ac6e984d5ab54224",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=7b50bb2f1b96cb8964819e03eb044c3b88746946",
        "patch": "@@ -4,7 +4,6 @@\n \n #include \"bitcoingui.h\"\n \n-#include \"aboutdialog.h\"\n #include \"bitcoinunits.h\"\n #include \"clientmodel.h\"\n #include \"guiconstants.h\"\n@@ -14,6 +13,7 @@\n #include \"optionsdialog.h\"\n #include \"optionsmodel.h\"\n #include \"rpcconsole.h\"\n+#include \"utilitydialog.h\"\n #ifdef ENABLE_WALLET\n #include \"walletframe.h\"\n #include \"walletmodel.h\""
      },
      {
        "sha": "3ab4675bf3ee3ba3556ef11bb1d37cff346d0b11",
        "filename": "src/qt/forms/aboutdialog.ui",
        "status": "modified",
        "additions": 8,
        "deletions": 8,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/forms/aboutdialog.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/forms/aboutdialog.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/aboutdialog.ui?ref=7b50bb2f1b96cb8964819e03eb044c3b88746946",
        "patch": "@@ -160,12 +160,12 @@ This product includes software developed by the OpenSSL Project for use in the O\n    <slot>accept()</slot>\n    <hints>\n     <hint type=\"sourcelabel\">\n-     <x>360</x>\n-     <y>308</y>\n+     <x>20</x>\n+     <y>20</y>\n     </hint>\n     <hint type=\"destinationlabel\">\n-     <x>157</x>\n-     <y>274</y>\n+     <x>20</x>\n+     <y>20</y>\n     </hint>\n    </hints>\n   </connection>\n@@ -176,12 +176,12 @@ This product includes software developed by the OpenSSL Project for use in the O\n    <slot>reject()</slot>\n    <hints>\n     <hint type=\"sourcelabel\">\n-     <x>428</x>\n-     <y>308</y>\n+     <x>20</x>\n+     <y>20</y>\n     </hint>\n     <hint type=\"destinationlabel\">\n-     <x>286</x>\n-     <y>274</y>\n+     <x>20</x>\n+     <y>20</y>\n     </hint>\n    </hints>\n   </connection>"
      },
      {
        "sha": "f68fea7e64101491dc1abd1aaca25e707c23bcf5",
        "filename": "src/qt/forms/helpmessagedialog.ui",
        "status": "added",
        "additions": 128,
        "deletions": 0,
        "changes": 128,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/forms/helpmessagedialog.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/forms/helpmessagedialog.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/helpmessagedialog.ui?ref=7b50bb2f1b96cb8964819e03eb044c3b88746946",
        "patch": "@@ -0,0 +1,128 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<ui version=\"4.0\">\n+ <class>HelpMessageDialog</class>\n+ <widget class=\"QDialog\" name=\"HelpMessageDialog\">\n+  <property name=\"geometry\">\n+   <rect>\n+    <x>0</x>\n+    <y>0</y>\n+    <width>800</width>\n+    <height>400</height>\n+   </rect>\n+  </property>\n+  <property name=\"font\">\n+   <font>\n+    <pointsize>10</pointsize>\n+   </font>\n+  </property>\n+  <property name=\"windowTitle\">\n+   <string>Bitcoin Core - Command-line options</string>\n+  </property>\n+  <layout class=\"QHBoxLayout\" name=\"horizontalLayout_2\">\n+   <item>\n+    <widget class=\"QLabel\" name=\"graphic\">\n+     <property name=\"sizePolicy\">\n+      <sizepolicy hsizetype=\"Preferred\" vsizetype=\"Ignored\">\n+       <horstretch>0</horstretch>\n+       <verstretch>0</verstretch>\n+      </sizepolicy>\n+     </property>\n+     <property name=\"pixmap\">\n+      <pixmap resource=\"../bitcoin.qrc\">:/images/about</pixmap>\n+     </property>\n+    </widget>\n+   </item>\n+   <item>\n+    <layout class=\"QVBoxLayout\" name=\"verticalLayout\">\n+     <item>\n+      <widget class=\"QScrollArea\" name=\"scrollArea\">\n+       <property name=\"verticalScrollBarPolicy\">\n+        <enum>Qt::ScrollBarAlwaysOn</enum>\n+       </property>\n+       <property name=\"widgetResizable\">\n+        <bool>true</bool>\n+       </property>\n+       <widget class=\"QWidget\" name=\"scrollAreaWidgetContents\">\n+        <property name=\"geometry\">\n+         <rect>\n+          <x>0</x>\n+          <y>0</y>\n+          <width>659</width>\n+          <height>348</height>\n+         </rect>\n+        </property>\n+        <layout class=\"QVBoxLayout\" name=\"verticalLayout_2\">\n+         <item>\n+          <widget class=\"QLabel\" name=\"helpMessageLabel\">\n+           <property name=\"font\">\n+            <font>\n+             <family>Terminal</family>\n+            </font>\n+           </property>\n+           <property name=\"cursor\">\n+            <cursorShape>IBeamCursor</cursorShape>\n+           </property>\n+           <property name=\"textFormat\">\n+            <enum>Qt::PlainText</enum>\n+           </property>\n+           <property name=\"textInteractionFlags\">\n+            <set>Qt::LinksAccessibleByMouse|Qt::TextSelectableByKeyboard|Qt::TextSelectableByMouse</set>\n+           </property>\n+          </widget>\n+         </item>\n+        </layout>\n+       </widget>\n+      </widget>\n+     </item>\n+     <item>\n+      <widget class=\"QDialogButtonBox\" name=\"okButton\">\n+       <property name=\"orientation\">\n+        <enum>Qt::Horizontal</enum>\n+       </property>\n+       <property name=\"standardButtons\">\n+        <set>QDialogButtonBox::Ok</set>\n+       </property>\n+      </widget>\n+     </item>\n+    </layout>\n+   </item>\n+  </layout>\n+ </widget>\n+ <resources>\n+  <include location=\"../bitcoin.qrc\"/>\n+ </resources>\n+ <connections>\n+  <connection>\n+   <sender>okButton</sender>\n+   <signal>accepted()</signal>\n+   <receiver>HelpMessageDialog</receiver>\n+   <slot>accept()</slot>\n+   <hints>\n+    <hint type=\"sourcelabel\">\n+     <x>20</x>\n+     <y>20</y>\n+    </hint>\n+    <hint type=\"destinationlabel\">\n+     <x>20</x>\n+     <y>20</y>\n+    </hint>\n+   </hints>\n+  </connection>\n+  <connection>\n+   <sender>okButton</sender>\n+   <signal>rejected()</signal>\n+   <receiver>HelpMessageDialog</receiver>\n+   <slot>reject()</slot>\n+   <hints>\n+    <hint type=\"sourcelabel\">\n+     <x>20</x>\n+     <y>20</y>\n+    </hint>\n+    <hint type=\"destinationlabel\">\n+     <x>20</x>\n+     <y>20</y>\n+    </hint>\n+   </hints>\n+  </connection>\n+ </connections>\n+</ui>"
      },
      {
        "sha": "2d8a6afe21889396a773a60565b4b5302365939c",
        "filename": "src/qt/guiutil.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 41,
        "changes": 41,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/guiutil.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/guiutil.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiutil.cpp?ref=7b50bb2f1b96cb8964819e03eb044c3b88746946",
        "patch": "@@ -591,47 +591,6 @@ void restoreWindowGeometry(const QString& strSetting, const QSize& defaultSize,\n     parent->move(pos);\n }\n \n-HelpMessageBox::HelpMessageBox(QWidget *parent) :\n-    QMessageBox(parent)\n-{\n-    header = tr(\"Bitcoin Core\") + \" \" + tr(\"version\") + \" \" +\n-        QString::fromStdString(FormatFullVersion()) + \"\\n\\n\" +\n-        tr(\"Usage:\") + \"\\n\" +\n-        \"  bitcoin-qt [\" + tr(\"command-line options\") + \"]                     \" + \"\\n\";\n-\n-    coreOptions = QString::fromStdString(HelpMessage(HMM_BITCOIN_QT));\n-\n-    uiOptions = tr(\"UI options\") + \":\\n\" +\n-        \"  -lang=<lang>           \" + tr(\"Set language, for example \\\"de_DE\\\" (default: system locale)\") + \"\\n\" +\n-        \"  -min                   \" + tr(\"Start minimized\") + \"\\n\" +\n-        \"  -splash                \" + tr(\"Show splash screen on startup (default: 1)\") + \"\\n\" +\n-        \"  -choosedatadir         \" + tr(\"Choose data directory on startup (default: 0)\") + \"\\n\";\n-\n-    setWindowTitle(tr(\"Bitcoin Core\"));\n-    setTextFormat(Qt::PlainText);\n-    // setMinimumWidth is ignored for QMessageBox so put in non-breaking spaces to make it wider.\n-    setText(header + QString(QChar(0x2003)).repeated(50));\n-    setDetailedText(coreOptions + \"\\n\" + uiOptions);\n-}\n-\n-void HelpMessageBox::printToConsole()\n-{\n-    // On other operating systems, the expected action is to print the message to the console.\n-    QString strUsage = header + \"\\n\" + coreOptions + \"\\n\" + uiOptions;\n-    fprintf(stdout, \"%s\", strUsage.toStdString().c_str());\n-}\n-\n-void HelpMessageBox::showOrPrint()\n-{\n-#if defined(WIN32)\n-        // On Windows, show a message box, as there is no stderr/stdout in windowed applications\n-        exec();\n-#else\n-        // On other operating systems, print help text to console\n-        printToConsole();\n-#endif\n-}\n-\n void setClipboard(const QString& str)\n {\n     QApplication::clipboard()->setText(str, QClipboard::Clipboard);"
      },
      {
        "sha": "c894850a91aa7a67b5171b87b533d84aecf6407b",
        "filename": "src/qt/guiutil.h",
        "status": "modified",
        "additions": 0,
        "deletions": 20,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/guiutil.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/guiutil.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiutil.h?ref=7b50bb2f1b96cb8964819e03eb044c3b88746946",
        "patch": "@@ -123,26 +123,6 @@ namespace GUIUtil\n     /** Restore window size and position */\n     void restoreWindowGeometry(const QString& strSetting, const QSize &defaultSizeIn, QWidget *parent);\n \n-    /** Help message for Bitcoin-Qt, shown with --help. */\n-    class HelpMessageBox : public QMessageBox\n-    {\n-        Q_OBJECT\n-\n-    public:\n-        HelpMessageBox(QWidget *parent = 0);\n-\n-        /** Show message box or print help message to standard output, based on operating system. */\n-        void showOrPrint();\n-\n-        /** Print help message to console */\n-        void printToConsole();\n-\n-    private:\n-        QString header;\n-        QString coreOptions;\n-        QString uiOptions;\n-    };\n-\n } // namespace GUIUtil\n \n #endif // GUIUTIL_H"
      },
      {
        "sha": "abb6ceb139863d4a89402c70a16f21995fd651b4",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=7b50bb2f1b96cb8964819e03eb044c3b88746946",
        "patch": "@@ -7,6 +7,7 @@\n \n #include \"clientmodel.h\"\n #include \"guiutil.h\"\n+#include \"utilitydialog.h\"\n \n #include \"rpcserver.h\"\n #include \"rpcclient.h\"\n@@ -443,8 +444,8 @@ void RPCConsole::scrollToEnd()\n \n void RPCConsole::on_showCLOptionsButton_clicked()\n {\n-    GUIUtil::HelpMessageBox help;\n-    help.exec();\n+    HelpMessageDialog *help = new HelpMessageDialog(this);\n+    help->show();\n }\n \n void RPCConsole::on_sldGraphRange_valueChanged(int value)"
      },
      {
        "sha": "05a01c7445fb91cbbe075de96054d92dc314f759",
        "filename": "src/qt/utilitydialog.cpp",
        "status": "added",
        "additions": 125,
        "deletions": 0,
        "changes": 125,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/utilitydialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/utilitydialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/utilitydialog.cpp?ref=7b50bb2f1b96cb8964819e03eb044c3b88746946",
        "patch": "@@ -0,0 +1,125 @@\n+// Copyright (c) 2011-2014 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"utilitydialog.h\"\n+\n+#include \"ui_aboutdialog.h\"\n+#include \"ui_helpmessagedialog.h\"\n+\n+#include \"bitcoingui.h\"\n+#include \"clientmodel.h\"\n+#include \"guiutil.h\"\n+\n+#include \"clientversion.h\"\n+#include \"init.h\"\n+#include \"util.h\"\n+\n+#include <QLabel>\n+#include <QVBoxLayout>\n+\n+/** \"About\" dialog box */\n+AboutDialog::AboutDialog(QWidget *parent) :\n+    QDialog(parent),\n+    ui(new Ui::AboutDialog)\n+{\n+    ui->setupUi(this);\n+\n+    // Set current copyright year\n+    ui->copyrightLabel->setText(tr(\"Copyright\") + QString(\" &copy; 2009-%1 \").arg(COPYRIGHT_YEAR) + tr(\"The Bitcoin Core developers\"));\n+}\n+\n+void AboutDialog::setModel(ClientModel *model)\n+{\n+    if(model)\n+    {\n+        ui->versionLabel->setText(model->formatFullVersion());\n+    }\n+}\n+\n+AboutDialog::~AboutDialog()\n+{\n+    delete ui;\n+}\n+\n+void AboutDialog::on_buttonBox_accepted()\n+{\n+    close();\n+}\n+\n+/** \"Help message\" dialog box */\n+HelpMessageDialog::HelpMessageDialog(QWidget *parent) :\n+    QDialog(parent),\n+    ui(new Ui::HelpMessageDialog)\n+{\n+    ui->setupUi(this);\n+    GUIUtil::restoreWindowGeometry(\"nHelpMessageDialogWindow\", this->size(), this);\n+\n+    header = tr(\"Bitcoin Core\") + \" \" + tr(\"version\") + \" \" +\n+        QString::fromStdString(FormatFullVersion()) + \"\\n\\n\" +\n+        tr(\"Usage:\") + \"\\n\" +\n+        \"  bitcoin-qt [\" + tr(\"command-line options\") + \"]                     \" + \"\\n\";\n+\n+    coreOptions = QString::fromStdString(HelpMessage(HMM_BITCOIN_QT));\n+\n+    uiOptions = tr(\"UI options\") + \":\\n\" +\n+        \"  -lang=<lang>           \" + tr(\"Set language, for example \\\"de_DE\\\" (default: system locale)\") + \"\\n\" +\n+        \"  -min                   \" + tr(\"Start minimized\") + \"\\n\" +\n+        \"  -splash                \" + tr(\"Show splash screen on startup (default: 1)\") + \"\\n\" +\n+        \"  -choosedatadir         \" + tr(\"Choose data directory on startup (default: 0)\");\n+\n+    ui->helpMessageLabel->setFont(GUIUtil::bitcoinAddressFont());\n+\n+    // Set help message text\n+    ui->helpMessageLabel->setText(header + \"\\n\" + coreOptions + \"\\n\" + uiOptions);\n+}\n+\n+HelpMessageDialog::~HelpMessageDialog()\n+{\n+    GUIUtil::saveWindowGeometry(\"nHelpMessageDialogWindow\", this);\n+    delete ui;\n+}\n+\n+void HelpMessageDialog::printToConsole()\n+{\n+    // On other operating systems, the expected action is to print the message to the console.\n+    QString strUsage = header + \"\\n\" + coreOptions + \"\\n\" + uiOptions;\n+    fprintf(stdout, \"%s\", strUsage.toStdString().c_str());\n+}\n+\n+void HelpMessageDialog::showOrPrint()\n+{\n+#if defined(WIN32)\n+        // On Windows, show a message box, as there is no stderr/stdout in windowed applications\n+        exec();\n+#else\n+        // On other operating systems, print help text to console\n+        printToConsole();\n+#endif\n+}\n+\n+void HelpMessageDialog::on_okButton_accepted()\n+{\n+    close();\n+}\n+\n+\n+/** \"Shutdown\" window */\n+void ShutdownWindow::showShutdownWindow(BitcoinGUI *window)\n+{\n+    if (!window)\n+        return;\n+\n+    // Show a simple window indicating shutdown status\n+    QWidget *shutdownWindow = new QWidget();\n+    QVBoxLayout *layout = new QVBoxLayout();\n+    layout->addWidget(new QLabel(\n+        tr(\"Bitcoin Core is shutting down...\") + \"<br /><br />\" +\n+        tr(\"Do not shut down the computer until this window disappears.\")));\n+    shutdownWindow->setLayout(layout);\n+\n+    // Center shutdown window at where main window was\n+    const QPoint global = window->mapToGlobal(window->rect().center());\n+    shutdownWindow->move(global.x() - shutdownWindow->width() / 2, global.y() - shutdownWindow->height() / 2);\n+    shutdownWindow->show();\n+}"
      },
      {
        "sha": "874daf6a7f9c1f06d1fc0316c35330cc7d33d2fa",
        "filename": "src/qt/utilitydialog.h",
        "status": "added",
        "additions": 69,
        "deletions": 0,
        "changes": 69,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/utilitydialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b50bb2f1b96cb8964819e03eb044c3b88746946/src/qt/utilitydialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/utilitydialog.h?ref=7b50bb2f1b96cb8964819e03eb044c3b88746946",
        "patch": "@@ -0,0 +1,69 @@\n+// Copyright (c) 2011-2014 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef UTILITYDIALOG_H\n+#define UTILITYDIALOG_H\n+\n+#include <QDialog>\n+#include <QObject>\n+\n+class BitcoinGUI;\n+class ClientModel;\n+\n+namespace Ui {\n+    class AboutDialog;\n+    class HelpMessageDialog;\n+}\n+\n+/** \"About\" dialog box */\n+class AboutDialog : public QDialog\n+{\n+    Q_OBJECT\n+\n+public:\n+    explicit AboutDialog(QWidget *parent);\n+    ~AboutDialog();\n+\n+    void setModel(ClientModel *model);\n+\n+private:\n+    Ui::AboutDialog *ui;\n+\n+private slots:\n+    void on_buttonBox_accepted();\n+};\n+\n+/** \"Help message\" dialog box */\n+class HelpMessageDialog : public QDialog\n+{\n+    Q_OBJECT\n+\n+public:\n+    explicit HelpMessageDialog(QWidget *parent);\n+    ~HelpMessageDialog();\n+\n+    void printToConsole();\n+    void showOrPrint();\n+\n+private:\n+    Ui::HelpMessageDialog *ui;\n+    QString header;\n+    QString coreOptions;\n+    QString uiOptions;\n+\n+private slots:\n+    void on_okButton_accepted();\n+};\n+\n+\n+/** \"Shutdown\" window */\n+class ShutdownWindow : public QObject\n+{\n+    Q_OBJECT\n+\n+public:\n+    static void showShutdownWindow(BitcoinGUI *window);\n+};\n+\n+#endif // UTILITYDIALOG_H"
      }
    ]
  }
]