[
  {
    "sha": "5cd47659fe5a26589c30cfbdcc7b667f39fd9e49",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1Y2Q0NzY1OWZlNWEyNjU4OWMzMGNmYmRjYzdiNjY3ZjM5ZmQ5ZTQ5",
    "commit": {
      "author": {
        "name": "Micha",
        "email": "michagogo@server.fake",
        "date": "2014-12-22T22:43:29Z"
      },
      "committer": {
        "name": "Micha",
        "email": "michagogo@server.fake",
        "date": "2014-12-22T23:02:20Z"
      },
      "message": "Slightly improve gitian building guide\n\nChange the gitian building guide such that it modifies the VirtualBox NAT\nsetting (to 192.168.11/24, to make @gavinandresen happy) rather than\noverriding Gitian's default IP address in ways that may or may not have\nbroken/break in the future, considering how fickle/fragile/volatile Gitian\nis. Once we're using vboxmanage anyway, replace the multi-step process of\nadding the port forwarding rule (and 2 images) with the one-line command\nto do the same thing.\n\nNote that this guide may not work in other ways, for other reasons -- for\nexample, with the new depends system, stuff may need to change. I haven't\ngotten around to looking at the changes to gitian building in depth, so I\ndon't know how much needs to be fixed/rewritten.\n[skip ci]",
      "tree": {
        "sha": "93b0da548d73c0483d2b33414df618db81f9a1c0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/93b0da548d73c0483d2b33414df618db81f9a1c0"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5cd47659fe5a26589c30cfbdcc7b667f39fd9e49",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unverified_email",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.13 (MingW32)\n\niQEcBAABAgAGBQJUmKMLAAoJEILFwAlijs8M40MIAJWo5S+qYIN1z4uPjE+qLV0+\n9Z9nfg+Taz1v/Mtty2B2eU8BZh6dXTs6geU9w0RAQS0AgnpRKDguTnRPwP56d/t1\nzpOv+NqzdHaiKSSrnbszoyt01syW603iArPs8WMQNSiNKegfnwrIxsloEOtzf+Rk\nrPT8GVLSA1o/XpqXtrjKYSPbpRa1RIQt+IOq0wvXRLgerYb8l0sK60+2VEwxW2ml\n70M5MhIN6kZXt6eooJMafBRtXf9f5AxTDsTORxqQEKX88AtcZuwnZMBR2/+5kf+g\n9eYAAYxzA5OeV8OiLlCXVqi4sjHqQo2S2fOc7BZVpe5Mjd2/TMQju2j2eX0mgJA=\n=2bDx\n-----END PGP SIGNATURE-----",
        "payload": "tree 93b0da548d73c0483d2b33414df618db81f9a1c0\nparent 146e68059cf3ce5772a5f0dc93dcc785a7b64bcf\nauthor Micha <michagogo@server.fake> 1419288209 +0200\ncommitter Micha <michagogo@server.fake> 1419289340 +0200\n\nSlightly improve gitian building guide\n\nChange the gitian building guide such that it modifies the VirtualBox NAT\nsetting (to 192.168.11/24, to make @gavinandresen happy) rather than\noverriding Gitian's default IP address in ways that may or may not have\nbroken/break in the future, considering how fickle/fragile/volatile Gitian\nis. Once we're using vboxmanage anyway, replace the multi-step process of\nadding the port forwarding rule (and 2 images) with the one-line command\nto do the same thing.\n\nNote that this guide may not work in other ways, for other reasons -- for\nexample, with the new depends system, stuff may need to change. I haven't\ngotten around to looking at the changes to gitian building in depth, so I\ndon't know how much needs to be fixed/rewritten.\n[skip ci]\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5cd47659fe5a26589c30cfbdcc7b667f39fd9e49",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5cd47659fe5a26589c30cfbdcc7b667f39fd9e49",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5cd47659fe5a26589c30cfbdcc7b667f39fd9e49/comments",
    "author": {
      "login": "Michagogo",
      "id": 2559390,
      "node_id": "MDQ6VXNlcjI1NTkzOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2559390?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Michagogo",
      "html_url": "https://github.com/Michagogo",
      "followers_url": "https://api.github.com/users/Michagogo/followers",
      "following_url": "https://api.github.com/users/Michagogo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Michagogo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Michagogo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Michagogo/subscriptions",
      "organizations_url": "https://api.github.com/users/Michagogo/orgs",
      "repos_url": "https://api.github.com/users/Michagogo/repos",
      "events_url": "https://api.github.com/users/Michagogo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Michagogo/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Michagogo",
      "id": 2559390,
      "node_id": "MDQ6VXNlcjI1NTkzOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2559390?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Michagogo",
      "html_url": "https://github.com/Michagogo",
      "followers_url": "https://api.github.com/users/Michagogo/followers",
      "following_url": "https://api.github.com/users/Michagogo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Michagogo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Michagogo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Michagogo/subscriptions",
      "organizations_url": "https://api.github.com/users/Michagogo/orgs",
      "repos_url": "https://api.github.com/users/Michagogo/repos",
      "events_url": "https://api.github.com/users/Michagogo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Michagogo/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "146e68059cf3ce5772a5f0dc93dcc785a7b64bcf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/146e68059cf3ce5772a5f0dc93dcc785a7b64bcf",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/146e68059cf3ce5772a5f0dc93dcc785a7b64bcf"
      }
    ],
    "stats": {
      "total": 38,
      "additions": 14,
      "deletions": 24
    },
    "files": [
      {
        "sha": "0413530c34b72c5d5aada549788858ab4cd780d0",
        "filename": "doc/gitian-building.md",
        "status": "modified",
        "additions": 14,
        "deletions": 24,
        "changes": 38,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5cd47659fe5a26589c30cfbdcc7b667f39fd9e49/doc/gitian-building.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5cd47659fe5a26589c30cfbdcc7b667f39fd9e49/doc/gitian-building.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/gitian-building.md?ref=5cd47659fe5a26589c30cfbdcc7b667f39fd9e49",
        "patch": "@@ -13,8 +13,8 @@ Multiple developers build the source code by following a specific descriptor\n These results are compared and only if they match, the build is accepted and uploaded\n to bitcoin.org.\n \n-More independent gitian builders are needed, which is why I wrote this\n-guide. It is preferred to follow these steps yourself instead of using someone else's\n+More independent gitian builders are needed, which is why this guide was written.\n+It is preferred to follow these steps yourself instead of using someone else's\n VM image to avoid 'contaminating' the build.\n \n Table of Contents\n@@ -83,24 +83,17 @@ Unixy OSes by entering the following in a terminal:\n \n After creating the VM, we need to configure it. \n \n-- Click the `Settings` button, then go to the `Network` tab. Adapter 1 should be attacked to `NAT`.\n+For this step, we'll be using the `vboxmanage` command-line tool. On Linux or OS X this should be in your PATH,\n+so you shouldn't need to do anything special -- simply open a terminal window. On Windows, you'll need to change directory\n+to the VirtualBox installation directory. Open a command prompt (cmd) and run this command: `cd C:\\Program Files\\Oracle\\VirtualBox`.\n \n-![](gitian-building/network_settings.png)\n-\n-- Click `Advanced`, then `Port Forwarding`. We want to set up a port through where we can reach the VM to get files in and out.\n-- Create a new rule by clicking the plus icon.\n-\n-![](gitian-building/port_forwarding_rules.png)\n-\n-- Set up the new rule the following way:\n-  - Name: `SSH`\n-  - Protocol: `TCP`\n-  - Leave Host IP empty\n-  - Host Port: `22222`\n-  - Leave Guest IP empty\n-  - Guest Port: `22`\n-\n-- Click `Ok` twice to save.\n+Then, run these two commands:\n+```bash\n+vboxmanage modifyvm gitianbuild --natnet1 \"192.168.11/24\"\n+vboxmanage modifyvm gitianbuild --natpf1 \"SSH,tcp,,22222,,22\"\n+```\n+The first command adjusts the network address range used by the VM to avoid conflicting with Gitian's default settings.\n+The second command defines a port forwarding rule, to allow us to SSH into the VM and transfer files in and out.\n \n Then start the VM. On the first launch you will be asked for a CD or DVD image. Choose the downloaded iso.\n \n@@ -244,13 +237,10 @@ echo \"cgroup  /sys/fs/cgroup  cgroup  defaults  0   0\" >> /etc/fstab\n # make /etc/rc.local script that sets up bridge between guest and host\n echo '#!/bin/sh -e' > /etc/rc.local\n echo 'brctl addbr br0' >> /etc/rc.local\n-echo 'ifconfig br0 10.0.3.2/24 up' >> /etc/rc.local\n+echo 'ifconfig br0 10.0.2.2/24 up' >> /etc/rc.local\n echo 'exit 0' >> /etc/rc.local\n-# make sure that USE_LXC is always set when logging in as debian,\n-# and configure LXC IP addresses\n+# make sure that USE_LXC is always set when logging in as debian\n echo 'export USE_LXC=1' >> /home/debian/.profile\n-echo 'export GITIAN_HOST_IP=10.0.3.2' >> /home/debian/.profile\n-echo 'export LXC_GUEST_IP=10.0.3.5' >> /home/debian/.profile\n reboot\n ```\n "
      },
      {
        "sha": "1d9b6428a74e3d6672e17a088b1e5286678cf15f",
        "filename": "doc/gitian-building/network_settings.png",
        "status": "removed",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/146e68059cf3ce5772a5f0dc93dcc785a7b64bcf/doc/gitian-building/network_settings.png",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/146e68059cf3ce5772a5f0dc93dcc785a7b64bcf/doc/gitian-building/network_settings.png",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/gitian-building/network_settings.png?ref=146e68059cf3ce5772a5f0dc93dcc785a7b64bcf"
      },
      {
        "sha": "e45c9efffc96ec17048395994a1678a4f389f53c",
        "filename": "doc/gitian-building/port_forwarding_rules.png",
        "status": "removed",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/146e68059cf3ce5772a5f0dc93dcc785a7b64bcf/doc/gitian-building/port_forwarding_rules.png",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/146e68059cf3ce5772a5f0dc93dcc785a7b64bcf/doc/gitian-building/port_forwarding_rules.png",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/gitian-building/port_forwarding_rules.png?ref=146e68059cf3ce5772a5f0dc93dcc785a7b64bcf"
      }
    ]
  }
]