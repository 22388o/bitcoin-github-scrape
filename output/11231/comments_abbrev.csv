gmaxwell,2017-09-04T17:51:32Z,please don't add another boost dependency for a simple equality comparison.,https://github.com/bitcoin/bitcoin/pull/11231#issuecomment-327008402,327008402,
danra,2017-09-04T18:00:12Z,"@gmaxwell There is already a dependency on this boost library in other places in the code. It doesn't have a standard equivalent, and it makes the code clearer here.",https://github.com/bitcoin/bitcoin/pull/11231#issuecomment-327009355,327009355,
gmaxwell,2017-09-04T18:27:29Z,"@danra we are working on eliminating boost, and adding the additional header here visibly slows down the compile (30% longer for netaddress.cpp).  If it were for something more complex than a match there might be an argument to use it for now and replace later, but it's just a string comparison and should be doable in one fairly clean and idiomatic line (slice and match; or reverse iterators).",https://github.com/bitcoin/bitcoin/pull/11231#issuecomment-327012316,327012316,
danra,2017-09-04T18:43:24Z,"@gmaxwell If you don't mind, I'd be happy to discuss this a bit, since I think the approach of just ""eliminating boost"" is wrong.\n\nFirst of all, I don't that goal listed under the github ""Projects"" - I only see a goal of transitioning from boost to C++11. If removing boost in general from the project is a goal, even for cases where there is no standard substitute, I suppose it should be listed",https://github.com/bitcoin/bitcoin/pull/11231#issuecomment-327013993,327013993,
danra,2017-09-04T19:49:59Z,"@gmaxwell Do you have a specific suggestion for an elegant one-liner? I don't see one which doesn't involve also checking the size, or doing some min() with it",https://github.com/bitcoin/bitcoin/pull/11231#issuecomment-327020622,327020622,
sipa,2017-09-04T22:36:57Z,"I don't see anything wrong with \n\n```c++\ntemplate<typename T>\nbool BeginsWith(const T& a, const T& b)\n{\n    return a.size() >= b.size() && std::equal(b.begin(), b.end(), a.begin());\n}\n\ntemplate<typename T>\nbool EndWith(const T& a, const T& b)\n{\n    return a.size() >= b.size() && std::equal(b.begin(), b.end(), a.end() - b.size());\n}\n```\n",https://github.com/bitcoin/bitcoin/pull/11231#issuecomment-327035349,327035349,
meshcollider,2017-09-04T22:41:02Z,@danra It's written on there: `The long term future goal is to remove Boost as a dependency.`,https://github.com/bitcoin/bitcoin/pull/11231#issuecomment-327035621,327035621,
jimpo,2017-09-05T19:20:41Z,Should this be using `.size()` everywhere on the `std::array`s instead of `sizeof`?,https://github.com/bitcoin/bitcoin/pull/11231#issuecomment-327276386,327276386,
danra,2017-09-05T19:28:17Z,"@MeshCollider You're right. I think it's a bad goal, though (unlike boost->C++11 migration under which it's listed). For instance, is Bitcoin Core really interested in rewriting boost::multi_index?",https://github.com/bitcoin/bitcoin/pull/11231#issuecomment-327278310,327278310,
danra,2017-09-05T19:32:45Z,"@jimpo I thought `sizeof` would be the same (and compile-time evaluable) since `std::array` is an aggregate type, but it seems [that is not guaranteed](https://stackoverflow.com/questions/19103244/is-the-size-of-stdarray-defined-by-standard). Will fix, thanks!",https://github.com/bitcoin/bitcoin/pull/11231#issuecomment-327279491,327279491,
danra,2017-09-05T20:44:09Z,"@sipa It's not wrong, but this sort of utility functions tend to pile up, and I think it's better to use well-tested (e.g. boost provided) utility functions where it's available, rather than maintain them yourself, even if the cost is some compilation time. It makes the codebase easier to maintain and review -> more secure.",https://github.com/bitcoin/bitcoin/pull/11231#issuecomment-327297690,327297690,
sipa,2017-09-05T20:49:02Z,"@danra That's a fair point, though I personally think that a boost dependency is worse than the cost of maintaining such a simple function.",https://github.com/bitcoin/bitcoin/pull/11231#issuecomment-327298877,327298877,
danra,2017-09-05T20:58:56Z,"@gmaxwell @sipa Reverted boost dependency, due to both your review and the fact that using the boost function changed the semantics slightly - the "".onion"" address (with no preceding characters) was previously rejected immediately by the condition, which is probably safer than the situation after my modification which resulted in passing an empty string to `DecodeBase32` (that function *should* ha",https://github.com/bitcoin/bitcoin/pull/11231#issuecomment-327301448,327301448,
laanwj,2018-04-26T12:50:16Z,"Closing due to inactivity, let me know if you start work on this again and want to re-open this.",https://github.com/bitcoin/bitcoin/pull/11231#issuecomment-384629365,384629365,
promag,2017-09-08T07:46:15Z,"Nit, add spaces `!(a == b)`.",https://github.com/bitcoin/bitcoin/pull/11231#discussion_r137728173,137728173,src/netaddress.cpp
