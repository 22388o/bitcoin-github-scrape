gavinandresen,2012-01-27T14:23:04Z,What needs testing with these changes?\n\nI assume:\n- Deals with existing addr.dat\n- Is faster\n- Works with -noirc -nodnsseed and a removed addr.dat (bootstrap from seed nodes)\n\nDo you have a tool for comparing two addrman databases?  Might be nice to verify that two copies of bitcoin started at about the same time end up with mostly different peer-sets.\n,https://github.com/bitcoin/bitcoin/pull/787#issuecomment-3687283,3687283,
sipa,2012-01-28T02:21:02Z,"Some improvements and bugfixes done.\n\n@gavinandresen:\n- It will convert an old addr.dat to the new format. During the first start-up, all addr.dat entries are imported. During a second start-up, all old addr entries are removed (using CDB::Rewrite).\n- It is faster in the sense that all locking issues involving CAddrDB and cs_mapAddresses are gone, and address-operations are fast. Reaching 8 co",https://github.com/bitcoin/bitcoin/pull/787#issuecomment-3697594,3697594,
gavinandresen,2012-01-31T19:28:12Z,"Testing on my Mac: I get a core dump on exit, in:\n\nCDB::Write<std::string, CAddrMan> (this=0xb0594f20, key=@0xb0594ed0, value=@0x372560, fOverwrite=true) at db.h:106\n106         int ret = pdb->put(GetTxn(), &datKey, &datValue, (fOverwrite ? 0 : DB_NOOVERWRITE));\n\nLooks like a use-after-free problem:\n\n(gdb) p _this\n$1 = {\n  pdb = 0x5005da0, \n  strFile = {\n    _M_dataplus = {\n      std::",https://github.com/bitcoin/bitcoin/pull/787#issuecomment-3746080,3746080,
gavinandresen,2012-01-31T19:35:27Z,"Also: I tested running with your patch and then running an old bitcoind; works nicely (old bitcoind thinks the addr.dat is empty, which is OK; run the new bitcoind and it thinks it needs to rewrite addr.dat again, which is also OK).\n",https://github.com/bitcoin/bitcoin/pull/787#issuecomment-3746236,3746236,
sipa,2012-02-24T12:37:37Z,"@luke-jr recently had a crash that seemed related to addrman; I am unable to reproduce the problem though. Stack traces or valgrind information from anyone who can reproduce it, is very welcome.\n",https://github.com/bitcoin/bitcoin/pull/787#issuecomment-4156179,4156179,
rebroad,2016-10-29T10:04:09Z,always makes me laugh this line does :) thanks :)\n,https://github.com/bitcoin/bitcoin/pull/787#discussion_r85637902,85637902,src/addrman.cpp
rebroad,2016-10-29T10:05:52Z,Why 23%?\n,https://github.com/bitcoin/bitcoin/pull/787#discussion_r85637922,85637922,src/addrman.h
