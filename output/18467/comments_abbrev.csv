DrahtBot,2020-03-30 13:15:37,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/18467#issuecomment-605991859,605991859,
fjahr,2020-03-30 20:03:03,Added a commit that makes `settxfee` respect the setting -maxtxfee as suggested by @MarcoFalke here: https://github.com/bitcoin/bitcoin/issues/18315#issuecomment-605714666,https://github.com/bitcoin/bitcoin/pull/18467#issuecomment-606215523,606215523,
jonasschnelli,2020-03-31 08:09:01,"Concept ACK. Light code review ACK.\n\nI guess this breaks the RPC API. Should probably be mentioned in the release notes.",https://github.com/bitcoin/bitcoin/pull/18467#issuecomment-606469200,606469200,
MarcoFalke,2020-03-31 12:43:35,Improving documentation and breaking the API should probably be two pull requests.,https://github.com/bitcoin/bitcoin/pull/18467#issuecomment-606603106,606603106,
fjahr,2020-03-31 16:04:33,Thanks for the feedback! I split documentation and return value changes into separate commits and added release notes.,https://github.com/bitcoin/bitcoin/pull/18467#issuecomment-606721912,606721912,
MarcoFalke,2020-03-31 17:19:37,"According to the documentation, breaking changes to the RPC API need to go through an `-rpcdeprecated` cycle. See https://github.com/bitcoin/bitcoin/blob/master/doc/JSON-RPC-interface.md#versioning",https://github.com/bitcoin/bitcoin/pull/18467#issuecomment-606762074,606762074,
fjahr,2020-04-02 21:06:19,Added the `-deprecatedrpc=settxfee` option and mentioned it in the release notes. ,https://github.com/bitcoin/bitcoin/pull/18467#issuecomment-608088880,608088880,
MarcoFalke,2020-04-10 17:38:38,"ACK bda84a08a0ac92dff6cadc99cf9bb8c3fadd7e13 (nice documentation)\nACK 6c1502768e72ec883a8a5d1682e335f62c8109aa (with previous commit removed, nice behaviour change to avoid setting an invalid value)\nNot sure about the other commits in this pull",https://github.com/bitcoin/bitcoin/pull/18467#issuecomment-612137669,612137669,
fjahr,2020-04-14 14:19:59,"@MarcoFalke thanks for the feedback.\n\nI have removed the two commits related to the RPC return value change since it seems controversial and I agree that the improvement is probably too small to warrant an API change including deprecation cycle. What's left is documentation improvement and that `settxfee` respects `-maxtxfee` now. I am not if this should close #18315 now and will leave it to t",https://github.com/bitcoin/bitcoin/pull/18467#issuecomment-613471346,613471346,
MarcoFalke,2020-04-14 14:37:10,"ACK 38677274f931088218eeb1f258077d3387f39c89, seems useful to error out early instead of later #16257 üïç\n\n<details><summary>Show signature and timestamp</summary>\n\nSignature:\n\n```\n-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA512\n\nACK 38677274f931088218eeb1f258077d3387f39c89, seems useful to error out early instead of later #16257 üïç\n-----BEGIN PGP SIGNATURE-----\n\niQGzBAEBCgA",https://github.com/bitcoin/bitcoin/pull/18467#issuecomment-613480910,613480910,
MarcoFalke,2020-03-29 22:07:14,Nice documentation. Not sure on changing the format without an -rpcdeprecated cycle or whether it should be changed at all.,https://github.com/bitcoin/bitcoin/pull/18467#discussion_r399860675,399860675,src/wallet/rpcwallet.cpp
fjahr,2020-03-29 22:32:27,"Thanks, I agree the documentation is the minimum and it might be good enough. If the change in return the value is too much hassle or if there is not enough interest, I can remove it.",https://github.com/bitcoin/bitcoin/pull/18467#discussion_r399863617,399863617,src/wallet/rpcwallet.cpp
jonatack,2020-03-31 19:59:35,"a few nits: omit ""result"", s/reflect/reflect the/, and s/errors/raises|returns an error/",https://github.com/bitcoin/bitcoin/pull/18467#discussion_r401178002,401178002,doc/release-notes-18467.md
fjahr,2020-04-02 21:04:07,done,https://github.com/bitcoin/bitcoin/pull/18467#discussion_r402595787,402595787,doc/release-notes-18467.md
MarcoFalke,2020-04-05 19:51:14,"I can't really see the value. Why would an interface return the value you passed in. Should the caller compare the result[""feerate""] with the one passed in? Same goes for ""active"", which is simply the value passed in and cast to a bool.",https://github.com/bitcoin/bitcoin/pull/18467#discussion_r403748651,403748651,src/wallet/rpcwallet.cpp
fjahr,2020-04-06 13:38:37,"I am repeating a pattern I am seeing in `setwalletflag` and a few other RPCs. I see the value in being explicit what is actually going on, i.e. that setting to 0 means the parameter is not active. Do you have an alternative change you would prefer, for example returning the current fee rate or just the `active` status? Or would you prefer to not make any change to the return value?",https://github.com/bitcoin/bitcoin/pull/18467#discussion_r404097018,404097018,src/wallet/rpcwallet.cpp
MarcoFalke,2020-04-06 14:50:24,"The current `return true` unconditionally is completely useless in the same sense. An API client wouldn't know what to do with the value. Should it check if it is false and then throw an error? In that case we might as well throw the error on the server.\n\nSo I can see your desire to clean it up, but the cost of breaking every API client for this doesn't seem justified. On top, just because we ",https://github.com/bitcoin/bitcoin/pull/18467#discussion_r404152719,404152719,src/wallet/rpcwallet.cpp
jonatack,2020-04-14 14:51:54,"suggestion if you retouch or for a follow-up:\n```diff\n-                ""Can be deactivated by passing 0 as the fee. In that case automatic fee selection will be used by default.\n"",\n+                ""Can be deactivated by passing 0 as the fee, in which case automatic fee selection will be used by default.\n"",\n```",https://github.com/bitcoin/bitcoin/pull/18467#discussion_r408199508,408199508,src/wallet/rpcwallet.cpp
jonatack,2020-04-14 15:17:35,"> Maybe what could make sense here is to return the fee reason in send* and fund* rpcs. Something like\n> -> sendtoaddress\n> <- { ""txid"" : ""deadbeef"", ""fee_reason"" : ""paytxfee"" }\n\nNice -- worth proposing as a follow-up.",https://github.com/bitcoin/bitcoin/pull/18467#discussion_r408220292,408220292,src/wallet/rpcwallet.cpp
jonatack,2020-04-14 15:26:25,Verified this new assertion fails without the changes in `rpcwallet.cpp`.,https://github.com/bitcoin/bitcoin/pull/18467#discussion_r408227005,408227005,test/functional/wallet_bumpfee.py
