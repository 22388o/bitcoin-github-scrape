jamesob,2019-04-23T18:09:24Z,"If this is actually something we want to do, we should also include a flag that disables this check since there are situations where users may want to run `bitcoind` without expecting to complete a full sync, e.g. when benchmarking.",https://github.com/bitcoin/bitcoin/pull/15848#issuecomment-485914014,485914014,
darosior,2019-04-23T18:13:10Z,"@promag I addressed the changes (renamed `bytes_needed` and check if height is <= 1 instead of 0), thank you for your review.\nEdit: changed also the misleading comment in [validation.h](https://github.com/darosior/bitcoin/blob/9001b435ad1951e1280d8f76601c08a47bf792ab/src/validation.h#L185)",https://github.com/bitcoin/bitcoin/pull/15848#issuecomment-485915451,485915451,
darosior,2019-04-23T18:18:52Z,"@jamesob could we make it an argument, like `-dontcheckdiskpace` ?",https://github.com/bitcoin/bitcoin/pull/15848#issuecomment-485917488,485917488,
MarcoFalke,2019-04-23T18:23:06Z,Does this work with reindex?,https://github.com/bitcoin/bitcoin/pull/15848#issuecomment-485919066,485919066,
darosior,2019-04-23T19:00:33Z,"@MarcoFalke this caused a segfault with `-reindex`, I added a check for `fReindex`.",https://github.com/bitcoin/bitcoin/pull/15848#issuecomment-485932588,485932588,
luke-jr,2019-05-01T05:40:46Z,IMO this is too much hand-holding for a server.,https://github.com/bitcoin/bitcoin/pull/15848#issuecomment-488214925,488214925,
DrahtBot,2019-06-17T01:49:31Z,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15340](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15340.html) (gui: Introduce bilingual GUI error messages",https://github.com/bitcoin/bitcoin/pull/15848#issuecomment-502507647,502507647,
promag,2019-04-20T11:01:58Z,"nit, rename to `additional_bytes_needed`.",https://github.com/bitcoin/bitcoin/pull/15848#discussion_r277131697,277131697,src/init.cpp
promag,2019-04-20T11:02:25Z,Doesn't look like `nPruneTarget` is in bytes.,https://github.com/bitcoin/bitcoin/pull/15848#discussion_r277131709,277131709,src/init.cpp
promag,2019-04-20T11:05:46Z,I don't think this is the right check for first run. I think the best one is to check if data dir existed.,https://github.com/bitcoin/bitcoin/pull/15848#discussion_r277131777,277131777,src/init.cpp
darosior,2019-04-20T13:57:19Z,"`nPruneTarget` is in bytes : \nhttps://github.com/darosior/bitcoin/blob/138bf9a1d2d198410b1b15d3c285c2b12a200c3f/src/init.cpp#L1066-L1071",https://github.com/bitcoin/bitcoin/pull/15848#discussion_r277135440,277135440,src/init.cpp
darosior,2019-04-20T14:02:05Z,"Why ?\ndata dir could exist without any block downloaded and it would be necessary to check for available disk space too.",https://github.com/bitcoin/bitcoin/pull/15848#discussion_r277135546,277135546,src/init.cpp
promag,2019-04-20T15:05:16Z,Ok. But note that genesis is being loaded asynchronously.,https://github.com/bitcoin/bitcoin/pull/15848#discussion_r277137406,277137406,src/init.cpp
promag,2019-04-21T08:08:02Z,"So this comment should be fixed:\n\nhttps://github.com/bitcoin/bitcoin/blob/56376f336548b53cf31e98a58dfb4db22cede6e5/src/validation.h#L186-L187\n",https://github.com/bitcoin/bitcoin/pull/15848#discussion_r277158240,277158240,src/init.cpp
darosior,2019-04-21T16:23:47Z,Indeed.,https://github.com/bitcoin/bitcoin/pull/15848#discussion_r277173962,277173962,src/init.cpp
darosior,2019-04-23T17:58:43Z,"Maybe\n```cpp\nif (chainActive.Height() <= 1)\n```\nwould be better then ?",https://github.com/bitcoin/bitcoin/pull/15848#discussion_r277801558,277801558,src/init.cpp
Empact,2019-04-27T09:38:09Z,"May as well leave this check out of the locked section, as it has no need for the related info.",https://github.com/bitcoin/bitcoin/pull/15848#discussion_r279149762,279149762,src/init.cpp
darosior,2019-05-02T12:43:13Z,Thank you for the review. I tested outside of the lock and it makes bitcoind hanging forever on error.,https://github.com/bitcoin/bitcoin/pull/15848#discussion_r280400911,280400911,src/init.cpp
