[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456208491",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#issuecomment-456208491",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15224",
    "id": 456208491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjIwODQ5MQ==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-21T21:53:59Z",
    "updated_at": "2019-01-21T21:53:59Z",
    "author_association": "MEMBER",
    "body": "Is there a rationale for values \"10ms\" and \"1000 iterations\"?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456208491/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456209996",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#issuecomment-456209996",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15224",
    "id": 456209996,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjIwOTk5Ng==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-21T22:02:17Z",
    "updated_at": "2019-01-21T22:02:17Z",
    "author_association": "MEMBER",
    "body": "@hebasto Sort of. \r\n\r\n10ms as it's a amount that shouldn't cause any measurable latency in the background thread (where generally things run that aren't very time critical anyway).\r\n\r\n1000 seems a nice trade-off between time spent on getting the time, and getting entropy out. If we'd get the clock every iteration, we'd be spending more time in reading the clock than actually strenghtening anything. If we'd only get it every 1000000 iterations, we'd probably only read the clock once and not get much entropy from that.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456209996/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456211432",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#issuecomment-456211432",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15224",
    "id": 456211432,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjIxMTQzMg==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-21T22:10:01Z",
    "updated_at": "2019-01-21T22:10:01Z",
    "author_association": "MEMBER",
    "body": "Concept ACK.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456211432/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456337701",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#issuecomment-456337701",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15224",
    "id": 456337701,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjMzNzcwMQ==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-22T09:53:02Z",
    "updated_at": "2019-01-22T09:53:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "@sipa What would be the appropriate way to test/measure the improvement this change brings?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456337701/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/457318515",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#issuecomment-457318515",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15224",
    "id": 457318515,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzMxODUxNQ==",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?u=63e5c438c242094837a9deeda775d77988b508bf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-24T19:08:33Z",
    "updated_at": "2019-01-24T19:08:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'd still prefer to see this using 4x SHA256^2-64b since that function has a much better ratio of current performance to attacker performance, but I grok the startup time interactions with function auto-detection make that messy.  I'm okay with using sha512 for now in light of that!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/457318515/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/457409575",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#issuecomment-457409575",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15224",
    "id": 457409575,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzQwOTU3NQ==",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?u=63e5c438c242094837a9deeda775d77988b508bf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-25T00:25:52Z",
    "updated_at": "2019-01-25T00:25:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "We should contemplate increasing the strenghtening time on the first run. Rationale: usually long term private keys will get generated within one minute of first startup when only the startup strengthening will have applied. Adding an extra 90ms on startup won't be significantly noticeable on top of the existing startup time, and would increase resistance to search by 10x.  Alternative: Once we've started carrying randomness across restarts in a file, a prolonged startup strengthen would only be needed when there is no saved randomness.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/457409575/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489265685",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#issuecomment-489265685",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15224",
    "id": 489265685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTI2NTY4NQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-03T23:02:19Z",
    "updated_at": "2019-05-03T23:03:48Z",
    "author_association": "MEMBER",
    "body": "Adressed @Empact's nits, and made the first strengthening run 100ms long. Also fixed a bug where it would run every 60 ms instead of every minute...",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489265685/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 3
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489477569",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#issuecomment-489477569",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15224",
    "id": 489477569,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTQ3NzU2OQ==",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?u=63e5c438c242094837a9deeda775d77988b508bf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-06T00:39:34Z",
    "updated_at": "2019-05-06T00:39:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489477569/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/493635338",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#issuecomment-493635338",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15224",
    "id": 493635338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MzYzNTMzOA==",
    "user": {
      "login": "pstratem",
      "id": 620611,
      "node_id": "MDQ6VXNlcjYyMDYxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/620611?u=871eabd15ac87d37f1b4d2b927fa8f33e3ad7fe3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pstratem",
      "html_url": "https://github.com/pstratem",
      "followers_url": "https://api.github.com/users/pstratem/followers",
      "following_url": "https://api.github.com/users/pstratem/following{/other_user}",
      "gists_url": "https://api.github.com/users/pstratem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
      "organizations_url": "https://api.github.com/users/pstratem/orgs",
      "repos_url": "https://api.github.com/users/pstratem/repos",
      "events_url": "https://api.github.com/users/pstratem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pstratem/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-18T00:50:12Z",
    "updated_at": "2019-05-18T00:50:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK 3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/493635338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494044928",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#issuecomment-494044928",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15224",
    "id": 494044928,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NDA0NDkyOA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-20T15:50:32Z",
    "updated_at": "2019-05-20T15:50:32Z",
    "author_association": "MEMBER",
    "body": "Just wanted to note that the unit tests run 10% slower due to this:\r\n\r\nhttps://codespeed.bitcoinperf.com/timeline/?exe=3%2C4%2C2%2C1&base=1%2B23&ben=makecheck.clang.3&env=1&revs=10&equid=off&quarts=on&extr=on",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494044928/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494186004",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#issuecomment-494186004",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15224",
    "id": 494186004,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NDE4NjAwNA==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-20T23:33:14Z",
    "updated_at": "2019-05-20T23:33:14Z",
    "author_association": "MEMBER",
    "body": "@MarcoFalke Interesting. Is that considered too much? We could disable the strengthening time, or make it configurable... though at the cost of some complexity (the RNG may be used before command line options are parsed...)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494186004/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494347773",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#issuecomment-494347773",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15224",
    "id": 494347773,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NDM0Nzc3Mw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-21T11:13:28Z",
    "updated_at": "2019-05-21T11:13:28Z",
    "author_association": "MEMBER",
    "body": "Not really. Just mentioned because it might be interesting to some.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494347773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249739237",
    "pull_request_review_id": 194954741,
    "id": 249739237,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0OTczOTIzNw==",
    "diff_hunk": "@@ -432,6 +431,7 @@ libbitcoin_util_a_SOURCES = \\\n   logging.cpp \\\n   random.cpp \\\n   rpc/protocol.cpp \\\n+  shutdown.cpp \\",
    "path": "src/Makefile.am",
    "position": null,
    "original_position": 12,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "e20422a6c938204a5fa9ec794040d1b1c32eb094",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Moving `shutdown.cpp` to util might not be a good choice, architecturally: it's shared between *all* executables, by far most of which don't use bitcond's init/shutdown mechanism. It's meant for general-purpose utilities.\r\n\r\n`server` would be the right place, it's really part of the server functionality (shared between `bitcoind` and `bitcoin-qt` and unit tests\u2026).",
    "created_at": "2019-01-22T11:21:00Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r249739237",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249739237"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r249739237"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249739237/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 434,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250174983",
    "pull_request_review_id": 195494645,
    "id": 250174983,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MDE3NDk4Mw==",
    "diff_hunk": "@@ -436,7 +465,23 @@ static void SeedSlow(CSHA512& hasher) noexcept\n     SeedTimestamp(hasher);\n }\n \n-static void SeedSleep(CSHA512& hasher)\n+/** Extract entropy from rng, strengthen it, and feed it into hasher. */\n+static void SeedStrengthen(CSHA512& hasher, RNGState& rng) noexcept\n+{\n+    // Once per minute, strengthen the hash for 10ms.\n+    static std::atomic<int64_t> last_strengthen;",
    "path": "src/random.cpp",
    "position": null,
    "original_position": 52,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "e20422a6c938204a5fa9ec794040d1b1c32eb094",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Initialize?",
    "created_at": "2019-01-23T12:30:26Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250174983",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250174983"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250174983"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250174983/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 472,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250178909",
    "pull_request_review_id": 195494645,
    "id": 250178909,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MDE3ODkwOQ==",
    "diff_hunk": "@@ -436,7 +465,23 @@ static void SeedSlow(CSHA512& hasher) noexcept\n     SeedTimestamp(hasher);\n }\n \n-static void SeedSleep(CSHA512& hasher)\n+/** Extract entropy from rng, strengthen it, and feed it into hasher. */\n+static void SeedStrengthen(CSHA512& hasher, RNGState& rng) noexcept\n+{\n+    // Once per minute, strengthen the hash for 10ms.\n+    static std::atomic<int64_t> last_strengthen;\n+    int64_t current_time = GetTimeMicros();\n+    if (current_time > last_strengthen + 60000) {\n+        // Generate 32 bytes of entropy from the RNG.\n+        unsigned char buf[32];\n+        rng.MixExtract(buf, 32, CSHA512(), false);",
    "path": "src/random.cpp",
    "position": null,
    "original_position": 57,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "e20422a6c938204a5fa9ec794040d1b1c32eb094",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: might be slightly more readable to rename `buf` to `strengthener_seed`, or expand the comment with \", to seed the strengthener.\"",
    "created_at": "2019-01-23T12:44:27Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250178909",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250178909"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250178909"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250178909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 477,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250326564",
    "pull_request_review_id": 195686625,
    "id": 250326564,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MDMyNjU2NA==",
    "diff_hunk": "@@ -432,6 +431,7 @@ libbitcoin_util_a_SOURCES = \\\n   logging.cpp \\\n   random.cpp \\\n   rpc/protocol.cpp \\\n+  shutdown.cpp \\",
    "path": "src/Makefile.am",
    "position": null,
    "original_position": 12,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "e20422a6c938204a5fa9ec794040d1b1c32eb094",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@laanwj Unfortunately, I can't move random to server, because rpc/protocol is in util and depends on random.\r\n\r\nI think I'll just leave the 10ms strengthening uninterruptible instead?",
    "created_at": "2019-01-23T18:53:52Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250326564",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250326564"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250326564"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250326564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 434,
    "side": "RIGHT",
    "in_reply_to_id": 249739237
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250337305",
    "pull_request_review_id": 195699764,
    "id": 250337305,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MDMzNzMwNQ==",
    "diff_hunk": "@@ -436,7 +465,23 @@ static void SeedSlow(CSHA512& hasher) noexcept\n     SeedTimestamp(hasher);\n }\n \n-static void SeedSleep(CSHA512& hasher)\n+/** Extract entropy from rng, strengthen it, and feed it into hasher. */\n+static void SeedStrengthen(CSHA512& hasher, RNGState& rng) noexcept\n+{\n+    // Once per minute, strengthen the hash for 10ms.\n+    static std::atomic<int64_t> last_strengthen;",
    "path": "src/random.cpp",
    "position": null,
    "original_position": 52,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "e20422a6c938204a5fa9ec794040d1b1c32eb094",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Static variables are always auto-initialized to zero, but for clarity, I've added an explicit zero.",
    "created_at": "2019-01-23T19:21:30Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250337305",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250337305"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250337305"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250337305/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 472,
    "side": "RIGHT",
    "in_reply_to_id": 250174983
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250337346",
    "pull_request_review_id": 195699814,
    "id": 250337346,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MDMzNzM0Ng==",
    "diff_hunk": "@@ -436,7 +465,23 @@ static void SeedSlow(CSHA512& hasher) noexcept\n     SeedTimestamp(hasher);\n }\n \n-static void SeedSleep(CSHA512& hasher)\n+/** Extract entropy from rng, strengthen it, and feed it into hasher. */\n+static void SeedStrengthen(CSHA512& hasher, RNGState& rng) noexcept\n+{\n+    // Once per minute, strengthen the hash for 10ms.\n+    static std::atomic<int64_t> last_strengthen;\n+    int64_t current_time = GetTimeMicros();\n+    if (current_time > last_strengthen + 60000) {\n+        // Generate 32 bytes of entropy from the RNG.\n+        unsigned char buf[32];\n+        rng.MixExtract(buf, 32, CSHA512(), false);",
    "path": "src/random.cpp",
    "position": null,
    "original_position": 57,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "e20422a6c938204a5fa9ec794040d1b1c32eb094",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done.",
    "created_at": "2019-01-23T19:21:38Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250337346",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250337346"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250337346"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250337346/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 477,
    "side": "RIGHT",
    "in_reply_to_id": 250178909
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250387609",
    "pull_request_review_id": 195763368,
    "id": 250387609,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MDM4NzYwOQ==",
    "diff_hunk": "@@ -432,6 +431,7 @@ libbitcoin_util_a_SOURCES = \\\n   logging.cpp \\\n   random.cpp \\\n   rpc/protocol.cpp \\\n+  shutdown.cpp \\",
    "path": "src/Makefile.am",
    "position": null,
    "original_position": 12,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "e20422a6c938204a5fa9ec794040d1b1c32eb094",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I can wait 10ms",
    "created_at": "2019-01-23T21:55:12Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250387609",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250387609"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250387609"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250387609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 434,
    "side": "RIGHT",
    "in_reply_to_id": 249739237
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250738238",
    "pull_request_review_id": 196199828,
    "id": 250738238,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MDczODIzOA==",
    "diff_hunk": "@@ -143,6 +143,34 @@ static bool GetHardwareRand(unsigned char* ent32) noexcept {\n     return false;\n }\n \n+/** Use repeated SHA512 to strengthen the randomness in seed32, and feed into hasher. */\n+static void Strengthen(const unsigned char* seed32, int microseconds, CSHA512& hasher) noexcept\n+{\n+    CSHA512 inner_hasher;\n+    inner_hasher.Write(seed32, 32);",
    "path": "src/random.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "3a0cf05a990dbdad6ba52e4a68659fb6abd721fe",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Unless I'm misunderstanding it, the data collected by SeedStartup doesn't get strengthened in the first run of the strenghtener. This seems pretty suboptimal since SeedStartup is the obvious place to go get most of the weak pseudo-entropy (like filesystem data, network interface data, etc.) which is the stuff that most benefits from strengthening.",
    "created_at": "2019-01-24T19:06:20Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250738238",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250738238"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250738238"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250738238/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 150,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250755345",
    "pull_request_review_id": 196221608,
    "id": 250755345,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MDc1NTM0NQ==",
    "diff_hunk": "@@ -143,6 +143,34 @@ static bool GetHardwareRand(unsigned char* ent32) noexcept {\n     return false;\n }\n \n+/** Use repeated SHA512 to strengthen the randomness in seed32, and feed into hasher. */\n+static void Strengthen(const unsigned char* seed32, int microseconds, CSHA512& hasher) noexcept\n+{\n+    CSHA512 inner_hasher;\n+    inner_hasher.Write(seed32, 32);",
    "path": "src/random.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "3a0cf05a990dbdad6ba52e4a68659fb6abd721fe",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good point, fixed.\r\n\r\nIt now extracts using the hasher state combined with the RNG.\r\n\r\nSo overall what happens in SeedStartup is:\r\n* Gather entropy using SeedSlow/RandAddSeedPerfmon, in a hasher `E`. `E = SeedStuff()`\r\n* Mix E together with the (in this case empty RNG state `R0`), and split the result in a seed and the new RNG state, so `[S,R1] = SHA512(E || R0)`\r\n* `S` gets strengthened, `S' = SHA512(SHA512(...(S)))`\r\n* `S'` is added to `E`, and mixed into the RNG: `[_,R2] = SHA512(E || S' || R1)`.\r\n\r\nIt's a bit weird in that it uses `E` both in construction `R1` and `R2`, but I don't see how that can hurt.",
    "created_at": "2019-01-24T19:55:52Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250755345",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250755345"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250755345"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250755345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 150,
    "side": "RIGHT",
    "in_reply_to_id": 250738238
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250837320",
    "pull_request_review_id": 196324299,
    "id": 250837320,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MDgzNzMyMA==",
    "diff_hunk": "@@ -436,7 +464,23 @@ static void SeedSlow(CSHA512& hasher) noexcept\n     SeedTimestamp(hasher);\n }\n \n-static void SeedSleep(CSHA512& hasher)\n+/** Extract entropy from rng, strengthen it, and feed it into hasher. */\n+static void SeedStrengthen(CSHA512& hasher, RNGState& rng) noexcept\n+{\n+    // Once per minute, strengthen the hash for 10ms.\n+    static std::atomic<int64_t> last_strengthen{0};\n+    int64_t current_time = GetTimeMicros();\n+    if (current_time > last_strengthen + 60000) {\n+        // Generate 32 bytes of entropy from the RNG, and a copy of the entropy already in hasher.\n+        unsigned char strengthen_seed[32];\n+        rng.MixExtract(strengthen_seed, 32, CSHA512(hasher), false);",
    "path": "src/random.cpp",
    "position": null,
    "original_position": 49,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "f20fbecded624442144828aba2ddaa921913e6b7",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: `sizeof(strengthen_seed)` would avoid the duplication here.",
    "created_at": "2019-01-25T01:15:53Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250837320",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250837320"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250837320"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250837320/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 476,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250837656",
    "pull_request_review_id": 196324668,
    "id": 250837656,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MDgzNzY1Ng==",
    "diff_hunk": "@@ -143,6 +143,34 @@ static bool GetHardwareRand(unsigned char* ent32) noexcept {\n     return false;\n }\n \n+/** Use repeated SHA512 to strengthen the randomness in seed32, and feed into hasher. */\n+static void Strengthen(const unsigned char* seed32, int microseconds, CSHA512& hasher) noexcept",
    "path": "src/random.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "f20fbecded624442144828aba2ddaa921913e6b7",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: passing in seed32's length could be less error prone, in that the function would make fewer assumptions about the arguments / have fewer preconditions for them. Could be good to document the size precondition in the comment as an alternative.",
    "created_at": "2019-01-25T01:17:49Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250837656",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250837656"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r250837656"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250837656/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 147,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280951123",
    "pull_request_review_id": 233700335,
    "id": 280951123,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MDk1MTEyMw==",
    "diff_hunk": "@@ -143,6 +143,34 @@ static bool GetHardwareRand(unsigned char* ent32) noexcept {\n     return false;\n }\n \n+/** Use repeated SHA512 to strengthen the randomness in seed32, and feed into hasher. */\n+static void Strengthen(const unsigned char* seed32, int microseconds, CSHA512& hasher) noexcept",
    "path": "src/random.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "f20fbecded624442144828aba2ddaa921913e6b7",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed by using the C++11 \"pass a reference to array of fixed size\" construction (which will cause a compilation failure of the array has the wrong length).",
    "created_at": "2019-05-03T22:55:29Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r280951123",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280951123"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r280951123"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280951123/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 147,
    "side": "RIGHT",
    "in_reply_to_id": 250837656
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280951955",
    "pull_request_review_id": 233701360,
    "id": 280951955,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MDk1MTk1NQ==",
    "diff_hunk": "@@ -436,7 +464,23 @@ static void SeedSlow(CSHA512& hasher) noexcept\n     SeedTimestamp(hasher);\n }\n \n-static void SeedSleep(CSHA512& hasher)\n+/** Extract entropy from rng, strengthen it, and feed it into hasher. */\n+static void SeedStrengthen(CSHA512& hasher, RNGState& rng) noexcept\n+{\n+    // Once per minute, strengthen the hash for 10ms.\n+    static std::atomic<int64_t> last_strengthen{0};\n+    int64_t current_time = GetTimeMicros();\n+    if (current_time > last_strengthen + 60000) {\n+        // Generate 32 bytes of entropy from the RNG, and a copy of the entropy already in hasher.\n+        unsigned char strengthen_seed[32];\n+        rng.MixExtract(strengthen_seed, 32, CSHA512(hasher), false);",
    "path": "src/random.cpp",
    "position": null,
    "original_position": 49,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "f20fbecded624442144828aba2ddaa921913e6b7",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed.",
    "created_at": "2019-05-03T23:01:43Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r280951955",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280951955"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r280951955"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280951955/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 476,
    "side": "RIGHT",
    "in_reply_to_id": 250837320
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281285008",
    "pull_request_review_id": 234106119,
    "id": 281285008,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTI4NTAwOA==",
    "diff_hunk": "@@ -143,6 +143,34 @@ static bool GetHardwareRand(unsigned char* ent32) noexcept {\n     return false;\n }\n \n+/** Use repeated SHA512 to strengthen the randomness in seed32, and feed into hasher. */\n+static void Strengthen(const unsigned char (&seed)[32], int microseconds, CSHA512& hasher) noexcept\n+{\n+    CSHA512 inner_hasher;\n+    inner_hasher.Write(seed, sizeof(seed));\n+\n+    // Hash loop\n+    unsigned char buffer[64];\n+    int64_t start = GetTimeMicros();",
    "path": "src/random.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "c5b36592ea0278b90c6ab93f04ae4f291c2fa3e9",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit `const int64_t stop = GetTimeMicros() + microseconds;`",
    "created_at": "2019-05-06T17:41:19Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r281285008",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281285008"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r281285008"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281285008/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 154,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281286094",
    "pull_request_review_id": 234106119,
    "id": 281286094,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTI4NjA5NA==",
    "diff_hunk": "@@ -143,6 +143,34 @@ static bool GetHardwareRand(unsigned char* ent32) noexcept {\n     return false;\n }\n \n+/** Use repeated SHA512 to strengthen the randomness in seed32, and feed into hasher. */\n+static void Strengthen(const unsigned char (&seed)[32], int microseconds, CSHA512& hasher) noexcept\n+{\n+    CSHA512 inner_hasher;\n+    inner_hasher.Write(seed, sizeof(seed));\n+\n+    // Hash loop\n+    unsigned char buffer[64];\n+    int64_t start = GetTimeMicros();\n+    do {\n+        for (int i = 0; i < 1000; ++i) {\n+            inner_hasher.Finalize(buffer);\n+            inner_hasher.Reset();\n+            inner_hasher.Write(buffer, sizeof(buffer));\n+        }\n+        // Benchmark operation and feed it into outer hasher.\n+        int64_t perf = GetPerformanceCounter();\n+        hasher.Write((const unsigned char*)&perf, sizeof(perf));\n+    } while (GetTimeMicros() < start + microseconds);\n+\n+    // Produce output from inner state and feed it to outer hasher.\n+    inner_hasher.Finalize(buffer);\n+    hasher.Write(buffer, sizeof(buffer));\n+    // Try to clean up.",
    "path": "src/random.cpp",
    "position": 27,
    "original_position": 27,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "c5b36592ea0278b90c6ab93f04ae4f291c2fa3e9",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can you explain why \"try\"?",
    "created_at": "2019-05-06T17:44:24Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r281286094",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281286094"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r281286094"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281286094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 169,
    "original_line": 169,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281383333",
    "pull_request_review_id": 234227179,
    "id": 281383333,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTM4MzMzMw==",
    "diff_hunk": "@@ -143,6 +143,34 @@ static bool GetHardwareRand(unsigned char* ent32) noexcept {\n     return false;\n }\n \n+/** Use repeated SHA512 to strengthen the randomness in seed32, and feed into hasher. */\n+static void Strengthen(const unsigned char (&seed)[32], int microseconds, CSHA512& hasher) noexcept\n+{\n+    CSHA512 inner_hasher;\n+    inner_hasher.Write(seed, sizeof(seed));\n+\n+    // Hash loop\n+    unsigned char buffer[64];\n+    int64_t start = GetTimeMicros();\n+    do {\n+        for (int i = 0; i < 1000; ++i) {\n+            inner_hasher.Finalize(buffer);\n+            inner_hasher.Reset();\n+            inner_hasher.Write(buffer, sizeof(buffer));\n+        }\n+        // Benchmark operation and feed it into outer hasher.\n+        int64_t perf = GetPerformanceCounter();\n+        hasher.Write((const unsigned char*)&perf, sizeof(perf));\n+    } while (GetTimeMicros() < start + microseconds);\n+\n+    // Produce output from inner state and feed it to outer hasher.\n+    inner_hasher.Finalize(buffer);\n+    hasher.Write(buffer, sizeof(buffer));\n+    // Try to clean up.",
    "path": "src/random.cpp",
    "position": 27,
    "original_position": 27,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "c5b36592ea0278b90c6ab93f04ae4f291c2fa3e9",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The C++ language has no way of guaranteeing memory gets cleaned up (it may have copied it elsewhere in memory, for starters, or detect that the clearing has no observable effect and optimize it away).",
    "created_at": "2019-05-06T22:13:09Z",
    "updated_at": "2019-05-06T22:15:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r281383333",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281383333"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r281383333"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281383333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 169,
    "original_line": 169,
    "side": "RIGHT",
    "in_reply_to_id": 281286094
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281385641",
    "pull_request_review_id": 234229961,
    "id": 281385641,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTM4NTY0MQ==",
    "diff_hunk": "@@ -143,6 +143,34 @@ static bool GetHardwareRand(unsigned char* ent32) noexcept {\n     return false;\n }\n \n+/** Use repeated SHA512 to strengthen the randomness in seed32, and feed into hasher. */\n+static void Strengthen(const unsigned char (&seed)[32], int microseconds, CSHA512& hasher) noexcept\n+{\n+    CSHA512 inner_hasher;\n+    inner_hasher.Write(seed, sizeof(seed));\n+\n+    // Hash loop\n+    unsigned char buffer[64];\n+    int64_t start = GetTimeMicros();",
    "path": "src/random.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "3cb9ce85d0c6d01217babf0df7efc2eabde1b12f",
    "original_commit_id": "c5b36592ea0278b90c6ab93f04ae4f291c2fa3e9",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nice, done.",
    "created_at": "2019-05-06T22:22:23Z",
    "updated_at": "2019-05-06T22:22:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r281385641",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281385641"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15224#discussion_r281385641"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15224"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281385641/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 154,
    "side": "RIGHT",
    "in_reply_to_id": 281285008
  }
]