gmaxwell,2012-02-10T03:56:52Z,"We know such routers existâ€” they've been observed to impact p2pool users (which uses a similar protocol with checksums on the version messages).  But we don't know what brands or how common they are.  It's a pretty bone headed thing to do.\n\nRather than just ignoring it, it would probably be better to still log it but leave the connection up. Then we'd at least get some helpful logs.\n",https://github.com/bitcoin/bitcoin/pull/816#issuecomment-3900812,3900812,
laanwj,2012-02-10T07:03:53Z,"Huh this really surprises me. The IP replacement certainly exists, but used to be only for protocols like FTP and IRC that were known by the router, not in unknown binary data.\n",https://github.com/bitcoin/bitcoin/pull/816#issuecomment-3902113,3902113,
gavinandresen,2012-02-10T17:00:14Z,"I'd really like to know more about the root and scope of the problem-- was this ""one or two people had problems with p2pool because they misconfigured iptables/netfilter"" or is it ""LinkSys routers automangle the first packet if its first N bytes look like it is an FTP session"" ?\n",https://github.com/bitcoin/bitcoin/pull/816#issuecomment-3909524,3909524,
gmaxwell,2012-02-10T17:13:28Z,"Unfortunately we don't know the scope.\n\nWe observed checksum errors on p2pool. Forrest investigated and found this to be the cause through some lucky reasoning.   It appeared to be two distinct users, out of something like 150 using P2Pool at the time. So, I'd guess we could be looking at incidents rates between something like 1:10 and 1:100000 in the general bitcoin using population. There coul",https://github.com/bitcoin/bitcoin/pull/816#issuecomment-3909807,3909807,
jgarzik,2012-02-17T15:08:55Z,"IMO consider keeping existing (feb20 switchover) behavior as default.  Add a ""no-version-csum"" (or ""fucked-router"") option.  I am deeply suspect of routers that randomly rewrite binary packets transited in unknown (to the router) binary protocols.\n\nWould rather err on the side of stronger checksum protection, and only weaken that as absolutely necessary.\n",https://github.com/bitcoin/bitcoin/pull/816#issuecomment-4021574,4021574,
gavinandresen,2012-02-25T21:51:43Z,"Given the lack of problems in the last 5 days (besides alternative implementations that didn't code in the change), I think this is safe to close as ""unnecessary.""\n",https://github.com/bitcoin/bitcoin/pull/816#issuecomment-4176503,4176503,
