[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556225907",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-556225907",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 556225907,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjIyNTkwNw==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T18:39:45Z",
    "updated_at": "2019-11-20T18:39:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "The test looks good so far!\r\n\r\nSome other conditions to check:\r\n\r\n```\r\nrpcwhitelist=user1:A,B,C\r\nrpcwhitelist=user1:B\r\n```\r\n\r\nresults in only B being available, not A or C.\r\n\r\n\r\nTest empty rpcwhitelist\r\n```\r\nrpcwhitelist=user1\r\nrpcwhitelist=user2:\r\n```\r\n\r\nTest trailing comma\r\n```\r\nrpcwhitelist=user1:A,\r\n```\r\n\r\n\r\nTest the above where `whitelistrpcdefault=1` is set. This case is really difficult to do because the testing framework assumes access to the RPCs for setup. So you can set up setting the args for the test-framework's rpc credential to be sufficient, but then testing the case where there are no credentialed users seems... hard! But maybe we're OK with not covering that case via test.\r\n\r\nIt also looks like there is a new method (since I wrote the original test sketch?) called \"add_options\", which you could override to add the command line args... but what's written works so if it ain't broke...\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556225907/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556271906",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-556271906",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 556271906,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjI3MTkwNg==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T19:18:51Z",
    "updated_at": "2019-12-12T20:59:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16698](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16698.html) (Mempool: rework rebroadcast logic to improve privacy by amitiuttarwar)\n* [#16673](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16673.html) (Relog configuration args on debug.log rotation by LarryRuane)\n* [#16115](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16115.html) (On bitcoind startup, write config args to debug.log by LarryRuane)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556271906/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556305394",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-556305394",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 556305394,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjMwNTM5NA==",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?u=af673194d7bec2979082dcffd59c38f4fec70078&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T19:47:52Z",
    "updated_at": "2019-11-20T19:47:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "@JeremyRubin \r\nThe test was written from scratch with a method taken from `rpc_users.py`\r\nI will add your suggestions now",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556305394/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556355916",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-556355916",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 556355916,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjM1NTkxNg==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T20:31:22Z",
    "updated_at": "2019-11-20T20:31:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah yeah -- I just mean that I think the add_options method appears to be new -- newer than rpc_users too I guess? Not sure!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556355916/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556370904",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-556370904",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 556370904,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjM3MDkwNA==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T20:44:38Z",
    "updated_at": "2019-11-20T20:44:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "BTW (maybe a minority opinion here) but those linters are *super* pesky.\r\n\r\nYou need to fix the typos on \"permissions\" in order for the tests to run.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556370904/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556376093",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-556376093",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 556376093,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjM3NjA5Mw==",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?u=af673194d7bec2979082dcffd59c38f4fec70078&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T20:49:12Z",
    "updated_at": "2019-11-20T20:50:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "@JeremyRubin Ok, will change that.\r\nI also added the exceptions mentioned in your first comment. See f012f12",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556376093/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556379660",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-556379660",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 556379660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjM3OTY2MA==",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?u=af673194d7bec2979082dcffd59c38f4fec70078&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T20:52:21Z",
    "updated_at": "2019-11-20T20:52:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "BTW where you've found the type you meant in the comment? Any line number please?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556379660/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556390404",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-556390404",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 556390404,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjM5MDQwNA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T21:01:44Z",
    "updated_at": "2019-11-20T21:01:44Z",
    "author_association": "MEMBER",
    "body": "The linters fail because trailing white space was added. Trailing white space is causing issues with `git` and many editors. The type can be left as is if you want to.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556390404/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556396050",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-556396050",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 556396050,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjM5NjA1MA==",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?u=af673194d7bec2979082dcffd59c38f4fec70078&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T21:06:39Z",
    "updated_at": "2019-11-20T21:06:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh now I understand what you mean :D\r\nShould be fixed now",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556396050/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556411304",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-556411304",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 556411304,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjQxMTMwNA==",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?u=a0e0040aacd7d4f0787481e8ac30b494fa429e11&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T21:19:55Z",
    "updated_at": "2019-11-20T21:19:55Z",
    "author_association": "MEMBER",
    "body": "@emilengler You need need to [squash your commits](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits). If you're fixing things like typos and whitespace, you'll always need to squash, so it's best to just do it before pushing to GitHub.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556411304/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556413353",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-556413353",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 556413353,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjQxMzM1Mw==",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?u=af673194d7bec2979082dcffd59c38f4fec70078&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T21:21:45Z",
    "updated_at": "2019-11-20T21:21:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fanquake Done",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556413353/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556453378",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-556453378",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 556453378,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjQ1MzM3OA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T21:58:19Z",
    "updated_at": "2019-11-20T21:58:19Z",
    "author_association": "MEMBER",
    "body": "It might be possible to adjust `def wait_for_rpc_connection` to accept the 403 error code as acceptable signal that indicates the rpc thread is running.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556453378/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557649038",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-557649038",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 557649038,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzY0OTAzOA==",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?u=af673194d7bec2979082dcffd59c38f4fec70078&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-22T18:50:23Z",
    "updated_at": "2019-11-22T18:50:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "The test is done.\r\nThe only problem is to test `rpcwhitelistdefault=1`\r\nThere are two possible ways:\r\n\r\n- The easy way: Just add another test (file)\r\n- The hard way: Restart bitcoind with other args during the test. Any ideas on how to do this @MarcoFalke?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557649038/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557715275",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-557715275",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 557715275,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzcxNTI3NQ==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-22T22:18:06Z",
    "updated_at": "2019-11-22T22:18:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "You don't need a new file, you can just do a new subclass of the test framework in that file and call one after the other in Main.\r\n\r\nIt will be a bit tough because you can't actually stop a node using RPC with rpcwhitelistdefault=1 and no auth with stop permitted. So you'd need to write a bit of code to kill by PID.\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557715275/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557755338",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-557755338",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 557755338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1Nzc1NTMzOA==",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?u=af673194d7bec2979082dcffd59c38f4fec70078&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-23T02:05:26Z",
    "updated_at": "2019-11-23T02:05:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "> You don't need a new file, you can just do a new subclass of the test framework in that file and call one after the other in Main.\r\n\r\nTried that and failed, will try it again tomorrow",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557755338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562435360",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-562435360",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 562435360,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MjQzNTM2MA==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-06T05:13:56Z",
    "updated_at": "2019-12-06T05:13:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "@emilengler checking in here -- stuck?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562435360/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562595291",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-562595291",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 562595291,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MjU5NTI5MQ==",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?u=af673194d7bec2979082dcffd59c38f4fec70078&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-06T14:37:03Z",
    "updated_at": "2019-12-06T14:37:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "@JeremyRubin The test works fine. The only problem is testing `rpcwhitelistenable=1`. The problem is that I haven't found a way to restart bitcoind. It would need to be separate test.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562595291/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562629388",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-562629388",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 562629388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MjYyOTM4OA==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-06T15:56:20Z",
    "updated_at": "2019-12-06T15:56:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm OK with that; great work preparing these tests.\r\n\r\n@MarcoFalke given the strong concept ACKs+utacks/lgtms on the original PR, now with @emilengler's work on tests I think this is in a mergeable state. Do you prefer for me to squash the existing branch (I don't want to make people have to re-ack the squash needlessly)?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562629388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562794200",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-562794200",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 562794200,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2Mjc5NDIwMA==",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?u=af673194d7bec2979082dcffd59c38f4fec70078&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-07T00:43:44Z",
    "updated_at": "2019-12-07T00:43:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @emilengler's work on tests I think this is in a mergeable state. Do you prefer for me to squash the existing branch (I don't want to make people have to re-ack the squash needlessly)?\r\n\r\nI'm a bit afraid that mine will cause merge issues then. Otherwise I will rebase it from your updated branch.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562794200/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564736696",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-564736696",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 564736696,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDczNjY5Ng==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-11T21:17:13Z",
    "updated_at": "2019-12-11T21:17:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "@emilengler you can rebase",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564736696/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565147543",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-565147543",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 565147543,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTE0NzU0Mw==",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?u=af673194d7bec2979082dcffd59c38f4fec70078&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-12T19:22:54Z",
    "updated_at": "2019-12-12T19:22:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "@JeremyRubin Should be done now",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565147543/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565438145",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#issuecomment-565438145",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17536",
    "id": 565438145,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTQzODE0NQ==",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?u=af673194d7bec2979082dcffd59c38f4fec70078&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-13T13:18:36Z",
    "updated_at": "2019-12-13T13:18:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Got merged into master by `2081442c421cc4376e5d7839f68fbe7630e89103`",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565438145/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/348762331",
    "pull_request_review_id": 320344763,
    "id": 348762331,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0ODc2MjMzMQ==",
    "diff_hunk": "@@ -0,0 +1,93 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+A test for RPC users with restricted permissions\n+\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+import os\n+from test_framework.util import (\n+    get_datadir_path,\n+    assert_equal,\n+    str_to_b64str\n+)\n+import http.client\n+import urllib.parse\n+from random import randint\n+\n+def rpccall(node, user, method):\n+    url = urllib.parse.urlparse(node.url)\n+    headers = {\"Authorization\": \"Basic \" + str_to_b64str('{}:{}'.format(user[0], user[3]))}\n+    conn = http.client.HTTPConnection(url.hostname, url.port)\n+    conn.connect()\n+    conn.request('POST', '/', '{\"method\": \"' + method + '\"}', headers)\n+    resp = conn.getresponse()\n+    conn.close()\n+    return resp\n+\n+\n+class RPCWhitelistTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def setup_chain(self):\n+        super().setup_chain()\n+        # 0 => Username\n+        # 1 => Password (Hashed)\n+        # 2 => Permissions\n+        # 3 => Password Plaintext\n+        self.users = [\n+            [\"user1\", \"50358aa884c841648e0700b073c32b2e$b73e95fff0748cc0b517859d2ca47d9bac1aa78231f3e48fa9222b612bd2083e\", \"getbestblockhash,getblockcount,\", \"12345\"],\n+            [\"user2\", \"8650ba41296f62092377a38547f361de$4620db7ba063ef4e2f7249853e9f3c5c3592a9619a759e3e6f1c63f2e22f1d21\", \"getblockcount\", \"54321\"]\n+        ]\n+        # For exceptions\n+        self.strange_users = [\n+            # Test empty\n+            [\"strangedude\", \"62d67dffec03836edd698314f1b2be62$c2fb4be29bb0e3646298661123cf2d8629640979cabc268ef05ea613ab54068d\", \":\", \"s7R4nG3R7H1nGZ\"],\n+            [\"strangedude2\", \"575c012c7fe4b1e83b9d809412da3ef7$09f448d0acfc19924dd62ecb96004d3c2d4b91f471030dfe43c6ea64a8f658c1\", \"\", \"s7R4nG3R7H1nGZ\"],\n+            # Test trailing comma\n+            [\"strangedude3\", \"23189c561b5975a56f4cf94030495d61$3a2f6aac26351e2257428550a553c4c1979594e36675bbd3db692442387728c0\", \":getblockcount,\", \"s7R4nG3R7H1nGZ\"],\n+            # Test overwrite\n+            [\"strangedude4\", \"990c895760a70df83949e8278665e19a$8f0906f20431ff24cb9e7f5b5041e4943bdf2a5c02a19ef4960dcf45e72cde1c\", \":getblockcount, getbestblockhash\", \"s7R4nG3R7H1nGZ\"],\n+            [\"strangedude4\", \"990c895760a70df83949e8278665e19a$8f0906f20431ff24cb9e7f5b5041e4943bdf2a5c02a19ef4960dcf45e72cde1c\", \":getblockcount\", \"s7R4nG3R7H1nGZ\"]\n+        ]\n+        # These commands shouldn't be allowed for any user to test failures\n+        self.never_allowed = [\"getnetworkinfo\"]\n+        with open(os.path.join(get_datadir_path(self.options.tmpdir, 0), \"bitcoin.conf\"), 'a', encoding='utf8') as f:\n+            f.write(\"\\nrpcwhitelistdefault=0\\n\")\n+            for user in self.users:\n+                f.write(\"rpcauth=\" + user[0] + \":\" + user[1] + \"\\n\")\n+                f.write(\"rpcwhitelist=\" + user[0] + \":\" + user[2] + \"\\n\")\n+            # Special cases\n+            for strangedude in self.strange_users:\n+                f.write(\"rpcauth=\" + strangedude[0] + \":\" + strangedude[1] + \"\\n\")\n+                f.write(\"rpcwhitelist=\" + strangedude[0] + strangedude[2] + \"\\n\")\n+\n+\n+    def run_test(self):\n+        for user in self.users:\n+            permissions = user[2].replace(\" \", \"\").split(\",\")\n+            # Pop all empty items\n+            i = 0\n+            while i < len(permissions):\n+                if permissions[i] == '':\n+                    permissions.pop(i)\n+\n+                i += 1",
    "path": "test/functional/rpc_whitelist.py",
    "position": 78,
    "original_position": 77,
    "commit_id": "d868d09017d055f8c5459ead943f0c01b18a25bf",
    "original_commit_id": "e3825f59dde19fb6a225eca68ea6b7b3a9ae35cb",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "just use `import re; filter(lambda x: x=='', re.split(\" |,\", user[2]))`?",
    "created_at": "2019-11-20T21:48:16Z",
    "updated_at": "2019-12-12T19:22:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#discussion_r348762331",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17536",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/348762331"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17536#discussion_r348762331"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17536"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/348762331/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 78,
    "original_line": 78,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/348762842",
    "pull_request_review_id": 320346716,
    "id": 348762842,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0ODc2Mjg0Mg==",
    "diff_hunk": "@@ -0,0 +1,93 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+A test for RPC users with restricted permissions\n+\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+import os\n+from test_framework.util import (\n+    get_datadir_path,\n+    assert_equal,\n+    str_to_b64str\n+)\n+import http.client\n+import urllib.parse\n+from random import randint\n+\n+def rpccall(node, user, method):\n+    url = urllib.parse.urlparse(node.url)\n+    headers = {\"Authorization\": \"Basic \" + str_to_b64str('{}:{}'.format(user[0], user[3]))}\n+    conn = http.client.HTTPConnection(url.hostname, url.port)\n+    conn.connect()\n+    conn.request('POST', '/', '{\"method\": \"' + method + '\"}', headers)\n+    resp = conn.getresponse()\n+    conn.close()\n+    return resp\n+\n+\n+class RPCWhitelistTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def setup_chain(self):\n+        super().setup_chain()\n+        # 0 => Username\n+        # 1 => Password (Hashed)\n+        # 2 => Permissions\n+        # 3 => Password Plaintext\n+        self.users = [\n+            [\"user1\", \"50358aa884c841648e0700b073c32b2e$b73e95fff0748cc0b517859d2ca47d9bac1aa78231f3e48fa9222b612bd2083e\", \"getbestblockhash,getblockcount,\", \"12345\"],\n+            [\"user2\", \"8650ba41296f62092377a38547f361de$4620db7ba063ef4e2f7249853e9f3c5c3592a9619a759e3e6f1c63f2e22f1d21\", \"getblockcount\", \"54321\"]\n+        ]\n+        # For exceptions\n+        self.strange_users = [\n+            # Test empty\n+            [\"strangedude\", \"62d67dffec03836edd698314f1b2be62$c2fb4be29bb0e3646298661123cf2d8629640979cabc268ef05ea613ab54068d\", \":\", \"s7R4nG3R7H1nGZ\"],\n+            [\"strangedude2\", \"575c012c7fe4b1e83b9d809412da3ef7$09f448d0acfc19924dd62ecb96004d3c2d4b91f471030dfe43c6ea64a8f658c1\", \"\", \"s7R4nG3R7H1nGZ\"],\n+            # Test trailing comma\n+            [\"strangedude3\", \"23189c561b5975a56f4cf94030495d61$3a2f6aac26351e2257428550a553c4c1979594e36675bbd3db692442387728c0\", \":getblockcount,\", \"s7R4nG3R7H1nGZ\"],\n+            # Test overwrite\n+            [\"strangedude4\", \"990c895760a70df83949e8278665e19a$8f0906f20431ff24cb9e7f5b5041e4943bdf2a5c02a19ef4960dcf45e72cde1c\", \":getblockcount, getbestblockhash\", \"s7R4nG3R7H1nGZ\"],\n+            [\"strangedude4\", \"990c895760a70df83949e8278665e19a$8f0906f20431ff24cb9e7f5b5041e4943bdf2a5c02a19ef4960dcf45e72cde1c\", \":getblockcount\", \"s7R4nG3R7H1nGZ\"]\n+        ]\n+        # These commands shouldn't be allowed for any user to test failures\n+        self.never_allowed = [\"getnetworkinfo\"]\n+        with open(os.path.join(get_datadir_path(self.options.tmpdir, 0), \"bitcoin.conf\"), 'a', encoding='utf8') as f:\n+            f.write(\"\\nrpcwhitelistdefault=0\\n\")\n+            for user in self.users:\n+                f.write(\"rpcauth=\" + user[0] + \":\" + user[1] + \"\\n\")\n+                f.write(\"rpcwhitelist=\" + user[0] + \":\" + user[2] + \"\\n\")\n+            # Special cases\n+            for strangedude in self.strange_users:\n+                f.write(\"rpcauth=\" + strangedude[0] + \":\" + strangedude[1] + \"\\n\")\n+                f.write(\"rpcwhitelist=\" + strangedude[0] + strangedude[2] + \"\\n\")\n+\n+\n+    def run_test(self):\n+        for user in self.users:\n+            permissions = user[2].replace(\" \", \"\").split(\",\")\n+            # Pop all empty items\n+            i = 0\n+            while i < len(permissions):\n+                if permissions[i] == '':\n+                    permissions.pop(i)\n+\n+                i += 1\n+            self.log.info(\"[\" + user[0] + \"]: Testing a permitted permission\")\n+            assert_equal(200, rpccall(self.nodes[0], user, permissions[randint(0, len(permissions) - 1)]).status)",
    "path": "test/functional/rpc_whitelist.py",
    "position": null,
    "original_position": 79,
    "commit_id": "d868d09017d055f8c5459ead943f0c01b18a25bf",
    "original_commit_id": "e3825f59dde19fb6a225eca68ea6b7b3a9ae35cb",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I like what you're thinking here with picking a random permission (especially if we eventually make this scale out to test a larger set), but I think for functional tests we value the determinism & repeatability a bit more. So maybe as a compromise, test everything in permissions, and then test all of the disallowed (until in the future they are too many).\r\n",
    "created_at": "2019-11-20T21:49:30Z",
    "updated_at": "2019-12-12T19:22:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#discussion_r348762842",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17536",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/348762842"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17536#discussion_r348762842"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17536"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/348762842/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 79,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349180809",
    "pull_request_review_id": 321009093,
    "id": 349180809,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTE4MDgwOQ==",
    "diff_hunk": "@@ -0,0 +1,93 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+A test for RPC users with restricted permissions\n+\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+import os\n+from test_framework.util import (\n+    get_datadir_path,\n+    assert_equal,\n+    str_to_b64str\n+)\n+import http.client\n+import urllib.parse\n+from random import randint\n+\n+def rpccall(node, user, method):\n+    url = urllib.parse.urlparse(node.url)\n+    headers = {\"Authorization\": \"Basic \" + str_to_b64str('{}:{}'.format(user[0], user[3]))}\n+    conn = http.client.HTTPConnection(url.hostname, url.port)\n+    conn.connect()\n+    conn.request('POST', '/', '{\"method\": \"' + method + '\"}', headers)\n+    resp = conn.getresponse()\n+    conn.close()\n+    return resp\n+\n+\n+class RPCWhitelistTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def setup_chain(self):\n+        super().setup_chain()\n+        # 0 => Username\n+        # 1 => Password (Hashed)\n+        # 2 => Permissions\n+        # 3 => Password Plaintext\n+        self.users = [\n+            [\"user1\", \"50358aa884c841648e0700b073c32b2e$b73e95fff0748cc0b517859d2ca47d9bac1aa78231f3e48fa9222b612bd2083e\", \"getbestblockhash,getblockcount,\", \"12345\"],\n+            [\"user2\", \"8650ba41296f62092377a38547f361de$4620db7ba063ef4e2f7249853e9f3c5c3592a9619a759e3e6f1c63f2e22f1d21\", \"getblockcount\", \"54321\"]\n+        ]\n+        # For exceptions\n+        self.strange_users = [\n+            # Test empty\n+            [\"strangedude\", \"62d67dffec03836edd698314f1b2be62$c2fb4be29bb0e3646298661123cf2d8629640979cabc268ef05ea613ab54068d\", \":\", \"s7R4nG3R7H1nGZ\"],\n+            [\"strangedude2\", \"575c012c7fe4b1e83b9d809412da3ef7$09f448d0acfc19924dd62ecb96004d3c2d4b91f471030dfe43c6ea64a8f658c1\", \"\", \"s7R4nG3R7H1nGZ\"],\n+            # Test trailing comma\n+            [\"strangedude3\", \"23189c561b5975a56f4cf94030495d61$3a2f6aac26351e2257428550a553c4c1979594e36675bbd3db692442387728c0\", \":getblockcount,\", \"s7R4nG3R7H1nGZ\"],\n+            # Test overwrite\n+            [\"strangedude4\", \"990c895760a70df83949e8278665e19a$8f0906f20431ff24cb9e7f5b5041e4943bdf2a5c02a19ef4960dcf45e72cde1c\", \":getblockcount, getbestblockhash\", \"s7R4nG3R7H1nGZ\"],\n+            [\"strangedude4\", \"990c895760a70df83949e8278665e19a$8f0906f20431ff24cb9e7f5b5041e4943bdf2a5c02a19ef4960dcf45e72cde1c\", \":getblockcount\", \"s7R4nG3R7H1nGZ\"]\n+        ]\n+        # These commands shouldn't be allowed for any user to test failures\n+        self.never_allowed = [\"getnetworkinfo\"]\n+        with open(os.path.join(get_datadir_path(self.options.tmpdir, 0), \"bitcoin.conf\"), 'a', encoding='utf8') as f:\n+            f.write(\"\\nrpcwhitelistdefault=0\\n\")\n+            for user in self.users:\n+                f.write(\"rpcauth=\" + user[0] + \":\" + user[1] + \"\\n\")\n+                f.write(\"rpcwhitelist=\" + user[0] + \":\" + user[2] + \"\\n\")\n+            # Special cases\n+            for strangedude in self.strange_users:\n+                f.write(\"rpcauth=\" + strangedude[0] + \":\" + strangedude[1] + \"\\n\")\n+                f.write(\"rpcwhitelist=\" + strangedude[0] + strangedude[2] + \"\\n\")\n+\n+\n+    def run_test(self):\n+        for user in self.users:\n+            permissions = user[2].replace(\" \", \"\").split(\",\")\n+            # Pop all empty items\n+            i = 0\n+            while i < len(permissions):\n+                if permissions[i] == '':\n+                    permissions.pop(i)\n+\n+                i += 1\n+            self.log.info(\"[\" + user[0] + \"]: Testing a permitted permission\")\n+            assert_equal(200, rpccall(self.nodes[0], user, permissions[randint(0, len(permissions) - 1)]).status)",
    "path": "test/functional/rpc_whitelist.py",
    "position": null,
    "original_position": 79,
    "commit_id": "d868d09017d055f8c5459ead943f0c01b18a25bf",
    "original_commit_id": "e3825f59dde19fb6a225eca68ea6b7b3a9ae35cb",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ok",
    "created_at": "2019-11-21T16:17:25Z",
    "updated_at": "2019-12-12T19:22:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#discussion_r349180809",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17536",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349180809"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17536#discussion_r349180809"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17536"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349180809/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 79,
    "side": "RIGHT",
    "in_reply_to_id": 348762842
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349222828",
    "pull_request_review_id": 321062371,
    "id": 349222828,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTIyMjgyOA==",
    "diff_hunk": "@@ -0,0 +1,93 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+A test for RPC users with restricted permissions\n+\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+import os\n+from test_framework.util import (\n+    get_datadir_path,\n+    assert_equal,\n+    str_to_b64str\n+)\n+import http.client\n+import urllib.parse\n+from random import randint\n+\n+def rpccall(node, user, method):\n+    url = urllib.parse.urlparse(node.url)\n+    headers = {\"Authorization\": \"Basic \" + str_to_b64str('{}:{}'.format(user[0], user[3]))}\n+    conn = http.client.HTTPConnection(url.hostname, url.port)\n+    conn.connect()\n+    conn.request('POST', '/', '{\"method\": \"' + method + '\"}', headers)\n+    resp = conn.getresponse()\n+    conn.close()\n+    return resp\n+\n+\n+class RPCWhitelistTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def setup_chain(self):\n+        super().setup_chain()\n+        # 0 => Username\n+        # 1 => Password (Hashed)\n+        # 2 => Permissions\n+        # 3 => Password Plaintext\n+        self.users = [\n+            [\"user1\", \"50358aa884c841648e0700b073c32b2e$b73e95fff0748cc0b517859d2ca47d9bac1aa78231f3e48fa9222b612bd2083e\", \"getbestblockhash,getblockcount,\", \"12345\"],\n+            [\"user2\", \"8650ba41296f62092377a38547f361de$4620db7ba063ef4e2f7249853e9f3c5c3592a9619a759e3e6f1c63f2e22f1d21\", \"getblockcount\", \"54321\"]\n+        ]\n+        # For exceptions\n+        self.strange_users = [\n+            # Test empty\n+            [\"strangedude\", \"62d67dffec03836edd698314f1b2be62$c2fb4be29bb0e3646298661123cf2d8629640979cabc268ef05ea613ab54068d\", \":\", \"s7R4nG3R7H1nGZ\"],\n+            [\"strangedude2\", \"575c012c7fe4b1e83b9d809412da3ef7$09f448d0acfc19924dd62ecb96004d3c2d4b91f471030dfe43c6ea64a8f658c1\", \"\", \"s7R4nG3R7H1nGZ\"],\n+            # Test trailing comma\n+            [\"strangedude3\", \"23189c561b5975a56f4cf94030495d61$3a2f6aac26351e2257428550a553c4c1979594e36675bbd3db692442387728c0\", \":getblockcount,\", \"s7R4nG3R7H1nGZ\"],\n+            # Test overwrite\n+            [\"strangedude4\", \"990c895760a70df83949e8278665e19a$8f0906f20431ff24cb9e7f5b5041e4943bdf2a5c02a19ef4960dcf45e72cde1c\", \":getblockcount, getbestblockhash\", \"s7R4nG3R7H1nGZ\"],\n+            [\"strangedude4\", \"990c895760a70df83949e8278665e19a$8f0906f20431ff24cb9e7f5b5041e4943bdf2a5c02a19ef4960dcf45e72cde1c\", \":getblockcount\", \"s7R4nG3R7H1nGZ\"]\n+        ]\n+        # These commands shouldn't be allowed for any user to test failures\n+        self.never_allowed = [\"getnetworkinfo\"]\n+        with open(os.path.join(get_datadir_path(self.options.tmpdir, 0), \"bitcoin.conf\"), 'a', encoding='utf8') as f:\n+            f.write(\"\\nrpcwhitelistdefault=0\\n\")\n+            for user in self.users:\n+                f.write(\"rpcauth=\" + user[0] + \":\" + user[1] + \"\\n\")\n+                f.write(\"rpcwhitelist=\" + user[0] + \":\" + user[2] + \"\\n\")\n+            # Special cases\n+            for strangedude in self.strange_users:\n+                f.write(\"rpcauth=\" + strangedude[0] + \":\" + strangedude[1] + \"\\n\")\n+                f.write(\"rpcwhitelist=\" + strangedude[0] + strangedude[2] + \"\\n\")\n+\n+\n+    def run_test(self):\n+        for user in self.users:\n+            permissions = user[2].replace(\" \", \"\").split(\",\")\n+            # Pop all empty items\n+            i = 0\n+            while i < len(permissions):\n+                if permissions[i] == '':\n+                    permissions.pop(i)\n+\n+                i += 1\n+            self.log.info(\"[\" + user[0] + \"]: Testing a permitted permission\")\n+            assert_equal(200, rpccall(self.nodes[0], user, permissions[randint(0, len(permissions) - 1)]).status)",
    "path": "test/functional/rpc_whitelist.py",
    "position": null,
    "original_position": 79,
    "commit_id": "d868d09017d055f8c5459ead943f0c01b18a25bf",
    "original_commit_id": "e3825f59dde19fb6a225eca68ea6b7b3a9ae35cb",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-11-21T17:32:31Z",
    "updated_at": "2019-12-12T19:22:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#discussion_r349222828",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17536",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349222828"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17536#discussion_r349222828"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17536"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349222828/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 79,
    "side": "RIGHT",
    "in_reply_to_id": 348762842
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349355704",
    "pull_request_review_id": 321237572,
    "id": 349355704,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTM1NTcwNA==",
    "diff_hunk": "@@ -0,0 +1,93 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+A test for RPC users with restricted permissions\n+\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+import os\n+from test_framework.util import (\n+    get_datadir_path,\n+    assert_equal,\n+    str_to_b64str\n+)\n+import http.client\n+import urllib.parse\n+from random import randint\n+\n+def rpccall(node, user, method):\n+    url = urllib.parse.urlparse(node.url)\n+    headers = {\"Authorization\": \"Basic \" + str_to_b64str('{}:{}'.format(user[0], user[3]))}\n+    conn = http.client.HTTPConnection(url.hostname, url.port)\n+    conn.connect()\n+    conn.request('POST', '/', '{\"method\": \"' + method + '\"}', headers)\n+    resp = conn.getresponse()\n+    conn.close()\n+    return resp\n+\n+\n+class RPCWhitelistTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def setup_chain(self):\n+        super().setup_chain()\n+        # 0 => Username\n+        # 1 => Password (Hashed)\n+        # 2 => Permissions\n+        # 3 => Password Plaintext\n+        self.users = [\n+            [\"user1\", \"50358aa884c841648e0700b073c32b2e$b73e95fff0748cc0b517859d2ca47d9bac1aa78231f3e48fa9222b612bd2083e\", \"getbestblockhash,getblockcount,\", \"12345\"],\n+            [\"user2\", \"8650ba41296f62092377a38547f361de$4620db7ba063ef4e2f7249853e9f3c5c3592a9619a759e3e6f1c63f2e22f1d21\", \"getblockcount\", \"54321\"]\n+        ]\n+        # For exceptions\n+        self.strange_users = [\n+            # Test empty\n+            [\"strangedude\", \"62d67dffec03836edd698314f1b2be62$c2fb4be29bb0e3646298661123cf2d8629640979cabc268ef05ea613ab54068d\", \":\", \"s7R4nG3R7H1nGZ\"],\n+            [\"strangedude2\", \"575c012c7fe4b1e83b9d809412da3ef7$09f448d0acfc19924dd62ecb96004d3c2d4b91f471030dfe43c6ea64a8f658c1\", \"\", \"s7R4nG3R7H1nGZ\"],\n+            # Test trailing comma\n+            [\"strangedude3\", \"23189c561b5975a56f4cf94030495d61$3a2f6aac26351e2257428550a553c4c1979594e36675bbd3db692442387728c0\", \":getblockcount,\", \"s7R4nG3R7H1nGZ\"],\n+            # Test overwrite\n+            [\"strangedude4\", \"990c895760a70df83949e8278665e19a$8f0906f20431ff24cb9e7f5b5041e4943bdf2a5c02a19ef4960dcf45e72cde1c\", \":getblockcount, getbestblockhash\", \"s7R4nG3R7H1nGZ\"],\n+            [\"strangedude4\", \"990c895760a70df83949e8278665e19a$8f0906f20431ff24cb9e7f5b5041e4943bdf2a5c02a19ef4960dcf45e72cde1c\", \":getblockcount\", \"s7R4nG3R7H1nGZ\"]\n+        ]\n+        # These commands shouldn't be allowed for any user to test failures\n+        self.never_allowed = [\"getnetworkinfo\"]\n+        with open(os.path.join(get_datadir_path(self.options.tmpdir, 0), \"bitcoin.conf\"), 'a', encoding='utf8') as f:\n+            f.write(\"\\nrpcwhitelistdefault=0\\n\")\n+            for user in self.users:\n+                f.write(\"rpcauth=\" + user[0] + \":\" + user[1] + \"\\n\")\n+                f.write(\"rpcwhitelist=\" + user[0] + \":\" + user[2] + \"\\n\")\n+            # Special cases\n+            for strangedude in self.strange_users:\n+                f.write(\"rpcauth=\" + strangedude[0] + \":\" + strangedude[1] + \"\\n\")\n+                f.write(\"rpcwhitelist=\" + strangedude[0] + strangedude[2] + \"\\n\")\n+\n+\n+    def run_test(self):\n+        for user in self.users:\n+            permissions = user[2].replace(\" \", \"\").split(\",\")\n+            # Pop all empty items\n+            i = 0\n+            while i < len(permissions):\n+                if permissions[i] == '':\n+                    permissions.pop(i)\n+\n+                i += 1\n+            self.log.info(\"[\" + user[0] + \"]: Testing a permitted permission\")\n+            assert_equal(200, rpccall(self.nodes[0], user, permissions[randint(0, len(permissions) - 1)]).status)",
    "path": "test/functional/rpc_whitelist.py",
    "position": null,
    "original_position": 79,
    "commit_id": "d868d09017d055f8c5459ead943f0c01b18a25bf",
    "original_commit_id": "e3825f59dde19fb6a225eca68ea6b7b3a9ae35cb",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think you left a few instances lower down where you still do random :)",
    "created_at": "2019-11-21T22:43:35Z",
    "updated_at": "2019-12-12T19:22:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#discussion_r349355704",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17536",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349355704"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17536#discussion_r349355704"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17536"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349355704/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 79,
    "side": "RIGHT",
    "in_reply_to_id": 348762842
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349726069",
    "pull_request_review_id": 321719082,
    "id": 349726069,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTcyNjA2OQ==",
    "diff_hunk": "@@ -0,0 +1,93 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+A test for RPC users with restricted permissions\n+\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+import os\n+from test_framework.util import (\n+    get_datadir_path,\n+    assert_equal,\n+    str_to_b64str\n+)\n+import http.client\n+import urllib.parse\n+from random import randint\n+\n+def rpccall(node, user, method):\n+    url = urllib.parse.urlparse(node.url)\n+    headers = {\"Authorization\": \"Basic \" + str_to_b64str('{}:{}'.format(user[0], user[3]))}\n+    conn = http.client.HTTPConnection(url.hostname, url.port)\n+    conn.connect()\n+    conn.request('POST', '/', '{\"method\": \"' + method + '\"}', headers)\n+    resp = conn.getresponse()\n+    conn.close()\n+    return resp\n+\n+\n+class RPCWhitelistTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def setup_chain(self):\n+        super().setup_chain()\n+        # 0 => Username\n+        # 1 => Password (Hashed)\n+        # 2 => Permissions\n+        # 3 => Password Plaintext\n+        self.users = [\n+            [\"user1\", \"50358aa884c841648e0700b073c32b2e$b73e95fff0748cc0b517859d2ca47d9bac1aa78231f3e48fa9222b612bd2083e\", \"getbestblockhash,getblockcount,\", \"12345\"],\n+            [\"user2\", \"8650ba41296f62092377a38547f361de$4620db7ba063ef4e2f7249853e9f3c5c3592a9619a759e3e6f1c63f2e22f1d21\", \"getblockcount\", \"54321\"]\n+        ]\n+        # For exceptions\n+        self.strange_users = [\n+            # Test empty\n+            [\"strangedude\", \"62d67dffec03836edd698314f1b2be62$c2fb4be29bb0e3646298661123cf2d8629640979cabc268ef05ea613ab54068d\", \":\", \"s7R4nG3R7H1nGZ\"],\n+            [\"strangedude2\", \"575c012c7fe4b1e83b9d809412da3ef7$09f448d0acfc19924dd62ecb96004d3c2d4b91f471030dfe43c6ea64a8f658c1\", \"\", \"s7R4nG3R7H1nGZ\"],\n+            # Test trailing comma\n+            [\"strangedude3\", \"23189c561b5975a56f4cf94030495d61$3a2f6aac26351e2257428550a553c4c1979594e36675bbd3db692442387728c0\", \":getblockcount,\", \"s7R4nG3R7H1nGZ\"],\n+            # Test overwrite\n+            [\"strangedude4\", \"990c895760a70df83949e8278665e19a$8f0906f20431ff24cb9e7f5b5041e4943bdf2a5c02a19ef4960dcf45e72cde1c\", \":getblockcount, getbestblockhash\", \"s7R4nG3R7H1nGZ\"],\n+            [\"strangedude4\", \"990c895760a70df83949e8278665e19a$8f0906f20431ff24cb9e7f5b5041e4943bdf2a5c02a19ef4960dcf45e72cde1c\", \":getblockcount\", \"s7R4nG3R7H1nGZ\"]\n+        ]\n+        # These commands shouldn't be allowed for any user to test failures\n+        self.never_allowed = [\"getnetworkinfo\"]\n+        with open(os.path.join(get_datadir_path(self.options.tmpdir, 0), \"bitcoin.conf\"), 'a', encoding='utf8') as f:\n+            f.write(\"\\nrpcwhitelistdefault=0\\n\")\n+            for user in self.users:\n+                f.write(\"rpcauth=\" + user[0] + \":\" + user[1] + \"\\n\")\n+                f.write(\"rpcwhitelist=\" + user[0] + \":\" + user[2] + \"\\n\")\n+            # Special cases\n+            for strangedude in self.strange_users:\n+                f.write(\"rpcauth=\" + strangedude[0] + \":\" + strangedude[1] + \"\\n\")\n+                f.write(\"rpcwhitelist=\" + strangedude[0] + strangedude[2] + \"\\n\")\n+\n+\n+    def run_test(self):\n+        for user in self.users:\n+            permissions = user[2].replace(\" \", \"\").split(\",\")\n+            # Pop all empty items\n+            i = 0\n+            while i < len(permissions):\n+                if permissions[i] == '':\n+                    permissions.pop(i)\n+\n+                i += 1\n+            self.log.info(\"[\" + user[0] + \"]: Testing a permitted permission\")\n+            assert_equal(200, rpccall(self.nodes[0], user, permissions[randint(0, len(permissions) - 1)]).status)",
    "path": "test/functional/rpc_whitelist.py",
    "position": null,
    "original_position": 79,
    "commit_id": "d868d09017d055f8c5459ead943f0c01b18a25bf",
    "original_commit_id": "e3825f59dde19fb6a225eca68ea6b7b3a9ae35cb",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oh right, forgot the strange tests",
    "created_at": "2019-11-22T18:09:56Z",
    "updated_at": "2019-12-12T19:22:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#discussion_r349726069",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17536",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349726069"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17536#discussion_r349726069"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17536"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349726069/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 79,
    "side": "RIGHT",
    "in_reply_to_id": 348762842
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349741147",
    "pull_request_review_id": 321739013,
    "id": 349741147,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTc0MTE0Nw==",
    "diff_hunk": "@@ -0,0 +1,93 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+A test for RPC users with restricted permissions\n+\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+import os\n+from test_framework.util import (\n+    get_datadir_path,\n+    assert_equal,\n+    str_to_b64str\n+)\n+import http.client\n+import urllib.parse\n+from random import randint\n+\n+def rpccall(node, user, method):\n+    url = urllib.parse.urlparse(node.url)\n+    headers = {\"Authorization\": \"Basic \" + str_to_b64str('{}:{}'.format(user[0], user[3]))}\n+    conn = http.client.HTTPConnection(url.hostname, url.port)\n+    conn.connect()\n+    conn.request('POST', '/', '{\"method\": \"' + method + '\"}', headers)\n+    resp = conn.getresponse()\n+    conn.close()\n+    return resp\n+\n+\n+class RPCWhitelistTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def setup_chain(self):\n+        super().setup_chain()\n+        # 0 => Username\n+        # 1 => Password (Hashed)\n+        # 2 => Permissions\n+        # 3 => Password Plaintext\n+        self.users = [\n+            [\"user1\", \"50358aa884c841648e0700b073c32b2e$b73e95fff0748cc0b517859d2ca47d9bac1aa78231f3e48fa9222b612bd2083e\", \"getbestblockhash,getblockcount,\", \"12345\"],\n+            [\"user2\", \"8650ba41296f62092377a38547f361de$4620db7ba063ef4e2f7249853e9f3c5c3592a9619a759e3e6f1c63f2e22f1d21\", \"getblockcount\", \"54321\"]\n+        ]\n+        # For exceptions\n+        self.strange_users = [\n+            # Test empty\n+            [\"strangedude\", \"62d67dffec03836edd698314f1b2be62$c2fb4be29bb0e3646298661123cf2d8629640979cabc268ef05ea613ab54068d\", \":\", \"s7R4nG3R7H1nGZ\"],\n+            [\"strangedude2\", \"575c012c7fe4b1e83b9d809412da3ef7$09f448d0acfc19924dd62ecb96004d3c2d4b91f471030dfe43c6ea64a8f658c1\", \"\", \"s7R4nG3R7H1nGZ\"],\n+            # Test trailing comma\n+            [\"strangedude3\", \"23189c561b5975a56f4cf94030495d61$3a2f6aac26351e2257428550a553c4c1979594e36675bbd3db692442387728c0\", \":getblockcount,\", \"s7R4nG3R7H1nGZ\"],\n+            # Test overwrite\n+            [\"strangedude4\", \"990c895760a70df83949e8278665e19a$8f0906f20431ff24cb9e7f5b5041e4943bdf2a5c02a19ef4960dcf45e72cde1c\", \":getblockcount, getbestblockhash\", \"s7R4nG3R7H1nGZ\"],\n+            [\"strangedude4\", \"990c895760a70df83949e8278665e19a$8f0906f20431ff24cb9e7f5b5041e4943bdf2a5c02a19ef4960dcf45e72cde1c\", \":getblockcount\", \"s7R4nG3R7H1nGZ\"]\n+        ]\n+        # These commands shouldn't be allowed for any user to test failures\n+        self.never_allowed = [\"getnetworkinfo\"]\n+        with open(os.path.join(get_datadir_path(self.options.tmpdir, 0), \"bitcoin.conf\"), 'a', encoding='utf8') as f:\n+            f.write(\"\\nrpcwhitelistdefault=0\\n\")\n+            for user in self.users:\n+                f.write(\"rpcauth=\" + user[0] + \":\" + user[1] + \"\\n\")\n+                f.write(\"rpcwhitelist=\" + user[0] + \":\" + user[2] + \"\\n\")\n+            # Special cases\n+            for strangedude in self.strange_users:\n+                f.write(\"rpcauth=\" + strangedude[0] + \":\" + strangedude[1] + \"\\n\")\n+                f.write(\"rpcwhitelist=\" + strangedude[0] + strangedude[2] + \"\\n\")\n+\n+\n+    def run_test(self):\n+        for user in self.users:\n+            permissions = user[2].replace(\" \", \"\").split(\",\")\n+            # Pop all empty items\n+            i = 0\n+            while i < len(permissions):\n+                if permissions[i] == '':\n+                    permissions.pop(i)\n+\n+                i += 1\n+            self.log.info(\"[\" + user[0] + \"]: Testing a permitted permission\")\n+            assert_equal(200, rpccall(self.nodes[0], user, permissions[randint(0, len(permissions) - 1)]).status)",
    "path": "test/functional/rpc_whitelist.py",
    "position": null,
    "original_position": 79,
    "commit_id": "d868d09017d055f8c5459ead943f0c01b18a25bf",
    "original_commit_id": "e3825f59dde19fb6a225eca68ea6b7b3a9ae35cb",
    "user": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-11-22T18:47:04Z",
    "updated_at": "2019-12-12T19:22:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17536#discussion_r349741147",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17536",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349741147"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17536#discussion_r349741147"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17536"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349741147/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 79,
    "side": "RIGHT",
    "in_reply_to_id": 348762842
  }
]