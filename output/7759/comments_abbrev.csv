paveljanik,2016-03-29T06:46:06Z,Looks like `evhttp_send_reply_chunk_with_cb` is new in libevent 2.1 which is in alpha as of now.\n,https://github.com/bitcoin/bitcoin/pull/7759#issuecomment-202742336,202742336,
laanwj,2016-03-29T07:08:17Z,> Looks like evhttp_send_reply_chunk_with_cb is new in libevent 2.1 which is in alpha as of now.\n\nWeird. What good is a chunk function if you have no clue if the data was sent. I'll take a look.\n,https://github.com/bitcoin/bitcoin/pull/7759#issuecomment-202748693,202748693,
sipa,2016-06-02T15:05:34Z,"It seems the last stable release of libevent (2.0.22) was 2.5 years, though the master branch is being updated still. Do we want for libevent 2.1 for this, or find another way?\n",https://github.com/bitcoin/bitcoin/pull/7759#issuecomment-223320514,223320514,
laanwj,2016-06-09T08:20:21Z,"> It seems the last stable release of libevent (2.0.22) was 2.5 years, though the master branch is being updated still. Do we want for libevent 2.1 for this, or find another way?\n\nYes, libevent version management is like that, unfortunately.\n\nI'd tend to include a newer libevent in depends, then disable the functionality when building with older libevent.\n\nThis will be too late for 0.13. Let",https://github.com/bitcoin/bitcoin/pull/7759#issuecomment-224829768,224829768,
laanwj,2016-09-28T15:25:33Z,"Rebased, updated for boost-removal from `httpserver.h`\n",https://github.com/bitcoin/bitcoin/pull/7759#issuecomment-250201362,250201362,
laanwj,2016-10-18T19:14:48Z,Closing this. I think it was a nice experiement but I don't expect to get around to it again in the near future.\nIf anyone needs this functionality feel free to pick it up.\n,https://github.com/bitcoin/bitcoin/pull/7759#issuecomment-254609646,254609646,
sipa,2016-10-18T19:17:37Z,:(\n,https://github.com/bitcoin/bitcoin/pull/7759#issuecomment-254610416,254610416,
laanwj,2017-12-06T13:44:12Z,"For anyone thinking about picking this up:\n\nThe good news here is that libevent 2.1 is out of alpha, and is stable as of 2.1.7 at this moment.\n\nThe bad news is that it might be impossible to stream reliably using libevent's http server. At least it's mentioned as one of the motivations for the [libevhtp](https://github.com/criticalstack/libevhtp) replacement:\n\n> As far as I know, strea",https://github.com/bitcoin/bitcoin/pull/7759#issuecomment-349643350,349643350,
NathanFrench,2017-12-07T11:19:03Z,"I will be happy to assist with any migration issues to libevhtp if this project decides to go this route.\n\nCheers!",https://github.com/bitcoin/bitcoin/pull/7759#issuecomment-349938608,349938608,
jonasschnelli,2016-09-28T15:29:52Z,I guess this requires libevent2.1 (depends package is still on 2.0.x IIRC)\n,https://github.com/bitcoin/bitcoin/pull/7759#discussion_r80945645,80945645,src/httpserver.cpp
jonasschnelli,2016-09-28T15:31:20Z,Sorry.. that was already discussed.\n,https://github.com/bitcoin/bitcoin/pull/7759#discussion_r80946043,80946043,src/httpserver.cpp
laanwj,2016-09-28T15:41:11Z,"Yes, I need to find exactly what version this was introduce in and guard the streaming stuff with `#if LIBEVENT_VERSION_NUMBER >= 0x0201XXXX`. I think it can only be supported for newer libevent .\n",https://github.com/bitcoin/bitcoin/pull/7759#discussion_r80948558,80948558,src/httpserver.cpp
laanwj,2016-09-28T15:54:36Z,"For reference, the commit that introduced `evhttp_send_reply_chunk_with_cb` https://github.com/libevent/libevent/commit/8d8decf114aebf10188cfdf52a8479cd24d1e3e5 , first appearing in version 0x02010401 is from **2009**, and that's still the beta branch. I'm getting a bit concerned about libevent's release process.\n",https://github.com/bitcoin/bitcoin/pull/7759#discussion_r80951853,80951853,src/httpserver.cpp
jgarzik,2016-09-29T01:05:03Z,"RE libevent release process -- several projects are feeling the limits of libevent http support, and moving to https://github.com/ellzey/libevhtp\n\nI had to do that in one project, in order to support streaming chunked http downloads.\n\nlibevent's http was really written for simple app servers with small replies.\n",https://github.com/bitcoin/bitcoin/pull/7759#discussion_r81048873,81048873,src/httpserver.cpp
laanwj,2016-09-29T07:29:23Z,"I know of that project, but I'd prefer to avoid adding another dependency. It can be considered if there is really no other way out, but it seems to me that chunked downloads can be done with that function.\n",https://github.com/bitcoin/bitcoin/pull/7759#discussion_r81078629,81078629,src/httpserver.cpp
