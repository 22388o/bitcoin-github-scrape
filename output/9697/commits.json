[
  {
    "sha": "fbf385cc830df2aec7cdcbab0c2b09b46569e8c1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYmYzODVjYzgzMGRmMmFlYzdjZGNiYWIwYzJiMDliNDY1NjllOGMx",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-02-03T21:04:39Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-05-11T13:27:04Z"
      },
      "message": "[Qt] simple fee bumper with user verification",
      "tree": {
        "sha": "82d308f1ac0bc8eddb4dbbf07da2ff3b971f8d25",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/82d308f1ac0bc8eddb4dbbf07da2ff3b971f8d25"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAlkUZqgACgkQHrd2uwPH\nki13yg/8Dhm4Ywze8Jqh0t/4pPSyCMXBhCjb9RQr57fJfk7cTiaaBtyCr8Na/MLN\nIg/fEWuEMbhUwP0QpuniKup06kaM2yZYX+RVO6879xhnI1wjUt8+DM8YmFwoqKZB\nk7Zral1mgxZhKAWhqJq4PawAn1LMMqECdVdgBk1dmEoAaPgl6lCgxYkJbcJa8wJP\nxMpNKfMnTQfyTEi5sE2OAO6635VAn9h/8kZuaUWCBXPHMUBYnPFCcow/RRDJWp6y\n7+63nnKlCM52AkzTrflTH3lxf1ncO4s3cGUi22KMKItUWIHDuJgMwP56CjdvsvRQ\n6jPD6BPbsvv/ZJY7D+7vjMbKj2JLm6KktEemfoKFBDJByfqroO0UN+1GSFepkT+w\nZ/sH2iM1GHwlmWWUiWw9BYPL5Jh7x9kJmIYoiZzySYFDq57WTOAS+tUERiNVVmf1\nKbP5L/sVGcwkNuVOCPRAWZBj6p73Pgp4H+Wf3p/LSubxYPLXNQPNGWP9zOmbFCWZ\nctOboHxpyZCPLWb+3OYRJSmT0TIwfleVKM6PnwvZzGKc9IXxm5pTr9V5qTELP+7Y\nY7gXoTaCrVydUOA/3fWDi7xwaZzkuHC9uMfAH6hpYX12bnqRgdy33oKIGJNEhpE+\nSvOKqpgF8V3QSLA5R9WLr8MYaZcG+Mc9CuO94QDvqidI+g9w53A=\n=X4NI\n-----END PGP SIGNATURE-----",
        "payload": "tree 82d308f1ac0bc8eddb4dbbf07da2ff3b971f8d25\nparent 7f2b9e0868f5759187e63df4f2cbd5f4fc9c81d7\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1486155879 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1494509224 +0200\n\n[Qt] simple fee bumper with user verification\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7f2b9e0868f5759187e63df4f2cbd5f4fc9c81d7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7f2b9e0868f5759187e63df4f2cbd5f4fc9c81d7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7f2b9e0868f5759187e63df4f2cbd5f4fc9c81d7"
      }
    ],
    "stats": {
      "total": 102,
      "additions": 98,
      "deletions": 4
    },
    "files": [
      {
        "sha": "8dcb0fd016d7c406e4f5b22c9715bce6a0344adc",
        "filename": "src/qt/sendcoinsdialog.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1/src/qt/sendcoinsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1/src/qt/sendcoinsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsdialog.cpp?ref=fbf385cc830df2aec7cdcbab0c2b09b46569e8c1",
        "patch": "@@ -31,8 +31,6 @@\n #include <QTextDocument>\n #include <QTimer>\n \n-#define SEND_CONFIRM_DELAY   3\n-\n SendCoinsDialog::SendCoinsDialog(const PlatformStyle *_platformStyle, QWidget *parent) :\n     QDialog(parent),\n     ui(new Ui::SendCoinsDialog),"
      },
      {
        "sha": "a932f129bed7a78d4ba7d405df89ee752f4d1353",
        "filename": "src/qt/sendcoinsdialog.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1/src/qt/sendcoinsdialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1/src/qt/sendcoinsdialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsdialog.h?ref=fbf385cc830df2aec7cdcbab0c2b09b46569e8c1",
        "patch": "@@ -100,13 +100,14 @@ private Q_SLOTS:\n };\n \n \n+#define SEND_CONFIRM_DELAY   3\n \n class SendConfirmationDialog : public QMessageBox\n {\n     Q_OBJECT\n \n public:\n-    SendConfirmationDialog(const QString &title, const QString &text, int secDelay = 0, QWidget *parent = 0);\n+    SendConfirmationDialog(const QString &title, const QString &text, int secDelay = SEND_CONFIRM_DELAY, QWidget *parent = 0);\n     int exec();\n \n private Q_SLOTS:"
      },
      {
        "sha": "af48f13c24aa92acbe7fc2b6a4b22deb40860636",
        "filename": "src/qt/transactionview.cpp",
        "status": "modified",
        "additions": 21,
        "deletions": 1,
        "changes": 22,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1/src/qt/transactionview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1/src/qt/transactionview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactionview.cpp?ref=fbf385cc830df2aec7cdcbab0c2b09b46569e8c1",
        "patch": "@@ -11,6 +11,7 @@\n #include \"guiutil.h\"\n #include \"optionsmodel.h\"\n #include \"platformstyle.h\"\n+#include \"sendcoinsdialog.h\"\n #include \"transactiondescdialog.h\"\n #include \"transactionfilterproxy.h\"\n #include \"transactionrecord.h\"\n@@ -37,7 +38,7 @@\n \n TransactionView::TransactionView(const PlatformStyle *platformStyle, QWidget *parent) :\n     QWidget(parent), model(0), transactionProxyModel(0),\n-    transactionView(0), abandonAction(0), columnResizingFixer(0)\n+    transactionView(0), abandonAction(0), bumpFeeAction(0), columnResizingFixer(0)\n {\n     // Build filter row\n     setContentsMargins(0,0,0,0);\n@@ -138,6 +139,7 @@ TransactionView::TransactionView(const PlatformStyle *platformStyle, QWidget *pa\n \n     // Actions\n     abandonAction = new QAction(tr(\"Abandon transaction\"), this);\n+    bumpFeeAction = new QAction(tr(\"Increase transaction fee\"), this);\n     QAction *copyAddressAction = new QAction(tr(\"Copy address\"), this);\n     QAction *copyLabelAction = new QAction(tr(\"Copy label\"), this);\n     QAction *copyAmountAction = new QAction(tr(\"Copy amount\"), this);\n@@ -156,6 +158,7 @@ TransactionView::TransactionView(const PlatformStyle *platformStyle, QWidget *pa\n     contextMenu->addAction(copyTxPlainText);\n     contextMenu->addAction(showDetailsAction);\n     contextMenu->addSeparator();\n+    contextMenu->addAction(bumpFeeAction);\n     contextMenu->addAction(abandonAction);\n     contextMenu->addAction(editLabelAction);\n \n@@ -173,6 +176,7 @@ TransactionView::TransactionView(const PlatformStyle *platformStyle, QWidget *pa\n     connect(view, SIGNAL(doubleClicked(QModelIndex)), this, SIGNAL(doubleClicked(QModelIndex)));\n     connect(view, SIGNAL(customContextMenuRequested(QPoint)), this, SLOT(contextualMenu(QPoint)));\n \n+    connect(bumpFeeAction, SIGNAL(triggered()), this, SLOT(bumpFee()));\n     connect(abandonAction, SIGNAL(triggered()), this, SLOT(abandonTx()));\n     connect(copyAddressAction, SIGNAL(triggered()), this, SLOT(copyAddress()));\n     connect(copyLabelAction, SIGNAL(triggered()), this, SLOT(copyLabel()));\n@@ -372,6 +376,7 @@ void TransactionView::contextualMenu(const QPoint &point)\n     uint256 hash;\n     hash.SetHex(selection.at(0).data(TransactionTableModel::TxHashRole).toString().toStdString());\n     abandonAction->setEnabled(model->transactionCanBeAbandoned(hash));\n+    bumpFeeAction->setEnabled(model->transactionSignalsRBF(hash));\n \n     if(index.isValid())\n     {\n@@ -397,6 +402,21 @@ void TransactionView::abandonTx()\n     model->getTransactionTableModel()->updateTransaction(hashQStr, CT_UPDATED, false);\n }\n \n+void TransactionView::bumpFee()\n+{\n+    if(!transactionView || !transactionView->selectionModel())\n+        return;\n+    QModelIndexList selection = transactionView->selectionModel()->selectedRows(0);\n+\n+    // get the hash from the TxHashRole (QVariant / QString)\n+    uint256 hash;\n+    QString hashQStr = selection.at(0).data(TransactionTableModel::TxHashRole).toString();\n+    hash.SetHex(hashQStr.toStdString());\n+\n+    // Bump tx fee over the walletModel\n+    model->bumpFee(hash);\n+}\n+\n void TransactionView::copyAddress()\n {\n     GUIUtil::copyEntryData(transactionView, 0, TransactionTableModel::AddressRole);"
      },
      {
        "sha": "52e57cae4cf9486d98b7e55278d5ab44b4d32098",
        "filename": "src/qt/transactionview.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1/src/qt/transactionview.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1/src/qt/transactionview.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactionview.h?ref=fbf385cc830df2aec7cdcbab0c2b09b46569e8c1",
        "patch": "@@ -76,6 +76,7 @@ class TransactionView : public QWidget\n     QDateTimeEdit *dateFrom;\n     QDateTimeEdit *dateTo;\n     QAction *abandonAction;\n+    QAction *bumpFeeAction;\n \n     QWidget *createDateRangeWidget();\n \n@@ -99,6 +100,7 @@ private Q_SLOTS:\n     void openThirdPartyTxUrl(QString url);\n     void updateWatchOnlyColumn(bool fHaveWatchOnly);\n     void abandonTx();\n+    void bumpFee();\n \n Q_SIGNALS:\n     void doubleClicked(const QModelIndex&);"
      },
      {
        "sha": "bcf8d5cab38b729851f0080ac3f27b15d9df9210",
        "filename": "src/qt/walletmodel.cpp",
        "status": "modified",
        "additions": 70,
        "deletions": 0,
        "changes": 70,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1/src/qt/walletmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1/src/qt/walletmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.cpp?ref=fbf385cc830df2aec7cdcbab0c2b09b46569e8c1",
        "patch": "@@ -8,24 +8,29 @@\n #include \"consensus/validation.h\"\n #include \"guiconstants.h\"\n #include \"guiutil.h\"\n+#include \"optionsmodel.h\"\n #include \"paymentserver.h\"\n #include \"recentrequeststablemodel.h\"\n+#include \"sendcoinsdialog.h\"\n #include \"transactiontablemodel.h\"\n \n #include \"base58.h\"\n #include \"chain.h\"\n #include \"keystore.h\"\n #include \"validation.h\"\n #include \"net.h\" // for g_connman\n+#include \"policy/rbf.h\"\n #include \"sync.h\"\n #include \"ui_interface.h\"\n #include \"util.h\" // for GetBoolArg\n+#include \"wallet/feebumper.h\"\n #include \"wallet/wallet.h\"\n #include \"wallet/walletdb.h\" // for BackupWallet\n \n #include <stdint.h>\n \n #include <QDebug>\n+#include <QMessageBox>\n #include <QSet>\n #include <QTimer>\n \n@@ -693,6 +698,71 @@ bool WalletModel::abandonTransaction(uint256 hash) const\n     return wallet->AbandonTransaction(hash);\n }\n \n+bool WalletModel::transactionSignalsRBF(uint256 hash) const\n+{\n+    LOCK2(cs_main, wallet->cs_wallet);\n+    const CWalletTx *wtx = wallet->GetWalletTx(hash);\n+    if (wtx && SignalsOptInRBF(*wtx))\n+        return true;\n+    return false;\n+}\n+\n+bool WalletModel::bumpFee(uint256 hash)\n+{\n+    std::unique_ptr<CFeeBumper> feeBump;\n+    {\n+        LOCK2(cs_main, wallet->cs_wallet);\n+        feeBump.reset(new CFeeBumper(wallet, hash, 0, false, 0, true));\n+    }\n+    if (feeBump->getResult() != BumpFeeResult::OK)\n+    {\n+        QMessageBox::critical(0, tr(\"Fee bump error\"), tr(\"Increasing transaction fee failed\") + \"<br />(\" +\n+            (feeBump->getErrors().size() ? QString::fromStdString(feeBump->getErrors()[0]) : \"\") +\")\");\n+         return false;\n+    }\n+\n+    // allow a user based fee verification\n+    QString questionString = tr(\"Do you want to increase the fee from %1 to %2\").arg(\n+                BitcoinUnits::formatHtmlWithUnit(getOptionsModel()->getDisplayUnit(), feeBump->getOldFee()),\n+                BitcoinUnits::formatHtmlWithUnit(getOptionsModel()->getDisplayUnit(), feeBump->getNewFee()));\n+    SendConfirmationDialog confirmationDialog(tr(\"Confirm fee bump\"), questionString);\n+    confirmationDialog.exec();\n+    QMessageBox::StandardButton retval = (QMessageBox::StandardButton)confirmationDialog.result();\n+\n+    // cancel sign&broadcast if users doesn't want to bump the fee\n+    if (retval != QMessageBox::Yes) {\n+        return false;\n+    }\n+\n+    WalletModel::UnlockContext ctx(requestUnlock());\n+    if(!ctx.isValid())\n+    {\n+        return false;\n+    }\n+\n+    // sign bumped transaction\n+    bool res = false;\n+    {\n+        LOCK2(cs_main, wallet->cs_wallet);\n+        res = feeBump->signTransaction(wallet);\n+    }\n+    if (!res) {\n+        QMessageBox::critical(0, tr(\"Fee bump error\"), tr(\"Can't sign transaction.\"));\n+        return false;\n+    }\n+    // commit the bumped transaction\n+    {\n+        LOCK2(cs_main, wallet->cs_wallet);\n+        res = feeBump->commit(wallet);\n+    }\n+    if(!res) {\n+        QMessageBox::critical(0, tr(\"Fee bump error\"), tr(\"Could not commit transaction\") + \"<br />(\" +\n+            QString::fromStdString(feeBump->getErrors()[0])+\")\");\n+         return false;\n+    }\n+    return true;\n+}\n+\n bool WalletModel::isWalletEnabled()\n {\n    return !GetBoolArg(\"-disablewallet\", DEFAULT_DISABLE_WALLET);"
      },
      {
        "sha": "df5acaf6840e6f6803199aca91996b51412cf6d1",
        "filename": "src/qt/walletmodel.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1/src/qt/walletmodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1/src/qt/walletmodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.h?ref=fbf385cc830df2aec7cdcbab0c2b09b46569e8c1",
        "patch": "@@ -207,6 +207,9 @@ class WalletModel : public QObject\n     bool transactionCanBeAbandoned(uint256 hash) const;\n     bool abandonTransaction(uint256 hash) const;\n \n+    bool transactionSignalsRBF(uint256 hash) const;\n+    bool bumpFee(uint256 hash);\n+\n     static bool isWalletEnabled();\n \n     bool hdEnabled() const;"
      }
    ]
  },
  {
    "sha": "2ec911f60dc89133ffcf91a6deccc2c7ddb434e6",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyZWM5MTFmNjBkYzg5MTMzZmZjZjkxYTZkZWNjYzJjN2RkYjQzNGU2",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-04-10T12:05:49Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-05-11T13:27:05Z"
      },
      "message": "Add cs_wallet lock assertion to SignTransaction()",
      "tree": {
        "sha": "e7ef2c735c64c416a5e7fbe375a5ddeba6cbf43b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e7ef2c735c64c416a5e7fbe375a5ddeba6cbf43b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2ec911f60dc89133ffcf91a6deccc2c7ddb434e6",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAlkUZqkACgkQHrd2uwPH\nki2Mlw//c8R79DmU7L+urjRYXkBXpNoUHSAM/m/c/MwfZQ+glUejzULcWrFyOBy8\nuqoRFegAx1UnglzGdYgg7iHr0wCydhfzuXfHvbd2E/EI0ds3RUMoovu6TZg2yttx\nfbqnQWSu3S1QK4MRACqeMHbn6kHzkZznCeVVLsmO4QfdLf7RYlTJrkjcfwxnmBBS\nsEwwdNYSrDVz1wvUYhX6xzcCvn+jPX/WzwGXyM20m6z5HXcHvdO/AMPvLm8/x8Jy\nwgGXVX5vipm6aF8nkgbE8V+LMBNOFddvM1BcINlecw7bmNTLfcH2LqEIr/YFWLTs\nS76kz9zKNzoTNqwiHVgnNfGzU7fyPwjRAp/SeSHrGxSWHvGNn65lkQwguyf7swoy\ndKyPShlxHEVJR49Z/nB/CbES4vABxjLUPkUtdcDRKqPCmvtjk+JzgtHborz3tEv1\nEWpG3BaUNIjASJIi9bNj5o/iFLDb840e5oBz0QI9dvSdhypMDTIVkDFGse0ZNHm5\nNUXhoIH3k/DBQAXy5z/vHWCFEPg8gb5qDp2CVS5F8aFuuUfyFZ7Kg5gibbV4PJDG\nJQS2rVEJhomgpAudk46KSINYdH6ZJlh+rVnmjwvijSjdT8LaYM67OEP6WQNS5SBj\nDlYoIe1yMkHe2UuQx5Fzbz4DCjlgBLZKy4i4b4wcWDFxDeMuVYY=\n=7qBM\n-----END PGP SIGNATURE-----",
        "payload": "tree e7ef2c735c64c416a5e7fbe375a5ddeba6cbf43b\nparent fbf385cc830df2aec7cdcbab0c2b09b46569e8c1\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1491825949 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1494509225 +0200\n\nAdd cs_wallet lock assertion to SignTransaction()\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2ec911f60dc89133ffcf91a6deccc2c7ddb434e6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2ec911f60dc89133ffcf91a6deccc2c7ddb434e6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2ec911f60dc89133ffcf91a6deccc2c7ddb434e6/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fbf385cc830df2aec7cdcbab0c2b09b46569e8c1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fbf385cc830df2aec7cdcbab0c2b09b46569e8c1"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 2,
      "deletions": 0
    },
    "files": [
      {
        "sha": "c4600446a8696f7534e7c179a7e963a941a2c995",
        "filename": "src/wallet/wallet.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2ec911f60dc89133ffcf91a6deccc2c7ddb434e6/src/wallet/wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2ec911f60dc89133ffcf91a6deccc2c7ddb434e6/src/wallet/wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.cpp?ref=2ec911f60dc89133ffcf91a6deccc2c7ddb434e6",
        "patch": "@@ -2277,6 +2277,8 @@ bool CWallet::SelectCoins(const std::vector<COutput>& vAvailableCoins, const CAm\n \n bool CWallet::SignTransaction(CMutableTransaction &tx)\n {\n+    AssertLockHeld(cs_wallet); // mapWallet\n+\n     // sign the new tx\n     CTransaction txNewConst(tx);\n     int nIn = 0;"
      }
    ]
  },
  {
    "sha": "2678d3dc63d5a47fe55a5f96de77174051536784",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyNjc4ZDNkYzYzZDVhNDdmZTU1YTVmOTZkZTc3MTc0MDUxNTM2Nzg0",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-04-26T07:55:54Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-05-11T13:27:05Z"
      },
      "message": "Show old-fee, increase a new-fee in Qt fee bumper confirmation dialog",
      "tree": {
        "sha": "4d963260a4746565202e453f96e2ac230d25a3f9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4d963260a4746565202e453f96e2ac230d25a3f9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2678d3dc63d5a47fe55a5f96de77174051536784",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAlkUZqkACgkQHrd2uwPH\nki1njhAAlGT5DLYePK8MlPUyntJwEJ3b5T8FecDvmH2P6ZMfaUdPvPcWdypuODU9\nA7ed/94YXHVR84y5ovn536p4veoGtYCaf2oqw19BEaObIsLJnf5PcB1fBTgjh9C2\nkkkqjyy+TytyM5KWysOmL/AaydJIYS0UeBfGrEkuxc+oS6qgfHAI7UL01Tywt1wl\nf/cZHA24Wuwrv8lkmC59URTFPIdJOf4hEyYsAdLygHzlAELsmiw75Qr8bnT0DnYT\n/hohKYbOkJgSuC/Kw4A3ofSKPNi9NOinuVAuPwAgrgI2UhkuSg5qniVSQctYdYSd\nqkVv2qpanFKskvEJFiGPBgtEFqL8pEYK4Ak+ibx74sbOFQPX+bXiGWp2IrOeRQgT\nzJY6cjOTsAfxRfBJ0S4i8b4oS1T1KTBMONXE5/9Sz1XToR6RivBCqzINhxXLVAFr\nn/hAuCFIa6VLwHwoGk9kznoFAK/KVLKz6ecZnFEZ84l0RlrQIaZdDt/k1v9WKcKv\n9Stcr4EDWopMfNqpobtB3qQS9yX+hk6XgL+54R8veWF/ARCQCwx8g5pGhB8KI4tG\n9sRewmn9DuXf8F8txKxIVeEv9/2ECvq/CS8nc71Xs18KgeFk0QD40UVTJDsFrQSc\nxZKPZazxctipIQZTvzU1QoM/IcY4eHibrivAac0ws2RiGR6KsTY=\n=96b/\n-----END PGP SIGNATURE-----",
        "payload": "tree 4d963260a4746565202e453f96e2ac230d25a3f9\nparent 2ec911f60dc89133ffcf91a6deccc2c7ddb434e6\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1493193354 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1494509225 +0200\n\nShow old-fee, increase a new-fee in Qt fee bumper confirmation dialog\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2678d3dc63d5a47fe55a5f96de77174051536784",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2678d3dc63d5a47fe55a5f96de77174051536784",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2678d3dc63d5a47fe55a5f96de77174051536784/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2ec911f60dc89133ffcf91a6deccc2c7ddb434e6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2ec911f60dc89133ffcf91a6deccc2c7ddb434e6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2ec911f60dc89133ffcf91a6deccc2c7ddb434e6"
      }
    ],
    "stats": {
      "total": 21,
      "additions": 18,
      "deletions": 3
    },
    "files": [
      {
        "sha": "7c0e22b89ba4c1d32b00f0547d6d75ce6334b1c1",
        "filename": "src/qt/walletmodel.cpp",
        "status": "modified",
        "additions": 18,
        "deletions": 3,
        "changes": 21,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2678d3dc63d5a47fe55a5f96de77174051536784/src/qt/walletmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2678d3dc63d5a47fe55a5f96de77174051536784/src/qt/walletmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.cpp?ref=2678d3dc63d5a47fe55a5f96de77174051536784",
        "patch": "@@ -722,9 +722,24 @@ bool WalletModel::bumpFee(uint256 hash)\n     }\n \n     // allow a user based fee verification\n-    QString questionString = tr(\"Do you want to increase the fee from %1 to %2\").arg(\n-                BitcoinUnits::formatHtmlWithUnit(getOptionsModel()->getDisplayUnit(), feeBump->getOldFee()),\n-                BitcoinUnits::formatHtmlWithUnit(getOptionsModel()->getDisplayUnit(), feeBump->getNewFee()));\n+    QString questionString = tr(\"Do you want to increase the fee?\");\n+    questionString.append(\"<br />\");\n+    CAmount oldFee = feeBump->getOldFee();\n+    CAmount newFee = feeBump->getNewFee();\n+    questionString.append(\"<table style=\\\"text-align: left;\\\">\");\n+    questionString.append(\"<tr><td>\");\n+    questionString.append(tr(\"Current fee:\"));\n+    questionString.append(\"</td><td>\");\n+    questionString.append(BitcoinUnits::formatHtmlWithUnit(getOptionsModel()->getDisplayUnit(), oldFee));\n+    questionString.append(\"</td></tr><tr><td>\");\n+    questionString.append(tr(\"Increase:\"));\n+    questionString.append(\"</td><td>\");\n+    questionString.append(BitcoinUnits::formatHtmlWithUnit(getOptionsModel()->getDisplayUnit(), newFee - oldFee));\n+    questionString.append(\"</td></tr><tr><td>\");\n+    questionString.append(tr(\"New fee:\"));\n+    questionString.append(\"</td><td>\");\n+    questionString.append(BitcoinUnits::formatHtmlWithUnit(getOptionsModel()->getDisplayUnit(), newFee));\n+    questionString.append(\"</td></tr></table>\");\n     SendConfirmationDialog confirmationDialog(tr(\"Confirm fee bump\"), questionString);\n     confirmationDialog.exec();\n     QMessageBox::StandardButton retval = (QMessageBox::StandardButton)confirmationDialog.result();"
      }
    ]
  },
  {
    "sha": "be08fc39d0343de931762eea9deb2b9115624bb8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiZTA4ZmMzOWQwMzQzZGU5MzE3NjJlZWE5ZGViMmI5MTE1NjI0YmI4",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-05-04T08:24:14Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-05-11T13:27:05Z"
      },
      "message": "Make sure we always update the table row after a bumpfee call",
      "tree": {
        "sha": "14edd7ed145cd0b44fae5840551b4ba0068957f8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/14edd7ed145cd0b44fae5840551b4ba0068957f8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/be08fc39d0343de931762eea9deb2b9115624bb8",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAlkUZqkACgkQHrd2uwPH\nki20fxAAqMB7SZuXsGd6R8mWTbOdgYoUEO2jewzdmDuEitKlRGqlOSyS6thWT3+g\nqcdda5Tpj6PhTBy4Ns83qZhYcF8pLVRukOgCevlXHf8Bu0hMflg+HI7FqHL2dve1\nsX9fl8n386N09mV9LSzFHN146UQ3ItKRRWEa7NzrYSKb+C0YfzZd58lEFjtRnyD1\nkXSxOqv6MZK5bsSwLRb+f3tZq7FJOw0DDZ26qYYuK8pUcJUmv3dewWpRTYEaJX79\nsjaxwSCa1l/dc7GFfBKcbuqn/RyrC91mcARHuTN4+3+0TNWeAxBdCDPdQl074qfW\nX/z0gKC6rDA3F4vM7gBrygwxBSIrro+J79qrKNySy1/CZ/1k9i7ocEx2fy4qGJE/\nJwpQ2jwj2MyzDTEvmUdJSnuDHEfDt/BR92fmKuVsuTcxSwoqsavD49iVu1gbM3en\nM8EwrH4btHPcPlvhZN9xMeXGL4ZhF0psekUMUIWdFLXDKdHI3qNQCtlKXje67YME\nA0g8F6EO79n61evPIGcwN8IYYDOKatnMmmb0tx2/srmA80JrwegpWDVgtpHys/AA\nHn1etD+pSlVf4iyT/tYBbpRqwp85T0jxjGhv/sOIWnelJkaSoMj8bsrVTmPY3Pvb\nXyO9xQVDn9EQsvpYdffc+AeDV4EHt/S31BC5izquVPr002k67Hg=\n=7Ena\n-----END PGP SIGNATURE-----",
        "payload": "tree 14edd7ed145cd0b44fae5840551b4ba0068957f8\nparent 2678d3dc63d5a47fe55a5f96de77174051536784\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1493886254 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1494509225 +0200\n\nMake sure we always update the table row after a bumpfee call\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/be08fc39d0343de931762eea9deb2b9115624bb8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/be08fc39d0343de931762eea9deb2b9115624bb8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/be08fc39d0343de931762eea9deb2b9115624bb8/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2678d3dc63d5a47fe55a5f96de77174051536784",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2678d3dc63d5a47fe55a5f96de77174051536784",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2678d3dc63d5a47fe55a5f96de77174051536784"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 3,
      "deletions": 0
    },
    "files": [
      {
        "sha": "4616685d3517516fb45a599ef91393c7d9fea3ee",
        "filename": "src/qt/transactionview.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/be08fc39d0343de931762eea9deb2b9115624bb8/src/qt/transactionview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/be08fc39d0343de931762eea9deb2b9115624bb8/src/qt/transactionview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactionview.cpp?ref=be08fc39d0343de931762eea9deb2b9115624bb8",
        "patch": "@@ -415,6 +415,9 @@ void TransactionView::bumpFee()\n \n     // Bump tx fee over the walletModel\n     model->bumpFee(hash);\n+\n+    // Update the table\n+    model->getTransactionTableModel()->updateTransaction(hashQStr, CT_UPDATED, false);\n }\n \n void TransactionView::copyAddress()"
      }
    ]
  },
  {
    "sha": "6ed4368f121572b4860d42d0d48007716c640608",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2ZWQ0MzY4ZjEyMTU3MmI0ODYwZDQyZDBkNDgwMDc3MTZjNjQwNjA4",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-05-11T07:33:05Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-05-11T13:27:05Z"
      },
      "message": "Make sure we use nTxConfirmTarget during Qt fee bumps",
      "tree": {
        "sha": "77e6a6c08df40e28c2bfed12be41a06fdd164471",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/77e6a6c08df40e28c2bfed12be41a06fdd164471"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6ed4368f121572b4860d42d0d48007716c640608",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAlkUZqkACgkQHrd2uwPH\nki0qUhAAwF+zpmMwCmo5QblAopBnOmHRX/9M30kie83ME8/Wg4kuWxl/TGaNn339\nLJ9adTxJw9/FNpYYfRioL1t6DhNdRzwBJOgt77JfCOJAgS2qWVj/KctOtSOWYnzM\n/YZokkNLZbmSPDGHfOkATJH1feKJl1shwFhlpvAVpagBuCL0GmTRXcP2APfreB9x\nf2zloLsQLt6kQUUTtvMJBC+c/k/sc5YYB55XYM1868s3ybiaJITrKf2ErWCCa3Bq\n8uTtOZC7qnq5ek4Wnywos2rVuiYSxQqJQegj1YMKWEI6hgFEC7SFIzV6jf2umZgL\npcOQSIzXcgbmtbKCHMIo526JjeeUUVYtrjr8pvD56S2MvyQOmJIeqxAup0xcHc0Q\naWvPB1Tf8hVTczdYnZ6FaAqwRgrEjWPg0HcUsaEI2P8cUMrFtKdy2C249G3qgWnw\ncKOEqH4G2N5z6DH8Go0kIgV/JDkBXpDtvSEfFhhbIiOKoNpBCNn7qMjG6S8502up\npqIWV9N3KP7DMWnkByx+e7JTyMOdpmeRQIMbjVwRvxOgpbbKl0scydRm8+xq1tnD\niA3/O6/kA8kzcAy0u7rRfgMFHnGxHHFhEERZniajzOILC+ppV2FaXyMevEMWgnas\n6Cm9zEqIB42Vh87awiaQ/fMAOLiXS+WkceZrCDhpVWa5OGBx6fg=\n=SIKP\n-----END PGP SIGNATURE-----",
        "payload": "tree 77e6a6c08df40e28c2bfed12be41a06fdd164471\nparent be08fc39d0343de931762eea9deb2b9115624bb8\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1494487985 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1494509225 +0200\n\nMake sure we use nTxConfirmTarget during Qt fee bumps\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6ed4368f121572b4860d42d0d48007716c640608",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6ed4368f121572b4860d42d0d48007716c640608",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6ed4368f121572b4860d42d0d48007716c640608/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "be08fc39d0343de931762eea9deb2b9115624bb8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/be08fc39d0343de931762eea9deb2b9115624bb8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/be08fc39d0343de931762eea9deb2b9115624bb8"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "37af8abb381343168a5003e62462488839e33826",
        "filename": "src/qt/walletmodel.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6ed4368f121572b4860d42d0d48007716c640608/src/qt/walletmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6ed4368f121572b4860d42d0d48007716c640608/src/qt/walletmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.cpp?ref=6ed4368f121572b4860d42d0d48007716c640608",
        "patch": "@@ -712,7 +712,7 @@ bool WalletModel::bumpFee(uint256 hash)\n     std::unique_ptr<CFeeBumper> feeBump;\n     {\n         LOCK2(cs_main, wallet->cs_wallet);\n-        feeBump.reset(new CFeeBumper(wallet, hash, 0, false, 0, true));\n+        feeBump.reset(new CFeeBumper(wallet, hash, nTxConfirmTarget, false, 0, true));\n     }\n     if (feeBump->getResult() != BumpFeeResult::OK)\n     {"
      }
    ]
  },
  {
    "sha": "9b9ca538cdf95c3a16408229772b69b0c956fbc0",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5YjljYTUzOGNkZjk1YzNhMTY0MDgyMjk3NzJiNjliMGM5NTZmYmMw",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-05-11T07:33:40Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-05-11T13:27:05Z"
      },
      "message": "Only update the transactionrecord if the fee bump has been commited",
      "tree": {
        "sha": "3c145a81c40de1a45de3da361d4a23ea406159da",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3c145a81c40de1a45de3da361d4a23ea406159da"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9b9ca538cdf95c3a16408229772b69b0c956fbc0",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAlkUZqkACgkQHrd2uwPH\nki1lOA//XQcTV9HVXpTWHWIlnuE+yURQlltSpivPaZAf5lV4qmnd1+neqKSIO3/S\n1KHgjrAVT+SiR+5YOjQIcaSkZfVZv3ovD956Ozx2MBlmKdrHjGpqS1DI99hRxE8P\nvrjnRpiUGDw68KjCETTdZdF618r8UKH1p3enNsAzV9z4v2uRpZUya8wYogOgCm9m\nb055tgOaQhNa7rg2hzaHDcIbRkLv9LTMhCYJ9J0cJCfWUek9GQYRt/i3cP68hCu8\n91a18Vxce/GQlfNQGZU1mcIEuEkxp/kJq9cQY8f0lStMLjM93OtfmMy2atlWMV06\nYhB6f97uPkLkDv8JKsLho6IsUaI2hqQifAuKckeoAFn0S/+8KYYreZYWf8poQuQB\nSpN1aZwQLBYvY0AgdRsULF9/u0omTYbpvMpk7WYgyi1dk4lmsaq7ERg7kEBTB3QZ\nFpRQYZ9+UuPDTlb1bFhIsmS/TJAtEd4zA1alRN1Q6bTuNknjsPlSfPMFpk31Y5VR\n3TqXe9Vdw3shos55EIdakw4azC3tDKgJ+T1c9YaWpyxEhK31c6KtD16q4V8hLVkE\nXmmPiWfiurQ7O399YNSNNxn2le/IPv2ZxKwcI42n7p6X+v5fugMj7sJtXjNltmT2\nzz7yr2xmCzD3cNXVn6/ryIL1TQ01+maZuQE4dtyHUN2hPEWcjbY=\n=Fhxn\n-----END PGP SIGNATURE-----",
        "payload": "tree 3c145a81c40de1a45de3da361d4a23ea406159da\nparent 6ed4368f121572b4860d42d0d48007716c640608\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1494488020 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1494509225 +0200\n\nOnly update the transactionrecord if the fee bump has been commited\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9b9ca538cdf95c3a16408229772b69b0c956fbc0",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/9b9ca538cdf95c3a16408229772b69b0c956fbc0",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9b9ca538cdf95c3a16408229772b69b0c956fbc0/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6ed4368f121572b4860d42d0d48007716c640608",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6ed4368f121572b4860d42d0d48007716c640608",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6ed4368f121572b4860d42d0d48007716c640608"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 4,
      "deletions": 4
    },
    "files": [
      {
        "sha": "9008c816347fc7f7a6be927cda7936ca633c00a5",
        "filename": "src/qt/transactionview.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9b9ca538cdf95c3a16408229772b69b0c956fbc0/src/qt/transactionview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9b9ca538cdf95c3a16408229772b69b0c956fbc0/src/qt/transactionview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactionview.cpp?ref=9b9ca538cdf95c3a16408229772b69b0c956fbc0",
        "patch": "@@ -414,10 +414,10 @@ void TransactionView::bumpFee()\n     hash.SetHex(hashQStr.toStdString());\n \n     // Bump tx fee over the walletModel\n-    model->bumpFee(hash);\n-\n-    // Update the table\n-    model->getTransactionTableModel()->updateTransaction(hashQStr, CT_UPDATED, false);\n+    if (model->bumpFee(hash)) {\n+        // Update the table\n+        model->getTransactionTableModel()->updateTransaction(hashQStr, CT_UPDATED, false);\n+    }\n }\n \n void TransactionView::copyAddress()"
      }
    ]
  },
  {
    "sha": "a38783747b1c9a9209f70204639e4efcea4193c6",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphMzg3ODM3NDdiMWM5YTkyMDlmNzAyMDQ2MzllNGVmY2VhNDE5M2M2",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-05-11T07:34:39Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2017-05-11T13:27:06Z"
      },
      "message": "Make sure we re-check the conditions of a feebump during commit",
      "tree": {
        "sha": "c383a466725d99e710f1d46c262ec23342de6c9f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c383a466725d99e710f1d46c262ec23342de6c9f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a38783747b1c9a9209f70204639e4efcea4193c6",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAlkUZqoACgkQHrd2uwPH\nki2gTw//YKV9WgztTzrNW/T0kjNbzRu/1cMAbrMcGhH+a9g6A7EmElHcZuNZvfq/\noeHDQX6imkc5GXSCd4TpHDr6i3LXSxagm792T2pZqbtxfOrX2r9/DWTJ6x4hJdyI\nxHa2zdIR3lD0FSbhaSA1qdUPWaEjRwKlrA8a2c77PGv+XMHf5l+46GKsrIhaL7wO\nH+6qD4J2IJlNTWM9V2Od7RpdG7V4PK7dWi0CK4iTuKMojweMn5oHvxGLQnAIfiQD\n5FoRRTmJTA8VuqmX8iwDWPnppZEHX60DAzQaQXUv5sQ6gFV+YXDQCW6KXpfstGDg\nCYL8PKH11ETUvgyVnIUIFVI43EJTbj6ASRuI5EsPG3UY6K0BHQ6BEtubL7kZIgA0\nyK8FiLT02u01d/LMasgGd8tlPMZ9v6NftVeBET4khYrWj97rT2MIRxP87MVqvdZu\nY82TAOSHwVgSspuh+Wi3RQ+f842O17XW/SdYA0iu3qX18WyRryBvPvNsYqZ6UAzq\n24zpU3Sl7E/npkTS2UruLPdeX9eYEns1wAThJavjXMu+cC3P+V5Q8L94t/R4QRB6\nu7pMmHcQHASgz14+2/ryXVTSfsm3ymhf3YNcFZ7/W8Jzc+pcoPAo+aSGcwdkHoQZ\ndKfMNEm2OWcNOADyavtImbLA1LwOiqjW7m/chMFNr6yyUY5jIO4=\n=Lekp\n-----END PGP SIGNATURE-----",
        "payload": "tree c383a466725d99e710f1d46c262ec23342de6c9f\nparent 9b9ca538cdf95c3a16408229772b69b0c956fbc0\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1494488079 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1494509226 +0200\n\nMake sure we re-check the conditions of a feebump during commit\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a38783747b1c9a9209f70204639e4efcea4193c6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a38783747b1c9a9209f70204639e4efcea4193c6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a38783747b1c9a9209f70204639e4efcea4193c6/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "9b9ca538cdf95c3a16408229772b69b0c956fbc0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9b9ca538cdf95c3a16408229772b69b0c956fbc0",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/9b9ca538cdf95c3a16408229772b69b0c956fbc0"
      }
    ],
    "stats": {
      "total": 53,
      "additions": 34,
      "deletions": 19
    },
    "files": [
      {
        "sha": "c10a9eccd93a2c93015ee907507311652eab7f28",
        "filename": "src/wallet/feebumper.cpp",
        "status": "modified",
        "additions": 31,
        "deletions": 19,
        "changes": 50,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a38783747b1c9a9209f70204639e4efcea4193c6/src/wallet/feebumper.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a38783747b1c9a9209f70204639e4efcea4193c6/src/wallet/feebumper.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/feebumper.cpp?ref=a38783747b1c9a9209f70204639e4efcea4193c6",
        "patch": "@@ -41,6 +41,31 @@ int64_t CalculateMaximumSignedTxSize(const CTransaction &tx, const CWallet *pWal\n     return GetVirtualTransactionSize(txNew);\n }\n \n+bool CFeeBumper::preconditionChecks(const CWallet *pWallet, const CWalletTx& wtx) {\n+    if (pWallet->HasWalletSpend(wtx.GetHash())) {\n+        vErrors.push_back(\"Transaction has descendants in the wallet\");\n+        currentResult = BumpFeeResult::INVALID_PARAMETER;\n+        return false;\n+    }\n+\n+    {\n+        LOCK(mempool.cs);\n+        auto it_mp = mempool.mapTx.find(wtx.GetHash());\n+        if (it_mp != mempool.mapTx.end() && it_mp->GetCountWithDescendants() > 1) {\n+            vErrors.push_back(\"Transaction has descendants in the mempool\");\n+            currentResult = BumpFeeResult::INVALID_PARAMETER;\n+            return false;\n+        }\n+    }\n+\n+    if (wtx.GetDepthInMainChain() != 0) {\n+        vErrors.push_back(\"Transaction has been mined, or is conflicted with a mined transaction\");\n+        currentResult = BumpFeeResult::WALLET_ERROR;\n+        return false;\n+    }\n+    return true;\n+}\n+\n CFeeBumper::CFeeBumper(const CWallet *pWallet, const uint256 txidIn, int newConfirmTarget, bool specifiedConfirmTarget, CAmount totalFee, bool newTxReplaceable)\n     :\n     txid(std::move(txidIn)),\n@@ -58,25 +83,7 @@ CFeeBumper::CFeeBumper(const CWallet *pWallet, const uint256 txidIn, int newConf\n     auto it = pWallet->mapWallet.find(txid);\n     const CWalletTx& wtx = it->second;\n \n-    if (pWallet->HasWalletSpend(txid)) {\n-        vErrors.push_back(\"Transaction has descendants in the wallet\");\n-        currentResult = BumpFeeResult::INVALID_PARAMETER;\n-        return;\n-    }\n-\n-    {\n-        LOCK(mempool.cs);\n-        auto it_mp = mempool.mapTx.find(txid);\n-        if (it_mp != mempool.mapTx.end() && it_mp->GetCountWithDescendants() > 1) {\n-            vErrors.push_back(\"Transaction has descendants in the mempool\");\n-            currentResult = BumpFeeResult::INVALID_PARAMETER;\n-            return;\n-        }\n-    }\n-\n-    if (wtx.GetDepthInMainChain() != 0) {\n-        vErrors.push_back(\"Transaction has been mined, or is conflicted with a mined transaction\");\n-        currentResult = BumpFeeResult::WALLET_ERROR;\n+    if (!preconditionChecks(pWallet, wtx)) {\n         return;\n     }\n \n@@ -248,6 +255,11 @@ bool CFeeBumper::commit(CWallet *pWallet)\n     }\n     CWalletTx& oldWtx = pWallet->mapWallet[txid];\n \n+    // make sure the transaction still has no descendants and hasen't been mined in the meantime\n+    if (!preconditionChecks(pWallet, oldWtx)) {\n+        return false;\n+    }\n+\n     CWalletTx wtxBumped(pWallet, MakeTransactionRef(std::move(mtx)));\n     // commit/broadcast the tx\n     CReserveKey reservekey(pWallet);"
      },
      {
        "sha": "f40d05da28eeb9adfc4e99024f6d0b1f5376f18c",
        "filename": "src/wallet/feebumper.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a38783747b1c9a9209f70204639e4efcea4193c6/src/wallet/feebumper.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a38783747b1c9a9209f70204639e4efcea4193c6/src/wallet/feebumper.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/feebumper.h?ref=a38783747b1c9a9209f70204639e4efcea4193c6",
        "patch": "@@ -8,6 +8,7 @@\n #include <primitives/transaction.h>\n \n class CWallet;\n+class CWalletTx;\n class uint256;\n \n enum class BumpFeeResult\n@@ -44,6 +45,8 @@ class CFeeBumper\n     bool commit(CWallet *pWalletNonConst);\n \n private:\n+    bool preconditionChecks(const CWallet *pWallet, const CWalletTx& wtx);\n+\n     const uint256 txid;\n     uint256 bumpedTxid;\n     CMutableTransaction mtx;"
      }
    ]
  }
]