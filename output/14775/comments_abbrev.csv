gmaxwell,2018-11-21T05:12:49Z,"Erp. You look correct to me.\n\nutACK.",https://github.com/bitcoin/bitcoin/pull/14775#issuecomment-440533400,440533400,
kallewoof,2018-11-21T05:20:38Z,"I'm not sure. If all addresses are invalid, you will go into an infinite loop with `continue;`. Note that there are multiple while loops going on here.",https://github.com/bitcoin/bitcoin/pull/14775#issuecomment-440534688,440534688,
dooglus,2018-11-21T05:27:11Z,I'm by no means sure either. The infinite loop can be fixed by moving the `nTries++` and `if (nTries > 100)` test up to the top of the inner loop.,https://github.com/bitcoin/bitcoin/pull/14775#issuecomment-440535731,440535731,
kallewoof,2018-11-21T05:40:27Z,"The relevant commit for this change appears to be https://github.com/bitcoin/bitcoin/commit/5fee401fe14aa6459428a26a82f764db70a6a0b9 by @sipa. Maybe he can shed light on the matter (though it was in 2012).\n\nOn line 1402-1402, this is removed:\n```C++\nif (!addr.IsIPv4() || !addr.IsValid() || setConnected.count(addr.GetGroup()))	\n    continue;\n```\nand (line 1351-1352) this is added:\n`",https://github.com/bitcoin/bitcoin/pull/14775#issuecomment-440538074,440538074,
MarcoFalke,2018-11-22T19:18:46Z,Looks like this change will eat all CPU. Would be nice to have a test to accompany this refactoring and ensure coverage or (in case it is a bugfix) a test that fails on current master and passes with this fix.,https://github.com/bitcoin/bitcoin/pull/14775#issuecomment-441107056,441107056,
laanwj,2019-01-08T15:38:23Z,Discussion here kind of died out,https://github.com/bitcoin/bitcoin/pull/14775#issuecomment-452342927,452342927,
sipa,2019-01-08T15:50:18Z,"I'm pretty sure this PR is wrong. `continue` could be used, but then at least `nTries` would need to be incremented.\n\nI also believe the original choice to restart the outer loop in this case was by design, but I don't remember what it was.",https://github.com/bitcoin/bitcoin/pull/14775#issuecomment-452347513,452347513,
theuni,2019-01-08T23:18:10Z,"Agree with @sipa. I also can't recall the historical reasoning. It's very possible that that reasoning no longer applies with the new features that have been added over the years.\n\nThe selection algorithm has been tweaked enough times, IMO it'd be nice to dissect and document the current behavior before changing anything. It's not exactly clear, and I suspect there are several areas for improv",https://github.com/bitcoin/bitcoin/pull/14775#issuecomment-452487167,452487167,
MarcoFalke,2019-02-26T22:01:17Z,"No activity after the pull was opened. Closing for now, let me know when you want to work on this again.",https://github.com/bitcoin/bitcoin/pull/14775#issuecomment-467631956,467631956,
DrahtBot,2019-02-26T22:21:03Z,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15486](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15486.html) ([net] Allow feeler connections to go to the",https://github.com/bitcoin/bitcoin/pull/14775#issuecomment-467638154,467638154,
promag,2018-11-21T13:46:44Z,"By breaking it will jump to L1787, which is what ""restart"" means?",https://github.com/bitcoin/bitcoin/pull/14775#discussion_r235392284,235392284,src/net.cpp
