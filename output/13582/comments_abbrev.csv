fanquake,2018-07-02T07:11:15Z,"Both Windows builds failed with:\n```\nIn file included from /home/travis/build/bitcoin/bitcoin/depends/i686-w64-mingw32/share/../include/boost/thread/win32/condition_variable.hpp:9:0,\n                 from /home/travis/build/bitcoin/bitcoin/depends/i686-w64-mingw32/share/../include/boost/thread/condition_variable.hpp:14,\n                 from ./util.h:35,\n                 from ./init.h:11",https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-401692502,401692502,
Empact,2018-07-02T07:29:13Z,Renamed `ERROR` to `FATAL` to avoid windows conflict. Note this was in an enum class so seems Windows is applying an `ERROR` macro or the like.,https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-401696254,401696254,
jimpo,2018-07-02T18:12:55Z,"utACK 67ed865.\n\nNice refactor. Personally, I find the enum a bit heavy and think it would be simpler to return a bool and an additional `bool fatal_err` outparam, but I don't feel too strongly. Check in the false return case could just be\n\n```c++\nif (fShutdownRequested) {\n} else if (success) {\n} else if (fReset || fatal_err) {\n   return InitError( );\n} else {\n}\n```",https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-401889114,401889114,
Empact,2018-07-02T20:10:09Z,"Thanks for the review @jimpo. I see what you mean - switched to a boolean return, and made `fReset` an out arg as it was already being used to trigger the retry behavior, so now it can be toggled within the function to disable retry. Lmk if you have thoughts on that.",https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-401919136,401919136,
jimpo,2018-07-02T22:36:16Z,"utACK fb28c7f5cf903c0c21f823b2e179a39bd69c9549\n\nYes, I like this approach more.",https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-401958292,401958292,
Empact,2018-07-05T15:50:40Z,Rebased for #13235,https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-402768182,402768182,
laanwj,2018-07-05T16:13:59Z,Needs rebase for #13577,https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-402775457,402775457,
Empact,2018-07-06T04:17:54Z,Rebased for #13577,https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-402921043,402921043,
DrahtBot,2018-07-06T07:27:09Z,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15329](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15329.html) (Fix InitError() and InitWarning() content b",https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-402950980,402950980,
Empact,2018-07-09T03:44:48Z,"Switched to using function-try-block. If people aren't into that, maybe we should discourage them in the developer-notes?\nhttps://en.cppreference.com/w/cpp/language/function-try-block",https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-403351599,403351599,
promag,2018-07-09T08:45:10Z,"Travis failed with unrelated error, restarted.\n\nRegarding function-try-block I'm -0 if the reasoning is just to save one level of indentation in the function body.",https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-403405653,403405653,
Empact,2018-07-09T14:59:38Z,"Yeah, on second thought, switched back to regular try/catch. The framing of the function body and the consistent treatment help with the reading of the function IMO.",https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-403509243,403509243,
promag,2018-07-16T22:54:34Z,utACK a2dbe2a.,https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-405405889,405405889,
MarcoFalke,2018-09-07T18:18:20Z,"Locally I get:\n\n```\n  CXX      libbitcoin_server_a-init.o\ninit.cpp:1252:14: warning: calling function 'LoadBlockIndex' requires holding mutex 'cs_main' exclusively [-Wthread-safety-analysis]\n        if (!LoadBlockIndex(chainparams)) {\n             ^\n1 warning generated.\n```\n\nLet's see what travis says",https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-419524001,419524001,
Empact,2018-09-10T21:06:13Z,@MarcoFalke rebased and added the lock declaration to `AppInitLoadBlockIndex`,https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-420061001,420061001,
scravy,2018-09-10T21:31:20Z,Concept ACK,https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-420068177,420068177,
Empact,2018-11-10T19:16:43Z,Rebased for #14437,https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-437612738,437612738,
Empact,2018-11-10T22:49:09Z,Appveyor failure looks unrelated,https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-437627805,437627805,
Empact,2019-01-17T12:51:14Z,Reworked to minimize ` git diff --color-moved=dimmed_zebra --color-moved-ws=allow-indentation-change head^`. Now is a minimal extraction.,https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-455161227,455161227,
Empact,2019-03-09T15:30:34Z,Rebase for #15402,https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-471189452,471189452,
Empact,2019-05-17T19:06:56Z,Rebased,https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-493565679,493565679,
DrahtBot,2019-05-20T08:33:19Z,<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase,https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-493890249,493890249,
Empact,2019-05-28T21:12:34Z,Closing as rebasing this is too much a chore. :P,https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-496691932,496691932,
l2a5b1,2018-07-08T21:06:55Z,"I really like this refactor, but I wanted to comment briefly on the `try` block.\n\nI suspect that you kept the `try` block to keep things simple, but alternatively you can also use a _function try-block_ if you like the notational convenience that it provides. \n\nA function try-block will save one level of indentation in the function body, which could be nice with a function body of this siz",https://github.com/bitcoin/bitcoin/pull/13582#discussion_r200853935,200853935,src/init.cpp
Empact,2018-07-09T03:36:23Z,"Wow, TIL. Read up on them and I'm into it. If this is accepted, this will be the first use of function-try-block in the codebase. :P",https://github.com/bitcoin/bitcoin/pull/13582#discussion_r200874500,200874500,src/init.cpp
Empact,2018-07-09T22:59:40Z,Switched back as per https://github.com/bitcoin/bitcoin/pull/13582#issuecomment-403509243,https://github.com/bitcoin/bitcoin/pull/13582#discussion_r201173388,201173388,src/init.cpp
jb55,2019-05-18T14:36:33Z,"was this added? I don't see it in the original block. not saying it's wrong, but just wondering.",https://github.com/bitcoin/bitcoin/pull/13582#discussion_r285344533,285344533,src/init.cpp
Empact,2019-05-28T21:12:16Z,It's that way because there were 2 ways to exit the prior codeblock: `break` and `return`. This is special handling for the one `return` case.,https://github.com/bitcoin/bitcoin/pull/13582#discussion_r288304424,288304424,src/init.cpp
