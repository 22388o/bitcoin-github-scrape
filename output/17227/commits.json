[
  {
    "sha": "ebfb10cb75adb704418d08197681c1e742e63bd5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplYmZiMTBjYjc1YWRiNzA0NDE4ZDA4MTk3NjgxYzFlNzQyZTYzYmQ1",
    "commit": {
      "author": {
        "name": "Igor Cota",
        "email": "igor@openbook.hr",
        "date": "2020-08-28T09:09:58Z"
      },
      "committer": {
        "name": "Igor Cota",
        "email": "igor@openbook.hr",
        "date": "2021-03-21T21:33:27Z"
      },
      "message": "Qt: add Android packaging support\n\nIntroduce an android directory under qt and allow one to package bitcoin-qt for Android by running make apk.\nAdd bitcoin-qt Android build instructions.",
      "tree": {
        "sha": "8260d1138285ca49119ebad91f079a77cd487d99",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8260d1138285ca49119ebad91f079a77cd487d99"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ebfb10cb75adb704418d08197681c1e742e63bd5",
      "comment_count": 1,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ebfb10cb75adb704418d08197681c1e742e63bd5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ebfb10cb75adb704418d08197681c1e742e63bd5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ebfb10cb75adb704418d08197681c1e742e63bd5/comments",
    "author": {
      "login": "icota",
      "id": 762502,
      "node_id": "MDQ6VXNlcjc2MjUwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/icota",
      "html_url": "https://github.com/icota",
      "followers_url": "https://api.github.com/users/icota/followers",
      "following_url": "https://api.github.com/users/icota/following{/other_user}",
      "gists_url": "https://api.github.com/users/icota/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/icota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/icota/subscriptions",
      "organizations_url": "https://api.github.com/users/icota/orgs",
      "repos_url": "https://api.github.com/users/icota/repos",
      "events_url": "https://api.github.com/users/icota/events{/privacy}",
      "received_events_url": "https://api.github.com/users/icota/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "icota",
      "id": 762502,
      "node_id": "MDQ6VXNlcjc2MjUwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/icota",
      "html_url": "https://github.com/icota",
      "followers_url": "https://api.github.com/users/icota/followers",
      "following_url": "https://api.github.com/users/icota/following{/other_user}",
      "gists_url": "https://api.github.com/users/icota/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/icota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/icota/subscriptions",
      "organizations_url": "https://api.github.com/users/icota/orgs",
      "repos_url": "https://api.github.com/users/icota/repos",
      "events_url": "https://api.github.com/users/icota/events{/privacy}",
      "received_events_url": "https://api.github.com/users/icota/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d2a78ee9288e4d3bace9125bcfae6b7747f85982",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d2a78ee9288e4d3bace9125bcfae6b7747f85982",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d2a78ee9288e4d3bace9125bcfae6b7747f85982"
      }
    ],
    "stats": {
      "total": 174,
      "additions": 174,
      "deletions": 0
    },
    "files": [
      {
        "sha": "1b06035815742bdcc726d47bcfc7bd31b44f93b6",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 16,
        "deletions": 0,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=ebfb10cb75adb704418d08197681c1e742e63bd5",
        "patch": "@@ -734,6 +734,21 @@ case $host in\n    *android*)\n      dnl make sure android stays above linux for hosts like *linux-android*\n      TARGET_OS=android\n+     case $host in\n+       *x86_64*)\n+          ANDROID_ARCH=x86_64\n+          ;;\n+        *aarch64*)\n+          ANDROID_ARCH=arm64-v8a\n+          ;;\n+        *armv7a*)\n+          ANDROID_ARCH=armeabi-v7a\n+          ;;\n+        *i686*)\n+          ANDROID_ARCH=i686\n+          ;;\n+        *) AC_MSG_ERROR(\"Could not determine Android arch\") ;;\n+      esac\n      ;;\n    *linux*)\n      TARGET_OS=linux\n@@ -1844,6 +1859,7 @@ AC_SUBST(HAVE_BUILTIN_PREFETCH)\n AC_SUBST(HAVE_MM_PREFETCH)\n AC_SUBST(HAVE_STRONG_GETAUXVAL)\n AC_SUBST(HAVE_WEAK_GETAUXVAL)\n+AC_SUBST(ANDROID_ARCH)\n AC_CONFIG_FILES([Makefile src/Makefile doc/man/Makefile share/setup.nsi share/qt/Info.plist test/config.ini])\n AC_CONFIG_FILES([contrib/devtools/split-debug.sh],[chmod +x contrib/devtools/split-debug.sh])\n AM_COND_IF([HAVE_DOXYGEN], [AC_CONFIG_FILES([doc/Doxyfile])])"
      },
      {
        "sha": "f32600d009d92982fd91cbe4cbf7b3b9b32ffe94",
        "filename": "doc/README.md",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/doc/README.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/doc/README.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/README.md?ref=ebfb10cb75adb704418d08197681c1e742e63bd5",
        "patch": "@@ -44,6 +44,7 @@ The following are developer notes on how to build Bitcoin Core on your native pl\n - [FreeBSD Build Notes](build-freebsd.md)\n - [OpenBSD Build Notes](build-openbsd.md)\n - [NetBSD Build Notes](build-netbsd.md)\n+- [Android Build Notes](build-android.md)\n - [Gitian Building Guide (External Link)](https://github.com/bitcoin-core/docs/blob/master/gitian-building.md)\n \n Development"
      },
      {
        "sha": "7a8a9e6a653e403003126d6800707394f20bf879",
        "filename": "doc/build-android.md",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/doc/build-android.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/doc/build-android.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/build-android.md?ref=ebfb10cb75adb704418d08197681c1e742e63bd5",
        "patch": "@@ -0,0 +1,12 @@\n+ANDROID BUILD NOTES\n+======================\n+\n+This guide describes how to build and package the `bitcoin-qt` GUI for Android on Linux and macOS.\n+\n+## Preparation\n+\n+You will need to get the Android NDK and build dependencies for Android as described in [depends/README.md](../depends/README.md).\n+\n+## Building and packaging\n+\n+After the depends are built configure with one of the resulting prefixes and run `make && make apk` in `src/qt`.\n\\ No newline at end of file"
      },
      {
        "sha": "399a8430efdfee3e507f3e91fc31f1db49fc03cb",
        "filename": "src/Makefile.qt.include",
        "status": "modified",
        "additions": 14,
        "deletions": 0,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/src/Makefile.qt.include",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/src/Makefile.qt.include",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.qt.include?ref=ebfb10cb75adb704418d08197681c1e742e63bd5",
        "patch": "@@ -378,6 +378,20 @@ bitcoin_qt_clean: FORCE\n \n bitcoin_qt : qt/bitcoin-qt$(EXEEXT)\n \n+APK_LIB_DIR = qt/android/libs/$(ANDROID_ARCH)\n+QT_BASE_PATH = $(shell find ../depends/sources/ -maxdepth 1 -type f -regex \".*qtbase.*\\.tar.xz\")\n+QT_BASE_TLD = $(shell tar tf $(QT_BASE_PATH) --exclude='*/*')\n+\n+bitcoin_qt_apk: FORCE\n+\tmkdir -p $(APK_LIB_DIR)\n+\tcp $(dir $(CC))../sysroot/usr/lib/$(host_alias)/libc++_shared.so $(APK_LIB_DIR)\n+\ttar xf $(QT_BASE_PATH) -C qt/android/src/ $(QT_BASE_TLD)src/android/jar/src --strip-components=5\n+\ttar xf $(QT_BASE_PATH) -C qt/android/src/ $(QT_BASE_TLD)src/android/java/src --strip-components=5\n+\ttar xf $(QT_BASE_PATH) -C qt/android/res/ $(QT_BASE_TLD)src/android/java/res --strip-components=5\n+\tcp qt/bitcoin-qt $(APK_LIB_DIR)/libbitcoin-qt.so\n+\tcd qt/android && gradle wrapper --gradle-version=6.6.1\n+\tcd qt/android && ./gradlew build\n+\n ui_%.h: %.ui\n \t@test -f $(UIC)\n \t@$(MKDIR_P) $(@D)"
      },
      {
        "sha": "3bd6199059bf09ff23bb199da92f7e7fd83e8d3a",
        "filename": "src/qt/Makefile",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/Makefile",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/Makefile",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/Makefile?ref=ebfb10cb75adb704418d08197681c1e742e63bd5",
        "patch": "@@ -7,3 +7,5 @@ check: FORCE\n \t$(MAKE) -C .. test_bitcoin_qt_check\n bitcoin-qt bitcoin-qt.exe: FORCE\n \t $(MAKE) -C .. bitcoin_qt\n+apk: FORCE\n+\t$(MAKE) -C .. bitcoin_qt_apk"
      },
      {
        "sha": "abb88fe89da94dce61118c393cea55e7888046eb",
        "filename": "src/qt/android/AndroidManifest.xml",
        "status": "added",
        "additions": 38,
        "deletions": 0,
        "changes": 38,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/AndroidManifest.xml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/AndroidManifest.xml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/android/AndroidManifest.xml?ref=ebfb10cb75adb704418d08197681c1e742e63bd5",
        "patch": "@@ -0,0 +1,38 @@\n+<?xml version='1.0' encoding='utf-8'?>\n+<manifest package=\"org.bitcoincore.qt\" xmlns:android=\"http://schemas.android.com/apk/res/android\" android:versionName=\"1.0\" android:versionCode=\"1\" android:installLocation=\"auto\">\n+    <uses-sdk android:targetSdkVersion=\"24\"/>\n+\n+    <uses-permission android:name=\"android.permission.INTERNET\" />\n+    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\n+    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\n+\n+    <uses-feature android:glEsVersion=\"0x00020000\" android:required=\"true\" />\n+\n+    <supports-screens android:largeScreens=\"true\" android:normalScreens=\"true\" android:anyDensity=\"true\" android:smallScreens=\"true\"/>\n+\n+    <application android:hardwareAccelerated=\"true\" android:name=\"org.qtproject.qt5.android.bindings.QtApplication\" android:label=\"Bitcoin Core\">\n+        <activity android:configChanges=\"orientation|uiMode|screenLayout|screenSize|smallestScreenSize|layoutDirection|locale|fontScale|keyboard|keyboardHidden|navigation|mcc|mnc|density\"\n+                  android:name=\"org.bitcoincore.qt.BitcoinQtActivity\"\n+                  android:label=\"Bitcoin Core\"\n+                  android:icon=\"@drawable/bitcoin\"\n+                  android:screenOrientation=\"unspecified\"\n+                  android:launchMode=\"singleTop\">\n+            <intent-filter>\n+                <action android:name=\"android.intent.action.MAIN\"/>\n+                <category android:name=\"android.intent.category.LAUNCHER\"/>\n+            </intent-filter>\n+\n+            <meta-data android:name=\"android.app.arguments\" android:value=\"-testnet\"/>\n+            <meta-data android:name=\"android.app.lib_name\" android:value=\"bitcoin-qt\"/>\n+            <meta-data android:name=\"android.app.repository\" android:value=\"default\"/>\n+            <meta-data android:name=\"android.app.bundle_local_qt_libs\" android:value=\"1\"/>\n+            <meta-data android:name=\"android.app.use_local_qt_libs\" android:value=\"1\"/>\n+            <meta-data android:name=\"android.app.libs_prefix\" android:value=\"/data/local/tmp/qt/\"/>\n+            <meta-data android:name=\"android.app.system_libs_prefix\" android:value=\"/system/lib/\"/>\n+            <meta-data android:name=\"android.app.background_running\" android:value=\"true\"/>\n+            <meta-data android:name=\"android.app.auto_screen_scale_factor\" android:value=\"true\"/>\n+            <meta-data android:name=\"android.app.extract_android_style\" android:value=\"default\"/>\n+    </activity>\n+\n+    </application>\n+</manifest>"
      },
      {
        "sha": "4c36e79db8fb4e530e404b3e89cf24c99c113114",
        "filename": "src/qt/android/build.gradle",
        "status": "added",
        "additions": 52,
        "deletions": 0,
        "changes": 52,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/build.gradle",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/build.gradle",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/android/build.gradle?ref=ebfb10cb75adb704418d08197681c1e742e63bd5",
        "patch": "@@ -0,0 +1,52 @@\n+buildscript {\n+    repositories {\n+        google()\n+        jcenter()\n+    }\n+\n+    dependencies {\n+        classpath 'com.android.tools.build:gradle:3.1.0'\n+    }\n+}\n+\n+repositories {\n+    google()\n+    jcenter()\n+}\n+\n+apply plugin: 'com.android.application'\n+\n+dependencies {\n+    implementation fileTree(dir: 'libs', include: ['*.jar'])\n+}\n+\n+android {\n+    compileSdkVersion androidCompileSdkVersion.toInteger()\n+\n+    buildToolsVersion androidBuildToolsVersion\n+\n+    sourceSets {\n+        main {\n+            manifest.srcFile 'AndroidManifest.xml'\n+            java.srcDirs = [qt5AndroidDir + '/src', 'src', 'java']\n+            aidl.srcDirs = [qt5AndroidDir + '/src', 'src', 'aidl']\n+            res.srcDirs = [qt5AndroidDir + '/res', 'res']\n+            resources.srcDirs = ['src']\n+            renderscript.srcDirs = ['src']\n+            assets.srcDirs = ['assets']\n+            jniLibs.srcDirs = ['libs']\n+       }\n+    }\n+\n+    lintOptions {\n+        abortOnError false\n+    }\n+\n+    dexOptions {\n+        javaMaxHeapSize '4g'\n+    }\n+\n+    defaultConfig {\n+        minSdkVersion 24\n+    }\n+}"
      },
      {
        "sha": "838870f62d81bd581c6c50406089915631c2b16c",
        "filename": "src/qt/android/gradle.properties",
        "status": "added",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/gradle.properties",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/gradle.properties",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/android/gradle.properties?ref=ebfb10cb75adb704418d08197681c1e742e63bd5",
        "patch": "@@ -0,0 +1,4 @@\n+androidBuildToolsVersion=28.0.3\n+androidCompileSdkVersion=28\n+qt5AndroidDir=new File(\".\").absolutePath\n+org.gradle.jvmargs=-Xmx4608M"
      },
      {
        "sha": "31a556a35f2a473413020c6f15b39868c0022d5d",
        "filename": "src/qt/android/res/drawable-hdpi/bitcoin.png",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/res/drawable-hdpi/bitcoin.png",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/res/drawable-hdpi/bitcoin.png",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/android/res/drawable-hdpi/bitcoin.png?ref=ebfb10cb75adb704418d08197681c1e742e63bd5"
      },
      {
        "sha": "76d80d4196cf16cdd31ecee944991a710c28d624",
        "filename": "src/qt/android/res/drawable-ldpi/bitcoin.png",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/res/drawable-ldpi/bitcoin.png",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/res/drawable-ldpi/bitcoin.png",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/android/res/drawable-ldpi/bitcoin.png?ref=ebfb10cb75adb704418d08197681c1e742e63bd5"
      },
      {
        "sha": "c2aeab851a869c38c9b2c0a3d48eb88dd47bccd7",
        "filename": "src/qt/android/res/drawable-mdpi/bitcoin.png",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/res/drawable-mdpi/bitcoin.png",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/res/drawable-mdpi/bitcoin.png",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/android/res/drawable-mdpi/bitcoin.png?ref=ebfb10cb75adb704418d08197681c1e742e63bd5"
      },
      {
        "sha": "2bd5e3defc7526329523249a740fbe5e8f6c5ec5",
        "filename": "src/qt/android/res/drawable-xhdpi/bitcoin.png",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/res/drawable-xhdpi/bitcoin.png",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/res/drawable-xhdpi/bitcoin.png",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/android/res/drawable-xhdpi/bitcoin.png?ref=ebfb10cb75adb704418d08197681c1e742e63bd5"
      },
      {
        "sha": "d236cf2132a429fe43585e374de0afe41edfb59d",
        "filename": "src/qt/android/res/drawable-xxhdpi/bitcoin.png",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/res/drawable-xxhdpi/bitcoin.png",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/res/drawable-xxhdpi/bitcoin.png",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/android/res/drawable-xxhdpi/bitcoin.png?ref=ebfb10cb75adb704418d08197681c1e742e63bd5"
      },
      {
        "sha": "bb1dbc355469143ae525d98b8f7080d2daaf5d38",
        "filename": "src/qt/android/res/drawable-xxxhdpi/bitcoin.png",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/res/drawable-xxxhdpi/bitcoin.png",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/res/drawable-xxxhdpi/bitcoin.png",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/android/res/drawable-xxxhdpi/bitcoin.png?ref=ebfb10cb75adb704418d08197681c1e742e63bd5"
      },
      {
        "sha": "cf3b4f66680c5d36da6d280a62dbfbf2d3a411af",
        "filename": "src/qt/android/src/org/bitcoincore/qt/BitcoinQtActivity.java",
        "status": "added",
        "additions": 29,
        "deletions": 0,
        "changes": 29,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/src/org/bitcoincore/qt/BitcoinQtActivity.java",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/android/src/org/bitcoincore/qt/BitcoinQtActivity.java",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/android/src/org/bitcoincore/qt/BitcoinQtActivity.java?ref=ebfb10cb75adb704418d08197681c1e742e63bd5",
        "patch": "@@ -0,0 +1,29 @@\n+package org.bitcoincore.qt;\n+\n+import android.os.Bundle;\n+import android.system.ErrnoException;\n+import android.system.Os;\n+\n+import org.qtproject.qt5.android.bindings.QtActivity;\n+\n+import java.io.File;\n+\n+public class BitcoinQtActivity extends QtActivity\n+{\n+    @Override\n+    public void onCreate(Bundle savedInstanceState)\n+    {\n+        final File bitcoinDir = new File(getFilesDir().getAbsolutePath() + \"/.bitcoin\");\n+        if (!bitcoinDir.exists()) {\n+            bitcoinDir.mkdir();\n+        }\n+\n+        try {\n+            Os.setenv(\"QT_QPA_PLATFORM\", \"android\", true);\n+        } catch (ErrnoException e) {\n+            e.printStackTrace();\n+        }\n+\n+        super.onCreate(savedInstanceState);\n+    }\n+}"
      },
      {
        "sha": "fc6d0febc2d66223da095cbcab2e1dbb96bc8b86",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ebfb10cb75adb704418d08197681c1e742e63bd5/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=ebfb10cb75adb704418d08197681c1e742e63bd5",
        "patch": "@@ -466,6 +466,12 @@ int GuiMain(int argc, char* argv[])\n     QApplication::setAttribute(Qt::AA_UseHighDpiPixmaps);\n     QCoreApplication::setAttribute(Qt::AA_EnableHighDpiScaling);\n \n+#if defined(QT_QPA_PLATFORM_ANDROID)\n+    QApplication::setAttribute(Qt::AA_DontUseNativeMenuBar);\n+    QApplication::setAttribute(Qt::AA_DontCreateNativeWidgetSiblings);\n+    QApplication::setAttribute(Qt::AA_DontUseNativeDialogs);\n+#endif\n+\n     BitcoinApplication app;\n     QFontDatabase::addApplicationFont(\":/fonts/monospace\");\n "
      }
    ]
  },
  {
    "sha": "7563720e30a3052b7ee390f1b3d2874856fd073a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3NTYzNzIwZTMwYTMwNTJiN2VlMzkwZjFiM2QyODc0ODU2ZmQwNzNh",
    "commit": {
      "author": {
        "name": "Igor Cota",
        "email": "igor@openbook.hr",
        "date": "2020-08-28T09:11:39Z"
      },
      "committer": {
        "name": "Igor Cota",
        "email": "igor@openbook.hr",
        "date": "2021-03-21T21:33:35Z"
      },
      "message": "CI: add Android APK build script",
      "tree": {
        "sha": "1a8c4eb4238a60450c86a51784064fc3b20464fd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1a8c4eb4238a60450c86a51784064fc3b20464fd"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7563720e30a3052b7ee390f1b3d2874856fd073a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7563720e30a3052b7ee390f1b3d2874856fd073a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7563720e30a3052b7ee390f1b3d2874856fd073a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7563720e30a3052b7ee390f1b3d2874856fd073a/comments",
    "author": {
      "login": "icota",
      "id": 762502,
      "node_id": "MDQ6VXNlcjc2MjUwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/icota",
      "html_url": "https://github.com/icota",
      "followers_url": "https://api.github.com/users/icota/followers",
      "following_url": "https://api.github.com/users/icota/following{/other_user}",
      "gists_url": "https://api.github.com/users/icota/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/icota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/icota/subscriptions",
      "organizations_url": "https://api.github.com/users/icota/orgs",
      "repos_url": "https://api.github.com/users/icota/repos",
      "events_url": "https://api.github.com/users/icota/events{/privacy}",
      "received_events_url": "https://api.github.com/users/icota/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "icota",
      "id": 762502,
      "node_id": "MDQ6VXNlcjc2MjUwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/icota",
      "html_url": "https://github.com/icota",
      "followers_url": "https://api.github.com/users/icota/followers",
      "following_url": "https://api.github.com/users/icota/following{/other_user}",
      "gists_url": "https://api.github.com/users/icota/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/icota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/icota/subscriptions",
      "organizations_url": "https://api.github.com/users/icota/orgs",
      "repos_url": "https://api.github.com/users/icota/repos",
      "events_url": "https://api.github.com/users/icota/events{/privacy}",
      "received_events_url": "https://api.github.com/users/icota/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ebfb10cb75adb704418d08197681c1e742e63bd5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ebfb10cb75adb704418d08197681c1e742e63bd5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ebfb10cb75adb704418d08197681c1e742e63bd5"
      }
    ],
    "stats": {
      "total": 39,
      "additions": 39,
      "deletions": 0
    },
    "files": [
      {
        "sha": "8b872faec5c8a8cff56b8b24b08f3d7885f475e4",
        "filename": "ci/test/00_setup_env_android.sh",
        "status": "added",
        "additions": 17,
        "deletions": 0,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7563720e30a3052b7ee390f1b3d2874856fd073a/ci/test/00_setup_env_android.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7563720e30a3052b7ee390f1b3d2874856fd073a/ci/test/00_setup_env_android.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_android.sh?ref=7563720e30a3052b7ee390f1b3d2874856fd073a",
        "patch": "@@ -0,0 +1,17 @@\n+#!/usr/bin/env bash\n+#\n+# Copyright (c) 2019-2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+export LC_ALL=C.UTF-8\n+\n+export CONTAINER_NAME=ci_android\n+export PACKAGES=\"clang llvm unzip openjdk-8-jdk gradle\"\n+\n+export ANDROID_API_LEVEL=28\n+export ANDROID_BUILD_TOOLS_VERSION=28.0.3\n+export ANDROID_NDK_VERSION=21.1.6352462\n+export ANDROID_TOOLS_URL=https://dl.google.com/android/repository/commandlinetools-linux-6609375_latest.zip\n+\n+export BITCOIN_CONFIG=\"--disable-ccache\"\n\\ No newline at end of file"
      },
      {
        "sha": "3bfeb2d67fe5bc9bcfced22adae568446af002f9",
        "filename": "ci/test/05_before_script.sh",
        "status": "modified",
        "additions": 14,
        "deletions": 0,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7563720e30a3052b7ee390f1b3d2874856fd073a/ci/test/05_before_script.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7563720e30a3052b7ee390f1b3d2874856fd073a/ci/test/05_before_script.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/05_before_script.sh?ref=7563720e30a3052b7ee390f1b3d2874856fd073a",
        "patch": "@@ -22,6 +22,20 @@ if [ -n \"$XCODE_VERSION\" ] && [ ! -f \"$OSX_SDK_PATH\" ]; then\n   DOCKER_EXEC curl --location --fail \"${SDK_URL}/${OSX_SDK_BASENAME}\" -o \"$OSX_SDK_PATH\"\n fi\n \n+if [ -n \"$ANDROID_TOOLS_URL\" ]; then\n+  ANDROID_TOOLS_PATH=$DEPENDS_DIR/sdk-sources/android-tools.zip\n+  ANDROID_HOME=\"$DEPENDS_DIR\"/SDKs/android\n+  ANDROID_NDK_HOME=${ANDROID_HOME}/ndk/${ANDROID_NDK_VERSION}\n+\n+  DOCKER_EXEC curl --location --fail \"${ANDROID_TOOLS_URL}\" -o \"$ANDROID_TOOLS_PATH\"\n+  DOCKER_EXEC mkdir -p \"${ANDROID_HOME}/cmdline-tools\"\n+  DOCKER_EXEC unzip -o \"$ANDROID_TOOLS_PATH\" -d \"${ANDROID_HOME}/cmdline-tools\"\n+  DOCKER_EXEC \"yes | ${ANDROID_HOME}/cmdline-tools/tools/bin/sdkmanager --install \\\"build-tools;${ANDROID_BUILD_TOOLS_VERSION}\\\" \\\"platform-tools\\\" \\\"platforms;android-${ANDROID_API_LEVEL}\\\" \\\"ndk;${ANDROID_NDK_VERSION}\\\"\"\n+\n+  MAKE_COMMAND=\"ANDROID_SDK=${ANDROID_HOME} ANDROID_NDK=${ANDROID_NDK_HOME} make $MAKEJOBS -C depends HOST=aarch64-linux-android ANDROID_API_LEVEL=${ANDROID_API_LEVEL} ANDROID_TOOLCHAIN_BIN=${ANDROID_HOME}/ndk/${ANDROID_NDK_VERSION}/toolchains/llvm/prebuilt/linux-x86_64/bin/ $DEP_OPTS\"\n+  DOCKER_EXEC \"$MAKE_COMMAND\" HOST=aarch64-linux-android\n+fi\n+\n if [[ ${USE_MEMORY_SANITIZER} == \"true\" ]]; then\n   # Use BDB compiled using install_db4.sh script to work around linking issue when using BDB\n   # from depends. See https://github.com/bitcoin/bitcoin/pull/18288#discussion_r433189350 for"
      },
      {
        "sha": "a42cd6cee1430ae5f13ec9162d06c2b15f6c9606",
        "filename": "ci/test/06_script_a.sh",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7563720e30a3052b7ee390f1b3d2874856fd073a/ci/test/06_script_a.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7563720e30a3052b7ee390f1b3d2874856fd073a/ci/test/06_script_a.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/06_script_a.sh?ref=7563720e30a3052b7ee390f1b3d2874856fd073a",
        "patch": "@@ -6,6 +6,14 @@\n \n export LC_ALL=C.UTF-8\n \n+if [ -n \"$ANDROID_TOOLS_URL\" ]; then\n+  DOCKER_EXEC make distclean || true\n+  DOCKER_EXEC ./autogen.sh\n+  DOCKER_EXEC ./configure $BITCOIN_CONFIG --prefix=$DEPENDS_DIR/aarch64-linux-android || ( (DOCKER_EXEC cat config.log) && false)\n+  DOCKER_EXEC \"cd src/qt && make $MAKEJOBS && ANDROID_HOME=${ANDROID_HOME} ANDROID_NDK_HOME=${ANDROID_NDK_HOME} make apk\"\n+  exit 0\n+fi\n+\n BITCOIN_CONFIG_ALL=\"--enable-suppress-external-warnings --disable-dependency-tracking --prefix=$DEPENDS_DIR/$HOST --bindir=$BASE_OUTDIR/bin --libdir=$BASE_OUTDIR/lib\"\n if [ -z \"$NO_WERROR\" ]; then\n   BITCOIN_CONFIG_ALL=\"${BITCOIN_CONFIG_ALL} --enable-werror\""
      }
    ]
  },
  {
    "sha": "ba46adaa1abd51798394b5bad3799021adc237d2",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYTQ2YWRhYTFhYmQ1MTc5ODM5NGI1YmFkMzc5OTAyMWFkYzIzN2Qy",
    "commit": {
      "author": {
        "name": "Igor Cota",
        "email": "igor@openbook.hr",
        "date": "2020-11-10T06:57:35Z"
      },
      "committer": {
        "name": "Igor Cota",
        "email": "igor@openbook.hr",
        "date": "2021-03-21T21:33:35Z"
      },
      "message": "CI: add Android APK build to cirrus",
      "tree": {
        "sha": "80e843e7f0d777381a1336f466a2fa9d27d3ec0a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/80e843e7f0d777381a1336f466a2fa9d27d3ec0a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ba46adaa1abd51798394b5bad3799021adc237d2",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ba46adaa1abd51798394b5bad3799021adc237d2",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ba46adaa1abd51798394b5bad3799021adc237d2",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ba46adaa1abd51798394b5bad3799021adc237d2/comments",
    "author": {
      "login": "icota",
      "id": 762502,
      "node_id": "MDQ6VXNlcjc2MjUwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/icota",
      "html_url": "https://github.com/icota",
      "followers_url": "https://api.github.com/users/icota/followers",
      "following_url": "https://api.github.com/users/icota/following{/other_user}",
      "gists_url": "https://api.github.com/users/icota/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/icota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/icota/subscriptions",
      "organizations_url": "https://api.github.com/users/icota/orgs",
      "repos_url": "https://api.github.com/users/icota/repos",
      "events_url": "https://api.github.com/users/icota/events{/privacy}",
      "received_events_url": "https://api.github.com/users/icota/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "icota",
      "id": 762502,
      "node_id": "MDQ6VXNlcjc2MjUwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/icota",
      "html_url": "https://github.com/icota",
      "followers_url": "https://api.github.com/users/icota/followers",
      "following_url": "https://api.github.com/users/icota/following{/other_user}",
      "gists_url": "https://api.github.com/users/icota/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/icota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/icota/subscriptions",
      "organizations_url": "https://api.github.com/users/icota/orgs",
      "repos_url": "https://api.github.com/users/icota/repos",
      "events_url": "https://api.github.com/users/icota/events{/privacy}",
      "received_events_url": "https://api.github.com/users/icota/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7563720e30a3052b7ee390f1b3d2874856fd073a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7563720e30a3052b7ee390f1b3d2874856fd073a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7563720e30a3052b7ee390f1b3d2874856fd073a"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 8,
      "deletions": 0
    },
    "files": [
      {
        "sha": "e881e587bffed73d54ae5d9e5dd626bfeff07b80",
        "filename": ".cirrus.yml",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ba46adaa1abd51798394b5bad3799021adc237d2/.cirrus.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ba46adaa1abd51798394b5bad3799021adc237d2/.cirrus.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.cirrus.yml?ref=ba46adaa1abd51798394b5bad3799021adc237d2",
        "patch": "@@ -180,3 +180,11 @@ task:\n     CI_USE_APT_INSTALL: \"no\"\n     PACKAGE_MANAGER_INSTALL: \"echo\"  # Nothing to do\n     FILE_ENV: \"./ci/test/00_setup_env_mac_host.sh\"\n+\n+task:\n+  name: 'ARM64 Android APK [bionic]'\n+  << : *GLOBAL_TASK_TEMPLATE\n+  container:\n+    image: ubuntu:bionic\n+  env:\n+    FILE_ENV: \"./ci/test/00_setup_env_android.sh\""
      }
    ]
  },
  {
    "sha": "8e7ad4146d55f472e3d1dacaabb6b7dee704a896",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4ZTdhZDQxNDZkNTVmNDcyZTNkMWRhY2FhYmI2YjdkZWU3MDRhODk2",
    "commit": {
      "author": {
        "name": "Igor Cota",
        "email": "igor@openbook.hr",
        "date": "2021-03-21T15:48:49Z"
      },
      "committer": {
        "name": "Igor Cota",
        "email": "igor@openbook.hr",
        "date": "2021-03-21T21:33:35Z"
      },
      "message": "depends: disable Qt Vulkan support on Android",
      "tree": {
        "sha": "dcf1f02234fb70f901c546377205f1e0ec2576e8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dcf1f02234fb70f901c546377205f1e0ec2576e8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8e7ad4146d55f472e3d1dacaabb6b7dee704a896",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8e7ad4146d55f472e3d1dacaabb6b7dee704a896",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8e7ad4146d55f472e3d1dacaabb6b7dee704a896",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8e7ad4146d55f472e3d1dacaabb6b7dee704a896/comments",
    "author": {
      "login": "icota",
      "id": 762502,
      "node_id": "MDQ6VXNlcjc2MjUwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/icota",
      "html_url": "https://github.com/icota",
      "followers_url": "https://api.github.com/users/icota/followers",
      "following_url": "https://api.github.com/users/icota/following{/other_user}",
      "gists_url": "https://api.github.com/users/icota/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/icota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/icota/subscriptions",
      "organizations_url": "https://api.github.com/users/icota/orgs",
      "repos_url": "https://api.github.com/users/icota/repos",
      "events_url": "https://api.github.com/users/icota/events{/privacy}",
      "received_events_url": "https://api.github.com/users/icota/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "icota",
      "id": 762502,
      "node_id": "MDQ6VXNlcjc2MjUwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/icota",
      "html_url": "https://github.com/icota",
      "followers_url": "https://api.github.com/users/icota/followers",
      "following_url": "https://api.github.com/users/icota/following{/other_user}",
      "gists_url": "https://api.github.com/users/icota/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/icota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/icota/subscriptions",
      "organizations_url": "https://api.github.com/users/icota/orgs",
      "repos_url": "https://api.github.com/users/icota/repos",
      "events_url": "https://api.github.com/users/icota/events{/privacy}",
      "received_events_url": "https://api.github.com/users/icota/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ba46adaa1abd51798394b5bad3799021adc237d2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ba46adaa1abd51798394b5bad3799021adc237d2",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ba46adaa1abd51798394b5bad3799021adc237d2"
      }
    ],
    "stats": {
      "total": 1,
      "additions": 1,
      "deletions": 0
    },
    "files": [
      {
        "sha": "100cf3b2e52ee8b093c5d37a2288d3df7568d1cf",
        "filename": "depends/packages/qt.mk",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8e7ad4146d55f472e3d1dacaabb6b7dee704a896/depends/packages/qt.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8e7ad4146d55f472e3d1dacaabb6b7dee704a896/depends/packages/qt.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/qt.mk?ref=8e7ad4146d55f472e3d1dacaabb6b7dee704a896",
        "patch": "@@ -164,6 +164,7 @@ $(package)_config_opts_android += -no-fontconfig\n $(package)_config_opts_android += -L $(host_prefix)/lib\n $(package)_config_opts_android += -I $(host_prefix)/include\n $(package)_config_opts_android += -pch\n+$(package)_config_opts_android += -no-feature-vulkan\n \n $(package)_config_opts_aarch64_android += -android-arch arm64-v8a\n $(package)_config_opts_armv7a_android += -android-arch armeabi-v7a"
      }
    ]
  },
  {
    "sha": "246774e26459cb3652e308880abdd140e8e9d204",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyNDY3NzRlMjY0NTljYjM2NTJlMzA4ODgwYWJkZDE0MGU4ZTlkMjA0",
    "commit": {
      "author": {
        "name": "Igor Cota",
        "email": "igor@openbook.hr",
        "date": "2021-03-21T15:50:25Z"
      },
      "committer": {
        "name": "Igor Cota",
        "email": "igor@openbook.hr",
        "date": "2021-03-21T21:33:35Z"
      },
      "message": "depends: fix Qt precompiled headers bug\n\nFixed in 5.14, see QTBUG-85214",
      "tree": {
        "sha": "57588c76696ae6566f742f59dddfa9e9c6073a29",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/57588c76696ae6566f742f59dddfa9e9c6073a29"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/246774e26459cb3652e308880abdd140e8e9d204",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/246774e26459cb3652e308880abdd140e8e9d204",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/246774e26459cb3652e308880abdd140e8e9d204",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/246774e26459cb3652e308880abdd140e8e9d204/comments",
    "author": {
      "login": "icota",
      "id": 762502,
      "node_id": "MDQ6VXNlcjc2MjUwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/icota",
      "html_url": "https://github.com/icota",
      "followers_url": "https://api.github.com/users/icota/followers",
      "following_url": "https://api.github.com/users/icota/following{/other_user}",
      "gists_url": "https://api.github.com/users/icota/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/icota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/icota/subscriptions",
      "organizations_url": "https://api.github.com/users/icota/orgs",
      "repos_url": "https://api.github.com/users/icota/repos",
      "events_url": "https://api.github.com/users/icota/events{/privacy}",
      "received_events_url": "https://api.github.com/users/icota/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "icota",
      "id": 762502,
      "node_id": "MDQ6VXNlcjc2MjUwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/icota",
      "html_url": "https://github.com/icota",
      "followers_url": "https://api.github.com/users/icota/followers",
      "following_url": "https://api.github.com/users/icota/following{/other_user}",
      "gists_url": "https://api.github.com/users/icota/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/icota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/icota/subscriptions",
      "organizations_url": "https://api.github.com/users/icota/orgs",
      "repos_url": "https://api.github.com/users/icota/repos",
      "events_url": "https://api.github.com/users/icota/events{/privacy}",
      "received_events_url": "https://api.github.com/users/icota/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8e7ad4146d55f472e3d1dacaabb6b7dee704a896",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8e7ad4146d55f472e3d1dacaabb6b7dee704a896",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8e7ad4146d55f472e3d1dacaabb6b7dee704a896"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 12,
      "deletions": 1
    },
    "files": [
      {
        "sha": "f853aa0d7936621a146b303eb635fb6282232856",
        "filename": "depends/packages/qt.mk",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/246774e26459cb3652e308880abdd140e8e9d204/depends/packages/qt.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/246774e26459cb3652e308880abdd140e8e9d204/depends/packages/qt.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/qt.mk?ref=246774e26459cb3652e308880abdd140e8e9d204",
        "patch": "@@ -9,7 +9,7 @@ $(package)_qt_libs=corelib network widgets gui plugins testlib\n $(package)_patches=fix_qt_pkgconfig.patch mac-qmake.conf fix_no_printer.patch no-xlib.patch\n $(package)_patches+= fix_android_qmake_conf.patch fix_android_jni_static.patch dont_hardcode_pwd.patch\n $(package)_patches+= drop_lrelease_dependency.patch no_sdk_version_check.patch\n-$(package)_patches+= fix_qpainter_non_determinism.patch fix_lib_paths.patch\n+$(package)_patches+= fix_qpainter_non_determinism.patch fix_lib_paths.patch fix_android_pch.patch\n \n $(package)_qttranslations_file_name=qttranslations-$($(package)_suffix)\n $(package)_qttranslations_sha256_hash=e1de58ed108b7e0a138815ea60fd46a2c4e1fc31396a707e5630e92de79c53de\n@@ -224,6 +224,7 @@ define $(package)_preprocess_cmds\n   patch -p1 -i $($(package)_patch_dir)/fix_no_printer.patch && \\\n   patch -p1 -i $($(package)_patch_dir)/fix_android_qmake_conf.patch && \\\n   patch -p1 -i $($(package)_patch_dir)/fix_android_jni_static.patch && \\\n+  patch -p1 -i $($(package)_patch_dir)/fix_android_pch.patch && \\\n   patch -p1 -i $($(package)_patch_dir)/no-xlib.patch && \\\n   patch -p1 -i $($(package)_patch_dir)/fix_qpainter_non_determinism.patch &&\\\n   patch -p1 -i $($(package)_patch_dir)/no_sdk_version_check.patch && \\"
      },
      {
        "sha": "bed6e4bb635975e748a95c88cdb790510a0f3893",
        "filename": "depends/patches/qt/fix_android_pch.patch",
        "status": "added",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/246774e26459cb3652e308880abdd140e8e9d204/depends/patches/qt/fix_android_pch.patch",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/246774e26459cb3652e308880abdd140e8e9d204/depends/patches/qt/fix_android_pch.patch",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/patches/qt/fix_android_pch.patch?ref=246774e26459cb3652e308880abdd140e8e9d204",
        "patch": "@@ -0,0 +1,10 @@\n+--- old/qtbase/mkspecs/common/android-base-head.conf\n++++ new/qtbase/mkspecs/common/android-base-head.conf\n+@@ -73,6 +73,6 @@ CROSS_COMPILE = $$NDK_TOOLCHAIN_PATH/bin/$$NDK_TOOLS_PREFIX-\n+ QMAKE_PCH_OUTPUT_EXT    = .gch\n+\n+ QMAKE_CFLAGS_PRECOMPILE       = -x c-header -c ${QMAKE_PCH_INPUT} -o ${QMAKE_PCH_OUTPUT}\n+-QMAKE_CFLAGS_USE_PRECOMPILE   = -include ${QMAKE_PCH_OUTPUT_BASE}\n++QMAKE_CFLAGS_USE_PRECOMPILE   = -include-pch ${QMAKE_PCH_OUTPUT}\n+ QMAKE_CXXFLAGS_PRECOMPILE     = -x c++-header -c ${QMAKE_PCH_INPUT} -o ${QMAKE_PCH_OUTPUT}\n+ QMAKE_CXXFLAGS_USE_PRECOMPILE = $$QMAKE_CFLAGS_USE_PRECOMPILE"
      }
    ]
  }
]