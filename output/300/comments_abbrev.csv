TheBlueMatt,2011-06-05T23:55:49Z,"As devrandom pointed out, tor latency could be much greater than 5s.  Maybe add if (fProxy) timeout = 20s?\n",https://github.com/bitcoin/bitcoin/pull/300#issuecomment-1306428,1306428,
sipa,2011-06-06T09:09:52Z,"Maybe this can be done adaptively: start with a timeout=100ms, and each time N connection attempts have failed through time-out (and not enough connections are established), double the timeout.\n",https://github.com/bitcoin/bitcoin/pull/300#issuecomment-1308021,1308021,
jrmithdobbs,2011-06-06T17:57:19Z,I think making it a command line override option would be a better way of handling it. In general you want to avoid connecting to other nodes where your network path is that latent. That way people who have known-latent paths can manually bump the timeout but it works as expected for most users.\n,https://github.com/bitcoin/bitcoin/pull/300#issuecomment-1310748,1310748,
sipa,2011-06-06T18:59:23Z,@jrmithdobbs: good suggestion - implemented.\n,https://github.com/bitcoin/bitcoin/pull/300#issuecomment-1311072,1311072,
gavinandresen,2011-06-07T18:29:20Z,"I'd prefer removing the nConnectTimeout global variable and just calling GetArg(""-timeout"", 5000) in ConnectSocket.\n",https://github.com/bitcoin/bitcoin/pull/300#issuecomment-1319859,1319859,
phantomcircuit,2011-06-08T16:32:02Z,My name is phantomcircuit and I approve this patch.\n,https://github.com/bitcoin/bitcoin/pull/300#issuecomment-1327989,1327989,
sipa,2011-06-08T21:22:57Z,"@gavinandresen: I disagree - I don't like global variables, but doing parsing of command-line options all over the place is even worse.\n",https://github.com/bitcoin/bitcoin/pull/300#issuecomment-1329964,1329964,
jgarzik,2011-06-10T05:51:34Z,"bleh, this is overkill.\n\nUse select with timeout -- as net.cpp already does -- and eliminate that polling loop.\n\nIn all of linux/osx/winsock, you issue a non-blocking connect(2), and then select(2) the socket for writing.\n",https://github.com/bitcoin/bitcoin/pull/300#issuecomment-1339951,1339951,
jgarzik,2011-06-11T16:59:26Z,ACK final result.  Needs to be rebased though...\n,https://github.com/bitcoin/bitcoin/pull/300#issuecomment-1351925,1351925,
gavinandresen,2011-06-11T19:35:26Z,"ACK -- looks OK, but I haven't had time to compile and test.\n",https://github.com/bitcoin/bitcoin/pull/300#issuecomment-1352596,1352596,
sipa,2011-06-11T22:44:56Z,Now using select() instead of looping. Tested on Linux and Windows.\n,https://github.com/bitcoin/bitcoin/pull/300#issuecomment-1353183,1353183,
