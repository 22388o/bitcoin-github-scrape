[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426821168",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-426821168",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 426821168,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjgyMTE2OA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-03T22:11:49Z",
    "updated_at": "2019-11-22T03:45:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16688](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16688.html) (log: Add validation interface logging by jkczyz)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426821168/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426951893",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-426951893",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 426951893,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjk1MTg5Mw==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-04T09:37:15Z",
    "updated_at": "2018-10-04T09:37:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK\r\n\r\nLet's get rid of these ugly circular dependencies! :-)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426951893/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/438462230",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-438462230",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 438462230,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODQ2MjIzMA==",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?u=1b5f5e05932a2dde4d3e545ec9d827356b0f32af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-13T22:26:35Z",
    "updated_at": "2018-11-13T22:26:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased b58bbc9",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/438462230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/481634169",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-481634169",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 481634169,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MTYzNDE2OQ==",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?u=1b5f5e05932a2dde4d3e545ec9d827356b0f32af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-10T10:26:38Z",
    "updated_at": "2019-04-10T10:26:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "rebased fe6d863\r\n\r\nthanks @practicalswift for the review - fe6d863 addresses your feedback. \r\n\r\nTo answer your question https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600485: I don't think it is necessary to move the shared pointer as it is now passed by reference as per your suggestion: https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600988 . \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/481634169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/499639790",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-499639790",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 499639790,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTYzOTc5MA==",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?u=1b5f5e05932a2dde4d3e545ec9d827356b0f32af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-06T19:44:17Z",
    "updated_at": "2019-06-06T19:44:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased 35a63b2. \r\n\r\nUpdated the pull request description, since the `validation -> validationinterface -> validation` circular dependency was resolved in #16129 and removed from this pull request.\r\n\r\nTravis build error seems unrelated.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/499639790/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504743626",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-504743626",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 504743626,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDc0MzYyNg==",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?u=1b5f5e05932a2dde4d3e545ec9d827356b0f32af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-23T11:39:50Z",
    "updated_at": "2019-06-23T11:39:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased 80c3659",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504743626/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514333934",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-514333934",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 514333934,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDMzMzkzNA==",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?u=1b5f5e05932a2dde4d3e545ec9d827356b0f32af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-23T18:42:54Z",
    "updated_at": "2019-07-23T18:42:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "04390b2 addresses feedback from @MarcoFalke.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514333934/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514353212",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-514353212",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 514353212,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDM1MzIxMg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-23T19:36:56Z",
    "updated_at": "2019-07-23T19:36:56Z",
    "author_association": "MEMBER",
    "body": "Concept ACK.\r\n\r\n`TransactionRemovedFromMempool` is used to notify of removed tx, excluding txs that were already notified via `BlockConnected`. However, we will miss those notifications, if we forgot to call `RegisterWithMempoolSignals`. This happened in the unit tests (`setup_common`).\r\n\r\nThis pull fixes that and cleans up a bunch of code on the way.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514353212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514397656",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-514397656",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 514397656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDM5NzY1Ng==",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?u=1b5f5e05932a2dde4d3e545ec9d827356b0f32af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-23T21:52:03Z",
    "updated_at": "2019-07-23T21:52:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "28403ac addresses a nit (https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306480219) and updates the commit message.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514397656/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537939864",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-537939864",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 537939864,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzkzOTg2NA==",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?u=1b5f5e05932a2dde4d3e545ec9d827356b0f32af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-03T13:13:35Z",
    "updated_at": "2019-10-03T13:13:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Happy 1y anniversary! \ud83e\udd73\ud83c\udf82",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537939864/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 3,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/551912547",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-551912547",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 551912547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MTkxMjU0Nw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-08T17:12:23Z",
    "updated_at": "2019-11-08T17:12:23Z",
    "author_association": "MEMBER",
    "body": "Can we get this for 0.20, pls? Needs rebase",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/551912547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/551970576",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-551970576",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 551970576,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MTk3MDU3Ng==",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?u=1b5f5e05932a2dde4d3e545ec9d827356b0f32af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-08T20:01:53Z",
    "updated_at": "2019-11-08T20:01:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "@MarcoFalke sure, rebased 37fd92ba96224cfe11bacea069df02cead0c34e2",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/551970576/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/551975272",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-551975272",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 551975272,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MTk3NTI3Mg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-08T20:17:32Z",
    "updated_at": "2019-11-08T20:17:32Z",
    "author_association": "MEMBER",
    "body": "ACK 37fd92ba96224cfe11bacea069df02cead0c34e2",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/551975272/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552177960",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-552177960",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 552177960,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MjE3Nzk2MA==",
    "user": {
      "login": "0xB10C",
      "id": 19157360,
      "node_id": "MDQ6VXNlcjE5MTU3MzYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/19157360?u=a20996a145f1be613c7b0a57e75d36508572e29d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xB10C",
      "html_url": "https://github.com/0xB10C",
      "followers_url": "https://api.github.com/users/0xB10C/followers",
      "following_url": "https://api.github.com/users/0xB10C/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xB10C/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
      "organizations_url": "https://api.github.com/users/0xB10C/orgs",
      "repos_url": "https://api.github.com/users/0xB10C/repos",
      "events_url": "https://api.github.com/users/0xB10C/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xB10C/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-10T09:29:12Z",
    "updated_at": "2019-11-10T09:29:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552177960/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552221118",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-552221118",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 552221118,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MjIyMTExOA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-10T18:38:33Z",
    "updated_at": "2019-11-10T18:38:33Z",
    "author_association": "MEMBER",
    "body": "Concept ACK. I've skimmed the code and it looks good. Will fully review and test next week.\r\n\r\nI think a follow-up to this would be to remove the `pvtxConflicted` vector in `BlockConnected` and instead just call `TransactionRemovedFromMempool()` for conflicted transactions directly from `removeUnchecked()`. I don't see anywhere in the client code that requires the conflicted txs to be reported in the same notification as the block.\r\n\r\nDoing that would allow us to remove the `NotifyEntryRemoved` signal from `CTxMempool`, the `conflictedTxs` from the `ConnectTrace` class, and some other code clean-up in validation.cpp.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552221118/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552531970",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-552531970",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 552531970,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MjUzMTk3MA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-11T17:13:54Z",
    "updated_at": "2019-11-11T17:13:54Z",
    "author_association": "MEMBER",
    "body": "utACK 37fd92ba96224cfe11bacea069df02cead0c34e2\r\n\r\nre https://github.com/bitcoin/bitcoin/pull/14384#discussion_r344524519: On second thoughts, there's no need to change `TransationRemovedFromMempool()` to take a `MemPoolRemovalReason` as an argument. If this PR gets merged before #16688 , then that PR should just add the argument there.\r\n\r\n> I think a follow-up to this would be to remove the pvtxConflicted vector in BlockConnected \r\n\r\nI have a branch that does that here: https://github.com/jnewbery/bitcoin/tree/2019-11-remove-mempool-signals2. Will PR once this is merged.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552531970/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552586530",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-552586530",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 552586530,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MjU4NjUzMA==",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?u=1b5f5e05932a2dde4d3e545ec9d827356b0f32af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-11T19:44:49Z",
    "updated_at": "2019-11-11T19:44:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jnewbery thanks for the review! \ud83d\ude03 ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552586530/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/555146319",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-555146319",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 555146319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NTE0NjMxOQ==",
    "user": {
      "login": "jamesob",
      "id": 73197,
      "node_id": "MDQ6VXNlcjczMTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesob",
      "html_url": "https://github.com/jamesob",
      "followers_url": "https://api.github.com/users/jamesob/followers",
      "following_url": "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesob/orgs",
      "repos_url": "https://api.github.com/users/jamesob/repos",
      "events_url": "https://api.github.com/users/jamesob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesob/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-18T18:27:37Z",
    "updated_at": "2019-11-18T18:27:37Z",
    "author_association": "MEMBER",
    "body": "ACK https://github.com/bitcoin/bitcoin/pull/14384/commits/37fd92ba96224cfe11bacea069df02cead0c34e2\r\n\r\nThis is basically some helpful code-shuffling; the change removes unneeded code to absorb the `TransactionRemovedFromMempool` signal into the existing `CValidationInterface` callback registration code, and avoids including mempool-specific header files into the more general validationinterface.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/555146319/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/555153034",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-555153034",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 555153034,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NTE1MzAzNA==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-18T18:43:45Z",
    "updated_at": "2019-11-18T18:43:45Z",
    "author_association": "MEMBER",
    "body": "Concept ACK, kudos @l2a5b1 for staying with this. \r\n\r\nBuilt 37fd92ba96224cfe11bacea069df02cead0c34e2 rebased onto current master at 30521302f90e4856a7516867b32a4576fa6d98b3, tests pass, bitcoind running.\r\n\r\nNow reviewing the code.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/555153034/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/555196397",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-555196397",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 555196397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NTE5NjM5Nw==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-18T20:31:57Z",
    "updated_at": "2019-11-18T20:31:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "This isn't strictly worse, but its still super awkward....CTxMemPool is (mostly) a \"dumb datastructure\", with all the adding/removing happening in validation.cpp. Currently its double awkward cause they're signals that go back to validation so that validation can fire appropriate events, but just firing the events inside a datastructure is also really awkward. Is there an equally-easy way to move the event-firing back into validation.cpp?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/555196397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/555211783",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-555211783",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 555211783,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NTIxMTc4Mw==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-18T21:14:06Z",
    "updated_at": "2019-11-18T21:14:06Z",
    "author_association": "MEMBER",
    "body": "> Is there an equally-easy way to move the event-firing back into validation.cpp?\r\n\r\nI don't think there is. That would require that every site that validation calls a `CTxMemPool` method that could result in transactions being removed would need to be passed back a vector of transactions that it should fire the events for. A quick search shows at least the following sites would need to be updated:\r\n\r\n- validation's `UpdateMempoolForReorg()` calling into `mempool.removeRecursive()`\r\n- validation's `LimitMempoolSize()` calling into `pool.Expire()`\r\n- validation's `LimitMempoolSize()` calling into `pool.TrimToSize()`\r\n\r\nThere are probably more. I don't think those call sites have *ever* handled firing the events, and adding that functionality would be new data structures, function signatures and logic.\r\n\r\nThis seems to be a strict improvement to me. The events are being fired from exactly the same place as before, except that there's no weird indirection in the validation interface.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/555211783/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/555671349",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-555671349",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 555671349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NTY3MTM0OQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-19T19:30:10Z",
    "updated_at": "2019-11-19T19:30:10Z",
    "author_association": "MEMBER",
    "body": "Re-run ci",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/555671349/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556874021",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-556874021",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 556874021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1Njg3NDAyMQ==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-21T02:46:39Z",
    "updated_at": "2019-11-21T02:46:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Right, certainly don't interpret my comment as a NACK, then. Longer-term it would be nice, indeed, to move the event-firing into those callsites, cause the responsibility right now is very awkwardly split (hence why we're checking the reason in the first place - validation fires some similar things), but this isn't worse than master and if other PR's need this, do it!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556874021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557218626",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-557218626",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 557218626,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzIxODYyNg==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-21T18:42:19Z",
    "updated_at": "2019-11-21T18:42:19Z",
    "author_association": "MEMBER",
    "body": "argh, needs trivial rebase for the linter `test/lint/lint-circular-dependencies.sh `",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557218626/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557412006",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-557412006",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 557412006,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzQxMjAwNg==",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?u=1b5f5e05932a2dde4d3e545ec9d827356b0f32af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-22T06:43:11Z",
    "updated_at": "2019-11-22T06:43:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "> argh\r\n\r\n@laanwj lol, no worries, rebased e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557412006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557563695",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-557563695",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 557563695,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzU2MzY5NQ==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-22T14:59:48Z",
    "updated_at": "2019-11-22T14:59:48Z",
    "author_association": "MEMBER",
    "body": "ACK e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557563695/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557595429",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-557595429",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 557595429,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzU5NTQyOQ==",
    "user": {
      "login": "ariard",
      "id": 23310655,
      "node_id": "MDQ6VXNlcjIzMzEwNjU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ariard",
      "html_url": "https://github.com/ariard",
      "followers_url": "https://api.github.com/users/ariard/followers",
      "following_url": "https://api.github.com/users/ariard/following{/other_user}",
      "gists_url": "https://api.github.com/users/ariard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ariard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
      "organizations_url": "https://api.github.com/users/ariard/orgs",
      "repos_url": "https://api.github.com/users/ariard/repos",
      "events_url": "https://api.github.com/users/ariard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ariard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-22T16:16:28Z",
    "updated_at": "2019-11-22T16:16:28Z",
    "author_association": "MEMBER",
    "body": "ACK e20c72f, only rebased.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557595429/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557615822",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-557615822",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
    "id": 557615822,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzYxNTgyMg==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-22T17:13:07Z",
    "updated_at": "2019-11-22T17:13:07Z",
    "author_association": "MEMBER",
    "body": "Posthumous ACK e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557615822/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600485",
    "pull_request_review_id": 161524015,
    "id": 222600485,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjYwMDQ4NQ==",
    "diff_hunk": "@@ -334,6 +335,21 @@ CTxMemPool::CTxMemPool(CBlockPolicyEstimator* estimator) :\n     nCheckFrequency = 0;\n }\n \n+void CTxMemPool::RegisterSignals() {\n+    NotifyEntryRemoved.connect(boost::bind(&CTxMemPool::MempoolEntryRemoved, this, _1, _2));\n+}\n+\n+void CTxMemPool::UnregisterSignals() {\n+    NotifyEntryRemoved.disconnect(boost::bind(&CTxMemPool::MempoolEntryRemoved, this, _1, _2));\n+}\n+\n+void CTxMemPool::MempoolEntryRemoved(CTransactionRef ptx, MemPoolRemovalReason reason)\n+{\n+    if (reason != MemPoolRemovalReason::BLOCK && reason != MemPoolRemovalReason::CONFLICT) {\n+        GetMainSignals().TransactionRemovedFromMempool(ptx);",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 23,
    "commit_id": "e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "original_commit_id": "a60a187158eeaeaa52d0a7b16d8b56732851cd21",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Could `ptx` be moved to avoid unnecessary copies?",
    "created_at": "2018-10-04T09:35:19Z",
    "updated_at": "2019-11-21T20:30:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600485",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600485"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600485"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600485/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 341,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600742",
    "pull_request_review_id": 161524341,
    "id": 222600742,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjYwMDc0Mg==",
    "diff_hunk": "@@ -174,13 +170,10 @@ class CMainSignals {\n \n     size_t CallbacksPending();\n \n-    /** Register with mempool to call TransactionRemovedFromMempool callbacks */\n-    void RegisterWithMempoolSignals(CTxMemPool& pool);\n-    /** Unregister with mempool */\n-    void UnregisterWithMempoolSignals(CTxMemPool& pool);\n \n     void UpdatedBlockTip(const CBlockIndex *, const CBlockIndex *, bool fInitialDownload);\n     void TransactionAddedToMempool(const CTransactionRef &);\n+    void TransactionRemovedFromMempool(const CTransactionRef tx);",
    "path": "src/validationinterface.h",
    "position": null,
    "original_position": 29,
    "commit_id": "e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "original_commit_id": "a60a187158eeaeaa52d0a7b16d8b56732851cd21",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should be named `ptx` to match definition :-)",
    "created_at": "2018-10-04T09:36:08Z",
    "updated_at": "2019-11-21T20:30:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600742",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600742"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600742"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600742/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 176,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600988",
    "pull_request_review_id": 161524670,
    "id": 222600988,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjYwMDk4OA==",
    "diff_hunk": "@@ -148,6 +131,12 @@ void CMainSignals::TransactionAddedToMempool(const CTransactionRef &ptx) {\n     });\n }\n \n+void CMainSignals::TransactionRemovedFromMempool(const CTransactionRef ptx) {",
    "path": "src/validationinterface.cpp",
    "position": null,
    "original_position": 43,
    "commit_id": "e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "original_commit_id": "a60a187158eeaeaa52d0a7b16d8b56732851cd21",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Could be made `const` reference :-)",
    "created_at": "2018-10-04T09:36:56Z",
    "updated_at": "2019-11-21T20:30:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600988",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600988"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600988"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 134,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222810948",
    "pull_request_review_id": 161789549,
    "id": 222810948,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjgxMDk0OA==",
    "diff_hunk": "@@ -174,13 +170,10 @@ class CMainSignals {\n \n     size_t CallbacksPending();\n \n-    /** Register with mempool to call TransactionRemovedFromMempool callbacks */\n-    void RegisterWithMempoolSignals(CTxMemPool& pool);\n-    /** Unregister with mempool */\n-    void UnregisterWithMempoolSignals(CTxMemPool& pool);\n \n     void UpdatedBlockTip(const CBlockIndex *, const CBlockIndex *, bool fInitialDownload);\n     void TransactionAddedToMempool(const CTransactionRef &);\n+    void TransactionRemovedFromMempool(const CTransactionRef tx);",
    "path": "src/validationinterface.h",
    "position": null,
    "original_position": 29,
    "commit_id": "e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "original_commit_id": "a60a187158eeaeaa52d0a7b16d8b56732851cd21",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks @practicalswift fixed!",
    "created_at": "2018-10-04T20:10:59Z",
    "updated_at": "2019-11-21T20:30:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222810948",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222810948"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222810948"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222810948/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 176,
    "side": "RIGHT",
    "in_reply_to_id": 222600742
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/274416041",
    "pull_request_review_id": 225526475,
    "id": 274416041,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NDQxNjA0MQ==",
    "diff_hunk": "@@ -334,6 +335,21 @@ CTxMemPool::CTxMemPool(CBlockPolicyEstimator* estimator) :\n     nCheckFrequency = 0;\n }\n \n+void CTxMemPool::RegisterSignals() {\n+    NotifyEntryRemoved.connect(boost::bind(&CTxMemPool::MempoolEntryRemoved, this, _1, _2));\n+}\n+\n+void CTxMemPool::UnregisterSignals() {\n+    NotifyEntryRemoved.disconnect(boost::bind(&CTxMemPool::MempoolEntryRemoved, this, _1, _2));\n+}\n+\n+void CTxMemPool::MempoolEntryRemoved(CTransactionRef ptx, MemPoolRemovalReason reason)\n+{\n+    if (reason != MemPoolRemovalReason::BLOCK && reason != MemPoolRemovalReason::CONFLICT) {\n+        GetMainSignals().TransactionRemovedFromMempool(ptx);",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 23,
    "commit_id": "e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "original_commit_id": "a60a187158eeaeaa52d0a7b16d8b56732851cd21",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks @practicalswift. Good point. When `ptx` was passed by value I suspect we could have done that. However, per your suggestion https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600988 `ptx` is now passed by reference.",
    "created_at": "2019-04-11T13:15:45Z",
    "updated_at": "2019-11-21T20:30:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r274416041",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/274416041"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r274416041"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/274416041/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 341,
    "side": "RIGHT",
    "in_reply_to_id": 222600485
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306083129",
    "pull_request_review_id": 265117469,
    "id": 306083129,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjA4MzEyOQ==",
    "diff_hunk": "@@ -16,6 +16,12 @@\n #include <util/system.h>\n #include <util/moneystr.h>\n #include <util/time.h>\n+#include <validationinterface.h>\n+\n+// This map has to a separate global instead of a member of MainSignalsInstance,\n+// because RegisterWithMempoolSignals is currently called before RegisterBackgroundSignalScheduler,\n+// so MainSignalsInstance hasn't been created yet.\n+static std::unordered_map<CTxMemPool*, boost::signals2::scoped_connection> g_connNotifyEntryRemoved;",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 9,
    "commit_id": "e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "original_commit_id": "80c365973fdcaad96c887376bb0e06dadaadec69",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why is this not a CTxMemPool member?",
    "created_at": "2019-07-23T00:12:02Z",
    "updated_at": "2019-11-21T20:30:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306083129",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306083129"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306083129"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306083129/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 24,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306083196",
    "pull_request_review_id": 265117469,
    "id": 306083196,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjA4MzE5Ng==",
    "diff_hunk": "@@ -333,6 +339,24 @@ CTxMemPool::CTxMemPool(CBlockPolicyEstimator* estimator) :\n     nCheckFrequency = 0;\n }\n \n+void CTxMemPool::RegisterSignals() {",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "original_commit_id": "80c365973fdcaad96c887376bb0e06dadaadec69",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why can't this be called in the mempool constructor?",
    "created_at": "2019-07-23T00:12:24Z",
    "updated_at": "2019-11-21T20:30:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306083196",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306083196"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306083196"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306083196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 342,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306311431",
    "pull_request_review_id": 265398916,
    "id": 306311431,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjMxMTQzMQ==",
    "diff_hunk": "@@ -16,6 +16,12 @@\n #include <util/system.h>\n #include <util/moneystr.h>\n #include <util/time.h>\n+#include <validationinterface.h>\n+\n+// This map has to a separate global instead of a member of MainSignalsInstance,\n+// because RegisterWithMempoolSignals is currently called before RegisterBackgroundSignalScheduler,\n+// so MainSignalsInstance hasn't been created yet.\n+static std::unordered_map<CTxMemPool*, boost::signals2::scoped_connection> g_connNotifyEntryRemoved;",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 9,
    "commit_id": "e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "original_commit_id": "80c365973fdcaad96c887376bb0e06dadaadec69",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Actually, this can be removed in one go:\r\n\r\n07c8420f4ddddde7103d8a564f918389357904c9",
    "created_at": "2019-07-23T13:17:21Z",
    "updated_at": "2019-11-21T20:30:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306311431",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306311431"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306311431"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306311431/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 24,
    "side": "RIGHT",
    "in_reply_to_id": 306083129
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306474425",
    "pull_request_review_id": 265603596,
    "id": 306474425,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjQ3NDQyNQ==",
    "diff_hunk": "@@ -16,6 +16,12 @@\n #include <util/system.h>\n #include <util/moneystr.h>\n #include <util/time.h>\n+#include <validationinterface.h>\n+\n+// This map has to a separate global instead of a member of MainSignalsInstance,\n+// because RegisterWithMempoolSignals is currently called before RegisterBackgroundSignalScheduler,\n+// so MainSignalsInstance hasn't been created yet.\n+static std::unordered_map<CTxMemPool*, boost::signals2::scoped_connection> g_connNotifyEntryRemoved;",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 9,
    "commit_id": "e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "original_commit_id": "80c365973fdcaad96c887376bb0e06dadaadec69",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks @MarcoFalke! Really appreciate your feedback. Please see 04390b2.",
    "created_at": "2019-07-23T18:42:12Z",
    "updated_at": "2019-11-21T20:30:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306474425",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306474425"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306474425"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306474425/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 24,
    "side": "RIGHT",
    "in_reply_to_id": 306083129
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306480219",
    "pull_request_review_id": 265610650,
    "id": 306480219,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjQ4MDIxOQ==",
    "diff_hunk": "@@ -16,6 +16,12 @@\n #include <util/system.h>\n #include <util/moneystr.h>\n #include <util/time.h>\n+#include <validationinterface.h>\n+\n+// This map has to a separate global instead of a member of MainSignalsInstance,\n+// because RegisterWithMempoolSignals is currently called before RegisterBackgroundSignalScheduler,\n+// so MainSignalsInstance hasn't been created yet.\n+static std::unordered_map<CTxMemPool*, boost::signals2::scoped_connection> g_connNotifyEntryRemoved;",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 9,
    "commit_id": "e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "original_commit_id": "80c365973fdcaad96c887376bb0e06dadaadec69",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: Does it makes sense to remove ` CTxMemPool::EntryRemoved`'s method and move its implementation to `CTxMemPool::removeUnchecked` ?\r\n\r\n```\r\nvoid CTxMemPool::removeUnchecked(txiter it, MemPoolRemovalReason reason)\r\n{\r\n    NotifyEntryRemoved(ptx, reason);\r\n    if (reason != MemPoolRemovalReason::BLOCK && reason != MemPoolRemovalReason::CONFLICT) {\r\n        GetMainSignals().TransactionRemovedFromMempool(ptx);\r\n    }\r\n    ...\r\n}\r\n```",
    "created_at": "2019-07-23T18:55:39Z",
    "updated_at": "2019-11-21T20:30:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306480219",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306480219"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306480219"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306480219/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 24,
    "side": "RIGHT",
    "in_reply_to_id": 306083129
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306495835",
    "pull_request_review_id": 265630208,
    "id": 306495835,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjQ5NTgzNQ==",
    "diff_hunk": "@@ -16,6 +16,12 @@\n #include <util/system.h>\n #include <util/moneystr.h>\n #include <util/time.h>\n+#include <validationinterface.h>\n+\n+// This map has to a separate global instead of a member of MainSignalsInstance,\n+// because RegisterWithMempoolSignals is currently called before RegisterBackgroundSignalScheduler,\n+// so MainSignalsInstance hasn't been created yet.\n+static std::unordered_map<CTxMemPool*, boost::signals2::scoped_connection> g_connNotifyEntryRemoved;",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 9,
    "commit_id": "e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "original_commit_id": "80c365973fdcaad96c887376bb0e06dadaadec69",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> nit: Does it makes sense to remove CTxMemPool::EntryRemoved's method and move its implementation to CTxMemPool::removeUnchecked ?\r\n\r\nSure, if you wish so",
    "created_at": "2019-07-23T19:34:47Z",
    "updated_at": "2019-11-21T20:30:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306495835",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306495835"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306495835"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306495835/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 24,
    "side": "RIGHT",
    "in_reply_to_id": 306083129
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/344524519",
    "pull_request_review_id": 314651962,
    "id": 344524519,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NDUyNDUxOQ==",
    "diff_hunk": "@@ -150,6 +127,12 @@ void CMainSignals::TransactionAddedToMempool(const CTransactionRef &ptx) {\n     });\n }\n \n+void CMainSignals::TransactionRemovedFromMempool(const CTransactionRef &ptx) {",
    "path": "src/validationinterface.cpp",
    "position": 59,
    "original_position": 59,
    "commit_id": "e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "original_commit_id": "37fd92ba96224cfe11bacea069df02cead0c34e2",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can you keep the `MemPoolRemovealReason reason` as an argument to this function please? #16688 adds validation interface logging, including logging the reason for the mempool removal.\r\n\r\nI also think it makes sense for the client to be notified of the reason for the mempool reason.",
    "created_at": "2019-11-11T00:02:14Z",
    "updated_at": "2019-11-21T20:30:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r344524519",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/344524519"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r344524519"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/344524519/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 130,
    "original_line": 130,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/344816936",
    "pull_request_review_id": 315037938,
    "id": 344816936,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NDgxNjkzNg==",
    "diff_hunk": "@@ -150,6 +127,12 @@ void CMainSignals::TransactionAddedToMempool(const CTransactionRef &ptx) {\n     });\n }\n \n+void CMainSignals::TransactionRemovedFromMempool(const CTransactionRef &ptx) {",
    "path": "src/validationinterface.cpp",
    "position": 59,
    "original_position": 59,
    "commit_id": "e20c72f9f076681def325b5b5fa53bccda2b0eab",
    "original_commit_id": "37fd92ba96224cfe11bacea069df02cead0c34e2",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can be done in a follow-up, or in #16688 when this gets merged.",
    "created_at": "2019-11-11T17:14:11Z",
    "updated_at": "2019-11-21T20:30:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r344816936",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/344816936"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r344816936"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/344816936/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 130,
    "original_line": 130,
    "side": "RIGHT",
    "in_reply_to_id": 344524519
  }
]