conscott,2018-03-12T07:32:11Z,Tested ACK faed9d59a9fffa01debc41121deccfdeb28f35cb,https://github.com/bitcoin/bitcoin/pull/12643#issuecomment-372216310,372216310,
conscott,2018-03-10T23:44:23Z,"Keeping in line with #12553, preferring wait_until when possible, this whole function could just be cleaned up as\n```\ndef sync_blocks(rpc_connections, *, wait=1, timeout=60):\n    wait_until(lambda: len(set([x.getbestblockhash() for x in rpc_connections])) is 1, timeout=timeout, wait=wait)\n```\nAlthough a `wait` argument (or maybe `sleep` is a better name) needs to be added to `wait_until`",https://github.com/bitcoin/bitcoin/pull/12643#discussion_r173638599,173638599,test/functional/test_framework/util.py
conscott,2018-03-10T23:49:57Z,"Similar to the above comment, this can just be cleaned up to use `wait_util` like\n```\ndef sync_mempools(rpc_connections, *, wait=1, timeout=60, flush_scheduler=True):\n    """"""\n    Wait until everybody has the same transactions in their memory\n    pools\n    """"""\n    def equal_mempool():\n        mempool_sets = [set(r.getrawmempool()) for r in rpc_connections]\n        return mempool_s",https://github.com/bitcoin/bitcoin/pull/12643#discussion_r173638705,173638705,test/functional/test_framework/util.py
MarcoFalke,2018-03-11T20:05:01Z,"It seems that this would make it harder to print the mempools in case of an error, which seems useful to me.\n\nThough, I switched to your code suggesting `count`.",https://github.com/bitcoin/bitcoin/pull/12643#discussion_r173667481,173667481,test/functional/test_framework/util.py
conscott,2018-03-12T07:31:14Z,Makes sense,https://github.com/bitcoin/bitcoin/pull/12643#discussion_r173709552,173709552,test/functional/test_framework/util.py
promag,2018-03-13T00:10:07Z,"> I switched to your code suggesting count.\n\nNice @conscott.",https://github.com/bitcoin/bitcoin/pull/12643#discussion_r173984203,173984203,test/functional/test_framework/util.py
promag,2018-03-13T00:14:51Z,"Nit, simplification:\n```py\nstop_time = time.time() + timeout;\nwhile time.time() <= stop_time:",https://github.com/bitcoin/bitcoin/pull/12643#discussion_r173984910,173984910,test/functional/test_framework/util.py
MarcoFalke,2018-03-13T00:40:51Z,Done,https://github.com/bitcoin/bitcoin/pull/12643#discussion_r173988563,173988563,test/functional/test_framework/util.py
