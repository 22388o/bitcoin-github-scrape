kallewoof,2019-08-07 15:54:17,"Don't make pull requests into existing releases, make them into master.\n\nEdit: the maintainers pull things into the tagged release versions as appropriate. Pull requests basically always go into master, unless they are specific to some release. Yours seems like a generic fix, although I recognize the gentoo downstream issue.",https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-519158812,519158812,
candrews,2019-08-07 16:32:18,"> Don't make pull requests into existing releases, make them into master.\n\nI've rebased this on master, thank you very much in advance",https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-519173562,519173562,
MarcoFalke,2019-08-07 16:48:02,Are there steps to reproduce the bug and see that this commit fixes it?,https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-519179157,519179157,
candrews,2019-08-07 16:52:16,"> Are there steps to reproduce the bug and see that this commit fixes it?\n\nHave libevent installed so that `EVENT_SET_MEM_FUNCTIONS_IMPLEMENTED` is not defined (on Gentoo, that's done by installing `dev-libs/libevent` with the `debug` flag unset.).\nThen, build bitcoin and run the tests. You'll get this error output:\n```\n/var/tmp/portage/net-p2p/bitcoind-0.18.0-r1/work/bitcoin-2472733a24a",https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-519180660,519180660,
luke-jr,2019-08-08 01:48:01,See also #16228,https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-519330531,519330531,
MarcoFalke,2019-08-08 20:41:30,"Could you move the `#if` guard inside the boost_auto_test_case, so that the suite and test case appear only once in the file? Also, this does not compile.",https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-519679680,519679680,
laanwj,2019-08-14 13:19:39,"Agree that this is an issue and needs to be fixed, however I don't think running empty tests is the right fix to allow for conditional tests.",https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-521242381,521242381,
candrews,2019-08-14 15:02:06,I agree - I much prefer the approach taken in https://github.com/bitcoin/bitcoin/pull/16228 - perhaps that can be merged?,https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-521284650,521284650,
DrahtBot,2019-08-24 05:50:28,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-524523085,524523085,
luke-jr,2019-09-20 19:17:31,"@candrews Here's a branch that can be force-pushed over this one if you like it:\n\nhttps://github.com/bitcoin/bitcoin/compare/master...luke-jr:raii_event_test_fix-0.14\n\n(Cleanly merges to 0.14.0 through master)",https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-533678239,533678239,
candrews,2019-09-20 19:19:37,"> @candrews Here's a branch that can be force-pushed over this one if you like it:\n> \n> [master...luke-jr:raii_event_test_fix-0.14](https://github.com/bitcoin/bitcoin/compare/master...luke-jr:raii_event_test_fix-0.14)\n> \n> (Cleanly merges to 0.14.0 through master)\n\nAwesome, that looks great!",https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-533678815,533678815,
MarcoFalke,2019-10-11 21:06:19,re-run ci,https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-541224093,541224093,
laanwj,2020-02-05 15:41:45,"I'd strongly prefer a solution that doesn't run `raii_event_tests` (and potentially other test suites) when disabled based on build configuration, instead of working around it by conditionally adding empty tests.",https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-582468882,582468882,
adamjonas,2020-05-18 19:57:40,HI @candrews - bumping this to see if you'd like to continue to move this forward towards a solution that doesn't run `raii_event_tests` as [requested above](https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-582468882)?,https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-630403753,630403753,
candrews,2020-05-18 20:09:23,"> bumping this to see if you'd like to continue to move this forward towards a solution that doesn't run `raii_event_tests` as [requested above](https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-582468882)?\n\nIf someone has a suggestion as to how to do that, I'd be happy to update this PR to implement it.",https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-630409106,630409106,
luke-jr,2020-05-18 20:39:39,IMO we should just merge this until a better solution is implemented,https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-630423400,630423400,
MarcoFalke,2020-05-18 23:00:43,An alternative would be to kill xenial and use something like this: https://www.boost.org/doc/libs/1_59_0/libs/test/doc/html/boost_test/tests_organization/enabling.html,https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-630478623,630478623,
MarcoFalke,2020-05-18 23:04:48,"https://packages.debian.org/jessie/libboost-all-dev is going to die in about a month https://wiki.debian.org/DebianReleases#Production_Releases\n\nhttps://packages.ubuntu.com/xenial/libboost-all-dev is going to die in less than a year https://ubuntu.com/about/release-cycle",https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-630479866,630479866,
MarcoFalke,2020-05-18 23:11:45,"Or another alternative (if raising the minimum version of boost is too controversial), could be to make the test skipable when a recent boost version is available or otherwise just make it mandatory and require `EVENT_SET_MEM_FUNCTIONS_IMPLEMENTED`? (I am assuming that EVENT_SET_MEM_FUNCTIONS_IMPLEMENTED is defined with xenial libevent?)",https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-630481909,630481909,
MarcoFalke,2020-05-31 12:55:23,"The alternative was closed https://github.com/bitcoin/bitcoin/pull/16228#issuecomment-533676590, so this seems the best bet right now.\n\nIt can be improved upon later by bumping boost https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-630478623, but that might or might not be controversial.\n\nACK",https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-636467804,636467804,
MarcoFalke,2020-05-31 21:55:36,"Tested ACK:\n\n* Current master `make check` fails as if\n\n```\n$ ./src/test/test_bitcoin -t raii_event_tests\nTest setup error: no test cases matching filter or all test cases were disabled\n```\n\n* This pull:\n\n```\n$ ./src/test/test_bitcoin -t raii_event_tests\nRunning 1 test case...\n\n*** No errors detected\n```\n\nACK 9a19c9ada53e84d1ee8521b48f656faad48b737a ðŸŽ¹\n\n<deta",https://github.com/bitcoin/bitcoin/pull/16564#issuecomment-636536002,636536002,
luke-jr,2019-09-20 19:08:49,"Suggest replacing with:\n\n```C++\n    // It would probably be ideal to report skipped, but boost::test doesn't seem to make that practical (at least not in versions available with common distros)\n    BOOST_TEST_MESSAGE(""Skipping raii_event_tess: libevent doesn't support event_set_mem_functions"");\n```",https://github.com/bitcoin/bitcoin/pull/16564#discussion_r326765689,326765689,src/test/raii_event_tests.cpp
luke-jr,2019-09-20 19:09:24,Maybe consider making this an #else later on (or at least turn the existing #ifdef into an #else if we prefer the skip-test on top),https://github.com/bitcoin/bitcoin/pull/16564#discussion_r326765866,326765866,src/test/raii_event_tests.cpp
luke-jr,2019-09-20 19:12:40,Also suggest renaming the test to `raii_event_tests_SKIPPED`,https://github.com/bitcoin/bitcoin/pull/16564#discussion_r326766888,326766888,src/test/raii_event_tests.cpp
