[
  {
    "sha": "6e1150ea3b82d1ab557d4b74aa652b8d974876aa",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2ZTExNTBlYTNiODJkMWFiNTU3ZDRiNzRhYTY1MmI4ZDk3NDg3NmFh",
    "commit": {
      "author": {
        "name": "Alex Groce",
        "email": "agroce@gmail.com",
        "date": "2021-07-29T17:50:21Z"
      },
      "committer": {
        "name": "agroce",
        "email": "agroce@gmail.com",
        "date": "2021-08-06T15:51:30Z"
      },
      "message": "fuzz: add guide to fuzzing with Eclipser v1.x",
      "tree": {
        "sha": "f5c7cb1c24ce681c05c3286b12b1842f808292fe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f5c7cb1c24ce681c05c3286b12b1842f808292fe"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6e1150ea3b82d1ab557d4b74aa652b8d974876aa",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6e1150ea3b82d1ab557d4b74aa652b8d974876aa",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6e1150ea3b82d1ab557d4b74aa652b8d974876aa",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6e1150ea3b82d1ab557d4b74aa652b8d974876aa/comments",
    "author": {
      "login": "agroce",
      "id": 967816,
      "node_id": "MDQ6VXNlcjk2NzgxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/967816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/agroce",
      "html_url": "https://github.com/agroce",
      "followers_url": "https://api.github.com/users/agroce/followers",
      "following_url": "https://api.github.com/users/agroce/following{/other_user}",
      "gists_url": "https://api.github.com/users/agroce/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/agroce/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/agroce/subscriptions",
      "organizations_url": "https://api.github.com/users/agroce/orgs",
      "repos_url": "https://api.github.com/users/agroce/repos",
      "events_url": "https://api.github.com/users/agroce/events{/privacy}",
      "received_events_url": "https://api.github.com/users/agroce/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "agroce",
      "id": 967816,
      "node_id": "MDQ6VXNlcjk2NzgxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/967816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/agroce",
      "html_url": "https://github.com/agroce",
      "followers_url": "https://api.github.com/users/agroce/followers",
      "following_url": "https://api.github.com/users/agroce/following{/other_user}",
      "gists_url": "https://api.github.com/users/agroce/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/agroce/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/agroce/subscriptions",
      "organizations_url": "https://api.github.com/users/agroce/orgs",
      "repos_url": "https://api.github.com/users/agroce/repos",
      "events_url": "https://api.github.com/users/agroce/events{/privacy}",
      "received_events_url": "https://api.github.com/users/agroce/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d23570098cd161fe4d2fbedcd25f563a4ca1dbd8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d23570098cd161fe4d2fbedcd25f563a4ca1dbd8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d23570098cd161fe4d2fbedcd25f563a4ca1dbd8"
      }
    ],
    "stats": {
      "total": 67,
      "additions": 67,
      "deletions": 0
    },
    "files": [
      {
        "sha": "d7362e5b9d11fa998f160f3bd4e8ae91c12a4f36",
        "filename": "doc/fuzzing.md",
        "status": "modified",
        "additions": 67,
        "deletions": 0,
        "changes": 67,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6e1150ea3b82d1ab557d4b74aa652b8d974876aa/doc/fuzzing.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6e1150ea3b82d1ab557d4b74aa652b8d974876aa/doc/fuzzing.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/fuzzing.md?ref=6e1150ea3b82d1ab557d4b74aa652b8d974876aa",
        "patch": "@@ -247,6 +247,73 @@ $ honggfuzz/honggfuzz --exit_upon_crash --quiet --timeout 4 -n 1 -Q \\\n                        -debug\n ```\n \n+# Fuzzing Bitcoin Core using Eclipser (v1.x)\n+\n+## Quickstart guide\n+\n+To quickly get started fuzzing Bitcoin Core using [Eclipser v1.x](https://github.com/SoftSec-KAIST/Eclipser/tree/v1.x):\n+\n+```sh\n+$ git clone https://github.com/bitcoin/bitcoin\n+$ cd bitcoin/\n+$ sudo vim /etc/apt/sources.list # Uncomment the lines starting with 'deb-src'.\n+$ sudo apt-get update\n+$ sudo apt-get build-dep qemu\n+$ sudo apt-get install libtool libtool-bin wget automake autoconf bison gdb\n+```\n+\n+At this point, you must install the .NET core.  The process differs, depending on your Linux distribution.\n+See [this link](https://docs.microsoft.com/en-us/dotnet/core/install/linux) for details.\n+On ubuntu 20.04, the following should work:\n+\n+```sh\n+$ wget -q https://packages.microsoft.com/config/ubuntu/20.04/packages-microsoft-prod.deb\n+$ sudo dpkg -i packages-microsoft-prod.deb\n+$ rm packages-microsoft-prod.deb\n+$ sudo apt-get update\n+$ sudo apt-get install -y dotnet-sdk-2.1\n+```\n+\n+You will also want to make sure Python is installed as `python` for the Eclipser install to succeed.\n+\n+```sh\n+$ git clone https://github.com/SoftSec-KAIST/Eclipser.git\n+$ cd Eclipser\n+$ git checkout v1.x\n+$ make\n+$ cd ..\n+$ ./autogen.sh\n+$ ./configure --enable-fuzz\n+$ make\n+$ mkdir -p outputs/\n+$ FUZZ=bech32 dotnet Eclipser/build/Eclipser.dll fuzz -p src/test/fuzz/fuzz -t 36000 -o outputs --src stdin\n+```\n+\n+This will perform 10 hours of fuzzing.\n+\n+To make further use of the inputs generated by Eclipser, you\n+must first decode them:\n+\n+```sh\n+$ dotnet Eclipser/build/Eclipser.dll decode -i outputs/testcase -o decoded_outputs\n+```\n+This will place raw inputs in the directory `decoded_outputs/decoded_stdins`.  Crashes are in the `outputs/crashes` directory, and must\n+be decoded in the same way.\n+\n+Fuzzing with Eclipser will likely be much more effective if using an existing corpus:\n+\n+```sh\n+$ git clone https://github.com/bitcoin-core/qa-assets\n+$ FUZZ=bech32 dotnet Eclipser/build/Eclipser.dll fuzz -p src/test/fuzz/fuzz -t 36000 -i qa-assets/fuzz_seed_corpus/bech32 outputs --src stdin\n+```\n+\n+Note that fuzzing with Eclipser on certain targets (those that create 'full nodes', e.g. `process_message*`) will,\n+for now, slowly fill `/tmp/` with improperly cleaned-up files, which will cause spurious crashes.\n+See [this proposed patch](https://github.com/bitcoin/bitcoin/pull/22472) for more information.\n+\n+Read the [Eclipser documentation for v1.x](https://github.com/SoftSec-KAIST/Eclipser/tree/v1.x) for more details on using Eclipser.\n+\n+\n # OSS-Fuzz\n \n Bitcoin Core participates in Google's [OSS-Fuzz](https://github.com/google/oss-fuzz/tree/master/projects/bitcoin-core)"
      }
    ]
  }
]