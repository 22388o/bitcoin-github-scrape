[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/510885728",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-510885728",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 510885728,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMDg4NTcyOA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-12T13:26:28Z",
    "updated_at": "2020-06-19T09:24:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18531 (rpc: Assert that RPCArg names are equal to CRPCCommand ones by MarcoFalke)\n* #17211 (Allow fundrawtransaction and walletcreatefundedpsbt to take external inputs by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/510885728/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/510921731",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-510921731",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 510921731,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMDkyMTczMQ==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-12T15:06:57Z",
    "updated_at": "2019-07-12T15:06:57Z",
    "author_association": "MEMBER",
    "body": "concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/510921731/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/515892634",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-515892634",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 515892634,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNTg5MjYzNA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-29T08:15:24Z",
    "updated_at": "2019-07-29T08:15:24Z",
    "author_association": "MEMBER",
    "body": "Instead of `bool default_add_inputs` into `FundTransaction` I'm now passing a `CCoinControl` object. Also addressed nits.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/515892634/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516588093",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-516588093",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 516588093,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjU4ODA5Mw==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-30T20:43:30Z",
    "updated_at": "2019-07-30T20:43:30Z",
    "author_association": "MEMBER",
    "body": "This effects `fundrawtransaction` too, so documentation should be updated to indicate that.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516588093/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/517363926",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-517363926",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 517363926,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzM2MzkyNg==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-01T16:34:37Z",
    "updated_at": "2019-08-01T16:34:37Z",
    "author_association": "MEMBER",
    "body": "@achow101 I didn't change this behavior in `fundrawtransaction`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/517363926/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/517380568",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-517380568",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 517380568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzM4MDU2OA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-01T17:20:54Z",
    "updated_at": "2019-08-01T17:20:54Z",
    "author_association": "MEMBER",
    "body": "> @achow101 I didn't change this behavior in `fundrawtransaction`.\r\n\r\nYes, but `FundTransaction` is used by both `fundrawtransaction` and `walletcreatefundedpsbt`. The `add_inputs` option is now something that both can have, but is not documented for `fundrawtransaction`. Furthermore, both of these do pretty much the same thing, just return different formats. So I think their behavior with this option should be the same.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/517380568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/517640297",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-517640297",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 517640297,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzY0MDI5Nw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-02T09:53:43Z",
    "updated_at": "2019-08-02T09:53:43Z",
    "author_association": "MEMBER",
    "body": "I changed `fundrawtransaction` to have the same behavior.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/517640297/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/523377288",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-523377288",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 523377288,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMzM3NzI4OA==",
    "user": {
      "login": "Fonta1n3",
      "id": 30832395,
      "node_id": "MDQ6VXNlcjMwODMyMzk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/30832395?u=8789acf9447f0b85cef27af0542716bc2ff5d4a5&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Fonta1n3",
      "html_url": "https://github.com/Fonta1n3",
      "followers_url": "https://api.github.com/users/Fonta1n3/followers",
      "following_url": "https://api.github.com/users/Fonta1n3/following{/other_user}",
      "gists_url": "https://api.github.com/users/Fonta1n3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Fonta1n3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Fonta1n3/subscriptions",
      "organizations_url": "https://api.github.com/users/Fonta1n3/orgs",
      "repos_url": "https://api.github.com/users/Fonta1n3/repos",
      "events_url": "https://api.github.com/users/Fonta1n3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Fonta1n3/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-21T09:29:34Z",
    "updated_at": "2019-08-21T11:29:40Z",
    "author_association": "NONE",
    "body": "I have built an app on top of bitcoin-cli and definitely would prefer no inputs to be added at all by default when using `walletcreatefundedpsbt` and `fundrawtransaction` *if* a user specifies their own inputs. If a user is specifying inputs then it would be better to force them to recreate a transaction with the necessary inputs rather than automatically adding additional inputs the user has not specified.\r\n\r\nIt makes fee optimization a lot easier in this scenario where a user wants to specify inputs as one can not take advantage of the `conf_target` argument or other Bitcoin Core fee optimization arguments when building custom transactions with `createpsbt` and `createrawtransaction`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/523377288/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/523385698",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-523385698",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 523385698,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMzM4NTY5OA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-21T09:52:05Z",
    "updated_at": "2019-08-21T09:52:05Z",
    "author_association": "MEMBER",
    "body": "@FontaineDenton does your application use `walletcreatefundedpsbt` or `fundrawtransaction`? And can you elaborate on fee optimization?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/523385698/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/523416763",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-523416763",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 523416763,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMzQxNjc2Mw==",
    "user": {
      "login": "Fonta1n3",
      "id": 30832395,
      "node_id": "MDQ6VXNlcjMwODMyMzk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/30832395?u=8789acf9447f0b85cef27af0542716bc2ff5d4a5&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Fonta1n3",
      "html_url": "https://github.com/Fonta1n3",
      "followers_url": "https://api.github.com/users/Fonta1n3/followers",
      "following_url": "https://api.github.com/users/Fonta1n3/following{/other_user}",
      "gists_url": "https://api.github.com/users/Fonta1n3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Fonta1n3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Fonta1n3/subscriptions",
      "organizations_url": "https://api.github.com/users/Fonta1n3/orgs",
      "repos_url": "https://api.github.com/users/Fonta1n3/repos",
      "events_url": "https://api.github.com/users/Fonta1n3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Fonta1n3/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-21T11:31:27Z",
    "updated_at": "2019-08-21T11:31:27Z",
    "author_association": "NONE",
    "body": "> @FontaineDenton does your application use `walletcreatefundedpsbt` or `fundrawtransaction`? And can you elaborate on fee optimization?\r\n\r\nI just updated my original comment so it hopefully makes more sense. ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/523416763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/589112070",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-589112070",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 589112070,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4OTExMjA3MA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-20T15:20:12Z",
    "updated_at": "2020-02-20T15:20:12Z",
    "author_association": "MEMBER",
    "body": "I switched the default for `fundrawtransaction` to `false`, to keep it backwards compatible; I'm not familiar with how people use that RPC in practice. For `walletcreatefundedpsbt` I do think this change makes it safer.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/589112070/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/597857744",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-597857744",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 597857744,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5Nzg1Nzc0NA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-11T20:27:14Z",
    "updated_at": "2020-03-11T20:27:14Z",
    "author_association": "MEMBER",
    "body": "Rebased, slightly tweaked one test and added a new one.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/597857744/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604075165",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-604075165",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 604075165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDA3NTE2NQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-25T20:39:41Z",
    "updated_at": "2020-03-25T20:39:41Z",
    "author_association": "MEMBER",
    "body": "With `add_inputs` set to false, how does `walletcreatefundedpsbt` differ from `createpsbt`? If there is no difference, it seems the default should always be true.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604075165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604352432",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-604352432",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 604352432,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDM1MjQzMg==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-26T10:33:52Z",
    "updated_at": "2020-03-26T10:34:53Z",
    "author_association": "MEMBER",
    "body": "@sipa the difference is when when you don't specify inputs. `walletcreatefundedpsbt` will pick inputs from your wallet, `createpsbt` won't.\r\n\r\nIf you do specificy inputs, then by default (as of this PR) neither command will add them. But they're still different, because `createpsbt` doesn't have wallet context to fill out redeem/witness scripts.\r\n\r\nI didn't even realise `createpsbt` existed up to now :-)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604352432/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/642823450",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-642823450",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 642823450,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjgyMzQ1MA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-11T17:24:12Z",
    "updated_at": "2020-06-11T17:24:12Z",
    "author_association": "MEMBER",
    "body": "ACK e5327f947c310849e1ddbb24321e4c9f85564549",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/642823450/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643257122",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-643257122",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 643257122,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MzI1NzEyMg==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-12T12:59:43Z",
    "updated_at": "2020-06-12T12:59:43Z",
    "author_association": "MEMBER",
    "body": "I'll leave the `CHECK_NONFATAL` in case I need to rebase or change something.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643257122/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688044319",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-688044319",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 688044319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4ODA0NDMxOQ==",
    "user": {
      "login": "Fonta1n3",
      "id": 30832395,
      "node_id": "MDQ6VXNlcjMwODMyMzk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/30832395?u=8789acf9447f0b85cef27af0542716bc2ff5d4a5&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Fonta1n3",
      "html_url": "https://github.com/Fonta1n3",
      "followers_url": "https://api.github.com/users/Fonta1n3/followers",
      "following_url": "https://api.github.com/users/Fonta1n3/following{/other_user}",
      "gists_url": "https://api.github.com/users/Fonta1n3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Fonta1n3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Fonta1n3/subscriptions",
      "organizations_url": "https://api.github.com/users/Fonta1n3/orgs",
      "repos_url": "https://api.github.com/users/Fonta1n3/repos",
      "events_url": "https://api.github.com/users/Fonta1n3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Fonta1n3/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-07T05:26:44Z",
    "updated_at": "2020-09-07T05:26:44Z",
    "author_association": "NONE",
    "body": "Which version of Bitcoin Core will this get released on?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688044319/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688044560",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-688044560",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16377",
    "id": 688044560,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4ODA0NDU2MA==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-07T05:27:35Z",
    "updated_at": "2020-09-07T05:27:35Z",
    "author_association": "MEMBER",
    "body": "Current master branch will become 0.21.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688044560/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303264260",
    "pull_request_review_id": 261602168,
    "id": 303264260,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMzI2NDI2MA==",
    "diff_hunk": "@@ -20,6 +20,8 @@ class CCoinControl\n     CTxDestination destChange;\n     //! Override the default change type if set, ignored if destChange is set\n     boost::optional<OutputType> m_change_type;\n+    //! If false, only selected inputs are used\n+    bool fAddInputs;",
    "path": "src/wallet/coincontrol.h",
    "position": null,
    "original_position": 5,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "4bf5d6abc9b2be83cde13333a48eb4b971b97dc1",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, `bool m_add_inputs`.",
    "created_at": "2019-07-14T22:30:22Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r303264260",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303264260"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r303264260"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303264260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 24,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303264285",
    "pull_request_review_id": 261602168,
    "id": 303264285,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMzI2NDI4NQ==",
    "diff_hunk": "@@ -2991,6 +2993,9 @@ void FundTransaction(CWallet* const pwallet, CMutableTransaction& tx, CAmount& f\n             },\n             true, true);\n \n+        if (options.exists(\"addInputs\") )",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "4bf5d6abc9b2be83cde13333a48eb4b971b97dc1",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nits, \"add_inputs\". Remove whitespace at the end. Add `{ }`.",
    "created_at": "2019-07-14T22:31:04Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r303264285",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303264285"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r303264285"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303264285/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2996,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303264348",
    "pull_request_review_id": 261602168,
    "id": 303264348,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMzI2NDM0OA==",
    "diff_hunk": "@@ -2495,6 +2495,11 @@ void CWallet::AvailableCoins(interfaces::Chain::Lock& locked_chain, std::vector<\n             continue;\n \n         for (unsigned int i = 0; i < wtx.tx->vout.size(); i++) {\n+            // Only consider selected coins if addInputs is false\n+            if(coinControl && !coinControl->fAddInputs && !coinControl->IsSelected(COutPoint(entry.first, i))) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "4bf5d6abc9b2be83cde13333a48eb4b971b97dc1",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, space after `if`",
    "created_at": "2019-07-14T22:32:53Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r303264348",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303264348"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r303264348"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303264348/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2499,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303264695",
    "pull_request_review_id": 261602168,
    "id": 303264695,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMzI2NDY5NQ==",
    "diff_hunk": "@@ -2957,13 +2957,14 @@ static UniValue listunspent(const JSONRPCRequest& request)\n     return results;\n }\n \n-void FundTransaction(CWallet* const pwallet, CMutableTransaction& tx, CAmount& fee_out, int& change_position, UniValue options)\n+void FundTransaction(CWallet* const pwallet, CMutableTransaction& tx, CAmount& fee_out, int& change_position, UniValue options, bool default_add_inputs)",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "4bf5d6abc9b2be83cde13333a48eb4b971b97dc1",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Instead of adding parameters why not receive the coin control?",
    "created_at": "2019-07-14T22:44:12Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r303264695",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303264695"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r303264695"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303264695/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2960,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/315459878",
    "pull_request_review_id": 276873059,
    "id": 315459878,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNTQ1OTg3OA==",
    "diff_hunk": "@@ -3107,6 +3111,7 @@ static UniValue fundrawtransaction(const JSONRPCRequest& request)\n                     {\"hexstring\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The hex string of the raw transaction\"},\n                     {\"options\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED_NAMED_ARG, \"for backward compatibility: passing in a true instead of an object will result in {\\\"includeWatching\\\":true}\",\n                         {\n+                            {\"add_inputs\", RPCArg::Type::BOOL, /* default */ \"false\", \"For a transaction with existing inputs, automatically include more if they are not enough.\"},",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 49,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "f82a7701520346d5d3ec463147681a736583582b",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is backward-incompatible, and it makes no sense for this RPC which does exactly only that? Confused.",
    "created_at": "2019-08-20T00:01:22Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r315459878",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/315459878"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r315459878"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/315459878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3132,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/316063537",
    "pull_request_review_id": 277640596,
    "id": 316063537,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNjA2MzUzNw==",
    "diff_hunk": "@@ -3107,6 +3111,7 @@ static UniValue fundrawtransaction(const JSONRPCRequest& request)\n                     {\"hexstring\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The hex string of the raw transaction\"},\n                     {\"options\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED_NAMED_ARG, \"for backward compatibility: passing in a true instead of an object will result in {\\\"includeWatching\\\":true}\",\n                         {\n+                            {\"add_inputs\", RPCArg::Type::BOOL, /* default */ \"false\", \"For a transaction with existing inputs, automatically include more if they are not enough.\"},",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 49,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "f82a7701520346d5d3ec463147681a736583582b",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "See @achow101's comment above: https://github.com/bitcoin/bitcoin/pull/16377#issuecomment-517380568\r\n\r\nI tend to agree that `walletcreatefundedpspbt` is different from `fundrawtransaction` in this aspect, because `walletcreatefundedpspbt` also sets the destination.\r\n\r\nWould like to hear some more opinions, otherwise I'll drop the last commit (where this is added). Or I can change the default for `fundrawtransaction` but keep the option, in case it's useful.",
    "created_at": "2019-08-21T08:43:00Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r316063537",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/316063537"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r316063537"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/316063537/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3132,
    "side": "RIGHT",
    "in_reply_to_id": 315459878
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388721754",
    "pull_request_review_id": 370092436,
    "id": 388721754,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODcyMTc1NA==",
    "diff_hunk": "@@ -0,0 +1,6 @@\n+RPC changes\n+-----------\n+The `walletcreatefundedpsbt` RPC call will fail with",
    "path": "doc/release-notes-16377.md",
    "position": null,
    "original_position": 3,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "5fc79ef2ff8065d78de339f4b4e935f67ec3211d",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The phrasing is vague on whether this is talking about previous or new behavior. Maybe `RPC call will now fail with`?",
    "created_at": "2020-03-06T05:39:42Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r388721754",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388721754"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r388721754"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388721754/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388721817",
    "pull_request_review_id": 370092436,
    "id": 388721817,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODcyMTgxNw==",
    "diff_hunk": "@@ -0,0 +1,6 @@\n+RPC changes\n+-----------\n+The `walletcreatefundedpsbt` RPC call will fail with\n+`Insufficient funds` when inputs are manually selected but are not enough to cover\n+the outputs and fee. Additional inputs can automatically be added through a",
    "path": "doc/release-notes-16377.md",
    "position": null,
    "original_position": 5,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "5fc79ef2ff8065d78de339f4b4e935f67ec3211d",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`a` -> `the`",
    "created_at": "2020-03-06T05:40:04Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r388721817",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388721817"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r388721817"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388721817/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 5,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388724330",
    "pull_request_review_id": 370092436,
    "id": 388724330,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODcyNDMzMA==",
    "diff_hunk": "@@ -137,13 +144,13 @@ def run_test(self):\n         self.nodes[1].sendrawtransaction(self.nodes[1].finalizepsbt(walletprocesspsbt_out['psbt'])['hex'])\n \n         # feeRate of 0.1 BTC / KB produces a total fee slightly below -maxtxfee (~0.05280000):\n-        res = self.nodes[1].walletcreatefundedpsbt([{\"txid\":txid,\"vout\":p2wpkh_pos},{\"txid\":txid,\"vout\":p2sh_p2wpkh_pos},{\"txid\":txid,\"vout\":p2pkh_pos}], {self.nodes[1].getnewaddress():29.99}, 0, {\"feeRate\": 0.1})\n+        res = self.nodes[1].walletcreatefundedpsbt([{\"txid\":txid,\"vout\":p2wpkh_pos},{\"txid\":txid,\"vout\":p2sh_p2wpkh_pos},{\"txid\":txid,\"vout\":p2pkh_pos}], {self.nodes[1].getnewaddress():29.99}, 0, {\"feeRate\": 0.1, \"add_inputs\": True})",
    "path": "test/functional/rpc_psbt.py",
    "position": 29,
    "original_position": 19,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "5fc79ef2ff8065d78de339f4b4e935f67ec3211d",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I know the two asserts below this are not yours, but they can use `assert_approx` to achieve the same result with less confusion.\r\n```python\r\nassert_approx(res[\"fee\"], 0.055, 0.005)\r\n```\r\n",
    "created_at": "2020-03-06T05:52:26Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r388724330",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388724330"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r388724330"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388724330/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 148,
    "original_line": 148,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388724487",
    "pull_request_review_id": 370092436,
    "id": 388724487,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODcyNDQ4Nw==",
    "diff_hunk": "@@ -137,13 +144,13 @@ def run_test(self):\n         self.nodes[1].sendrawtransaction(self.nodes[1].finalizepsbt(walletprocesspsbt_out['psbt'])['hex'])\n \n         # feeRate of 0.1 BTC / KB produces a total fee slightly below -maxtxfee (~0.05280000):\n-        res = self.nodes[1].walletcreatefundedpsbt([{\"txid\":txid,\"vout\":p2wpkh_pos},{\"txid\":txid,\"vout\":p2sh_p2wpkh_pos},{\"txid\":txid,\"vout\":p2pkh_pos}], {self.nodes[1].getnewaddress():29.99}, 0, {\"feeRate\": 0.1})\n+        res = self.nodes[1].walletcreatefundedpsbt([{\"txid\":txid,\"vout\":p2wpkh_pos},{\"txid\":txid,\"vout\":p2sh_p2wpkh_pos},{\"txid\":txid,\"vout\":p2pkh_pos}], {self.nodes[1].getnewaddress():29.99}, 0, {\"feeRate\": 0.1, \"add_inputs\": True})\n         assert_greater_than(res[\"fee\"], 0.05)\n         assert_greater_than(0.06, res[\"fee\"])\n \n         # feeRate of 10 BTC / KB produces a total fee well above -maxtxfee\n         # previously this was silently capped at -maxtxfee\n-        assert_raises_rpc_error(-4, \"Fee exceeds maximum configured by -maxtxfee\", self.nodes[1].walletcreatefundedpsbt, [{\"txid\":txid,\"vout\":p2wpkh_pos},{\"txid\":txid,\"vout\":p2sh_p2wpkh_pos},{\"txid\":txid,\"vout\":p2pkh_pos}], {self.nodes[1].getnewaddress():29.99}, 0, {\"feeRate\": 10})\n+        assert_raises_rpc_error(-4, \"Fee exceeds maximum configured by -maxtxfee\", self.nodes[1].walletcreatefundedpsbt, [{\"txid\":txid,\"vout\":p2wpkh_pos},{\"txid\":txid,\"vout\":p2sh_p2wpkh_pos},{\"txid\":txid,\"vout\":p2pkh_pos}], {self.nodes[1].getnewaddress():29.99}, 0, {\"feeRate\": 10, \"add_inputs\": True})",
    "path": "test/functional/rpc_psbt.py",
    "position": 35,
    "original_position": 26,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "5fc79ef2ff8065d78de339f4b4e935f67ec3211d",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Perhaps duplicate this with `\"add_inputs\": False` case as well.",
    "created_at": "2020-03-06T05:53:14Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r388724487",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388724487"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r388724487"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388724487/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 153,
    "original_line": 153,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388724693",
    "pull_request_review_id": 370092436,
    "id": 388724693,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODcyNDY5Mw==",
    "diff_hunk": "@@ -213,31 +220,31 @@ def run_test(self):\n         # replaceable arg\n         block_height = self.nodes[0].getblockcount()\n         unspent = self.nodes[0].listunspent()[0]\n-        psbtx_info = self.nodes[0].walletcreatefundedpsbt([{\"txid\":unspent[\"txid\"], \"vout\":unspent[\"vout\"]}], [{self.nodes[2].getnewaddress():unspent[\"amount\"]+1}], block_height+2, {\"replaceable\": False}, False)\n+        psbtx_info = self.nodes[0].walletcreatefundedpsbt([{\"txid\":unspent[\"txid\"], \"vout\":unspent[\"vout\"]}], [{self.nodes[2].getnewaddress():unspent[\"amount\"]+1}], block_height+2, {\"replaceable\": False, \"add_inputs\": True}, False)",
    "path": "test/functional/rpc_psbt.py",
    "position": 45,
    "original_position": 35,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "5fc79ef2ff8065d78de339f4b4e935f67ec3211d",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can this be tested for the `\"add_inputs\": False` case as well?",
    "created_at": "2020-03-06T05:54:03Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r388724693",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388724693"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r388724693"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388724693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 232,
    "original_line": 232,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391207991",
    "pull_request_review_id": 373057341,
    "id": 391207991,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTIwNzk5MQ==",
    "diff_hunk": "@@ -3030,6 +3030,10 @@ void FundTransaction(CWallet* const pwallet, CMutableTransaction& tx, CAmount& f\n             },\n             true, true);\n \n+        if (options.exists(\"add_inputs\") ) {\n+            coinControl.m_add_inputs = options[\"add_inputs\"].get_bool();",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 28,
    "original_position": 28,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "5fc79ef2ff8065d78de339f4b4e935f67ec3211d",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Makes sense to allow `add_inputs = false` when no input is manually selected?",
    "created_at": "2020-03-11T19:23:36Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391207991",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391207991"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391207991"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391207991/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3054,
    "original_line": 3054,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391239589",
    "pull_request_review_id": 373091214,
    "id": 391239589,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTIzOTU4OQ==",
    "diff_hunk": "@@ -3030,6 +3030,10 @@ void FundTransaction(CWallet* const pwallet, CMutableTransaction& tx, CAmount& f\n             },\n             true, true);\n \n+        if (options.exists(\"add_inputs\") ) {\n+            coinControl.m_add_inputs = options[\"add_inputs\"].get_bool();",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 28,
    "original_position": 28,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "5fc79ef2ff8065d78de339f4b4e935f67ec3211d",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It'll just fail with insufficient funds. I don't think it's necessary to special-case that.",
    "created_at": "2020-03-11T20:11:21Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391239589",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391239589"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391239589"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391239589/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3054,
    "original_line": 3054,
    "side": "RIGHT",
    "in_reply_to_id": 391207991
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391243653",
    "pull_request_review_id": 373094531,
    "id": 391243653,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI0MzY1Mw==",
    "diff_hunk": "@@ -137,13 +144,13 @@ def run_test(self):\n         self.nodes[1].sendrawtransaction(self.nodes[1].finalizepsbt(walletprocesspsbt_out['psbt'])['hex'])\n \n         # feeRate of 0.1 BTC / KB produces a total fee slightly below -maxtxfee (~0.05280000):\n-        res = self.nodes[1].walletcreatefundedpsbt([{\"txid\":txid,\"vout\":p2wpkh_pos},{\"txid\":txid,\"vout\":p2sh_p2wpkh_pos},{\"txid\":txid,\"vout\":p2pkh_pos}], {self.nodes[1].getnewaddress():29.99}, 0, {\"feeRate\": 0.1})\n+        res = self.nodes[1].walletcreatefundedpsbt([{\"txid\":txid,\"vout\":p2wpkh_pos},{\"txid\":txid,\"vout\":p2sh_p2wpkh_pos},{\"txid\":txid,\"vout\":p2pkh_pos}], {self.nodes[1].getnewaddress():29.99}, 0, {\"feeRate\": 0.1, \"add_inputs\": True})",
    "path": "test/functional/rpc_psbt.py",
    "position": 29,
    "original_position": 19,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "5fc79ef2ff8065d78de339f4b4e935f67ec3211d",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'll use that.",
    "created_at": "2020-03-11T20:16:41Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391243653",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391243653"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391243653"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391243653/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 148,
    "original_line": 148,
    "side": "RIGHT",
    "in_reply_to_id": 388724330
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391246415",
    "pull_request_review_id": 373098083,
    "id": 391246415,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI0NjQxNQ==",
    "diff_hunk": "@@ -137,13 +144,13 @@ def run_test(self):\n         self.nodes[1].sendrawtransaction(self.nodes[1].finalizepsbt(walletprocesspsbt_out['psbt'])['hex'])\n \n         # feeRate of 0.1 BTC / KB produces a total fee slightly below -maxtxfee (~0.05280000):\n-        res = self.nodes[1].walletcreatefundedpsbt([{\"txid\":txid,\"vout\":p2wpkh_pos},{\"txid\":txid,\"vout\":p2sh_p2wpkh_pos},{\"txid\":txid,\"vout\":p2pkh_pos}], {self.nodes[1].getnewaddress():29.99}, 0, {\"feeRate\": 0.1})\n+        res = self.nodes[1].walletcreatefundedpsbt([{\"txid\":txid,\"vout\":p2wpkh_pos},{\"txid\":txid,\"vout\":p2sh_p2wpkh_pos},{\"txid\":txid,\"vout\":p2pkh_pos}], {self.nodes[1].getnewaddress():29.99}, 0, {\"feeRate\": 0.1, \"add_inputs\": True})\n         assert_greater_than(res[\"fee\"], 0.05)\n         assert_greater_than(0.06, res[\"fee\"])\n \n         # feeRate of 10 BTC / KB produces a total fee well above -maxtxfee\n         # previously this was silently capped at -maxtxfee\n-        assert_raises_rpc_error(-4, \"Fee exceeds maximum configured by -maxtxfee\", self.nodes[1].walletcreatefundedpsbt, [{\"txid\":txid,\"vout\":p2wpkh_pos},{\"txid\":txid,\"vout\":p2sh_p2wpkh_pos},{\"txid\":txid,\"vout\":p2pkh_pos}], {self.nodes[1].getnewaddress():29.99}, 0, {\"feeRate\": 10})\n+        assert_raises_rpc_error(-4, \"Fee exceeds maximum configured by -maxtxfee\", self.nodes[1].walletcreatefundedpsbt, [{\"txid\":txid,\"vout\":p2wpkh_pos},{\"txid\":txid,\"vout\":p2sh_p2wpkh_pos},{\"txid\":txid,\"vout\":p2pkh_pos}], {self.nodes[1].getnewaddress():29.99}, 0, {\"feeRate\": 10, \"add_inputs\": True})",
    "path": "test/functional/rpc_psbt.py",
    "position": 35,
    "original_position": 26,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "5fc79ef2ff8065d78de339f4b4e935f67ec3211d",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2020-03-11T20:22:18Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391246415",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391246415"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391246415"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391246415/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 153,
    "original_line": 153,
    "side": "RIGHT",
    "in_reply_to_id": 388724487
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391247325",
    "pull_request_review_id": 373099175,
    "id": 391247325,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTI0NzMyNQ==",
    "diff_hunk": "@@ -213,31 +220,31 @@ def run_test(self):\n         # replaceable arg\n         block_height = self.nodes[0].getblockcount()\n         unspent = self.nodes[0].listunspent()[0]\n-        psbtx_info = self.nodes[0].walletcreatefundedpsbt([{\"txid\":unspent[\"txid\"], \"vout\":unspent[\"vout\"]}], [{self.nodes[2].getnewaddress():unspent[\"amount\"]+1}], block_height+2, {\"replaceable\": False}, False)\n+        psbtx_info = self.nodes[0].walletcreatefundedpsbt([{\"txid\":unspent[\"txid\"], \"vout\":unspent[\"vout\"]}], [{self.nodes[2].getnewaddress():unspent[\"amount\"]+1}], block_height+2, {\"replaceable\": False, \"add_inputs\": True}, False)",
    "path": "test/functional/rpc_psbt.py",
    "position": 45,
    "original_position": 35,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "5fc79ef2ff8065d78de339f4b4e935f67ec3211d",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't think that's very useful, because the goal of the test is to \"Make sure both pre-included and funded inputs have the correct sequence numbers\", and `\"add_inputs\": False` would just test a subset of what we already check here.",
    "created_at": "2020-03-11T20:23:59Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391247325",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391247325"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391247325"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391247325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 232,
    "original_line": 232,
    "side": "RIGHT",
    "in_reply_to_id": 388724693
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391310604",
    "pull_request_review_id": 373174575,
    "id": 391310604,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTMxMDYwNA==",
    "diff_hunk": "@@ -0,0 +1,6 @@\n+RPC changes\n+-----------\n+The `walletcreatefundedpsbt` RPC call will now fail with\n+`Insufficient funds` when inputs are manually selected but are not enough to cover\n+the outputs and fee. Additional inputs can automatically be added through the\n+new `add_inputs` option.",
    "path": "doc/release-notes-16377.md",
    "position": null,
    "original_position": 6,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "9d0ef2a54ed7fa0ff7be8e8033534b016faa4462",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe also add something like\r\n\r\n```\r\nThe `fundrawtransaction` RPC now supports `add_inputs` option that when `false` prevents adding more inputs if necessary and consequently the RPC fails.\r\n```",
    "created_at": "2020-03-11T22:39:52Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391310604",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391310604"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391310604"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391310604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 6,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391311455",
    "pull_request_review_id": 373174575,
    "id": 391311455,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTMxMTQ1NQ==",
    "diff_hunk": "@@ -3224,7 +3229,10 @@ static UniValue fundrawtransaction(const JSONRPCRequest& request)\n \n     CAmount fee;\n     int change_position;\n-    FundTransaction(pwallet, tx, fee, change_position, request.params[1]);\n+    CCoinControl coin_control;\n+    // Automatically select (additional) coins. Can be overriden by options.add_inputs.\n+    coin_control.m_add_inputs = true;",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 60,
    "original_position": 60,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "9d0ef2a54ed7fa0ff7be8e8033534b016faa4462",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is already the default value in `coin_control` so maybe remove this?",
    "created_at": "2020-03-11T22:42:16Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391311455",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391311455"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391311455"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391311455/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3234,
    "original_line": 3234,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391311740",
    "pull_request_review_id": 373174575,
    "id": 391311740,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTMxMTc0MA==",
    "diff_hunk": "@@ -4146,10 +4154,10 @@ UniValue walletcreatefundedpsbt(const JSONRPCRequest& request)\n     }\n \n             RPCHelpMan{\"walletcreatefundedpsbt\",\n-                \"\\nCreates and funds a transaction in the Partially Signed Transaction format. Inputs will be added if supplied inputs are not enough\\n\"\n+                \"\\nCreates and funds a transaction in the Partially Signed Transaction format.\\n\"\n                 \"Implements the Creator and Updater roles.\\n\",\n                 {\n-                    {\"inputs\", RPCArg::Type::ARR, RPCArg::Optional::NO, \"The inputs\",\n+                    {\"inputs\", RPCArg::Type::ARR, RPCArg::Optional::NO, \"The inputs. Leave empty to add inputs automatically.\",",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 74,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "9d0ef2a54ed7fa0ff7be8e8033534b016faa4462",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, maybe add  `See add_inputs option`.",
    "created_at": "2020-03-11T22:43:13Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391311740",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391311740"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391311740"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391311740/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4160,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391574972",
    "pull_request_review_id": 373496333,
    "id": 391574972,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU3NDk3Mg==",
    "diff_hunk": "@@ -3224,7 +3229,10 @@ static UniValue fundrawtransaction(const JSONRPCRequest& request)\n \n     CAmount fee;\n     int change_position;\n-    FundTransaction(pwallet, tx, fee, change_position, request.params[1]);\n+    CCoinControl coin_control;\n+    // Automatically select (additional) coins. Can be overriden by options.add_inputs.\n+    coin_control.m_add_inputs = true;",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 60,
    "original_position": 60,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "9d0ef2a54ed7fa0ff7be8e8033534b016faa4462",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think it adds clarity that this (default) value matters for this caller. ",
    "created_at": "2020-03-12T12:04:24Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391574972",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391574972"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391574972"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391574972/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3234,
    "original_line": 3234,
    "side": "RIGHT",
    "in_reply_to_id": 391311455
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391576171",
    "pull_request_review_id": 373497917,
    "id": 391576171,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU3NjE3MQ==",
    "diff_hunk": "@@ -4146,10 +4154,10 @@ UniValue walletcreatefundedpsbt(const JSONRPCRequest& request)\n     }\n \n             RPCHelpMan{\"walletcreatefundedpsbt\",\n-                \"\\nCreates and funds a transaction in the Partially Signed Transaction format. Inputs will be added if supplied inputs are not enough\\n\"\n+                \"\\nCreates and funds a transaction in the Partially Signed Transaction format.\\n\"\n                 \"Implements the Creator and Updater roles.\\n\",\n                 {\n-                    {\"inputs\", RPCArg::Type::ARR, RPCArg::Optional::NO, \"The inputs\",\n+                    {\"inputs\", RPCArg::Type::ARR, RPCArg::Optional::NO, \"The inputs. Leave empty to add inputs automatically.\",",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 74,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "9d0ef2a54ed7fa0ff7be8e8033534b016faa4462",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2020-03-12T12:07:03Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391576171",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391576171"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391576171"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391576171/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4160,
    "side": "RIGHT",
    "in_reply_to_id": 391311740
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391576202",
    "pull_request_review_id": 373497961,
    "id": 391576202,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU3NjIwMg==",
    "diff_hunk": "@@ -0,0 +1,6 @@\n+RPC changes\n+-----------\n+The `walletcreatefundedpsbt` RPC call will now fail with\n+`Insufficient funds` when inputs are manually selected but are not enough to cover\n+the outputs and fee. Additional inputs can automatically be added through the\n+new `add_inputs` option.",
    "path": "doc/release-notes-16377.md",
    "position": null,
    "original_position": 6,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "9d0ef2a54ed7fa0ff7be8e8033534b016faa4462",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2020-03-12T12:07:07Z",
    "updated_at": "2020-03-12T12:07:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391576202",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391576202"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r391576202"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391576202/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 6,
    "side": "RIGHT",
    "in_reply_to_id": 391310604
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/438939912",
    "pull_request_review_id": 429115631,
    "id": 438939912,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODkzOTkxMg==",
    "diff_hunk": "@@ -3107,6 +3111,7 @@ static UniValue fundrawtransaction(const JSONRPCRequest& request)\n                     {\"hexstring\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The hex string of the raw transaction\"},\n                     {\"options\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED_NAMED_ARG, \"for backward compatibility: passing in a true instead of an object will result in {\\\"includeWatching\\\":true}\",\n                         {\n+                            {\"add_inputs\", RPCArg::Type::BOOL, /* default */ \"false\", \"For a transaction with existing inputs, automatically include more if they are not enough.\"},",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 49,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "f82a7701520346d5d3ec463147681a736583582b",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think both `walletcreatefundedpsbt` and `fundrawtransaction` are both most commonly used with no inputs. As I understand it, with `add_inputs` defaulting to false, this behavior doesn't change. Even so, the option is useful in `fundrawtransaction` as sometimes you just want it to set the change output and fee for a transaction after you've already selected the inputs.",
    "created_at": "2020-06-11T17:09:00Z",
    "updated_at": "2020-06-11T17:09:01Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r438939912",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/438939912"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r438939912"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/438939912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3132,
    "side": "RIGHT",
    "in_reply_to_id": 315459878
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439341354",
    "pull_request_review_id": 429637213,
    "id": 439341354,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM0MTM1NA==",
    "diff_hunk": "@@ -3224,7 +3229,10 @@ static UniValue fundrawtransaction(const JSONRPCRequest& request)\n \n     CAmount fee;\n     int change_position;\n-    FundTransaction(pwallet, tx, fee, change_position, request.params[1]);\n+    CCoinControl coin_control;\n+    // Automatically select (additional) coins. Can be overriden by options.add_inputs.\n+    coin_control.m_add_inputs = true;",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 60,
    "original_position": 60,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "9d0ef2a54ed7fa0ff7be8e8033534b016faa4462",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "e5327f947c310849e1ddbb24321e4c9f85564549\r\n\r\nnit\r\n```cpp\r\n// By default new inputs are added automatically. Can be overriden by options.add_inputs.\r\nCHECK_NONFATAL(coin_control.m_add_inputs);\r\n```",
    "created_at": "2020-06-12T10:36:07Z",
    "updated_at": "2020-06-12T10:48:08Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r439341354",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439341354"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r439341354"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439341354/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3234,
    "original_line": 3234,
    "side": "RIGHT",
    "in_reply_to_id": 391311455
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439342462",
    "pull_request_review_id": 429637213,
    "id": 439342462,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM0MjQ2Mg==",
    "diff_hunk": "@@ -3148,8 +3148,8 @@ static UniValue fundrawtransaction(const JSONRPCRequest& request)\n     }\n \n     RPCHelpMan{\"fundrawtransaction\",\n-                \"\\nAdd inputs to a transaction until it has enough in value to meet its out value.\\n\"\n-                \"This will not modify existing inputs, and will add at most one change output to the outputs.\\n\"\n+                \"\\nIf the transaction has no inputs, they will be automatically selected to meet its out value.\\n\"",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 40,
    "original_position": 6,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "e5327f947c310849e1ddbb24321e4c9f85564549\r\n\r\nPrevious text was fine?",
    "created_at": "2020-06-12T10:38:43Z",
    "updated_at": "2020-06-12T10:48:08Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r439342462",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439342462"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r439342462"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439342462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3151,
    "original_line": 3151,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439344856",
    "pull_request_review_id": 429637213,
    "id": 439344856,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM0NDg1Ng==",
    "diff_hunk": "@@ -10,6 +10,7 @@ void CCoinControl::SetNull()\n {\n     destChange = CNoDestination();\n     m_change_type.reset();\n+    m_add_inputs = true;",
    "path": "src/wallet/coincontrol.cpp",
    "position": 4,
    "original_position": 4,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "79804fe24bd00e183382dfbcab9343960d158aa5",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Haven't tested and looks like nobody asked, but can't we use `fAllowOtherInputs` instead?",
    "created_at": "2020-06-12T10:44:19Z",
    "updated_at": "2020-06-12T10:48:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r439344856",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439344856"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r439344856"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439344856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 13,
    "original_line": 13,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439345121",
    "pull_request_review_id": 429637213,
    "id": 439345121,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM0NTEyMQ==",
    "diff_hunk": "@@ -3016,13 +3016,12 @@ static UniValue listunspent(const JSONRPCRequest& request)\n     return results;\n }\n \n-void FundTransaction(CWallet* const pwallet, CMutableTransaction& tx, CAmount& fee_out, int& change_position, UniValue options)\n+void FundTransaction(CWallet* const pwallet, CMutableTransaction& tx, CAmount& fee_out, int& change_position, UniValue options, CCoinControl& coinControl)",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "79804fe24bd00e183382dfbcab9343960d158aa5",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "79804fe24bd00e183382dfbcab9343960d158aa5\r\n\r\nnit, unrelated, could receive options by reference.",
    "created_at": "2020-06-12T10:44:59Z",
    "updated_at": "2020-06-12T10:48:08Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r439345121",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439345121"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r439345121"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439345121/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3019,
    "original_line": 3019,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439391117",
    "pull_request_review_id": 429703225,
    "id": 439391117,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM5MTExNw==",
    "diff_hunk": "@@ -3148,8 +3148,8 @@ static UniValue fundrawtransaction(const JSONRPCRequest& request)\n     }\n \n     RPCHelpMan{\"fundrawtransaction\",\n-                \"\\nAdd inputs to a transaction until it has enough in value to meet its out value.\\n\"\n-                \"This will not modify existing inputs, and will add at most one change output to the outputs.\\n\"\n+                \"\\nIf the transaction has no inputs, they will be automatically selected to meet its out value.\\n\"",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 40,
    "original_position": 6,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "No, the previous text suggests that it always adds inputs. I reworded that to make it clear we only do automatic coin selection if there is no manual coin selection.",
    "created_at": "2020-06-12T12:34:53Z",
    "updated_at": "2020-06-12T12:34:54Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r439391117",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439391117"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r439391117"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439391117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3151,
    "original_line": 3151,
    "side": "RIGHT",
    "in_reply_to_id": 439342462
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439402694",
    "pull_request_review_id": 429718364,
    "id": 439402694,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQwMjY5NA==",
    "diff_hunk": "@@ -10,6 +10,7 @@ void CCoinControl::SetNull()\n {\n     destChange = CNoDestination();\n     m_change_type.reset();\n+    m_add_inputs = true;",
    "path": "src/wallet/coincontrol.cpp",
    "position": 4,
    "original_position": 4,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "79804fe24bd00e183382dfbcab9343960d158aa5",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "That won't work. I think `fAllowOtherInputs` was designed with RBF in mind. It _permits_ adding coins, as long as all the currently selected coins are included. But this PR tries to _prevent_ adding coins.",
    "created_at": "2020-06-12T12:58:36Z",
    "updated_at": "2020-06-12T12:58:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r439402694",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439402694"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r439402694"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439402694/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 13,
    "original_line": 13,
    "side": "RIGHT",
    "in_reply_to_id": 439344856
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440116220",
    "pull_request_review_id": 430563551,
    "id": 440116220,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDExNjIyMA==",
    "diff_hunk": "@@ -2149,6 +2149,11 @@ void CWallet::AvailableCoins(interfaces::Chain::Lock& locked_chain, std::vector<\n         }\n \n         for (unsigned int i = 0; i < wtx.tx->vout.size(); i++) {\n+            // Only consider selected coins if add_inputs is false\n+            if (coinControl && !coinControl->m_add_inputs && !coinControl->IsSelected(COutPoint(entry.first, i))) {",
    "path": "src/wallet/wallet.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "original_commit_id": "e5327f947c310849e1ddbb24321e4c9f85564549",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "ultra nit, cache `IsSelected()` by adding above:\r\n\r\n```cpp\r\nconst bool is_selected = coinControl && coinControl->IsSelected(COutPoint(entry.first, i));\r\n```\r\n\r\nthen use this in L2160 below.",
    "created_at": "2020-06-15T11:42:37Z",
    "updated_at": "2020-06-15T11:42:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r440116220",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440116220"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16377#discussion_r440116220"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16377"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440116220/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2153,
    "original_line": 2153,
    "side": "RIGHT"
  }
]