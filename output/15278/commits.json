[
  {
    "sha": "745a2ace18ce857bc712d7e66c8bad7c082c07e2",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3NDVhMmFjZTE4Y2U4NTdiYzcxMmQ3ZTY2YzhiYWQ3YzA4MmMwN2Uy",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2019-02-01T22:33:33Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2019-02-01T22:33:33Z"
      },
      "message": "Improve PID file removing errors logging",
      "tree": {
        "sha": "60f26c9e402407f4139d1c7e97b1810c75672d2e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/60f26c9e402407f4139d1c7e97b1810c75672d2e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/745a2ace18ce857bc712d7e66c8bad7c082c07e2",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAlxUyT0ACgkQQQEIES5+\nqB9peg//YCXPZupWYPnUHj8EaPWaggSnuBGgduGn5FekNArZa0rSNDpqEQUCmQoD\n0PE05Csiamh9yXLGAHb4JwRTrRmzUIjbcZGgSnmc5pqrmZTRT+sbnpjqR34MGSj7\nhhuKU+cBgjfGgMj5ax0yhcOOLjEgg3jpwxiMLvlLF+xNaOhhTbbv6og0U/5SdIyL\nv7pRAu8XSY5wPHeBpQpOL0MmUm6+ZQG7skdOn7ObVVvynImS6/yM48ihaSvyDrlZ\n5WODlMSycMFevZUPkgA9BKuQ2mjFrm4Brv6wGzg4PZXiki1eSGKqN1EayjLYB1R5\nx8sQo8BXY52aKlE4XZO7VAecfyF+lveGlp9WNyo4MOGYjBCcSpcquHZSAZsg9oT5\nr8lc/LFy9YrYfxZb+U4bwYHBJtlEou93fLp2uHwFJpTqgB8QpFrQJBrB6hjSxPHP\nclgLsW57SZRS4gLqKUOx9QhAIIJx0r2V4cLWFflbYCVx1PAec+tbLtuk3w+lnyQi\nJETJ0cUrd2QLUkdOSMWSgL8KSGGtAWub2eIU45+gEONZBheJm3Hg3W45rT4mAguR\nl9lG7HsmxZ9NmRw1glzU49d4vOfkWPNY6XD6f41lD98ChNaO451kGOFkTvQ2RhIu\nkS1rZ1UCRRMk1aslbfTWXvs7C7I58nvOKRTEsVchCN8Gbs6JaB8=\n=sR8D\n-----END PGP SIGNATURE-----",
        "payload": "tree 60f26c9e402407f4139d1c7e97b1810c75672d2e\nparent 5e0c0fd62ff04178f36fb5219e47fa647df66a38\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1549060413 +0200\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1549060413 +0200\n\nImprove PID file removing errors logging\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/745a2ace18ce857bc712d7e66c8bad7c082c07e2",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/745a2ace18ce857bc712d7e66c8bad7c082c07e2",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/745a2ace18ce857bc712d7e66c8bad7c082c07e2/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5e0c0fd62ff04178f36fb5219e47fa647df66a38",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5e0c0fd62ff04178f36fb5219e47fa647df66a38",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5e0c0fd62ff04178f36fb5219e47fa647df66a38"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 4,
      "deletions": 2
    },
    "files": [
      {
        "sha": "a5cd4d3cd1a94b01b2f3ab88c17925c4e009414f",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 2,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/745a2ace18ce857bc712d7e66c8bad7c082c07e2/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/745a2ace18ce857bc712d7e66c8bad7c082c07e2/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=745a2ace18ce857bc712d7e66c8bad7c082c07e2",
        "patch": "@@ -262,9 +262,11 @@ void Shutdown(InitInterfaces& interfaces)\n \n #ifndef WIN32\n     try {\n-        fs::remove(GetPidFile());\n+        if (!fs::remove(GetPidFile())) {\n+            LogPrintf(\"%s: Unable to remove PID file: File does not exist\\n\", __func__);\n+        }\n     } catch (const fs::filesystem_error& e) {\n-        LogPrintf(\"%s: Unable to remove pidfile: %s\\n\", __func__, e.what());\n+        LogPrintf(\"%s: Unable to remove PID file: %s\\n\", __func__, e.what());\n     }\n #endif\n     interfaces.chain_clients.clear();"
      }
    ]
  },
  {
    "sha": "561e375c73a37934fe77a519762d81edf7a3325c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NjFlMzc1YzczYTM3OTM0ZmU3N2E1MTk3NjJkODFlZGY3YTMzMjVj",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2019-02-01T22:40:36Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2019-02-01T23:07:23Z"
      },
      "message": "Make PID file creating errors fatal",
      "tree": {
        "sha": "f76b7e57e4d74ccbbbfbf0cd6a09f37adf4dab28",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f76b7e57e4d74ccbbbfbf0cd6a09f37adf4dab28"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/561e375c73a37934fe77a519762d81edf7a3325c",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAlxU0SsACgkQQQEIES5+\nqB/iWhAAtDKGWpTPA8raaCBpl+cysSTM+oMXAby7jK+gELBxSTkudeHjx0CO1sn+\npUh2iIQaWZzhM1MzoiocC9RLxCa3lJnltJa3gGgkKW32XcapK/TWhloWZy5zIvkt\nIk+BpGjSZDhD0DEl1GyEcuOiUYF4Dqnh2yuO/RL1zYX1aXlRg5ahzzeGTFPaN6SG\nLPbShO3ryM8HXWMU4TjejKeAGOS8dO9BsgAwnDZi2uZIvqI25VCwyT2lZINU6pqe\nmImc/qphFDRo0IPcHF3DDflZAtkCQSMQm2tAz6Q/8j6AkJYVvwpP1rL0JtpzTEkf\nn/ndB47CBEfcFLuVDhdssZ3gGtEUsTAv6093Y/K5aFkvKPTja/knCwLSgHLCZG80\nyUZZJubSXMw5L8yLKZ/9ibvsNyI73aihDp7HDCTuk4Sk8OEA/J7lJcUFNiR+sccI\nBe1RwLyJWLMl50g9gNBZYHbzkMAj39u0RGaivvkOFa91ktkBwuHB25rq6uaxKrw5\nE1ZVGWldBKd8/rP5ds2QYK0zX9b2LHPW3VEltmDBX3jgolOOzJYwDhm+HqhyWS+S\n6jNXWJoqq40s9+gBW6hMUyfRpyxYdrBPg+qaJS4/uq33DNM8pLhtfD58fkNDRsdu\nIiXcCApDUrNd8sSWc7F1bchUlOsDxBiCHLNx3Fn4MjsaWZ4tvx0=\n=NK2Y\n-----END PGP SIGNATURE-----",
        "payload": "tree f76b7e57e4d74ccbbbfbf0cd6a09f37adf4dab28\nparent 745a2ace18ce857bc712d7e66c8bad7c082c07e2\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1549060836 +0200\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1549062443 +0200\n\nMake PID file creating errors fatal\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/561e375c73a37934fe77a519762d81edf7a3325c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/561e375c73a37934fe77a519762d81edf7a3325c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/561e375c73a37934fe77a519762d81edf7a3325c/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "745a2ace18ce857bc712d7e66c8bad7c082c07e2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/745a2ace18ce857bc712d7e66c8bad7c082c07e2",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/745a2ace18ce857bc712d7e66c8bad7c082c07e2"
      }
    ],
    "stats": {
      "total": 34,
      "additions": 21,
      "deletions": 13
    },
    "files": [
      {
        "sha": "f8be487cb7db9106a77db5e8560e35ac94cb842a",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 20,
        "deletions": 1,
        "changes": 21,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/561e375c73a37934fe77a519762d81edf7a3325c/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/561e375c73a37934fe77a519762d81edf7a3325c/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=561e375c73a37934fe77a519762d81edf7a3325c",
        "patch": "@@ -53,6 +53,8 @@\n #include <stdio.h>\n \n #ifndef WIN32\n+#include <attributes.h>\n+#include <cerrno>\n #include <signal.h>\n #include <sys/stat.h>\n #endif\n@@ -1192,12 +1194,29 @@ bool AppInitLockDataDirectory()\n     return true;\n }\n \n+#ifndef WIN32\n+NODISCARD static bool CreatePidFile()\n+{\n+    FILE* file = fsbridge::fopen(GetPidFile(), \"w\");\n+    if (file) {\n+        fprintf(file, \"%d\\n\", getpid());\n+        fclose(file);\n+        return true;\n+    } else {\n+        return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), GetPidFile().string(), std::strerror(errno)));\n+    }\n+}\n+#endif\n+\n bool AppInitMain(InitInterfaces& interfaces)\n {\n     const CChainParams& chainparams = Params();\n     // ********************************************************* Step 4a: application initialization\n #ifndef WIN32\n-    CreatePidFile(GetPidFile(), getpid());\n+    if (!CreatePidFile()) {\n+        // Detailed error printed inside CreatePidFile().\n+        return false;\n+    }\n #endif\n     if (g_logger->m_print_to_file) {\n         if (gArgs.GetBoolArg(\"-shrinkdebugfile\", g_logger->DefaultShrinkDebugFile())) {"
      },
      {
        "sha": "826845691983c624d3ab545fcd28db6109ab9f6b",
        "filename": "src/util/system.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 10,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/561e375c73a37934fe77a519762d81edf7a3325c/src/util/system.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/561e375c73a37934fe77a519762d81edf7a3325c/src/util/system.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/system.cpp?ref=561e375c73a37934fe77a519762d81edf7a3325c",
        "patch": "@@ -963,16 +963,6 @@ fs::path GetPidFile()\n {\n     return AbsPathForConfigVal(fs::path(gArgs.GetArg(\"-pid\", BITCOIN_PID_FILENAME)));\n }\n-\n-void CreatePidFile(const fs::path &path, pid_t pid)\n-{\n-    FILE* file = fsbridge::fopen(path, \"w\");\n-    if (file)\n-    {\n-        fprintf(file, \"%d\\n\", pid);\n-        fclose(file);\n-    }\n-}\n #endif\n \n bool RenameOver(fs::path src, fs::path dest)"
      },
      {
        "sha": "44ba740e4e07cc223d0b1eaffa84f299fc2f07ff",
        "filename": "src/util/system.h",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/561e375c73a37934fe77a519762d81edf7a3325c/src/util/system.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/561e375c73a37934fe77a519762d81edf7a3325c/src/util/system.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/system.h?ref=561e375c73a37934fe77a519762d81edf7a3325c",
        "patch": "@@ -86,7 +86,6 @@ void ClearDatadirCache();\n fs::path GetConfigFile(const std::string& confPath);\n #ifndef WIN32\n fs::path GetPidFile();\n-void CreatePidFile(const fs::path &path, pid_t pid);\n #endif\n #ifdef WIN32\n fs::path GetSpecialFolderPath(int nFolder, bool fCreate = true);"
      },
      {
        "sha": "2b6c78c2c841b7cab90ce11b831ea1051118029e",
        "filename": "test/lint/lint-locale-dependence.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/561e375c73a37934fe77a519762d81edf7a3325c/test/lint/lint-locale-dependence.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/561e375c73a37934fe77a519762d81edf7a3325c/test/lint/lint-locale-dependence.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/lint/lint-locale-dependence.sh?ref=561e375c73a37934fe77a519762d81edf7a3325c",
        "patch": "@@ -8,6 +8,7 @@ KNOWN_VIOLATIONS=(\n     \"src/dbwrapper.cpp:.*vsnprintf\"\n     \"src/httprpc.cpp.*trim\"\n     \"src/init.cpp:.*atoi\"\n+    \"src/init.cpp:.*fprintf\"\n     \"src/qt/rpcconsole.cpp:.*atoi\"\n     \"src/rest.cpp:.*strtol\"\n     \"src/test/dbwrapper_tests.cpp:.*snprintf\"\n@@ -18,7 +19,6 @@ KNOWN_VIOLATIONS=(\n     \"src/util/strencodings.cpp:.*strtoul\"\n     \"src/util/strencodings.h:.*atoi\"\n     \"src/util/system.cpp:.*atoi\"\n-    \"src/util/system.cpp:.*fprintf\"\n )\n \n REGEXP_IGNORE_EXTERNAL_DEPENDENCIES=\"^src/(crypto/ctaes/|leveldb/|secp256k1/|tinyformat.h|univalue/)\""
      }
    ]
  },
  {
    "sha": "3782075a5fd4ad0c15a6119e8cdaf136898f679e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozNzgyMDc1YTVmZDRhZDBjMTVhNjExOWU4Y2RhZjEzNjg5OGY2Nzll",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2019-02-14T20:53:03Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2019-02-14T20:53:03Z"
      },
      "message": "Move all PID file stuff to init.cpp\n\nIt is only used from init.cpp.\nMove-only refactoring.",
      "tree": {
        "sha": "ab02fc2d18d1cf0348be3e70f876f0e73323120d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ab02fc2d18d1cf0348be3e70f876f0e73323120d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3782075a5fd4ad0c15a6119e8cdaf136898f679e",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAlxl1jgACgkQQQEIES5+\nqB9c/w//V0B1spNgxPIB1MnOkG4NppGn162PDTqR80zTqOIMjjzHfJXHMtx/TIz0\ni5NJ28BmErhy/jHMuksXHFvadtmmKsT1QmZ5tIu6AyowkFL518Pd2TiiZsAQIrXY\nYGwbz5Std+BYsICTp6Vi9R7hjeID9zkNDf9nAGsHpDoin58Ej6mfvOJV0/TElf0A\ngSow3Ll0nY6j+Q4v99UhyieSZYpEd0t5UBcGiqyplDO20W7pHpU4hNUWB6D82SOk\nAvujyNGSdNakZDwgUC9/OkEZQX1z837wP3xnbucFjXyFnKPbcIczTHJit+THpk9Q\nav8UxutsMBxXyBlgESOI5OC4BgXECj0nVkQ9nh6ZOmtGC44NuiVSX4QRla5NsJiw\nQx/GHQSty99A0be+Eip0vKb0rvSAXJ55AYWFu7iC8yjAXOJFLRF4aKaxR4361rT4\npN6/+QpXPMOxXrGvCx0rI5b05DRtjn1E34ocuM4Rj1iK0x11hZ6YLbajUKf5u9++\nVR2HA5Vgu74dLX5eI965j0mYdYPPsbyfIkTOKnjDFotzdoqRxb464Hg/z7bwAfDD\nK61d1VA6hWbw00bXIVjq1yVuRCvxxMyc4UZJfk5CoFDGA4asIYbY2F/auSI6TrDw\njzI9tJ73eIYZTxjuPqY6cmWs8R/m6mmtibIhwpg6Ne1rNTJ1/fc=\n=naiw\n-----END PGP SIGNATURE-----",
        "payload": "tree ab02fc2d18d1cf0348be3e70f876f0e73323120d\nparent 561e375c73a37934fe77a519762d81edf7a3325c\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1550177583 +0200\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1550177583 +0200\n\nMove all PID file stuff to init.cpp\n\nIt is only used from init.cpp.\nMove-only refactoring.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3782075a5fd4ad0c15a6119e8cdaf136898f679e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3782075a5fd4ad0c15a6119e8cdaf136898f679e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3782075a5fd4ad0c15a6119e8cdaf136898f679e/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "561e375c73a37934fe77a519762d81edf7a3325c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/561e375c73a37934fe77a519762d81edf7a3325c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/561e375c73a37934fe77a519762d81edf7a3325c"
      }
    ],
    "stats": {
      "total": 50,
      "additions": 24,
      "deletions": 26
    },
    "files": [
      {
        "sha": "63dc671fdf8657caa3ce9c6d87363811a092c84c",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 24,
        "deletions": 14,
        "changes": 38,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3782075a5fd4ad0c15a6119e8cdaf136898f679e/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3782075a5fd4ad0c15a6119e8cdaf136898f679e/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=3782075a5fd4ad0c15a6119e8cdaf136898f679e",
        "patch": "@@ -94,6 +94,30 @@ std::unique_ptr<BanMan> g_banman;\n \n static const char* FEE_ESTIMATES_FILENAME=\"fee_estimates.dat\";\n \n+/**\n+ * The PID file facilities.\n+ */\n+#ifndef WIN32\n+static const char* BITCOIN_PID_FILENAME = \"bitcoind.pid\";\n+\n+static fs::path GetPidFile()\n+{\n+    return AbsPathForConfigVal(fs::path(gArgs.GetArg(\"-pid\", BITCOIN_PID_FILENAME)));\n+}\n+\n+NODISCARD static bool CreatePidFile()\n+{\n+    FILE* file = fsbridge::fopen(GetPidFile(), \"w\");\n+    if (file) {\n+        fprintf(file, \"%d\\n\", getpid());\n+        fclose(file);\n+        return true;\n+    } else {\n+        return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), GetPidFile().string(), std::strerror(errno)));\n+    }\n+}\n+#endif\n+\n //////////////////////////////////////////////////////////////////////////////\n //\n // Shutdown\n@@ -1194,20 +1218,6 @@ bool AppInitLockDataDirectory()\n     return true;\n }\n \n-#ifndef WIN32\n-NODISCARD static bool CreatePidFile()\n-{\n-    FILE* file = fsbridge::fopen(GetPidFile(), \"w\");\n-    if (file) {\n-        fprintf(file, \"%d\\n\", getpid());\n-        fclose(file);\n-        return true;\n-    } else {\n-        return InitError(strprintf(_(\"Unable to create the PID file '%s': %s\"), GetPidFile().string(), std::strerror(errno)));\n-    }\n-}\n-#endif\n-\n bool AppInitMain(InitInterfaces& interfaces)\n {\n     const CChainParams& chainparams = Params();"
      },
      {
        "sha": "493417442098017ec20fe5f0b122dc16169c7b06",
        "filename": "src/util/system.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 8,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3782075a5fd4ad0c15a6119e8cdaf136898f679e/src/util/system.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3782075a5fd4ad0c15a6119e8cdaf136898f679e/src/util/system.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/system.cpp?ref=3782075a5fd4ad0c15a6119e8cdaf136898f679e",
        "patch": "@@ -79,7 +79,6 @@\n const int64_t nStartupTime = GetTime();\n \n const char * const BITCOIN_CONF_FILENAME = \"bitcoin.conf\";\n-const char * const BITCOIN_PID_FILENAME = \"bitcoind.pid\";\n \n ArgsManager gArgs;\n \n@@ -958,13 +957,6 @@ std::string ArgsManager::GetChainName() const\n     return CBaseChainParams::MAIN;\n }\n \n-#ifndef WIN32\n-fs::path GetPidFile()\n-{\n-    return AbsPathForConfigVal(fs::path(gArgs.GetArg(\"-pid\", BITCOIN_PID_FILENAME)));\n-}\n-#endif\n-\n bool RenameOver(fs::path src, fs::path dest)\n {\n #ifdef WIN32"
      },
      {
        "sha": "5dc796c9ba0578ffccd3c190c762674fe4c2ce9a",
        "filename": "src/util/system.h",
        "status": "modified",
        "additions": 0,
        "deletions": 4,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3782075a5fd4ad0c15a6119e8cdaf136898f679e/src/util/system.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3782075a5fd4ad0c15a6119e8cdaf136898f679e/src/util/system.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/system.h?ref=3782075a5fd4ad0c15a6119e8cdaf136898f679e",
        "patch": "@@ -39,7 +39,6 @@\n int64_t GetStartupTime();\n \n extern const char * const BITCOIN_CONF_FILENAME;\n-extern const char * const BITCOIN_PID_FILENAME;\n \n /** Translate a message to the native language of the user. */\n const extern std::function<std::string(const char*)> G_TRANSLATION_FUN;\n@@ -84,9 +83,6 @@ const fs::path &GetBlocksDir();\n const fs::path &GetDataDir(bool fNetSpecific = true);\n void ClearDatadirCache();\n fs::path GetConfigFile(const std::string& confPath);\n-#ifndef WIN32\n-fs::path GetPidFile();\n-#endif\n #ifdef WIN32\n fs::path GetSpecialFolderPath(int nFolder, bool fCreate = true);\n #endif"
      }
    ]
  }
]