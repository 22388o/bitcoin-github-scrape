laanwj,2018-04-23T10:58:19Z,"Concept ACK, will test and review. THanks a lot for adding this.",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-383535951,383535951,
jonasschnelli,2018-04-23T11:56:23Z,"Nice! Concept ACK.\nThanks for adding this\nOne thought: why not adding this (additionally) to the intro screen (including showing the approximate disk usage reduction)?",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-383549378,383549378,
laanwj,2018-04-23T13:27:20Z,"> The default suggested value is 20 GB; ~1 month of worst case data. Minimum is 1 GB (550 MB rounded up).\n\nWhat would be the motivation to not to default to the minimum?\n\nTested OK:\n- Enabled the checkbox (without changing the default of 20GB), restarted the client, next run it prunes:\n```\n2018-04-23T13:27:38Z init message: Pruning blockstore...\n2018-04-23T13:28:20Z Prune: UnlinkPr",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-383574598,383574598,
Sjors,2018-04-25T10:48:57Z,"> why not adding this (additionally) to the intro screen (including showing the approximate disk usage reduction)?\n\nThat's what I had in mind as well, but I figured it can go in a separate PR.\n\n> What would be the motivation to not to default to the minimum?\n\nTo be on the safe side in case of a very large reorg, e.g. if some contentious user activated soft fork gets majority cumulative",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384245255,384245255,
laanwj,2018-04-25T14:08:57Z,"> To be on the safe side in case of a very large reorg, e.g. if some contentious user activated soft fork gets majority cumulative difficulty after a few weeks. If people think it's overkill, I'm happy to set it to 1 GB. If I remember correctly the limit of 550 MB was decided before SegWit, so maybe 2 GB would be a better default?\n\nOh, right, good point. From what I remember, the minimum was m",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384300279,384300279,
laanwj,2018-04-25T14:10:20Z,"@jonasschnelli can you trigger a build for this PR? Would be useful to have so people can test, I think.",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384300751,384300751,
jonasschnelli,2018-04-26T06:43:08Z,Gitian build: https://bitcoin.jonasschnelli.ch/build/584,https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384530982,384530982,
luke-jr,2018-04-26T07:03:26Z,"This adds a new QSettings prune option, distinct from the conf file. But the option cannot be set separately for GUI vs bitcoind, so this makes no sense...",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384535180,384535180,
jonasschnelli,2018-04-26T07:22:59Z,"> Oh, right, good point. From what I remember, the minimum was meant to be 550 blocks, reserving 1MiB per block, so 550MiB. This is no longer a good assumption with segwit blocks so having a higher default makes sense.\n> \n> Also: NODE_NETWORK_LIMITED (BIP159) requires 288 blocks.\n\nThe `-prune=<value>` is a ""target"" and there is a pruning protection of block files that contain blocks higher",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384540194,384540194,
harding,2018-04-26T15:23:25Z,"Tested it a little bit.  No problems found but here are two things I found unintuitive:\n\n1. There doesn't seem to be any consistency on this screen for where to hover to see the tooltip.  I've draw highlight boxes on a screenshot approximately where hovering shows me a tooltip.  This seems like a somewhat pre-existing inconsistency only made slightly worse by this PR.  (Debian 9, QT5 used)\n ",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384681936,384681936,
harding,2018-04-26T16:07:38Z,"An additional suggestion: if the tooltip isn't already overfull, it might be worth mentioning that the software remains a full node even after limiting block storage, as I find it's a common misconception for people to think that pruned nodes aren't fully validating nodes.  Perhaps saying something like:\n\n> Disables some advanced features but all blocks will still be fully validated. Reverting",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384697917,384697917,
mess110,2018-04-26T17:13:53Z,"Tested ACK https://github.com/bitcoin/bitcoin/pull/13043/commits/a47549348afd96aa902babfdacae0160afcc015e\n\nShould the word `prune` appear in the label? Maybe `Prune block storage to`\n\nnit: if I click the `Limit block storage to` text, nothing happens, but if I click the other texts in the options dialog the corresponding checkbox is ticked.\n\nnit: it is also the only option in the scree",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384719029,384719029,
Sjors,2018-04-30T11:13:23Z,"@luke-jr wrote:\n> This adds a new QSettings prune option, distinct from the conf file. But the option cannot be set separately for GUI vs bitcoind, so this makes no sense...\n\nThat is what I was referring to in the description:\n\n> When combined with #13029 the user, after pruning their node, can safely reset settings and/or use bitcoind without having to edit bitcoin.conf.\n\nIt's why I",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-385369573,385369573,
Sjors,2018-05-15T10:47:57Z,"Rebased, and:\n\n* reduced default to 2 GiB\n* fixed tooltip range and click area\n* included the suggested tooltip text improvement\n* replaced the word ""limit"" with ""prune""\n* added `alt+b` keyboard shortcut, though I can't test that on macOS. Once checked, tab can be used to reached all thee input fields on that screen.\n\nI don't see any way to address ""Needs to not add a QSettings pru",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-389124491,389124491,
harding,2018-05-16T17:41:36Z,"Lightly tested cbede7dbfde83d53ef38d257e9940af5f163b03c (but did not review code).  Updated tooltip and tooltip range LGTM, thanks!",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-389605083,389605083,
mess110,2018-05-16T22:43:39Z,Tested ACK cbede7d,https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-389689197,389689197,
ken2812221,2018-06-07T18:49:15Z,Concept ACK,https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-395525954,395525954,
laanwj,2018-06-11T12:21:11Z,utACK cbede7dbfde83d53ef38d257e9940af5f163b03c,https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-396224451,396224451,
luke-jr,2018-06-12T20:17:58Z,Why was this merged with QSettings?,https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-396719572,396719572,
Sjors,2018-06-13T09:39:51Z,"#12833 gets rid of `QSettings` almost completely. Adding this one setting to the migration there is trivial\n\nIf #11082 makes it into 0.17 then I can remove the `QSettings` stuff in #12833 as if it was never there. \n\n If it takes longer, then the only gotcha is that users need to put `prune=1` in `bitcoin.conf` if you want to use `bitcoind`.",https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-396877991,396877991,
jonasschnelli,2018-06-13T09:49:47Z,Post merge tested ACK,https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-396880832,396880832,
MarcoFalke,2018-04-30T02:17:56Z,note that GB is 1000^3 and 1024^3 is GiB,https://github.com/bitcoin/bitcoin/pull/13043#discussion_r184905109,184905109,src/qt/optionsdialog.cpp
luke-jr,2018-04-30T02:21:15Z,"GB=1024^3 came first, although admittedly we have such precedent already.",https://github.com/bitcoin/bitcoin/pull/13043#discussion_r184905241,184905241,src/qt/optionsdialog.cpp
Sjors,2018-05-15T10:14:30Z,"I'll rename the variable to GiB, to be consistent with `prune` which also uses `MiB`.",https://github.com/bitcoin/bitcoin/pull/13043#discussion_r188234988,188234988,src/qt/optionsdialog.cpp
ken2812221,2018-06-07T18:44:04Z,`enabled` is unused,https://github.com/bitcoin/bitcoin/pull/13043#discussion_r193851352,193851352,src/qt/optionsdialog.cpp
MarcoFalke,2018-06-11T12:26:44Z,^ This is up for grabs,https://github.com/bitcoin/bitcoin/pull/13043#discussion_r194384992,194384992,src/qt/optionsdialog.cpp
