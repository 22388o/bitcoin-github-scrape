ajweiss,2015-07-09T23:26:20Z,"select() is also used in netbase, seems it would make sense to check there.  Also, if connect() were to return an EINVAL for any reason, that could trigger this in netbase.  Have you considered just printing the fd value?  For language I'd go simple ""invalid file descriptor %ud from netbase on connect"". \n",https://github.com/bitcoin/bitcoin/pull/6412#issuecomment-120173358,120173358,
laanwj,2015-07-10T04:59:14Z,utACK\n,https://github.com/bitcoin/bitcoin/pull/6412#issuecomment-120226722,120226722,
sipa,2015-07-10T14:29:49Z,"Updated. The test is now done also in netbase (causing simple failure, as netbase does not usually print error messages), and when creating a listen socket.\n",https://github.com/bitcoin/bitcoin/pull/6412#issuecomment-120422737,120422737,
laanwj,2015-07-10T14:58:10Z,"Needs backport to 0.11 and 0.10 (doesn't seem to involved, I'm willing to do that)\n",https://github.com/bitcoin/bitcoin/pull/6412#issuecomment-120429297,120429297,
sipa,2015-07-10T15:03:59Z,See my branches nonselectsocket-0.11 and nonselectsocket-0.10.\n,https://github.com/bitcoin/bitcoin/pull/6412#issuecomment-120430862,120430862,
sipa,2015-07-10T16:18:46Z,@laanwj Done.\n,https://github.com/bitcoin/bitcoin/pull/6412#issuecomment-120449642,120449642,
laanwj,2015-07-13T11:54:47Z,"This brings up a warning, as SOCKET is defined as unsigned int:\n\n```\ncompat.h: In function ‘bool IsSelectableSocket(SOCKET)’:\ncompat.h:99:18: warning: comparison of unsigned expression >= 0 is always true [-Wtype-limits]\n     return (s >= 0 && s < FD_SETSIZE);\n```\n",https://github.com/bitcoin/bitcoin/pull/6412#issuecomment-120900812,120900812,
laanwj,2015-07-17T20:01:35Z,@sipa are you planning to fix the warning or should we not hold this up on that?\n,https://github.com/bitcoin/bitcoin/pull/6412#issuecomment-122396579,122396579,
laanwj,2015-07-20T15:24:29Z,Backported to 0.11 as e8b87c8f78fd66ebeb10ce5dfcf72b0a5e73f120\nWarning fixed in 89289d875da108c42ca013f33597eda46cb6eb53 (e8b87c8f78fd66ebeb10ce5dfcf72b0a5e73f120 in 0.11)\n\nTo 0.10 as 0739e6e57a4b59966588a79ac2646eb3264c4dfa ae52a7ffd1b3743e76220812c7f581c5c08f975b\n,https://github.com/bitcoin/bitcoin/pull/6412#issuecomment-122917195,122917195,
luke-jr,2015-07-09T22:48:00Z,"Suggest removing "" (file descriptor limit exceeded?)"" since this description is inaccurate and likely to confuse someone trying to debug it.\n",https://github.com/bitcoin/bitcoin/pull/6412#discussion_r34312848,34312848,src/net.cpp
sipa,2015-07-09T22:49:26Z,"""non-selectable socket created"" is completely unhelpful for indicating the reason or helping debug it. So I prefer to explain it a bit at least. Do you have a better suggestion?\n",https://github.com/bitcoin/bitcoin/pull/6412#discussion_r34312941,34312941,src/net.cpp
laanwj,2015-07-10T04:58:39Z,I'd say the file descriptor limit exceeded is the part of the message that matters most.\n,https://github.com/bitcoin/bitcoin/pull/6412#discussion_r34327742,34327742,src/net.cpp
luke-jr,2015-07-10T05:03:23Z,""" (socket cannot be included in fdset)"" perhaps? The actual fd limit very much has _not_ been exceeded in most situations you'd get this error...\n",https://github.com/bitcoin/bitcoin/pull/6412#discussion_r34327845,34327845,src/net.cpp
luke-jr,2015-07-10T05:03:43Z,return s != INVALID_SOCKET; ?\n,https://github.com/bitcoin/bitcoin/pull/6412#discussion_r34327856,34327856,src/compat.h
laanwj,2015-07-10T05:27:50Z,"Well OK @luke-jr is right in that this is not ""the"" file descriptor limit, just the **select** file descriptor limit. Let's just name the beast as it is:\n`Cannot create connection: non-selectable socket created (>=FD_SETSIZE)`\n",https://github.com/bitcoin/bitcoin/pull/6412#discussion_r34328449,34328449,src/net.cpp
laanwj,2015-07-10T05:32:26Z,"Don' think it should double as ""is this an error return value""\n",https://github.com/bitcoin/bitcoin/pull/6412#discussion_r34328587,34328587,src/compat.h
laanwj,2015-07-10T16:00:37Z,`strprintf` doesn't work without arguments (and is redundant)\n,https://github.com/bitcoin/bitcoin/pull/6412#discussion_r34368791,34368791,src/net.cpp
