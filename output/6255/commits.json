[
  {
    "sha": "757a1aa2a9c5322b1962de08bb39f34673fb5f73",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3NTdhMWFhMmE5YzUzMjJiMTk2MmRlMDhiYjM5ZjM0NjczZmI1Zjcz",
    "commit": {
      "author": {
        "name": "Peter Todd",
        "email": "pete@petertodd.org",
        "date": "2015-06-05T18:47:36Z"
      },
      "committer": {
        "name": "Peter Todd",
        "email": "pete@petertodd.org",
        "date": "2015-06-05T18:47:36Z"
      },
      "message": "Add -requirestandard command line option\n\nPreviousy there was no way to enable IsStandard() in testnet or regtest,\nmaking testing related to standardness difficult. This new option lets\nyou (optionally) enable IsStandard() during testing, better\napproximating the behavior of mainnet.",
      "tree": {
        "sha": "a33bd9c45060bc0fa9f632ef29f0640708fb9b82",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a33bd9c45060bc0fa9f632ef29f0640708fb9b82"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/757a1aa2a9c5322b1962de08bb39f34673fb5f73",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGrBAABCACVBQJVce7KXhSAAAAAABUAQGJsb2NraGFzaEBiaXRjb2luLm9yZzAw\nMDAwMDAwMDAwMDAwMDAwYjJmNDY4N2YwNGQ3YjY5ZWEyMmZmMTQwNzZmODI4MDcz\nYzkzOWJmOGNkMGNiZTcvFIAAAAAAFQARcGthLWFkZHJlc3NAZ251cGcub3JncGV0\nZUBwZXRlcnRvZC5vcmcACgkQwIXyHOf0udzfSQf/fyOUYbYii5QeeSdjd8FVZRsP\n49Nxx6SyZ3kIQL/odeuWbMnoM1ofQ8g/dNelzK3spsSaaqXajZObyA9jCpAIYMcg\nVPq/+lohTT/MAeNu2SxMk7Y7c3ek0J+b4vt2qrERaZxm99JEtgF5I7DCzI4aYDMP\nmaN5RGIFNCsBXr5tjrmX18FgThAdi/oCYAfj2ynV+1ylK4BDXJrg8THwaSPdiVz1\nNL4XJi+acWjevFcyVtiwnyW/dh09ogoRaBeGg0alazR5ScF7wcOmYBvrHeHS35Yg\nWOdtt4V4+i12siLJLiuuOT0zh5nu29pZc3B2n18ztBl1jzVKIbVM1tyywhcafA==\n=TpBk\n-----END PGP SIGNATURE-----",
        "payload": "tree a33bd9c45060bc0fa9f632ef29f0640708fb9b82\nparent ab20ae807961982c54e92675bee4c4000b990b7b\nauthor Peter Todd <pete@petertodd.org> 1433530056 -0230\ncommitter Peter Todd <pete@petertodd.org> 1433530056 -0230\n\nAdd -requirestandard command line option\n\nPreviousy there was no way to enable IsStandard() in testnet or regtest,\nmaking testing related to standardness difficult. This new option lets\nyou (optionally) enable IsStandard() during testing, better\napproximating the behavior of mainnet.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/757a1aa2a9c5322b1962de08bb39f34673fb5f73",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/757a1aa2a9c5322b1962de08bb39f34673fb5f73",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/757a1aa2a9c5322b1962de08bb39f34673fb5f73/comments",
    "author": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ab20ae807961982c54e92675bee4c4000b990b7b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ab20ae807961982c54e92675bee4c4000b990b7b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ab20ae807961982c54e92675bee4c4000b990b7b"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 3,
      "deletions": 2
    },
    "files": [
      {
        "sha": "f4f019ff6242ca146ade7d668fdf4f620d932a16",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/757a1aa2a9c5322b1962de08bb39f34673fb5f73/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/757a1aa2a9c5322b1962de08bb39f34673fb5f73/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=757a1aa2a9c5322b1962de08bb39f34673fb5f73",
        "patch": "@@ -394,6 +394,7 @@ std::string HelpMessage(HelpMessageMode mode)\n     }\n     strUsage += HelpMessageOpt(\"-shrinkdebugfile\", _(\"Shrink debug.log file on client startup (default: 1 when no -debug)\"));\n     strUsage += HelpMessageOpt(\"-testnet\", _(\"Use the test network\"));\n+    strUsage += HelpMessageOpt(\"-requirestandard\", _(\"Require transactions to be standard even in testnet/regtest\"));\n \n     strUsage += HelpMessageGroup(_(\"Node relay options:\"));\n     strUsage += HelpMessageOpt(\"-datacarrier\", strprintf(_(\"Relay and mine data carrier transactions (default: %u)\"), 1));"
      },
      {
        "sha": "42e2ac6dae1474415da3a7596da5f4cf60583cfb",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/757a1aa2a9c5322b1962de08bb39f34673fb5f73/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/757a1aa2a9c5322b1962de08bb39f34673fb5f73/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=757a1aa2a9c5322b1962de08bb39f34673fb5f73",
        "patch": "@@ -898,7 +898,7 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n \n     // Rather not work on nonstandard transactions (unless -testnet/-regtest)\n     string reason;\n-    if (Params().RequireStandard() && !IsStandardTx(tx, reason))\n+    if ((Params().RequireStandard() || GetBoolArg(\"-requirestandard\", false)) && !IsStandardTx(tx, reason))\n         return state.DoS(0,\n                          error(\"AcceptToMemoryPool: nonstandard transaction: %s\", reason),\n                          REJECT_NONSTANDARD, reason);\n@@ -969,7 +969,7 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         }\n \n         // Check for non-standard pay-to-script-hash in inputs\n-        if (Params().RequireStandard() && !AreInputsStandard(tx, view))\n+        if ((Params().RequireStandard() || GetBoolArg(\"-requirestandard\", false)) && !AreInputsStandard(tx, view))\n             return error(\"AcceptToMemoryPool: nonstandard transaction input\");\n \n         // Check that the transaction doesn't have an excessive number of"
      }
    ]
  }
]