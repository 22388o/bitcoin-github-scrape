luke-jr,2015-06-08T21:14:22Z,This option has historically been called -acceptnonstdtxn; best to keep compatible with that. It should also work on mainnet.\n,https://github.com/bitcoin/bitcoin/pull/6255#issuecomment-110142300,110142300,
luke-jr,2015-06-08T22:45:43Z,"If the scope is to be limited to just non-mainnet, I suggest something like:\n\n``` C++\nif (chainparams.RequireStandard() && GetArg(""-acceptnonstdtxn"", false))\n  return InitError(_(""acceptnonstdtxn is not currently supported for %s chain"", chainparams.strNetworkID));\n```\n",https://github.com/bitcoin/bitcoin/pull/6255#issuecomment-110165000,110165000,
laanwj,2015-06-09T12:19:03Z,"Concept ACK.\n\nI think using the same option for mainnet and testnet makes it too easy to accidentally disable it on mainnnet, though (blame that on using the same conf file for testnet and mainnet...).\n",https://github.com/bitcoin/bitcoin/pull/6255#issuecomment-110336043,110336043,
petertodd,2015-06-09T14:49:25Z,I'd be more inclined to use the name -acceptnonstdtxn if we were planning on actually adding a way to disable IsStandard() on mainnet; if not I'm with @laanwj \n,https://github.com/bitcoin/bitcoin/pull/6255#issuecomment-110390096,110390096,
luke-jr,2015-06-09T18:43:13Z,"@petertodd Policy is not something the dev team ought to be deciding, so a way to easily disable IsStandard on mainnet is only reasonable.\n\n@laanwj Maybe we should include ~/.bitcoin/testnet3/bitcoin.conf on top of the main config?\n",https://github.com/bitcoin/bitcoin/pull/6255#issuecomment-110460830,110460830,
petertodd,2015-06-09T21:35:53Z,"@luke-jr It's a fair point, although we need some code to make that somewhat safe, e.g. re: excess sigops attacks. Also IIRC you can still add enough hash ops/etc. to make a block that takes excessively long to verify.\n",https://github.com/bitcoin/bitcoin/pull/6255#issuecomment-110510898,110510898,
luke-jr,2015-06-09T21:38:29Z,"@petertodd My branch already adds that. I suggest just forbidding it here (see previous code snippet) to limit the scope of complexity in this PR, though.\n",https://github.com/bitcoin/bitcoin/pull/6255#issuecomment-110511603,110511603,
jgarzik,2015-06-10T04:52:23Z,concept ACK\n,https://github.com/bitcoin/bitcoin/pull/6255#issuecomment-110588160,110588160,
laanwj,2015-06-12T15:43:26Z,"> @laanwj Maybe we should include ~/.bitcoin/testnet3/bitcoin.conf on top of the main config?\n\nThe location of the configuration is primarily driven by the `-conf` option. This configuration file can specify the data directory, as well as `-testnet`, `-regtest`. Thus reading another configuration file depending on the network would make the option processing even more complex. In retrospect, a (",https://github.com/bitcoin/bitcoin/pull/6255#issuecomment-111531768,111531768,
petertodd,2015-07-03T14:34:32Z,Closing as Luke-jr's #6329 was merged instead.\n,https://github.com/bitcoin/bitcoin/pull/6255#issuecomment-118364528,118364528,
Diapolo,2015-06-08T21:11:51Z,Nit: Can you please add the `(default: %d)` here and set it to `0` after the string?\n,https://github.com/bitcoin/bitcoin/pull/6255#discussion_r31960048,31960048,src/init.cpp
petertodd,2015-06-08T21:16:24Z,"To be clear, the way -requirestandard works is that it can only turn on IsStandard() - it can't turn it off. Turning off IsStandard() is problematic on mainnet due to DoS attacks, and this simplistic implementation doesn't have any code to prevent those DoS attacks. (like @luke-jr's -acceptnonstdtxn patch does)\n\nWith the above in mind, would you still say the -help text should have the default t",https://github.com/bitcoin/bitcoin/pull/6255#discussion_r31960538,31960538,src/init.cpp
Diapolo,2015-06-08T21:20:35Z,"Perhaps you should somehow disallow setting it to false on mainnet or only allow setting it on testnet/regtest then? Or extend the help message explaining that fact? Dunno what is best, but an option without a default looks strange IMHO.\n",https://github.com/bitcoin/bitcoin/pull/6255#discussion_r31960930,31960930,src/init.cpp
petertodd,2015-06-08T21:24:31Z,"I didn't want to make setting it on mainnet cause any issues, as it's annoying to have scripts and bitcoin.conf files where changing from mainnet to testnet requires more than a single flag to be set; I think the help text as-is gives the impression sufficiently. After all, the fact that it _doesn't_ have the default to me at least implies it's an option that only does something when set, and that",https://github.com/bitcoin/bitcoin/pull/6255#discussion_r31961355,31961355,src/init.cpp
