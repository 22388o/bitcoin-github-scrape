sipa,2017-07-25T00:53:35Z,"I think you missed something. There are three directories that matter:\n* $DATADIR/blocks (raw blocks)\n* $DATADIR/blocks/index (LevelDB database with information about raw blocks)\n* $DATADIR/chainstate (LevelDB database that holds the UTXO set)\n\nThe first is high-bandwidth, low IO. The second has hardly any activity at all. The third is where all activity happens, and is critical for perf",https://github.com/bitcoin/bitcoin/pull/10922#issuecomment-317596359,317596359,
jimhashhq,2017-07-25T01:14:36Z,"Hi @sipa, thank you very much for the prompt follow up.  Per your feedback, I have updated the doc to explicitly call out that chainstate folder must also stay on a fast (internal) disk.  The ""file-partition.md"" notes I made should describe:\n\n- Installing $datadir to local internal disk (so ""chainstate"" will never need to move).\n- Start/stop bitcoind (though maybe this isn't necessary).\n- ",https://github.com/bitcoin/bitcoin/pull/10922#issuecomment-317599566,317599566,
jimhashhq,2017-07-25T15:57:19Z,"""file-partition.md""has been updated to highlight the need to keep ""chainstate"" folder on a fast (internal) drive in addition to ""index"" files as per @sipa.  Thanks @fanquake for adding the label.   This issue seems also related to ""installation"" and/or ""configuration""; I did not see either of these as bitcoin project label categories, was thinking they might prove useful as well.  Thank you both f",https://github.com/bitcoin/bitcoin/pull/10922#issuecomment-317784348,317784348,
sipa,2017-08-02T20:06:44Z,"Your document is still suggesting to split the blocks/ directory from the blocks/index/ directory. Please don't do that; it's dangerous (they need to be in sync), and unnecessary (the blocks/index/ directory hardly sees any I/O). You should just suggest to move the chainstate/ to a faster drive compared to blocks/.",https://github.com/bitcoin/bitcoin/pull/10922#issuecomment-319783071,319783071,
laanwj,2017-10-04T12:47:42Z,"> (the blocks/index/ directory hardly sees any I/O). \n\nExcept with `-txindex` I guess :(",https://github.com/bitcoin/bitcoin/pull/10922#issuecomment-334143848,334143848,
laanwj,2017-11-30T15:39:25Z,"@jimhashhq I think this is pretty good, certainly as a start. Can you please address the comments and squash?",https://github.com/bitcoin/bitcoin/pull/10922#issuecomment-348225735,348225735,
laanwj,2017-11-30T15:46:56Z,"> Please don't do that; it's dangerous (they need to be in sync)\n\nAlso: sometimes there's the problem with the leveldb not supporting the filesystem that the `blocks/` directory points to. I think this happens with some network filesystems. If `blocks/index` is on the same partition that will never work :/ (see e.g. #10787)",https://github.com/bitcoin/bitcoin/pull/10922#issuecomment-348228177,348228177,
jimhashhq,2017-12-01T01:13:42Z,"My apologies for not getting back sooner, I was ill but am feeling better.\nI think my intent here was just to share/communicate my experiences with ""symlink(ing) out the block-files (the large part)"" as mentioned in issue #10787 referenced above, thanks.\nI was hoping this experience might prove useful to others on low end commodity hardware who wish to store the blocks on an external USB.  Tha",https://github.com/bitcoin/bitcoin/pull/10922#issuecomment-348372508,348372508,
laanwj,2017-12-13T07:34:09Z,"> I was hoping this experience might prove useful to others on low end commodity hardware who wish to store the blocks on an external USB. Thanks!\n\nWhy close?",https://github.com/bitcoin/bitcoin/pull/10922#issuecomment-351307725,351307725,
achow101,2017-07-31T20:16:47Z,"Instead of killing the process, you should use `bitcoin-cli stop`. ",https://github.com/bitcoin/bitcoin/pull/10922#discussion_r130450125,130450125,doc/file-partition.md
achow101,2017-07-31T20:17:11Z,What's with the muptiple languages here?,https://github.com/bitcoin/bitcoin/pull/10922#discussion_r130450219,130450219,doc/file-partition.md
jimhashhq,2017-08-02T20:02:45Z,"Again, good question, thank you.  To me, the ""key finding"" here (if any, really) is simply that the ""index"" folder by default is nested *within* the ""blocks"" folder, unlike the ""chainstate"" folder which is a sibling folder of ""blocks"".  This *slightly* complicates moving the ""blocks"" folder off of the internal disk to an external disk; my apologies for repeating the obvious.  Database administrato",https://github.com/bitcoin/bitcoin/pull/10922#discussion_r130980902,130980902,doc/file-partition.md
jimhashhq,2017-08-02T22:45:48Z,"At issue still is the value in the last column of the 1st row above (the index file folder ""i/o Frequency""; is it high or low).  My experience suggests that the index folder files are indeed high frequency, which is really the impetus for this doc; if they were not high frequency I would not have looked into this re-configuration detail.  I only identified this possible re-configuration pitfall (w",https://github.com/bitcoin/bitcoin/pull/10922#discussion_r131016160,131016160,doc/file-partition.md
flack,2017-08-05T10:32:47Z,typo: `EXTERAL`,https://github.com/bitcoin/bitcoin/pull/10922#discussion_r131519672,131519672,doc/file-partition.md
arowser,2017-12-04T04:07:24Z,"should be ""block folder""?",https://github.com/bitcoin/bitcoin/pull/10922#discussion_r154556411,154556411,doc/file-partition.md
jimhashhq,2017-12-04T16:33:28Z,"Corrected, thanks!",https://github.com/bitcoin/bitcoin/pull/10922#discussion_r154701071,154701071,doc/file-partition.md
