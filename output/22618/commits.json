[
  {
    "sha": "aa79c912608fdc77c69dd43653aa87f1f34e01dd",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphYTc5YzkxMjYwOGZkYzc3YzY5ZGQ0MzY1M2FhODdmMWYzNGUwMWRk",
    "commit": {
      "author": {
        "name": "Amiti Uttarwar",
        "email": "amiti@uttarwar.org",
        "date": "2021-08-03T16:25:38Z"
      },
      "committer": {
        "name": "Amiti Uttarwar",
        "email": "amiti@uttarwar.org",
        "date": "2021-08-04T19:36:22Z"
      },
      "message": "[docs] Add release notes for #21528\n\nAnd fix a typo in the test.",
      "tree": {
        "sha": "f77819b3e0746c6b2614f1b228eaa8087311effb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f77819b3e0746c6b2614f1b228eaa8087311effb"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aa79c912608fdc77c69dd43653aa87f1f34e01dd",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aa79c912608fdc77c69dd43653aa87f1f34e01dd",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/aa79c912608fdc77c69dd43653aa87f1f34e01dd",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aa79c912608fdc77c69dd43653aa87f1f34e01dd/comments",
    "author": {
      "login": "amitiuttarwar",
      "id": 1500952,
      "node_id": "MDQ6VXNlcjE1MDA5NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amitiuttarwar",
      "html_url": "https://github.com/amitiuttarwar",
      "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
      "following_url": "https://api.github.com/users/amitiuttarwar/following{/other_user}",
      "gists_url": "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
      "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
      "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
      "events_url": "https://api.github.com/users/amitiuttarwar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "amitiuttarwar",
      "id": 1500952,
      "node_id": "MDQ6VXNlcjE1MDA5NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amitiuttarwar",
      "html_url": "https://github.com/amitiuttarwar",
      "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
      "following_url": "https://api.github.com/users/amitiuttarwar/following{/other_user}",
      "gists_url": "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
      "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
      "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
      "events_url": "https://api.github.com/users/amitiuttarwar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "eaf09bda4ab21f79f89822d2c6fa3d7a3ce57b0d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eaf09bda4ab21f79f89822d2c6fa3d7a3ce57b0d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/eaf09bda4ab21f79f89822d2c6fa3d7a3ce57b0d"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 6,
      "deletions": 2
    },
    "files": [
      {
        "sha": "5637f168bb89a880ae28e4c9faafb915125e1683",
        "filename": "doc/release-notes.md",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/aa79c912608fdc77c69dd43653aa87f1f34e01dd/doc/release-notes.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/aa79c912608fdc77c69dd43653aa87f1f34e01dd/doc/release-notes.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-notes.md?ref=aa79c912608fdc77c69dd43653aa87f1f34e01dd",
        "patch": "@@ -57,6 +57,10 @@ Notable changes\n P2P and network changes\n -----------------------\n \n+- A bitcoind node will no longer rumour addresses to inbound peers by default.\n+  They will become eligible for address gossip after sending an ADDR, ADDRV2,\n+  or GETADDR message. (#21528)\n+\n Updated RPCs\n ------------\n "
      },
      {
        "sha": "8821f680b33548c043141532c200ae93531f52e4",
        "filename": "src/wallet/test/spend_tests.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/aa79c912608fdc77c69dd43653aa87f1f34e01dd/src/wallet/test/spend_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/aa79c912608fdc77c69dd43653aa87f1f34e01dd/src/wallet/test/spend_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/test/spend_tests.cpp?ref=aa79c912608fdc77c69dd43653aa87f1f34e01dd",
        "patch": "@@ -54,7 +54,7 @@ BOOST_FIXTURE_TEST_CASE(SubtractFee, TestChain100Setup)\n     // Send full input minus more than the fee amount to recipient, check\n     // leftover input amount is paid to recipient not the miner (to_reduce ==\n     // -123). This overpays the recipient instead of overpaying the miner more\n-    // than double the neccesary fee.\n+    // than double the necessary fee.\n     BOOST_CHECK_EQUAL(fee, check_tx(fee + 123));\n }\n "
      },
      {
        "sha": "113e1f9492d8ffff41ba7f481ad6b735344ec026",
        "filename": "test/functional/p2p_addr_relay.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/aa79c912608fdc77c69dd43653aa87f1f34e01dd/test/functional/p2p_addr_relay.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/aa79c912608fdc77c69dd43653aa87f1f34e01dd/test/functional/p2p_addr_relay.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/p2p_addr_relay.py?ref=aa79c912608fdc77c69dd43653aa87f1f34e01dd",
        "patch": "@@ -179,7 +179,7 @@ def relay_tests(self):\n         # of the outbound peer which is often sent before the GETADDR response.\n         assert_equal(inbound_peer.num_ipv4_received, 0)\n \n-        # Send an empty ADDR message to intialize address relay on this connection.\n+        # Send an empty ADDR message to initialize address relay on this connection.\n         inbound_peer.send_and_ping(msg_addr())\n \n         self.log.info('Check that subsequent addr messages sent from an outbound peer are relayed')"
      }
    ]
  },
  {
    "sha": "9778b0fec13c047a4c7f3ae425d044da26eadc81",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5Nzc4YjBmZWMxM2MwNDdhNGM3ZjNhZTQyNWQwNDRkYTI2ZWFkYzgx",
    "commit": {
      "author": {
        "name": "Amiti Uttarwar",
        "email": "amiti@uttarwar.org",
        "date": "2021-08-03T16:26:29Z"
      },
      "committer": {
        "name": "Amiti Uttarwar",
        "email": "amiti@uttarwar.org",
        "date": "2021-08-04T19:36:22Z"
      },
      "message": "[net_processing] Provide debug error if code assumptions change.\n\nCurrently, this call to SetupAddressRelay will never return false because of\nthe previous guard that returns early if the peer is not an inbound connection.\nRather than implicitly relying on this guarantee, throw an error in the debug\nbuild if it ever changes.",
      "tree": {
        "sha": "513563858889dc0c96518809792acae2fcf715d5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/513563858889dc0c96518809792acae2fcf715d5"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9778b0fec13c047a4c7f3ae425d044da26eadc81",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9778b0fec13c047a4c7f3ae425d044da26eadc81",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/9778b0fec13c047a4c7f3ae425d044da26eadc81",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9778b0fec13c047a4c7f3ae425d044da26eadc81/comments",
    "author": {
      "login": "amitiuttarwar",
      "id": 1500952,
      "node_id": "MDQ6VXNlcjE1MDA5NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amitiuttarwar",
      "html_url": "https://github.com/amitiuttarwar",
      "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
      "following_url": "https://api.github.com/users/amitiuttarwar/following{/other_user}",
      "gists_url": "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
      "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
      "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
      "events_url": "https://api.github.com/users/amitiuttarwar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "amitiuttarwar",
      "id": 1500952,
      "node_id": "MDQ6VXNlcjE1MDA5NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1500952?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amitiuttarwar",
      "html_url": "https://github.com/amitiuttarwar",
      "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
      "following_url": "https://api.github.com/users/amitiuttarwar/following{/other_user}",
      "gists_url": "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
      "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
      "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
      "events_url": "https://api.github.com/users/amitiuttarwar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "aa79c912608fdc77c69dd43653aa87f1f34e01dd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aa79c912608fdc77c69dd43653aa87f1f34e01dd",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/aa79c912608fdc77c69dd43653aa87f1f34e01dd"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 3,
      "deletions": 1
    },
    "files": [
      {
        "sha": "754567420c37a25d7625e6be94c94a98960d6953",
        "filename": "src/net_processing.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9778b0fec13c047a4c7f3ae425d044da26eadc81/src/net_processing.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9778b0fec13c047a4c7f3ae425d044da26eadc81/src/net_processing.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net_processing.cpp?ref=9778b0fec13c047a4c7f3ae425d044da26eadc81",
        "patch": "@@ -3744,7 +3744,9 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             return;\n         }\n \n-        SetupAddressRelay(pfrom, *peer);\n+        // Since this must be an inbound connection, SetupAddressRelay will\n+        // never fail.\n+        Assume(SetupAddressRelay(pfrom, *peer));\n \n         // Only send one GetAddr response per connection to reduce resource waste\n         // and discourage addr stamping of INV announcements."
      }
    ]
  }
]