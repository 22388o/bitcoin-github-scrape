morcos,2015-12-07T02:30:22Z,"@MarcoFalke were these the only changes necessary to make all the RPC tests work with fees only and no longer depend priority?  If so, that's fantastic, huge concept ACK.\n",https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-162391215,162391215,
MarcoFalke,2015-12-07T08:24:12Z,"@morcos Yes, as pointed out in https://github.com/luke-jr/bitcoin/commit/e4d7271457140ef36b2b0eee7ebb5783e8ccadb4#commitcomment-14810804 there is currently no rpc test to exercise priority sufficiently. (If you look at the diff, the only check was ""Create a free transaction and a child and see if the child pays a fee."" )\n",https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-162446573,162446573,
jonasschnelli,2015-12-09T07:58:49Z,@MarcoFalke: I'm not fully understanding this PR (and it seems other also have problem with it). Could you update the PR description?\n,https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-163144621,163144621,
MarcoFalke,2015-12-09T08:01:16Z,"Oops, forgot to mention this is a cleanup PR of #7022. (Ideally it should have been squashed in there)\n",https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-163144985,163144985,
MarcoFalke,2015-12-10T19:27:27Z,I've been running the extended tests (excluded `pruning.py`) with `assert(fee!=0)` in mempool to verify there are no zero-fee transactions any more. Haven't yet checked for free transactions (per policy) though.\n,https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-163725799,163725799,
morcos,2015-12-10T21:33:31Z,"ACK\nThanks for doing this, I agree I should have done it originally.\n",https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-163755769,163755769,
petertodd,2015-12-11T04:09:07Z,Concept ACK\n,https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-163834602,163834602,
dcousens,2015-12-11T05:15:03Z,utACK\n,https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-163843260,163843260,
MarcoFalke,2016-01-07T18:46:15Z,"- Travis passes\n- Extended tests do not fail with `assert(nFees!=0);` and `assert(nFees >= ::minRelayTxFee.GetFee(nSize));` in mempool.\n\nIf someone wants to verify this, maybe the following diff might be useful:\n\n`$ qa/pull-tester/rpc-tests.py -extended; git diff`\n\n``` diff\ndiff --git a/qa/pull-tester/rpc-tests.py b/qa/pull-tester/rpc-tests.py\nindex e7173fd..bb89d65 100755\n--- a/qa/pull-",https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-169769968,169769968,
laanwj,2016-01-20T12:46:35Z,Needs rebase\n,https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-173194392,173194392,
MarcoFalke,2016-01-22T12:16:15Z,@morcos I think @laanwj is waiting for you to re-ACK this.\n,https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-173902205,173902205,
morcos,2016-01-22T12:19:10Z,I can't re-ACK right now as I'm out of town.  I extensively reviewed and tested the first version.  Without knowing what changed I don't know how to re-ACK without redoing all that work.\n,https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-173902638,173902638,
MarcoFalke,2016-01-22T12:27:43Z,The only actual content conflict is in the line where I remove `-blockprioritysize=50000`. If you tell me the commit you reviewed initially I can upload it for you.\n\nIndirect content conflicts are two rpc test which rely on priority transaction getting accepted into the mempool:\n- abandonconflict.py\n- prioritise_transaction.py\n\nBut those can be addressed in a later pull. (I will only focus o,https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-173907809,173907809,
laanwj,2016-01-22T12:34:10Z,"utACK\n\nAs this is only a test change, and the test still passes after this, I think it's OK for merging even without re-ACK from @morcos.\n",https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-173909095,173909095,
dcousens,2015-12-07T00:52:34Z,"For those unfamiliar with this test, could you explain why this is necessary?\n",https://github.com/bitcoin/bitcoin/pull/7177#discussion_r46779746,46779746,qa/rpc-tests/mempool_reorg.py
MarcoFalke,2015-12-07T08:03:08Z,"- By changing the amount you send in a raw transaction, you adjust the fee. Thus we get a `0.01 BTC` fee here. (The exact fee does not matter for this test but it should be `0.0148 BTC > fee > 0.00001 BTC`)\n- Current master is broken with free transactions (because it is already running with blockprioritysize=0), so we need the fee here\n",https://github.com/bitcoin/bitcoin/pull/7177#discussion_r46794065,46794065,qa/rpc-tests/mempool_reorg.py
dcousens,2015-12-09T10:20:47Z,Thanks @MarcoFalke\n,https://github.com/bitcoin/bitcoin/pull/7177#discussion_r47072849,47072849,qa/rpc-tests/mempool_reorg.py
