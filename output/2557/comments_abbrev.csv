gmaxwell,2013-04-23T22:19:16Z,"ACK. Reduces FD usage in my torture test from 500 to 112.\n\nHowever,  112 + 125 is awful close to 256, so I'm still concerned about OSX.\n",https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-16890393,16890393,
Diapolo,2013-04-25T15:47:12Z,"This seems to cause massive issues for me on Win7 x64, I often get the message that I need to reindex because of a broken database or sometimes only `Database I/O error`. I now removed that patch and start over to see if that is helping me.\n",https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17015367,17015367,
sipa,2013-04-25T22:04:37Z,"@Diapolo That would be bad and unexpected news. I don't see how that could cause/worsen that, but we never know of course. Can you confirm it's related to this?\n",https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17043425,17043425,
Diapolo,2013-04-26T08:06:51Z,"I sent @gmaxwell a copy of my coinstate folder, with which I had the problem. Currently I'm 73 weeks behind with a client that doesn't have this patch active. After it synced without error I'll restart with this patch applied and a bootstrap (which contains 50% of the current blocks on the net) + re-sync.\n",https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17060345,17060345,
Diapolo,2013-04-26T15:07:00Z,No crashes without the patch... testing with it again now.\n,https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17079981,17079981,
Diapolo,2013-04-26T16:05:02Z,"Again, `Database I/O error` with the patch applied...\n`2013-04-26 16:02:19 LevelDB read failure: IO error: C:\Users\Diapolo\AppData\Roaming\Bitcoin\chainstate\000223.sst: Could not create random access file.`\n",https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17083613,17083613,
Diapolo,2013-04-26T17:46:11Z,"Perhaps we should just remove that patch for Windows, as per http://msdn.microsoft.com/en-us/library/6e3b887c.aspx\n\n""Up to 2,048 files can be open simultaneously at the lowio level (that is, opened and accessed by means of the _open, _read, _write, and so forth family of I/O functions). Up to 512 files can be open simultaneously at the stdio level (that is, opened and accessed by means of the fo",https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17089040,17089040,
sipa,2013-04-26T18:05:15Z,"@Diapolo I'd rather find the reason for this crash, as this patch should not have any difference at all during IBD.\n",https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17090146,17090146,
sipa,2013-04-27T00:54:03Z,@Diapolo Can you retry with #2580 compiled in?\n,https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17107487,17107487,
Diapolo,2013-04-27T10:06:10Z,"@sipa Sure, I'll take a look later...\n",https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17113710,17113710,
Diapolo,2013-04-27T10:40:42Z,@sipa \n\nSeems the error was the same as I posted in the chat yesterday:\n2013-04-27 10:15:34 LevelDB read failure: IO error: C:\Users\Diapolo\AppData\Roaming\Bitcoin\chainstate\000446.sst: Could not create random access file.\n2013-04-27 10:15:34 LevelDB error encountered: IO error: C:\Users\Diapolo\AppData\Roaming\Bitcoin\chainstate\000446.sst: Could not create random access file.\n2013-04-27 1,https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17114093,17114093,
sipa,2013-04-27T18:08:55Z,@Diapolo Feel like retrying with the commits in https://github.com/sipa/bitcoin/commits/win32ldberr ?\n,https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17120541,17120541,
