[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/415028681",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-415028681",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 415028681,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTAyODY4MQ==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-22T13:19:05Z",
    "updated_at": "2018-08-22T13:19:05Z",
    "author_association": "MEMBER",
    "body": "Nice! strong concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/415028681/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/415978714",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-415978714",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 415978714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTk3ODcxNA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-25T15:56:53Z",
    "updated_at": "2018-08-25T15:56:53Z",
    "author_association": "MEMBER",
    "body": "Fixed a bug where the keymetadata wasn't being written to the wallet file. Also added a test for that case.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/415978714/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/416752152",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-416752152",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 416752152,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjc1MjE1Mg==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-28T21:48:36Z",
    "updated_at": "2018-08-28T21:48:36Z",
    "author_association": "MEMBER",
    "body": "Rebased and also changed the keymeta stuff to add the hd master key id at key generation and when the wallet is first loaded.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/416752152/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/418360569",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-418360569",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 418360569,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODM2MDU2OQ==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-04T13:08:16Z",
    "updated_at": "2018-09-04T13:08:16Z",
    "author_association": "MEMBER",
    "body": "Rebased",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/418360569/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/421036433",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-421036433",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 421036433,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTAzNjQzMw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-13T14:54:10Z",
    "updated_at": "2018-09-13T14:54:10Z",
    "author_association": "MEMBER",
    "body": "Concept ACK, thanks for working on this",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/421036433/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430013400",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-430013400",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 430013400,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDAxMzQwMA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-15T21:07:05Z",
    "updated_at": "2018-10-15T21:07:05Z",
    "author_association": "MEMBER",
    "body": "I will rework this to not require #14019 as soon as I have time (in a few days)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430013400/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/434167968",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-434167968",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 434167968,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDE2Nzk2OA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-30T04:27:31Z",
    "updated_at": "2018-10-30T04:27:31Z",
    "author_association": "MEMBER",
    "body": "Closing for now due to the big changes to importmulti from #14454 and #14565. Perhaps it would be better to put more effort into supporting this through output descriptors rather than adding more data to importmulti.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/434167968/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435986356",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-435986356",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 435986356,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTk4NjM1Ng==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-05T18:40:10Z",
    "updated_at": "2018-11-05T18:40:10Z",
    "author_association": "MEMBER",
    "body": "+1 for only supporting this with descriptors. Suggest rebasing on #14491, as that currently doesn't save origin info into the wallet.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435986356/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436138880",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-436138880",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 436138880,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjEzODg4MA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-06T05:51:07Z",
    "updated_at": "2018-11-06T05:51:07Z",
    "author_association": "MEMBER",
    "body": "Rebased onto #14491 ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436138880/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436174156",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-436174156",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 436174156,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjE3NDE1Ng==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-06T08:45:06Z",
    "updated_at": "2018-11-06T08:45:06Z",
    "author_association": "MEMBER",
    "body": "@achow101 can you do a `git commit -a --amend --date \"$(date)\"` on your own commits so that they appear _after_ the unmerged upstream stuff? It's a bit hard to tell now which commits to review.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436174156/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436193667",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-436193667",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 436193667,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjE5MzY2Nw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-06T09:51:18Z",
    "updated_at": "2018-11-06T09:51:18Z",
    "author_association": "MEMBER",
    "body": "Seeing some warnings (might be upstream):\r\n<img width=\"1155\" alt=\"schermafbeelding 2018-11-06 om 10 33 51\" src=\"https://user-images.githubusercontent.com/10217/48055268-7b5cb600-e1af-11e8-85f3-90d2c15bce87.png\">\r\n\r\nKey origin info from `importmulti` now nicely shows up now in `getaddressinfo`. However, like the upstream PR, it generate invalid psbt's. I tried with a watch-only wallet, manually providing a change address (which isn't used): \r\n\r\n```\r\nsrc/bitcoin-cli -rpcwallet=... walletcreatefundedpsbt '[{\"txid\": \"...\", \"vout\": 0}]' '[{\"...\": 0.1}]' 0 '{\"includeWatching\":  true, \"subtractFeeFromOutputs\": [0], \"changeAddress\": \"...\"}' true\r\n\r\n{\r\n  \"psbt\": \"...\",\r\n  \"fee\": 0.00002200,\r\n  \"changepos\": -1\r\n}\r\n\r\nsrc/bitcoin-cli -rpcwallet=... decodepsbt \"...\"\r\nerror code: -22\r\nerror message:\r\nTX decode failed Size of key was not the expected size for the type BIP32 keypath: unspecified iostream_category error\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436193667/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436197671",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-436197671",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 436197671,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjE5NzY3MQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-06T10:04:04Z",
    "updated_at": "2018-11-06T10:04:24Z",
    "author_association": "MEMBER",
    "body": "If we narrow this PR to `WALLET_FLAG_DISABLE_PRIVATE_KEYS` wallets, would that allow you to just reuse `hdseedid` rather than undeprecating and repurposing `hdmasterkeyid `?\r\n\r\nAnd/or if we set `hdseedid` during `importmulti`, would that save you from having to upgrade the wallet version? I.e. get rid of  b0c7bbd4c460fdeb5a91d34f75e96eb115e37598?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436197671/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436268852",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-436268852",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 436268852,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjI2ODg1Mg==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-06T14:21:32Z",
    "updated_at": "2018-11-06T14:21:32Z",
    "author_association": "MEMBER",
    "body": "> If we narrow this PR to WALLET_FLAG_DISABLE_PRIVATE_KEYS wallets, would that allow you to just reuse hdseedid rather than undeprecating and repurposing hdmasterkeyid ?\r\n\r\nYes, but I don't really like that. It would mean that hdseedid has two meanings, depending on whether private keys are disabled. It's definition would not be consistent.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436268852/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436275588",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-436275588",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 436275588,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjI3NTU4OA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-06T14:41:15Z",
    "updated_at": "2018-11-06T14:41:15Z",
    "author_association": "MEMBER",
    "body": "@Sjors I've updated the dates on my commits and fixed the lock issue I believe. I am unable to replicate the creation of invalid PSBTs though. The PSBTs I have created for testing are correct.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436275588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436300283",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-436300283",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 436300283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjMwMDI4Mw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-06T15:47:01Z",
    "updated_at": "2018-11-06T15:47:01Z",
    "author_association": "MEMBER",
    "body": "Isn't the only difference between `hdseedid` and `hdmasterkeyid` that the key with `hdseedid` MAY be present in the wallet (for `!WALLET_FLAG_DISABLE_PRIVATE_KEYS`)? It MAY also be absent for keys generated before `encryptwallet` (which replaces the wallet seed). They both refer to a master key that generated a set of keys in the wallet.\r\n\r\nIf we migrate to a descriptor based wallet, there would be no difference in treatment between keys with `hdseedid` and keys `hdmasterkeyid` . Or am I missing something? cc @sipa",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436300283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436306115",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-436306115",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 436306115,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjMwNjExNQ==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-06T16:01:36Z",
    "updated_at": "2018-11-06T16:01:36Z",
    "author_association": "MEMBER",
    "body": "`hdseedid` is the ID of the seed. To get the master key id, the seed needs to be used to generate the master private key, and then the `masterkeyid` generated from that. There's one extra step of abstraction. The hd seed is not the same as the master private key.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436306115/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436578136",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-436578136",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 436578136,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjU3ODEzNg==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-07T10:28:46Z",
    "updated_at": "2018-11-07T10:28:46Z",
    "author_association": "MEMBER",
    "body": "@achow101 ah, I didn't know about the extra step from seed to master key. That makes sense then.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436578136/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/437260776",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-437260776",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 437260776,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzI2MDc3Ng==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-09T06:09:52Z",
    "updated_at": "2019-02-15T00:08:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14075](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14075.html) (Import watch only pubkeys to the keypool if private keys are disabled by achow101)\n* [#13756](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/13756.html) (wallet: \"avoid_reuse\" wallet flag for improved privacy by kallewoof)\n* [#13751](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/13751.html) (Utils and libraries: Drops the boost/algorithm/string/split.hpp dependency by 251Labs)\n* [#13541](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/13541.html) (wallet/rpc: sendrawtransaction maxfeerate by kallewoof)\n* [#11803](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/11803.html) (Bugfix: RPC/Wallet: Include HD key metadata in dumpwallet by luke-jr)\n* [#10973](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/10973.html) (Refactor: separate wallet from node by ryanofsky)\n* [#10102](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/10102.html) ([experimental] Multiprocess bitcoin by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/437260776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440356170",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-440356170",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 440356170,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDM1NjE3MA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-20T17:19:33Z",
    "updated_at": "2018-11-20T17:29:04Z",
    "author_association": "MEMBER",
    "body": "Without meaning to expand the number of PR's we need to keep track of, but if this is merged then the `dumpwallet` improvement in #11803 should be updated to look for `master_key_id`. Currently it won't print `master_key_id` and skips origin info.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440356170/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447622669",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-447622669",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 447622669,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzYyMjY2OQ==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-16T07:13:56Z",
    "updated_at": "2018-12-16T07:13:56Z",
    "author_association": "MEMBER",
    "body": "Rebased",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447622669/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/449746584",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-449746584",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 449746584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTc0NjU4NA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-24T15:27:50Z",
    "updated_at": "2018-12-24T15:27:50Z",
    "author_association": "MEMBER",
    "body": "Rebased",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/449746584/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462203035",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-462203035",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 462203035,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjIwMzAzNQ==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-11T01:58:05Z",
    "updated_at": "2019-02-11T01:58:05Z",
    "author_association": "MEMBER",
    "body": "> Why are you hardcoding a maximum derivation depth of 4?\r\n\r\nI'm not. Where do you see that it does?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462203035/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462251161",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-462251161",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 462251161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjI1MTE2MQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-11T08:39:05Z",
    "updated_at": "2019-02-11T08:39:05Z",
    "author_association": "MEMBER",
    "body": "@achow101 oops, I was confusing the fingerprint (fixed size 4) with path (already a vector). All good then!\r\n\r\nutACK 7f84a25, changes since last tACK:\r\n* more comments\r\n* using insert:\r\n<img width=\"639\" alt=\"schermafbeelding 2019-02-11 om 09 37 44\" src=\"https://user-images.githubusercontent.com/10217/52552515-d1f61380-2de0-11e9-99e4-1e10040becf6.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462251161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462678416",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-462678416",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 462678416,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjY3ODQxNg==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-12T09:12:08Z",
    "updated_at": "2019-02-12T09:12:08Z",
    "author_association": "MEMBER",
    "body": "> In order to make this easier to use, the `hdmasterkeyid` field in `getaddressinfo` has been changed to actually give the HD master key id instead of the seed id\r\n\r\nThis is no longer true with the code change, please update the post (as it will be included in git).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462678416/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462845331",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-462845331",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 462845331,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Mjg0NTMzMQ==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-12T17:06:23Z",
    "updated_at": "2019-02-12T17:06:23Z",
    "author_association": "MEMBER",
    "body": "Addressed comments and updated OP",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462845331/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463115589",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463115589",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463115589,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzExNTU4OQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T09:01:58Z",
    "updated_at": "2019-02-13T09:01:58Z",
    "author_association": "MEMBER",
    "body": "@achow101 wrote inline:\r\n> Adding a `null` field would cause a lot of code churn. Instead I've changed `CKeyMetadata` to have a boolean that indicates whether the `key_origin` is valid. Let me know what you think of that; if it's good, I'll squash the commit down.\r\n\r\n@ajtowns wrote:\r\n> Looks better to me\r\n\r\nAgreed, utACK 4908b37 (modulo squash)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463115589/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463245398",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463245398",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463245398,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzI0NTM5OA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T15:35:59Z",
    "updated_at": "2019-02-13T15:35:59Z",
    "author_association": "MEMBER",
    "body": "Squashed",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463245398/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463257287",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463257287",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463257287,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzI1NzI4Nw==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T16:05:02Z",
    "updated_at": "2019-02-13T16:05:02Z",
    "author_association": "MEMBER",
    "body": "Explicit null key_origin is welcomed change.\r\n\r\nI don't think you have addressed the encrypted wallet migration issue with your preferred fix?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463257287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463312820",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463312820",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463312820,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzMxMjgyMA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T18:30:33Z",
    "updated_at": "2019-02-13T18:30:33Z",
    "author_association": "MEMBER",
    "body": "> I don't think you have addressed the encrypted wallet migration issue with your preferred fix?\r\n\r\nHmm. I thought I pushed that. It must've gotten lost in a rebase somewhere. Pushed it now.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463312820/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463314468",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463314468",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463314468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzMxNDQ2OA==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T18:35:25Z",
    "updated_at": "2019-02-13T18:35:25Z",
    "author_association": "MEMBER",
    "body": "utACK https://github.com/bitcoin/bitcoin/pull/14021/commits/4486b36762a7ab395d1f01b941d83243af6450d4",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463314468/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463337032",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463337032",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463337032,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzMzNzAzMg==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T19:35:54Z",
    "updated_at": "2019-02-13T19:35:54Z",
    "author_association": "MEMBER",
    "body": "@instagibbs wrote inline:\r\n\r\n> Since this is called on load, does the user need to unlock an encrypted wallet?\r\n\r\n@achow101 wrote:\r\n> There are a few options to solve this. We could not upgrade the key metadata if we can't calculate the master key id. Or we could use the hd seed id instead if the correct master key id can't be calculated.\r\n\r\n> I am tending to go towards the second solution. While it technically is not the master key id, this information is really only used for/needed for descriptors and PSBT. Any wallet that already exists does not need this information. If this ends up in PSBT, that's fine since the BIP 32 derivation paths are just information for the signer. In this case, the signer is Bitcoin Core, and it doesn't use the derivation paths. We just need to put something there that won't cause problems for other signers.\r\n\r\nI don't like this approach; more assumptions than necessary. It seems safer to also run this from `CWallet::Unlock`.\r\n\r\nThe rest of 4486b36 looks good to me.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463337032/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463338878",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463338878",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463338878,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzMzODg3OA==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T19:40:54Z",
    "updated_at": "2019-02-13T19:40:54Z",
    "author_association": "MEMBER",
    "body": "@Sjors would it make the first unlock surprisingly long?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463338878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463343546",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463343546",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463343546,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzM0MzU0Ng==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T19:53:47Z",
    "updated_at": "2019-02-13T19:53:47Z",
    "author_association": "MEMBER",
    "body": "I'm assuming updating metadata entries is extremely fast, but haven't tested that. You could potentially spit out a warning on first unlock (although that might stress out applications that consume std::out).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463343546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463348875",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463348875",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463348875,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzM0ODg3NQ==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T20:08:43Z",
    "updated_at": "2019-02-13T20:08:43Z",
    "author_association": "MEMBER",
    "body": "> I don't like this approach; more assumptions than necessary. It seems safer to also run this from `CWallet::Unlock`.\r\n\r\nThere's a bit of a problem with doing that. If the wallet is not unlocked but a user decides to use `walletprocesspsbt` with `bip32derivs` set to `true`, then the resulting psbt will have a bogus master key fingerprint. It's writing uninitialized memory to the psbt. This is both a problem in this PR (without the change I just pushed) and in master.\r\n\r\n> I'm assuming updating metadata entries is extremely fast\r\n\r\nit takes several seconds.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463348875/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463374961",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463374961",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463374961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzM3NDk2MQ==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-13T21:16:49Z",
    "updated_at": "2019-02-13T21:18:03Z",
    "author_association": "MEMBER",
    "body": "I've reverted that change. In the new push, the key metadata will be upgraded on unlocking the wallet or on loading if the wallet is unencrypted. However, due to the issue I mentioned earlier, I've changed `GetKeyOrigin` to return the `KeyOriginInfo` for keys whose metadata has not been upgraded to just be as if it were an independent key.\r\n\r\nI also added release notes which mention this change.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463374961/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463562487",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463562487",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463562487,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzU2MjQ4Nw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T09:47:53Z",
    "updated_at": "2019-02-14T09:47:53Z",
    "author_association": "MEMBER",
    "body": "tACK b384060ff modulo squash.\r\n\r\nAppVeyor failure is same as on master.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463562487/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463666656",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463666656",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463666656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzY2NjY1Ng==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T15:21:33Z",
    "updated_at": "2019-02-14T15:21:33Z",
    "author_association": "MEMBER",
    "body": "Squashed",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463666656/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463677315",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463677315",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463677315,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzY3NzMxNQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T15:47:56Z",
    "updated_at": "2019-02-14T15:47:56Z",
    "author_association": "MEMBER",
    "body": "utACK a8a7103",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463677315/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463751352",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463751352",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463751352,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Mzc1MTM1Mg==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T19:05:20Z",
    "updated_at": "2019-02-14T19:05:20Z",
    "author_association": "MEMBER",
    "body": "utACK https://github.com/bitcoin/bitcoin/pull/14021/commits/8fff73cb092e609505f6a0a14c2fe4d8d80479dd",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463751352/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463768524",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463768524",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463768524,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Mzc2ODUyNA==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T19:52:33Z",
    "updated_at": "2019-02-14T19:52:33Z",
    "author_association": "MEMBER",
    "body": "only change is WALLET_FLAG_KEY_ORIGIN_METADATA flag from 0 to 1.\r\n\r\nre-utACK https://github.com/bitcoin/bitcoin/pull/14021/commits/1b1c6aa276f24ff85392915c3b557e2343c88252",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463768524/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463768588",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463768588",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463768588,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Mzc2ODU4OA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T19:52:44Z",
    "updated_at": "2019-02-14T19:52:44Z",
    "author_association": "MEMBER",
    "body": "utACK 1b1c6aa",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463768588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463819661",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463819661",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463819661,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzgxOTY2MQ==",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T22:06:53Z",
    "updated_at": "2019-02-14T22:06:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK 1b1c6aa276f24ff85392915c3b557e2343c88252",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463819661/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463835198",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463835198",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463835198,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzgzNTE5OA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T22:52:20Z",
    "updated_at": "2019-02-14T22:52:20Z",
    "author_association": "MEMBER",
    "body": "oops, screwed up that most recent push, don't merge yet",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463835198/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463840215",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#issuecomment-463840215",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14021",
    "id": 463840215,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Mzg0MDIxNQ==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-14T23:10:25Z",
    "updated_at": "2019-02-14T23:10:25Z",
    "author_association": "MEMBER",
    "body": "Changes since @sipa's are just nit-fixes, a new test, and a missing brace bugfix :+1:",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463840215/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213773700",
    "pull_request_review_id": 150679873,
    "id": 213773700,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzc3MzcwMA==",
    "diff_hunk": "@@ -560,6 +560,14 @@ bool ParseHDKeypath(const std::string& keypath_str, std::vector<uint32_t>& keypa\n         // Finds whether it is hardened\n         uint32_t path = 0;\n         size_t pos = item.find(\"'\");\n+        if (pos == std::string::npos) {\n+            // Look for h",
    "path": "src/utilstrencodings.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "8065a31ad807adf7f03e50034ef28c8bc4f1f396",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why?",
    "created_at": "2018-08-29T17:48:14Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r213773700",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213773700"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r213773700"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213773700/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 565,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213784592",
    "pull_request_review_id": 150693201,
    "id": 213784592,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzc4NDU5Mg==",
    "diff_hunk": "@@ -560,6 +560,14 @@ bool ParseHDKeypath(const std::string& keypath_str, std::vector<uint32_t>& keypa\n         // Finds whether it is hardened\n         uint32_t path = 0;\n         size_t pos = item.find(\"'\");\n+        if (pos == std::string::npos) {\n+            // Look for h",
    "path": "src/utilstrencodings.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "8065a31ad807adf7f03e50034ef28c8bc4f1f396",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "why not? This is quite standard.",
    "created_at": "2018-08-29T18:20:46Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r213784592",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213784592"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r213784592"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213784592/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 565,
    "side": "RIGHT",
    "in_reply_to_id": 213773700
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213824850",
    "pull_request_review_id": 150743360,
    "id": 213824850,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzgyNDg1MA==",
    "diff_hunk": "@@ -560,6 +560,14 @@ bool ParseHDKeypath(const std::string& keypath_str, std::vector<uint32_t>& keypa\n         // Finds whether it is hardened\n         uint32_t path = 0;\n         size_t pos = item.find(\"'\");\n+        if (pos == std::string::npos) {\n+            // Look for h",
    "path": "src/utilstrencodings.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "8065a31ad807adf7f03e50034ef28c8bc4f1f396",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It's fairly standard to use `h` or `H` as the indicator, not just `'`. In fact, the BIP uses `H`, but as a subscript. `'` is not actually used as the indicator for hardened in the BIP even though that is what everyone uses.\r\n\r\nThe main reason for allowing this is so that you don't have to do any annoying escaping stuff for the `'` when entering the keypaths on the command line.",
    "created_at": "2018-08-29T20:34:54Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r213824850",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213824850"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r213824850"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213824850/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 565,
    "side": "RIGHT",
    "in_reply_to_id": 213773700
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232174140",
    "pull_request_review_id": 173313233,
    "id": 232174140,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjE3NDE0MA==",
    "diff_hunk": "@@ -202,6 +202,10 @@ bool ConvertBits(const O& outfn, I it, I end) {\n /** Parse an HD keypaths like \"m/7/0'/2000\". */\n bool ParseHDKeypath(const std::string& keypath_str, std::vector<uint32_t>& keypath);\n \n+/** Write HD keypaths as strings */\n+std::string WriteHdKeypath(const std::vector<uint32_t> keypath);",
    "path": "src/util/strencodings.h",
    "position": null,
    "original_position": 5,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "09995963827b7be1163a50d894490daf182b7a78",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should be const reference?",
    "created_at": "2018-11-09T08:34:53Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r232174140",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232174140"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r232174140"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232174140/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 204,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232174240",
    "pull_request_review_id": 173313362,
    "id": 232174240,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjE3NDI0MA==",
    "diff_hunk": "@@ -587,6 +587,21 @@ bool ParseHDKeypath(const std::string& keypath_str, std::vector<uint32_t>& keypa\n     return true;\n }\n \n+std::string FormatKeyPath(const std::vector<uint32_t>& path)\n+{\n+    std::string ret;\n+    for (auto i : path) {\n+        ret += strprintf(\"/%i\", (i << 1) >> 1);\n+        if (i >> 31) ret += '\\'';\n+    }\n+    return ret;\n+}\n+\n+std::string WriteHdKeypath(const std::vector<uint32_t> keypath)",
    "path": "src/util/strencodings.cpp",
    "position": null,
    "original_position": 14,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "09995963827b7be1163a50d894490daf182b7a78",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should be const reference?",
    "created_at": "2018-11-09T08:35:20Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r232174240",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232174240"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r232174240"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232174240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 600,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234431398",
    "pull_request_review_id": 176078110,
    "id": 234431398,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNDQzMTM5OA==",
    "diff_hunk": "@@ -587,6 +587,21 @@ bool ParseHDKeypath(const std::string& keypath_str, std::vector<uint32_t>& keypa\n     return true;\n }\n \n+std::string FormatKeyPath(const std::vector<uint32_t>& path)\n+{\n+    std::string ret;\n+    for (auto i : path) {\n+        ret += strprintf(\"/%i\", (i << 1) >> 1);\n+        if (i >> 31) ret += '\\'';\n+    }\n+    return ret;\n+}\n+\n+std::string WriteHdKeypath(const std::vector<uint32_t> keypath)",
    "path": "src/util/strencodings.cpp",
    "position": null,
    "original_position": 14,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "f78e8bce75861d3836c337f8b5d6ebd158cc6c11",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "IMO this function name is misleading, it is not \"writing\" anywhere, it is a formatting function",
    "created_at": "2018-11-18T07:11:05Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r234431398",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234431398"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r234431398"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234431398/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 600,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234431839",
    "pull_request_review_id": 176078110,
    "id": 234431839,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNDQzMTgzOQ==",
    "diff_hunk": "@@ -4383,3 +4383,18 @@ bool CWallet::GetKeyOrigin(const CKeyID& keyID, KeyOriginInfo& info) const\n     }\n     return true;\n }\n+\n+bool CWallet::AddKeyOrigin(const CPubKey& pubkey, const KeyOriginInfo& info)\n+{\n+    LOCK(cs_wallet);\n+    std::vector<unsigned char> fingerprint_data(20, 0);\n+    fingerprint_data[0] = info.fingerprint[0];\n+    fingerprint_data[1] = info.fingerprint[1];\n+    fingerprint_data[2] = info.fingerprint[2];\n+    fingerprint_data[3] = info.fingerprint[3];",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "1e60b5eb28163178fac2aeeff01f804edf53f0ee",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "why not `std::copy()`?",
    "created_at": "2018-11-18T07:29:06Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r234431839",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234431839"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r234431839"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234431839/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4386,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234434357",
    "pull_request_review_id": 176078110,
    "id": 234434357,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNDQzNDM1Nw==",
    "diff_hunk": "@@ -3536,7 +3536,9 @@ UniValue getaddressinfo(const JSONRPCRequest& request)\n         if (!meta->hdKeypath.empty()) {\n             ret.pushKV(\"hdkeypath\", meta->hdKeypath);\n             ret.pushKV(\"hdseedid\", meta->hd_seed_id.GetHex());\n-            ret.pushKV(\"hdmasterkeyid\", meta->hd_seed_id.GetHex());\n+            if (!meta->master_key_id.IsNull()) {\n+                ret.pushKV(\"hdmasterkeyid\", meta->master_key_id.GetHex());",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 15,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "f1c55f7b3ccb036364a46de4648423b25543f868",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`master_key_id` will often be only filled with the fingerprint rather than the entire ID, perhaps make a note in the help text above or only output the first 4 bytes in that case rather than a lot of zeroes too?\r\n\r\nAn alternative is to just always store the fingerprint in metadata, never the whole key, because I don't think it's used anywhere else.",
    "created_at": "2018-11-18T09:04:15Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r234434357",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234434357"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r234434357"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234434357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3690,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234434577",
    "pull_request_review_id": 176078110,
    "id": 234434577,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNDQzNDU3Nw==",
    "diff_hunk": "@@ -632,5 +639,52 @@ def run_test (self):\n         result = self.nodes[1].getaddressinfo(address[\"address\"])\n         assert_equal(result['ismine'], True)\n \n+        # Import pubkeys with key origin info\n+        self.log.info(\"Addresses should have hd keypath and master key id after import with key origin\")\n+        pub_addr = self.nodes[1].getnewaddress()\n+        pub_addr = self.nodes[1].getnewaddress()",
    "path": "test/functional/wallet_importmulti.py",
    "position": 7,
    "original_position": 21,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "09995963827b7be1163a50d894490daf182b7a78",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why call twice? Is it just to have a non-zero keypath index? Perhaps add comment if deliberate",
    "created_at": "2018-11-18T09:11:38Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r234434577",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234434577"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r234434577"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234434577/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 632,
    "original_line": 632,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243854205",
    "pull_request_review_id": 187726762,
    "id": 243854205,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0Mzg1NDIwNQ==",
    "diff_hunk": "@@ -3536,7 +3536,9 @@ UniValue getaddressinfo(const JSONRPCRequest& request)\n         if (!meta->hdKeypath.empty()) {\n             ret.pushKV(\"hdkeypath\", meta->hdKeypath);\n             ret.pushKV(\"hdseedid\", meta->hd_seed_id.GetHex());\n-            ret.pushKV(\"hdmasterkeyid\", meta->hd_seed_id.GetHex());\n+            if (!meta->master_key_id.IsNull()) {\n+                ret.pushKV(\"hdmasterkeyid\", meta->master_key_id.GetHex());",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 15,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "f1c55f7b3ccb036364a46de4648423b25543f868",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I've changed this to use the fingerprint by adding `KeyOriginInfo` to `CKeyMetadata`.",
    "created_at": "2018-12-24T19:20:56Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r243854205",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243854205"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r243854205"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243854205/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3690,
    "side": "RIGHT",
    "in_reply_to_id": 234434357
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243854211",
    "pull_request_review_id": 187726768,
    "id": 243854211,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0Mzg1NDIxMQ==",
    "diff_hunk": "@@ -632,5 +639,52 @@ def run_test (self):\n         result = self.nodes[1].getaddressinfo(address[\"address\"])\n         assert_equal(result['ismine'], True)\n \n+        # Import pubkeys with key origin info\n+        self.log.info(\"Addresses should have hd keypath and master key id after import with key origin\")\n+        pub_addr = self.nodes[1].getnewaddress()\n+        pub_addr = self.nodes[1].getnewaddress()",
    "path": "test/functional/wallet_importmulti.py",
    "position": 7,
    "original_position": 21,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "09995963827b7be1163a50d894490daf182b7a78",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Added a comment.",
    "created_at": "2018-12-24T19:21:04Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r243854211",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243854211"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r243854211"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243854211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 632,
    "original_line": 632,
    "side": "RIGHT",
    "in_reply_to_id": 234434577
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297110",
    "pull_request_review_id": 201861254,
    "id": 255297110,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI5NzExMA==",
    "diff_hunk": "@@ -177,6 +177,7 @@ class WalletBatch\n     bool WriteTx(const CWalletTx& wtx);\n     bool EraseTx(uint256 hash);\n \n+    bool WriteKeyMetadata(const CKeyMetadata& meta, const CPubKey& pubkey, const bool overwrite);",
    "path": "src/wallet/walletdb.h",
    "position": 50,
    "original_position": 4,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "b1b35b88a2e64ee07e74cc90b346ce2fc417bb7b",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: add documentation",
    "created_at": "2019-02-09T12:19:11Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255297110",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297110"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255297110"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 191,
    "original_line": 191,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297257",
    "pull_request_review_id": 201861254,
    "id": 255297257,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI5NzI1Nw==",
    "diff_hunk": "@@ -93,11 +94,13 @@ class CKeyMetadata\n public:\n     static const int VERSION_BASIC=1;\n     static const int VERSION_WITH_HDDATA=10;\n-    static const int CURRENT_VERSION=VERSION_WITH_HDDATA;\n+    static const int VERSION_WITH_KEY_ORIGIN = 12;\n+    static const int CURRENT_VERSION=VERSION_WITH_KEY_ORIGIN;\n     int nVersion;\n     int64_t nCreateTime; // 0 means unknown\n-    std::string hdKeypath; //optional HD/bip32 keypath\n+    std::string hdKeypath; //optional HD/bip32 keypath. Still used to determine whether a key is a seed. ALso kept for backwards compatibility",
    "path": "src/wallet/walletdb.h",
    "position": null,
    "original_position": 18,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: `ALso`\r\n\r\nSee above comment, I prefer adding a `bool` to explicitly track if a key is a seed. ",
    "created_at": "2019-02-09T12:25:57Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255297257",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297257"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255297257"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297257/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 101,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297318",
    "pull_request_review_id": 201861254,
    "id": 255297318,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI5NzMxOA==",
    "diff_hunk": "@@ -3715,10 +3715,10 @@ UniValue getaddressinfo(const JSONRPCRequest& request)\n     }\n     if (meta) {\n         ret.pushKV(\"timestamp\", meta->nCreateTime);\n-        if (!meta->hdKeypath.empty()) {\n-            ret.pushKV(\"hdkeypath\", meta->hdKeypath);\n+        if (!meta->key_origin.IsNull()) {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 15,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Note for other reviewers: we process `hdKeyPath` and add `key_origin` equivalents in `CWallet::UpgradeKeyMetadata()`. So there's no case where `key_origin.IsNull()` without also `meta->hdKeypath.empty()` ",
    "created_at": "2019-02-09T12:29:03Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255297318",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297318"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255297318"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297318/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3717,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297333",
    "pull_request_review_id": 201861254,
    "id": 255297333,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI5NzMzMw==",
    "diff_hunk": "@@ -3715,10 +3715,10 @@ UniValue getaddressinfo(const JSONRPCRequest& request)\n     }\n     if (meta) {\n         ret.pushKV(\"timestamp\", meta->nCreateTime);\n-        if (!meta->hdKeypath.empty()) {\n-            ret.pushKV(\"hdkeypath\", meta->hdKeypath);\n+        if (!meta->key_origin.IsNull()) {\n+            ret.pushKV(\"hdkeypath\", WriteHdKeypath(meta->key_origin.path));\n             ret.pushKV(\"hdseedid\", meta->hd_seed_id.GetHex());\n-            ret.pushKV(\"hdmasterkeyid\", meta->hd_seed_id.GetHex());\n+            ret.pushKV(\"hdmasterfingerprint\", HexStr(meta->key_origin.fingerprint, meta->key_origin.fingerprint + 4));",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 43,
    "original_position": 19,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: `key_origin` should have a `ToString()` method (you're adding something like this in a later commit, though that's for the whole origin)",
    "created_at": "2019-02-09T12:29:37Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255297333",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297333"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255297333"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3728,
    "original_line": 3728,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297793",
    "pull_request_review_id": 201861254,
    "id": 255297793,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI5Nzc5Mw==",
    "diff_hunk": "@@ -29,6 +29,25 @@ struct KeyOriginInfo\n     {\n         return std::equal(std::begin(a.fingerprint), std::end(a.fingerprint), std::begin(b.fingerprint)) && a.path == b.path;\n     }\n+\n+    ADD_SERIALIZE_METHODS;\n+    template <typename Stream, typename Operation>\n+    inline void SerializationOp(Stream& s, Operation ser_action)\n+    {\n+        READWRITE(fingerprint);\n+        READWRITE(path);\n+    }\n+\n+    void SetNull()\n+    {\n+        memset(fingerprint, 0, 4);",
    "path": "src/script/sign.h",
    "position": 23,
    "original_position": 15,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: why not make `fingerprint` a ~ `std::vector<unsigned char>` and use `clear()` on it too?",
    "created_at": "2019-02-09T12:49:23Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255297793",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297793"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255297793"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255297793/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 43,
    "original_line": 43,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255298564",
    "pull_request_review_id": 201861254,
    "id": 255298564,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI5ODU2NA==",
    "diff_hunk": "@@ -329,6 +337,36 @@ bool CWallet::WriteKeyMetadata(const CKeyMetadata& meta, const CPubKey& pubkey,\n     return WalletBatch(*database).WriteKeyMetadata(meta, pubkey, overwrite);\n }\n \n+void CWallet::UpgradeKeyMetadata()\n+{\n+    AssertLockHeld(cs_wallet); // mapKeyMetadata\n+\n+    for (auto& meta_pair : mapKeyMetadata) {\n+        CKeyMetadata& meta = meta_pair.second;\n+        if (!meta.hd_seed_id.IsNull() && meta.key_origin.IsNull() && meta.hdKeypath != \"s\") {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: add comment to explain what `hdKeypath != \"s\"` means.",
    "created_at": "2019-02-09T13:19:09Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255298564",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255298564"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255298564"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255298564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 346,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255298753",
    "pull_request_review_id": 201861254,
    "id": 255298753,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI5ODc1Mw==",
    "diff_hunk": "@@ -29,6 +29,25 @@ struct KeyOriginInfo\n     {\n         return std::equal(std::begin(a.fingerprint), std::end(a.fingerprint), std::begin(b.fingerprint)) && a.path == b.path;\n     }\n+",
    "path": "src/script/sign.h",
    "position": 12,
    "original_position": 4,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: suggest adding a comment to `unsigned char fingerprint[4];` above:\r\n```\r\n// BIP32 defines the key identifier as the RIPEMD160 after SHA256 of\r\n// the serialized ECDSA public key K, ignoring the chain code. The first 32 bits\r\n// of this is the key fingerprint.\r\n```",
    "created_at": "2019-02-09T13:26:39Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255298753",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255298753"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255298753"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255298753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 32,
    "original_line": 32,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255298989",
    "pull_request_review_id": 201861254,
    "id": 255298989,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI5ODk4OQ==",
    "diff_hunk": "@@ -329,6 +337,36 @@ bool CWallet::WriteKeyMetadata(const CKeyMetadata& meta, const CPubKey& pubkey,\n     return WalletBatch(*database).WriteKeyMetadata(meta, pubkey, overwrite);\n }\n \n+void CWallet::UpgradeKeyMetadata()\n+{\n+    AssertLockHeld(cs_wallet); // mapKeyMetadata\n+\n+    for (auto& meta_pair : mapKeyMetadata) {\n+        CKeyMetadata& meta = meta_pair.second;\n+        if (!meta.hd_seed_id.IsNull() && meta.key_origin.IsNull() && meta.hdKeypath != \"s\") {\n+            CKey key;\n+            GetKey(meta.hd_seed_id, key);\n+            CExtKey masterKey;\n+            masterKey.SetSeed(key.begin(), key.size());\n+            // Add to map\n+            CKeyID master_id = masterKey.key.GetPubKey().GetID();\n+            std::copy(master_id.begin(), master_id.begin() + 4, meta.key_origin.fingerprint);\n+            if (!ParseHDKeypath(meta.hdKeypath, meta.key_origin.path)) {\n+                throw std::runtime_error(\"Invalid stored hdKeypath\");",
    "path": "src/wallet/wallet.cpp",
    "position": 62,
    "original_position": 44,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: add ` This wallet can't be safely upgraded and can't be opened by this version of Bitcoin Core.`\r\n\r\nIs this entire upgrade atomic, or is it atomic per `WriteKeyMetadata`? Otherwise you might end up with some upgraded keys and then an error. Then the previous version of the wallet can't open it anymore (if only for the user to call `dumpwallet`). In that case it's safer to call `ParseHDKeypath` on all keys before saving any.",
    "created_at": "2019-02-09T13:36:27Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255298989",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255298989"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255298989"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255298989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 385,
    "original_line": 385,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255299218",
    "pull_request_review_id": 201861254,
    "id": 255299218,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI5OTIxOA==",
    "diff_hunk": "@@ -1380,6 +1418,7 @@ CPubKey CWallet::DeriveNewSeed(const CKey& key)\n \n     // set the hd keypath to \"s\" -> Seed, refers the seed to itself\n     metadata.hdKeypath     = \"s\";",
    "path": "src/wallet/wallet.cpp",
    "position": 98,
    "original_position": 65,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit-ish: let's just add a boolean `IsSeed` to `metadata`, so we don't have to keep `hdKeypath` around forever (can be done later, but would require another upgrade function).",
    "created_at": "2019-02-09T13:44:39Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255299218",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255299218"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255299218"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255299218/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1463,
    "original_line": 1463,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255299383",
    "pull_request_review_id": 201861254,
    "id": 255299383,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI5OTM4Mw==",
    "diff_hunk": "@@ -1260,6 +1261,8 @@ static UniValue ProcessImport(CWallet * const pwallet, const UniValue& data, con\n             if (!pwallet->GetPubKey(id, temp) && !pwallet->AddWatchOnly(GetScriptForRawPubKey(pubkey), timestamp)) {\n                 throw JSONRPCError(RPC_WALLET_ERROR, \"Error adding address to wallet\");\n             }\n+            pwallet->AddKeyOrigin(pubkey, import_data.key_origins[id]);\n+            pwallet->mapKeyMetadata[id].nCreateTime = timestamp;",
    "path": "src/wallet/rpcdump.cpp",
    "position": 42,
    "original_position": 22,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "7e3eaebd0c490d163f89bef0dbc373c578331606",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Didn't the imported keys already have a metadata entry? If so, then shouldn't you only replace the timestamp if absent? ",
    "created_at": "2019-02-09T13:53:52Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255299383",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255299383"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255299383"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255299383/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1269,
    "original_line": 1269,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255369781",
    "pull_request_review_id": 201937502,
    "id": 255369781,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM2OTc4MQ==",
    "diff_hunk": "@@ -3715,10 +3715,10 @@ UniValue getaddressinfo(const JSONRPCRequest& request)\n     }\n     if (meta) {\n         ret.pushKV(\"timestamp\", meta->nCreateTime);\n-        if (!meta->hdKeypath.empty()) {\n-            ret.pushKV(\"hdkeypath\", meta->hdKeypath);\n+        if (!meta->key_origin.IsNull()) {\n+            ret.pushKV(\"hdkeypath\", WriteHdKeypath(meta->key_origin.path));\n             ret.pushKV(\"hdseedid\", meta->hd_seed_id.GetHex());\n-            ret.pushKV(\"hdmasterkeyid\", meta->hd_seed_id.GetHex());\n+            ret.pushKV(\"hdmasterfingerprint\", HexStr(meta->key_origin.fingerprint, meta->key_origin.fingerprint + 4));",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 43,
    "original_position": 19,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "A `key_origin` `ToString()` method would print both the fingerprint and path. This only needs the fingerprint.",
    "created_at": "2019-02-11T02:03:57Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255369781",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255369781"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255369781"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255369781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3728,
    "original_line": 3728,
    "side": "RIGHT",
    "in_reply_to_id": 255297333
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255369801",
    "pull_request_review_id": 201937531,
    "id": 255369801,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM2OTgwMQ==",
    "diff_hunk": "@@ -29,6 +29,25 @@ struct KeyOriginInfo\n     {\n         return std::equal(std::begin(a.fingerprint), std::end(a.fingerprint), std::begin(b.fingerprint)) && a.path == b.path;\n     }\n+\n+    ADD_SERIALIZE_METHODS;\n+    template <typename Stream, typename Operation>\n+    inline void SerializationOp(Stream& s, Operation ser_action)\n+    {\n+        READWRITE(fingerprint);\n+        READWRITE(path);\n+    }\n+\n+    void SetNull()\n+    {\n+        memset(fingerprint, 0, 4);",
    "path": "src/script/sign.h",
    "position": 23,
    "original_position": 15,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Arrays use less space. This field doesn't need to be dynamic.",
    "created_at": "2019-02-11T02:04:21Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255369801",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255369801"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255369801"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255369801/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 43,
    "original_line": 43,
    "side": "RIGHT",
    "in_reply_to_id": 255297793
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370086",
    "pull_request_review_id": 201937868,
    "id": 255370086,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3MDA4Ng==",
    "diff_hunk": "@@ -329,6 +337,36 @@ bool CWallet::WriteKeyMetadata(const CKeyMetadata& meta, const CPubKey& pubkey,\n     return WalletBatch(*database).WriteKeyMetadata(meta, pubkey, overwrite);\n }\n \n+void CWallet::UpgradeKeyMetadata()\n+{\n+    AssertLockHeld(cs_wallet); // mapKeyMetadata\n+\n+    for (auto& meta_pair : mapKeyMetadata) {\n+        CKeyMetadata& meta = meta_pair.second;\n+        if (!meta.hd_seed_id.IsNull() && meta.key_origin.IsNull() && meta.hdKeypath != \"s\") {\n+            CKey key;\n+            GetKey(meta.hd_seed_id, key);\n+            CExtKey masterKey;\n+            masterKey.SetSeed(key.begin(), key.size());\n+            // Add to map\n+            CKeyID master_id = masterKey.key.GetPubKey().GetID();\n+            std::copy(master_id.begin(), master_id.begin() + 4, meta.key_origin.fingerprint);\n+            if (!ParseHDKeypath(meta.hdKeypath, meta.key_origin.path)) {\n+                throw std::runtime_error(\"Invalid stored hdKeypath\");",
    "path": "src/wallet/wallet.cpp",
    "position": 62,
    "original_position": 44,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It is atomic per `WriteKeyMetadata`. However I believe that the changes to `CKeyMetadata` are backwards compatible. My understanding of the serialization code is that data at the end of the stream is ignored. So upgraded `CKeyMetadata` should still be open-able in older software.",
    "created_at": "2019-02-11T02:09:51Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255370086",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370086"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255370086"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 385,
    "original_line": 385,
    "side": "RIGHT",
    "in_reply_to_id": 255298989
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370121",
    "pull_request_review_id": 201937905,
    "id": 255370121,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3MDEyMQ==",
    "diff_hunk": "@@ -1380,6 +1418,7 @@ CPubKey CWallet::DeriveNewSeed(const CKey& key)\n \n     // set the hd keypath to \"s\" -> Seed, refers the seed to itself\n     metadata.hdKeypath     = \"s\";",
    "path": "src/wallet/wallet.cpp",
    "position": 98,
    "original_position": 65,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "We need to keep `hdKeypath` forever as `CKeyMetadata` is backwards compatible. Might as well use it.",
    "created_at": "2019-02-11T02:10:18Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255370121",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370121"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255370121"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370121/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1463,
    "original_line": 1463,
    "side": "RIGHT",
    "in_reply_to_id": 255299218
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370262",
    "pull_request_review_id": 201938047,
    "id": 255370262,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3MDI2Mg==",
    "diff_hunk": "@@ -1260,6 +1261,8 @@ static UniValue ProcessImport(CWallet * const pwallet, const UniValue& data, con\n             if (!pwallet->GetPubKey(id, temp) && !pwallet->AddWatchOnly(GetScriptForRawPubKey(pubkey), timestamp)) {\n                 throw JSONRPCError(RPC_WALLET_ERROR, \"Error adding address to wallet\");\n             }\n+            pwallet->AddKeyOrigin(pubkey, import_data.key_origins[id]);\n+            pwallet->mapKeyMetadata[id].nCreateTime = timestamp;",
    "path": "src/wallet/rpcdump.cpp",
    "position": 42,
    "original_position": 22,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "7e3eaebd0c490d163f89bef0dbc373c578331606",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Only new things can be imported, so there shouldn't already be an existing metadata entry.",
    "created_at": "2019-02-11T02:12:20Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255370262",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370262"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255370262"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370262/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1269,
    "original_line": 1269,
    "side": "RIGHT",
    "in_reply_to_id": 255299383
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370532",
    "pull_request_review_id": 201938372,
    "id": 255370532,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3MDUzMg==",
    "diff_hunk": "@@ -177,6 +177,7 @@ class WalletBatch\n     bool WriteTx(const CWalletTx& wtx);\n     bool EraseTx(uint256 hash);\n \n+    bool WriteKeyMetadata(const CKeyMetadata& meta, const CPubKey& pubkey, const bool overwrite);",
    "path": "src/wallet/walletdb.h",
    "position": 50,
    "original_position": 4,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "b1b35b88a2e64ee07e74cc90b346ce2fc417bb7b",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Added a comment",
    "created_at": "2019-02-11T02:17:03Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255370532",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370532"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255370532"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 191,
    "original_line": 191,
    "side": "RIGHT",
    "in_reply_to_id": 255297110
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370544",
    "pull_request_review_id": 201938384,
    "id": 255370544,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3MDU0NA==",
    "diff_hunk": "@@ -93,11 +94,13 @@ class CKeyMetadata\n public:\n     static const int VERSION_BASIC=1;\n     static const int VERSION_WITH_HDDATA=10;\n-    static const int CURRENT_VERSION=VERSION_WITH_HDDATA;\n+    static const int VERSION_WITH_KEY_ORIGIN = 12;\n+    static const int CURRENT_VERSION=VERSION_WITH_KEY_ORIGIN;\n     int nVersion;\n     int64_t nCreateTime; // 0 means unknown\n-    std::string hdKeypath; //optional HD/bip32 keypath\n+    std::string hdKeypath; //optional HD/bip32 keypath. Still used to determine whether a key is a seed. ALso kept for backwards compatibility",
    "path": "src/wallet/walletdb.h",
    "position": null,
    "original_position": 18,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed typo",
    "created_at": "2019-02-11T02:17:12Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255370544",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370544"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255370544"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 101,
    "side": "RIGHT",
    "in_reply_to_id": 255297257
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370557",
    "pull_request_review_id": 201938395,
    "id": 255370557,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3MDU1Nw==",
    "diff_hunk": "@@ -329,6 +337,36 @@ bool CWallet::WriteKeyMetadata(const CKeyMetadata& meta, const CPubKey& pubkey,\n     return WalletBatch(*database).WriteKeyMetadata(meta, pubkey, overwrite);\n }\n \n+void CWallet::UpgradeKeyMetadata()\n+{\n+    AssertLockHeld(cs_wallet); // mapKeyMetadata\n+\n+    for (auto& meta_pair : mapKeyMetadata) {\n+        CKeyMetadata& meta = meta_pair.second;\n+        if (!meta.hd_seed_id.IsNull() && meta.key_origin.IsNull() && meta.hdKeypath != \"s\") {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-02-11T02:17:20Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255370557",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370557"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255370557"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370557/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 346,
    "side": "RIGHT",
    "in_reply_to_id": 255298564
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370567",
    "pull_request_review_id": 201938408,
    "id": 255370567,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3MDU2Nw==",
    "diff_hunk": "@@ -29,6 +29,25 @@ struct KeyOriginInfo\n     {\n         return std::equal(std::begin(a.fingerprint), std::end(a.fingerprint), std::begin(b.fingerprint)) && a.path == b.path;\n     }\n+",
    "path": "src/script/sign.h",
    "position": 12,
    "original_position": 4,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Added a comment",
    "created_at": "2019-02-11T02:17:27Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255370567",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370567"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255370567"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255370567/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 32,
    "original_line": 32,
    "side": "RIGHT",
    "in_reply_to_id": 255298753
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255373437",
    "pull_request_review_id": 201941925,
    "id": 255373437,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3MzQzNw==",
    "diff_hunk": "@@ -29,6 +29,25 @@ struct KeyOriginInfo\n     {\n         return std::equal(std::begin(a.fingerprint), std::end(a.fingerprint), std::begin(b.fingerprint)) && a.path == b.path;\n     }\n+\n+    ADD_SERIALIZE_METHODS;\n+    template <typename Stream, typename Operation>\n+    inline void SerializationOp(Stream& s, Operation ser_action)\n+    {\n+        READWRITE(fingerprint);\n+        READWRITE(path);\n+    }\n+\n+    void SetNull()\n+    {\n+        memset(fingerprint, 0, 4);",
    "path": "src/script/sign.h",
    "position": 23,
    "original_position": 15,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't think the space savings is worth dealing with IsNull verbosity and the magic number(4).",
    "created_at": "2019-02-11T03:02:40Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255373437",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255373437"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255373437"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255373437/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 43,
    "original_line": 43,
    "side": "RIGHT",
    "in_reply_to_id": 255297793
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255374083",
    "pull_request_review_id": 201941925,
    "id": 255374083,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3NDA4Mw==",
    "diff_hunk": "@@ -855,6 +855,7 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n     //! Load metadata (used by LoadWallet)\n     void LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata &metadata) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n     void LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata &metadata) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n+    void UpgradeKeyMetadata();",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 4,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "82396ec29d730029532374e18727496cbf4066e6",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This needs a description of what it's doing.",
    "created_at": "2019-02-11T03:12:41Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255374083",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255374083"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255374083"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255374083/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 859,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255374325",
    "pull_request_review_id": 201941925,
    "id": 255374325,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3NDMyNQ==",
    "diff_hunk": "@@ -330,6 +338,36 @@ bool CWallet::WriteKeyMetadata(const CKeyMetadata& meta, const CPubKey& pubkey,\n     return WalletBatch(*database).WriteKeyMetadata(meta, pubkey, overwrite);\n }\n \n+void CWallet::UpgradeKeyMetadata()\n+{\n+    AssertLockHeld(cs_wallet); // mapKeyMetadata\n+\n+    for (auto& meta_pair : mapKeyMetadata) {\n+        CKeyMetadata& meta = meta_pair.second;\n+        if (!meta.hd_seed_id.IsNull() && meta.key_origin.IsNull() && meta.hdKeypath != \"s\") { // If the hdKeypath is \"s\", that's the seed and it doesn't have a key origin\n+            CKey key;\n+            GetKey(meta.hd_seed_id, key);",
    "path": "src/wallet/wallet.cpp",
    "position": 55,
    "original_position": 37,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "82396ec29d730029532374e18727496cbf4066e6",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Since this is called on load, does the user need to unlock an encrypted wallet?",
    "created_at": "2019-02-11T03:15:34Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255374325",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255374325"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255374325"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255374325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 378,
    "original_line": 378,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255374743",
    "pull_request_review_id": 201941925,
    "id": 255374743,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3NDc0Mw==",
    "diff_hunk": "@@ -93,11 +94,13 @@ class CKeyMetadata\n public:\n     static const int VERSION_BASIC=1;\n     static const int VERSION_WITH_HDDATA=10;\n-    static const int CURRENT_VERSION=VERSION_WITH_HDDATA;\n+    static const int VERSION_WITH_KEY_ORIGIN = 12;",
    "path": "src/wallet/walletdb.h",
    "position": 13,
    "original_position": 13,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "82396ec29d730029532374e18727496cbf4066e6",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "why no 11 :(",
    "created_at": "2019-02-11T03:20:56Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255374743",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255374743"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255374743"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255374743/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 97,
    "original_line": 97,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255378656",
    "pull_request_review_id": 201948284,
    "id": 255378656,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3ODY1Ng==",
    "diff_hunk": "@@ -29,6 +29,25 @@ struct KeyOriginInfo\n     {\n         return std::equal(std::begin(a.fingerprint), std::end(a.fingerprint), std::begin(b.fingerprint)) && a.path == b.path;\n     }\n+\n+    ADD_SERIALIZE_METHODS;\n+    template <typename Stream, typename Operation>\n+    inline void SerializationOp(Stream& s, Operation ser_action)\n+    {\n+        READWRITE(fingerprint);\n+        READWRITE(path);\n+    }\n+\n+    void SetNull()\n+    {\n+        memset(fingerprint, 0, 4);",
    "path": "src/script/sign.h",
    "position": 23,
    "original_position": 15,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This was something that was already here and I don't think it is necessary to change it.",
    "created_at": "2019-02-11T04:15:47Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255378656",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255378656"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255378656"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255378656/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 43,
    "original_line": 43,
    "side": "RIGHT",
    "in_reply_to_id": 255297793
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255378943",
    "pull_request_review_id": 201948613,
    "id": 255378943,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3ODk0Mw==",
    "diff_hunk": "@@ -330,6 +338,36 @@ bool CWallet::WriteKeyMetadata(const CKeyMetadata& meta, const CPubKey& pubkey,\n     return WalletBatch(*database).WriteKeyMetadata(meta, pubkey, overwrite);\n }\n \n+void CWallet::UpgradeKeyMetadata()\n+{\n+    AssertLockHeld(cs_wallet); // mapKeyMetadata\n+\n+    for (auto& meta_pair : mapKeyMetadata) {\n+        CKeyMetadata& meta = meta_pair.second;\n+        if (!meta.hd_seed_id.IsNull() && meta.key_origin.IsNull() && meta.hdKeypath != \"s\") { // If the hdKeypath is \"s\", that's the seed and it doesn't have a key origin\n+            CKey key;\n+            GetKey(meta.hd_seed_id, key);",
    "path": "src/wallet/wallet.cpp",
    "position": 55,
    "original_position": 37,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "82396ec29d730029532374e18727496cbf4066e6",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hmm. I think it will. There is currently no way to get the master key fingerprint without generating it from the hd seed.",
    "created_at": "2019-02-11T04:19:41Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255378943",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255378943"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255378943"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255378943/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 378,
    "original_line": 378,
    "side": "RIGHT",
    "in_reply_to_id": 255374325
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255379004",
    "pull_request_review_id": 201948678,
    "id": 255379004,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3OTAwNA==",
    "diff_hunk": "@@ -93,11 +94,13 @@ class CKeyMetadata\n public:\n     static const int VERSION_BASIC=1;\n     static const int VERSION_WITH_HDDATA=10;\n-    static const int CURRENT_VERSION=VERSION_WITH_HDDATA;\n+    static const int VERSION_WITH_KEY_ORIGIN = 12;",
    "path": "src/wallet/walletdb.h",
    "position": 13,
    "original_position": 13,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "82396ec29d730029532374e18727496cbf4066e6",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "A previous version of this pr used version 11 and I did not want to cause wallets that had tested that pr to become unusable.",
    "created_at": "2019-02-11T04:20:27Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255379004",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255379004"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255379004"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255379004/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 97,
    "original_line": 97,
    "side": "RIGHT",
    "in_reply_to_id": 255374743
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255379287",
    "pull_request_review_id": 201949004,
    "id": 255379287,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM3OTI4Nw==",
    "diff_hunk": "@@ -855,6 +855,7 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n     //! Load metadata (used by LoadWallet)\n     void LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata &metadata) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n     void LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata &metadata) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n+    void UpgradeKeyMetadata();",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 4,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "82396ec29d730029532374e18727496cbf4066e6",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-02-11T04:24:38Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255379287",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255379287"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255379287"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255379287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 859,
    "side": "RIGHT",
    "in_reply_to_id": 255374083
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255408499",
    "pull_request_review_id": 201984474,
    "id": 255408499,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTQwODQ5OQ==",
    "diff_hunk": "@@ -329,6 +337,36 @@ bool CWallet::WriteKeyMetadata(const CKeyMetadata& meta, const CPubKey& pubkey,\n     return WalletBatch(*database).WriteKeyMetadata(meta, pubkey, overwrite);\n }\n \n+void CWallet::UpgradeKeyMetadata()\n+{\n+    AssertLockHeld(cs_wallet); // mapKeyMetadata\n+\n+    for (auto& meta_pair : mapKeyMetadata) {\n+        CKeyMetadata& meta = meta_pair.second;\n+        if (!meta.hd_seed_id.IsNull() && meta.key_origin.IsNull() && meta.hdKeypath != \"s\") {\n+            CKey key;\n+            GetKey(meta.hd_seed_id, key);\n+            CExtKey masterKey;\n+            masterKey.SetSeed(key.begin(), key.size());\n+            // Add to map\n+            CKeyID master_id = masterKey.key.GetPubKey().GetID();\n+            std::copy(master_id.begin(), master_id.begin() + 4, meta.key_origin.fingerprint);\n+            if (!ParseHDKeypath(meta.hdKeypath, meta.key_origin.path)) {\n+                throw std::runtime_error(\"Invalid stored hdKeypath\");",
    "path": "src/wallet/wallet.cpp",
    "position": 62,
    "original_position": 44,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, I also noticed I was able to open (non-blank) 0.18 wallets in 0.17.",
    "created_at": "2019-02-11T08:29:07Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255408499",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255408499"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255408499"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255408499/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 385,
    "original_line": 385,
    "side": "RIGHT",
    "in_reply_to_id": 255298989
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255409004",
    "pull_request_review_id": 201985105,
    "id": 255409004,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTQwOTAwNA==",
    "diff_hunk": "@@ -93,11 +94,13 @@ class CKeyMetadata\n public:\n     static const int VERSION_BASIC=1;\n     static const int VERSION_WITH_HDDATA=10;\n-    static const int CURRENT_VERSION=VERSION_WITH_HDDATA;\n+    static const int VERSION_WITH_KEY_ORIGIN = 12;",
    "path": "src/wallet/walletdb.h",
    "position": 13,
    "original_position": 13,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "82396ec29d730029532374e18727496cbf4066e6",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "From my experience older hww branch wallets are already unusable so I wouldn't worry too much about that :-)",
    "created_at": "2019-02-11T08:31:11Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255409004",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255409004"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255409004"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255409004/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 97,
    "original_line": 97,
    "side": "RIGHT",
    "in_reply_to_id": 255374743
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255566362",
    "pull_request_review_id": 202180122,
    "id": 255566362,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTU2NjM2Mg==",
    "diff_hunk": "@@ -330,6 +338,36 @@ bool CWallet::WriteKeyMetadata(const CKeyMetadata& meta, const CPubKey& pubkey,\n     return WalletBatch(*database).WriteKeyMetadata(meta, pubkey, overwrite);\n }\n \n+void CWallet::UpgradeKeyMetadata()\n+{\n+    AssertLockHeld(cs_wallet); // mapKeyMetadata\n+\n+    for (auto& meta_pair : mapKeyMetadata) {\n+        CKeyMetadata& meta = meta_pair.second;\n+        if (!meta.hd_seed_id.IsNull() && meta.key_origin.IsNull() && meta.hdKeypath != \"s\") { // If the hdKeypath is \"s\", that's the seed and it doesn't have a key origin\n+            CKey key;\n+            GetKey(meta.hd_seed_id, key);",
    "path": "src/wallet/wallet.cpp",
    "position": 55,
    "original_position": 37,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "82396ec29d730029532374e18727496cbf4066e6",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'd like to know what's going to happen here, but we should at least be checking the result here to not calculate bogus data, yes?",
    "created_at": "2019-02-11T15:49:44Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255566362",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255566362"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255566362"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255566362/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 378,
    "original_line": 378,
    "side": "RIGHT",
    "in_reply_to_id": 255374325
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255628568",
    "pull_request_review_id": 202257150,
    "id": 255628568,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTYyODU2OA==",
    "diff_hunk": "@@ -330,6 +338,36 @@ bool CWallet::WriteKeyMetadata(const CKeyMetadata& meta, const CPubKey& pubkey,\n     return WalletBatch(*database).WriteKeyMetadata(meta, pubkey, overwrite);\n }\n \n+void CWallet::UpgradeKeyMetadata()\n+{\n+    AssertLockHeld(cs_wallet); // mapKeyMetadata\n+\n+    for (auto& meta_pair : mapKeyMetadata) {\n+        CKeyMetadata& meta = meta_pair.second;\n+        if (!meta.hd_seed_id.IsNull() && meta.key_origin.IsNull() && meta.hdKeypath != \"s\") { // If the hdKeypath is \"s\", that's the seed and it doesn't have a key origin\n+            CKey key;\n+            GetKey(meta.hd_seed_id, key);",
    "path": "src/wallet/wallet.cpp",
    "position": 55,
    "original_position": 37,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "82396ec29d730029532374e18727496cbf4066e6",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think it will write bogus data.\r\n\r\nThere are a few options to solve this. We could not upgrade the key metadata if we can't calculate the master key id. Or we could use the hd seed id instead if the correct master key id can't be calculated.\r\n\r\nI am tending to go towards the second solution. While it technically is not the master key id, this information is really only used for/needed for descriptors and PSBT. Any wallet that already exists does not need this information. If this ends up in PSBT, that's fine since the BIP 32 derivation paths are just information for the signer. In this case, the signer is Bitcoin Core, and it doesn't use the derivation paths. We just need to put something there that won't cause problems for other signers.",
    "created_at": "2019-02-11T18:09:06Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255628568",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255628568"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255628568"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255628568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 378,
    "original_line": 378,
    "side": "RIGHT",
    "in_reply_to_id": 255374325
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255749209",
    "pull_request_review_id": 202410360,
    "id": 255749209,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTc0OTIwOQ==",
    "diff_hunk": "@@ -3652,7 +3652,7 @@ UniValue getaddressinfo(const JSONRPCRequest& request)\n             \"  \\\"timestamp\\\" : timestamp,      (number, optional) The creation time of the key if available in seconds since epoch (Jan 1 1970 GMT)\\n\"\n             \"  \\\"hdkeypath\\\" : \\\"keypath\\\"       (string, optional) The HD keypath if the key is HD and available\\n\"\n             \"  \\\"hdseedid\\\" : \\\"<hash160>\\\"      (string, optional) The Hash160 of the HD seed\\n\"\n-            \"  \\\"hdmasterkeyid\\\" : \\\"<hash160>\\\" (string, optional) alias for hdseedid maintained for backwards compatibility. Will be removed in V0.18.\\n\"",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 28,
    "original_position": 4,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "0cf1c4ca12982533a8d38f2e09aa17f3839c538b",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This PR removes some but not all of the hdmasterkeyid fields, suggest having a separate commit that removes all of them at once.",
    "created_at": "2019-02-12T00:09:06Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255749209",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255749209"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255749209"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255749209/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3663,
    "original_line": 3663,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255759286",
    "pull_request_review_id": 202410360,
    "id": 255759286,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTc1OTI4Ng==",
    "diff_hunk": "@@ -22,13 +22,32 @@ struct CMutableTransaction;\n \n struct KeyOriginInfo\n {\n-    unsigned char fingerprint[4];\n+    unsigned char fingerprint[4]; // First 32 bits of the Hash160 of the public key at the root of the path\n     std::vector<uint32_t> path;\n \n     friend bool operator==(const KeyOriginInfo& a, const KeyOriginInfo& b)\n     {\n         return std::equal(std::begin(a.fingerprint), std::end(a.fingerprint), std::begin(b.fingerprint)) && a.path == b.path;\n     }\n+\n+    ADD_SERIALIZE_METHODS;\n+    template <typename Stream, typename Operation>\n+    inline void SerializationOp(Stream& s, Operation ser_action)\n+    {\n+        READWRITE(fingerprint);\n+        READWRITE(path);\n+    }\n+\n+    void SetNull()\n+    {\n+        memset(fingerprint, 0, 4);\n+        path.clear();\n+    }\n+\n+    bool IsNull() const\n+    {\n+        return path.empty() && fingerprint[0] == 0 && fingerprint[1] == 0 && fingerprint[2] == 0 && fingerprint[3] == 0;",
    "path": "src/script/sign.h",
    "position": null,
    "original_position": 29,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "0cf1c4ca12982533a8d38f2e09aa17f3839c538b",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is a bit confusing. `fingerprint` has a 1 in 4 billion chance of legitimately being [0,0,0,0] from what I can see, and there's a code path that sets `fingerprint` but clears `path` (script/descriptor.cpp:ConstPubkeyProvider::GetPubKey). So I think this function has a small chance of returning inconsistent results.",
    "created_at": "2019-02-12T00:52:44Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255759286",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255759286"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255759286"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255759286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 49,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255760040",
    "pull_request_review_id": 202410360,
    "id": 255760040,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTc2MDA0MA==",
    "diff_hunk": "@@ -855,6 +855,8 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n     //! Load metadata (used by LoadWallet)\n     void LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata &metadata) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n     void LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata &metadata) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n+    //! Upgrade stored CKeyMetadata objects to store key origin info as KeyOriginInfo\n+    void UpgradeKeyMetadata();",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 5,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "0cf1c4ca12982533a8d38f2e09aa17f3839c538b",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Add `EXCLUSIVE_LOCKS_REQUIRED(cs_wallet)` annotation?",
    "created_at": "2019-02-12T00:56:33Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255760040",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255760040"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255760040"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255760040/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 859,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255762003",
    "pull_request_review_id": 202410360,
    "id": 255762003,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTc2MjAwMw==",
    "diff_hunk": "@@ -534,6 +534,9 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n     if (wss.fAnyUnordered)\n         result = pwallet->ReorderTransactions();\n \n+    // Upgrade all of the wallet keymetadata to have the hd master key id\n+    pwallet->UpgradeKeyMetadata();",
    "path": "src/wallet/walletdb.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "0cf1c4ca12982533a8d38f2e09aa17f3839c538b",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This throws `std::runtime_error` on an invalid hdKeypath, should that be caught here and translated into `DBErrors::CORRUPT` ? Also, should this be done before any writing so that if the wallet can't be loaded, it isn't changed first making it harder to debug?",
    "created_at": "2019-02-12T01:06:19Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255762003",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255762003"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255762003"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255762003/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 538,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255769750",
    "pull_request_review_id": 202410360,
    "id": 255769750,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTc2OTc1MA==",
    "diff_hunk": "@@ -587,6 +587,21 @@ bool ParseHDKeypath(const std::string& keypath_str, std::vector<uint32_t>& keypa\n     return true;\n }\n \n+std::string FormatKeyPath(const std::vector<uint32_t>& path)\n+{\n+    std::string ret;\n+    for (auto i : path) {\n+        ret += strprintf(\"/%i\", (i << 1) >> 1);\n+        if (i >> 31) ret += '\\'';\n+    }\n+    return ret;\n+}\n+\n+std::string WriteHdKeypath(const std::vector<uint32_t> keypath)",
    "path": "src/util/strencodings.cpp",
    "position": null,
    "original_position": 14,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "09995963827b7be1163a50d894490daf182b7a78",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Naming it `FormatHDKeypath` and `const& keypath` would seem more consistent with `ParseHDKeypath`",
    "created_at": "2019-02-12T01:39:14Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255769750",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255769750"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255769750"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255769750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 600,
    "side": "RIGHT",
    "in_reply_to_id": 232174240
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255775399",
    "pull_request_review_id": 202410360,
    "id": 255775399,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTc3NTM5OQ==",
    "diff_hunk": "@@ -1380,6 +1418,7 @@ CPubKey CWallet::DeriveNewSeed(const CKey& key)\n \n     // set the hd keypath to \"s\" -> Seed, refers the seed to itself\n     metadata.hdKeypath     = \"s\";",
    "path": "src/wallet/wallet.cpp",
    "position": 98,
    "original_position": 65,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If hdKeypath is being kept forever, does it actually make sense to have the key_origin added to CKeyMetadata? You can calculate key_origin from hdKeypath using ParseHDKeypath() if needed, but everywhere that uses key_origin is converting it back to a string via WriteHdKeypath already as far as I can see? AddKeyOrigin is already filling out hdKeyPath so it would still achieve the point of the PR by the looks?",
    "created_at": "2019-02-12T02:09:11Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255775399",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255775399"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255775399"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255775399/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1463,
    "original_line": 1463,
    "side": "RIGHT",
    "in_reply_to_id": 255299218
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255858577",
    "pull_request_review_id": 202549333,
    "id": 255858577,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTg1ODU3Nw==",
    "diff_hunk": "@@ -22,13 +22,32 @@ struct CMutableTransaction;\n \n struct KeyOriginInfo\n {\n-    unsigned char fingerprint[4];\n+    unsigned char fingerprint[4]; // First 32 bits of the Hash160 of the public key at the root of the path",
    "path": "src/script/sign.h",
    "position": null,
    "original_position": 5,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "ce437d68666f367c441ceb8fcb6a6672cebe6514",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`//!<` please so that it shows up in doxygen",
    "created_at": "2019-02-12T09:06:07Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255858577",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255858577"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255858577"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255858577/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 25,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255859863",
    "pull_request_review_id": 202550835,
    "id": 255859863,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTg1OTg2Mw==",
    "diff_hunk": "@@ -22,13 +22,32 @@ struct CMutableTransaction;\n \n struct KeyOriginInfo\n {\n-    unsigned char fingerprint[4];\n+    unsigned char fingerprint[4]; // First 32 bits of the Hash160 of the public key at the root of the path\n     std::vector<uint32_t> path;\n \n     friend bool operator==(const KeyOriginInfo& a, const KeyOriginInfo& b)\n     {\n         return std::equal(std::begin(a.fingerprint), std::end(a.fingerprint), std::begin(b.fingerprint)) && a.path == b.path;\n     }\n+\n+    ADD_SERIALIZE_METHODS;\n+    template <typename Stream, typename Operation>\n+    inline void SerializationOp(Stream& s, Operation ser_action)\n+    {\n+        READWRITE(fingerprint);\n+        READWRITE(path);\n+    }\n+\n+    void SetNull()\n+    {\n+        memset(fingerprint, 0, 4);\n+        path.clear();\n+    }\n+\n+    bool IsNull() const\n+    {\n+        return path.empty() && fingerprint[0] == 0 && fingerprint[1] == 0 && fingerprint[2] == 0 && fingerprint[3] == 0;",
    "path": "src/script/sign.h",
    "position": null,
    "original_position": 29,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "0cf1c4ca12982533a8d38f2e09aa17f3839c538b",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": ":+1: Don't special-case values that can actually occur",
    "created_at": "2019-02-12T09:08:41Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255859863",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255859863"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255859863"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255859863/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 49,
    "side": "RIGHT",
    "in_reply_to_id": 255759286
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255860751",
    "pull_request_review_id": 202551878,
    "id": 255860751,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTg2MDc1MQ==",
    "diff_hunk": "@@ -587,6 +587,21 @@ bool ParseHDKeypath(const std::string& keypath_str, std::vector<uint32_t>& keypa\n     return true;\n }\n \n+std::string FormatKeyPath(const std::vector<uint32_t>& path)",
    "path": "src/util/strencodings.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "ce437d68666f367c441ceb8fcb6a6672cebe6514",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It was never the intent for `strencodings.cpp` to gain so many bitcoin-application-specific utilities, and this application is very narrow. Maybe make a new header with bip32/key specific utils?",
    "created_at": "2019-02-12T09:10:46Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255860751",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255860751"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255860751"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255860751/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 590,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255886794",
    "pull_request_review_id": 202583935,
    "id": 255886794,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTg4Njc5NA==",
    "diff_hunk": "@@ -22,13 +22,32 @@ struct CMutableTransaction;\n \n struct KeyOriginInfo\n {\n-    unsigned char fingerprint[4];\n+    unsigned char fingerprint[4]; // First 32 bits of the Hash160 of the public key at the root of the path\n     std::vector<uint32_t> path;\n \n     friend bool operator==(const KeyOriginInfo& a, const KeyOriginInfo& b)\n     {\n         return std::equal(std::begin(a.fingerprint), std::end(a.fingerprint), std::begin(b.fingerprint)) && a.path == b.path;\n     }\n+\n+    ADD_SERIALIZE_METHODS;\n+    template <typename Stream, typename Operation>\n+    inline void SerializationOp(Stream& s, Operation ser_action)\n+    {\n+        READWRITE(fingerprint);\n+        READWRITE(path);\n+    }\n+\n+    void SetNull()\n+    {\n+        memset(fingerprint, 0, 4);\n+        path.clear();\n+    }\n+\n+    bool IsNull() const\n+    {\n+        return path.empty() && fingerprint[0] == 0 && fingerprint[1] == 0 && fingerprint[2] == 0 && fingerprint[3] == 0;",
    "path": "src/script/sign.h",
    "position": null,
    "original_position": 29,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "0cf1c4ca12982533a8d38f2e09aa17f3839c538b",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can we mandate that `KeyOriginInfo` must always contain a `fingerprint`? So in that case justing checking `path.empty()` is enough. Otherwise we need another boolean that's also serialised.",
    "created_at": "2019-02-12T10:17:39Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255886794",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255886794"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255886794"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255886794/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 49,
    "side": "RIGHT",
    "in_reply_to_id": 255759286
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255888246",
    "pull_request_review_id": 202585667,
    "id": 255888246,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTg4ODI0Ng==",
    "diff_hunk": "@@ -534,6 +534,9 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n     if (wss.fAnyUnordered)\n         result = pwallet->ReorderTransactions();\n \n+    // Upgrade all of the wallet keymetadata to have the hd master key id\n+    pwallet->UpgradeKeyMetadata();",
    "path": "src/wallet/walletdb.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "0cf1c4ca12982533a8d38f2e09aa17f3839c538b",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@ajtowns the new metadata is still readable by older wallets: \r\nhttps://github.com/bitcoin/bitcoin/pull/14021#discussion_r255298989\r\n\r\nThat said, I also have a preference for atomically updating as a general pattern.",
    "created_at": "2019-02-12T10:21:27Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255888246",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255888246"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r255888246"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255888246/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 538,
    "side": "RIGHT",
    "in_reply_to_id": 255762003
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256008462",
    "pull_request_review_id": 202735752,
    "id": 256008462,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NjAwODQ2Mg==",
    "diff_hunk": "@@ -22,13 +22,32 @@ struct CMutableTransaction;\n \n struct KeyOriginInfo\n {\n-    unsigned char fingerprint[4];\n+    unsigned char fingerprint[4]; // First 32 bits of the Hash160 of the public key at the root of the path\n     std::vector<uint32_t> path;\n \n     friend bool operator==(const KeyOriginInfo& a, const KeyOriginInfo& b)\n     {\n         return std::equal(std::begin(a.fingerprint), std::end(a.fingerprint), std::begin(b.fingerprint)) && a.path == b.path;\n     }\n+\n+    ADD_SERIALIZE_METHODS;\n+    template <typename Stream, typename Operation>\n+    inline void SerializationOp(Stream& s, Operation ser_action)\n+    {\n+        READWRITE(fingerprint);\n+        READWRITE(path);\n+    }\n+\n+    void SetNull()\n+    {\n+        memset(fingerprint, 0, 4);\n+        path.clear();\n+    }\n+\n+    bool IsNull() const\n+    {\n+        return path.empty() && fingerprint[0] == 0 && fingerprint[1] == 0 && fingerprint[2] == 0 && fingerprint[3] == 0;",
    "path": "src/script/sign.h",
    "position": null,
    "original_position": 29,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "0cf1c4ca12982533a8d38f2e09aa17f3839c538b",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "How else then would we determine that a KeyOriginInfo is null?\r\n\r\n> Can we mandate that `KeyOriginInfo` must always contain a `fingerprint`? So in that case justing checking `path.empty()` is enough.\r\n\r\nI don't think so. It is perfectly valid to have a fingerprint and no path. This indicates that the path is just `m`.",
    "created_at": "2019-02-12T15:34:16Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256008462",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256008462"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256008462"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256008462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 49,
    "side": "RIGHT",
    "in_reply_to_id": 255759286
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053193",
    "pull_request_review_id": 202791881,
    "id": 256053193,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NjA1MzE5Mw==",
    "diff_hunk": "@@ -3652,7 +3652,7 @@ UniValue getaddressinfo(const JSONRPCRequest& request)\n             \"  \\\"timestamp\\\" : timestamp,      (number, optional) The creation time of the key if available in seconds since epoch (Jan 1 1970 GMT)\\n\"\n             \"  \\\"hdkeypath\\\" : \\\"keypath\\\"       (string, optional) The HD keypath if the key is HD and available\\n\"\n             \"  \\\"hdseedid\\\" : \\\"<hash160>\\\"      (string, optional) The Hash160 of the HD seed\\n\"\n-            \"  \\\"hdmasterkeyid\\\" : \\\"<hash160>\\\" (string, optional) alias for hdseedid maintained for backwards compatibility. Will be removed in V0.18.\\n\"",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 28,
    "original_position": 4,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "0cf1c4ca12982533a8d38f2e09aa17f3839c538b",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-02-12T17:04:39Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256053193",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053193"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256053193"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053193/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3663,
    "original_line": 3663,
    "side": "LEFT",
    "in_reply_to_id": 255749209
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053238",
    "pull_request_review_id": 202791949,
    "id": 256053238,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NjA1MzIzOA==",
    "diff_hunk": "@@ -855,6 +855,8 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n     //! Load metadata (used by LoadWallet)\n     void LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata &metadata) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n     void LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata &metadata) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n+    //! Upgrade stored CKeyMetadata objects to store key origin info as KeyOriginInfo\n+    void UpgradeKeyMetadata();",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 5,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "0cf1c4ca12982533a8d38f2e09aa17f3839c538b",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-02-12T17:04:45Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256053238",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053238"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256053238"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053238/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 859,
    "side": "RIGHT",
    "in_reply_to_id": 255760040
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053416",
    "pull_request_review_id": 202792157,
    "id": 256053416,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NjA1MzQxNg==",
    "diff_hunk": "@@ -534,6 +534,9 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n     if (wss.fAnyUnordered)\n         result = pwallet->ReorderTransactions();\n \n+    // Upgrade all of the wallet keymetadata to have the hd master key id\n+    pwallet->UpgradeKeyMetadata();",
    "path": "src/wallet/walletdb.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "0cf1c4ca12982533a8d38f2e09aa17f3839c538b",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I've added a catch for the `std::runtime_error`",
    "created_at": "2019-02-12T17:05:08Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256053416",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053416"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256053416"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053416/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 538,
    "side": "RIGHT",
    "in_reply_to_id": 255762003
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053508",
    "pull_request_review_id": 202792276,
    "id": 256053508,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NjA1MzUwOA==",
    "diff_hunk": "@@ -22,13 +22,32 @@ struct CMutableTransaction;\n \n struct KeyOriginInfo\n {\n-    unsigned char fingerprint[4];\n+    unsigned char fingerprint[4]; // First 32 bits of the Hash160 of the public key at the root of the path",
    "path": "src/script/sign.h",
    "position": null,
    "original_position": 5,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "ce437d68666f367c441ceb8fcb6a6672cebe6514",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-02-12T17:05:22Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256053508",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053508"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256053508"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 25,
    "side": "RIGHT",
    "in_reply_to_id": 255858577
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053597",
    "pull_request_review_id": 202792391,
    "id": 256053597,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NjA1MzU5Nw==",
    "diff_hunk": "@@ -587,6 +587,21 @@ bool ParseHDKeypath(const std::string& keypath_str, std::vector<uint32_t>& keypa\n     return true;\n }\n \n+std::string FormatKeyPath(const std::vector<uint32_t>& path)",
    "path": "src/util/strencodings.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "ce437d68666f367c441ceb8fcb6a6672cebe6514",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Moved to `bip32.{h,cpp}`",
    "created_at": "2019-02-12T17:05:35Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256053597",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053597"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256053597"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256053597/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 590,
    "side": "RIGHT",
    "in_reply_to_id": 255860751
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256055595",
    "pull_request_review_id": 202794903,
    "id": 256055595,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NjA1NTU5NQ==",
    "diff_hunk": "@@ -1380,6 +1418,7 @@ CPubKey CWallet::DeriveNewSeed(const CKey& key)\n \n     // set the hd keypath to \"s\" -> Seed, refers the seed to itself\n     metadata.hdKeypath     = \"s\";",
    "path": "src/wallet/wallet.cpp",
    "position": 98,
    "original_position": 65,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`CWallet::GetKeyOrigin` uses the `key_origin` in `CKeyMetadata`. I strongly prefer storing key origin info in this form instead of having to parse strings every time key origin info is needed to build a PSBT.",
    "created_at": "2019-02-12T17:10:16Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256055595",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256055595"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256055595"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256055595/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1463,
    "original_line": 1463,
    "side": "RIGHT",
    "in_reply_to_id": 255299218
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256074011",
    "pull_request_review_id": 202817521,
    "id": 256074011,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NjA3NDAxMQ==",
    "diff_hunk": "@@ -22,13 +22,32 @@ struct CMutableTransaction;\n \n struct KeyOriginInfo\n {\n-    unsigned char fingerprint[4];\n+    unsigned char fingerprint[4]; // First 32 bits of the Hash160 of the public key at the root of the path\n     std::vector<uint32_t> path;\n \n     friend bool operator==(const KeyOriginInfo& a, const KeyOriginInfo& b)\n     {\n         return std::equal(std::begin(a.fingerprint), std::end(a.fingerprint), std::begin(b.fingerprint)) && a.path == b.path;\n     }\n+\n+    ADD_SERIALIZE_METHODS;\n+    template <typename Stream, typename Operation>\n+    inline void SerializationOp(Stream& s, Operation ser_action)\n+    {\n+        READWRITE(fingerprint);\n+        READWRITE(path);\n+    }\n+\n+    void SetNull()\n+    {\n+        memset(fingerprint, 0, 4);\n+        path.clear();\n+    }\n+\n+    bool IsNull() const\n+    {\n+        return path.empty() && fingerprint[0] == 0 && fingerprint[1] == 0 && fingerprint[2] == 0 && fingerprint[3] == 0;",
    "path": "src/script/sign.h",
    "position": null,
    "original_position": 29,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "0cf1c4ca12982533a8d38f2e09aa17f3839c538b",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "So then it seems we need an explicit \"null\" for the fingerprint to indicate it's not set.",
    "created_at": "2019-02-12T17:55:17Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256074011",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256074011"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256074011"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256074011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 49,
    "side": "RIGHT",
    "in_reply_to_id": 255759286
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256077622",
    "pull_request_review_id": 202821873,
    "id": 256077622,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NjA3NzYyMg==",
    "diff_hunk": "@@ -529,6 +534,13 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n     if (wss.fAnyUnordered)\n         result = pwallet->ReorderTransactions();\n \n+    // Upgrade all of the wallet keymetadata to have the hd master key id\n+    try {",
    "path": "src/wallet/walletdb.cpp",
    "position": 31,
    "original_position": 30,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "fa1014c2a1150166a698c0cc7ce9291f2963135d",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: add comment that this is not atomic, but that individually updated keymetadata entries don't prevent older wallets from loading.",
    "created_at": "2019-02-12T18:04:15Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256077622",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256077622"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256077622"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256077622/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 539,
    "original_line": 539,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256199347",
    "pull_request_review_id": 202972411,
    "id": 256199347,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NjE5OTM0Nw==",
    "diff_hunk": "@@ -22,13 +22,32 @@ struct CMutableTransaction;\n \n struct KeyOriginInfo\n {\n-    unsigned char fingerprint[4];\n+    unsigned char fingerprint[4]; // First 32 bits of the Hash160 of the public key at the root of the path\n     std::vector<uint32_t> path;\n \n     friend bool operator==(const KeyOriginInfo& a, const KeyOriginInfo& b)\n     {\n         return std::equal(std::begin(a.fingerprint), std::end(a.fingerprint), std::begin(b.fingerprint)) && a.path == b.path;\n     }\n+\n+    ADD_SERIALIZE_METHODS;\n+    template <typename Stream, typename Operation>\n+    inline void SerializationOp(Stream& s, Operation ser_action)\n+    {\n+        READWRITE(fingerprint);\n+        READWRITE(path);\n+    }\n+\n+    void SetNull()\n+    {\n+        memset(fingerprint, 0, 4);\n+        path.clear();\n+    }\n+\n+    bool IsNull() const\n+    {\n+        return path.empty() && fingerprint[0] == 0 && fingerprint[1] == 0 && fingerprint[2] == 0 && fingerprint[3] == 0;",
    "path": "src/script/sign.h",
    "position": null,
    "original_position": 29,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "0cf1c4ca12982533a8d38f2e09aa17f3839c538b",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Adding a `null` field would cause a lot of code churn. Instead I've changed `CKeyMetadata` to have a boolean that indicates whether the `key_origin` is valid. Let me know what you think of that; if it's good, I'll squash the commit down.",
    "created_at": "2019-02-13T00:04:19Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256199347",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256199347"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256199347"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256199347/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 49,
    "side": "RIGHT",
    "in_reply_to_id": 255759286
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256245833",
    "pull_request_review_id": 203027247,
    "id": 256245833,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NjI0NTgzMw==",
    "diff_hunk": "@@ -29,6 +29,25 @@ struct KeyOriginInfo\n     {\n         return std::equal(std::begin(a.fingerprint), std::end(a.fingerprint), std::begin(b.fingerprint)) && a.path == b.path;\n     }\n+\n+    ADD_SERIALIZE_METHODS;\n+    template <typename Stream, typename Operation>\n+    inline void SerializationOp(Stream& s, Operation ser_action)\n+    {\n+        READWRITE(fingerprint);\n+        READWRITE(path);\n+    }\n+\n+    void SetNull()\n+    {\n+        memset(fingerprint, 0, 4);",
    "path": "src/script/sign.h",
    "position": 23,
    "original_position": 15,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You could use sizeof(fingerprint) to get rid of the magic number 4? But seems fine as is to me.",
    "created_at": "2019-02-13T04:43:20Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256245833",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256245833"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256245833"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256245833/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 43,
    "original_line": 43,
    "side": "RIGHT",
    "in_reply_to_id": 255297793
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256246301",
    "pull_request_review_id": 203027809,
    "id": 256246301,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NjI0NjMwMQ==",
    "diff_hunk": "@@ -22,13 +22,32 @@ struct CMutableTransaction;\n \n struct KeyOriginInfo\n {\n-    unsigned char fingerprint[4];\n+    unsigned char fingerprint[4]; // First 32 bits of the Hash160 of the public key at the root of the path\n     std::vector<uint32_t> path;\n \n     friend bool operator==(const KeyOriginInfo& a, const KeyOriginInfo& b)\n     {\n         return std::equal(std::begin(a.fingerprint), std::end(a.fingerprint), std::begin(b.fingerprint)) && a.path == b.path;\n     }\n+\n+    ADD_SERIALIZE_METHODS;\n+    template <typename Stream, typename Operation>\n+    inline void SerializationOp(Stream& s, Operation ser_action)\n+    {\n+        READWRITE(fingerprint);\n+        READWRITE(path);\n+    }\n+\n+    void SetNull()\n+    {\n+        memset(fingerprint, 0, 4);\n+        path.clear();\n+    }\n+\n+    bool IsNull() const\n+    {\n+        return path.empty() && fingerprint[0] == 0 && fingerprint[1] == 0 && fingerprint[2] == 0 && fingerprint[3] == 0;",
    "path": "src/script/sign.h",
    "position": null,
    "original_position": 29,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "0cf1c4ca12982533a8d38f2e09aa17f3839c538b",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Looks better to me",
    "created_at": "2019-02-13T04:47:24Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256246301",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256246301"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256246301"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256246301/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 49,
    "side": "RIGHT",
    "in_reply_to_id": 255759286
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256450134",
    "pull_request_review_id": 203278639,
    "id": 256450134,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NjQ1MDEzNA==",
    "diff_hunk": "@@ -529,6 +534,13 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n     if (wss.fAnyUnordered)\n         result = pwallet->ReorderTransactions();\n \n+    // Upgrade all of the wallet keymetadata to have the hd master key id\n+    try {",
    "path": "src/wallet/walletdb.cpp",
    "position": 31,
    "original_position": 30,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "fa1014c2a1150166a698c0cc7ce9291f2963135d",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-02-13T15:35:53Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256450134",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256450134"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256450134"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256450134/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 539,
    "original_line": 539,
    "side": "RIGHT",
    "in_reply_to_id": 256077622
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256453705",
    "pull_request_review_id": 203283118,
    "id": 256453705,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NjQ1MzcwNQ==",
    "diff_hunk": "@@ -2406,7 +2406,6 @@ static UniValue getwalletinfo(const JSONRPCRequest& request)\n             \"  \\\"unlocked_until\\\": ttt,             (numeric) the timestamp in seconds since epoch (midnight Jan 1 1970 GMT) that the wallet is unlocked for transfers, or 0 if the wallet is locked\\n\"\n             \"  \\\"paytxfee\\\": x.xxxx,                (numeric) the transaction fee configuration, set in \" + CURRENCY_UNIT + \"/kB\\n\"\n             \"  \\\"hdseedid\\\": \\\"<hash160>\\\"            (string, optional) the Hash160 of the HD seed (only present when HD is enabled)\\n\"\n-            \"  \\\"hdmasterkeyid\\\": \\\"<hash160>\\\"       (string, optional) alias for hdseedid retained for backwards-compatibility. Will be removed in V0.18.\\n\"",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 12,
    "original_position": 4,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "1d23f6bf0c06d21da8612631d0a512a7c32747d2",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "all instances(aside from notes) indeed appear to be deleted",
    "created_at": "2019-02-13T15:42:54Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256453705",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256453705"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256453705"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256453705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2421,
    "original_line": 2421,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256943332",
    "pull_request_review_id": 203885255,
    "id": 256943332,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Njk0MzMzMg==",
    "diff_hunk": "@@ -422,6 +465,8 @@ bool CWallet::Unlock(const SecureString& strWalletPassphrase, bool accept_no_key\n             if (!crypter.Decrypt(pMasterKey.second.vchCryptedKey, _vMasterKey))\n                 continue; // try another master key\n             if (CCryptoKeyStore::Unlock(_vMasterKey, accept_no_keys))\n+                // Now that we've unlocked, upgrade the key metadata\n+                UpgradeKeyMetadata();",
    "path": "src/wallet/wallet.cpp",
    "position": 89,
    "original_position": 72,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "d24c52d0e3fbe6c08fa90d9499a49e1f1289e807",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This means wallets will iterate through all key metadata every unlock?",
    "created_at": "2019-02-14T17:55:21Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256943332",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256943332"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256943332"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256943332/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 502,
    "original_line": 502,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256947738",
    "pull_request_review_id": 203890681,
    "id": 256947738,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Njk0NzczOA==",
    "diff_hunk": "@@ -422,6 +465,8 @@ bool CWallet::Unlock(const SecureString& strWalletPassphrase, bool accept_no_key\n             if (!crypter.Decrypt(pMasterKey.second.vchCryptedKey, _vMasterKey))\n                 continue; // try another master key\n             if (CCryptoKeyStore::Unlock(_vMasterKey, accept_no_keys))\n+                // Now that we've unlocked, upgrade the key metadata\n+                UpgradeKeyMetadata();",
    "path": "src/wallet/wallet.cpp",
    "position": 89,
    "original_position": 72,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "d24c52d0e3fbe6c08fa90d9499a49e1f1289e807",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Perhaps a more efficient approach is to set a wallet flag once all metadata is upgraded?",
    "created_at": "2019-02-14T18:07:44Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256947738",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256947738"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256947738"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256947738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 502,
    "original_line": 502,
    "side": "RIGHT",
    "in_reply_to_id": 256943332
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256959443",
    "pull_request_review_id": 203904332,
    "id": 256959443,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Njk1OTQ0Mw==",
    "diff_hunk": "@@ -422,6 +465,8 @@ bool CWallet::Unlock(const SecureString& strWalletPassphrase, bool accept_no_key\n             if (!crypter.Decrypt(pMasterKey.second.vchCryptedKey, _vMasterKey))\n                 continue; // try another master key\n             if (CCryptoKeyStore::Unlock(_vMasterKey, accept_no_keys))\n+                // Now that we've unlocked, upgrade the key metadata\n+                UpgradeKeyMetadata();",
    "path": "src/wallet/wallet.cpp",
    "position": 89,
    "original_position": 72,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "d24c52d0e3fbe6c08fa90d9499a49e1f1289e807",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is a point in favor of atomicity, then marking as complete.",
    "created_at": "2019-02-14T18:37:27Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256959443",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256959443"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256959443"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256959443/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 502,
    "original_line": 502,
    "side": "RIGHT",
    "in_reply_to_id": 256943332
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256967413",
    "pull_request_review_id": 203914540,
    "id": 256967413,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Njk2NzQxMw==",
    "diff_hunk": "@@ -422,6 +465,8 @@ bool CWallet::Unlock(const SecureString& strWalletPassphrase, bool accept_no_key\n             if (!crypter.Decrypt(pMasterKey.second.vchCryptedKey, _vMasterKey))\n                 continue; // try another master key\n             if (CCryptoKeyStore::Unlock(_vMasterKey, accept_no_keys))\n+                // Now that we've unlocked, upgrade the key metadata\n+                UpgradeKeyMetadata();",
    "path": "src/wallet/wallet.cpp",
    "position": 89,
    "original_position": 72,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "d24c52d0e3fbe6c08fa90d9499a49e1f1289e807",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I've added a non-mandatory wallet flag which is set upon the upgrade's completion. This will make sure that the upgrade happens only once.",
    "created_at": "2019-02-14T18:59:06Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256967413",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256967413"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256967413"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256967413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 502,
    "original_line": 502,
    "side": "RIGHT",
    "in_reply_to_id": 256943332
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256982599",
    "pull_request_review_id": 203933416,
    "id": 256982599,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Njk4MjU5OQ==",
    "diff_hunk": "@@ -135,6 +135,9 @@ enum WalletFlags : uint64_t {\n     // wallet flags in the upper section (> 1 << 31) will lead to not opening the wallet if flag is unknown",
    "path": "src/wallet/wallet.h",
    "position": 1,
    "original_position": 1,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "8fff73cb092e609505f6a0a14c2fe4d8d80479dd",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should this say `upper section (> 0 << 31)` ?",
    "created_at": "2019-02-14T19:39:34Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256982599",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256982599"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256982599"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256982599/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 135,
    "original_line": 135,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256983753",
    "pull_request_review_id": 203933416,
    "id": 256983753,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Njk4Mzc1Mw==",
    "diff_hunk": "@@ -135,6 +135,9 @@ enum WalletFlags : uint64_t {\n     // wallet flags in the upper section (> 1 << 31) will lead to not opening the wallet if flag is unknown\n     // unknown wallet flags in the lower section <= (1 << 31) will be tolerated\n \n+    // Indicates that the metadata has already been upgraded to contain key origins\n+    WALLET_FLAG_KEY_ORIGIN_METADATA = (1ULL << 0),",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 5,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "8fff73cb092e609505f6a0a14c2fe4d8d80479dd",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe use `1`? https://github.com/bitcoin/bitcoin/pull/13756/files#diff-12635a58447c65585f51d32b7e04075bR140",
    "created_at": "2019-02-14T19:42:47Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256983753",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256983753"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256983753"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256983753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 139,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256984744",
    "pull_request_review_id": 203936050,
    "id": 256984744,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Njk4NDc0NA==",
    "diff_hunk": "@@ -135,6 +135,9 @@ enum WalletFlags : uint64_t {\n     // wallet flags in the upper section (> 1 << 31) will lead to not opening the wallet if flag is unknown",
    "path": "src/wallet/wallet.h",
    "position": 1,
    "original_position": 1,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "8fff73cb092e609505f6a0a14c2fe4d8d80479dd",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not my problem :p\r\n\r\nAlso, no, it shouldn't. Shifting 0 is still 0.",
    "created_at": "2019-02-14T19:45:21Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256984744",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256984744"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256984744"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256984744/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 135,
    "original_line": 135,
    "side": "RIGHT",
    "in_reply_to_id": 256982599
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256986042",
    "pull_request_review_id": 203937779,
    "id": 256986042,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Njk4NjA0Mg==",
    "diff_hunk": "@@ -135,6 +135,9 @@ enum WalletFlags : uint64_t {\n     // wallet flags in the upper section (> 1 << 31) will lead to not opening the wallet if flag is unknown\n     // unknown wallet flags in the lower section <= (1 << 31) will be tolerated\n \n+    // Indicates that the metadata has already been upgraded to contain key origins\n+    WALLET_FLAG_KEY_ORIGIN_METADATA = (1ULL << 0),",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 5,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "8fff73cb092e609505f6a0a14c2fe4d8d80479dd",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-02-14T19:48:47Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256986042",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256986042"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r256986042"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/256986042/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 139,
    "side": "RIGHT",
    "in_reply_to_id": 256983753
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257035083",
    "pull_request_review_id": 203999387,
    "id": 257035083,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzAzNTA4Mw==",
    "diff_hunk": "@@ -329,6 +337,36 @@ bool CWallet::WriteKeyMetadata(const CKeyMetadata& meta, const CPubKey& pubkey,\n     return WalletBatch(*database).WriteKeyMetadata(meta, pubkey, overwrite);\n }\n \n+void CWallet::UpgradeKeyMetadata()\n+{\n+    AssertLockHeld(cs_wallet); // mapKeyMetadata\n+\n+    for (auto& meta_pair : mapKeyMetadata) {\n+        CKeyMetadata& meta = meta_pair.second;\n+        if (!meta.hd_seed_id.IsNull() && meta.key_origin.IsNull() && meta.hdKeypath != \"s\") {\n+            CKey key;\n+            GetKey(meta.hd_seed_id, key);\n+            CExtKey masterKey;\n+            masterKey.SetSeed(key.begin(), key.size());\n+            // Add to map\n+            CKeyID master_id = masterKey.key.GetPubKey().GetID();\n+            std::copy(master_id.begin(), master_id.begin() + 4, meta.key_origin.fingerprint);\n+            if (!ParseHDKeypath(meta.hdKeypath, meta.key_origin.path)) {\n+                throw std::runtime_error(\"Invalid stored hdKeypath\");",
    "path": "src/wallet/wallet.cpp",
    "position": 62,
    "original_position": 44,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "066762f02178b2f39581f903841e75694853d8b7",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "That's correct. If you don't deserialize things at the end of a stream, they just get ignored.",
    "created_at": "2019-02-14T22:15:43Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r257035083",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257035083"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r257035083"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257035083/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 385,
    "original_line": 385,
    "side": "RIGHT",
    "in_reply_to_id": 255298989
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257035420",
    "pull_request_review_id": 203999387,
    "id": 257035420,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzAzNTQyMA==",
    "diff_hunk": "@@ -330,6 +338,36 @@ bool CWallet::WriteKeyMetadata(const CKeyMetadata& meta, const CPubKey& pubkey,\n     return WalletBatch(*database).WriteKeyMetadata(meta, pubkey, overwrite);\n }\n \n+void CWallet::UpgradeKeyMetadata()\n+{\n+    AssertLockHeld(cs_wallet); // mapKeyMetadata\n+\n+    for (auto& meta_pair : mapKeyMetadata) {\n+        CKeyMetadata& meta = meta_pair.second;\n+        if (!meta.hd_seed_id.IsNull() && meta.key_origin.IsNull() && meta.hdKeypath != \"s\") { // If the hdKeypath is \"s\", that's the seed and it doesn't have a key origin\n+            CKey key;\n+            GetKey(meta.hd_seed_id, key);",
    "path": "src/wallet/wallet.cpp",
    "position": 55,
    "original_position": 37,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "82396ec29d730029532374e18727496cbf4066e6",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It seems there is an `IsLocked()` at the top now, so you've picked the first solution (not upgrading when locked)? If so, I prefer that.",
    "created_at": "2019-02-14T22:16:54Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r257035420",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257035420"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r257035420"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257035420/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 378,
    "original_line": 378,
    "side": "RIGHT",
    "in_reply_to_id": 255374325
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257037367",
    "pull_request_review_id": 203999387,
    "id": 257037367,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzAzNzM2Nw==",
    "diff_hunk": "@@ -1261,6 +1262,8 @@ static UniValue ProcessImport(CWallet * const pwallet, const UniValue& data, con\n             if (!pwallet->GetPubKey(id, temp) && !pwallet->AddWatchOnly(GetScriptForRawPubKey(pubkey), timestamp)) {\n                 throw JSONRPCError(RPC_WALLET_ERROR, \"Error adding address to wallet\");\n             }\n+            pwallet->AddKeyOrigin(pubkey, import_data.key_origins[id]);",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 21,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "35d6bc5793abc901d2b4da81f8dad48724b2607c",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should this be called when `id` is not a member of `import_data.key_origins`? The non-descriptor imports won't have this map entries created.",
    "created_at": "2019-02-14T22:23:06Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r257037367",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257037367"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r257037367"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257037367/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1265,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257037603",
    "pull_request_review_id": 203999387,
    "id": 257037603,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzAzNzYwMw==",
    "diff_hunk": "@@ -0,0 +1,11 @@\n+Miscellaneous RPC Changes\n+-------------------------\n+- Descriptors with key origin information imported through `importmulti` will have their key origin information stored in the wallet for use with creating PSBTs.\n+- If `bip32derivs` of both `walletprocesspsbt` and `walletcreatefundedpsbt` is set to true but the key metadata for a public key has not been updated yet, then that key will have a derivation path as if it were just an independent key (i.e. no derivation path and it's master fingerprint is itself)",
    "path": "doc/release-notes-14021.md",
    "position": null,
    "original_position": 4,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "1b1c6aa276f24ff85392915c3b557e2343c88252",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Typo: `it's` -> `its`",
    "created_at": "2019-02-14T22:23:57Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r257037603",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257037603"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r257037603"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257037603/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257045244",
    "pull_request_review_id": 204011721,
    "id": 257045244,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzA0NTI0NA==",
    "diff_hunk": "@@ -1261,6 +1262,8 @@ static UniValue ProcessImport(CWallet * const pwallet, const UniValue& data, con\n             if (!pwallet->GetPubKey(id, temp) && !pwallet->AddWatchOnly(GetScriptForRawPubKey(pubkey), timestamp)) {\n                 throw JSONRPCError(RPC_WALLET_ERROR, \"Error adding address to wallet\");\n             }\n+            pwallet->AddKeyOrigin(pubkey, import_data.key_origins[id]);",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 21,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "35d6bc5793abc901d2b4da81f8dad48724b2607c",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It should check that. I've added the check and a test for this.",
    "created_at": "2019-02-14T22:49:52Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r257045244",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257045244"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r257045244"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257045244/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1265,
    "side": "RIGHT",
    "in_reply_to_id": 257037367
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257045258",
    "pull_request_review_id": 204011735,
    "id": 257045258,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NzA0NTI1OA==",
    "diff_hunk": "@@ -0,0 +1,11 @@\n+Miscellaneous RPC Changes\n+-------------------------\n+- Descriptors with key origin information imported through `importmulti` will have their key origin information stored in the wallet for use with creating PSBTs.\n+- If `bip32derivs` of both `walletprocesspsbt` and `walletcreatefundedpsbt` is set to true but the key metadata for a public key has not been updated yet, then that key will have a derivation path as if it were just an independent key (i.e. no derivation path and it's master fingerprint is itself)",
    "path": "doc/release-notes-14021.md",
    "position": null,
    "original_position": 4,
    "commit_id": "cb3511b9d5f3d8a86e090ebed5a4aeaf758430b8",
    "original_commit_id": "1b1c6aa276f24ff85392915c3b557e2343c88252",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-02-14T22:49:57Z",
    "updated_at": "2019-02-14T23:05:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r257045258",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257045258"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14021#discussion_r257045258"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14021"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/257045258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4,
    "side": "RIGHT",
    "in_reply_to_id": 257037603
  }
]