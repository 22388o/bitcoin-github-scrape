[
  {
    "sha": "f875921176038c81b4ae7c113a9ebdc93e03b6aa",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmODc1OTIxMTc2MDM4YzgxYjRhZTdjMTEzYTllYmRjOTNlMDNiNmFh",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-08-14T09:21:48Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-09-07T14:08:18Z"
      },
      "message": "Bitcoin-Qt (Windows only): add version info to Resource File\n\n- add version information to bitcoin-qt.rc, which is displayed on Windows, when looking in the executable properties and selecting \"Details\"\n- introduce a new clientversion.h (used in bitcoin-qt.rc to generate\n  version information), which takes only the version defines from\n  version.h and is included in it (to allow usage with the windres rc-file\n  compiler)\n- move #define STRINGIFY(s) #s into clientversion.h as that is used in\n  bitcoin-qt.rc and rename to DO_STRINGIZE(X)\n- add #define STRINGIZE(X) DO_STRINGIZE(X), which is needed to convert the\n  version defines into a version string in the rc-file\n- this ensures we only need to update 1 file and have bitcoin-qt.exe\n  version information\n\n- for RC-file documentation see:\n  http://msdn.microsoft.com/en-us/library/windows/desktop/aa381058%28v=vs.85%29.aspx",
      "tree": {
        "sha": "f3092e18bb3e680a004a229d108af4c513a6d748",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f3092e18bb3e680a004a229d108af4c513a6d748"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f875921176038c81b4ae7c113a9ebdc93e03b6aa",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f875921176038c81b4ae7c113a9ebdc93e03b6aa",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f875921176038c81b4ae7c113a9ebdc93e03b6aa",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f875921176038c81b4ae7c113a9ebdc93e03b6aa/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "b9a4aaad1e8279276002f54d66c0e9a8a5de6f56",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b9a4aaad1e8279276002f54d66c0e9a8a5de6f56",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b9a4aaad1e8279276002f54d66c0e9a8a5de6f56"
      }
    ],
    "stats": {
      "total": 55,
      "additions": 39,
      "deletions": 16
    },
    "files": [
      {
        "sha": "cdd3bc2b814bb81e3f05ac857ef8c19bb4eb2c6c",
        "filename": "bitcoin-qt.pro",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f875921176038c81b4ae7c113a9ebdc93e03b6aa/bitcoin-qt.pro",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f875921176038c81b4ae7c113a9ebdc93e03b6aa/bitcoin-qt.pro",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/bitcoin-qt.pro?ref=f875921176038c81b4ae7c113a9ebdc93e03b6aa",
        "patch": "@@ -178,7 +178,8 @@ HEADERS += src/qt/bitcoingui.h \\\n     src/ui_interface.h \\\n     src/qt/rpcconsole.h \\\n     src/version.h \\\n-    src/netbase.h\n+    src/netbase.h \\\n+    src/clientversion.h\n \n SOURCES += src/qt/bitcoin.cpp src/qt/bitcoingui.cpp \\\n     src/qt/transactiontablemodel.cpp \\"
      },
      {
        "sha": "8443961d272aaf5d2f20ef749f03d919a1e723e4",
        "filename": "doc/release-process.txt",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f875921176038c81b4ae7c113a9ebdc93e03b6aa/doc/release-process.txt",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f875921176038c81b4ae7c113a9ebdc93e03b6aa/doc/release-process.txt",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-process.txt?ref=f875921176038c81b4ae7c113a9ebdc93e03b6aa",
        "patch": "@@ -2,7 +2,7 @@\n \n * update (commit) version in sources\n   bitcoin-qt.pro\n-  src/version.h\n+  src/clientversion.h\n   share/setup.nsi\n   doc/README*\n "
      },
      {
        "sha": "844eaa37bb3e8dfa81393572ddf216a18bf08ecb",
        "filename": "src/clientversion.h",
        "status": "added",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f875921176038c81b4ae7c113a9ebdc93e03b6aa/src/clientversion.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f875921176038c81b4ae7c113a9ebdc93e03b6aa/src/clientversion.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/clientversion.h?ref=f875921176038c81b4ae7c113a9ebdc93e03b6aa",
        "patch": "@@ -0,0 +1,19 @@\n+#ifndef CLIENTVERSION_H\n+#define CLIENTVERSION_H\n+\n+//\n+// client versioning\n+//\n+\n+// These need to be macros, as version.cpp's and bitcoin-qt.rc's voodoo requires it\n+#define CLIENT_VERSION_MAJOR       0\n+#define CLIENT_VERSION_MINOR       7\n+#define CLIENT_VERSION_REVISION    0\n+#define CLIENT_VERSION_BUILD       2\n+\n+// Converts the parameter X to a string after macro replacement on X has been performed.\n+// Don't merge these into one macro!\n+#define STRINGIZE(X) DO_STRINGIZE(X)\n+#define DO_STRINGIZE(X) #X\n+\n+#endif // CLIENTVERSION_H"
      },
      {
        "sha": "834001c0c684d106c6b25301a8d585ffbed5fe40",
        "filename": "src/qt/res/bitcoin-qt.rc",
        "status": "modified",
        "additions": 13,
        "deletions": 3,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f875921176038c81b4ae7c113a9ebdc93e03b6aa/src/qt/res/bitcoin-qt.rc",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f875921176038c81b4ae7c113a9ebdc93e03b6aa/src/qt/res/bitcoin-qt.rc",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/res/bitcoin-qt.rc?ref=f875921176038c81b4ae7c113a9ebdc93e03b6aa",
        "patch": "@@ -1,22 +1,32 @@\n IDI_ICON1 ICON DISCARDABLE \"icons/bitcoin.ico\"\n \n-#include <windows.h> // needed for VERSIONINFO\n+#include <windows.h>             // needed for VERSIONINFO\n+#include \"../../clientversion.h\" // holds the needed client version information\n+\n+#define VER_PRODUCTVERSION     CLIENT_VERSION_MAJOR,CLIENT_VERSION_MINOR,CLIENT_VERSION_REVISION,CLIENT_VERSION_BUILD\n+#define VER_PRODUCTVERSION_STR STRINGIZE(CLIENT_VERSION_MAJOR) \".\" STRINGIZE(CLIENT_VERSION_MINOR) \".\" STRINGIZE(CLIENT_VERSION_REVISION) \".\" STRINGIZE(CLIENT_VERSION_BUILD)\n+#define VER_FILEVERSION        VER_PRODUCTVERSION\n+#define VER_FILEVERSION_STR    VER_PRODUCTVERSION_STR\n \n VS_VERSION_INFO VERSIONINFO\n-FILEOS         \tVOS_NT_WINDOWS32\n-FILETYPE       \tVFT_APP\n+FILEVERSION     VER_FILEVERSION\n+PRODUCTVERSION  VER_PRODUCTVERSION\n+FILEOS          VOS_NT_WINDOWS32\n+FILETYPE        VFT_APP\n BEGIN\n     BLOCK \"StringFileInfo\"\n     BEGIN\n         BLOCK \"040904E4\" // U.S. English - multilingual (hex)\n         BEGIN\n             VALUE \"CompanyName\",        \"Bitcoin\"\n             VALUE \"FileDescription\",    \"Bitcoin-Qt (OSS GUI client for Bitcoin)\"\n+            VALUE \"FileVersion\",        VER_FILEVERSION_STR\n             VALUE \"InternalName\",       \"bitcoin-qt\"\n             VALUE \"LegalCopyright\",     \"2009-2012 The Bitcoin developers\"\n             VALUE \"LegalTrademarks1\",   \"Distributed under the MIT/X11 software license, see the accompanying file COPYING or http://www.opensource.org/licenses/mit-license.php.\"\n             VALUE \"OriginalFilename\",   \"bitcoin-qt.exe\"\n             VALUE \"ProductName\",        \"Bitcoin-Qt\"\n+            VALUE \"ProductVersion\",     VER_PRODUCTVERSION_STR\n         END\n     END\n "
      },
      {
        "sha": "8af406feabd132cd07a7ae5550750984a7f2108d",
        "filename": "src/version.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 4,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f875921176038c81b4ae7c113a9ebdc93e03b6aa/src/version.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f875921176038c81b4ae7c113a9ebdc93e03b6aa/src/version.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/version.cpp?ref=f875921176038c81b4ae7c113a9ebdc93e03b6aa",
        "patch": "@@ -39,13 +39,11 @@ const std::string CLIENT_NAME(\"Satoshi\");\n #    define GIT_COMMIT_DATE \"$Format:%cD\"\n #endif\n \n-#define STRINGIFY(s) #s\n-\n #define BUILD_DESC_FROM_COMMIT(maj,min,rev,build,commit) \\\n-    \"v\" STRINGIFY(maj) \".\" STRINGIFY(min) \".\" STRINGIFY(rev) \".\" STRINGIFY(build) \"-g\" commit\n+    \"v\" DO_STRINGIZE(maj) \".\" DO_STRINGIZE(min) \".\" DO_STRINGIZE(rev) \".\" DO_STRINGIZE(build) \"-g\" commit\n \n #define BUILD_DESC_FROM_UNKNOWN(maj,min,rev,build) \\\n-    \"v\" STRINGIFY(maj) \".\" STRINGIFY(min) \".\" STRINGIFY(rev) \".\" STRINGIFY(build) \"-unk\"\n+    \"v\" DO_STRINGIZE(maj) \".\" DO_STRINGIZE(min) \".\" DO_STRINGIZE(rev) \".\" DO_STRINGIZE(build) \"-unk\"\n \n #ifndef BUILD_DESC\n #    ifdef GIT_COMMIT_ID"
      },
      {
        "sha": "b66d0569289414fef0bc756b8a60304086b6c3d3",
        "filename": "src/version.h",
        "status": "modified",
        "additions": 2,
        "deletions": 7,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f875921176038c81b4ae7c113a9ebdc93e03b6aa/src/version.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f875921176038c81b4ae7c113a9ebdc93e03b6aa/src/version.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/version.h?ref=f875921176038c81b4ae7c113a9ebdc93e03b6aa",
        "patch": "@@ -4,21 +4,16 @@\n #ifndef BITCOIN_VERSION_H\n #define BITCOIN_VERSION_H\n \n+#include \"clientversion.h\"\n #include <string>\n \n //\n // client versioning\n //\n \n-// These need to be macros, as version.cpp's voodoo requires it\n-#define CLIENT_VERSION_MAJOR       0\n-#define CLIENT_VERSION_MINOR       7\n-#define CLIENT_VERSION_REVISION    0\n-#define CLIENT_VERSION_BUILD       2\n-\n static const int CLIENT_VERSION =\n                            1000000 * CLIENT_VERSION_MAJOR\n-                         +   10000 * CLIENT_VERSION_MINOR \n+                         +   10000 * CLIENT_VERSION_MINOR\n                          +     100 * CLIENT_VERSION_REVISION\n                          +       1 * CLIENT_VERSION_BUILD;\n "
      }
    ]
  }
]