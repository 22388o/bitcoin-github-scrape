BitcoinPullTester,2012-08-18T05:11:20Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/78e748f5feea9a3fcd83ba1a8451c96e67dc4d76 for binaries and test log.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7841868,7841868,
laanwj,2012-08-18T09:09:31Z,"NACK until the version is determined automatically from version.h, we don't want to have to manually change the version number in another place for every release.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7843050,7843050,
Diapolo,2012-08-18T09:12:31Z,"@laanwj I know that you don't want this like it is now, but for reference and discussion it needs to be here, as I'm unable to do Linux scripts or stuff like that :). That's why I mentioned `build.h`.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7843064,7843064,
Diapolo,2012-08-23T09:58:53Z,"A good new point was raised, which makes valid version information even more valuable. Security-Scanners like Secunia PSI rely on version information to determine if an application is secure or has known and reported security flaws.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7965011,7965011,
sipa,2012-08-23T10:11:57Z,"How about using git's export-substitution mechanism, which is also used in version.h, when build.h is unavailable? You could get the commit id, date, and in case of releases, tag name of the latest commit that way.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7965283,7965283,
Diapolo,2012-08-23T10:36:18Z,"I ""only"" need our version information in this format:\n\n<pre>\n#define VER_PRODUCTVERSION     0,6,99,0\n#define VER_PRODUCTVERSION_STR ""0.6.99.0""\n</pre>\n\n\n@sipa Tell me, do you think this is achievable via your suggestion?\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7965741,7965741,
sipa,2012-08-23T10:51:51Z,"Do you think it's possible to just #include ""version.h"" in that .rc file? If so, it isn't hard.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7966050,7966050,
Diapolo,2012-08-23T10:56:47Z,"I tried that, but the windres resource-file compiler doesn't like code other than a #define, which sucks in that case. If we could seperate out the pure version number stuff, which consists of only #define, into anoter small header, which we then include in version.h and the resource-file ... that could do the job. And we keep that 1 place, where manual changes need to be made.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7966158,7966158,
sipa,2012-08-23T11:17:32Z,"So what we can do, using export-subst, is have the unix timestamp as VER_PRODUCTVERSION, and the formatted data as VER_PRODUCTVERSION_STR, with the tag name after it.\n\nSo VER_PRODUCTVERSION would be 1345657778, and VER_PRODUCTVERSION_STR would be ""2012-08-22 10:49:38 -0700"". When 0.7 is released, "" (0.7.0)"" could be appended.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7966520,7966520,
Diapolo,2012-08-23T11:31:57Z,"I guess I have found a solution, just need to verify it doesn't break version.cpp now :). Just a few minutes...\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7966781,7966781,
sipa,2012-08-23T11:57:21Z,Does it build/work now?\n,https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7967300,7967300,
Diapolo,2012-08-23T12:02:09Z,"It builds without errors (and that's the most important thing), but one of the version parts seems not working, I observed this after I updated the pull ... currently looking into that :-/.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7967392,7967392,
Diapolo,2012-08-23T13:16:32Z,"Updated, I needed to add the `#define TOSTRING(s) STRINGIFY(s)` macro for it to work (see http://www.decompile.com/cpp/faq/file_and_line_error_string.htm for more information) and now it's working like it should :).\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7969083,7969083,
BitcoinPullTester,2012-08-23T13:57:43Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/07693fb5f7e8f7eed8355832b07414ff5f06e527 for binaries and test log.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7970330,7970330,
laanwj,2012-08-23T16:38:07Z,Great to see that this is solved.\n,https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7975685,7975685,
Diapolo,2012-08-23T16:41:38Z,"Updated to include a comment for the macros, looks good to me. I just don't know how many messages @BitcoinPullTester will create now ;). I would like to take a look at it, after this last update, to be sure.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7975803,7975803,
Diapolo,2012-08-24T09:22:34Z,"Come on dear @BitcoinPullTester, I want a build to get this in 0.7 :). Well there is no folder for commit-ID a5266398d88c6e596b91208eca0ce3aee5b5e3cb, so I guess I won't get one ^^.\n\nWell as I said on Windows everything is looking good, so it should be safe to give it a try before 0.7 RC?\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7996496,7996496,
Diapolo,2012-08-24T12:14:26Z,"Well, I downloaded bitcoin-qt.exe from http://jenkins.bluematt.me/pull-tester/07693fb5f7e8f7eed8355832b07414ff5f06e527 (last build mentioned above) and looked at the version information ... it's in and looks like the screenshot in the first posting :).\n\nEdit: Yeah I remember, the last change was just a comment update!\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-7999632,7999632,
laanwj,2012-08-24T15:03:11Z,"BTW, a bit off-topic but what is VERSION in bitcoin-qt.pro used for? I don't see it being passed to anything, and I think it can be removed without hurt now that we have version.h.\n\nI see it was added by Gavin in 0.5.0: https://github.com/bitcoin/bitcoin/commit/94eaab77109dd4fa568a855a375adb2c2a3207f9\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8003915,8003915,
Diapolo,2012-08-24T15:24:40Z,"@laanwj I never understood, where the Qt version variable was used. I can do a diff of the makefiles WITH and WITHOUT `VERSION` and report back.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8004569,8004569,
Diapolo,2012-08-24T15:42:35Z,"I checked the makefiles, VERSION is nowhere used in it.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8005145,8005145,
gavinandresen,2012-08-24T16:30:50Z,I think (but I'm not sure) that the OSX create-a-dmg-package uses it.\n,https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8007574,8007574,
laanwj,2012-08-26T08:15:32Z,"Ok, good reason to keep it around.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8031224,8031224,
BitcoinPullTester,2012-08-26T09:22:20Z,"Automatic sanity-testing: FAILED BUILD/TEST, see http://jenkins.bluematt.me/pull-tester/a5266398d88c6e596b91208eca0ce3aee5b5e3cb for binaries and test log.\n\nThis could happen for one of several reasons:\n1. It chanages paths in makefile.linux-mingw or otherwise changes build scripts in a way that made them incompatible with the automated testing scripts\n2. It does not build on either Linux i386",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8031567,8031567,
Diapolo,2012-08-26T10:02:21Z,"It seems the relative path I used in Windows format (in the .rc file) is incompatible with the cross-compilation. I'll update later with Linux style format.\n\nEdit: I changed `#include ""..\..\clientversion.h""` into `#include ""../../clientversion.h""`, which still compiles just fine on Windows. Waiting now for a @BitcoinPullTester confirmation.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8031805,8031805,
laanwj,2012-08-30T06:19:24Z,@thebluematt we could use another pulltester run here :-)\n,https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8150316,8150316,
BitcoinPullTester,2012-08-30T12:33:53Z,"Automatic sanity-testing: FAILED MERGE, see http://jenkins.bluematt.me/pull-tester/016649d8b83d0f64a0c1ccfe28719913c18a5e4c for test log.\n\nThis pull does not merge cleanly onto current master\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8157809,8157809,
Diapolo,2012-08-30T13:04:31Z,"Once more it tried to use an old commit-ID, which isn't there anymore:\n`fatal: '016649d8b83d0f64a0c1ccfe28719913c18a5e4c' does not point to a commit`\n\nSo we need to wait a little longer for the most current one I guess ;).\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8158605,8158605,
Diapolo,2012-08-30T21:23:21Z,"I had to rebase, as another small fix created a merge-conflict...\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8175021,8175021,
Diapolo,2012-09-01T12:21:06Z,"@TheBlueMatt Any idea, why @BitcoinPullTester refused to build anything for us? I would love to see this in 0.7 final.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8212421,8212421,
TheBlueMatt,2012-09-01T17:58:11Z,"Sorry, @Diapolo, pull tester is currently paused pending an upgrade to the block tester.  I should have time to get it back up today.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8215093,8215093,
laanwj,2012-09-05T06:16:05Z,"It's started testing again, but not here. \n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8288676,8288676,
Diapolo,2012-09-05T06:46:46Z,"@laanwj I rebased to current master to create a new commit-ID, hope that helps.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8289144,8289144,
Diapolo,2012-09-05T16:50:03Z,Rebased to match the 0.7rc2 version information. Still no sign from @BitcoinPullTester :-(.\n\n@TheBlueMatt Can you check why this pull seems to be ignored by it?\n,https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8305508,8305508,
TheBlueMatt,2012-09-05T17:02:47Z,"@Diapolo calm down, this pull is pretty far down the list, there is quite a backlog, and each test takes a number of hours, it may be a few days...\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8305924,8305924,
BitcoinPullTester,2012-09-06T14:27:49Z,"Automatic sanity-testing: FAILED MERGE, see http://jenkins.bluematt.me/pull-tester/1d605035f7c7d8b312e4df836acbda958e32f417 for test log.\n\nThis pull does not merge cleanly onto current master\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8333887,8333887,
Diapolo,2012-09-06T16:52:35Z,@TheBlueMatt It seems once more a no more existing commit ID was chosen. Any idea for this?\n,https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8339307,8339307,
TheBlueMatt,2012-09-06T16:57:33Z,"@Diapolo again, the backlog is pretty long, you'll have to wait for it to finish its current run and start the next before it picks up the latest commit id.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8339477,8339477,
BitcoinPullTester,2012-09-07T13:42:15Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/7f7a738814ea67499c415c5a132670b3573aa3dd for binaries and test log.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8365495,8365495,
Diapolo,2012-09-07T14:11:50Z,"@laanwj YES, it finally works, I downloaded bitcoin-qt.exe and can verify it works! The last rebase was needed to update to 0.7.0.2 for RC2.\n\n@TheBlueMatt Sorry that I was so impatient ^^.\n",https://github.com/bitcoin/bitcoin/pull/1683#issuecomment-8366336,8366336,
gavinandresen,2012-08-23T14:00:43Z,"I like boost's naming convention for this better; see boost/suffix.hpp:\n\n//  \n// Helper macro BOOST_STRINGIZE:  \n// Converts the parameter X to a string after macro replacement  \n// on X has been performed.  \n//  \n#define BOOST_STRINGIZE(X) BOOST_DO_STRINGIZE(X)\n#define BOOST_DO_STRINGIZE(X) #X\n\nNice comment, _DO_ implies it is an implementation detail...\n",https://github.com/bitcoin/bitcoin/pull/1683#discussion_r1444964,1444964,src/clientversion.h
Diapolo,2012-08-23T14:22:50Z,"I didn't know Boost has such a thing, thanks. Do you suggest to use and include suffix.hpp or just do this?\n\n<pre>\n#define STRINGIZE(X) DO_STRINGIZE(X)\n#define DO_STRINGIZE(X) #X\n</pre>\n\n\nI think the later is nicer, as we don't need the rest of suffix.hpp and it perhaps confuses the windres rc-compiler.\n",https://github.com/bitcoin/bitcoin/pull/1683#discussion_r1445223,1445223,src/clientversion.h
gavinandresen,2012-08-23T16:19:21Z,Just do this.  But add a comment so somebody clueless doesn't later decide to 'optimize' the two macros by collapsing them into one.\n,https://github.com/bitcoin/bitcoin/pull/1683#discussion_r1446561,1446561,src/clientversion.h
