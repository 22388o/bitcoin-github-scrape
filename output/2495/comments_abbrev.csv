jonasschnelli,2013-04-09T13:27:25Z,"If the new splash screen will be accepted, i will update the build process so that the splash.png text (version, copyright) gets automatically ""written"" with imagemagick like the gui about screen.\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16112246,16112246,
laanwj,2013-04-09T14:13:52Z,I like the splash screen. However we should add the version and copyright\ninformation text programmatically from qt. It does not need to be in the\nimage. Otherwise there's yet another place to update copyright and version\nnumbers.\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16114718,16114718,
Diapolo,2013-04-09T15:02:20Z,"@laanwj ACK, I thought the same. We don't want to update that screen with every new year or relase.\n\n@jonasschnelli Looks very nice, I like it.\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16117919,16117919,
jonasschnelli,2013-04-09T19:06:52Z,"@laanwj @Diapolo as a coder, i would also recommend the option of placing the text on the splashscreen by code. As a designer i would avoid this. Why: text placed by Qt will look much more sharp and somehow crispy. Text placed as image on a template image by imagemagick (or other command-line capable gfx tool) will look much better and can use non-standard fonts.\n\nIt might sounds crazy for you (",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16133375,16133375,
laanwj,2013-04-09T19:47:14Z,"Qt supports various text rendering options as well. And TBH it's our time that is very limited at the moment, I really don't mind text quality to be somewhat less for that.\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16135637,16135637,
laanwj,2013-04-09T19:50:37Z,"Maybe there's another option: make building the image part of Bitcoin-Qt's build process. That makes it automatic, which is fine with me as well.\nNon-standard fonts be a problem in any case though: everyone needs to be able to build the image, so it can't rely on certain fonts to be installed.\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16135820,16135820,
jonasschnelli,2013-04-09T19:56:48Z,@laanwj yes. Include into bitcoin-qt's build process.\nFont: i would just place a ttf or otf file (open source fonts) into the qt/src folder. The font must not be installed on the build-system.\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16136174,16136174,
laanwj,2013-04-09T20:04:04Z,@diapolo would calling imagemagick in the build process work on windows? I suppose it'd be more difficult...\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16136591,16136591,
jonasschnelli,2013-04-10T06:39:05Z,"@laanwj i thought the same. Imagemagick is probably a overkill. Has also huge dependencies (Ghostscript, freetype). And yes: windows user would hate me. ;)\n\nI think I try to create a solution with qt only (runtime).\nLet me try to play with http://qt-project.org/doc/qt-5.0/qtgui/qrawfont.html#alphaMapForGlyph.\n\nWill push something soon.\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16157860,16157860,
gmaxwell,2013-04-10T06:43:56Z,"meh. I love the image, but it seems like such a small thing to need to invoke imagemagick for... I'm sure that QT can be made to do this. \n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16157977,16157977,
laanwj,2013-04-10T07:13:48Z,"Agreed @ gmaxwell. Especially as Qt has a quite advanced rendering backend\n(QPainter). I daresay it can do most that imagemagick can do,\nrendering-wise.\n\nLet's do this the proper way :)\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16158864,16158864,
Diapolo,2013-04-10T10:50:42Z,"@laanwj I've never heard of `imagemagick`, but as we want to do it the Qt way I won't even google it ^^.\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16167175,16167175,
jonasschnelli,2013-04-10T14:00:54Z,"Just pushed some code which places the infos by Qt. In development, the version string is much longer and a smaller font will be used. Releases would look like this (1:1 screen from the splash screen drawing by qt):\n![Bildschirmfoto 2013-04-10 um 15 52 38](https://f.cloud.github.com/assets/178464/362364/165a7ed0-a1e7-11e2-8574-059bca400941.png)\n\nQuestion:\n- Where should we place the 2013 (Â© en",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16175761,16175761,
Diapolo,2013-04-10T14:07:49Z,"@jonasschnelli You could use QApplication::applicationName() for the name, but be careful, as it would be `Bitcoin-Qt-testnet` for testnet currently.\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16176166,16176166,
jonasschnelli,2013-04-10T14:29:41Z,"- App name is now dynamic (""-testnet"" will be replaced with "" (tn)"" for a better style).\n- When on testnet, the splash screen contains also a ""green"" bitcoin logo.\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16177576,16177576,
Diapolo,2013-04-10T14:42:12Z,"@jonasschnelli We currently use [testnet] appended to `Bitcoin-Qt` to indicate testnet usage (see bitcoingui.cpp -> `setWindowTitle(windowTitle() + QString("" "") + tr(""[testnet]""));`), which I would like to keep (with equality and translation stuff in my mind).\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16178387,16178387,
jonasschnelli,2013-04-10T14:52:51Z,@laanwj the testnet splash png is 45.37kb. When you compare it against the blockchain size... but yes: it will increase the bin size. I still recommend to have it (the new testnet splash).\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16179139,16179139,
Diapolo,2013-04-10T14:58:35Z,I also like the new testnet splash :) and 46KB is fine with me!\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16179541,16179541,
sipa,2013-04-10T15:01:49Z,I'm fine with 46kB extra.\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16179807,16179807,
laanwj,2013-04-10T15:33:57Z,"46k is much less than I had estimated, I'm fine with that.\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16182018,16182018,
qubez,2013-04-10T17:51:49Z,splash screen in <3k:\n![splash-3k](https://f.cloud.github.com/assets/1425520/363622/ca0f2496-a208-11e2-830c-db38ea13d462.png)\n![splash-3k-testnet](https://f.cloud.github.com/assets/1425520/363704/00d3c390-a20b-11e2-80cd-832ae6267fd1.png)\n\n(I <3 Bitcoin)\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16190498,16190498,
Diapolo,2013-04-11T06:46:14Z,@jonasschnelli Can you please squash all commits into one after we have the final ACK for this :).\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16219190,16219190,
jonasschnelli,2013-04-11T12:56:20Z,squashed and ready to test on Qt4.8.\nAnyone?\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16232560,16232560,
jonasschnelli,2013-04-11T12:56:44Z,Pulltester might also do a check...\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16232584,16232584,
fanquake,2013-04-11T13:27:01Z,@jonasschnelli I can test for you. Have one comp running 10.7.5\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16234077,16234077,
jonasschnelli,2013-04-11T13:28:58Z,@fanquake do you can build from the source (take master and pull from jonasschnelli/bitcoin new_splash_screen)?\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16234177,16234177,
BitcoinPullTester,2013-04-11T15:02:59Z,"Automatic sanity-testing: FAILED BUILD/TEST, see http://jenkins.bluematt.me/pull-tester/66fa5cbaefc7bbf0a5ac48303d72818088c9f04e for binaries and test log.\n\nThis could happen for one of several reasons:\n1. It chanages paths in makefile.linux-mingw or otherwise changes build scripts in a way that made them incompatible with the automated testing scripts (you can find the patches applied at test-",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16240167,16240167,
jonasschnelli,2013-04-11T15:06:57Z,"Oh...\nHmm.. ""src/qt/bitcoin.cpp:205: error: 'COPYRIGHT_YEAR' was not declared in this scope""\nWasn't it merged in a PR to the master in #2503?\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16240414,16240414,
Diapolo,2013-04-11T15:12:22Z,"You can rebase to current master and update this pull, perhaps @BitcoinPullTester was doing it's work with a not up-to-date version :).\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16240777,16240777,
sipa,2013-04-11T17:32:34Z,I like the splash screen image :)\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16249457,16249457,
Diapolo,2013-04-11T17:53:07Z,"Same here, I really love it, great looking! Don't think my many comments lower that feeling :) @jonasschnelli .\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16250737,16250737,
jonasschnelli,2013-04-12T08:45:36Z,@Diapolo my contributions are for the blockchain and not for my ego. :) so keep on finding details to make it better!\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16282083,16282083,
sipa,2013-04-12T20:58:43Z,"Seems to work fine. I haven't checked the code changes, but can you at least squash them?\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16317265,16317265,
jonasschnelli,2013-04-13T11:56:56Z,"@sipa: will finish the splash screen soon (1-2 days) then i try to squash. I once pulled/updates from master, ... i think i can't squash over the merge of the master? Can i?\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16331842,16331842,
laanwj,2013-04-13T12:37:46Z,"@jonasschnelli it is possible, but more difficult, and not simply with git rebase -i (I think. That's why you should ideally not merge in these cases, but always rebase); easiest may be to start from a new branch with master, then git cherry-pick the non-merge commits.\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16332361,16332361,
jonasschnelli,2013-04-14T09:44:58Z,fresh and clean pull request is #2524 \n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16348493,16348493,
sipa,2013-04-14T09:59:45Z,You can just do a force push to the branch associated with the old pullrequest. You don't have to create a new one.\n,https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16348650,16348650,
jonasschnelli,2013-04-14T11:54:11Z,"@sipa: i did a --force push but the ""old commits"" where still in the commit list. The branch on my github repo was completely different to what i had localy (and pushed with --force). That's why i then restarted the whole thing. Hope you excuse. :)\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16349945,16349945,
laanwj,2013-04-14T14:35:47Z,"Yes it's not a problem, he's just saying that in general you never need to re-create a pull request. Force pushing something new will override anything that is currently in the pull request. Sometimes, the old commits stay there for a while ~ 5 minutes but that's just github in the process of updating.\n",https://github.com/bitcoin/bitcoin/pull/2495#issuecomment-16351974,16351974,
Diapolo,2013-04-09T15:00:12Z,Please don't remove that tag.\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3715044,3715044,src/qt/bitcoin.qrc
jonasschnelli,2013-04-09T19:02:37Z,Oops. was auto-removed by Qt Creator. Now readded in d33ff50.\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3720145,3720145,src/qt/bitcoin.qrc
Diapolo,2013-04-10T14:14:46Z,"Currently we have ABOUTDIALOG_COPYRIGHT_YEAR in aboutdialog.cpp, which perhaps could be moved to another location for this to be usable.\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3734205,3734205,src/qt/bitcoin.cpp
jonasschnelli,2013-04-10T14:16:39Z,Yes. I saw it. Is there a nice location for this const?\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3734243,3734243,src/qt/bitcoin.cpp
Diapolo,2013-04-10T14:21:47Z,"Perhaps it could be added to clientversion.h, but I'm not sure if we should use that directly in bitcoin.cpp. @laanwj What do you think?\nIf we would include it, you also had options to generate the version string without the client model (which seems bad, because we HAVE it in clientmodel to not access that stuff directly AFAIK).\n\nEdit: Is it possible to use tr(""Copyright"") + QString("" &copy; """,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3734361,3734361,src/qt/bitcoin.cpp
laanwj,2013-04-10T14:39:49Z,"Agreed. Clientversion.h sounds like the right place, then all the version\nand year stuff can be updated in the same place.\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3734815,3734815,src/qt/bitcoin.cpp
laanwj,2013-04-10T14:42:31Z,"@jonas won't including two large splash images, grow the executable quite a\nlot? If so, it's not really worth it for the testnet imo; and putting\n""testnet"" in the text is enough.\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3734866,3734866,src/qt/bitcoin.cpp
Diapolo,2013-04-10T14:43:00Z,You also once more will need to mention them in the assets file :D.\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3734875,3734875,src/qt/bitcoin.qrc
Diapolo,2013-04-10T14:44:34Z,"`replace(QString(""-testnet""), QString("" "") + tr(""[testnet]""))`, if that compiles :).\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3734906,3734906,src/qt/bitcoin.cpp
jonasschnelli,2013-04-10T14:45:22Z,The problem is more about the length of the text. But i can also adjust the font size. Let me do it... :)\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3734931,3734931,src/qt/bitcoin.cpp
jonasschnelli,2013-04-10T14:45:32Z,Oh.. yeah. Comes also.\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3734937,3734937,src/qt/bitcoin.qrc
Diapolo,2013-04-10T14:46:12Z,"Your rebase removed my comment here, try to use `tr(""Copyright"") + QString("" &copy; "") + tr(""2009-%1 The Bitcoin developers"").arg(2013)` (see aboutdialog.cpp) and we still need @laanwj to comment about the ABOUTDIALOG_COPYRIGHT_YEAR constant.\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3734955,3734955,src/qt/bitcoin.cpp
Diapolo,2013-04-10T14:47:16Z,"I can be quite hard to satisfy, sorry ^^. But it makes sense to use translations and the best is to use the ones we already HAVE :).\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3734979,3734979,src/qt/bitcoin.cpp
jonasschnelli,2013-04-10T14:50:31Z,"i just saw that ""tr function"" is not available at that stage. But i did not investigate that deep.\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3735059,3735059,src/qt/bitcoin.cpp
Diapolo,2013-04-10T14:57:35Z,"Is our `_()` fuction working there, see ui_interface.h, which allows translations before the UI is setup.\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3735223,3735223,src/qt/bitcoin.cpp
Diapolo,2013-04-11T07:05:32Z,"Can you try if `QString("" "") + _(""[testnet]"")` instead of QString("" [testnet]"") works please. We have `[testnet]` already translated `[testnet]` is a NEW string and for that reason currently untranslated.\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3748338,3748338,src/qt/bitcoin.cpp
Diapolo,2013-04-11T07:13:55Z,"Does this work? Should be cleaner and as I said uses our internal translations function `_()` + HTML instead of Â©.\n`QString(""&copy; 2009-%1<br>"").arg(COPYRIGHT_YEAR) + _(""The Bitcoin developers"");`\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3748393,3748393,src/qt/bitcoin.cpp
Diapolo,2013-04-11T07:16:43Z,"Just asking, is this some default font the client is using or did you pick it?\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3748419,3748419,src/qt/bitcoin.cpp
jonasschnelli,2013-04-11T07:25:07Z,"It's a designers choice. ;)\nAll OS should be fine with it. If not, Arial will be taken which is only slightly different to Helvetia.\nOkay?\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3748463,3748463,src/qt/bitcoin.cpp
Diapolo,2013-04-11T07:30:04Z,Jup :).\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3748504,3748504,src/qt/bitcoin.cpp
jonasschnelli,2013-04-11T11:40:41Z,"For sure. "" [testnet]"" is a bad label. Will change that.\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3751544,3751544,src/qt/bitcoin.cpp
jonasschnelli,2013-04-11T11:41:54Z,&copy; does not work because we placing text on a QPixmap. Ist must be the raw char.\nDo you think we have problem with special chars in the code? As i see everything is UTF-8.\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3751558,3751558,src/qt/bitcoin.cpp
Diapolo,2013-04-11T11:53:34Z,"We had that problem on the aboutdialog page, that is why I was asking :). But even if HTML doesn't work, you should still try to use `QString(""Â© 2009-%1\n"").arg(COPYRIGHT_YEAR) + _(""The Bitcoin developers"");`\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3751703,3751703,src/qt/bitcoin.cpp
laanwj,2013-04-11T11:58:03Z,"Instead of unicode in the source code use QChar(...) please. Pre-C++11,\nsource code must be ASCII not UTF-8.\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3751767,3751767,src/qt/bitcoin.cpp
jonasschnelli,2013-04-11T11:58:48Z,_() function does not work here.\nCompiler claims about casting. Maybe a std::string:c_string could help... but what speaks against QObject::tr()?\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3751784,3751784,src/qt/bitcoin.cpp
Diapolo,2013-04-11T12:01:10Z,"AFAIK we nowhere else use that QObject::tr(), but I think @laanwj can comment on that :).\nEdit: `QString::fromStdString(_(""The Bitcoin developers""));` seems to work here.\n\n`QString(""Â© 2009-%1\n"").arg(COPYRIGHT_YEAR) + QString::fromStdString(_(""The Bitcoin developers""));`\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3751819,3751819,src/qt/bitcoin.cpp
laanwj,2013-04-11T12:16:24Z,You can only use the _ function in classes derived from QObject. This is\nused to fill in the context. ::tr is more general and takes an explicit\ncontext identifier. Only use it when you really need to (such as here in\nthe main scope. Another option may be to create a class for the splash\nscreen)\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3752011,3752011,src/qt/bitcoin.cpp
laanwj,2013-04-11T12:30:44Z,"Eh I meant the tr function withput QObject qualifier, not _. _ must not be\nused in qt code at all, it's a hack to get messages in the core translated\nwhere we can't use qt.\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3752224,3752224,src/qt/bitcoin.cpp
laanwj,2013-04-11T13:52:45Z,"I don't think \uXXXX will work in non-gcc compilers such as MSVC. Better use QChar(0xA9) + QString("" ..."") .\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3753451,3753451,src/qt/bitcoin.cpp
jonasschnelli,2013-04-11T14:15:21Z,sorry for my lack of non-gcc experience. Fixed now.\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3753921,3753921,src/qt/bitcoin.cpp
Diapolo,2013-04-11T15:13:36Z,Looks like an indention via tab ;).\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3755112,3755112,doc/assets-attribution.txt
Diapolo,2013-04-11T15:14:45Z,"Now you are leaving out the `[testnet]` completely in the splash screen, right?\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3755138,3755138,src/qt/bitcoin.cpp
Diapolo,2013-04-11T15:16:16Z,Your comment can be removed and if you want to make me happy :-P use a space before and after the first `+`.\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3755175,3755175,src/qt/bitcoin.cpp
Diapolo,2013-04-11T15:18:40Z,"That comment is also obsolete, but AFAIK we need to include clientversion.h now below `#include ""paymentserver.h""` in this files header.\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3755234,3755234,src/qt/bitcoin.cpp
laanwj,2013-04-12T03:44:47Z,"Code-wise, I would prefer if you move this stuff to a function or class. The main is already pretty cluttered. Personally I prefer a main function that consists of function/method calls, not logic and rendering code in itself. \n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3766398,3766398,src/qt/bitcoin.cpp
jonasschnelli,2013-04-12T08:43:56Z,"the testnet will be cut of the string, but further down you will see a part of code who places a ""[testnet]"" string if testnet is on in the upper right corner. Looks good in my eye.\n",https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3768697,3768697,src/qt/bitcoin.cpp
jonasschnelli,2013-04-12T08:44:07Z,Okay. Will fix that.\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3768701,3768701,src/qt/bitcoin.cpp
jonasschnelli,2013-04-12T08:44:36Z,yeah. I'll fix that...\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3768706,3768706,src/qt/bitcoin.cpp
jonasschnelli,2013-04-12T08:46:54Z,Let me inherit the QSplashScreen and write it more proper to reduce bitcoin.cpp size.\n,https://github.com/bitcoin/bitcoin/pull/2495#discussion_r3768738,3768738,src/qt/bitcoin.cpp
