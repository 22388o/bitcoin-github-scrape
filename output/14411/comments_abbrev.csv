MarcoFalke,2018-10-06T06:46:40Z,"Is this for backport to 0.17.1? While not necessary, I believe it would simplify upgrade from 0.17.1+ to 0.18.0, because 0.17.1 could be used without `-deprecatedrpc` as workaround.",https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-427551234,427551234,
ryanofsky,2018-10-06T08:43:43Z,"I think it'd be reasonable to backport this, since it's a small change that restores a removed feature. But I think it won't cherry-pick cleanly because #14023 was merged since the 0.17 branch. @Saicere originally reported the issue so they might be able to say whether there's a benefit to backporting.",https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-427557324,427557324,
DrahtBot,2018-10-06T08:46:00Z,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14726](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14726.html) (Use RPCHelpMan for all RPCs by MarcoFalke)\",https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-427557450,427557450,
Saicere,2018-10-07T16:45:06Z,"> @Saicere originally reported the issue so they might be able to say whether there's a benefit to backporting.\n\nAs far as I am concerned, it's not really a big deal whether or not it's backported to the 0.17 branch as long as it's in before accounts are removed entirely. If you were using accounts in your application, you are probably running 0.17 with `-deprecatedrpc=accounts` anyway while R",https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-427667641,427667641,
kristapsk,2018-10-07T20:54:04Z,ACK 8fcb76508493cd09d4895e7f3ad11cc5b945056e,https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-427686070,427686070,
jnewbery,2018-10-08T08:16:57Z,"Concept ACK. For completeness, this functionality was hidden behind a deprecation switch in #12953 (based on #11497). The functionality was marked deprecated in #5575.\n\nApologies - it was my oversight that this functionality got dropped. I'm happy to backport this to V0.17 once this gets merged. I aim to review this week.",https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-427753184,427753184,
MarcoFalke,2018-10-09T04:23:31Z,"We assume the reader goes through the release notes for each release, so it should be sufficient to only mention on the 0.17. branch.",https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-428055000,428055000,
jnewbery,2018-10-09T08:05:32Z,Backport is #14441. PR numbering was totally intentional.,https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-428099405,428099405,
jnewbery,2018-10-10T07:23:25Z,ACK 4deba4ced9fc4edd1a40837c083080b6ed4c8163,https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-428465756,428465756,
jnewbery,2018-10-10T07:41:29Z,The release note should be removed from this PR (assuming #14441 is merged),https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-428470607,428470607,
ryanofsky,2018-10-15T17:49:25Z,Updated 4deba4ced9fc4edd1a40837c083080b6ed4c8163 -> 7cbe74f1524fc8621eb339d5eddd9530826c8461 ([pr/list-label.4](https://github.com/ryanofsky/bitcoin/commits/pr/list-label.4) -> [pr/list-label.5](https://github.com/ryanofsky/bitcoin/commits/pr/list-label.5)) removing [release notes](https://github.com/ryanofsky/bitcoin/blob/pr/list-label.4/doc/release-notes/release-notes-0.17.1-14441.md) and changi,https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-429949539,429949539,
sipa,2018-10-15T21:58:56Z,"Very nitty comment; it feels like this functionality is closer to `listreceivedbylabel` than to `listtransactions` (as the latter is about all transactions which affect the balance of the wallet - and formerly account) rather than just incoming payments. Would it make sense to add it as an extra option to `listreceivedbylabel` (verbose or so), or a separate RPC, instead?",https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-430029195,430029195,
Saicere,2018-10-15T23:06:23Z,"> Would it make sense to add it as an extra option to `listreceivedbylabel` (verbose or so), or a separate RPC, instead?\n\n`listreceivedbylabel` doesn't take a label argument or list transactions in any way, it just lists total received coins per label, as per [the code](https://github.com/bitcoin/bitcoin/blob/be992701b018f256db6d64786624be4cb60d8975/src/wallet/rpcwallet.cpp#L1318).",https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-430044304,430044304,
jnewbery,2018-10-16T13:36:31Z,ACK 7cbe74f1524fc8621eb339d5eddd9530826c8461. Only change since 4deba4c is removing release notes and changing whitespace.,https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-430240004,430240004,
ryanofsky,2018-10-16T16:57:55Z,"> Would it make sense to add it as an extra option to listreceivedbylabel (verbose or so), or a separate RPC, instead?\n\nIt'd be good to improve listreceivedbylabel. But filtering by label in `listtransactions` used to work previously and I think was just removed by accident.\n\nYou could maybe say that `listtransactions` shouldn't return labels or filter by label at all, since outgoing trans",https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-430314942,430314942,
ryanofsky,2018-11-12T16:04:57Z,Rebased 7cbe74f1524fc8621eb339d5eddd9530826c8461 -> 671d8ee370de4824f4ab30b904bf59514f5e52e5 ([pr/list-label.5](https://github.com/ryanofsky/bitcoin/commits/pr/list-label.5) -> [pr/list-label.6](https://github.com/ryanofsky/bitcoin/commits/pr/list-label.6)) due to conflict with #14437. Also renamed filter variable as suggested by MeshCollider.,https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-437935607,437935607,
MarcoFalke,2018-11-12T16:20:00Z,"Unless I am mistaken this has been ""backported"" in 5150accdd2a7c7f0edf964d56bd7d34b5f740cdc. So this must go into 0.18.0 instead.\n(assigned new milestone)",https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-437940934,437940934,
MarcoFalke,2018-11-14T16:57:30Z,"ACK da427dbd48ae8d12a2a79a7514a813e78064fe52 (Only checked that the rebase was done properly from the last time people reviewed this. Also checked that the tests are the same as in the backport 5150accdd2a7c7f0edf964d56bd7d34b5f740cdc, didn't look at the code)",https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-438736367,438736367,
jnewbery,2018-11-21T22:17:49Z,utACK da427dbd48ae8d12a2a79a7514a813e78064fe52,https://github.com/bitcoin/bitcoin/pull/14411#issuecomment-440827475,440827475,
promag,2018-10-07T21:22:55Z,">  @param  filter_label Optional label string to filter incoming transactions.\n\nnit, `filter_label = nullptr`. Also, makes the diff smaller",https://github.com/bitcoin/bitcoin/pull/14411#discussion_r223228501,223228501,src/wallet/rpcwallet.cpp
jnewbery,2018-10-09T03:40:21Z,"- assert is a statement, not a function. Please remove the outer parentheses.\n- Is there a reason for removing the named args? It's difficult to understand what the list of positional arguments mean.",https://github.com/bitcoin/bitcoin/pull/14411#discussion_r223552701,223552701,test/functional/wallet_listtransactions.py
jnewbery,2018-10-09T03:40:33Z,"As above, please retain the named args.",https://github.com/bitcoin/bitcoin/pull/14411#discussion_r223552726,223552726,test/functional/wallet_listtransactions.py
jnewbery,2018-10-09T05:24:09Z,`dummy` needs to be changed to `label` here.,https://github.com/bitcoin/bitcoin/pull/14411#discussion_r223563077,223563077,src/wallet/rpcwallet.cpp
ryanofsky,2018-10-10T02:17:36Z,"I think changing the signature is better because makes it easier to verify in the diff that there aren't other calls that should be passing along label values. It may also make it more likely that new RPC methods added in the future will support filtering by label.\n\nIn general, I think default arguments in c++ can make code difficult to read, and should be used sparingly. If I see `nullptr /* ",https://github.com/bitcoin/bitcoin/pull/14411#discussion_r223918401,223918401,src/wallet/rpcwallet.cpp
ryanofsky,2018-10-10T02:21:46Z,Fixed in 665d00fce4bc53a9ea9dc5a7d457d586af357bf3,https://github.com/bitcoin/bitcoin/pull/14411#discussion_r223918882,223918882,src/wallet/rpcwallet.cpp
ryanofsky,2018-10-10T02:23:42Z,Fixed in 665d00fce4bc53a9ea9dc5a7d457d586af357bf3. The style changes just came from reverting to the previous code.,https://github.com/bitcoin/bitcoin/pull/14411#discussion_r223919125,223919125,test/functional/wallet_listtransactions.py
ryanofsky,2018-10-10T02:24:44Z,Fixed in 665d00fce4bc53a9ea9dc5a7d457d586af357bf3. The style changes just came from reverting to the previous code.,https://github.com/bitcoin/bitcoin/pull/14411#discussion_r223919241,223919241,test/functional/wallet_listtransactions.py
jnewbery,2018-10-10T05:29:54Z,I agree that default arguments should be used sparingly.,https://github.com/bitcoin/bitcoin/pull/14411#discussion_r223940168,223940168,src/wallet/rpcwallet.cpp
promag,2018-10-10T11:56:19Z,:+1:,https://github.com/bitcoin/bitcoin/pull/14411#discussion_r224044712,224044712,src/wallet/rpcwallet.cpp
promag,2018-10-10T12:00:04Z,"nit, fix consistency by adding spaces after `(` and before `)`?",https://github.com/bitcoin/bitcoin/pull/14411#discussion_r224045705,224045705,src/wallet/rpcwallet.cpp
meshcollider,2018-11-09T03:28:23Z,"IMO this should be renamed to avoid confusion, to something like `filter_ismine`",https://github.com/bitcoin/bitcoin/pull/14411#discussion_r232134086,232134086,src/wallet/rpcwallet.cpp
MarcoFalke,2018-11-13T21:45:29Z,"From the documentation below, label is a string, so should be surrounded by quotation marks in the oneline doc. \n\n```suggestion\n            ""listtransactions ( \""label\"" count skip include_watchonly )\n""\n```",https://github.com/bitcoin/bitcoin/pull/14411#discussion_r233233709,233233709,src/wallet/rpcwallet.cpp
ryanofsky,2018-11-13T21:56:06Z,"re: https://github.com/bitcoin/bitcoin/pull/14411#discussion_r233233709\n\n> From the documentation below, label is a string, so should be surrounded by quotation marks in the oneline doc.\n\nDone in rebase.",https://github.com/bitcoin/bitcoin/pull/14411#discussion_r233237271,233237271,src/wallet/rpcwallet.cpp
