[
  {
    "sha": "98f64556287bc1dacad49de921918d9604835cc0",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5OGY2NDU1NjI4N2JjMWRhY2FkNDlkZTkyMTkxOGQ5NjA0ODM1Y2Mw",
    "commit": {
      "author": {
        "name": "instagibbs",
        "email": "gsanders87@gmail.com",
        "date": "2016-11-07T16:37:36Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-08-21T21:39:38Z"
      },
      "message": "Add function to retrieve nested p2sh witness program keyhash from keystore",
      "tree": {
        "sha": "b5f40f5803b1b7c1751e14d9be4e68dc73a852aa",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b5f40f5803b1b7c1751e14d9be4e68dc73a852aa"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/98f64556287bc1dacad49de921918d9604835cc0",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/98f64556287bc1dacad49de921918d9604835cc0",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/98f64556287bc1dacad49de921918d9604835cc0",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/98f64556287bc1dacad49de921918d9604835cc0/comments",
    "author": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c2704ec98a1b7b35b6a7c1b6b26a3f16d44e8880",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c2704ec98a1b7b35b6a7c1b6b26a3f16d44e8880",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c2704ec98a1b7b35b6a7c1b6b26a3f16d44e8880"
      }
    ],
    "stats": {
      "total": 21,
      "additions": 21,
      "deletions": 0
    },
    "files": [
      {
        "sha": "72ce5c450f2386791496132feb6f1af62b4e829e",
        "filename": "src/wallet/wallet.cpp",
        "status": "modified",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/98f64556287bc1dacad49de921918d9604835cc0/src/wallet/wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/98f64556287bc1dacad49de921918d9604835cc0/src/wallet/wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.cpp?ref=98f64556287bc1dacad49de921918d9604835cc0",
        "patch": "@@ -4337,3 +4337,21 @@ bool CMerkleTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n {\n     return ::AcceptToMemoryPool(mempool, state, tx, true, nullptr, nullptr, false, nAbsurdFee);\n }\n+\n+bool GetWitnessKeyID(const CKeyStore* const store, const CScriptID &scriptID, CKeyID &keyID)\n+{\n+    CScript subscript;\n+    if (!store->GetCScript(scriptID, subscript)) {\n+        return false;\n+    }\n+    int witnessVer = 0;\n+    std::vector<unsigned char> witnessProgram;\n+    if (!subscript.IsWitnessProgram(witnessVer, witnessProgram)) {\n+        return false;\n+    }\n+    if (witnessProgram.size() != 20) {\n+        return false;\n+    }\n+    keyID = CKeyID(uint160(witnessProgram));\n+    return true;\n+}"
      },
      {
        "sha": "c525fef8f604cbc9c1df85a27b706a9fcd12535f",
        "filename": "src/wallet/wallet.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/98f64556287bc1dacad49de921918d9604835cc0/src/wallet/wallet.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/98f64556287bc1dacad49de921918d9604835cc0/src/wallet/wallet.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.h?ref=98f64556287bc1dacad49de921918d9604835cc0",
        "patch": "@@ -1198,6 +1198,9 @@ class CAccount\n     }\n };\n \n+// Retrieves the witness program keyhash from p2sh scriptID with help of keystore\n+bool GetWitnessKeyID(const CKeyStore* store, const CScriptID &scriptID, CKeyID &keyID);\n+\n // Helper for producing a bunch of max-sized low-S signatures (eg 72 bytes)\n // ContainerType is meant to hold pair<CWalletTx *, int>, and be iterable\n // so that each entry corresponds to each vIn, in order."
      }
    ]
  },
  {
    "sha": "84d4fba7109d4c863da2729a7dbd7f64f6b0cf8e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4NGQ0ZmJhNzEwOWQ0Yzg2M2RhMjcyOWE3ZGJkN2Y2NGY2YjBjZjhl",
    "commit": {
      "author": {
        "name": "instagibbs",
        "email": "gsanders87@gmail.com",
        "date": "2016-10-21T19:22:14Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-08-21T21:39:38Z"
      },
      "message": "Enable pubkey lookup for p2sh-p2wpkh in validateaddress",
      "tree": {
        "sha": "17861e783583eb4b10e0ff0585944710f2656829",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/17861e783583eb4b10e0ff0585944710f2656829"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/84d4fba7109d4c863da2729a7dbd7f64f6b0cf8e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/84d4fba7109d4c863da2729a7dbd7f64f6b0cf8e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/84d4fba7109d4c863da2729a7dbd7f64f6b0cf8e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/84d4fba7109d4c863da2729a7dbd7f64f6b0cf8e/comments",
    "author": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "98f64556287bc1dacad49de921918d9604835cc0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/98f64556287bc1dacad49de921918d9604835cc0",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/98f64556287bc1dacad49de921918d9604835cc0"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 13,
      "deletions": 0
    },
    "files": [
      {
        "sha": "6ee6f37971fb3bb784a7d1795ac481e4462c0028",
        "filename": "src/rpc/misc.cpp",
        "status": "modified",
        "additions": 13,
        "deletions": 0,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/84d4fba7109d4c863da2729a7dbd7f64f6b0cf8e/src/rpc/misc.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/84d4fba7109d4c863da2729a7dbd7f64f6b0cf8e/src/rpc/misc.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/misc.cpp?ref=84d4fba7109d4c863da2729a7dbd7f64f6b0cf8e",
        "patch": "@@ -150,6 +150,13 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n             int nRequired;\n             ExtractDestinations(subscript, whichType, addresses, nRequired);\n             obj.push_back(Pair(\"script\", GetTxnOutputType(whichType)));\n+            CKeyID keyID;\n+            CPubKey pubkey;\n+            if (GetWitnessKeyID(pwallet, scriptID, keyID) && pwallet->GetPubKey(keyID, pubkey)) {\n+                // Wallet should only have compressed pubkeys for segwit\n+                assert(pubkey.IsCompressed());\n+                obj.push_back(Pair(\"pubkey\", HexStr(pubkey)));\n+            }\n             obj.push_back(Pair(\"hex\", HexStr(subscript.begin(), subscript.end())));\n             UniValue a(UniValue::VARR);\n             for (const CTxDestination& addr : addresses)\n@@ -236,6 +243,12 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             auto it = address.GetKeyID(keyID) ? meta.find(keyID) : meta.end();\n             if (it == meta.end()) {\n                 it = meta.find(CScriptID(scriptPubKey));\n+                if (it == meta.end()) {\n+                    CScriptID scriptID;\n+                    if (address.GetScriptID(scriptID) && GetWitnessKeyID(pwallet, scriptID, keyID)) {\n+                        it = meta.find(keyID);\n+                    }\n+                }\n             }\n             if (it != meta.end()) {\n                 ret.push_back(Pair(\"timestamp\", it->second.nCreateTime));"
      }
    ]
  },
  {
    "sha": "17350fe4179e177070755aa2bf98152fad4e63f3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxNzM1MGZlNDE3OWUxNzcwNzA3NTVhYTJiZjk4MTUyZmFkNGU2M2Yz",
    "commit": {
      "author": {
        "name": "instagibbs",
        "email": "gsanders87@gmail.com",
        "date": "2016-11-04T14:36:10Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-08-21T21:39:38Z"
      },
      "message": "Add CBitcoinAddress::GetScriptID",
      "tree": {
        "sha": "a6844caab216439cf61a11c8e624d0d7ac146b20",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a6844caab216439cf61a11c8e624d0d7ac146b20"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/17350fe4179e177070755aa2bf98152fad4e63f3",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/17350fe4179e177070755aa2bf98152fad4e63f3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/17350fe4179e177070755aa2bf98152fad4e63f3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/17350fe4179e177070755aa2bf98152fad4e63f3/comments",
    "author": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "84d4fba7109d4c863da2729a7dbd7f64f6b0cf8e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/84d4fba7109d4c863da2729a7dbd7f64f6b0cf8e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/84d4fba7109d4c863da2729a7dbd7f64f6b0cf8e"
      }
    ],
    "stats": {
      "total": 10,
      "additions": 10,
      "deletions": 0
    },
    "files": [
      {
        "sha": "7f495087629f604a95d47f144c2a587216688195",
        "filename": "src/base58.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 0,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/17350fe4179e177070755aa2bf98152fad4e63f3/src/base58.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/17350fe4179e177070755aa2bf98152fad4e63f3/src/base58.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/base58.cpp?ref=17350fe4179e177070755aa2bf98152fad4e63f3",
        "patch": "@@ -281,6 +281,15 @@ bool CBitcoinAddress::GetKeyID(CKeyID& keyID) const\n     return true;\n }\n \n+bool CBitcoinAddress::GetScriptID(CScriptID& scriptID) const\n+{\n+    if (!IsValid() || vchVersion != Params().Base58Prefix(CChainParams::SCRIPT_ADDRESS)) {\n+        return false;\n+    }\n+    memcpy(scriptID.begin(), vchData.data(), 20);\n+    return true;\n+}\n+\n bool CBitcoinAddress::IsScript() const\n {\n     return IsValid() && vchVersion == Params().Base58Prefix(CChainParams::SCRIPT_ADDRESS);"
      },
      {
        "sha": "69ff406487b41b29b32834e913801e6b9dc2e7b5",
        "filename": "src/base58.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/17350fe4179e177070755aa2bf98152fad4e63f3/src/base58.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/17350fe4179e177070755aa2bf98152fad4e63f3/src/base58.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/base58.h?ref=17350fe4179e177070755aa2bf98152fad4e63f3",
        "patch": "@@ -116,6 +116,7 @@ class CBitcoinAddress : public CBase58Data {\n \n     CTxDestination Get() const;\n     bool GetKeyID(CKeyID &keyID) const;\n+    bool GetScriptID(CScriptID &scriptID) const;\n     bool IsScript() const;\n };\n "
      }
    ]
  },
  {
    "sha": "b4008bca7ddcdae968ffc99b05cb2b77e2ee2429",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiNDAwOGJjYTdkZGNkYWU5NjhmZmM5OWIwNWNiMmI3N2UyZWUyNDI5",
    "commit": {
      "author": {
        "name": "instagibbs",
        "email": "gsanders87@gmail.com",
        "date": "2016-11-04T14:36:38Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-08-21T21:39:38Z"
      },
      "message": "Enable dumpprivkey for p2sh-p2wpkh",
      "tree": {
        "sha": "f3cee64161ba9d79aac0b47845b5c63d8e8547f5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f3cee64161ba9d79aac0b47845b5c63d8e8547f5"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b4008bca7ddcdae968ffc99b05cb2b77e2ee2429",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b4008bca7ddcdae968ffc99b05cb2b77e2ee2429",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b4008bca7ddcdae968ffc99b05cb2b77e2ee2429",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b4008bca7ddcdae968ffc99b05cb2b77e2ee2429/comments",
    "author": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "17350fe4179e177070755aa2bf98152fad4e63f3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/17350fe4179e177070755aa2bf98152fad4e63f3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/17350fe4179e177070755aa2bf98152fad4e63f3"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 3,
      "deletions": 1
    },
    "files": [
      {
        "sha": "d78819b163a6c04f7ad7576d3d82ac97b4edf8b6",
        "filename": "src/wallet/rpcdump.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4008bca7ddcdae968ffc99b05cb2b77e2ee2429/src/wallet/rpcdump.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4008bca7ddcdae968ffc99b05cb2b77e2ee2429/src/wallet/rpcdump.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/rpcdump.cpp?ref=b4008bca7ddcdae968ffc99b05cb2b77e2ee2429",
        "patch": "@@ -575,8 +575,10 @@ UniValue dumpprivkey(const JSONRPCRequest& request)\n     if (!address.SetString(strAddress))\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid Bitcoin address\");\n     CKeyID keyID;\n-    if (!address.GetKeyID(keyID))\n+    CScriptID scriptID;\n+    if ((!address.GetScriptID(scriptID) || !GetWitnessKeyID(pwallet, scriptID, keyID)) && !address.GetKeyID(keyID)) {\n         throw JSONRPCError(RPC_TYPE_ERROR, \"Address does not refer to a key\");\n+    }\n     CKey vchSecret;\n     if (!pwallet->GetKey(keyID, vchSecret)) {\n         throw JSONRPCError(RPC_WALLET_ERROR, \"Private key for address \" + strAddress + \" is not known\");"
      }
    ]
  },
  {
    "sha": "0c4572c375c8192780a87052d9f7cab64d1e5950",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowYzQ1NzJjMzc1YzgxOTI3ODBhODcwNTJkOWY3Y2FiNjRkMWU1OTUw",
    "commit": {
      "author": {
        "name": "instagibbs",
        "email": "gsanders87@gmail.com",
        "date": "2016-10-25T19:14:40Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-08-21T21:39:38Z"
      },
      "message": "Accept p2sh-p2wpkh addr in createmultisig_redeemScript",
      "tree": {
        "sha": "1f852905f21077071d0a53b4e4327be65659db84",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1f852905f21077071d0a53b4e4327be65659db84"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0c4572c375c8192780a87052d9f7cab64d1e5950",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0c4572c375c8192780a87052d9f7cab64d1e5950",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0c4572c375c8192780a87052d9f7cab64d1e5950",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0c4572c375c8192780a87052d9f7cab64d1e5950/comments",
    "author": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b4008bca7ddcdae968ffc99b05cb2b77e2ee2429",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b4008bca7ddcdae968ffc99b05cb2b77e2ee2429",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b4008bca7ddcdae968ffc99b05cb2b77e2ee2429"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 3,
      "deletions": 1
    },
    "files": [
      {
        "sha": "0712640bf0349986746316b491be90ae55d6f320",
        "filename": "src/rpc/misc.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0c4572c375c8192780a87052d9f7cab64d1e5950/src/rpc/misc.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0c4572c375c8192780a87052d9f7cab64d1e5950/src/rpc/misc.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/misc.cpp?ref=0c4572c375c8192780a87052d9f7cab64d1e5950",
        "patch": "@@ -293,9 +293,11 @@ CScript _createmultisig_redeemScript(CWallet * const pwallet, const UniValue& pa\n         CBitcoinAddress address(ks);\n         if (pwallet && address.IsValid()) {\n             CKeyID keyID;\n-            if (!address.GetKeyID(keyID))\n+            CScriptID scriptID;\n+            if (!address.GetKeyID(keyID) && (!address.GetScriptID(scriptID) || !GetWitnessKeyID(pwallet, scriptID, keyID))) {\n                 throw std::runtime_error(\n                     strprintf(\"%s does not refer to a key\",ks));\n+            }\n             CPubKey vchPubKey;\n             if (!pwallet->GetPubKey(keyID, vchPubKey)) {\n                 throw std::runtime_error("
      }
    ]
  }
]