[
  {
    "sha": "ceb5ab34b8aab1c506c301f1ccaa2268247680eb",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjZWI1YWIzNGI4YWFiMWM1MDZjMzAxZjFjY2FhMjI2ODI0NzY4MGVi",
    "commit": {
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@gmail.com",
        "date": "2019-02-26T19:59:30Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2019-03-09T07:01:31Z"
      },
      "message": "[addrman] Improve tried table collision logging\n\nGithub-Pull: #15486\nRebased-From: 4d834018e368c3481a5421891395f64aa9002185",
      "tree": {
        "sha": "f07744ad09bc4ab3bd322049e42aa159e3c0cf89",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f07744ad09bc4ab3bd322049e42aa159e3c0cf89"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ceb5ab34b8aab1c506c301f1ccaa2268247680eb",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAlyDZQUACgkQLuufXMCV\nJsFjmhAAmFx5DI/cUjaZTTZtOu3Vk5JXVLlSV1OJpUuDl0dsA7WVJU8FDHXYM+aT\nNaZZVbkID8SyFkqe8VCZlxp9X5ijosYDxtcBPn7JSYVZmqq5dU9DXAf+Yawz6fcn\ngCQljlv8SpelqOXuGZ8Hzc79qHbAN1IY0OgE+wJ/Y8Oy/NPATt0oqNja18DaAn3Q\nOmulZKrtMMQCfqa24kU3EIbzUruSbOOeEnVIYltOMUSJ4mPlStMzEiVV6OaRwq74\nJav4mLoXaFoi3keyMoJXn8QhDk041EE7ir4yzkkv4bku2Fj0zAQc7WeMPSUhwPGg\nuhvaMy9UF6kA4+m5079VBJ7vdYOtK/4xD3tmFWFptvYViJDDk9A8M/KyzdCdnQ6/\nm23RlORHBn5jwU+iOIomllKOYD4zhMnlURHVpqyBDgbnXC2GTozgBTHlH+3UnpjS\n9rmgMV2To9tw9QiOqn8Ixza6+WmrRC69NRoMLv/4prPf3yZmPGrCeTI8DH77eVpd\n1oiK/kTFuCAsLZyUA5GD+3E6ZCsSg7kdZKK0iF8ju04IvPIWsNS0f7J/9jslF8mb\nCnDXeXcBAbTd59SYaJHntxBSWrYCDv56vJmkq17GB2dEbYed2fmem8zFdt5Xhbrx\nV2uy3HaPfjO99tNjBUpSG7Ulx/0bWmtDOEitDsfKEFgFLa1l3fY=\n=ar/w\n-----END PGP SIGNATURE-----",
        "payload": "tree f07744ad09bc4ab3bd322049e42aa159e3c0cf89\nparent f810f14cf61db3968b905f84c3eea3056f89c2a8\nauthor Suhas Daftuar <sdaftuar@gmail.com> 1551211170 -0500\ncommitter fanquake <fanquake@gmail.com> 1552114891 +0800\n\n[addrman] Improve tried table collision logging\n\nGithub-Pull: #15486\nRebased-From: 4d834018e368c3481a5421891395f64aa9002185\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ceb5ab34b8aab1c506c301f1ccaa2268247680eb",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ceb5ab34b8aab1c506c301f1ccaa2268247680eb",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ceb5ab34b8aab1c506c301f1ccaa2268247680eb/comments",
    "author": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f810f14cf61db3968b905f84c3eea3056f89c2a8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f810f14cf61db3968b905f84c3eea3056f89c2a8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f810f14cf61db3968b905f84c3eea3056f89c2a8"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 3,
      "deletions": 1
    },
    "files": [
      {
        "sha": "468618095c0604a532ad1220a9516210384588c3",
        "filename": "src/addrman.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ceb5ab34b8aab1c506c301f1ccaa2268247680eb/src/addrman.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ceb5ab34b8aab1c506c301f1ccaa2268247680eb/src/addrman.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/addrman.cpp?ref=ceb5ab34b8aab1c506c301f1ccaa2268247680eb",
        "patch": "@@ -239,7 +239,9 @@ void CAddrMan::Good_(const CService& addr, bool test_before_evict, int64_t nTime\n \n     // Will moving this address into tried evict another entry?\n     if (test_before_evict && (vvTried[tried_bucket][tried_bucket_pos] != -1)) {\n-        LogPrint(BCLog::ADDRMAN, \"Collision inserting element into tried table, moving %s to m_tried_collisions=%d\\n\", addr.ToString(), m_tried_collisions.size());\n+        // Output the entry we'd be colliding with, for debugging purposes\n+        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n+        LogPrint(BCLog::ADDRMAN, \"Collision inserting element into tried table (%s), moving %s to m_tried_collisions=%d\\n\", colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\", addr.ToString(), m_tried_collisions.size());\n         if (m_tried_collisions.size() < ADDRMAN_SET_TRIED_COLLISION_SIZE) {\n             m_tried_collisions.insert(nId);\n         }"
      }
    ]
  },
  {
    "sha": "78725b489394a8e05de43d166b6465c39fbe21dc",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3ODcyNWI0ODkzOTRhOGUwNWRlNDNkMTY2YjY0NjVjMzlmYmUyMWRj",
    "commit": {
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@gmail.com",
        "date": "2019-02-26T20:04:48Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2019-03-09T07:03:07Z"
      },
      "message": "[net] feeler connections can be made to outbound peers in same netgroup\n\nFixes a bug where feelers could be stuck trying to resolve a collision in the\ntried table that is to an address in the same netgroup as an existing outbound peer.\n\nThanks to Muoi Tran for the original bug report and detailed debug logs to track\nthis down.\n\nGithub-Pull: #15486\nRebased-From: 4991e3c813c9848d3b3957ea3ad433f02fca9e81",
      "tree": {
        "sha": "347157441d6a47fd55763a1a0ffadc470e0f0fa8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/347157441d6a47fd55763a1a0ffadc470e0f0fa8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/78725b489394a8e05de43d166b6465c39fbe21dc",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAlyDZT4ACgkQLuufXMCV\nJsE5Yg//XPBWjnMmXgZuGUKKERdvS1mVwLTUn8DIms800sJCrsn9fn3lK81XYzE+\nLAz2J9zqgHtO+TdVMocIbfzbuxB3pdlHYTotT6KXSruc5EL07dcbzdFxpjC658le\nJSCGa1LZlJhdPIN/y6nTz9lRLYO/txGZfGQK/6QXEfzqqt+nlQCrQ1cbZ3lIFOh3\nzjbY/P3JhCDX257wfda0AjFaLihRYmi0PJe9tc4dLckhfgF/RtOw9YZ8f7iCyLCe\n/eJc8ITvsEaOf1el/c/YprVVYLsq1fg+XlFtm877lLTyCfOw2YFhc2MI+zXklJqu\nwo51w0mnP+5bNZJnfESkSMoyPfSh7w3iBOxjE3C8rydBlCMMLFg4O+VwIJynUAaE\nevOFGDXAiMwhlhdveet1kaRN58WoFebcxBNu4vtYb12gHHFy5Xzlud+zloGWh5YF\nWqjaPk1KLQIDR/UbQuLsXHINIn7tHdWlaoboP0zZRx7bsaqdwA6bfmXeJGBbrpwO\nBF3zVgq+rfZR4+wqP20xb2aRmo2wl2s2cNu1zFoTbgvQIOILEqQBVymIcS40eDZf\nLTdzRjqk/cBKEgGDHYlLlPBWBxFEfaqwpK9v/jOpbPFjgUWCR3LHBm2ql30196rE\n6O2h+XUG+7i3EuoHhF6PW7fo3mPxOjH9Zj56pHGH9qXXz+3lvTw=\n=Ugui\n-----END PGP SIGNATURE-----",
        "payload": "tree 347157441d6a47fd55763a1a0ffadc470e0f0fa8\nparent ceb5ab34b8aab1c506c301f1ccaa2268247680eb\nauthor Suhas Daftuar <sdaftuar@gmail.com> 1551211488 -0500\ncommitter fanquake <fanquake@gmail.com> 1552114987 +0800\n\n[net] feeler connections can be made to outbound peers in same netgroup\n\nFixes a bug where feelers could be stuck trying to resolve a collision in the\ntried table that is to an address in the same netgroup as an existing outbound peer.\n\nThanks to Muoi Tran for the original bug report and detailed debug logs to track\nthis down.\n\nGithub-Pull: #15486\nRebased-From: 4991e3c813c9848d3b3957ea3ad433f02fca9e81\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/78725b489394a8e05de43d166b6465c39fbe21dc",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/78725b489394a8e05de43d166b6465c39fbe21dc",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/78725b489394a8e05de43d166b6465c39fbe21dc/comments",
    "author": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ceb5ab34b8aab1c506c301f1ccaa2268247680eb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ceb5ab34b8aab1c506c301f1ccaa2268247680eb",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ceb5ab34b8aab1c506c301f1ccaa2268247680eb"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 7,
      "deletions": 1
    },
    "files": [
      {
        "sha": "3f87dc6357347651941ca00645b8b1cda61cd827",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 1,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/78725b489394a8e05de43d166b6465c39fbe21dc/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/78725b489394a8e05de43d166b6465c39fbe21dc/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=78725b489394a8e05de43d166b6465c39fbe21dc",
        "patch": "@@ -1765,9 +1765,15 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n                 addr = addrman.Select(fFeeler);\n             }\n \n+            // Require outbound connections to be to distinct network groups\n+            if (!fFeeler && setConnected.count(addr.GetGroup())) {\n+                break;\n+            }\n+\n             // if we selected an invalid address, restart\n-            if (!addr.IsValid() || setConnected.count(addr.GetGroup()) || IsLocal(addr))\n+            if (!addr.IsValid() || IsLocal(addr)) {\n                 break;\n+            }\n \n             // If we didn't find an appropriate destination after trying 100 addresses fetched from addrman,\n             // stop this loop, and let the outer loop run again (which sleeps, adds seed nodes, recalculates"
      }
    ]
  },
  {
    "sha": "61248cd6dac539c9b65d75fa66cc74a56e9d1cc0",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2MTI0OGNkNmRhYzUzOWM5YjY1ZDc1ZmE2NmNjNzRhNTZlOWQxY2Mw",
    "commit": {
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@gmail.com",
        "date": "2019-02-26T21:34:26Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2019-03-09T07:03:42Z"
      },
      "message": "[addrman] Ensure collisions eventually get resolved\n\nAfter 40 minutes, time out a test-before-evict entry and just evict without\ntesting. Otherwise, if we were unable to test an entry for some reason, we\nmight break using feelers altogether.\n\nGithub-Pull: #15486\nRebased-From: f71fdda3bc2e7acd2a8b74e882364866b8b0f55b",
      "tree": {
        "sha": "68f2b9248fed538a790b0b8e6968c29a9f3e1459",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/68f2b9248fed538a790b0b8e6968c29a9f3e1459"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/61248cd6dac539c9b65d75fa66cc74a56e9d1cc0",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAlyDZVwACgkQLuufXMCV\nJsFbfw//efm+LsQdoeJ6ll0GGuVOpeS13M7K698It8T0WjVCV5c8tNrD2hRsPkYL\neMFkq0HS37dE+cKDHVE7JNxHfx5g7W0dcV8cB9uO6cauWwYCgrx+Dg94NNX5off0\n5SAsmTB9q3+8LZw0WA2xg+1EX7ChL3ET3wqHDWR05uTm306gZIxSxfiBSZ2RpBTH\nTd8xR+RInkyvg9RahvCONrYUBf025CtB2um8liULzIHiFRxa0zaLzOVtv5or1hCb\nljRHYMiB1nixu61k3y9PUbxUAo7xfjivvcd8n/WUnp9SxzPDYiWDCwtU4r4b2Avo\nzjakHqJHRef0fcO4HXJY9NufrSWzJlER+WdNkKfr3hMoPyuCkZ2Kccf8lOoEx13+\nfHR9XmlW9zKnQR4DsXfgAELX93E2qAci57eVzJmvJKArSMmJ16eMBgC1C1dyQpOr\noXDlwmE+rtHyzvS9+8A/0jyLuG2cCKhDl6WQdPHcpY2Jrb2NUcH8b5qMekcgR6A8\n7M/+cWZvJCTTvq/xgU8vjovx6swMkgJP6JWtWtiOyU6VnmhrO9ecLY5xYRjNGjjV\nK61oGxyhPDUYQt22PEuo+3d35BfAl44UOhOpfQipQoXdAog6CbxaLwki819pEcM8\nlz2UG+f5Lzwg0GelTNegTrxRROGDUJqBdJ8y4rPTlemlgWWG+wA=\n=VzfE\n-----END PGP SIGNATURE-----",
        "payload": "tree 68f2b9248fed538a790b0b8e6968c29a9f3e1459\nparent 78725b489394a8e05de43d166b6465c39fbe21dc\nauthor Suhas Daftuar <sdaftuar@gmail.com> 1551216866 -0500\ncommitter fanquake <fanquake@gmail.com> 1552115022 +0800\n\n[addrman] Ensure collisions eventually get resolved\n\nAfter 40 minutes, time out a test-before-evict entry and just evict without\ntesting. Otherwise, if we were unable to test an entry for some reason, we\nmight break using feelers altogether.\n\nGithub-Pull: #15486\nRebased-From: f71fdda3bc2e7acd2a8b74e882364866b8b0f55b\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/61248cd6dac539c9b65d75fa66cc74a56e9d1cc0",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/61248cd6dac539c9b65d75fa66cc74a56e9d1cc0",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/61248cd6dac539c9b65d75fa66cc74a56e9d1cc0/comments",
    "author": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "78725b489394a8e05de43d166b6465c39fbe21dc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/78725b489394a8e05de43d166b6465c39fbe21dc",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/78725b489394a8e05de43d166b6465c39fbe21dc"
      }
    ],
    "stats": {
      "total": 10,
      "additions": 10,
      "deletions": 0
    },
    "files": [
      {
        "sha": "45b686e1de417cdf1c2d964cdb88fbb28026bd9e",
        "filename": "src/addrman.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/61248cd6dac539c9b65d75fa66cc74a56e9d1cc0/src/addrman.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/61248cd6dac539c9b65d75fa66cc74a56e9d1cc0/src/addrman.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/addrman.cpp?ref=61248cd6dac539c9b65d75fa66cc74a56e9d1cc0",
        "patch": "@@ -569,6 +569,13 @@ void CAddrMan::ResolveCollisions_()\n                         Good_(info_new, false, GetAdjustedTime());\n                         erase_collision = true;\n                     }\n+                } else if (GetAdjustedTime() - info_new.nLastSuccess > ADDRMAN_TEST_WINDOW) {\n+                    // If the collision hasn't resolved in some reasonable amount of time,\n+                    // just evict the old entry -- we must not be able to\n+                    // connect to it for some reason.\n+                    LogPrint(BCLog::ADDRMAN, \"Unable to test; swapping %s for %s in tried table anyway\\n\", info_new.ToString(), info_old.ToString());\n+                    Good_(info_new, false, GetAdjustedTime());\n+                    erase_collision = true;\n                 }\n             } else { // Collision is not actually a collision anymore\n                 Good_(info_new, false, GetAdjustedTime());"
      },
      {
        "sha": "e54184ce35de29a587bddd72d554c3d9a2eccac8",
        "filename": "src/addrman.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/61248cd6dac539c9b65d75fa66cc74a56e9d1cc0/src/addrman.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/61248cd6dac539c9b65d75fa66cc74a56e9d1cc0/src/addrman.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/addrman.h?ref=61248cd6dac539c9b65d75fa66cc74a56e9d1cc0",
        "patch": "@@ -166,6 +166,9 @@ class CAddrInfo : public CAddress\n //! the maximum number of tried addr collisions to store\n #define ADDRMAN_SET_TRIED_COLLISION_SIZE 10\n \n+//! the maximum time we'll spend trying to resolve a tried table collision, in seconds\n+static const int64_t ADDRMAN_TEST_WINDOW = 40*60; // 40 minutes\n+\n /**\n  * Stochastical (IP) address manager\n  */"
      }
    ]
  },
  {
    "sha": "d6602c2018c35856c902c1add4bed9886ccec0d0",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkNjYwMmMyMDE4YzM1ODU2YzkwMmMxYWRkNGJlZDk4ODZjY2VjMGQw",
    "commit": {
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@gmail.com",
        "date": "2019-03-01T21:15:50Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2019-03-09T07:04:15Z"
      },
      "message": "[addrman] Improve collision logging and address nits\n\nGithub-Pull: #15486\nRebased-From: 20e6ea259b222b10f066f22695a5f56c52071f63",
      "tree": {
        "sha": "05eb18577036c4e4ac6a09885064c318a4e20ea8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/05eb18577036c4e4ac6a09885064c318a4e20ea8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d6602c2018c35856c902c1add4bed9886ccec0d0",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAlyDZXoACgkQLuufXMCV\nJsFfBxAAhv4teSfc7vJkgRL0vK1Zp6rQl75iH9kYZeCZ3PJvMd8QBCYvRTyJb69e\nYOo/gc5tevbmZq1X06UgYR6oxKAcFenyeCLJt67UwRW9ASozm9DTNnamrssTeyHz\nC1cFZ2ATdMrPcK1ekMHeLnp/XEoU121UNdniWPCk94dVmOsbSGVq0vJk+M0PNJol\nfqwPmCbbDDkszPvKCpOj+YdGOBB2HyzXni+iXIiXEsmTzOsTadwPo/s0WvGeNMfO\n+5IZo0f7ym+1XzphtkPBFf/IEP1Bdqo3TTKMfesDowo/+lTbTCYW+N+gBFiYMXO1\nnEfEeg242h9Ql0ZNX57G6jwXYndm6bzyVdRZXINFfN6gj1NuGkRYRv0UDC5u0Yr8\n94kd+EFdvLziWGtQPGjVGGYxdC3jX1BzV5L/P1wl6WKyABAcTAnuVB7YLOAFRw14\nBDSSNkbA3PNBKJSbDNsuMFSBVEjrUucOIsn1vOQqlAOMTXxawCfUW7CDFnCE2YR9\nZ67F3kzPQItpWWp88oro3oDzczO3wcAp4MCrVZOgwV+yZ4pbX5LbRaxbhhcNeOYi\nNZBCYRlxISqtOdcE9GT60e2I4q4pwHm5UcT2lPf3+M3k+/5NAR7Q10PadzdAE0pi\nis8NuprH/ixC7eI6h/afDejU2+aGN3a6t5g0UTDneVnxdjtuUNg=\n=GdLk\n-----END PGP SIGNATURE-----",
        "payload": "tree 05eb18577036c4e4ac6a09885064c318a4e20ea8\nparent 61248cd6dac539c9b65d75fa66cc74a56e9d1cc0\nauthor Suhas Daftuar <sdaftuar@gmail.com> 1551474950 -0500\ncommitter fanquake <fanquake@gmail.com> 1552115055 +0800\n\n[addrman] Improve collision logging and address nits\n\nGithub-Pull: #15486\nRebased-From: 20e6ea259b222b10f066f22695a5f56c52071f63\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d6602c2018c35856c902c1add4bed9886ccec0d0",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d6602c2018c35856c902c1add4bed9886ccec0d0",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d6602c2018c35856c902c1add4bed9886ccec0d0/comments",
    "author": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "61248cd6dac539c9b65d75fa66cc74a56e9d1cc0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/61248cd6dac539c9b65d75fa66cc74a56e9d1cc0",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/61248cd6dac539c9b65d75fa66cc74a56e9d1cc0"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 4,
      "deletions": 4
    },
    "files": [
      {
        "sha": "8a5f78d1c5161b3835038bf63c085464875371a9",
        "filename": "src/addrman.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d6602c2018c35856c902c1add4bed9886ccec0d0/src/addrman.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d6602c2018c35856c902c1add4bed9886ccec0d0/src/addrman.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/addrman.cpp?ref=d6602c2018c35856c902c1add4bed9886ccec0d0",
        "patch": "@@ -563,7 +563,7 @@ void CAddrMan::ResolveCollisions_()\n \n                     // Give address at least 60 seconds to successfully connect\n                     if (GetAdjustedTime() - info_old.nLastTry > 60) {\n-                        LogPrint(BCLog::ADDRMAN, \"Swapping %s for %s in tried table\\n\", info_new.ToString(), info_old.ToString());\n+                        LogPrint(BCLog::ADDRMAN, \"Replacing %s with %s in tried table\\n\", info_old.ToString(), info_new.ToString());\n \n                         // Replaces an existing address already in the tried table with the new address\n                         Good_(info_new, false, GetAdjustedTime());\n@@ -573,7 +573,7 @@ void CAddrMan::ResolveCollisions_()\n                     // If the collision hasn't resolved in some reasonable amount of time,\n                     // just evict the old entry -- we must not be able to\n                     // connect to it for some reason.\n-                    LogPrint(BCLog::ADDRMAN, \"Unable to test; swapping %s for %s in tried table anyway\\n\", info_new.ToString(), info_old.ToString());\n+                    LogPrint(BCLog::ADDRMAN, \"Unable to test; replacing %s with %s in tried table anyway\\n\", info_old.ToString(), info_new.ToString());\n                     Good_(info_new, false, GetAdjustedTime());\n                     erase_collision = true;\n                 }"
      },
      {
        "sha": "ccab4a17189888530312d37df18ba7227cb52915",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d6602c2018c35856c902c1add4bed9886ccec0d0/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d6602c2018c35856c902c1add4bed9886ccec0d0/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=d6602c2018c35856c902c1add4bed9886ccec0d0",
        "patch": "@@ -1765,12 +1765,12 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n                 addr = addrman.Select(fFeeler);\n             }\n \n-            // Require outbound connections to be to distinct network groups\n+            // Require outbound connections, other than feelers, to be to distinct network groups\n             if (!fFeeler && setConnected.count(addr.GetGroup())) {\n                 break;\n             }\n \n-            // if we selected an invalid address, restart\n+            // if we selected an invalid or local address, restart\n             if (!addr.IsValid() || IsLocal(addr)) {\n                 break;\n             }"
      }
    ]
  }
]