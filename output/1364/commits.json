[
  {
    "sha": "5d6b30271f4393b70f45da7c33b96e4fe776da80",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1ZDZiMzAyNzFmNDM5M2I3MGY0NWRhN2MzM2I5NmU0ZmU3NzZkYTgw",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-05-20T13:49:17Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-06-01T14:29:54Z"
      },
      "message": "move class HelpMessageBox to guiutil.cpp/.h / add button to show Bitcoin command-line options (in RPC Console -> Information) / resize Debug window a little to allow for a non-breaking display of the welcome message with non-english translation",
      "tree": {
        "sha": "6a70be58bc4215333ee9736f616a3867d1941f0a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6a70be58bc4215333ee9736f616a3867d1941f0a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5d6b30271f4393b70f45da7c33b96e4fe776da80",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5d6b30271f4393b70f45da7c33b96e4fe776da80",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5d6b30271f4393b70f45da7c33b96e4fe776da80",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5d6b30271f4393b70f45da7c33b96e4fe776da80/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "98474d3d6f07ff03f25f59f2016baf1f1385fbed",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/98474d3d6f07ff03f25f59f2016baf1f1385fbed",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/98474d3d6f07ff03f25f59f2016baf1f1385fbed"
      }
    ],
    "stats": {
      "total": 147,
      "additions": 93,
      "deletions": 54
    },
    "files": [
      {
        "sha": "2a2d200394ce1ef79f0dfd421a916943ef6dce71",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 49,
        "changes": 50,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5d6b30271f4393b70f45da7c33b96e4fe776da80/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5d6b30271f4393b70f45da7c33b96e4fe776da80/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=5d6b30271f4393b70f45da7c33b96e4fe776da80",
        "patch": "@@ -113,54 +113,6 @@ static void handleRunawayException(std::exception *e)\n     exit(1);\n }\n \n-/** Help message for Bitcoin-Qt, shown with --help. */\n-class HelpMessageBox: public QMessageBox\n-{\n-    Q_OBJECT\n-public:\n-    HelpMessageBox(QWidget *parent = 0);\n-\n-    void exec();\n-private:\n-    QString header;\n-    QString coreOptions;\n-    QString uiOptions;\n-};\n-\n-HelpMessageBox::HelpMessageBox(QWidget *parent):\n-    QMessageBox(parent)\n-{\n-    header = tr(\"Bitcoin-Qt\") + \" \" + tr(\"version\") + \" \" +\n-        QString::fromStdString(FormatFullVersion()) + \"\\n\\n\" +\n-        tr(\"Usage:\") + \"\\n\" +\n-        \"  bitcoin-qt [\" + tr(\"options\") + \"]                     \" + \"\\n\";\n-    coreOptions = QString::fromStdString(HelpMessage());\n-    uiOptions = tr(\"UI options\") + \":\\n\" +\n-        \"  -lang=<lang>           \" + tr(\"Set language, for example \\\"de_DE\\\" (default: system locale)\") + \"\\n\" +\n-        \"  -min                   \" + tr(\"Start minimized\") + \"\\n\" +\n-        \"  -splash                \" + tr(\"Show splash screen on startup (default: 1)\") + \"\\n\";\n-\n-    setWindowTitle(tr(\"Bitcoin-Qt\"));\n-    setTextFormat(Qt::PlainText);\n-    // setMinimumWidth is ignored for QMessageBox so put in nonbreaking spaces to make it wider.\n-    QChar em_space(0x2003);\n-    setText(header + QString(em_space).repeated(40));\n-    setDetailedText(coreOptions + \"\\n\" + uiOptions);\n-}\n-#include \"bitcoin.moc\"\n-\n-void HelpMessageBox::exec()\n-{\n-#if defined(WIN32)\n-    // On windows, show a message box, as there is no stderr in windowed applications\n-    QMessageBox::exec();\n-#else\n-    // On other operating systems, the expected action is to print the message to the console.\n-    QString strUsage = header + \"\\n\" + coreOptions + \"\\n\" + uiOptions;\n-    fprintf(stderr, \"%s\", strUsage.toStdString().c_str());\n-#endif\n-}\n-\n #ifndef BITCOIN_QT_TEST\n int main(int argc, char *argv[])\n {\n@@ -259,7 +211,7 @@ int main(int argc, char *argv[])\n     // but before showing splash screen.\n     if (mapArgs.count(\"-?\") || mapArgs.count(\"--help\"))\n     {\n-        HelpMessageBox help;\n+        GUIUtil::HelpMessageBox help;\n         help.exec();\n         return 1;\n     }"
      },
      {
        "sha": "678afad0d42ac81f7fc433426b9af93bd39824f5",
        "filename": "src/qt/forms/rpcconsole.ui",
        "status": "modified",
        "additions": 25,
        "deletions": 2,
        "changes": 27,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5d6b30271f4393b70f45da7c33b96e4fe776da80/src/qt/forms/rpcconsole.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5d6b30271f4393b70f45da7c33b96e4fe776da80/src/qt/forms/rpcconsole.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/rpcconsole.ui?ref=5d6b30271f4393b70f45da7c33b96e4fe776da80",
        "patch": "@@ -6,8 +6,8 @@\n    <rect>\n     <x>0</x>\n     <y>0</y>\n-    <width>706</width>\n-    <height>446</height>\n+    <width>740</width>\n+    <height>450</height>\n    </rect>\n   </property>\n   <property name=\"windowTitle\">\n@@ -304,6 +304,29 @@\n         </widget>\n        </item>\n        <item row=\"15\" column=\"0\">\n+        <widget class=\"QLabel\" name=\"labelCLOptions\">\n+         <property name=\"font\">\n+          <font>\n+           <weight>75</weight>\n+           <bold>true</bold>\n+          </font>\n+         </property>\n+         <property name=\"text\">\n+          <string>Command-line options</string>\n+         </property>\n+        </widget>\n+       </item>\n+       <item row=\"16\" column=\"0\">\n+        <widget class=\"QPushButton\" name=\"showCLOptionsButton\">\n+         <property name=\"toolTip\">\n+          <string>Show the Bitcoin-Qt help message to get a list with possible Bitcoin command-line options.</string>\n+         </property>\n+         <property name=\"text\">\n+          <string>&amp;Show</string>\n+         </property>\n+        </widget>\n+       </item>\n+       <item row=\"17\" column=\"0\">\n         <spacer name=\"verticalSpacer\">\n          <property name=\"orientation\">\n           <enum>Qt::Vertical</enum>"
      },
      {
        "sha": "3f2fc2ffa1c0bce079215476f138992d3eca84db",
        "filename": "src/qt/guiutil.cpp",
        "status": "modified",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5d6b30271f4393b70f45da7c33b96e4fe776da80/src/qt/guiutil.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5d6b30271f4393b70f45da7c33b96e4fe776da80/src/qt/guiutil.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiutil.cpp?ref=5d6b30271f4393b70f45da7c33b96e4fe776da80",
        "patch": "@@ -3,6 +3,7 @@\n #include \"walletmodel.h\"\n #include \"bitcoinunits.h\"\n #include \"util.h\"\n+#include \"init.h\"\n \n #include <QString>\n #include <QDateTime>\n@@ -413,5 +414,39 @@ bool SetStartOnSystemStartup(bool fAutoStart) { return false; }\n \n #endif\n \n+HelpMessageBox::HelpMessageBox(QWidget *parent) :\n+    QMessageBox(parent)\n+{\n+    header = tr(\"Bitcoin-Qt\") + \" \" + tr(\"version\") + \" \" +\n+        QString::fromStdString(FormatFullVersion()) + \"\\n\\n\" +\n+        tr(\"Usage:\") + \"\\n\" +\n+        \"  bitcoin-qt [\" + tr(\"command-line options\") + \"]                     \" + \"\\n\";\n+\n+    coreOptions = QString::fromStdString(HelpMessage());\n+\n+    uiOptions = tr(\"UI options\") + \":\\n\" +\n+        \"  -lang=<lang>           \" + tr(\"Set language, for example \\\"de_DE\\\" (default: system locale)\") + \"\\n\" +\n+        \"  -min                   \" + tr(\"Start minimized\") + \"\\n\" +\n+        \"  -splash                \" + tr(\"Show splash screen on startup (default: 1)\") + \"\\n\";\n+\n+    setWindowTitle(tr(\"Bitcoin-Qt\"));\n+    setTextFormat(Qt::PlainText);\n+    // setMinimumWidth is ignored for QMessageBox so put in nonbreaking spaces to make it wider.\n+    setText(header + QString(QChar(0x2003)).repeated(50));\n+    setDetailedText(coreOptions + \"\\n\" + uiOptions);\n+}\n+\n+void HelpMessageBox::exec()\n+{\n+#if defined(WIN32)\n+    // On windows, show a message box, as there is no stderr in windowed applications\n+    QMessageBox::exec();\n+#else\n+    // On other operating systems, the expected action is to print the message to the console.\n+    QString strUsage = header + \"\\n\" + coreOptions + \"\\n\" + uiOptions;\n+    fprintf(stderr, \"%s\", strUsage.toStdString().c_str());\n+#endif\n+}\n+\n } // namespace GUIUtil\n "
      },
      {
        "sha": "ca063485195710a68a2daff4f28f59978be46789",
        "filename": "src/qt/guiutil.h",
        "status": "modified",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5d6b30271f4393b70f45da7c33b96e4fe776da80/src/qt/guiutil.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5d6b30271f4393b70f45da7c33b96e4fe776da80/src/qt/guiutil.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiutil.h?ref=5d6b30271f4393b70f45da7c33b96e4fe776da80",
        "patch": "@@ -3,6 +3,7 @@\n \n #include <QString>\n #include <QObject>\n+#include <QMessageBox>\n \n QT_BEGIN_NAMESPACE\n class QFont;\n@@ -80,6 +81,7 @@ namespace GUIUtil\n     class ToolTipToRichTextFilter : public QObject\n     {\n         Q_OBJECT\n+\n     public:\n         explicit ToolTipToRichTextFilter(int size_threshold, QObject *parent = 0);\n \n@@ -93,6 +95,22 @@ namespace GUIUtil\n     bool GetStartOnSystemStartup();\n     bool SetStartOnSystemStartup(bool fAutoStart);\n \n+    /** Help message for Bitcoin-Qt, shown with --help. */\n+    class HelpMessageBox : public QMessageBox\n+    {\n+        Q_OBJECT\n+\n+    public:\n+        HelpMessageBox(QWidget *parent = 0);\n+\n+        void exec();\n+\n+    private:\n+        QString header;\n+        QString coreOptions;\n+        QString uiOptions;\n+    };\n+\n } // namespace GUIUtil\n \n #endif // GUIUTIL_H"
      },
      {
        "sha": "f7b06b5b932e6b1abc635fa740e47de3f2e5a16a",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 3,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5d6b30271f4393b70f45da7c33b96e4fe776da80/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5d6b30271f4393b70f45da7c33b96e4fe776da80/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=5d6b30271f4393b70f45da7c33b96e4fe776da80",
        "patch": "@@ -109,10 +109,13 @@ RPCConsole::RPCConsole(QWidget *parent) :\n {\n     ui->setupUi(this);\n \n-#ifdef WIN32\n+#ifndef Q_WS_MAC\n     ui->openDebugLogfileButton->setIcon(QIcon(\":/icons/export\"));\n-#else\n-    // Show Debug logfile label and Open button only for Windows\n+    ui->showCLOptionsButton->setIcon(QIcon(\":/icons/options\"));\n+#endif\n+\n+#ifndef WIN32\n+    // Hide Debug logfile label and Open button for non Windows-OSes\n     ui->labelDebugLogfile->setVisible(false);\n     ui->openDebugLogfileButton->setVisible(false);\n #endif\n@@ -326,3 +329,9 @@ void RPCConsole::scrollToEnd()\n     QScrollBar *scrollbar = ui->messagesWidget->verticalScrollBar();\n     scrollbar->setValue(scrollbar->maximum());\n }\n+\n+void RPCConsole::on_showCLOptionsButton_clicked()\n+{\n+    GUIUtil::HelpMessageBox help;\n+    help.exec();\n+}"
      },
      {
        "sha": "3c38b4b8de4a3b952f26609f2f736a3a1c620fe7",
        "filename": "src/qt/rpcconsole.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5d6b30271f4393b70f45da7c33b96e4fe776da80/src/qt/rpcconsole.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5d6b30271f4393b70f45da7c33b96e4fe776da80/src/qt/rpcconsole.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.h?ref=5d6b30271f4393b70f45da7c33b96e4fe776da80",
        "patch": "@@ -35,6 +35,8 @@ private slots:\n     void on_tabWidget_currentChanged(int index);\n     /** open the debug.log from the current datadir */\n     void on_openDebugLogfileButton_clicked();\n+    /** display messagebox with program parameters (same as bitcoin-qt --help) */\n+    void on_showCLOptionsButton_clicked();\n \n public slots:\n     void clear();"
      }
    ]
  }
]