[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/371580080",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-371580080",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 371580080,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTU4MDA4MA==",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?u=256d78207f88d303d61b62060a309657276cf6cb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-08T18:33:08Z",
    "updated_at": "2018-03-08T18:33:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK b0928df",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/371580080/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389167631",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-389167631",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 389167631,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTE2NzYzMQ==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-15T13:32:07Z",
    "updated_at": "2018-05-15T13:32:07Z",
    "author_association": "MEMBER",
    "body": "utACK 8154223.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389167631/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390349147",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-390349147",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 390349147,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDM0OTE0Nw==",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?u=c6cf723ac2c78d38bf31ae2665cb16e3e4452227&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-18T22:29:35Z",
    "updated_at": "2018-05-18T22:29:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "I find this whole thing unnecessarily confusing. Not your change in particular, more how the code works today.\r\n\r\nThere are two separate config limits, `-limitancestorcount` and `-limitdescendantcount`, which are treated as the same and merged into a single limit `nMaxChainLength`. Then that value is compared against both the ancestor count and descendant count of the transaction containing the candidate output. So first, it seems like there should be a separate `max_descendants` field on EligibilityFilter.\r\n\r\nBut further, the descendants check isn't even right: the documentation says \"Do not accept transactions if any ancestor would have <n> or more in-mempool descendants\". So the descendants check really needs to check the descendants count on all ancestors, not just the direct parent.\r\n\r\nRegardless of all that, even just looking at the ancestors limit, which is easier to check, I think it should not be a strict equality check, whereas it is currently in the code. If trying to spend an output from a transaction with 3 ancestors, the spending transaction would have 4 ancestors. Say the ancestor limit is 3. The code currently would call that spend ineligible because GetCountWithAncestors returns 3, and there is a strict < check, whereas the spend should be allowed because the ancestor count is not above the limit. So that is to say `TransactionLimitValue` can return 0 on the case where the tx is not in the mempool.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390349147/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390369692",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-390369692",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 390369692,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDM2OTY5Mg==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-19T01:44:47Z",
    "updated_at": "2018-05-19T01:44:47Z",
    "author_association": "MEMBER",
    "body": "@jimpo Yeah it's not entirely straightforward that's for sure, and I think further consideration should be given. I don't think this PR makes the situation worse, though.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390369692/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390421080",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-390421080",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 390421080,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDQyMTA4MA==",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?u=c6cf723ac2c78d38bf31ae2665cb16e3e4452227&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-19T17:42:33Z",
    "updated_at": "2018-05-19T17:42:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Well, I think it does make things worse because it formalizes the concept of a `chain_limit_value`, which is a broken concept. If such a value were useful, it should really be two things, the count of ancestors and the max count of descendants of any ancestor. But furthermore, to calculate them (especially the latter), it's helpful to have an explicit limit on the depth of recursive searching, which is why they are passed into the mempool function rather than returned from it. To see what I mean, see `CalculateMemPoolAncestors`, which implements this sort of checking.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390421080/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390526011",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-390526011",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 390526011,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDUyNjAxMQ==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T00:43:11Z",
    "updated_at": "2018-05-21T00:43:11Z",
    "author_association": "MEMBER",
    "body": "@jimpo Thanks for spelling it out. To summarize:\r\n\r\n1. The max ancestors and max descendants stuff is needlessly complex and can be simplified.\r\n2. It is also broken.\r\n3. It can be replaced with a single value (e.g. `max descendants`) that checks the descendant count of the top parent in the mempool.\r\n\r\nDoes that seem accurate?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390526011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390533449",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-390533449",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 390533449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDUzMzQ0OQ==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T02:02:10Z",
    "updated_at": "2018-05-21T02:07:40Z",
    "author_association": "MEMBER",
    "body": "Delving into this a bit further, the ascendant vs descendant thing is quite different. There's usually only one ascendant per transaction except if several transactions were merged together, while there can be a tree of transactions as descendants.\r\n\r\nI'm wondering if this should instead be \"max unconfirmed group size\", and default to the sum of the default values for max descendants/ascendants.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390533449/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390534179",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-390534179",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 390534179,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDUzNDE3OQ==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T02:08:15Z",
    "updated_at": "2018-05-21T03:33:58Z",
    "author_association": "MEMBER",
    "body": "Actually, I think the more straightforward fix here is to fix ~~the description of max descendants~~  the max descendants check, and to add it to the eligibility filter.\r\n\r\nThis PR can then be rewritten to take both max ancestors and max descendants. That would address your concerns, right?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390534179/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390547697",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-390547697",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 390547697,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDU0NzY5Nw==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T04:06:23Z",
    "updated_at": "2018-05-21T04:06:23Z",
    "author_association": "MEMBER",
    "body": "@jimpo \r\n\r\n* 2d8748b adds a `max_descendants` to the eligibility class and uses it in the eligibility method in coin selection\r\n* 4e742ba addresses the max descendants check to iterate over parents and using the top parent's descendant count. This is not exact, because a tx with multiple parents in the mempool will pick one of them and only use its values, but it's better than what we are doing right now.\r\n\r\nWould you mind checking that out and seeing if it looks okay to you?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390547697/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391443804",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-391443804",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 391443804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTQ0MzgwNA==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-23T18:05:15Z",
    "updated_at": "2018-05-23T18:05:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "From https://botbot.me/freenode/bitcoin-core-dev/msg/100337736/ on motivation for this change:\r\n\r\n> \\<kallewoof\\> When doing coin selection on groups rather than individual outputs, the ancestor/descendant stuff becomes rather messy if you don't unify them to their corresponding maximums. In order to do that, you need the values, since they are tested against multiple limits.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391443804/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391598714",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-391598714",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 391598714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTU5ODcxNA==",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?u=c6cf723ac2c78d38bf31ae2665cb16e3e4452227&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-24T06:03:57Z",
    "updated_at": "2018-05-24T06:03:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK 6e56fef. Would be nice to have a unit test for `CTxMemPool::GetTransactionAncestry` though. :-)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391598714/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391656865",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-391656865",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 391656865,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTY1Njg2NQ==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-24T09:52:06Z",
    "updated_at": "2018-05-24T09:52:06Z",
    "author_association": "MEMBER",
    "body": "@jimpo I added tests in fcf1ed7 -- it would be great if you could check that the expected values matches what you would expect (checking the very last test is probably quickest, as each test simply builds on the previous one).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391656865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391702756",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-391702756",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 391702756,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTcwMjc1Ng==",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-24T12:50:56Z",
    "updated_at": "2018-05-24T12:50:56Z",
    "author_association": "MEMBER",
    "body": "@kallewoof Sorry I missed you on IRC, but thanks for responding.\r\n\r\n> <kallewoof> When doing coin selection on groups rather than individual outputs, the ancestor/descendant stuff becomes rather messy if you don't unify them to their corresponding maximums. In order to do that, you need the values, since they are tested against multiple limits.\r\n\r\nI guess I don't understand how this relates because at first thought, I would have assumed that the only time we're spending unconfirmed outputs in the coin selection logic is if we are spending our own unconfirmed change, where address re-use (and therefore the grouping logic being introduced in #12257) should not be an issue at all.  Is there a case I'm overlooking?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391702756/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391935011",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-391935011",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 391935011,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTkzNTAxMQ==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-25T04:04:22Z",
    "updated_at": "2018-05-25T04:04:22Z",
    "author_association": "MEMBER",
    "body": "@sdaftuar Yes, I think most of the time the unspent trusted outputs will be your own and will probably not do address reuse, but I don't think it's guaranteed to always be that way.\r\n\r\nEither way, once the coin selection is done per-group rather than per-output, it has to either iterate over all the outputs and check the limits each time, or it can cache it by storing the ancestry in the group struct itself. The latter seems like a more efficient solution and is enabled by this PR.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391935011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/393280940",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-393280940",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 393280940,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzI4MDk0MA==",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?u=c6cf723ac2c78d38bf31ae2665cb16e3e4452227&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-30T19:05:52Z",
    "updated_at": "2018-05-30T19:05:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK e39efa8c9da85737393ca93bcda711774115702c",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/393280940/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/393399262",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-393399262",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 393399262,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzM5OTI2Mg==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-31T04:33:59Z",
    "updated_at": "2018-05-31T04:33:59Z",
    "author_association": "MEMBER",
    "body": "Squashed fix-commits into 5ad55d2.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/393399262/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396199530",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-396199530",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 396199530,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjE5OTUzMA==",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?u=a1574ca2038ff1dfaa9a7764c59ea5ff4f305b5d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-11T10:37:12Z",
    "updated_at": "2018-06-11T10:37:12Z",
    "author_association": "MEMBER",
    "body": "utACK f77e1d3",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396199530/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396262231",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-396262231",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 396262231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjI2MjIzMQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-11T14:25:40Z",
    "updated_at": "2018-06-11T14:25:40Z",
    "author_association": "MEMBER",
    "body": "utACK f77e1d34fd5f17304ce319b5f962b8005592501a\r\n\r\nI'm going to ignore last-minute nits here, sorry. This has too many reviews to hold it up on nits.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396262231/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396275287",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-396275287",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 396275287,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjI3NTI4Nw==",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-11T15:01:55Z",
    "updated_at": "2018-06-11T15:01:55Z",
    "author_association": "MEMBER",
    "body": "Sorry I haven't dug into this change myself, but might this have a material performance impact on wallets with many unconfirmed coins, if the mempool is full?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396275287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396296243",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#issuecomment-396296243",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12634",
    "id": 396296243,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjI5NjI0Mw==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-11T16:03:47Z",
    "updated_at": "2018-06-11T16:03:47Z",
    "author_association": "MEMBER",
    "body": "@sdaftuar I honestly doubt it, unless they have a TON of ancestors in the mempool. I was initially hesitant to make the ancestor check \"thorough\" but couldn't come up with a reason why it would ever be the case that you have enough transactions in the mempool to make the ancestor check bog down your system significantly.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396296243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172936877",
    "pull_request_review_id": 102040832,
    "id": 172936877,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MjkzNjg3Nw==",
    "diff_hunk": "@@ -1055,11 +1055,10 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n-bool CTxMemPool::TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const {\n+int64_t CTxMemPool::chain_limit_value(const uint256& txid) const {",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "667592e1b6b2d5532037fe6c290079a99691757e",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Snake case is for variables.",
    "created_at": "2018-03-07T18:20:42Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172936877",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172936877"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172936877"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172936877/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1058,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172938327",
    "pull_request_review_id": 102040832,
    "id": 172938327,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MjkzODMyNw==",
    "diff_hunk": "@@ -619,8 +619,10 @@ class CTxMemPool\n     /** Expire all transaction (and their dependencies) in the mempool older than time. Return the number of removed transactions. */\n     int Expire(int64_t time);\n \n-    /** Returns false if the transaction is in the mempool and not within the chain limit specified. */\n-    bool TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const;\n+    /** Get the maximum of the chain limit value in the mempool of the given transaction.\n+      * If the transaction is not in the mempool, -1 is returned.",
    "path": "src/txmempool.h",
    "position": null,
    "original_position": 7,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "667592e1b6b2d5532037fe6c290079a99691757e",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If not in the mempool could return 0 since `GetCountWithAncestors` and `GetCountWithDescendants` are always `> 0` (self is counted). In that case you can revert s/uint64_t/int64_t.",
    "created_at": "2018-03-07T18:25:20Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172938327",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172938327"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172938327"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172938327/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 623,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172941467",
    "pull_request_review_id": 102046075,
    "id": 172941467,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3Mjk0MTQ2Nw==",
    "diff_hunk": "@@ -1055,11 +1055,10 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n-bool CTxMemPool::TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const {\n+int64_t CTxMemPool::chain_limit_value(const uint256& txid) const {",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "667592e1b6b2d5532037fe6c290079a99691757e",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It seems like we are moving to snake case, e.g. for new code like\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/a34ac6ae0788b50e12dd2c8ac59dbda2a03a3c2e/src/cuckoocache.h#L92\r\n\r\nMaybe I'm mistaken on that one. Will check recent merges.",
    "created_at": "2018-03-07T18:35:00Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172941467",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172941467"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172941467"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172941467/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1058,
    "side": "RIGHT",
    "in_reply_to_id": 172936877
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172956896",
    "pull_request_review_id": 102064226,
    "id": 172956896,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3Mjk1Njg5Ng==",
    "diff_hunk": "@@ -1055,11 +1055,10 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n-bool CTxMemPool::TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const {\n+int64_t CTxMemPool::chain_limit_value(const uint256& txid) const {",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "667592e1b6b2d5532037fe6c290079a99691757e",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "From the developer notes:\r\n  - Variable and namespace names are all lowercase, and may use `_` to\r\n    separate words (snake_case).\r\n  - Class names, function names and method names are UpperCamelCase\r\n    (PascalCase).\r\n",
    "created_at": "2018-03-07T19:25:20Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172956896",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172956896"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172956896"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172956896/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1058,
    "side": "RIGHT",
    "in_reply_to_id": 172936877
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172959441",
    "pull_request_review_id": 102067102,
    "id": 172959441,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3Mjk1OTQ0MQ==",
    "diff_hunk": "@@ -619,8 +619,10 @@ class CTxMemPool\n     /** Expire all transaction (and their dependencies) in the mempool older than time. Return the number of removed transactions. */\n     int Expire(int64_t time);\n \n-    /** Returns false if the transaction is in the mempool and not within the chain limit specified. */\n-    bool TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const;\n+    /** Get the maximum of the chain limit value in the mempool of the given transaction.\n+      * If the transaction is not in the mempool, -1 is returned.",
    "path": "src/txmempool.h",
    "position": null,
    "original_position": 7,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "667592e1b6b2d5532037fe6c290079a99691757e",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I looked in the code and it seems to me they can be both 0 and that self is not counted.",
    "created_at": "2018-03-07T19:33:29Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172959441",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172959441"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172959441"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172959441/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 623,
    "side": "RIGHT",
    "in_reply_to_id": 172938327
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172964915",
    "pull_request_review_id": 102073721,
    "id": 172964915,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3Mjk2NDkxNQ==",
    "diff_hunk": "@@ -619,8 +619,10 @@ class CTxMemPool\n     /** Expire all transaction (and their dependencies) in the mempool older than time. Return the number of removed transactions. */\n     int Expire(int64_t time);\n \n-    /** Returns false if the transaction is in the mempool and not within the chain limit specified. */\n-    bool TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const;\n+    /** Get the maximum of the chain limit value in the mempool of the given transaction.\n+      * If the transaction is not in the mempool, -1 is returned.",
    "path": "src/txmempool.h",
    "position": null,
    "original_position": 7,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "667592e1b6b2d5532037fe6c290079a99691757e",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@NicolasDorier have you checked these?\r\nhttps://github.com/bitcoin/bitcoin/blob/a34ac6ae0788b50e12dd2c8ac59dbda2a03a3c2e/src/txmempool.cpp#L30\r\nhttps://github.com/bitcoin/bitcoin/blob/a34ac6ae0788b50e12dd2c8ac59dbda2a03a3c2e/src/txmempool.cpp#L36\r\nhttps://github.com/bitcoin/bitcoin/blob/a34ac6ae0788b50e12dd2c8ac59dbda2a03a3c2e/src/txmempool.cpp#L317\r\nhttps://github.com/bitcoin/bitcoin/blob/a34ac6ae0788b50e12dd2c8ac59dbda2a03a3c2e/src/txmempool.cpp#L326",
    "created_at": "2018-03-07T19:52:36Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172964915",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172964915"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172964915"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172964915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 623,
    "side": "RIGHT",
    "in_reply_to_id": 172938327
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172984929",
    "pull_request_review_id": 102097578,
    "id": 172984929,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3Mjk4NDkyOQ==",
    "diff_hunk": "@@ -619,8 +619,10 @@ class CTxMemPool\n     /** Expire all transaction (and their dependencies) in the mempool older than time. Return the number of removed transactions. */\n     int Expire(int64_t time);\n \n-    /** Returns false if the transaction is in the mempool and not within the chain limit specified. */\n-    bool TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const;\n+    /** Get the maximum of the chain limit value in the mempool of the given transaction.\n+      * If the transaction is not in the mempool, -1 is returned.",
    "path": "src/txmempool.h",
    "position": null,
    "original_position": 7,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "667592e1b6b2d5532037fe6c290079a99691757e",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "woops, completely missed that indeed. I failed to notice how the clients were forcing this invariant though.",
    "created_at": "2018-03-07T21:07:51Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172984929",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172984929"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172984929"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172984929/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 623,
    "side": "RIGHT",
    "in_reply_to_id": 172938327
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172985902",
    "pull_request_review_id": 102098746,
    "id": 172985902,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3Mjk4NTkwMg==",
    "diff_hunk": "@@ -619,8 +619,10 @@ class CTxMemPool\n     /** Expire all transaction (and their dependencies) in the mempool older than time. Return the number of removed transactions. */\n     int Expire(int64_t time);\n \n-    /** Returns false if the transaction is in the mempool and not within the chain limit specified. */\n-    bool TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const;\n+    /** Get the maximum of the chain limit value in the mempool of the given transaction.\n+      * If the transaction is not in the mempool, -1 is returned.",
    "path": "src/txmempool.h",
    "position": null,
    "original_position": 7,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "667592e1b6b2d5532037fe6c290079a99691757e",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Got confused when I saw [that](https://github.com/bitcoin/bitcoin/blob/9501dc27b336fc20adb0c367e0904b57bd507f51/src/txmempool.cpp#L857) which seemed to me it could be 0.",
    "created_at": "2018-03-07T21:11:41Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172985902",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172985902"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r172985902"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172985902/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 623,
    "side": "RIGHT",
    "in_reply_to_id": 172938327
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173196924",
    "pull_request_review_id": 102345321,
    "id": 173196924,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MzE5NjkyNA==",
    "diff_hunk": "@@ -1055,11 +1055,10 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n-bool CTxMemPool::TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const {\n+int64_t CTxMemPool::chain_limit_value(const uint256& txid) const {",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "667592e1b6b2d5532037fe6c290079a99691757e",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Wow, okay. I totally missed that, thanks!",
    "created_at": "2018-03-08T15:42:34Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r173196924",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173196924"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r173196924"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173196924/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1058,
    "side": "RIGHT",
    "in_reply_to_id": 172936877
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173197224",
    "pull_request_review_id": 102345657,
    "id": 173197224,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MzE5NzIyNA==",
    "diff_hunk": "@@ -619,8 +619,10 @@ class CTxMemPool\n     /** Expire all transaction (and their dependencies) in the mempool older than time. Return the number of removed transactions. */\n     int Expire(int64_t time);\n \n-    /** Returns false if the transaction is in the mempool and not within the chain limit specified. */\n-    bool TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const;\n+    /** Get the maximum of the chain limit value in the mempool of the given transaction.\n+      * If the transaction is not in the mempool, -1 is returned.",
    "path": "src/txmempool.h",
    "position": null,
    "original_position": 7,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "667592e1b6b2d5532037fe6c290079a99691757e",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I made the change for a reason but that reason may have been flawed. I'll try it with uint64_t and 0 again. Thanks!",
    "created_at": "2018-03-08T15:43:32Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r173197224",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173197224"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r173197224"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173197224/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 623,
    "side": "RIGHT",
    "in_reply_to_id": 172938327
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173215045",
    "pull_request_review_id": 102367402,
    "id": 173215045,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MzIxNTA0NQ==",
    "diff_hunk": "@@ -1055,11 +1055,10 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n-bool CTxMemPool::TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const {\n+int64_t CTxMemPool::chain_limit_value(const uint256& txid) const {",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "667592e1b6b2d5532037fe6c290079a99691757e",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed.",
    "created_at": "2018-03-08T16:37:11Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r173215045",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173215045"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r173215045"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173215045/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1058,
    "side": "RIGHT",
    "in_reply_to_id": 172936877
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173225129",
    "pull_request_review_id": 102379589,
    "id": 173225129,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MzIyNTEyOQ==",
    "diff_hunk": "@@ -619,8 +619,10 @@ class CTxMemPool\n     /** Expire all transaction (and their dependencies) in the mempool older than time. Return the number of removed transactions. */\n     int Expire(int64_t time);\n \n-    /** Returns false if the transaction is in the mempool and not within the chain limit specified. */\n-    bool TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const;\n+    /** Get the maximum of the chain limit value in the mempool of the given transaction.\n+      * If the transaction is not in the mempool, -1 is returned.",
    "path": "src/txmempool.h",
    "position": null,
    "original_position": 7,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "667592e1b6b2d5532037fe6c290079a99691757e",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The thing is, the check in `SelectCoinsMinConf` checks if the chain limit value `>= nMaxAncestors`, which is `0` for `no chained ancestors` in the code. With the old method, this would be true, but with a 0 returned, it would be false.\r\n\r\nI could change the `0` to a `1` to fix it, which may be a better solution here, and is probably what I will end up doing.",
    "created_at": "2018-03-08T17:08:24Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r173225129",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173225129"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r173225129"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173225129/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 623,
    "side": "RIGHT",
    "in_reply_to_id": 172938327
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173226846",
    "pull_request_review_id": 102381640,
    "id": 173226846,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MzIyNjg0Ng==",
    "diff_hunk": "@@ -619,8 +619,10 @@ class CTxMemPool\n     /** Expire all transaction (and their dependencies) in the mempool older than time. Return the number of removed transactions. */\n     int Expire(int64_t time);\n \n-    /** Returns false if the transaction is in the mempool and not within the chain limit specified. */\n-    bool TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const;\n+    /** Get the maximum of the chain limit value in the mempool of the given transaction.\n+      * If the transaction is not in the mempool, -1 is returned.",
    "path": "src/txmempool.h",
    "position": null,
    "original_position": 7,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "667592e1b6b2d5532037fe6c290079a99691757e",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If I do that, the semantics becomes misleading. It says 'max *ancestors*' so 1 makes it sound like it allows 1 ancestor or descendant, when in reality it only counts itself. I'm gonna keep the change to signed, for now.",
    "created_at": "2018-03-08T17:14:24Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r173226846",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173226846"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r173226846"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173226846/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 623,
    "side": "RIGHT",
    "in_reply_to_id": 172938327
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173249025",
    "pull_request_review_id": 102408048,
    "id": 173249025,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MzI0OTAyNQ==",
    "diff_hunk": "@@ -619,8 +619,10 @@ class CTxMemPool\n     /** Expire all transaction (and their dependencies) in the mempool older than time. Return the number of removed transactions. */\n     int Expire(int64_t time);\n \n-    /** Returns false if the transaction is in the mempool and not within the chain limit specified. */\n-    bool TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const;\n+    /** Get the maximum of the chain limit value in the mempool of the given transaction.\n+      * If the transaction is not in the mempool, -1 is returned.",
    "path": "src/txmempool.h",
    "position": null,
    "original_position": 7,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "667592e1b6b2d5532037fe6c290079a99691757e",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Indeed, now:\r\n\r\nwith @promag suggestion,  if `nMaxAncestors==0` and the tx is not in mempool then `mempool.ChainLimitValue(pcoin->GetHash()) >= nMaxAncestors` evaluate to `true`.\r\n\r\nWhile before `!mempool.TransactionWithinChainLimit(pcoin->GetHash(), nMaxAncestors)` evaluate to `false`.",
    "created_at": "2018-03-08T18:32:31Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r173249025",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173249025"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r173249025"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173249025/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 623,
    "side": "RIGHT",
    "in_reply_to_id": 172938327
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189515577",
    "pull_request_review_id": 121707926,
    "id": 189515577,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4OTUxNTU3Nw==",
    "diff_hunk": "@@ -1055,11 +1055,25 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n-bool CTxMemPool::TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const {\n+uint64_t CTxMemPool::CalculateDescendantMaximum(txiter entry) const {\n+    // find top parent\n+    txiter top = entry;\n+    for (;;) {\n+        const setEntries& parents = GetMemPoolParents(top);\n+        if (parents.size() == 0) break;\n+        top = *parents.begin();\n+    }\n+    return top->GetCountWithDescendants();\n+}\n+\n+void CTxMemPool::GetTransactionAncestry(const uint256& txid, int64_t& ancestors, int64_t& descendants) const {\n     LOCK(cs);\n     auto it = mapTx.find(txid);\n-    return it == mapTx.end() || (it->GetCountWithAncestors() < chainLimit &&\n-       it->GetCountWithDescendants() < chainLimit);\n+    ancestors = descendants = -1;\n+    if (it != mapTx.end()) {\n+        ancestors = it->GetCountWithAncestors();\n+        descendants = (int64_t)CalculateDescendantMaximum(it);",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 24,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "d8864ab573d8fdb1acef000ddee7f5f8cc157b64",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe add some bounds-checking asserts here ala `assert(int64_t(nCountWithDescendants) > 0);`",
    "created_at": "2018-05-21T07:43:36Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r189515577",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189515577"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r189515577"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189515577/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1075,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189631391",
    "pull_request_review_id": 121848321,
    "id": 189631391,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4OTYzMTM5MQ==",
    "diff_hunk": "@@ -2467,8 +2467,11 @@ bool CWallet::OutputEligibleForSpending(const COutput& output, const CoinEligibi\n     if (output.nDepth < (output.tx->IsFromMe(ISMINE_ALL) ? eligibility_filter.conf_mine : eligibility_filter.conf_theirs))\n         return false;\n \n-    if (!mempool.TransactionWithinChainLimit(output.tx->GetHash(), eligibility_filter.max_ancestors, eligibility_filter.max_descendants))\n+    int64_t ancestors, descendants;\n+    mempool.GetTransactionAncestry(output.tx->GetHash(), ancestors, descendants);\n+    if (ancestors >= eligibility_filter.max_ancestors || descendants >= eligibility_filter.max_descendants) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "33eca3e0ea1c1c54b3f088d597e0a0da7c657dbe",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "commit: Switch to GetTransactionAncestry() in OutputEligibleForSpending\r\n\r\nI think these should be strict `>` checks, in which case you don't need to switch to signed results. This makes sense logically because ancestors and descendants counts includes the transaction queried, so if the count is at the maximum allowable, it is still valid to create one more in the chain.",
    "created_at": "2018-05-21T15:51:51Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r189631391",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189631391"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r189631391"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189631391/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2472,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189632127",
    "pull_request_review_id": 121848321,
    "id": 189632127,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4OTYzMjEyNw==",
    "diff_hunk": "@@ -1055,11 +1055,22 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n+uint64_t CTxMemPool::CalculateDescendantMaximum(txiter entry) const {\n+    // find top parent\n+    txiter top = entry;\n+    for (;;) {\n+        const setEntries& parents = GetMemPoolParents(top);\n+        if (parents.size() == 0) break;\n+        top = *parents.begin();",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "4e742baf11f9bba05d16ac67a1981885bf590498",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "commit: mempool: Fix max descendants check\r\n\r\nYou actually need to recurse down all parents and take the max `GetCountWithDescendants` of all ancestors. A transaction can have multiple chains of ancestry with different descendants counts. This is also why it kind of makes sense to take the descendants limit as a parameter to this method rather than (or in addition to) returning it -- because it can limit the recursion. ",
    "created_at": "2018-05-21T15:54:29Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r189632127",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189632127"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r189632127"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189632127/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1064,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189742119",
    "pull_request_review_id": 121980196,
    "id": 189742119,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4OTc0MjExOQ==",
    "diff_hunk": "@@ -1055,11 +1055,22 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n+uint64_t CTxMemPool::CalculateDescendantMaximum(txiter entry) const {\n+    // find top parent\n+    txiter top = entry;\n+    for (;;) {\n+        const setEntries& parents = GetMemPoolParents(top);\n+        if (parents.size() == 0) break;\n+        top = *parents.begin();",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "4e742baf11f9bba05d16ac67a1981885bf590498",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I was afraid that would be too resource intensive and potential for DoS. Doing a 'depth first optimistic pass' seemed like a good estimate.",
    "created_at": "2018-05-21T23:35:17Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r189742119",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189742119"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r189742119"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189742119/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1064,
    "side": "RIGHT",
    "in_reply_to_id": 189632127
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189742212",
    "pull_request_review_id": 121980298,
    "id": 189742212,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4OTc0MjIxMg==",
    "diff_hunk": "@@ -2467,8 +2467,11 @@ bool CWallet::OutputEligibleForSpending(const COutput& output, const CoinEligibi\n     if (output.nDepth < (output.tx->IsFromMe(ISMINE_ALL) ? eligibility_filter.conf_mine : eligibility_filter.conf_theirs))\n         return false;\n \n-    if (!mempool.TransactionWithinChainLimit(output.tx->GetHash(), eligibility_filter.max_ancestors, eligibility_filter.max_descendants))\n+    int64_t ancestors, descendants;\n+    mempool.GetTransactionAncestry(output.tx->GetHash(), ancestors, descendants);\n+    if (ancestors >= eligibility_filter.max_ancestors || descendants >= eligibility_filter.max_descendants) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "33eca3e0ea1c1c54b3f088d597e0a0da7c657dbe",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It means having to change the parameter for all the calls (bump by 1), but I think you're right. The -1 hack is bad. Fixing.",
    "created_at": "2018-05-21T23:35:56Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r189742212",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189742212"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r189742212"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189742212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2472,
    "side": "RIGHT",
    "in_reply_to_id": 189631391
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189742259",
    "pull_request_review_id": 121980358,
    "id": 189742259,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4OTc0MjI1OQ==",
    "diff_hunk": "@@ -1055,11 +1055,25 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n-bool CTxMemPool::TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const {\n+uint64_t CTxMemPool::CalculateDescendantMaximum(txiter entry) const {\n+    // find top parent\n+    txiter top = entry;\n+    for (;;) {\n+        const setEntries& parents = GetMemPoolParents(top);\n+        if (parents.size() == 0) break;\n+        top = *parents.begin();\n+    }\n+    return top->GetCountWithDescendants();\n+}\n+\n+void CTxMemPool::GetTransactionAncestry(const uint256& txid, int64_t& ancestors, int64_t& descendants) const {\n     LOCK(cs);\n     auto it = mapTx.find(txid);\n-    return it == mapTx.end() || (it->GetCountWithAncestors() < chainLimit &&\n-       it->GetCountWithDescendants() < chainLimit);\n+    ancestors = descendants = -1;\n+    if (it != mapTx.end()) {\n+        ancestors = it->GetCountWithAncestors();\n+        descendants = (int64_t)CalculateDescendantMaximum(it);",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 24,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "d8864ab573d8fdb1acef000ddee7f5f8cc157b64",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'm going to switch back to unsigned, so no need.",
    "created_at": "2018-05-21T23:36:22Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r189742259",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189742259"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r189742259"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189742259/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1075,
    "side": "RIGHT",
    "in_reply_to_id": 189515577
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189761725",
    "pull_request_review_id": 122002455,
    "id": 189761725,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4OTc2MTcyNQ==",
    "diff_hunk": "@@ -2467,8 +2467,11 @@ bool CWallet::OutputEligibleForSpending(const COutput& output, const CoinEligibi\n     if (output.nDepth < (output.tx->IsFromMe(ISMINE_ALL) ? eligibility_filter.conf_mine : eligibility_filter.conf_theirs))\n         return false;\n \n-    if (!mempool.TransactionWithinChainLimit(output.tx->GetHash(), eligibility_filter.max_ancestors, eligibility_filter.max_descendants))\n+    int64_t ancestors, descendants;\n+    mempool.GetTransactionAncestry(output.tx->GetHash(), ancestors, descendants);\n+    if (ancestors >= eligibility_filter.max_ancestors || descendants >= eligibility_filter.max_descendants) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "33eca3e0ea1c1c54b3f088d597e0a0da7c657dbe",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I had to do one minor tweak, but otherwise the current values worked even with the change. I also switched from `nMaxChainLength` to using `max_ancestors` and `max_descendants` with their corresponding defaults. (See 6ab847bce76224ff46552dd647b542fa70350a91.)",
    "created_at": "2018-05-22T02:15:23Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r189761725",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189761725"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r189761725"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189761725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2472,
    "side": "RIGHT",
    "in_reply_to_id": 189631391
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190026352",
    "pull_request_review_id": 122320066,
    "id": 190026352,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MDAyNjM1Mg==",
    "diff_hunk": "@@ -2592,7 +2592,7 @@ bool CWallet::SelectCoins(const std::vector<COutput>& vAvailableCoins, const CAm\n         (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, 2), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n         (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, std::min((size_t)4, nMaxChainLength/3)), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n         (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, nMaxChainLength/2), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n-        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, nMaxChainLength), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n+        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, nMaxChainLength-1), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "2e5606f1986287621a3daa51dc3e341baccf0ad0",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This underflows if nMaxChainLength is 0.",
    "created_at": "2018-05-22T19:34:06Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r190026352",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190026352"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r190026352"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190026352/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2595,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190027446",
    "pull_request_review_id": 122320066,
    "id": 190027446,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MDAyNzQ0Ng==",
    "diff_hunk": "@@ -2583,16 +2583,17 @@ bool CWallet::SelectCoins(const std::vector<COutput>& vAvailableCoins, const CAm\n             ++it;\n     }\n \n-    size_t nMaxChainLength = std::min(gArgs.GetArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT), gArgs.GetArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT));\n+    size_t max_ancestors = gArgs.GetArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n+    size_t max_descendants = gArgs.GetArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n     bool fRejectLongChains = gArgs.GetBoolArg(\"-walletrejectlongchains\", DEFAULT_WALLET_REJECT_LONG_CHAINS);\n \n     bool res = nTargetValue <= nValueFromPresetInputs ||\n         SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(1, 6, 0), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used) ||\n         SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(1, 1, 0), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used) ||\n         (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, 2), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n-        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, std::min((size_t)4, nMaxChainLength/3)), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n-        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, nMaxChainLength/2), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n-        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, nMaxChainLength-1), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n+        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, std::min((size_t)4, max_ancestors/3), std::min((size_t)4, max_descendants/3)), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n+        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, max_ancestors/2, max_descendants/2), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n+        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, max_ancestors-1, max_descendants-1), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 18,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "d9b765b2b066b642e0ad9a45bd8f3aab788e8f38",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This underflows if max_ancestors or max_descendants is 0.",
    "created_at": "2018-05-22T19:38:07Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r190027446",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190027446"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r190027446"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190027446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2598,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190028623",
    "pull_request_review_id": 122320066,
    "id": 190028623,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MDAyODYyMw==",
    "diff_hunk": "@@ -1055,11 +1055,22 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n+uint64_t CTxMemPool::CalculateDescendantMaximum(txiter entry) const {\n+    // find top parent\n+    txiter top = entry;\n+    for (;;) {\n+        const setEntries& parents = GetMemPoolParents(top);\n+        if (parents.size() == 0) break;\n+        top = *parents.begin();",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "4e742baf11f9bba05d16ac67a1981885bf590498",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hmm, I understand the concern, but this doesn't match the advertised behavior of the flag. Also, the ancestor limit can be used to limit the depth of recursion. I'd like some more opinions on this.",
    "created_at": "2018-05-22T19:42:01Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r190028623",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190028623"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r190028623"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190028623/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1064,
    "side": "RIGHT",
    "in_reply_to_id": 189632127
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190085632",
    "pull_request_review_id": 122390583,
    "id": 190085632,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MDA4NTYzMg==",
    "diff_hunk": "@@ -2592,7 +2592,7 @@ bool CWallet::SelectCoins(const std::vector<COutput>& vAvailableCoins, const CAm\n         (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, 2), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n         (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, std::min((size_t)4, nMaxChainLength/3)), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n         (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, nMaxChainLength/2), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n-        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, nMaxChainLength), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n+        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, nMaxChainLength-1), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "2e5606f1986287621a3daa51dc3e341baccf0ad0",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed (I set `nMaxChainLength` to `std::max(1, ...)`).",
    "created_at": "2018-05-22T23:38:27Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r190085632",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190085632"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r190085632"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190085632/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2595,
    "side": "RIGHT",
    "in_reply_to_id": 190026352
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190085698",
    "pull_request_review_id": 122390653,
    "id": 190085698,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MDA4NTY5OA==",
    "diff_hunk": "@@ -2583,16 +2583,17 @@ bool CWallet::SelectCoins(const std::vector<COutput>& vAvailableCoins, const CAm\n             ++it;\n     }\n \n-    size_t nMaxChainLength = std::min(gArgs.GetArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT), gArgs.GetArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT));\n+    size_t max_ancestors = gArgs.GetArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n+    size_t max_descendants = gArgs.GetArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n     bool fRejectLongChains = gArgs.GetBoolArg(\"-walletrejectlongchains\", DEFAULT_WALLET_REJECT_LONG_CHAINS);\n \n     bool res = nTargetValue <= nValueFromPresetInputs ||\n         SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(1, 6, 0), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used) ||\n         SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(1, 1, 0), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used) ||\n         (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, 2), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n-        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, std::min((size_t)4, nMaxChainLength/3)), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n-        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, nMaxChainLength/2), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n-        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, nMaxChainLength-1), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n+        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, std::min((size_t)4, max_ancestors/3), std::min((size_t)4, max_descendants/3)), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n+        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, max_ancestors/2, max_descendants/2), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||\n+        (m_spend_zero_conf_change && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, CoinEligibilityFilter(0, 1, max_ancestors-1, max_descendants-1), vCoins, setCoinsRet, nValueRet, coin_selection_params, bnb_used)) ||",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 18,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "d9b765b2b066b642e0ad9a45bd8f3aab788e8f38",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed (set both to `std::max(1, ...)`).",
    "created_at": "2018-05-22T23:38:45Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r190085698",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190085698"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r190085698"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190085698/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2598,
    "side": "RIGHT",
    "in_reply_to_id": 190027446
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190091440",
    "pull_request_review_id": 122396881,
    "id": 190091440,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MDA5MTQ0MA==",
    "diff_hunk": "@@ -1055,11 +1055,22 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n+uint64_t CTxMemPool::CalculateDescendantMaximum(txiter entry) const {\n+    // find top parent\n+    txiter top = entry;\n+    for (;;) {\n+        const setEntries& parents = GetMemPoolParents(top);\n+        if (parents.size() == 0) break;\n+        top = *parents.begin();",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "4e742baf11f9bba05d16ac67a1981885bf590498",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "After thinking about it for a bit, I am not convinced it's particularly DoS vulnerable. I pushed a commit (to squash) that calculates it the way it is advertised.",
    "created_at": "2018-05-23T00:14:54Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r190091440",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190091440"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r190091440"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/190091440/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1064,
    "side": "RIGHT",
    "in_reply_to_id": 189632127
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194351477",
    "pull_request_review_id": 127504338,
    "id": 194351477,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDM1MTQ3Nw==",
    "diff_hunk": "@@ -571,4 +571,182 @@ BOOST_AUTO_TEST_CASE(MempoolSizeLimitTest)\n     SetMockTime(0);\n }\n \n+inline CTransactionRef make_tx(std::vector<CAmount>&& output_values, std::vector<CTransactionRef>&& inputs=std::vector<CTransactionRef>(), std::vector<uint32_t>&& input_indices=std::vector<uint32_t>())\n+{\n+    CMutableTransaction tx = CMutableTransaction();\n+    tx.vin.resize(inputs.size());\n+    tx.vout.resize(output_values.size());\n+    for (size_t i = 0; i < inputs.size(); ++i) {\n+        tx.vin[i].prevout.hash = inputs[i]->GetHash();\n+        tx.vin[i].prevout.n = input_indices.size() > i ? input_indices[i] : 0;\n+    }\n+    for (size_t i = 0; i < output_values.size(); i++) {",
    "path": "src/test/mempool_tests.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "5ad55d23d697a1dc66b7c5fa9f7fdd1cb2a59a24",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: `++i`",
    "created_at": "2018-06-11T10:01:23Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r194351477",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194351477"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r194351477"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194351477/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 583,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194352605",
    "pull_request_review_id": 127505720,
    "id": 194352605,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDM1MjYwNQ==",
    "diff_hunk": "@@ -1055,11 +1055,37 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n-bool CTxMemPool::TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const {\n+uint64_t CTxMemPool::CalculateDescendantMaximum(txiter entry) const {\n+    // find parent with highest descendant count\n+    std::vector<txiter> candidates;\n+    setEntries counted;\n+    candidates.push_back(entry);\n+    uint64_t maximum = 0;\n+    while (candidates.size()) {\n+        txiter candidate = candidates.back();\n+        candidates.pop_back();\n+        if (counted.find(candidate) != counted.end()) continue;\n+        counted.insert(candidate);",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 15,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "5ad55d23d697a1dc66b7c5fa9f7fdd1cb2a59a24",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: should be faster if you read the return value from the insertion, rather than find & insert.",
    "created_at": "2018-06-11T10:05:47Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r194352605",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194352605"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r194352605"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194352605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1068,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194353350",
    "pull_request_review_id": 127506621,
    "id": 194353350,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDM1MzM1MA==",
    "diff_hunk": "@@ -1055,11 +1055,37 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n-bool CTxMemPool::TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const {\n+uint64_t CTxMemPool::CalculateDescendantMaximum(txiter entry) const {\n+    // find parent with highest descendant count\n+    std::vector<txiter> candidates;\n+    setEntries counted;\n+    candidates.push_back(entry);\n+    uint64_t maximum = 0;\n+    while (candidates.size()) {\n+        txiter candidate = candidates.back();\n+        candidates.pop_back();\n+        if (counted.find(candidate) != counted.end()) continue;\n+        counted.insert(candidate);",
    "path": "src/txmempool.cpp",
    "position": null,
    "original_position": 15,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "5ad55d23d697a1dc66b7c5fa9f7fdd1cb2a59a24",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Didn't realize `set::insert` told you if the insertion happened. Nice!",
    "created_at": "2018-06-11T10:08:47Z",
    "updated_at": "2018-06-11T10:16:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r194353350",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194353350"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r194353350"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194353350/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1068,
    "side": "RIGHT",
    "in_reply_to_id": 194352605
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194359025",
    "pull_request_review_id": 127513454,
    "id": 194359025,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDM1OTAyNQ==",
    "diff_hunk": "@@ -1055,11 +1055,36 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n-bool CTxMemPool::TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const {\n+uint64_t CTxMemPool::CalculateDescendantMaximum(txiter entry) const {\n+    // find parent with highest descendant count\n+    std::vector<txiter> candidates;",
    "path": "src/txmempool.cpp",
    "position": 7,
    "original_position": 7,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: more true to form to use a `std::stack` here, although I see they're not used otherwise in the codebase fwiw.",
    "created_at": "2018-06-11T10:32:01Z",
    "updated_at": "2018-06-11T10:32:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r194359025",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194359025"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r194359025"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194359025/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1060,
    "original_line": 1060,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194361464",
    "pull_request_review_id": 127516397,
    "id": 194361464,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDM2MTQ2NA==",
    "diff_hunk": "@@ -1055,11 +1055,36 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n-bool CTxMemPool::TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const {\n+uint64_t CTxMemPool::CalculateDescendantMaximum(txiter entry) const {\n+    // find parent with highest descendant count\n+    std::vector<txiter> candidates;",
    "path": "src/txmempool.cpp",
    "position": 7,
    "original_position": 7,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit,\r\n```cpp\r\nstd::vector<txiter> candidates = {entry};\r\n```\r\nand remove `push_back` below.",
    "created_at": "2018-06-11T10:42:28Z",
    "updated_at": "2018-06-11T10:55:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r194361464",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194361464"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r194361464"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194361464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1060,
    "original_line": 1060,
    "side": "RIGHT",
    "in_reply_to_id": 194359025
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194364187",
    "pull_request_review_id": 127516397,
    "id": 194364187,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDM2NDE4Nw==",
    "diff_hunk": "@@ -1055,11 +1055,36 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n \n-bool CTxMemPool::TransactionWithinChainLimit(const uint256& txid, size_t chainLimit) const {\n+uint64_t CTxMemPool::CalculateDescendantMaximum(txiter entry) const {",
    "path": "src/txmempool.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "original_commit_id": "f77e1d34fd5f17304ce319b5f962b8005592501a",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit `const txiter& entry`.",
    "created_at": "2018-06-11T10:55:02Z",
    "updated_at": "2018-06-11T10:55:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r194364187",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194364187"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12634#discussion_r194364187"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12634"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194364187/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1058,
    "original_line": 1058,
    "side": "RIGHT"
  }
]