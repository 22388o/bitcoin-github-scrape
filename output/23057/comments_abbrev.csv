jnewbery,2021-09-23 09:55:36,Tested ACK 64e1ddd255,https://github.com/bitcoin/bitcoin/pull/23057#issuecomment-925665797,925665797,
MarcoFalke,2021-09-23 11:46:41,Concept ACK. I guess any log statement that is `/*Continued*/` is affected by this.,https://github.com/bitcoin/bitcoin/pull/23057#issuecomment-925736293,925736293,
mzumsande,2021-09-23 12:53:19,"> Concept ACK. I guess any log statement that is `/*Continued*/` is affected by this.\n\nNot all are affected - in some places `/*Continued*/` is used to appease the linter when the string for a single LogPrintf is spread over multiple lines. I did have a short look before opening this PR, and while there are other spots, this one seemed by far the worst offender because of the number of potenti",https://github.com/bitcoin/bitcoin/pull/23057#issuecomment-925788926,925788926,
jonatack,2021-09-23 12:59:20,TIL about `lint-logs.sh`. Looks like some of the continued annotations can be removed (not necessarily in this patch). Though they may be useful as documentation of intent.,https://github.com/bitcoin/bitcoin/pull/23057#issuecomment-925793312,925793312,
laanwj,2021-09-23 13:34:37,"Also the intentional, relevant uses of Continued seem to be for progress percentages, and run during Init when most threads haven't been spun up yet (so very little chance of concurrency confusion).",https://github.com/bitcoin/bitcoin/pull/23057#issuecomment-925822051,925822051,
laanwj,2021-09-23 14:54:12,"Tested ACK 64e1ddd255771e57a88a20f07dbde04a83bf0c75, new message lgtm\n```\n2021-09-23T14:41:15Z time data samples: -44  -41  -39  -37  -36  -28  -25  -23  -21  -20  -20  -18  -17  -16  -16  -15  -12  -11  -11  -10  -10  -10  -10  -8  -6  -4  -4  -4  -3  -3  -3  -3  -3  -2  +0  |  median offset = -11  (+0 minutes)\n```",https://github.com/bitcoin/bitcoin/pull/23057#issuecomment-925891515,925891515,
MarcoFalke,2021-09-27 11:50:23,Fixed the others in #23104,https://github.com/bitcoin/bitcoin/pull/23057#issuecomment-927796881,927796881,
jonatack,2021-09-21 21:59:03,"Inside the `if (LogAcceptCategory(BCLog::NET))` conditional, the check is already done so can just use `LogPrintf` (see `src/logging.h#L191` where the same check is run if a log category is passed)",https://github.com/bitcoin/bitcoin/pull/23057#discussion_r713449263,713449263,src/timedata.cpp
jnewbery,2021-09-22 08:47:35,"I think it's still better to use `LogPrint(BCLog::NET, ...)`, since that makes it easier to grep for lines that log to a specific category. If we have more structured logging in future, then it'd be better if logs were logging to the correct category.",https://github.com/bitcoin/bitcoin/pull/23057#discussion_r713728229,713728229,src/timedata.cpp
jnewbery,2021-09-22 08:47:59,"nit: current project style would be:\n\n```suggestion\n            std::string log_message{""time data samples: ""};\n```",https://github.com/bitcoin/bitcoin/pull/23057#discussion_r713728567,713728567,src/timedata.cpp
jnewbery,2021-09-22 08:49:41,"Note that concatenating to a std::string can be inefficient, since it may need to reallocate multiple times if the buffer isn't large enough. You could use str::string::reserve to avoid reallocations, but I don't think it's worth it here, since this log is built only a few times during each run of the application.",https://github.com/bitcoin/bitcoin/pull/23057#discussion_r713730088,713730088,src/timedata.cpp
mzumsande,2021-09-22 20:52:36,that makes sense to me - e.g. at some point we might decide to include the log category in the log entry in some form - so I'll keep it.,https://github.com/bitcoin/bitcoin/pull/23057#discussion_r714302524,714302524,src/timedata.cpp
mzumsande,2021-09-22 20:52:51,renamed the variable.,https://github.com/bitcoin/bitcoin/pull/23057#discussion_r714302681,714302681,src/timedata.cpp
mzumsande,2021-09-22 20:58:50,"I agree - will keep this in mind, thanks!",https://github.com/bitcoin/bitcoin/pull/23057#discussion_r714306653,714306653,src/timedata.cpp
laanwj,2021-09-23 12:28:49,"tinyformat also isn't really optimized for speed, and using it this way it returns a temporary string, which is copied then deallocated, every time it's called\n\nbut yeah it's for optional debug logging, not building a 500MB XML document, i don't think performance at this level is any concern here",https://github.com/bitcoin/bitcoin/pull/23057#discussion_r714744825,714744825,src/timedata.cpp
jonatack,2021-09-23 12:39:09,"> I think it's still better to use `LogPrint(BCLog::NET, ...)`, since that makes it easier to grep for lines that log to a specific category.\n\nGrep-ability (grepness?) is essential but a comment on the same line can do that too.  In any case just an observation, it doesn't need to be done in this pach.",https://github.com/bitcoin/bitcoin/pull/23057#discussion_r714752876,714752876,src/timedata.cpp
