[
  {
    "sha": "d07eaba195984410522b78884ff7ff72ec2ecc78",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkMDdlYWJhMTk1OTg0NDEwNTIyYjc4ODg0ZmY3ZmY3MmVjMmVjYzc4",
    "commit": {
      "author": {
        "name": "Jeff Garzik",
        "email": "jgarzik@exmulti.com",
        "date": "2012-06-22T17:11:57Z"
      },
      "committer": {
        "name": "Jeff Garzik",
        "email": "jgarzik@redhat.com",
        "date": "2012-06-22T17:11:57Z"
      },
      "message": "Introduce -debugnet option, thereby quieting some redundant debug messages\n\nPrior to this change, each TX typically generated 3+ debug messages,\n\n\taskfor tx 8644cc97480ba1537214   0\n\tsending getdata: tx 8644cc97480ba1537214\n\taskfor tx 8644cc97480ba1537214   1339640761000000\n\taskfor tx 8644cc97480ba1537214   1339640881000000\n\tCTxMemPool::accept() : accepted 8644cc9748 (poolsz 6857)\n\nAfter this change, there is only one message for each valid TX received\n\n\tCTxMemPool::accept() : accepted 22a73c5d8c (poolsz 42)\n\nand two messages for each orphan tx received\n\n\tERROR: FetchInputs() : 673dc195aa mempool Tx prev not found 1e439346fc\n\tstored orphan tx 673dc195aa (mapsz 19)\n\nThe -debugnet option, or its superset -debug, will restore the full debug\noutput.",
      "tree": {
        "sha": "168f64a8c24a87c30cb0940d2e9034d0df120da6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/168f64a8c24a87c30cb0940d2e9034d0df120da6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d07eaba195984410522b78884ff7ff72ec2ecc78",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d07eaba195984410522b78884ff7ff72ec2ecc78",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d07eaba195984410522b78884ff7ff72ec2ecc78",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d07eaba195984410522b78884ff7ff72ec2ecc78/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "c4879a0c2fea705b6ad7956502acc7897838e841",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c4879a0c2fea705b6ad7956502acc7897838e841",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c4879a0c2fea705b6ad7956502acc7897838e841"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 13,
      "deletions": 2
    },
    "files": [
      {
        "sha": "04541c540fababac7c1cc3d780989f8cb2eb8a25",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d07eaba195984410522b78884ff7ff72ec2ecc78/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d07eaba195984410522b78884ff7ff72ec2ecc78/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=d07eaba195984410522b78884ff7ff72ec2ecc78",
        "patch": "@@ -344,6 +344,13 @@ bool AppInit2()\n     // ********************************************************* Step 3: parameter-to-internal-flags\n \n     fDebug = GetBoolArg(\"-debug\");\n+\n+    // -debug implies fDebug*\n+    if (fDebug)\n+        fDebugNet = true;\n+    else\n+        fDebugNet = GetBoolArg(\"-debugnet\");\n+\n     bitdb.SetDetach(GetBoolArg(\"-detachdb\", false));\n \n #if !defined(WIN32) && !defined(QT_GUI)"
      },
      {
        "sha": "c82b6fd5e8044b4e796bb74e4eabd663729a2e48",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d07eaba195984410522b78884ff7ff72ec2ecc78/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d07eaba195984410522b78884ff7ff72ec2ecc78/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=d07eaba195984410522b78884ff7ff72ec2ecc78",
        "patch": "@@ -3142,7 +3142,8 @@ bool SendMessages(CNode* pto, bool fSendTrickle)\n             const CInv& inv = (*pto->mapAskFor.begin()).second;\n             if (!AlreadyHave(txdb, inv))\n             {\n-                printf(\"sending getdata: %s\\n\", inv.ToString().c_str());\n+                if (fDebugNet)\n+                    printf(\"sending getdata: %s\\n\", inv.ToString().c_str());\n                 vGetData.push_back(inv);\n                 if (vGetData.size() >= 1000)\n                 {"
      },
      {
        "sha": "f059c7a448d55fe278edb3288f5fde953b580dc6",
        "filename": "src/net.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d07eaba195984410522b78884ff7ff72ec2ecc78/src/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d07eaba195984410522b78884ff7ff72ec2ecc78/src/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.h?ref=d07eaba195984410522b78884ff7ff72ec2ecc78",
        "patch": "@@ -296,7 +296,8 @@ class CNode\n         // We're using mapAskFor as a priority queue,\n         // the key is the earliest time the request can be sent\n         int64& nRequestTime = mapAlreadyAskedFor[inv];\n-        printf(\"askfor %s   %\"PRI64d\"\\n\", inv.ToString().c_str(), nRequestTime);\n+        if (fDebugNet)\n+            printf(\"askfor %s   %\"PRI64d\"\\n\", inv.ToString().c_str(), nRequestTime);\n \n         // Make sure not to reuse time indexes to keep things in the same order\n         int64 nNow = (GetTime() - 1) * 1000000;"
      },
      {
        "sha": "4b1c1ae116d1cbde4d6dfaa7df01b76ad3240f5a",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d07eaba195984410522b78884ff7ff72ec2ecc78/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d07eaba195984410522b78884ff7ff72ec2ecc78/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=d07eaba195984410522b78884ff7ff72ec2ecc78",
        "patch": "@@ -58,6 +58,7 @@ using namespace std;\n map<string, string> mapArgs;\n map<string, vector<string> > mapMultiArgs;\n bool fDebug = false;\n+bool fDebugNet = false;\n bool fPrintToConsole = false;\n bool fPrintToDebugger = false;\n bool fRequestShutdown = false;"
      },
      {
        "sha": "82509e925c6c7e5a2cfe8bab9a46a4dea9d91b3c",
        "filename": "src/util.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d07eaba195984410522b78884ff7ff72ec2ecc78/src/util.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d07eaba195984410522b78884ff7ff72ec2ecc78/src/util.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.h?ref=d07eaba195984410522b78884ff7ff72ec2ecc78",
        "patch": "@@ -105,6 +105,7 @@ inline void Sleep(int64 n)\n extern std::map<std::string, std::string> mapArgs;\n extern std::map<std::string, std::vector<std::string> > mapMultiArgs;\n extern bool fDebug;\n+extern bool fDebugNet;\n extern bool fPrintToConsole;\n extern bool fPrintToDebugger;\n extern bool fRequestShutdown;"
      }
    ]
  }
]