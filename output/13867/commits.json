[
  {
    "sha": "fada8966c51b49bdb68549039cf67ddb4b44421c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWRhODk2NmM1MWI0OWJkYjY4NTQ5MDM5Y2Y2N2RkYjRiNDQ0MjFj",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-08-03T17:43:59Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-08-03T17:43:59Z"
      },
      "message": "qa: Close stdout and stderr file when node stops",
      "tree": {
        "sha": "506003f44186c670ea0189f9831e70d84c4567f8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/506003f44186c670ea0189f9831e70d84c4567f8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fada8966c51b49bdb68549039cf67ddb4b44421c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGcBAABCgAGBQJbZJRfAAoJEM4rdWl+aaVIoz8L/jRaK/s3N47H5lKTYThgg7T2\nqJwqj6cQ+C1PQmcavrmfD6/67MKRjy0JrIZzBUeTK4Nje+hmKJZsBboDMOfAFq6d\nd6puuVgwVims2WQVmOaoIrlSo2Gjo4zxRcPyJQ1htE6Qn12I8t0qwLpewCskhKmm\nEj4Jb36I2Qeu1TdlAOeIsI0e2J4l5hzmq+PGIh52AFjenC91yKkDF+CpKYyq4ag2\nOZtLpjwMlxYtkGu67d4VMDl+opCEYr2xFAOJVX1Cqnyu6Q4z3iDDjuTba3wLcpL7\nCV2llOGYtmmGptoa1EBG9eDJBYTJlQ/HR/OwUeUZuy5O0FhvmSEIfncnLnZruQ9E\nxUS8ihzDog1EoJ9E3+YmIgwocUakUDRFH1BwzCbVOXrfoGh2mIagX70+SSTZHtbF\nbhjjSk8Uhk3JasUAX+w9G8S8DkOHVnMQJVVS3PsD49SXDKXmJetZizfB9SPw0qm1\nkkbo7a3dW33pMb6KQ+3M+NNSRnrX5/QJ5ICiZYMk3w==\n=ESKn\n-----END PGP SIGNATURE-----",
        "payload": "tree 506003f44186c670ea0189f9831e70d84c4567f8\nparent 1ef57a96b8b7255bd1f1ea0583846f18305419bf\nauthor MarcoFalke <falke.marco@gmail.com> 1533318239 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1533318239 -0400\n\nqa: Close stdout and stderr file when node stops\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fada8966c51b49bdb68549039cf67ddb4b44421c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fada8966c51b49bdb68549039cf67ddb4b44421c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fada8966c51b49bdb68549039cf67ddb4b44421c/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1ef57a96b8b7255bd1f1ea0583846f18305419bf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1ef57a96b8b7255bd1f1ea0583846f18305419bf",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1ef57a96b8b7255bd1f1ea0583846f18305419bf"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 3,
      "deletions": 0
    },
    "files": [
      {
        "sha": "81ca156f8c9a7daba1c1faf0a72576a6844641aa",
        "filename": "test/functional/test_framework/test_node.py",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fada8966c51b49bdb68549039cf67ddb4b44421c/test/functional/test_framework/test_node.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fada8966c51b49bdb68549039cf67ddb4b44421c/test/functional/test_framework/test_node.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_framework/test_node.py?ref=fada8966c51b49bdb68549039cf67ddb4b44421c",
        "patch": "@@ -200,6 +200,9 @@ def stop_node(self, expected_stderr=''):\n         if stderr != expected_stderr:\n             raise AssertionError(\"Unexpected stderr {} != {}\".format(stderr, expected_stderr))\n \n+        self.stdout.close()\n+        self.stderr.close()\n+\n         del self.p2ps[:]\n \n     def is_node_stopped(self):"
      }
    ]
  },
  {
    "sha": "facb56ffaff2e56d84a7626491b0363f13f26d0e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWNiNTZmZmFmZjJlNTZkODRhNzYyNjQ5MWIwMzYzZjEzZjI2ZDBl",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-08-03T20:30:15Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-08-03T20:25:54Z"
      },
      "message": "qa: Run gen_rpcauth with sys.executable",
      "tree": {
        "sha": "15f99e9f66daf5fbb1f04f12014c150dd46da5b8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/15f99e9f66daf5fbb1f04f12014c150dd46da5b8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/facb56ffaff2e56d84a7626491b0363f13f26d0e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGcBAABCgAGBQJbZLpSAAoJEM4rdWl+aaVIh3IMAMx7+AXbhkMIN89O1egp2GSa\n+grSxI9F0HL4pyUmJOsC81jYEOFb3TdBCK303RMVsdzMidZhtpDT7ZqV2TrH+Pcb\n2Mka0/GaSoOua1ehX7TYwRrkM1EvjtKMRLwQIiiJk59g11O/EZom6BaFpZPRwqyT\naANY1PVrT3uZBFb+P4ZPJ2kwRDilKNHcHv1dROBrazBz1at5YYIZdrjOxImR5eDP\na2/LxK6rUauOeepRNN0Khr0KdgzxniemMbyzXUMIuG3xui+/+/W1ZOgzW+H1XNlL\nF3RKQGYF7U7o+SADsVtXY02dmhDgNpJ6+4Yy2ONbI0ZBCdGHi4yk6uYOImzav4rr\n5GozI202viT28wSLFM/eotCa5lqg4qnfvXYFn0hOiGVwxeIPbKi/w/1030NGOQ9Q\nBDbhZj6EMMC2PBVgJ94UuPdCL4/pBJheQizYWmDQY4bCXXSnXq7tT0xBYVUT8FJ6\nT61HTLvhn12+hnVecDWVTSIWU/idGikJdGgvH9D5mw==\n=FD6U\n-----END PGP SIGNATURE-----",
        "payload": "tree 15f99e9f66daf5fbb1f04f12014c150dd46da5b8\nparent fada8966c51b49bdb68549039cf67ddb4b44421c\nauthor MarcoFalke <falke.marco@gmail.com> 1533328215 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1533327954 -0400\n\nqa: Run gen_rpcauth with sys.executable\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/facb56ffaff2e56d84a7626491b0363f13f26d0e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/facb56ffaff2e56d84a7626491b0363f13f26d0e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/facb56ffaff2e56d84a7626491b0363f13f26d0e/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fada8966c51b49bdb68549039cf67ddb4b44421c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fada8966c51b49bdb68549039cf67ddb4b44421c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fada8966c51b49bdb68549039cf67ddb4b44421c"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 2,
      "deletions": 1
    },
    "files": [
      {
        "sha": "9af7b85d5cc0f0a6502d29f59bb53e2213527563",
        "filename": "test/functional/rpc_users.py",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/facb56ffaff2e56d84a7626491b0363f13f26d0e/test/functional/rpc_users.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/facb56ffaff2e56d84a7626491b0363f13f26d0e/test/functional/rpc_users.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/rpc_users.py?ref=facb56ffaff2e56d84a7626491b0363f13f26d0e",
        "patch": "@@ -18,6 +18,7 @@\n from random import SystemRandom\n import string\n import configparser\n+import sys\n \n \n class HTTPBasicsTest(BitcoinTestFramework):\n@@ -36,7 +37,7 @@ def setup_chain(self):\n         config = configparser.ConfigParser()\n         config.read_file(open(self.options.configfile))\n         gen_rpcauth = config['environment']['RPCAUTH']\n-        p = subprocess.Popen([gen_rpcauth, self.user], stdout=subprocess.PIPE, universal_newlines=True)\n+        p = subprocess.Popen([sys.executable, gen_rpcauth, self.user], stdout=subprocess.PIPE, universal_newlines=True)\n         lines = p.stdout.read().splitlines()\n         rpcauth3 = lines[1]\n         self.password = lines[3]"
      }
    ]
  },
  {
    "sha": "faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWFiZDdiYzQ3Y2E4ZTE0NjZhYmI2OTY3YThkMWVhNDNmZDBhY2Mz",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-08-03T21:23:33Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-08-03T21:29:46Z"
      },
      "message": "qa: Use files for stdout/stderr to support Windows",
      "tree": {
        "sha": "ecdc96f197c4d46fee104e7fd9190e830d216f40",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ecdc96f197c4d46fee104e7fd9190e830d216f40"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGcBAABCgAGBQJbZMlKAAoJEM4rdWl+aaVIm8wL/37mVmFR7tCDZSbyJGZD/tcD\nslXHKy+l9INXiBDVfPYCNo3T61ndIu+WYTO0iCXNuaotAPgYE5pk7qZaIMnh/Zjd\ntBklt8VoojsPP1Crm1VVtKR/qPSL3kfsTD3e8zW3iSGrVPeqWRj93gZvqyNwLuLI\ndJE4Hzk+iVSLYVklrugBoqPEXoQCX+qAaXaZ+F+FjLd0c7UF0WBoG0nJFvyMdoVa\nMHJSaxcX2Oqh/MPZH8Q+zvH/8UqqULNXlAKjmxH7q8GyYC861wSkroaJoh4f0o9w\npC2B4UTXTMaDERDYdwTeZtA4tUaxBugY4BsW+/aemDoVESwhaJcopuOKFG+zRxDv\nhPsnvM6NiXcsgt44Sax2/YArQwWxWfOBgOKnFfIEYT/0HaPRHcSWTRwe63j2H7WR\nYy97PYmXLP7CWsS/tlzlkLuUuMNQ7rvCLDcZCV2TPSA8LS8UuYVAzz7PD9D77QPu\nm8M3LKyffS9+eEL2smc8hxY9htUDizjRQO2wi100DQ==\n=DSoj\n-----END PGP SIGNATURE-----",
        "payload": "tree ecdc96f197c4d46fee104e7fd9190e830d216f40\nparent facb56ffaff2e56d84a7626491b0363f13f26d0e\nauthor MarcoFalke <falke.marco@gmail.com> 1533331413 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1533331786 -0400\n\nqa: Use files for stdout/stderr to support Windows\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "facb56ffaff2e56d84a7626491b0363f13f26d0e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/facb56ffaff2e56d84a7626491b0363f13f26d0e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/facb56ffaff2e56d84a7626491b0363f13f26d0e"
      }
    ],
    "stats": {
      "total": 47,
      "additions": 26,
      "deletions": 21
    },
    "files": [
      {
        "sha": "1adafc21a5b9055657916cd51e632a61c90a01b2",
        "filename": "test/functional/feature_help.py",
        "status": "modified",
        "additions": 24,
        "deletions": 19,
        "changes": 43,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3/test/functional/feature_help.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3/test/functional/feature_help.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_help.py?ref=faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3",
        "patch": "@@ -3,7 +3,6 @@\n # Distributed under the MIT software license, see the accompanying\n # file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \"\"\"Verify that starting bitcoin with -h works as expected.\"\"\"\n-import subprocess\n \n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import assert_equal\n@@ -17,41 +16,47 @@ def setup_network(self):\n         self.add_nodes(self.num_nodes)\n         # Don't start the node\n \n+    def get_node_output(self, *, ret_code_expected):\n+        ret_code = self.nodes[0].process.wait(timeout=1)\n+        assert_equal(ret_code, ret_code_expected)\n+        self.nodes[0].stdout.seek(0)\n+        self.nodes[0].stderr.seek(0)\n+        out = self.nodes[0].stdout.read()\n+        err = self.nodes[0].stderr.read()\n+        self.nodes[0].stdout.close()\n+        self.nodes[0].stderr.close()\n+\n+        # Clean up TestNode state\n+        self.nodes[0].running = False\n+        self.nodes[0].process = None\n+        self.nodes[0].rpc_connected = False\n+        self.nodes[0].rpc = None\n+\n+        return out, err\n+\n     def run_test(self):\n         self.log.info(\"Start bitcoin with -h for help text\")\n-        self.nodes[0].start(extra_args=['-h'], stderr=subprocess.PIPE, stdout=subprocess.PIPE)\n+        self.nodes[0].start(extra_args=['-h'])\n         # Node should exit immediately and output help to stdout.\n-        ret_code = self.nodes[0].process.wait(timeout=1)\n-        assert_equal(ret_code, 0)\n-        output = self.nodes[0].process.stdout.read()\n+        output, _ = self.get_node_output(ret_code_expected=0)\n         assert b'Options' in output\n         self.log.info(\"Help text received: {} (...)\".format(output[0:60]))\n-        self.nodes[0].running = False\n \n         self.log.info(\"Start bitcoin with -version for version information\")\n-        self.nodes[0].start(extra_args=['-version'], stderr=subprocess.PIPE, stdout=subprocess.PIPE)\n+        self.nodes[0].start(extra_args=['-version'])\n         # Node should exit immediately and output version to stdout.\n-        ret_code = self.nodes[0].process.wait(timeout=1)\n-        assert_equal(ret_code, 0)\n-        output = self.nodes[0].process.stdout.read()\n+        output, _ = self.get_node_output(ret_code_expected=0)\n         assert b'version' in output\n         self.log.info(\"Version text received: {} (...)\".format(output[0:60]))\n \n         # Test that arguments not in the help results in an error\n         self.log.info(\"Start bitcoind with -fakearg to make sure it does not start\")\n-        self.nodes[0].start(extra_args=['-fakearg'], stderr=subprocess.PIPE, stdout=subprocess.PIPE)\n+        self.nodes[0].start(extra_args=['-fakearg'])\n         # Node should exit immediately and output an error to stderr\n-        ret_code = self.nodes[0].process.wait(timeout=1)\n-        assert_equal(ret_code, 1)\n-        output = self.nodes[0].process.stderr.read()\n+        _, output = self.get_node_output(ret_code_expected=1)\n         assert b'Error parsing command line arguments' in output\n         self.log.info(\"Error message received: {} (...)\".format(output[0:60]))\n \n-        # Clean up TestNode state\n-        self.nodes[0].running = False\n-        self.nodes[0].process = None\n-        self.nodes[0].rpc_connected = False\n-        self.nodes[0].rpc = None\n \n if __name__ == '__main__':\n     HelpTest().main()"
      },
      {
        "sha": "7bf5f5f0d26d1991ca4907f266481ae525e19822",
        "filename": "test/functional/test_framework/test_node.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3/test/functional/test_framework/test_node.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3/test/functional/test_framework/test_node.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_framework/test_node.py?ref=faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3",
        "patch": "@@ -122,7 +122,7 @@ def __getattr__(self, name):\n             assert self.rpc_connected and self.rpc is not None, self._node_msg(\"Error: no RPC connection\")\n             return getattr(self.rpc, name)\n \n-    def start(self, extra_args=None, stdout=None, stderr=None, *args, **kwargs):\n+    def start(self, extra_args=None, *, stdout=None, stderr=None, **kwargs):\n         \"\"\"Start the node.\"\"\"\n         if extra_args is None:\n             extra_args = self.extra_args\n@@ -143,7 +143,7 @@ def start(self, extra_args=None, stdout=None, stderr=None, *args, **kwargs):\n         # add environment variable LIBC_FATAL_STDERR_=1 so that libc errors are written to stderr and not the terminal\n         subp_env = dict(os.environ, LIBC_FATAL_STDERR_=\"1\")\n \n-        self.process = subprocess.Popen(self.args + extra_args, env=subp_env, stdout=stdout, stderr=stderr, *args, **kwargs)\n+        self.process = subprocess.Popen(self.args + extra_args, env=subp_env, stdout=stdout, stderr=stderr, **kwargs)\n \n         self.running = True\n         self.log.debug(\"bitcoind started, waiting for RPC to come up\")"
      }
    ]
  },
  {
    "sha": "fafe73a626d9d935402e3d488c07cc36a57b1850",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWZlNzNhNjI2ZDlkOTM1NDAyZTNkNDg4YzA3Y2MzNmE1N2IxODUw",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-08-03T21:50:33Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-08-03T21:41:21Z"
      },
      "message": "qa: Raise feature_help timeout to 5s",
      "tree": {
        "sha": "59154cbc39dfaf9961e70877c324e13d631ce2c7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/59154cbc39dfaf9961e70877c324e13d631ce2c7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fafe73a626d9d935402e3d488c07cc36a57b1850",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGcBAABCgAGBQJbZMwBAAoJEM4rdWl+aaVIIcoMAMPz75TjUB+6lmikH7lRFKCi\nMcuujl+xwly++yobN6f8fldAe67f5tCEeaoZwH2nVHfbhUmZKC9Nj7QVs0Y4Ty5d\nTVsjcElLBDN8BzRzNpI5fIzeqeD8kUnaDNiKd15TmhSqJva1p3TSB6Fpe6ZkLS2+\nxjbSCrrvsPLZ5f+8FEG6++Gkk0ieeST6b1E3Vs24ctAtlPwW3tipvYWA99ldhRL9\nPfyoxzPmnlW4adDD+xe0bqEhK2ssrKuV8yFroMX7cHIJO/dyWG0DtJsXN4FH0548\nnQbsaHoLc9iGPEtdetGBjyFSxFRVLQ+xARuuV5EhAVvKJpyls7KLLBP0TzWaOe7L\nj3djDx+oQgBuNB56wf7lZvJPpAUD1/XGnxlrw5HdQ8/R9l0/4ukJJHQn4wXdwS3I\ng/CmHYs4PTV5iZvRtGiQd2JXn1a9hhx1PzRkpvuTT0XmTKxOHTJmueg6rWhW+sJU\nkjIodzgesLnULe6tv1SGbGFRR+dpjvn2pDeN7aHlmw==\n=BN2G\n-----END PGP SIGNATURE-----",
        "payload": "tree 59154cbc39dfaf9961e70877c324e13d631ce2c7\nparent faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3\nauthor MarcoFalke <falke.marco@gmail.com> 1533333033 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1533332481 -0400\n\nqa: Raise feature_help timeout to 5s\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fafe73a626d9d935402e3d488c07cc36a57b1850",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fafe73a626d9d935402e3d488c07cc36a57b1850",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fafe73a626d9d935402e3d488c07cc36a57b1850/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/faabd7bc47ca8e1466abb6967a8d1ea43fd0acc3"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "ed1d25c0d69d78ed7682fc0aa3188bf16f6f4aeb",
        "filename": "test/functional/feature_help.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fafe73a626d9d935402e3d488c07cc36a57b1850/test/functional/feature_help.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fafe73a626d9d935402e3d488c07cc36a57b1850/test/functional/feature_help.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_help.py?ref=fafe73a626d9d935402e3d488c07cc36a57b1850",
        "patch": "@@ -17,7 +17,7 @@ def setup_network(self):\n         # Don't start the node\n \n     def get_node_output(self, *, ret_code_expected):\n-        ret_code = self.nodes[0].process.wait(timeout=1)\n+        ret_code = self.nodes[0].process.wait(timeout=5)\n         assert_equal(ret_code, ret_code_expected)\n         self.nodes[0].stdout.seek(0)\n         self.nodes[0].stderr.seek(0)"
      }
    ]
  }
]