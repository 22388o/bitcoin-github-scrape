[
  {
    "sha": "971a4e6b86e5bd3ac33441d8c031d63d88c59a8b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5NzFhNGU2Yjg2ZTViZDNhYzMzNDQxZDhjMDMxZDYzZDg4YzU5YThi",
    "commit": {
      "author": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-10-06T02:16:15Z"
      },
      "committer": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-10-28T03:59:19Z"
      },
      "message": "Lower default policy limits\n\nReduce the default limits on maximum number of transactions and the cumulative size of those transactions in both ancestor and descendant packages to 25 txs and 101kb total size.",
      "tree": {
        "sha": "6f0abe1cc2c5bf5c71bdf5fd32a08046cda4cb21",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6f0abe1cc2c5bf5c71bdf5fd32a08046cda4cb21"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/971a4e6b86e5bd3ac33441d8c031d63d88c59a8b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/971a4e6b86e5bd3ac33441d8c031d63d88c59a8b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/971a4e6b86e5bd3ac33441d8c031d63d88c59a8b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/971a4e6b86e5bd3ac33441d8c031d63d88c59a8b/comments",
    "author": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8daffe227bc67706d6640b67776f7711a6a98607",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8daffe227bc67706d6640b67776f7711a6a98607",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8daffe227bc67706d6640b67776f7711a6a98607"
      }
    ],
    "stats": {
      "total": 27,
      "additions": 15,
      "deletions": 12
    },
    "files": [
      {
        "sha": "746c26ff5e83e38c798fb304723fd9408d931024",
        "filename": "qa/rpc-tests/mempool_packages.py",
        "status": "modified",
        "additions": 11,
        "deletions": 8,
        "changes": 19,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/971a4e6b86e5bd3ac33441d8c031d63d88c59a8b/qa/rpc-tests/mempool_packages.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/971a4e6b86e5bd3ac33441d8c031d63d88c59a8b/qa/rpc-tests/mempool_packages.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/qa/rpc-tests/mempool_packages.py?ref=971a4e6b86e5bd3ac33441d8c031d63d88c59a8b",
        "patch": "@@ -11,6 +11,9 @@\n def satoshi_round(amount):\n     return  Decimal(amount).quantize(Decimal('0.00000001'), rounding=ROUND_DOWN)\n \n+MAX_ANCESTORS = 25\n+MAX_DESCENDANTS = 25\n+\n class MempoolPackagesTest(BitcoinTestFramework):\n \n     def setup_network(self):\n@@ -45,17 +48,17 @@ def run_test(self):\n         value = utxo[0]['amount']\n \n         fee = Decimal(\"0.0001\")\n-        # 100 transactions off a confirmed tx should be fine\n+        # MAX_ANCESTORS transactions off a confirmed tx should be fine\n         chain = []\n-        for i in xrange(100):\n+        for i in xrange(MAX_ANCESTORS):\n             (txid, sent_value) = self.chain_transaction(self.nodes[0], txid, 0, value, fee, 1)\n             value = sent_value\n             chain.append(txid)\n \n-        # Check mempool has 100 transactions in it, and descendant\n+        # Check mempool has MAX_ANCESTORS transactions in it, and descendant\n         # count and fees should look correct\n         mempool = self.nodes[0].getrawmempool(True)\n-        assert_equal(len(mempool), 100)\n+        assert_equal(len(mempool), MAX_ANCESTORS)\n         descendant_count = 1\n         descendant_fees = 0\n         descendant_size = 0\n@@ -91,18 +94,18 @@ def run_test(self):\n         for i in xrange(10):\n             transaction_package.append({'txid': txid, 'vout': i, 'amount': sent_value})\n \n-        for i in xrange(1000):\n+        for i in xrange(MAX_DESCENDANTS):\n             utxo = transaction_package.pop(0)\n             try:\n                 (txid, sent_value) = self.chain_transaction(self.nodes[0], utxo['txid'], utxo['vout'], utxo['amount'], fee, 10)\n                 for j in xrange(10):\n                     transaction_package.append({'txid': txid, 'vout': j, 'amount': sent_value})\n-                if i == 998:\n+                if i == MAX_DESCENDANTS - 2:\n                     mempool = self.nodes[0].getrawmempool(True)\n-                    assert_equal(mempool[parent_transaction]['descendantcount'], 1000)\n+                    assert_equal(mempool[parent_transaction]['descendantcount'], MAX_DESCENDANTS)\n             except JSONRPCException as e:\n                 print e.error['message']\n-                assert_equal(i, 999)\n+                assert_equal(i, MAX_DESCENDANTS - 1)\n                 print \"tx that would create too large descendant package successfully rejected\"\n \n         # TODO: check that node1's mempool is as expected"
      },
      {
        "sha": "214493287e9b91c8bdfdf4d65b58839f849924ae",
        "filename": "src/main.h",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/971a4e6b86e5bd3ac33441d8c031d63d88c59a8b/src/main.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/971a4e6b86e5bd3ac33441d8c031d63d88c59a8b/src/main.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.h?ref=971a4e6b86e5bd3ac33441d8c031d63d88c59a8b",
        "patch": "@@ -44,13 +44,13 @@ static const bool DEFAULT_ALERTS = true;\n /** Default for -maxorphantx, maximum number of orphan transactions kept in memory */\n static const unsigned int DEFAULT_MAX_ORPHAN_TRANSACTIONS = 100;\n /** Default for -limitancestorcount, max number of in-mempool ancestors */\n-static const unsigned int DEFAULT_ANCESTOR_LIMIT = 100;\n+static const unsigned int DEFAULT_ANCESTOR_LIMIT = 25;\n /** Default for -limitancestorsize, maximum kilobytes of tx + all in-mempool ancestors */\n-static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT = 900;\n+static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT = 101;\n /** Default for -limitdescendantcount, max number of in-mempool descendants */\n-static const unsigned int DEFAULT_DESCENDANT_LIMIT = 1000;\n+static const unsigned int DEFAULT_DESCENDANT_LIMIT = 25;\n /** Default for -limitdescendantsize, maximum kilobytes of in-mempool descendants */\n-static const unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT = 2500;\n+static const unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT = 101;\n /** Default for -maxmempool, maximum megabytes of mempool memory usage */\n static const unsigned int DEFAULT_MAX_MEMPOOL_SIZE = 300;\n /** Default for -mempoolexpiry, expiration time for mempool transactions in hours */"
      }
    ]
  }
]