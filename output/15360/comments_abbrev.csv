sdaftuar,2019-02-08T19:51:06Z,"I'm not sure what the best fix here is, closing.",https://github.com/bitcoin/bitcoin/pull/15360#issuecomment-461925512,461925512,
MarcoFalke,2019-02-08T19:57:32Z,":(\n\nWas good to see someone working on this, finally.",https://github.com/bitcoin/bitcoin/pull/15360#issuecomment-461927492,461927492,
MarcoFalke,2019-02-08T17:14:29Z,"This assertion would fail when the tests are called ""manually"", since the cache is not reset when calling tests individually (not through) the test_runner script.\n\n```\n$ ./test/functional/wallet_txn_doublespend.py \n2019-02-08T17:09:47.027000Z TestFramework (INFO): Initializing test directory /tmp/bitcoin_func_test_62_g4dwe\n2019-02-08T17:09:48.015000Z TestFramework (INFO): Stopping nodes",https://github.com/bitcoin/bitcoin/pull/15360#discussion_r255160810,255160810,test/functional/wallet_txn_doublespend.py
MarcoFalke,2019-02-08T17:38:28Z,"Couldn't this be moved to `setup_nodes` under a condition of `if not self.setup_clean_chain`. This way there'd be a nice assumption that all nodes in tests could send and receive txs right away initially.\n\nIf the assertion failed, you could put a comment like `# Cache might be outdated, please run test through the test_runner script`",https://github.com/bitcoin/bitcoin/pull/15360#discussion_r255168858,255168858,test/functional/wallet_txn_doublespend.py
MarcoFalke,2019-02-08T17:41:02Z,"Seems arbitrary to still use mocktime, but only change the magic value. Also, wouldn't mining blocks with timestamps in the future lead to block sync issues? IIRC a node woulnd't even attempt to download a block when the header has a future timestamp?\n\nI'd prefer to remove mocktime altogether and only use it in tests that require it for some reason (see the test below you modified for example)",https://github.com/bitcoin/bitcoin/pull/15360#discussion_r255169690,255169690,test/functional/test_framework/test_framework.py
sdaftuar,2019-02-08T19:49:31Z,"Ah, I misunderstood how the cache worked (I thought it only persisted between calls to tests in the same test_runner run, and otherwise was being cleared between tests).",https://github.com/bitcoin/bitcoin/pull/15360#discussion_r255214400,255214400,test/functional/wallet_txn_doublespend.py
