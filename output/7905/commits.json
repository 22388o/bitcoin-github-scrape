[
  {
    "sha": "de39c95c2468cc643a5d5bed9e5dd8cea6a40747",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkZTM5Yzk1YzI0NjhjYzY0M2E1ZDViZWQ5ZTVkZDhjZWE2YTQwNzQ3",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-04-18T12:03:53Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-04-18T12:04:40Z"
      },
      "message": "test: move accounting_tests and rpc_wallet_tests to wallet/test\n\nMove the two other wallet tests to where they belong.",
      "tree": {
        "sha": "dc7049ba636b84f0080c2eb131abd5b8c58bd248",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dc7049ba636b84f0080c2eb131abd5b8c58bd248"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/de39c95c2468cc643a5d5bed9e5dd8cea6a40747",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/de39c95c2468cc643a5d5bed9e5dd8cea6a40747",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/de39c95c2468cc643a5d5bed9e5dd8cea6a40747",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/de39c95c2468cc643a5d5bed9e5dd8cea6a40747/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "88616d2008633aaa197df4312585efcd11bf889f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/88616d2008633aaa197df4312585efcd11bf889f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/88616d2008633aaa197df4312585efcd11bf889f"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "989718554930f6f30ec0c5d11c38b3f2a7ba2d47",
        "filename": "src/Makefile.test.include",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/de39c95c2468cc643a5d5bed9e5dd8cea6a40747/src/Makefile.test.include",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/de39c95c2468cc643a5d5bed9e5dd8cea6a40747/src/Makefile.test.include",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.test.include?ref=de39c95c2468cc643a5d5bed9e5dd8cea6a40747",
        "patch": "@@ -90,9 +90,9 @@ BITCOIN_TESTS =\\\n \n if ENABLE_WALLET\n BITCOIN_TESTS += \\\n-  test/accounting_tests.cpp \\\n+  wallet/test/accounting_tests.cpp \\\n   wallet/test/wallet_tests.cpp \\\n-  test/rpc_wallet_tests.cpp\n+  wallet/test/rpc_wallet_tests.cpp\n endif\n \n test_test_bitcoin_SOURCES = $(BITCOIN_TESTS) $(JSON_TEST_FILES) $(RAW_TEST_FILES)"
      },
      {
        "sha": "dad191c68435e2bc54c740cba9b3b7ee795162e0",
        "filename": "src/wallet/test/accounting_tests.cpp",
        "status": "renamed",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/de39c95c2468cc643a5d5bed9e5dd8cea6a40747/src/wallet/test/accounting_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/de39c95c2468cc643a5d5bed9e5dd8cea6a40747/src/wallet/test/accounting_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/test/accounting_tests.cpp?ref=de39c95c2468cc643a5d5bed9e5dd8cea6a40747",
        "previous_filename": "src/test/accounting_tests.cpp"
      },
      {
        "sha": "3443be2093015cf108f099f3b9cecb8d9ffef8c2",
        "filename": "src/wallet/test/rpc_wallet_tests.cpp",
        "status": "renamed",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/de39c95c2468cc643a5d5bed9e5dd8cea6a40747/src/wallet/test/rpc_wallet_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/de39c95c2468cc643a5d5bed9e5dd8cea6a40747/src/wallet/test/rpc_wallet_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/test/rpc_wallet_tests.cpp?ref=de39c95c2468cc643a5d5bed9e5dd8cea6a40747",
        "previous_filename": "src/test/rpc_wallet_tests.cpp"
      }
    ]
  },
  {
    "sha": "f4eae2d910d9edb3750efec4facbeab161cce593",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNGVhZTJkOTEwZDllZGIzNzUwZWZlYzRmYWNiZWFiMTYxY2NlNTkz",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-04-18T12:54:57Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-04-18T12:57:42Z"
      },
      "message": "test: Create test fixture for wallet\n\nRemoves all the `#ifdef ENABLE_WALLET` from `test_bitcoin` by\nmaking the wallet tests use their own fixture.",
      "tree": {
        "sha": "a01442d5df233ef117344574aa80529b5aded4ec",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a01442d5df233ef117344574aa80529b5aded4ec"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f4eae2d910d9edb3750efec4facbeab161cce593",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f4eae2d910d9edb3750efec4facbeab161cce593",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f4eae2d910d9edb3750efec4facbeab161cce593",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f4eae2d910d9edb3750efec4facbeab161cce593/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "de39c95c2468cc643a5d5bed9e5dd8cea6a40747",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/de39c95c2468cc643a5d5bed9e5dd8cea6a40747",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/de39c95c2468cc643a5d5bed9e5dd8cea6a40747"
      }
    ],
    "stats": {
      "total": 86,
      "additions": 55,
      "deletions": 31
    },
    "files": [
      {
        "sha": "08e2f6af4db73f0fe59dc3682cb183b4fa5b9590",
        "filename": "src/Makefile.test.include",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f4eae2d910d9edb3750efec4facbeab161cce593/src/Makefile.test.include",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f4eae2d910d9edb3750efec4facbeab161cce593/src/Makefile.test.include",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.test.include?ref=f4eae2d910d9edb3750efec4facbeab161cce593",
        "patch": "@@ -90,6 +90,8 @@ BITCOIN_TESTS =\\\n \n if ENABLE_WALLET\n BITCOIN_TESTS += \\\n+  wallet/test/wallet_test_fixture.cpp \\\n+  wallet/test/wallet_test_fixture.h \\\n   wallet/test/accounting_tests.cpp \\\n   wallet/test/wallet_tests.cpp \\\n   wallet/test/rpc_wallet_tests.cpp"
      },
      {
        "sha": "eb8ac01e8d32ef00991472e4854803cc6146446d",
        "filename": "src/test/test_bitcoin.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 23,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f4eae2d910d9edb3750efec4facbeab161cce593/src/test/test_bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f4eae2d910d9edb3750efec4facbeab161cce593/src/test/test_bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/test_bitcoin.cpp?ref=f4eae2d910d9edb3750efec4facbeab161cce593",
        "patch": "@@ -19,10 +19,6 @@\n #include \"ui_interface.h\"\n #include \"rpc/server.h\"\n #include \"rpc/register.h\"\n-#ifdef ENABLE_WALLET\n-#include \"wallet/db.h\"\n-#include \"wallet/wallet.h\"\n-#endif\n \n #include \"test/testutil.h\"\n \n@@ -57,10 +53,6 @@ TestingSetup::TestingSetup(const std::string& chainName) : BasicTestingSetup(cha\n         // Ideally we'd move all the RPC tests to the functional testing framework\n         // instead of unit tests, but for now we need these here.\n         RegisterAllCoreRPCCommands(tableRPC);\n-#ifdef ENABLE_WALLET\n-        bitdb.MakeMock();\n-        RegisterWalletRPCCommands(tableRPC);\n-#endif\n         ClearDatadirCache();\n         pathTemp = GetTempPath() / strprintf(\"test_bitcoin_%lu_%i\", (unsigned long)GetTime(), (int)(GetRand(100000)));\n         boost::filesystem::create_directories(pathTemp);\n@@ -69,12 +61,6 @@ TestingSetup::TestingSetup(const std::string& chainName) : BasicTestingSetup(cha\n         pcoinsdbview = new CCoinsViewDB(1 << 23, true);\n         pcoinsTip = new CCoinsViewCache(pcoinsdbview);\n         InitBlockIndex(chainparams);\n-#ifdef ENABLE_WALLET\n-        bool fFirstRun;\n-        pwalletMain = new CWallet(\"wallet.dat\");\n-        pwalletMain->LoadWallet(fFirstRun);\n-        RegisterValidationInterface(pwalletMain);\n-#endif\n         nScriptCheckThreads = 3;\n         for (int i=0; i < nScriptCheckThreads-1; i++)\n             threadGroup.create_thread(&ThreadScriptCheck);\n@@ -86,19 +72,10 @@ TestingSetup::~TestingSetup()\n         UnregisterNodeSignals(GetNodeSignals());\n         threadGroup.interrupt_all();\n         threadGroup.join_all();\n-#ifdef ENABLE_WALLET\n-        UnregisterValidationInterface(pwalletMain);\n-        delete pwalletMain;\n-        pwalletMain = NULL;\n-#endif\n         UnloadBlockIndex();\n         delete pcoinsTip;\n         delete pcoinsdbview;\n         delete pblocktree;\n-#ifdef ENABLE_WALLET\n-        bitdb.Flush(true);\n-        bitdb.Reset();\n-#endif\n         boost::filesystem::remove_all(pathTemp);\n }\n "
      },
      {
        "sha": "57f66f6c6d0dc7286d00907fa15b14334e2a1cfb",
        "filename": "src/test/test_bitcoin.h",
        "status": "modified",
        "additions": 1,
        "deletions": 2,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f4eae2d910d9edb3750efec4facbeab161cce593/src/test/test_bitcoin.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f4eae2d910d9edb3750efec4facbeab161cce593/src/test/test_bitcoin.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/test_bitcoin.h?ref=f4eae2d910d9edb3750efec4facbeab161cce593",
        "patch": "@@ -25,8 +25,7 @@ struct BasicTestingSetup {\n };\n \n /** Testing setup that configures a complete environment.\n- * Included are data directory, coins database, script check threads\n- * and wallet (if enabled) setup.\n+ * Included are data directory, coins database, script check threads setup.\n  */\n struct TestingSetup: public BasicTestingSetup {\n     CCoinsViewDB *pcoinsdbview;"
      },
      {
        "sha": "d075b2b641a1b20f5a22631092357765f47e52cf",
        "filename": "src/wallet/test/accounting_tests.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f4eae2d910d9edb3750efec4facbeab161cce593/src/wallet/test/accounting_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f4eae2d910d9edb3750efec4facbeab161cce593/src/wallet/test/accounting_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/test/accounting_tests.cpp?ref=f4eae2d910d9edb3750efec4facbeab161cce593",
        "patch": "@@ -5,7 +5,7 @@\n #include \"wallet/wallet.h\"\n #include \"wallet/walletdb.h\"\n \n-#include \"test/test_bitcoin.h\"\n+#include \"wallet/test/wallet_test_fixture.h\"\n \n #include <stdint.h>\n \n@@ -14,7 +14,7 @@\n \n extern CWallet* pwalletMain;\n \n-BOOST_FIXTURE_TEST_SUITE(accounting_tests, TestingSetup)\n+BOOST_FIXTURE_TEST_SUITE(accounting_tests, WalletTestingSetup)\n \n static void\n GetResults(CWalletDB& walletdb, std::map<CAmount, CAccountingEntry>& results)"
      },
      {
        "sha": "4e7d177f518550240a3d36c40c06af2b8a58af29",
        "filename": "src/wallet/test/rpc_wallet_tests.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f4eae2d910d9edb3750efec4facbeab161cce593/src/wallet/test/rpc_wallet_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f4eae2d910d9edb3750efec4facbeab161cce593/src/wallet/test/rpc_wallet_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/test/rpc_wallet_tests.cpp?ref=f4eae2d910d9edb3750efec4facbeab161cce593",
        "patch": "@@ -9,7 +9,7 @@\n #include \"main.h\"\n #include \"wallet/wallet.h\"\n \n-#include \"test/test_bitcoin.h\"\n+#include \"wallet/test/wallet_test_fixture.h\"\n \n #include <boost/algorithm/string.hpp>\n #include <boost/test/unit_test.hpp>\n@@ -23,7 +23,7 @@ extern UniValue CallRPC(string args);\n \n extern CWallet* pwalletMain;\n \n-BOOST_FIXTURE_TEST_SUITE(rpc_wallet_tests, TestingSetup)\n+BOOST_FIXTURE_TEST_SUITE(rpc_wallet_tests, WalletTestingSetup)\n \n BOOST_AUTO_TEST_CASE(rpc_addmultisig)\n {"
      },
      {
        "sha": "8370300963213894e348f458e4079b21ad0c99b9",
        "filename": "src/wallet/test/wallet_test_fixture.cpp",
        "status": "added",
        "additions": 28,
        "deletions": 0,
        "changes": 28,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f4eae2d910d9edb3750efec4facbeab161cce593/src/wallet/test/wallet_test_fixture.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f4eae2d910d9edb3750efec4facbeab161cce593/src/wallet/test/wallet_test_fixture.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/test/wallet_test_fixture.cpp?ref=f4eae2d910d9edb3750efec4facbeab161cce593",
        "patch": "@@ -0,0 +1,28 @@\n+#include \"wallet/test/wallet_test_fixture.h\"\n+\n+#include \"rpc/server.h\"\n+#include \"wallet/db.h\"\n+#include \"wallet/wallet.h\"\n+\n+WalletTestingSetup::WalletTestingSetup(const std::string& chainName):\n+    TestingSetup(chainName)\n+{\n+    bitdb.MakeMock();\n+\n+    bool fFirstRun;\n+    pwalletMain = new CWallet(\"wallet.dat\");\n+    pwalletMain->LoadWallet(fFirstRun);\n+    RegisterValidationInterface(pwalletMain);\n+\n+    RegisterWalletRPCCommands(tableRPC);\n+}\n+\n+WalletTestingSetup::~WalletTestingSetup()\n+{\n+    UnregisterValidationInterface(pwalletMain);\n+    delete pwalletMain;\n+    pwalletMain = NULL;\n+\n+    bitdb.Flush(true);\n+    bitdb.Reset();\n+}"
      },
      {
        "sha": "97a6d98397accb8711f5076201840e99ed013bc0",
        "filename": "src/wallet/test/wallet_test_fixture.h",
        "status": "added",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f4eae2d910d9edb3750efec4facbeab161cce593/src/wallet/test/wallet_test_fixture.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f4eae2d910d9edb3750efec4facbeab161cce593/src/wallet/test/wallet_test_fixture.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/test/wallet_test_fixture.h?ref=f4eae2d910d9edb3750efec4facbeab161cce593",
        "patch": "@@ -0,0 +1,18 @@\n+// Copyright (c) 2016 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_WALLET_TEST_FIXTURE_H\n+#define BITCOIN_WALLET_TEST_FIXTURE_H\n+\n+#include \"test/test_bitcoin.h\"\n+\n+/** Testing setup and teardown for wallet.\n+ */\n+struct WalletTestingSetup: public TestingSetup {\n+    WalletTestingSetup(const std::string& chainName = CBaseChainParams::MAIN);\n+    ~WalletTestingSetup();\n+};\n+\n+#endif\n+"
      },
      {
        "sha": "b759a6b2e8b7562965c13c3ba2f938078e2b63fe",
        "filename": "src/wallet/test/wallet_tests.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f4eae2d910d9edb3750efec4facbeab161cce593/src/wallet/test/wallet_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f4eae2d910d9edb3750efec4facbeab161cce593/src/wallet/test/wallet_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/test/wallet_tests.cpp?ref=f4eae2d910d9edb3750efec4facbeab161cce593",
        "patch": "@@ -9,7 +9,7 @@\n #include <utility>\n #include <vector>\n \n-#include \"test/test_bitcoin.h\"\n+#include \"wallet/test/wallet_test_fixture.h\"\n \n #include <boost/foreach.hpp>\n #include <boost/test/unit_test.hpp>\n@@ -25,7 +25,7 @@ using namespace std;\n \n typedef set<pair<const CWalletTx*,unsigned int> > CoinSet;\n \n-BOOST_FIXTURE_TEST_SUITE(wallet_tests, TestingSetup)\n+BOOST_FIXTURE_TEST_SUITE(wallet_tests, WalletTestingSetup)\n \n static CWallet wallet;\n static vector<COutput> vCoins;"
      }
    ]
  },
  {
    "sha": "a25a4f5b04c3e045557e9e7e807b2af74ad75128",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphMjVhNGY1YjA0YzNlMDQ1NTU3ZTllN2U4MDdiMmFmNzRhZDc1MTI4",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-04-18T13:12:46Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-04-18T13:14:36Z"
      },
      "message": "wallet_ismine.h \u2192 script/ismine.h\n\nRemoves conditional dependency of `src/test` on wallet.\n\nMakes multisig and P2SH tests complete without wallet built-in.",
      "tree": {
        "sha": "5a5726a68759ab6ed0ed9e7b189dd622c6ff9b23",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5a5726a68759ab6ed0ed9e7b189dd622c6ff9b23"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a25a4f5b04c3e045557e9e7e807b2af74ad75128",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a25a4f5b04c3e045557e9e7e807b2af74ad75128",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a25a4f5b04c3e045557e9e7e807b2af74ad75128",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a25a4f5b04c3e045557e9e7e807b2af74ad75128/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f4eae2d910d9edb3750efec4facbeab161cce593",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f4eae2d910d9edb3750efec4facbeab161cce593",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f4eae2d910d9edb3750efec4facbeab161cce593"
      }
    ],
    "stats": {
      "total": 35,
      "additions": 9,
      "deletions": 26
    },
    "files": [
      {
        "sha": "24744835f50d6d86ef5eee270d1209149fcc66ff",
        "filename": "src/Makefile.am",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a25a4f5b04c3e045557e9e7e807b2af74ad75128/src/Makefile.am",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a25a4f5b04c3e045557e9e7e807b2af74ad75128/src/Makefile.am",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.am?ref=a25a4f5b04c3e045557e9e7e807b2af74ad75128",
        "patch": "@@ -135,6 +135,7 @@ BITCOIN_CORE_H = \\\n   script/sigcache.h \\\n   script/sign.h \\\n   script/standard.h \\\n+  script/ismine.h \\\n   streams.h \\\n   support/allocators/secure.h \\\n   support/allocators/zeroafterfree.h \\\n@@ -157,7 +158,6 @@ BITCOIN_CORE_H = \\\n   wallet/db.h \\\n   wallet/rpcwallet.h \\\n   wallet/wallet.h \\\n-  wallet/wallet_ismine.h \\\n   wallet/walletdb.h \\\n   zmq/zmqabstractnotifier.h \\\n   zmq/zmqconfig.h\\\n@@ -199,6 +199,7 @@ libbitcoin_server_a_SOURCES = \\\n   rpc/rawtransaction.cpp \\\n   rpc/server.cpp \\\n   script/sigcache.cpp \\\n+  script/ismine.cpp \\\n   timedata.cpp \\\n   torcontrol.cpp \\\n   txdb.cpp \\\n@@ -229,7 +230,6 @@ libbitcoin_wallet_a_SOURCES = \\\n   wallet/rpcdump.cpp \\\n   wallet/rpcwallet.cpp \\\n   wallet/wallet.cpp \\\n-  wallet/wallet_ismine.cpp \\\n   wallet/walletdb.cpp \\\n   policy/rbf.cpp \\\n   $(BITCOIN_CORE_H)"
      },
      {
        "sha": "535c56b57a06a8226c8ba23917e026fab8f2fa3e",
        "filename": "src/script/ismine.cpp",
        "status": "renamed",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a25a4f5b04c3e045557e9e7e807b2af74ad75128/src/script/ismine.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a25a4f5b04c3e045557e9e7e807b2af74ad75128/src/script/ismine.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/ismine.cpp?ref=a25a4f5b04c3e045557e9e7e807b2af74ad75128",
        "patch": "@@ -3,7 +3,7 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n-#include \"wallet_ismine.h\"\n+#include \"ismine.h\"\n \n #include \"key.h\"\n #include \"keystore.h\"",
        "previous_filename": "src/wallet/wallet_ismine.cpp"
      },
      {
        "sha": "4b7db8802ba54bd65a81b581798a10b300450894",
        "filename": "src/script/ismine.h",
        "status": "renamed",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a25a4f5b04c3e045557e9e7e807b2af74ad75128/src/script/ismine.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a25a4f5b04c3e045557e9e7e807b2af74ad75128/src/script/ismine.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/ismine.h?ref=a25a4f5b04c3e045557e9e7e807b2af74ad75128",
        "patch": "@@ -3,8 +3,8 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n-#ifndef BITCOIN_WALLET_WALLET_ISMINE_H\n-#define BITCOIN_WALLET_WALLET_ISMINE_H\n+#ifndef BITCOIN_SCRIPT_ISMINE_H\n+#define BITCOIN_SCRIPT_ISMINE_H\n \n #include \"script/standard.h\"\n \n@@ -31,4 +31,4 @@ typedef uint8_t isminefilter;\n isminetype IsMine(const CKeyStore& keystore, const CScript& scriptPubKey);\n isminetype IsMine(const CKeyStore& keystore, const CTxDestination& dest);\n \n-#endif // BITCOIN_WALLET_WALLET_ISMINE_H\n+#endif // BITCOIN_SCRIPT_ISMINE_H",
        "previous_filename": "src/wallet/wallet_ismine.h"
      },
      {
        "sha": "d48a68ba547c5fa24d738b89ab6a0b60330d0bb5",
        "filename": "src/test/multisig_tests.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 11,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a25a4f5b04c3e045557e9e7e807b2af74ad75128/src/test/multisig_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a25a4f5b04c3e045557e9e7e807b2af74ad75128/src/test/multisig_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/multisig_tests.cpp?ref=a25a4f5b04c3e045557e9e7e807b2af74ad75128",
        "patch": "@@ -9,12 +9,10 @@\n #include \"script/script_error.h\"\n #include \"script/interpreter.h\"\n #include \"script/sign.h\"\n+#include \"script/ismine.h\"\n #include \"uint256.h\"\n #include \"test/test_bitcoin.h\"\n \n-#ifdef ENABLE_WALLET\n-#include \"wallet/wallet_ismine.h\"\n-#endif\n \n #include <boost/foreach.hpp>\n #include <boost/test/unit_test.hpp>\n@@ -210,10 +208,8 @@ BOOST_AUTO_TEST_CASE(multisig_Solver1)\n         CTxDestination addr;\n         BOOST_CHECK(ExtractDestination(s, addr));\n         BOOST_CHECK(addr == keyaddr[0]);\n-#ifdef ENABLE_WALLET\n         BOOST_CHECK(IsMine(keystore, s));\n         BOOST_CHECK(!IsMine(emptykeystore, s));\n-#endif\n     }\n     {\n         vector<valtype> solutions;\n@@ -225,10 +221,8 @@ BOOST_AUTO_TEST_CASE(multisig_Solver1)\n         CTxDestination addr;\n         BOOST_CHECK(ExtractDestination(s, addr));\n         BOOST_CHECK(addr == keyaddr[0]);\n-#ifdef ENABLE_WALLET\n         BOOST_CHECK(IsMine(keystore, s));\n         BOOST_CHECK(!IsMine(emptykeystore, s));\n-#endif\n     }\n     {\n         vector<valtype> solutions;\n@@ -239,11 +233,9 @@ BOOST_AUTO_TEST_CASE(multisig_Solver1)\n         BOOST_CHECK_EQUAL(solutions.size(), 4U);\n         CTxDestination addr;\n         BOOST_CHECK(!ExtractDestination(s, addr));\n-#ifdef ENABLE_WALLET\n         BOOST_CHECK(IsMine(keystore, s));\n         BOOST_CHECK(!IsMine(emptykeystore, s));\n         BOOST_CHECK(!IsMine(partialkeystore, s));\n-#endif\n     }\n     {\n         vector<valtype> solutions;\n@@ -258,11 +250,9 @@ BOOST_AUTO_TEST_CASE(multisig_Solver1)\n         BOOST_CHECK(addrs[0] == keyaddr[0]);\n         BOOST_CHECK(addrs[1] == keyaddr[1]);\n         BOOST_CHECK(nRequired == 1);\n-#ifdef ENABLE_WALLET\n         BOOST_CHECK(IsMine(keystore, s));\n         BOOST_CHECK(!IsMine(emptykeystore, s));\n         BOOST_CHECK(!IsMine(partialkeystore, s));\n-#endif\n     }\n     {\n         vector<valtype> solutions;"
      },
      {
        "sha": "d10284fe940e58724a21d649f16b0aaee5f220fe",
        "filename": "src/test/script_P2SH_tests.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 8,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a25a4f5b04c3e045557e9e7e807b2af74ad75128/src/test/script_P2SH_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a25a4f5b04c3e045557e9e7e807b2af74ad75128/src/test/script_P2SH_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/script_P2SH_tests.cpp?ref=a25a4f5b04c3e045557e9e7e807b2af74ad75128",
        "patch": "@@ -9,12 +9,9 @@\n #include \"script/script.h\"\n #include \"script/script_error.h\"\n #include \"script/sign.h\"\n+#include \"script/ismine.h\"\n #include \"test/test_bitcoin.h\"\n \n-#ifdef ENABLE_WALLET\n-#include \"wallet/wallet_ismine.h\"\n-#endif\n-\n #include <vector>\n \n #include <boost/test/unit_test.hpp>\n@@ -101,9 +98,7 @@ BOOST_AUTO_TEST_CASE(sign)\n         txTo[i].vin[0].prevout.n = i;\n         txTo[i].vin[0].prevout.hash = txFrom.GetHash();\n         txTo[i].vout[0].nValue = 1;\n-#ifdef ENABLE_WALLET\n         BOOST_CHECK_MESSAGE(IsMine(keystore, txFrom.vout[i].scriptPubKey), strprintf(\"IsMine %d\", i));\n-#endif\n     }\n     for (int i = 0; i < 8; i++)\n     {\n@@ -198,9 +193,7 @@ BOOST_AUTO_TEST_CASE(set)\n         txTo[i].vin[0].prevout.hash = txFrom.GetHash();\n         txTo[i].vout[0].nValue = 1*CENT;\n         txTo[i].vout[0].scriptPubKey = inner[i];\n-#ifdef ENABLE_WALLET\n         BOOST_CHECK_MESSAGE(IsMine(keystore, txFrom.vout[i].scriptPubKey), strprintf(\"IsMine %d\", i));\n-#endif\n     }\n     for (int i = 0; i < 4; i++)\n     {"
      },
      {
        "sha": "fa8740eb7fe389b8b47f13a573f1f95c2e98c9ce",
        "filename": "src/wallet/wallet.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a25a4f5b04c3e045557e9e7e807b2af74ad75128/src/wallet/wallet.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a25a4f5b04c3e045557e9e7e807b2af74ad75128/src/wallet/wallet.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.h?ref=a25a4f5b04c3e045557e9e7e807b2af74ad75128",
        "patch": "@@ -12,8 +12,8 @@\n #include \"ui_interface.h\"\n #include \"utilstrencodings.h\"\n #include \"validationinterface.h\"\n+#include \"script/ismine.h\"\n #include \"wallet/crypter.h\"\n-#include \"wallet/wallet_ismine.h\"\n #include \"wallet/walletdb.h\"\n #include \"wallet/rpcwallet.h\"\n "
      }
    ]
  },
  {
    "sha": "b30fb42e499beee5899b7e0e6c7581101b14ee83",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiMzBmYjQyZTQ5OWJlZWU1ODk5YjdlMGU2Yzc1ODExMDFiMTRlZTgz",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-04-18T13:15:57Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-04-18T13:17:08Z"
      },
      "message": "test: Rename wallet.dat to wallet_test.dat\n\nIndicate that the file name is not hardcoded, and a little bit of safety\nso that it never nukes the main wallet.\n\nSuggestion by Marco Falke.",
      "tree": {
        "sha": "15d6b77e4ebf531940516dedfd917578984c37b1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/15d6b77e4ebf531940516dedfd917578984c37b1"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b30fb42e499beee5899b7e0e6c7581101b14ee83",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b30fb42e499beee5899b7e0e6c7581101b14ee83",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b30fb42e499beee5899b7e0e6c7581101b14ee83",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b30fb42e499beee5899b7e0e6c7581101b14ee83/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a25a4f5b04c3e045557e9e7e807b2af74ad75128",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a25a4f5b04c3e045557e9e7e807b2af74ad75128",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a25a4f5b04c3e045557e9e7e807b2af74ad75128"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "9036ee26d83e0cab377723a76e942a7107aa739c",
        "filename": "src/wallet/test/wallet_test_fixture.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b30fb42e499beee5899b7e0e6c7581101b14ee83/src/wallet/test/wallet_test_fixture.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b30fb42e499beee5899b7e0e6c7581101b14ee83/src/wallet/test/wallet_test_fixture.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/test/wallet_test_fixture.cpp?ref=b30fb42e499beee5899b7e0e6c7581101b14ee83",
        "patch": "@@ -10,7 +10,7 @@ WalletTestingSetup::WalletTestingSetup(const std::string& chainName):\n     bitdb.MakeMock();\n \n     bool fFirstRun;\n-    pwalletMain = new CWallet(\"wallet.dat\");\n+    pwalletMain = new CWallet(\"wallet_test.dat\");\n     pwalletMain->LoadWallet(fFirstRun);\n     RegisterValidationInterface(pwalletMain);\n "
      }
    ]
  }
]