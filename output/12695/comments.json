[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373389434",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-373389434",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 373389434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzM4OTQzNA==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-15T14:12:56Z",
    "updated_at": "2018-03-15T14:13:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Good catch! Concept ACK\r\n\r\nJust wanted to add that I've noticed a lot of high quality contributions from you recently. Really nice to have you on board! Thanks for your contributions!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373389434/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373810555",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-373810555",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 373810555,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzgxMDU1NQ==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-16T18:50:03Z",
    "updated_at": "2018-03-16T18:50:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Question: do we want to have conditional logic based on GCC vs. Clang, or just do what's best for GCC (as long as it doesn't break Clang)? It seems like if we want to have the best symbols for both we need some additional logic here.\r\n\r\nGCC:\r\n * Recommends you use -Og\r\n * Says that -g3 includes macro definitions in the debug symbols (the only difference from -g2, which is the default when using -g)\r\n\r\nClang:\r\n * \"-O0 Means \"no optimization\": this level compiles the fastest and generates the most debuggable code\"\r\n * \"Note that Clang debug information works best at -O0.\"\r\n * \"-Og Like -O1. In future versions, this option might disable different optimizations in order to improve debuggability.\"\r\n * Option -g3 is not documented in the man page.\r\n\r\nSo it seems like \"-g -Og\" works on both compilers, but for Clang \"-g -O0\" is actually better.\r\n\r\nThe `$GCC` and `$GXX` variables are set if the compiler defines `__GNUC__`, which clang does. So those variables should never be used. To actually test for Clang you should check if `__clang__` or `__llvm__` are defined.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373810555/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373813075",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-373813075",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 373813075,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzgxMzA3NQ==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-16T18:58:57Z",
    "updated_at": "2018-03-16T18:58:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Also FYI later I plan to submit another PR for you to review to clean up the logic we have to start using more of the newer AX_* macros, most notably AX_APPEND_COMPILE_FLAGS which will clean up a lot of copy/paste logic we have when we check a flag and then append it.[1] I'm going to do that as another PR because I want to separate changes that affect logic (like this PR) with changes that are just cleanups.\r\n\r\n[1] https://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=blob_plain;f=m4/ax_append_compile_flags.m4",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373813075/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373821394",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-373821394",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 373821394,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzgyMTM5NA==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-16T19:30:54Z",
    "updated_at": "2018-03-16T19:30:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Summary of recent commits:\r\n * 0014486f25cfc628d79939f55adb6e020fbf0173 changes you suggested\r\n * b59e74db3e013a3551ef8d2df889fe26ea2d0a3c make the summary at the end of configure show all the flags we're actually using\r\n * ed6066b055ca5d024738214a16c91be9cad5c54d proposed way for adding different flags in clang (not sure if you think adding this kind of logic is appropriate or not, just an idea)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373821394/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374736165",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-374736165",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 374736165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDczNjE2NQ==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T19:58:56Z",
    "updated_at": "2018-03-20T19:58:56Z",
    "author_association": "MEMBER",
    "body": "Nice investigative work above! \r\n\r\nGenerally we don't want to make any assumptions about what compiler will be used, unless an option is known to directly conflict between common ones. I don't think that's the case here. The code also builds fine with msvc, and I'd hope that icc works as well.\r\n\r\nSo checks like this really don't make much sense because they're basically just hard-coded:\r\n```bash\r\nif test $CLANG -eq 1; then\r\n  AX_CHECK_COMPILE_FLAG([-O0],[[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -O0\"]],,[[$CXXFLAG_WERROR]])\r\n...\r\n```\r\nLet's try instead to come up with some universal checks that can be applied.\r\n\r\nA few more little things gleaned from glancing at the gcc/clang code:\r\n- gcc's -Og is also basically -O1, with a few things explicitly removed:\r\n   ```\r\n       { OPT_LEVELS_1_PLUS_NOT_DEBUG, OPT_fbranch_count_reg, NULL, 1 },\r\n       { OPT_LEVELS_1_PLUS_NOT_DEBUG, OPT_fmove_loop_invariants, NULL, 1 },\r\n       { OPT_LEVELS_1_PLUS_NOT_DEBUG, OPT_ftree_pta, NULL, 1 },\r\n       { OPT_LEVELS_1_PLUS_NOT_DEBUG, OPT_fssa_phiopt, NULL, 1 },\r\n   ```\r\n- clang's -gX (other than -g1) are aliased to '-g', so, same behavior as gcc minus the macro definitions.\r\n\r\nFor the most part, debugging with -O0 is huge overkill due to all of the inlining, so it makes sense to me that gcc/clang chose -O1 as the starting point for debugging.\r\n\r\nI think we should use the flags that declare intent, as opposed to trying to guess about optimization levels. That way we benefit more from future compiler versions.\r\n\r\nSo my preference would be:\r\n- -Og with a fallback to -O1 if it doesn't work\r\n- -g3 with a fallback to -g if it doesn't work.\r\n\r\nWe could either nest the fallbacks in the original check's failure condition, or just set a variable if the original check fails, and try the fallback if it's false. My slight preference would be for the latter, just because it's more readable.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374736165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374764927",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-374764927",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 374764927,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDc2NDkyNw==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T21:35:08Z",
    "updated_at": "2018-03-20T21:35:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Changes here:\r\n * Remove the GCC/Clang check\r\n * Try -Og, fall back to -O0\r\n * Try -g3, fall back to -g\r\n * Pass in debug/error flags when doing the _FORTIFY_SOURCE check\r\n\r\nThere's one other change here that I would like @luke-jr to review. In 9b4e03b27b04f6dc687409a13859d59bb7909d8f he added logic to first try to undefined the flag before setting it. Since we now pass in the debug/error flags, if the -D_FORTIFY_SOURCE=2 check fails I retry with the undefine change. This should mean that if you use --enable-werror the right thing will happen if just setting -D_FORTIFY_SOURCE=2 warns unless it's first undefined. I don't have a compiler that warns in this case, and I'd like Luke to check if he thinks this makes sense.\r\n\r\nAlso note that the _FORTIFY_SOURCE change is a lot less necessary in the first place now since the original error was related to -O0, and we're now preferring -Og (and the warning was a GCC thing in the first place). We could just drop the _FORTIFY_SOURCE change altogether since the logic is a bit confusing; that said, the new logic I added seems a little bit better.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374764927/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374782218",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-374782218",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 374782218,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDc4MjIxOA==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T22:42:38Z",
    "updated_at": "2018-03-20T22:42:38Z",
    "author_association": "MEMBER",
    "body": "Thanks, looks good to me now other than the FORTIFY reversal.\r\n\r\n> Also note that the _FORTIFY_SOURCE change is a lot less necessary in the first place now since the original error was related to -O0, and we're now preferring -Og (and the warning was a GCC thing in the first place). We could just drop the _FORTIFY_SOURCE change altogether since the logic is a bit confusing; that said, the new logic I added seems a little bit better.\r\n\r\nBeing pedantic: The warning comes from glibc, it could potentially occur with any compiler.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374782218/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374787359",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-374787359",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 374787359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDc4NzM1OQ==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T23:06:12Z",
    "updated_at": "2018-03-20T23:06:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "Reverted the change to _FORTIFY_SOURCE, now the only difference in that part of the file compared to master is that we pass in debug and error flags when making the check. If this looks OK I can squash the branch down.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374787359/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374787939",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-374787939",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 374787939,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDc4NzkzOQ==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T23:08:59Z",
    "updated_at": "2018-03-20T23:08:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmm it appears the extra flags are supposed to be CPPFLAGS not CFLAGS/CXXFLAGS according to [the m4 macro](https://github.com/bitcoin/bitcoin/blob/master/build-aux/m4/ax_check_preproc_flag.m4). So maybe there's no point in passing in the flags at all there. Kind of a bummer since that means it doesn't catch the interaction with `-O0`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374787939/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374789385",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-374789385",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 374789385,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDc4OTM4NQ==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T23:15:44Z",
    "updated_at": "2018-03-20T23:15:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Removed the _FORTIFY_SOURCE changes altogether since the new check isn't effective. The only reason I wanted to change it in the first place was because it interacted poorly with -O0, and on the platforms that generates warnings on we no longer expect to see warnings.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374789385/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374792521",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-374792521",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 374792521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDc5MjUyMQ==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T23:31:20Z",
    "updated_at": "2018-03-20T23:31:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "One more thing I might as well ask while we're making this change, since I touched this line of code anyway. At the top of `src/Makefile.am` we have:\r\n```\r\nAM_LDFLAGS = $(PTHREAD_CFLAGS) $(LIBTOOL_LDFLAGS) $(HARDENED_LDFLAGS) $(GPROF_LDFLAGS)\r\n```\r\n\r\nWe don't set `LIBTOOL_LDFLAGS` anywhere, but we do set `LIBTOOL_APP_LDFLAGS` in `configure.ac` and then add to it `LDFLAGS` all over the place to executables we build. It seems like this was originally a typo and the original intention was to add `LIBTOOL_APP_LDFLAGS` to `AM_LDFLAGS`.\r\n\r\nThe current code works but we might want to fix this (perhaps in another PR).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374792521/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374793941",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-374793941",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 374793941,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDc5Mzk0MQ==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T23:38:55Z",
    "updated_at": "2018-03-20T23:38:55Z",
    "author_association": "MEMBER",
    "body": "> Hmm it appears the extra flags are supposed to be CPPFLAGS not CFLAGS/CXXFLAGS according to the m4 macro\r\n\r\nNot sure what you mean by that. The flags passed in are appended to CPPFLAGS for the test, it doesn't matter how they're stored otherwise.\r\n\r\nI agree with just leaving it alone, though.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374793941/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374795613",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-374795613",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 374795613,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDc5NTYxMw==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T23:48:26Z",
    "updated_at": "2018-03-20T23:48:26Z",
    "author_association": "MEMBER",
    "body": "> We don't set LIBTOOL_LDFLAGS anywhere, but we do set LIBTOOL_APP_LDFLAGS in configure.ac and then add to it LDFLAGS all over the place to executables we build. It seems like this was originally a typo and the original intention was to add LIBTOOL_APP_LDFLAGS to AM_LDFLAGS.\r\n\r\n> The current code works but we might want to fix this (perhaps in another PR).\r\n\r\nYes, it looks like LIBTOOL_LDFLAGS wasn't removed from AM_LDFLAGS in e0077de5de538dd51b5dbd04e05c998d40b20b30 as it should've been.\r\n\r\nBut the manual additions of LIBTOOL_APP_LDFLAG are intentional; They're appended for all application links, but not for libraries (libbitcoinconsensus).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374795613/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374805340",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-374805340",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 374805340,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDgwNTM0MA==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-21T00:46:53Z",
    "updated_at": "2018-03-21T00:46:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think that last test failure was Travis being flaky, b0860d8e82041786b3424851b42a8b8c5bc143e8 squashes all of these changes down.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374805340/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375318719",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-375318719",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 375318719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTMxODcxOQ==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-22T14:08:25Z",
    "updated_at": "2018-03-22T14:08:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "PR description https://github.com/bitcoin/bitcoin/pull/12695#issue-175233065 should be updated to match commit description, since it seems out of date now.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375318719/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376385038",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-376385038",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 376385038,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjM4NTAzOA==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-27T03:27:58Z",
    "updated_at": "2018-03-27T03:27:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Updated the configure summary at the end, and changed PR description.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376385038/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376388592",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-376388592",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 376388592,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjM4ODU5Mg==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-27T03:52:44Z",
    "updated_at": "2018-03-27T03:54:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Note the summary list gets formatted kind of weird with extra/leading spaces when options aren't enabled, e.g. `./configure` with no other options prints a summary like this for me:\r\n\r\n```\r\n  CC            = /usr/bin/ccache gcc\r\n  CFLAGS        = -g -O2\r\n  CPPFLAGS      =   -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=2  -DHAVE_BUILD_INFO -D__STDC_FORMAT_MACROS\r\n  CXX           = /usr/bin/ccache g++ -std=c++11\r\n  CXXFLAGS      =   -Wstack-protector -fstack-protector-all   -g -O2 -Wall -Wextra -Wformat -Wvla -Wformat-security -Wno-unused-parameter -Wno-implicit-fallthrough\r\n  LDFLAGS       = -pthread  -Wl,-z,relro -Wl,-z,now -pie  \r\n  ARFLAGS       = cr\r\n```\r\n\r\nThe reason is that some flags we set will be missing or have whitespace themselves.\r\n\r\nHere is a reasonable way to fix that problem in a way that is /bin/sh compatible and doesn't use any non-Posix features: https://github.com/eklitzke/bitcoin/commit/fd35edc6e78eee2c2f9a6bca9409b3808affd726 . It technically doesn't handle whitespace within parameters correctly, but I don't think autoconf/automake does anyway. Unfortunately variable indirection in /bin/sh requires eval so you need to specify the flag name and its value separately. With that change the output looks like this:\r\n\r\n```\r\n  CC            = /usr/bin/ccache gcc\r\n  CFLAGS        = -g -O2\r\n  CPPFLAGS      = -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=2 -DHAVE_BUILD_INFO -D__STDC_FORMAT_MACROS\r\n  CXX           = /usr/bin/ccache g++ -std=c++11\r\n  CXXFLAGS      = -Wstack-protector -fstack-protector-all -g -O2 -Wall -Wextra -Wformat -Wvla -Wformat-security -Wno-unused-parameter -Wno-implicit-fallthrough\r\n  LDFLAGS       = -pthread -Wl,-z,relro -Wl,-z,now -pie\r\n  ARFLAGS       = cr\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376388592/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377032058",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-377032058",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 377032058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzAzMjA1OA==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-28T20:51:19Z",
    "updated_at": "2018-03-28T20:51:19Z",
    "author_association": "MEMBER",
    "body": "I think switching to AX_APPEND_FLAG / AX_APPEND_COMPILE_FLAGS takes care of the whitespace problem more elegantly?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377032058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377077197",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-377077197",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 377077197,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzA3NzE5Nw==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T00:00:04Z",
    "updated_at": "2018-03-29T00:00:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "That's a good point, AX_APPEND_FLAG does in fact do the right thing wrt whitespace and feels a lot less hacky. We can let the output be a little untidy for now, I've got a 12 hour flight coming up in a few days and I might try to see if I can get AX_APPEND_FLAG and AX_APPEND_COMPILE_FLAGS working then.\r\n\r\nThanks for your patience reviewing this!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377077197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377317666",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-377317666",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 377317666,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzMxNzY2Ng==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T17:49:47Z",
    "updated_at": "2018-03-29T17:49:47Z",
    "author_association": "MEMBER",
    "body": "No problem, thanks for sticking with it!\r\n\r\nThe flags change sounds like the perfect thing to fill some idle flight time :)\r\n\r\nThough, I think AX_APPEND_FLAG alone is probably enough. configure.ac is already so cryptic, it's helpful for self-documentation to explicitly use CXXFLAGS rather than having it implied.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377317666/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377383848",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-377383848",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 377383848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzM4Mzg0OA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T21:52:28Z",
    "updated_at": "2018-03-29T21:52:28Z",
    "author_association": "MEMBER",
    "body": "utACK - needs rebase though (probably due to your own commit, 6feb46c :).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377383848/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/381906487",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#issuecomment-381906487",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12695",
    "id": 381906487,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTkwNjQ4Nw==",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?u=a0e0040aacd7d4f0787481e8ac30b494fa429e11&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-17T08:52:50Z",
    "updated_at": "2018-04-17T08:52:50Z",
    "author_association": "MEMBER",
    "body": "Rebased in #13005.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/381906487/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175902247",
    "pull_request_review_id": 105511389,
    "id": 175902247,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NTkwMjI0Nw==",
    "diff_hunk": "@@ -592,12 +607,15 @@ if test x$use_hardening != xno; then\n   AX_CHECK_COMPILE_FLAG([-Wstack-protector],[HARDENED_CXXFLAGS=\"$HARDENED_CXXFLAGS -Wstack-protector\"])\n   AX_CHECK_COMPILE_FLAG([-fstack-protector-all],[HARDENED_CXXFLAGS=\"$HARDENED_CXXFLAGS -fstack-protector-all\"])\n \n-  AX_CHECK_PREPROC_FLAG([-D_FORTIFY_SOURCE=2],[\n-    AX_CHECK_PREPROC_FLAG([-U_FORTIFY_SOURCE],[\n-      HARDENED_CPPFLAGS=\"$HARDENED_CPPFLAGS -U_FORTIFY_SOURCE\"\n+  dnl -D_FORTIFY_SOURCE=1 and 2 incompatible with -O0",
    "path": "configure.ac",
    "position": null,
    "original_position": 47,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "ed6066b055ca5d024738214a16c91be9cad5c54d",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This should be automatically detected where necessary (where it would otherwise be warning) if we turn warnings into errors by passing $CXXFLAG_WERROR as the last argument to AX_CHECK_PREPROC_FLAG.",
    "created_at": "2018-03-20T19:55:35Z",
    "updated_at": "2018-03-28T00:55:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r175902247",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175902247"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r175902247"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175902247/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 610,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175918743",
    "pull_request_review_id": 105531861,
    "id": 175918743,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NTkxODc0Mw==",
    "diff_hunk": "@@ -592,12 +607,15 @@ if test x$use_hardening != xno; then\n   AX_CHECK_COMPILE_FLAG([-Wstack-protector],[HARDENED_CXXFLAGS=\"$HARDENED_CXXFLAGS -Wstack-protector\"])\n   AX_CHECK_COMPILE_FLAG([-fstack-protector-all],[HARDENED_CXXFLAGS=\"$HARDENED_CXXFLAGS -fstack-protector-all\"])\n \n-  AX_CHECK_PREPROC_FLAG([-D_FORTIFY_SOURCE=2],[\n-    AX_CHECK_PREPROC_FLAG([-U_FORTIFY_SOURCE],[\n-      HARDENED_CPPFLAGS=\"$HARDENED_CPPFLAGS -U_FORTIFY_SOURCE\"\n+  dnl -D_FORTIFY_SOURCE=1 and 2 incompatible with -O0",
    "path": "configure.ac",
    "position": null,
    "original_position": 47,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "ed6066b055ca5d024738214a16c91be9cad5c54d",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Clever, good idea.",
    "created_at": "2018-03-20T20:53:41Z",
    "updated_at": "2018-03-28T00:55:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r175918743",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175918743"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r175918743"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175918743/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 610,
    "side": "RIGHT",
    "in_reply_to_id": 175902247
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175944795",
    "pull_request_review_id": 105562263,
    "id": 175944795,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NTk0NDc5NQ==",
    "diff_hunk": "@@ -592,12 +601,16 @@ if test x$use_hardening != xno; then\n   AX_CHECK_COMPILE_FLAG([-Wstack-protector],[HARDENED_CXXFLAGS=\"$HARDENED_CXXFLAGS -Wstack-protector\"])\n   AX_CHECK_COMPILE_FLAG([-fstack-protector-all],[HARDENED_CXXFLAGS=\"$HARDENED_CXXFLAGS -fstack-protector-all\"])\n \n-  AX_CHECK_PREPROC_FLAG([-D_FORTIFY_SOURCE=2],[",
    "path": "configure.ac",
    "position": null,
    "original_position": 39,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "6b94f6f379b18523ae33773bd69d1ebc7d9cc85f",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'd rather not reverse this logic as it now completely depends on -Werror working as intended. If some compiler fails to warn about the redefine, we'd get the wrong behavior here.\r\n\r\nWith the current logic, we always undefine and redefine as long as the options work individually.",
    "created_at": "2018-03-20T22:38:57Z",
    "updated_at": "2018-03-28T00:55:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r175944795",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175944795"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r175944795"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175944795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 595,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175949177",
    "pull_request_review_id": 105567311,
    "id": 175949177,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NTk0OTE3Nw==",
    "diff_hunk": "@@ -592,12 +601,16 @@ if test x$use_hardening != xno; then\n   AX_CHECK_COMPILE_FLAG([-Wstack-protector],[HARDENED_CXXFLAGS=\"$HARDENED_CXXFLAGS -Wstack-protector\"])\n   AX_CHECK_COMPILE_FLAG([-fstack-protector-all],[HARDENED_CXXFLAGS=\"$HARDENED_CXXFLAGS -fstack-protector-all\"])\n \n-  AX_CHECK_PREPROC_FLAG([-D_FORTIFY_SOURCE=2],[",
    "path": "configure.ac",
    "position": null,
    "original_position": 39,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "6b94f6f379b18523ae33773bd69d1ebc7d9cc85f",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "OK, will undo this.",
    "created_at": "2018-03-20T23:01:52Z",
    "updated_at": "2018-03-28T00:55:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r175949177",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175949177"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r175949177"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175949177/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 595,
    "side": "LEFT",
    "in_reply_to_id": 175944795
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176421152",
    "pull_request_review_id": 106118496,
    "id": 176421152,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjQyMTE1Mg==",
    "diff_hunk": "@@ -1370,9 +1380,9 @@ echo \"  build os      = $BUILD_OS\"\n echo\n echo \"  CC            = $CC\"\n echo \"  CFLAGS        = $CFLAGS\"\n-echo \"  CPPFLAGS      = $CPPFLAGS\"\n+echo \"  CPPFLAGS      = $CPPFLAGS $DEBUG_CPPFLAGS $HARDENED_CPPFLAGS\"\n echo \"  CXX           = $CXX\"\n-echo \"  CXXFLAGS      = $CXXFLAGS\"\n-echo \"  LDFLAGS       = $LDFLAGS\"\n+echo \"  CXXFLAGS      = $CXXFLAGS $DEBUG_CXXFLAGS $HARDENED_CXXFLAGS\"",
    "path": "configure.ac",
    "position": null,
    "original_position": 49,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "b0860d8e82041786b3424851b42a8b8c5bc143e8",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should this line include $(ERROR_CXXFLAGS) and $(GPROF_CXXFLAGS) as well? Maybe this section of `configure.ac` should include comments to stay in sync with the AM_CXXFLAGS and AM_LDFLAGS lines from `Makefile.am`. \r\n\r\nCould also consider combining the flags into a variable that is used both places.",
    "created_at": "2018-03-22T13:37:02Z",
    "updated_at": "2018-03-28T00:55:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r176421152",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176421152"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r176421152"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176421152/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1385,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176427513",
    "pull_request_review_id": 106118496,
    "id": 176427513,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjQyNzUxMw==",
    "diff_hunk": "@@ -237,14 +237,22 @@ AC_LANG_PUSH([C++])\n AX_CHECK_COMPILE_FLAG([-Werror],[CXXFLAG_WERROR=\"-Werror\"],[CXXFLAG_WERROR=\"\"])\n \n if test \"x$enable_debug\" = xyes; then\n-    CPPFLAGS=\"$CPPFLAGS -DDEBUG -DDEBUG_LOCKORDER\"\n-    if test \"x$GCC\" = xyes; then\n-        CFLAGS=\"$CFLAGS -g3 -O0\"\n-    fi\n-\n-    if test \"x$GXX\" = xyes; then\n-        CXXFLAGS=\"$CXXFLAGS -g3 -O0\"\n-    fi\n+  # Prefer -Og, fall back to -O0 if that is unavailable.",
    "path": "configure.ac",
    "position": 12,
    "original_position": 12,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "b0860d8e82041786b3424851b42a8b8c5bc143e8",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe move this `enable_debug` section up two lines up, above the CXXFLAG_WERROR line. I realise you didn't add this section here, but it is rewritten now, and seems out of place in the middle of the checks for compiler warning flags.",
    "created_at": "2018-03-22T13:55:33Z",
    "updated_at": "2018-03-28T00:55:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r176427513",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176427513"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r176427513"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176427513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 240,
    "original_line": 240,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176428273",
    "pull_request_review_id": 106118496,
    "id": 176428273,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjQyODI3Mw==",
    "diff_hunk": "@@ -237,14 +237,22 @@ AC_LANG_PUSH([C++])\n AX_CHECK_COMPILE_FLAG([-Werror],[CXXFLAG_WERROR=\"-Werror\"],[CXXFLAG_WERROR=\"\"])\n \n if test \"x$enable_debug\" = xyes; then\n-    CPPFLAGS=\"$CPPFLAGS -DDEBUG -DDEBUG_LOCKORDER\"\n-    if test \"x$GCC\" = xyes; then\n-        CFLAGS=\"$CFLAGS -g3 -O0\"\n-    fi\n-\n-    if test \"x$GXX\" = xyes; then\n-        CXXFLAGS=\"$CXXFLAGS -g3 -O0\"\n-    fi\n+  # Prefer -Og, fall back to -O0 if that is unavailable.\n+  AX_CHECK_COMPILE_FLAG(\n+    [-Og],\n+    [[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -Og\"]],\n+    [AX_CHECK_COMPILE_FLAG([-O0],[[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -O0\"]],,[[$CXXFLAG_WERROR]])],",
    "path": "configure.ac",
    "position": 16,
    "original_position": 16,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "b0860d8e82041786b3424851b42a8b8c5bc143e8",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe add a comment here if passing if `$CXXFLAG_WERROR` is intentional, or consider dropping it. It seem like it makes these checks unnecessarily verbose and also fragile.",
    "created_at": "2018-03-22T13:57:46Z",
    "updated_at": "2018-03-28T00:55:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r176428273",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176428273"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r176428273"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176428273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 244,
    "original_line": 244,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176430361",
    "pull_request_review_id": 106118496,
    "id": 176430361,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjQzMDM2MQ==",
    "diff_hunk": "@@ -1370,9 +1380,9 @@ echo \"  build os      = $BUILD_OS\"\n echo\n echo \"  CC            = $CC\"\n echo \"  CFLAGS        = $CFLAGS\"\n-echo \"  CPPFLAGS      = $CPPFLAGS\"\n+echo \"  CPPFLAGS      = $CPPFLAGS $DEBUG_CPPFLAGS $HARDENED_CPPFLAGS\"",
    "path": "configure.ac",
    "position": null,
    "original_position": 45,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "b0860d8e82041786b3424851b42a8b8c5bc143e8",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "CPPFLAGS and CXXFLAGS should probably be printed after the other flags instead of before, since they will override them.",
    "created_at": "2018-03-22T14:03:14Z",
    "updated_at": "2018-03-28T00:55:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r176430361",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176430361"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r176430361"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176430361/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1383,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176511135",
    "pull_request_review_id": 106228689,
    "id": 176511135,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjUxMTEzNQ==",
    "diff_hunk": "@@ -237,14 +237,22 @@ AC_LANG_PUSH([C++])\n AX_CHECK_COMPILE_FLAG([-Werror],[CXXFLAG_WERROR=\"-Werror\"],[CXXFLAG_WERROR=\"\"])\n \n if test \"x$enable_debug\" = xyes; then\n-    CPPFLAGS=\"$CPPFLAGS -DDEBUG -DDEBUG_LOCKORDER\"\n-    if test \"x$GCC\" = xyes; then\n-        CFLAGS=\"$CFLAGS -g3 -O0\"\n-    fi\n-\n-    if test \"x$GXX\" = xyes; then\n-        CXXFLAGS=\"$CXXFLAGS -g3 -O0\"\n-    fi\n+  # Prefer -Og, fall back to -O0 if that is unavailable.\n+  AX_CHECK_COMPILE_FLAG(\n+    [-Og],\n+    [[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -Og\"]],\n+    [AX_CHECK_COMPILE_FLAG([-O0],[[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -O0\"]],,[[$CXXFLAG_WERROR]])],",
    "path": "configure.ac",
    "position": 16,
    "original_position": 16,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "b0860d8e82041786b3424851b42a8b8c5bc143e8",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It's passed on purpose to turn -D_FORTIFY re-definition warnings into errors.",
    "created_at": "2018-03-22T17:42:04Z",
    "updated_at": "2018-03-28T00:55:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r176511135",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176511135"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r176511135"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176511135/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 244,
    "original_line": 244,
    "side": "RIGHT",
    "in_reply_to_id": 176428273
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176511901",
    "pull_request_review_id": 106229547,
    "id": 176511901,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjUxMTkwMQ==",
    "diff_hunk": "@@ -1370,9 +1380,9 @@ echo \"  build os      = $BUILD_OS\"\n echo\n echo \"  CC            = $CC\"\n echo \"  CFLAGS        = $CFLAGS\"\n-echo \"  CPPFLAGS      = $CPPFLAGS\"\n+echo \"  CPPFLAGS      = $CPPFLAGS $DEBUG_CPPFLAGS $HARDENED_CPPFLAGS\"\n echo \"  CXX           = $CXX\"\n-echo \"  CXXFLAGS      = $CXXFLAGS\"\n-echo \"  LDFLAGS       = $LDFLAGS\"\n+echo \"  CXXFLAGS      = $CXXFLAGS $DEBUG_CXXFLAGS $HARDENED_CXXFLAGS\"",
    "path": "configure.ac",
    "position": null,
    "original_position": 49,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "b0860d8e82041786b3424851b42a8b8c5bc143e8",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Agreed. I haven't complained about this becoming stale because it seemed inevitable that it would be non-exact due to the per-object and per-library flags. But keeping it in sync with AM_*FLAGS makes sense.",
    "created_at": "2018-03-22T17:44:10Z",
    "updated_at": "2018-03-28T00:55:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r176511901",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176511901"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r176511901"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176511901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1385,
    "side": "RIGHT",
    "in_reply_to_id": 176421152
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176512723",
    "pull_request_review_id": 106230418,
    "id": 176512723,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjUxMjcyMw==",
    "diff_hunk": "@@ -237,14 +237,22 @@ AC_LANG_PUSH([C++])\n AX_CHECK_COMPILE_FLAG([-Werror],[CXXFLAG_WERROR=\"-Werror\"],[CXXFLAG_WERROR=\"\"])\n \n if test \"x$enable_debug\" = xyes; then\n-    CPPFLAGS=\"$CPPFLAGS -DDEBUG -DDEBUG_LOCKORDER\"\n-    if test \"x$GCC\" = xyes; then\n-        CFLAGS=\"$CFLAGS -g3 -O0\"\n-    fi\n-\n-    if test \"x$GXX\" = xyes; then\n-        CXXFLAGS=\"$CXXFLAGS -g3 -O0\"\n-    fi\n+  # Prefer -Og, fall back to -O0 if that is unavailable.",
    "path": "configure.ac",
    "position": 12,
    "original_position": 12,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "b0860d8e82041786b3424851b42a8b8c5bc143e8",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "enable_debug uses CXXFLAG_WERROR, so it needs to be below the definition.",
    "created_at": "2018-03-22T17:46:15Z",
    "updated_at": "2018-03-28T00:55:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r176512723",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176512723"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r176512723"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176512723/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 240,
    "original_line": 240,
    "side": "RIGHT",
    "in_reply_to_id": 176427513
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177296716",
    "pull_request_review_id": 107140645,
    "id": 177296716,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NzI5NjcxNg==",
    "diff_hunk": "@@ -1370,9 +1380,9 @@ echo \"  build os      = $BUILD_OS\"\n echo\n echo \"  CC            = $CC\"\n echo \"  CFLAGS        = $CFLAGS\"\n-echo \"  CPPFLAGS      = $CPPFLAGS\"\n+echo \"  CPPFLAGS      = $CPPFLAGS $DEBUG_CPPFLAGS $HARDENED_CPPFLAGS\"\n echo \"  CXX           = $CXX\"\n-echo \"  CXXFLAGS      = $CXXFLAGS\"\n-echo \"  LDFLAGS       = $LDFLAGS\"\n+echo \"  CXXFLAGS      = $CXXFLAGS $DEBUG_CXXFLAGS $HARDENED_CXXFLAGS\"",
    "path": "configure.ac",
    "position": null,
    "original_position": 49,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "b0860d8e82041786b3424851b42a8b8c5bc143e8",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Updated. What about something like:\r\n\r\n```bash\r\nDEFAULT_AM_CXXFLAGS=\"$CXXFLAGS $DEBUG_CXXFLAGS etc...\"\r\nAC_SUBST(DEFAULT_AM_CXXFLAGS)\r\n# and likewise for the other vars\r\n```\r\n\r\nThen the configure script could print that variable, and it could be re-used in src/Makefile.am. Seems like it would be less likely to get out of sync that wya.\r\n",
    "created_at": "2018-03-27T03:19:43Z",
    "updated_at": "2018-03-28T00:55:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r177296716",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177296716"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r177296716"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177296716/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1385,
    "side": "RIGHT",
    "in_reply_to_id": 176421152
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177296784",
    "pull_request_review_id": 107140719,
    "id": 177296784,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NzI5Njc4NA==",
    "diff_hunk": "@@ -1370,9 +1380,9 @@ echo \"  build os      = $BUILD_OS\"\n echo\n echo \"  CC            = $CC\"\n echo \"  CFLAGS        = $CFLAGS\"\n-echo \"  CPPFLAGS      = $CPPFLAGS\"\n+echo \"  CPPFLAGS      = $CPPFLAGS $DEBUG_CPPFLAGS $HARDENED_CPPFLAGS\"",
    "path": "configure.ac",
    "position": null,
    "original_position": 45,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "b0860d8e82041786b3424851b42a8b8c5bc143e8",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "updated",
    "created_at": "2018-03-27T03:20:27Z",
    "updated_at": "2018-03-28T00:55:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r177296784",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177296784"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r177296784"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177296784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1383,
    "side": "RIGHT",
    "in_reply_to_id": 176430361
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178133926",
    "pull_request_review_id": 108144385,
    "id": 178133926,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3ODEzMzkyNg==",
    "diff_hunk": "@@ -237,14 +237,22 @@ AC_LANG_PUSH([C++])\n AX_CHECK_COMPILE_FLAG([-Werror],[CXXFLAG_WERROR=\"-Werror\"],[CXXFLAG_WERROR=\"\"])\n \n if test \"x$enable_debug\" = xyes; then\n-    CPPFLAGS=\"$CPPFLAGS -DDEBUG -DDEBUG_LOCKORDER\"\n-    if test \"x$GCC\" = xyes; then\n-        CFLAGS=\"$CFLAGS -g3 -O0\"\n-    fi\n-\n-    if test \"x$GXX\" = xyes; then\n-        CXXFLAGS=\"$CXXFLAGS -g3 -O0\"\n-    fi\n+  # Prefer -Og, fall back to -O0 if that is unavailable.\n+  AX_CHECK_COMPILE_FLAG(\n+    [-Og],\n+    [[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -Og\"]],\n+    [AX_CHECK_COMPILE_FLAG([-O0],[[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -O0\"]],,[[$CXXFLAG_WERROR]])],\n+    [[$CXXFLAG_WERROR]])\n+\n+  # Prefer -g3, fall back to -g if that is unavailable.",
    "path": "configure.ac",
    "position": 19,
    "original_position": 19,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I wonder if it should prefer `-ggdb` first...",
    "created_at": "2018-03-29T17:52:15Z",
    "updated_at": "2018-03-29T17:52:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r178133926",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178133926"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r178133926"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178133926/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 247,
    "original_line": 247,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178134425",
    "pull_request_review_id": 108145004,
    "id": 178134425,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3ODEzNDQyNQ==",
    "diff_hunk": "@@ -237,14 +237,22 @@ AC_LANG_PUSH([C++])\n AX_CHECK_COMPILE_FLAG([-Werror],[CXXFLAG_WERROR=\"-Werror\"],[CXXFLAG_WERROR=\"\"])\n \n if test \"x$enable_debug\" = xyes; then\n-    CPPFLAGS=\"$CPPFLAGS -DDEBUG -DDEBUG_LOCKORDER\"\n-    if test \"x$GCC\" = xyes; then\n-        CFLAGS=\"$CFLAGS -g3 -O0\"\n-    fi\n-\n-    if test \"x$GXX\" = xyes; then\n-        CXXFLAGS=\"$CXXFLAGS -g3 -O0\"\n-    fi\n+  # Prefer -Og, fall back to -O0 if that is unavailable.\n+  AX_CHECK_COMPILE_FLAG(\n+    [-Og],\n+    [[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -Og\"]],\n+    [AX_CHECK_COMPILE_FLAG([-O0],[[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -O0\"]],,[[$CXXFLAG_WERROR]])],",
    "path": "configure.ac",
    "position": 16,
    "original_position": 16,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "b0860d8e82041786b3424851b42a8b8c5bc143e8",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why would we want an error in that case?",
    "created_at": "2018-03-29T17:54:01Z",
    "updated_at": "2018-03-29T17:54:01Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r178134425",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178134425"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r178134425"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178134425/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 244,
    "original_line": 244,
    "side": "RIGHT",
    "in_reply_to_id": 176428273
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178170982",
    "pull_request_review_id": 108190894,
    "id": 178170982,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3ODE3MDk4Mg==",
    "diff_hunk": "@@ -237,14 +237,22 @@ AC_LANG_PUSH([C++])\n AX_CHECK_COMPILE_FLAG([-Werror],[CXXFLAG_WERROR=\"-Werror\"],[CXXFLAG_WERROR=\"\"])\n \n if test \"x$enable_debug\" = xyes; then\n-    CPPFLAGS=\"$CPPFLAGS -DDEBUG -DDEBUG_LOCKORDER\"\n-    if test \"x$GCC\" = xyes; then\n-        CFLAGS=\"$CFLAGS -g3 -O0\"\n-    fi\n-\n-    if test \"x$GXX\" = xyes; then\n-        CXXFLAGS=\"$CXXFLAGS -g3 -O0\"\n-    fi\n+  # Prefer -Og, fall back to -O0 if that is unavailable.\n+  AX_CHECK_COMPILE_FLAG(\n+    [-Og],\n+    [[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -Og\"]],\n+    [AX_CHECK_COMPILE_FLAG([-O0],[[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -O0\"]],,[[$CXXFLAG_WERROR]])],",
    "path": "configure.ac",
    "position": 16,
    "original_position": 16,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "b0860d8e82041786b3424851b42a8b8c5bc143e8",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@luke-jr Sorry, that was the explanation for a different change.\r\n\r\n-D_FORTIFY has incompatibilities with -O0, and many toolchains forcibly set _FORTIFY. Newer glibc versions spew a warning in that case, which we want to catch here because it means that -O0 is unusable without unsetting _FORTIFY.\r\n\r\nOf course, there's the case to be made that --enable-debug and --enable-harden should be mutually exclusive, but as long as this is the only snag, I don't see the need to go that far.",
    "created_at": "2018-03-29T20:22:03Z",
    "updated_at": "2018-03-29T20:22:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r178170982",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178170982"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r178170982"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178170982/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 244,
    "original_line": 244,
    "side": "RIGHT",
    "in_reply_to_id": 176428273
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178171778",
    "pull_request_review_id": 108191917,
    "id": 178171778,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3ODE3MTc3OA==",
    "diff_hunk": "@@ -237,14 +237,22 @@ AC_LANG_PUSH([C++])\n AX_CHECK_COMPILE_FLAG([-Werror],[CXXFLAG_WERROR=\"-Werror\"],[CXXFLAG_WERROR=\"\"])\n \n if test \"x$enable_debug\" = xyes; then\n-    CPPFLAGS=\"$CPPFLAGS -DDEBUG -DDEBUG_LOCKORDER\"\n-    if test \"x$GCC\" = xyes; then\n-        CFLAGS=\"$CFLAGS -g3 -O0\"\n-    fi\n-\n-    if test \"x$GXX\" = xyes; then\n-        CXXFLAGS=\"$CXXFLAGS -g3 -O0\"\n-    fi\n+  # Prefer -Og, fall back to -O0 if that is unavailable.\n+  AX_CHECK_COMPILE_FLAG(\n+    [-Og],\n+    [[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -Og\"]],\n+    [AX_CHECK_COMPILE_FLAG([-O0],[[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -O0\"]],,[[$CXXFLAG_WERROR]])],\n+    [[$CXXFLAG_WERROR]])\n+\n+  # Prefer -g3, fall back to -g if that is unavailable.",
    "path": "configure.ac",
    "position": 19,
    "original_position": 19,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why not -glldb ? :)\r\n\r\nSince we can't anticipate, I think generic makes the most sense.\r\n",
    "created_at": "2018-03-29T20:25:12Z",
    "updated_at": "2018-03-29T20:25:12Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r178171778",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178171778"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r178171778"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178171778/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 247,
    "original_line": 247,
    "side": "RIGHT",
    "in_reply_to_id": 178133926
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178191604",
    "pull_request_review_id": 108216544,
    "id": 178191604,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3ODE5MTYwNA==",
    "diff_hunk": "@@ -237,14 +237,22 @@ AC_LANG_PUSH([C++])\n AX_CHECK_COMPILE_FLAG([-Werror],[CXXFLAG_WERROR=\"-Werror\"],[CXXFLAG_WERROR=\"\"])\n \n if test \"x$enable_debug\" = xyes; then\n-    CPPFLAGS=\"$CPPFLAGS -DDEBUG -DDEBUG_LOCKORDER\"\n-    if test \"x$GCC\" = xyes; then\n-        CFLAGS=\"$CFLAGS -g3 -O0\"\n-    fi\n-\n-    if test \"x$GXX\" = xyes; then\n-        CXXFLAGS=\"$CXXFLAGS -g3 -O0\"\n-    fi\n+  # Prefer -Og, fall back to -O0 if that is unavailable.\n+  AX_CHECK_COMPILE_FLAG(\n+    [-Og],\n+    [[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -Og\"]],\n+    [AX_CHECK_COMPILE_FLAG([-O0],[[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -O0\"]],,[[$CXXFLAG_WERROR]])],\n+    [[$CXXFLAG_WERROR]])\n+\n+  # Prefer -g3, fall back to -g if that is unavailable.",
    "path": "configure.ac",
    "position": 19,
    "original_position": 19,
    "commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "original_commit_id": "94189645e67f364c4445d62e2b00c282d885cbbf",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Right, that kind of option makes more sense to pass in manually if you need it.",
    "created_at": "2018-03-29T21:53:19Z",
    "updated_at": "2018-03-29T21:53:19Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r178191604",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178191604"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12695#discussion_r178191604"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12695"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178191604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 247,
    "original_line": 247,
    "side": "RIGHT",
    "in_reply_to_id": 178133926
  }
]