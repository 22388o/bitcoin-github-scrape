[
  {
    "sha": "d2ce6d39f6e8a84f6337f7ed4a7bf5832ace48f9",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkMmNlNmQzOWY2ZThhODRmNjMzN2Y3ZWQ0YTdiZjU4MzJhY2U0OGY5",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-08-22T11:35:26Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-08-26T07:23:45Z"
      },
      "message": "Fix maxuploadtarget recommended minimum calculation",
      "tree": {
        "sha": "0f5a77c72af353c9de39fed8fa925d583d88f2b9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0f5a77c72af353c9de39fed8fa925d583d88f2b9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d2ce6d39f6e8a84f6337f7ed4a7bf5832ace48f9",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJXv+6CAAoJECnUvLZBb1PsHtQQALwqBjG3lAW9LJ3EUy6850bi\nrbBzhiqkJK/td+/jvT6bqy34iUF+Z4Le8nsSYZODoCTRoRxbQbrWP19fSq2RyOO9\niNPC0PEZWbpEOuHTty8jOKPppmPn/gl2T2mnlD15F/xrEnzPCfqZOO4ygqjGSbXk\n1ObH54IoDFo7tjwAfZZwUpSS4UBraEib4uO1/2IhCHL3hUccxEfucLoJG5Plf+W+\niZlgB6+7HjmYl7KgYw8if9oFSlAgI2XyU24fOpCuL9HKe+Hb7wETDrAjg4SwSYUX\neIshtcDkpnQUAg3K4Z6MJPFcJIRTSWrk+qDTs0AcCIhZEYTrPOrqZVGjDwISKv1k\nVPqnQXiC5hza+cE242AJGvW6tyS+cLoZEUHRxWJq3/XvpyeiyNiiZZr6wCMVAK4k\nez8ofd+b7EMvAHg/ouP6w++/JA/NgyKbyh+U/L8nc/0PJYRLgTWESUh8sHTTWPph\nzxoxEOYpEg0uizeZ4TY8bvDkFTIE2B9NSiDNAax7OgA6lcV8Ny1glFH96ranE1o9\na59m26mo4EZ/utobSQ5wgEJkQei80UIUceG/HRUs/ju2+6CVAMF4PTsRsRpccD4w\nJb/n3u6EEiRxOH7Tv0Se/aAenTDPwuaE7nrLxxNYa/15hHfgMXe5TigdttjVy5xN\nQRLNopZzQuHqscfU28vd\n=AlWe\n-----END PGP SIGNATURE-----",
        "payload": "tree 0f5a77c72af353c9de39fed8fa925d583d88f2b9\nparent 37e77c106cb5bcd4f40c1a837246767943a9a549\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1471865726 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1472196225 +0200\n\nFix maxuploadtarget recommended minimum calculation\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d2ce6d39f6e8a84f6337f7ed4a7bf5832ace48f9",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d2ce6d39f6e8a84f6337f7ed4a7bf5832ace48f9",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d2ce6d39f6e8a84f6337f7ed4a7bf5832ace48f9/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "37e77c106cb5bcd4f40c1a837246767943a9a549",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/37e77c106cb5bcd4f40c1a837246767943a9a549",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/37e77c106cb5bcd4f40c1a837246767943a9a549"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 5,
      "deletions": 4
    },
    "files": [
      {
        "sha": "e9afe35b0181564f940798d08e955d3708e00ff7",
        "filename": "doc/reduce-traffic.md",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d2ce6d39f6e8a84f6337f7ed4a7bf5832ace48f9/doc/reduce-traffic.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d2ce6d39f6e8a84f6337f7ed4a7bf5832ace48f9/doc/reduce-traffic.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/reduce-traffic.md?ref=d2ce6d39f6e8a84f6337f7ed4a7bf5832ace48f9",
        "patch": "@@ -19,8 +19,8 @@ This is *not* a hard limit; only a threshold to minimize the outbound\n traffic. When the limit is about to be reached, the uploaded data is cut by no\n longer serving historic blocks (blocks older than one week).\n Keep in mind that new nodes require other nodes that are willing to serve\n-historic blocks. **The recommended minimum is 144 blocks per day (max. 144MB\n-per day)**\n+historic blocks.\n+**The current recommended minimum is 288MiB, assuming an average serialized block size of 2MB.**\n \n Whitelisted peers will never be disconnected, although their traffic counts for\n calculating the target."
      },
      {
        "sha": "4e1f3ee94e01ecd23e4ca87ed30e844e29193f10",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d2ce6d39f6e8a84f6337f7ed4a7bf5832ace48f9/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d2ce6d39f6e8a84f6337f7ed4a7bf5832ace48f9/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=d2ce6d39f6e8a84f6337f7ed4a7bf5832ace48f9",
        "patch": "@@ -2193,11 +2193,12 @@ void CNode::RecordBytesSent(uint64_t bytes)\n void CNode::SetMaxOutboundTarget(uint64_t limit)\n {\n     LOCK(cs_totalBytesSent);\n-    uint64_t recommendedMinimum = (nMaxOutboundTimeframe / 600) * MAX_BLOCK_SERIALIZED_SIZE;\n+    // assume the average size of serialized blocks is half the maximum\n+    uint64_t recommendedMinimum = (nMaxOutboundTimeframe / 600) * MAX_BLOCK_SERIALIZED_SIZE / 2;\n     nMaxOutboundLimit = limit;\n \n     if (limit > 0 && limit < recommendedMinimum)\n-        LogPrintf(\"Max outbound target is very small (%s bytes) and will be overshot. Recommended minimum is %s bytes.\\n\", nMaxOutboundLimit, recommendedMinimum);\n+        LogPrintf(\"Max outbound target is very small (%s MiB) and will be overshot. Recommended minimum is %s MiB.\\n\", nMaxOutboundLimit/1024.0/1024.0, recommendedMinimum/1024.0/1024.0);\n }\n \n uint64_t CNode::GetMaxOutboundTarget()"
      }
    ]
  }
]