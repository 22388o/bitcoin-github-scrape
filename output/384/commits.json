[
  {
    "sha": "3f0950ea019ad43c2a8fc79c2aa61845003bd4dc",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozZjA5NTBlYTAxOWFkNDNjMmE4ZmM3OWMyYWE2MTg0NTAwM2JkNGRj",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2011-07-05T16:19:34Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2011-07-05T16:19:34Z"
      },
      "message": "Revert \"Make UPnP default on Bitcoin but not on Bitcoind.\"\n\nThis reverts commit ee1f884229736da6f5443157ccba97f4e8f50f82.\n\nStupid, stupid me...there is exactly 0 way to convince make to\nexecute a conditional based on a target-specific variable.",
      "tree": {
        "sha": "1a89168de277b50121eef8c06f43e46999447ff7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1a89168de277b50121eef8c06f43e46999447ff7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3f0950ea019ad43c2a8fc79c2aa61845003bd4dc",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3f0950ea019ad43c2a8fc79c2aa61845003bd4dc",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3f0950ea019ad43c2a8fc79c2aa61845003bd4dc",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3f0950ea019ad43c2a8fc79c2aa61845003bd4dc/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "9390431ce49893cbdf23846edb4bdf72b3d4e830",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9390431ce49893cbdf23846edb4bdf72b3d4e830",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/9390431ce49893cbdf23846edb4bdf72b3d4e830"
      }
    ],
    "stats": {
      "total": 58,
      "additions": 20,
      "deletions": 38
    },
    "files": [
      {
        "sha": "507833be48a219eb91fea86a58d9e14ab1c7c3dc",
        "filename": "src/makefile.mingw",
        "status": "modified",
        "additions": 8,
        "deletions": 16,
        "changes": 24,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3f0950ea019ad43c2a8fc79c2aa61845003bd4dc/src/makefile.mingw",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3f0950ea019ad43c2a8fc79c2aa61845003bd4dc/src/makefile.mingw",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.mingw?ref=3f0950ea019ad43c2a8fc79c2aa61845003bd4dc",
        "patch": "@@ -2,6 +2,8 @@\n # Distributed under the MIT/X11 software license, see the accompanying\n # file license.txt or http://www.opensource.org/licenses/mit-license.php.\n \n+USE_UPNP:=0\n+\n INCLUDEPATHS= \\\n  -I\"C:\\boost-1.43.0-mgw\" \\\n  -I\"C:\\db-4.7.25.NC-mgw\\build_unix\" \\\n@@ -33,22 +35,12 @@ CFLAGS=-mthreads -O2 -w -Wno-invalid-offsetof -Wformat $(DEBUGFLAGS) $(DEFS) $(I\n HEADERS=headers.h strlcpy.h serialize.h uint256.h util.h key.h bignum.h base58.h \\\n     script.h db.h net.h irc.h keystore.h main.h wallet.h rpc.h uibase.h ui.h noui.h init.h\n \n-\n-bitcoin.exe: USE_UPNP:=1\n-\tifdef USE_UPNP\n-\t\tINCLUDEPATHS += -I\"C:\\upnpc-exe-win32-20110215\"\n-\t\tLIBPATHS += -L\"C:\\upnpc-exe-win32-20110215\"\n-\t\tLIBS += -l miniupnpc -l iphlpapi\n-\t\tDEFS += -DSTATICLIB -DUSE_UPNP=$(USE_UPNP)\n-\tendif\n-\n-bitcoind.exe: USE_UPNP:=0\n-\tifdef USE_UPNP\n-\t\tINCLUDEPATHS += -I\"C:\\upnpc-exe-win32-20110215\"\n-\t\tLIBPATHS += -L\"C:\\upnpc-exe-win32-20110215\"\n-\t\tLIBS += -l miniupnpc -l iphlpapi\n-\t\tDEFS += -DSTATICLIB -DUSE_UPNP=$(USE_UPNP)\n-\tendif\n+ifdef USE_UPNP\n+ INCLUDEPATHS += -I\"C:\\upnpc-exe-win32-20110215\"\n+ LIBPATHS += -L\"C:\\upnpc-exe-win32-20110215\"\n+ LIBS += -l miniupnpc -l iphlpapi\n+ DEFS += -DSTATICLIB -DUSE_UPNP=$(USE_UPNP)\n+endif\n \n LIBS += -l kernel32 -l user32 -l gdi32 -l comdlg32 -l winspool -l winmm -l shell32 -l comctl32 -l ole32 -l oleaut32 -l uuid -l rpcrt4 -l advapi32 -l ws2_32 -l shlwapi\n "
      },
      {
        "sha": "784596b72d422c183b4368e79f9c3131f0a884d3",
        "filename": "src/makefile.osx",
        "status": "modified",
        "additions": 6,
        "deletions": 11,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3f0950ea019ad43c2a8fc79c2aa61845003bd4dc/src/makefile.osx",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3f0950ea019ad43c2a8fc79c2aa61845003bd4dc/src/makefile.osx",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.osx?ref=3f0950ea019ad43c2a8fc79c2aa61845003bd4dc",
        "patch": "@@ -16,6 +16,8 @@ LIBPATHS= \\\n \n WXLIBS=$(shell $(DEPSDIR)/bin/wx-config --libs --static)\n \n+USE_UPNP:=0\n+\n LIBS= -dead_strip \\\n  $(DEPSDIR)/lib/libdb_cxx-4.8.a \\\n  $(DEPSDIR)/lib/libboost_system.a \\\n@@ -47,17 +49,10 @@ OBJS= \\\n     cryptopp/obj/sha.o \\\n     cryptopp/obj/cpu.o\n \n-bitcoin: USE_UPNP:=1\n-\tifdef USE_UPNP\n-\t\tLIBS += $(DEPSDIR)/lib/libminiupnpc.a\n-\t\tDEFS += -DUSE_UPNP=$(USE_UPNP)\n-\tendif\n-\n-bitcoind: USE_UPNP:=0\n-\tifdef USE_UPNP\n-\t\tLIBS += $(DEPSDIR)/lib/libminiupnpc.a\n-\t\tDEFS += -DUSE_UPNP=$(USE_UPNP)\n-\tendif\n+ifdef USE_UPNP\n+\tLIBS += $(DEPSDIR)/lib/libminiupnpc.a\n+\tDEFS += -DUSE_UPNP=$(USE_UPNP)\n+endif\n \t\n \n all: bitcoin"
      },
      {
        "sha": "bb26bf5edd272cf7254903ef33d0cb443cdc01c1",
        "filename": "src/makefile.unix",
        "status": "modified",
        "additions": 6,
        "deletions": 11,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3f0950ea019ad43c2a8fc79c2aa61845003bd4dc/src/makefile.unix",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3f0950ea019ad43c2a8fc79c2aa61845003bd4dc/src/makefile.unix",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.unix?ref=3f0950ea019ad43c2a8fc79c2aa61845003bd4dc",
        "patch": "@@ -8,6 +8,8 @@ WXINCLUDEPATHS=$(shell wx-config --cxxflags)\n \n WXLIBS=$(shell wx-config --libs)\n \n+USE_UPNP:=0\n+\n DEFS=-DNOPCH -DFOURWAYSSE2 -DUSE_SSL\n \n # for boost 1.37, add -mt to the boost libraries\n@@ -21,17 +23,10 @@ LIBS= \\\n    -l ssl \\\n    -l crypto\n \n-bitcoin: USE_UPNP:=1\n-\tifdef USE_UPNP\n-\t\tLIBS += -l miniupnpc\n-\t\tDEFS += -DUSE_UPNP=$(USE_UPNP)\n-\tendif\n-\n-bitcoind: USE_UPNP:=0\n-\tifdef USE_UPNP\n-\t\tLIBS += -l miniupnpc\n-\t\tDEFS += -DUSE_UPNP=$(USE_UPNP)\n-\tendif\n+ifdef USE_UPNP\n+\tLIBS += -l miniupnpc\n+\tDEFS += -DUSE_UPNP=$(USE_UPNP)\n+endif\n \n LIBS+= \\\n  -Wl,-Bdynamic \\"
      }
    ]
  },
  {
    "sha": "09923991e58e3c7f92cbcf1a7cf89a8bd5304d15",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowOTkyMzk5MWU1OGUzYzdmOTJjYmNmMWE3Y2Y4OWE4YmQ1MzA0ZDE1",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2011-07-05T16:21:35Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2011-07-05T16:21:35Z"
      },
      "message": "Enable UPnP by default on bitcoin, but not on bitcoind (on gitian)\n\nAlso fix a minor type in gitian.yml",
      "tree": {
        "sha": "18a1a0375e7d98ab7ff0bc9ce30c56a98e0ffdaa",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/18a1a0375e7d98ab7ff0bc9ce30c56a98e0ffdaa"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/09923991e58e3c7f92cbcf1a7cf89a8bd5304d15",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/09923991e58e3c7f92cbcf1a7cf89a8bd5304d15",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/09923991e58e3c7f92cbcf1a7cf89a8bd5304d15",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/09923991e58e3c7f92cbcf1a7cf89a8bd5304d15/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "3f0950ea019ad43c2a8fc79c2aa61845003bd4dc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3f0950ea019ad43c2a8fc79c2aa61845003bd4dc",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/3f0950ea019ad43c2a8fc79c2aa61845003bd4dc"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 5,
      "deletions": 3
    },
    "files": [
      {
        "sha": "07d31c717e5532e529ea685c97a8ca2520d01e25",
        "filename": "contrib/gitian-win32.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/09923991e58e3c7f92cbcf1a7cf89a8bd5304d15/contrib/gitian-win32.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/09923991e58e3c7f92cbcf1a7cf89a8bd5304d15/contrib/gitian-win32.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-win32.yml?ref=09923991e58e3c7f92cbcf1a7cf89a8bd5304d15",
        "patch": "@@ -74,7 +74,8 @@ script: |\n   cd src\n   sed 's/$(DEBUGFLAGS)//' < makefile.linux-mingw > makefile.linux-mingw.2 && mv makefile.linux-mingw.2 makefile.linux-mingw\n   sed 's|//#include <WSPiApi.h>|#include <WSPiApi.h>|' < net.cpp > net.cpp.2 && mv net.cpp.2 net.cpp\n-  make -f makefile.linux-mingw $MAKEOPTS DEPSDIR=$HOME/build bitcoin.exe bitcoind.exe\n+  make -f makefile.linux-mingw $MAKEOPTS DEPSDIR=$HOME/build bitcoin.exe USE_UPNP=1\n+  make -f makefile.linux-mingw $MAKEOPTS DEPSDIR=$HOME/build bitcoind.exe USE_UPNP=0\n   i586-mingw32msvc-strip bitcoin.exe\n   i586-mingw32msvc-strip bitcoind.exe\n   makensis ../share/setup.nsi"
      },
      {
        "sha": "90be8934faea39519d804636b83e97e26634e1dc",
        "filename": "contrib/gitian.yml",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/09923991e58e3c7f92cbcf1a7cf89a8bd5304d15/contrib/gitian.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/09923991e58e3c7f92cbcf1a7cf89a8bd5304d15/contrib/gitian.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian.yml?ref=09923991e58e3c7f92cbcf1a7cf89a8bd5304d15",
        "patch": "@@ -6,7 +6,7 @@ architectures:\n - \"i386\"\n - \"amd64\"\n packages: \n-- \"libdb4.7++-dev\n+- \"libdb4.7++-dev\"\n - \"libxxf86vm-dev\"\n - \"libgtk2.0-dev\"\n - \"libboost-all-dev\"\n@@ -51,6 +51,7 @@ script: |\n   cp $OUTDIR/src/COPYING $OUTDIR\n   cd src\n   sed 's/$(DEBUGFLAGS)//' < makefile.unix > makefile.unix.2 && mv makefile.unix.2 makefile.unix\n-  PATH=$INSTDIR/bin:$PATH make -f makefile.unix CXX=\"g++ -I$INSTDIR/include -L$INSTDIR/lib\" $MAKEOPTS bitcoin bitcoind\n+  PATH=$INSTDIR/bin:$PATH make -f makefile.unix CXX=\"g++ -I$INSTDIR/include -L$INSTDIR/lib\" $MAKEOPTS bitcoin USE_UPNP=1\n+  PATH=$INSTDIR/bin:$PATH make -f makefile.unix CXX=\"g++ -I$INSTDIR/include -L$INSTDIR/lib\" $MAKEOPTS bitcoind USE_UPNP=0\n   mkdir -p $OUTDIR/bin/$GBUILD_BITS\n   install -s bitcoin bitcoind $OUTDIR/bin/$GBUILD_BITS"
      }
    ]
  }
]