[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23601721",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/2958#issuecomment-23601721",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2958",
    "id": 23601721,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjAxNzIx",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-31T06:47:30Z",
    "updated_at": "2013-08-31T06:47:30Z",
    "author_association": "MEMBER",
    "body": "I'm following the payment request testplan: https://github.com/gavinandresen/QA/blob/master/PaymentRequestTest.md\n\n\"Unsigned payment request\"\n- OK\n\n\"Signed payment request\"\n- OK\n\n\"Signed payment request, multiple addresses\"\n- Overview is correct, sent transactions are correct\n- Strange: no label is added for the second address when doing this. Not sure this is a regression though.\n\n\"PaymentACK message\"\n- OK (paymentack received message displays)\n\n\"Expired payment request\"\n- OK (payment request expired dialog pops up)\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23601721/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23604964",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/2958#issuecomment-23604964",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2958",
    "id": 23604964,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjA0OTY0",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-08-31T11:33:57Z",
    "updated_at": "2013-08-31T11:33:57Z",
    "author_association": "NONE",
    "body": "I didn't try to compile, but you can get a looked-at-the-code ACK. We should merge and improve the rest afterwards.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23604964/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23625014",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/2958#issuecomment-23625014",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/2958",
    "id": 23625014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjI1MDE0",
    "user": {
      "login": "BitcoinPullTester",
      "id": 2110907,
      "node_id": "MDQ6VXNlcjIxMTA5MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BitcoinPullTester",
      "html_url": "https://github.com/BitcoinPullTester",
      "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
      "following_url": "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
      "gists_url": "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
      "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
      "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
      "events_url": "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2013-09-01T13:37:37Z",
    "updated_at": "2013-09-01T13:37:37Z",
    "author_association": "NONE",
    "body": "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/9e8904f6aeb6e98b4781fcf408b0a2bee550051d for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23625014/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099703",
    "pull_request_review_id": null,
    "id": 6099703,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTk3MDM=",
    "diff_hunk": "@@ -97,9 +97,18 @@ void SendCoinsDialog::on_sendButton_clicked()\n         QString amount = BitcoinUnits::formatWithUnit(model->getOptionsModel()->getDisplayUnit(), rcp.amount);\n         if (rcp.authenticatedMerchant.isEmpty())\n         {\n-            QString address = rcp.address;\n-            QString to = GUIUtil::HtmlEscape(rcp.label);\n-            formatted.append(tr(\"<b>%1</b> to %2 (%3)\").arg(amount, to, address));\n+            QString recipientElement = QString(\"<b>%1</b> \").arg(BitcoinUnits::formatWithUnit(BitcoinUnits::BTC, rcp.amount));",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "9e8904f6aeb6e98b4781fcf408b0a2bee550051d",
    "original_commit_id": "fecfa1dffee97d471f86ca45c5639b3f23ff59d9",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This should be changed to dynamic units via `model->getOptionsModel()->getDisplayUnit()`, remember my recent pull :).\n",
    "created_at": "2013-08-31T09:12:01Z",
    "updated_at": "2013-08-31T10:42:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099703",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099703"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099703"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099703/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 100,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099704",
    "pull_request_review_id": null,
    "id": 6099704,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTk3MDQ=",
    "diff_hunk": "@@ -163,6 +165,51 @@ void SendCoinsDialog::on_sendButton_clicked()\n             tr(\"Error: Transaction creation failed!\"),\n             QMessageBox::Ok, QMessageBox::Ok);\n         break;\n+    case WalletModel::Aborted: // User aborted, nothing to do\n+    case WalletModel::OK:\n+    case WalletModel::TransactionCommitFailed:\n+        break;\n+    }\n+\n+    if(prepareStatus.status != WalletModel::OK) {\n+        fNewRecipientAllowed = true;\n+        return;\n+    }\n+\n+    qint64 txFee = currentTransaction.getTransactionFee();\n+    QString questionString = tr(\"Are you sure you want to send?\");\n+    questionString.append(\"<br /><br />%1\");\n+\n+    if(txFee > 0)\n+    {\n+        // append fee string if a fee is required\n+        questionString.append(\"<hr /><span style='color:#aa0000;'>\");\n+        questionString.append(BitcoinUnits::formatWithUnit(BitcoinUnits::BTC, txFee));",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": null,
    "original_position": 85,
    "commit_id": "9e8904f6aeb6e98b4781fcf408b0a2bee550051d",
    "original_commit_id": "fecfa1dffee97d471f86ca45c5639b3f23ff59d9",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Same here `model->getOptionsModel()->getDisplayUnit()`.\n",
    "created_at": "2013-08-31T09:12:49Z",
    "updated_at": "2013-08-31T10:42:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099704",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099704"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099704"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099704/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 187,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099706",
    "pull_request_review_id": null,
    "id": 6099706,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTk3MDY=",
    "diff_hunk": "@@ -163,6 +165,51 @@ void SendCoinsDialog::on_sendButton_clicked()\n             tr(\"Error: Transaction creation failed!\"),\n             QMessageBox::Ok, QMessageBox::Ok);\n         break;\n+    case WalletModel::Aborted: // User aborted, nothing to do\n+    case WalletModel::OK:\n+    case WalletModel::TransactionCommitFailed:\n+        break;\n+    }\n+\n+    if(prepareStatus.status != WalletModel::OK) {\n+        fNewRecipientAllowed = true;\n+        return;\n+    }\n+\n+    qint64 txFee = currentTransaction.getTransactionFee();\n+    QString questionString = tr(\"Are you sure you want to send?\");\n+    questionString.append(\"<br /><br />%1\");\n+\n+    if(txFee > 0)\n+    {\n+        // append fee string if a fee is required\n+        questionString.append(\"<hr /><span style='color:#aa0000;'>\");\n+        questionString.append(BitcoinUnits::formatWithUnit(BitcoinUnits::BTC, txFee));\n+        questionString.append(\"</span> \");\n+        questionString.append(tr(\"added as transaction fee\"));\n+    }\n+    if(txFee > 0 || recipients.count() > 1)\n+    {\n+        // add total amount string if there are more then one recipients or a fee is required\n+        questionString.append(\"<hr />\");\n+        questionString.append(tr(\"Total Amount %1\").arg(BitcoinUnits::formatWithUnit(BitcoinUnits::BTC, currentTransaction.getTotalTransactionAmount()+txFee)));",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": null,
    "original_position": 93,
    "commit_id": "9e8904f6aeb6e98b4781fcf408b0a2bee550051d",
    "original_commit_id": "fecfa1dffee97d471f86ca45c5639b3f23ff59d9",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Same here `model->getOptionsModel()->getDisplayUnit()`.\n",
    "created_at": "2013-08-31T09:13:04Z",
    "updated_at": "2013-08-31T10:42:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099706",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099706"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099706"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099706/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 195,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099709",
    "pull_request_review_id": null,
    "id": 6099709,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTk3MDk=",
    "diff_hunk": "@@ -97,9 +97,18 @@ void SendCoinsDialog::on_sendButton_clicked()\n         QString amount = BitcoinUnits::formatWithUnit(model->getOptionsModel()->getDisplayUnit(), rcp.amount);\n         if (rcp.authenticatedMerchant.isEmpty())\n         {\n-            QString address = rcp.address;\n-            QString to = GUIUtil::HtmlEscape(rcp.label);\n-            formatted.append(tr(\"<b>%1</b> to %2 (%3)\").arg(amount, to, address));\n+            QString recipientElement = QString(\"<b>%1</b> \").arg(BitcoinUnits::formatWithUnit(BitcoinUnits::BTC, rcp.amount));\n+            recipientElement.append(tr(\"to\"));\n+\n+            if(rcp.label.length() > 0)\n+            {\n+                recipientElement.append(QString(\" %1 <span style='font-size:8px;'>%2</span><br />\").arg(GUIUtil::HtmlEscape(rcp.label), rcp.address)); // add address with label",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": 12,
    "original_position": 12,
    "commit_id": "9e8904f6aeb6e98b4781fcf408b0a2bee550051d",
    "original_commit_id": "fecfa1dffee97d471f86ca45c5639b3f23ff59d9",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'm not sure if we should use fixed font-sizes.\n",
    "created_at": "2013-08-31T09:15:08Z",
    "updated_at": "2013-08-31T10:42:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099709",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099709"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099709"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099709/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 105,
    "original_line": 105,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099721",
    "pull_request_review_id": null,
    "id": 6099721,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTk3MjE=",
    "diff_hunk": "@@ -192,58 +191,70 @@ bool WalletModel::validateAddress(const QString &address)\n \n     if((total + nTransactionFee) > getBalance())\n     {\n-        return SendCoinsReturn(AmountWithFeeExceedsBalance, nTransactionFee);\n+        transaction.setTransactionFee(nTransactionFee);\n+        return SendCoinsReturn(AmountWithFeeExceedsBalance);\n     }\n \n     {\n         LOCK2(cs_main, wallet->cs_wallet);\n \n-        CReserveKey keyChange(wallet);\n+        transaction.newPossibleKeyChange(wallet);\n         int64 nFeeRequired = 0;\n         std::string strFailReason;\n-        CWalletTx wtx;\n-        bool fCreated = wallet->CreateTransaction(vecSend, wtx, keyChange, nFeeRequired, strFailReason);\n+\n+        CWalletTx *newTx = transaction.getTransaction();\n+        CReserveKey *keyChange = transaction.getPossibleKeyChange();\n+        bool fCreated = wallet->CreateTransaction(vecSend, *newTx, *keyChange, nFeeRequired, strFailReason);\n+        transaction.setTransactionFee(nFeeRequired);\n \n         if(!fCreated)\n         {\n             if((total + nFeeRequired) > wallet->GetBalance())\n             {\n-                return SendCoinsReturn(AmountWithFeeExceedsBalance, nFeeRequired);\n+                return SendCoinsReturn(AmountWithFeeExceedsBalance);\n             }\n             emit message(tr(\"Send Coins\"), QString::fromStdString(strFailReason),\n                          CClientUIInterface::MSG_ERROR);\n             return TransactionCreationFailed;\n         }\n+    }\n+\n+    return SendCoinsReturn(OK);\n+}\n+\n+WalletModel::SendCoinsReturn WalletModel::sendCoins(WalletModelTransaction &transaction)\n+{\n+    QByteArray transaction_array; /* store serialized transaction */\n+\n+    {\n+        LOCK2(cs_main, wallet->cs_wallet);\n+        CWalletTx *newTx = transaction.getTransaction();\n+\n         // Store PaymentRequests in wtx.vOrderForm in wallet.\n-        foreach(const SendCoinsRecipient &rcp, recipients)\n+        foreach(const SendCoinsRecipient &rcp, transaction.getRecipients())\n         {\n             if (rcp.paymentRequest.IsInitialized())\n             {\n                 std::string key(\"PaymentRequest\");\n                 std::string value;\n                 rcp.paymentRequest.SerializeToString(&value);\n-                wtx.vOrderForm.push_back(make_pair(key, value));\n+                newTx->vOrderForm.push_back(make_pair(key, value));\n             }\n-        }        \n-\n-        if(!uiInterface.ThreadSafeAskFee(nFeeRequired))",
    "path": "src/qt/walletmodel.cpp",
    "position": 84,
    "original_position": 84,
    "commit_id": "9e8904f6aeb6e98b4781fcf408b0a2bee550051d",
    "original_commit_id": "fecfa1dffee97d471f86ca45c5639b3f23ff59d9",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is this still used anywhere after this pull?\n",
    "created_at": "2013-08-31T09:18:18Z",
    "updated_at": "2013-08-31T10:42:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099721",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099721"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099721"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099721/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 229,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099751",
    "pull_request_review_id": null,
    "id": 6099751,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTk3NTE=",
    "diff_hunk": "@@ -97,9 +97,18 @@ void SendCoinsDialog::on_sendButton_clicked()\n         QString amount = BitcoinUnits::formatWithUnit(model->getOptionsModel()->getDisplayUnit(), rcp.amount);\n         if (rcp.authenticatedMerchant.isEmpty())\n         {\n-            QString address = rcp.address;\n-            QString to = GUIUtil::HtmlEscape(rcp.label);\n-            formatted.append(tr(\"<b>%1</b> to %2 (%3)\").arg(amount, to, address));\n+            QString recipientElement = QString(\"<b>%1</b> \").arg(BitcoinUnits::formatWithUnit(BitcoinUnits::BTC, rcp.amount));",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "9e8904f6aeb6e98b4781fcf408b0a2bee550051d",
    "original_commit_id": "fecfa1dffee97d471f86ca45c5639b3f23ff59d9",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes. We should use that. @laanwj should i takeover again and fix these things?\n",
    "created_at": "2013-08-31T09:57:39Z",
    "updated_at": "2013-08-31T10:42:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099751",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099751"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099751"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099751/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 100,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099755",
    "pull_request_review_id": null,
    "id": 6099755,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTk3NTU=",
    "diff_hunk": "@@ -97,9 +97,18 @@ void SendCoinsDialog::on_sendButton_clicked()\n         QString amount = BitcoinUnits::formatWithUnit(model->getOptionsModel()->getDisplayUnit(), rcp.amount);\n         if (rcp.authenticatedMerchant.isEmpty())\n         {\n-            QString address = rcp.address;\n-            QString to = GUIUtil::HtmlEscape(rcp.label);\n-            formatted.append(tr(\"<b>%1</b> to %2 (%3)\").arg(amount, to, address));\n+            QString recipientElement = QString(\"<b>%1</b> \").arg(BitcoinUnits::formatWithUnit(BitcoinUnits::BTC, rcp.amount));\n+            recipientElement.append(tr(\"to\"));\n+\n+            if(rcp.label.length() > 0)\n+            {\n+                recipientElement.append(QString(\" %1 <span style='font-size:8px;'>%2</span><br />\").arg(GUIUtil::HtmlEscape(rcp.label), rcp.address)); // add address with label",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": 12,
    "original_position": 12,
    "commit_id": "9e8904f6aeb6e98b4781fcf408b0a2bee550051d",
    "original_commit_id": "fecfa1dffee97d471f86ca45c5639b3f23ff59d9",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hmm... i would keep the current font. Even with fixed font's line breaks are possible.\nI also think fixed fonts can look really bad.\n",
    "created_at": "2013-08-31T09:58:41Z",
    "updated_at": "2013-08-31T10:42:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099755",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099755"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099755"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099755/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 105,
    "original_line": 105,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099782",
    "pull_request_review_id": null,
    "id": 6099782,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTk3ODI=",
    "diff_hunk": "@@ -192,58 +191,70 @@ bool WalletModel::validateAddress(const QString &address)\n \n     if((total + nTransactionFee) > getBalance())\n     {\n-        return SendCoinsReturn(AmountWithFeeExceedsBalance, nTransactionFee);\n+        transaction.setTransactionFee(nTransactionFee);\n+        return SendCoinsReturn(AmountWithFeeExceedsBalance);\n     }\n \n     {\n         LOCK2(cs_main, wallet->cs_wallet);\n \n-        CReserveKey keyChange(wallet);\n+        transaction.newPossibleKeyChange(wallet);\n         int64 nFeeRequired = 0;\n         std::string strFailReason;\n-        CWalletTx wtx;\n-        bool fCreated = wallet->CreateTransaction(vecSend, wtx, keyChange, nFeeRequired, strFailReason);\n+\n+        CWalletTx *newTx = transaction.getTransaction();\n+        CReserveKey *keyChange = transaction.getPossibleKeyChange();\n+        bool fCreated = wallet->CreateTransaction(vecSend, *newTx, *keyChange, nFeeRequired, strFailReason);\n+        transaction.setTransactionFee(nFeeRequired);\n \n         if(!fCreated)\n         {\n             if((total + nFeeRequired) > wallet->GetBalance())\n             {\n-                return SendCoinsReturn(AmountWithFeeExceedsBalance, nFeeRequired);\n+                return SendCoinsReturn(AmountWithFeeExceedsBalance);\n             }\n             emit message(tr(\"Send Coins\"), QString::fromStdString(strFailReason),\n                          CClientUIInterface::MSG_ERROR);\n             return TransactionCreationFailed;\n         }\n+    }\n+\n+    return SendCoinsReturn(OK);\n+}\n+\n+WalletModel::SendCoinsReturn WalletModel::sendCoins(WalletModelTransaction &transaction)\n+{\n+    QByteArray transaction_array; /* store serialized transaction */\n+\n+    {\n+        LOCK2(cs_main, wallet->cs_wallet);\n+        CWalletTx *newTx = transaction.getTransaction();\n+\n         // Store PaymentRequests in wtx.vOrderForm in wallet.\n-        foreach(const SendCoinsRecipient &rcp, recipients)\n+        foreach(const SendCoinsRecipient &rcp, transaction.getRecipients())\n         {\n             if (rcp.paymentRequest.IsInitialized())\n             {\n                 std::string key(\"PaymentRequest\");\n                 std::string value;\n                 rcp.paymentRequest.SerializeToString(&value);\n-                wtx.vOrderForm.push_back(make_pair(key, value));\n+                newTx->vOrderForm.push_back(make_pair(key, value));\n             }\n-        }        \n-\n-        if(!uiInterface.ThreadSafeAskFee(nFeeRequired))",
    "path": "src/qt/walletmodel.cpp",
    "position": 84,
    "original_position": 84,
    "commit_id": "9e8904f6aeb6e98b4781fcf408b0a2bee550051d",
    "original_commit_id": "fecfa1dffee97d471f86ca45c5639b3f23ff59d9",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think it's still used when you submit transactions over RPC.\n",
    "created_at": "2013-08-31T10:23:50Z",
    "updated_at": "2013-08-31T10:42:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099782",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099782"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099782"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099782/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 229,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099783",
    "pull_request_review_id": null,
    "id": 6099783,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTk3ODM=",
    "diff_hunk": "@@ -97,9 +97,18 @@ void SendCoinsDialog::on_sendButton_clicked()\n         QString amount = BitcoinUnits::formatWithUnit(model->getOptionsModel()->getDisplayUnit(), rcp.amount);\n         if (rcp.authenticatedMerchant.isEmpty())\n         {\n-            QString address = rcp.address;\n-            QString to = GUIUtil::HtmlEscape(rcp.label);\n-            formatted.append(tr(\"<b>%1</b> to %2 (%3)\").arg(amount, to, address));\n+            QString recipientElement = QString(\"<b>%1</b> \").arg(BitcoinUnits::formatWithUnit(BitcoinUnits::BTC, rcp.amount));\n+            recipientElement.append(tr(\"to\"));\n+\n+            if(rcp.label.length() > 0)\n+            {\n+                recipientElement.append(QString(\" %1 <span style='font-size:8px;'>%2</span><br />\").arg(GUIUtil::HtmlEscape(rcp.label), rcp.address)); // add address with label",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": 12,
    "original_position": 12,
    "commit_id": "9e8904f6aeb6e98b4781fcf408b0a2bee550051d",
    "original_commit_id": "fecfa1dffee97d471f86ca45c5639b3f23ff59d9",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This was also in @jonasschnelli's pull, which I just rebased. We can keep font improvements for a future pull.\n",
    "created_at": "2013-08-31T10:24:30Z",
    "updated_at": "2013-08-31T10:42:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099783",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099783"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099783"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099783/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 105,
    "original_line": 105,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099785",
    "pull_request_review_id": null,
    "id": 6099785,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTk3ODU=",
    "diff_hunk": "@@ -97,9 +97,18 @@ void SendCoinsDialog::on_sendButton_clicked()\n         QString amount = BitcoinUnits::formatWithUnit(model->getOptionsModel()->getDisplayUnit(), rcp.amount);\n         if (rcp.authenticatedMerchant.isEmpty())\n         {\n-            QString address = rcp.address;\n-            QString to = GUIUtil::HtmlEscape(rcp.label);\n-            formatted.append(tr(\"<b>%1</b> to %2 (%3)\").arg(amount, to, address));\n+            QString recipientElement = QString(\"<b>%1</b> \").arg(BitcoinUnits::formatWithUnit(BitcoinUnits::BTC, rcp.amount));",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "9e8904f6aeb6e98b4781fcf408b0a2bee550051d",
    "original_commit_id": "fecfa1dffee97d471f86ca45c5639b3f23ff59d9",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@jonasschnelli I'd rather just get this merged ASAP and leave improvements to later. So if there's nothing breaking or obviously incorrect I'd like to get ACKs.\n",
    "created_at": "2013-08-31T10:25:19Z",
    "updated_at": "2013-08-31T10:42:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099785",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099785"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099785"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099785/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 100,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099789",
    "pull_request_review_id": null,
    "id": 6099789,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTk3ODk=",
    "diff_hunk": "@@ -163,6 +165,51 @@ void SendCoinsDialog::on_sendButton_clicked()\n             tr(\"Error: Transaction creation failed!\"),\n             QMessageBox::Ok, QMessageBox::Ok);\n         break;\n+    case WalletModel::Aborted: // User aborted, nothing to do\n+    case WalletModel::OK:\n+    case WalletModel::TransactionCommitFailed:\n+        break;\n+    }\n+\n+    if(prepareStatus.status != WalletModel::OK) {\n+        fNewRecipientAllowed = true;\n+        return;\n+    }\n+\n+    qint64 txFee = currentTransaction.getTransactionFee();\n+    QString questionString = tr(\"Are you sure you want to send?\");\n+    questionString.append(\"<br /><br />%1\");\n+\n+    if(txFee > 0)\n+    {\n+        // append fee string if a fee is required\n+        questionString.append(\"<hr /><span style='color:#aa0000;'>\");\n+        questionString.append(BitcoinUnits::formatWithUnit(BitcoinUnits::BTC, txFee));",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": null,
    "original_position": 85,
    "commit_id": "9e8904f6aeb6e98b4781fcf408b0a2bee550051d",
    "original_commit_id": "fecfa1dffee97d471f86ca45c5639b3f23ff59d9",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Will fix these before merge.\n",
    "created_at": "2013-08-31T10:27:32Z",
    "updated_at": "2013-08-31T10:42:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099789",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099789"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/2958#discussion_r6099789"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/2958"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6099789/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 187,
    "side": "RIGHT"
  }
]