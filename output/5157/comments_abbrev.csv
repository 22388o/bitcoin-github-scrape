gavinandresen,2014-10-28T17:38:07Z,"ACK\n\nTested, fixes #5138 and #5113.\n",https://github.com/bitcoin/bitcoin/pull/5157#issuecomment-60797975,60797975,
sipa,2014-10-28T21:38:20Z,"@gavinandresen please test again; it was preferring inbound now, as noticed by @cozz.\n",https://github.com/bitcoin/bitcoin/pull/5157#issuecomment-60836244,60836244,
laanwj,2014-10-29T13:39:51Z,Going to test this\n,https://github.com/bitcoin/bitcoin/pull/5157#issuecomment-60924702,60924702,
sipa,2014-10-29T15:08:59Z,Reworked the functions/names a bit; maybe it's less confusing now.\n,https://github.com/bitcoin/bitcoin/pull/5157#issuecomment-60940484,60940484,
gavinandresen,2014-10-29T18:07:38Z,"Still issues with sync never starting, here's a test case (put in qa/rpc-tests, run with --tracerpc to see behavior):\n\n```\n#!/usr/bin/env python\n\nfrom test_framework import BitcoinTestFramework\nfrom bitcoinrpc.authproxy import AuthServiceProxy, JSONRPCException\nfrom util import *\nimport time\n\nclass SyncDir(BitcoinTestFramework):\n    def setup_network(self):\n        self.nodes = []\n   ",https://github.com/bitcoin/bitcoin/pull/5157#issuecomment-60974664,60974664,
sipa,2014-10-29T21:03:57Z,@gavinandresen did the previous version of the PR work?\n,https://github.com/bitcoin/bitcoin/pull/5157#issuecomment-61004613,61004613,
gavinandresen,2014-10-29T21:08:18Z,"I don't know if previous version worked-- I reversed connection direction to better test for this version, didn't test previous that way.\n\n> On Oct 29, 2014, at 5:04 PM, Pieter Wuille notifications@github.com wrote:\n> \n> @gavinandresen did the previous version of the PR work?\n> \n> â€”\n> Reply to this email directly or view it on GitHub.\n",https://github.com/bitcoin/bitcoin/pull/5157#issuecomment-61005310,61005310,
rebroad,2014-10-30T07:37:13Z,"Can those looking at this also look at #5099 please? I've been developing and testing functionality to do with preferred downloads and optimising the IBD since June, and it's almost near perfect now (although I'm not so sure about my C++ coding style!).\n",https://github.com/bitcoin/bitcoin/pull/5157#issuecomment-61054925,61054925,
rebroad,2014-11-01T05:35:45Z,"I'd like to code a pull request to make download of headers faster, but given that #5099 hasn't received any attention, would I be wasting my time and effort?\n",https://github.com/bitcoin/bitcoin/pull/5157#issuecomment-61358916,61358916,
sipa,2014-11-01T08:40:08Z,"@rebroad This is not about making it faster, but fixing the bug of it not starting downloads at all in some situations. The problem is the logic that tries to avoid downloading from incoming peers (because of the current expectation that you don't get much bandwidth usage from making just outgoing connections). It seems overeager and sometimes causes no download at all to start.\n\nI'll get to loo",https://github.com/bitcoin/bitcoin/pull/5157#issuecomment-61361853,61361853,
laanwj,2014-11-03T15:37:09Z,Tested ACK\n,https://github.com/bitcoin/bitcoin/pull/5157#issuecomment-61495611,61495611,
cozz,2014-10-28T18:55:29Z,"Is this correct, to prefer inbound?\n",https://github.com/bitcoin/bitcoin/pull/5157#discussion_r19494775,19494775,src/main.cpp
sipa,2014-10-28T21:37:48Z,"Oops, fixed.\n",https://github.com/bitcoin/bitcoin/pull/5157#discussion_r19505981,19505981,src/main.cpp
laanwj,2014-10-29T13:35:42Z,"IsPreferredDownload doesn't look at node->fPreferredDownload, is this intentional? (if so, the naming may be a bit confusing)\n",https://github.com/bitcoin/bitcoin/pull/5157#discussion_r19537118,19537118,src/main.cpp
sipa,2014-10-29T14:33:27Z,Yes. IsPreferredDownload() checks whether a node should be preferred. fPreferredDownload remembers whether we've already counted it as a preferred downloader. Better naming suggestions are welcome :)\n,https://github.com/bitcoin/bitcoin/pull/5157#discussion_r19541172,19541172,src/main.cpp
