[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378564722",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#issuecomment-378564722",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12881",
    "id": 378564722,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODU2NDcyMg==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-04T11:13:39Z",
    "updated_at": "2018-04-04T11:13:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "`LowerCase()` and `std::tolower()` are not equivalent. `std::tolower()` takes the currently installed C locale into account.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378564722/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378791318",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#issuecomment-378791318",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12881",
    "id": 378791318,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODc5MTMxOA==",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?u=a0e0040aacd7d4f0787481e8ac30b494fa429e11&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-05T01:06:54Z",
    "updated_at": "2018-04-05T01:06:54Z",
    "author_association": "MEMBER",
    "body": "@murrayn After fixing any nits, please also [squash your commits](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378791318/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378844244",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#issuecomment-378844244",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12881",
    "id": 378844244,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODg0NDI0NA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-05T07:25:16Z",
    "updated_at": "2018-04-05T07:25:16Z",
    "author_association": "MEMBER",
    "body": "> LowerCase() and std::tolower() are not equivalent. std::tolower() takes the currently installed C locale into account.\r\n\r\nThanks for catching this. We should be extremely careful to not introduce locale dependencies in the low-level string parsing functions. We've had serious problems with those in the past. This can result in country-specific bugs...",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378844244/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378909918",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#issuecomment-378909918",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12881",
    "id": 378909918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODkwOTkxOA==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-05T11:50:32Z",
    "updated_at": "2018-04-05T11:50:32Z",
    "author_association": "MEMBER",
    "body": "Please don't overthink this. Decoding addresses is hardly relevant (I don't think anyone would notice if they were 100x slower). My goal when writing this was more clarity and simplicity than speed, though I'm obviously not opposed to performance improvements if they don't conflict with those goals.\n\nI am interested in whether the additional branches don't make performance worse though. My gut feeling is that they impact performance more than comparisons.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378909918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379128807",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#issuecomment-379128807",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12881",
    "id": 379128807,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTEyODgwNw==",
    "user": {
      "login": "murrayn",
      "id": 5404807,
      "node_id": "MDQ6VXNlcjU0MDQ4MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5404807?u=66d3743ddee303d35b361f85d3b03306ee9a0155&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murrayn",
      "html_url": "https://github.com/murrayn",
      "followers_url": "https://api.github.com/users/murrayn/followers",
      "following_url": "https://api.github.com/users/murrayn/following{/other_user}",
      "gists_url": "https://api.github.com/users/murrayn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murrayn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murrayn/subscriptions",
      "organizations_url": "https://api.github.com/users/murrayn/orgs",
      "repos_url": "https://api.github.com/users/murrayn/repos",
      "events_url": "https://api.github.com/users/murrayn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murrayn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-06T02:10:30Z",
    "updated_at": "2018-04-06T02:10:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "@sipa Thanks for the feedback. I've reworked the code again to reflect your input.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379128807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380571375",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#issuecomment-380571375",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12881",
    "id": 380571375,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDU3MTM3NQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T19:38:20Z",
    "updated_at": "2018-04-11T19:38:20Z",
    "author_association": "MEMBER",
    "body": "To get rid of the merge commit, please squash your commits according to https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380571375/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383039089",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#issuecomment-383039089",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12881",
    "id": 383039089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzAzOTA4OQ==",
    "user": {
      "login": "murrayn",
      "id": 5404807,
      "node_id": "MDQ6VXNlcjU0MDQ4MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5404807?u=66d3743ddee303d35b361f85d3b03306ee9a0155&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murrayn",
      "html_url": "https://github.com/murrayn",
      "followers_url": "https://api.github.com/users/murrayn/followers",
      "following_url": "https://api.github.com/users/murrayn/following{/other_user}",
      "gists_url": "https://api.github.com/users/murrayn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murrayn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murrayn/subscriptions",
      "organizations_url": "https://api.github.com/users/murrayn/orgs",
      "repos_url": "https://api.github.com/users/murrayn/repos",
      "events_url": "https://api.github.com/users/murrayn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murrayn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-20T09:22:46Z",
    "updated_at": "2018-04-20T09:24:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Not sure if this PR is stalled due to the earlier comment about benchmarks...I didn't think benchmarks would be as interesting after my most recent commit, in which the code was more straightforward. Just in case, I have benchmarked:\r\n\r\n    if (c >= 'a' && c <= 'z') lower = 1;\r\n    else if (c >= 'A' && c <= 'Z') upper = 1;\r\n    else if (c < 33 || c > 126) return 0;\r\n\r\nversus\r\n\r\n    if (c < 33 || c > 126) return 0;\r\n    if (c >= 'a' && c <= 'z') lower = 1;\r\n    if (c >= 'A' && c <= 'Z') upper = 1;\r\n\r\nand my results show the former is significantly faster; however, with -O2 compiler optimization enabled they benchmark identically, which isn't surprising.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383039089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384611605",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#issuecomment-384611605",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12881",
    "id": 384611605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDYxMTYwNQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-26T11:47:25Z",
    "updated_at": "2018-04-26T11:47:25Z",
    "author_association": "MEMBER",
    "body": "Please also adjust the OP",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384611605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389114819",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#issuecomment-389114819",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12881",
    "id": 389114819,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTExNDgxOQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-15T10:08:14Z",
    "updated_at": "2018-05-15T10:08:14Z",
    "author_association": "MEMBER",
    "body": "utACK 60f61f99529f54f85c847d61122c70c0358ebecc",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389114819/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179101685",
    "pull_request_review_id": 109280050,
    "id": 179101685,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTEwMTY4NQ==",
    "diff_hunk": "@@ -161,26 +155,28 @@ std::pair<std::string, data> Decode(const std::string& str) {\n     for (size_t i = 0; i < str.size(); ++i) {\n         unsigned char c = str[i];\n         if (c < 33 || c > 126) return {};\n-        if (c >= 'a' && c <= 'z') lower = true;\n-        if (c >= 'A' && c <= 'Z') upper = true;\n+        // Mixing upper and lowercase is not OK.\n+        if (!lower && c >= 'a' && c <= 'z') { if(upper) return {}; lower = true; }",
    "path": "src/bech32.cpp",
    "position": null,
    "original_position": 20,
    "commit_id": "60f61f99529f54f85c847d61122c70c0358ebecc",
    "original_commit_id": "b65a5a3bfd27900e5554c62a1b4e3691e6aac748",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: `if (upper)` instead of `if(upper)`",
    "created_at": "2018-04-04T11:05:50Z",
    "updated_at": "2018-04-13T00:54:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179101685",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179101685"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179101685"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179101685/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 159,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179102794",
    "pull_request_review_id": 109281352,
    "id": 179102794,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTEwMjc5NA==",
    "diff_hunk": "@@ -161,26 +155,28 @@ std::pair<std::string, data> Decode(const std::string& str) {\n     for (size_t i = 0; i < str.size(); ++i) {\n         unsigned char c = str[i];\n         if (c < 33 || c > 126) return {};\n-        if (c >= 'a' && c <= 'z') lower = true;\n-        if (c >= 'A' && c <= 'Z') upper = true;\n+        // Mixing upper and lowercase is not OK.\n+        if (!lower && c >= 'a' && c <= 'z') { if(upper) return {}; lower = true; }\n+        else if (!upper && c >= 'A' && c <= 'Z') { if(lower) return {}; upper = true; }\n     }\n-    if (lower && upper) return {};\n+\n     size_t pos = str.rfind('1');\n     if (str.size() > 90 || pos == str.npos || pos == 0 || pos + 7 > str.size()) {\n         return {};\n     }\n     data values(str.size() - 1 - pos);\n     for (size_t i = 0; i < str.size() - 1 - pos; ++i) {\n         unsigned char c = str[i + pos + 1];\n-        int8_t rev = (c < 33 || c > 126) ? -1 : CHARSET_REV[c];\n+        int8_t rev = CHARSET_REV[c];",
    "path": "src/bech32.cpp",
    "position": 17,
    "original_position": 33,
    "commit_id": "60f61f99529f54f85c847d61122c70c0358ebecc",
    "original_commit_id": "b65a5a3bfd27900e5554c62a1b4e3691e6aac748",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Add `assert(c >= 33 && c <= 126);` on the line before `int8_t rev = CHARSET_REV[c];` to make assumption explicit?",
    "created_at": "2018-04-04T11:10:57Z",
    "updated_at": "2018-04-13T00:54:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179102794",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179102794"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179102794"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179102794/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 175,
    "original_line": 175,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179107878",
    "pull_request_review_id": 109287208,
    "id": 179107878,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTEwNzg3OA==",
    "diff_hunk": "@@ -161,26 +155,28 @@ std::pair<std::string, data> Decode(const std::string& str) {\n     for (size_t i = 0; i < str.size(); ++i) {\n         unsigned char c = str[i];\n         if (c < 33 || c > 126) return {};\n-        if (c >= 'a' && c <= 'z') lower = true;\n-        if (c >= 'A' && c <= 'Z') upper = true;\n+        // Mixing upper and lowercase is not OK.\n+        if (!lower && c >= 'a' && c <= 'z') { if(upper) return {}; lower = true; }",
    "path": "src/bech32.cpp",
    "position": null,
    "original_position": 20,
    "commit_id": "60f61f99529f54f85c847d61122c70c0358ebecc",
    "original_commit_id": "b65a5a3bfd27900e5554c62a1b4e3691e6aac748",
    "user": {
      "login": "murrayn",
      "id": 5404807,
      "node_id": "MDQ6VXNlcjU0MDQ4MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5404807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murrayn",
      "html_url": "https://github.com/murrayn",
      "followers_url": "https://api.github.com/users/murrayn/followers",
      "following_url": "https://api.github.com/users/murrayn/following{/other_user}",
      "gists_url": "https://api.github.com/users/murrayn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murrayn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murrayn/subscriptions",
      "organizations_url": "https://api.github.com/users/murrayn/orgs",
      "repos_url": "https://api.github.com/users/murrayn/repos",
      "events_url": "https://api.github.com/users/murrayn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murrayn/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not even a nit. Should be a compiler error IMO. I must be tired. :-)",
    "created_at": "2018-04-04T11:32:56Z",
    "updated_at": "2018-04-13T00:54:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179107878",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179107878"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179107878"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179107878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 159,
    "side": "RIGHT",
    "in_reply_to_id": 179101685
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179323297",
    "pull_request_review_id": 109547041,
    "id": 179323297,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTMyMzI5Nw==",
    "diff_hunk": "@@ -161,18 +161,20 @@ std::pair<std::string, data> Decode(const std::string& str) {\n     for (size_t i = 0; i < str.size(); ++i) {\n         unsigned char c = str[i];\n         if (c < 33 || c > 126) return {};\n-        if (c >= 'a' && c <= 'z') lower = true;\n-        if (c >= 'A' && c <= 'Z') upper = true;\n+        // Mixing upper and lowercase is not OK.\n+        if (!lower && c >= 'a' && c <= 'z') { if (upper) return {}; lower = true; }",
    "path": "src/bech32.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "60f61f99529f54f85c847d61122c70c0358ebecc",
    "original_commit_id": "1bc88b4a6642b7acba01ba9b7abe1ae2a8d8d8c4",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Please follow the coding style: any `if` that has anything but just a single-statement then body must use braces and indentation.",
    "created_at": "2018-04-05T00:44:08Z",
    "updated_at": "2018-04-13T00:54:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179323297",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179323297"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179323297"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179323297/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 165,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179329952",
    "pull_request_review_id": 109554379,
    "id": 179329952,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTMyOTk1Mg==",
    "diff_hunk": "@@ -161,18 +161,25 @@ std::pair<std::string, data> Decode(const std::string& str) {\n     for (size_t i = 0; i < str.size(); ++i) {\n         unsigned char c = str[i];\n         if (c < 33 || c > 126) return {};\n-        if (c >= 'a' && c <= 'z') lower = true;\n-        if (c >= 'A' && c <= 'Z') upper = true;",
    "path": "src/bech32.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "60f61f99529f54f85c847d61122c70c0358ebecc",
    "original_commit_id": "163d794add855adb14dcce4f59a04f58bc7f1ded",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`else` here would improve a bit.",
    "created_at": "2018-04-05T01:32:12Z",
    "updated_at": "2018-04-13T00:54:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179329952",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179329952"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179329952"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179329952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 165,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179331525",
    "pull_request_review_id": 109554379,
    "id": 179331525,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTMzMTUyNQ==",
    "diff_hunk": "@@ -161,18 +161,25 @@ std::pair<std::string, data> Decode(const std::string& str) {\n     for (size_t i = 0; i < str.size(); ++i) {\n         unsigned char c = str[i];\n         if (c < 33 || c > 126) return {};\n-        if (c >= 'a' && c <= 'z') lower = true;\n-        if (c >= 'A' && c <= 'Z') upper = true;",
    "path": "src/bech32.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "60f61f99529f54f85c847d61122c70c0358ebecc",
    "original_commit_id": "163d794add855adb14dcce4f59a04f58bc7f1ded",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe better:\r\n```cpp\r\nif (c >= 'a') { if (c <= 'z') lower = true; }\r\nelse if (c >= 'A') { if (c <= 'Z') upper = true; }",
    "created_at": "2018-04-05T01:43:05Z",
    "updated_at": "2018-04-13T00:54:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179331525",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179331525"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179331525"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179331525/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 165,
    "side": "LEFT",
    "in_reply_to_id": 179329952
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179341938",
    "pull_request_review_id": 109567714,
    "id": 179341938,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTM0MTkzOA==",
    "diff_hunk": "@@ -161,26 +155,28 @@ std::pair<std::string, data> Decode(const std::string& str) {\n     for (size_t i = 0; i < str.size(); ++i) {\n         unsigned char c = str[i];\n         if (c < 33 || c > 126) return {};\n-        if (c >= 'a' && c <= 'z') lower = true;\n-        if (c >= 'A' && c <= 'Z') upper = true;\n+        // Mixing upper and lowercase is not OK.\n+        if (!lower && c >= 'a' && c <= 'z') { if(upper) return {}; lower = true; }\n+        else if (!upper && c >= 'A' && c <= 'Z') { if(lower) return {}; upper = true; }\n     }\n-    if (lower && upper) return {};\n+\n     size_t pos = str.rfind('1');\n     if (str.size() > 90 || pos == str.npos || pos == 0 || pos + 7 > str.size()) {\n         return {};\n     }\n     data values(str.size() - 1 - pos);\n     for (size_t i = 0; i < str.size() - 1 - pos; ++i) {\n         unsigned char c = str[i + pos + 1];\n-        int8_t rev = (c < 33 || c > 126) ? -1 : CHARSET_REV[c];\n+        int8_t rev = CHARSET_REV[c];",
    "path": "src/bech32.cpp",
    "position": 17,
    "original_position": 33,
    "commit_id": "60f61f99529f54f85c847d61122c70c0358ebecc",
    "original_commit_id": "b65a5a3bfd27900e5554c62a1b4e3691e6aac748",
    "user": {
      "login": "murrayn",
      "id": 5404807,
      "node_id": "MDQ6VXNlcjU0MDQ4MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5404807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murrayn",
      "html_url": "https://github.com/murrayn",
      "followers_url": "https://api.github.com/users/murrayn/followers",
      "following_url": "https://api.github.com/users/murrayn/following{/other_user}",
      "gists_url": "https://api.github.com/users/murrayn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murrayn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murrayn/subscriptions",
      "organizations_url": "https://api.github.com/users/murrayn/orgs",
      "repos_url": "https://api.github.com/users/murrayn/repos",
      "events_url": "https://api.github.com/users/murrayn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murrayn/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@practicalswift If I were writing Decode() from scratch, I don't think it would occur to me to add an assert() there. Not convinced it adds any value.\r\n",
    "created_at": "2018-04-05T03:23:39Z",
    "updated_at": "2018-04-13T00:54:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179341938",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179341938"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179341938"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179341938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 175,
    "original_line": 175,
    "side": "RIGHT",
    "in_reply_to_id": 179102794
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179342380",
    "pull_request_review_id": 109568239,
    "id": 179342380,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTM0MjM4MA==",
    "diff_hunk": "@@ -161,18 +161,25 @@ std::pair<std::string, data> Decode(const std::string& str) {\n     for (size_t i = 0; i < str.size(); ++i) {\n         unsigned char c = str[i];\n         if (c < 33 || c > 126) return {};\n-        if (c >= 'a' && c <= 'z') lower = true;\n-        if (c >= 'A' && c <= 'Z') upper = true;",
    "path": "src/bech32.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "60f61f99529f54f85c847d61122c70c0358ebecc",
    "original_commit_id": "163d794add855adb14dcce4f59a04f58bc7f1ded",
    "user": {
      "login": "murrayn",
      "id": 5404807,
      "node_id": "MDQ6VXNlcjU0MDQ4MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5404807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murrayn",
      "html_url": "https://github.com/murrayn",
      "followers_url": "https://api.github.com/users/murrayn/followers",
      "following_url": "https://api.github.com/users/murrayn/following{/other_user}",
      "gists_url": "https://api.github.com/users/murrayn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murrayn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murrayn/subscriptions",
      "organizations_url": "https://api.github.com/users/murrayn/orgs",
      "repos_url": "https://api.github.com/users/murrayn/repos",
      "events_url": "https://api.github.com/users/murrayn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murrayn/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@promag Do you have an example in mind of a most common case?",
    "created_at": "2018-04-05T03:29:02Z",
    "updated_at": "2018-04-13T00:54:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179342380",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179342380"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179342380"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179342380/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 165,
    "side": "LEFT",
    "in_reply_to_id": 179329952
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179387291",
    "pull_request_review_id": 109619322,
    "id": 179387291,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTM4NzI5MQ==",
    "diff_hunk": "@@ -161,18 +161,25 @@ std::pair<std::string, data> Decode(const std::string& str) {\n     for (size_t i = 0; i < str.size(); ++i) {\n         unsigned char c = str[i];\n         if (c < 33 || c > 126) return {};\n-        if (c >= 'a' && c <= 'z') lower = true;\n-        if (c >= 'A' && c <= 'Z') upper = true;",
    "path": "src/bech32.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "60f61f99529f54f85c847d61122c70c0358ebecc",
    "original_commit_id": "163d794add855adb14dcce4f59a04f58bc7f1ded",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The success case?",
    "created_at": "2018-04-05T08:35:20Z",
    "updated_at": "2018-04-13T00:54:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179387291",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179387291"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179387291"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179387291/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 165,
    "side": "LEFT",
    "in_reply_to_id": 179329952
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179417135",
    "pull_request_review_id": 109654486,
    "id": 179417135,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTQxNzEzNQ==",
    "diff_hunk": "@@ -161,18 +161,25 @@ std::pair<std::string, data> Decode(const std::string& str) {\n     for (size_t i = 0; i < str.size(); ++i) {\n         unsigned char c = str[i];\n         if (c < 33 || c > 126) return {};\n-        if (c >= 'a' && c <= 'z') lower = true;\n-        if (c >= 'A' && c <= 'Z') upper = true;",
    "path": "src/bech32.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "60f61f99529f54f85c847d61122c70c0358ebecc",
    "original_commit_id": "163d794add855adb14dcce4f59a04f58bc7f1ded",
    "user": {
      "login": "murrayn",
      "id": 5404807,
      "node_id": "MDQ6VXNlcjU0MDQ4MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5404807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murrayn",
      "html_url": "https://github.com/murrayn",
      "followers_url": "https://api.github.com/users/murrayn/followers",
      "following_url": "https://api.github.com/users/murrayn/following{/other_user}",
      "gists_url": "https://api.github.com/users/murrayn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murrayn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murrayn/subscriptions",
      "organizations_url": "https://api.github.com/users/murrayn/orgs",
      "repos_url": "https://api.github.com/users/murrayn/repos",
      "events_url": "https://api.github.com/users/murrayn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murrayn/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "OK, in that case (let's assume a string consisting only of lowercase or uppercase letters) the existing code will do three comparisons and one assignment, per character. The proposed code will do three comparisons per character, with the added benefit of returning earlier in the case of a malformed string. Not sure why you would \"suspect this makes the most common case worst\".\r\n",
    "created_at": "2018-04-05T10:25:09Z",
    "updated_at": "2018-04-13T00:54:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179417135",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179417135"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179417135"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179417135/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 165,
    "side": "LEFT",
    "in_reply_to_id": 179329952
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179430899",
    "pull_request_review_id": 109671226,
    "id": 179430899,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTQzMDg5OQ==",
    "diff_hunk": "@@ -161,18 +161,25 @@ std::pair<std::string, data> Decode(const std::string& str) {\n     for (size_t i = 0; i < str.size(); ++i) {\n         unsigned char c = str[i];\n         if (c < 33 || c > 126) return {};\n-        if (c >= 'a' && c <= 'z') lower = true;\n-        if (c >= 'A' && c <= 'Z') upper = true;",
    "path": "src/bech32.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "60f61f99529f54f85c847d61122c70c0358ebecc",
    "original_commit_id": "163d794add855adb14dcce4f59a04f58bc7f1ded",
    "user": {
      "login": "murrayn",
      "id": 5404807,
      "node_id": "MDQ6VXNlcjU0MDQ4MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5404807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murrayn",
      "html_url": "https://github.com/murrayn",
      "followers_url": "https://api.github.com/users/murrayn/followers",
      "following_url": "https://api.github.com/users/murrayn/following{/other_user}",
      "gists_url": "https://api.github.com/users/murrayn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murrayn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murrayn/subscriptions",
      "organizations_url": "https://api.github.com/users/murrayn/orgs",
      "repos_url": "https://api.github.com/users/murrayn/repos",
      "events_url": "https://api.github.com/users/murrayn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murrayn/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Further to this, if we're going to assume the most common case is the success case (which is reasonable), it would probably be good to move the initial (c < 33 || c > 126) check to an ultimate \"else if\" check to the original code.\r\n",
    "created_at": "2018-04-05T11:28:26Z",
    "updated_at": "2018-04-13T00:54:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179430899",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179430899"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179430899"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179430899/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 165,
    "side": "LEFT",
    "in_reply_to_id": 179329952
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179594303",
    "pull_request_review_id": 109869557,
    "id": 179594303,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTU5NDMwMw==",
    "diff_hunk": "@@ -161,18 +161,25 @@ std::pair<std::string, data> Decode(const std::string& str) {\n     for (size_t i = 0; i < str.size(); ++i) {\n         unsigned char c = str[i];\n         if (c < 33 || c > 126) return {};\n-        if (c >= 'a' && c <= 'z') lower = true;\n-        if (c >= 'A' && c <= 'Z') upper = true;",
    "path": "src/bech32.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "60f61f99529f54f85c847d61122c70c0358ebecc",
    "original_commit_id": "163d794add855adb14dcce4f59a04f58bc7f1ded",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@murrayn probably, but can you post benchmark results?",
    "created_at": "2018-04-05T20:41:25Z",
    "updated_at": "2018-04-13T00:54:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179594303",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179594303"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r179594303"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179594303/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 165,
    "side": "LEFT",
    "in_reply_to_id": 179329952
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184350396",
    "pull_request_review_id": 115526784,
    "id": 184350396,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NDM1MDM5Ng==",
    "diff_hunk": "@@ -161,26 +155,28 @@ std::pair<std::string, data> Decode(const std::string& str) {\n     for (size_t i = 0; i < str.size(); ++i) {\n         unsigned char c = str[i];\n         if (c < 33 || c > 126) return {};\n-        if (c >= 'a' && c <= 'z') lower = true;\n-        if (c >= 'A' && c <= 'Z') upper = true;\n+        // Mixing upper and lowercase is not OK.\n+        if (!lower && c >= 'a' && c <= 'z') { if(upper) return {}; lower = true; }\n+        else if (!upper && c >= 'A' && c <= 'Z') { if(lower) return {}; upper = true; }\n     }\n-    if (lower && upper) return {};\n+\n     size_t pos = str.rfind('1');\n     if (str.size() > 90 || pos == str.npos || pos == 0 || pos + 7 > str.size()) {\n         return {};\n     }\n     data values(str.size() - 1 - pos);\n     for (size_t i = 0; i < str.size() - 1 - pos; ++i) {\n         unsigned char c = str[i + pos + 1];\n-        int8_t rev = (c < 33 || c > 126) ? -1 : CHARSET_REV[c];\n+        int8_t rev = CHARSET_REV[c];",
    "path": "src/bech32.cpp",
    "position": 17,
    "original_position": 33,
    "commit_id": "60f61f99529f54f85c847d61122c70c0358ebecc",
    "original_commit_id": "b65a5a3bfd27900e5554c62a1b4e3691e6aac748",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Remember that we have asserts enabled on release notes, better not add them in inner loops especially not if the goal is to 'tighten up' anything.",
    "created_at": "2018-04-26T11:05:00Z",
    "updated_at": "2018-04-26T11:05:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r184350396",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184350396"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12881#discussion_r184350396"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12881"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184350396/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 175,
    "original_line": 175,
    "side": "RIGHT",
    "in_reply_to_id": 179102794
  }
]