[
  {
    "sha": "6564f58c87a84c88d07629e9d86e15f07d0ed837",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2NTY0ZjU4Yzg3YTg0Yzg4ZDA3NjI5ZTlkODZlMTVmMDdkMGVkODM3",
    "commit": {
      "author": {
        "name": "darosior",
        "email": "darosior@gmail.com",
        "date": "2019-03-01T16:06:27Z"
      },
      "committer": {
        "name": "darosior",
        "email": "darosior@protonmail.com",
        "date": "2019-09-05T13:11:48Z"
      },
      "message": "rpc/net: decode the services flags in a new entry",
      "tree": {
        "sha": "d503b9c772a8ba8d6dfc1d17b7048f5ec2602fd0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d503b9c772a8ba8d6dfc1d17b7048f5ec2602fd0"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6564f58c87a84c88d07629e9d86e15f07d0ed837",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAl1xCZQACgkQ4T/BRc0/\nQwSfLgwArjgEEWzHTeA7Cxb6mn2+yD79bTySeXhhBq2tI9GDz73rgfSOryeSXSiH\n7Fvbvpz22Y3DkMqmHDq7QOOqdIjo5fYijJvZ6BoUZ7OEri7tUwhaSMl7Ne1Qz258\nGqATXygOpuW1LqJ8QFZNYF+dAahulokR9gAY5J2FW4BktqPAJT+Fk/hODiwIFziy\n0OLScPOVxTulEM30bokCGPKcV43dmuKsNLTyTLWoC+XsKLC9ZDEvLX6HGiJwplsk\nP1w4hcGJq9IXkhbdStuSgv1ZmEbnP5PoyYW/NI845mvJ0nycJOFqDMQFVl1CuT70\nN+396nnh+ZKop/qLajYJMbrkj+579Ghfn/5Po2D1i/HJLIrV+m585Pq7lu205mHl\nZ6DYJR1TjlZrClJucsKM6aYbJuk3/TClLCe3/KROkvmVMizWdTOSctzBxgK7o4Zh\nC5oBmEmtyD9PDXkG2jTIYhoDbSAMzbHeBnoL32CVno02pVAEU1uUI3DrvfRYs1qz\ndf2XucpX\n=uruh\n-----END PGP SIGNATURE-----",
        "payload": "tree d503b9c772a8ba8d6dfc1d17b7048f5ec2602fd0\nparent 6519be605480fec95dcd814771038efcb1ad2abe\nauthor darosior <darosior@gmail.com> 1551456387 +0100\ncommitter darosior <darosior@protonmail.com> 1567689108 +0200\n\nrpc/net: decode the services flags in a new entry\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6564f58c87a84c88d07629e9d86e15f07d0ed837",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6564f58c87a84c88d07629e9d86e15f07d0ed837",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6564f58c87a84c88d07629e9d86e15f07d0ed837/comments",
    "author": {
      "login": "darosior",
      "id": 22457751,
      "node_id": "MDQ6VXNlcjIyNDU3NzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/darosior",
      "html_url": "https://github.com/darosior",
      "followers_url": "https://api.github.com/users/darosior/followers",
      "following_url": "https://api.github.com/users/darosior/following{/other_user}",
      "gists_url": "https://api.github.com/users/darosior/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/darosior/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
      "organizations_url": "https://api.github.com/users/darosior/orgs",
      "repos_url": "https://api.github.com/users/darosior/repos",
      "events_url": "https://api.github.com/users/darosior/events{/privacy}",
      "received_events_url": "https://api.github.com/users/darosior/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "darosior",
      "id": 22457751,
      "node_id": "MDQ6VXNlcjIyNDU3NzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/darosior",
      "html_url": "https://github.com/darosior",
      "followers_url": "https://api.github.com/users/darosior/followers",
      "following_url": "https://api.github.com/users/darosior/following{/other_user}",
      "gists_url": "https://api.github.com/users/darosior/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/darosior/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
      "organizations_url": "https://api.github.com/users/darosior/orgs",
      "repos_url": "https://api.github.com/users/darosior/repos",
      "events_url": "https://api.github.com/users/darosior/events{/privacy}",
      "received_events_url": "https://api.github.com/users/darosior/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6519be605480fec95dcd814771038efcb1ad2abe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6519be605480fec95dcd814771038efcb1ad2abe",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6519be605480fec95dcd814771038efcb1ad2abe"
      }
    ],
    "stats": {
      "total": 38,
      "additions": 36,
      "deletions": 2
    },
    "files": [
      {
        "sha": "7c4b3d0cc6a6b302b1077c8963c5b334fa1e5fb4",
        "filename": "src/rpc/net.cpp",
        "status": "modified",
        "additions": 14,
        "deletions": 2,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6564f58c87a84c88d07629e9d86e15f07d0ed837/src/rpc/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6564f58c87a84c88d07629e9d86e15f07d0ed837/src/rpc/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/net.cpp?ref=6564f58c87a84c88d07629e9d86e15f07d0ed837",
        "patch": "@@ -82,6 +82,10 @@ static UniValue getpeerinfo(const JSONRPCRequest& request)\n             \"    \\\"addrbind\\\":\\\"ip:port\\\",    (string) Bind address of the connection to the peer\\n\"\n             \"    \\\"addrlocal\\\":\\\"ip:port\\\",   (string) Local address as reported by the peer\\n\"\n             \"    \\\"services\\\":\\\"xxxxxxxxxxxxxxxx\\\",   (string) The services offered\\n\"\n+            \"    \\\"servicesnames\\\":[              (array) the services offered, in human-readable form\\n\"\n+            \"        \\\"SERVICE_NAME\\\",         (string) the service name if it is recognised\\n\"\n+            \"         ...\\n\"\n+            \"     ],\\n\"\n             \"    \\\"relaytxes\\\":true|false,    (boolean) Whether peer has asked us to relay transactions to it\\n\"\n             \"    \\\"lastsend\\\": ttt,           (numeric) The time in seconds since epoch (Jan 1 1970 GMT) of the last send\\n\"\n             \"    \\\"lastrecv\\\": ttt,           (numeric) The time in seconds since epoch (Jan 1 1970 GMT) of the last receive\\n\"\n@@ -147,6 +151,7 @@ static UniValue getpeerinfo(const JSONRPCRequest& request)\n         if (stats.addrBind.IsValid())\n             obj.pushKV(\"addrbind\", stats.addrBind.ToString());\n         obj.pushKV(\"services\", strprintf(\"%016x\", stats.nServices));\n+        obj.pushKV(\"servicesnames\", GetServicesNames(stats.nServices));\n         obj.pushKV(\"relaytxes\", stats.fRelayTxes);\n         obj.pushKV(\"lastsend\", stats.nLastSend);\n         obj.pushKV(\"lastrecv\", stats.nLastRecv);\n@@ -446,6 +451,10 @@ static UniValue getnetworkinfo(const JSONRPCRequest& request)\n             \"  \\\"subversion\\\": \\\"/Satoshi:x.x.x/\\\",     (string) the server subversion string\\n\"\n             \"  \\\"protocolversion\\\": xxxxx,              (numeric) the protocol version\\n\"\n             \"  \\\"localservices\\\": \\\"xxxxxxxxxxxxxxxx\\\", (string) the services we offer to the network\\n\"\n+            \"  \\\"localservicesnames\\\": [                (array) the services we offer to the network, in human-readable form\\n\"\n+            \"      \\\"SERVICE_NAME\\\",                    (string) the service name\\n\"\n+            \"       ...\\n\"\n+            \"   ],\\n\"\n             \"  \\\"localrelay\\\": true|false,              (bool) true if transaction relay is requested from peers\\n\"\n             \"  \\\"timeoffset\\\": xxxxx,                   (numeric) the time offset\\n\"\n             \"  \\\"connections\\\": xxxxx,                  (numeric) the number of connections\\n\"\n@@ -484,8 +493,11 @@ static UniValue getnetworkinfo(const JSONRPCRequest& request)\n     obj.pushKV(\"version\",       CLIENT_VERSION);\n     obj.pushKV(\"subversion\",    strSubVersion);\n     obj.pushKV(\"protocolversion\",PROTOCOL_VERSION);\n-    if(g_connman)\n-        obj.pushKV(\"localservices\", strprintf(\"%016x\", g_connman->GetLocalServices()));\n+    if (g_connman) {\n+        ServiceFlags services = g_connman->GetLocalServices();\n+        obj.pushKV(\"localservices\", strprintf(\"%016x\", services));\n+        obj.pushKV(\"localservicesnames\", GetServicesNames(services));\n+    }\n     obj.pushKV(\"localrelay\", g_relay_txes);\n     obj.pushKV(\"timeoffset\",    GetTimeOffset());\n     if (g_connman) {"
      },
      {
        "sha": "adda90c104b52e5d70814cf0eaa64ebc4a6d94bd",
        "filename": "src/rpc/util.cpp",
        "status": "modified",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6564f58c87a84c88d07629e9d86e15f07d0ed837/src/rpc/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6564f58c87a84c88d07629e9d86e15f07d0ed837/src/rpc/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.cpp?ref=6564f58c87a84c88d07629e9d86e15f07d0ed837",
        "patch": "@@ -733,3 +733,21 @@ std::vector<CScript> EvalDescriptorStringOrObject(const UniValue& scanobject, Fl\n     }\n     return ret;\n }\n+\n+UniValue GetServicesNames(ServiceFlags services)\n+{\n+    UniValue servicesNames(UniValue::VARR);\n+\n+    if (services & NODE_NETWORK)\n+        servicesNames.push_back(\"NETWORK\");\n+    if (services & NODE_GETUTXO)\n+        servicesNames.push_back(\"GETUTXO\");\n+    if (services & NODE_BLOOM)\n+        servicesNames.push_back(\"BLOOM\");\n+    if (services & NODE_WITNESS)\n+        servicesNames.push_back(\"WITNESS\");\n+    if (services & NODE_NETWORK_LIMITED)\n+        servicesNames.push_back(\"NETWORK_LIMITED\");\n+\n+    return servicesNames;\n+}"
      },
      {
        "sha": "72fc7b6286ddd92ed780bf71dcdea396c80ef9e7",
        "filename": "src/rpc/util.h",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6564f58c87a84c88d07629e9d86e15f07d0ed837/src/rpc/util.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6564f58c87a84c88d07629e9d86e15f07d0ed837/src/rpc/util.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.h?ref=6564f58c87a84c88d07629e9d86e15f07d0ed837",
        "patch": "@@ -8,6 +8,7 @@\n #include <node/transaction.h>\n #include <outputtype.h>\n #include <pubkey.h>\n+#include <protocol.h>\n #include <rpc/protocol.h>\n #include <rpc/request.h>\n #include <script/script.h>\n@@ -90,6 +91,9 @@ std::pair<int64_t, int64_t> ParseDescriptorRange(const UniValue& value);\n /** Evaluate a descriptor given as a string, or as a {\"desc\":...,\"range\":...} object, with default range of 1000. */\n std::vector<CScript> EvalDescriptorStringOrObject(const UniValue& scanobject, FlatSigningProvider& provider);\n \n+/** Returns, given services flags, a list of humanly readable (known) network services */\n+UniValue GetServicesNames(ServiceFlags services);\n+\n struct RPCArg {\n     enum class Type {\n         OBJ,"
      }
    ]
  },
  {
    "sha": "66740f460af5f9d8c61eb5b154863bffb20d94b5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2Njc0MGY0NjBhZjVmOWQ4YzYxZWI1YjE1NDg2M2JmZmIyMGQ5NGI1",
    "commit": {
      "author": {
        "name": "darosior",
        "email": "darosior@protonmail.com",
        "date": "2019-09-02T19:40:56Z"
      },
      "committer": {
        "name": "darosior",
        "email": "darosior@protonmail.com",
        "date": "2019-09-05T13:12:32Z"
      },
      "message": "doc: add a release note for the new field in 'getpeerinfo' and 'getnetworkinfo'",
      "tree": {
        "sha": "d8304b651f5cfdfc06e1832c8c3b1bd8efa42418",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d8304b651f5cfdfc06e1832c8c3b1bd8efa42418"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/66740f460af5f9d8c61eb5b154863bffb20d94b5",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAl1xCcAACgkQ4T/BRc0/\nQwQ1GQwAyTmHljWfUzRWEvN0dHBrsM15wLaTfCKg4z+D1JqmqzYMUyownAaiInDM\nNfqIN5LbJ0qViJ9qrfeXuYzV/dS4pratD1xlRS2aOtHa6vRJoiBwsJB2TjVF1nXT\nkURt8LpOqhO4GwKjSchya7M66UVFyezUKViisXL4b211WmjWTQyo8iWKCnjrieDd\n4qirsbrv1gxBrJyovRMTttn3TbbO87fqNQRHyB3s/cx9jp1XD1oj33tsRNBSdwsI\nLkpN5GFMnu4gICCPwocXsal43CkeCbYvkmy3rpSO0IOEPfwiv+1Ax8BGm0jImJdA\njrLqtMNVqEuD1wPO756i1WppEDKKtAZNTssk4CYjOoyu4JqUcqQ/JLK5AL1dhfHf\njtoZrLsFEUxPNCuqs2He2e0/rN5/NBdVYGG7vcJE8l7VbPKIr0KL+5jNcXywaSgC\nnOokUvFgwMXk9sYvkUbmD+xmlIf8b172CkFHifg60ckMEKYzPJfLM0SKI3dS2gfE\nsLuKsexJ\n=IXD0\n-----END PGP SIGNATURE-----",
        "payload": "tree d8304b651f5cfdfc06e1832c8c3b1bd8efa42418\nparent 6564f58c87a84c88d07629e9d86e15f07d0ed837\nauthor darosior <darosior@protonmail.com> 1567453256 +0200\ncommitter darosior <darosior@protonmail.com> 1567689152 +0200\n\ndoc: add a release note for the new field in 'getpeerinfo' and 'getnetworkinfo'\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/66740f460af5f9d8c61eb5b154863bffb20d94b5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/66740f460af5f9d8c61eb5b154863bffb20d94b5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/66740f460af5f9d8c61eb5b154863bffb20d94b5/comments",
    "author": {
      "login": "darosior",
      "id": 22457751,
      "node_id": "MDQ6VXNlcjIyNDU3NzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/darosior",
      "html_url": "https://github.com/darosior",
      "followers_url": "https://api.github.com/users/darosior/followers",
      "following_url": "https://api.github.com/users/darosior/following{/other_user}",
      "gists_url": "https://api.github.com/users/darosior/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/darosior/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
      "organizations_url": "https://api.github.com/users/darosior/orgs",
      "repos_url": "https://api.github.com/users/darosior/repos",
      "events_url": "https://api.github.com/users/darosior/events{/privacy}",
      "received_events_url": "https://api.github.com/users/darosior/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "darosior",
      "id": 22457751,
      "node_id": "MDQ6VXNlcjIyNDU3NzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/darosior",
      "html_url": "https://github.com/darosior",
      "followers_url": "https://api.github.com/users/darosior/followers",
      "following_url": "https://api.github.com/users/darosior/following{/other_user}",
      "gists_url": "https://api.github.com/users/darosior/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/darosior/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
      "organizations_url": "https://api.github.com/users/darosior/orgs",
      "repos_url": "https://api.github.com/users/darosior/repos",
      "events_url": "https://api.github.com/users/darosior/events{/privacy}",
      "received_events_url": "https://api.github.com/users/darosior/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6564f58c87a84c88d07629e9d86e15f07d0ed837",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6564f58c87a84c88d07629e9d86e15f07d0ed837",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6564f58c87a84c88d07629e9d86e15f07d0ed837"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 3,
      "deletions": 0
    },
    "files": [
      {
        "sha": "c42b7a580312ed0febc322ce7120bf25dcf2ee8a",
        "filename": "doc/release-notes-16787.md",
        "status": "added",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/66740f460af5f9d8c61eb5b154863bffb20d94b5/doc/release-notes-16787.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/66740f460af5f9d8c61eb5b154863bffb20d94b5/doc/release-notes-16787.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-notes-16787.md?ref=66740f460af5f9d8c61eb5b154863bffb20d94b5",
        "patch": "@@ -0,0 +1,3 @@\n+RPC changes\n+-----------\n+The `getnetworkinfo` and `getpeerinfo` commands now contain a new field with decoded network service flags."
      }
    ]
  }
]