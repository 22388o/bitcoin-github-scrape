laanwj,2017-02-16T16:06:29Z,"> I've set MAX_MAX_SIG_CACHE_SIZE absurdly high (16GB) for now, so setting maxsigcachesize to anything unreasonably large will still cause a bad_alloc for most users. Input welcomed on what a more reasonable MAX_MAX_SIG_CACHE_SIZE should be, or whether we should leave it out entirely.\n\nI'd say that is reasonable. We don't want bad_alloc for negative amounts (which you fixed), but if the user s",https://github.com/bitcoin/bitcoin/pull/9777#issuecomment-280374244,280374244,
JeremyRubin,2017-02-16T18:26:14Z,"utACK e6374a0.\n\nI would say it'd also be fine to restrict to ~512MB (covers at least a full day of maximum sigop blocks) if you want to be more aggressive about it, but 16GB is fine too.",https://github.com/bitcoin/bitcoin/pull/9777#issuecomment-280415504,280415504,
sipa,2017-02-16T19:00:27Z,utACK\n,https://github.com/bitcoin/bitcoin/pull/9777#issuecomment-280425324,280425324,
morcos,2017-02-16T20:34:02Z,"utACK e6374a0\n",https://github.com/bitcoin/bitcoin/pull/9777#issuecomment-280451398,280451398,
jtimon,2017-02-16T20:53:00Z,"utACK e6374a0, perhaps some squashing can be done, at least the first 2 commits. Not a big deal though.",https://github.com/bitcoin/bitcoin/pull/9777#issuecomment-280456696,280456696,
paveljanik,2017-02-16T21:07:30Z,"ACK https://github.com/bitcoin/bitcoin/pull/9777/commits/e6374a03b9869362595acd5cc5e5b8994b244af1\n\n`-maxsigcachesize=0` does not result in a crash anymore. Max limit applies (=20000 results in 16384).\n\n+1 for squashing.\n",https://github.com/bitcoin/bitcoin/pull/9777#issuecomment-280460755,280460755,
jnewbery,2017-02-17T03:28:05Z,"> I believe the most common case of a large value though is misunderstanding the units (e.g. giving it a limit in bytes).\n\nOr using a pre-2016 bitcoin.conf when maxsigcachesize was measured in cache entries instead of MiB :(",https://github.com/bitcoin/bitcoin/pull/9777#issuecomment-280539982,280539982,
gmaxwell,2017-02-17T04:04:00Z,ouch. uh. that is an argument for throwing an error or renaming the argument rather than just claiming to an insane value.,https://github.com/bitcoin/bitcoin/pull/9777#issuecomment-280545127,280545127,
laanwj,2017-02-17T08:00:20Z,"> ouch. uh. that is an argument for throwing an error or renaming the argument rather than just claiming to an insane value.\n\nYes it also would have been perfectly valid to make `InitSignatureCache()` return an error status, and handle the error upstream by printing a message (hopefully a generalized ""value out of range"" one instead of adding a specific translation message) instead of clamping",https://github.com/bitcoin/bitcoin/pull/9777#issuecomment-280581194,280581194,
laanwj,2017-02-17T08:07:39Z,"squashed d72fe44fc1989575ff5de98c882c0010d1de26e7..e6374a03b9869362595acd5cc5e5b8994b244af1 into 55c403b8febe02555c52bac7028cd6b1f006fad1, merged via 8dee8221770893fbf0ec6c19ad385537984ba44f\n",https://github.com/bitcoin/bitcoin/pull/9777#issuecomment-280582566,280582566,
jtimon,2017-02-16T20:55:01Z,"Maybe ```((size_t) 1 << 20)``` could be made a constant/macro, not necessarily in this PR. ",https://github.com/bitcoin/bitcoin/pull/9777#discussion_r101624082,101624082,src/script/sigcache.cpp
