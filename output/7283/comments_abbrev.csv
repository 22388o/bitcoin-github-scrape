MarcoFalke,2016-01-04T10:39:58Z,"@jonasschnelli I don't want to break your debian box, so would you mind testing this after updating your gitian-builder to the latest version?\n",https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-168641537,168641537,
laanwj,2016-01-04T10:55:22Z,"Ping @theuni\n\nConcept ACK however:\n\nThere's a potential determinism problem with making the datetime depend on the bitcoin repository: the dependencies are built with datetime set to a single commit date, then cached, then next time they'll be reused. If the dependencies embed the datetime anywhere, different builders can get different result depending on when they built the dependencies.\n",https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-168644221,168644221,
MarcoFalke,2016-01-04T11:59:25Z,Appears to be working:\n\n```\n$ curl https://bitcoin.jonasschnelli.ch/pulls/7256/bitcoin-0.12.99-linux64.tar.gz -s | tar ztv | head -3\ndrwxr-xr-x root/root         0 2015-06-01 02:00 bitcoin-0.12.99/\ndrwxr-xr-x root/root         0 2015-06-01 02:00 bitcoin-0.12.99/bin/\n-rwxr-xr-x root/root   2470520 2015-06-01 02:00 bitcoin-0.12.99/bin/bench_bitcoin\n$ curl https://bitcoin.jonasschnelli.ch/pull,https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-168658899,168658899,
jonasschnelli,2016-01-04T12:00:58Z,Agree with @laanwj: would it be possible to build and cache the dependencies still with a fixed time?\nMaybe first someone needs to check if the datetime results/gets included somehow in the dependencies.\n,https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-168659093,168659093,
laanwj,2016-01-05T10:49:38Z,"BTW: Ugh. I think it was a mistake to add the build date there. It's worthless at most, and deceptive at the least.\nIf we want the date of last commit in there, would make sense to add it after the ""Client version"".\n",https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-168970200,168970200,
theuni,2016-01-05T20:15:00Z,"@laanwj I'm all for removing the build date and git commit from tagged releases. That would also mean that we could merge the signing steps, since the only reason they're staggered is the changed commit hash in the binary.\n\n@jonasschnelli I believe we've already removed all time sources from the depends.\n\n@laanwj I believe that would already be the case?\n",https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-169118851,169118851,
laanwj,2016-01-07T08:22:48Z,> @laanwj I believe that would already be the case?\n\nFaketime prevents that at the moment by setting the date/time stamp to a fixed value\n,https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-169593122,169593122,
MarcoFalke,2016-01-07T11:28:57Z,"Then, wouldn't stuff like be656283f98896df0bc8634d446b2873f9fed573 break this as well?\n\nAnyway, depends could use a different (static) date other than `reference_datetime`.\n",https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-169635518,169635518,
laanwj,2016-01-18T09:54:51Z,"You're right, but be65628 is a one-time change. So dependencies built before and after that may differ. The problem with this is that the time/date will change _every_ time.\n\nNot sure it is an issue, but as this is a non-critical detail I'd like to be sure it doesn't cause problems down the line before merging it.\n",https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-172482246,172482246,
laanwj,2016-02-04T13:35:28Z,Needs rebase\n,https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-179841392,179841392,
MarcoFalke,2016-02-27T09:14:44Z,@laanwj I've been running gitian builder to see if the results match:\n\n| yml source | target commit | cache populated by | result |\n| --- | --- | --- | --- |\n| e7ea5db | e7ea5db | e7ea5db | 041a0f82a0c4...  bitcoin-0.12.99-linux32.tar.gz |\n| this pull's commit | this pull's commit | e7ea5db | 49fd8bbb3fcc...  bitcoin-0.12.99-linux32.tar.gz |\n| this pull's commit | this pull's commit | this p,https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-189609802,189609802,
MarcoFalke,2016-03-14T11:49:13Z,@theuni Do you think this is ready to merge?\n,https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-196276195,196276195,
theuni,2016-04-04T18:14:08Z,"Sorry for the delay, testing this.\n",https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-205427872,205427872,
theuni,2016-04-04T18:52:27Z,"Yes, after taking a closer look, unfortunately this will not play nice with depends. Mostly because of the timestamps inside of tarballs, but also .a's and other problematic formats. Note that the end-results may or may not be the same, but the intermediates would differ.\n\nWe can revisit this later though, as options for tar/binutils/ld/etc have been added recently that reliably purge this data.",https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-205445462,205445462,
MarcoFalke,2016-04-05T12:42:12Z,> set the faketime once to a hard-coded date for depends\n\n@theuni Something like the last commit  I pushed (untested)?\n,https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-205782536,205782536,
theuni,2016-04-05T16:47:43Z,"@MarcoFalke Yep, I think that approach should be fine.\n",https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-205889971,205889971,
MarcoFalke,2016-04-10T21:22:38Z,Not sure why gitian fails on the windows build...\n\n```\n[gitian-builder]$ tail -8 var/build.log\nchecking whether make sets $(MAKE)... yes\nchecking whether make supports nested variables... yes\nchecking whether to enable maintainer-specific portions of Makefiles... yes\nchecking whether make supports nested variables... (cached) yes\nchecking whether the C++ compiler works... no\nconfigure: er,https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-208076819,208076819,
arowser,2016-05-25T08:45:08Z,Can one of the admins verify this patch?\n,https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-221510779,221510779,
laanwj,2016-05-30T10:41:29Z,"I think it would be better to remove use of the build date in our binary completely, making the use of faketime unnecessary. We don't have control over that for the dependencies but we do for our own code.\n\nIf you want the date/time of the last commit somewhere in the binary there are better ways to do that (e.g. through `genbuild.sh`) than a faketime.\n",https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-222465134,222465134,
MarcoFalke,2016-05-30T19:07:09Z,"The motivation for this pull was to avoid regular ""bump date"" pulls such as https://github.com/bitcoin/bitcoin/pull/7251#issue-123874815.\n\nThe build date was removed in #7732 and I don't think we should add the commit date to the gui.\n",https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-222542196,222542196,
MarcoFalke,2016-05-30T19:10:57Z,"If this pull gets closes, it might be worth to update https://github.com/bitcoin/bitcoin/blob/950be19727a581970591d8f8138dfe4725750382/doc/release-process.md#bitcoin-maintainersrelease-engineers-update-version-in-sources and mention to bump the date in the same go.\n",https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-222542605,222542605,
laanwj,2016-06-09T08:56:24Z,"There's another place where this matters: the times/dates in the .zip files and .tar.gz archives of the binary distribution. I guess that makes it worth doing this. \n\n> The build date was removed in #7732 \n\nOnly from the GUI though. It's still logged in two places:\n\n```\nsrc/init.cpp:    LogPrintf(""Bitcoin version %s (%s)\n"", FormatFullVersion(), CLIENT_DATE);\nsrc/wallet/rpcdump.cpp:    fil",https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-224837654,224837654,
laanwj,2016-06-09T08:58:37Z,"> If this pull gets closes, it might be worth to update\n\nWell my point was more 'why would we care about this'. If there is no reason to care about this date at all, there's no point in bumping it either. E.g. after making sure it doesn't get shown in the GUI or log anymore.\nBut I suppose the dates in archives are a reason to care that it is somewhat up to date. It looks stupid to have files fr",https://github.com/bitcoin/bitcoin/pull/7283#issuecomment-224838155,224838155,
