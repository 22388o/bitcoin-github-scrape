[
  {
    "sha": "ca81b168d9ba61d918f029c0d8bf520ef2da1d3d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjYTgxYjE2OGQ5YmE2MWQ5MThmMDI5YzBkOGJmNTIwZWYyZGExZDNk",
    "commit": {
      "author": {
        "name": "Nils Schneider",
        "email": "nils.schneider@gmail.com",
        "date": "2011-06-03T16:03:12Z"
      },
      "committer": {
        "name": "Nils Schneider",
        "email": "nils.schneider@gmail.com",
        "date": "2011-06-03T16:04:41Z"
      },
      "message": "create keypool in LoadWallet()",
      "tree": {
        "sha": "fdc1553d3bded5668a7239af7ad15e4f2d73acac",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fdc1553d3bded5668a7239af7ad15e4f2d73acac"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ca81b168d9ba61d918f029c0d8bf520ef2da1d3d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ca81b168d9ba61d918f029c0d8bf520ef2da1d3d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ca81b168d9ba61d918f029c0d8bf520ef2da1d3d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ca81b168d9ba61d918f029c0d8bf520ef2da1d3d/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "e104c7937455bf2c9b535ec14ea710a97b66750b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e104c7937455bf2c9b535ec14ea710a97b66750b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e104c7937455bf2c9b535ec14ea710a97b66750b"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 5,
      "deletions": 6
    },
    "files": [
      {
        "sha": "c2c239db2f8524aace0249c9959f970f94d6fcc0",
        "filename": "src/db.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 6,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ca81b168d9ba61d918f029c0d8bf520ef2da1d3d/src/db.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ca81b168d9ba61d918f029c0d8bf520ef2da1d3d/src/db.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/db.cpp?ref=ca81b168d9ba61d918f029c0d8bf520ef2da1d3d",
        "patch": "@@ -845,12 +845,11 @@ bool LoadWallet(bool& fFirstRunRet)\n     {\n         // Create new keyUser and set as default key\n         RandAddSeedPerfmon();\n-        keyUser.MakeNewKey();\n-        if (!AddKey(keyUser))\n-            return false;\n-        if (!SetAddressBookName(PubKeyToAddress(keyUser.GetPubKey()), \"\"))\n-            return false;\n-        CWalletDB().WriteDefaultKey(keyUser.GetPubKey());\n+\n+        CWalletDB walletdb;\n+        vchDefaultKey = GetKeyFromKeyPool();\n+        walletdb.WriteDefaultKey(vchDefaultKey);\n+        walletdb.WriteName(PubKeyToAddress(vchDefaultKey), \"\");\n     }\n \n     CreateThread(ThreadFlushWalletDB, NULL);"
      }
    ]
  }
]