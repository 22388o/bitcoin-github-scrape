gavinandresen,2012-06-15T17:58:44Z,How should this be tested?\n,https://github.com/bitcoin/bitcoin/pull/1470#issuecomment-6362694,6362694,
jgarzik,2012-06-15T21:07:20Z,"@gavinandresen just a simple ""it works"" test using ArtForz' half-a-node satisfies me...\n",https://github.com/bitcoin/bitcoin/pull/1470#issuecomment-6366640,6366640,
luke-jr,2012-06-19T00:38:38Z,"Shouldn't this do something to ensure the transactions inv'd can be fetched? bitcoind won't send just any transaction right now, only ones it thinks it's flood-relaying.\n",https://github.com/bitcoin/bitcoin/pull/1470#issuecomment-6413251,6413251,
mikehearn,2012-06-21T08:53:54Z,"Yeah, Luke is right. The patch needs to update the getdata command as well.\n\nAfter I'm finished with LevelDB I can throw together some bitcoinj support for using this command and make sure it works.\n",https://github.com/bitcoin/bitcoin/pull/1470#issuecomment-6477379,6477379,
jgarzik,2012-07-31T21:45:43Z,Foo Dog\n,https://github.com/bitcoin/bitcoin/pull/1470#issuecomment-7412196,7412196,
TheBlueMatt,2012-06-15T15:04:28Z,Should we do an if (fClient) return;\n,https://github.com/bitcoin/bitcoin/pull/1470#discussion_r993195,993195,src/main.cpp
jgarzik,2012-06-15T15:33:59Z,"Definitely not.  This is part of SPV mode (although there are other uses as well).  SPV clients sync up blocks, and then look in the mempool for any transactions they may have missed.\n\nThis is also a client-initiated command, so it is the client that is proactively selecting to receive this data.\n",https://github.com/bitcoin/bitcoin/pull/1470#discussion_r993436,993436,src/main.cpp
TheBlueMatt,2012-06-15T16:04:16Z,"if (fClient) would mean that if we are a SPV node, we should not respond to mempool requests, as other SPV clients should not be asking peers that can entirely not check transactions for transactions (really to make it more explicit and keep SPV implementors from doing stupid things)\n",https://github.com/bitcoin/bitcoin/pull/1470#discussion_r993728,993728,src/main.cpp
jgarzik,2012-06-15T16:38:55Z,Thin clients can and will know at a higher level whether or not they should issue 'mempool' command in the first place.  Behavior for thin and fat clients and thin and fat servers is adequate without an explicit fClient check.\n,https://github.com/bitcoin/bitcoin/pull/1470#discussion_r993986,993986,src/main.cpp
TheBlueMatt,2012-06-15T20:05:36Z,"From IRC:\nIf we are redefining NODE_NETWORK (==!fClient) to be a classic-style archival node not necessarily a full node (for pruning), then Im fine with defining a SUPPORT_SPV_CLIENTS to be has full blocks and supports mempool/filters/etc then Im fine with that.  As long as we dont have partial support for the final SUPPORT_SPV_CLIENTS-type flag in one version and finalize it in the next.\n",https://github.com/bitcoin/bitcoin/pull/1470#discussion_r995588,995588,src/main.cpp
