[
  {
    "sha": "5f2c747d8971bb99a7b03ff67d01cbe4d7439838",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1ZjJjNzQ3ZDg5NzFiYjk5YTdiMDNmZjY3ZDAxY2JlNGQ3NDM5ODM4",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-06-18T06:23:59Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-06-18T06:23:59Z"
      },
      "message": "walletmodel: only update cached balances / transaction numbers and emit a SIGNAL, when they changed",
      "tree": {
        "sha": "ac3f86e1dac785d72e08ea8230468135e07d0115",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ac3f86e1dac785d72e08ea8230468135e07d0115"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5f2c747d8971bb99a7b03ff67d01cbe4d7439838",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5f2c747d8971bb99a7b03ff67d01cbe4d7439838",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5f2c747d8971bb99a7b03ff67d01cbe4d7439838",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5f2c747d8971bb99a7b03ff67d01cbe4d7439838/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "a54d2118be9be982d4ec40dd6c77e5a02708e4b0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a54d2118be9be982d4ec40dd6c77e5a02708e4b0",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a54d2118be9be982d4ec40dd6c77e5a02708e4b0"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 12,
      "deletions": 5
    },
    "files": [
      {
        "sha": "c8e0caa53912348d14e883f573e0ea381e49a341",
        "filename": "src/qt/walletmodel.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 5,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5f2c747d8971bb99a7b03ff67d01cbe4d7439838/src/qt/walletmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5f2c747d8971bb99a7b03ff67d01cbe4d7439838/src/qt/walletmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.cpp?ref=5f2c747d8971bb99a7b03ff67d01cbe4d7439838",
        "patch": "@@ -73,16 +73,23 @@ void WalletModel::updateTransaction(const QString &hash, int status)\n     qint64 newImmatureBalance = getImmatureBalance();\n     int newNumTransactions = getNumTransactions();\n \n+    // only update cached values and emit a SIGNAL, when a balance changed\n     if(cachedBalance != newBalance || cachedUnconfirmedBalance != newUnconfirmedBalance || cachedImmatureBalance != newImmatureBalance)\n+    {\n+        cachedBalance = newBalance;\n+        cachedUnconfirmedBalance = newUnconfirmedBalance;\n+        cachedImmatureBalance = newImmatureBalance;\n+\n         emit balanceChanged(newBalance, newUnconfirmedBalance, newImmatureBalance);\n+    }\n \n+    // only update cached value and emit a SIGNAL, when transaction number changed\n     if(cachedNumTransactions != newNumTransactions)\n-        emit numTransactionsChanged(newNumTransactions);\n+    {\n+        cachedNumTransactions = newNumTransactions;\n \n-    cachedBalance = newBalance;\n-    cachedUnconfirmedBalance = newUnconfirmedBalance;\n-    cachedImmatureBalance = newImmatureBalance;\n-    cachedNumTransactions = newNumTransactions;\n+        emit numTransactionsChanged(newNumTransactions);\n+    }\n }\n \n void WalletModel::updateAddressBook(const QString &address, const QString &label, bool isMine, int status)"
      }
    ]
  }
]