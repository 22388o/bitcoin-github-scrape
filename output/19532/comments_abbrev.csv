troygiorshev,2020-07-16 18:14:55,"This all looks great!\n\nHowever, try as I might, I can't get MyPy to ever actually tell me something is wrong.  (i.e. I intentionally give a function an argument with the wrong type and MyPy still passes every file)  Have you been able to?\n\nRegarding your concern [here](https://github.com/bitcoin/bitcoin/issues/19389#issuecomment-659054074) that this isn't python 3.5 compatible, I don't thi",https://github.com/bitcoin/bitcoin/pull/19532#issuecomment-659584317,659584317,
Ghorbanian,2020-07-18 16:59:23,"> This all looks great!\n> \n> However, try as I might, I can't get MyPy to ever actually tell me something is wrong. (i.e. I intentionally give a function an argument with the wrong type and MyPy still passes every file) Have you been able to?\n> \n> Regarding your concern [here](https://github.com/bitcoin/bitcoin/issues/19389#issuecomment-659054074) that this isn't python 3.5 compatible, I d",https://github.com/bitcoin/bitcoin/pull/19532#issuecomment-660510955,660510955,
adaminsky,2020-08-09 20:08:01,"I'm new to mypy, but I found this [issue](https://github.com/python/mypy/issues/1645) which seems to address the problem that was previously encountered. It seems like the `--namespace-packages` flag will fix the issue, but it may be easier to just add the empty `__init__.py` file to `test/functional/data` which fixes the problem too.\n\nTo test this,  I included the `__init__.py` file in the `d",https://github.com/bitcoin/bitcoin/pull/19532#issuecomment-671095289,671095289,
troygiorshev,2020-08-10 21:19:52,"@adaminsky thanks for looking at this!  Great to see that we might not need the stub files after all!  I don't think we're all the way there yet thought, creating `test/functional/data/__init__.py` is already the second commit of this PR :)\n\nDid you try making a type error inside a test in `test/functional/`?  I still can't get those to be caught.",https://github.com/bitcoin/bitcoin/pull/19532#issuecomment-671595547,671595547,
troygiorshev,2020-08-10 21:20:13,"I've tried changing MyPy's configuration options, maybe that will do the trick.  To try this too, create a config file, say, `test/functional/data/mypy.ini` with the following in it:\n\n```\n[mypy]\ncheck_untyped_defs = True\nno_implicit_optional = True\n```\n\nThen running MyPy with `mypy --config-file test/functional/data/mypy.ini test/functional` gives tonnes of errors (finally üéâ) but I",https://github.com/bitcoin/bitcoin/pull/19532#issuecomment-671595692,671595692,
adaminsky,2020-08-10 23:50:15,"@troygiorshev I mislabeled the types in the `BaseNode.__init__` function in `test/functional/example_test.py` and when I run `mypy test/functional`, it gives an error. I tried stuff like `1 + 'test'` to create type errors, but that doesn't work because Mypy assumes everything is untyped unless a function is fully annotated ([Mypy doc](https://mypy.readthedocs.io/en/stable/common_issues.html#no-err",https://github.com/bitcoin/bitcoin/pull/19532#issuecomment-671645497,671645497,
laanwj,2020-09-08 09:00:50,"I understand mypy is desirable for type checking, but I see a potential maintainability issue with the stub files: many changes to the test framework will now require updating these files as well. I'm not sure we should be putting this burden on every contributor.",https://github.com/bitcoin/bitcoin/pull/19532#issuecomment-688728341,688728341,
DrahtBot,2020-09-10 09:45:08,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19572 (ZMQ: Create ""sequence"" notifier, enabling client-side mempool tracking by instagibbs)\n\nIf you consider this pull",https://github.com/bitcoin/bitcoin/pull/19532#issuecomment-690119115,690119115,
DrahtBot,2020-09-23 12:04:25,"<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a ""draft"".</sub>",https://github.com/bitcoin/bitcoin/pull/19532#issuecomment-697319122,697319122,
fanquake,2021-05-28 03:49:42,"@Ghorbanian thanks for your work here, but I agree with @laanwj in regards to the maintenance overhead of adding these stubs. Since this PR was opened, there have been upstream changes which have negated the needs for some of the commits here, such as ignoring the zmq imports (the pyzmq package now comes with stubs).\n\nI'm going to close this PR, and I think we can renew discussion in #19389, a",https://github.com/bitcoin/bitcoin/pull/19532#issuecomment-850090580,850090580,
adamjonas,2020-07-16 17:00:58,"This line appears to be getting caught in the linter. \n\n`test/functional/test_framework/test_framework.py:717:13: F401 'zmq' imported but unused`",https://github.com/bitcoin/bitcoin/pull/19532#discussion_r455935608,455935608,test/functional/test_framework/test_framework.py
troygiorshev,2020-07-16 18:04:22,"As far as I can tell, we don't be able to fix this short of disabling flake8 linting for the entire file.  It's a false positive, in this case the very act of importing the module is ""using"" it.",https://github.com/bitcoin/bitcoin/pull/19532#discussion_r455973891,455973891,test/functional/test_framework/test_framework.py
troygiorshev,2020-07-16 18:58:49,It's worth noting that this brings us from 3 `F401` warnings up to 4 `F401` warnings.,https://github.com/bitcoin/bitcoin/pull/19532#discussion_r456005243,456005243,test/functional/test_framework/test_framework.py
jnewbery,2020-07-17 08:20:36,is it not possible to keep the `# noqa` linter disable comment?,https://github.com/bitcoin/bitcoin/pull/19532#discussion_r456293635,456293635,test/functional/test_framework/test_framework.py
troygiorshev,2020-07-17 12:25:39,"Unfortunately not.  We need the `type:ignore` or else MyPy fails completely.  I've tried things like putting them both on the same line but it looks like flake8 and MyPy just don't play nicely together in this sort of conflict.\n\nWorth noting maybe that pylint allows us to disable a particular linting error for an entire function (which would fix this problem), where AFAICT flake8 does not.",https://github.com/bitcoin/bitcoin/pull/19532#discussion_r456408788,456408788,test/functional/test_framework/test_framework.py
jnewbery,2020-07-17 12:50:02,that's unfortunate :(,https://github.com/bitcoin/bitcoin/pull/19532#discussion_r456421041,456421041,test/functional/test_framework/test_framework.py
kiminuo,2020-09-21 20:21:51,"> Unfortunately not. We need the type:ignore or else MyPy fails completely. I've tried things like putting them both on the same line but it looks like flake8 and MyPy just don't play nicely together in this sort of conflict.\n\nJust to clarify: https://mypy.readthedocs.io/en/stable/common_issues.html#silencing-linters - this does not work? Is it what you have tried?",https://github.com/bitcoin/bitcoin/pull/19532#discussion_r492323599,492323599,test/functional/test_framework/test_framework.py
