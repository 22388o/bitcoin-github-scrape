hebasto,2021-05-11 18:22:28,"> Steps to reproduce on vanilla Ubuntu Focal:\n> \n> ```\n> export DEBIAN_FRONTEND=noninteractive && apt update && apt install curl wget htop git vim ccache -y && git clone https://github.com/bitcoin/bitcoin.git && cd bitcoin && apt install build-essential libtool autotools-dev automake pkg-config bsdmainutils python3-zmq make automake cmake curl clang llvm g++-multilib libtool binutils-gold bs",https://github.com/bitcoin/bitcoin/pull/21920#issuecomment-838950423,838950423,
MarcoFalke,2021-05-11 18:29:30,"Somehow this just fixed itself, it seems :confused: ",https://github.com/bitcoin/bitcoin/pull/21920#issuecomment-838961111,838961111,
MarcoFalke,2021-05-12 13:19:17,"Was testing the wrong thing. Issue still exists with the ""steps to reproduce"" in OP.",https://github.com/bitcoin/bitcoin/pull/21920#issuecomment-839766421,839766421,
hebasto,2021-05-17 07:40:59,"Reproducing steps from the OP:\n```\n...\n  CXXLD    test/fuzz/fuzz\n/usr/bin/ld: test/fuzz/fuzz-multiplication_overflow.o: in function `void (anonymous namespace)::TestMultiplicationOverflow<long long>(FuzzedDataProvider&)':\nmultiplication_overflow.cpp:(.text._ZN12_GLOBAL__N_126TestMultiplicationOverflowIxEEvR18FuzzedDataProvider[_ZN12_GLOBAL__N_126TestMultiplicationOverflowIxEEvR18FuzzedDa",https://github.com/bitcoin/bitcoin/pull/21920#issuecomment-842090959,842090959,
MarcoFalke,2021-05-17 10:58:21,"> It seems this, more concise, diff also works:\n\nDoes this also work for riscv64 from commit 54ce4fac80689621dcbcc76169b2b00b179ee743 ? In either case the macro is already ~50 LOC, so I think +-3 lines shouldn't matter too much.",https://github.com/bitcoin/bitcoin/pull/21920#issuecomment-842227655,842227655,
hebasto,2021-05-17 11:53:33,"> Does this also work for riscv64 from commit [54ce4fa](https://github.com/bitcoin/bitcoin/commit/54ce4fac80689621dcbcc76169b2b00b179ee743) ?\n\nAfter reverting 54ce4fac80689621dcbcc76169b2b00b179ee743 on master, I still able to successfully cross compile for RISC-V (including gitian build) :man_shrugging: \n\n> In either case the macro is already ~50 LOC, so I think +-3 lines shouldn't matter",https://github.com/bitcoin/bitcoin/pull/21920#issuecomment-842262796,842262796,
MarcoFalke,2021-05-18 05:32:57,@fanquake Mind taking a look?,https://github.com/bitcoin/bitcoin/pull/21920#issuecomment-842854174,842854174,
hebasto,2021-05-11 18:25:07,Isn't just declaration of `std::atomic<std::chrono::seconds>` variable enough?,https://github.com/bitcoin/bitcoin/pull/21920#discussion_r630422884,630422884,build-aux/m4/l_atomic.m4
MarcoFalke,2021-05-11 18:26:52,I doubt it. The linker error complain about a missing store or load,https://github.com/bitcoin/bitcoin/pull/21920#discussion_r630423913,630423913,build-aux/m4/l_atomic.m4
fanquake,2021-05-18 12:30:37,"> Isn't just declaration of std::atomic<std::chrono::seconds> variable enough?\n\nYep that isn't enough.",https://github.com/bitcoin/bitcoin/pull/21920#discussion_r634330234,634330234,build-aux/m4/l_atomic.m4
