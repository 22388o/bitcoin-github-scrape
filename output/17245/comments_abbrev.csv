laanwj,2019-10-24 22:48:52,"The function to format a ISO8601 datetime is called `FormatISO8601DateTime`, maybe this should be `ParseISO8601DateTime`?\n\n~~Also: there seems to be no error handling; how does this handle invalid input?\n(I guess returning 0 would be OK, but not crashing or raising an exception, though not sure, it's something to think about at least)~~ (nm, I missed the `iss.fail()` bit)\n",https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546132952,546132952,
elichai,2019-10-24 23:20:45,Great :) I actually looked for a header to include this so I won't need to do manual declaration in the test.\n\nI'll rename it and move it to time.h/cpp,https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546139732,546139732,
laanwj,2019-10-25 09:20:10,"> I'll rename it and move it to time.h/cpp\n\nYes, that'd make sense! Could also do some roundtrip tests then.\n\nI'm a bit concerned about using `timegm`; from the man page:\n```\nCONFORMING TO\n       These functions are nonstandard GNU extensions that are also present on the BSDs.  Avoid their use.\n```\nSuch an explicit warning makes me feel bad. Seems sure this is going to cause buil",https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546276071,546276071,
elichai,2019-10-25 10:39:08,"> I'm a bit concerned about using `timegm`; from the man page:\n> \n> ```\n> CONFORMING TO\n>        These functions are nonstandard GNU extensions that are also present on the BSDs.  Avoid their use.\n> ```\n> \n> Such an explicit warning makes me feel bad. Seems sure this is going to cause builder complaints on some obscure or less obscure platform (does this exist on Android ?). It might",https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546302070,546302070,
laanwj,2019-10-25 10:49:13,"> We could copy glibc's implementation (bad idea)\n\nThat would be a license violation (LGPL is not compatible with MIT). We could use or copy from some other library which is MIT-compatibly-licensed. But yes, probably not worth it as long as it's still using boost for so many other things.\nIt's surprising how involved ""parse a ISO8601 datetime"" is in C++ with just the standard library, even C",https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546305101,546305101,
elichai,2019-10-25 10:50:02,FWIU the boost trick is just because boost's time isn't unix time. So if you want to get the time since unix epoch you need to subtract unix time 0 from your time. ,https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546305340,546305340,
elichai,2019-10-25 11:33:38,"> It's surprising how involved ""parse a ISO8601 datetime"" is in C++ with just the standard library, even C++11.\n\nYeah it seems like timezones stuff will only get in in C++20.\n\nThere's also `strptime(3)` which might work. And it's posix instead of a gnu extension. (but then windows https://social.msdn.microsoft.com/Forums/vstudio/en-US/199a0e75-cb51-40b8-8e3c-230f65a2f4a4/alternative-for-st",https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546318502,546318502,
laanwj,2019-10-25 11:43:46,"FWIW `strptime` is disallowed by `test/lint/lint-locale-dependence.sh` because its date parsing can be locale-dependent (month names, for example, though not relevant for this specific case).",https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546321311,546321311,
elichai,2019-10-25 13:05:57,"Right. forgot about that. (I see that `getdate(3)` is also there)\n@laanwj do you know if the format always looks like this? `2019-10-24T23:46:06Z` \ni.e. `YYYY-MM-DDTHH:MM:SSZ`. if so I can probably write an easy parser from that to `std::tm` and then use `mktime` to get the time_t.",https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546345861,546345861,
laanwj,2019-10-25 13:16:07,"> @laanwj do you know if the format always looks like this? 2019-10-24T23:46:06Z\n\nYes, it always looks like that.\n\nBut to be honest I think it's better to revisit this later. Likely, at the time that we're really ready to get rid of boost, `trusty` is no longer a relevant platform, and it can simply use `std::gettime`.\n\n>  and then use mktime to get the time_t.\n\n`mktime` uses the *",https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546349392,546349392,
elichai,2019-10-25 13:42:50,"> But to be honest I think it's better to revisit this later. Likely, at the time that we're really ready to get rid of boost, `trusty` is no longer a relevant platform, and it can simply use `std::gettime`.\n\nYeah :/ I guess we'll leave this for a while and I'll move on :)",https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546359243,546359243,
MarcoFalke,2019-10-25 13:45:24,I guess the rename can be done today. I wasn't aware that this util forms a round trip with `FormatISO8601DateTime`.,https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546360193,546360193,
DrahtBot,2019-10-25 16:53:19,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16037](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16037.html) (rpc: Enable wallet import on pruned nodes b",https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546429975,546429975,
laanwj,2019-10-26 10:45:45,"Yes, doing the rename/move separately might be worthwhile.\n\nmaybe instead of getting rid of boost dep, new goal should be ""isolate boost usage to a few places that we know are pain points"" (such as date/time/sleep/filesystem handling)",https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546591732,546591732,
elichai,2019-10-26 18:13:27,Opened #17266,https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-546626807,546626807,
practicalswift,2021-02-17 21:29:22,"Now that #21110 has been merged I think it might be time to resurrect this PR :)\n\nContext: https://github.com/bitcoin/bitcoin/pull/21110#issuecomment-780442243",https://github.com/bitcoin/bitcoin/pull/17245#issuecomment-780866585,780866585,
