[
  {
    "sha": "c656f2399a6e6335cb14094d2a904d8d8cb922c1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjNjU2ZjIzOTlhNmU2MzM1Y2IxNDA5NGQyYTkwNGQ4ZDhjYjkyMmMx",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-22T22:25:16Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:34Z"
      },
      "message": "added debug.log output for boost::interprocess::interprocess_exception",
      "tree": {
        "sha": "a92a288440aeb93224263a74ab8a7ecc6dad4ddb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a92a288440aeb93224263a74ab8a7ecc6dad4ddb"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c656f2399a6e6335cb14094d2a904d8d8cb922c1",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c656f2399a6e6335cb14094d2a904d8d8cb922c1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c656f2399a6e6335cb14094d2a904d8d8cb922c1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c656f2399a6e6335cb14094d2a904d8d8cb922c1/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "8d29329f934b1abb178037e18f434255736b5c81",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8d29329f934b1abb178037e18f434255736b5c81",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8d29329f934b1abb178037e18f434255736b5c81"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 4,
      "deletions": 0
    },
    "files": [
      {
        "sha": "9c4671c467e0894367ad621884c9f26a9d327072",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c656f2399a6e6335cb14094d2a904d8d8cb922c1/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c656f2399a6e6335cb14094d2a904d8d8cb922c1/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=c656f2399a6e6335cb14094d2a904d8d8cb922c1",
        "patch": "@@ -143,6 +143,7 @@ int main(int argc, char *argv[])\n                     break;\n             }\n             catch (boost::interprocess::interprocess_exception &ex) {\n+                printf(\"boost::interprocess exeption: %s\\n\", ex.what());\n                 break;\n             }\n         }\n@@ -264,6 +265,8 @@ int main(int argc, char *argv[])\n                             mq.try_send(strURL, strlen(strURL), 0);\n                         }\n                         catch (boost::interprocess::interprocess_exception &ex) {\n+                            printf(\"boost::interprocess exeption: %s\\n\", ex.what());\n+\t\t\t\t\t\t\tbreak;\n                         }\n                     }\n                 }"
      },
      {
        "sha": "4545ea73a00d773e31231fa74c0f263414dce54f",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c656f2399a6e6335cb14094d2a904d8d8cb922c1/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c656f2399a6e6335cb14094d2a904d8d8cb922c1/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=c656f2399a6e6335cb14094d2a904d8d8cb922c1",
        "patch": "@@ -79,6 +79,7 @@ void ipcInit()\n         mq = new message_queue(open_or_create, \"BitcoinURL\", 2, 256);\n     }\n     catch (interprocess_exception &ex) {\n+        printf(\"ipcInit - boost::interprocess exeption: %s\\n\", ex.what());\n         return;\n     }\n     if (!CreateThread(ipcThread, mq))"
      }
    ]
  },
  {
    "sha": "6caed63f8960777d6a5c96d3380b1c1cc91ba224",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2Y2FlZDYzZjg5NjA3NzdkNmE1Yzk2ZDMzODBiMWMxY2M5MWJhMjI0",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-22T22:30:00Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:34Z"
      },
      "message": "removed using namespace for boost::interprocess and boost::posix_time to make debugging easier",
      "tree": {
        "sha": "087aea9461bd08dfa184b940da864e3b1eca16bc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/087aea9461bd08dfa184b940da864e3b1eca16bc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6caed63f8960777d6a5c96d3380b1c1cc91ba224",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6caed63f8960777d6a5c96d3380b1c1cc91ba224",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6caed63f8960777d6a5c96d3380b1c1cc91ba224",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6caed63f8960777d6a5c96d3380b1c1cc91ba224/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "c656f2399a6e6335cb14094d2a904d8d8cb922c1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c656f2399a6e6335cb14094d2a904d8d8cb922c1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c656f2399a6e6335cb14094d2a904d8d8cb922c1"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 8,
      "deletions": 10
    },
    "files": [
      {
        "sha": "05aaaa4ecac662a86e5606e237c143afec51098e",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 10,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6caed63f8960777d6a5c96d3380b1c1cc91ba224/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6caed63f8960777d6a5c96d3380b1c1cc91ba224/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=6caed63f8960777d6a5c96d3380b1c1cc91ba224",
        "patch": "@@ -9,25 +9,23 @@\n \n #include \"headers.h\"\n \n-using namespace boost::interprocess;\n-using namespace boost::posix_time;\n using namespace boost;\n using namespace std;\n \n void ipcShutdown()\n {\n-    message_queue::remove(\"BitcoinURL\");\n+    boost::interprocess::message_queue::remove(\"BitcoinURL\");\n }\n \n void ipcThread(void* parg)\n {\n-    message_queue* mq = (message_queue*)parg;\n+    boost::interprocess::message_queue* mq = (boost::interprocess::message_queue*)parg;\n     char strBuf[257];\n     size_t nSize;\n     unsigned int nPriority;\n     loop\n     {\n-        ptime d = boost::posix_time::microsec_clock::universal_time() + millisec(100);\n+        boost::posix_time::ptime d = boost::posix_time::microsec_clock::universal_time() + boost::posix_time::millisec(100);\n         if(mq->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n         {\n             ThreadSafeHandleURL(std::string(strBuf, nSize));\n@@ -55,17 +53,17 @@ void ipcInit()\n     return;\n #endif\n \n-    message_queue* mq;\n+    boost::interprocess::message_queue* mq;\n     char strBuf[257];\n     size_t nSize;\n     unsigned int nPriority;\n     try {\n-        mq = new message_queue(open_or_create, \"BitcoinURL\", 2, 256);\n+        mq = new boost::interprocess::message_queue(boost::interprocess::open_or_create, \"BitcoinURL\", 2, 256);\n \n         // Make sure we don't lose any bitcoin: URIs\n         for (int i = 0; i < 2; i++)\n         {\n-            ptime d = boost::posix_time::microsec_clock::universal_time() + millisec(1);\n+            boost::posix_time::ptime d = boost::posix_time::microsec_clock::universal_time() + boost::posix_time::millisec(1);\n             if(mq->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n             {\n                 ThreadSafeHandleURL(std::string(strBuf, nSize));\n@@ -75,8 +73,8 @@ void ipcInit()\n         }\n \n         // Make sure only one bitcoin instance is listening\n-        message_queue::remove(\"BitcoinURL\");\n-        mq = new message_queue(open_or_create, \"BitcoinURL\", 2, 256);\n+        boost::interprocess::message_queue::remove(\"BitcoinURL\");\n+        mq = new boost::interprocess::message_queue(boost::interprocess::open_or_create, \"BitcoinURL\", 2, 256);\n     }\n     catch (interprocess_exception &ex) {\n         printf(\"ipcInit - boost::interprocess exeption: %s\\n\", ex.what());"
      }
    ]
  },
  {
    "sha": "2a1a94cb05881a630dc6efa8b2c461ea8219f379",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyYTFhOTRjYjA1ODgxYTYzMGRjNmVmYThiMmM0NjFlYTgyMTlmMzc5",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-22T22:34:53Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:35Z"
      },
      "message": "changed message_queue properties from open_or_create to create_only (only this triggers an exception after a hard Bitcoin-Qt crash)",
      "tree": {
        "sha": "425ab879b7157ae611e392e61690a948203e40dc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/425ab879b7157ae611e392e61690a948203e40dc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2a1a94cb05881a630dc6efa8b2c461ea8219f379",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2a1a94cb05881a630dc6efa8b2c461ea8219f379",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2a1a94cb05881a630dc6efa8b2c461ea8219f379",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2a1a94cb05881a630dc6efa8b2c461ea8219f379/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "6caed63f8960777d6a5c96d3380b1c1cc91ba224",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6caed63f8960777d6a5c96d3380b1c1cc91ba224",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6caed63f8960777d6a5c96d3380b1c1cc91ba224"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 5,
      "deletions": 3
    },
    "files": [
      {
        "sha": "0f0523719fdee52d1b25cad000f9e5ed408a1617",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 3,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2a1a94cb05881a630dc6efa8b2c461ea8219f379/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2a1a94cb05881a630dc6efa8b2c461ea8219f379/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=2a1a94cb05881a630dc6efa8b2c461ea8219f379",
        "patch": "@@ -3,9 +3,11 @@\n // file license.txt or http://www.opensource.org/licenses/mit-license.php.\n \n #include <boost/algorithm/string.hpp>\n+#include <boost/date_time/posix_time/posix_time.hpp>\n+#include <boost/filesystem.hpp>\n+#include <boost/filesystem/fstream.hpp>\n #include <boost/interprocess/ipc/message_queue.hpp>\n #include <boost/tokenizer.hpp>\n-#include <boost/date_time/posix_time/posix_time.hpp>\n \n #include \"headers.h\"\n \n@@ -58,7 +60,7 @@ void ipcInit()\n     size_t nSize;\n     unsigned int nPriority;\n     try {\n-        mq = new boost::interprocess::message_queue(boost::interprocess::open_or_create, \"BitcoinURL\", 2, 256);\n+        mq = new boost::interprocess::message_queue(boost::interprocess::create_only, \"BitcoinURL\", 2, 256);\n \n         // Make sure we don't lose any bitcoin: URIs\n         for (int i = 0; i < 2; i++)\n@@ -74,7 +76,7 @@ void ipcInit()\n \n         // Make sure only one bitcoin instance is listening\n         boost::interprocess::message_queue::remove(\"BitcoinURL\");\n-        mq = new boost::interprocess::message_queue(boost::interprocess::open_or_create, \"BitcoinURL\", 2, 256);\n+        mq = new boost::interprocess::message_queue(boost::interprocess::create_only, \"BitcoinURL\", 2, 256);\n     }\n     catch (interprocess_exception &ex) {\n         printf(\"ipcInit - boost::interprocess exeption: %s\\n\", ex.what());"
      }
    ]
  },
  {
    "sha": "1d8a44960290f9ca301fcfe770a1eec9f6b61c83",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxZDhhNDQ5NjAyOTBmOWNhMzAxZmNmZTc3MGExZWVjOWY2YjYxYzgz",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-22T22:37:52Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:35Z"
      },
      "message": "forgot to add an boost::interprocess after removing that namespace",
      "tree": {
        "sha": "bad6b73aa06a3a1f803ada9597e436ee5a4049a3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bad6b73aa06a3a1f803ada9597e436ee5a4049a3"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1d8a44960290f9ca301fcfe770a1eec9f6b61c83",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1d8a44960290f9ca301fcfe770a1eec9f6b61c83",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/1d8a44960290f9ca301fcfe770a1eec9f6b61c83",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1d8a44960290f9ca301fcfe770a1eec9f6b61c83/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "2a1a94cb05881a630dc6efa8b2c461ea8219f379",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2a1a94cb05881a630dc6efa8b2c461ea8219f379",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2a1a94cb05881a630dc6efa8b2c461ea8219f379"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "90defb8334ca7330b7bfc4ed512b0a8bd3b3ff5e",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1d8a44960290f9ca301fcfe770a1eec9f6b61c83/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1d8a44960290f9ca301fcfe770a1eec9f6b61c83/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=1d8a44960290f9ca301fcfe770a1eec9f6b61c83",
        "patch": "@@ -78,7 +78,7 @@ void ipcInit()\n         boost::interprocess::message_queue::remove(\"BitcoinURL\");\n         mq = new boost::interprocess::message_queue(boost::interprocess::create_only, \"BitcoinURL\", 2, 256);\n     }\n-    catch (interprocess_exception &ex) {\n+    catch (boost::interprocess::interprocess_exception &ex) {\n         printf(\"ipcInit - boost::interprocess exeption: %s\\n\", ex.what());\n         return;\n     }"
      }
    ]
  },
  {
    "sha": "6779cba486cbb6c41f4a9f20e5aad5071569ef93",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2Nzc5Y2JhNDg2Y2JiNmM0MWY0YTlmMjBlNWFhZDUwNzE1NjllZjkz",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-22T22:40:47Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:36Z"
      },
      "message": "integrated an ipcRecover() function to detect and remove a stale ipc message queue file",
      "tree": {
        "sha": "9bffc1684713dd5357668e5c811ae31342f1360f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9bffc1684713dd5357668e5c811ae31342f1360f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6779cba486cbb6c41f4a9f20e5aad5071569ef93",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6779cba486cbb6c41f4a9f20e5aad5071569ef93",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6779cba486cbb6c41f4a9f20e5aad5071569ef93",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6779cba486cbb6c41f4a9f20e5aad5071569ef93/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "1d8a44960290f9ca301fcfe770a1eec9f6b61c83",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1d8a44960290f9ca301fcfe770a1eec9f6b61c83",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1d8a44960290f9ca301fcfe770a1eec9f6b61c83"
      }
    ],
    "stats": {
      "total": 25,
      "additions": 24,
      "deletions": 1
    },
    "files": [
      {
        "sha": "ebaa0cbd3bd895b3808927828c3f7c55b5c8ac0b",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 21,
        "deletions": 0,
        "changes": 21,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6779cba486cbb6c41f4a9f20e5aad5071569ef93/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6779cba486cbb6c41f4a9f20e5aad5071569ef93/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=6779cba486cbb6c41f4a9f20e5aad5071569ef93",
        "patch": "@@ -19,6 +19,25 @@ void ipcShutdown()\n     boost::interprocess::message_queue::remove(\"BitcoinURL\");\n }\n \n+void ipcRecover(const char *Filename)\n+{\n+    std::string strIpcDir;\n+    // get path to stale ipc message queue file\n+    boost::interprocess::ipcdetail::tmp_filename(Filename, strIpcDir);\n+\n+    filesystem::path pathMessageQueue(strIpcDir);\n+    pathMessageQueue.make_preferred();\n+\n+    // if the message queue file yet exists, try to remove it\n+    if(exists(pathMessageQueue))\n+    {\n+        string strLogMessage = (\"ipcRecover - old message queue found, trying to remove: \" + pathMessageQueue.string() + \" ...\");\n+        (remove(pathMessageQueue)) ? strLogMessage += \"success\\n\" : strLogMessage += \"failed\\n\";\n+\n+        printf(strLogMessage.c_str());\n+    }\n+}\n+\n void ipcThread(void* parg)\n {\n     boost::interprocess::message_queue* mq = (boost::interprocess::message_queue*)parg;\n@@ -80,6 +99,8 @@ void ipcInit()\n     }\n     catch (boost::interprocess::interprocess_exception &ex) {\n         printf(\"ipcInit - boost::interprocess exeption: %s\\n\", ex.what());\n+        // try a recovery to fix #956 and pass our message queue name\n+        ipcRecover(\"BitcoinURL\");\n         return;\n     }\n     if (!CreateThread(ipcThread, mq))"
      },
      {
        "sha": "f985a8880053fd0bcf0f9dd7b95ddad622ea18de",
        "filename": "src/qt/qtipcserver.h",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6779cba486cbb6c41f4a9f20e5aad5071569ef93/src/qt/qtipcserver.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6779cba486cbb6c41f4a9f20e5aad5071569ef93/src/qt/qtipcserver.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.h?ref=6779cba486cbb6c41f4a9f20e5aad5071569ef93",
        "patch": "@@ -1,2 +1,4 @@\n-void ipcInit();\n void ipcShutdown();\n+void ipcRecover(const char *);\n+void ipcThread(void*);\n+void ipcInit();"
      }
    ]
  },
  {
    "sha": "261b80da4dccb87cd14444a7c8d2929b63c5dbdf",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyNjFiODBkYTRkY2NiODdjZDE0NDQ0YTdjOGQyOTI5YjYzYzVkYmRm",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-22T23:13:16Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:36Z"
      },
      "message": "fixed typo: exeption -> exception",
      "tree": {
        "sha": "fc47463e4914df6bb9d98897a0ef247b42292dfc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fc47463e4914df6bb9d98897a0ef247b42292dfc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/261b80da4dccb87cd14444a7c8d2929b63c5dbdf",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/261b80da4dccb87cd14444a7c8d2929b63c5dbdf",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/261b80da4dccb87cd14444a7c8d2929b63c5dbdf",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/261b80da4dccb87cd14444a7c8d2929b63c5dbdf/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "6779cba486cbb6c41f4a9f20e5aad5071569ef93",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6779cba486cbb6c41f4a9f20e5aad5071569ef93",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6779cba486cbb6c41f4a9f20e5aad5071569ef93"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "cff7b3bc4fac2c5304823ec5e662d4c7f7445a31",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/261b80da4dccb87cd14444a7c8d2929b63c5dbdf/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/261b80da4dccb87cd14444a7c8d2929b63c5dbdf/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=261b80da4dccb87cd14444a7c8d2929b63c5dbdf",
        "patch": "@@ -143,7 +143,7 @@ int main(int argc, char *argv[])\n                     break;\n             }\n             catch (boost::interprocess::interprocess_exception &ex) {\n-                printf(\"boost::interprocess exeption: %s\\n\", ex.what());\n+                printf(\"boost::interprocess exception: %s\\n\", ex.what());\n                 break;\n             }\n         }\n@@ -265,7 +265,7 @@ int main(int argc, char *argv[])\n                             mq.try_send(strURL, strlen(strURL), 0);\n                         }\n                         catch (boost::interprocess::interprocess_exception &ex) {\n-                            printf(\"boost::interprocess exeption: %s\\n\", ex.what());\n+                            printf(\"boost::interprocess exception: %s\\n\", ex.what());\n \t\t\t\t\t\t\tbreak;\n                         }\n                     }"
      },
      {
        "sha": "48c76e1431962a75b6012a96e9d2166658f71a31",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/261b80da4dccb87cd14444a7c8d2929b63c5dbdf/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/261b80da4dccb87cd14444a7c8d2929b63c5dbdf/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=261b80da4dccb87cd14444a7c8d2929b63c5dbdf",
        "patch": "@@ -98,7 +98,7 @@ void ipcInit()\n         mq = new boost::interprocess::message_queue(boost::interprocess::create_only, \"BitcoinURL\", 2, 256);\n     }\n     catch (boost::interprocess::interprocess_exception &ex) {\n-        printf(\"ipcInit - boost::interprocess exeption: %s\\n\", ex.what());\n+        printf(\"ipcInit - boost::interprocess exception: %s\\n\", ex.what());\n         // try a recovery to fix #956 and pass our message queue name\n         ipcRecover(\"BitcoinURL\");\n         return;"
      }
    ]
  },
  {
    "sha": "13cc75a0e62a4ce01f9ad4f55dab98da0893df37",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxM2NjNzVhMGU2MmE0Y2UwMWY5YWQ0ZjU1ZGFiOThkYTA4OTNkZjM3",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-23T07:43:12Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:37Z"
      },
      "message": "only call ipcRecover, if the boost interprocess exception threw already_exists_error",
      "tree": {
        "sha": "7cbd6178a37194c4ee85b6f0e17e3fe63c036d26",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7cbd6178a37194c4ee85b6f0e17e3fe63c036d26"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/13cc75a0e62a4ce01f9ad4f55dab98da0893df37",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/13cc75a0e62a4ce01f9ad4f55dab98da0893df37",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/13cc75a0e62a4ce01f9ad4f55dab98da0893df37",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/13cc75a0e62a4ce01f9ad4f55dab98da0893df37/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "261b80da4dccb87cd14444a7c8d2929b63c5dbdf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/261b80da4dccb87cd14444a7c8d2929b63c5dbdf",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/261b80da4dccb87cd14444a7c8d2929b63c5dbdf"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 11,
      "deletions": 6
    },
    "files": [
      {
        "sha": "7b3b23a9cfa27338dd5adb5f09cd1faa63956ee0",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 6,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/13cc75a0e62a4ce01f9ad4f55dab98da0893df37/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/13cc75a0e62a4ce01f9ad4f55dab98da0893df37/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=13cc75a0e62a4ce01f9ad4f55dab98da0893df37",
        "patch": "@@ -28,11 +28,11 @@ void ipcRecover(const char *Filename)\n     filesystem::path pathMessageQueue(strIpcDir);\n     pathMessageQueue.make_preferred();\n \n-    // if the message queue file yet exists, try to remove it\n+    // verify that the message queue file really exists and remove it\n     if(exists(pathMessageQueue))\n     {\n-        string strLogMessage = (\"ipcRecover - old message queue found, trying to remove: \" + pathMessageQueue.string() + \" ...\");\n-        (remove(pathMessageQueue)) ? strLogMessage += \"success\\n\" : strLogMessage += \"failed\\n\";\n+        string strLogMessage = (\"ipcRecover - old message queue found, trying to remove: \" + pathMessageQueue.string());\n+        (remove(pathMessageQueue)) ? strLogMessage += \" ...success\\n\" : strLogMessage += \" ...failed\\n\";\n \n         printf(strLogMessage.c_str());\n     }\n@@ -98,9 +98,14 @@ void ipcInit()\n         mq = new boost::interprocess::message_queue(boost::interprocess::create_only, \"BitcoinURL\", 2, 256);\n     }\n     catch (boost::interprocess::interprocess_exception &ex) {\n-        printf(\"ipcInit - boost::interprocess exception: %s\\n\", ex.what());\n-        // try a recovery to fix #956 and pass our message queue name\n-        ipcRecover(\"BitcoinURL\");\n+        printf(\"ipcInit - boost::interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n+\n+        // check if the exception is a \"file already exists\" error\n+        if(ex.get_error_code() == boost::interprocess::already_exists_error)\n+        {\n+            // try a recovery to fix #956 and pass our message queue name\n+            ipcRecover(\"BitcoinURL\");\n+        }\n         return;\n     }\n     if (!CreateThread(ipcThread, mq))"
      }
    ]
  },
  {
    "sha": "989b954b9ded7af33b4b0dd49e6835c96305e9e6",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5ODliOTU0YjlkZWQ3YWYzM2I0YjBkZDQ5ZTY4MzVjOTYzMDVlOWU2",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-23T07:49:06Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:37Z"
      },
      "message": "include boost interprocess exception error number in debug.log for\nexceptions in bitcoin.cpp, too",
      "tree": {
        "sha": "9192beaf40f3eb45a775d4410ba8b2571924956a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9192beaf40f3eb45a775d4410ba8b2571924956a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/989b954b9ded7af33b4b0dd49e6835c96305e9e6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/989b954b9ded7af33b4b0dd49e6835c96305e9e6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/989b954b9ded7af33b4b0dd49e6835c96305e9e6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/989b954b9ded7af33b4b0dd49e6835c96305e9e6/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "13cc75a0e62a4ce01f9ad4f55dab98da0893df37",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/13cc75a0e62a4ce01f9ad4f55dab98da0893df37",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/13cc75a0e62a4ce01f9ad4f55dab98da0893df37"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "9ee501293e86f8a45ba1783ef707669c33fe4a5a",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/989b954b9ded7af33b4b0dd49e6835c96305e9e6/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/989b954b9ded7af33b4b0dd49e6835c96305e9e6/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=989b954b9ded7af33b4b0dd49e6835c96305e9e6",
        "patch": "@@ -143,7 +143,7 @@ int main(int argc, char *argv[])\n                     break;\n             }\n             catch (boost::interprocess::interprocess_exception &ex) {\n-                printf(\"boost::interprocess exception: %s\\n\", ex.what());\n+                printf(\"boost::interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n                 break;\n             }\n         }\n@@ -265,7 +265,7 @@ int main(int argc, char *argv[])\n                             mq.try_send(strURL, strlen(strURL), 0);\n                         }\n                         catch (boost::interprocess::interprocess_exception &ex) {\n-                            printf(\"boost::interprocess exception: %s\\n\", ex.what());\n+                            printf(\"boost::interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n \t\t\t\t\t\t\tbreak;\n                         }\n                     }"
      }
    ]
  },
  {
    "sha": "6d0ae4d9e885d1b71da54144b8297d11536d3ca1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2ZDBhZTRkOWU4ODVkMWI3MWRhNTQxNDRiODI5N2QxMTUzNmQzY2Ex",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-23T10:34:54Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:38Z"
      },
      "message": "added safety check to filesystem::remove() to avoid another exception, if access to the file is denied and made ipcRecover() return a bool",
      "tree": {
        "sha": "4daa20a970a55f002cefce42303507279cc60145",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4daa20a970a55f002cefce42303507279cc60145"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6d0ae4d9e885d1b71da54144b8297d11536d3ca1",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6d0ae4d9e885d1b71da54144b8297d11536d3ca1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6d0ae4d9e885d1b71da54144b8297d11536d3ca1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6d0ae4d9e885d1b71da54144b8297d11536d3ca1/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "989b954b9ded7af33b4b0dd49e6835c96305e9e6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/989b954b9ded7af33b4b0dd49e6835c96305e9e6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/989b954b9ded7af33b4b0dd49e6835c96305e9e6"
      }
    ],
    "stats": {
      "total": 23,
      "additions": 19,
      "deletions": 4
    },
    "files": [
      {
        "sha": "97b5aa8c43cc084ebe9d10e6d0b5f37dcf8f4d89",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 18,
        "deletions": 3,
        "changes": 21,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6d0ae4d9e885d1b71da54144b8297d11536d3ca1/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6d0ae4d9e885d1b71da54144b8297d11536d3ca1/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=6d0ae4d9e885d1b71da54144b8297d11536d3ca1",
        "patch": "@@ -19,7 +19,7 @@ void ipcShutdown()\n     boost::interprocess::message_queue::remove(\"BitcoinURL\");\n }\n \n-void ipcRecover(const char *Filename)\n+bool ipcRecover(const char *Filename)\n {\n     std::string strIpcDir;\n     // get path to stale ipc message queue file\n@@ -32,10 +32,25 @@ void ipcRecover(const char *Filename)\n     if(exists(pathMessageQueue))\n     {\n         string strLogMessage = (\"ipcRecover - old message queue found, trying to remove: \" + pathMessageQueue.string());\n-        (remove(pathMessageQueue)) ? strLogMessage += \" ...success\\n\" : strLogMessage += \" ...failed\\n\";\n+        system::error_code ec;\n \n-        printf(strLogMessage.c_str());\n+        // try removal, but take care of further errors\n+        if(remove(pathMessageQueue, ec))\n+        {\n+            strLogMessage += \" ...success\\n\";\n+            printf(strLogMessage.c_str());\n+            return true;\n+        }\n+        else\n+        {\n+            strLogMessage += \" ...failed\\n\";\n+            printf(strLogMessage.c_str());\n+            printf(\"ipcRecover - removal of old message queue failed with error #%d: %s\\n\", ec.value(), ec.message().c_str());\n+            return false;\n+        }\n     }\n+    else\n+        return false;\n }\n \n void ipcThread(void* parg)"
      },
      {
        "sha": "9674851916c95b65d17d2caccb8b6a1eaf1a4a8e",
        "filename": "src/qt/qtipcserver.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6d0ae4d9e885d1b71da54144b8297d11536d3ca1/src/qt/qtipcserver.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6d0ae4d9e885d1b71da54144b8297d11536d3ca1/src/qt/qtipcserver.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.h?ref=6d0ae4d9e885d1b71da54144b8297d11536d3ca1",
        "patch": "@@ -1,4 +1,4 @@\n void ipcShutdown();\n-void ipcRecover(const char *);\n+bool ipcRecover(const char *);\n void ipcThread(void*);\n void ipcInit();"
      }
    ]
  },
  {
    "sha": "e05676473e39e4c4c76adccc140ac7f2e1860874",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplMDU2NzY0NzNlMzllNGM0Yzc2YWRjY2MxNDBhYzdmMmUxODYwODc0",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-23T10:38:18Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:38Z"
      },
      "message": "removed prefix boost:: as we are using namespace boost",
      "tree": {
        "sha": "9a475df0e2e96f1378727bd710ac921e4b5c1449",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9a475df0e2e96f1378727bd710ac921e4b5c1449"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e05676473e39e4c4c76adccc140ac7f2e1860874",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e05676473e39e4c4c76adccc140ac7f2e1860874",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e05676473e39e4c4c76adccc140ac7f2e1860874",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e05676473e39e4c4c76adccc140ac7f2e1860874/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "6d0ae4d9e885d1b71da54144b8297d11536d3ca1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6d0ae4d9e885d1b71da54144b8297d11536d3ca1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6d0ae4d9e885d1b71da54144b8297d11536d3ca1"
      }
    ],
    "stats": {
      "total": 24,
      "additions": 12,
      "deletions": 12
    },
    "files": [
      {
        "sha": "ddd3fbb5a1067ed7cf8448095b3e006d6786635b",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 12,
        "changes": 24,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e05676473e39e4c4c76adccc140ac7f2e1860874/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e05676473e39e4c4c76adccc140ac7f2e1860874/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=e05676473e39e4c4c76adccc140ac7f2e1860874",
        "patch": "@@ -16,14 +16,14 @@ using namespace std;\n \n void ipcShutdown()\n {\n-    boost::interprocess::message_queue::remove(\"BitcoinURL\");\n+    interprocess::message_queue::remove(\"BitcoinURL\");\n }\n \n bool ipcRecover(const char *Filename)\n {\n     std::string strIpcDir;\n     // get path to stale ipc message queue file\n-    boost::interprocess::ipcdetail::tmp_filename(Filename, strIpcDir);\n+    interprocess::ipcdetail::tmp_filename(Filename, strIpcDir);\n \n     filesystem::path pathMessageQueue(strIpcDir);\n     pathMessageQueue.make_preferred();\n@@ -55,13 +55,13 @@ bool ipcRecover(const char *Filename)\n \n void ipcThread(void* parg)\n {\n-    boost::interprocess::message_queue* mq = (boost::interprocess::message_queue*)parg;\n+    interprocess::message_queue* mq = (interprocess::message_queue*)parg;\n     char strBuf[257];\n     size_t nSize;\n     unsigned int nPriority;\n     loop\n     {\n-        boost::posix_time::ptime d = boost::posix_time::microsec_clock::universal_time() + boost::posix_time::millisec(100);\n+        posix_time::ptime d = posix_time::microsec_clock::universal_time() + posix_time::millisec(100);\n         if(mq->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n         {\n             ThreadSafeHandleURL(std::string(strBuf, nSize));\n@@ -89,17 +89,17 @@ void ipcInit()\n     return;\n #endif\n \n-    boost::interprocess::message_queue* mq;\n+    interprocess::message_queue* mq;\n     char strBuf[257];\n     size_t nSize;\n     unsigned int nPriority;\n     try {\n-        mq = new boost::interprocess::message_queue(boost::interprocess::create_only, \"BitcoinURL\", 2, 256);\n+        mq = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n \n         // Make sure we don't lose any bitcoin: URIs\n         for (int i = 0; i < 2; i++)\n         {\n-            boost::posix_time::ptime d = boost::posix_time::microsec_clock::universal_time() + boost::posix_time::millisec(1);\n+            posix_time::ptime d = posix_time::microsec_clock::universal_time() + posix_time::millisec(1);\n             if(mq->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n             {\n                 ThreadSafeHandleURL(std::string(strBuf, nSize));\n@@ -109,14 +109,14 @@ void ipcInit()\n         }\n \n         // Make sure only one bitcoin instance is listening\n-        boost::interprocess::message_queue::remove(\"BitcoinURL\");\n-        mq = new boost::interprocess::message_queue(boost::interprocess::create_only, \"BitcoinURL\", 2, 256);\n+        interprocess::message_queue::remove(\"BitcoinURL\");\n+        mq = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n     }\n-    catch (boost::interprocess::interprocess_exception &ex) {\n-        printf(\"ipcInit - boost::interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n+    catch (interprocess::interprocess_exception &ex) {\n+        printf(\"ipcInit - interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n \n         // check if the exception is a \"file already exists\" error\n-        if(ex.get_error_code() == boost::interprocess::already_exists_error)\n+        if(ex.get_error_code() == interprocess::already_exists_error)\n         {\n             // try a recovery to fix #956 and pass our message queue name\n             ipcRecover(\"BitcoinURL\");"
      }
    ]
  },
  {
    "sha": "8ef8458a40678809bb2d448ad42c68823cdf2b10",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4ZWY4NDU4YTQwNjc4ODA5YmIyZDQ0OGFkNDJjNjg4MjNjZGYyYjEw",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-23T10:52:40Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:39Z"
      },
      "message": "removed 2 lines of code for writing debug.log messages",
      "tree": {
        "sha": "576f843903180b4352f12ea78d19f27332e5873e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/576f843903180b4352f12ea78d19f27332e5873e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ef8458a40678809bb2d448ad42c68823cdf2b10",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8ef8458a40678809bb2d448ad42c68823cdf2b10",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8ef8458a40678809bb2d448ad42c68823cdf2b10",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8ef8458a40678809bb2d448ad42c68823cdf2b10/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "e05676473e39e4c4c76adccc140ac7f2e1860874",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e05676473e39e4c4c76adccc140ac7f2e1860874",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e05676473e39e4c4c76adccc140ac7f2e1860874"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 3,
      "deletions": 6
    },
    "files": [
      {
        "sha": "524742eab623bd996567d96b9007e5151b100079",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 6,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8ef8458a40678809bb2d448ad42c68823cdf2b10/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8ef8458a40678809bb2d448ad42c68823cdf2b10/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=8ef8458a40678809bb2d448ad42c68823cdf2b10",
        "patch": "@@ -31,21 +31,18 @@ bool ipcRecover(const char *Filename)\n     // verify that the message queue file really exists and remove it\n     if(exists(pathMessageQueue))\n     {\n-        string strLogMessage = (\"ipcRecover - old message queue found, trying to remove: \" + pathMessageQueue.string());\n+        string strLogMessage = (\"ipcRecover - old message queue found, trying to remove \" + pathMessageQueue.string());\n         system::error_code ec;\n \n         // try removal, but take care of further errors\n         if(remove(pathMessageQueue, ec))\n         {\n-            strLogMessage += \" ...success\\n\";\n-            printf(strLogMessage.c_str());\n+            printf(\"%s ...success\\n\", strLogMessage.c_str());\n             return true;\n         }\n         else\n         {\n-            strLogMessage += \" ...failed\\n\";\n-            printf(strLogMessage.c_str());\n-            printf(\"ipcRecover - removal of old message queue failed with error #%d: %s\\n\", ec.value(), ec.message().c_str());\n+            printf(\"%s ...failed\\nipcRecover - removal of old message queue failed with error #%d: %s\\n\", strLogMessage.c_str(), ec.value(), ec.message().c_str());\n             return false;\n         }\n     }"
      }
    ]
  },
  {
    "sha": "bbfb0e8eee497edd477cf821c6fc9cd40e17440c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYmZiMGU4ZWVlNDk3ZWRkNDc3Y2Y4MjFjNmZjOWNkNDBlMTc0NDBj",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-23T10:56:00Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:39Z"
      },
      "message": "polished boost exception error message strings",
      "tree": {
        "sha": "1a3c18e58f686c186572a864ba666a852d368bd8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1a3c18e58f686c186572a864ba666a852d368bd8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bbfb0e8eee497edd477cf821c6fc9cd40e17440c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bbfb0e8eee497edd477cf821c6fc9cd40e17440c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/bbfb0e8eee497edd477cf821c6fc9cd40e17440c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bbfb0e8eee497edd477cf821c6fc9cd40e17440c/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "8ef8458a40678809bb2d448ad42c68823cdf2b10",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8ef8458a40678809bb2d448ad42c68823cdf2b10",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8ef8458a40678809bb2d448ad42c68823cdf2b10"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "f7919137f2330f6240f578c4e4ab3bb81574cfda",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bbfb0e8eee497edd477cf821c6fc9cd40e17440c/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bbfb0e8eee497edd477cf821c6fc9cd40e17440c/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=bbfb0e8eee497edd477cf821c6fc9cd40e17440c",
        "patch": "@@ -143,7 +143,7 @@ int main(int argc, char *argv[])\n                     break;\n             }\n             catch (boost::interprocess::interprocess_exception &ex) {\n-                printf(\"boost::interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n+                printf(\"boost interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n                 break;\n             }\n         }\n@@ -265,7 +265,7 @@ int main(int argc, char *argv[])\n                             mq.try_send(strURL, strlen(strURL), 0);\n                         }\n                         catch (boost::interprocess::interprocess_exception &ex) {\n-                            printf(\"boost::interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n+                            printf(\"boost interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n \t\t\t\t\t\t\tbreak;\n                         }\n                     }"
      },
      {
        "sha": "b37d8170d2481a1f2763a9cafb23aa320d5e722f",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bbfb0e8eee497edd477cf821c6fc9cd40e17440c/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bbfb0e8eee497edd477cf821c6fc9cd40e17440c/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=bbfb0e8eee497edd477cf821c6fc9cd40e17440c",
        "patch": "@@ -110,7 +110,7 @@ void ipcInit()\n         mq = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n     }\n     catch (interprocess::interprocess_exception &ex) {\n-        printf(\"ipcInit - interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n+        printf(\"ipcInit - boost interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n \n         // check if the exception is a \"file already exists\" error\n         if(ex.get_error_code() == interprocess::already_exists_error)"
      }
    ]
  },
  {
    "sha": "5645e4e69a09b304e2a3de1e942a7799ac413561",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NjQ1ZTRlNjlhMDliMzA0ZTJhM2RlMWU5NDJhNzc5OWFjNDEzNTYx",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-23T11:34:24Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:40Z"
      },
      "message": "coding style polish",
      "tree": {
        "sha": "995bfbfc0f8ba6f754a89f258097e957446e8fc4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/995bfbfc0f8ba6f754a89f258097e957446e8fc4"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5645e4e69a09b304e2a3de1e942a7799ac413561",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5645e4e69a09b304e2a3de1e942a7799ac413561",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5645e4e69a09b304e2a3de1e942a7799ac413561",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5645e4e69a09b304e2a3de1e942a7799ac413561/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "bbfb0e8eee497edd477cf821c6fc9cd40e17440c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bbfb0e8eee497edd477cf821c6fc9cd40e17440c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bbfb0e8eee497edd477cf821c6fc9cd40e17440c"
      }
    ],
    "stats": {
      "total": 14,
      "additions": 7,
      "deletions": 7
    },
    "files": [
      {
        "sha": "2e912b82fc5e1774f3d510c501420f2c6a26d01b",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 6,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5645e4e69a09b304e2a3de1e942a7799ac413561/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5645e4e69a09b304e2a3de1e942a7799ac413561/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=5645e4e69a09b304e2a3de1e942a7799ac413561",
        "patch": "@@ -19,7 +19,7 @@ void ipcShutdown()\n     interprocess::message_queue::remove(\"BitcoinURL\");\n }\n \n-bool ipcRecover(const char *Filename)\n+bool ipcRecover(const char* Filename)\n {\n     std::string strIpcDir;\n     // get path to stale ipc message queue file\n@@ -29,13 +29,13 @@ bool ipcRecover(const char *Filename)\n     pathMessageQueue.make_preferred();\n \n     // verify that the message queue file really exists and remove it\n-    if(exists(pathMessageQueue))\n+    if (exists(pathMessageQueue))\n     {\n         string strLogMessage = (\"ipcRecover - old message queue found, trying to remove \" + pathMessageQueue.string());\n         system::error_code ec;\n \n         // try removal, but take care of further errors\n-        if(remove(pathMessageQueue, ec))\n+        if (remove(pathMessageQueue, ec))\n         {\n             printf(\"%s ...success\\n\", strLogMessage.c_str());\n             return true;\n@@ -59,7 +59,7 @@ void ipcThread(void* parg)\n     loop\n     {\n         posix_time::ptime d = posix_time::microsec_clock::universal_time() + posix_time::millisec(100);\n-        if(mq->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n+        if (mq->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n         {\n             ThreadSafeHandleURL(std::string(strBuf, nSize));\n             Sleep(1000);\n@@ -97,7 +97,7 @@ void ipcInit()\n         for (int i = 0; i < 2; i++)\n         {\n             posix_time::ptime d = posix_time::microsec_clock::universal_time() + posix_time::millisec(1);\n-            if(mq->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n+            if (mq->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n             {\n                 ThreadSafeHandleURL(std::string(strBuf, nSize));\n             }\n@@ -113,7 +113,7 @@ void ipcInit()\n         printf(\"ipcInit - boost interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n \n         // check if the exception is a \"file already exists\" error\n-        if(ex.get_error_code() == interprocess::already_exists_error)\n+        if (ex.get_error_code() == interprocess::already_exists_error)\n         {\n             // try a recovery to fix #956 and pass our message queue name\n             ipcRecover(\"BitcoinURL\");"
      },
      {
        "sha": "b16398ae6bde3855da9c2896ca50fb5ae65b144c",
        "filename": "src/qt/qtipcserver.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5645e4e69a09b304e2a3de1e942a7799ac413561/src/qt/qtipcserver.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5645e4e69a09b304e2a3de1e942a7799ac413561/src/qt/qtipcserver.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.h?ref=5645e4e69a09b304e2a3de1e942a7799ac413561",
        "patch": "@@ -1,4 +1,4 @@\n void ipcShutdown();\n-bool ipcRecover(const char *);\n+bool ipcRecover(const char*);\n void ipcThread(void*);\n void ipcInit();"
      }
    ]
  },
  {
    "sha": "e87f2a241aff5322fa30075820bbd6278d9b70e5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplODdmMmEyNDFhZmY1MzIyZmEzMDA3NTgyMGJiZDYyNzhkOWI3MGU1",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-23T12:30:49Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:40Z"
      },
      "message": "if ipcRecover() succeeds, try ipcInit() again",
      "tree": {
        "sha": "fff595c03ed36541028c31ab7a67e2820ca1388d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fff595c03ed36541028c31ab7a67e2820ca1388d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e87f2a241aff5322fa30075820bbd6278d9b70e5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e87f2a241aff5322fa30075820bbd6278d9b70e5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e87f2a241aff5322fa30075820bbd6278d9b70e5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e87f2a241aff5322fa30075820bbd6278d9b70e5/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "5645e4e69a09b304e2a3de1e942a7799ac413561",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5645e4e69a09b304e2a3de1e942a7799ac413561",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5645e4e69a09b304e2a3de1e942a7799ac413561"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 3,
      "deletions": 1
    },
    "files": [
      {
        "sha": "2578a3be6673c683fc0acb45db17c6e5d3233849",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e87f2a241aff5322fa30075820bbd6278d9b70e5/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e87f2a241aff5322fa30075820bbd6278d9b70e5/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=e87f2a241aff5322fa30075820bbd6278d9b70e5",
        "patch": "@@ -116,7 +116,9 @@ void ipcInit()\n         if (ex.get_error_code() == interprocess::already_exists_error)\n         {\n             // try a recovery to fix #956 and pass our message queue name\n-            ipcRecover(\"BitcoinURL\");\n+            if (ipcRecover(\"BitcoinURL\"))\n+                // if that worked try init once more\n+                ipcInit();\n         }\n         return;\n     }"
      }
    ]
  },
  {
    "sha": "f1634c3b667aee7f9636d6cc0a8179eb9092f07a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmMTYzNGMzYjY2N2FlZTdmOTYzNmQ2Y2MwYTgxNzllYjkwOTJmMDdh",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-23T22:53:19Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:41Z"
      },
      "message": "coding style polish",
      "tree": {
        "sha": "b02b90813f04ef61a8fc8705aecf0907e5642cbc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b02b90813f04ef61a8fc8705aecf0907e5642cbc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f1634c3b667aee7f9636d6cc0a8179eb9092f07a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f1634c3b667aee7f9636d6cc0a8179eb9092f07a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f1634c3b667aee7f9636d6cc0a8179eb9092f07a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f1634c3b667aee7f9636d6cc0a8179eb9092f07a/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "e87f2a241aff5322fa30075820bbd6278d9b70e5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e87f2a241aff5322fa30075820bbd6278d9b70e5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e87f2a241aff5322fa30075820bbd6278d9b70e5"
      }
    ],
    "stats": {
      "total": 38,
      "additions": 19,
      "deletions": 19
    },
    "files": [
      {
        "sha": "859e4079e30803c86d03f808e16c27de836607c3",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 17,
        "deletions": 17,
        "changes": 34,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f1634c3b667aee7f9636d6cc0a8179eb9092f07a/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f1634c3b667aee7f9636d6cc0a8179eb9092f07a/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=f1634c3b667aee7f9636d6cc0a8179eb9092f07a",
        "patch": "@@ -19,11 +19,11 @@ void ipcShutdown()\n     interprocess::message_queue::remove(\"BitcoinURL\");\n }\n \n-bool ipcRecover(const char* Filename)\n+bool ipcRecover(const char* pszFilename)\n {\n     std::string strIpcDir;\n     // get path to stale ipc message queue file\n-    interprocess::ipcdetail::tmp_filename(Filename, strIpcDir);\n+    interprocess::ipcdetail::tmp_filename(pszFilename, strIpcDir);\n \n     filesystem::path pathMessageQueue(strIpcDir);\n     pathMessageQueue.make_preferred();\n@@ -32,34 +32,34 @@ bool ipcRecover(const char* Filename)\n     if (exists(pathMessageQueue))\n     {\n         string strLogMessage = (\"ipcRecover - old message queue found, trying to remove \" + pathMessageQueue.string());\n-        system::error_code ec;\n+        system::error_code ecErrorCode;\n \n         // try removal, but take care of further errors\n-        if (remove(pathMessageQueue, ec))\n+        if (remove(pathMessageQueue, ecErrorCode))\n         {\n             printf(\"%s ...success\\n\", strLogMessage.c_str());\n             return true;\n         }\n         else\n         {\n-            printf(\"%s ...failed\\nipcRecover - removal of old message queue failed with error #%d: %s\\n\", strLogMessage.c_str(), ec.value(), ec.message().c_str());\n+            printf(\"%s ...failed\\nipcRecover - removal of old message queue failed with error #%d: %s\\n\", strLogMessage.c_str(), ecErrorCode.value(), ecErrorCode.message().c_str());\n             return false;\n         }\n     }\n     else\n         return false;\n }\n \n-void ipcThread(void* parg)\n+void ipcThread(void* pArg)\n {\n-    interprocess::message_queue* mq = (interprocess::message_queue*)parg;\n+    interprocess::message_queue* mqMessageQueue = (interprocess::message_queue*)pArg;\n     char strBuf[257];\n     size_t nSize;\n     unsigned int nPriority;\n     loop\n     {\n         posix_time::ptime d = posix_time::microsec_clock::universal_time() + posix_time::millisec(100);\n-        if (mq->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n+        if (mqMessageQueue->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n         {\n             ThreadSafeHandleURL(std::string(strBuf, nSize));\n             Sleep(1000);\n@@ -86,18 +86,18 @@ void ipcInit()\n     return;\n #endif\n \n-    interprocess::message_queue* mq;\n+    interprocess::message_queue* mqMessageQueue;\n     char strBuf[257];\n     size_t nSize;\n     unsigned int nPriority;\n     try {\n-        mq = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n+        mqMessageQueue = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n \n         // Make sure we don't lose any bitcoin: URIs\n         for (int i = 0; i < 2; i++)\n         {\n             posix_time::ptime d = posix_time::microsec_clock::universal_time() + posix_time::millisec(1);\n-            if (mq->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n+            if (mqMessageQueue->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n             {\n                 ThreadSafeHandleURL(std::string(strBuf, nSize));\n             }\n@@ -107,13 +107,13 @@ void ipcInit()\n \n         // Make sure only one bitcoin instance is listening\n         interprocess::message_queue::remove(\"BitcoinURL\");\n-        mq = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n+        mqMessageQueue = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n     }\n-    catch (interprocess::interprocess_exception &ex) {\n-        printf(\"ipcInit - boost interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n+    catch (interprocess::interprocess_exception &exIPCException) {\n+        printf(\"ipcInit - boost interprocess exception #%d: %s\\n\", exIPCException.get_error_code(), exIPCException.what());\n \n         // check if the exception is a \"file already exists\" error\n-        if (ex.get_error_code() == interprocess::already_exists_error)\n+        if (exIPCException.get_error_code() == interprocess::already_exists_error)\n         {\n             // try a recovery to fix #956 and pass our message queue name\n             if (ipcRecover(\"BitcoinURL\"))\n@@ -122,8 +122,8 @@ void ipcInit()\n         }\n         return;\n     }\n-    if (!CreateThread(ipcThread, mq))\n+    if (!CreateThread(ipcThread, mqMessageQueue))\n     {\n-        delete mq;\n+        delete mqMessageQueue;\n     }\n }"
      },
      {
        "sha": "065ce90ffe33c1ea53aded778daf9ad1f66efe7d",
        "filename": "src/qt/qtipcserver.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f1634c3b667aee7f9636d6cc0a8179eb9092f07a/src/qt/qtipcserver.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f1634c3b667aee7f9636d6cc0a8179eb9092f07a/src/qt/qtipcserver.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.h?ref=f1634c3b667aee7f9636d6cc0a8179eb9092f07a",
        "patch": "@@ -1,4 +1,4 @@\n void ipcShutdown();\n-bool ipcRecover(const char*);\n-void ipcThread(void*);\n+bool ipcRecover(const char* pszFilename);\n+void ipcThread(void* pArg);\n void ipcInit();"
      }
    ]
  },
  {
    "sha": "2608e2428c6582b5a5dc62ee79924ed720d1dad3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyNjA4ZTI0MjhjNjU4MmI1YTVkYzYyZWU3OTkyNGVkNzIwZDFkYWQz",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-23T23:56:09Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:41Z"
      },
      "message": "added flag fInitCalledAfterRecovery to avoid an infinite recursion in the exception handling",
      "tree": {
        "sha": "e99cfaee70be2382aa6bdfb240bad33f0e28992c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e99cfaee70be2382aa6bdfb240bad33f0e28992c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2608e2428c6582b5a5dc62ee79924ed720d1dad3",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2608e2428c6582b5a5dc62ee79924ed720d1dad3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2608e2428c6582b5a5dc62ee79924ed720d1dad3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2608e2428c6582b5a5dc62ee79924ed720d1dad3/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "f1634c3b667aee7f9636d6cc0a8179eb9092f07a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f1634c3b667aee7f9636d6cc0a8179eb9092f07a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f1634c3b667aee7f9636d6cc0a8179eb9092f07a"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 7,
      "deletions": 2
    },
    "files": [
      {
        "sha": "55925d643a3ff6dcc571ad655e23218e6782fe72",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 2,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2608e2428c6582b5a5dc62ee79924ed720d1dad3/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2608e2428c6582b5a5dc62ee79924ed720d1dad3/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=2608e2428c6582b5a5dc62ee79924ed720d1dad3",
        "patch": "@@ -14,6 +14,9 @@\n using namespace boost;\n using namespace std;\n \n+// Global state\n+bool fInitCalledAfterRecovery = false;\n+\n void ipcShutdown()\n {\n     interprocess::message_queue::remove(\"BitcoinURL\");\n@@ -116,8 +119,10 @@ void ipcInit()\n         if (exIPCException.get_error_code() == interprocess::already_exists_error)\n         {\n             // try a recovery to fix #956 and pass our message queue name\n-            if (ipcRecover(\"BitcoinURL\"))\n-                // if that worked try init once more\n+            if (ipcRecover(\"BitcoinURL\") && !fInitCalledAfterRecovery)\n+                // set fInitCalledAfterRecovery to true, to avoid an infinite recursion\n+                fInitCalledAfterRecovery = true;\n+                // try init once more\n                 ipcInit();\n         }\n         return;"
      }
    ]
  },
  {
    "sha": "a6f09c5b8c0ebb86950818ca90c0d81678433e33",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphNmYwOWM1YjhjMGViYjg2OTUwODE4Y2E5MGMwZDgxNjc4NDMzZTMz",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-24T09:48:50Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:42Z"
      },
      "message": "made fInitCalledAfterRecovery a parameter to ipcInit()",
      "tree": {
        "sha": "30e02a88fa0bf3a51e255e668514d9d9a45732dd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/30e02a88fa0bf3a51e255e668514d9d9a45732dd"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a6f09c5b8c0ebb86950818ca90c0d81678433e33",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a6f09c5b8c0ebb86950818ca90c0d81678433e33",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a6f09c5b8c0ebb86950818ca90c0d81678433e33",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a6f09c5b8c0ebb86950818ca90c0d81678433e33/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "2608e2428c6582b5a5dc62ee79924ed720d1dad3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2608e2428c6582b5a5dc62ee79924ed720d1dad3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2608e2428c6582b5a5dc62ee79924ed720d1dad3"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 4,
      "deletions": 9
    },
    "files": [
      {
        "sha": "0b0a0d8c755ec5b36a50ea3680aeaf5890a9e833",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 8,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a6f09c5b8c0ebb86950818ca90c0d81678433e33/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a6f09c5b8c0ebb86950818ca90c0d81678433e33/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=a6f09c5b8c0ebb86950818ca90c0d81678433e33",
        "patch": "@@ -14,9 +14,6 @@\n using namespace boost;\n using namespace std;\n \n-// Global state\n-bool fInitCalledAfterRecovery = false;\n-\n void ipcShutdown()\n {\n     interprocess::message_queue::remove(\"BitcoinURL\");\n@@ -76,7 +73,7 @@ void ipcThread(void* pArg)\n     ipcShutdown();\n }\n \n-void ipcInit()\n+void ipcInit(bool fInitCalledAfterRecovery)\n {\n #ifdef MAC_OSX\n     // TODO: implement bitcoin: URI handling the Mac Way\n@@ -120,10 +117,8 @@ void ipcInit()\n         {\n             // try a recovery to fix #956 and pass our message queue name\n             if (ipcRecover(\"BitcoinURL\") && !fInitCalledAfterRecovery)\n-                // set fInitCalledAfterRecovery to true, to avoid an infinite recursion\n-                fInitCalledAfterRecovery = true;\n-                // try init once more\n-                ipcInit();\n+                // try init once more and pass true, to avoid an infinite recursion\n+                ipcInit(true);\n         }\n         return;\n     }"
      },
      {
        "sha": "1b294a48edfd7916f1407ef21b6302f7ea3122d4",
        "filename": "src/qt/qtipcserver.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a6f09c5b8c0ebb86950818ca90c0d81678433e33/src/qt/qtipcserver.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a6f09c5b8c0ebb86950818ca90c0d81678433e33/src/qt/qtipcserver.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.h?ref=a6f09c5b8c0ebb86950818ca90c0d81678433e33",
        "patch": "@@ -1,4 +1,4 @@\n void ipcShutdown();\n bool ipcRecover(const char* pszFilename);\n void ipcThread(void* pArg);\n-void ipcInit();\n+void ipcInit(bool fInitCalledAfterRecovery = false);"
      }
    ]
  },
  {
    "sha": "830fe3ece90eb15369fdbd3bbd12bf361c417269",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4MzBmZTNlY2U5MGViMTUzNjlmZGJkM2JiZDEyYmYzNjFjNDE3MjY5",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-24T10:03:03Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:42Z"
      },
      "message": "added using namespace boost to bitcoin.cpp too and fixed an indent glitch",
      "tree": {
        "sha": "c4a64a9a66d3a95be988f00ed03abc813835c383",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c4a64a9a66d3a95be988f00ed03abc813835c383"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/830fe3ece90eb15369fdbd3bbd12bf361c417269",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/830fe3ece90eb15369fdbd3bbd12bf361c417269",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/830fe3ece90eb15369fdbd3bbd12bf361c417269",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/830fe3ece90eb15369fdbd3bbd12bf361c417269/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "a6f09c5b8c0ebb86950818ca90c0d81678433e33",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a6f09c5b8c0ebb86950818ca90c0d81678433e33",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a6f09c5b8c0ebb86950818ca90c0d81678433e33"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 7,
      "deletions": 5
    },
    "files": [
      {
        "sha": "2a075ce03c074270b9957873f9c591e64ab531e5",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 5,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/830fe3ece90eb15369fdbd3bbd12bf361c417269/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/830fe3ece90eb15369fdbd3bbd12bf361c417269/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=830fe3ece90eb15369fdbd3bbd12bf361c417269",
        "patch": "@@ -21,6 +21,8 @@\n \n #include <boost/interprocess/ipc/message_queue.hpp>\n \n+using namespace boost;\n+\n // Need a global reference for the notifications to find the GUI\n BitcoinGUI *guiref;\n QSplashScreen *splashref;\n@@ -136,13 +138,13 @@ int main(int argc, char *argv[])\n         {\n             const char *strURL = argv[i];\n             try {\n-                boost::interprocess::message_queue mq(boost::interprocess::open_only, \"BitcoinURL\");\n+                interprocess::message_queue mq(interprocess::open_only, \"BitcoinURL\");\n                 if(mq.try_send(strURL, strlen(strURL), 0))\n                     exit(0);\n                 else\n                     break;\n             }\n-            catch (boost::interprocess::interprocess_exception &ex) {\n+            catch (interprocess::interprocess_exception &ex) {\n                 printf(\"boost interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n                 break;\n             }\n@@ -261,12 +263,12 @@ int main(int argc, char *argv[])\n                     {\n                         const char *strURL = argv[i];\n                         try {\n-                            boost::interprocess::message_queue mq(boost::interprocess::open_only, \"BitcoinURL\");\n+                            interprocess::message_queue mq(interprocess::open_only, \"BitcoinURL\");\n                             mq.try_send(strURL, strlen(strURL), 0);\n                         }\n-                        catch (boost::interprocess::interprocess_exception &ex) {\n+                        catch (interprocess::interprocess_exception &ex) {\n                             printf(\"boost interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n-\t\t\t\t\t\t\tbreak;\n+                            break;\n                         }\n                     }\n                 }"
      }
    ]
  },
  {
    "sha": "f5904a27073572193f68a11422e45b4c2387a964",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNTkwNGEyNzA3MzU3MjE5M2Y2OGExMTQyMmU0NWI0YzIzODdhOTY0",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-24T13:33:22Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:43Z"
      },
      "message": "added code to take care of a locked BitcoinURL message queue file",
      "tree": {
        "sha": "6d7880c85c40a7f6956b420d72e540ae5fbf5576",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6d7880c85c40a7f6956b420d72e540ae5fbf5576"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f5904a27073572193f68a11422e45b4c2387a964",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f5904a27073572193f68a11422e45b4c2387a964",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f5904a27073572193f68a11422e45b4c2387a964",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f5904a27073572193f68a11422e45b4c2387a964/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "830fe3ece90eb15369fdbd3bbd12bf361c417269",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/830fe3ece90eb15369fdbd3bbd12bf361c417269",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/830fe3ece90eb15369fdbd3bbd12bf361c417269"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 11,
      "deletions": 2
    },
    "files": [
      {
        "sha": "f90ed24f9d06be87facb9dab0bf09ee46b255791",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 2,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f5904a27073572193f68a11422e45b4c2387a964/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f5904a27073572193f68a11422e45b4c2387a964/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=f5904a27073572193f68a11422e45b4c2387a964",
        "patch": "@@ -31,7 +31,7 @@ bool ipcRecover(const char* pszFilename)\n     // verify that the message queue file really exists and remove it\n     if (exists(pathMessageQueue))\n     {\n-        string strLogMessage = (\"ipcRecover - old message queue found, trying to remove \" + pathMessageQueue.string());\n+        string strLogMessage = (\"ipcRecover - possible stale message queue found, trying to remove \" + pathMessageQueue.string());\n         system::error_code ecErrorCode;\n \n         // try removal, but take care of further errors\n@@ -40,6 +40,15 @@ bool ipcRecover(const char* pszFilename)\n             printf(\"%s ...success\\n\", strLogMessage.c_str());\n             return true;\n         }\n+        // this happens, if the file is locked, which is NOT the case after a hard crash,\n+        // but if another Bitcoin-Qt instance is running\n+        else if (ecErrorCode.value() == system::errc::broken_pipe)\n+        {\n+            // make clear in debug.log, that we have no \"bad\" situation\n+            printf(\"%s ...unneeded\\n\", strLogMessage.c_str());\n+            // return false, to not re-try init again\n+            return false;\n+        }\n         else\n         {\n             printf(\"%s ...failed\\nipcRecover - removal of old message queue failed with error #%d: %s\\n\", strLogMessage.c_str(), ecErrorCode.value(), ecErrorCode.message().c_str());\n@@ -110,7 +119,7 @@ void ipcInit(bool fInitCalledAfterRecovery)\n         mqMessageQueue = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n     }\n     catch (interprocess::interprocess_exception &exIPCException) {\n-        printf(\"ipcInit - boost interprocess exception #%d: %s\\n\", exIPCException.get_error_code(), exIPCException.what());\n+        printf(\"ipcInit    - boost interprocess exception #%d: %s\\n\", exIPCException.get_error_code(), exIPCException.what());\n \n         // check if the exception is a \"file already exists\" error\n         if (exIPCException.get_error_code() == interprocess::already_exists_error)"
      }
    ]
  },
  {
    "sha": "8ad21c994292d904b6a3d974d2f8e938e3755a90",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4YWQyMWM5OTQyOTJkOTA0YjZhM2Q5NzRkMmY4ZTkzOGUzNzU1YTkw",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-25T12:10:34Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:43Z"
      },
      "message": "renamed ::ipcdetail to ::detail, as we are still using boost 1.47",
      "tree": {
        "sha": "11baff8b73012c9bd843e678ccdfb3630380bc85",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/11baff8b73012c9bd843e678ccdfb3630380bc85"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ad21c994292d904b6a3d974d2f8e938e3755a90",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8ad21c994292d904b6a3d974d2f8e938e3755a90",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8ad21c994292d904b6a3d974d2f8e938e3755a90",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8ad21c994292d904b6a3d974d2f8e938e3755a90/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "f5904a27073572193f68a11422e45b4c2387a964",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f5904a27073572193f68a11422e45b4c2387a964",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f5904a27073572193f68a11422e45b4c2387a964"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "e529f3eba662f88d815ba4ae350375a587a71b6b",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8ad21c994292d904b6a3d974d2f8e938e3755a90/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8ad21c994292d904b6a3d974d2f8e938e3755a90/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=8ad21c994292d904b6a3d974d2f8e938e3755a90",
        "patch": "@@ -22,8 +22,8 @@ void ipcShutdown()\n bool ipcRecover(const char* pszFilename)\n {\n     std::string strIpcDir;\n-    // get path to stale ipc message queue file\n-    interprocess::ipcdetail::tmp_filename(pszFilename, strIpcDir);\n+    // get path to stale ipc message queue file (hint: ::detail changes to ::ipcdetail when switching to boost 1.49)\n+    interprocess::detail::tmp_filename(pszFilename, strIpcDir);\n \n     filesystem::path pathMessageQueue(strIpcDir);\n     pathMessageQueue.make_preferred();"
      }
    ]
  },
  {
    "sha": "b7cbbf5d02ab10ce46c5306e2990b8476cdf76a9",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiN2NiYmY1ZDAyYWIxMGNlNDZjNTMwNmUyOTkwYjg0NzZjZGY3NmE5",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-25T15:30:51Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:44Z"
      },
      "message": "made fix active only on Windows, prepared for a switch to boost > 1.47 and some comments were updated",
      "tree": {
        "sha": "952be4d4af15b7446e443c35fb0ec2f8f70f6ee3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/952be4d4af15b7446e443c35fb0ec2f8f70f6ee3"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b7cbbf5d02ab10ce46c5306e2990b8476cdf76a9",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b7cbbf5d02ab10ce46c5306e2990b8476cdf76a9",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b7cbbf5d02ab10ce46c5306e2990b8476cdf76a9",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b7cbbf5d02ab10ce46c5306e2990b8476cdf76a9/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "8ad21c994292d904b6a3d974d2f8e938e3755a90",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8ad21c994292d904b6a3d974d2f8e938e3755a90",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8ad21c994292d904b6a3d974d2f8e938e3755a90"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 12,
      "deletions": 6
    },
    "files": [
      {
        "sha": "b5a91eaadcc83da1b7961b6fdb785027bae03d66",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 6,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b7cbbf5d02ab10ce46c5306e2990b8476cdf76a9/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b7cbbf5d02ab10ce46c5306e2990b8476cdf76a9/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=b7cbbf5d02ab10ce46c5306e2990b8476cdf76a9",
        "patch": "@@ -22,26 +22,29 @@ void ipcShutdown()\n bool ipcRecover(const char* pszFilename)\n {\n     std::string strIpcDir;\n-    // get path to stale ipc message queue file (hint: ::detail changes to ::ipcdetail when switching to boost 1.49)\n+    // get path to possible stale ipc message queue file\n+#if BOOST_VERSION <= 104700\n     interprocess::detail::tmp_filename(pszFilename, strIpcDir);\n+#elif BOOST_VERSION >= 104800\n+    interprocess::ipcdetail::tmp_filename(pszFilename, strIpcDir);\n+#endif\n \n     filesystem::path pathMessageQueue(strIpcDir);\n     pathMessageQueue.make_preferred();\n \n-    // verify that the message queue file really exists and remove it\n+    // verify that the message queue file exists and try to remove it\n     if (exists(pathMessageQueue))\n     {\n-        string strLogMessage = (\"ipcRecover - possible stale message queue found, trying to remove \" + pathMessageQueue.string());\n+        string strLogMessage = (\"ipcRecover - possible stale message queue detected, trying to remove \" + pathMessageQueue.string());\n         system::error_code ecErrorCode;\n \n-        // try removal, but take care of further errors\n+        // try removal\n         if (remove(pathMessageQueue, ecErrorCode))\n         {\n             printf(\"%s ...success\\n\", strLogMessage.c_str());\n             return true;\n         }\n-        // this happens, if the file is locked, which is NOT the case after a hard crash,\n-        // but if another Bitcoin-Qt instance is running\n+        // if the file is locked (which is NOT the case after a hard crash, but if another Bitcoin-Qt instance is running)\n         else if (ecErrorCode.value() == system::errc::broken_pipe)\n         {\n             // make clear in debug.log, that we have no \"bad\" situation\n@@ -119,6 +122,8 @@ void ipcInit(bool fInitCalledAfterRecovery)\n         mqMessageQueue = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n     }\n     catch (interprocess::interprocess_exception &exIPCException) {\n+// we currently only handle the Windows-specific case from #956\n+#ifdef WIN32\n         printf(\"ipcInit    - boost interprocess exception #%d: %s\\n\", exIPCException.get_error_code(), exIPCException.what());\n \n         // check if the exception is a \"file already exists\" error\n@@ -129,6 +134,7 @@ void ipcInit(bool fInitCalledAfterRecovery)\n                 // try init once more and pass true, to avoid an infinite recursion\n                 ipcInit(true);\n         }\n+#endif\n         return;\n     }\n     if (!CreateThread(ipcThread, mqMessageQueue))"
      }
    ]
  },
  {
    "sha": "b03692839447a873750459d35a09e305c4169e82",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiMDM2OTI4Mzk0NDdhODczNzUwNDU5ZDM1YTA5ZTMwNWM0MTY5ZTgy",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-25T16:05:40Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:44Z"
      },
      "message": "revert naming of mqMessageQueue -> mq and exIPCException -> ex to be consistent with bitcoin.cpp again",
      "tree": {
        "sha": "ab3e99ad081690b7cf7854239dd251a600bf8be6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ab3e99ad081690b7cf7854239dd251a600bf8be6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b03692839447a873750459d35a09e305c4169e82",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b03692839447a873750459d35a09e305c4169e82",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b03692839447a873750459d35a09e305c4169e82",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b03692839447a873750459d35a09e305c4169e82/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "b7cbbf5d02ab10ce46c5306e2990b8476cdf76a9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b7cbbf5d02ab10ce46c5306e2990b8476cdf76a9",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b7cbbf5d02ab10ce46c5306e2990b8476cdf76a9"
      }
    ],
    "stats": {
      "total": 22,
      "additions": 11,
      "deletions": 11
    },
    "files": [
      {
        "sha": "a682fff118e1cb18db28093299db141833af8aea",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 11,
        "changes": 22,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b03692839447a873750459d35a09e305c4169e82/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b03692839447a873750459d35a09e305c4169e82/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=b03692839447a873750459d35a09e305c4169e82",
        "patch": "@@ -64,14 +64,14 @@ bool ipcRecover(const char* pszFilename)\n \n void ipcThread(void* pArg)\n {\n-    interprocess::message_queue* mqMessageQueue = (interprocess::message_queue*)pArg;\n+    interprocess::message_queue* mq = (interprocess::message_queue*)pArg;\n     char strBuf[257];\n     size_t nSize;\n     unsigned int nPriority;\n     loop\n     {\n         posix_time::ptime d = posix_time::microsec_clock::universal_time() + posix_time::millisec(100);\n-        if (mqMessageQueue->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n+        if (mq->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n         {\n             ThreadSafeHandleURL(std::string(strBuf, nSize));\n             Sleep(1000);\n@@ -98,18 +98,18 @@ void ipcInit(bool fInitCalledAfterRecovery)\n     return;\n #endif\n \n-    interprocess::message_queue* mqMessageQueue;\n+    interprocess::message_queue* mq;\n     char strBuf[257];\n     size_t nSize;\n     unsigned int nPriority;\n     try {\n-        mqMessageQueue = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n+        mq = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n \n         // Make sure we don't lose any bitcoin: URIs\n         for (int i = 0; i < 2; i++)\n         {\n             posix_time::ptime d = posix_time::microsec_clock::universal_time() + posix_time::millisec(1);\n-            if (mqMessageQueue->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n+            if (mq->timed_receive(&strBuf, sizeof(strBuf), nSize, nPriority, d))\n             {\n                 ThreadSafeHandleURL(std::string(strBuf, nSize));\n             }\n@@ -119,15 +119,15 @@ void ipcInit(bool fInitCalledAfterRecovery)\n \n         // Make sure only one bitcoin instance is listening\n         interprocess::message_queue::remove(\"BitcoinURL\");\n-        mqMessageQueue = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n+        mq = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n     }\n-    catch (interprocess::interprocess_exception &exIPCException) {\n+    catch (interprocess::interprocess_exception &ex) {\n // we currently only handle the Windows-specific case from #956\n #ifdef WIN32\n-        printf(\"ipcInit    - boost interprocess exception #%d: %s\\n\", exIPCException.get_error_code(), exIPCException.what());\n+        printf(\"ipcInit    - boost interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n \n         // check if the exception is a \"file already exists\" error\n-        if (exIPCException.get_error_code() == interprocess::already_exists_error)\n+        if (ex.get_error_code() == interprocess::already_exists_error)\n         {\n             // try a recovery to fix #956 and pass our message queue name\n             if (ipcRecover(\"BitcoinURL\") && !fInitCalledAfterRecovery)\n@@ -137,8 +137,8 @@ void ipcInit(bool fInitCalledAfterRecovery)\n #endif\n         return;\n     }\n-    if (!CreateThread(ipcThread, mqMessageQueue))\n+    if (!CreateThread(ipcThread, mq))\n     {\n-        delete mqMessageQueue;\n+        delete mq;\n     }\n }"
      }
    ]
  },
  {
    "sha": "ff443fa7918d019b9dbdde656225d76598bc20fe",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmZjQ0M2ZhNzkxOGQwMTliOWRiZGRlNjU2MjI1ZDc2NTk4YmMyMGZl",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-25T17:40:36Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:45Z"
      },
      "message": "added ipcRecover2() to introduce a version which does not rely on interprocess:detail / interprocess::ipcdetail internals",
      "tree": {
        "sha": "cc2ea07992e7a2e4d940e6b8d57c196a150f248c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cc2ea07992e7a2e4d940e6b8d57c196a150f248c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ff443fa7918d019b9dbdde656225d76598bc20fe",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ff443fa7918d019b9dbdde656225d76598bc20fe",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ff443fa7918d019b9dbdde656225d76598bc20fe",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ff443fa7918d019b9dbdde656225d76598bc20fe/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "b03692839447a873750459d35a09e305c4169e82",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b03692839447a873750459d35a09e305c4169e82",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b03692839447a873750459d35a09e305c4169e82"
      }
    ],
    "stats": {
      "total": 43,
      "additions": 36,
      "deletions": 7
    },
    "files": [
      {
        "sha": "876db8244cd345a8051aa8df5e753aff73e5fda3",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 34,
        "deletions": 6,
        "changes": 40,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ff443fa7918d019b9dbdde656225d76598bc20fe/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ff443fa7918d019b9dbdde656225d76598bc20fe/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=ff443fa7918d019b9dbdde656225d76598bc20fe",
        "patch": "@@ -62,6 +62,23 @@ bool ipcRecover(const char* pszFilename)\n         return false;\n }\n \n+bool ipcRecover2(const char* pszFilename)\n+{\n+    string strLogMessage = (\"ipcRecover2 - possible stale message queue detected, trying to remove\");\n+\n+    // try to remove the possible stale message queue\n+    if (interprocess::message_queue::remove(\"BitcoinURL\"))\n+    {\n+        printf(\"%s %s ...success\\n\", strLogMessage.c_str(), pszFilename);\n+        return true;\n+    }\n+    else\n+    {\n+        printf(\"%s %s ...failed (no error, if another Bitcoin-Qt instance is running)\\n\", strLogMessage.c_str(), pszFilename);\n+        return false;\n+    }\n+}\n+\n void ipcThread(void* pArg)\n {\n     interprocess::message_queue* mq = (interprocess::message_queue*)pArg;\n@@ -85,7 +102,7 @@ void ipcThread(void* pArg)\n     ipcShutdown();\n }\n \n-void ipcInit(bool fInitCalledAfterRecovery)\n+void ipcInit(bool fUseMQModeCreateOnly, bool fInitCalledAfterRecovery)\n {\n #ifdef MAC_OSX\n     // TODO: implement bitcoin: URI handling the Mac Way\n@@ -103,7 +120,10 @@ void ipcInit(bool fInitCalledAfterRecovery)\n     size_t nSize;\n     unsigned int nPriority;\n     try {\n-        mq = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n+        if (fUseMQModeCreateOnly)\n+            mq = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n+        else\n+            mq = new interprocess::message_queue(interprocess::open_or_create, \"BitcoinURL\", 2, 256);\n \n         // Make sure we don't lose any bitcoin: URIs\n         for (int i = 0; i < 2; i++)\n@@ -119,7 +139,10 @@ void ipcInit(bool fInitCalledAfterRecovery)\n \n         // Make sure only one bitcoin instance is listening\n         interprocess::message_queue::remove(\"BitcoinURL\");\n-        mq = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n+        if (fUseMQModeCreateOnly)\n+            mq = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n+        else\n+            mq = new interprocess::message_queue(interprocess::open_or_create, \"BitcoinURL\", 2, 256);\n     }\n     catch (interprocess::interprocess_exception &ex) {\n // we currently only handle the Windows-specific case from #956\n@@ -130,9 +153,14 @@ void ipcInit(bool fInitCalledAfterRecovery)\n         if (ex.get_error_code() == interprocess::already_exists_error)\n         {\n             // try a recovery to fix #956 and pass our message queue name\n-            if (ipcRecover(\"BitcoinURL\") && !fInitCalledAfterRecovery)\n-                // try init once more and pass true, to avoid an infinite recursion\n-                ipcInit(true);\n+            if (ipcRecover2(\"BitcoinURL\") && !fInitCalledAfterRecovery)\n+                // try init once more (true - create_only mode / true - avoid an infinite recursion)\n+                // create_only: stale message queue removed, create a new message queue\n+                ipcInit(true, true);\n+            else\n+                // try init once more (false - open_or_create mode / true - avoid an infinite recursion)\n+                // open_or_create: message queue not removed, perhaps we can open it for usage\n+                ipcInit(false, true);\n         }\n #endif\n         return;"
      },
      {
        "sha": "dc95ebaf40ee26fe45bc5108789f0b24bc7151c6",
        "filename": "src/qt/qtipcserver.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ff443fa7918d019b9dbdde656225d76598bc20fe/src/qt/qtipcserver.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ff443fa7918d019b9dbdde656225d76598bc20fe/src/qt/qtipcserver.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.h?ref=ff443fa7918d019b9dbdde656225d76598bc20fe",
        "patch": "@@ -1,4 +1,5 @@\n void ipcShutdown();\n bool ipcRecover(const char* pszFilename);\n+bool ipcRecover2(const char* pszFilename);\n void ipcThread(void* pArg);\n-void ipcInit(bool fInitCalledAfterRecovery = false);\n+void ipcInit(bool fUseMQModeCreateOnly = true, bool fInitCalledAfterRecovery = false);"
      }
    ]
  },
  {
    "sha": "5327f2c55df1bf2eb051902920ab77d09b543c4a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1MzI3ZjJjNTVkZjFiZjJlYjA1MTkwMjkyMGFiNzdkMDliNTQzYzRh",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-26T05:55:20Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:45Z"
      },
      "message": "renamed ipcRecover2() -> ipcRecover() and removed old function / added qtipcserver.h to qtipcserver.cpp",
      "tree": {
        "sha": "08b8d558d5d0c8148c43e982ebe609d904a1837c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/08b8d558d5d0c8148c43e982ebe609d904a1837c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5327f2c55df1bf2eb051902920ab77d09b543c4a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5327f2c55df1bf2eb051902920ab77d09b543c4a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5327f2c55df1bf2eb051902920ab77d09b543c4a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5327f2c55df1bf2eb051902920ab77d09b543c4a/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "ff443fa7918d019b9dbdde656225d76598bc20fe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ff443fa7918d019b9dbdde656225d76598bc20fe",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ff443fa7918d019b9dbdde656225d76598bc20fe"
      }
    ],
    "stats": {
      "total": 53,
      "additions": 5,
      "deletions": 48
    },
    "files": [
      {
        "sha": "1185d1a9f5c9a9e7ea0efc9f5abd190502674548",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 47,
        "changes": 52,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5327f2c55df1bf2eb051902920ab77d09b543c4a/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5327f2c55df1bf2eb051902920ab77d09b543c4a/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=5327f2c55df1bf2eb051902920ab77d09b543c4a",
        "patch": "@@ -10,6 +10,7 @@\n #include <boost/tokenizer.hpp>\n \n #include \"headers.h\"\n+#include \"qtipcserver.h\"\n \n using namespace boost;\n using namespace std;\n@@ -21,50 +22,7 @@ void ipcShutdown()\n \n bool ipcRecover(const char* pszFilename)\n {\n-    std::string strIpcDir;\n-    // get path to possible stale ipc message queue file\n-#if BOOST_VERSION <= 104700\n-    interprocess::detail::tmp_filename(pszFilename, strIpcDir);\n-#elif BOOST_VERSION >= 104800\n-    interprocess::ipcdetail::tmp_filename(pszFilename, strIpcDir);\n-#endif\n-\n-    filesystem::path pathMessageQueue(strIpcDir);\n-    pathMessageQueue.make_preferred();\n-\n-    // verify that the message queue file exists and try to remove it\n-    if (exists(pathMessageQueue))\n-    {\n-        string strLogMessage = (\"ipcRecover - possible stale message queue detected, trying to remove \" + pathMessageQueue.string());\n-        system::error_code ecErrorCode;\n-\n-        // try removal\n-        if (remove(pathMessageQueue, ecErrorCode))\n-        {\n-            printf(\"%s ...success\\n\", strLogMessage.c_str());\n-            return true;\n-        }\n-        // if the file is locked (which is NOT the case after a hard crash, but if another Bitcoin-Qt instance is running)\n-        else if (ecErrorCode.value() == system::errc::broken_pipe)\n-        {\n-            // make clear in debug.log, that we have no \"bad\" situation\n-            printf(\"%s ...unneeded\\n\", strLogMessage.c_str());\n-            // return false, to not re-try init again\n-            return false;\n-        }\n-        else\n-        {\n-            printf(\"%s ...failed\\nipcRecover - removal of old message queue failed with error #%d: %s\\n\", strLogMessage.c_str(), ecErrorCode.value(), ecErrorCode.message().c_str());\n-            return false;\n-        }\n-    }\n-    else\n-        return false;\n-}\n-\n-bool ipcRecover2(const char* pszFilename)\n-{\n-    string strLogMessage = (\"ipcRecover2 - possible stale message queue detected, trying to remove\");\n+    string strLogMessage = (\"ipcRecover - possible stale message queue detected, trying to remove\");\n \n     // try to remove the possible stale message queue\n     if (interprocess::message_queue::remove(\"BitcoinURL\"))\n@@ -145,15 +103,15 @@ void ipcInit(bool fUseMQModeCreateOnly, bool fInitCalledAfterRecovery)\n             mq = new interprocess::message_queue(interprocess::open_or_create, \"BitcoinURL\", 2, 256);\n     }\n     catch (interprocess::interprocess_exception &ex) {\n-// we currently only handle the Windows-specific case from #956\n+// we currently only handle stale message queue files on Windows\n #ifdef WIN32\n         printf(\"ipcInit    - boost interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n \n         // check if the exception is a \"file already exists\" error\n         if (ex.get_error_code() == interprocess::already_exists_error)\n         {\n-            // try a recovery to fix #956 and pass our message queue name\n-            if (ipcRecover2(\"BitcoinURL\") && !fInitCalledAfterRecovery)\n+            // try a recovery and pass our message queue name\n+            if (ipcRecover(\"BitcoinURL\") && !fInitCalledAfterRecovery)\n                 // try init once more (true - create_only mode / true - avoid an infinite recursion)\n                 // create_only: stale message queue removed, create a new message queue\n                 ipcInit(true, true);"
      },
      {
        "sha": "b7e17cb5ac29a3a934c3a1f45fe784e6238066da",
        "filename": "src/qt/qtipcserver.h",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5327f2c55df1bf2eb051902920ab77d09b543c4a/src/qt/qtipcserver.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5327f2c55df1bf2eb051902920ab77d09b543c4a/src/qt/qtipcserver.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.h?ref=5327f2c55df1bf2eb051902920ab77d09b543c4a",
        "patch": "@@ -1,5 +1,4 @@\n void ipcShutdown();\n bool ipcRecover(const char* pszFilename);\n-bool ipcRecover2(const char* pszFilename);\n void ipcThread(void* pArg);\n void ipcInit(bool fUseMQModeCreateOnly = true, bool fInitCalledAfterRecovery = false);"
      }
    ]
  },
  {
    "sha": "d180418544143160e05885afd80adaa7c6f8472f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkMTgwNDE4NTQ0MTQzMTYwZTA1ODg1YWZkODBhZGFhN2M2Zjg0NzJm",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-26T07:06:32Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:46Z"
      },
      "message": "added BCQT_MESSAGE_QUEUE_NAME definition in qtipcserver.h to define the message queue name globally",
      "tree": {
        "sha": "731c179d874a0692c209814803d7fd44d7a13965",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/731c179d874a0692c209814803d7fd44d7a13965"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d180418544143160e05885afd80adaa7c6f8472f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d180418544143160e05885afd80adaa7c6f8472f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d180418544143160e05885afd80adaa7c6f8472f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d180418544143160e05885afd80adaa7c6f8472f/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "5327f2c55df1bf2eb051902920ab77d09b543c4a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5327f2c55df1bf2eb051902920ab77d09b543c4a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5327f2c55df1bf2eb051902920ab77d09b543c4a"
      }
    ],
    "stats": {
      "total": 23,
      "additions": 13,
      "deletions": 10
    },
    "files": [
      {
        "sha": "2ed05eda55b2674a47d21480a32803033818f261",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d180418544143160e05885afd80adaa7c6f8472f/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d180418544143160e05885afd80adaa7c6f8472f/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=d180418544143160e05885afd80adaa7c6f8472f",
        "patch": "@@ -138,7 +138,7 @@ int main(int argc, char *argv[])\n         {\n             const char *strURL = argv[i];\n             try {\n-                interprocess::message_queue mq(interprocess::open_only, \"BitcoinURL\");\n+                interprocess::message_queue mq(interprocess::open_only, BCQT_MESSAGE_QUEUE_NAME);\n                 if(mq.try_send(strURL, strlen(strURL), 0))\n                     exit(0);\n                 else\n@@ -263,7 +263,7 @@ int main(int argc, char *argv[])\n                     {\n                         const char *strURL = argv[i];\n                         try {\n-                            interprocess::message_queue mq(interprocess::open_only, \"BitcoinURL\");\n+                            interprocess::message_queue mq(interprocess::open_only, BCQT_MESSAGE_QUEUE_NAME);\n                             mq.try_send(strURL, strlen(strURL), 0);\n                         }\n                         catch (interprocess::interprocess_exception &ex) {"
      },
      {
        "sha": "c95b1c0a5ede20c7ba7f4f9f672745db436f9c37",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 8,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d180418544143160e05885afd80adaa7c6f8472f/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d180418544143160e05885afd80adaa7c6f8472f/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=d180418544143160e05885afd80adaa7c6f8472f",
        "patch": "@@ -17,15 +17,15 @@ using namespace std;\n \n void ipcShutdown()\n {\n-    interprocess::message_queue::remove(\"BitcoinURL\");\n+    interprocess::message_queue::remove(BCQT_MESSAGE_QUEUE_NAME);\n }\n \n bool ipcRecover(const char* pszFilename)\n {\n     string strLogMessage = (\"ipcRecover - possible stale message queue detected, trying to remove\");\n \n     // try to remove the possible stale message queue\n-    if (interprocess::message_queue::remove(\"BitcoinURL\"))\n+    if (interprocess::message_queue::remove(BCQT_MESSAGE_QUEUE_NAME))\n     {\n         printf(\"%s %s ...success\\n\", strLogMessage.c_str(), pszFilename);\n         return true;\n@@ -79,9 +79,9 @@ void ipcInit(bool fUseMQModeCreateOnly, bool fInitCalledAfterRecovery)\n     unsigned int nPriority;\n     try {\n         if (fUseMQModeCreateOnly)\n-            mq = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n+            mq = new interprocess::message_queue(interprocess::create_only, BCQT_MESSAGE_QUEUE_NAME, 2, 256);\n         else\n-            mq = new interprocess::message_queue(interprocess::open_or_create, \"BitcoinURL\", 2, 256);\n+            mq = new interprocess::message_queue(interprocess::open_or_create, BCQT_MESSAGE_QUEUE_NAME, 2, 256);\n \n         // Make sure we don't lose any bitcoin: URIs\n         for (int i = 0; i < 2; i++)\n@@ -96,11 +96,11 @@ void ipcInit(bool fUseMQModeCreateOnly, bool fInitCalledAfterRecovery)\n         }\n \n         // Make sure only one bitcoin instance is listening\n-        interprocess::message_queue::remove(\"BitcoinURL\");\n+        interprocess::message_queue::remove(BCQT_MESSAGE_QUEUE_NAME);\n         if (fUseMQModeCreateOnly)\n-            mq = new interprocess::message_queue(interprocess::create_only, \"BitcoinURL\", 2, 256);\n+            mq = new interprocess::message_queue(interprocess::create_only, BCQT_MESSAGE_QUEUE_NAME, 2, 256);\n         else\n-            mq = new interprocess::message_queue(interprocess::open_or_create, \"BitcoinURL\", 2, 256);\n+            mq = new interprocess::message_queue(interprocess::open_or_create, BCQT_MESSAGE_QUEUE_NAME, 2, 256);\n     }\n     catch (interprocess::interprocess_exception &ex) {\n // we currently only handle stale message queue files on Windows\n@@ -111,7 +111,7 @@ void ipcInit(bool fUseMQModeCreateOnly, bool fInitCalledAfterRecovery)\n         if (ex.get_error_code() == interprocess::already_exists_error)\n         {\n             // try a recovery and pass our message queue name\n-            if (ipcRecover(\"BitcoinURL\") && !fInitCalledAfterRecovery)\n+            if (ipcRecover(BCQT_MESSAGE_QUEUE_NAME) && !fInitCalledAfterRecovery)\n                 // try init once more (true - create_only mode / true - avoid an infinite recursion)\n                 // create_only: stale message queue removed, create a new message queue\n                 ipcInit(true, true);"
      },
      {
        "sha": "0a633ae4b4dcc631fb47a95037b9a22ddf4bd988",
        "filename": "src/qt/qtipcserver.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d180418544143160e05885afd80adaa7c6f8472f/src/qt/qtipcserver.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d180418544143160e05885afd80adaa7c6f8472f/src/qt/qtipcserver.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.h?ref=d180418544143160e05885afd80adaa7c6f8472f",
        "patch": "@@ -1,3 +1,6 @@\n+// define Bitcoin-Qt message queue name\n+#define BCQT_MESSAGE_QUEUE_NAME \"BitcoinURL\"\n+\n void ipcShutdown();\n bool ipcRecover(const char* pszFilename);\n void ipcThread(void* pArg);"
      }
    ]
  },
  {
    "sha": "ee440453a0dd699b84e7cb21bc8a2e9fe450bf74",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZTQ0MDQ1M2EwZGQ2OTliODRlN2NiMjFiYzhhMmU5ZmU0NTBiZjc0",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T08:35:26Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-03-27T09:47:46Z"
      },
      "message": "added doxygen comments to qtipcserver.cpp and qtipcserver.h / revert disabling of URI handling in Windows",
      "tree": {
        "sha": "85e69b2145ff947bea6e3de3c7fcffe7b934597b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/85e69b2145ff947bea6e3de3c7fcffe7b934597b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ee440453a0dd699b84e7cb21bc8a2e9fe450bf74",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ee440453a0dd699b84e7cb21bc8a2e9fe450bf74",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ee440453a0dd699b84e7cb21bc8a2e9fe450bf74",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ee440453a0dd699b84e7cb21bc8a2e9fe450bf74/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "d180418544143160e05885afd80adaa7c6f8472f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d180418544143160e05885afd80adaa7c6f8472f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d180418544143160e05885afd80adaa7c6f8472f"
      }
    ],
    "stats": {
      "total": 40,
      "additions": 18,
      "deletions": 22
    },
    "files": [
      {
        "sha": "13d070e57021e72aef71695bd7166a0a1ddf7770",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ee440453a0dd699b84e7cb21bc8a2e9fe450bf74/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ee440453a0dd699b84e7cb21bc8a2e9fe450bf74/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=ee440453a0dd699b84e7cb21bc8a2e9fe450bf74",
        "patch": "@@ -128,8 +128,8 @@ std::string _(const char* psz)\n #ifndef BITCOIN_QT_TEST\n int main(int argc, char *argv[])\n {\n-#if !defined(MAC_OSX) && !defined(WIN32)\n-// TODO: implement qtipcserver.cpp for Mac and Windows\n+#if !defined(MAC_OSX)\n+// TODO: implement qtipcserver.cpp for Mac\n \n     // Do this early as we don't want to bother initializing if we are just calling IPC\n     for (int i = 1; i < argc; i++)\n@@ -253,8 +253,8 @@ int main(int argc, char *argv[])\n                 // Place this here as guiref has to be defined if we dont want to lose URLs\n                 ipcInit();\n \n-#if !defined(MAC_OSX) && !defined(WIN32)\n-// TODO: implement qtipcserver.cpp for Mac and Windows\n+#if !defined(MAC_OSX)\n+// TODO: implement qtipcserver.cpp for Mac\n \n                 // Check for URL in argv\n                 for (int i = 1; i < argc; i++)"
      },
      {
        "sha": "e716cb524c6ff6996125273e84c42746fad499dd",
        "filename": "src/qt/qtipcserver.cpp",
        "status": "modified",
        "additions": 13,
        "deletions": 17,
        "changes": 30,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ee440453a0dd699b84e7cb21bc8a2e9fe450bf74/src/qt/qtipcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ee440453a0dd699b84e7cb21bc8a2e9fe450bf74/src/qt/qtipcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.cpp?ref=ee440453a0dd699b84e7cb21bc8a2e9fe450bf74",
        "patch": "@@ -24,7 +24,7 @@ bool ipcRecover(const char* pszFilename)\n {\n     string strLogMessage = (\"ipcRecover - possible stale message queue detected, trying to remove\");\n \n-    // try to remove the possible stale message queue\n+    /** try to remove the possible stale message queue */\n     if (interprocess::message_queue::remove(BCQT_MESSAGE_QUEUE_NAME))\n     {\n         printf(\"%s %s ...success\\n\", strLogMessage.c_str(), pszFilename);\n@@ -63,13 +63,7 @@ void ipcThread(void* pArg)\n void ipcInit(bool fUseMQModeCreateOnly, bool fInitCalledAfterRecovery)\n {\n #ifdef MAC_OSX\n-    // TODO: implement bitcoin: URI handling the Mac Way\n-    return;\n-#endif\n-#ifdef WIN32\n-    // TODO: THOROUGHLY test boost::interprocess fix,\n-    // and make sure there are no Windows argument-handling exploitable\n-    // problems.\n+    /** TODO: implement bitcoin: URI handling the Mac Way */\n     return;\n #endif\n \n@@ -83,7 +77,7 @@ void ipcInit(bool fUseMQModeCreateOnly, bool fInitCalledAfterRecovery)\n         else\n             mq = new interprocess::message_queue(interprocess::open_or_create, BCQT_MESSAGE_QUEUE_NAME, 2, 256);\n \n-        // Make sure we don't lose any bitcoin: URIs\n+        /** Make sure we don't lose any bitcoin: URIs */\n         for (int i = 0; i < 2; i++)\n         {\n             posix_time::ptime d = posix_time::microsec_clock::universal_time() + posix_time::millisec(1);\n@@ -95,29 +89,31 @@ void ipcInit(bool fUseMQModeCreateOnly, bool fInitCalledAfterRecovery)\n                 break;\n         }\n \n-        // Make sure only one bitcoin instance is listening\n+        /** Make sure only one bitcoin instance is listening */\n         interprocess::message_queue::remove(BCQT_MESSAGE_QUEUE_NAME);\n         if (fUseMQModeCreateOnly)\n             mq = new interprocess::message_queue(interprocess::create_only, BCQT_MESSAGE_QUEUE_NAME, 2, 256);\n         else\n             mq = new interprocess::message_queue(interprocess::open_or_create, BCQT_MESSAGE_QUEUE_NAME, 2, 256);\n     }\n     catch (interprocess::interprocess_exception &ex) {\n-// we currently only handle stale message queue files on Windows\n+/** we currently only handle stale message queue files on Windows */\n #ifdef WIN32\n         printf(\"ipcInit    - boost interprocess exception #%d: %s\\n\", ex.get_error_code(), ex.what());\n \n-        // check if the exception is a \"file already exists\" error\n+        /** check if the exception is a \"file already exists\" error */\n         if (ex.get_error_code() == interprocess::already_exists_error)\n         {\n-            // try a recovery and pass our message queue name\n+            /** try a recovery and pass our message queue name */\n             if (ipcRecover(BCQT_MESSAGE_QUEUE_NAME) && !fInitCalledAfterRecovery)\n-                // try init once more (true - create_only mode / true - avoid an infinite recursion)\n-                // create_only: stale message queue removed, create a new message queue\n+                /** try init once more (true - create_only mode / true - avoid an infinite recursion)\n+                 * create_only: stale message queue removed, create a new message queue\n+\t\t\t\t */\n                 ipcInit(true, true);\n             else\n-                // try init once more (false - open_or_create mode / true - avoid an infinite recursion)\n-                // open_or_create: message queue not removed, perhaps we can open it for usage\n+                /** try init once more (false - open_or_create mode / true - avoid an infinite recursion)\n+                 * open_or_create: message queue not removed, perhaps we can open it for usage\n+\t\t\t\t */\n                 ipcInit(false, true);\n         }\n #endif"
      },
      {
        "sha": "7aedf15a782a6fbccbaf856493b2a556511f2258",
        "filename": "src/qt/qtipcserver.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ee440453a0dd699b84e7cb21bc8a2e9fe450bf74/src/qt/qtipcserver.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ee440453a0dd699b84e7cb21bc8a2e9fe450bf74/src/qt/qtipcserver.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qtipcserver.h?ref=ee440453a0dd699b84e7cb21bc8a2e9fe450bf74",
        "patch": "@@ -1,4 +1,4 @@\n-// define Bitcoin-Qt message queue name\n+/** define Bitcoin-Qt message queue name */\n #define BCQT_MESSAGE_QUEUE_NAME \"BitcoinURL\"\n \n void ipcShutdown();"
      }
    ]
  }
]