[
  {
    "sha": "df45564cf0ad3b591d4eb8cc2354093bcb7df14c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkZjQ1NTY0Y2YwYWQzYjU5MWQ0ZWI4Y2MyMzU0MDkzYmNiN2RmMTRj",
    "commit": {
      "author": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-03-27T00:07:49Z"
      },
      "committer": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-04-18T14:06:15Z"
      },
      "message": "Initialization: set fallback locale as environment variable\n\nThe scope of `std::locale::global` appears to be smaller than `setenv(\"LC_ALL\", ...)` and insufficient to fix messed up locale settings for the whole application.",
      "tree": {
        "sha": "eb338c2a0e44a6ab0d22e2b219b30d980dd644bc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/eb338c2a0e44a6ab0d22e2b219b30d980dd644bc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/df45564cf0ad3b591d4eb8cc2354093bcb7df14c",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJVMmTYAAoJEHZ14xz1cZgydOcQAKMdnpQsJJqWqJcg1XZnf5f9\nhjnzghDdoDplR9dW6IdWpD8u6zQFLeh18t3QjJmmK6dsReb+nn2DOWRgSgupw6w1\nyao1OWo9fy6i3gxQc2IYU6f4vMxCw4uwt16lFmMOKkez7P/39YJWdFeG62wS/65B\nowvSYEH+froayjPKiDh9KTmJao8z50AEkB+lIr+lMghsQew1UYyo2Xr15YZNyw6N\nqt0VNsJ7+OO/eljZymkJWnseruNGXICsb2HW/Axf28ykBiYiY+O++m1czIdOYEIe\nMnFQ359GDOYY5Rc9jyk9+ZfAOm4j9N7Nnj9j0J6JUAJxlbYwQx0MHaReYygKCqAv\nKDlVaBM303oE+p6/Iua1zCzYCm198sV0ZOwk1v9oepeFGMZWm2Cywv0JKTRzVwGy\nlF8ib46/zda2XFAz/3gyxcbjf3QDzuEGpJrSnZl2GEmtT+BSWEk78KoVjH7iPQqB\nTnZ2ehjRqoFS8zuOsJRTTaULXpYcWhzxJxjcryWkmgIK7+j0mYb4QPffm2zGsDno\na7HJi6D7hAezIJ1vKCZtI5X4FHCj3yfanJ2CMoNF4MVcyuh+OA5IYjkpFrCN9jUH\nmzhycThJb1Dm3Z9F+uEdyPMdZPViSYqnpHzpXktzEpAf3vNiazgsXwphAnH5IOJ3\nlDa+qAwpR1Xm81mGaENk\n=DDrB\n-----END PGP SIGNATURE-----",
        "payload": "tree eb338c2a0e44a6ab0d22e2b219b30d980dd644bc\nparent 57d1f46952bb6ee5c7b1200f29e8854d3191923a\nauthor dexX7 <dexx@bitwatch.co> 1427414869 +0100\ncommitter dexX7 <dexx@bitwatch.co> 1429365975 +0200\n\nInitialization: set fallback locale as environment variable\n\nThe scope of `std::locale::global` appears to be smaller than `setenv(\"LC_ALL\", ...)` and insufficient to fix messed up locale settings for the whole application.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/df45564cf0ad3b591d4eb8cc2354093bcb7df14c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/df45564cf0ad3b591d4eb8cc2354093bcb7df14c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/df45564cf0ad3b591d4eb8cc2354093bcb7df14c/comments",
    "author": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "57d1f46952bb6ee5c7b1200f29e8854d3191923a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/57d1f46952bb6ee5c7b1200f29e8854d3191923a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/57d1f46952bb6ee5c7b1200f29e8854d3191923a"
      }
    ],
    "stats": {
      "total": 7,
      "additions": 4,
      "deletions": 3
    },
    "files": [
      {
        "sha": "4fea18b30686fdd7da15cc1c85a8d67da206b641",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 3,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/df45564cf0ad3b591d4eb8cc2354093bcb7df14c/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/df45564cf0ad3b591d4eb8cc2354093bcb7df14c/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=df45564cf0ad3b591d4eb8cc2354093bcb7df14c",
        "patch": "@@ -713,18 +713,19 @@ void RenameThread(const char* name)\n \n void SetupEnvironment()\n {\n+    std::locale loc(\"C\");\n     // On most POSIX systems (e.g. Linux, but not BSD) the environment's locale\n     // may be invalid, in which case the \"C\" locale is used as fallback.\n #if !defined(WIN32) && !defined(MAC_OSX) && !defined(__FreeBSD__) && !defined(__OpenBSD__)\n     try {\n-        std::locale(\"\"); // Raises a runtime error if current locale is invalid\n+        loc = std::locale(\"\"); // Raises a runtime error if current locale is invalid\n     } catch (const std::runtime_error&) {\n-        std::locale::global(std::locale(\"C\"));\n+        setenv(\"LC_ALL\", \"C\", 1);\n     }\n #endif\n     // The path locale is lazy initialized and to avoid deinitialization errors \n     // in multithreading environments, it is set explicitly by the main thread.\n-    boost::filesystem::path::imbue(std::locale());    \n+    boost::filesystem::path::imbue(loc);\n }\n \n void SetThreadPriority(int nPriority)"
      }
    ]
  },
  {
    "sha": "7494e0915b1b6ab0d68b77a2f9140e365e41cef8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3NDk0ZTA5MTViMWI2YWIwZDY4Yjc3YTJmOTE0MGUzNjVlNDFjZWY4",
    "commit": {
      "author": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-03-25T11:09:17Z"
      },
      "committer": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-04-18T14:06:20Z"
      },
      "message": "Initialization: setup environment before starting tests\n\nThe environment is prepared by the main thread to guard against invalid locale settings and to prevent deinitialization issues of Boost path, which can result in app crashes.",
      "tree": {
        "sha": "07ce26aa2432526ca68f90792275de22e8d6b1ce",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/07ce26aa2432526ca68f90792275de22e8d6b1ce"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7494e0915b1b6ab0d68b77a2f9140e365e41cef8",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJVMmTcAAoJEHZ14xz1cZgyXPcP/Ag/9vSo2f0omey8ZU3PIsxU\nLSnLr9ba14UzsJzDeEkpimj//btBe7g4xyawZc4pWWD8+/RIApU036dBJLc3GtWd\nXIrQa9QNGRmGD5EyeNXZ4PL6HP5j3Y05WfOwv7L7Sxcc5D0gJN3X3ARJRmi7Hytv\n2SKkTDaQm6ShubMJVptlGWJ8a4gKrvWsC9vDYGzOomv1fbCEQT0Yu9lRdWyYSyNQ\nI3XO62ta38oK7U+V8W3sFDmK5clJCIMEn6vcS+iCQr5PFIUznFQqFqlVPtdqicu5\nhbWrXTs1ET/60sGICS8AioAUr8x/Eaqv/U7v8JxSsvHN52MZaJ/BxwPAAljthQ90\nG/sIV7DU7nWAhWyFJs4c3plicE90/GlaRiizEWLzoXtqvyYK4FljspfuZFMkJoew\no0Vd+PL/sFFvPNJp/4V2tmO+AAfXfD2lL9csVoDgfZkYmhCOy/22cB1aU904/yEg\nn8zd4rCzFOCeTH/iyujOcSMdsq0SHtLKFiVm6ZE3UMIJm+xs+Xi4ibY8idzLIe6R\ndQJu5khcblD5ao4465nPGEhcZq96+ZNnYVs0HnZ2DAYFTZjDKAsm/69ZwF7SSzK+\n5x01YqKwkzvLJ6QGcJjh3uz63NrctyYkt/GLhoWo0WjBFlql0YLjJIEYNhvx/AXV\n+2WAf1MXx8wrCxb45teb\n=Xztr\n-----END PGP SIGNATURE-----",
        "payload": "tree 07ce26aa2432526ca68f90792275de22e8d6b1ce\nparent df45564cf0ad3b591d4eb8cc2354093bcb7df14c\nauthor dexX7 <dexx@bitwatch.co> 1427281757 +0100\ncommitter dexX7 <dexx@bitwatch.co> 1429365980 +0200\n\nInitialization: setup environment before starting tests\n\nThe environment is prepared by the main thread to guard against invalid locale settings and to prevent deinitialization issues of Boost path, which can result in app crashes.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7494e0915b1b6ab0d68b77a2f9140e365e41cef8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7494e0915b1b6ab0d68b77a2f9140e365e41cef8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7494e0915b1b6ab0d68b77a2f9140e365e41cef8/comments",
    "author": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "df45564cf0ad3b591d4eb8cc2354093bcb7df14c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/df45564cf0ad3b591d4eb8cc2354093bcb7df14c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/df45564cf0ad3b591d4eb8cc2354093bcb7df14c"
      }
    ],
    "stats": {
      "total": 1,
      "additions": 1,
      "deletions": 0
    },
    "files": [
      {
        "sha": "30626267ffac25bbb0db073a6ecea0ade7d0bf38",
        "filename": "src/test/test_bitcoin.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7494e0915b1b6ab0d68b77a2f9140e365e41cef8/src/test/test_bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7494e0915b1b6ab0d68b77a2f9140e365e41cef8/src/test/test_bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/test_bitcoin.cpp?ref=7494e0915b1b6ab0d68b77a2f9140e365e41cef8",
        "patch": "@@ -30,6 +30,7 @@ struct TestingSetup {\n     boost::thread_group threadGroup;\n \n     TestingSetup() {\n+        SetupEnvironment();\n         fPrintToDebugLog = false; // don't want to write to debug.log file\n         fCheckBlockIndex = true;\n         SelectParams(CBaseChainParams::UNITTEST);"
      }
    ]
  },
  {
    "sha": "323de27f4b6a9673902cb414c3b0e3879b1366e7",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozMjNkZTI3ZjRiNmE5NjczOTAyY2I0MTRjM2IwZTM4NzliMTM2NmU3",
    "commit": {
      "author": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-03-27T00:33:34Z"
      },
      "committer": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-04-18T14:06:22Z"
      },
      "message": "Initialization: setup environment before starting QT tests\n\nThe environment is prepared by the main thread to guard against invalid locale settings.",
      "tree": {
        "sha": "86878516c1b1fe7936de3a115b049be235128806",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/86878516c1b1fe7936de3a115b049be235128806"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/323de27f4b6a9673902cb414c3b0e3879b1366e7",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJVMmTfAAoJEHZ14xz1cZgy0hUP/iFpSQez3tpEpXBgxo2wQFKC\n5NAge7tK85OcbJQESnSsiuTUEVxZ7wVJjaFONHOyXWH9DGQEo6EM6APt/9VL54Eg\nCpDyahWrGeB+UqijBxxMOrHuBCHYu/FAZY2C6Hq/Z3f5EWX5HHXu2BpmG9PODpXr\nonD9WZ1TsaZY/SZRwsGP1ai745y+4rgOH/mvQD3ZT2quCdrJVkMpJttgnMcjh688\nVF+7phV8NlCnb3ZbBJW9HIArEzkJAagwdX8sFTcWTZJYpfMm/mZ2jjr0SqaP1U3Y\nLa1KW01us+3VTAnW0ZHIIdTp4BC05IEXl95Ypm5GMVNG2D/jHds8SZgifN2aMQZF\nOKjRAMoF4e1mb8ehP5EMP+6PhOARuN2j8LqN1ozUMZlM1u0OS8EpQhprZCqgJ67l\nOjTDL+7eOXwaeJvTp/Hg8RGuPnIAKhzT9Avbcqr5GTrcwHCY93RPL9SMRWbxzC2q\n3lYZT/awb6xGRGV0alHcrEooSm4RVkqDvcCj28tm03nwyfQ1eAOEiAeJbfwMARej\ngN7fyWA68QoB5Pk+7epUU1w18cMZTx8l8Dk80Qg/QlgTK49YrnvNa+3BabQl2e0D\n/SefnDFCchSiiFjTHucF/MredFPNTMIUPX92JBmDo/VJmRFanDALoDEw5RNj9wK9\nMbOoj1VBdkZIadYPDe41\n=e+N9\n-----END PGP SIGNATURE-----",
        "payload": "tree 86878516c1b1fe7936de3a115b049be235128806\nparent 7494e0915b1b6ab0d68b77a2f9140e365e41cef8\nauthor dexX7 <dexx@bitwatch.co> 1427416414 +0100\ncommitter dexX7 <dexx@bitwatch.co> 1429365982 +0200\n\nInitialization: setup environment before starting QT tests\n\nThe environment is prepared by the main thread to guard against invalid locale settings.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/323de27f4b6a9673902cb414c3b0e3879b1366e7",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/323de27f4b6a9673902cb414c3b0e3879b1366e7",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/323de27f4b6a9673902cb414c3b0e3879b1366e7/comments",
    "author": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7494e0915b1b6ab0d68b77a2f9140e365e41cef8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7494e0915b1b6ab0d68b77a2f9140e365e41cef8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7494e0915b1b6ab0d68b77a2f9140e365e41cef8"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 2,
      "deletions": 0
    },
    "files": [
      {
        "sha": "7d7282db1718e7ef34839e45b4c98416334919ca",
        "filename": "src/qt/test/test_main.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/323de27f4b6a9673902cb414c3b0e3879b1366e7/src/qt/test/test_main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/323de27f4b6a9673902cb414c3b0e3879b1366e7/src/qt/test/test_main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/test/test_main.cpp?ref=323de27f4b6a9673902cb414c3b0e3879b1366e7",
        "patch": "@@ -6,6 +6,7 @@\n #include \"config/bitcoin-config.h\"\n #endif\n \n+#include \"util.h\"\n #include \"uritests.h\"\n \n #ifdef ENABLE_WALLET\n@@ -27,6 +28,7 @@ Q_IMPORT_PLUGIN(qkrcodecs)\n // This is all you need to run all the tests\n int main(int argc, char *argv[])\n {\n+    SetupEnvironment();\n     bool fInvalid = false;\n \n     // Don't remove this, it's needed to access"
      }
    ]
  }
]