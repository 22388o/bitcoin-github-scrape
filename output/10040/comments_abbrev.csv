gmaxwell,2017-03-20T21:31:30Z,"This still leaks that you were in IBD, but I think there isn't much that could be done about that.  One possibility would be to use the best headers height which you'll have very early in sync... but it would require reasoning about some corner cases. @petertodd ",https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-287904649,287904649,
jonasschnelli,2017-03-22T07:43:21Z,I think taking the headers height as @gmaxwell describes would make more sense. #9483 has some simple pre-work that would be reusable (https://github.com/bitcoin/bitcoin/pull/9483/commits/1687a0e5bc958bd204644f2d5ad3647ab461d65d).,https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-288321614,288321614,
ghost,2017-03-24T14:39:42Z,@jonasschnelli indeed,https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-289040949,289040949,
MarcoFalke,2017-03-24T14:55:19Z,"W\nâ€‹asn't the original issue talking about a client that is offline in a sense\nof air gap (but was connected once to the network) and less about a client\nthat is currently syncing?\n\nIn which case the current solution does not help either, because the\nheaders' height can be assumed to be identifier just as unique as the chain\nheight. I think the best we can do for offline clients is to not se",https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-289045502,289045502,
sipa,2017-03-24T20:37:19Z,"@MarcoFalke I guess we can do both. When offline (= tip header too old), don't use anti fee sniping; otherwise, use tip header information.",https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-289136624,289136624,
keystrike,2017-03-28T09:25:52Z,"Yes, in the initial issue I described this because of the ability to fingerprint clients which are not synchronized for some time and will not synchronize in the future. The goal is to get rid of this unique metadata. I agree with @sipa's suggestion.\n\nJust for interest I will check the blockchain for nlocktimes which are set to past times to look at the history of this metadata leak.",https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-289713950,289713950,
laanwj,2017-06-26T11:47:52Z,Needs rebase; and comments addressed.,https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-311036871,311036871,
keystrike,2017-06-27T12:12:20Z,I've made a comment related to this [here](https://github.com/bitcoin/bitcoin/issues/10020#issuecomment-311339203).,https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-311339535,311339535,
ghost,2017-06-27T15:33:02Z,Rebased and awaiting review.,https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-311396120,311396120,
petertodd,2017-06-27T15:52:05Z,"In addition to the IsInitialChainDownload() check, it may be good to change the randomization thing to pick a random block in a much wider range, rather than just a few blocks back. Then make the IsInitialChainDownload() check also activate that randomization for all txs.",https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-311401710,311401710,
ghost,2017-06-27T17:28:01Z,I'd prefer to remove the randomization thing or leave it as is.,https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-311428341,311428341,
jonasschnelli,2017-08-15T19:46:09Z,"The extra headers CChain object is not really required (at least not for this use case).\nI would go back to your original simple implementation of anti-fee sniping and just use `pindexBestHeader` as the header you get your height from.",https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-322568763,322568763,
ghost,2017-08-20T08:46:06Z,Removed that headers CChain.,https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-323572138,323572138,
petertodd,2017-08-20T09:40:22Z,"Concept NACK\n\nW/ the various SHA256 alts that have been launched, and will be launched, it's quite possible that you have a headers chain with more blocks in it than the actual Bitcoin chain. This is even possible if that chain isn't the actual most-work chain, as you might not know about that chain.\n\nI think re: privacy, changing the anti-fee sniping mechanism to occasionally pick nLockTi",https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-323574475,323574475,
ryanofsky,2018-01-09T21:18:57Z,"Perhaps this issue could be tagged [up for grabs](https://github.com/bitcoin/bitcoin/issues?q=label%3A""Up+for+grabs"") if it's not still active. If I understand the suggestion, it's basically just to replace 100 with a much larger value here:\n\nhttps://github.com/bitcoin/bitcoin/blob/22e301a3d56dc9e6878380ee92c7d19ca43119d2/src/wallet/wallet.cpp#L2668\n  ",https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-356417300,356417300,
laanwj,2018-03-01T23:00:19Z,"Closing this, seems inactive.\nI also agree with @petertodd, it's risky to lock in with just the headers - especially given all kinds of forks and alts starting from the bitcoin chain.",https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-369761148,369761148,
MarcoFalke,2019-03-05T19:36:23Z,"Picked up in "" wallet: Avoid leaking nLockTime fingerprint when anti-fee-sniping #15039 """,https://github.com/bitcoin/bitcoin/pull/10040#issuecomment-469827830,469827830,
