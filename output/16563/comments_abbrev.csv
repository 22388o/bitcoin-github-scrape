practicalswift,2019-08-07 16:44:37,"Welcome as a contributor @mzumsande!\n\nWould you mind adding a comment describing the bug-turned-feature to give some context to this change? :-)",https://github.com/bitcoin/bitcoin/pull/16563#issuecomment-519177938,519177938,
MarcoFalke,2019-08-07 16:49:04,"Maybe this:\n\n*  AddTimeData will never update nTimeOffset past 199 samples #4521 \n",https://github.com/bitcoin/bitcoin/pull/16563#issuecomment-519179503,519179503,
mzumsande,2019-08-07 16:56:18,"Yes, I meant #4521 -  there is also a comment about this in the source code of timedata.cpp which I referenced in the test. \n\nBasically, the method of getting offsets from peers will become ineffective after it has reached 200 samples, because it only attempts to change `nTimeOffset` when it the filter size is odd. So `nTimeOffset` will never be changed after offsets from 200 peers have been r",https://github.com/bitcoin/bitcoin/pull/16563#issuecomment-519182126,519182126,
practicalswift,2019-08-07 17:03:52,@mzumsande Could you add a comment to `BOOST_AUTO_TEST_CASE(addtimedata)` describing the intended behaviour and the rationale behind doing so?,https://github.com/bitcoin/bitcoin/pull/16563#issuecomment-519184989,519184989,
mzumsande,2019-08-07 18:52:13,@practicalswift  I added a comment about this and also adjusted the other comments to make it more clear what is tested.,https://github.com/bitcoin/bitcoin/pull/16563#issuecomment-519224562,519224562,
mzumsande,2019-08-07 22:47:15,"Thanks @ariard for the review, I adressed your comments.",https://github.com/bitcoin/bitcoin/pull/16563#issuecomment-519296080,519296080,
ariard,2019-08-08 01:27:04,ACK 50a9f58.,https://github.com/bitcoin/bitcoin/pull/16563#issuecomment-519326663,519326663,
mzumsande,2019-08-13 15:07:25,Addressed nits by @promag.,https://github.com/bitcoin/bitcoin/pull/16563#issuecomment-520875391,520875391,
laanwj,2019-08-14 12:30:02,"ACK 7cd069d8ef900c6c6b904ddd6fbd64e14bd0f53e, thanks for adding a test",https://github.com/bitcoin/bitcoin/pull/16563#issuecomment-521225929,521225929,
ariard,2019-08-07 20:10:48,"You add 3, but filter size is 4, is vTimeOffsets seeded with a first sample somewhere in test setup ? ",https://github.com/bitcoin/bitcoin/pull/16563#discussion_r311741461,311741461,src/test/timedata_tests.cpp
ariard,2019-08-07 20:12:07,Shouldn't be better to try to increment by one instead of MAX_SAMPLES to see if threshold effect happens as expected?,https://github.com/bitcoin/bitcoin/pull/16563#discussion_r311741998,311741998,src/test/timedata_tests.cpp
mzumsande,2019-08-07 22:09:09,"Not in the test, but in `timedata.cpp`: vTimeOffsets is static and initialized with one element, offset 0:`static CMedianFilter<int64_t> vTimeOffsets(BITCOIN_TIMEDATA_MAX_SAMPLES, 0)`;\nI later add the same number of positive and negative elements so that this initial 0 element stays the median at the end. Will change the comment `initialized with 0` to a better wording.",https://github.com/bitcoin/bitcoin/pull/16563#discussion_r311784227,311784227,src/test/timedata_tests.cpp
mzumsande,2019-08-07 22:14:02,"I wanted to point out that you can replace as much elements in `vTimeOffsets`  as you want without `nTimeOffset` ever changing, but yeah, MAX_SAMPLES is probably a bit overkill, so will change this to a lower value.",https://github.com/bitcoin/bitcoin/pull/16563#discussion_r311785537,311785537,src/test/timedata_tests.cpp
ariard,2019-08-08 01:23:54,"You're right, still have to get familiar with cpp multiple ways of initializing arrays.",https://github.com/bitcoin/bitcoin/pull/16563#discussion_r311823299,311823299,src/test/timedata_tests.cpp
ariard,2019-08-08 01:26:59,"Yes, median doesn't change anymore at MAX_SAMPLES so that's this threshold effect you're interested to see I think (in this case nothing should change)",https://github.com/bitcoin/bitcoin/pull/16563#discussion_r311823755,311823755,src/test/timedata_tests.cpp
promag,2019-08-12 22:42:03,"nit, static function.",https://github.com/bitcoin/bitcoin/pull/16563#discussion_r313158768,313158768,src/test/timedata_tests.cpp
promag,2019-08-12 22:42:50,"nit, should `#include <string>` - iwyu.",https://github.com/bitcoin/bitcoin/pull/16563#discussion_r313158947,313158947,src/test/timedata_tests.cpp
promag,2019-08-12 22:46:07,"nit, could avoid `warning` var by doing `GetWarnings(""gui"").find(""..."")`.",https://github.com/bitcoin/bitcoin/pull/16563#discussion_r313159738,313159738,src/test/timedata_tests.cpp
