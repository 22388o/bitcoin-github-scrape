[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46315397",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-46315397",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 46315397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzE1Mzk3",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-17T14:37:51Z",
    "updated_at": "2014-06-17T14:42:22Z",
    "author_association": "MEMBER",
    "body": "IMHO we should get rid of myclosesocket and the crazy construction in compat.h and make it a pure compatibility wrapper (**only** defined on unix), without extra functionality and checks.\nRedefining an existing API function with unexpected behavior in the guise of a compatibility wrapper is just too crazy.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46315397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46348124",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-46348124",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 46348124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzQ4MTI0",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-17T18:42:40Z",
    "updated_at": "2014-06-17T18:42:40Z",
    "author_association": "NONE",
    "body": "@laanwj I reworked our closesocket() to only be active on Non-Windows OSes, Windows now uses the pure API call.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46348124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46433579",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-46433579",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 46433579,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDMzNTc5",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-18T13:16:29Z",
    "updated_at": "2014-06-18T13:16:29Z",
    "author_association": "MEMBER",
    "body": "The hard part now will be checking all existing closesocket() calls and determining if they should be followed by `hSocket = INVALID_SOCKET`.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46433579/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46433899",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-46433899",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 46433899,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDMzODk5",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-18T13:19:32Z",
    "updated_at": "2014-06-18T13:19:32Z",
    "author_association": "NONE",
    "body": "If you mind looking at #3461 and we can get that merged, it would remove quite a few of them ;). Also the closesocket() during network init for listen sockets should be easy, which is also true for socks5(). Not sure if there are that many left then...\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46433899/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46750127",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-46750127",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 46750127,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzUwMTI3",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-21T10:37:18Z",
    "updated_at": "2014-06-21T11:03:38Z",
    "author_association": "MEMBER",
    "body": "Hmm, thinking further about this, another way would be to define a CSocket class with move semantics (and a method `Close()`, at least, to force closing), and use that instead of passing raw file handles around.\nThis could avoid socket leaks completely by using RAII.\nIt's somewhat more complex and involved, but as we have to change every call site of closesocket() anyway it may be something to think about.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46750127/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46763862",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-46763862",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 46763862,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzYzODYy",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-21T20:25:50Z",
    "updated_at": "2014-06-21T20:25:50Z",
    "author_association": "MEMBER",
    "body": "I like the idea of a RAII wrapper for sockets.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46763862/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46769435",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-46769435",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 46769435,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzY5NDM1",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-22T01:08:12Z",
    "updated_at": "2014-06-22T01:25:46Z",
    "author_association": "NONE",
    "body": "@sipa @laanwj I started implementing CSocket, can you give me some feedback and help to see if I'm on the right track please :). See: https://github.com/Diapolo/bitcoin/commit/1c5873e0ba4cc466c11e5a0dbc779d78b5662075\n\nEdit: The new class is currently only used for listening sockets to show the current implementation state.\nEdit 2: Also it seems that code is currently not working ^^... seems to be too late... a look from some experienced dev would be great anyway.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46769435/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46778519",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-46778519",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 46778519,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Nzc4NTE5",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-22T11:23:44Z",
    "updated_at": "2014-06-22T11:23:44Z",
    "author_association": "NONE",
    "body": "@laanwj @sipa Alright, I was able to fix the problems from last night. During BOOST_FOREACH processing existing sockets were copied/used and got closed by the destructor after the loop ^^. This is now fixed by a new flag `fCloseOnDestruct` in the CSocket class. I need some initial feedback now :).\n\nCommit is at: https://github.com/Diapolo/bitcoin/commit/079dab40b8e2d88786d2fd0bef9025afa5719b9d\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46778519/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46780503",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-46780503",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 46780503,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzgwNTAz",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-22T12:58:25Z",
    "updated_at": "2014-06-22T12:58:25Z",
    "author_association": "NONE",
    "body": "I'm going for some incremental pulls that are included here, see #4388 for the first one.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46780503/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46939311",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-46939311",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 46939311,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTM5MzEx",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-24T07:21:06Z",
    "updated_at": "2014-06-24T07:21:06Z",
    "author_association": "NONE",
    "body": "Did anyone take a look at the RAII class yet? I don't want to continue, if it's bugged or it's implementation is not correct.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46939311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47233441",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-47233441",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 47233441,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjMzNDQx",
    "user": {
      "login": "jgarzik",
      "id": 494411,
      "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494411?u=0b02049ec38b6bb7d55c5c66d9bbeb0d4b822129&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarzik",
      "html_url": "https://github.com/jgarzik",
      "followers_url": "https://api.github.com/users/jgarzik/followers",
      "following_url": "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarzik/orgs",
      "repos_url": "https://api.github.com/users/jgarzik/repos",
      "events_url": "https://api.github.com/users/jgarzik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgarzik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-26T14:35:44Z",
    "updated_at": "2014-06-26T14:35:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "If we are going to have an RAII CSocket, we might as well add classes Connection, SocketServer, IOEngine.\n\nThen we can ditch boost::asio for the RPC server, and use that instead.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47233441/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47235024",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-47235024",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 47235024,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjM1MDI0",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-26T14:48:03Z",
    "updated_at": "2014-06-26T14:48:03Z",
    "author_association": "MEMBER",
    "body": "@diapolo No, haven't got around to it.\n\n@jgarzik I disagree we should be spending time writing and maintaining our own asynchronous I/O library. It's not like we're innovating anything here. If we want to ditch boost::asio we should switch to something which is well-known to be robust and high-performance like libevent (or derivatives). \n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47235024/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47235736",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-47235736",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 47235736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjM1NzM2",
    "user": {
      "login": "jgarzik",
      "id": 494411,
      "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494411?u=0b02049ec38b6bb7d55c5c66d9bbeb0d4b822129&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarzik",
      "html_url": "https://github.com/jgarzik",
      "followers_url": "https://api.github.com/users/jgarzik/followers",
      "following_url": "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarzik/orgs",
      "repos_url": "https://api.github.com/users/jgarzik/repos",
      "events_url": "https://api.github.com/users/jgarzik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgarzik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-26T14:53:13Z",
    "updated_at": "2014-06-26T14:53:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "If we don't want our own async I/O lib, then adding RAII CSocket is moving in the wrong direction.  boost::asio already has portable socket classes and much much more.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47235736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47237754",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-47237754",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 47237754,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjM3NzU0",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-26T15:07:45Z",
    "updated_at": "2014-06-26T15:07:45Z",
    "author_association": "MEMBER",
    "body": "Well - in principle I agree that using the same network library everywhere would be a good thing. But  I know at least @gmaxwell doesn't like boost::asio and doesn't want to switch the P2P code to it.\n\nSo at some point we have to make a decision about what async networking library to use. Not necessarily now.\n\nThe point here was to get rid of the strange compat.h behavior - a compatibility wrapper should provide compatibility not add functionality. I then thought, if we're changing socket closing behavior we might as well make it RAII. But if that's a stap too far, fair enough...\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47237754/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47628580",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-47628580",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 47628580,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NjI4NTgw",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-01T08:11:44Z",
    "updated_at": "2014-07-01T08:11:44Z",
    "author_association": "NONE",
    "body": "@laanwj Thinking about `always call closesocket() before printing any text (ensure consistent usage in the code)`... closesocket() can fail, which would likely interact with our `LogPrint()`... so I guess it's a good idea to first log and close the socket afterwards... but then everywhere in our code.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47628580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47629025",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-47629025",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 47629025,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NjI5MDI1",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-01T08:16:52Z",
    "updated_at": "2014-07-01T08:16:52Z",
    "author_association": "MEMBER",
    "body": "@Diapolo Well in cases where the purpose of the Logprintf is to log the error it should definitely be logged before the close, otherwise it will log the status of the close(). In other cases it doesn't matter what you do first.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47629025/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47629610",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-47629610",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 47629610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NjI5NjEw",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-01T08:23:23Z",
    "updated_at": "2014-07-01T08:23:23Z",
    "author_association": "NONE",
    "body": "@laanwj Right, it's only relevant, when a call to `NetworkErrorString()` is used for the logging.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47629610/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49052521",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-49052521",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 49052521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDUyNTIx",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-15T15:52:09Z",
    "updated_at": "2014-07-15T15:52:28Z",
    "author_association": "NONE",
    "body": "Did anyone look at the RAII wrapper yet or is this considered unhelpful in the end?\nEdit: I know this needs a rebase now...\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49052521/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49142227",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-49142227",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 49142227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTQyMjI3",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-16T09:38:00Z",
    "updated_at": "2014-07-16T09:38:00Z",
    "author_association": "MEMBER",
    "body": "@Diapolo I've looked at it and it looks okay, but as @jgarzik says it may be too much if we intend to move to some other async networking library for P2P. Although it is clearly the way forward - from another async networking library we'd expect nothing less - right now it may brings subtle new bugs that have to be debugged. So I prefer the more trivial change in #4504 for now.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49142227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49148042",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-49148042",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 49148042,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTQ4MDQy",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-16T10:34:53Z",
    "updated_at": "2014-07-16T10:34:53Z",
    "author_association": "NONE",
    "body": "@laanwj Rebased and updated to include changes for node whitelisting. I'm not sure #4504 is an alternative, as it's \"just\" refactoring.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49148042/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49601813",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-49601813",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 49601813,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjAxODEz",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-21T12:58:11Z",
    "updated_at": "2014-07-21T12:58:11Z",
    "author_association": "NONE",
    "body": "@laanwj I reworked and rethought this, there is no need to try to emulate WIN32 `closesocket()` behaviour for non-WIN32, as `close()` gives error `EBADF - fd isn't a valid open file descriptor.`, which we typedef as `WSAENOTSOCK` in compat.h anyway ;). So they behave the same already.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49601813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49602083",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-49602083",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 49602083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjAyMDgz",
    "user": {
      "login": "jgarzik",
      "id": 494411,
      "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494411?u=0b02049ec38b6bb7d55c5c66d9bbeb0d4b822129&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarzik",
      "html_url": "https://github.com/jgarzik",
      "followers_url": "https://api.github.com/users/jgarzik/followers",
      "following_url": "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarzik/orgs",
      "repos_url": "https://api.github.com/users/jgarzik/repos",
      "events_url": "https://api.github.com/users/jgarzik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgarzik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-21T13:01:05Z",
    "updated_at": "2014-07-21T13:01:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "CSocket seems to add never-used methods and flags.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49602083/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49603037",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-49603037",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 49603037,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjAzMDM3",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-21T13:11:11Z",
    "updated_at": "2014-07-21T13:11:11Z",
    "author_association": "NONE",
    "body": "@jgarzik Right, the ones who are unused are `void SetCloseOnDestruct(bool fFlag);` and `void SetWhitelisted(bool fFlag);` and I mentioned that in a comment in the source. Also CSocket is currently ONLY used for listen sockets, because I didn't want to change the whole source, before anyone gave some feedback to my implementation.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49603037/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49605160",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-49605160",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 49605160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjA1MTYw",
    "user": {
      "login": "BitcoinPullTester",
      "id": 2110907,
      "node_id": "MDQ6VXNlcjIxMTA5MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BitcoinPullTester",
      "html_url": "https://github.com/BitcoinPullTester",
      "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
      "following_url": "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
      "gists_url": "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
      "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
      "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
      "events_url": "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-21T13:31:22Z",
    "updated_at": "2014-07-21T13:31:22Z",
    "author_association": "NONE",
    "body": "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4348_684bec2f41d0963fe24cf55cd397b962a25529cf/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49605160/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49635992",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-49635992",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 49635992,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjM1OTky",
    "user": {
      "login": "kazcw",
      "id": 1047859,
      "node_id": "MDQ6VXNlcjEwNDc4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1047859?u=4ae8c609c0f95dec74073fe5f047f8176585a26d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazcw",
      "html_url": "https://github.com/kazcw",
      "followers_url": "https://api.github.com/users/kazcw/followers",
      "following_url": "https://api.github.com/users/kazcw/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazcw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
      "organizations_url": "https://api.github.com/users/kazcw/orgs",
      "repos_url": "https://api.github.com/users/kazcw/repos",
      "events_url": "https://api.github.com/users/kazcw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazcw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-21T17:17:29Z",
    "updated_at": "2014-07-21T17:17:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "The move semantics seem important. Right now you can copy or assign a socket and have two sockets using the same handle; then if one goes out of scope or is `Close()`ed the other will have its underlying socket closed without `CloseSocket` setting `hSocket` to `INVALID_SOCKET`, so it still returns `IsValid()==true`. With cloning disallowed, `fCloseOnDestruct` shouldn't be necessary.\n\nPutting the \"whitelisted\" flag in what would otherwise be a general RAII socket wrapper seems odd. Why not keep the `ListenSocket` struct, and just change it from using a handle to a CSocket?\n\nHaving the `Get()` method is no different from just making the `hSocket` a public member. I suggest either adding wrappers for the functions that take sockets (non-member `friend` functions could do the `FD_SET` operations), or if CSocket is to be a struct with a destructor, making it look like a struct with a destructor.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49635992/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/50167510",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-50167510",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 50167510,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTY3NTEw",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-25T15:48:11Z",
    "updated_at": "2014-07-25T15:48:11Z",
    "author_association": "NONE",
    "body": "@kazcw I guess I need some more help to implement what you suggest about disallow cloning. Makes sense that no CSocket should have the same handle. How can this be achieved?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/50167510/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/50177806",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-50177806",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 50177806,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTc3ODA2",
    "user": {
      "login": "kazcw",
      "id": 1047859,
      "node_id": "MDQ6VXNlcjEwNDc4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1047859?u=4ae8c609c0f95dec74073fe5f047f8176585a26d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazcw",
      "html_url": "https://github.com/kazcw",
      "followers_url": "https://api.github.com/users/kazcw/followers",
      "following_url": "https://api.github.com/users/kazcw/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazcw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
      "organizations_url": "https://api.github.com/users/kazcw/orgs",
      "repos_url": "https://api.github.com/users/kazcw/repos",
      "events_url": "https://api.github.com/users/kazcw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazcw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-07-25T17:12:13Z",
    "updated_at": "2014-07-25T17:14:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "To prevent copying, you can declare a private copy constructor with no implementation.\n\nvhListenSocket would need to be a vector of pointers.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/50177806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51076850",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-51076850",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 51076850,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMDc2ODUw",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-04T15:40:25Z",
    "updated_at": "2014-08-04T15:40:25Z",
    "author_association": "MEMBER",
    "body": "As said before, I deem the RAII changes too risky for what it would bring and am not going to merge it, sorry. \n\nThis would make sense as part of a change that wraps all networking behavior in proper classes, but if we make such a high-impact change to networking we should consider switching to an existing high-performance async networking library instead of mucking about with our own.\n\nSomething to consider in the future, but right now there are much more pressing things.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51076850/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51185913",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#issuecomment-51185913",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4348",
    "id": 51185913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTg1OTEz",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-08-05T11:42:57Z",
    "updated_at": "2014-08-05T11:42:57Z",
    "author_association": "NONE",
    "body": "@laanwj I created #4636 as these changes seem uncontroversial.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51185913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13860879",
    "pull_request_review_id": null,
    "id": 13860879,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzODYwODc5",
    "diff_hunk": "@@ -510,13 +510,10 @@ CNode* ConnectNode(CAddress addrConnect, const char *pszDest)\n \n void CNode::CloseSocketDisconnect()\n {\n+    LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n+\n     fDisconnect = true;\n-    if (hSocket != INVALID_SOCKET)",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "baea8b9aa3df83057a1d4a533a649514a28decb5",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Don't remove this check! hSocket can be INVALID_SOCKET if there is currently no connection open, in which case no closing needs to be done either.\n",
    "created_at": "2014-06-17T14:18:43Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13860879",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13860879"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13860879"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13860879/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13860904",
    "pull_request_review_id": null,
    "id": 13860904,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzODYwOTA0",
    "diff_hunk": "@@ -510,13 +510,10 @@ CNode* ConnectNode(CAddress addrConnect, const char *pszDest)\n \n void CNode::CloseSocketDisconnect()\n {\n+    LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n+\n     fDisconnect = true;\n-    if (hSocket != INVALID_SOCKET)\n-    {\n-        LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n-        closesocket(hSocket);\n-        hSocket = INVALID_SOCKET;",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "baea8b9aa3df83057a1d4a533a649514a28decb5",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This hSocket = INVALID_SOCKET is used to mark the connection as closed, don't remove it.\n",
    "created_at": "2014-06-17T14:19:02Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13860904",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13860904"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13860904"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13860904/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861029",
    "pull_request_review_id": null,
    "id": 13861029,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzODYxMDI5",
    "diff_hunk": "@@ -510,13 +510,10 @@ CNode* ConnectNode(CAddress addrConnect, const char *pszDest)\n \n void CNode::CloseSocketDisconnect()\n {\n+    LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n+\n     fDisconnect = true;\n-    if (hSocket != INVALID_SOCKET)\n-    {\n-        LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n-        closesocket(hSocket);\n-        hSocket = INVALID_SOCKET;",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "baea8b9aa3df83057a1d4a533a649514a28decb5",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`closesocket(hSocket);` does exactly that...\n",
    "created_at": "2014-06-17T14:20:32Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861029",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861029"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861029"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861029/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861143",
    "pull_request_review_id": null,
    "id": 13861143,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzODYxMTQz",
    "diff_hunk": "@@ -510,13 +510,10 @@ CNode* ConnectNode(CAddress addrConnect, const char *pszDest)\n \n void CNode::CloseSocketDisconnect()\n {\n+    LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n+\n     fDisconnect = true;\n-    if (hSocket != INVALID_SOCKET)",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "baea8b9aa3df83057a1d4a533a649514a28decb5",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "That check could then perhaps be rewritten to?\n\n<pre>\nif (closesocket(hSocket) != WSAENOTSOCK)\n    LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n</pre>\n",
    "created_at": "2014-06-17T14:22:34Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861143",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861143"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861143"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861143/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861296",
    "pull_request_review_id": null,
    "id": 13861296,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzODYxMjk2",
    "diff_hunk": "@@ -340,11 +339,7 @@ class CNode\n \n     ~CNode()\n     {\n-        if (hSocket != INVALID_SOCKET)",
    "path": "src/net.h",
    "position": 101,
    "original_position": 12,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "baea8b9aa3df83057a1d4a533a649514a28decb5",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Again, keep this check. hSocket can be INVALID_SOCKET, in which case closesocket should not be called on it.\n",
    "created_at": "2014-06-17T14:24:49Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861296",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861296"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861296"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 358,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861419",
    "pull_request_review_id": null,
    "id": 13861419,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzODYxNDE5",
    "diff_hunk": "@@ -1632,6 +1629,7 @@ bool BindListenPort(const CService &addrBind, string& strError)\n \n     if (::bind(hListenSocket, (struct sockaddr*)&sockaddr, len) == SOCKET_ERROR)\n     {\n+        closesocket(hListenSocket);",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 31,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "baea8b9aa3df83057a1d4a533a649514a28decb5",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good catch, this was a potential (one-time) socket leak.\n",
    "created_at": "2014-06-17T14:26:41Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861419",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861419"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861419"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1632,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861597",
    "pull_request_review_id": null,
    "id": 13861597,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzODYxNTk3",
    "diff_hunk": "@@ -510,13 +510,10 @@ CNode* ConnectNode(CAddress addrConnect, const char *pszDest)\n \n void CNode::CloseSocketDisconnect()\n {\n+    LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n+\n     fDisconnect = true;\n-    if (hSocket != INVALID_SOCKET)\n-    {\n-        LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n-        closesocket(hSocket);\n-        hSocket = INVALID_SOCKET;",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "baea8b9aa3df83057a1d4a533a649514a28decb5",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "WTF?!? closesocket(x) changes the value of x? That's terribly unexpected. I don't like that at all.\n",
    "created_at": "2014-06-17T14:29:25Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861597",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861597"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861597"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861597/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861616",
    "pull_request_review_id": null,
    "id": 13861616,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzODYxNjE2",
    "diff_hunk": "@@ -340,11 +339,7 @@ class CNode\n \n     ~CNode()\n     {\n-        if (hSocket != INVALID_SOCKET)",
    "path": "src/net.h",
    "position": 101,
    "original_position": 12,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "baea8b9aa3df83057a1d4a533a649514a28decb5",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "See my comment above, that check IS done in `closesocket(hSocket);` we did a redefinition of that function and added some nice checks to it (IMHO).\n",
    "created_at": "2014-06-17T14:29:44Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861616",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861616"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861616"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861616/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 358,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861698",
    "pull_request_review_id": null,
    "id": 13861698,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzODYxNjk4",
    "diff_hunk": "@@ -510,13 +510,10 @@ CNode* ConnectNode(CAddress addrConnect, const char *pszDest)\n \n void CNode::CloseSocketDisconnect()\n {\n+    LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n+\n     fDisconnect = true;\n-    if (hSocket != INVALID_SOCKET)",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "baea8b9aa3df83057a1d4a533a649514a28decb5",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "That would work. But I like the previous, explicit check better. It's just more clear \"close the socket when we're connected\" versus \"try closing and log a message if it fails\".\n",
    "created_at": "2014-06-17T14:31:13Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861698",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861698"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861698"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861698/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861798",
    "pull_request_review_id": null,
    "id": 13861798,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzODYxNzk4",
    "diff_hunk": "@@ -510,13 +510,10 @@ CNode* ConnectNode(CAddress addrConnect, const char *pszDest)\n \n void CNode::CloseSocketDisconnect()\n {\n+    LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n+\n     fDisconnect = true;\n-    if (hSocket != INVALID_SOCKET)\n-    {\n-        LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n-        closesocket(hSocket);\n-        hSocket = INVALID_SOCKET;",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "baea8b9aa3df83057a1d4a533a649514a28decb5",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If you like or not, that IS the case for all calls to the function currently... we use closesocket() as a wrapper for the os specific ones and added some things. What would you suggest doing? IMHO it's a lot of duplication if we want to check everytime if a socket has state INVALID_SOCKET before calling our closesocket() function, no?\n",
    "created_at": "2014-06-17T14:32:27Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861798",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861798"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13861798"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13861798/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13863036",
    "pull_request_review_id": null,
    "id": 13863036,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzODYzMDM2",
    "diff_hunk": "@@ -510,13 +510,10 @@ CNode* ConnectNode(CAddress addrConnect, const char *pszDest)\n \n void CNode::CloseSocketDisconnect()\n {\n+    LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n+\n     fDisconnect = true;\n-    if (hSocket != INVALID_SOCKET)\n-    {\n-        LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n-        closesocket(hSocket);\n-        hSocket = INVALID_SOCKET;",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "baea8b9aa3df83057a1d4a533a649514a28decb5",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I prefer a bit of duplication over a closesocket() call that does something else than the WIN32 API specifies.\n",
    "created_at": "2014-06-17T14:50:05Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13863036",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13863036"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13863036"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13863036/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13863290",
    "pull_request_review_id": null,
    "id": 13863290,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzODYzMjkw",
    "diff_hunk": "@@ -510,13 +510,10 @@ CNode* ConnectNode(CAddress addrConnect, const char *pszDest)\n \n void CNode::CloseSocketDisconnect()\n {\n+    LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n+\n     fDisconnect = true;\n-    if (hSocket != INVALID_SOCKET)\n-    {\n-        LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n-        closesocket(hSocket);\n-        hSocket = INVALID_SOCKET;",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "baea8b9aa3df83057a1d4a533a649514a28decb5",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'm convinced, but AFAIK there are only the 2 lines in CNode that check for INVALID_SOCKET before closing, is this still correct after cleaning up closesocket() (which I'll gladly do)?\n",
    "created_at": "2014-06-17T14:53:17Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13863290",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13863290"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13863290"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13863290/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13869399",
    "pull_request_review_id": null,
    "id": 13869399,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzODY5Mzk5",
    "diff_hunk": "@@ -510,13 +510,10 @@ CNode* ConnectNode(CAddress addrConnect, const char *pszDest)\n \n void CNode::CloseSocketDisconnect()\n {\n+    LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n+\n     fDisconnect = true;\n-    if (hSocket != INVALID_SOCKET)\n-    {\n-        LogPrint(\"net\", \"disconnecting node %s\\n\", addrName);\n-        closesocket(hSocket);\n-        hSocket = INVALID_SOCKET;",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "baea8b9aa3df83057a1d4a533a649514a28decb5",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think the goal should be to make closesocket() emulate the WIN32 closesocket on Linux, and don't redefine it when WIN32 at all. As we don't define the function on WIN32 anymore we can rename the function from `myclosesocket` to `closesocket`.\n\nAccording to http://msdn.microsoft.com/en-us/library/windows/desktop/ms737582%28v=vs.85%29.aspx this behavior is to return WSAENOTSOCK when an invalid socket handle is passed. So we can keep the check for INVALID_SOCKET inside the function, to emulate that behavior on Linux.\n\nAlso removie the assignment of the output parameter `hSocket = INVALID_SOCKET` from the function - and make sure it happens everywhere where needed outside the function.\n",
    "created_at": "2014-06-17T16:22:48Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13869399",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13869399"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13869399"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13869399/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13913578",
    "pull_request_review_id": null,
    "id": 13913578,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzOTEzNTc4",
    "diff_hunk": "@@ -59,19 +59,17 @@ typedef u_int SOCKET;\n #define SOCKET_ERROR        -1\n #endif\n \n-inline int myclosesocket(SOCKET& hSocket)\n+#ifndef WIN32\n+// Emulate WIN32 closesocket() behaviour for other OSes\n+inline int closesocket(SOCKET& hSocket)",
    "path": "src/compat.h",
    "position": null,
    "original_position": 14,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "651cd771c772fa34e96dfb23e61e5a673218acb3",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "this can be just `SOCKET hSocket` now like a normal parameter, no need for it to be a reference anymore :)\n",
    "created_at": "2014-06-18T13:14:10Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13913578",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13913578"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13913578"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13913578/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 64,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13913832",
    "pull_request_review_id": null,
    "id": 13913832,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzOTEzODMy",
    "diff_hunk": "@@ -59,19 +59,17 @@ typedef u_int SOCKET;\n #define SOCKET_ERROR        -1\n #endif\n \n-inline int myclosesocket(SOCKET& hSocket)\n+#ifndef WIN32\n+// Emulate WIN32 closesocket() behaviour for other OSes\n+inline int closesocket(SOCKET& hSocket)",
    "path": "src/compat.h",
    "position": null,
    "original_position": 14,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "651cd771c772fa34e96dfb23e61e5a673218acb3",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Isn't a reference better because we then use no extra copy?\n",
    "created_at": "2014-06-18T13:20:10Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13913832",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13913832"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13913832"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13913832/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 64,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13914267",
    "pull_request_review_id": null,
    "id": 13914267,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzOTE0MjY3",
    "diff_hunk": "@@ -59,19 +59,17 @@ typedef u_int SOCKET;\n #define SOCKET_ERROR        -1\n #endif\n \n-inline int myclosesocket(SOCKET& hSocket)\n+#ifndef WIN32\n+// Emulate WIN32 closesocket() behaviour for other OSes\n+inline int closesocket(SOCKET& hSocket)",
    "path": "src/compat.h",
    "position": null,
    "original_position": 14,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "651cd771c772fa34e96dfb23e61e5a673218acb3",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "For large types such as structures and objects that can be true (but then we'd use a _const_ reference). For small types like integers and handles it's only overhead. On 64-bit architectures a pointer to an integer is larger than the integer itself.\n",
    "created_at": "2014-06-18T13:30:17Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13914267",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13914267"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r13914267"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13914267/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 64,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14052505",
    "pull_request_review_id": null,
    "id": 14052505,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MDUyNTA1",
    "diff_hunk": "@@ -59,19 +59,17 @@ typedef u_int SOCKET;\n #define SOCKET_ERROR        -1\n #endif\n \n-inline int myclosesocket(SOCKET& hSocket)\n+#ifndef WIN32\n+// Emulate WIN32 closesocket() behaviour for other OSes\n+inline int closesocket(SOCKET& hSocket)",
    "path": "src/compat.h",
    "position": null,
    "original_position": 14,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "651cd771c772fa34e96dfb23e61e5a673218acb3",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Understood and will be changed :).\n",
    "created_at": "2014-06-22T01:09:44Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r14052505",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14052505"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r14052505"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14052505/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 64,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15166680",
    "pull_request_review_id": null,
    "id": 15166680,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTY2Njgw",
    "diff_hunk": "@@ -340,11 +339,7 @@ class CNode\n \n     ~CNode()\n     {\n-        if (hSocket != INVALID_SOCKET)",
    "path": "src/net.h",
    "position": 101,
    "original_position": 12,
    "commit_id": "684bec2f41d0963fe24cf55cd397b962a25529cf",
    "original_commit_id": "baea8b9aa3df83057a1d4a533a649514a28decb5",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@laanwj As you add this check in `CloseSocket()` this should be fine now :).\n",
    "created_at": "2014-07-21T12:54:52Z",
    "updated_at": "2014-07-21T12:59:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r15166680",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15166680"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4348#discussion_r15166680"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4348"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15166680/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 358,
    "original_line": null,
    "side": "RIGHT"
  }
]