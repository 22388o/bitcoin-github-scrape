laanwj,2021-01-22 16:03:09,"Thanks for adding this, untested ACK!",https://github.com/bitcoin/bitcoin/pull/20987#issuecomment-765510528,765510528,
theStack,2021-01-22 16:20:06,"Concept ACK, will test that later;\nnit: is there a minimum go version needed that is worth mentioning?",https://github.com/bitcoin/bitcoin/pull/20987#issuecomment-765523288,765523288,
laanwj,2021-01-22 16:48:43,It would be kinda nice if someone ported this script to Python so that we don't have to install go to do the release process. But that's obviously not a requirement in this PR :slightly_smiling_face: ,https://github.com/bitcoin/bitcoin/pull/20987#issuecomment-765545744,765545744,
MarcoFalke,2021-01-22 16:53:55,"I am reworking how the static docs are generated (some time after #20012), so that might be a good excuse to also rewrite the translator script from go to python or maybe even remove the need for it completely.",https://github.com/bitcoin/bitcoin/pull/20987#issuecomment-765549660,765549660,
harding,2021-01-22 18:06:44,"@MarcoFalke FYI, the website generator (Jekyll) natively supports reading data files written in JSON or YAML, so if the RPC docs can be output in either of those formats, it would make integrating with the website easy.",https://github.com/bitcoin/bitcoin/pull/20987#issuecomment-765591666,765591666,
theStack,2021-01-22 16:46:47,"If I start bitcoind on regtest via `bitcoind -regtest -daemon` and start the generation script as described, I get:\n\n```\n$ go run generate.go \n2021/01/22 17:38:37 Cannot run bitcoin-cli: exit status 1, is bitcoind running?\nexit status 1\n```\nLooking at the script, it doesn't seem to invoke bitcoin-cli with a specified network, therefore assuming mainnet.\n\nTherefore either the scri",https://github.com/bitcoin/bitcoin/pull/20987#discussion_r562762266,562762266,doc/release-process.md
ben-kaufman,2021-01-22 17:02:58,"I just tried and it seems to work with both mainnet and regtest, but the script itself says regtest should be specified:\nhttps://github.com/bitcoin-core/bitcoincore.org/blob/06666b83558cdd795f08969c553e722b20867cf0/contrib/doc-gen/generate.go#L5\n\nAlso, @harding said that should be regtest too, maybe he could say if that's actually needed?",https://github.com/bitcoin/bitcoin/pull/20987#discussion_r562772552,562772552,doc/release-process.md
ben-kaufman,2021-01-22 17:12:02,"Looking through the script I don't see a reason why the network should matter, although I might be missing something. But if you think I don't I could just remove this part of specifying network.",https://github.com/bitcoin/bitcoin/pull/20987#discussion_r562778343,562778343,doc/release-process.md
laanwj,2021-01-22 17:35:24,"Tested on a fresh Ubuntu Focal (20.04) VM:\n\nThis worked:\n```bash\nsudo install git golang wget\nwget https://bitcoincore.org/bin/bitcoin-core-0.21.0/bitcoin-0.21.0-x86_64-linux-gnu.tar.gz\ntar -zxf bitcoin-0.21.0-x86_64-linux-gnu.tar.gz\nexport PATH=""$PWD/bitcoin-0.21.0/bin:$PATH""\nbitcoind  -noconnect -nolisten -daemon\ngit clone https://github.com/bitcoin-core/bitcoincore.org.git\nc",https://github.com/bitcoin/bitcoin/pull/20987#discussion_r562792577,562792577,doc/release-process.md
ben-kaufman,2021-01-22 17:55:14,"Ok, so for now I have changed it to say mainnet as suggested.\nIn the script itself, do you think it would make more sense to update the comment, or make the script use regtest?\nhttps://github.com/bitcoin-core/bitcoincore.org/blob/06666b83558cdd795f08969c553e722b20867cf0/contrib/doc-gen/generate.go#L5",https://github.com/bitcoin/bitcoin/pull/20987#discussion_r562804449,562804449,doc/release-process.md
MarcoFalke,2021-01-22 18:00:21,"I believe for the script you can specify the network in the `~/.bitcoin/bitcoin.conf` file if you really need to. Only default file location works, obviously.",https://github.com/bitcoin/bitcoin/pull/20987#discussion_r562807603,562807603,doc/release-process.md
harding,2021-01-22 18:01:08,"When I use the script, I do:\n\n    vi ~/.bitcoin/bitcoin.conf\n    dG  # delete everything in the file\n    regtest=1  # default to regtest\n    :w   # write the file\n    ^Z  # suspend the editor\n    bitcoind -daemon\n    go run generate.go\n    bitcoin-cli stop\n    fg  # bring the editor back\n    uu  # undo edits\n    :wq  # write file and exit\n\n(Yikes, writing all that out m",https://github.com/bitcoin/bitcoin/pull/20987#discussion_r562808635,562808635,doc/release-process.md
theStack,2021-01-22 18:13:18,"If the generated docs are really the same, I'd prefer regtest, to not waste bandwidth and hd space due to IBD  starting (especially if one forgets to exit bitcoind after generation). A docker container could also be helpful here, to avoid potential conflict with another bitcoind that is already running. This way we also wouldn't need to install go or change the host machine's state in any other wa",https://github.com/bitcoin/bitcoin/pull/20987#discussion_r562818113,562818113,doc/release-process.md
ben-kaufman,2021-01-22 18:13:49,Thanks. So I think now it should be fine to just have it say mainnet instead as was suggested here?,https://github.com/bitcoin/bitcoin/pull/20987#discussion_r562818391,562818391,doc/release-process.md
laanwj,2021-01-22 21:36:08,"> f the generated docs are really the same, I'd prefer regtest, to not waste bandwidth and hd space due to IBD starting\n\nI agree. This is why I pass `-noconnect -nolisten` above, I think this prevents any IBD from starting.\n\n> Thanks. So I think now it should be fine to just have it say mainnet instead as was suggested here?\n\nYes, would say so. Unless the script is changed to use `-reg",https://github.com/bitcoin/bitcoin/pull/20987#discussion_r562927663,562927663,doc/release-process.md
ben-kaufman,2021-01-23 07:59:32,"Ok, I think this PR can wait for https://github.com/bitcoin-core/bitcoincore.org/pull/751 to be merged first, then change back here to mention it should run on regtest.",https://github.com/bitcoin/bitcoin/pull/20987#discussion_r563035390,563035390,doc/release-process.md
ben-kaufman,2021-01-25 17:21:06,I think now with https://github.com/bitcoin-core/bitcoincore.org/pull/751 merged this comment can be resolved. I've returned it to the original text here of specifying regtest.,https://github.com/bitcoin/bitcoin/pull/20987#discussion_r563900610,563900610,doc/release-process.md
