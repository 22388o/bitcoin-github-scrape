[
  {
    "sha": "947913fc54325bea88dd52ea219ea2c69e334c97",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5NDc5MTNmYzU0MzI1YmVhODhkZDUyZWEyMTllYTJjNjllMzM0Yzk3",
    "commit": {
      "author": {
        "name": "whythat",
        "email": "yuri.zhykin@gmail.com",
        "date": "2016-07-18T09:23:42Z"
      },
      "committer": {
        "name": "whythat",
        "email": "yuri.zhykin@gmail.com",
        "date": "2016-08-09T00:11:28Z"
      },
      "message": "use std::map::erase(const_iterator, const_iterator) to get non-constant iterator",
      "tree": {
        "sha": "77f60d410fd0d67a1a557d8b44dee8baa64ed395",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/77f60d410fd0d67a1a557d8b44dee8baa64ed395"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/947913fc54325bea88dd52ea219ea2c69e334c97",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/947913fc54325bea88dd52ea219ea2c69e334c97",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/947913fc54325bea88dd52ea219ea2c69e334c97",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/947913fc54325bea88dd52ea219ea2c69e334c97/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "bc94b87487824c6fba45788facf96faba97a4aa6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bc94b87487824c6fba45788facf96faba97a4aa6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bc94b87487824c6fba45788facf96faba97a4aa6"
      }
    ],
    "stats": {
      "total": 7,
      "additions": 5,
      "deletions": 2
    },
    "files": [
      {
        "sha": "7841d7f4a4abe006ef1fc13ef200f89eb63b0564",
        "filename": "src/limitedmap.h",
        "status": "modified",
        "additions": 5,
        "deletions": 2,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/947913fc54325bea88dd52ea219ea2c69e334c97/src/limitedmap.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/947913fc54325bea88dd52ea219ea2c69e334c97/src/limitedmap.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/limitedmap.h?ref=947913fc54325bea88dd52ea219ea2c69e334c97",
        "patch": "@@ -66,8 +66,11 @@ class limitedmap\n     }\n     void update(const_iterator itIn, const mapped_type& v)\n     {\n-        // TODO: When we switch to C++11, use map.erase(itIn, itIn) to get the non-const iterator.\n-        iterator itTarget = map.find(itIn->first);\n+        // Using map::erase() with empty range instead of map::find() to get a non-const iterator,\n+        // since it is a constant time operation in C++11. For more details, see\n+        // https://stackoverflow.com/questions/765148/how-to-remove-constness-of-const-iterator\n+        iterator itTarget = map.erase(itIn, itIn);\n+        \n         if (itTarget == map.end())\n             return;\n         std::pair<rmap_iterator, rmap_iterator> itPair = rmap.equal_range(itTarget->second);"
      }
    ]
  },
  {
    "sha": "5e187e70012c247b96783f7fa9bcbd0289504ad5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1ZTE4N2U3MDAxMmMyNDdiOTY3ODNmN2ZhOWJjYmQwMjg5NTA0YWQ1",
    "commit": {
      "author": {
        "name": "whythat",
        "email": "yuri.zhykin@gmail.com",
        "date": "2016-07-18T09:26:21Z"
      },
      "committer": {
        "name": "whythat",
        "email": "yuri.zhykin@gmail.com",
        "date": "2016-08-09T00:11:45Z"
      },
      "message": "use c++11 std::unique_ptr instead of boost::shared_ptr",
      "tree": {
        "sha": "70dcd0ede59105a0c5ae04889310a812127add40",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/70dcd0ede59105a0c5ae04889310a812127add40"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5e187e70012c247b96783f7fa9bcbd0289504ad5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5e187e70012c247b96783f7fa9bcbd0289504ad5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5e187e70012c247b96783f7fa9bcbd0289504ad5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5e187e70012c247b96783f7fa9bcbd0289504ad5/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "947913fc54325bea88dd52ea219ea2c69e334c97",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/947913fc54325bea88dd52ea219ea2c69e334c97",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/947913fc54325bea88dd52ea219ea2c69e334c97"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 5,
      "deletions": 4
    },
    "files": [
      {
        "sha": "4b594f5fa6674470d4673c6515e86f22f2387a65",
        "filename": "src/rpc/server.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 4,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5e187e70012c247b96783f7fa9bcbd0289504ad5/src/rpc/server.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5e187e70012c247b96783f7fa9bcbd0289504ad5/src/rpc/server.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/server.cpp?ref=5e187e70012c247b96783f7fa9bcbd0289504ad5",
        "patch": "@@ -25,6 +25,8 @@\n #include <boost/thread.hpp>\n #include <boost/algorithm/string/case_conv.hpp> // for to_upper()\n \n+#include <memory> // for unique_ptr\n+\n using namespace RPCServer;\n using namespace std;\n \n@@ -34,9 +36,8 @@ static std::string rpcWarmupStatus(\"RPC server started\");\n static CCriticalSection cs_rpcWarmup;\n /* Timer-creating functions */\n static RPCTimerInterface* timerInterface = NULL;\n-/* Map of name to timer.\n- * @note Can be changed to std::unique_ptr when C++11 */\n-static std::map<std::string, boost::shared_ptr<RPCTimerBase> > deadlineTimers;\n+/* Map of name to timer. */\n+static std::map<std::string, std::unique_ptr<RPCTimerBase> > deadlineTimers;\n \n static struct CRPCSignals\n {\n@@ -490,7 +491,7 @@ void RPCRunLater(const std::string& name, boost::function<void(void)> func, int6\n         throw JSONRPCError(RPC_INTERNAL_ERROR, \"No timer handler registered for RPC\");\n     deadlineTimers.erase(name);\n     LogPrint(\"rpc\", \"queue run of timer %s in %i seconds (using %s)\\n\", name, nSeconds, timerInterface->Name());\n-    deadlineTimers.insert(std::make_pair(name, boost::shared_ptr<RPCTimerBase>(timerInterface->NewTimer(func, nSeconds*1000))));\n+    deadlineTimers.insert(std::make_pair(name, std::unique_ptr<RPCTimerBase>(timerInterface->NewTimer(func, nSeconds*1000))));\n }\n \n CRPCTable tableRPC;"
      }
    ]
  },
  {
    "sha": "c78408607536bf030947f69f6dc6e09e07873c84",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjNzg0MDg2MDc1MzZiZjAzMDk0N2Y2OWY2ZGM2ZTA5ZTA3ODczYzg0",
    "commit": {
      "author": {
        "name": "whythat",
        "email": "yuri.zhykin@gmail.com",
        "date": "2016-07-18T23:15:59Z"
      },
      "committer": {
        "name": "whythat",
        "email": "yuri.zhykin@gmail.com",
        "date": "2016-08-09T00:11:45Z"
      },
      "message": "use std::map::emplace() instead of std::map::insert()",
      "tree": {
        "sha": "0142781d524ac9bdb045ddf076d102e15b5d2828",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0142781d524ac9bdb045ddf076d102e15b5d2828"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c78408607536bf030947f69f6dc6e09e07873c84",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c78408607536bf030947f69f6dc6e09e07873c84",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c78408607536bf030947f69f6dc6e09e07873c84",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c78408607536bf030947f69f6dc6e09e07873c84/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "5e187e70012c247b96783f7fa9bcbd0289504ad5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5e187e70012c247b96783f7fa9bcbd0289504ad5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5e187e70012c247b96783f7fa9bcbd0289504ad5"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "5fb97f7496217312d346e1f5c0b5e5a30e27c1a2",
        "filename": "src/rpc/server.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c78408607536bf030947f69f6dc6e09e07873c84/src/rpc/server.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c78408607536bf030947f69f6dc6e09e07873c84/src/rpc/server.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/server.cpp?ref=c78408607536bf030947f69f6dc6e09e07873c84",
        "patch": "@@ -491,7 +491,7 @@ void RPCRunLater(const std::string& name, boost::function<void(void)> func, int6\n         throw JSONRPCError(RPC_INTERNAL_ERROR, \"No timer handler registered for RPC\");\n     deadlineTimers.erase(name);\n     LogPrint(\"rpc\", \"queue run of timer %s in %i seconds (using %s)\\n\", name, nSeconds, timerInterface->Name());\n-    deadlineTimers.insert(std::make_pair(name, std::unique_ptr<RPCTimerBase>(timerInterface->NewTimer(func, nSeconds*1000))));\n+    deadlineTimers.emplace(name, std::unique_ptr<RPCTimerBase>(timerInterface->NewTimer(func, nSeconds*1000)));\n }\n \n CRPCTable tableRPC;"
      }
    ]
  }
]