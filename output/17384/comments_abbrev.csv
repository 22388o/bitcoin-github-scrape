DrahtBot,2019-11-05 23:20:37,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15845](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15845.html) (wallet: Fast rescan with BIP157 block filte",https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550068188,550068188,
laanwj,2019-11-06 10:52:40,"I'd be interested to know what the motivation for this is, are you planning to use this library from multiple binaries, or is it just organizational?",https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550256893,550256893,
MarcoFalke,2019-11-06 12:14:10,"> I'd be interested to know what the motivation for this is, are you planning to use this library from multiple binaries, or is it just organizational?\n\nYes, that is the motivation that I mentioned in the readme.\n\nAlso, we compile each file in the library (as of today) multiple times (for each target), so that should be fixed as well.",https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550283049,550283049,
laanwj,2019-11-06 12:32:17,"> Also, we compile each file in the library (as of today) multiple times (for each target), so that should be fixed as well.\n\nCan you give an example?",https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550289207,550289207,
MarcoFalke,2019-11-06 12:47:51,"> Can you give an example?\n\nsetup_common is compiled 27 times (for the fuzz suite) and another 3 times for the other tests (bench, unit test, gui)",https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550294413,550294413,
mzumsande,2019-11-06 12:51:08,"How about moving the content of `src/test/util.h` and `src/test/util.cpp` into the library as well (possibly into specific modules, much of it seems to be block and address-related)?",https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550295480,550295480,
laanwj,2019-11-06 12:54:43,"> setup_common is compiled 27 times (for the fuzz suite) and another 3 times for the other tests (bench, unit test, gui)\n\nWhoa. Yes, then it's quite a serious issue!\n",https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550296725,550296725,
MarcoFalke,2019-11-06 13:11:32,"> How about moving the content of src/test/util.h and src/test/util.cpp into the library as well (possibly into specific modules, much of it seems to be block and address-related)?\n\nGood point. I think I will leave this for later, so that this changeset can be kept a move-only scripted-diff ",https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550302407,550302407,
MarcoFalke,2019-11-06 13:18:48,This pull should also fix the appveyor failures: https://github.com/bitcoin/bitcoin/pull/17357#issuecomment-550297470,https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550305021,550305021,
DrahtBot,2019-11-06 13:27:01,"I've cancelled all appveyor builds, since they are about to fail anyway. Let's see if this one passes.",https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550308024,550308024,
MarcoFalke,2019-11-06 15:22:11,appveyor passed: https://ci.appveyor.com/project/DrahtBot/bitcoin/builds/28656027,https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550358476,550358476,
MarcoFalke,2019-11-06 15:28:59,"Added a dot at the end of the sentence, among other minor doc fixups as requested by @jonatack \n\nNo code changes, so the previous ci builds are still valid.",https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550361735,550361735,
MarcoFalke,2019-11-06 17:02:07,Renamed to test/util/ as requested by @ryanofsky ,https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550404490,550404490,
MarcoFalke,2019-11-06 20:56:17,Both travis and appveyor passes (so this fixes the appveyor build). Anything left to do here?,https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550496684,550496684,
practicalswift,2019-11-06 21:11:28,ACK fa4c6fa9b1139791f45f1495d662c1c7cd2f7ed6 -- diff looks correct and Travis is happy,https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550502115,550502115,
ryanofsky,2019-11-06 21:13:56,"> Both travis and appveyor passes (so this fixes the appveyor build). Anything left to do here?\n\nThis hasn't had a ton of review, but it seems fairly safe to merge as it only affects test code.",https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550502932,550502932,
mzumsande,2019-11-06 22:01:08,"I agree. I am concept ACK on both organizing all shared functions in one place, and on eventually turning this into a library. The code changes look good to me, but I didn't test.\n\nJust noting that the added documentation in `src/test/util/README.md` describes the goal but not the reality after this PR, but I think fixing the Appveyor problem is more important than that.",https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550520370,550520370,
promag,2019-11-06 23:23:15,"> Also, we compile each file in the library (as of today) multiple times (for each target), so that should be fixed as well.\n\nAnd are those always compiled with the same flags etc?",https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550546773,550546773,
promag,2019-11-06 23:23:45,Scripted diff ACK.,https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-550546921,550546921,
jonatack,2019-11-07 10:49:16,"ACK fa4c6fa9b1139791f45f1495d662c1c7cd2f7ed6 with the reserve that the commit messages (and PR description) contain the motivation for this change. Built, ran tests, light code review. ",https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-551026989,551026989,
MarcoFalke,2019-11-07 13:01:41,Added motivation to OP as requested by @jonatack ,https://github.com/bitcoin/bitcoin/pull/17384#issuecomment-551069553,551069553,
jonatack,2019-11-06 14:31:55,"nit: missing ""."" at end of sentence",https://github.com/bitcoin/bitcoin/pull/17384#discussion_r343125837,343125837,src/test/lib/README.md
jonatack,2019-11-06 14:32:23,s/well separated/well-separated/,https://github.com/bitcoin/bitcoin/pull/17384#discussion_r343126102,343126102,src/test/lib/README.md
jonatack,2019-11-06 14:33:17,"does this refer to `setup_common.cpp`, `setup_common.h`, or both?",https://github.com/bitcoin/bitcoin/pull/17384#discussion_r343126583,343126583,src/test/lib/README.md
jonatack,2019-11-06 14:35:11,"nit: can remove the comma after ""library""",https://github.com/bitcoin/bitcoin/pull/17384#discussion_r343127702,343127702,src/test/lib/README.md
MarcoFalke,2019-11-06 15:25:00,both,https://github.com/bitcoin/bitcoin/pull/17384#discussion_r343157260,343157260,src/test/lib/README.md
jonatack,2019-11-07 10:17:57,"You were right. A non-restrictive clause beginning with ""that"" would take no comma, but a non-restrictive clause beginning with ""which"" does take a comma.",https://github.com/bitcoin/bitcoin/pull/17384#discussion_r343572542,343572542,src/test/lib/README.md
