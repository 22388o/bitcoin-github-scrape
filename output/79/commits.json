[
  {
    "sha": "83b9f4279644d570a9d4629f23ef2f6e413167db",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4M2I5ZjQyNzk2NDRkNTcwYTlkNDYyOWYyM2VmMmY2ZTQxMzE2N2Ri",
    "commit": {
      "author": {
        "name": "Gavin Andresen",
        "email": "gavinandresen@gmail.com",
        "date": "2011-02-23T19:24:16Z"
      },
      "committer": {
        "name": "Gavin Andresen",
        "email": "gavinandresen@gmail.com",
        "date": "2011-02-23T19:24:16Z"
      },
      "message": "Use ValueFromAmount consistently",
      "tree": {
        "sha": "f1f8ec21c922e5f0ed6cb4a5be5a9af84af5dc3e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f1f8ec21c922e5f0ed6cb4a5be5a9af84af5dc3e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/83b9f4279644d570a9d4629f23ef2f6e413167db",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/83b9f4279644d570a9d4629f23ef2f6e413167db",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/83b9f4279644d570a9d4629f23ef2f6e413167db",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/83b9f4279644d570a9d4629f23ef2f6e413167db/comments",
    "author": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ccd7fe8de52bbc9210b444838eefb7ddbc880457",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ccd7fe8de52bbc9210b444838eefb7ddbc880457",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ccd7fe8de52bbc9210b444838eefb7ddbc880457"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 8,
      "deletions": 8
    },
    "files": [
      {
        "sha": "ae1968d4857bcc793b731d4821560b1b8c156c66",
        "filename": "rpc.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 8,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/83b9f4279644d570a9d4629f23ef2f6e413167db/rpc.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/83b9f4279644d570a9d4629f23ef2f6e413167db/rpc.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/rpc.cpp?ref=83b9f4279644d570a9d4629f23ef2f6e413167db",
        "patch": "@@ -277,7 +277,7 @@ Value getinfo(const Array& params, bool fHelp)\n \n     Object obj;\n     obj.push_back(Pair(\"version\",       (int)VERSION));\n-    obj.push_back(Pair(\"balance\",       (double)GetBalance() / (double)COIN));\n+    obj.push_back(Pair(\"balance\",       ValueFromAmount(GetBalance())));\n     obj.push_back(Pair(\"blocks\",        (int)nBestHeight));\n     obj.push_back(Pair(\"connections\",   (int)vNodes.size()));\n     obj.push_back(Pair(\"proxy\",         (fUseProxy ? addrProxy.ToStringIPPort() : string())));\n@@ -287,7 +287,7 @@ Value getinfo(const Array& params, bool fHelp)\n     obj.push_back(Pair(\"hashespersec\",  gethashespersec(params, false)));\n     obj.push_back(Pair(\"testnet\",       fTestNet));\n     obj.push_back(Pair(\"keypoololdest\", (boost::int64_t)GetOldestKeyPoolTime()));\n-    obj.push_back(Pair(\"paytxfee\",      (double)nTransactionFee / (double)COIN));\n+    obj.push_back(Pair(\"paytxfee\",      ValueFromAmount(nTransactionFee)));\n     obj.push_back(Pair(\"errors\",        GetWarnings(\"statusbar\")));\n     return obj;\n }\n@@ -513,7 +513,7 @@ Value getreceivedbyaddress(const Array& params, bool fHelp)\n         }\n     }\n \n-    return (double)nAmount / (double)COIN;\n+    return  ValueFromAmount(nAmount);\n }\n \n \n@@ -619,7 +619,7 @@ Value getbalance(const Array& params, bool fHelp)\n             \"If [account] is specified, returns the balance in the account.\");\n \n     if (params.size() == 0)\n-        return ((double)GetBalance() / (double)COIN);\n+        return  ValueFromAmount(GetBalance());\n \n     if (params[0].get_str() == \"*\") {\n         // Calculate total balance a different way from GetBalance()\n@@ -648,7 +648,7 @@ Value getbalance(const Array& params, bool fHelp)\n             nBalance += allGenerated;\n         }\n         printf(\"Found %d accounts\\n\", vAccounts.size());\n-        return (double)nBalance / (double)COIN;\n+        return  ValueFromAmount(nBalance);\n     }\n \n     string strAccount = AccountFromValue(params[0]);\n@@ -658,7 +658,7 @@ Value getbalance(const Array& params, bool fHelp)\n \n     int64 nBalance = GetAccountBalance(strAccount, nMinDepth);\n \n-    return (double)nBalance / (double)COIN;\n+    return ValueFromAmount(nBalance);\n }\n \n \n@@ -851,7 +851,7 @@ Value ListReceived(const Array& params, bool fByAccounts)\n                 obj.push_back(Pair(\"address\",       strAddress));\n                 obj.push_back(Pair(\"account\",       strAccount));\n                 obj.push_back(Pair(\"label\",         strAccount)); // deprecated\n-                obj.push_back(Pair(\"amount\",        (double)nAmount / (double)COIN));\n+                obj.push_back(Pair(\"amount\",        ValueFromAmount(nAmount)));\n                 obj.push_back(Pair(\"confirmations\", (nConf == INT_MAX ? 0 : nConf)));\n                 ret.push_back(obj);\n             }\n@@ -867,7 +867,7 @@ Value ListReceived(const Array& params, bool fByAccounts)\n             Object obj;\n             obj.push_back(Pair(\"account\",       (*it).first));\n             obj.push_back(Pair(\"label\",         (*it).first)); // deprecated\n-            obj.push_back(Pair(\"amount\",        (double)nAmount / (double)COIN));\n+            obj.push_back(Pair(\"amount\",        ValueFromAmount(nAmount)));\n             obj.push_back(Pair(\"confirmations\", (nConf == INT_MAX ? 0 : nConf)));\n             ret.push_back(obj);\n         }"
      }
    ]
  },
  {
    "sha": "789259d2e72f28330dbe70e8acfdf752bd950b76",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3ODkyNTlkMmU3MmYyODMzMGRiZTcwZThhY2ZkZjc1MmJkOTUwYjc2",
    "commit": {
      "author": {
        "name": "Gavin Andresen",
        "email": "gavinandresen@gmail.com",
        "date": "2011-02-23T19:41:19Z"
      },
      "committer": {
        "name": "Gavin Andresen",
        "email": "gavinandresen@gmail.com",
        "date": "2011-02-23T19:41:19Z"
      },
      "message": "Do not round input amounts; allow RPC full precision.",
      "tree": {
        "sha": "2b2de73ef5313869b337c83dba058473926a704a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2b2de73ef5313869b337c83dba058473926a704a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/789259d2e72f28330dbe70e8acfdf752bd950b76",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/789259d2e72f28330dbe70e8acfdf752bd950b76",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/789259d2e72f28330dbe70e8acfdf752bd950b76",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/789259d2e72f28330dbe70e8acfdf752bd950b76/comments",
    "author": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "83b9f4279644d570a9d4629f23ef2f6e413167db",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/83b9f4279644d570a9d4629f23ef2f6e413167db",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/83b9f4279644d570a9d4629f23ef2f6e413167db"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "1c6f228e5b706e9e7e323ca95e48f4895913720f",
        "filename": "rpc.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/789259d2e72f28330dbe70e8acfdf752bd950b76/rpc.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/789259d2e72f28330dbe70e8acfdf752bd950b76/rpc.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/rpc.cpp?ref=789259d2e72f28330dbe70e8acfdf752bd950b76",
        "patch": "@@ -65,7 +65,7 @@ int64 AmountFromValue(const Value& value)\n     double dAmount = value.get_real();\n     if (dAmount <= 0.0 || dAmount > 21000000.0)\n         throw JSONRPCError(-3, \"Invalid amount\");\n-    int64 nAmount = roundint64(dAmount * 100.00) * CENT;\n+    int64 nAmount = roundint64(dAmount * COIN);\n     if (!MoneyRange(nAmount))\n         throw JSONRPCError(-3, \"Invalid amount\");\n     return nAmount;"
      }
    ]
  },
  {
    "sha": "87504abb070cf9df4b2bf24787ce14643df9b07d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4NzUwNGFiYjA3MGNmOWRmNGIyYmYyNDc4N2NlMTQ2NDNkZjliMDdk",
    "commit": {
      "author": {
        "name": "Gavin Andresen",
        "email": "gavinandresen@gmail.com",
        "date": "2011-02-23T21:01:17Z"
      },
      "committer": {
        "name": "Gavin Andresen",
        "email": "gavinandresen@gmail.com",
        "date": "2011-02-23T21:01:17Z"
      },
      "message": "FormatMoney: show full-precision values",
      "tree": {
        "sha": "b067e199ced98c44259eaf8b01f9112e8057f917",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b067e199ced98c44259eaf8b01f9112e8057f917"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/87504abb070cf9df4b2bf24787ce14643df9b07d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/87504abb070cf9df4b2bf24787ce14643df9b07d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/87504abb070cf9df4b2bf24787ce14643df9b07d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/87504abb070cf9df4b2bf24787ce14643df9b07d/comments",
    "author": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "789259d2e72f28330dbe70e8acfdf752bd950b76",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/789259d2e72f28330dbe70e8acfdf752bd950b76",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/789259d2e72f28330dbe70e8acfdf752bd950b76"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 12,
      "deletions": 3
    },
    "files": [
      {
        "sha": "5f6f10a329f8cde5c144ae3992479ee0fd5c7d0f",
        "filename": "util.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 3,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/87504abb070cf9df4b2bf24787ce14643df9b07d/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/87504abb070cf9df4b2bf24787ce14643df9b07d/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/util.cpp?ref=87504abb070cf9df4b2bf24787ce14643df9b07d",
        "patch": "@@ -313,9 +313,18 @@ void ParseString(const string& str, char c, vector<string>& v)\n \n string FormatMoney(int64 n, bool fPlus)\n {\n-    n /= CENT;\n-    string str = strprintf(\"%\"PRI64d\".%02\"PRI64d, (n > 0 ? n : -n)/100, (n > 0 ? n : -n)%100);\n-    for (int i = 6; i < str.size(); i += 4)\n+    string str = strprintf(\"%.08f\", double(n > 0 ? n : -n)/double(COIN));\n+\n+    // Right-trim excess 0's before the decimal point:\n+    int nTrim = 0;\n+    for (int i = str.size()-1; (str[i] == '0' && isdigit(str[i-2])); --i)\n+        ++nTrim;\n+    if (nTrim)\n+        str.erase(str.size()-nTrim, nTrim);\n+\n+    // Insert thousands-separators:\n+    size_t point = str.find(\".\");\n+    for (int i = (str.size()-point)+3; i < str.size(); i += 4)\n         if (isdigit(str[str.size() - i - 1]))\n             str.insert(str.size() - i, 1, ',');\n     if (n < 0)"
      }
    ]
  },
  {
    "sha": "b0ad55a08a32832709f3b298b588577422071a93",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiMGFkNTVhMDhhMzI4MzI3MDlmM2IyOThiNTg4NTc3NDIyMDcxYTkz",
    "commit": {
      "author": {
        "name": "Gavin Andresen",
        "email": "gavinandresen@gmail.com",
        "date": "2011-02-23T21:26:15Z"
      },
      "committer": {
        "name": "Gavin Andresen",
        "email": "gavinandresen@gmail.com",
        "date": "2011-02-23T21:26:15Z"
      },
      "message": "ParseMoney: allow full precision",
      "tree": {
        "sha": "13aab0a1dafc20fcf5ceaa666ef4bfac222606e9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/13aab0a1dafc20fcf5ceaa666ef4bfac222606e9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b0ad55a08a32832709f3b298b588577422071a93",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b0ad55a08a32832709f3b298b588577422071a93",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b0ad55a08a32832709f3b298b588577422071a93",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b0ad55a08a32832709f3b298b588577422071a93/comments",
    "author": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "87504abb070cf9df4b2bf24787ce14643df9b07d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/87504abb070cf9df4b2bf24787ce14643df9b07d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/87504abb070cf9df4b2bf24787ce14643df9b07d"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 8,
      "deletions": 12
    },
    "files": [
      {
        "sha": "8518e27975ac0112b6c25b111ba8f695ccc6998a",
        "filename": "util.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 12,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b0ad55a08a32832709f3b298b588577422071a93/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b0ad55a08a32832709f3b298b588577422071a93/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/util.cpp?ref=b0ad55a08a32832709f3b298b588577422071a93",
        "patch": "@@ -343,7 +343,7 @@ bool ParseMoney(const string& str, int64& nRet)\n bool ParseMoney(const char* pszIn, int64& nRet)\n {\n     string strWhole;\n-    int64 nCents = 0;\n+    int64 nUnits = 0;\n     const char* p = pszIn;\n     while (isspace(*p))\n         p++;\n@@ -354,11 +354,11 @@ bool ParseMoney(const char* pszIn, int64& nRet)\n         if (*p == '.')\n         {\n             p++;\n-            if (isdigit(*p))\n+            int64 nMult = CENT*10;\n+            while (isdigit(*p) && (nMult > 0))\n             {\n-                nCents = 10 * (*p++ - '0');\n-                if (isdigit(*p))\n-                    nCents += (*p++ - '0');\n+                nUnits += nMult * (*p++ - '0');\n+                nMult /= 10;\n             }\n             break;\n         }\n@@ -373,15 +373,11 @@ bool ParseMoney(const char* pszIn, int64& nRet)\n             return false;\n     if (strWhole.size() > 14)\n         return false;\n-    if (nCents < 0 || nCents > 99)\n+    if (nUnits < 0 || nUnits > COIN)\n         return false;\n     int64 nWhole = atoi64(strWhole);\n-    int64 nPreValue = nWhole * 100 + nCents;\n-    int64 nValue = nPreValue * CENT;\n-    if (nValue / CENT != nPreValue)\n-        return false;\n-    if (nValue / COIN != nWhole)\n-        return false;\n+    int64 nValue = nWhole*COIN + nUnits;\n+\n     nRet = nValue;\n     return true;\n }"
      }
    ]
  },
  {
    "sha": "8a9cad44a57f1e0057c127ced5078d7e722b9cc8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4YTljYWQ0NGE1N2YxZTAwNTdjMTI3Y2VkNTA3OGQ3ZTcyMmI5Y2M4",
    "commit": {
      "author": {
        "name": "Gavin Andresen",
        "email": "gavinandresen@gmail.com",
        "date": "2011-02-28T21:34:36Z"
      },
      "committer": {
        "name": "Gavin Andresen",
        "email": "gavinandresen@gmail.com",
        "date": "2011-02-28T21:34:36Z"
      },
      "message": "Avoid sprintf decimal-point localization",
      "tree": {
        "sha": "37fb69aa9bbbd1cf082abc875090586aa0145da4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/37fb69aa9bbbd1cf082abc875090586aa0145da4"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8a9cad44a57f1e0057c127ced5078d7e722b9cc8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8a9cad44a57f1e0057c127ced5078d7e722b9cc8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8a9cad44a57f1e0057c127ced5078d7e722b9cc8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8a9cad44a57f1e0057c127ced5078d7e722b9cc8/comments",
    "author": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b0ad55a08a32832709f3b298b588577422071a93",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b0ad55a08a32832709f3b298b588577422071a93",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b0ad55a08a32832709f3b298b588577422071a93"
      }
    ],
    "stats": {
      "total": 7,
      "additions": 6,
      "deletions": 1
    },
    "files": [
      {
        "sha": "8a2f9d525ee135c2678df09124b9b44b7867312b",
        "filename": "util.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 1,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8a9cad44a57f1e0057c127ced5078d7e722b9cc8/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8a9cad44a57f1e0057c127ced5078d7e722b9cc8/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/util.cpp?ref=8a9cad44a57f1e0057c127ced5078d7e722b9cc8",
        "patch": "@@ -313,7 +313,12 @@ void ParseString(const string& str, char c, vector<string>& v)\n \n string FormatMoney(int64 n, bool fPlus)\n {\n-    string str = strprintf(\"%.08f\", double(n > 0 ? n : -n)/double(COIN));\n+    // Note: not using straight sprintf here because we do NOT want\n+    // localized number formatting.\n+    int64 n_abs = (n > 0 ? n : -n);\n+    int64 quotient = n_abs/COIN;\n+    int64 remainder = n_abs%COIN;\n+    string str = strprintf(\"%\"PRI64d\".%08\"PRI64d, quotient, remainder);\n \n     // Right-trim excess 0's before the decimal point:\n     int nTrim = 0;"
      }
    ]
  }
]