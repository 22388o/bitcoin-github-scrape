ryanofsky,2019-03-13T16:21:05Z,"Just to clarify, is the only user-visible change here replacing:\n\n```\nnFileVersion = [version number of the newest wallet software that ever opened the wallet in the past]\n```\n\nwith\n\n```\nWallet File Version = [minimum wallet software version required to open the wallet file]\n```\n\n?",https://github.com/bitcoin/bitcoin/pull/15588#issuecomment-472496367,472496367,
achow101,2019-03-13T19:29:53Z,"> Just to clarify, is the only user-visible change here replacing:\n\nYes.",https://github.com/bitcoin/bitcoin/pull/15588#issuecomment-472571622,472571622,
DrahtBot,2019-03-31T12:30:26Z,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15709](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15709.html) (Do not add setting as unknown by Bushstar)\",https://github.com/bitcoin/bitcoin/pull/15588#issuecomment-478337550,478337550,
laanwj,2019-04-10T11:47:24Z,utACK 96a46f5bcd5433c3a4c5900ecc8be547e48f5f74,https://github.com/bitcoin/bitcoin/pull/15588#issuecomment-481657062,481657062,
laanwj,2019-07-11T18:57:42Z,@meshcollider can you please take a look here,https://github.com/bitcoin/bitcoin/pull/15588#issuecomment-510611835,510611835,
jb55,2019-07-23T04:54:00Z,"ACK 35e60e7, I compiled locally as a quick sanity check.",https://github.com/bitcoin/bitcoin/pull/15588#issuecomment-514053444,514053444,
ryanofsky,2019-03-13T15:42:31Z,"Maybe something for a separate PR, but can we just drop this write entirely? It seems redundant given the write already in WalletBatch::LoadWallet, and better not to write the same field in two different places.\n\n",https://github.com/bitcoin/bitcoin/pull/15588#discussion_r265194424,265194424,src/wallet/db.cpp
promag,2019-03-14T01:01:47Z,"nit, `last_client_version`?",https://github.com/bitcoin/bitcoin/pull/15588#discussion_r265387879,265387879,src/wallet/walletdb.cpp
achow101,2019-04-16T16:42:31Z,"I'm not sure that this is redundant. It's making sure that the `version` field exists, whereas `WalletBatch::LoadWallet` doesn't necessarily do that.\n\nBut we can remove this in a separate PR if it is redundant.",https://github.com/bitcoin/bitcoin/pull/15588#discussion_r275892264,275892264,src/wallet/db.cpp
promag,2019-06-28T14:56:34Z,Can you explain why this can be removed?,https://github.com/bitcoin/bitcoin/pull/15588#discussion_r298630065,298630065,src/wallet/walletdb.cpp
achow101,2019-06-29T01:18:45Z,"`nFileVersion` is being removed entirely, and all this `version` record did was fill it. At no point was `nFileVersion` being checked for anything less than 40000 so this if block is meaningless.",https://github.com/bitcoin/bitcoin/pull/15588#discussion_r298782551,298782551,src/wallet/walletdb.cpp
achow101,2019-07-09T18:00:03Z,I think I'll leave it as is.,https://github.com/bitcoin/bitcoin/pull/15588#discussion_r301719647,301719647,src/wallet/walletdb.cpp
jb55,2019-07-22T15:17:01Z,"I'm ok with open-coding this here since there is only one use of it, but for semantic clarity nit we could have just moved it into a static method named `{Read,Write}LatestClientVersion` or something.",https://github.com/bitcoin/bitcoin/pull/15588#discussion_r305901025,305901025,src/wallet/walletdb.cpp
jb55,2019-07-22T15:21:50Z,"ACK @achow101's comment, I believe this is correct.",https://github.com/bitcoin/bitcoin/pull/15588#discussion_r305903626,305903626,src/wallet/walletdb.cpp
jb55,2019-07-22T15:30:55Z,"Leaving this comment for other reviewers when trying to understand it. The wallet logs any unknown records, since we're not handling the version record specifically anymore (it was a no-op), we don't want to log `version` as an unknown record. It is still read-in during `LoadWallet`.",https://github.com/bitcoin/bitcoin/pull/15588#discussion_r305908539,305908539,src/wallet/walletdb.cpp
jb55,2019-07-22T15:34:58Z,"In the subsequent commits, `nFileVersion` is removed from `CWalletScanState`, so reviewing this commit was confusing. perhaps this commit should come after the commit that removes nFileVersion from `CWalletScanState`",https://github.com/bitcoin/bitcoin/pull/15588#discussion_r305910789,305910789,src/wallet/walletdb.cpp
achow101,2019-07-22T16:59:41Z,"I prefer to leave it as is since these are the only uses of it. I had originally planned on removing these reads and writes entirely, but I was not certain that doing so wouldn't break backwards compatibility so I left them in.",https://github.com/bitcoin/bitcoin/pull/15588#discussion_r305929674,305929674,src/wallet/walletdb.cpp
achow101,2019-07-22T17:03:44Z,Done,https://github.com/bitcoin/bitcoin/pull/15588#discussion_r305931385,305931385,src/wallet/walletdb.cpp
