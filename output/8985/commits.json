[
  {
    "sha": "0a261b63fd4f1b07431f8a65762ef9f1ef1c11c8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowYTI2MWI2M2ZkNGYxYjA3NDMxZjhhNjU3NjJlZjlmMWVmMWMxMWM4",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-10-20T16:53:05Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-10-20T17:02:48Z"
      },
      "message": "Use pindexBestHeader instead of setBlockIndexCandidates for NotifyHeaderTip()",
      "tree": {
        "sha": "01b3883c657923616d1d80a6d2d8a68cc16954e7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/01b3883c657923616d1d80a6d2d8a68cc16954e7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0a261b63fd4f1b07431f8a65762ef9f1ef1c11c8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v2\n\niQIcBAABCAAGBQJYCPi4AAoJECnUvLZBb1PsoKIQAJNS84/EK+acRP3svriAV9PG\ncmIQipkMVyJxqrKN76mExMC3d8kL211OkWJnM/qcFPcVYoNaFSKtA7kdDrAQVlp+\nLHaOLlGUoLVCaBpZlHdrsxAJN1iw562NZN5uY+6XsASVKdUFacLC4j51C3CCM7EI\n29u4zDVdiAiDBRVv5lWbjrzzwIxUHjm14rJb6bN5QBx3KfMDMH8c0xg8zmdXz2P3\nyaeKtVxRgySz/fESQEoGVzuHXwlJuGpQ+nkm6CCvKyrcP4is/KfMCbxWJhF2oaNd\nfSn4v2Fd+EuodirUY8utvdAwso7PJeFqxMqkvvywfWqoCYGx8UsB/+JVeC0c/dti\nZeqDMD03nDwOnMOS1YS+bwE811p/d89vH89C8QQnyR09NYfI6DFl60MLJ409y4it\nvr3pIAWwn46P7p9PEpyqeijilUCk1zZz+0/pkzEP5KEY6d3NAM+1GMKfZwG6mGsk\nL64JGuorAV5ocWzinZYQwWuZxZZD1ln3C8Ibc5iK8qB4gUWe3QxF9BEIoVVsVCEn\nS1jlYpAul9dK+5bsPTymLBlZQuWof0BTLjmydedXv9F4vrAz+09glAc/S/0ngnqJ\nI1ccIs3W5nphCn9iPHYUOr1Vz9jgmqbPAYDq1n+ZfI8K8bq9oBGeCDQ0EJENHPJf\nCB5lDK9YCSy5jtT+LTEN\n=cpJP\n-----END PGP SIGNATURE-----",
        "payload": "tree 01b3883c657923616d1d80a6d2d8a68cc16954e7\nparent f2d705629b510e2a5b25c8ecac1898fed13a16a2\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1476982385 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1476982968 +0200\n\nUse pindexBestHeader instead of setBlockIndexCandidates for NotifyHeaderTip()\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0a261b63fd4f1b07431f8a65762ef9f1ef1c11c8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0a261b63fd4f1b07431f8a65762ef9f1ef1c11c8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0a261b63fd4f1b07431f8a65762ef9f1ef1c11c8/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f2d705629b510e2a5b25c8ecac1898fed13a16a2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f2d705629b510e2a5b25c8ecac1898fed13a16a2",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f2d705629b510e2a5b25c8ecac1898fed13a16a2"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 2,
      "deletions": 3
    },
    "files": [
      {
        "sha": "8c95f36db2f63fe3708d4ea9fff46c681135cf0c",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 3,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0a261b63fd4f1b07431f8a65762ef9f1ef1c11c8/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0a261b63fd4f1b07431f8a65762ef9f1ef1c11c8/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=0a261b63fd4f1b07431f8a65762ef9f1ef1c11c8",
        "patch": "@@ -3006,9 +3006,8 @@ static void NotifyHeaderTip() {\n     CBlockIndex* pindexHeader = NULL;\n     {\n         LOCK(cs_main);\n-        if (!setBlockIndexCandidates.empty()) {\n-            pindexHeader = *setBlockIndexCandidates.rbegin();\n-        }\n+        pindexHeader = pindexBestHeader;\n+\n         if (pindexHeader != pindexHeaderOld) {\n             fNotify = true;\n             fInitialBlockDownload = IsInitialBlockDownload();"
      }
    ]
  },
  {
    "sha": "3154d6e3a207812578cb37a505f140b46b17c945",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozMTU0ZDZlM2EyMDc4MTI1NzhjYjM3YTUwNWYxNDBiNDZiMTdjOTQ1",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-10-20T16:56:03Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-10-20T17:02:59Z"
      },
      "message": "[Qt] use NotifyHeaderTip's height and date for the progress update",
      "tree": {
        "sha": "97f551eeb3e5621d3b403632c7ca231b357546a0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/97f551eeb3e5621d3b403632c7ca231b357546a0"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3154d6e3a207812578cb37a505f140b46b17c945",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v2\n\niQIcBAABCAAGBQJYCPjDAAoJECnUvLZBb1Ps57UP/2+2kS6fDGqI6OsTXkvDNKwe\n6elhVHHoK6ilA7pdcqwQUjUCSkidYHIdH8MtrELGpl9LJCwq39WZjVwOjeqWbgCQ\ngSyyCcDYJITU0DE6PLVwaueqTdKU1abLTFSze7cjWYPBuuXNpkwWHFv1/akZT5kx\nAEuNjlX6o3jDuND42/gNxIOy+Ui+4973raE4/aL6XuOmBJgg+Lo6w0yGG/brKtRE\nyNpfGV1rA/NCsWzb1rmwlFrQenV4fwZOHrf5OW50euIgQw0l+gsQ3Z0jyGGKLIcu\n6FX3PkefDWjnu0xvNQP0nrJBSe8KMXY6+xuDA4DZvPtQPCw9HHkso0ZpFSEN+hIu\nQ9tsN1BLcNTN3eiOOCjgV8tfZPc85uztXO8nFePEcCb/SnTFMJBoyoFTduADp3a6\nXj4atDM7Hd0kt1bVenqlYRrVCf31BDSABY/QFSLDWEdKPZT/yzoCVy98DSWAx0CB\n0xDioB2Tw5Js7J2MiAWDN3KqMeVGkuEZj7VKrFchsFtANRAqnsyJhc7pvownb4We\nefVV4Pa8+SfFf68WAC01wwIRmIdYyVLziZnxF0bRuTKPq3No9H0Kru6XPSLuse9z\nx7lDzIprTmfPnAE/stRQdZA36bgmVN1nTGclNIfcu7qRIafZzUsLDIBk2ocLuV61\nffvR8GOad7g3VX7WWQse\n=7kAj\n-----END PGP SIGNATURE-----",
        "payload": "tree 97f551eeb3e5621d3b403632c7ca231b357546a0\nparent 0a261b63fd4f1b07431f8a65762ef9f1ef1c11c8\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1476982563 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1476982979 +0200\n\n[Qt] use NotifyHeaderTip's height and date for the progress update\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3154d6e3a207812578cb37a505f140b46b17c945",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3154d6e3a207812578cb37a505f140b46b17c945",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3154d6e3a207812578cb37a505f140b46b17c945/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0a261b63fd4f1b07431f8a65762ef9f1ef1c11c8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0a261b63fd4f1b07431f8a65762ef9f1ef1c11c8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0a261b63fd4f1b07431f8a65762ef9f1ef1c11c8"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 7,
      "deletions": 9
    },
    "files": [
      {
        "sha": "ee5102c4f99cfdc54106bcbc3018554d1f87fcea",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 6,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3154d6e3a207812578cb37a505f140b46b17c945/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3154d6e3a207812578cb37a505f140b46b17c945/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=3154d6e3a207812578cb37a505f140b46b17c945",
        "patch": "@@ -717,13 +717,10 @@ void BitcoinGUI::setNumBlocks(int count, const QDateTime& blockDate, double nVer\n {\n     if (modalOverlay)\n     {\n-        if (header) {\n-            /* use clientmodels getHeaderTipHeight and getHeaderTipTime because the NotifyHeaderTip signal does not fire when updating the best header */\n-            modalOverlay->setKnownBestHeight(clientModel->getHeaderTipHeight(), QDateTime::fromTime_t(clientModel->getHeaderTipTime()));\n-        }\n-        else {\n+        if (header)\n+            modalOverlay->setKnownBestHeight(count, blockDate);\n+        else\n             modalOverlay->tipUpdate(count, blockDate, nVerificationProgress);\n-        }\n     }\n     if (!clientModel)\n         return;"
      },
      {
        "sha": "27998f90c55975dedd7fcee15a023685548ba61f",
        "filename": "src/qt/forms/modaloverlay.ui",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3154d6e3a207812578cb37a505f140b46b17c945/src/qt/forms/modaloverlay.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3154d6e3a207812578cb37a505f140b46b17c945/src/qt/forms/modaloverlay.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/modaloverlay.ui?ref=3154d6e3a207812578cb37a505f140b46b17c945",
        "patch": "@@ -219,7 +219,7 @@ QLabel { color: rgb(40,40,40);  }</string>\n            <item row=\"0\" column=\"1\">\n             <widget class=\"QLabel\" name=\"numberOfBlocksLeft\">\n              <property name=\"text\">\n-              <string>unknown...</string>\n+              <string>Unknown...</string>\n              </property>\n             </widget>\n            </item>\n@@ -245,7 +245,7 @@ QLabel { color: rgb(40,40,40);  }</string>\n               </sizepolicy>\n              </property>\n              <property name=\"text\">\n-              <string>unknown...</string>\n+              <string>Unknown...</string>\n              </property>\n             </widget>\n            </item>"
      },
      {
        "sha": "1a843a07ace8117ac32c55c2f99e62113e912426",
        "filename": "src/qt/modaloverlay.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3154d6e3a207812578cb37a505f140b46b17c945/src/qt/modaloverlay.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3154d6e3a207812578cb37a505f140b46b17c945/src/qt/modaloverlay.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/modaloverlay.cpp?ref=3154d6e3a207812578cb37a505f140b46b17c945",
        "patch": "@@ -132,7 +132,8 @@ void ModalOverlay::tipUpdate(int count, const QDateTime& blockDate, double nVeri\n     if (estimateNumHeadersLeft < 24 && hasBestHeader) {\n         ui->numberOfBlocksLeft->setText(QString::number(bestHeaderHeight - count));\n     } else {\n-        ui->expectedTimeLeft->setText(tr(\"Unknown. Syncing Headers...\"));\n+        ui->numberOfBlocksLeft->setText(tr(\"Unknown. Syncing Headers (%1)...\").arg(bestHeaderHeight));\n+        ui->expectedTimeLeft->setText(tr(\"Unknown...\"));\n     }\n }\n "
      }
    ]
  }
]