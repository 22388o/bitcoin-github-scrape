[
  {
    "sha": "966781671d44a4bcaa4a03c8c59dc280acf2c595",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5NjY3ODE2NzFkNDRhNGJjYWE0YTAzYzhjNTlkYzI4MGFjZjJjNTk1",
    "commit": {
      "author": {
        "name": "Sander Kleykens",
        "email": "sander@kleykens.com",
        "date": "2013-03-23T16:16:02Z"
      },
      "committer": {
        "name": "Sander Kleykens",
        "email": "sander@kleykens.com",
        "date": "2013-03-23T16:16:02Z"
      },
      "message": "Fix /dev/null getting removed during compilation on some systems.",
      "tree": {
        "sha": "5ace83ff2a55e1833e675b9fe463934a1e3ccecc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5ace83ff2a55e1833e675b9fe463934a1e3ccecc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/966781671d44a4bcaa4a03c8c59dc280acf2c595",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/966781671d44a4bcaa4a03c8c59dc280acf2c595",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/966781671d44a4bcaa4a03c8c59dc280acf2c595",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/966781671d44a4bcaa4a03c8c59dc280acf2c595/comments",
    "author": {
      "login": "SanderKleykens",
      "id": 254712,
      "node_id": "MDQ6VXNlcjI1NDcxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/254712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SanderKleykens",
      "html_url": "https://github.com/SanderKleykens",
      "followers_url": "https://api.github.com/users/SanderKleykens/followers",
      "following_url": "https://api.github.com/users/SanderKleykens/following{/other_user}",
      "gists_url": "https://api.github.com/users/SanderKleykens/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SanderKleykens/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SanderKleykens/subscriptions",
      "organizations_url": "https://api.github.com/users/SanderKleykens/orgs",
      "repos_url": "https://api.github.com/users/SanderKleykens/repos",
      "events_url": "https://api.github.com/users/SanderKleykens/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SanderKleykens/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "SanderKleykens",
      "id": 254712,
      "node_id": "MDQ6VXNlcjI1NDcxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/254712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SanderKleykens",
      "html_url": "https://github.com/SanderKleykens",
      "followers_url": "https://api.github.com/users/SanderKleykens/followers",
      "following_url": "https://api.github.com/users/SanderKleykens/following{/other_user}",
      "gists_url": "https://api.github.com/users/SanderKleykens/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SanderKleykens/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SanderKleykens/subscriptions",
      "organizations_url": "https://api.github.com/users/SanderKleykens/orgs",
      "repos_url": "https://api.github.com/users/SanderKleykens/repos",
      "events_url": "https://api.github.com/users/SanderKleykens/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SanderKleykens/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "dfd71bb4509d12c26e630bc671a542ad5bab4945",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dfd71bb4509d12c26e630bc671a542ad5bab4945",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/dfd71bb4509d12c26e630bc671a542ad5bab4945"
      }
    ],
    "stats": {
      "total": 14,
      "additions": 12,
      "deletions": 2
    },
    "files": [
      {
        "sha": "bebf60759f456662ed34371192b47e2fe9f2c6ac",
        "filename": "src/leveldb/build_detect_platform",
        "status": "modified",
        "additions": 12,
        "deletions": 2,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/966781671d44a4bcaa4a03c8c59dc280acf2c595/src/leveldb/build_detect_platform",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/966781671d44a4bcaa4a03c8c59dc280acf2c595/src/leveldb/build_detect_platform",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/leveldb/build_detect_platform?ref=966781671d44a4bcaa4a03c8c59dc280acf2c595",
        "patch": "@@ -25,6 +25,8 @@\n #       -DSNAPPY                     if the Snappy library is present\n #\n \n+TMPDIR=\"/tmp\"\n+\n OUTPUT=$1\n PREFIX=$2\n if test -z \"$OUTPUT\" || test -z \"$PREFIX\"; then\n@@ -164,7 +166,9 @@ if [ \"$CROSS_COMPILE\" = \"true\" ]; then\n     true\n else\n     # If -std=c++0x works, use <cstdatomic>.  Otherwise use port_posix.h.\n-    $CXX $CXXFLAGS -std=c++0x -x c++ - -o /dev/null 2>/dev/null  <<EOF\n+    CPP0X_TEST_TEMPFILE=\"${TMPDIR}/leveldb-build_detect_platform_cpp0x.$$\"\n+\n+    $CXX $CXXFLAGS -std=c++0x -x c++ - -o ${CPP0X_TEST_TEMPFILE} 2>/dev/null  <<EOF\n       #include <cstdatomic>\n       int main() {}\n EOF\n@@ -175,13 +179,19 @@ EOF\n         COMMON_FLAGS=\"$COMMON_FLAGS -DLEVELDB_PLATFORM_POSIX\"\n     fi\n \n+    rm -f ${CPP0X_TEST_TEMPFILE} > /dev/null 2>&1\n+\n     # Test whether tcmalloc is available\n-    $CXX $CXXFLAGS -x c++ - -o /dev/null -ltcmalloc 2>/dev/null  <<EOF\n+    TCMALLOC_TEST_TEMPFILE=\"${TMPDIR}/leveldb-build_detect_platform_tcmalloc.$$\"\n+\n+    $CXX $CXXFLAGS -x c++ - -o ${TCMALLOC_TEST_TEMPFILE} -ltcmalloc 2>/dev/null  <<EOF\n       int main() {}\n EOF\n     if [ \"$?\" = 0 ]; then\n         PLATFORM_LIBS=\"$PLATFORM_LIBS -ltcmalloc\"\n     fi\n+\n+    rm -f ${TCMALLOC_TEST_TEMPFILE} > /dev/null 2>&1\n fi\n \n PLATFORM_CCFLAGS=\"$PLATFORM_CCFLAGS $COMMON_FLAGS\""
      }
    ]
  }
]