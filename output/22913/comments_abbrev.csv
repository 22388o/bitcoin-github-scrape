naumenkogs,2021-09-08 07:26:54,"`fFoundStartingHeader` is not necessarily false because it could be made true inside the `for (const uint256& hash : peer->m_blocks_for_headers_relay) {` loop, right?\n\nAlso, if you were thinking it's always false, it would just make sense to drop `fFoundStartingHeader` variable altogether? After your change it's never being accessed anyway.",https://github.com/bitcoin/bitcoin/pull/22913#issuecomment-914989626,914989626,
fujicoin,2021-09-08 10:30:57,"OK. Normally `fForceSendHeaders` is always true when adding a new block. It's hard to imagine an exception, but I reverted `fFoundStartingHeader` because something special might happen.",https://github.com/bitcoin/bitcoin/pull/22913#issuecomment-915118003,915118003,
fujicoin,2021-09-09 23:33:31,"@naumenkogs \nThe current code is designed not to send headers to peers from that we received new blocks or headers.\nIs this specification intentional? If so, why?\nI think this is probably the idea that the peer is already aware of the new block and doesn't need to be notified again.\nHowever, as long as the node has peer status information, I think it should always be correct. \nThe curren",https://github.com/bitcoin/bitcoin/pull/22913#issuecomment-916510410,916510410,
naumenkogs,2021-09-10 08:36:07,"Sorry, I'm trying to help but I'm completely lost in your code and your intentions.\nI'm looking at the current master code, and it does make sense to me, so I'm not sure what you're trying to change in it.\nYour issue, despite being very elaborate, is also confusing.",https://github.com/bitcoin/bitcoin/pull/22913#issuecomment-916733682,916733682,
fujicoin,2021-09-10 10:00:38,"@naumenkogs \nDid you see issue #22898 ?\nDo you think the test results are as expected and it is fine?\nDo you say it's correct not to notify our status to peers who already have a new block?\nI'm not saying that the current code is absolutely wrong. But if it's correct to notify our status to all connected peers, then the current code is wrong.\n\n\nI built and tested v22.0 with this PR a",https://github.com/bitcoin/bitcoin/pull/22913#issuecomment-916784799,916784799,
fujicoin,2021-09-11 06:27:53,"Please answer my question simply. However, it's hard to get your answer, so today I'll try another method to explain the problem.\n\nThis is the line I think is the problem with the current code:\n`} else if (PeerHasHeader (& state, pindex)) {`\nhttps://github.com/bitcoin/bitcoin/blob/5c0f46ca46e23a161649b5150baa01020dc85e48/src/net_processing.cpp#L4608\n\nThis if statement is `true` for pee",https://github.com/bitcoin/bitcoin/pull/22913#issuecomment-917351669,917351669,
fujicoin,2021-09-14 13:06:57,"@naumenkogs \nAre you fundamentally misunderstanding?\nI don't think you can't understand this simple problem.\nPlease consider it a little more seriously. ",https://github.com/bitcoin/bitcoin/pull/22913#issuecomment-919132337,919132337,
