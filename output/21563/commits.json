[
  {
    "sha": "a3d090d1103cd6c25daf07afdf4e65febca6d3f7",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphM2QwOTBkMTEwM2NkNmMyNWRhZjA3YWZkZjRlNjVmZWJjYTZkM2Y3",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-04-12T11:54:58Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-04-22T14:28:39Z"
      },
      "message": "net: Restrict period when cs_vNodes mutex is locked",
      "tree": {
        "sha": "d56437fabbfdda126e24aa011dda36710d476250",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d56437fabbfdda126e24aa011dda36710d476250"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a3d090d1103cd6c25daf07afdf4e65febca6d3f7",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmCBiBcACgkQQQEIES5+\nqB/UxQ/9FIWvJG1+oe2MqG0ZA1B4GvtlencLudBPBZ+xZeLGRUSPiVTi7uYAIF38\nizGEFdsvpiYctSsIIYccK8Gz7yaP4SbI9b9/0c03gxwreVMW89biupSPFuRiF2D+\nBiXKzVwj46NNI2AaMRWX8yiD0KrKoMIKkshGRc1mswSm0mPvLW1LB7ZeokY2+xld\njsuApx9wA91D8AGmc4kybaBgqRVFJ0+htLi0kazrcBEMtdEHCgT5MKB2lYMn+ePn\ny+Xcrw8Z6MMZfFVp4WvGuWwD3rCl82E2W/xoYRXYmgOG2xyoxUJMZtuKplf+tMHD\nNwa3Laby/a/NJKuygQmXARDXGvLTaRPdVEEIr+oI87rRseXVit1L5XkIji/3FF0S\nusbJImY1DBp+qTL31Y7hBFVz3C/qwgEUVOSVspuYVjP6in/hEfqg06/1nAPz5SYp\ndlD7bq1efCrS07+PsOCT4YGIV4HHk5CUoIvgLDN9Q0+0SJGboGbffB1rM0Kuqz0q\nplF+i6OLg0lQEsT86cAK3pvdpYnEyO/88hg00o+DYNqbCHjAfL/XldLUfac0TtGg\n8qzcVZ8kS5TtTSTXK0AsHFcp90Dm2Aj9lPzCPnZK8ISv682PMPRtKW0MgP/SWJRO\n9OsmOt0GBtVde9Wbpu79fZC/7OzXPjdV4iqF8ZTJGw1iz9oxFI4=\n=5OLa\n-----END PGP SIGNATURE-----",
        "payload": "tree d56437fabbfdda126e24aa011dda36710d476250\nparent f0b457212f9876a8c7e4d680178b49b555b488e2\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1618228498 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1619101719 +0300\n\nnet: Restrict period when cs_vNodes mutex is locked\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a3d090d1103cd6c25daf07afdf4e65febca6d3f7",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a3d090d1103cd6c25daf07afdf4e65febca6d3f7",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a3d090d1103cd6c25daf07afdf4e65febca6d3f7/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f0b457212f9876a8c7e4d680178b49b555b488e2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f0b457212f9876a8c7e4d680178b49b555b488e2",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f0b457212f9876a8c7e4d680178b49b555b488e2"
      }
    ],
    "stats": {
      "total": 25,
      "additions": 5,
      "deletions": 20
    },
    "files": [
      {
        "sha": "280a0cbda77559f7019580f331a0dacf6e425f3b",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 14,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a3d090d1103cd6c25daf07afdf4e65febca6d3f7/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a3d090d1103cd6c25daf07afdf4e65febca6d3f7/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=a3d090d1103cd6c25daf07afdf4e65febca6d3f7",
        "patch": "@@ -200,20 +200,7 @@ void Shutdown(NodeContext& node)\n     // Because these depend on each-other, we make sure that neither can be\n     // using the other before destroying them.\n     if (node.peerman) UnregisterValidationInterface(node.peerman.get());\n-    // Follow the lock order requirements:\n-    // * CheckForStaleTipAndEvictPeers locks cs_main before indirectly calling GetExtraFullOutboundCount\n-    //   which locks cs_vNodes.\n-    // * ProcessMessage locks cs_main and g_cs_orphans before indirectly calling ForEachNode which\n-    //   locks cs_vNodes.\n-    // * CConnman::Stop calls DeleteNode, which calls FinalizeNode, which locks cs_main and calls\n-    //   EraseOrphansFor, which locks g_cs_orphans.\n-    //\n-    // Thus the implicit locking order requirement is: (1) cs_main, (2) g_cs_orphans, (3) cs_vNodes.\n-    if (node.connman) {\n-        node.connman->StopThreads();\n-        LOCK2(::cs_main, ::g_cs_orphans);\n-        node.connman->StopNodes();\n-    }\n+    if (node.connman) node.connman->Stop();\n \n     StopTorControl();\n "
      },
      {
        "sha": "65f8b8baecf9b43317bf4dadb02a29804feb2b1c",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a3d090d1103cd6c25daf07afdf4e65febca6d3f7/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a3d090d1103cd6c25daf07afdf4e65febca6d3f7/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=a3d090d1103cd6c25daf07afdf4e65febca6d3f7",
        "patch": "@@ -2636,22 +2636,22 @@ void CConnman::StopNodes()\n     }\n \n     // Close sockets\n-    LOCK(cs_vNodes);\n-    for (CNode* pnode : vNodes)\n+    std::vector<CNode*> nodes;\n+    WITH_LOCK(cs_vNodes, nodes.swap(vNodes));\n+    for (CNode* pnode : nodes)\n         pnode->CloseSocketDisconnect();\n     for (ListenSocket& hListenSocket : vhListenSocket)\n         if (hListenSocket.socket != INVALID_SOCKET)\n             if (!CloseSocket(hListenSocket.socket))\n                 LogPrintf(\"CloseSocket(hListenSocket) failed with error %s\\n\", NetworkErrorString(WSAGetLastError()));\n \n     // clean up some globals (to help leak detection)\n-    for (CNode* pnode : vNodes) {\n+    for (CNode* pnode : nodes) {\n         DeleteNode(pnode);\n     }\n     for (CNode* pnode : vNodesDisconnected) {\n         DeleteNode(pnode);\n     }\n-    vNodes.clear();\n     vNodesDisconnected.clear();\n     vhListenSocket.clear();\n     semOutbound.reset();"
      },
      {
        "sha": "7b99193ad04f208acbc3da51f393b03674fd6c8f",
        "filename": "src/test/fuzz/process_message.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a3d090d1103cd6c25daf07afdf4e65febca6d3f7/src/test/fuzz/process_message.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a3d090d1103cd6c25daf07afdf4e65febca6d3f7/src/test/fuzz/process_message.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/process_message.cpp?ref=a3d090d1103cd6c25daf07afdf4e65febca6d3f7",
        "patch": "@@ -100,7 +100,6 @@ void fuzz_target(FuzzBufferType buffer, const std::string& LIMIT_TO_MESSAGE_TYPE\n         g_setup->m_node.peerman->SendMessages(&p2p_node);\n     }\n     SyncWithValidationInterfaceQueue();\n-    LOCK2(::cs_main, g_cs_orphans); // See init.cpp for rationale for implicit locking order requirement\n     g_setup->m_node.connman->StopNodes();\n }\n "
      },
      {
        "sha": "11b236c9bdda207c4702a4422eccce624db81855",
        "filename": "src/test/fuzz/process_messages.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a3d090d1103cd6c25daf07afdf4e65febca6d3f7/src/test/fuzz/process_messages.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a3d090d1103cd6c25daf07afdf4e65febca6d3f7/src/test/fuzz/process_messages.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/process_messages.cpp?ref=a3d090d1103cd6c25daf07afdf4e65febca6d3f7",
        "patch": "@@ -80,6 +80,5 @@ FUZZ_TARGET_INIT(process_messages, initialize_process_messages)\n         }\n     }\n     SyncWithValidationInterfaceQueue();\n-    LOCK2(::cs_main, g_cs_orphans); // See init.cpp for rationale for implicit locking order requirement\n     g_setup->m_node.connman->StopNodes();\n }"
      }
    ]
  },
  {
    "sha": "229ac1892d807a1eea5a7c24ae0fe27dc913b1bd",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyMjlhYzE4OTJkODA3YTFlZWE1YTdjMjRhZTBmZTI3ZGM5MTNiMWJk",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-04-12T11:54:58Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-04-22T14:28:39Z"
      },
      "message": "net: Combine two loops into one, and update comments",
      "tree": {
        "sha": "fdfd6016beb0ff2be24f56f828ae1bfeacc622a3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fdfd6016beb0ff2be24f56f828ae1bfeacc622a3"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/229ac1892d807a1eea5a7c24ae0fe27dc913b1bd",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmCBiBcACgkQQQEIES5+\nqB9aehAAnJAp3stUgS7rNHF/q8DwT4/R/WnXNEFJB0gf+l5k02MNhRUwOnQsjvdf\nak0V6/5OVX2k6Kd7/dCdVoHcn2UU1TZn93xZdOwiYHF1S0z1gYoHG7uZ0fsdGdmW\nS0A/TU7Q20FLKFjmYZnX30JCXnJu/7UoF2kCwXTYHP06Eeo8Fo550uH4rJiamrAO\nZlcrVokbxngA61tosbKsfPs/j64baX9728WZBWrBrQkc1fpXRBiIKspOWuvnuc3K\n/NgWIF4gREAID/3F2Nw3r2wRYzMCNpl34dw97PmhZLHDs+DFGpFkGmQD14TprJ75\nAM4EuLtSaJ21tleJLzZtsd2BqLvQjrv4Bc+hx9jaCQFuuuoweGtxwtImyiugnNOz\nbN0+Ajvwu1s4xH1tc/r0tPOVz+MkgvVMC97vPCpeKNp6TCjNO2LyRQ+Ut2ZfstbW\nOfFBE0xg2KLsFb5BnnuLtesmyyqeH2o06EDc3QgsIBVs6Cqz8P8muVgDa7IAhfOm\nxG5pNBYbyT1eipkILGzKpYR62NhPhCq5OO/oJ9nNIMExlLttxr7Hciily1s3RzQ+\nfhb/8LCs0nPcUQkxfD7n1ie2Xhl1QWGTInJBdrFazVlzwLzLzcxGgZ8rX/vpA9s4\nBv2kc2IMtYRCi45Zt0qzT5sLTn16Abuqwj8u9C/D88SJE/ggrYg=\n=CuO2\n-----END PGP SIGNATURE-----",
        "payload": "tree fdfd6016beb0ff2be24f56f828ae1bfeacc622a3\nparent a3d090d1103cd6c25daf07afdf4e65febca6d3f7\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1618228498 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1619101719 +0300\n\nnet: Combine two loops into one, and update comments\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/229ac1892d807a1eea5a7c24ae0fe27dc913b1bd",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/229ac1892d807a1eea5a7c24ae0fe27dc913b1bd",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/229ac1892d807a1eea5a7c24ae0fe27dc913b1bd/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a3d090d1103cd6c25daf07afdf4e65febca6d3f7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a3d090d1103cd6c25daf07afdf4e65febca6d3f7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a3d090d1103cd6c25daf07afdf4e65febca6d3f7"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 6,
      "deletions": 6
    },
    "files": [
      {
        "sha": "2cb95516a48b3c7cdabdfc47128fa5190e6e75cb",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 6,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/229ac1892d807a1eea5a7c24ae0fe27dc913b1bd/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/229ac1892d807a1eea5a7c24ae0fe27dc913b1bd/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=229ac1892d807a1eea5a7c24ae0fe27dc913b1bd",
        "patch": "@@ -2635,20 +2635,20 @@ void CConnman::StopNodes()\n         }\n     }\n \n-    // Close sockets\n+    // Delete peer connections.\n     std::vector<CNode*> nodes;\n     WITH_LOCK(cs_vNodes, nodes.swap(vNodes));\n-    for (CNode* pnode : nodes)\n+    for (CNode* pnode : nodes) {\n         pnode->CloseSocketDisconnect();\n+        DeleteNode(pnode);\n+    }\n+\n+    // Close listening sockets.\n     for (ListenSocket& hListenSocket : vhListenSocket)\n         if (hListenSocket.socket != INVALID_SOCKET)\n             if (!CloseSocket(hListenSocket.socket))\n                 LogPrintf(\"CloseSocket(hListenSocket) failed with error %s\\n\", NetworkErrorString(WSAGetLastError()));\n \n-    // clean up some globals (to help leak detection)\n-    for (CNode* pnode : nodes) {\n-        DeleteNode(pnode);\n-    }\n     for (CNode* pnode : vNodesDisconnected) {\n         DeleteNode(pnode);\n     }"
      }
    ]
  },
  {
    "sha": "8c8237a4a10feb2ac9ce46f67b5d14bf879b670f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4YzgyMzdhNGExMGZlYjJhYzljZTQ2ZjY3YjVkMTRiZjg3OWI2NzBm",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-04-22T14:30:35Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-04-22T14:31:06Z"
      },
      "message": "net, refactor: Fix style in CConnman::StopNodes",
      "tree": {
        "sha": "f24054c2c7f699e105718168c3ba8fa9b8f8f4d1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f24054c2c7f699e105718168c3ba8fa9b8f8f4d1"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8c8237a4a10feb2ac9ce46f67b5d14bf879b670f",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmCBiKoACgkQQQEIES5+\nqB/g4g/+N3ZFeYhi1Ad1fATqzV2Z23bxrHgOaUGC5BrTQeYZYbXsQDwXroV82E6Q\nzsVmtvty/p7s2JqpqNskYKuLV49YI5MN9RpXlTrKmj8JQxz+T9etrgzRHIMSvUgR\nSRrYkQAwgUTbNs29vVf0yKf3aASHILsaPPw+h3A3X1SDe6tVLJqQgWTX5m1/Mp6y\niMIDJZ3ttPnK/4BPpULa3ZnVIxXWaEpoBWOzsbTKtDIL5BVlcltqbdmU0AHFPISI\nen56zqU/vqAJ4rMuVruAoETHERaCdlMUVRsbCiCOSb6tO2wP0Qgam31ST6PRZQJT\n3TIAlL4P9USXlzBkGDai+h+5MjlkNoMfikyD4Gu61V+nwIr6NLgZx31sp2/gSl95\nxT5drNmhsI7yQV1EhEffNXkOFz2yzFlEt2HK2SRtiptMQkqdg6ksQMk1deKWvj7k\nJwoupFLal3pKiH+rdRTyPT1c/J7ilFFjvaflTe4DWj2X9xNskVq7fRSMTgrfiYoo\ncoiEiFW42nU1ou6Vrs2uSdGcULfcab7FSvw8VTKBQQN1vvGD+ekbFpu+HfbZDjcr\nZp98YEkH9ZxtwpASTwPzd0ykzyIJw61ERFUjPL/oRnxUMhq7w8lLkfIW8d4PTilK\nQuI6Xmt/jIC2R0I/0AI3LCU8siKrten1QFZV493VdlGRmK61B1Y=\n=xHXN\n-----END PGP SIGNATURE-----",
        "payload": "tree f24054c2c7f699e105718168c3ba8fa9b8f8f4d1\nparent 229ac1892d807a1eea5a7c24ae0fe27dc913b1bd\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1619101835 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1619101866 +0300\n\nnet, refactor: Fix style in CConnman::StopNodes\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8c8237a4a10feb2ac9ce46f67b5d14bf879b670f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8c8237a4a10feb2ac9ce46f67b5d14bf879b670f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8c8237a4a10feb2ac9ce46f67b5d14bf879b670f/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "229ac1892d807a1eea5a7c24ae0fe27dc913b1bd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/229ac1892d807a1eea5a7c24ae0fe27dc913b1bd",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/229ac1892d807a1eea5a7c24ae0fe27dc913b1bd"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 6,
      "deletions": 3
    },
    "files": [
      {
        "sha": "a8e07a567def000617fe3ca677a7ec76758f6815",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 3,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8c8237a4a10feb2ac9ce46f67b5d14bf879b670f/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8c8237a4a10feb2ac9ce46f67b5d14bf879b670f/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=8c8237a4a10feb2ac9ce46f67b5d14bf879b670f",
        "patch": "@@ -2644,10 +2644,13 @@ void CConnman::StopNodes()\n     }\n \n     // Close listening sockets.\n-    for (ListenSocket& hListenSocket : vhListenSocket)\n-        if (hListenSocket.socket != INVALID_SOCKET)\n-            if (!CloseSocket(hListenSocket.socket))\n+    for (ListenSocket& hListenSocket : vhListenSocket) {\n+        if (hListenSocket.socket != INVALID_SOCKET) {\n+            if (!CloseSocket(hListenSocket.socket)) {\n                 LogPrintf(\"CloseSocket(hListenSocket) failed with error %s\\n\", NetworkErrorString(WSAGetLastError()));\n+            }\n+        }\n+    }\n \n     for (CNode* pnode : vNodesDisconnected) {\n         DeleteNode(pnode);"
      }
    ]
  }
]