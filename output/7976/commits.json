[
  {
    "sha": "c8b92486c4eca1287546b0683b6af3551db1fe67",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjOGI5MjQ4NmM0ZWNhMTI4NzU0NmIwNjgzYjZhZjM1NTFkYjFmZTY3",
    "commit": {
      "author": {
        "name": "21E14",
        "email": "21xe14@gmail.com",
        "date": "2016-04-30T03:45:20Z"
      },
      "committer": {
        "name": "21E14",
        "email": "21xe14@gmail.com",
        "date": "2016-04-30T19:14:22Z"
      },
      "message": "Remove obsolete reference to CValidationState from UpdateCoins.",
      "tree": {
        "sha": "554c59f0f0b19f190eaa3b44a415542b44355c24",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/554c59f0f0b19f190eaa3b44a415542b44355c24"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c8b92486c4eca1287546b0683b6af3551db1fe67",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c8b92486c4eca1287546b0683b6af3551db1fe67",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c8b92486c4eca1287546b0683b6af3551db1fe67",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c8b92486c4eca1287546b0683b6af3551db1fe67/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "0ad104190465d8d65c2344bbe10dcf3df025d86c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0ad104190465d8d65c2344bbe10dcf3df025d86c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0ad104190465d8d65c2344bbe10dcf3df025d86c"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 8,
      "deletions": 9
    },
    "files": [
      {
        "sha": "c5c61469301d2e178fa3cd4a99b2d987d4da313a",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c8b92486c4eca1287546b0683b6af3551db1fe67/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c8b92486c4eca1287546b0683b6af3551db1fe67/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=c8b92486c4eca1287546b0683b6af3551db1fe67",
        "patch": "@@ -1744,7 +1744,7 @@ void static InvalidBlockFound(CBlockIndex *pindex, const CValidationState &state\n     }\n }\n \n-void UpdateCoins(const CTransaction& tx, CValidationState &state, CCoinsViewCache &inputs, CTxUndo &txundo, int nHeight)\n+void UpdateCoins(const CTransaction& tx, CCoinsViewCache& inputs, CTxUndo &txundo, int nHeight)\n {\n     // mark inputs spent\n     if (!tx.IsCoinBase()) {\n@@ -1770,10 +1770,10 @@ void UpdateCoins(const CTransaction& tx, CValidationState &state, CCoinsViewCach\n     inputs.ModifyNewCoins(tx.GetHash(), tx.IsCoinBase())->FromTx(tx, nHeight);\n }\n \n-void UpdateCoins(const CTransaction& tx, CValidationState &state, CCoinsViewCache &inputs, int nHeight)\n+void UpdateCoins(const CTransaction& tx, CCoinsViewCache& inputs, int nHeight)\n {\n     CTxUndo txundo;\n-    UpdateCoins(tx, state, inputs, txundo, nHeight);\n+    UpdateCoins(tx, inputs, txundo, nHeight);\n }\n \n bool CScriptCheck::operator()() {\n@@ -2385,7 +2385,7 @@ bool ConnectBlock(const CBlock& block, CValidationState& state, CBlockIndex* pin\n         if (i > 0) {\n             blockundo.vtxundo.push_back(CTxUndo());\n         }\n-        UpdateCoins(tx, state, view, i == 0 ? undoDummy : blockundo.vtxundo.back(), pindex->nHeight);\n+        UpdateCoins(tx, view, i == 0 ? undoDummy : blockundo.vtxundo.back(), pindex->nHeight);\n \n         vPos.push_back(std::make_pair(tx.GetHash(), pos));\n         pos.nTxOffset += ::GetSerializeSize(tx, SER_DISK, CLIENT_VERSION);"
      },
      {
        "sha": "792747a33464b217434b87553e15774cbb2b21ed",
        "filename": "src/main.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c8b92486c4eca1287546b0683b6af3551db1fe67/src/main.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c8b92486c4eca1287546b0683b6af3551db1fe67/src/main.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.h?ref=c8b92486c4eca1287546b0683b6af3551db1fe67",
        "patch": "@@ -359,7 +359,7 @@ bool CheckInputs(const CTransaction& tx, CValidationState &state, const CCoinsVi\n                  unsigned int flags, bool cacheStore, std::vector<CScriptCheck> *pvChecks = NULL);\n \n /** Apply the effects of this transaction on the UTXO set represented by view */\n-void UpdateCoins(const CTransaction& tx, CValidationState &state, CCoinsViewCache &inputs, int nHeight);\n+void UpdateCoins(const CTransaction& tx, CCoinsViewCache& inputs, int nHeight);\n \n /** Context-independent validity checks */\n bool CheckTransaction(const CTransaction& tx, CValidationState& state);"
      },
      {
        "sha": "e6923265592d7b4aaa04a20b6ee13b4ab66d13c6",
        "filename": "src/test/coins_tests.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 2,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c8b92486c4eca1287546b0683b6af3551db1fe67/src/test/coins_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c8b92486c4eca1287546b0683b6af3551db1fe67/src/test/coins_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/coins_tests.cpp?ref=c8b92486c4eca1287546b0683b6af3551db1fe67",
        "patch": "@@ -297,8 +297,7 @@ BOOST_AUTO_TEST_CASE(updatecoins_simulation_test)\n             CCoins &coins = result[tx.GetHash()];\n             coins.FromTx(tx, height);\n \n-            CValidationState dummy;\n-            UpdateCoins(tx, dummy, *(stack.back()), height);\n+            UpdateCoins(tx, *(stack.back()), height);\n         }\n \n         // Once every 1000 iterations and at the end, verify the full cache."
      },
      {
        "sha": "f9c33087fdc69986fc2f5e363a2afba00af86e56",
        "filename": "src/txmempool.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c8b92486c4eca1287546b0683b6af3551db1fe67/src/txmempool.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c8b92486c4eca1287546b0683b6af3551db1fe67/src/txmempool.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/txmempool.cpp?ref=c8b92486c4eca1287546b0683b6af3551db1fe67",
        "patch": "@@ -720,7 +720,7 @@ void CTxMemPool::check(const CCoinsViewCache *pcoins) const\n         else {\n             CValidationState state;\n             assert(CheckInputs(tx, state, mempoolDuplicate, false, 0, false, NULL));\n-            UpdateCoins(tx, state, mempoolDuplicate, 1000000);\n+            UpdateCoins(tx, mempoolDuplicate, 1000000);\n         }\n     }\n     unsigned int stepsSinceLastRemove = 0;\n@@ -734,7 +734,7 @@ void CTxMemPool::check(const CCoinsViewCache *pcoins) const\n             assert(stepsSinceLastRemove < waitingOnDependants.size());\n         } else {\n             assert(CheckInputs(entry->GetTx(), state, mempoolDuplicate, false, 0, false, NULL));\n-            UpdateCoins(entry->GetTx(), state, mempoolDuplicate, 1000000);\n+            UpdateCoins(entry->GetTx(), mempoolDuplicate, 1000000);\n             stepsSinceLastRemove = 0;\n         }\n     }"
      }
    ]
  }
]