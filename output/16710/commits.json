[
  {
    "sha": "de5e91c3034f320f84ee0308a3c31659635d136a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkZTVlOTFjMzAzNGYzMjBmODRlZTAzMDhhM2MzMTY1OTYzNWQxMzZh",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-03-14T06:50:56Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-05-11T17:42:55Z"
      },
      "message": "refactor: Add BerkeleyDatabaseVersion() function",
      "tree": {
        "sha": "151f41771c6e49d8a1dfc6803f27e6c36e0ae2ce",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/151f41771c6e49d8a1dfc6803f27e6c36e0ae2ce"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/de5e91c3034f320f84ee0308a3c31659635d136a",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAl65jp8ACgkQQQEIES5+\nqB93ag//dfheHeOs3G1ZdUVqpOMtXVowBqMH3d8QsKCDAa0Zu9ZbBmgLs12JEMan\nZn7M7raM78mK3oL0xoTDeDy12tUwJX2rl2NnrI6meY0oFgtTOeCMuhJ2NcYOyTyt\nS7bqtQ7ZcWhEwxLOoIbitP427BqKYG96mUY1rMA5+6wbJFHo8dmMo1CK+t0f5w2w\nCMTwzRswgmE0O7mbs8gz307JlIVzHYMGhiQII/Hoj7kbpIrfE64fJCStdkRlhBTY\n1ywrsY1dDJsHbBlRWSr9KE104frAHWQX0udGQ0fHOH6qdldQdOTpgrLImd+mSg3M\nuRiuxwrPmBL8+9YmU9xlQ3mlutMx+oEzVF1TEagbnBxdc29gfEKUiyanvI32arBX\n9ARf86/18TP46h6+AGMdM6VRuFrqZTQ0wAjkQ0GOisddjoms41OsRtLnxNuGZnHg\n2hH9dYH7w1FneLZMxd8CvOt8YmXaN2HBbTMshedNElPS3ZUO7wPq3xmHgR8hw9E1\n6SV7LhtVKq3E5BSOw6/t1PxZykFY3+3CO8t7eGnDTpHSWwyXM5qq2A8AZeobfwdm\nDtQ+xdJtrvOZbY7IQC11nspvhe4F8nbjXITS/az32DbiX3qeNqE9c/qkU+oeXpkU\nl2NSqyilVntpVlTW8YT4qcj/IKIkgaMaTzEFpcGpg/DVJHcLh7A=\n=jdKE\n-----END PGP SIGNATURE-----",
        "payload": "tree 151f41771c6e49d8a1dfc6803f27e6c36e0ae2ce\nparent eb2ffbb7c1347115e6a3d6fa30f909959b6170a5\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1584168656 +0200\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1589218975 +0300\n\nrefactor: Add BerkeleyDatabaseVersion() function\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/de5e91c3034f320f84ee0308a3c31659635d136a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/de5e91c3034f320f84ee0308a3c31659635d136a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/de5e91c3034f320f84ee0308a3c31659635d136a/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "eb2ffbb7c1347115e6a3d6fa30f909959b6170a5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eb2ffbb7c1347115e6a3d6fa30f909959b6170a5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/eb2ffbb7c1347115e6a3d6fa30f909959b6170a5"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 12,
      "deletions": 4
    },
    "files": [
      {
        "sha": "2d4af3f9e6050292aa484bdc66666c1141005396",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 3,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/de5e91c3034f320f84ee0308a3c31659635d136a/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/de5e91c3034f320f84ee0308a3c31659635d136a/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=de5e91c3034f320f84ee0308a3c31659635d136a",
        "patch": "@@ -24,7 +24,7 @@\n #include <univalue.h>\n \n #ifdef ENABLE_WALLET\n-#include <db_cxx.h>\n+#include <wallet/db.h>\n #include <wallet/wallet.h>\n #endif\n \n@@ -34,9 +34,10 @@\n #include <QScrollBar>\n #include <QScreen>\n #include <QSettings>\n+#include <QString>\n+#include <QStringList>\n #include <QTime>\n #include <QTimer>\n-#include <QStringList>\n \n // TODO: add a scrollback limit, as there is currently none\n // TODO: make it possible to filter out categories (esp debug messages when implemented)\n@@ -480,7 +481,7 @@ RPCConsole::RPCConsole(interfaces::Node& node, const PlatformStyle *_platformSty\n \n     // set library version labels\n #ifdef ENABLE_WALLET\n-    ui->berkeleyDBVersion->setText(DbEnv::version(nullptr, nullptr, nullptr));\n+    ui->berkeleyDBVersion->setText(QString::fromStdString(BerkeleyDatabaseVersion()));\n #else\n     ui->label_berkeleyDBVersion->hide();\n     ui->berkeleyDBVersion->hide();"
      },
      {
        "sha": "1b2bd83a4ce06083baf041d7bd19c3c1239dab01",
        "filename": "src/wallet/db.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 1,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/de5e91c3034f320f84ee0308a3c31659635d136a/src/wallet/db.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/de5e91c3034f320f84ee0308a3c31659635d136a/src/wallet/db.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/db.cpp?ref=de5e91c3034f320f84ee0308a3c31659635d136a",
        "patch": "@@ -399,7 +399,7 @@ bool BerkeleyBatch::VerifyEnvironment(const fs::path& file_path, bilingual_str&\n     std::shared_ptr<BerkeleyEnvironment> env = GetWalletEnv(file_path, walletFile);\n     fs::path walletDir = env->Directory();\n \n-    LogPrintf(\"Using BerkeleyDB version %s\\n\", DbEnv::version(nullptr, nullptr, nullptr));\n+    LogPrintf(\"Using BerkeleyDB version %s\\n\", BerkeleyDatabaseVersion());\n     LogPrintf(\"Using wallet %s\\n\", file_path.string());\n \n     if (!env->Open(true /* retry */)) {\n@@ -916,3 +916,8 @@ void BerkeleyDatabase::ReloadDbEnv()\n         env->ReloadDbEnv();\n     }\n }\n+\n+std::string BerkeleyDatabaseVersion()\n+{\n+    return DbEnv::version(nullptr, nullptr, nullptr);\n+}"
      },
      {
        "sha": "d75aeff1b8ad0b67227dd19a0d4ff715607addfb",
        "filename": "src/wallet/db.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/de5e91c3034f320f84ee0308a3c31659635d136a/src/wallet/db.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/de5e91c3034f320f84ee0308a3c31659635d136a/src/wallet/db.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/db.h?ref=de5e91c3034f320f84ee0308a3c31659635d136a",
        "patch": "@@ -402,4 +402,6 @@ class BerkeleyBatch\n     bool static Rewrite(BerkeleyDatabase& database, const char* pszSkip = nullptr);\n };\n \n+std::string BerkeleyDatabaseVersion();\n+\n #endif // BITCOIN_WALLET_DB_H"
      }
    ]
  },
  {
    "sha": "839add193b13c17a40f42ff69d973caeb800d3f2",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4MzlhZGQxOTNiMTNjMTdhNDBmNDJmZjY5ZDk3M2NhZWI4MDBkM2Yy",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-03-14T06:51:27Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-05-12T15:03:39Z"
      },
      "message": "build: Enable -Wsuggest-override",
      "tree": {
        "sha": "4ffbccd8b44ab92793a60e4b622afdeaa5aa5a09",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4ffbccd8b44ab92793a60e4b622afdeaa5aa5a09"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/839add193b13c17a40f42ff69d973caeb800d3f2",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAl66uswACgkQQQEIES5+\nqB8E3A/+JoTyZ2Uyf1Ko3yL6zFsB5or2mW8NsgimOkqpLQ/7hEFb4M8PSAPSaQvk\n+0r6hzVoRAtUcdqXnhvYf2jyeY3auFpBh+hN/IgOvqc3HpbuqePnhLMEtWH2SdRl\nWm+dSGgkmju7FA+JXKj+ZJI4OtHXrJFxji4nuESQCZlK8v9eIJsSceWYQUctfmyl\ndQhNMMZDykg9dYpRr+j89kUX+CpEmGtpVdunbhkJ2WxL8+tr690DscyRZxEKi+mU\nKu2jvyuB3ZaEn4pJjIBxK/pAyxwksh6gX0EAqnXegD0hQ+mKkL1jmVkm4VqtMz/o\nl1WSgNHzr9fVpxgst+Lg6tb1tJa6leEgQ7M2P1VXzc5odAER2d9e8YGSJ2gK8Kwc\no32GAiw6rUaCQVnABPnXTJseTJS0xPRjAzryOb4gS96jPhK6tFNHP77wXl6coPzQ\nA2n6w471bl1r89Z/0TgjYK6Ul5oyn0y1y4HWcnt73C321xvZ2TCoi3EPJn9oY2D+\nJNqWuVIF1AFnLfLPx6VgSQOPNS4qQEF1ziA8yro6ryn2TiGoKeyDnhh6HKRwP0ZS\nTEztja73fJO1sFzwgbnfFG4UgO9ilSMQPGv2UQLVjV4SDRRQx9CxzuKh7H5QBi5F\nMYDZItmUxiNUubdcbmzOe+SeyqPYmyx1ISvah8f5shirAdp4oMg=\n=pZ9k\n-----END PGP SIGNATURE-----",
        "payload": "tree 4ffbccd8b44ab92793a60e4b622afdeaa5aa5a09\nparent de5e91c3034f320f84ee0308a3c31659635d136a\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1584168687 +0200\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1589295819 +0300\n\nbuild: Enable -Wsuggest-override\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/839add193b13c17a40f42ff69d973caeb800d3f2",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/839add193b13c17a40f42ff69d973caeb800d3f2",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/839add193b13c17a40f42ff69d973caeb800d3f2/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "de5e91c3034f320f84ee0308a3c31659635d136a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/de5e91c3034f320f84ee0308a3c31659635d136a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/de5e91c3034f320f84ee0308a3c31659635d136a"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 14,
      "deletions": 1
    },
    "files": [
      {
        "sha": "5314aad87f7e2da51f9a594d2d3ac20b44963f06",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/839add193b13c17a40f42ff69d973caeb800d3f2/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/839add193b13c17a40f42ff69d973caeb800d3f2/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=839add193b13c17a40f42ff69d973caeb800d3f2",
        "patch": "@@ -368,6 +368,10 @@ if test \"x$enable_werror\" = \"xyes\"; then\n   AX_CHECK_COMPILE_FLAG([-Werror=return-type],[ERROR_CXXFLAGS=\"$ERROR_CXXFLAGS -Werror=return-type\"],,[[$CXXFLAG_WERROR]])\n   AX_CHECK_COMPILE_FLAG([-Werror=conditional-uninitialized],[ERROR_CXXFLAGS=\"$ERROR_CXXFLAGS -Werror=conditional-uninitialized\"],,[[$CXXFLAG_WERROR]])\n   AX_CHECK_COMPILE_FLAG([-Werror=sign-compare],[ERROR_CXXFLAGS=\"$ERROR_CXXFLAGS -Werror=sign-compare\"],,[[$CXXFLAG_WERROR]])\n+  dnl -Wsuggest-override is broken with GCC before 9.2\n+  dnl https://gcc.gnu.org/bugzilla/show_bug.cgi?id=78010\n+  AX_CHECK_COMPILE_FLAG([-Werror=suggest-override],[ERROR_CXXFLAGS=\"$ERROR_CXXFLAGS -Werror=suggest-override\"],,[[$CXXFLAG_WERROR]],\n+                        [AC_LANG_SOURCE([[struct A { virtual void f(); }; struct B : A { void f() final; };]])])\n fi\n \n if test \"x$CXXFLAGS_overridden\" = \"xno\"; then\n@@ -385,6 +389,8 @@ if test \"x$CXXFLAGS_overridden\" = \"xno\"; then\n   AX_CHECK_COMPILE_FLAG([-Wdate-time],[WARN_CXXFLAGS=\"$WARN_CXXFLAGS -Wdate-time\"],,[[$CXXFLAG_WERROR]])\n   AX_CHECK_COMPILE_FLAG([-Wconditional-uninitialized],[WARN_CXXFLAGS=\"$WARN_CXXFLAGS -Wconditional-uninitialized\"],,[[$CXXFLAG_WERROR]])\n   AX_CHECK_COMPILE_FLAG([-Wsign-compare],[WARN_CXXFLAGS=\"$WARN_CXXFLAGS -Wsign-compare\"],,[[$CXXFLAG_WERROR]])\n+  AX_CHECK_COMPILE_FLAG([-Wsuggest-override],[WARN_CXXFLAGS=\"$WARN_CXXFLAGS -Wsuggest-override\"],,[[$CXXFLAG_WERROR]],\n+                        [AC_LANG_SOURCE([[struct A { virtual void f(); }; struct B : A { void f() final; };]])])\n \n   dnl Some compilers (gcc) ignore unknown -Wno-* options, but warn about all\n   dnl unknown options if any other warning is produced. Test the -Wfoo case, and"
      },
      {
        "sha": "8a28f4f24924eb5c74674886113744e1a7d260db",
        "filename": "src/Makefile.leveldb.include",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/839add193b13c17a40f42ff69d973caeb800d3f2/src/Makefile.leveldb.include",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/839add193b13c17a40f42ff69d973caeb800d3f2/src/Makefile.leveldb.include",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.leveldb.include?ref=839add193b13c17a40f42ff69d973caeb800d3f2",
        "patch": "@@ -36,7 +36,7 @@ LEVELDB_CPPFLAGS_INT += -DLEVELDB_PLATFORM_POSIX\n endif\n \n leveldb_libleveldb_a_CPPFLAGS = $(AM_CPPFLAGS) $(LEVELDB_CPPFLAGS_INT) $(LEVELDB_CPPFLAGS)\n-leveldb_libleveldb_a_CXXFLAGS = $(filter-out -Wconditional-uninitialized -Werror=conditional-uninitialized, $(AM_CXXFLAGS)) $(PIE_FLAGS)\n+leveldb_libleveldb_a_CXXFLAGS = $(filter-out -Wconditional-uninitialized -Werror=conditional-uninitialized -Wsuggest-override -Werror=suggest-override, $(AM_CXXFLAGS)) $(PIE_FLAGS)\n \n leveldb_libleveldb_a_SOURCES=\n leveldb_libleveldb_a_SOURCES += leveldb/port/port_stdcxx.h"
      },
      {
        "sha": "37f96a1a9627e0b72a8ef8681493d555caf54802",
        "filename": "src/wallet/db.h",
        "status": "modified",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/839add193b13c17a40f42ff69d973caeb800d3f2/src/wallet/db.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/839add193b13c17a40f42ff69d973caeb800d3f2/src/wallet/db.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/db.h?ref=839add193b13c17a40f42ff69d973caeb800d3f2",
        "patch": "@@ -19,7 +19,14 @@\n #include <unordered_map>\n #include <vector>\n \n+#if defined(__GNUC__) && !defined(__clang__)\n+#pragma GCC diagnostic push\n+#pragma GCC diagnostic ignored \"-Wsuggest-override\"\n+#endif\n #include <db_cxx.h>\n+#if defined(__GNUC__) && !defined(__clang__)\n+#pragma GCC diagnostic pop\n+#endif\n \n struct bilingual_str;\n "
      }
    ]
  }
]