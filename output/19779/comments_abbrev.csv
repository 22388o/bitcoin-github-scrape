practicalswift,2020-08-22 09:04:16,Concept ACK: decoupled is better than coupled!,https://github.com/bitcoin/bitcoin/pull/19779#issuecomment-678616420,678616420,
DrahtBot,2020-08-22 11:48:40,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19792 (rpc: Add dumpcoinstats by fjahr)\n* #19521 (Coinstats Index (without UTXO set hash) by fjahr)\n* #19471 (util: Mak",https://github.com/bitcoin/bitcoin/pull/19779#issuecomment-678630909,678630909,
jonasschnelli,2020-08-24 07:40:43,Concept ACK fa9d5902f7d72e8cce105dd1b1f5a1062e304b10,https://github.com/bitcoin/bitcoin/pull/19779#issuecomment-678964059,678964059,
MarcoFalke,2020-08-24 07:53:05,"Thanks @promag, applied the capture-copy-lambda fixup",https://github.com/bitcoin/bitcoin/pull/19779#issuecomment-678969521,678969521,
promag,2020-08-24 10:48:44,"fa33bc2dabbbd2d73961f9b0ce51420a3b6e4ad5\n\nWhy not check this before connecting `BlockNotifyCallback`?",https://github.com/bitcoin/bitcoin/pull/19779#discussion_r475514618,475514618,src/init.cpp
MarcoFalke,2020-08-24 11:11:53,"To keep the code move-only, as this commit is to be reviewed with `--color-moved=dimmed-zebra --color-moved-ws=ignore-all-space`",https://github.com/bitcoin/bitcoin/pull/19779#discussion_r475525565,475525565,src/init.cpp
promag,2020-08-24 11:20:17,"Fair enough. I just think it would be fine to ignore that and make the change, even if in a separate commit. Otherwise I'd be happy to PR it if that's relevant.",https://github.com/bitcoin/bitcoin/pull/19779#discussion_r475529507,475529507,src/init.cpp
ryanofsky,2020-08-24 15:48:32,"In commit ""init: Pass reference to ArgsManager around instead of relying on global"" (fa40017706e08b4de111e8e57aabeced60881a57)\n\nNo need to change here, but it'd be nice for a few of my pr's if SetupServerArgs took an `ArgsManager` parameter instead of a `NodeContext` parameter. (#10102 does this, but it's nice to shrink that PR.) It'd make this code a little more straightforward too, replacing",https://github.com/bitcoin/bitcoin/pull/19779#discussion_r475713788,475713788,src/bitcoind.cpp
ryanofsky,2020-08-24 15:56:41,"In commit ""scripted-diff: gArgs -> args"" (fa9d5902f7d72e8cce105dd1b1f5a1062e304b10)\n\nIs the second line of the scripted diff actually doing anything?\n\n```\nsed -i 's/&args;/\&gArgs;/g' src/init.cpp\n```\n\nI don't see a `&gArgs`",https://github.com/bitcoin/bitcoin/pull/19779#discussion_r475719232,475719232,src/bitcoind.cpp
MarcoFalke,2020-08-24 17:18:58,"It is undoing one false replacement of the first line in the script. Offending replacement would be:\n\n```diff\n-node.args = &gArgs;\n+node.args = &args;",https://github.com/bitcoin/bitcoin/pull/19779#discussion_r475771883,475771883,src/bitcoind.cpp
MarcoFalke,2020-08-24 17:25:40,"I'll leave that for later because I don't understand how passing a node context with an args pointer is different to passing an args reference. The cross-process `setupServerArgs` (lowercase `s`) doesn't pass anything, so this seems unrelated to multiprocess, no?",https://github.com/bitcoin/bitcoin/pull/19779#discussion_r475777703,475777703,src/bitcoind.cpp
MarcoFalke,2020-08-24 17:26:37,"Feel free to ping me on your PR, once you have one",https://github.com/bitcoin/bitcoin/pull/19779#discussion_r475778296,475778296,src/init.cpp
ryanofsky,2020-08-24 18:23:34,"re: https://github.com/bitcoin/bitcoin/pull/19779#discussion_r475777703\n\n> I'll leave that for later because I don't understand how passing a node context with an args pointer is different to passing an args reference. The cross-process `setupServerArgs` (lowercase `s`) doesn't pass anything, so this seems unrelated to multiprocess, no?\n\nThat's fine. To answer the question about multiproce",https://github.com/bitcoin/bitcoin/pull/19779#discussion_r475810126,475810126,src/bitcoind.cpp
MarcoFalke,2020-08-25 06:43:22,"Ah, I see. I think this can be changed nicely in one go when the type of node.args is changed from raw ptr to unique_ptr in a follow-up.",https://github.com/bitcoin/bitcoin/pull/19779#discussion_r476212641,476212641,src/bitcoind.cpp
ryanofsky,2020-08-26 23:29:16,"re: https://github.com/bitcoin/bitcoin/pull/19779#discussion_r475713788\n\n> it'd be nice for a few of my pr's if SetupServerArgs took an ArgsManager parameter\n\nFWIW, this is now done earlier in the latest version of https://github.com/bitcoin/bitcoin/pull/19160#pullrequestreview-464492390 ([compare](https://github.com/ryanofsky/bitcoin/compare/pr/ipc-echo.11-rebase..pr/ipc-echo.12))",https://github.com/bitcoin/bitcoin/pull/19779#discussion_r477673034,477673034,src/bitcoind.cpp
