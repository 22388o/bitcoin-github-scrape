TheBlueMatt,2017-01-20T16:04:07Z,I believe we generally dont do commits which purely change code style to avoid needless code movement.,https://github.com/bitcoin/bitcoin/pull/9591#issuecomment-274108930,274108930,
jock08chi2211,2017-01-20T16:11:02Z,"Omg\n\nOn Thursday, January 19, 2017, John Newbery <notifications@github.com>\nwrote:\n\n> This PR fixes an issue where the mempool_count and extra_count matches can\n> be miscounted when reconstructing a compact block.\n>\n> The first commit 4ac1845\n> <https://github.com/bitcoin/bitcoin/commit/4ac1845492c08ff8fb25f0c7bb94f8fdce2009db>\n> is just code style fixes. The second commit 26ceb1e\n> <ht",https://github.com/bitcoin/bitcoin/pull/9591#issuecomment-274110756,274110756,
TheBlueMatt,2017-01-20T16:14:29Z,"I suppose this should get an 0.14 tag - it fixes a super minor bug where debug log containing bogus information, though I dont believe there are any actual logic changes intended.",https://github.com/bitcoin/bitcoin/pull/9591#issuecomment-274111687,274111687,
jnewbery,2017-01-20T17:42:28Z,"Updated the log as suggested.\n\nRemoving WIP tag - open for general review.",https://github.com/bitcoin/bitcoin/pull/9591#issuecomment-274133117,274133117,
morcos,2017-01-20T19:51:20Z,"Code review of c189da9 only\nDid not review code cleanup commit\n\nI think it's slightly clearer this way, but just removing `extra_count--;` at line 156 may capture the same goal with much less code change.",https://github.com/bitcoin/bitcoin/pull/9591#issuecomment-274163704,274163704,
jnewbery,2017-01-23T15:57:00Z,"As morcos points out, since this doesn't actually fix the count issue, it's a whole lot of code churn for not much gain. Closing this for now while I think about whether it's worth actually fixing it properly.",https://github.com/bitcoin/bitcoin/pull/9591#issuecomment-274526967,274526967,
TheBlueMatt,2017-01-20T16:04:00Z,"Wouldn't call it ""expensive"" per se, but weighing a 1 in a million case where we use more bandwidth against something that takes 10ms...I'll take the 1 in a million.",https://github.com/bitcoin/bitcoin/pull/9591#discussion_r97101097,97101097,src/blockencodings.cpp
TheBlueMatt,2017-01-20T16:10:36Z,Why not just increment missing_txs here and drop shortid_collision?,https://github.com/bitcoin/bitcoin/pull/9591#discussion_r97102417,97102417,src/blockencodings.cpp
TheBlueMatt,2017-01-20T16:13:00Z,"I think you want an ""up to %lu txn from mempool, up to %lu from extra pool and...""",https://github.com/bitcoin/bitcoin/pull/9591#discussion_r97102907,97102907,src/blockencodings.cpp
jnewbery,2017-01-20T16:17:33Z,"Because there's practically no performance impact of having a shortid_collision bool, and it makes the logic easier to understand.",https://github.com/bitcoin/bitcoin/pull/9591#discussion_r97103844,97103844,src/blockencodings.cpp
jnewbery,2017-01-20T16:19:01Z,why? extra_count should now correctly count how many of the transactions were found in the extra pool.,https://github.com/bitcoin/bitcoin/pull/9591#discussion_r97104199,97104199,src/blockencodings.cpp
TheBlueMatt,2017-01-20T17:09:55Z,"Neither mempool_count or extra_count are decremented when we drop a transaction due to a collision, now, I believe.",https://github.com/bitcoin/bitcoin/pull/9591#discussion_r97113876,97113876,src/blockencodings.cpp
TheBlueMatt,2017-01-20T17:10:15Z,"It made it more complicated to me, but OK.",https://github.com/bitcoin/bitcoin/pull/9591#discussion_r97113930,97113930,src/blockencodings.cpp
jnewbery,2017-01-20T17:12:50Z,"yes, you're right. I'll change the log.",https://github.com/bitcoin/bitcoin/pull/9591#discussion_r97114382,97114382,src/blockencodings.cpp
