BitcoinPullTester,2013-02-10T18:35:49Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/ab823efbf0a51e0f8dab1ea3d1f27552fea12332 for binaries and test log.\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13358295,13358295,
Diapolo,2013-02-10T18:42:54Z,"This change seems to require some small re-translations, is this intended for 0.8 or for 0.8.x? As translators need time, we should be sure when to pull this. I don't want to argue over the pull itself ^^, didn't yet try it anyway.\n\nI would also feel better, if the testnet todo could be fixed before pulling it.\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13358438,13358438,
schildbach,2013-02-10T19:14:43Z,"@laanwj If you want to mimic the behaviour of Bitcoin Wallet, you should have a look at https://code.google.com/p/bitcoin-wallet/source/browse/wallet/src/de/schildbach/wallet/ui/BlockchainStateFragment.java (lines 145-169).\n\nFirst of all, it does not show seconds or minutes. It starts with ""1 hour behind.""\n\n1-48 hours: x hours behind\n2-14 days: x days behind\n2-xx weeks: x weeks behind\n\nI'm",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13358973,13358973,
gmaxwell,2013-02-10T20:04:55Z,">  It starts with ""1 hour behind.""\n\nIt's important to not start reporting as soon as an hour. Otherwise users start freaking out and corrupting their installs whenever there is a 1 hour block gap (plus the timestamps can pretty easily be an hour behind).\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13359922,13359922,
laanwj,2013-02-10T20:05:56Z,"Diapolo: At first I simply re-used the ""XXX ago"" messages, but I think it was a bit confusing and ""behind"" indicates better what is the case. Yeah it will cause some translations.\n\nI'm not sure about testnet. I suppose it's not really that important what date is used there for the genesis block.\n\nSchildbach: I don't really like to use weeks or months, it's very hard to see progress that way. S",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13359940,13359940,
schildbach,2013-02-10T20:11:02Z,"@gmaxwell I had these thoughts as well about 18 months ago. Back then I was seeing max 45 minutes gap, and I thought timestamps are not off more than 15 minutes. Note that I have a separate warning for when your system clock is off.\n\nSo how many minutes of threshold would you suggest?\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13360047,13360047,
schildbach,2013-02-10T20:12:50Z,"@laanwj Its probably shed-painting, but people start to think in weeks, months or even years if you have larger timespans. Nobody has got a feel of how much 1237 days actually are.\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13360079,13360079,
laanwj,2013-02-11T11:08:32Z,"Ok but apart from small details, perfect being the enemy of good and such,\nis this a step forward compared to the current implementation?\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13375850,13375850,
sipa,2013-02-11T11:14:35Z,"I agree with @schildbach that when numbers get too large, they become hard to interpret. I wonder if using more decimals just to show progress would be useful. For example: X hours (2-48 hours), X.X days (2-14 days), X.XX weeks (14-60 days), X.XXX months (>60 days). Certainly the decimals don't really convey any actual information anymore, but as a whole it's easy to interpret and does show progre",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13376024,13376024,
laanwj,2013-02-11T11:59:19Z,"Decimals imo have the same problems as large numbers, it's still a garble\nof numbers you're just adding a point somewhere in the middle.\n\nAnother option would be to convey ""liveness"" in another way than global\nprogress so that it doesn't matter that large time units are used.\n\nFor example a lowtech way would be to add/remove a dot to the label for\nevery N blocks that comes in, or an icon th",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13377259,13377259,
sipa,2013-02-11T12:35:08Z,"@laanwj Yeah, just brainstorming - I'm not convinced about the many decimals idea either. Adding dots sounds like an easy and useful way to convey progress as well.\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13378259,13378259,
laanwj,2013-02-11T13:00:05Z,I'll give that a try...\n,https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13378987,13378987,
laanwj,2013-02-12T05:38:03Z,"Ok I changed the time units to @schildbach's, and for the first time in history the spinner does something useful: it spins a frame every time setNumberOfBlocks is called with a changed number of blocks. So both liveness and progress is covered again.\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13418966,13418966,
BitcoinPullTester,2013-02-12T05:50:09Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/3683d71a8535c2e2505799baf2e7a1f7a1aaf3aa for binaries and test log.\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13419213,13419213,
BitcoinPullTester,2013-02-12T06:20:57Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/75124792ad76204a93c0b2e97c054dda618163bc for binaries and test log.\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13419805,13419805,
BitcoinPullTester,2013-02-12T07:21:38Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/876fa2cbae0cb990d79bc981ccbabccdc55f9ee1 for binaries and test log.\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13420973,13420973,
sipa,2013-02-13T09:35:46Z,Here is a commit that changes the progressbar logic to use (projected & corrected) transaction counts for progress: https://github.com/sipa/bitcoin/commit/e1882ae47afe2e05e627f34af885a910c1303fc2\n,https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13481088,13481088,
laanwj,2013-02-13T10:00:38Z,"Cool, so I understand that makes the progressbar better match the part of\ntotal time spent acquiring the block chain?\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13481919,13481919,
sipa,2013-02-13T10:02:24Z,"@laanwj Yes, it actually seems to speed up a bit, as the very early blocks have almost no transactions in them, but still require a per-block processing time.\n\nOnly disadvantage is that it requires 4 measured/guessed control parameters. Guessing them wrong doesn't result in worse behaviour than we already have, but it does require some extra work when adding a checkpoint.\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13481983,13481983,
laanwj,2013-02-13T10:09:22Z,"With the current code in the pull request, usig secs, it looks like the\nfirst half-ish goes really fast, and after that it almost grinds to a halt\n(but that was the same when still using blocks).\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13482201,13482201,
sipa,2013-02-13T10:10:44Z,"Yes, this fixes that very nicely. I mean this almost reverts it: it seems the very first ""blocks"" go very slowly, and it speeds up slightly along the way. Try it :)\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13482244,13482244,
laanwj,2013-02-13T10:12:22Z,I will once I get home :) was just trying to get the gist of it\n,https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13482303,13482303,
sipa,2013-02-13T22:20:23Z,Added a commit to improve testnet support: https://github.com/sipa/bitcoin/commits/progressbar\n,https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13521815,13521815,
sipa,2013-02-14T19:48:44Z,"Here's a graph of block-based progress vs my branch's code during a reindex on my VPS: http://bitcoin.sipa.be/progress.png\n\nThe last checkpoint is at 0.299252 progress, so slightly before the strange 2-minute gap (i have no clue what happened there, perhaps an I/O hiccup at the hosting provider).\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13574673,13574673,
laanwj,2013-02-14T20:16:58Z,Looks good! I've just merged your changes into this pull.\n,https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13576080,13576080,
sipa,2013-02-14T20:21:22Z,"@gavinandresen In the added refactor commit, I've added some comments.\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13576304,13576304,
BitcoinPullTester,2013-02-14T20:45:00Z,"Automatic sanity-testing: FAILED BUILD/TEST, see http://jenkins.bluematt.me/pull-tester/100d0c570f2c07c8c8b0993f5c5f69ae1e528270 for binaries and test log.\n\nThis could happen for one of several reasons:\n1. It chanages paths in makefile.linux-mingw or otherwise changes build scripts in a way that made them incompatible with the automated testing scripts\n2. It does not build on either Linux i386",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13577506,13577506,
sipa,2013-02-14T20:48:19Z,Anyone an idea why pulltester fails to compile?\n,https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13577675,13577675,
sipa,2013-02-14T20:56:05Z,"Here's another graph, on a fast 6-core machine. The slowdown factor of 15.0 in the current code is clearly way too much here... http://bitcoin.sipa.be/progress-6core.png\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13578025,13578025,
laanwj,2013-02-14T21:11:15Z,"I don't understand the pulltester failure either, it gives a warning then bails out.\n",https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13578774,13578774,
sipa,2013-02-14T21:12:05Z,Scroll up:\ncheckpoints.cpp:45: error: too many initializers for 'const Checkpoints::CCheckpointData'\ncheckpoints.cpp:53: error: too many initializers for 'const Checkpoints::CCheckpointData'\n,https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13578818,13578818,
sipa,2013-02-14T21:17:30Z,@Diapolo More seriously: I'll add some comments :)\n,https://github.com/bitcoin/bitcoin/pull/2294#issuecomment-13579066,13579066,
sipa,2013-02-12T15:57:14Z,I think this constant belongs either in either main or checkpoints - the distinction between mainnet and testnet could also happen there automatically.\n,https://github.com/bitcoin/bitcoin/pull/2294#discussion_r2979854,2979854,src/qt/clientmodel.cpp
laanwj,2013-02-12T16:02:03Z,"Agreed, that would be a better place.\n",https://github.com/bitcoin/bitcoin/pull/2294#discussion_r2979963,2979963,src/qt/clientmodel.cpp
Diapolo,2013-02-14T21:12:34Z,I would like to see a comment for this :).\n,https://github.com/bitcoin/bitcoin/pull/2294#discussion_r3020324,3020324,src/checkpoints.cpp
Diapolo,2013-02-14T21:12:49Z,...and this :)?\n,https://github.com/bitcoin/bitcoin/pull/2294#discussion_r3020331,3020331,src/checkpoints.h
Diapolo,2013-02-14T21:13:31Z,Does this lead to a noticeable higher CPU usage?\n,https://github.com/bitcoin/bitcoin/pull/2294#discussion_r3020340,3020340,src/qt/guiconstants.h
sipa,2013-02-14T21:14:02Z,It's how many times transactions after the checkpoint are expected to be slower than those before. Source: me randomly pressing some keys.\n,https://github.com/bitcoin/bitcoin/pull/2294#discussion_r3020345,3020345,src/checkpoints.cpp
sipa,2013-02-14T21:14:19Z,Would:\n// Guess verification progress\ndo?\n,https://github.com/bitcoin/bitcoin/pull/2294#discussion_r3020351,3020351,src/checkpoints.h
laanwj,2013-02-14T21:17:14Z,"No (bitcoin spends its time in block verification, drawing 4 times a second instead of 2 really doesn't matter, maybe it did in the times of commodore 64? :-)\n",https://github.com/bitcoin/bitcoin/pull/2294#discussion_r3020399,3020399,src/qt/guiconstants.h
