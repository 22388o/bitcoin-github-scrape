[
  {
    "sha": "85f0135eaefe3d9f696689a7e83606c579da40a8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4NWYwMTM1ZWFlZmUzZDlmNjk2Njg5YTdlODM2MDZjNTc5ZGE0MGE4",
    "commit": {
      "author": {
        "name": "Max Kaplan",
        "email": "kaplanmaxe3@gmail.com",
        "date": "2018-06-02T17:43:46Z"
      },
      "committer": {
        "name": "Max Kaplan",
        "email": "kaplanmaxe3@gmail.com",
        "date": "2018-06-05T11:49:21Z"
      },
      "message": "utils: checking for bitcoin addresses in translations\n\nChecking for and removing any bitcoin addresses in translations",
      "tree": {
        "sha": "a204e33f5d6bbd87c4ecebb060abcce96f459697",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a204e33f5d6bbd87c4ecebb060abcce96f459697"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/85f0135eaefe3d9f696689a7e83606c579da40a8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIcBAABCAAGBQJbFnjNAAoJEK2kzHZsCw3vkhkP/i92RLCgua993WsK+5VGVXgK\njeK+RNAUT3X+j1e1jP5f7h0EuG+srjzaVUl2xDkQJHmEL+RCuVSMkilPzDHZtBww\nKR/ppcIP5tIwV7g/OCSVE/7OmX8bQOKWT0AJ8OQHOYxaWemODXHPkve4ok9ltWP0\nintSwhralTdikUVsQlbcqUAaZJlpi2tgzINXFwI/7my8iwLCbEINECw21IEixQaQ\n5MEo5XvLYtIb5JG5A9N1+QAmbIaCAId7J3mskInS8Q/YK/VMXeAHE3KKvXR6yur2\nfEvjjB0hhP/PU1gCFThGhsa0z8z7Z6kY0ptdbwALCwiKJxImylImkIsDLU7tAO2A\noXsfNsGNOXdkltypPwo3AJQ2e9M3RdEgOz6/2aEacg0+vpp+iHxiy6JssU+e6vsX\nv2m1nC2pTVTW9e58yB5eIlQPILweFGHJQvR0+DAhdd6OvEzsBaGTCBF5WQxMLyK4\n7KpQHA0oeDD+QY2gO712PaMMvcaC/6UxPItXXWeE8eP96LoyIG+vPeULgOvjVYnF\nZfqerPbgYLfImgt1eKGj1up7ijYlVF5PfhEDfowLGJB/YecJ7Tfvee4HwC/areO+\nsB+hCuVPWH/hgr0J+LkoYk5hm+9tcrY6wSLHiut7NNihGUZolsaBchaQblvnOvrY\n34mG1xz0rtWLkghef1HU\n=TFpn\n-----END PGP SIGNATURE-----",
        "payload": "tree a204e33f5d6bbd87c4ecebb060abcce96f459697\nparent e24bf1ce184bc8d5bba70a3f3e9c43c2df07f4d3\nauthor Max Kaplan <kaplanmaxe3@gmail.com> 1527961426 -0400\ncommitter Max Kaplan <kaplanmaxe3@gmail.com> 1528199361 -0400\n\nutils: checking for bitcoin addresses in translations\n\nChecking for and removing any bitcoin addresses in translations\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/85f0135eaefe3d9f696689a7e83606c579da40a8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/85f0135eaefe3d9f696689a7e83606c579da40a8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/85f0135eaefe3d9f696689a7e83606c579da40a8/comments",
    "author": {
      "login": "kaplanmaxe",
      "id": 3860450,
      "node_id": "MDQ6VXNlcjM4NjA0NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3860450?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kaplanmaxe",
      "html_url": "https://github.com/kaplanmaxe",
      "followers_url": "https://api.github.com/users/kaplanmaxe/followers",
      "following_url": "https://api.github.com/users/kaplanmaxe/following{/other_user}",
      "gists_url": "https://api.github.com/users/kaplanmaxe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kaplanmaxe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kaplanmaxe/subscriptions",
      "organizations_url": "https://api.github.com/users/kaplanmaxe/orgs",
      "repos_url": "https://api.github.com/users/kaplanmaxe/repos",
      "events_url": "https://api.github.com/users/kaplanmaxe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kaplanmaxe/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kaplanmaxe",
      "id": 3860450,
      "node_id": "MDQ6VXNlcjM4NjA0NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3860450?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kaplanmaxe",
      "html_url": "https://github.com/kaplanmaxe",
      "followers_url": "https://api.github.com/users/kaplanmaxe/followers",
      "following_url": "https://api.github.com/users/kaplanmaxe/following{/other_user}",
      "gists_url": "https://api.github.com/users/kaplanmaxe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kaplanmaxe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kaplanmaxe/subscriptions",
      "organizations_url": "https://api.github.com/users/kaplanmaxe/orgs",
      "repos_url": "https://api.github.com/users/kaplanmaxe/repos",
      "events_url": "https://api.github.com/users/kaplanmaxe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kaplanmaxe/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e24bf1ce184bc8d5bba70a3f3e9c43c2df07f4d3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e24bf1ce184bc8d5bba70a3f3e9c43c2df07f4d3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e24bf1ce184bc8d5bba70a3f3e9c43c2df07f4d3"
      }
    ],
    "stats": {
      "total": 10,
      "additions": 9,
      "deletions": 1
    },
    "files": [
      {
        "sha": "f0098cfcdf9cc58b7d92358d3569c3f43c6816fa",
        "filename": "contrib/devtools/update-translations.py",
        "status": "modified",
        "additions": 9,
        "deletions": 1,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/85f0135eaefe3d9f696689a7e83606c579da40a8/contrib/devtools/update-translations.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/85f0135eaefe3d9f696689a7e83606c579da40a8/contrib/devtools/update-translations.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/devtools/update-translations.py?ref=85f0135eaefe3d9f696689a7e83606c579da40a8",
        "patch": "@@ -30,6 +30,8 @@\n LOCALE_DIR = 'src/qt/locale'\n # Minimum number of messages for translation to be considered at all\n MIN_NUM_MESSAGES = 10\n+# Regexp to check for Bitcoin addresses\n+ADDRESS_REGEXP = re.compile('([13]|bc1)[a-zA-Z0-9]{30,}')\n \n def check_at_repository_root():\n     if not os.path.exists('.git'):\n@@ -122,6 +124,12 @@ def escape_cdata(text):\n     text = text.replace('\"', '&quot;')\n     return text\n \n+def contains_bitcoin_addr(text, errors):\n+    if text != None and ADDRESS_REGEXP.search(text) != None:\n+        errors.append('Translation \"%s\" contains a bitcoin address. This will be removed.' % (text))\n+        return True\n+    return False\n+\n def postprocess_translations(reduce_diff_hacks=False):\n     print('Checking and postprocessing...')\n \n@@ -160,7 +168,7 @@ def postprocess_translations(reduce_diff_hacks=False):\n                     if translation is None:\n                         continue\n                     errors = []\n-                    valid = check_format_specifiers(source, translation, errors, numerus)\n+                    valid = check_format_specifiers(source, translation, errors, numerus) and not contains_bitcoin_addr(translation, errors)\n \n                     for error in errors:\n                         print('%s: %s' % (filename, error))"
      }
    ]
  }
]