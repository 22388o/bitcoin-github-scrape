[
  {
    "sha": "939640f87ec385d08f1b04bfd7f61c80038c4565",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5Mzk2NDBmODdlYzM4NWQwOGYxYjA0YmZkN2Y2MWM4MDAzOGM0NTY1",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-08-16T08:44:54Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-08-16T09:48:24Z"
      },
      "message": "ci: Reorder scripts to make git available before depends_sources_cache",
      "tree": {
        "sha": "78afa0baf1066c6710765209293a2b392affdf60",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/78afa0baf1066c6710765209293a2b392affdf60"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/939640f87ec385d08f1b04bfd7f61c80038c4565",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmEaNGgACgkQQQEIES5+\nqB8JVRAAhXswUMvDmnOy0HC8IqFcAgIzglcH3YmnFxcPMHybVZCFbZ7zJGgHKmP8\ns093s0GOGQK0MCenmEcUejl8J5Zh4f7+zyIjv19LWaTD5D1G2wipME6LOKPQjP86\n6HdUc8P7LVESl6yK/9mv2cGZlRT0FSRJndQ1J0pjAw6zUi2JEu3/tc+oSJdUoJuI\ntBCxx9yFAGQ4A1qrvIuepomYOKhZ2ATeBzMgyl7cC2lMEvKT8NOProhvZYj9fS+n\nMzShtbvtpJV0+HVDeJeAHRPIOpY5osIzQd8Gvqbjxe1aKqpbfNMokJAo5gx95LoI\njRRKSbzBORTacmXazGjWQ6sdYEqpG4pWlRpPIIDqZHzgeUSCm5oBUS2/2Qddyv33\n35ORzZifXrwlnWIMA0LcswBPPxfARTJQhgqyfJ6vAJDQ+pzV8VKyA/IBK/g/kkLD\nDgh/z8k3GVfBBXBgK9LwCjkI2ss3Waszc43b1nLi6Q5OE7RGtE6PKcM+y92mnxru\n23s4wxhkbfHe4pxHlEBfVm/uVQ1/3Y+u1Up6DVtq5B+SYlrFVUa8b1367HXc8wkc\nYH8IQIDI1E3McjmBVr8jwE1oqM2kMFKUwuZfRg5+bQ1FoQ48nNao41rMYG7zMs0c\nMftIq+GHvcMiE45wIDNre0UvChMi3xaAbsD8QzuZbQ+TOPGiET8=\n=Wg12\n-----END PGP SIGNATURE-----",
        "payload": "tree 78afa0baf1066c6710765209293a2b392affdf60\nparent 3facf0a8ae99a03f5e2fb709b8d86c47328d363c\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1629103494 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1629107304 +0300\n\nci: Reorder scripts to make git available before depends_sources_cache\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/939640f87ec385d08f1b04bfd7f61c80038c4565",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/939640f87ec385d08f1b04bfd7f61c80038c4565",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/939640f87ec385d08f1b04bfd7f61c80038c4565/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3facf0a8ae99a03f5e2fb709b8d86c47328d363c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3facf0a8ae99a03f5e2fb709b8d86c47328d363c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/3facf0a8ae99a03f5e2fb709b8d86c47328d363c"
      }
    ],
    "stats": {
      "total": 10,
      "additions": 7,
      "deletions": 3
    },
    "files": [
      {
        "sha": "178a9fc9824f8c9ae7382f81c71655c8f6ee9402",
        "filename": ".cirrus.yml",
        "status": "modified",
        "additions": 7,
        "deletions": 3,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/939640f87ec385d08f1b04bfd7f61c80038c4565/.cirrus.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/939640f87ec385d08f1b04bfd7f61c80038c4565/.cirrus.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.cirrus.yml?ref=939640f87ec385d08f1b04bfd7f61c80038c4565",
        "patch": "@@ -29,8 +29,7 @@ base_template: &BASE_TEMPLATE\n     - git merge FETCH_HEAD  # Merge base to detect silent merge conflicts\n   stateful: false  # https://cirrus-ci.org/guide/writing-tasks/#stateful-tasks\n \n-global_task_template: &GLOBAL_TASK_TEMPLATE\n-  << : *BASE_TEMPLATE\n+task_template: &TASK_TEMPLATE\n   timeout_in: 120m  # https://cirrus-ci.org/faq/#instance-timed-out\n   container:\n     # https://cirrus-ci.org/faq/#are-there-any-limits\n@@ -44,6 +43,10 @@ global_task_template: &GLOBAL_TASK_TEMPLATE\n   ci_script:\n     - ./ci/test_run_all.sh\n \n+global_task_template: &GLOBAL_TASK_TEMPLATE\n+  << : *BASE_TEMPLATE\n+  << : *TASK_TEMPLATE\n+\n depends_sdk_cache_template: &DEPENDS_SDK_CACHE_TEMPLATE\n   depends_sdk_cache:\n     folder: \"depends/sdk-sources\"\n@@ -211,9 +214,10 @@ task:\n task:\n   name: 'ARM64 Android APK [focal]'\n   << : *DEPENDS_SDK_CACHE_TEMPLATE\n+  << : *BASE_TEMPLATE\n   depends_sources_cache:\n     folder: \"depends/sources\"\n-  << : *GLOBAL_TASK_TEMPLATE\n+  << : *TASK_TEMPLATE\n   container:\n     image: ubuntu:focal\n   env:"
      }
    ]
  },
  {
    "sha": "f52a72af569526f319d9f1480eb473b9570125c3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNTJhNzJhZjU2OTUyNmYzMTlkOWYxNDgwZWI0NzNiOTU3MDEyNWMz",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-08-16T08:46:41Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-08-18T16:32:01Z"
      },
      "message": "ci: Invalidate depends caches when sources have been changed",
      "tree": {
        "sha": "fe5e6298bb8fdac015a8c0032263ed26a3ea21a2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fe5e6298bb8fdac015a8c0032263ed26a3ea21a2"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f52a72af569526f319d9f1480eb473b9570125c3",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmEdNgEACgkQQQEIES5+\nqB8dXA/+M09Ba3JPUi19mh+2yVIU/E5Dr6q6OXcduOSYZwKGcdIjn6W94rYcG/NV\nrDzEgOdvDKsnCZ3l2+fXYec/I61TnX7t1voSLp4CNhF1OPXpSy13VDlstd0kJy85\n1F6Yd2PAklj8epFu2+iH2AGzgj4Yfuk11OEhrROBMFl0U/D/fREblu9o07EgZ3oo\nnXH3AytlNN9s217KBDPo+ynESDFvTwqUCMM7gEa5OA328n20HrUSJu8gARoav5ov\ntB+bhkEmBVOH7Sz8IQa7D0hVDqoZ8hnOckfWXhqDvGRhuU/c1rBeLDb2lOXpQG4j\nTKh7mbj9RU53kyl6wl46SRxodi9lNR7FDV7VD8RCe2d95o5EX0fvo+Cvj9syr9gM\nXrFJywHIVgOJZl/juJXbuppZYPW5lwJXNrylUJjC2uLRVrZoKoGlN7NsYMKR/NIJ\nrTCtUB3z+CAITYlmpvV17KEbhDBUZnfOczlCmIkAdCK4hEMa/KsSpJ+m+FzkDDad\nvOJAKY4Zx4Rnq/rlMZ7VTd+SJUTiQxXbrfV6fc0qmiFfWMd0SneScDYb/G8Dl1CV\nlOyIvk7PzFNuCFgeqmiPWRax7xCPvT0twIXs5yHaTsXMigCSQ+SbrtJtulWUnYOq\nZno0dXq9t5DOSg1XtrbqSl6iKd9qkDfJ3ek87tJxF4x6wsQT34M=\n=GywY\n-----END PGP SIGNATURE-----",
        "payload": "tree fe5e6298bb8fdac015a8c0032263ed26a3ea21a2\nparent 939640f87ec385d08f1b04bfd7f61c80038c4565\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1629103601 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1629304321 +0300\n\nci: Invalidate depends caches when sources have been changed\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f52a72af569526f319d9f1480eb473b9570125c3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f52a72af569526f319d9f1480eb473b9570125c3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f52a72af569526f319d9f1480eb473b9570125c3/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "939640f87ec385d08f1b04bfd7f61c80038c4565",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/939640f87ec385d08f1b04bfd7f61c80038c4565",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/939640f87ec385d08f1b04bfd7f61c80038c4565"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 2,
      "deletions": 0
    },
    "files": [
      {
        "sha": "3e2e8864acc3c8d336a524821ff1e08caf86788d",
        "filename": ".cirrus.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f52a72af569526f319d9f1480eb473b9570125c3/.cirrus.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f52a72af569526f319d9f1480eb473b9570125c3/.cirrus.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.cirrus.yml?ref=f52a72af569526f319d9f1480eb473b9570125c3",
        "patch": "@@ -40,6 +40,7 @@ task_template: &TASK_TEMPLATE\n     folder: \"/tmp/ccache_dir\"\n   depends_built_cache:\n     folder: \"depends/built\"\n+    fingerprint_script: echo $CIRRUS_TASK_NAME $(git rev-list -1 HEAD ./depends)\n   ci_script:\n     - ./ci/test_run_all.sh\n \n@@ -217,6 +218,7 @@ task:\n   << : *BASE_TEMPLATE\n   depends_sources_cache:\n     folder: \"depends/sources\"\n+    fingerprint_script: git rev-list -1 HEAD ./depends\n   << : *TASK_TEMPLATE\n   container:\n     image: ubuntu:focal"
      }
    ]
  }
]