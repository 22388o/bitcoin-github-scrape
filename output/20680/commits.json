[
  {
    "sha": "facf5e37f619be6bd7f8768058842679cd9ad933",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWNmNWUzN2Y2MTliZTZiZDdmODc2ODA1ODg0MjY3OWNkOWFkOTMz",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-12-17T08:34:18Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-12-17T08:30:37Z"
      },
      "message": "ci: Only use credits for pull requests to the main repo",
      "tree": {
        "sha": "2faa8eec9ee4b518bfd0e93e04faab93cd9b34e3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2faa8eec9ee4b518bfd0e93e04faab93cd9b34e3"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/facf5e37f619be6bd7f8768058842679cd9ad933",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgyTwv/S4FpdDbyXXMwVwMlE1gUTxCFRLLucTRvmXgvyhwb32+L6esXexE3VWVf\n2JqpvCpex84+p/jgVsGJnx7S09rCxiQEPXRkERQ/IiELN2aFtDbIun/SPJT/gQMx\n03e3dIKuphiiYEJS16hbOxtkADexZN4WDIZHOnqkBGHIuWHvPULpCCFLvsItT4vH\nJv+eov2ZY4TwXuWCcgrwNnJBew8iPruFwvuxQ6vdNHXLC6I6Qbp4b82JhG6f0iVL\nEtC2RnQ4PO4oujRPUyIXlp0/urhSfqpYEvvSk7P9L4UJjSqo3MYxG3xIRDoxI8vt\nZ+DYhLQfJkdqa0RVcRhBaBBS3wZp5p4ed207I3M3V788H71dHKLiRSGU2dgym2kN\nytr8O8TzCPxHKBvg7JJGvZtOgBPonjK0xskPDvq39QVeXkfyQHGhkCSMUDj7td/P\n53QwBKl2IE3RdaAZh6Xw3mQS5OurhVp0jAwYZaKTkD1EXIzmiQllobFec3WJhDwY\n+ts58mw6\n=DpZw\n-----END PGP SIGNATURE-----",
        "payload": "tree 2faa8eec9ee4b518bfd0e93e04faab93cd9b34e3\nparent 6f2ca726ce2ec4e027d4ba48872cd7a19e438b7f\nauthor MarcoFalke <falke.marco@gmail.com> 1608194058 +0100\ncommitter MarcoFalke <falke.marco@gmail.com> 1608193837 +0100\n\nci: Only use credits for pull requests to the main repo\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/facf5e37f619be6bd7f8768058842679cd9ad933",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/facf5e37f619be6bd7f8768058842679cd9ad933",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/facf5e37f619be6bd7f8768058842679cd9ad933/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6f2ca726ce2ec4e027d4ba48872cd7a19e438b7f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6f2ca726ce2ec4e027d4ba48872cd7a19e438b7f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6f2ca726ce2ec4e027d4ba48872cd7a19e438b7f"
      }
    ],
    "stats": {
      "total": 25,
      "additions": 15,
      "deletions": 10
    },
    "files": [
      {
        "sha": "0507d664f190e127f74468eac79b81e7e2e5f2be",
        "filename": ".cirrus.yml",
        "status": "modified",
        "additions": 15,
        "deletions": 10,
        "changes": 25,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/facf5e37f619be6bd7f8768058842679cd9ad933/.cirrus.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/facf5e37f619be6bd7f8768058842679cd9ad933/.cirrus.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.cirrus.yml?ref=facf5e37f619be6bd7f8768058842679cd9ad933",
        "patch": "@@ -8,19 +8,18 @@ env:\n   CCACHE_SIZE: \"200M\"\n   CCACHE_DIR: \"/tmp/ccache_dir\"\n \n-### Base template\n # https://cirrus-ci.org/guide/tips-and-tricks/#sharing-configuration-between-tasks\n base_template: &BASE_TEMPLATE\n-  skip: $CIRRUS_REPO_FULL_NAME == \"bitcoin-core/gui\" && $CIRRUS_PR == \"\" # No need to run on the read-only mirror, unless it is a PR. https://cirrus-ci.org/guide/writing-tasks/#conditional-task-execution\n+  skip: $CIRRUS_REPO_FULL_NAME == \"bitcoin-core/gui\" && $CIRRUS_PR == \"\"  # No need to run on the read-only mirror, unless it is a PR. https://cirrus-ci.org/guide/writing-tasks/#conditional-task-execution\n   merge_base_script:\n     - if [ \"$CIRRUS_PR\" = \"\" ]; then exit 0; fi\n     - bash -c \"$PACKAGE_MANAGER_INSTALL git\"\n     - git fetch $CIRRUS_REPO_CLONE_URL $CIRRUS_BASE_BRANCH\n     - git config --global user.email \"ci@ci.ci\"\n     - git config --global user.name \"ci\"\n     - git merge FETCH_HEAD  # Merge base to detect silent merge conflicts\n+  stateful: false  # https://cirrus-ci.org/guide/writing-tasks/#stateful-tasks\n \n-### Global task template\n global_task_template: &GLOBAL_TASK_TEMPLATE\n   << : *BASE_TEMPLATE\n   timeout_in: 120m  # https://cirrus-ci.org/faq/#instance-timed-out\n@@ -41,6 +40,11 @@ global_task_template: &GLOBAL_TASK_TEMPLATE\n   ci_script:\n     - ./ci/test_run_all.sh\n \n+compute_credits_template: &CREDITS_TEMPLATE\n+  # https://cirrus-ci.org/pricing/#compute-credits\n+  # Only use credits for pull requests to the main repo\n+  use_compute_credits: $CIRRUS_REPO_FULL_NAME == 'bitcoin/bitcoin' && $CIRRUS_PR != \"\"\n+\n #task:\n #  name: \"Windows\"\n #  windows_container:\n@@ -58,13 +62,14 @@ global_task_template: &GLOBAL_TASK_TEMPLATE\n #    - choco install python --version=3.7.7 -y\n \n task:\n-  name: 'lint'\n+  name: 'lint [bionic]'\n   << : *BASE_TEMPLATE\n   container:\n-    image: ubuntu:bionic # For python 3.6, oldest supported version according to doc/dependencies.md\n-    cpu: 1 # Cut bill in half for linting\n-  # For faster CI feedback, immediately schedule the linters. https://cirrus-ci.org/pricing/#compute-credits\n-  use_compute_credits: $CIRRUS_REPO_FULL_NAME == 'bitcoin/bitcoin'\n+    image: ubuntu:bionic  # For python 3.6, oldest supported version according to doc/dependencies.md\n+    cpu: 1\n+    memory: 1G\n+  # For faster CI feedback, immediately schedule the linters\n+  << : *CREDITS_TEMPLATE\n   setup_script:\n     - set -o errexit; source ./ci/test/00_setup_env.sh\n   before_install_script:\n@@ -103,8 +108,8 @@ task:\n \n task:\n   name: '[previous releases, uses qt5 dev package and some depends packages] [unsigned char] [bionic]'\n-  # For faster CI feedback, immediately schedule a task that compiles most modules. https://cirrus-ci.org/pricing/#compute-credits\n-  use_compute_credits: $CIRRUS_REPO_FULL_NAME == 'bitcoin/bitcoin'\n+  # For faster CI feedback, immediately schedule a task that compiles most modules\n+  << : *CREDITS_TEMPLATE\n   << : *GLOBAL_TASK_TEMPLATE\n   container:\n     image: ubuntu:bionic"
      }
    ]
  }
]