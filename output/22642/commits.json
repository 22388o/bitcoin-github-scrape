[
  {
    "sha": "90b3e482e911fde73133a157c3b354471682275a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5MGIzZTQ4MmU5MTFmZGU3MzEzM2ExNTdjM2IzNTQ0NzE2ODIyNzVh",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-08-05T20:57:45Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-08-05T20:58:54Z"
      },
      "message": "release: Release with separate SHA256SUMS and sig files\n\nThis allows us to remove the rfc4880 EOL hacks and release with a\nSHA256SUMS.asc file that's a combination of all signer signatures.",
      "tree": {
        "sha": "0cd85ef3b48892aa6a0477062a7257ab53310c51",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0cd85ef3b48892aa6a0477062a7257ab53310c51"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/90b3e482e911fde73133a157c3b354471682275a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/90b3e482e911fde73133a157c3b354471682275a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/90b3e482e911fde73133a157c3b354471682275a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/90b3e482e911fde73133a157c3b354471682275a/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b620b2d58a55a88ad21da70cb2000863ef17b651",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b620b2d58a55a88ad21da70cb2000863ef17b651",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b620b2d58a55a88ad21da70cb2000863ef17b651"
      }
    ],
    "stats": {
      "total": 39,
      "additions": 6,
      "deletions": 33
    },
    "files": [
      {
        "sha": "1503c330b2f90c3b44f3f107de289eca6dfa6bc8",
        "filename": "contrib/guix/guix-attest",
        "status": "modified",
        "additions": 0,
        "deletions": 16,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/90b3e482e911fde73133a157c3b354471682275a/contrib/guix/guix-attest",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/90b3e482e911fde73133a157c3b354471682275a/contrib/guix/guix-attest",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/guix-attest?ref=90b3e482e911fde73133a157c3b354471682275a",
        "patch": "@@ -159,20 +159,6 @@ Hint: You may wish to remove the existing attestations and their signatures by\n EOF\n }\n \n-# Given a document with unix line endings (just <LF>) in stdin, make all lines\n-# end in <CR><LF> and make sure there's no trailing <LF> at the end of the file.\n-#\n-# This is necessary as cleartext signatures are calculated on text after their\n-# line endings are canonicalized.\n-#\n-# For more information:\n-#     1. https://security.stackexchange.com/a/104261\n-#     2. https://datatracker.ietf.org/doc/html/rfc4880#section-7.1\n-#\n-rfc4880_normalize_document() {\n-    sed 's/$/\\r/' | head -c -2\n-}\n-\n echo \"Attesting to build outputs for version: '${VERSION}'\"\n echo \"\"\n \n@@ -188,7 +174,6 @@ mkdir -p \"$outsigdir\"\n         cat \"${noncodesigned_fragments[@]}\" \\\n             | sort -u \\\n             | sort -k2 \\\n-            | rfc4880_normalize_document \\\n                 > \"$temp_noncodesigned\"\n         if [ -e noncodesigned.SHA256SUMS ]; then\n             # The SHA256SUMS already exists, make sure it's exactly what we\n@@ -216,7 +201,6 @@ mkdir -p \"$outsigdir\"\n         cat \"${sha256sum_fragments[@]}\" \\\n             | sort -u \\\n             | sort -k2 \\\n-            | rfc4880_normalize_document \\\n                 > \"$temp_all\"\n         if [ -e all.SHA256SUMS ]; then\n             # The SHA256SUMS already exists, make sure it's exactly what we"
      },
      {
        "sha": "1b6472e812ffadcf2b6f0b0ae44642d3e4058099",
        "filename": "doc/release-process.md",
        "status": "modified",
        "additions": 6,
        "deletions": 17,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/90b3e482e911fde73133a157c3b354471682275a/doc/release-process.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/90b3e482e911fde73133a157c3b354471682275a/doc/release-process.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-process.md?ref=90b3e482e911fde73133a157c3b354471682275a",
        "patch": "@@ -199,26 +199,13 @@ popd\n \n ### After 3 or more people have guix-built and their results match:\n \n-Combine `all.SHA256SUMS` and `all.SHA256SUMS.asc` into a clear-signed\n-`SHA256SUMS.asc` message:\n-\n-```sh\n-echo -e \"-----BEGIN PGP SIGNED MESSAGE-----\\nHash: SHA256\\n\\n$(cat all.SHA256SUMS)\\n$(cat filename.txt.asc)\" > SHA256SUMS.asc\n-```\n-\n-Here's an equivalent, more readable command if you're confident that you won't\n-mess up whitespaces when copy-pasting:\n+Combine the `all.SHA256SUMS.asc` file from all signers into `SHA256SUMS.asc`:\n \n ```bash\n-cat << EOF > SHA256SUMS.asc\n------BEGIN PGP SIGNED MESSAGE-----\n-Hash: SHA256\n-\n-$(cat all.SHA256SUMS)\n-$(cat all.SHA256SUMS.asc)\n-EOF\n+cat \"$VERSION\"/*/all.SHA256SUMS.asc > SHA256SUMS.asc\n ```\n \n+\n - Upload to the bitcoincore.org server (`/var/www/bin/bitcoin-core-${VERSION}`):\n     1. The contents of `./bitcoin/guix-build-${VERSION}/output`, except for\n        `*-debug*` files.\n@@ -230,7 +217,9 @@ EOF\n        as save storage space *do not upload these to the bitcoincore.org server,\n        nor put them in the torrent*.\n \n-    2. The combined clear-signed message you just created `SHA256SUMS.asc`\n+    2. The `SHA256SUMS` file\n+\n+    3. The `SHA256SUMS.asc` combined signature file you just created\n \n - Create a torrent of the `/var/www/bin/bitcoin-core-${VERSION}` directory such\n   that at the top level there is only one file: the `bitcoin-core-${VERSION}`"
      }
    ]
  }
]