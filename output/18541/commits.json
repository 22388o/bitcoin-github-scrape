[
  {
    "sha": "fad691cafe083743a26f434488990f060ae4ac45",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWQ2OTFjYWZlMDgzNzQzYTI2ZjQzNDQ4ODk5MGYwNjBhZTRhYzQ1",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-06T16:49:35Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-06T16:53:49Z"
      },
      "message": "rpc: Make verifychain default values static, not depend on global args",
      "tree": {
        "sha": "b519e2170aba7e68f2a9956723d504511d8ec29b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b519e2170aba7e68f2a9956723d504511d8ec29b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fad691cafe083743a26f434488990f060ae4ac45",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgerQwAsawQRkEojy/cXCEyA0OdTRjq3h1fH6rq2GSmES4aYTBFB3h4mj71ThHe\nCXx7GjHQd7GW4CCGLrSpcPr5dTIc3tLbwRKhzMR9/UteZPdaMkNY/PckDbHrV1zi\nmHRYBeD9IaqlGPaNu1flXJQ2Dua6sRohT7OdQFOiEnGwfucrKEjja+9+YEb47CgA\nPzakNZYCNw9gvLro1RxyDlLjWE3c1zO2GLlBMCTzBW7mq1vMr+2kInsBfWPeQtYb\nq9qokjngy2g+wglPvWX7a1kmvRRYmNi8o5GsYsPF1vC5lR7u+fmfpSXl0kI/hb5+\nlV2YtuWqkd3T0mP90wBt9+7Zrmg6895QOr0WQNtf2bEBmm4u45kW9eVO0Sk8/d6L\nB6ZPkdoAKJfPX3akeKktc7Ht3RXslDMNnDYrrURYhEkmfPJHO0fv1BpvAY3bJ6eW\n1GDZVEMJyYWPr/MSXVU7WDgzK14eZzky3G8r72nPYSDtPGFhKDYFN27yq5vke0yZ\nz3Vv13XT\n=GKdn\n-----END PGP SIGNATURE-----",
        "payload": "tree b519e2170aba7e68f2a9956723d504511d8ec29b\nparent fdeb445a34a97357c87416d80350f9b0b4f222ca\nauthor MarcoFalke <falke.marco@gmail.com> 1586191775 +0800\ncommitter MarcoFalke <falke.marco@gmail.com> 1586192029 +0800\n\nrpc: Make verifychain default values static, not depend on global args\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fad691cafe083743a26f434488990f060ae4ac45",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fad691cafe083743a26f434488990f060ae4ac45",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fad691cafe083743a26f434488990f060ae4ac45/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fdeb445a34a97357c87416d80350f9b0b4f222ca",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fdeb445a34a97357c87416d80350f9b0b4f222ca",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fdeb445a34a97357c87416d80350f9b0b4f222ca"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 6,
      "deletions": 11
    },
    "files": [
      {
        "sha": "e84b751c9a97851ee3730597249d73daffdd2e82",
        "filename": "src/rpc/blockchain.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 11,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fad691cafe083743a26f434488990f060ae4ac45/src/rpc/blockchain.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fad691cafe083743a26f434488990f060ae4ac45/src/rpc/blockchain.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/blockchain.cpp?ref=fad691cafe083743a26f434488990f060ae4ac45",
        "patch": "@@ -1078,13 +1078,11 @@ UniValue gettxout(const JSONRPCRequest& request)\n \n static UniValue verifychain(const JSONRPCRequest& request)\n {\n-    int nCheckLevel = gArgs.GetArg(\"-checklevel\", DEFAULT_CHECKLEVEL);\n-    int nCheckDepth = gArgs.GetArg(\"-checkblocks\", DEFAULT_CHECKBLOCKS);\n             RPCHelpMan{\"verifychain\",\n                 \"\\nVerifies blockchain database.\\n\",\n                 {\n-                    {\"checklevel\", RPCArg::Type::NUM, /* default */ strprintf(\"%d, range=0-4\", nCheckLevel), \"How thorough the block verification is.\"},\n-                    {\"nblocks\", RPCArg::Type::NUM, /* default */ strprintf(\"%d, 0=all\", nCheckDepth), \"The number of blocks to check.\"},\n+                    {\"checklevel\", RPCArg::Type::NUM, /* default */ strprintf(\"%d, range=0-4\", DEFAULT_CHECKLEVEL), \"How thorough the block verification is.\"},\n+                    {\"nblocks\", RPCArg::Type::NUM, /* default */ strprintf(\"%d, 0=all\", DEFAULT_CHECKBLOCKS), \"The number of blocks to check.\"},\n                 },\n                 RPCResult{\n                     RPCResult::Type::BOOL, \"\", \"Verified or not\"},\n@@ -1094,15 +1092,12 @@ static UniValue verifychain(const JSONRPCRequest& request)\n                 },\n             }.Check(request);\n \n-    LOCK(cs_main);\n+    const int check_level(request.params[0].isNull() ? DEFAULT_CHECKLEVEL : request.params[0].get_int());\n+    const int check_depth{request.params[1].isNull() ? DEFAULT_CHECKBLOCKS : request.params[1].get_int()};\n \n-    if (!request.params[0].isNull())\n-        nCheckLevel = request.params[0].get_int();\n-    if (!request.params[1].isNull())\n-        nCheckDepth = request.params[1].get_int();\n+    LOCK(cs_main);\n \n-    return CVerifyDB().VerifyDB(\n-        Params(), &::ChainstateActive().CoinsTip(), nCheckLevel, nCheckDepth);\n+    return CVerifyDB().VerifyDB(Params(), &::ChainstateActive().CoinsTip(), check_level, check_depth);\n }\n \n static void BuriedForkDescPushBack(UniValue& softforks, const std::string &name, int height) EXCLUSIVE_LOCKS_REQUIRED(cs_main)"
      }
    ]
  }
]