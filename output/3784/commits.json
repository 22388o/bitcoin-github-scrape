[
  {
    "sha": "dc01ba7b0c203afa78c3312293e0432d680f5d63",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkYzAxYmE3YjBjMjAzYWZhNzhjMzMxMjI5M2UwNDMyZDY4MGY1ZDYz",
    "commit": {
      "author": {
        "name": "Cozz Lovan",
        "email": "cozzlovan@yahoo.com",
        "date": "2014-03-03T03:16:42Z"
      },
      "committer": {
        "name": "Cozz Lovan",
        "email": "cozzlovan@yahoo.com",
        "date": "2014-03-03T22:26:00Z"
      },
      "message": "Fix coin control sorts date as text",
      "tree": {
        "sha": "640a5691c5c5d50f18cf8a0bb3457f89369eaf56",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/640a5691c5c5d50f18cf8a0bb3457f89369eaf56"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dc01ba7b0c203afa78c3312293e0432d680f5d63",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dc01ba7b0c203afa78c3312293e0432d680f5d63",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/dc01ba7b0c203afa78c3312293e0432d680f5d63",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dc01ba7b0c203afa78c3312293e0432d680f5d63/comments",
    "author": {
      "login": "cozz",
      "id": 2814559,
      "node_id": "MDQ6VXNlcjI4MTQ1NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2814559?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cozz",
      "html_url": "https://github.com/cozz",
      "followers_url": "https://api.github.com/users/cozz/followers",
      "following_url": "https://api.github.com/users/cozz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cozz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cozz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cozz/subscriptions",
      "organizations_url": "https://api.github.com/users/cozz/orgs",
      "repos_url": "https://api.github.com/users/cozz/repos",
      "events_url": "https://api.github.com/users/cozz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cozz/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "cozz",
      "id": 2814559,
      "node_id": "MDQ6VXNlcjI4MTQ1NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2814559?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cozz",
      "html_url": "https://github.com/cozz",
      "followers_url": "https://api.github.com/users/cozz/followers",
      "following_url": "https://api.github.com/users/cozz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cozz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cozz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cozz/subscriptions",
      "organizations_url": "https://api.github.com/users/cozz/orgs",
      "repos_url": "https://api.github.com/users/cozz/repos",
      "events_url": "https://api.github.com/users/cozz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cozz/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "aefbf6e30cadaf77ebee44284c74cc5449dc173f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aefbf6e30cadaf77ebee44284c74cc5449dc173f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/aefbf6e30cadaf77ebee44284c74cc5449dc173f"
      }
    ],
    "stats": {
      "total": 49,
      "additions": 39,
      "deletions": 10
    },
    "files": [
      {
        "sha": "1e5a2efc943a21ae8095ce5271da992e7a511199",
        "filename": "src/qt/coincontroldialog.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 8,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dc01ba7b0c203afa78c3312293e0432d680f5d63/src/qt/coincontroldialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dc01ba7b0c203afa78c3312293e0432d680f5d63/src/qt/coincontroldialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/coincontroldialog.cpp?ref=dc01ba7b0c203afa78c3312293e0432d680f5d63",
        "patch": "@@ -125,6 +125,7 @@ CoinControlDialog::CoinControlDialog(QWidget *parent) :\n     ui->treeWidget->setColumnHidden(COLUMN_VOUT_INDEX, true);     // store vout index in this column, but dont show it\n     ui->treeWidget->setColumnHidden(COLUMN_AMOUNT_INT64, true);   // store amount int64 in this column, but dont show it\n     ui->treeWidget->setColumnHidden(COLUMN_PRIORITY_INT64, true); // store priority int64 in this column, but dont show it\n+    ui->treeWidget->setColumnHidden(COLUMN_DATE_INT64, true);     // store date int64 in this column, but dont show it\n \n     // default view is sorted by amount desc\n     sortView(COLUMN_AMOUNT_INT64, Qt::DescendingOrder);\n@@ -327,30 +328,26 @@ void CoinControlDialog::sortView(int column, Qt::SortOrder order)\n     sortColumn = column;\n     sortOrder = order;\n     ui->treeWidget->sortItems(column, order);\n-    ui->treeWidget->header()->setSortIndicator((sortColumn == COLUMN_AMOUNT_INT64 ? COLUMN_AMOUNT : (sortColumn == COLUMN_PRIORITY_INT64 ? COLUMN_PRIORITY : sortColumn)), sortOrder);\n+    ui->treeWidget->header()->setSortIndicator(getMappedColumn(sortColumn), sortOrder);\n }\n \n // treeview: clicked on header\n void CoinControlDialog::headerSectionClicked(int logicalIndex)\n {\n     if (logicalIndex == COLUMN_CHECKBOX) // click on most left column -> do nothing\n     {\n-        ui->treeWidget->header()->setSortIndicator((sortColumn == COLUMN_AMOUNT_INT64 ? COLUMN_AMOUNT : (sortColumn == COLUMN_PRIORITY_INT64 ? COLUMN_PRIORITY : sortColumn)), sortOrder);\n+        ui->treeWidget->header()->setSortIndicator(getMappedColumn(sortColumn), sortOrder);\n     }\n     else\n     {\n-        if (logicalIndex == COLUMN_AMOUNT) // sort by amount\n-            logicalIndex = COLUMN_AMOUNT_INT64;\n-\n-        if (logicalIndex == COLUMN_PRIORITY) // sort by priority\n-            logicalIndex = COLUMN_PRIORITY_INT64;\n+        logicalIndex = getMappedColumn(logicalIndex, false);\n \n         if (sortColumn == logicalIndex)\n             sortOrder = ((sortOrder == Qt::AscendingOrder) ? Qt::DescendingOrder : Qt::AscendingOrder);\n         else\n         {\n             sortColumn = logicalIndex;\n-            sortOrder = ((sortColumn == COLUMN_AMOUNT_INT64 || sortColumn == COLUMN_PRIORITY_INT64 || sortColumn == COLUMN_DATE || sortColumn == COLUMN_CONFIRMATIONS) ? Qt::DescendingOrder : Qt::AscendingOrder); // if amount,date,conf,priority then default => desc, else default => asc\n+            sortOrder = ((sortColumn == COLUMN_LABEL || sortColumn == COLUMN_ADDRESS) ? Qt::AscendingOrder : Qt::DescendingOrder); // if label or address then default => asc, else default => desc\n         }\n \n         sortView(sortColumn, sortOrder);\n@@ -731,6 +728,7 @@ void CoinControlDialog::updateView()\n \n             // date\n             itemOutput->setText(COLUMN_DATE, GUIUtil::dateTimeStr(out.tx->GetTxTime()));\n+            itemOutput->setText(COLUMN_DATE_INT64, strPad(QString::number(out.tx->GetTxTime()), 20, \" \"));\n \n             // confirmations\n             itemOutput->setText(COLUMN_CONFIRMATIONS, strPad(QString::number(out.nDepth), 8, \" \"));"
      },
      {
        "sha": "465e2a009d763d625df04cfcb827523497c390b5",
        "filename": "src/qt/coincontroldialog.h",
        "status": "modified",
        "additions": 27,
        "deletions": 1,
        "changes": 28,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dc01ba7b0c203afa78c3312293e0432d680f5d63/src/qt/coincontroldialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dc01ba7b0c203afa78c3312293e0432d680f5d63/src/qt/coincontroldialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/coincontroldialog.h?ref=dc01ba7b0c203afa78c3312293e0432d680f5d63",
        "patch": "@@ -65,9 +65,35 @@ class CoinControlDialog : public QDialog\n         COLUMN_TXHASH,\n         COLUMN_VOUT_INDEX,\n         COLUMN_AMOUNT_INT64,\n-        COLUMN_PRIORITY_INT64\n+        COLUMN_PRIORITY_INT64,\n+        COLUMN_DATE_INT64\n     };\n \n+    // some columns have a hidden column containing the value used for sorting\n+    int getMappedColumn(int column, bool fVisibleColumn = true)\n+    {\n+        if (fVisibleColumn)\n+        {\n+            if (column == COLUMN_AMOUNT_INT64)\n+                return COLUMN_AMOUNT;\n+            else if (column == COLUMN_PRIORITY_INT64)\n+                return COLUMN_PRIORITY;\n+            else if (column == COLUMN_DATE_INT64)\n+                return COLUMN_DATE;\n+        }\n+        else\n+        {\n+            if (column == COLUMN_AMOUNT)\n+                return COLUMN_AMOUNT_INT64;\n+            else if (column == COLUMN_PRIORITY)\n+                return COLUMN_PRIORITY_INT64;\n+            else if (column == COLUMN_DATE)\n+                return COLUMN_DATE_INT64;\n+        }\n+\n+        return column;\n+    }\n+\n private slots:\n     void showMenu(const QPoint &);\n     void copyAmount();"
      },
      {
        "sha": "cd1c0ffa18ccce8a7e0e7e4143506c3a8d540469",
        "filename": "src/qt/forms/coincontroldialog.ui",
        "status": "modified",
        "additions": 6,
        "deletions": 1,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dc01ba7b0c203afa78c3312293e0432d680f5d63/src/qt/forms/coincontroldialog.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dc01ba7b0c203afa78c3312293e0432d680f5d63/src/qt/forms/coincontroldialog.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/coincontroldialog.ui?ref=dc01ba7b0c203afa78c3312293e0432d680f5d63",
        "patch": "@@ -428,7 +428,7 @@\n       <bool>false</bool>\n      </property>\n      <property name=\"columnCount\">\n-      <number>11</number>\n+      <number>12</number>\n      </property>\n      <attribute name=\"headerShowSortIndicator\" stdset=\"0\">\n       <bool>true</bool>\n@@ -494,6 +494,11 @@\n        <string/>\n       </property>\n      </column>\n+     <column>\n+      <property name=\"text\">\n+       <string/>\n+      </property>\n+     </column>\n     </widget>\n    </item>\n    <item>"
      }
    ]
  }
]