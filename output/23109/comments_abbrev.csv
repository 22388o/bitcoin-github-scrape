dougEfresh,2021-09-27 18:27:13,Updated with `increase_max_outbound`,https://github.com/bitcoin/bitcoin/pull/23109#issuecomment-928160714,928160714,
naumenkogs,2021-09-28 08:14:09,"Another way to handle given TODO is to drop it altogether :)\n\nIf the goal is to allow download peers to bypass the limit, this is already done:\n```\n    if (m_connman.OutboundTargetReached(true) &&\n        (((pindexBestHeader != nullptr) && (pindexBestHeader->GetBlockTime() - pindex->GetBlockTime() > HISTORICAL_BLOCK_AGE)) || inv.IsMsgFilteredBlk()) &&\n        !pfrom.HasPermission(NetPe",https://github.com/bitcoin/bitcoin/pull/23109#issuecomment-928961482,928961482,
jonatack,2021-09-28 08:48:58,"> If the goal is to allow download peers to bypass the limit, this is already done:\n\nThe logic crosses layers and files, so maybe belt and suspenders (and could add documentation).\n\n> If the goal is to drop the DOWNLOAD part from stats displayed to the user, then I'm not sure it's a good idea? It's good to see we sent a lot of bytes to the DOWNLOAD peer.\n\nISTM `totalbytessent` in getne",https://github.com/bitcoin/bitcoin/pull/23109#issuecomment-928987607,928987607,
naumenkogs,2021-09-28 09:51:32,"Okay, let me restate my idea. The changes only applies to the nodes with DOWNLOAD permission.\n\nIn the current master, such nodes ""waste"" bytesSent which could be used towards MEMPOOL messages by downloading historic blocks.\nAfter this change, they won't be accounted: no matter how much historic blocks they downloaded, that won't affect bandwidth limits for MEMPOOL.\nCode:\n```\n        if",https://github.com/bitcoin/bitcoin/pull/23109#issuecomment-929034890,929034890,
jonatack,2021-09-28 10:14:42,"> the first thing we should do here is document this stuff better.\n\n:+1: ",https://github.com/bitcoin/bitcoin/pull/23109#issuecomment-929051866,929051866,
dougEfresh,2021-09-29 07:56:38,"After seeing these comments and reviewing the code, I agree with @naumenkogs, this change isn't really worth it. So I'll close this and submit another PR which will only remove the [TODO](https://github.com/bitcoin/bitcoin/blob/master/src/net.cpp#L2872)\n",https://github.com/bitcoin/bitcoin/pull/23109#issuecomment-929931982,929931982,
dougEfresh,2021-09-29 08:03:58,Removing TODO:  https://github.com/bitcoin/bitcoin/pull/23128,https://github.com/bitcoin/bitcoin/pull/23109#issuecomment-929937238,929937238,
jonatack,2021-09-27 18:05:39,"Per doc/developer-notes.md, brackets are generally required for conditionals over one line due to CVE-2014-1266, e.g. the Apple ""goto fail"" vulnerability, https://dwheeler.com/essays/apple-goto-fail\n```diff\n-    if (increaseMaxOutbound)\n+    if (increaseMaxOutbound) {\n         nMaxOutboundTotalBytesSentInCycle += bytes;\n+    }\n```\n",https://github.com/bitcoin/bitcoin/pull/23109#discussion_r716926016,716926016,src/net.cpp
jonatack,2021-09-27 18:06:39,"nit, per doc/developer-notes.md current naming style is snakecase, e.g. `increase_max_outbound`",https://github.com/bitcoin/bitcoin/pull/23109#discussion_r716926645,716926645,src/net.h
naumenkogs,2021-09-28 09:53:58,I don't find the name of this new variable particularly informative... how about `bypass_limit`?,https://github.com/bitcoin/bitcoin/pull/23109#discussion_r717415222,717415222,src/net.cpp
