paveljanik,2016-02-13T11:07:19Z,"All builds failed with:\n\n```\nlibtool is required, please install it first\n```\n\nEmpty `LIBTOOLIZE` is valid use case! Even `-x` doesn't help here.\n\nThe test should be rewritten IMO. But it looks to me that some part in the master is missing, something like:\n\n``` shell\n[ -z ${LIBTOOLIZE} ] && LIBTOOLIZE=""`which libtoolize 2>/dev/null`""\n```\n\nThen your code makes sense (after `-z` -> `-x",https://github.com/bitcoin/bitcoin/pull/7530#issuecomment-183643534,183643534,
knocte,2016-02-13T11:33:00Z,> Empty LIBTOOLIZE is valid use case!\n\nSo $LIBTOOLIZE is actually not used in some build? What use case is that? \n,https://github.com/bitcoin/bitcoin/pull/7530#issuecomment-183647414,183647414,
paveljanik,2016-02-13T11:46:36Z,"Right now, you _can_ `export LIBTOOLIZE=""""` and finish the build. With your change, you can't. Looks weird, yes. But it is this way right now.\n\nThe variable `LIBTOOLIZE` is used by autoconf. It can be empty. E.g. try setting it to NONSENSE and run `autoreconf`:\n\n```\nCan't exec ""NONSENSE"": No such file or directory at /opt/local/share/autoconf/Autom4te/FileUtils.pm line 345, <GEN7> line 5.\nau",https://github.com/bitcoin/bitcoin/pull/7530#issuecomment-183649373,183649373,
knocte,2016-02-15T06:54:38Z,"@paveljanik ok thanks for the insight. I've force-pushed new approach following your advice, which works in my box (ubuntu 15.10 fyi) and passes in travis too.\n",https://github.com/bitcoin/bitcoin/pull/7530#issuecomment-184084922,184084922,
paveljanik,2016-02-15T16:46:33Z,@knocte Can you please rebase?\n,https://github.com/bitcoin/bitcoin/pull/7530#issuecomment-184294820,184294820,
knocte,2016-02-15T17:23:54Z,"@paveljanik sure, done\n",https://github.com/bitcoin/bitcoin/pull/7530#issuecomment-184313646,184313646,
theuni,2016-02-16T05:29:56Z,I think this might be fixed more nicely with an m4_ifdef in configure.ac ?\n\nEdit: I think nevermind that.\n,https://github.com/bitcoin/bitcoin/pull/7530#issuecomment-184527406,184527406,
knocte,2016-02-16T07:02:29Z,"> What about this? `LIBTOOLIZE=""`which glibtoolize 2>/dev/null`"" || LIBTOOLIZE=""`which libtoolize 2>/dev/null`""`\n\n@paveljanik Yeah I like your improvements, but I guess you didn't test it :-P I tried to beautify it myself too, but there's a `set -e` directive at the start of the file that would make the execution abort if any of the `which` calls fails. But with the current approach in the pull ",https://github.com/bitcoin/bitcoin/pull/7530#issuecomment-184552277,184552277,
laanwj,2016-02-17T08:51:37Z,> @theuni why nevermind? I could explore that. But maybe in a subsequent commit/PR?\n\nProbably a chicken-and-egg problem :-)\n,https://github.com/bitcoin/bitcoin/pull/7530#issuecomment-185102181,185102181,
paveljanik,2016-02-17T16:07:41Z,"@knocte Yes, I do not usually test shell scripts (only in own PRs ;-). What about this? You can just add `|| :` at the end of the checks or use:\n\n``` shell\n# Find executable (g)libtoolize or warn user early\nif [ -z ${LIBTOOLIZE} ]; then\n  LIBTOOLIZE=""`which glibtoolize 2>/dev/null`"" || LIBTOOLIZE=""`which libtoolize 2>/dev/null`"" || \\n  [ ! -x ""$LIBTOOLIZE"" ] && (\n       echo ""(g)libtoolize ",https://github.com/bitcoin/bitcoin/pull/7530#issuecomment-185274514,185274514,
laanwj,2016-04-14T09:25:50Z,So did anyone test this or check this out further?\n,https://github.com/bitcoin/bitcoin/pull/7530#issuecomment-209846092,209846092,
paveljanik,2016-04-22T20:18:50Z,I didn't. @knocte?\n,https://github.com/bitcoin/bitcoin/pull/7530#issuecomment-213575633,213575633,
arowser,2016-05-25T08:44:55Z,Can one of the admins verify this patch?\n,https://github.com/bitcoin/bitcoin/pull/7530#issuecomment-221510730,221510730,
laanwj,2016-06-08T12:02:20Z,Closing due to lack of activity\n,https://github.com/bitcoin/bitcoin/pull/7530#issuecomment-224568701,224568701,
laanwj,2016-02-13T10:26:42Z,"`-z` is not the right check here, you probably want `! -x` to check for executableness\n",https://github.com/bitcoin/bitcoin/pull/7530#discussion_r52826193,52826193,autogen.sh
