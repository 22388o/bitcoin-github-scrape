jonasschnelli,2017-05-04T12:04:19Z,"Not sure about this.\nThe linux man page states:\n\n`The pw_dir field contains the name of the initial working directory of the user. Login programs use the value of this field to initialize the HOME environment variable for the login shell. [====>] An application that wants to determine its user's home directory should inspect the value of HOME (rather than the value getpwuid(getuid())->pw_dir",https://github.com/bitcoin/bitcoin/pull/10336#issuecomment-299166022,299166022,
snvakula,2017-05-04T14:08:07Z,"jonasschnelli, when you are root, or run commands by root via sudo, your HOME env is '/root'. So when you try to execute 'sudo bitcoin-cli getinfo' with u+s flag, 'bitcoin-cli' will be ran by user 'bitcoin', but HOME env will be still '/root'. In this case, 'bitcoin-cli' cannot find the bitcoind without current patch.",https://github.com/bitcoin/bitcoin/pull/10336#issuecomment-299195610,299195610,
laanwj,2017-05-11T05:27:56Z,"I'd prefer not to introduce this dependency. Most straightforward way would be to make a script that sets $HOME correctly before calling the tools, or passes `-datadir` or `-conf` options explicitly.\n\nOTOH:\n\nPlease don't set-UID `bitcoin-cli`. This **cannot** be guaranteed to be secure, there may be lots of ways to get the tool to do something with the permissions that it shouldn't.\n\nT",https://github.com/bitcoin/bitcoin/pull/10336#issuecomment-300686040,300686040,
laanwj,2017-05-23T16:52:21Z,Closing this for above reasons (and lack of other feedback),https://github.com/bitcoin/bitcoin/pull/10336#issuecomment-303464246,303464246,
