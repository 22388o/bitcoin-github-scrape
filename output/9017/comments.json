[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258314207",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#issuecomment-258314207",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9017",
    "id": 258314207,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODMxNDIwNw==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-04T00:29:52Z",
    "updated_at": "2016-11-04T00:30:17Z",
    "author_association": "MEMBER",
    "body": "Why do you need GetWitnessKeyID in keystore? That doesn't seem to be something that belongs in the interface, and could just be implemented on top in the signing logic.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258314207/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258479838",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#issuecomment-258479838",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9017",
    "id": 258479838,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODQ3OTgzOA==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-04T16:28:36Z",
    "updated_at": "2016-11-04T16:28:36Z",
    "author_association": "MEMBER",
    "body": "@sipa it certainly does not need to be there and is likely inappropriate. I'm not sure exactly where to put it:\nWill require access to a wallet, and is used in rpcmisc, rpcdump, and rpcwallet.cpp.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258479838/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258480675",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#issuecomment-258480675",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9017",
    "id": 258480675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODQ4MDY3NQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-04T16:31:49Z",
    "updated_at": "2016-11-04T16:31:49Z",
    "author_association": "MEMBER",
    "body": "It only needs access to a keystore, no? Not to a wallet.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258480675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258481111",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#issuecomment-258481111",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9017",
    "id": 258481111,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODQ4MTExMQ==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-04T16:33:34Z",
    "updated_at": "2016-11-04T16:34:03Z",
    "author_association": "MEMBER",
    "body": "@sipa yes, I misspoke \n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258481111/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258902484",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#issuecomment-258902484",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9017",
    "id": 258902484,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODkwMjQ4NA==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-07T17:27:43Z",
    "updated_at": "2016-11-07T17:27:43Z",
    "author_association": "MEMBER",
    "body": "Moved GetWitnessKeyID outside of Keystore and addressed some nits.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258902484/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/275232558",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#issuecomment-275232558",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9017",
    "id": 275232558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTIzMjU1OA==",
    "user": {
      "login": "jtimon",
      "id": 1008458,
      "node_id": "MDQ6VXNlcjEwMDg0NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1008458?u=636a89c913ac407f52bb8d57c4fff384b98f421f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtimon",
      "html_url": "https://github.com/jtimon",
      "followers_url": "https://api.github.com/users/jtimon/followers",
      "following_url": "https://api.github.com/users/jtimon/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtimon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
      "organizations_url": "https://api.github.com/users/jtimon/orgs",
      "repos_url": "https://api.github.com/users/jtimon/repos",
      "events_url": "https://api.github.com/users/jtimon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtimon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-25T21:05:17Z",
    "updated_at": "2017-01-25T21:05:17Z",
    "author_association": "MEMBER",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/275232558/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283163157",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#issuecomment-283163157",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9017",
    "id": 283163157,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MzE2MzE1Nw==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-28T21:17:37Z",
    "updated_at": "2017-02-28T21:17:37Z",
    "author_association": "MEMBER",
    "body": "I'm going to close this.\r\n\r\nSegwit activation is a bit away so there's not much rush for this code, and we're expecting a new address format regardless so we'll likely only be supporting that.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283163157/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323375819",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#issuecomment-323375819",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9017",
    "id": 323375819,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzM3NTgxOQ==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-18T14:54:48Z",
    "updated_at": "2017-08-18T14:54:48Z",
    "author_association": "MEMBER",
    "body": "> we're expecting a new address format regardless so we'll likely only be supporting that.\r\n\r\nUnlikely. Current wallets, even 0.15, can't send to bech32, so we'll need to support P2SH-wrapped addresses at least initially.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323375819/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323406140",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#issuecomment-323406140",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9017",
    "id": 323406140,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzQwNjE0MA==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-18T16:55:46Z",
    "updated_at": "2017-08-18T16:55:46Z",
    "author_association": "MEMBER",
    "body": "Re-opening since segwit is actually activating.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323406140/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323410967",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#issuecomment-323410967",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9017",
    "id": 323410967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzQxMDk2Nw==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-18T17:17:26Z",
    "updated_at": "2017-08-18T17:17:26Z",
    "author_association": "MEMBER",
    "body": "oops, @luke-jr opened his own pared-down copy, closing",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323410967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/84996167",
    "pull_request_review_id": 5738882,
    "id": 84996167,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg0OTk2MTY3",
    "diff_hunk": "@@ -277,6 +277,16 @@ bool CBitcoinAddress::GetKeyID(CKeyID& keyID) const\n     return true;\n }\n \n+bool CBitcoinAddress::GetScriptID(CScriptID& scriptID) const\n+{\n+    if (!IsValid() || vchVersion != Params().Base58Prefix(CChainParams::SCRIPT_ADDRESS))\n+        return false;\n+    uint160 id;\n+    memcpy(&id, &vchData[0], 20);",
    "path": "src/base58.cpp",
    "position": null,
    "original_position": 9,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "38186e2acbd51c1a6108f0e9b0525c5e9cda8614",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is safe, but technically you are copying the vchData, which is specified to be zero_after_free memory, so you lose any guarantee that isn't somewhere in memory still.\n\nYou also may as well just directly use &scriptID (or scriptID.begin()) here rather than creating a temp.\n",
    "created_at": "2016-10-25T20:41:31Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r84996167",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/84996167"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r84996167"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/84996167/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 285,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86399208",
    "pull_request_review_id": 7060794,
    "id": 86399208,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2Mzk5MjA4",
    "diff_hunk": "@@ -135,6 +135,12 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n             int nRequired;\n             ExtractDestinations(subscript, whichType, addresses, nRequired);\n             obj.push_back(Pair(\"script\", GetTxnOutputType(whichType)));\n+            CKeyID keyID;\n+            CPubKey pubkey;\n+            if (pwalletMain->GetWitnessKeyID(scriptID, keyID) &&\n+                pwalletMain->GetPubKey(keyID, pubkey) && pubkey.IsCompressed()) {",
    "path": "src/rpc/misc.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "8f001d24c7f93e83f8c9c75353312e7a31e6c1de",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Curious when the pubkey.IsCompressed condition would not be true? Might be nice to note when the condition is expected in a comment. Alternately it might make more sense as an assertion if it's never expected, or as a separate JSON attribute like in the CKeyID handler above (line 123): `obj.push_back(Pair(\"iscompressed\", vchPubKey.IsCompressed()));`\n",
    "created_at": "2016-11-03T17:29:22Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86399208",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86399208"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86399208"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86399208/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 141,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86402388",
    "pull_request_review_id": 7060794,
    "id": 86402388,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2NDAyMzg4",
    "diff_hunk": "@@ -277,6 +277,20 @@ bool CCryptoKeyStore::GetPubKey(const CKeyID &address, CPubKey& vchPubKeyOut) co\n     return false;\n }\n \n+bool CCryptoKeyStore::GetWitnessKeyID(const CScriptID &scriptID, CKeyID &keyID) const",
    "path": "src/wallet/crypter.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "f53bc8be5b51d0934d32f3af4ac3d963978c354a",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Unless I'm missing something, nothing in this function seems specific to the `CCryptoKeyStore` type as opposed to a more general type like `CKeyStore`. If this is the case, it might be better to make this a `CKeyStore` member or a standalone function taking a `const CKeyStore&`.\n",
    "created_at": "2016-11-03T17:44:15Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86402388",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86402388"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86402388"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86402388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 280,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86407532",
    "pull_request_review_id": 7060794,
    "id": 86407532,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2NDA3NTMy",
    "diff_hunk": "@@ -277,6 +277,20 @@ bool CCryptoKeyStore::GetPubKey(const CKeyID &address, CPubKey& vchPubKeyOut) co\n     return false;\n }\n \n+bool CCryptoKeyStore::GetWitnessKeyID(const CScriptID &scriptID, CKeyID &keyID) const\n+{\n+    CScript subscript;\n+    int witnessVer = 0;\n+    std::vector<unsigned char> witnessProgram;\n+    if (!GetCScript(scriptID, subscript) ||\n+        !subscript.IsWitnessProgram(witnessVer, witnessProgram) ||\n+        witnessProgram.size() != 20) {",
    "path": "src/wallet/crypter.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "f53bc8be5b51d0934d32f3af4ac3d963978c354a",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The size 20 check and explicit uint160 construction below seem like low level encoding details that are out of place here. Maybe this logic could go into to a new CScript method like: `bool CScript::GetWitnessKeyID(CKeyID& keyID)` or `bool CScript::GetV0WitnessKeyID(uint160& keyID)`.\n",
    "created_at": "2016-11-03T18:07:12Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86407532",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86407532"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86407532"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86407532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 287,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86409948",
    "pull_request_review_id": 7060794,
    "id": 86409948,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2NDA5OTQ4",
    "diff_hunk": "@@ -277,6 +277,16 @@ bool CBitcoinAddress::GetKeyID(CKeyID& keyID) const\n     return true;\n }\n \n+bool CBitcoinAddress::GetScriptID(CScriptID& scriptID) const\n+{\n+    if (!IsValid() || vchVersion != Params().Base58Prefix(CChainParams::SCRIPT_ADDRESS))\n+        return false;\n+    uint160 id;\n+    memcpy(&id, &vchData[0], 20);",
    "path": "src/base58.cpp",
    "position": null,
    "original_position": 9,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "38186e2acbd51c1a6108f0e9b0525c5e9cda8614",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should at least replace `&id` with id.begin()` on this line to avoid making an assumption about the layout of uint160 objects.\n",
    "created_at": "2016-11-03T18:17:28Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86409948",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86409948"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86409948"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86409948/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 285,
    "side": "RIGHT",
    "in_reply_to_id": 84996167
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86412900",
    "pull_request_review_id": 7060794,
    "id": 86412900,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2NDEyOTAw",
    "diff_hunk": "@@ -539,11 +539,14 @@ UniValue dumpprivkey(const JSONRPCRequest& request)\n \n     string strAddress = request.params[0].get_str();\n     CBitcoinAddress address;\n-    if (!address.SetString(strAddress))\n+    if (!address.SetString(strAddress) || !address.IsValid())",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "70ce4ed096d782970f6ddea29307919ee2a3db3a",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This change makes the error message below somewhat inaccurate. Maybe replace `\"Invalid Bitcoin address\"` with `string(\"Invalid Bitcoin address for network \") + Params().NetworkIDString()` below.\n",
    "created_at": "2016-11-03T18:30:44Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86412900",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86412900"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86412900"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86412900/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 542,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86413633",
    "pull_request_review_id": 7060794,
    "id": 86413633,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2NDEzNjMz",
    "diff_hunk": "@@ -1016,51 +1016,6 @@ UniValue addmultisigaddress(const JSONRPCRequest& request)\n     return CBitcoinAddress(innerID).ToString();\n }\n \n-class Witnessifier : public boost::static_visitor<bool>",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "2dce040ae0a252e77e7aa81c8821377fc82630ae",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe note in commit description that this change is moveonly (no code changes).\n",
    "created_at": "2016-11-03T18:34:16Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86413633",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86413633"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86413633"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86413633/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1019,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86416529",
    "pull_request_review_id": 7060794,
    "id": 86416529,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2NDE2NTI5",
    "diff_hunk": "@@ -986,4 +986,49 @@ class CAccount\n     }\n };\n \n+class Witnessifier : public boost::static_visitor<bool>",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 4,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "2dce040ae0a252e77e7aa81c8821377fc82630ae",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It might be easier for callers if instead of exposing the `Witnessifier` class in wallet.h, you expose a simpler function that can be called by both `importprivkey` and `addwitnessaddress` and hides all the boost visitor implementation details:\n\n`bool AddWitnessCScript(CTxDestination dest, CScriptID &id);`\n\nThis could even be a CWallet member function.\n",
    "created_at": "2016-11-03T18:47:08Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86416529",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86416529"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86416529"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86416529/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 989,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86421555",
    "pull_request_review_id": 7060794,
    "id": 86421555,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2NDIxNTU1",
    "diff_hunk": "@@ -133,6 +133,14 @@ UniValue importprivkey(const JSONRPCRequest& request)\n         pwalletMain->MarkDirty();\n         pwalletMain->SetAddressBook(vchAddress, strLabel, \"receive\");\n \n+        if (IsWitnessEnabled(chainActive.Tip(), Params().GetConsensus()) || GetBoolArg(\"-walletprematurewitness\", false)) {\n+            Witnessifier w;",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "1237cee5ab3506188fec78d33577f49ac78cd570",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This block of code seems very similar to code in `addwitnessaddress`:\n\nhttps://github.com/instagibbs/bitcoin/blob/1237cee5ab3506188fec78d33577f49ac78cd570/src/wallet/rpcwallet.cpp#L1053\n\nexcept this ignores the apply_visitor return value and passes a nonempty strlabel to SetAddressBook. Can both places be changed to call a common function?\n\nAlso is it ok to ignore the apply_visitor return value here? Consider adding a comment explaining why if it is ok.\n",
    "created_at": "2016-11-03T19:13:10Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86421555",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86421555"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86421555"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86421555/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 137,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86424969",
    "pull_request_review_id": 7060794,
    "id": 86424969,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2NDI0OTY5",
    "diff_hunk": "@@ -133,6 +133,14 @@ UniValue importprivkey(const JSONRPCRequest& request)\n         pwalletMain->MarkDirty();\n         pwalletMain->SetAddressBook(vchAddress, strLabel, \"receive\");\n \n+        if (IsWitnessEnabled(chainActive.Tip(), Params().GetConsensus()) || GetBoolArg(\"-walletprematurewitness\", false)) {",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "1237cee5ab3506188fec78d33577f49ac78cd570",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Would it be useful to callers to have an error message in the case where an update to the address book is skipped because this condition is false? Either way an explanatory comment might be good here.\n",
    "created_at": "2016-11-03T19:32:01Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86424969",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86424969"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86424969"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86424969/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 136,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86429536",
    "pull_request_review_id": 7090259,
    "id": 86429536,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2NDI5NTM2",
    "diff_hunk": "@@ -135,6 +135,12 @@ class DescribeAddressVisitor : public boost::static_visitor<UniValue>\n             int nRequired;\n             ExtractDestinations(subscript, whichType, addresses, nRequired);\n             obj.push_back(Pair(\"script\", GetTxnOutputType(whichType)));\n+            CKeyID keyID;\n+            CPubKey pubkey;\n+            if (pwalletMain->GetWitnessKeyID(scriptID, keyID) &&\n+                pwalletMain->GetPubKey(keyID, pubkey) && pubkey.IsCompressed()) {",
    "path": "src/rpc/misc.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "8f001d24c7f93e83f8c9c75353312e7a31e6c1de",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "True an assert may make the most sense here. It really shouldn't happen, and if it is we want to find out as soon as possible to avoid loss of funds.\n",
    "created_at": "2016-11-03T19:56:37Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86429536",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86429536"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86429536"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86429536/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 141,
    "side": "RIGHT",
    "in_reply_to_id": 86399208
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86429920",
    "pull_request_review_id": 7090620,
    "id": 86429920,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2NDI5OTIw",
    "diff_hunk": "@@ -277,6 +277,20 @@ bool CCryptoKeyStore::GetPubKey(const CKeyID &address, CPubKey& vchPubKeyOut) co\n     return false;\n }\n \n+bool CCryptoKeyStore::GetWitnessKeyID(const CScriptID &scriptID, CKeyID &keyID) const",
    "path": "src/wallet/crypter.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "f53bc8be5b51d0934d32f3af4ac3d963978c354a",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "CKeyStore doesn't have access to keys if they're crypted.\n\nA standalone function may make more sense, I'm really ambivalent about this.\n",
    "created_at": "2016-11-03T19:58:22Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86429920",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86429920"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86429920"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86429920/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 280,
    "side": "RIGHT",
    "in_reply_to_id": 86402388
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86545230",
    "pull_request_review_id": 7199767,
    "id": 86545230,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2NTQ1MjMw",
    "diff_hunk": "@@ -277,6 +277,20 @@ bool CCryptoKeyStore::GetPubKey(const CKeyID &address, CPubKey& vchPubKeyOut) co\n     return false;\n }\n \n+bool CCryptoKeyStore::GetWitnessKeyID(const CScriptID &scriptID, CKeyID &keyID) const",
    "path": "src/wallet/crypter.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "f53bc8be5b51d0934d32f3af4ac3d963978c354a",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hmm, actually you're right, nothing in particular needs a CCryptoKeyStore. I thoroughly convinced myself otherwise previously somehow. Regardless, I'll divorce it from the keystore altogether.\n",
    "created_at": "2016-11-04T13:33:36Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86545230",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86545230"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86545230"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86545230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 280,
    "side": "RIGHT",
    "in_reply_to_id": 86402388
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86552294",
    "pull_request_review_id": 7206541,
    "id": 86552294,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2NTUyMjk0",
    "diff_hunk": "@@ -133,6 +133,14 @@ UniValue importprivkey(const JSONRPCRequest& request)\n         pwalletMain->MarkDirty();\n         pwalletMain->SetAddressBook(vchAddress, strLabel, \"receive\");\n \n+        if (IsWitnessEnabled(chainActive.Tip(), Params().GetConsensus()) || GetBoolArg(\"-walletprematurewitness\", false)) {\n+            Witnessifier w;",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "1237cee5ab3506188fec78d33577f49ac78cd570",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not sure I should over-optimize this for 2 instances. Although I'm also getting concerned about the logic in this commit.\n\n1) If the user already has the p2pkh key in address book but not the nested version, it won't rescan(just a bug I can fix)\n2) I'm concerned of the user flow here. As soon as segwit activates it starts adding segwit addresses to the address book. This kind of behavior would be really unsafe for `getnewaddress` and it seems unsafe for the same reason here. It might make more sense to simply tell the user to importprivkey, then `addwitnessaddress`. That is literally equivalent.\n\nIn future wallet updates when `getnewaddress` is flipped to nested p2sh using some command line init variable, we can have this flip as well, or simply add both as a precaution.\n\nUnless there is a strong counter-argument here I think I should just delete this commit.\n",
    "created_at": "2016-11-04T14:10:04Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86552294",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86552294"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86552294"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86552294/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 137,
    "side": "RIGHT",
    "in_reply_to_id": 86421555
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86554049",
    "pull_request_review_id": 7208234,
    "id": 86554049,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg2NTU0MDQ5",
    "diff_hunk": "@@ -986,4 +986,49 @@ class CAccount\n     }\n };\n \n+class Witnessifier : public boost::static_visitor<bool>",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 4,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "2dce040ae0a252e77e7aa81c8821377fc82630ae",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sounds like a good refactor for another PR, especially if I get rid of importprivkey commit. I'll drop this commit as well otherwise.\n",
    "created_at": "2016-11-04T14:19:00Z",
    "updated_at": "2017-02-16T11:38:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86554049",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86554049"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r86554049"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86554049/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 989,
    "side": "RIGHT",
    "in_reply_to_id": 86416529
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/99279048",
    "pull_request_review_id": 19950905,
    "id": 99279048,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk5Mjc5MDQ4",
    "diff_hunk": "@@ -372,6 +383,15 @@ UniValue verifymessage(const JSONRPCRequest& request)\n     if (!pubkey.RecoverCompact(ss.GetHash(), vchSig))\n         return false;\n \n+    //Possibly p2sh-p2wpkh\n+    if (scriptID != CScriptID()) {\n+        CScriptID nestedScriptID = CScriptID(CScript() << OP_0 << ToByteVector(pubkey.GetID()));\n+        //Failure here could mean address is any other type of p2sh\n+        if (scriptID != nestedScriptID) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Given P2SH address does not match the signature.\");\n+        }\n+    }\n+",
    "path": "src/rpc/misc.cpp",
    "position": 57,
    "original_position": 57,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'm not sure we want to extend the current message signing to new address formats as-is. Maybe better to leave this out for now...",
    "created_at": "2017-02-03T05:28:27Z",
    "updated_at": "2017-02-03T05:28:27Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r99279048",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/99279048"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r99279048"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/99279048/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 394,
    "original_line": 394,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103542630",
    "pull_request_review_id": 24332605,
    "id": 103542630,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMzU0MjYzMA==",
    "diff_hunk": "@@ -204,7 +212,8 @@ UniValue validateaddress(const JSONRPCRequest& request)\n         if (pwalletMain && pwalletMain->mapAddressBook.count(dest))\n             ret.push_back(Pair(\"account\", pwalletMain->mapAddressBook[dest].name));\n         CKeyID keyID;\n-        if (pwalletMain && address.GetKeyID(keyID) && pwalletMain->mapKeyMetadata.count(keyID) && !pwalletMain->mapKeyMetadata[keyID].hdKeypath.empty())\n+        CScriptID scriptID;\n+        if (pwalletMain && (address.GetKeyID(keyID) || (address.GetScriptID(scriptID) && GetWitnessKeyID(pwalletMain, scriptID, keyID))) && pwalletMain->mapKeyMetadata.count(keyID) && !pwalletMain->mapKeyMetadata[keyID].hdKeypath.empty())",
    "path": "src/rpc/misc.cpp",
    "position": 21,
    "original_position": 21,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "A bit hard to interpret this line. Maybe\r\n```C++\r\n        if (pwalletMain &&\r\n            (address.GetKeyID(keyID) || (address.GetScriptID(scriptID) && GetWitnessKeyID(pwalletMain, scriptID, keyID))) &&\r\n            pwalletMain->mapKeyMetadata.count(keyID) &&\r\n            !pwalletMain->mapKeyMetadata[keyID].hdKeypath.empty())\r\n```\r\nI also think a simple inline method like\r\n```C++\r\ninline bool FetchWalletKeyID(CWallet* pwallet, const CBitcoinAddress& address, CKeyID& keyID)\r\n{\r\n    CScriptID scriptID;\r\n    return pwallet && (address.GetKeyID(keyID) || (address.GetScriptID(scriptID) && GetWitnessKeyID(pwallet, scriptID, keyID)));\r\n}\r\n```\r\nwould help, as it would reduce the above to \r\n```C++\r\n        if (FetchWalletKeyID(pwalletMain, address, keyID) &&\r\n            pwalletMain->mapKeyMetadata.count(keyID) &&\r\n            !pwalletMain->mapKeyMetadata[keyID].hdKeypath.empty())\r\n```\r\nAlso see line 255 below.",
    "created_at": "2017-02-28T20:18:00Z",
    "updated_at": "2017-02-28T21:12:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r103542630",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103542630"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r103542630"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103542630/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 216,
    "original_line": 216,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103548552",
    "pull_request_review_id": 24332605,
    "id": 103548552,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMzU0ODU1Mg==",
    "diff_hunk": "@@ -271,9 +271,15 @@ bool CBitcoinAddress::GetKeyID(CKeyID& keyID) const\n {\n     if (!IsValid() || vchVersion != Params().Base58Prefix(CChainParams::PUBKEY_ADDRESS))\n         return false;\n-    uint160 id;\n-    memcpy(&id, &vchData[0], 20);\n-    keyID = CKeyID(id);\n+    memcpy(keyID.begin(), &vchData[0], 20);\n+    return true;\n+}\n+\n+bool CBitcoinAddress::GetScriptID(CScriptID& scriptID) const",
    "path": "src/base58.cpp",
    "position": 11,
    "original_position": 11,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I know this is done a lot elsewhere, but I think `Get` prefixed methods should return the result, not store it in a by-ref parameter. It's super easy to get confused especially with lines like `if (GetX(y)) ...`, where you presume it's some operation based on `y` returning an `x`, when in reality `y` is set and something else is returned.\r\n\r\nMaybe use a different verb like `FetchScriptID` or `MakeScriptID` to hint at the difference.",
    "created_at": "2017-02-28T20:49:35Z",
    "updated_at": "2017-02-28T21:12:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r103548552",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103548552"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r103548552"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103548552/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 278,
    "original_line": 278,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103548776",
    "pull_request_review_id": 24332605,
    "id": 103548776,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMzU0ODc3Ng==",
    "diff_hunk": "@@ -3740,3 +3740,17 @@ bool CMerkleTx::AcceptToMemoryPool(const CAmount& nAbsurdFee, CValidationState&\n {\n     return ::AcceptToMemoryPool(mempool, state, *this, true, NULL, false, nAbsurdFee);\n }\n+\n+bool GetWitnessKeyID(const CKeyStore* store, const CScriptID &scriptID, CKeyID &keyID)",
    "path": "src/wallet/wallet.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "See previous comment regarding `Get` prefix.",
    "created_at": "2017-02-28T20:50:48Z",
    "updated_at": "2017-02-28T21:12:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r103548776",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103548776"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r103548776"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103548776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3744,
    "original_line": 3744,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103551019",
    "pull_request_review_id": 24332605,
    "id": 103551019,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMzU1MTAxOQ==",
    "diff_hunk": "@@ -242,7 +251,8 @@ CScript _createmultisig_redeemScript(const UniValue& params)\n         if (pwalletMain && address.IsValid())\n         {\n             CKeyID keyID;\n-            if (!address.GetKeyID(keyID))\n+            CScriptID scriptID;\n+            if (!address.GetKeyID(keyID) && (!address.GetScriptID(scriptID) || !GetWitnessKeyID(pwalletMain, scriptID, keyID)))",
    "path": "src/rpc/misc.cpp",
    "position": 31,
    "original_position": 31,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Assuming an inline method as described on line 216 is added,\r\n```C++\r\n        if (!address.GetKeyID(keyID) && (!address.GetScriptID(scriptID) || !GetWitnessKeyID(pwalletMain, scriptID, keyID)))\r\n```\r\n->\r\n```C++\r\n        if (!FetchWalletKeyID(pwalletMain, address, keyID))\r\n```\r\n",
    "created_at": "2017-02-28T21:03:39Z",
    "updated_at": "2017-02-28T21:12:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r103551019",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103551019"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r103551019"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103551019/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 255,
    "original_line": 255,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103552331",
    "pull_request_review_id": 24332605,
    "id": 103552331,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMzU1MjMzMQ==",
    "diff_hunk": "@@ -542,8 +542,11 @@ UniValue dumpprivkey(const JSONRPCRequest& request)\n     if (!address.SetString(strAddress))\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid Bitcoin address\");\n     CKeyID keyID;\n-    if (!address.GetKeyID(keyID))\n+    CScriptID scriptID;\n+    if ((!address.GetScriptID(scriptID) || !GetWitnessKeyID(pwalletMain, scriptID, keyID)) &&\n+        !address.GetKeyID(keyID)) {",
    "path": "src/wallet/rpcdump.cpp",
    "position": 7,
    "original_position": 7,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If I read this right, the logic is the same as previous two cases, except you are preferring witness style fetch over address.GetKeyID fetch. If this is not done for a specific reason, you can\r\n```C++\r\n    if (!FetchWalletKeyID(pwalletMain, address, keyID)) {\r\n```\r\n",
    "created_at": "2017-02-28T21:10:51Z",
    "updated_at": "2017-02-28T21:12:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r103552331",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103552331"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r103552331"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103552331/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 547,
    "original_line": 547,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103552499",
    "pull_request_review_id": 24332605,
    "id": 103552499,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMzU1MjQ5OQ==",
    "diff_hunk": "@@ -520,7 +520,8 @@ UniValue signmessage(const JSONRPCRequest& request)\n         throw JSONRPCError(RPC_TYPE_ERROR, \"Invalid address\");\n \n     CKeyID keyID;\n-    if (!addr.GetKeyID(keyID))\n+    CScriptID scriptID;\n+    if (!addr.GetKeyID(keyID) && (!addr.GetScriptID(scriptID) || !GetWitnessKeyID(pwalletMain, scriptID, keyID)))",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 6,
    "original_position": 6,
    "commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "original_commit_id": "6a670008eda4fa02824e4e522558c1eabe8b9f78",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```C++\r\n    if (!FetchWalletKeyID(pwalletMain, addr, keyID))\r\n```\r\n",
    "created_at": "2017-02-28T21:11:50Z",
    "updated_at": "2017-02-28T21:12:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r103552499",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103552499"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9017#discussion_r103552499"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9017"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103552499/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 524,
    "original_line": 524,
    "side": "RIGHT"
  }
]