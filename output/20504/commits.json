[
  {
    "sha": "944b1266171d9e555133a1b41071fe2e70623a14",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5NDRiMTI2NjE3MWQ5ZTU1NTEzM2ExYjQxMDcxZmUyZTcwNjIzYTE0",
    "commit": {
      "author": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2020-11-25T03:56:26Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2020-11-25T09:08:25Z"
      },
      "message": "build: use more legible commands in qt package\n\nRather than using cd to jump all over the place, move up out of\nqtbase first, and perform all commands from the top level directory.",
      "tree": {
        "sha": "40a259e07f8ce4dc43dccf5b0f53304f4bab4132",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/40a259e07f8ce4dc43dccf5b0f53304f4bab4132"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/944b1266171d9e555133a1b41071fe2e70623a14",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAl++HwkACgkQLuufXMCV\nJsGYIg/+Mbzgsr/TL/I+R4XzN6WdVDupTE+hK+Jph0YZlMWb34RMEc2LDN79J1Im\nBzzPyLUzxry9kduUhiUESm2fHJr+HyfT6rwNSg+EuuyjlyFWqxU1rosM9TAYqMUz\nKQHueVfn3PHL/0BtXOYMagpzjxfZAzjbFICOznGQf5vrKZwyARUz6sb5JT+INAsQ\nPJqM8ZvIxfZ7PkSwu6Da823APclhM9004Ir1P648aCVQu9dc0Pc0wZDAL6CrL4am\nIp6a8ykk0bMEwKMPHz5xQuVvY6tO8g7/5gka0gapreM063BwEuDsrvxilVpVBoI8\nZjlbHYdSYktgmkHzLCNcwWk1DcdHVFa4HAtXWSVh/YrR8U0owJZ42ZCSTL1dq+Pq\nYeOAMgV5TyKP+ODWoIM5QtWvVAdyEGpM8bccbzrG8ju08ylX9rkb9kKNxLfhTjyo\nsnjT5JX8cmGBuX6o4uXM4W1gu2yD4cNduBYHaA5uwWuTFIvb3avVfwv30j7mrdjX\ncB7oGwfA/3PUoQ+NjTt8J9wc+um5y4MXqpgkNgfHIwHF7yZYZc3pl1JoWXWshaiI\n/PnYtuY2WY6RyH/2A0Oh6S5/gLoLmg0V7KBAB1lsgKJJik5QWTRmB/pO5XuWDWxf\nhaKhG55klAr+/MmEntPRjujdLOf3lk80AzD3iy9RncKBvqXZJK0=\n=ePs/\n-----END PGP SIGNATURE-----",
        "payload": "tree 40a259e07f8ce4dc43dccf5b0f53304f4bab4132\nparent 1e9e4b68f3cbd1af3de5806aeff952e9bf0ab8fc\nauthor fanquake <fanquake@gmail.com> 1606276586 +0800\ncommitter fanquake <fanquake@gmail.com> 1606295305 +0800\n\nbuild: use more legible commands in qt package\n\nRather than using cd to jump all over the place, move up out of\nqtbase first, and perform all commands from the top level directory.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/944b1266171d9e555133a1b41071fe2e70623a14",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/944b1266171d9e555133a1b41071fe2e70623a14",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/944b1266171d9e555133a1b41071fe2e70623a14/comments",
    "author": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1e9e4b68f3cbd1af3de5806aeff952e9bf0ab8fc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1e9e4b68f3cbd1af3de5806aeff952e9bf0ab8fc",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1e9e4b68f3cbd1af3de5806aeff952e9bf0ab8fc"
      }
    ],
    "stats": {
      "total": 23,
      "additions": 13,
      "deletions": 10
    },
    "files": [
      {
        "sha": "c1debbbc31145a30307ea6bc8b58b1e4e67aab88",
        "filename": "depends/packages/qt.mk",
        "status": "modified",
        "additions": 13,
        "deletions": 10,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/944b1266171d9e555133a1b41071fe2e70623a14/depends/packages/qt.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/944b1266171d9e555133a1b41071fe2e70623a14/depends/packages/qt.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/qt.mk?ref=944b1266171d9e555133a1b41071fe2e70623a14",
        "patch": "@@ -256,22 +256,25 @@ define $(package)_config_cmds\n   ./configure $($(package)_config_opts) && \\\n   echo \"host_build: QT_CONFIG ~= s/system-zlib/zlib\" >> mkspecs/qconfig.pri && \\\n   echo \"CONFIG += force_bootstrap\" >> mkspecs/qconfig.pri && \\\n-  $(MAKE) sub-src-clean && \\\n-  cd ../qttranslations && ../qtbase/bin/qmake qttranslations.pro -o Makefile && \\\n-  cd translations && ../../qtbase/bin/qmake translations.pro -o Makefile && cd ../.. && \\\n-  cd qttools/src/linguist/lrelease/ && ../../../../qtbase/bin/qmake lrelease.pro -o Makefile && \\\n-  cd ../lupdate/ && ../../../../qtbase/bin/qmake lupdate.pro -o Makefile && cd ../../../..\n+  cd .. && \\\n+  $(MAKE) -C qtbase sub-src-clean && \\\n+  qtbase/bin/qmake qttranslations/qttranslations.pro -o qttranslations/Makefile && \\\n+  qtbase/bin/qmake qttranslations/translations/translations.pro -o qttranslations/translations/Makefile && \\\n+  qtbase/bin/qmake qttools/src/linguist/lrelease/lrelease.pro -o qttools/src/linguist/lrelease/Makefile && \\\n+  qtbase/bin/qmake qttools/src/linguist/lupdate/lupdate.pro -o qttools/src/linguist/lupdate/Makefile\n endef\n \n define $(package)_build_cmds\n-  $(MAKE) -C src $(addprefix sub-,$($(package)_qt_libs)) && \\\n-  $(MAKE) -C ../qttools/src/linguist/lrelease && \\\n-  $(MAKE) -C ../qttools/src/linguist/lupdate && \\\n-  $(MAKE) -C ../qttranslations\n+  cd .. && \\\n+  $(MAKE) -C qtbase/src $(addprefix sub-,$($(package)_qt_libs)) && \\\n+  $(MAKE) -C qttools/src/linguist/lrelease && \\\n+  $(MAKE) -C qttools/src/linguist/lupdate && \\\n+  $(MAKE) -C qttranslations\n endef\n \n define $(package)_stage_cmds\n-  $(MAKE) -C src INSTALL_ROOT=$($(package)_staging_dir) $(addsuffix -install_subtargets,$(addprefix sub-,$($(package)_qt_libs))) && cd .. && \\\n+  cd .. && \\\n+  $(MAKE) -C qtbase/src INSTALL_ROOT=$($(package)_staging_dir) $(addsuffix -install_subtargets,$(addprefix sub-,$($(package)_qt_libs))) && \\\n   $(MAKE) -C qttools/src/linguist/lrelease INSTALL_ROOT=$($(package)_staging_dir) install_target && \\\n   $(MAKE) -C qttools/src/linguist/lupdate INSTALL_ROOT=$($(package)_staging_dir) install_target && \\\n   $(MAKE) -C qttranslations INSTALL_ROOT=$($(package)_staging_dir) install_subtargets && \\"
      }
    ]
  }
]