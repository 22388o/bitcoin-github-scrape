DrahtBot,2020-01-06 08:22:03,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17261](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17261.html) (Make ScriptPubKeyMan an actual interface an",https://github.com/bitcoin/bitcoin/pull/17878#issuecomment-571048833,571048833,
luke-jr,2020-01-26 19:07:55,"See also #10554. This older PR is apparently both used in production by its author, @somdoron, as well as included in Bitcoin Knots. For that reason, it would be ideal to use an interface compatible with it if reasonably possible - I think simply putting the hash as the first item might work; maybe multipart too? (not sure)\n\nNote it's called -zmqpub**hash**wallettx there (and a raw variant pro",https://github.com/bitcoin/bitcoin/pull/17878#issuecomment-578532593,578532593,
luke-jr,2020-01-26 19:10:47,Also note I have a recent (0.19) rebase of the old PR here: https://github.com/bitcoin/bitcoin/commit/8db19e8ccfd1740cd57b006dfc2387926ade7a6b,https://github.com/bitcoin/bitcoin/pull/17878#issuecomment-578532836,578532836,
promag,2020-01-26 19:11:44,"@luke-jr thanks for pointing that, I was under the impression there was something similar. I'll look closely at 8db19e8.",https://github.com/bitcoin/bitcoin/pull/17878#issuecomment-578532921,578532921,
0xB10C,2020-01-06 12:36:16,"Concept alternative: ZMQ supports [mulitpart messages](http://zguide.zeromq.org/php:chapter2#Multipart-Messages). Might make sense to split the wallet name, hash and reason over multiple frames rather than creating a _custom protocol_ for serialization.    ",https://github.com/bitcoin/bitcoin/pull/17878#discussion_r363276051,363276051,src/zmq/zmqpublishnotifier.cpp
promag,2020-01-06 12:38:23,I think we can't do that unless the payload goes after the sequence number - I mean if we want to be consistent with existing messages.,https://github.com/bitcoin/bitcoin/pull/17878#discussion_r363276661,363276661,src/zmq/zmqpublishnotifier.cpp
0xB10C,2020-01-06 12:57:07,"Agree, that it would not be super consistent with the existing messages. However, there was just never the need for more that one payload.\n\nFor discussion:\nCurrently we send a fixed 3 part multipart message. \n``` \n| topic | payload | sequence number |\n```\n\nI had an extension similar the following in mind when I read you PR description. \n``` \n| topic | wallet name | hash | (reas",https://github.com/bitcoin/bitcoin/pull/17878#discussion_r363282493,363282493,src/zmq/zmqpublishnotifier.cpp
promag,2020-01-06 18:18:29,"Ah right, sequence is already a different part. Will update accordingly.",https://github.com/bitcoin/bitcoin/pull/17878#discussion_r363415910,363415910,src/zmq/zmqpublishnotifier.cpp
