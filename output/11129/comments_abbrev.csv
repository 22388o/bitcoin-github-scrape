laanwj,2017-08-25T10:31:59Z,"Thinking about this some more, an even better option would be to use POSIX rename atomicity at the `bitcoind` side to create a working cookie atomically:\n- Write `.cookie.tmp`, close file\n- Rename `.cookie.tmp` to `.cookie`\n\nSee #11131.",https://github.com/bitcoin/bitcoin/pull/11129#issuecomment-324881956,324881956,
laanwj,2017-08-25T10:22:57Z,"Concept ACK, though I don't like doing this polling in `get_auth_cookie` itself - my preference would be to throw a `AuthCookieIncomplete` error or such, catch that in `wait_for_rpc_connection` and keep the polling restricted to there.\n\nEdit: it could even just raise `ValueError(""No RPC credentials"")` - that's already checked for in that loop.",https://github.com/bitcoin/bitcoin/pull/11129#discussion_r135228575,135228575,test/functional/test_framework/util.py
