paveljanik,2016-12-05T13:48:33Z,"On my building VM based on 10.10.x, it removes two warnings: `daemon` and `LSGetApplicationForInfo`. Maybe there are more warnings removed on newer systems. I always took it as a gentle reminder :-)\n\nACK https://github.com/bitcoin/bitcoin/pull/9284/commits/2ab8fbbd5b0075b9e6316aaf2405e6b9d97f2311\n",https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-264858090,264858090,
theuni,2016-12-05T16:19:28Z,"Hmm, I don't think we really want to hide these?",https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-264898478,264898478,
jonasschnelli,2016-12-05T16:35:52Z,"I get at least 100 of those while compiling:\n```\nIn file included from /usr/local/Cellar/protobuf260/2.6.0/include/google/protobuf/stubs/atomicops.h:179:\n/usr/local/Cellar/protobuf260/2.6.0/include/google/protobuf/stubs/atomicops_internals_macosx.h:173:9: warning: \n      'OSAtomicCompareAndSwap64Barrier' is deprecated: first deprecated in macOS 10.12 - Use\n      std::atomic_compare_excha",https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-264903556,264903556,
morcos,2016-12-05T16:54:09Z,"Hmm..   They are pretty annoying, and I guess we can't just fix them ourselves...\n",https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-264909043,264909043,
jonasschnelli,2016-12-05T17:04:20Z,"@theuni: We could wrap it in a "" if host = darwin""?",https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-264912031,264912031,
gmaxwell,2016-12-06T04:54:23Z,"I don't think we want to blanket disable them even on a single host. If protobuf is doing this can we just wrap the headers it generates with a pragma to disable the warning just there?  (also, we should complain upstream)",https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-265060564,265060564,
theuni,2016-12-06T05:47:07Z,"@gmaxwell Yes, Looks like it still exists in master upstream :\\n\nI think we could probably hack together something like\n```c++\n#ifdef SOME_MAC_VERSION_MACRO\n#pragma clang diagnostic push\n#pragma clang diagnostic ignored ""-Wdeprecated-declarations""\n#include ""protobuf/foo.h""\n#pragma clang diagnostic pop\n#endif\n```\nI'm not sure how possible that is with the generated file, thoug",https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-265066521,265066521,
laanwj,2016-12-06T06:46:46Z,+1 for using #pragma to do this on a case-by-case basis. Don't forget the daemon one (#8813) if you do.,https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-265074358,265074358,
jonasschnelli,2016-12-06T07:12:56Z,Thanks for having a look at this @theuni. Hundreds of warnings on OSX 10.12+ defeats the purpose of warning the user. Everyone on OSX will just ignore them because finding the non-OSX-hell-depracation warnings is like finding the needle in a haystack.,https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-265077958,265077958,
paveljanik,2016-12-06T07:15:45Z,I like the `#pragma` solution!,https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-265078378,265078378,
theuni,2016-12-08T01:23:44Z,"I think there may be a better option here. The includes have a GOOGLE_PROTOBUF_NO_THREAD_SAFETY macro that we can set, assuming we don't need thread-safety in the structures themselves. I assume that's the case?\n\nI didn't have access to the protobuf options while I was looking, but I'd assume there's something that we can add to the .proto to get that defined. I'll take a closer look when I ca",https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-265626082,265626082,
laanwj,2016-12-08T12:25:55Z,"> assuming we don't need thread-safety in the structures themselves\n\nWe don't. I didn't even realize there was an option for that.\n",https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-265728414,265728414,
CodeShark,2016-12-11T09:01:22Z,utACK,https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-266270982,266270982,
theuni,2016-12-12T06:14:49Z,"I checked the protobuf docs and don't see any easy way to disable this.\n\n@jonasschnelli Could you try the hammer approach of ```./configure CPPFLAGS=-DGOOGLE_PROTOBUF_NO_THREAD_SAFETY``` ? If that works, we can stick it in the appropriate place.",https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-266351209,266351209,
jonasschnelli,2016-12-12T08:37:18Z,"@theuni:\nDefining `GOOGLE_PROTOBUF_NO_THREAD_SAFETY` solves the deprecation warnings. But do we want to disable the thread safety on OSX?\n\nThere are other deprecation warnings though (leveldb):\n```\nIn file included from ./leveldb/port/port_posix.h:47:\n./leveldb/port/atomic_pointer.h:59:3: warning: 'OSMemoryBarrier' is deprecated: first deprecated in macOS 10.12 - Use std::atomic_thread",https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-266371083,266371083,
fanquake,2016-12-12T11:52:03Z,"The other warnings have been fixed upstream IIRC\nOn Mon., 12 Dec. 2016 at 16:37, Jonas Schnelli <notifications@github.com>\nwrote:\n\n> @theuni <https://github.com/theuni>:\n>\n>\n> Defining GOOGLE_PROTOBUF_NO_THREAD_SAFETY solves the deprecation\n> warnings. But do we want to disable the thread safety on OSX?\n>\n>\n> There are other deprecation warnings though (leveldb):\n>\n>\n> In file includ",https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-266412244,266412244,
jonasschnelli,2017-01-24T13:10:29Z,Closing for now.,https://github.com/bitcoin/bitcoin/pull/9284#issuecomment-274798633,274798633,
