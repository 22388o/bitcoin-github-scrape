promag,2019-01-19T17:38:23Z,"Restarted appveyor, unrelated error.",https://github.com/bitcoin/bitcoin/pull/15205#issuecomment-455799731,455799731,
jamesob,2019-01-22T14:33:03Z,Pushed an update futureproofing all calls to `SyncWithValidationInterfaceQueue()` ([changes](https://github.com/bitcoin/bitcoin/compare/c024cc932ac01dc12c8e405984d0e192fdab2f82..5a1820877cc66151be8b913caa3f62c7ed4092e1)).,https://github.com/bitcoin/bitcoin/pull/15205#issuecomment-456420340,456420340,
jamesob,2019-01-22T16:14:34Z,I've taken @practicalswift's advice on declaration conditional on `#ifdef DEBUG_LOCKORDER` but I kinda hate how many ifdefs that's introduced.,https://github.com/bitcoin/bitcoin/pull/15205#issuecomment-456459262,456459262,
jamesob,2019-01-22T20:44:41Z,"We discussed a better approach today on IRC (http://www.erisian.com.au/bitcoin-core-dev/log-2019-01-22.html), which is to conditionally move all `Schedule` tasks to blocking execution (instead of executing them on a separate thread) in the presence of some flag - that way we'll be able to make use of all the existing deadlock detection utilities when, say, running CI tests.",https://github.com/bitcoin/bitcoin/pull/15205#issuecomment-456556358,456556358,
ryanofsky,2019-01-18T19:22:14Z,"Wouldn't it be simpler and more efficient to call MarkRunningInQueue once when the queue is created, instead of every time a notification added?",https://github.com/bitcoin/bitcoin/pull/15205#discussion_r249157977,249157977,src/validationinterface.cpp
jamesob,2019-01-18T19:29:41Z,Good point! Will fix.,https://github.com/bitcoin/bitcoin/pull/15205#discussion_r249160232,249160232,src/validationinterface.cpp
jamesob,2019-01-18T19:46:13Z,"Fixed. Now executing MarkRunningInQueue once whenever the `m_internals` scheduler is reset. The change makes the refactoring strictly unneeded, but I think it's still nice to have for testing and less duplication (though I'm happy to remove it too).",https://github.com/bitcoin/bitcoin/pull/15205#discussion_r249164779,249164779,src/validationinterface.cpp
practicalswift,2019-01-20T09:08:32Z,"Should be ""declaration"" :-)",https://github.com/bitcoin/bitcoin/pull/15205#discussion_r249270074,249270074,src/validationinterface.h
jamesob,2019-01-20T13:37:22Z,It occurs to me now that for futureproofing we should add similar code to SyncWithValidationInterfaceQueue(). Will add.,https://github.com/bitcoin/bitcoin/pull/15205#discussion_r249279329,249279329,src/validation.cpp
practicalswift,2019-01-22T08:35:30Z,Should be inside `#ifdef DEBUG_LOCKORDER `?,https://github.com/bitcoin/bitcoin/pull/15205#discussion_r249681321,249681321,src/validationinterface.h
