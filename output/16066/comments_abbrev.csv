practicalswift,2019-05-21 14:57:49,@promag Do you have any IBD measurements before vs after this change to share?,https://github.com/bitcoin/bitcoin/pull/16066#issuecomment-494427995,494427995,
promag,2019-05-21 15:16:58,@practicalswift updated OP.,https://github.com/bitcoin/bitcoin/pull/16066#issuecomment-494435844,494435844,
promag,2019-05-21 17:00:21,@MarcoFalke updated to take into account block age instead.,https://github.com/bitcoin/bitcoin/pull/16066#issuecomment-494474538,494474538,
DrahtBot,2019-05-21 17:00:24,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14193](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14193.html) (validation: Add missing mempool locks by Ma",https://github.com/bitcoin/bitcoin/pull/16066#issuecomment-494474560,494474560,
morcos,2019-05-22 19:23:29,"I give this idea a concept ACK, but I think it requires more complicated changes to work correctly.  After a cursory review, I think basic functionality would have to be something like this:\n\nWe should not completely skip `CBlockPolicyEstimator::processBlock` but instead pass into that function some notion of whether the individual block transactions need to be processed.   Call this `track_bl",https://github.com/bitcoin/bitcoin/pull/16066#issuecomment-494934107,494934107,
promag,2019-05-22 19:30:03,@morcos thanks! Actually IIRC decaying does cost and I think it's a bottleneck in reindex. Later I'll update profile results to see what I mean.,https://github.com/bitcoin/bitcoin/pull/16066#issuecomment-494936524,494936524,
MarcoFalke,2019-05-22 19:39:11,"See also\n\n* fees: optimize decay #11194 ",https://github.com/bitcoin/bitcoin/pull/16066#issuecomment-494939954,494939954,
morcos,2019-05-22 19:50:23,"So maybe this is all you need to do the trick?\nhttps://github.com/morcos/bitcoin/commit/5903ac2b57560815294319be3b01a6c466b103fc",https://github.com/bitcoin/bitcoin/pull/16066#issuecomment-494944571,494944571,
morcos,2019-05-22 19:51:44,"ahh thanks Marco, so perhaps combining the two changes",https://github.com/bitcoin/bitcoin/pull/16066#issuecomment-494945100,494945100,
promag,2019-09-03 14:32:53,I'll be back.,https://github.com/bitcoin/bitcoin/pull/16066#issuecomment-527485653,527485653,
MarcoFalke,2019-05-21 16:02:50,We shouldn't use a function that is only used to print debug statements in validation. Couldn't you replace this with a check `if (this_block_height < .9*total_header_height)`?,https://github.com/bitcoin/bitcoin/pull/16066#discussion_r286105254,286105254,src/validation.cpp
MarcoFalke,2019-05-21 18:19:12,Should explain where this magic number comes from and why it is a safe choice considering the other constants in policy/fees.h. Ideally you'd express it using existing constants,https://github.com/bitcoin/bitcoin/pull/16066#discussion_r286161109,286161109,src/validation.h
promag,2019-05-21 19:29:08,"No magic here, just picked 2 days .. I think it should be a value that would produce similar fee rates right?",https://github.com/bitcoin/bitcoin/pull/16066#discussion_r286188245,286188245,src/validation.h
thijstriemstra,2019-05-22 00:05:05,"2 days is still magic ;) ""for us to be considered suitable"" also sounds confusing to me, could you rephrase this?",https://github.com/bitcoin/bitcoin/pull/16066#discussion_r286269421,286269421,src/validation.h
promag,2019-05-22 00:15:33,"I'll change to a reasonable value, meanwhile I'm waiting for concept ACK.",https://github.com/bitcoin/bitcoin/pull/16066#discussion_r286271315,286271315,src/validation.h
