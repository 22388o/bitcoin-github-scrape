markblundeberg,2020-09-05 01:47:50,@TheBlueMatt can you confirm on the original intent here?,https://github.com/bitcoin/bitcoin/pull/19880#issuecomment-687516026,687516026,
DrahtBot,2021-10-22 03:09:59,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23325](https://github.com/bitcoin/bitcoin/pull/23325) (mempool: delete exists(uint256) function by glozow)\n\nIf you con",https://github.com/bitcoin/bitcoin/pull/19880#issuecomment-949250646,949250646,
DrahtBot,2021-10-22 11:31:05,"<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a ""draft"".</sub>",https://github.com/bitcoin/bitcoin/pull/19880#issuecomment-949544556,949544556,
epson121,2020-09-07 17:15:55,"If I understand this correctly, the change allows for removal of `txn` vector (for optimization), but behaviour should be the same (as I don't see `RemoveStaged` having access to `txn` vector in the old code, thus not modifying it anywhere)?",https://github.com/bitcoin/bitcoin/pull/19880#discussion_r484527169,484527169,src/txmempool.cpp
markblundeberg,2020-09-11 07:52:02,"Not sure I understand your question... the behaviour is indeed altered since `RemoveStaged` removes stuff from mempool and thus alters the result of `exists()`.\n\nOh, I guess also worth mentioning: the reason `txn` had to be created in the prior version is that the contents of `stage` become invalid after `RemoveStaged`. Now that `RemoveStaged` is the final step of the loop, this is no longer a",https://github.com/bitcoin/bitcoin/pull/19880#discussion_r486838266,486838266,src/txmempool.cpp
glozow,2021-11-04 15:40:39,"Correct me if I'm wrong: an example you‚Äôre imagining is A and B are being removed from the mempool. B spends an output of A, but since we‚Äôve already called `RemoveStaged` at this point, exists(A) will return false, and we incorrectly place that outpoint into `pvNoSpendsRemaining`.  There is no behavior change because `Uncache` will just skip the outpoint if it‚Äôs not in the coins cache.",https://github.com/bitcoin/bitcoin/pull/19880#discussion_r742961907,742961907,src/txmempool.cpp
glozow,2021-11-04 15:41:20," I don't think we use ""root"" anywhere else to refer to confirmed outpoints\n```suggestion\n    // This vector should only contain confirmed outpoints\n```",https://github.com/bitcoin/bitcoin/pull/19880#discussion_r742962576,742962576,src/test/mempool_tests.cpp
