[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446121240",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-446121240",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 446121240,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjEyMTI0MA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-11T08:53:09Z",
    "updated_at": "2018-12-11T08:53:09Z",
    "author_association": "MEMBER",
    "body": "Not sure if this is the right fix, IIRC the wallet is removed from the list first and then the actual unload happens. ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446121240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446168121",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-446168121",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 446168121,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjE2ODEyMQ==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-11T11:21:58Z",
    "updated_at": "2018-12-11T11:21:58Z",
    "author_association": "MEMBER",
    "body": "The relevant code is\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/5f23460c7e316fe7c944680f3feff07ebb867f70/src/wallet/wallet.cpp#L3879-L3883\r\n\r\nThe wallet itself has locks to prevent it from being loaded while already loaded, so it seems like an OK fix to me.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446168121/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446179238",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-446179238",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 446179238,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjE3OTIzOA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-11T12:04:49Z",
    "updated_at": "2018-12-11T12:29:53Z",
    "author_association": "MEMBER",
    "body": "@kallewoof that's what happening, it hits that error.\r\n\r\nIt's always the case that after `unloadwallet X` `listwallets` doesn't return `X` but that wallet can be unloading. This change only reduces the race to the actual duplicate condition.\r\n\r\nI see 4 solutions:\r\n 1.  add an option to `unloadwallet` to force waiting \ud83d\udc4d \ud83d\udc4d \r\n 2. use this change **but**  also change `listwallets` to actually verify if the wallet is not unloaded \ud83d\udc4e \r\n 3. make `loadwallet` aware the wallet is unloading and wait for it \ud83d\udc4d \r\n 4. change the test to repeat the `loadwallet` until it succeeds \ud83d\udc4d \ud83d\udc4d  \ud83d\udc4d \ud83d\udc4d \r\n\r\nNote that there are 2 wallet \"registries\":\r\nhttps://github.com/bitcoin/bitcoin/blob/5f23460c7e316fe7c944680f3feff07ebb867f70/src/wallet/wallet.cpp#L69-L73\r\nhttps://github.com/bitcoin/bitcoin/blob/5f23460c7e316fe7c944680f3feff07ebb867f70/src/wallet/db.cpp#L75-L84",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446179238/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446228470",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-446228470",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 446228470,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjIyODQ3MA==",
    "user": {
      "login": "AkioNak",
      "id": 24285095,
      "node_id": "MDQ6VXNlcjI0Mjg1MDk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/24285095?u=3dcb66c44e0fffed38b732359334e07858c48a0e&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AkioNak",
      "html_url": "https://github.com/AkioNak",
      "followers_url": "https://api.github.com/users/AkioNak/followers",
      "following_url": "https://api.github.com/users/AkioNak/following{/other_user}",
      "gists_url": "https://api.github.com/users/AkioNak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AkioNak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AkioNak/subscriptions",
      "organizations_url": "https://api.github.com/users/AkioNak/orgs",
      "repos_url": "https://api.github.com/users/AkioNak/repos",
      "events_url": "https://api.github.com/users/AkioNak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AkioNak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-11T14:48:42Z",
    "updated_at": "2018-12-11T14:48:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "@promag @kallewoof Thank you for the discussion.\r\n \r\n> change the test to repeat the loadwallet until it succeeds \ud83d\udc4d \ud83d\udc4d \ud83d\udc4d \ud83d\udc4d\r\n\r\nI will try this.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446228470/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446630912",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-446630912",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 446630912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjYzMDkxMg==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-12T15:36:27Z",
    "updated_at": "2018-12-12T15:39:47Z",
    "author_association": "MEMBER",
    "body": "@AkioNak you could add an option to `wait_until`, untested:\r\n```diff\r\ndiff --git a/test/functional/test_framework/util.py b/test/functional/test_framework/util.py\r\nindex d0a78d8df..4af7a51ff 100644\r\n--- a/test/functional/test_framework/util.py\r\n+++ b/test/functional/test_framework/util.py\r\n@@ -201,20 +201,24 @@ def str_to_b64str(string):\r\n def satoshi_round(amount):\r\n     return Decimal(amount).quantize(Decimal('0.00000001'), rounding=ROUND_DOWN)\r\n\r\n-def wait_until(predicate, *, attempts=float('inf'), timeout=float('inf'), lock=None):\r\n+def wait_until(predicate, *, attempts=float('inf'), timeout=float('inf'), lock=None, ignore_expections=False):\r\n     if attempts == float('inf') and timeout == float('inf'):\r\n         timeout = 60\r\n     attempt = 0\r\n     time_end = time.time() + timeout\r\n\r\n     while attempt < attempts and time.time() < time_end:\r\n-        if lock:\r\n-            with lock:\r\n+        try:\r\n+            if lock:\r\n+                with lock:\r\n+                    if predicate():\r\n+                        return\r\n+            else:\r\n                 if predicate():\r\n                     return\r\n-        else:\r\n-            if predicate():\r\n-                return\r\n+        except JSONRPCException as e:\r\n+            if not ignore_expections:\r\n+                raise e\r\n         attempt += 1\r\n         time.sleep(0.05)\r\n ```\r\n\r\nAnd then:\r\n```py\r\nwait_until(lambda: self.nodes[0].loadwallet(wallet_name), ignore_exceptions=True)\r\n```\r\n\r\nBTW, now I'm more fond of\r\n\r\n> make loadwallet aware the wallet is unloading and wait for it\r\n\r\n@ryanofsky what are your thoughts?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446630912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446656100",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-446656100",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 446656100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjY1NjEwMA==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-12T16:42:49Z",
    "updated_at": "2018-12-12T16:42:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "> make loadwallet aware the wallet is unloading and wait for it\r\n\r\nI think a better approach would be to make unloadwallet aware that a wallet is unloading and wait for it. It's surprising to me that this would be an asynchronous operation.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446656100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446698565",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-446698565",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 446698565,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjY5ODU2NQ==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-12T18:46:11Z",
    "updated_at": "2018-12-12T18:46:11Z",
    "author_association": "MEMBER",
    "body": "@ryanofsky the idea was to not block especially if the wallet is being used or a rescan is going on. In that case the client could timeout and then the problem would be the same \u2014 attempt to load would raise `Duplicate -wallet filename specified` error. But maybe we should ignore these edge cases and make it synchronous or even add an option?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446698565/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446701399",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-446701399",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 446701399,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjcwMTM5OQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-12T18:54:33Z",
    "updated_at": "2018-12-12T18:54:33Z",
    "author_association": "MEMBER",
    "body": "Agree with @ryanofsky. Seems unnecessary to make this call async. If the wallet is in use (e.g. rescan) you should be aware of it and not call unloadwallet. So shouldn't unloadwallet throw an error in that case? ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446701399/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446974291",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-446974291",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 446974291,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0Njk3NDI5MQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-13T13:48:35Z",
    "updated_at": "2018-12-13T13:48:35Z",
    "author_association": "MEMBER",
    "body": "Closing in favor of #14941",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446974291/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447142179",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-447142179",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 447142179,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzE0MjE3OQ==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-13T22:23:16Z",
    "updated_at": "2018-12-13T22:23:16Z",
    "author_association": "MEMBER",
    "body": "@laanwj Please do not close PR:s unless there is inactivity or the author is clearly not cooperating. The authors are perfectly capable of doing this themselves.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447142179/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447143181",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-447143181",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 447143181,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzE0MzE4MQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-13T22:27:09Z",
    "updated_at": "2018-12-13T22:28:51Z",
    "author_association": "MEMBER",
    "body": "@kallewoof I don't think there's a point of having multiple competing PRs open, this spreads discussion around, reopening is always a possibility if discussion goes the other way",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447143181/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447157467",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-447157467",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 447157467,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzE1NzQ2Nw==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-13T23:22:46Z",
    "updated_at": "2018-12-13T23:22:46Z",
    "author_association": "MEMBER",
    "body": "I understand your desire to have a clean list of PRs, but there really is no rush on the matter. This PR literally had pushes to it *hours* before you closed it. If the author judges that the replacement is objectively better they will close their PR on their own, and if they refuse, I see no problem with you making a judgement call like this one.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447157467/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447259636",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-447259636",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 447259636,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzI1OTYzNg==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-14T08:58:09Z",
    "updated_at": "2018-12-14T09:07:30Z",
    "author_association": "MEMBER",
    "body": "I'm not sure how you're interpreting it, but for me, closing the PR is only an indication that it's currently not considered for merging. It doesn't delete the discussion, doesn't even prevent replying! it doesn't delete the code changes, etc.\r\n\r\nThat's a typical maintainer task. at least for me it has nothing to do with 'urgency' or capability or non-capability of the author to do it themselves.\r\n\r\nBut anyhow if you insist I'll re-open.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447259636/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447266219",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-447266219",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 447266219,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzI2NjIxOQ==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-14T09:24:17Z",
    "updated_at": "2018-12-14T09:25:25Z",
    "author_association": "MEMBER",
    "body": "Removing my comment as it strays off topic from the PR. I've sent it to @laanwj in private.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447266219/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447276016",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-447276016",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 447276016,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzI3NjAxNg==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-14T10:01:09Z",
    "updated_at": "2018-12-14T10:01:09Z",
    "author_association": "MEMBER",
    "body": "@kallewoof I don't think it makes sense to change the test tree to later revert. There is already agreement to change unloadwallet and @laanwj just closed this in light of that - being closed doesn't mean is locked and dead.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447276016/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447277287",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-447277287",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 447277287,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzI3NzI4Nw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-14T10:05:37Z",
    "updated_at": "2018-12-14T10:06:13Z",
    "author_association": "MEMBER",
    "body": "Yes, so I think there's a misunderstanding here:\r\nThanks @AkioNak for trying to fix the test!\r\n\r\nHowever your PR made us realize that the current `unloadwallet` behavior is broken in the first place and that the unload shouldn't be asynchronous, and the test failure is pointing out an actual issue. It likely means that the test doesn't need to change.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447277287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447295444",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-447295444",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 447295444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzI5NTQ0NA==",
    "user": {
      "login": "AkioNak",
      "id": 24285095,
      "node_id": "MDQ6VXNlcjI0Mjg1MDk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/24285095?u=3dcb66c44e0fffed38b732359334e07858c48a0e&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AkioNak",
      "html_url": "https://github.com/AkioNak",
      "followers_url": "https://api.github.com/users/AkioNak/followers",
      "following_url": "https://api.github.com/users/AkioNak/following{/other_user}",
      "gists_url": "https://api.github.com/users/AkioNak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AkioNak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AkioNak/subscriptions",
      "organizations_url": "https://api.github.com/users/AkioNak/orgs",
      "repos_url": "https://api.github.com/users/AkioNak/repos",
      "events_url": "https://api.github.com/users/AkioNak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AkioNak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-14T11:17:23Z",
    "updated_at": "2018-12-14T11:17:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@kallewoof @promag @ryanofsky @MarcoFalke @laanwj  Thank you so much.\r\nNow I understand that we need to fix the behaviour of ```unloadwallet``` rather than changing the test.\r\nSo, I close this PR myself.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447295444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447298239",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14919#issuecomment-447298239",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14919",
    "id": 447298239,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzI5ODIzOQ==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-14T11:29:36Z",
    "updated_at": "2018-12-14T11:29:36Z",
    "author_association": "MEMBER",
    "body": "Thank you @AkioNak for identifying the problem so quick.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447298239/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]