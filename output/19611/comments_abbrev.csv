DrahtBot,2020-07-28 17:01:27,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19596 (Deduplicate parent txid loop of requested transactions and missing parents of orphan transactions by sdaftuar)\n\n",https://github.com/bitcoin/bitcoin/pull/19611#issuecomment-665158961,665158961,
jonatack,2020-07-30 15:59:11,Rebased on merged #19590.,https://github.com/bitcoin/bitcoin/pull/19611#issuecomment-666486344,666486344,
jonatack,2020-08-03 14:37:19,"Thanks for reviewing @vasild! Appreciated. This PR is still being updated pending merge of #19610, so don't hesitate to ACK there.",https://github.com/bitcoin/bitcoin/pull/19611#issuecomment-668058848,668058848,
jonatack,2020-08-08 13:53:29,"These changes are now all in #19610, so this can be closed for now.",https://github.com/bitcoin/bitcoin/pull/19611#issuecomment-670931777,670931777,
jonatack,2020-08-27 09:08:25,"Tried to re-open this PR with an updated version, but apparently after a rebase/force-push on a closed PR, GitHub requires a new PR to be opened.",https://github.com/bitcoin/bitcoin/pull/19611#issuecomment-681825074,681825074,
jonatack,2020-08-27 09:11:54,Done in #19818.,https://github.com/bitcoin/bitcoin/pull/19611#issuecomment-681826745,681826745,
vasild,2020-07-31 11:09:36,"nit: this was the code before, but since you are re-indenting/modifying it:\n\n```cpp\nif (A) {\n    C;\n} else if (B) {\n    C;\n}\n```\n\nis the same as\n```\nif (A || B) {\n   C;\n}\n```",https://github.com/bitcoin/bitcoin/pull/19611#discussion_r463549667,463549667,src/net_processing.cpp
vasild,2020-07-31 11:17:36,"nit: maybe use ""Block"" to be in line with the surrounding code, e.g. `LookupBlockIndex()`, `MSG_BLOCK` which uses the full word. ""Blk"" looks like ""bulk"" to me rather than ""block"".",https://github.com/bitcoin/bitcoin/pull/19611#discussion_r463552637,463552637,src/protocol.h
vasild,2020-07-31 11:38:12,"This call to `emplace_back()` will create a `CInv` temporary, copy-construct the object in the vector from the temporary and then destroy the temporary. Whereas `emplace_back(inv_type, req.blockhash)` would directly construct the object in the vector with the supplied arguments.",https://github.com/bitcoin/bitcoin/pull/19611#discussion_r463560355,463560355,src/net_processing.cpp
vasild,2020-07-31 11:38:28,nit: maybe also rename it to `m_type`,https://github.com/bitcoin/bitcoin/pull/19611#discussion_r463560465,463560465,src/protocol.h
vasild,2020-07-31 11:39:04,Does it make sense to do some sanity checking of the supplied `flags` here?,https://github.com/bitcoin/bitcoin/pull/19611#discussion_r463560677,463560677,src/protocol.h
jonatack,2020-08-03 14:32:53,"Yes, I thought about this, but that would make the methods names quite a bit longer, and ISTM ""blk"" is an established abbreviation for ""block"", e.g. the filenames in ~/.bitcoin/blocks, and in the codebase `git grep -i blk`. Let's see what other reviewers say before changing (that change is actually in #19610, which needs to go in before this PR).",https://github.com/bitcoin/bitcoin/pull/19611#discussion_r464452665,464452665,src/protocol.h
jonatack,2020-08-03 14:33:57,"Yes, I deliberately did not touch it to keep the concepts separate.",https://github.com/bitcoin/bitcoin/pull/19611#discussion_r464453340,464453340,src/net_processing.cpp
jonatack,2020-08-03 14:34:24,"It is indeed the preferred style for new code, but here it seems like a noisy change for little gain that would make the methods in the class longer and less readable. Also, the companion class member variable `hash` would also need to be changed. Holding off for now unless other reviewers think they are both worth changing.",https://github.com/bitcoin/bitcoin/pull/19611#discussion_r464453679,464453679,src/protocol.h
jonatack,2020-08-03 14:34:42,I'm looking at removing this completely (per https://github.com/bitcoin/bitcoin/pull/19596#discussion_r462801556).,https://github.com/bitcoin/bitcoin/pull/19611#discussion_r464453890,464453890,src/protocol.h
jonatack,2020-08-03 14:34:53,"Good point, thank you! Done.",https://github.com/bitcoin/bitcoin/pull/19611#discussion_r464454030,464454030,src/net_processing.cpp
jonatack,2020-08-04 14:58:49,Removed unused `nFetchFlags` from TX and INV net processing in ProcessMessages().,https://github.com/bitcoin/bitcoin/pull/19611#discussion_r465115823,465115823,src/protocol.h
