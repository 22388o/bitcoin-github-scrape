laanwj,2014-11-11T08:23:30Z,"ACK on concept. Moving away from using QDialogs for widgets that are embedded into other windows makes sense.\n- After this you can no longer hide the debug window using `<ESC>`. IMO that was useful. That's why the following code was there, but I'm sure a similar thing can be done with QWidget.\n\n```\nif(windowType() != Qt::Widget)\n    QDialog::reject();\n```\n- It doesn't solve #5254 here, I've",https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62515795,62515795,
jonasschnelli,2014-11-11T08:33:20Z,"@laanwj: Hmm... \nI just did some test on my ubuntu 14.04 VM.\n\nWhen i have both windows open, i click the ""-"" symbol at the top left of the main window and ONLY the main window does minimize.\n\nScreens:\n\nBoth windows open, then press ""-"" at top left of main window\n![bildschirmfoto 2014-11-11 um 09 30 04](https://cloud.githubusercontent.com/assets/178464/4990287/7d5b71b8-6985-11e4-85dd-534dfb",https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62516642,62516642,
laanwj,2014-11-11T08:36:32Z,Huh! Why do you get that. I tried exactly the same on Ubuntu 14.04 and get the behavior as described. Will do a rebuild from an empty tree.\n,https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62516964,62516964,
jonasschnelli,2014-11-11T08:42:46Z,"If you have 3 buttons at the top left of your debug window (close, minimize, maximize) you should have built it right. If you have only two icons ""close"" / ""maximize"" you are still running a QDialog.\n",https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62517541,62517541,
laanwj,2014-11-11T08:43:05Z,It does work after making the debug window wholly independent\n\n``` patch\n-    rpcConsole = new RPCConsole(enableWallet ? this : 0);\n+    rpcConsole = new RPCConsole(0);\n```\n,https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62517573,62517573,
jonasschnelli,2014-11-11T08:53:13Z,@laanwj against which qt version do you build? This maybe helps me to reproduce your issue.\n,https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62518579,62518579,
laanwj,2014-11-11T09:01:56Z,"@jonasschnelli About Qt shows 5.2.1\n\nBut anyhow - if your goal is to make the window independent, passing a parent window is counter-productive.\n",https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62519450,62519450,
jonasschnelli,2014-11-11T09:05:58Z,Okay. Now i see.\nThanks. Let me change that and re-implement the ESC-key behavior.\n,https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62519846,62519846,
laanwj,2014-11-11T09:09:03Z,"Making it an independent window does change some things:\n- The window has to be manually deleted in the destructor - this will no longer happen automatically\n- Initial positioning will be different, it will no longer appear in the middle of the main window as before. The shutdown window is another case of this; it cannot be a child window, but we still want to position it correctly, so maybe thi",https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62520168,62520168,
jonasschnelli,2014-11-11T12:42:27Z,@laanwj i did update some things.\nThe app now only gets terminated when both windows are closed.\nUsers can now keep the RPC window open when the main window is closed.\nESC-Key implemented again.\n\nThere are still a few issues where i could need some advice.\n1. Does it make sense to keep the RPCConsole open without the MainWindow?\n2. Currently the Menu disappears when the MainWindow get's clo,https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62541480,62541480,
laanwj,2014-11-11T12:50:59Z,"Closing the main window should exit the application, IMO. Let's not make this too complicated. Minimizing the windows individually is enough.\n",https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62542351,62542351,
jonasschnelli,2014-11-11T13:12:50Z,Agreed. This will simplify things for me a lot. :)\n,https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62544623,62544623,
jonasschnelli,2014-11-11T13:29:39Z,"@laanwj: updated again.\n1. rpcConsole instance variable get's deleted now, destructor/store geometry gets called again.\n2. MainWindow close events terminate app as it was before.\n\npositioning:\n\n```\n    RPCConsole::~RPCConsole()\n    {\n        GUIUtil::saveWindowGeometry(""nRPCConsoleWindow"", this);\n```\n\nisn't it so, that the position is managed by the GUIUtil?\nOr do you think the initia",https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62546315,62546315,
laanwj,2014-11-12T15:50:25Z,"> isn't it so, that the position is managed by the GUIUtil?\n\nYou'd say so, but I noticed a difference in positioning when I tested your code. I don't personally care that much if it's centered, though, although in my case it ended up on the other side of my other desktop.\n",https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62739597,62739597,
jonasschnelli,2014-11-12T16:06:16Z,@laanwj I think your last test wasn't with the change where the RPCConsole gets properly deleted in the destructor. Without that the position wasn't stored.\n,https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62742504,62742504,
laanwj,2014-11-13T11:30:23Z,"ACK apart from above nit (tested with wallet mode, disablewallet mode, and compiled without wallet support).\n",https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62877609,62877609,
laanwj,2014-11-13T11:35:51Z,@rebroad can you confirm that this fixes #5254?\n,https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-62878131,62878131,
jonasschnelli,2014-11-26T12:12:35Z,ping @rebroad \n,https://github.com/bitcoin/bitcoin/pull/5258#issuecomment-64595722,64595722,
laanwj,2014-11-11T10:52:26Z,"This Qt:::Window is no longer necessary, it is automatic when parent==0.\n",https://github.com/bitcoin/bitcoin/pull/5258#discussion_r20143220,20143220,src/qt/rpcconsole.cpp
laanwj,2014-11-13T11:30:11Z,Please keep the `windowType() != Qt::Widget`. Pressing escape in disablewallet mode now deletes the interface.\n,https://github.com/bitcoin/bitcoin/pull/5258#discussion_r20284980,20284980,src/qt/rpcconsole.cpp
