[
  {
    "sha": "5c5d0b62648e1b144b7b93c199f45265dac100e5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1YzVkMGI2MjY0OGUxYjE0NGI3YjkzYzE5OWY0NTI2NWRhYzEwMGU1",
    "commit": {
      "author": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2020-12-10T18:31:48Z"
      },
      "committer": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2021-06-10T14:58:45Z"
      },
      "message": "Add FoundBlock.found member\n\nThis change lets IPC serialization code handle FoundBlock arguments more\nsimply and efficiently. Without this change there was no way to\ndetermine from a FoundBlock object whether a block was found or not. So\nin order to correctly implement behavior of leaving FoundBlock output\nvariables unmodified when a block was not found, IPC code would have to\nread preexisting output variable values from the local process, send\nthem to the remote process, receive output values back from the remote\nprocess, and save them to output variables unconditionally. With\nFoundBlock.found method, the process is simpler. There's no need to read\nor send preexisting local output variable values, just to read final\noutput values from the remote process and set them conditionally if the\nblock was found.",
      "tree": {
        "sha": "922b222273b4c8a1fc5710726c5c7f3c19f67acb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/922b222273b4c8a1fc5710726c5c7f3c19f67acb"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5c5d0b62648e1b144b7b93c199f45265dac100e5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5c5d0b62648e1b144b7b93c199f45265dac100e5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5c5d0b62648e1b144b7b93c199f45265dac100e5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5c5d0b62648e1b144b7b93c199f45265dac100e5/comments",
    "author": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1704bbf2263f16c720604cfab4ccb775315df690",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1704bbf2263f16c720604cfab4ccb775315df690",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1704bbf2263f16c720604cfab4ccb775315df690"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 5,
      "deletions": 1
    },
    "files": [
      {
        "sha": "d40bd09e2d61a046ac6fc939043f124d713a74a0",
        "filename": "src/interfaces/chain.h",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5c5d0b62648e1b144b7b93c199f45265dac100e5/src/interfaces/chain.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5c5d0b62648e1b144b7b93c199f45265dac100e5/src/interfaces/chain.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/interfaces/chain.h?ref=5c5d0b62648e1b144b7b93c199f45265dac100e5",
        "patch": "@@ -35,7 +35,9 @@ namespace interfaces {\n class Handler;\n class Wallet;\n \n-//! Helper for findBlock to selectively return pieces of block data.\n+//! Helper for findBlock to selectively return pieces of block data. If block is\n+//! found, data will be returned by setting specified output variables. If block\n+//! is not found, output variables will keep their previous values.\n class FoundBlock\n {\n public:\n@@ -60,6 +62,7 @@ class FoundBlock\n     bool* m_in_active_chain = nullptr;\n     const FoundBlock* m_next_block = nullptr;\n     CBlock* m_data = nullptr;\n+    mutable bool found = false;\n };\n \n //! Interface giving clients (wallet processes, maybe other analysis tools in"
      },
      {
        "sha": "552a1b8dc70f955736251d61ba76ac1d61080bc7",
        "filename": "src/node/interfaces.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5c5d0b62648e1b144b7b93c199f45265dac100e5/src/node/interfaces.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5c5d0b62648e1b144b7b93c199f45265dac100e5/src/node/interfaces.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/node/interfaces.cpp?ref=5c5d0b62648e1b144b7b93c199f45265dac100e5",
        "patch": "@@ -345,6 +345,7 @@ bool FillBlock(const CBlockIndex* index, const FoundBlock& block, UniqueLock<Rec\n         REVERSE_LOCK(lock);\n         if (!ReadBlockFromDisk(*block.m_data, index, Params().GetConsensus())) block.m_data->SetNull();\n     }\n+    block.found = true;\n     return true;\n }\n "
      }
    ]
  }
]