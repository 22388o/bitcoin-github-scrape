laanwj,2012-10-13T07:31:16Z,"To be more precise you removed ""all tooltips from QActions""?\n",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9401740,9401740,
Diapolo,2012-10-13T08:30:55Z,"No, not from all, just from the ones, which were only used for tray menus and in our main menu. The tooltips on toolbar buttons (e.g. QAction *overviewAction;) are still there. I verified which were safe to remove.\n",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9402086,9402086,
laanwj,2012-10-13T09:02:40Z,"ok.. ""except from the tab buttons"". I agree they are pointless at the moment.\n\nBut it's a bit sad to throw these messages away, which have been translated into many languages. I wonder if there is another way to show a short help message for menu items?\n\nIt appears that on the Qt documentation they recommend using status tips for menu items:\n\n```\nopenAct->setStatusTip(tr(""Open an existing f",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9402281,9402281,
Diapolo,2012-10-13T10:52:10Z,"You are absolutely right, it even looks nice to use tooltips for these :). I'll change this pull.\n\nEdit: Well it doesn't look nice, when hovering a menu item which has a tooltip during block-sync as the statusbar text get's garbelled pretty ugly (2 different texts displayed at the same place -> unreadable).\n\n![garbelled text](http://i48.tinypic.com/wjf4i9.png)\n",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9402995,9402995,
laanwj,2012-10-13T11:05:07Z,"Hm, indeed, as we use the status bar for different purposes, we'd need to find a solution for that. I think most straightforward would be to hide status tips when something else occupies the status bar?\n",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9403069,9403069,
Diapolo,2012-10-13T11:13:03Z,I've currently no idea how to do this ... but I'll try via an event filter :).\n,https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9403131,9403131,
Diapolo,2012-10-13T11:45:36Z,"I got it working, will update this pull later. I installed a global event filter on qApp and use this code to prevent the garbelled text:\n\n<pre>\nbool BitcoinGUI::eventFilter(QObject *object, QEvent *event)\n{\n    // Catch status tip events\n    if (event->type() == QEvent::StatusTip)\n    {\n        // Prevent adding text from setStatusTip(), if we currently use the status bar for displaying o",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9403366,9403366,
laanwj,2012-10-13T13:33:01Z,I think it's a good solution!\n,https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9404188,9404188,
Diapolo,2012-10-14T09:27:48Z,"Updated with event filter, would be nice if @laanwj could test it, too.\n",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9417754,9417754,
BitcoinPullTester,2012-10-20T00:02:54Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/da1962e2fd6c27a3a34d1f6108042b0c35c94c93 for binaries and test log.\n",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9626047,9626047,
laanwj,2012-10-20T06:34:14Z,"I can't get status tips to appear at all on Ubuntu. This is likely an Ubuntu problem :cry: (as it exports the menu), not a bug in the code.\n\nEdit: It works when disabling the ""Native menubar"":\n\n```\nQT_X11_NO_NATIVE_MENUBAR=1 ./bitcoin-qt -testnet\n```\n\nThis proves that the problem is in https://launchpad.net/appmenu-qt and thus out of the scope of this issue.\nEven filed a upstream bug: htt",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9628594,9628594,
laanwj,2012-10-20T06:43:35Z,It works in windows! That means it will also work in other Linux distributions that don't hijack everything. \n\nACK\n,https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9628637,9628637,
Diapolo,2012-10-20T08:34:17Z,"I think another pull should be made after this, to get a tooltip for every single item used in the main menu, which is currently not the case. It feels incomplete when we leave it that way IMO.\n",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9629230,9629230,
laanwj,2012-10-20T08:56:35Z,"I recommend setting the status tip equal to the tooltip for all QActions by default. This keeps the amount of messages relatively small, and they're never visible at once anyway (ie, tooltips show when the QAction is used for buttons and statustips when the same action is used for menu item).\n",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9629359,9629359,
Diapolo,2012-10-22T06:59:46Z,@laanwj I updated this pull to now use statustips in addition to tooltips where it makes sense and added new descriptive texts for some elements that were missing these.\n,https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9654159,9654159,
laanwj,2012-10-22T07:21:27Z,"Instead of repeating the message, why not do:\n\n```\nwidget->setStatusTip(widget->getToolTip())\n```\n\n(or other way around)\nOtherwise they're bound to diverge over time.\n",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9654558,9654558,
Diapolo,2012-10-22T07:27:58Z,Sure that is way better :).\n,https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9654664,9654664,
Diapolo,2012-10-22T07:43:40Z,Updated to reflect your suggestion.\n,https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9655035,9655035,
Diapolo,2012-10-25T08:17:19Z,"@laanwj I guess this needs a rebase after your warning bar pull is in, but are you ok with it now?\n\nI have a question on our used eventFilter() functions. The Digia doc says:\n\n<pre>\nIf all the event filters allow further processing of an event (by each returning false), the event is sent to the target object itself.\nIf one of them stops processing (by returning true), the target and any late",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9769376,9769376,
laanwj,2012-10-25T08:20:13Z,"QObject is not the target object. It is the superclass, it's customary to call the superclass method when overriding a method in Qt. It might well be implemented as ""return false"", but that's an internal implementation detail.\n\nEdit: yes this is ok with me now\n",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9769455,9769455,
Diapolo,2012-10-25T08:24:37Z,"Alright, but we also have some that use `QWidget` or `QDialog` and one that uses just false. I just want to understand, if we should harmonize that and what are the resons we did it like it's now.\n",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9769554,9769554,
laanwj,2012-10-25T08:32:09Z,"Yes, if your superclass is QFoo you should use QFoo. QObject is used for classes that derive from QObject. Etc.\n\nUsing just false could cause bugs in event propagation in some cases, at least theoretically.\n",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9769759,9769759,
Diapolo,2012-10-31T07:24:52Z,Can I get an ACK?\n,https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9935281,9935281,
BitcoinPullTester,2012-10-31T07:35:08Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/3c4bac3c2f3eb4ff9b60d6f64b5e035dee7e5fd4 for binaries and test log.\n",https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9935447,9935447,
laanwj,2012-10-31T08:04:14Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/1923#issuecomment-9936051,9936051,
Diapolo,2012-10-25T09:20:01Z,"@laanwj  Shouldn't this be `this` instead of `qApp`? qApp is the QCoreApplication->Instance(), but we just need this filter for the QMainWindow (which is the object with the statusbar), which is our BitcoinGUI object.\n",https://github.com/bitcoin/bitcoin/pull/1923#discussion_r1938653,1938653,src/qt/bitcoingui.cpp
laanwj,2012-10-25T09:23:49Z,"You could try. It's good to make event listeners as local as possible (a global event listener will be called for all events throughout the application, which can impact performance), but I don't know if it would work.\n",https://github.com/bitcoin/bitcoin/pull/1923#discussion_r1938680,1938680,src/qt/bitcoingui.cpp
Diapolo,2012-10-25T09:42:03Z,"Compiles and works just fine, I'll update with this change!\n",https://github.com/bitcoin/bitcoin/pull/1923#discussion_r1938816,1938816,src/qt/bitcoingui.cpp
laanwj,2012-10-25T10:20:23Z,"BTW, just for information (this implementation is fine), instead of installing an event filter on the object itself, you can also override one of the *event methods ( see https://qt-project.org/doc/qt-4.8/qwidget.html#event ). \n",https://github.com/bitcoin/bitcoin/pull/1923#discussion_r1939087,1939087,src/qt/bitcoingui.cpp
Diapolo,2012-10-25T13:54:20Z,"Good to know, thanks :).\n",https://github.com/bitcoin/bitcoin/pull/1923#discussion_r1940776,1940776,src/qt/bitcoingui.cpp
