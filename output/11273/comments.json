[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327921266",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11273#issuecomment-327921266",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11273",
    "id": 327921266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzkyMTI2Ng==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-07T20:39:21Z",
    "updated_at": "2017-09-07T20:39:21Z",
    "author_association": "MEMBER",
    "body": "Is this just a cleanup or does this result in crashes/misestimations?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327921266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/328296395",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11273#issuecomment-328296395",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11273",
    "id": 328296395,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODI5NjM5NQ==",
    "user": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?u=b7dd63827227d69794b5fe28797b1bd107b930dd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-09T18:48:33Z",
    "updated_at": "2017-09-09T18:48:33Z",
    "author_association": "MEMBER",
    "body": "@laanwj This is meant to just be cleanup.  The code to process the old file was left in under the thought we might provide a transition, but then we never did.  Which reminds me, we should mention in the release notes that upgrading starts your estimates over again.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/328296395/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/328588422",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11273#issuecomment-328588422",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11273",
    "id": 328588422,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODU4ODQyMg==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-11T16:45:44Z",
    "updated_at": "2017-09-11T16:45:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "There are also similar cleanups to be had in TxConfirmStats::Read.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/328588422/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332084951",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11273#issuecomment-332084951",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11273",
    "id": 332084951,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjA4NDk1MQ==",
    "user": {
      "login": "Xekyo",
      "id": 4060799,
      "node_id": "MDQ6VXNlcjQwNjA3OTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4060799?u=d924616c3b45bdda9c3b78d1697f1fe6a92b49c5&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Xekyo",
      "html_url": "https://github.com/Xekyo",
      "followers_url": "https://api.github.com/users/Xekyo/followers",
      "following_url": "https://api.github.com/users/Xekyo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Xekyo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Xekyo/subscriptions",
      "organizations_url": "https://api.github.com/users/Xekyo/orgs",
      "repos_url": "https://api.github.com/users/Xekyo/repos",
      "events_url": "https://api.github.com/users/Xekyo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Xekyo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-26T04:44:07Z",
    "updated_at": "2017-09-26T04:44:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jnewbery and I tested this at CDT. It will only refrain from loading estimation files created by the previous version as they are not compatible with the new estimation file.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332084951/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332198214",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11273#issuecomment-332198214",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11273",
    "id": 332198214,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjE5ODIxNA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-26T13:29:30Z",
    "updated_at": "2017-09-26T13:29:30Z",
    "author_association": "MEMBER",
    "body": "@Xekyo care to respond to @TheBlueMatt's comment? There are a couple of if statements in `TxConfirmStats::Read` that are now redundant:https://github.com/bitcoin/bitcoin/blob/67879b7c443144e479c763f64abb9c1ed7e44eaa/src/policy/fees.cpp#L415 and https://github.com/bitcoin/bitcoin/blob/67879b7c443144e479c763f64abb9c1ed7e44eaa/src/policy/fees.cpp#L444\r\nThis PR should also clean up that code.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332198214/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/348232197",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11273#issuecomment-348232197",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11273",
    "id": 348232197,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODIzMjE5Nw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-30T15:58:48Z",
    "updated_at": "2017-11-30T15:58:48Z",
    "author_association": "MEMBER",
    "body": "Ping @Xekyo , if you include @TheBlueMatt's nits this is ready for merge.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/348232197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352803232",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11273#issuecomment-352803232",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11273",
    "id": 352803232,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjgwMzIzMg==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-19T16:03:44Z",
    "updated_at": "2017-12-19T16:03:44Z",
    "author_association": "MEMBER",
    "body": "utACK 3a3a9f9\r\nI'm going to merge this. Removing this redundant code is clearly an improvement, and the other things suggested can be done later (added \"up for grabs\" tag).\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352803232/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352808310",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11273#issuecomment-352808310",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11273",
    "id": 352808310,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjgwODMxMA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-19T16:19:22Z",
    "updated_at": "2017-12-19T16:19:22Z",
    "author_association": "MEMBER",
    "body": "utACK cdd6bbf.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352808310/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137663908",
    "pull_request_review_id": 61362399,
    "id": 137663908,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNzY2MzkwOA==",
    "diff_hunk": "@@ -944,32 +944,7 @@ bool CBlockPolicyEstimator::Read(CAutoFile& filein)\n         unsigned int nFileBestSeenHeight;\n         filein >> nFileBestSeenHeight;\n \n-        if (nVersionThatWrote < 149900) {\n-            // Read the old fee estimates file for temporary use, but then discard.  Will start collecting data from scratch.\n-            // decay is stored before buckets in old versions, so pre-read decay and pass into TxConfirmStats constructor\n-            double tempDecay;\n-            filein >> tempDecay;\n-            if (tempDecay <= 0 || tempDecay >= 1)\n-                throw std::runtime_error(\"Corrupt estimates file. Decay must be between 0 and 1 (non-inclusive)\");\n-\n-            std::vector<double> tempBuckets;\n-            filein >> tempBuckets;\n-            size_t tempNum = tempBuckets.size();\n-            if (tempNum <= 1 || tempNum > 1000)\n-                throw std::runtime_error(\"Corrupt estimates file. Must have between 2 and 1000 feerate buckets\");\n-\n-            std::map<double, unsigned int> tempMap;\n-\n-            std::unique_ptr<TxConfirmStats> tempFeeStats(new TxConfirmStats(tempBuckets, tempMap, MED_BLOCK_PERIODS, tempDecay, 1));\n-            tempFeeStats->Read(filein, nVersionThatWrote, tempNum);\n-            // if nVersionThatWrote < 139900 then another TxConfirmStats (for priority) follows but can be ignored.\n-\n-            tempMap.clear();\n-            for (unsigned int i = 0; i < tempBuckets.size(); i++) {\n-                tempMap[tempBuckets[i]] = i;\n-            }\n-        }\n-        else { // nVersionThatWrote >= 149900\n+        if (nVersionThatWrote > 149900) {",
    "path": "src/policy/fees.cpp",
    "position": null,
    "original_position": 30,
    "commit_id": "3a3a9f978ba625d9d1f645810e81ecbc3cfb86ae",
    "original_commit_id": "9b1d851f0fd4c2ca413f1419c73d657f477062fd",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This will always evaluate to false, as nVersionThatWrote is currently ==149900",
    "created_at": "2017-09-07T21:48:47Z",
    "updated_at": "2017-09-07T22:58:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11273#discussion_r137663908",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11273",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137663908"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11273#discussion_r137663908"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11273"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137663908/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 947,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137672601",
    "pull_request_review_id": 61371984,
    "id": 137672601,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNzY3MjYwMQ==",
    "diff_hunk": "@@ -944,32 +944,7 @@ bool CBlockPolicyEstimator::Read(CAutoFile& filein)\n         unsigned int nFileBestSeenHeight;\n         filein >> nFileBestSeenHeight;\n \n-        if (nVersionThatWrote < 149900) {\n-            // Read the old fee estimates file for temporary use, but then discard.  Will start collecting data from scratch.\n-            // decay is stored before buckets in old versions, so pre-read decay and pass into TxConfirmStats constructor\n-            double tempDecay;\n-            filein >> tempDecay;\n-            if (tempDecay <= 0 || tempDecay >= 1)\n-                throw std::runtime_error(\"Corrupt estimates file. Decay must be between 0 and 1 (non-inclusive)\");\n-\n-            std::vector<double> tempBuckets;\n-            filein >> tempBuckets;\n-            size_t tempNum = tempBuckets.size();\n-            if (tempNum <= 1 || tempNum > 1000)\n-                throw std::runtime_error(\"Corrupt estimates file. Must have between 2 and 1000 feerate buckets\");\n-\n-            std::map<double, unsigned int> tempMap;\n-\n-            std::unique_ptr<TxConfirmStats> tempFeeStats(new TxConfirmStats(tempBuckets, tempMap, MED_BLOCK_PERIODS, tempDecay, 1));\n-            tempFeeStats->Read(filein, nVersionThatWrote, tempNum);\n-            // if nVersionThatWrote < 139900 then another TxConfirmStats (for priority) follows but can be ignored.\n-\n-            tempMap.clear();\n-            for (unsigned int i = 0; i < tempBuckets.size(); i++) {\n-                tempMap[tempBuckets[i]] = i;\n-            }\n-        }\n-        else { // nVersionThatWrote >= 149900\n+        if (nVersionThatWrote > 149900) {",
    "path": "src/policy/fees.cpp",
    "position": null,
    "original_position": 30,
    "commit_id": "3a3a9f978ba625d9d1f645810e81ecbc3cfb86ae",
    "original_commit_id": "9b1d851f0fd4c2ca413f1419c73d657f477062fd",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't think so - on 0.15.0 it should be `150000` on master it should be `159900`",
    "created_at": "2017-09-07T22:41:00Z",
    "updated_at": "2017-09-07T22:58:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11273#discussion_r137672601",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11273",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137672601"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11273#discussion_r137672601"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11273"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137672601/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 947,
    "side": "RIGHT",
    "in_reply_to_id": 137663908
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137932910",
    "pull_request_review_id": 61668879,
    "id": 137932910,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNzkzMjkxMA==",
    "diff_hunk": "@@ -944,32 +944,7 @@ bool CBlockPolicyEstimator::Read(CAutoFile& filein)\n         unsigned int nFileBestSeenHeight;\n         filein >> nFileBestSeenHeight;\n \n-        if (nVersionThatWrote < 149900) {\n-            // Read the old fee estimates file for temporary use, but then discard.  Will start collecting data from scratch.\n-            // decay is stored before buckets in old versions, so pre-read decay and pass into TxConfirmStats constructor\n-            double tempDecay;\n-            filein >> tempDecay;\n-            if (tempDecay <= 0 || tempDecay >= 1)\n-                throw std::runtime_error(\"Corrupt estimates file. Decay must be between 0 and 1 (non-inclusive)\");\n-\n-            std::vector<double> tempBuckets;\n-            filein >> tempBuckets;\n-            size_t tempNum = tempBuckets.size();\n-            if (tempNum <= 1 || tempNum > 1000)\n-                throw std::runtime_error(\"Corrupt estimates file. Must have between 2 and 1000 feerate buckets\");\n-\n-            std::map<double, unsigned int> tempMap;\n-\n-            std::unique_ptr<TxConfirmStats> tempFeeStats(new TxConfirmStats(tempBuckets, tempMap, MED_BLOCK_PERIODS, tempDecay, 1));\n-            tempFeeStats->Read(filein, nVersionThatWrote, tempNum);\n-            // if nVersionThatWrote < 139900 then another TxConfirmStats (for priority) follows but can be ignored.\n-\n-            tempMap.clear();\n-            for (unsigned int i = 0; i < tempBuckets.size(); i++) {\n-                tempMap[tempBuckets[i]] = i;\n-            }\n-        }\n-        else { // nVersionThatWrote >= 149900\n+        if (nVersionThatWrote > 149900) {",
    "path": "src/policy/fees.cpp",
    "position": null,
    "original_position": 30,
    "commit_id": "3a3a9f978ba625d9d1f645810e81ecbc3cfb86ae",
    "original_commit_id": "9b1d851f0fd4c2ca413f1419c73d657f477062fd",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Mixed that up as `nVersionRequired`, sorry.",
    "created_at": "2017-09-09T19:04:07Z",
    "updated_at": "2017-09-09T19:04:07Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11273#discussion_r137932910",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11273",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137932910"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11273#discussion_r137932910"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11273"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137932910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 947,
    "side": "RIGHT",
    "in_reply_to_id": 137663908
  }
]