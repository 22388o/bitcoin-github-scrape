fanquake,2018-06-14T01:21:57Z,"From [make: Special Targets](https://www.gnu.org/software/make/manual/html_node/Special-Targets.html):\n\n##### .NOTPARALLEL\n> If .NOTPARALLEL is mentioned as a target, then this invocation of make will be run serially, even if the ‘-j’ option is given. Any recursively invoked make command will still run recipes in parallel (unless its makefile also contains this target). Any prerequisites on ",https://github.com/bitcoin/bitcoin/pull/13465#issuecomment-397137145,397137145,
laanwj,2018-06-14T11:23:07Z,"Will this make the entire build non-parallel? If so, that would be bad.",https://github.com/bitcoin/bitcoin/pull/13465#issuecomment-397260954,397260954,
ken2812221,2018-06-14T11:54:51Z,">Will this make the entire build non-parallel? If so, that would be bad.\n\nAs @fanquake posted\n\n>Any recursively invoked make command will still run recipes in parallel \n\nThe code building targets are still can run in parallel because they are in src/Makefile, this change only affect the target in the top Makefile.",https://github.com/bitcoin/bitcoin/pull/13465#issuecomment-397268129,397268129,
laanwj,2018-06-14T15:55:04Z,ok utACK from me in that case,https://github.com/bitcoin/bitcoin/pull/13465#issuecomment-397345950,397345950,
theuni,2018-06-14T17:06:37Z,"If there's a race condition, something's broken. We should clarify the dependencies rather than serializing. Any idea where things break down?",https://github.com/bitcoin/bitcoin/pull/13465#issuecomment-397368731,397368731,
promag,2018-06-14T17:31:21Z,"Agree with @theuni, looks like this avoids a problem instead of fixing it.",https://github.com/bitcoin/bitcoin/pull/13465#issuecomment-397376032,397376032,
theuni,2018-06-14T17:34:16Z,"I think that this should be enough to fix it. Untested:\n```diff\ndiff --git a/Makefile.am b/Makefile.am\nindex 8a8debb..3a725d3 100644\n--- a/Makefile.am\n+++ b/Makefile.am\n@@ -95,7 +95,7 @@ $(OSX_APP)/Contents/Resources/bitcoin.icns: $(OSX_INSTALLER_ICONS)\n        $(MKDIR_P) $(@D)\n        $(INSTALL_DATA) $< $@\n\n-$(OSX_APP)/Contents/MacOS/Bitcoin-Qt: $(BITCOIN_QT_BIN)\n+$(OSX_APP)",https://github.com/bitcoin/bitcoin/pull/13465#issuecomment-397376890,397376890,
ken2812221,2018-06-14T23:32:59Z,@theuni Fixed,https://github.com/bitcoin/bitcoin/pull/13465#issuecomment-397469028,397469028,
promag,2018-06-14T23:56:08Z,"utACK cf01fd6, makes sense!",https://github.com/bitcoin/bitcoin/pull/13465#issuecomment-397472551,397472551,
theuni,2018-06-15T17:09:07Z,"@ken2812221 Thanks!\n\nTested locally. I can easily reproduce the racy build failure in master, and this appears to fix it.",https://github.com/bitcoin/bitcoin/pull/13465#issuecomment-397685151,397685151,
