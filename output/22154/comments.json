[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/855186772",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#issuecomment-855186772",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22154",
    "id": 855186772,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NTE4Njc3Mg==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-05T05:28:34Z",
    "updated_at": "2021-06-17T00:37:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #22260 (Make bech32m the default, except where needed. Update GUI checkbox. by Sjors)\n* #21500 (wallet, rpc: add an option to list private descriptors by S3RK)\n* #20191 (wallet, refactor: make DescriptorScriptPubKeyMan agnostic of internal flag by S3RK)\n* #19602 (wallet: Migrate legacy wallets to descriptor wallets by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/855186772/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860264172",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#issuecomment-860264172",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22154",
    "id": 860264172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDI2NDE3Mg==",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?u=348c27f90b6fff8fd72fa27232272651436a2ff0&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-13T20:11:48Z",
    "updated_at": "2021-06-13T20:11:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK 05ff76c3aad6905d984ba1764c8045ca530fbf8f",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860264172/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863078439",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#issuecomment-863078439",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22154",
    "id": 863078439,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MzA3ODQzOQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-17T09:19:37Z",
    "updated_at": "2021-06-17T09:19:37Z",
    "author_association": "MEMBER",
    "body": "re-utACK f70d55c136d9fc0bc986cc86e619570e0417d188",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863078439/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863520459",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#issuecomment-863520459",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22154",
    "id": 863520459,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MzUyMDQ1OQ==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-17T19:53:26Z",
    "updated_at": "2021-06-17T19:53:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863520459/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864047177",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#issuecomment-864047177",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22154",
    "id": 864047177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDA0NzE3Nw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-18T13:39:55Z",
    "updated_at": "2021-06-18T13:39:55Z",
    "author_association": "MEMBER",
    "body": "re-utACK f33361c17f3937ee8819fcea76548e19f6ac6558",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864047177/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864601279",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#issuecomment-864601279",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22154",
    "id": 864601279,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDYwMTI3OQ==",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?u=348c27f90b6fff8fd72fa27232272651436a2ff0&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-20T19:31:03Z",
    "updated_at": "2021-06-20T19:31:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "re-ACK f33361c\r\n\r\nThe only changes since my last review was a reorganization of the code changes in `TransactionChangeType()` and ensuring there that `BECH32` address types are also available before using them. That commit was also slightly renamed.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864601279/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864782210",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#issuecomment-864782210",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22154",
    "id": 864782210,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDc4MjIxMA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-21T07:03:08Z",
    "updated_at": "2021-06-24T12:19:48Z",
    "author_association": "MEMBER",
    "body": "Code review ACK f33361c17f3937ee8819fcea76548e19f6ac6558\r\nre-review ACK 754f134a50cc56cdf0baf996d909c992770fcc97\r\n\r\nI think the potential RPC error message translation issue mentioned in https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653415459 needs to be addressed at some point, but also think it's not a blocker for 22.0.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864782210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/866458586",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#issuecomment-866458586",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22154",
    "id": 866458586,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NjQ1ODU4Ng==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T01:50:12Z",
    "updated_at": "2021-06-23T01:50:12Z",
    "author_association": "MEMBER",
    "body": "I get an error in wallet_taproot.py:\r\n```python\r\nRemaining jobs: [wallet_taproot.py]\r\n1/1 - wallet_taproot.py failed, Duration: 1 s\r\n\r\nstdout:\r\n2021-06-23T01:47:26.095000Z TestFramework (INFO): Initializing test directory /tmp/test_runner_\u20bf_\ud83c\udfc3_20210623_134725/wallet_taproot_0\r\n2021-06-23T01:47:26.359000Z TestFramework (INFO): Creating wallets...\r\n2021-06-23T01:47:26.605000Z TestFramework (INFO): Mining blocks...\r\n2021-06-23T01:47:26.694000Z TestFramework (INFO): Testing tr(XPRV) address derivation\r\n2021-06-23T01:47:26.745000Z TestFramework (INFO): Testing tr(XPRV) through sendtoaddress\r\n2021-06-23T01:47:26.770000Z TestFramework (ERROR): JSONRPC error\r\nTraceback (most recent call last):\r\n  File \"/home/meshcollider/bitcoin/test/functional/test_framework/test_framework.py\", line 128, in main\r\n    self.run_test()\r\n  File \"/home/meshcollider/bitcoin/test/functional/wallet_taproot.py\", line 347, in run_test\r\n    1\r\n  File \"/home/meshcollider/bitcoin/test/functional/wallet_taproot.py\", line 314, in do_test\r\n    self.do_test_sendtoaddress(comment, pattern, privmap, treefn, keys[0:nkeys], keys[nkeys:2*nkeys])\r\n  File \"/home/meshcollider/bitcoin/test/functional/wallet_taproot.py\", line 262, in do_test_sendtoaddress\r\n    addr_g = self.rpc_online.getnewaddress(address_type='bech32')\r\n  File \"/home/meshcollider/bitcoin/test/functional/test_framework/coverage.py\", line 47, in __call__\r\n    return_val = self.auth_service_proxy_instance.__call__(*args, **kwargs)\r\n  File \"/home/meshcollider/bitcoin/test/functional/test_framework/authproxy.py\", line 146, in __call__\r\n    raise JSONRPCException(response['error'], status)\r\ntest_framework.authproxy.JSONRPCException: Error: No bech32 addresses available. (-12)\r\n2021-06-23T01:47:26.821000Z TestFramework (INFO): Stopping nodes\r\n2021-06-23T01:47:27.028000Z TestFramework (WARNING): Not cleaning up dir /tmp/test_runner_\u20bf_\ud83c\udfc3_20210623_134725/wallet_taproot_0\r\n2021-06-23T01:47:27.028000Z TestFramework (ERROR): Test failed. Test logging available at /tmp/test_runner_\u20bf_\ud83c\udfc3_20210623_134725/wallet_taproot_0/test_framework.log\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/866458586/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/866460967",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#issuecomment-866460967",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22154",
    "id": 866460967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NjQ2MDk2Nw==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T01:57:08Z",
    "updated_at": "2021-06-23T01:57:08Z",
    "author_association": "MEMBER",
    "body": "Silent merge conflict, rebased and fixed.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/866460967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/866797850",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#issuecomment-866797850",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22154",
    "id": 866797850,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2Njc5Nzg1MA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T12:36:36Z",
    "updated_at": "2021-06-23T12:36:36Z",
    "author_association": "MEMBER",
    "body": "re-utACK 754f134: only change is switching to `bech32m` in two `wallet_taproot.py` test cases.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/866797850/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/867212574",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#issuecomment-867212574",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22154",
    "id": 867212574,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NzIxMjU3NA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T22:59:16Z",
    "updated_at": "2021-06-23T22:59:16Z",
    "author_association": "MEMBER",
    "body": "> When should `bech32m` be added to the `-addresstype` and `-changetype` wallet config option helps?\r\n\r\nWhen we make bech32m descriptors by default.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/867212574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/867214167",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#issuecomment-867214167",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22154",
    "id": 867214167,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NzIxNDE2Nw==",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?u=348c27f90b6fff8fd72fa27232272651436a2ff0&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T23:03:46Z",
    "updated_at": "2021-06-23T23:03:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "re-ACK 754f134a50cc56cdf0baf996d909c992770fcc97\r\n\r\nConfirmed only changes were rebasing and fixing `wallet_taproot.py`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/867214167/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/867837701",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#issuecomment-867837701",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22154",
    "id": 867837701,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NzgzNzcwMQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-24T17:52:59Z",
    "updated_at": "2021-06-24T17:52:59Z",
    "author_association": "MEMBER",
    "body": "I rebased my followup in #22260 (which probably works best if you don't set `-addresstype`)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/867837701/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646014986",
    "pull_request_review_id": 676796365,
    "id": 646014986,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NjAxNDk4Ng==",
    "diff_hunk": "@@ -131,6 +131,9 @@ static RPCHelpMan createmultisig()\n         if (!ParseOutputType(request.params[2].get_str(), output_type)) {\n             throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, strprintf(\"Unknown address type '%s'\", request.params[2].get_str()));\n         }\n+        if (output_type == OutputType::BECH32M) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Bech32m multisig addresses cannot be created yet\");",
    "path": "src/rpc/misc.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "3f68bb5d6403d148930d7888c03e60fb00317acd",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Do we intend to ever create those through this RPC? I think you'd use `deriveaddress` or so instead.",
    "created_at": "2021-06-05T17:24:12Z",
    "updated_at": "2021-06-05T17:24:12Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r646014986",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646014986"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r646014986"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646014986/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 135,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646178016",
    "pull_request_review_id": 676897208,
    "id": 646178016,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NjE3ODAxNg==",
    "diff_hunk": "@@ -131,6 +131,9 @@ static RPCHelpMan createmultisig()\n         if (!ParseOutputType(request.params[2].get_str(), output_type)) {\n             throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, strprintf(\"Unknown address type '%s'\", request.params[2].get_str()));\n         }\n+        if (output_type == OutputType::BECH32M) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Bech32m multisig addresses cannot be created yet\");",
    "path": "src/rpc/misc.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "3f68bb5d6403d148930d7888c03e60fb00317acd",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Probably not. Changed the message.",
    "created_at": "2021-06-06T19:41:36Z",
    "updated_at": "2021-06-06T19:41:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r646178016",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646178016"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r646178016"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646178016/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 135,
    "side": "RIGHT",
    "in_reply_to_id": 646014986
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649585829",
    "pull_request_review_id": 681325969,
    "id": 649585829,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0OTU4NTgyOQ==",
    "diff_hunk": "@@ -254,6 +254,13 @@ class ScriptPubKeyMan\n     boost::signals2::signal<void ()> NotifyCanGetAddressesChanged;\n };\n \n+/** OutputTypes supported by the LegacyScriptPubKeyMan */\n+static const std::unordered_set<OutputType> LEGACY_OUTPUT_TYPES {",
    "path": "src/wallet/scriptpubkeyman.h",
    "position": 14,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "fe7f3ee0e7b4a8718435711fa5b775620b5434f3",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: could use `constexpr` I think",
    "created_at": "2021-06-10T23:02:19Z",
    "updated_at": "2021-06-13T00:36:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r649585829",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649585829"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r649585829"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649585829/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 258,
    "original_line": 258,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649597195",
    "pull_request_review_id": 681325969,
    "id": 649597195,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0OTU5NzE5NQ==",
    "diff_hunk": "@@ -373,5 +373,15 @@ def run_test(self):\n         self.test_address(4, self.nodes[4].getrawchangeaddress(), multisig=False, typ='p2sh-segwit')\n         self.test_address(4, self.nodes[4].getrawchangeaddress('bech32'), multisig=False, typ='bech32')\n \n+        if self.options.descriptors:\n+            self.log.info(\"Descriptor wallets do not have bech32m addreses by default yet\")\n+            # TODO: Remove this when they do\n+            assert_raises_rpc_error(-12, \"Error: No bech32m addresses available\", self.nodes[0].getnewaddress, \"\", \"bech32m\")\n+            assert_raises_rpc_error(-12, \"Error: Keypool ran out, please call keypoolrefill first\", self.nodes[0].getrawchangeaddress, \"bech32m\")",
    "path": "test/functional/wallet_address_types.py",
    "position": null,
    "original_position": 8,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "73ddcb81fcff5f10429ef6e78efa14c09e95807f",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hm, these error messages could be more clear, even if they are only temporary since they will be probably what people might run into with 0.22. Maybe return something similar as the log info above in both cases if the in this case?",
    "created_at": "2021-06-10T23:37:23Z",
    "updated_at": "2021-06-13T00:36:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r649597195",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649597195"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r649597195"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649597195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 380,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649597262",
    "pull_request_review_id": 681325969,
    "id": 649597262,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0OTU5NzI2Mg==",
    "diff_hunk": "@@ -373,5 +373,15 @@ def run_test(self):\n         self.test_address(4, self.nodes[4].getrawchangeaddress(), multisig=False, typ='p2sh-segwit')\n         self.test_address(4, self.nodes[4].getrawchangeaddress('bech32'), multisig=False, typ='bech32')\n \n+        if self.options.descriptors:\n+            self.log.info(\"Descriptor wallets do not have bech32m addreses by default yet\")",
    "path": "test/functional/wallet_address_types.py",
    "position": null,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "73ddcb81fcff5f10429ef6e78efa14c09e95807f",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "addresses",
    "created_at": "2021-06-10T23:37:38Z",
    "updated_at": "2021-06-13T00:36:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r649597262",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649597262"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r649597262"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649597262/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 377,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650449568",
    "pull_request_review_id": 681325969,
    "id": 650449568,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDQ0OTU2OA==",
    "diff_hunk": "@@ -23,6 +23,11 @@ const uint32_t BIP32_HARDENED_KEY_LIMIT = 0x80000000;\n \n bool LegacyScriptPubKeyMan::GetNewDestination(const OutputType type, CTxDestination& dest, std::string& error)\n {\n+    if (LEGACY_OUTPUT_TYPES.count(type) == 0) {",
    "path": "src/wallet/scriptpubkeyman.cpp",
    "position": 4,
    "original_position": 4,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "fe7f3ee0e7b4a8718435711fa5b775620b5434f3",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Have you thought about placing asserts in `LegacyScriptPubKeyMan::KeepDestination`, `LegacyScriptPubKeyMan::GetKeyFromPool`, and `LegacyScriptPubKeyMan::LearnRelatedScripts`?",
    "created_at": "2021-06-13T00:08:01Z",
    "updated_at": "2021-06-13T00:36:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650449568",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650449568"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650449568"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650449568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 25,
    "original_line": 25,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650449876",
    "pull_request_review_id": 681325969,
    "id": 650449876,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDQ0OTg3Ng==",
    "diff_hunk": "@@ -1906,7 +1906,12 @@ OutputType CWallet::TransactionChangeType(const std::optional<OutputType>& chang\n         // Check if any destination contains a witness program:\n         int witnessversion = 0;\n         std::vector<unsigned char> witnessprogram;\n-        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+        bool is_wit = recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram);",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "26597ff64d82d6f6da39ca6f92fe66dce632c304",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can be `const`",
    "created_at": "2021-06-13T00:12:02Z",
    "updated_at": "2021-06-13T00:36:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650449876",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650449876"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650449876"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650449876/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1909,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650453322",
    "pull_request_review_id": 682362813,
    "id": 650453322,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDQ1MzMyMg==",
    "diff_hunk": "@@ -254,6 +254,13 @@ class ScriptPubKeyMan\n     boost::signals2::signal<void ()> NotifyCanGetAddressesChanged;\n };\n \n+/** OutputTypes supported by the LegacyScriptPubKeyMan */\n+static const std::unordered_set<OutputType> LEGACY_OUTPUT_TYPES {",
    "path": "src/wallet/scriptpubkeyman.h",
    "position": 14,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "fe7f3ee0e7b4a8718435711fa5b775620b5434f3",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Tried that but it doesn't work.",
    "created_at": "2021-06-13T01:04:43Z",
    "updated_at": "2021-06-13T01:04:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650453322",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650453322"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650453322"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650453322/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 258,
    "original_line": 258,
    "side": "RIGHT",
    "in_reply_to_id": 649585829
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650455933",
    "pull_request_review_id": 682364076,
    "id": 650455933,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDQ1NTkzMw==",
    "diff_hunk": "@@ -254,6 +254,13 @@ class ScriptPubKeyMan\n     boost::signals2::signal<void ()> NotifyCanGetAddressesChanged;\n };\n \n+/** OutputTypes supported by the LegacyScriptPubKeyMan */\n+static const std::unordered_set<OutputType> LEGACY_OUTPUT_TYPES {",
    "path": "src/wallet/scriptpubkeyman.h",
    "position": 14,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "fe7f3ee0e7b4a8718435711fa5b775620b5434f3",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You can't `constexpr` things that need allocation. You could use an array instead of an unordered_set, and use `std::find` to look up (which will likely be faster too, due to the tiny size), but it really doesn't matter here.",
    "created_at": "2021-06-13T01:44:36Z",
    "updated_at": "2021-06-13T01:44:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650455933",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650455933"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650455933"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650455933/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 258,
    "original_line": 258,
    "side": "RIGHT",
    "in_reply_to_id": 649585829
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650456180",
    "pull_request_review_id": 682364214,
    "id": 650456180,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDQ1NjE4MA==",
    "diff_hunk": "@@ -373,5 +373,15 @@ def run_test(self):\n         self.test_address(4, self.nodes[4].getrawchangeaddress(), multisig=False, typ='p2sh-segwit')\n         self.test_address(4, self.nodes[4].getrawchangeaddress('bech32'), multisig=False, typ='bech32')\n \n+        if self.options.descriptors:\n+            self.log.info(\"Descriptor wallets do not have bech32m addreses by default yet\")\n+            # TODO: Remove this when they do\n+            assert_raises_rpc_error(-12, \"Error: No bech32m addresses available\", self.nodes[0].getnewaddress, \"\", \"bech32m\")\n+            assert_raises_rpc_error(-12, \"Error: Keypool ran out, please call keypoolrefill first\", self.nodes[0].getrawchangeaddress, \"bech32m\")",
    "path": "test/functional/wallet_address_types.py",
    "position": null,
    "original_position": 8,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "73ddcb81fcff5f10429ef6e78efa14c09e95807f",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I've added a commit which allows `GetReservedDestination` to return real error messages. So this is now `No bech32m addresses available`.",
    "created_at": "2021-06-13T01:48:24Z",
    "updated_at": "2021-06-13T01:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650456180",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650456180"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650456180"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650456180/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 380,
    "side": "RIGHT",
    "in_reply_to_id": 649597195
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650456184",
    "pull_request_review_id": 682364218,
    "id": 650456184,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDQ1NjE4NA==",
    "diff_hunk": "@@ -373,5 +373,15 @@ def run_test(self):\n         self.test_address(4, self.nodes[4].getrawchangeaddress(), multisig=False, typ='p2sh-segwit')\n         self.test_address(4, self.nodes[4].getrawchangeaddress('bech32'), multisig=False, typ='bech32')\n \n+        if self.options.descriptors:\n+            self.log.info(\"Descriptor wallets do not have bech32m addreses by default yet\")",
    "path": "test/functional/wallet_address_types.py",
    "position": null,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "73ddcb81fcff5f10429ef6e78efa14c09e95807f",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed",
    "created_at": "2021-06-13T01:48:29Z",
    "updated_at": "2021-06-13T01:48:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650456184",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650456184"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650456184"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650456184/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 377,
    "side": "RIGHT",
    "in_reply_to_id": 649597262
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650456334",
    "pull_request_review_id": 682364298,
    "id": 650456334,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDQ1NjMzNA==",
    "diff_hunk": "@@ -23,6 +23,11 @@ const uint32_t BIP32_HARDENED_KEY_LIMIT = 0x80000000;\n \n bool LegacyScriptPubKeyMan::GetNewDestination(const OutputType type, CTxDestination& dest, std::string& error)\n {\n+    if (LEGACY_OUTPUT_TYPES.count(type) == 0) {",
    "path": "src/wallet/scriptpubkeyman.cpp",
    "position": 4,
    "original_position": 4,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "fe7f3ee0e7b4a8718435711fa5b775620b5434f3",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Added asserts for all of the `LegacyScriptPubKeyMan` functions which take an `OutputType`.",
    "created_at": "2021-06-13T01:50:23Z",
    "updated_at": "2021-06-13T01:50:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650456334",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650456334"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650456334"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650456334/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 25,
    "original_line": 25,
    "side": "RIGHT",
    "in_reply_to_id": 650449568
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650456336",
    "pull_request_review_id": 682364300,
    "id": 650456336,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDQ1NjMzNg==",
    "diff_hunk": "@@ -1906,7 +1906,12 @@ OutputType CWallet::TransactionChangeType(const std::optional<OutputType>& chang\n         // Check if any destination contains a witness program:\n         int witnessversion = 0;\n         std::vector<unsigned char> witnessprogram;\n-        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+        bool is_wit = recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram);",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "26597ff64d82d6f6da39ca6f92fe66dce632c304",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2021-06-13T01:50:27Z",
    "updated_at": "2021-06-13T01:50:27Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650456336",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650456336"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r650456336"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650456336/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1909,
    "side": "RIGHT",
    "in_reply_to_id": 650449876
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/652682773",
    "pull_request_review_id": 685159277,
    "id": 652682773,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MjY4Mjc3Mw==",
    "diff_hunk": "@@ -23,6 +23,11 @@ const uint32_t BIP32_HARDENED_KEY_LIMIT = 0x80000000;\n \n bool LegacyScriptPubKeyMan::GetNewDestination(const OutputType type, CTxDestination& dest, std::string& error)\n {\n+    if (LEGACY_OUTPUT_TYPES.count(type) == 0) {\n+        error = _(\"Error: Legacy wallets only support the \\\"legacy\\\", \\\"p2sh-segwit\\\", and \\\"bech32\\\" address types\").translated;",
    "path": "src/wallet/scriptpubkeyman.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "a1373469af96bf77bad65415c4b456f182dbc3fe",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "a1373469af96bf77bad65415c4b456f182dbc3fe : is this just belt and suspenders? When I do `getnewaddress Test bech32m` on legacy wallet for this commit, it's caught earlier and returns `No bech32m addresses available`. That's because `CWallet::GetNewDestination` tries `GetScriptPubKeyMan` first for the requested type.",
    "created_at": "2021-06-16T13:21:39Z",
    "updated_at": "2021-06-16T15:13:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r652682773",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/652682773"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r652682773"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/652682773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 26,
    "original_line": 26,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/652692353",
    "pull_request_review_id": 685159277,
    "id": 652692353,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MjY5MjM1Mw==",
    "diff_hunk": "@@ -1906,7 +1906,12 @@ OutputType CWallet::TransactionChangeType(const std::optional<OutputType>& chang\n         // Check if any destination contains a witness program:\n         int witnessversion = 0;\n         std::vector<unsigned char> witnessprogram;\n-        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+        const bool is_wit = recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram);\n+        if (is_wit && witnessversion >= 1 && GetScriptPubKeyMan(OutputType::BECH32M, true)) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "fe262ac06b7b9bff84aca94f503b39c114684af6",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "As an extra safety measure, maybe double-check that Taproot is active like in #22156",
    "created_at": "2021-06-16T13:32:03Z",
    "updated_at": "2021-06-16T15:13:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r652692353",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/652692353"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r652692353"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/652692353/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1910,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/652861459",
    "pull_request_review_id": 685406788,
    "id": 652861459,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1Mjg2MTQ1OQ==",
    "diff_hunk": "@@ -23,6 +23,11 @@ const uint32_t BIP32_HARDENED_KEY_LIMIT = 0x80000000;\n \n bool LegacyScriptPubKeyMan::GetNewDestination(const OutputType type, CTxDestination& dest, std::string& error)\n {\n+    if (LEGACY_OUTPUT_TYPES.count(type) == 0) {\n+        error = _(\"Error: Legacy wallets only support the \\\"legacy\\\", \\\"p2sh-segwit\\\", and \\\"bech32\\\" address types\").translated;",
    "path": "src/wallet/scriptpubkeyman.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "a1373469af96bf77bad65415c4b456f182dbc3fe",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, just belt and suspenders.",
    "created_at": "2021-06-16T16:37:50Z",
    "updated_at": "2021-06-16T16:37:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r652861459",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/652861459"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r652861459"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/652861459/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 26,
    "original_line": 26,
    "side": "RIGHT",
    "in_reply_to_id": 652682773
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/652863698",
    "pull_request_review_id": 685409848,
    "id": 652863698,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1Mjg2MzY5OA==",
    "diff_hunk": "@@ -1906,7 +1906,12 @@ OutputType CWallet::TransactionChangeType(const std::optional<OutputType>& chang\n         // Check if any destination contains a witness program:\n         int witnessversion = 0;\n         std::vector<unsigned char> witnessprogram;\n-        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+        const bool is_wit = recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram);\n+        if (is_wit && witnessversion >= 1 && GetScriptPubKeyMan(OutputType::BECH32M, true)) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "fe262ac06b7b9bff84aca94f503b39c114684af6",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Since this is generic for future segwit versions, I'm not sure doing that makes sense. For taproot specifically, there won't be a bech32m `ScriptPubKeyMan` until taproot activates anyways.",
    "created_at": "2021-06-16T16:41:05Z",
    "updated_at": "2021-06-16T16:41:05Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r652863698",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/652863698"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r652863698"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/652863698/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1910,
    "side": "RIGHT",
    "in_reply_to_id": 652692353
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653006563",
    "pull_request_review_id": 685601433,
    "id": 653006563,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzAwNjU2Mw==",
    "diff_hunk": "@@ -1906,7 +1906,12 @@ OutputType CWallet::TransactionChangeType(const std::optional<OutputType>& chang\n         // Check if any destination contains a witness program:\n         int witnessversion = 0;\n         std::vector<unsigned char> witnessprogram;\n-        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+        const bool is_wit = recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram);\n+        if (is_wit && witnessversion >= 1 && GetScriptPubKeyMan(OutputType::BECH32M, true)) {\n+            // If this is a segwit v1+ address and this wallet supports bech32m addresses, use bech32m\n+            return OutputType::BECH32M;\n+        } else if (is_wit) {\n+            // Otherwise if this is witness, use bech32",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "fe262ac06b7b9bff84aca94f503b39c114684af6",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This assumes there is always a bech32 descriptor, which may not be the case if you're using a custom taproot descriptor without fallback.\r\n\r\n```patch\r\ndiff --git a/src/wallet/wallet.cpp b/src/wallet/wallet.cpp\r\nindex 3eca506f08..c0b28acd47 100644\r\n--- a/src/wallet/wallet.cpp\r\n+++ b/src/wallet/wallet.cpp\r\n@@ -1911,9 +1911,11 @@ OutputType CWallet::TransactionChangeType(const std::optional<OutputType>& chang\r\n         if (is_wit && witnessversion >= 1 && GetScriptPubKeyMan(OutputType::BECH32M, true)) {\r\n             // If this is a segwit v1+ address and this wallet supports bech32m addresses, use bech32m\r\n             return OutputType::BECH32M;\r\n-        } else if (is_wit) {\r\n-            // Otherwise if this is witness, use bech32\r\n+        } else if (is_wit && GetScriptPubKeyMan(OutputType::BECH32, true)) {\r\n+            // Otherwise if this is witness, use bech32 if we have a descriptor:\r\n             return OutputType::BECH32;\r\n+        } else {\r\n+            return m_default_address_type;\r\n         }\r\n     }\r\n```",
    "created_at": "2021-06-16T20:05:13Z",
    "updated_at": "2021-06-16T20:05:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653006563",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653006563"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653006563"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653006563/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1914,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653048065",
    "pull_request_review_id": 685657027,
    "id": 653048065,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzA0ODA2NQ==",
    "diff_hunk": "@@ -1906,7 +1906,12 @@ OutputType CWallet::TransactionChangeType(const std::optional<OutputType>& chang\n         // Check if any destination contains a witness program:\n         int witnessversion = 0;\n         std::vector<unsigned char> witnessprogram;\n-        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+        const bool is_wit = recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram);\n+        if (is_wit && witnessversion >= 1 && GetScriptPubKeyMan(OutputType::BECH32M, true)) {\n+            // If this is a segwit v1+ address and this wallet supports bech32m addresses, use bech32m\n+            return OutputType::BECH32M;\n+        } else if (is_wit) {\n+            // Otherwise if this is witness, use bech32",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "fe262ac06b7b9bff84aca94f503b39c114684af6",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The original code did not check for a bech32 `ScriptPubKeyMan`, but I have added that check. I did not include the `else` suggested in your diff as that would be incorrect.",
    "created_at": "2021-06-16T20:56:33Z",
    "updated_at": "2021-06-16T20:56:34Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653048065",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653048065"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653048065"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653048065/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1914,
    "side": "RIGHT",
    "in_reply_to_id": 653006563
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653414204",
    "pull_request_review_id": 686107508,
    "id": 653414204,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzQxNDIwNA==",
    "diff_hunk": "@@ -1906,7 +1906,12 @@ OutputType CWallet::TransactionChangeType(const std::optional<OutputType>& chang\n         // Check if any destination contains a witness program:\n         int witnessversion = 0;\n         std::vector<unsigned char> witnessprogram;\n-        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+        const bool is_wit = recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram);\n+        if (is_wit && witnessversion >= 1 && GetScriptPubKeyMan(OutputType::BECH32M, true)) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "4bf448fc2528d9df371b2ca6e9b13319441a21e5",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "4bf448fc2528d9df371b2ca6e9b13319441a21e5: I don't understand what the `witnessversion >= 1` is doing.\r\n\r\nAssuming `witnessversion` is `2`, then a bech32m address will be selected (possibly a taproot address). However, if the `witnessversion` is `0`, even with a taproot wallet, a segwit_0 address will be enforced. This seems inconsistent and confusing, unless I am missing something?",
    "created_at": "2021-06-17T09:56:16Z",
    "updated_at": "2021-06-17T09:58:07Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653414204",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653414204"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653414204"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653414204/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1910,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653415459",
    "pull_request_review_id": 686107508,
    "id": 653415459,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzQxNTQ1OQ==",
    "diff_hunk": "@@ -2115,7 +2115,7 @@ bool CWallet::GetNewDestination(const OutputType type, const std::string label,\n         spk_man->TopUp();\n         result = spk_man->GetNewDestination(type, dest, error);\n     } else {\n-        error = strprintf(\"Error: No %s addresses available.\", FormatOutputType(type));\n+        error = strprintf(_(\"Error: No %s addresses available.\"), FormatOutputType(type)).translated;",
    "path": "src/wallet/wallet.cpp",
    "position": 20,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "f70d55c136d9fc0bc986cc86e619570e0417d188",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not sure how difficult it would be to fix, but the general idea for translations is to pass up the bilingual string and let the caller pick the right version. Otherwise the RPC responses (and debug log) might be partially translated. Functional test might fail when run with the gui.",
    "created_at": "2021-06-17T09:57:57Z",
    "updated_at": "2021-06-17T09:58:07Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653415459",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653415459"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653415459"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653415459/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2121,
    "original_line": 2121,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653418503",
    "pull_request_review_id": 686113220,
    "id": 653418503,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzQxODUwMw==",
    "diff_hunk": "@@ -1906,7 +1906,12 @@ OutputType CWallet::TransactionChangeType(const std::optional<OutputType>& chang\n         // Check if any destination contains a witness program:\n         int witnessversion = 0;\n         std::vector<unsigned char> witnessprogram;\n-        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+        const bool is_wit = recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram);\n+        if (is_wit && witnessversion >= 1 && GetScriptPubKeyMan(OutputType::BECH32M, true)) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "4bf448fc2528d9df371b2ca6e9b13319441a21e5",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Also, if the first output is a witnessversion_0 and the second a witnessversion_1, this function will incorrectly return witnessversion_0?",
    "created_at": "2021-06-17T10:02:00Z",
    "updated_at": "2021-06-17T10:02:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653418503",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653418503"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653418503"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653418503/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1910,
    "side": "RIGHT",
    "in_reply_to_id": 653414204
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653630920",
    "pull_request_review_id": 686401411,
    "id": 653630920,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzYzMDkyMA==",
    "diff_hunk": "@@ -1906,7 +1906,12 @@ OutputType CWallet::TransactionChangeType(const std::optional<OutputType>& chang\n         // Check if any destination contains a witness program:\n         int witnessversion = 0;\n         std::vector<unsigned char> witnessprogram;\n-        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+        const bool is_wit = recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram);\n+        if (is_wit && witnessversion >= 1 && GetScriptPubKeyMan(OutputType::BECH32M, true)) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "4bf448fc2528d9df371b2ca6e9b13319441a21e5",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This opportunistic change code was initially intended to _upgrade_ change addresses to `bech32` if there was no privacy downside. With this new change it seems that we _downgrade_ a v1+ witness to v0 just in order to blend in. I'm also not sure if we should do that. It could actually hurt privacy when that v0 change address is spent later on and combined with a v1 input.",
    "created_at": "2021-06-17T14:40:11Z",
    "updated_at": "2021-06-17T14:40:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653630920",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653630920"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653630920"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653630920/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1910,
    "side": "RIGHT",
    "in_reply_to_id": 653414204
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653755823",
    "pull_request_review_id": 686583098,
    "id": 653755823,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1Mzc1NTgyMw==",
    "diff_hunk": "@@ -1906,7 +1906,12 @@ OutputType CWallet::TransactionChangeType(const std::optional<OutputType>& chang\n         // Check if any destination contains a witness program:\n         int witnessversion = 0;\n         std::vector<unsigned char> witnessprogram;\n-        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+        const bool is_wit = recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram);\n+        if (is_wit && witnessversion >= 1 && GetScriptPubKeyMan(OutputType::BECH32M, true)) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "4bf448fc2528d9df371b2ca6e9b13319441a21e5",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Indeed. I've changed this to just return `BECH32M` or `BECH32` depending on what is available, with a preference for `BECH32M`.\r\n\r\nHowever I think this function (and generally how change address type is determined) should be revisited because not all address types are available in descriptor wallets. But I think that is out of scope for this PR.",
    "created_at": "2021-06-17T16:58:53Z",
    "updated_at": "2021-06-17T16:58:53Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653755823",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653755823"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653755823"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653755823/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1910,
    "side": "RIGHT",
    "in_reply_to_id": 653414204
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653757531",
    "pull_request_review_id": 686584568,
    "id": 653757531,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1Mzc1NzUzMQ==",
    "diff_hunk": "@@ -2115,7 +2115,7 @@ bool CWallet::GetNewDestination(const OutputType type, const std::string label,\n         spk_man->TopUp();\n         result = spk_man->GetNewDestination(type, dest, error);\n     } else {\n-        error = strprintf(\"Error: No %s addresses available.\", FormatOutputType(type));\n+        error = strprintf(_(\"Error: No %s addresses available.\"), FormatOutputType(type)).translated;",
    "path": "src/wallet/wallet.cpp",
    "position": 20,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "f70d55c136d9fc0bc986cc86e619570e0417d188",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think that will be a bit invasive since several of the functions involved use `std::string error` rather than `bilingual_str`. Perhaps for a followup.",
    "created_at": "2021-06-17T17:00:26Z",
    "updated_at": "2021-06-17T17:00:27Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653757531",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653757531"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r653757531"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653757531/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2121,
    "original_line": 2121,
    "side": "RIGHT",
    "in_reply_to_id": 653415459
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654597200",
    "pull_request_review_id": 687627601,
    "id": 654597200,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDU5NzIwMA==",
    "diff_hunk": "@@ -2115,7 +2115,7 @@ bool CWallet::GetNewDestination(const OutputType type, const std::string label,\n         spk_man->TopUp();\n         result = spk_man->GetNewDestination(type, dest, error);\n     } else {\n-        error = strprintf(\"Error: No %s addresses available.\", FormatOutputType(type));\n+        error = strprintf(_(\"Error: No %s addresses available.\"), FormatOutputType(type)).translated;",
    "path": "src/wallet/wallet.cpp",
    "position": 20,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "f70d55c136d9fc0bc986cc86e619570e0417d188",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, if you're going to translate anything, it's better to use `bilingual_str`. I would prefer to do this right in the first go, instead of having another follow-up commit to prevent RPC messages from being translated.\r\n\r\nAlternatively just leave this untranslated for now. This is marked for 22.0 and we've passed the translation string freeze.",
    "created_at": "2021-06-18T17:54:18Z",
    "updated_at": "2021-06-18T17:54:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r654597200",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654597200"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r654597200"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654597200/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2121,
    "original_line": 2121,
    "side": "RIGHT",
    "in_reply_to_id": 653415459
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654605409",
    "pull_request_review_id": 687637725,
    "id": 654605409,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDYwNTQwOQ==",
    "diff_hunk": "@@ -2115,7 +2115,7 @@ bool CWallet::GetNewDestination(const OutputType type, const std::string label,\n         spk_man->TopUp();\n         result = spk_man->GetNewDestination(type, dest, error);\n     } else {\n-        error = strprintf(\"Error: No %s addresses available.\", FormatOutputType(type));\n+        error = strprintf(_(\"Error: No %s addresses available.\"), FormatOutputType(type)).translated;",
    "path": "src/wallet/wallet.cpp",
    "position": 20,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "f70d55c136d9fc0bc986cc86e619570e0417d188",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "For the strings I added, I was just following the pattern already in use in these functions. For this change in particular, it was to make the style unified. Unless this is considered a blocker, I'm going to leave it as is.",
    "created_at": "2021-06-18T18:11:14Z",
    "updated_at": "2021-06-18T18:11:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r654605409",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654605409"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r654605409"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654605409/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2121,
    "original_line": 2121,
    "side": "RIGHT",
    "in_reply_to_id": 653415459
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/655112610",
    "pull_request_review_id": 688076368,
    "id": 655112610,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NTExMjYxMA==",
    "diff_hunk": "@@ -2115,7 +2115,7 @@ bool CWallet::GetNewDestination(const OutputType type, const std::string label,\n         spk_man->TopUp();\n         result = spk_man->GetNewDestination(type, dest, error);\n     } else {\n-        error = strprintf(\"Error: No %s addresses available.\", FormatOutputType(type));\n+        error = strprintf(_(\"Error: No %s addresses available.\"), FormatOutputType(type)).translated;",
    "path": "src/wallet/wallet.cpp",
    "position": 20,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "f70d55c136d9fc0bc986cc86e619570e0417d188",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ok\u2026",
    "created_at": "2021-06-21T06:42:22Z",
    "updated_at": "2021-06-21T06:42:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r655112610",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/655112610"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r655112610"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/655112610/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2121,
    "original_line": 2121,
    "side": "RIGHT",
    "in_reply_to_id": 653415459
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657480284",
    "pull_request_review_id": 691168061,
    "id": 657480284,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzQ4MDI4NA==",
    "diff_hunk": "@@ -640,20 +640,6 @@ class DescriptorImpl : public Descriptor\n     std::optional<OutputType> GetOutputType() const override { return std::nullopt; }\n };\n \n-static std::optional<OutputType> OutputTypeFromDestination(const CTxDestination& dest) {",
    "path": "src/script/descriptor.cpp",
    "position": 4,
    "original_position": 4,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit 87a0e7a3b7c0ffd5, src/script/descriptor.cpp should include `outputtype.h` where `OutputTypeFromDestination()` is moved.\r\n```diff\r\n--- a/src/script/descriptor.cpp\r\n+++ b/src/script/descriptor.cpp\r\n@@ -5,6 +5,7 @@\r\n #include <script/descriptor.h>\r\n \r\n #include <key_io.h>\r\n+#include <outputtype.h>\r\n #include <pubkey.h>\r\n #include <script/script.h>\r\n #include <script/standard.h>\r\n```\r\n",
    "created_at": "2021-06-23T21:40:13Z",
    "updated_at": "2021-06-23T22:23:54Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r657480284",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657480284"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r657480284"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657480284/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 643,
    "original_line": 643,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657495169",
    "pull_request_review_id": 691168061,
    "id": 657495169,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzQ5NTE2OQ==",
    "diff_hunk": "@@ -373,5 +373,15 @@ def run_test(self):\n         self.test_address(4, self.nodes[4].getrawchangeaddress(), multisig=False, typ='p2sh-segwit')\n         self.test_address(4, self.nodes[4].getrawchangeaddress('bech32'), multisig=False, typ='bech32')\n \n+        if self.options.descriptors:\n+            self.log.info(\"Descriptor wallets do not have bech32m addresses by default yet\")",
    "path": "test/functional/wallet_address_types.py",
    "position": 5,
    "original_position": 5,
    "commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "original_commit_id": "754f134a50cc56cdf0baf996d909c992770fcc97",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "s/addreses/addresses/ should be fixed one commit earlier in 87a0e7a ",
    "created_at": "2021-06-23T22:11:30Z",
    "updated_at": "2021-06-23T22:18:19Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r657495169",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657495169"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22154#discussion_r657495169"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22154"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657495169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 377,
    "original_line": 377,
    "side": "RIGHT"
  }
]