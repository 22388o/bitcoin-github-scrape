MarcoFalke,2017-01-24T17:55:18Z,"utACK 338ad5e0a53bc153454bf1f3dc46de0f705419d2\n\nOn Tue, Jan 24, 2017 at 6:50 PM, Alex Morcos <notifications@github.com> wrote:\n> -shrinkdebugfile defaults to true if no -debug options are passed, but 200k\n> is an insufficient history to help users who may have restarted their nodes\n> debug any issues.\n>\n> ________________________________\n>\n> You can view, comment on, or merge this pull re",https://github.com/bitcoin/bitcoin/pull/9625#issuecomment-274882735,274882735,
paveljanik,2017-01-24T18:04:23Z,utACK https://github.com/bitcoin/bitcoin/pull/9625/commits/338ad5e0a53bc153454bf1f3dc46de0f705419d2,https://github.com/bitcoin/bitcoin/pull/9625#issuecomment-274885260,274885260,
btcdrak,2017-01-24T18:42:20Z,utACK 338ad5e,https://github.com/bitcoin/bitcoin/pull/9625#issuecomment-274896109,274896109,
gmaxwell,2017-01-24T18:52:17Z,"Yea, sure, though this also won't be enough in many cases, I think. utACK",https://github.com/bitcoin/bitcoin/pull/9625#issuecomment-274899072,274899072,
sipa,2017-01-24T19:23:01Z,"Concept ACK, but can you introduce a named constant for this?\n\n",https://github.com/bitcoin/bitcoin/pull/9625#issuecomment-274908584,274908584,
jonasschnelli,2017-01-24T19:24:34Z,"utACK 338ad5e0a53bc153454bf1f3dc46de0f705419d2, agree about the const.",https://github.com/bitcoin/bitcoin/pull/9625#issuecomment-274909147,274909147,
MarcoFalke,2017-01-24T19:51:50Z,"We might even extend the command line option to specify how many mb\nthe user wants to store, but better leave the nits for past-0.15\nbranch-off.\n",https://github.com/bitcoin/bitcoin/pull/9625#issuecomment-274918446,274918446,
TheBlueMatt,2017-01-24T22:37:35Z,"Looks good. Would also be nice to add a comment above where this is called in init noting - ""Do this first since it both loads a bunch of debug.log into memory, and because this needs to happen before any other debug.log printing"".",https://github.com/bitcoin/bitcoin/pull/9625#issuecomment-274962056,274962056,
morcos,2017-01-25T01:38:38Z,"I think I addressed the feedback.\n\nIncidentally I was looking into file_size and fseek to see whether I needed to have the 10% buffer, and it didn't look to me from the internets that the negative fseek from SEEK_END was necessarily a supported operation? \n\n",https://github.com/bitcoin/bitcoin/pull/9625#issuecomment-274994907,274994907,
laanwj,2017-01-26T09:26:17Z,"> Incidentally I was looking into file_size and fseek to see whether I needed to have the 10% buffer, and it didn't look to me from the internets that the negative fseek from SEEK_END was necessarily a supported operation?\n\nI'm 100% sure it is. I can't find it explicitly in the man page, but it is the only thing `SEEK_END` is useful for, you'd hardly ever want to use it with a positive offset ",https://github.com/bitcoin/bitcoin/pull/9625#issuecomment-275342862,275342862,
laanwj,2017-02-01T10:42:20Z,This seemed ready for merge. @MarcoFalke's last comments seem to be small nits that could be done as a separate patch if necessary.,https://github.com/bitcoin/bitcoin/pull/9625#issuecomment-276626084,276626084,
MarcoFalke,2017-01-25T01:49:56Z,"RECENT_DEBUG_HISTORY_SIZE * 11 / 10 might give better results for the integer division, when replaced by a command line option. Not that it matters, but Âµnit...",https://github.com/bitcoin/bitcoin/pull/9625#discussion_r97695171,97695171,src/util.cpp
MarcoFalke,2017-01-25T01:50:38Z,"s/the/than/, maybe? Or even better, don't mention the name of the constant and just write. `If debug.log exceeds the target size by 10% or more, trim it to the target size.` or similar. (It is not like the code here is hard to understand and needs excessive developer documentation)\n\nre-ACK otherwise.",https://github.com/bitcoin/bitcoin/pull/9625#discussion_r97695240,97695240,src/util.cpp
