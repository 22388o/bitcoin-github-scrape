[
  {
    "sha": "4f3782ed67e5707961f33b702a81bff4880f7b7f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0ZjM3ODJlZDY3ZTU3MDc5NjFmMzNiNzAyYTgxYmZmNDg4MGY3Yjdm",
    "commit": {
      "author": {
        "name": "Simone Madeo",
        "email": "simone.madeo@gmail.com",
        "date": "2017-05-10T09:33:38Z"
      },
      "committer": {
        "name": "GitHub",
        "email": "noreply@github.com",
        "date": "2017-05-10T09:33:38Z"
      },
      "message": "[doc] Removing comments about dirty entries on txmempool",
      "tree": {
        "sha": "ac432a7e114ad753bd61bb0ebddf549d12da971a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ac432a7e114ad753bd61bb0ebddf549d12da971a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4f3782ed67e5707961f33b702a81bff4880f7b7f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4f3782ed67e5707961f33b702a81bff4880f7b7f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4f3782ed67e5707961f33b702a81bff4880f7b7f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4f3782ed67e5707961f33b702a81bff4880f7b7f/comments",
    "author": {
      "login": "madeo",
      "id": 22895128,
      "node_id": "MDQ6VXNlcjIyODk1MTI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/22895128?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/madeo",
      "html_url": "https://github.com/madeo",
      "followers_url": "https://api.github.com/users/madeo/followers",
      "following_url": "https://api.github.com/users/madeo/following{/other_user}",
      "gists_url": "https://api.github.com/users/madeo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/madeo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/madeo/subscriptions",
      "organizations_url": "https://api.github.com/users/madeo/orgs",
      "repos_url": "https://api.github.com/users/madeo/repos",
      "events_url": "https://api.github.com/users/madeo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/madeo/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "web-flow",
      "id": 19864447,
      "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/web-flow",
      "html_url": "https://github.com/web-flow",
      "followers_url": "https://api.github.com/users/web-flow/followers",
      "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
      "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
      "organizations_url": "https://api.github.com/users/web-flow/orgs",
      "repos_url": "https://api.github.com/users/web-flow/repos",
      "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/web-flow/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4b766fcdd4ca16399075d1e081a321b3b05ce516",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4b766fcdd4ca16399075d1e081a321b3b05ce516",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4b766fcdd4ca16399075d1e081a321b3b05ce516"
      }
    ],
    "stats": {
      "total": 19,
      "additions": 2,
      "deletions": 17
    },
    "files": [
      {
        "sha": "9cb73fcc0cf718f4271a18592fbb65e4b65e6cc6",
        "filename": "src/txmempool.h",
        "status": "modified",
        "additions": 2,
        "deletions": 17,
        "changes": 19,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4f3782ed67e5707961f33b702a81bff4880f7b7f/src/txmempool.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4f3782ed67e5707961f33b702a81bff4880f7b7f/src/txmempool.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/txmempool.h?ref=4f3782ed67e5707961f33b702a81bff4880f7b7f",
        "patch": "@@ -60,11 +60,6 @@ class CTxMemPool;\n  * (nCountWithDescendants, nSizeWithDescendants, and nModFeesWithDescendants) for\n  * all ancestors of the newly added transaction.\n  *\n- * If updating the descendant state is skipped, we can mark the entry as\n- * \"dirty\", and set nSizeWithDescendants/nModFeesWithDescendants to equal nTxSize/\n- * nFee+feeDelta. (This can potentially happen during a reorg, where we limit the\n- * amount of work we're willing to do to avoid consuming too much CPU.)\n- *\n  */\n \n class CTxMemPoolEntry\n@@ -83,9 +78,7 @@ class CTxMemPoolEntry\n \n     // Information about descendants of this transaction that are in the\n     // mempool; if we remove this transaction we must remove all of these\n-    // descendants as well.  if nCountWithDescendants is 0, treat this entry as\n-    // dirty, and nSizeWithDescendants and nModFeesWithDescendants will not be\n-    // correct.\n+    // descendants as well.\n     uint64_t nCountWithDescendants;  //!< number of descendant transactions\n     uint64_t nSizeWithDescendants;   //!< ... and size\n     CAmount nModFeesWithDescendants; //!< ... and total fees (all including us)\n@@ -116,7 +109,7 @@ class CTxMemPoolEntry\n     size_t DynamicMemoryUsage() const { return nUsageSize; }\n     const LockPoints& GetLockPoints() const { return lockPoints; }\n \n-    // Adjusts the descendant state, if this entry is not dirty.\n+    // Adjusts the descendant state.\n     void UpdateDescendantState(int64_t modifySize, CAmount modifyFee, int64_t modifyCount);\n     // Adjusts the ancestor state\n     void UpdateAncestorState(int64_t modifySize, CAmount modifyFee, int64_t modifyCount, int modifySigOps);\n@@ -399,14 +392,6 @@ enum class MemPoolRemovalReason {\n  * CalculateMemPoolAncestors() takes configurable limits that are designed to\n  * prevent these calculations from being too CPU intensive.\n  *\n- * Adding transactions from a disconnected block can be very time consuming,\n- * because we don't have a way to limit the number of in-mempool descendants.\n- * To bound CPU processing, we limit the amount of work we're willing to do\n- * to properly update the descendant information for a tx being added from\n- * a disconnected block.  If we would exceed the limit, then we instead mark\n- * the entry as \"dirty\", and set the feerate for sorting purposes to be equal\n- * the feerate of the transaction without any descendants.\n- *\n  */\n class CTxMemPool\n {"
      }
    ]
  }
]