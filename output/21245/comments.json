[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/782683416",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-782683416",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 782683416,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MjY4MzQxNg==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-20T14:23:44Z",
    "updated_at": "2021-09-01T17:59:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22689](https://github.com/bitcoin/bitcoin/pull/22689) (rpc: deprecate top-level fee fields in getmempool RPCs by josibake)\n* [#22650](https://github.com/bitcoin/bitcoin/pull/22650) (Remove -deprecatedrpc=addresses flag and corresponding code/logic by mjdietzx)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/782683416/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784520925",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-784520925",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 784520925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDUyMDkyNQ==",
    "user": {
      "login": "0xB10C",
      "id": 19157360,
      "node_id": "MDQ6VXNlcjE5MTU3MzYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/19157360?u=a20996a145f1be613c7b0a57e75d36508572e29d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xB10C",
      "html_url": "https://github.com/0xB10C",
      "followers_url": "https://api.github.com/users/0xB10C/followers",
      "following_url": "https://api.github.com/users/0xB10C/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xB10C/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
      "organizations_url": "https://api.github.com/users/0xB10C/orgs",
      "repos_url": "https://api.github.com/users/0xB10C/repos",
      "events_url": "https://api.github.com/users/0xB10C/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xB10C/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-23T21:21:02Z",
    "updated_at": "2021-02-23T21:21:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK. Thanks for picking this up! Will have a closer look and test this soon.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784520925/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/786774158",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-786774158",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 786774158,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4Njc3NDE1OA==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-26T17:08:13Z",
    "updated_at": "2021-02-26T17:08:13Z",
    "author_association": "MEMBER",
    "body": "Ideally, this should probably be 3 commits: one changing the bool to the class enum (with 2 values), one adding the new feature, and another adding tests.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/786774158/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787079976",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-787079976",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 787079976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzA3OTk3Ng==",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?u=c94a979b9d0065401e1abebe53c47b55bb1267bd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-27T14:20:26Z",
    "updated_at": "2021-02-27T14:20:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Ideally, this should probably be 3 commits\r\n\r\nDone\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787079976/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788259972",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-788259972",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 788259972,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODI1OTk3Mg==",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?u=c94a979b9d0065401e1abebe53c47b55bb1267bd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-01T20:40:53Z",
    "updated_at": "2021-03-01T20:40:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Needs update for getblock docs\r\n> \r\n> ```\r\n> \"If verbosity is 3, returns an Object with information about block <hash> and information about each transaction, including prevout information for inputs (only for blocks in the current best chain).\\n\",\r\n> ```\r\n\r\nDone, I added to the commit that implements this feature",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788259972/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788266052",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-788266052",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 788266052,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODI2NjA1Mg==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-01T20:48:18Z",
    "updated_at": "2021-03-01T20:48:18Z",
    "author_association": "MEMBER",
    "body": "(Could still be cleaner with the duplicate line removed https://github.com/bitcoin/bitcoin/pull/21245#discussion_r585016515)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788266052/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788270963",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-788270963",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 788270963,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODI3MDk2Mw==",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?u=c94a979b9d0065401e1abebe53c47b55bb1267bd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-01T20:53:57Z",
    "updated_at": "2021-03-01T20:53:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "> (Could still be cleaner with the duplicate line removed [#21245 (comment)](https://github.com/bitcoin/bitcoin/pull/21245#discussion_r585016515))\r\n\r\nshould be fixed this time ..",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788270963/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789900487",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-789900487",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 789900487,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTkwMDQ4Nw==",
    "user": {
      "login": "0xB10C",
      "id": 19157360,
      "node_id": "MDQ6VXNlcjE5MTU3MzYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/19157360?u=a20996a145f1be613c7b0a57e75d36508572e29d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xB10C",
      "html_url": "https://github.com/0xB10C",
      "followers_url": "https://api.github.com/users/0xB10C/followers",
      "following_url": "https://api.github.com/users/0xB10C/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xB10C/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
      "organizations_url": "https://api.github.com/users/0xB10C/orgs",
      "repos_url": "https://api.github.com/users/0xB10C/repos",
      "events_url": "https://api.github.com/users/0xB10C/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xB10C/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-03T17:15:51Z",
    "updated_at": "2021-03-03T17:15:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK 7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9.\r\n\r\n- tested that both the RPC and REST interface have a new `prevout` field in the `vin`'s\r\n- tested that the contents of the `getblock` RPC and `/rest/block/<hash>.json` are the same by piping them into `jq` and `diff`ing the results\r\n- tested that a random `vin` can be found on chain as a previous output and the `height`, `value`, `address`, `type` and `scriptPubkey.hex` fields are correct with, for example, this bash helper:\r\n\r\n\r\n``` bash\r\n# make sure to play around with different block hashes and transaction indices (here 50) \r\nvin0=$(curl localhost:8332/rest/block/0000000000000000000c07a5ac516dc2a766da3bd1f85ec92090ba497188fd1b.json | jq .tx[50].vin[0])\r\nvin0txid=$(echo $vin0 | jq .txid -r)\r\nvin0nout=$(echo $vin0 | jq .vout)\r\nvin0height=$(echo $vin0 | jq .prevout.height)\r\nvin0blockhash=$(bitcoin-cli getblockhash $vin0height)\r\n\r\necho $vin0 | jq\r\necho \"\"\r\nbitcoin-cli getrawtransaction $vin0txid true $vin0blockhash | jq .vout[$vin0nout]\r\n```\r\n\r\n----\r\n\r\n**BlockToJsonVerbose** and **BlockToJsonVerboseWrite** (JSON serialization from #21170) benchmarks:\r\n\r\nmaster @ cabe63759ce890a7d39d72f7b8046195b0edb421\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|       71,551,280.00 |               13.98 |    0.1% |  561,473,856.00 |  136,734,366.00 |  4.106 | 105,739,596.00 |    0.4% |      0.79 | `BlockToJsonVerbose`\r\n|       24,850,266.00 |               40.24 |    0.4% |  231,100,742.00 |   49,070,928.00 |  4.710 |  43,476,242.00 |    0.3% |      0.29 | `BlockToJsonVerboseWrite`\r\n\r\n\r\n\r\nthis PR @ 7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9\r\n\r\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|       72,740,207.00 |               13.75 |    0.5% |  561,708,569.00 |  138,848,957.00 |  4.045 | 105,777,166.00 |    0.4% |      0.80 | `BlockToJsonVerbose`\r\n|       24,838,117.00 |               40.26 |    0.6% |  231,115,449.00 |   49,100,061.00 |  4.707 |  43,478,330.00 |    0.3% |      0.29 | `BlockToJsonVerboseWrite`\r\n\r\n\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789900487/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/880199183",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-880199183",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 880199183,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4MDE5OTE4Mw==",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-14T20:49:42Z",
    "updated_at": "2021-07-14T20:49:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK\r\nHappy to review after rebase",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/880199183/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881018046",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-881018046",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 881018046,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4MTAxODA0Ng==",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?u=b48a1208deda9bd1756f21a35341ce98265355c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-15T21:14:46Z",
    "updated_at": "2021-07-15T21:15:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have rebased the PR here: #22463. In my testing each individual commit can be compiled and `make check` passed for me. If you like the work, please just use it. (No guaratees!)\r\n\r\nI plan to address review comments from this PR in #22463 in coming days, unless somebody beats me to it :)\r\n\r\nHopefully this effort will help move the needle.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881018046/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881072351",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-881072351",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 881072351,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4MTA3MjM1MQ==",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?u=c94a979b9d0065401e1abebe53c47b55bb1267bd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-15T23:27:29Z",
    "updated_at": "2021-07-15T23:27:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "sorry for the delay getting back to this. I just rebased -- it ought to be passing tests, i'll take a look at some of the reviews..",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881072351/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881080152",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-881080152",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 881080152,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4MTA4MDE1Mg==",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?u=c94a979b9d0065401e1abebe53c47b55bb1267bd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-15T23:52:05Z",
    "updated_at": "2021-07-15T23:52:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@kiminuo  all your comments should been addressed now.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881080152/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881235411",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-881235411",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 881235411,
    "node_id": "IC_kwDOABII5840hpXT",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?u=b48a1208deda9bd1756f21a35341ce98265355c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-16T07:23:02Z",
    "updated_at": "2021-07-16T07:35:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @kiminuo all your comments should been addressed now.\r\n\r\nThank you! There are still open review comments from my side. I'm not sure if you have seen them or not. Mostly nits though.\r\n\r\nEdit: For example these ones:\r\n\r\n* https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630488523 \r\n* https://github.com/bitcoin/bitcoin/pull/21245#discussion_r633064565\r\n* https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630468041",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881235411/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881552078",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-881552078",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 881552078,
    "node_id": "IC_kwDOABII5840i2rO",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?u=c94a979b9d0065401e1abebe53c47b55bb1267bd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-16T15:59:05Z",
    "updated_at": "2021-07-16T15:59:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@kiminuo i think they should all be addressed now ..",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881552078/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881673314",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-881673314",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 881673314,
    "node_id": "IC_kwDOABII5840jURi",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?u=b48a1208deda9bd1756f21a35341ce98265355c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-16T19:35:24Z",
    "updated_at": "2021-07-16T19:35:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fyquah Thanks! \r\n\r\nIs this Luke's comment addressed: https://github.com/bitcoin/bitcoin/pull/21245#discussion_r585016515 ? I'm not sure. \ud83e\udd37\u200d\u2642\ufe0f ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881673314/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881686715",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-881686715",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 881686715,
    "node_id": "IC_kwDOABII5840jXi7",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?u=c94a979b9d0065401e1abebe53c47b55bb1267bd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-16T20:02:48Z",
    "updated_at": "2021-07-16T20:02:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Is this Luke's comment addressed: #21245 (comment) ? I'm not sure. \ud83e\udd37\u200d\u2642\ufe0f\r\n\r\nI don't think so. It has already been moved into the `if(calculate_fee)` block.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881686715/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881688261",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-881688261",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 881688261,
    "node_id": "IC_kwDOABII5840jX7F",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?u=c94a979b9d0065401e1abebe53c47b55bb1267bd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-16T20:05:19Z",
    "updated_at": "2021-07-16T20:05:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "@kiminuo I think all but 2 remaining comments above are addressed.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881688261/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881734402",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-881734402",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 881734402,
    "node_id": "IC_kwDOABII5840jjMC",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?u=c94a979b9d0065401e1abebe53c47b55bb1267bd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-16T21:42:49Z",
    "updated_at": "2021-07-16T21:43:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Maintainers: I believe all the reviews are addressed. Is there anything else blocking merge?\r\n\r\nOnce again, sorry for the delay getting back to this.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/881734402/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/892200107",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-892200107",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 892200107,
    "node_id": "IC_kwDOABII5841LeSr",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?u=c94a979b9d0065401e1abebe53c47b55bb1267bd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-03T22:11:07Z",
    "updated_at": "2021-08-03T22:11:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@kiminuo i think your comments should be addressed now. Can you mark this as reviewed once this looks good?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/892200107/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/893310862",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-893310862",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 893310862,
    "node_id": "IC_kwDOABII5841PteO",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?u=b48a1208deda9bd1756f21a35341ce98265355c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-05T09:30:53Z",
    "updated_at": "2021-08-08T20:22:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Currently `./bitcoin-cli -testnet getblock` prints:\r\n\r\n\r\n<details>\r\n  <summary>Console output</summary>\r\n\r\n```\r\nerror code: -1\r\nerror message:\r\ngetblock \"blockhash\" ( verbosity )\r\n\r\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'hash'.\r\nIf verbosity is 1, returns an Object with information about block <hash>.\r\nIf verbosity is 2, returns an Object with information about block <hash> and information about each transaction.\r\nIf verbosity is 3, returns an Object with information about block <hash> and information about each transaction, including prevout information for inputs (only for blocks in the current best chain).\r\n\r\nArguments:\r\n1. blockhash    (string, required) The block hash\r\n2. verbosity    (numeric, optional, default=1) 0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\r\n\r\nResult (for verbosity = 0):\r\n\"hex\"    (string) A string that is serialized, hex-encoded data for block 'hash'\r\n\r\nResult (for verbosity = 1):\r\n{                                 (json object)\r\n  \"hash\" : \"hex\",                 (string) the block hash (same as provided)\r\n  \"confirmations\" : n,            (numeric) The number of confirmations, or -1 if the block is not on the main chain\r\n  \"size\" : n,                     (numeric) The block size\r\n  \"strippedsize\" : n,             (numeric) The block size excluding witness data\r\n  \"weight\" : n,                   (numeric) The block weight as defined in BIP 141\r\n  \"height\" : n,                   (numeric) The block height or index\r\n  \"version\" : n,                  (numeric) The block version\r\n  \"versionHex\" : \"hex\",           (string) The block version formatted in hexadecimal\r\n  \"merkleroot\" : \"hex\",           (string) The merkle root\r\n  \"tx\" : [                        (json array) The transaction ids\r\n    \"hex\",                        (string) The transaction id\r\n    ...\r\n  ],\r\n  \"time\" : xxx,                   (numeric) The block time expressed in UNIX epoch time\r\n  \"mediantime\" : xxx,             (numeric) The median block time expressed in UNIX epoch time\r\n  \"nonce\" : n,                    (numeric) The nonce\r\n  \"bits\" : \"hex\",                 (string) The bits\r\n  \"difficulty\" : n,               (numeric) The difficulty\r\n  \"chainwork\" : \"hex\",            (string) Expected number of hashes required to produce the chain up to this block (in hex)\r\n  \"nTx\" : n,                      (numeric) The number of transactions in the block\r\n  \"previousblockhash\" : \"hex\",    (string, optional) The hash of the previous block (if available)\r\n  \"nextblockhash\" : \"hex\"         (string, optional) The hash of the next block (if available)\r\n}\r\n\r\nResult (for verbosity = 2):\r\n{                   (json object)\r\n  ...,              Same output as verbosity = 1\r\n  \"tx\" : [          (json array)\r\n    {               (json object)\r\n      ...,          The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \"tx\" result\r\n      \"fee\" : n     (numeric) The transaction fee in BTC, omitted if block undo data is not available\r\n    },\r\n    ...\r\n  ]\r\n}\r\n\r\nExamples:\r\n> bitcoin-cli getblock \"00000000c937983704a73af28acdec37b049d214adbda81d7e2a3dd146f6ed09\"\r\n> curl --user myusername --data-binary '{\"jsonrpc\": \"1.0\", \"id\": \"curltest\", \"method\": \"getblock\", \"params\": [\"00000000c937983704a73af28acdec37b049d214adbda81d7e2a3dd146f6ed09\"]}' -H 'content-type: text/plain;' http://127.0.0.1:8332/\r\n```\r\n</details>\r\n\r\n\r\nIt would be great to:\r\n\r\n* Add \"Result (for verbosity = 3):\" in the output.\r\n* Modify \"2. verbosity    (numeric, optional, default=1) 0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\" to include your new level 3.\r\n\r\n\r\nEdit: I'll try to carve out some more time tomorrow to test it more.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/893310862/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/893313612",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-893313612",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 893313612,
    "node_id": "IC_kwDOABII5841PuJM",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?u=b48a1208deda9bd1756f21a35341ce98265355c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-05T09:35:17Z",
    "updated_at": "2021-08-05T09:51:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "The following examples may be worth adding to your [original post](https://github.com/bitcoin/bitcoin/pull/21245#issue-576925964):\r\n\r\nExamples of the `getblock` output with various verbose levels. Note that `000000000000001f682b188971cc1a121546be4e9d5baf22934fdc7f538288d5` contains only 2 transactions.\r\n\r\n## `bitcoin-cli`\r\n\r\n### Verbose level 0\r\n\r\n```bash\r\n./bitcoin-cli -testnet getblock 000000000000001f682b188971cc1a121546be4e9d5baf22934fdc7f538288d5 0\r\n```\r\n\r\n<details>\r\n  <summary>Console output</summary>\r\n\r\n  ```\r\n  0400c020fbf5f342465b89fc746df587a07339e662a944aff4c286ca0b000000000000008387d05d584be6d61398c894427255227592c9e7c3c093759bafa4487e271532819c0b6100ec421969ccd91002010000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff5a03e67b1f04819c0b612f64656275672e636f6d2ffabe6d6d5647e44d08c48adec0ee855a3e78909f300bc4a4f9b79b01167ad2d107747c3501000000000000002c6c0d02af403792e06d14248417542f120093c2020000000000ffffffff04b92e9500000000001976a914190f8ddccb511a66f0cfc9a33204d9287e65fdf788ac0000000000000000266a24b9e11b6d0e9243317b288d087de11b8e6ef80f7c2103f4de492da071b36caa92112c85df0000000000000000266a24aa21a9ed863dde47b2d6f490300e63cb1db36a41a47052956ac4eb40e17a9d8e15d694c100000000000000002b6a2952534b424c4f434b3af72ef02a50ecbfc6f9e6e464c57881bc23da25fbf5254088f7e68366001f757301200000000000000000000000000000000000000000000000000000000000000000f1087e960100000000010386fe743a8db99cd6db255f8505d9e20e67e03edbd411874816382415a053b1120100000000ffffffffa0785a72492fc87903eb4e07893fc769ef561db7020ba9b43e9c484619c637e10000000000ffffffff7dcd54a6c50865c34290454183ffa1a7f31aae3557045007a9075b022a4759020100000000ffffffff02408e2c000000000017a914d1c71b4df72064844eec341c86dc68cf81b9c2ec87eac5000000000000160014f2aeff3fd69c70bcff9c0709cc3ed1521868538002483045022100e45dd0be123e8edc98780e8fb1746cd5449d18399818052b66e8ae5fed26b0c502205e971594f3198009a436416c88f4aeea96beb07c713b71a60ffc043996da36e1012102b90ee04fcba937c82b5a45b7f0fff4fbf6f1f4de2d152a16db94d31b40f352e00248304502210083212c58e557e4b9b31bc9788bc3d08af280ea4b0376c00f54231f4fc6afd80e0220140601b13356014c924bca99ff0eba14ee200af496f9c9716bdd087023cbf1b001210396b46245502c3011f8e1b8b19aa9e8a40fff3153e225f619f57297914d93d4570247304402201d1bae75003e8986346c6df5aabe4ff820651cdc3c30038e3c2937c0393a70e30220528ac716e5e480b830e4b742c451b85cf4afbf53b20b982adf1b83423c79d634012102b90ee04fcba937c82b5a45b7f0fff4fbf6f1f4de2d152a16db94d31b40f352e000000000\r\n  ```\r\n</details>\r\n\r\n\r\n\r\n### Verbose level 1\r\n\r\n```bash\r\n./bitcoin-cli -testnet getblock 000000000000001f682b188971cc1a121546be4e9d5baf22934fdc7f538288d5 1\r\n```\r\n\r\n<details>\r\n  <summary>Console output</summary>\r\n\r\n  ```json\r\n  {\r\n    \"hash\": \"000000000000001f682b188971cc1a121546be4e9d5baf22934fdc7f538288d5\",\r\n    \"confirmations\": 10,\r\n    \"height\": 2063334,\r\n    \"version\": 549453828,\r\n    \"versionHex\": \"20c00004\",\r\n    \"merkleroot\": \"3215277e48a4af9b7593c0c3e7c992752255724294c89813d6e64b585dd08783\",\r\n    \"time\": 1628150913,\r\n    \"mediantime\": 1628149483,\r\n    \"nonce\": 282709097,\r\n    \"bits\": \"1942ec00\",\r\n    \"difficulty\": 64177845.58487042,\r\n    \"chainwork\": \"000000000000000000000000000000000000000000000558fbc2a80220ea0e44\",\r\n    \"nTx\": 2,\r\n    \"previousblockhash\": \"000000000000000bca86c2f4af44a962e63973a087f56d74fc895b4642f3f5fb\",\r\n    \"nextblockhash\": \"000000000000000119b44a12b31fb2e1d2baa9ad5bb7419428f62cc77a4685f5\",\r\n    \"strippedsize\": 598,\r\n    \"size\": 959,\r\n    \"weight\": 2753,\r\n    \"tx\": [\r\n      \"f10ed21d238ce32aaa00384af709381e2ecf1e3914604b4f0fbd817b3477017c\",\r\n      \"6fcf360bade1cae884cb0d36dfb92455b7cfdc037cfbab75f86dfbfe28f08b3e\"\r\n    ]\r\n  }\r\n  ```\r\n</details>\r\n\r\n### Verbose level 2\r\n\r\n```bash\r\n./bitcoin-cli -testnet getblock 000000000000001f682b188971cc1a121546be4e9d5baf22934fdc7f538288d5 2\r\n```\r\n\r\n<details>\r\n  <summary>Console output</summary>\r\n\r\n  ```json\r\n  {\r\n    \"hash\": \"000000000000001f682b188971cc1a121546be4e9d5baf22934fdc7f538288d5\",\r\n    \"confirmations\": 10,\r\n    \"height\": 2063334,\r\n    \"version\": 549453828,\r\n    \"versionHex\": \"20c00004\",\r\n    \"merkleroot\": \"3215277e48a4af9b7593c0c3e7c992752255724294c89813d6e64b585dd08783\",\r\n    \"time\": 1628150913,\r\n    \"mediantime\": 1628149483,\r\n    \"nonce\": 282709097,\r\n    \"bits\": \"1942ec00\",\r\n    \"difficulty\": 64177845.58487042,\r\n    \"chainwork\": \"000000000000000000000000000000000000000000000558fbc2a80220ea0e44\",\r\n    \"nTx\": 2,\r\n    \"previousblockhash\": \"000000000000000bca86c2f4af44a962e63973a087f56d74fc895b4642f3f5fb\",\r\n    \"nextblockhash\": \"000000000000000119b44a12b31fb2e1d2baa9ad5bb7419428f62cc77a4685f5\",\r\n    \"strippedsize\": 598,\r\n    \"size\": 959,\r\n    \"weight\": 2753,\r\n    \"tx\": [\r\n      {\r\n        \"txid\": \"f10ed21d238ce32aaa00384af709381e2ecf1e3914604b4f0fbd817b3477017c\",\r\n        \"hash\": \"9a614c99fc94459d6a5901b4091576365def3a23e002d77e6d79fd153d533bf4\",\r\n        \"version\": 1,\r\n        \"size\": 357,\r\n        \"vsize\": 330,\r\n        \"weight\": 1320,\r\n        \"locktime\": 2524842225,\r\n        \"vin\": [\r\n          {\r\n            \"coinbase\": \"03e67b1f04819c0b612f64656275672e636f6d2ffabe6d6d5647e44d08c48adec0ee855a3e78909f300bc4a4f9b79b01167ad2d107747c3501000000000000002c6c0d02af403792e06d14248417542f120093c2020000000000\",\r\n            \"txinwitness\": [\r\n              \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n            ],\r\n            \"sequence\": 4294967295\r\n          }\r\n        ],\r\n        \"vout\": [\r\n          {\r\n            \"value\": 0.09776825,\r\n            \"n\": 0,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"OP_DUP OP_HASH160 190f8ddccb511a66f0cfc9a33204d9287e65fdf7 OP_EQUALVERIFY OP_CHECKSIG\",\r\n              \"hex\": \"76a914190f8ddccb511a66f0cfc9a33204d9287e65fdf788ac\",\r\n              \"address\": \"mhoTpa5QLRPFKsH4DdWSp1mru5BkEEWvYR\",\r\n              \"type\": \"pubkeyhash\"\r\n            }\r\n          },\r\n          {\r\n            \"value\": 0.00000000,\r\n            \"n\": 1,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"OP_RETURN b9e11b6d0e9243317b288d087de11b8e6ef80f7c2103f4de492da071b36caa92112c85df\",\r\n              \"hex\": \"6a24b9e11b6d0e9243317b288d087de11b8e6ef80f7c2103f4de492da071b36caa92112c85df\",\r\n              \"type\": \"nulldata\"\r\n            }\r\n          },\r\n          {\r\n            \"value\": 0.00000000,\r\n            \"n\": 2,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"OP_RETURN aa21a9ed863dde47b2d6f490300e63cb1db36a41a47052956ac4eb40e17a9d8e15d694c1\",\r\n              \"hex\": \"6a24aa21a9ed863dde47b2d6f490300e63cb1db36a41a47052956ac4eb40e17a9d8e15d694c1\",\r\n              \"type\": \"nulldata\"\r\n            }\r\n          },\r\n          {\r\n            \"value\": 0.00000000,\r\n            \"n\": 3,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"OP_RETURN 52534b424c4f434b3af72ef02a50ecbfc6f9e6e464c57881bc23da25fbf5254088f7e68366001f7573\",\r\n              \"hex\": \"6a2952534b424c4f434b3af72ef02a50ecbfc6f9e6e464c57881bc23da25fbf5254088f7e68366001f7573\",\r\n              \"type\": \"nulldata\"\r\n            }\r\n          }\r\n        ],\r\n        \"hex\": \"010000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff5a03e67b1f04819c0b612f64656275672e636f6d2ffabe6d6d5647e44d08c48adec0ee855a3e78909f300bc4a4f9b79b01167ad2d107747c3501000000000000002c6c0d02af403792e06d14248417542f120093c2020000000000ffffffff04b92e9500000000001976a914190f8ddccb511a66f0cfc9a33204d9287e65fdf788ac0000000000000000266a24b9e11b6d0e9243317b288d087de11b8e6ef80f7c2103f4de492da071b36caa92112c85df0000000000000000266a24aa21a9ed863dde47b2d6f490300e63cb1db36a41a47052956ac4eb40e17a9d8e15d694c100000000000000002b6a2952534b424c4f434b3af72ef02a50ecbfc6f9e6e464c57881bc23da25fbf5254088f7e68366001f757301200000000000000000000000000000000000000000000000000000000000000000f1087e96\"\r\n      },\r\n      {\r\n        \"txid\": \"6fcf360bade1cae884cb0d36dfb92455b7cfdc037cfbab75f86dfbfe28f08b3e\",\r\n        \"hash\": \"891566037ba9d65bdc6bce5135d27d18607e7903979d8fa014d1f7118d618691\",\r\n        \"version\": 1,\r\n        \"size\": 521,\r\n        \"vsize\": 278,\r\n        \"weight\": 1109,\r\n        \"locktime\": 0,\r\n        \"vin\": [\r\n          {\r\n            \"txid\": \"12b153a015243816488711d4db3ee0670ee2d905855f25dbd69cb98d3a74fe86\",\r\n            \"vout\": 1,\r\n            \"scriptSig\": {\r\n              \"asm\": \"\",\r\n              \"hex\": \"\"\r\n            },\r\n            \"txinwitness\": [\r\n              \"3045022100e45dd0be123e8edc98780e8fb1746cd5449d18399818052b66e8ae5fed26b0c502205e971594f3198009a436416c88f4aeea96beb07c713b71a60ffc043996da36e101\",\r\n              \"02b90ee04fcba937c82b5a45b7f0fff4fbf6f1f4de2d152a16db94d31b40f352e0\"\r\n            ],\r\n            \"sequence\": 4294967295\r\n          },\r\n          {\r\n            \"txid\": \"e137c61946489c3eb4a90b02b71d56ef69c73f89074eeb0379c82f49725a78a0\",\r\n            \"vout\": 0,\r\n            \"scriptSig\": {\r\n              \"asm\": \"\",\r\n              \"hex\": \"\"\r\n            },\r\n            \"txinwitness\": [\r\n              \"304502210083212c58e557e4b9b31bc9788bc3d08af280ea4b0376c00f54231f4fc6afd80e0220140601b13356014c924bca99ff0eba14ee200af496f9c9716bdd087023cbf1b001\",\r\n              \"0396b46245502c3011f8e1b8b19aa9e8a40fff3153e225f619f57297914d93d457\"\r\n            ],\r\n            \"sequence\": 4294967295\r\n          },\r\n          {\r\n            \"txid\": \"0259472a025b07a90750045735ae1af3a7a1ff8341459042c36508c5a654cd7d\",\r\n            \"vout\": 1,\r\n            \"scriptSig\": {\r\n              \"asm\": \"\",\r\n              \"hex\": \"\"\r\n            },\r\n            \"txinwitness\": [\r\n              \"304402201d1bae75003e8986346c6df5aabe4ff820651cdc3c30038e3c2937c0393a70e30220528ac716e5e480b830e4b742c451b85cf4afbf53b20b982adf1b83423c79d63401\",\r\n              \"02b90ee04fcba937c82b5a45b7f0fff4fbf6f1f4de2d152a16db94d31b40f352e0\"\r\n            ],\r\n            \"sequence\": 4294967295\r\n          }\r\n        ],\r\n        \"vout\": [\r\n          {\r\n            \"value\": 0.02920000,\r\n            \"n\": 0,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"OP_HASH160 d1c71b4df72064844eec341c86dc68cf81b9c2ec OP_EQUAL\",\r\n              \"hex\": \"a914d1c71b4df72064844eec341c86dc68cf81b9c2ec87\",\r\n              \"address\": \"2NCNRjYqKz6j377wA328zjTqRGWBR59ygz1\",\r\n              \"type\": \"scripthash\"\r\n            }\r\n          },\r\n          {\r\n            \"value\": 0.00050666,\r\n            \"n\": 1,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"0 f2aeff3fd69c70bcff9c0709cc3ed15218685380\",\r\n              \"hex\": \"0014f2aeff3fd69c70bcff9c0709cc3ed15218685380\",\r\n              \"address\": \"tb1q72h0707kn3cteluuquyuc0k32gvxs5uqawmvpn\",\r\n              \"type\": \"witness_v0_keyhash\"\r\n            }\r\n          }\r\n        ],\r\n        \"fee\": 0.00011200,\r\n        \"hex\": \"0100000000010386fe743a8db99cd6db255f8505d9e20e67e03edbd411874816382415a053b1120100000000ffffffffa0785a72492fc87903eb4e07893fc769ef561db7020ba9b43e9c484619c637e10000000000ffffffff7dcd54a6c50865c34290454183ffa1a7f31aae3557045007a9075b022a4759020100000000ffffffff02408e2c000000000017a914d1c71b4df72064844eec341c86dc68cf81b9c2ec87eac5000000000000160014f2aeff3fd69c70bcff9c0709cc3ed1521868538002483045022100e45dd0be123e8edc98780e8fb1746cd5449d18399818052b66e8ae5fed26b0c502205e971594f3198009a436416c88f4aeea96beb07c713b71a60ffc043996da36e1012102b90ee04fcba937c82b5a45b7f0fff4fbf6f1f4de2d152a16db94d31b40f352e00248304502210083212c58e557e4b9b31bc9788bc3d08af280ea4b0376c00f54231f4fc6afd80e0220140601b13356014c924bca99ff0eba14ee200af496f9c9716bdd087023cbf1b001210396b46245502c3011f8e1b8b19aa9e8a40fff3153e225f619f57297914d93d4570247304402201d1bae75003e8986346c6df5aabe4ff820651cdc3c30038e3c2937c0393a70e30220528ac716e5e480b830e4b742c451b85cf4afbf53b20b982adf1b83423c79d634012102b90ee04fcba937c82b5a45b7f0fff4fbf6f1f4de2d152a16db94d31b40f352e000000000\"\r\n      }\r\n    ]\r\n  }\r\n  ```\r\n</details>\r\n\r\n\r\n\r\n### Verbose level 3\r\n\r\n```bash\r\n./bitcoin-cli -testnet getblock 000000000000001f682b188971cc1a121546be4e9d5baf22934fdc7f538288d5 3\r\n```\r\n\r\n<details>\r\n  <summary>Console output</summary>\r\n\r\n  ```json\r\n  {\r\n    \"hash\": \"000000000000001f682b188971cc1a121546be4e9d5baf22934fdc7f538288d5\",\r\n    \"confirmations\": 10,\r\n    \"height\": 2063334,\r\n    \"version\": 549453828,\r\n    \"versionHex\": \"20c00004\",\r\n    \"merkleroot\": \"3215277e48a4af9b7593c0c3e7c992752255724294c89813d6e64b585dd08783\",\r\n    \"time\": 1628150913,\r\n    \"mediantime\": 1628149483,\r\n    \"nonce\": 282709097,\r\n    \"bits\": \"1942ec00\",\r\n    \"difficulty\": 64177845.58487042,\r\n    \"chainwork\": \"000000000000000000000000000000000000000000000558fbc2a80220ea0e44\",\r\n    \"nTx\": 2,\r\n    \"previousblockhash\": \"000000000000000bca86c2f4af44a962e63973a087f56d74fc895b4642f3f5fb\",\r\n    \"nextblockhash\": \"000000000000000119b44a12b31fb2e1d2baa9ad5bb7419428f62cc77a4685f5\",\r\n    \"strippedsize\": 598,\r\n    \"size\": 959,\r\n    \"weight\": 2753,\r\n    \"tx\": [\r\n      {\r\n        \"txid\": \"f10ed21d238ce32aaa00384af709381e2ecf1e3914604b4f0fbd817b3477017c\",\r\n        \"hash\": \"9a614c99fc94459d6a5901b4091576365def3a23e002d77e6d79fd153d533bf4\",\r\n        \"version\": 1,\r\n        \"size\": 357,\r\n        \"vsize\": 330,\r\n        \"weight\": 1320,\r\n        \"locktime\": 2524842225,\r\n        \"vin\": [\r\n          {\r\n            \"coinbase\": \"03e67b1f04819c0b612f64656275672e636f6d2ffabe6d6d5647e44d08c48adec0ee855a3e78909f300bc4a4f9b79b01167ad2d107747c3501000000000000002c6c0d02af403792e06d14248417542f120093c2020000000000\",\r\n            \"txinwitness\": [\r\n              \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n            ],\r\n            \"sequence\": 4294967295\r\n          }\r\n        ],\r\n        \"vout\": [\r\n          {\r\n            \"value\": 0.09776825,\r\n            \"n\": 0,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"OP_DUP OP_HASH160 190f8ddccb511a66f0cfc9a33204d9287e65fdf7 OP_EQUALVERIFY OP_CHECKSIG\",\r\n              \"hex\": \"76a914190f8ddccb511a66f0cfc9a33204d9287e65fdf788ac\",\r\n              \"address\": \"mhoTpa5QLRPFKsH4DdWSp1mru5BkEEWvYR\",\r\n              \"type\": \"pubkeyhash\"\r\n            }\r\n          },\r\n          {\r\n            \"value\": 0.00000000,\r\n            \"n\": 1,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"OP_RETURN b9e11b6d0e9243317b288d087de11b8e6ef80f7c2103f4de492da071b36caa92112c85df\",\r\n              \"hex\": \"6a24b9e11b6d0e9243317b288d087de11b8e6ef80f7c2103f4de492da071b36caa92112c85df\",\r\n              \"type\": \"nulldata\"\r\n            }\r\n          },\r\n          {\r\n            \"value\": 0.00000000,\r\n            \"n\": 2,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"OP_RETURN aa21a9ed863dde47b2d6f490300e63cb1db36a41a47052956ac4eb40e17a9d8e15d694c1\",\r\n              \"hex\": \"6a24aa21a9ed863dde47b2d6f490300e63cb1db36a41a47052956ac4eb40e17a9d8e15d694c1\",\r\n              \"type\": \"nulldata\"\r\n            }\r\n          },\r\n          {\r\n            \"value\": 0.00000000,\r\n            \"n\": 3,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"OP_RETURN 52534b424c4f434b3af72ef02a50ecbfc6f9e6e464c57881bc23da25fbf5254088f7e68366001f7573\",\r\n              \"hex\": \"6a2952534b424c4f434b3af72ef02a50ecbfc6f9e6e464c57881bc23da25fbf5254088f7e68366001f7573\",\r\n              \"type\": \"nulldata\"\r\n            }\r\n          }\r\n        ],\r\n        \"hex\": \"010000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff5a03e67b1f04819c0b612f64656275672e636f6d2ffabe6d6d5647e44d08c48adec0ee855a3e78909f300bc4a4f9b79b01167ad2d107747c3501000000000000002c6c0d02af403792e06d14248417542f120093c2020000000000ffffffff04b92e9500000000001976a914190f8ddccb511a66f0cfc9a33204d9287e65fdf788ac0000000000000000266a24b9e11b6d0e9243317b288d087de11b8e6ef80f7c2103f4de492da071b36caa92112c85df0000000000000000266a24aa21a9ed863dde47b2d6f490300e63cb1db36a41a47052956ac4eb40e17a9d8e15d694c100000000000000002b6a2952534b424c4f434b3af72ef02a50ecbfc6f9e6e464c57881bc23da25fbf5254088f7e68366001f757301200000000000000000000000000000000000000000000000000000000000000000f1087e96\"\r\n      },\r\n      {\r\n        \"txid\": \"6fcf360bade1cae884cb0d36dfb92455b7cfdc037cfbab75f86dfbfe28f08b3e\",\r\n        \"hash\": \"891566037ba9d65bdc6bce5135d27d18607e7903979d8fa014d1f7118d618691\",\r\n        \"version\": 1,\r\n        \"size\": 521,\r\n        \"vsize\": 278,\r\n        \"weight\": 1109,\r\n        \"locktime\": 0,\r\n        \"vin\": [\r\n          {\r\n            \"txid\": \"12b153a015243816488711d4db3ee0670ee2d905855f25dbd69cb98d3a74fe86\",\r\n            \"vout\": 1,\r\n            \"scriptSig\": {\r\n              \"asm\": \"\",\r\n              \"hex\": \"\"\r\n            },\r\n            \"txinwitness\": [\r\n              \"3045022100e45dd0be123e8edc98780e8fb1746cd5449d18399818052b66e8ae5fed26b0c502205e971594f3198009a436416c88f4aeea96beb07c713b71a60ffc043996da36e101\",\r\n              \"02b90ee04fcba937c82b5a45b7f0fff4fbf6f1f4de2d152a16db94d31b40f352e0\"\r\n            ],\r\n            \"prevout\": {\r\n              \"generated\": false,\r\n              \"height\": 2063323,\r\n              \"value\": 0.00544519,\r\n              \"scriptPubKey\": {\r\n                \"asm\": \"0 f2aeff3fd69c70bcff9c0709cc3ed15218685380\",\r\n                \"hex\": \"0014f2aeff3fd69c70bcff9c0709cc3ed15218685380\",\r\n                \"address\": \"tb1q72h0707kn3cteluuquyuc0k32gvxs5uqawmvpn\",\r\n                \"type\": \"witness_v0_keyhash\",\r\n                \"addresses\": [\r\n                  \"tb1q72h0707kn3cteluuquyuc0k32gvxs5uqawmvpn\"\r\n                ],\r\n                \"reqSigs\": 1\r\n              }\r\n            },\r\n            \"sequence\": 4294967295\r\n          },\r\n          {\r\n            \"txid\": \"e137c61946489c3eb4a90b02b71d56ef69c73f89074eeb0379c82f49725a78a0\",\r\n            \"vout\": 0,\r\n            \"scriptSig\": {\r\n              \"asm\": \"\",\r\n              \"hex\": \"\"\r\n            },\r\n            \"txinwitness\": [\r\n              \"304502210083212c58e557e4b9b31bc9788bc3d08af280ea4b0376c00f54231f4fc6afd80e0220140601b13356014c924bca99ff0eba14ee200af496f9c9716bdd087023cbf1b001\",\r\n              \"0396b46245502c3011f8e1b8b19aa9e8a40fff3153e225f619f57297914d93d457\"\r\n            ],\r\n            \"prevout\": {\r\n              \"generated\": false,\r\n              \"height\": 2034020,\r\n              \"value\": 0.01184228,\r\n              \"scriptPubKey\": {\r\n                \"asm\": \"0 4aefc0691c23cddd7ac75d9ba3714e37c802088a\",\r\n                \"hex\": \"00144aefc0691c23cddd7ac75d9ba3714e37c802088a\",\r\n                \"address\": \"tb1qfthuq6guy0xa67k8tkd6xu2wxlyqyzy2ctc4fz\",\r\n                \"type\": \"witness_v0_keyhash\",\r\n                \"addresses\": [\r\n                  \"tb1qfthuq6guy0xa67k8tkd6xu2wxlyqyzy2ctc4fz\"\r\n                ],\r\n                \"reqSigs\": 1\r\n              }\r\n            },\r\n            \"sequence\": 4294967295\r\n          },\r\n          {\r\n            \"txid\": \"0259472a025b07a90750045735ae1af3a7a1ff8341459042c36508c5a654cd7d\",\r\n            \"vout\": 1,\r\n            \"scriptSig\": {\r\n              \"asm\": \"\",\r\n              \"hex\": \"\"\r\n            },\r\n            \"txinwitness\": [\r\n              \"304402201d1bae75003e8986346c6df5aabe4ff820651cdc3c30038e3c2937c0393a70e30220528ac716e5e480b830e4b742c451b85cf4afbf53b20b982adf1b83423c79d63401\",\r\n              \"02b90ee04fcba937c82b5a45b7f0fff4fbf6f1f4de2d152a16db94d31b40f352e0\"\r\n            ],\r\n            \"prevout\": {\r\n              \"generated\": false,\r\n              \"height\": 2007043,\r\n              \"value\": 0.01253119,\r\n              \"scriptPubKey\": {\r\n                \"asm\": \"0 f2aeff3fd69c70bcff9c0709cc3ed15218685380\",\r\n                \"hex\": \"0014f2aeff3fd69c70bcff9c0709cc3ed15218685380\",\r\n                \"address\": \"tb1q72h0707kn3cteluuquyuc0k32gvxs5uqawmvpn\",\r\n                \"type\": \"witness_v0_keyhash\",\r\n                \"addresses\": [\r\n                  \"tb1q72h0707kn3cteluuquyuc0k32gvxs5uqawmvpn\"\r\n                ],\r\n                \"reqSigs\": 1\r\n              }\r\n            },\r\n            \"sequence\": 4294967295\r\n          }\r\n        ],\r\n        \"vout\": [\r\n          {\r\n            \"value\": 0.02920000,\r\n            \"n\": 0,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"OP_HASH160 d1c71b4df72064844eec341c86dc68cf81b9c2ec OP_EQUAL\",\r\n              \"hex\": \"a914d1c71b4df72064844eec341c86dc68cf81b9c2ec87\",\r\n              \"address\": \"2NCNRjYqKz6j377wA328zjTqRGWBR59ygz1\",\r\n              \"type\": \"scripthash\"\r\n            }\r\n          },\r\n          {\r\n            \"value\": 0.00050666,\r\n            \"n\": 1,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"0 f2aeff3fd69c70bcff9c0709cc3ed15218685380\",\r\n              \"hex\": \"0014f2aeff3fd69c70bcff9c0709cc3ed15218685380\",\r\n              \"address\": \"tb1q72h0707kn3cteluuquyuc0k32gvxs5uqawmvpn\",\r\n              \"type\": \"witness_v0_keyhash\"\r\n            }\r\n          }\r\n        ],\r\n        \"fee\": 0.00011200,\r\n        \"hex\": \"0100000000010386fe743a8db99cd6db255f8505d9e20e67e03edbd411874816382415a053b1120100000000ffffffffa0785a72492fc87903eb4e07893fc769ef561db7020ba9b43e9c484619c637e10000000000ffffffff7dcd54a6c50865c34290454183ffa1a7f31aae3557045007a9075b022a4759020100000000ffffffff02408e2c000000000017a914d1c71b4df72064844eec341c86dc68cf81b9c2ec87eac5000000000000160014f2aeff3fd69c70bcff9c0709cc3ed1521868538002483045022100e45dd0be123e8edc98780e8fb1746cd5449d18399818052b66e8ae5fed26b0c502205e971594f3198009a436416c88f4aeea96beb07c713b71a60ffc043996da36e1012102b90ee04fcba937c82b5a45b7f0fff4fbf6f1f4de2d152a16db94d31b40f352e00248304502210083212c58e557e4b9b31bc9788bc3d08af280ea4b0376c00f54231f4fc6afd80e0220140601b13356014c924bca99ff0eba14ee200af496f9c9716bdd087023cbf1b001210396b46245502c3011f8e1b8b19aa9e8a40fff3153e225f619f57297914d93d4570247304402201d1bae75003e8986346c6df5aabe4ff820651cdc3c30038e3c2937c0393a70e30220528ac716e5e480b830e4b742c451b85cf4afbf53b20b982adf1b83423c79d634012102b90ee04fcba937c82b5a45b7f0fff4fbf6f1f4de2d152a16db94d31b40f352e000000000\"\r\n      }\r\n    ]\r\n  }\r\n  ```\r\n</details>\r\n\r\n## REST\r\n\r\n```bash\r\ncurl -H \"content-type:text/plain;\" http://127.0.0.1:18332/rest/block/000000000000001f682b188971cc1a121546be4e9d5baf22934fdc7f538288d5.json\r\n```\r\n\r\n<details>\r\n  <summary>Console output</summary>\r\n\r\n```json\r\n{\r\n  \"hash\": \"000000000000001f682b188971cc1a121546be4e9d5baf22934fdc7f538288d5\",\r\n  \"confirmations\": 11,\r\n  \"height\": 2063334,\r\n  \"version\": 549453828,\r\n  \"versionHex\": \"20c00004\",\r\n  \"merkleroot\": \"3215277e48a4af9b7593c0c3e7c992752255724294c89813d6e64b585dd08783\",\r\n  \"time\": 1628150913,\r\n  \"mediantime\": 1628149483,\r\n  \"nonce\": 282709097,\r\n  \"bits\": \"1942ec00\",\r\n  \"difficulty\": 64177845.58487042,\r\n  \"chainwork\": \"000000000000000000000000000000000000000000000558fbc2a80220ea0e44\",\r\n  \"nTx\": 2,\r\n  \"previousblockhash\": \"000000000000000bca86c2f4af44a962e63973a087f56d74fc895b4642f3f5fb\",\r\n  \"nextblockhash\": \"000000000000000119b44a12b31fb2e1d2baa9ad5bb7419428f62cc77a4685f5\",\r\n  \"strippedsize\": 598,\r\n  \"size\": 959,\r\n  \"weight\": 2753,\r\n  \"tx\": [\r\n    {\r\n      \"txid\": \"f10ed21d238ce32aaa00384af709381e2ecf1e3914604b4f0fbd817b3477017c\",\r\n      \"hash\": \"9a614c99fc94459d6a5901b4091576365def3a23e002d77e6d79fd153d533bf4\",\r\n      \"version\": 1,\r\n      \"size\": 357,\r\n      \"vsize\": 330,\r\n      \"weight\": 1320,\r\n      \"locktime\": 2524842225,\r\n      \"vin\": [\r\n        {\r\n          \"coinbase\": \"03e67b1f04819c0b612f64656275672e636f6d2ffabe6d6d5647e44d08c48adec0ee855a3e78909f300bc4a4f9b79b01167ad2d107747c3501000000000000002c6c0d02af403792e06d14248417542f120093c2020000000000\",\r\n          \"txinwitness\": [\r\n            \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n          ],\r\n          \"sequence\": 4294967295\r\n        }\r\n      ],\r\n      \"vout\": [\r\n        {\r\n          \"value\": 0.09776825,\r\n          \"n\": 0,\r\n          \"scriptPubKey\": {\r\n            \"asm\": \"OP_DUP OP_HASH160 190f8ddccb511a66f0cfc9a33204d9287e65fdf7 OP_EQUALVERIFY OP_CHECKSIG\",\r\n            \"hex\": \"76a914190f8ddccb511a66f0cfc9a33204d9287e65fdf788ac\",\r\n            \"address\": \"mhoTpa5QLRPFKsH4DdWSp1mru5BkEEWvYR\",\r\n            \"type\": \"pubkeyhash\"\r\n          }\r\n        },\r\n        {\r\n          \"value\": 0,\r\n          \"n\": 1,\r\n          \"scriptPubKey\": {\r\n            \"asm\": \"OP_RETURN b9e11b6d0e9243317b288d087de11b8e6ef80f7c2103f4de492da071b36caa92112c85df\",\r\n            \"hex\": \"6a24b9e11b6d0e9243317b288d087de11b8e6ef80f7c2103f4de492da071b36caa92112c85df\",\r\n            \"type\": \"nulldata\"\r\n          }\r\n        },\r\n        {\r\n          \"value\": 0,\r\n          \"n\": 2,\r\n          \"scriptPubKey\": {\r\n            \"asm\": \"OP_RETURN aa21a9ed863dde47b2d6f490300e63cb1db36a41a47052956ac4eb40e17a9d8e15d694c1\",\r\n            \"hex\": \"6a24aa21a9ed863dde47b2d6f490300e63cb1db36a41a47052956ac4eb40e17a9d8e15d694c1\",\r\n            \"type\": \"nulldata\"\r\n          }\r\n        },\r\n        {\r\n          \"value\": 0,\r\n          \"n\": 3,\r\n          \"scriptPubKey\": {\r\n            \"asm\": \"OP_RETURN 52534b424c4f434b3af72ef02a50ecbfc6f9e6e464c57881bc23da25fbf5254088f7e68366001f7573\",\r\n            \"hex\": \"6a2952534b424c4f434b3af72ef02a50ecbfc6f9e6e464c57881bc23da25fbf5254088f7e68366001f7573\",\r\n            \"type\": \"nulldata\"\r\n          }\r\n        }\r\n      ],\r\n      \"hex\": \"010000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff5a03e67b1f04819c0b612f64656275672e636f6d2ffabe6d6d5647e44d08c48adec0ee855a3e78909f300bc4a4f9b79b01167ad2d107747c3501000000000000002c6c0d02af403792e06d14248417542f120093c2020000000000ffffffff04b92e9500000000001976a914190f8ddccb511a66f0cfc9a33204d9287e65fdf788ac0000000000000000266a24b9e11b6d0e9243317b288d087de11b8e6ef80f7c2103f4de492da071b36caa92112c85df0000000000000000266a24aa21a9ed863dde47b2d6f490300e63cb1db36a41a47052956ac4eb40e17a9d8e15d694c100000000000000002b6a2952534b424c4f434b3af72ef02a50ecbfc6f9e6e464c57881bc23da25fbf5254088f7e68366001f757301200000000000000000000000000000000000000000000000000000000000000000f1087e96\"\r\n    },\r\n    {\r\n      \"txid\": \"6fcf360bade1cae884cb0d36dfb92455b7cfdc037cfbab75f86dfbfe28f08b3e\",\r\n      \"hash\": \"891566037ba9d65bdc6bce5135d27d18607e7903979d8fa014d1f7118d618691\",\r\n      \"version\": 1,\r\n      \"size\": 521,\r\n      \"vsize\": 278,\r\n      \"weight\": 1109,\r\n      \"locktime\": 0,\r\n      \"vin\": [\r\n        {\r\n          \"txid\": \"12b153a015243816488711d4db3ee0670ee2d905855f25dbd69cb98d3a74fe86\",\r\n          \"vout\": 1,\r\n          \"scriptSig\": {\r\n            \"asm\": \"\",\r\n            \"hex\": \"\"\r\n          },\r\n          \"txinwitness\": [\r\n            \"3045022100e45dd0be123e8edc98780e8fb1746cd5449d18399818052b66e8ae5fed26b0c502205e971594f3198009a436416c88f4aeea96beb07c713b71a60ffc043996da36e101\",\r\n            \"02b90ee04fcba937c82b5a45b7f0fff4fbf6f1f4de2d152a16db94d31b40f352e0\"\r\n          ],\r\n          \"prevout\": {\r\n            \"generated\": false,\r\n            \"height\": 2063323,\r\n            \"value\": 0.00544519,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"0 f2aeff3fd69c70bcff9c0709cc3ed15218685380\",\r\n              \"hex\": \"0014f2aeff3fd69c70bcff9c0709cc3ed15218685380\",\r\n              \"address\": \"tb1q72h0707kn3cteluuquyuc0k32gvxs5uqawmvpn\",\r\n              \"type\": \"witness_v0_keyhash\",\r\n              \"addresses\": [\r\n                \"tb1q72h0707kn3cteluuquyuc0k32gvxs5uqawmvpn\"\r\n              ],\r\n              \"reqSigs\": 1\r\n            }\r\n          },\r\n          \"sequence\": 4294967295\r\n        },\r\n        {\r\n          \"txid\": \"e137c61946489c3eb4a90b02b71d56ef69c73f89074eeb0379c82f49725a78a0\",\r\n          \"vout\": 0,\r\n          \"scriptSig\": {\r\n            \"asm\": \"\",\r\n            \"hex\": \"\"\r\n          },\r\n          \"txinwitness\": [\r\n            \"304502210083212c58e557e4b9b31bc9788bc3d08af280ea4b0376c00f54231f4fc6afd80e0220140601b13356014c924bca99ff0eba14ee200af496f9c9716bdd087023cbf1b001\",\r\n            \"0396b46245502c3011f8e1b8b19aa9e8a40fff3153e225f619f57297914d93d457\"\r\n          ],\r\n          \"prevout\": {\r\n            \"generated\": false,\r\n            \"height\": 2034020,\r\n            \"value\": 0.01184228,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"0 4aefc0691c23cddd7ac75d9ba3714e37c802088a\",\r\n              \"hex\": \"00144aefc0691c23cddd7ac75d9ba3714e37c802088a\",\r\n              \"address\": \"tb1qfthuq6guy0xa67k8tkd6xu2wxlyqyzy2ctc4fz\",\r\n              \"type\": \"witness_v0_keyhash\",\r\n              \"addresses\": [\r\n                \"tb1qfthuq6guy0xa67k8tkd6xu2wxlyqyzy2ctc4fz\"\r\n              ],\r\n              \"reqSigs\": 1\r\n            }\r\n          },\r\n          \"sequence\": 4294967295\r\n        },\r\n        {\r\n          \"txid\": \"0259472a025b07a90750045735ae1af3a7a1ff8341459042c36508c5a654cd7d\",\r\n          \"vout\": 1,\r\n          \"scriptSig\": {\r\n            \"asm\": \"\",\r\n            \"hex\": \"\"\r\n          },\r\n          \"txinwitness\": [\r\n            \"304402201d1bae75003e8986346c6df5aabe4ff820651cdc3c30038e3c2937c0393a70e30220528ac716e5e480b830e4b742c451b85cf4afbf53b20b982adf1b83423c79d63401\",\r\n            \"02b90ee04fcba937c82b5a45b7f0fff4fbf6f1f4de2d152a16db94d31b40f352e0\"\r\n          ],\r\n          \"prevout\": {\r\n            \"generated\": false,\r\n            \"height\": 2007043,\r\n            \"value\": 0.01253119,\r\n            \"scriptPubKey\": {\r\n              \"asm\": \"0 f2aeff3fd69c70bcff9c0709cc3ed15218685380\",\r\n              \"hex\": \"0014f2aeff3fd69c70bcff9c0709cc3ed15218685380\",\r\n              \"address\": \"tb1q72h0707kn3cteluuquyuc0k32gvxs5uqawmvpn\",\r\n              \"type\": \"witness_v0_keyhash\",\r\n              \"addresses\": [\r\n                \"tb1q72h0707kn3cteluuquyuc0k32gvxs5uqawmvpn\"\r\n              ],\r\n              \"reqSigs\": 1\r\n            }\r\n          },\r\n          \"sequence\": 4294967295\r\n        }\r\n      ],\r\n      \"vout\": [\r\n        {\r\n          \"value\": 0.0292,\r\n          \"n\": 0,\r\n          \"scriptPubKey\": {\r\n            \"asm\": \"OP_HASH160 d1c71b4df72064844eec341c86dc68cf81b9c2ec OP_EQUAL\",\r\n            \"hex\": \"a914d1c71b4df72064844eec341c86dc68cf81b9c2ec87\",\r\n            \"address\": \"2NCNRjYqKz6j377wA328zjTqRGWBR59ygz1\",\r\n            \"type\": \"scripthash\"\r\n          }\r\n        },\r\n        {\r\n          \"value\": 0.00050666,\r\n          \"n\": 1,\r\n          \"scriptPubKey\": {\r\n            \"asm\": \"0 f2aeff3fd69c70bcff9c0709cc3ed15218685380\",\r\n            \"hex\": \"0014f2aeff3fd69c70bcff9c0709cc3ed15218685380\",\r\n            \"address\": \"tb1q72h0707kn3cteluuquyuc0k32gvxs5uqawmvpn\",\r\n            \"type\": \"witness_v0_keyhash\"\r\n          }\r\n        }\r\n      ],\r\n      \"fee\": 0.000112,\r\n      \"hex\": \"0100000000010386fe743a8db99cd6db255f8505d9e20e67e03edbd411874816382415a053b1120100000000ffffffffa0785a72492fc87903eb4e07893fc769ef561db7020ba9b43e9c484619c637e10000000000ffffffff7dcd54a6c50865c34290454183ffa1a7f31aae3557045007a9075b022a4759020100000000ffffffff02408e2c000000000017a914d1c71b4df72064844eec341c86dc68cf81b9c2ec87eac5000000000000160014f2aeff3fd69c70bcff9c0709cc3ed1521868538002483045022100e45dd0be123e8edc98780e8fb1746cd5449d18399818052b66e8ae5fed26b0c502205e971594f3198009a436416c88f4aeea96beb07c713b71a60ffc043996da36e1012102b90ee04fcba937c82b5a45b7f0fff4fbf6f1f4de2d152a16db94d31b40f352e00248304502210083212c58e557e4b9b31bc9788bc3d08af280ea4b0376c00f54231f4fc6afd80e0220140601b13356014c924bca99ff0eba14ee200af496f9c9716bdd087023cbf1b001210396b46245502c3011f8e1b8b19aa9e8a40fff3153e225f619f57297914d93d4570247304402201d1bae75003e8986346c6df5aabe4ff820651cdc3c30038e3c2937c0393a70e30220528ac716e5e480b830e4b742c451b85cf4afbf53b20b982adf1b83423c79d634012102b90ee04fcba937c82b5a45b7f0fff4fbf6f1f4de2d152a16db94d31b40f352e000000000\"\r\n    }\r\n  ]\r\n}\r\n```\r\n</details>\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/893313612/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894853784",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-894853784",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 894853784,
    "node_id": "IC_kwDOABII5841VmKY",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?u=b48a1208deda9bd1756f21a35341ce98265355c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-08T20:53:31Z",
    "updated_at": "2021-08-08T20:54:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fyquah I have attempted to address my comments above and add RPC help here: https://github.com/kiminuo/bitcoin/tree/feature/2021-08-08-verbosity-level-3-getblock-iteration-3:\r\n\r\n```bash\r\n./bitcoin-cli -testnet getblock\r\n```\r\n\r\nreports for me:\r\n\r\n<details>\r\n  <summary>Console output</summary>\r\n\r\n```\r\nerror code: -1\r\nerror message:\r\ngetblock \"blockhash\" ( verbosity )\r\n\r\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'hash'.\r\nIf verbosity is 1, returns an Object with information about block <hash>.\r\nIf verbosity is 2, returns an Object with information about block <hash> and information about each transaction.\r\nIf verbosity is 3, returns an Object with information about block <hash> and information about each transaction, including prevout information for inputs (only for unpruned blocks in the current best chain).\r\n\r\nArguments:\r\n1. blockhash    (string, required) The block hash\r\n2. verbosity    (numeric, optional, default=1) 0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\r\n\r\nResult (for verbosity = 0):\r\n\"hex\"    (string) A string that is serialized, hex-encoded data for block 'hash'\r\n\r\nResult (for verbosity = 1):\r\n{                                 (json object)\r\n  \"hash\" : \"hex\",                 (string) the block hash (same as provided)\r\n  \"confirmations\" : n,            (numeric) The number of confirmations, or -1 if the block is not on the main chain\r\n  \"size\" : n,                     (numeric) The block size\r\n  \"strippedsize\" : n,             (numeric) The block size excluding witness data\r\n  \"weight\" : n,                   (numeric) The block weight as defined in BIP 141\r\n  \"height\" : n,                   (numeric) The block height or index\r\n  \"version\" : n,                  (numeric) The block version\r\n  \"versionHex\" : \"hex\",           (string) The block version formatted in hexadecimal\r\n  \"merkleroot\" : \"hex\",           (string) The merkle root\r\n  \"tx\" : [                        (json array) The transaction ids\r\n    \"hex\",                        (string) The transaction id\r\n    ...\r\n  ],\r\n  \"time\" : xxx,                   (numeric) The block time expressed in UNIX epoch time\r\n  \"mediantime\" : xxx,             (numeric) The median block time expressed in UNIX epoch time\r\n  \"nonce\" : n,                    (numeric) The nonce\r\n  \"bits\" : \"hex\",                 (string) The bits\r\n  \"difficulty\" : n,               (numeric) The difficulty\r\n  \"chainwork\" : \"hex\",            (string) Expected number of hashes required to produce the chain up to this block (in hex)\r\n  \"nTx\" : n,                      (numeric) The number of transactions in the block\r\n  \"previousblockhash\" : \"hex\",    (string, optional) The hash of the previous block (if available)\r\n  \"nextblockhash\" : \"hex\"         (string, optional) The hash of the next block (if available)\r\n}\r\n\r\nResult (for verbosity = 2):\r\n{                   (json object)\r\n  ...,              Same output as verbosity = 1\r\n  \"tx\" : [          (json array)\r\n    {               (json object)\r\n      ...,          The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \"tx\" result\r\n      \"fee\" : n     (numeric) The transaction fee in BTC, omitted if block undo data is not available\r\n    },\r\n    ...\r\n  ]\r\n}\r\n\r\nResult (for verbosity = 3):\r\n{                                        (json object)\r\n  ...,                                   Same output as verbosity = 2\r\n  \"tx\" : [                               (json array)\r\n    {                                    (json object)\r\n      \"vin\" : [                          (json array)\r\n        {                                (json object)\r\n          ...,                           The same output as verbosity = 2\r\n          \"prevout\" : {                  (json object)\r\n            \"generated\" : true|false,    (boolean) Coinbase or not\r\n            \"height\" : n,                (numeric) The height of the prevout\r\n            \"value\" : n,                 (numeric) The value in BTC\r\n            \"scriptPubKey\" : {           (json object)\r\n              \"asm\" : \"str\",             (string) The asm\r\n              \"hex\" : \"str\",             (string) The hex\r\n              \"reqSigs\" : n,             (numeric, optional) (DEPRECATED, returned only if config option -deprecatedrpc=addresses is passed) Number of required signatures\r\n              \"type\" : \"str\",            (string) The type, eg 'pubkeyhash'\r\n              \"address\" : \"str\",         (string, optional) bitcoin address (only if a well-defined address exists)\r\n              \"addresses\" : [            (json array, optional) (DEPRECATED, returned only if config option -deprecatedrpc=addresses is passed) Array of bitcoin addresses\r\n                \"str\",                   (string) bitcoin address\r\n                ...\r\n              ]\r\n            }\r\n          }\r\n        },\r\n        ...\r\n      ]\r\n    },\r\n    ...\r\n  ]\r\n}\r\n\r\nExamples:\r\n> bitcoin-cli getblock \"00000000c937983704a73af28acdec37b049d214adbda81d7e2a3dd146f6ed09\"\r\n> curl --user myusername --data-binary '{\"jsonrpc\": \"1.0\", \"id\": \"curltest\", \"method\": \"getblock\", \"params\": [\"00000000c937983704a73af28acdec37b049d214adbda81d7e2a3dd146f6ed09\"]}' -H 'content-type: text/plain;' http://127.0.0.1:8332/\r\n```\r\n</details>\r\n\r\nIf you find any of the modifications useful, please include it in your PR.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894853784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/902332088",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-902332088",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 902332088,
    "node_id": "IC_kwDOABII5841yH64",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?u=c94a979b9d0065401e1abebe53c47b55bb1267bd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-20T00:06:00Z",
    "updated_at": "2021-08-20T00:06:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi, sorry, I haven't been able to spend much time on this :(\r\n\r\nI like the suggestion to have @kiminuo 's follow-up PR addressing the non-blocking issues. Is there anything that is blocking merge at this point?\r\n\r\n(Tagging an arbitrary maintainer: @fanquake )\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/902332088/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/905099279",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-905099279",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 905099279,
    "node_id": "IC_kwDOABII58418rgP",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?u=a0e0040aacd7d4f0787481e8ac30b494fa429e11&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-25T01:34:18Z",
    "updated_at": "2021-08-25T01:34:18Z",
    "author_association": "MEMBER",
    "body": "> Is there anything that is blocking merge at this point?\r\n\r\nThis has only been ACK'd by a single reviewer.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/905099279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/905150806",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-905150806",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 905150806,
    "node_id": "IC_kwDOABII584184FW",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-25T03:20:52Z",
    "updated_at": "2021-08-25T03:20:52Z",
    "author_association": "MEMBER",
    "body": "I would re-ACK except for https://github.com/bitcoin/bitcoin/pull/21245#discussion_r684024088",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/905150806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/905274210",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-905274210",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 905274210,
    "node_id": "IC_kwDOABII58419WNi",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?u=b48a1208deda9bd1756f21a35341ce98265355c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-25T07:59:54Z",
    "updated_at": "2021-08-25T07:59:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fyquah I think https://github.com/bitcoin/bitcoin/pull/21245#discussion_r684024088 is important so I would ACK once this is fixed. \r\n\r\nAlso, the work is actually done here https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-894853784 I believe (the last commit is extra and is for a follow-up PR).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/905274210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/913840141",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-913840141",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 913840141,
    "node_id": "IC_kwDOABII5842eBgN",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?u=b48a1208deda9bd1756f21a35341ce98265355c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-06T20:20:20Z",
    "updated_at": "2021-09-06T20:20:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fyquah Could you find a moment to address https://github.com/bitcoin/bitcoin/pull/21245#discussion_r684024088?\r\n\r\n(PS: I'm willing to take over your PR to work on it if you are too busy. Anyway, it seems to me one little change is needed here, nothing time consuming.)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/913840141/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/915146664",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-915146664",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
    "id": 915146664,
    "node_id": "IC_kwDOABII5842jAeo",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?u=a0e0040aacd7d4f0787481e8ac30b494fa429e11&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-08T11:17:05Z",
    "updated_at": "2021-09-08T11:17:05Z",
    "author_association": "MEMBER",
    "body": "Closing this for now that #22918 is open.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/915146664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581587569",
    "pull_request_review_id": 597029872,
    "id": 581587569,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTU4NzU2OQ==",
    "diff_hunk": "@@ -223,6 +223,17 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (display_prev_out && (nullptr != txundo)) {\n+            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+            UniValue p(UniValue::VOBJ);\n+            UniValue o_script_pub_key(UniValue::VOBJ);\n+",
    "path": "src/core_write.cpp",
    "position": 37,
    "original_position": 17,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "6eede79af11d8fdfa55ad38a751c287864777b46",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Where did \"height\" and \"generated\" go?",
    "created_at": "2021-02-24T03:15:59Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r581587569",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581587569"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r581587569"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581587569/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 246,
    "original_line": 246,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581588425",
    "pull_request_review_id": 597029872,
    "id": 581588425,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTU4ODQyNQ==",
    "diff_hunk": "@@ -154,30 +154,39 @@ UniValue blockheaderToJSON(const CBlockIndex* tip, const CBlockIndex* blockindex\n     return result;\n }\n \n-UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, bool txDetails)\n+UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, BlockToJsonVerbosity verbosity)\n {\n     UniValue result = blockheaderToJSON(tip, blockindex);\n \n     result.pushKV(\"strippedsize\", (int)::GetSerializeSize(block, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS));\n     result.pushKV(\"size\", (int)::GetSerializeSize(block, PROTOCOL_VERSION));\n     result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n     UniValue txs(UniValue::VARR);\n-    if (txDetails) {\n+\n+    switch (verbosity) {\n+      case BlockToJsonVerbosity::DONT_SHOW_TX_DETAILS:\n+        for (const CTransactionRef& tx : block.vtx) {\n+            txs.push_back(tx->GetHash().GetHex());\n+        }\n+        break;\n+\n+      case BlockToJsonVerbosity::TX_DETAILS:\n+      case BlockToJsonVerbosity::TX_DETAILS_AND_PREV_OUT:\n         CBlockUndo blockUndo;\n         const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);\n+\n         for (size_t i = 0; i < block.vtx.size(); ++i) {\n             const CTransactionRef& tx = block.vtx.at(i);\n             // coinbase transaction (i == 0) doesn't have undo data\n             const CTxUndo* txundo = (have_undo && i) ? &blockUndo.vtxundo.at(i - 1) : nullptr;\n+            const bool display_prev_out = (verbosity == BlockToJsonVerbosity::TX_DETAILS_AND_PREV_OUT);\n             UniValue objTx(UniValue::VOBJ);\n-            TxToUniv(*tx, uint256(), objTx, true, RPCSerializationFlags(), txundo);\n+            std::cout << display_prev_out  << std::endl;",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 34,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "6eede79af11d8fdfa55ad38a751c287864777b46",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "no thx",
    "created_at": "2021-02-24T03:18:36Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r581588425",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581588425"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r581588425"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581588425/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 184,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581589321",
    "pull_request_review_id": 597029872,
    "id": 581589321,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTU4OTMyMQ==",
    "diff_hunk": "@@ -46,6 +46,6 @@ std::string EncodeHexTx(const CTransaction& tx, const int serializeFlags = 0);\n std::string SighashToStr(unsigned char sighash_type);\n void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n void ScriptToUniv(const CScript& script, UniValue& out, bool include_address);\n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr, const bool display_prev_out = false);",
    "path": "src/core_io.h",
    "position": null,
    "original_position": 5,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "6eede79af11d8fdfa55ad38a751c287864777b46",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can we just use `BlockToJsonVerbosity` here? (Maybe rename it)",
    "created_at": "2021-02-24T03:20:55Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r581589321",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581589321"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r581589321"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581589321/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 49,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284150",
    "pull_request_review_id": 597912109,
    "id": 582284150,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjI4NDE1MA==",
    "diff_hunk": "@@ -46,6 +46,6 @@ std::string EncodeHexTx(const CTransaction& tx, const int serializeFlags = 0);\n std::string SighashToStr(unsigned char sighash_type);\n void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n void ScriptToUniv(const CScript& script, UniValue& out, bool include_address);\n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr, const bool display_prev_out = false);",
    "path": "src/core_io.h",
    "position": null,
    "original_position": 5,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "6eede79af11d8fdfa55ad38a751c287864777b46",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I renamed it to TxVerbosity, and moved it to src/core_io.h. Feels cleaner than passing bools.",
    "created_at": "2021-02-24T20:36:30Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582284150",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284150"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582284150"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284150/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 49,
    "side": "RIGHT",
    "in_reply_to_id": 581589321
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284273",
    "pull_request_review_id": 597912186,
    "id": 582284273,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjI4NDI3Mw==",
    "diff_hunk": "@@ -154,30 +154,39 @@ UniValue blockheaderToJSON(const CBlockIndex* tip, const CBlockIndex* blockindex\n     return result;\n }\n \n-UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, bool txDetails)\n+UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, BlockToJsonVerbosity verbosity)\n {\n     UniValue result = blockheaderToJSON(tip, blockindex);\n \n     result.pushKV(\"strippedsize\", (int)::GetSerializeSize(block, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS));\n     result.pushKV(\"size\", (int)::GetSerializeSize(block, PROTOCOL_VERSION));\n     result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n     UniValue txs(UniValue::VARR);\n-    if (txDetails) {\n+\n+    switch (verbosity) {\n+      case BlockToJsonVerbosity::DONT_SHOW_TX_DETAILS:\n+        for (const CTransactionRef& tx : block.vtx) {\n+            txs.push_back(tx->GetHash().GetHex());\n+        }\n+        break;\n+\n+      case BlockToJsonVerbosity::TX_DETAILS:\n+      case BlockToJsonVerbosity::TX_DETAILS_AND_PREV_OUT:\n         CBlockUndo blockUndo;\n         const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);\n+\n         for (size_t i = 0; i < block.vtx.size(); ++i) {\n             const CTransactionRef& tx = block.vtx.at(i);\n             // coinbase transaction (i == 0) doesn't have undo data\n             const CTxUndo* txundo = (have_undo && i) ? &blockUndo.vtxundo.at(i - 1) : nullptr;\n+            const bool display_prev_out = (verbosity == BlockToJsonVerbosity::TX_DETAILS_AND_PREV_OUT);\n             UniValue objTx(UniValue::VOBJ);\n-            TxToUniv(*tx, uint256(), objTx, true, RPCSerializationFlags(), txundo);\n+            std::cout << display_prev_out  << std::endl;",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 34,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "6eede79af11d8fdfa55ad38a751c287864777b46",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Removed, sorry :)",
    "created_at": "2021-02-24T20:36:38Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582284273",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284273"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582284273"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 184,
    "side": "RIGHT",
    "in_reply_to_id": 581588425
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284718",
    "pull_request_review_id": 597912508,
    "id": 582284718,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjI4NDcxOA==",
    "diff_hunk": "@@ -223,6 +223,17 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (display_prev_out && (nullptr != txundo)) {\n+            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+            UniValue p(UniValue::VOBJ);\n+            UniValue o_script_pub_key(UniValue::VOBJ);\n+",
    "path": "src/core_write.cpp",
    "position": 37,
    "original_position": 17,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "6eede79af11d8fdfa55ad38a751c287864777b46",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Added it back",
    "created_at": "2021-02-24T20:37:04Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582284718",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284718"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582284718"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284718/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 246,
    "original_line": 246,
    "side": "RIGHT",
    "in_reply_to_id": 581587569
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582344514",
    "pull_request_review_id": 597985332,
    "id": 582344514,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjM0NDUxNA==",
    "diff_hunk": "@@ -223,6 +223,28 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (nullptr != txundo) {\n+            switch (verbosity) {\n+            case TxVerbosity::DONT_SHOW_TX_DETAILS:\n+            case TxVerbosity::TX_DETAILS:\n+                break;\n+\n+            case TxVerbosity::TX_DETAILS_AND_PREV_OUT:\n+                const Coin&   prev_coin  = txundo->vprevout[i];\n+                const CTxOut& prev_txout = prev_coin.out;\n+                UniValue p(UniValue::VOBJ);\n+                UniValue o_script_pub_key(UniValue::VOBJ);\n+\n+                p.pushKV(\"value\", ValueFromAmount(prev_txout.nValue));\n+                p.pushKV(\"height\", static_cast<uint64_t>(prev_coin.nHeight));\n+                p.pushKV(\"generated\", !static_cast<bool>(prev_coin.fCoinBase));",
    "path": "src/core_write.cpp",
    "position": null,
    "original_position": 27,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "dc684798a0c936c04a10fb06562493c32e03f8f0",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n                p.pushKV(\"height\", uint64_t(prev_coin.nHeight));\r\n                p.pushKV(\"generated\", bool(prev_coin.fCoinBase));\r\n```",
    "created_at": "2021-02-24T22:16:17Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582344514",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582344514"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582344514"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582344514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 239,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 240,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582344935",
    "pull_request_review_id": 597985332,
    "id": 582344935,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjM0NDkzNQ==",
    "diff_hunk": "@@ -223,6 +223,28 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (nullptr != txundo) {\n+            switch (verbosity) {\n+            case TxVerbosity::DONT_SHOW_TX_DETAILS:\n+            case TxVerbosity::TX_DETAILS:\n+                break;\n+\n+            case TxVerbosity::TX_DETAILS_AND_PREV_OUT:\n+                const Coin&   prev_coin  = txundo->vprevout[i];\n+                const CTxOut& prev_txout = prev_coin.out;\n+                UniValue p(UniValue::VOBJ);\n+                UniValue o_script_pub_key(UniValue::VOBJ);\n+\n+                p.pushKV(\"value\", ValueFromAmount(prev_txout.nValue));\n+                p.pushKV(\"height\", static_cast<uint64_t>(prev_coin.nHeight));\n+                p.pushKV(\"generated\", !static_cast<bool>(prev_coin.fCoinBase));",
    "path": "src/core_write.cpp",
    "position": null,
    "original_position": 27,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "dc684798a0c936c04a10fb06562493c32e03f8f0",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why did you invert this? That is wrong?",
    "created_at": "2021-02-24T22:17:00Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582344935",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582344935"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582344935"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582344935/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 239,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 240,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582347086",
    "pull_request_review_id": 597988350,
    "id": 582347086,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjM0NzA4Ng==",
    "diff_hunk": "@@ -223,6 +223,28 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (nullptr != txundo) {\n+            switch (verbosity) {\n+            case TxVerbosity::DONT_SHOW_TX_DETAILS:\n+            case TxVerbosity::TX_DETAILS:\n+                break;\n+\n+            case TxVerbosity::TX_DETAILS_AND_PREV_OUT:\n+                const Coin&   prev_coin  = txundo->vprevout[i];\n+                const CTxOut& prev_txout = prev_coin.out;\n+                UniValue p(UniValue::VOBJ);\n+                UniValue o_script_pub_key(UniValue::VOBJ);\n+\n+                p.pushKV(\"value\", ValueFromAmount(prev_txout.nValue));\n+                p.pushKV(\"height\", static_cast<uint64_t>(prev_coin.nHeight));\n+                p.pushKV(\"generated\", !static_cast<bool>(prev_coin.fCoinBase));",
    "path": "src/core_write.cpp",
    "position": null,
    "original_position": 27,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "dc684798a0c936c04a10fb06562493c32e03f8f0",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "i was confused as to what \"generated\" means. I will change this.\r\n\r\nWhy don't we just call that field \"coinbase\" though .. ?",
    "created_at": "2021-02-24T22:20:46Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582347086",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582347086"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582347086"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582347086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 239,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 240,
    "side": "RIGHT",
    "in_reply_to_id": 582344935
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582358642",
    "pull_request_review_id": 598002633,
    "id": 582358642,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjM1ODY0Mg==",
    "diff_hunk": "@@ -223,6 +223,28 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (nullptr != txundo) {\n+            switch (verbosity) {\n+            case TxVerbosity::DONT_SHOW_TX_DETAILS:\n+            case TxVerbosity::TX_DETAILS:\n+                break;\n+\n+            case TxVerbosity::TX_DETAILS_AND_PREV_OUT:\n+                const Coin&   prev_coin  = txundo->vprevout[i];\n+                const CTxOut& prev_txout = prev_coin.out;\n+                UniValue p(UniValue::VOBJ);\n+                UniValue o_script_pub_key(UniValue::VOBJ);\n+\n+                p.pushKV(\"value\", ValueFromAmount(prev_txout.nValue));\n+                p.pushKV(\"height\", static_cast<uint64_t>(prev_coin.nHeight));\n+                p.pushKV(\"generated\", !static_cast<bool>(prev_coin.fCoinBase));",
    "path": "src/core_write.cpp",
    "position": null,
    "original_position": 27,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "dc684798a0c936c04a10fb06562493c32e03f8f0",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The coinbase is the *input* to the generation transaction (height + 95 bytes arbitrary). The *outputs* (which are being spent in the input here) are simply generated coins.",
    "created_at": "2021-02-24T22:42:50Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582358642",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582358642"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582358642"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582358642/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 239,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 240,
    "side": "RIGHT",
    "in_reply_to_id": 582344935
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582364092",
    "pull_request_review_id": 598009173,
    "id": 582364092,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjM2NDA5Mg==",
    "diff_hunk": "@@ -223,6 +223,28 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (nullptr != txundo) {\n+            switch (verbosity) {\n+            case TxVerbosity::DONT_SHOW_TX_DETAILS:\n+            case TxVerbosity::TX_DETAILS:\n+                break;\n+\n+            case TxVerbosity::TX_DETAILS_AND_PREV_OUT:\n+                const Coin&   prev_coin  = txundo->vprevout[i];\n+                const CTxOut& prev_txout = prev_coin.out;\n+                UniValue p(UniValue::VOBJ);\n+                UniValue o_script_pub_key(UniValue::VOBJ);\n+\n+                p.pushKV(\"value\", ValueFromAmount(prev_txout.nValue));\n+                p.pushKV(\"height\", static_cast<uint64_t>(prev_coin.nHeight));\n+                p.pushKV(\"generated\", !static_cast<bool>(prev_coin.fCoinBase));",
    "path": "src/core_write.cpp",
    "position": null,
    "original_position": 27,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "dc684798a0c936c04a10fb06562493c32e03f8f0",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "ah i see. this is fixed now, and i modified the tests to reflect this too.\r\n",
    "created_at": "2021-02-24T22:53:38Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582364092",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582364092"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582364092"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582364092/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 239,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 240,
    "side": "RIGHT",
    "in_reply_to_id": 582344935
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583682717",
    "pull_request_review_id": 599633906,
    "id": 583682717,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzY4MjcxNw==",
    "diff_hunk": "@@ -20,6 +20,12 @@ class uint256;\n class UniValue;\n class CTxUndo;\n \n+enum class TxVerbosity {\n+    DONT_SHOW_TX_DETAILS,\n+    TX_DETAILS,\n+    TX_DETAILS_AND_PREV_OUT\n+};",
    "path": "src/core_io.h",
    "position": null,
    "original_position": 8,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "53ea5bd39bfb1da614c264656536edf954419373",
    "user": {
      "login": "0xB10C",
      "id": 19157360,
      "node_id": "MDQ6VXNlcjE5MTU3MzYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xB10C",
      "html_url": "https://github.com/0xB10C",
      "followers_url": "https://api.github.com/users/0xB10C/followers",
      "following_url": "https://api.github.com/users/0xB10C/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xB10C/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
      "organizations_url": "https://api.github.com/users/0xB10C/orgs",
      "repos_url": "https://api.github.com/users/0xB10C/repos",
      "events_url": "https://api.github.com/users/0xB10C/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xB10C/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: I find something like this cleaner\r\n\r\n```suggestion\r\nenum class TxVerbosity {\r\n    SHOW_TXID\r\n    SHOW_DETAILS,\r\n    SHOW_DETAILS_AND_PREV_OUT\r\n};\r\n```",
    "created_at": "2021-02-26T14:37:20Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r583682717",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583682717"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r583682717"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583682717/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 23,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 27,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583763408",
    "pull_request_review_id": 599741435,
    "id": 583763408,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4Mzc2MzQwOA==",
    "diff_hunk": "@@ -20,6 +20,12 @@ class uint256;\n class UniValue;\n class CTxUndo;\n \n+enum class TxVerbosity {\n+    DONT_SHOW_TX_DETAILS,\n+    TX_DETAILS,\n+    TX_DETAILS_AND_PREV_OUT\n+};",
    "path": "src/core_io.h",
    "position": null,
    "original_position": 8,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "53ea5bd39bfb1da614c264656536edf954419373",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "done, adopted change.\r\n\r\nQuestion with code review like this, is it preferred to make a separate commit, or squash everything to a single commit ?",
    "created_at": "2021-02-26T16:31:38Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r583763408",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583763408"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r583763408"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583763408/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 23,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 27,
    "side": "RIGHT",
    "in_reply_to_id": 583682717
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583913359",
    "pull_request_review_id": 599935826,
    "id": 583913359,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzkxMzM1OQ==",
    "diff_hunk": "@@ -20,6 +20,12 @@ class uint256;\n class UniValue;\n class CTxUndo;\n \n+enum class TxVerbosity {\n+    DONT_SHOW_TX_DETAILS,\n+    TX_DETAILS,\n+    TX_DETAILS_AND_PREV_OUT\n+};",
    "path": "src/core_io.h",
    "position": null,
    "original_position": 8,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "53ea5bd39bfb1da614c264656536edf954419373",
    "user": {
      "login": "0xB10C",
      "id": 19157360,
      "node_id": "MDQ6VXNlcjE5MTU3MzYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xB10C",
      "html_url": "https://github.com/0xB10C",
      "followers_url": "https://api.github.com/users/0xB10C/followers",
      "following_url": "https://api.github.com/users/0xB10C/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xB10C/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
      "organizations_url": "https://api.github.com/users/0xB10C/orgs",
      "repos_url": "https://api.github.com/users/0xB10C/repos",
      "events_url": "https://api.github.com/users/0xB10C/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xB10C/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "For small code review like the above 'Suggested change' through the GitHub web interface it's best to just fix it up locally, squash and then force push IMO. No reason to have it a separate commit (and I personally don't care about the co-author thing that GitHub does). ",
    "created_at": "2021-02-26T20:56:54Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r583913359",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583913359"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r583913359"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583913359/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 23,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 27,
    "side": "RIGHT",
    "in_reply_to_id": 583682717
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584140902",
    "pull_request_review_id": 600161766,
    "id": 584140902,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NDE0MDkwMg==",
    "diff_hunk": "@@ -154,30 +154,36 @@ UniValue blockheaderToJSON(const CBlockIndex* tip, const CBlockIndex* blockindex\n     return result;\n }\n \n-UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, bool txDetails)\n+UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, TxVerbosity verbosity)\n {\n     UniValue result = blockheaderToJSON(tip, blockindex);\n \n     result.pushKV(\"strippedsize\", (int)::GetSerializeSize(block, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS));\n     result.pushKV(\"size\", (int)::GetSerializeSize(block, PROTOCOL_VERSION));\n     result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n     UniValue txs(UniValue::VARR);\n-    if (txDetails) {\n+\n+    switch (verbosity) {\n+      case TxVerbosity::SHOW_TXID:",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "cee04d6ef93eea9b0d53a587732ab02e0f205626",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "indentation is wrong",
    "created_at": "2021-02-27T15:23:10Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584140902",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584140902"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584140902"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584140902/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 167,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584142066",
    "pull_request_review_id": 600161766,
    "id": 584142066,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NDE0MjA2Ng==",
    "diff_hunk": "@@ -46,6 +53,6 @@ std::string EncodeHexTx(const CTransaction& tx, const int serializeFlags = 0);\n std::string SighashToStr(unsigned char sighash_type);\n void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n void ScriptToUniv(const CScript& script, UniValue& out, bool include_address);\n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr, TxVerbosity verbosity = TxVerbosity::SHOW_TXID);",
    "path": "src/core_io.h",
    "position": null,
    "original_position": 19,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "5710e3f9008235c5e7805ee017fabbf3b20797b7",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: This should be added in the later commit",
    "created_at": "2021-02-27T15:34:36Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584142066",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584142066"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584142066"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584142066/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 56,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584142239",
    "pull_request_review_id": 600161766,
    "id": 584142239,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NDE0MjIzOQ==",
    "diff_hunk": "@@ -40,7 +41,7 @@ double GetDifficulty(const CBlockIndex* blockindex);\n void RPCNotifyBlockChange(const CBlockIndex*);\n \n /** Block description to JSON */\n-UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, bool txDetails = false) LOCKS_EXCLUDED(cs_main);\n+UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, const TxVerbosity verbosity = TxVerbosity::SHOW_TXID) LOCKS_EXCLUDED(cs_main);",
    "path": "src/rpc/blockchain.h",
    "position": null,
    "original_position": 13,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "5710e3f9008235c5e7805ee017fabbf3b20797b7",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`const` doesn't do anything here, and is missing in the definition.",
    "created_at": "2021-02-27T15:35:52Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584142239",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584142239"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584142239"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584142239/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 44,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584144982",
    "pull_request_review_id": 600161766,
    "id": 584144982,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NDE0NDk4Mg==",
    "diff_hunk": "@@ -46,6 +53,6 @@ std::string EncodeHexTx(const CTransaction& tx, const int serializeFlags = 0);\n std::string SighashToStr(unsigned char sighash_type);\n void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n void ScriptToUniv(const CScript& script, UniValue& out, bool include_address);\n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr, TxVerbosity verbosity = TxVerbosity::SHOW_TXID);",
    "path": "src/core_io.h",
    "position": null,
    "original_position": 19,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "5710e3f9008235c5e7805ee017fabbf3b20797b7",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`SHOW_DETAILS` makes more sense as a default (`SHOW_TXID` isn't even supported by this function!)",
    "created_at": "2021-02-27T15:40:14Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584144982",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584144982"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584144982"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584144982/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 56,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584145181",
    "pull_request_review_id": 600161766,
    "id": 584145181,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NDE0NTE4MQ==",
    "diff_hunk": "@@ -964,7 +971,17 @@ static RPCHelpMan getblock()\n         return strHex;\n     }\n \n-    return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n+    TxVerbosity block_to_json_verbosity;\n+\n+    if (verbosity <= 1) {\n+      block_to_json_verbosity = TxVerbosity::SHOW_TXID;",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 53,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "5710e3f9008235c5e7805ee017fabbf3b20797b7",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "indentation is wrong",
    "created_at": "2021-02-27T15:42:14Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584145181",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584145181"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584145181"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584145181/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 977,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584145203",
    "pull_request_review_id": 600161766,
    "id": 584145203,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NDE0NTIwMw==",
    "diff_hunk": "@@ -964,7 +971,17 @@ static RPCHelpMan getblock()\n         return strHex;\n     }\n \n-    return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n+    TxVerbosity block_to_json_verbosity;\n+",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 51,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "5710e3f9008235c5e7805ee017fabbf3b20797b7",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: I'd drop the blank link",
    "created_at": "2021-02-27T15:42:30Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584145203",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584145203"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584145203"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584145203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 975,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584147273",
    "pull_request_review_id": 600161766,
    "id": 584147273,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NDE0NzI3Mw==",
    "diff_hunk": "@@ -223,6 +223,28 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (nullptr != txundo) {\n+            switch (verbosity) {\n+                case TxVerbosity::SHOW_TXID:\n+                case TxVerbosity::SHOW_DETAILS:\n+                    break;\n+\n+                case TxVerbosity::SHOW_DETAILS_AND_PREV_OUT:\n+                    const Coin&   prev_coin  = txundo->vprevout[i];\n+                    const CTxOut& prev_txout = prev_coin.out;",
    "path": "src/core_write.cpp",
    "position": null,
    "original_position": 21,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "5710e3f9008235c5e7805ee017fabbf3b20797b7",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "We already have `prev_txout` above. Move `prev_coin` up there?",
    "created_at": "2021-02-27T15:53:37Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584147273",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584147273"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584147273"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584147273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 233,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584148920",
    "pull_request_review_id": 600161766,
    "id": 584148920,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NDE0ODkyMA==",
    "diff_hunk": "@@ -295,12 +295,12 @@ static bool rest_block(HTTPRequest* req,\n \n static bool rest_block_extended(const util::Ref& context, HTTPRequest* req, const std::string& strURIPart)\n {\n-    return rest_block(req, strURIPart, true);\n+    return rest_block(req, strURIPart, TxVerbosity::SHOW_DETAILS_AND_PREV_OUT);",
    "path": "src/rest.cpp",
    "position": null,
    "original_position": 23,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "5710e3f9008235c5e7805ee017fabbf3b20797b7",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This could use a test",
    "created_at": "2021-02-27T15:59:21Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584148920",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584148920"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584148920"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584148920/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 298,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584170780",
    "pull_request_review_id": 600182153,
    "id": 584170780,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NDE3MDc4MA==",
    "diff_hunk": "@@ -295,12 +295,12 @@ static bool rest_block(HTTPRequest* req,\n \n static bool rest_block_extended(const util::Ref& context, HTTPRequest* req, const std::string& strURIPart)\n {\n-    return rest_block(req, strURIPart, true);\n+    return rest_block(req, strURIPart, TxVerbosity::SHOW_DETAILS_AND_PREV_OUT);",
    "path": "src/rest.cpp",
    "position": null,
    "original_position": 23,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "5710e3f9008235c5e7805ee017fabbf3b20797b7",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I added a test in 37f2c4e9e09d586e1c7d38332dc7fe7864245b97",
    "created_at": "2021-02-27T18:22:52Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584170780",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584170780"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584170780"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584170780/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 298,
    "side": "RIGHT",
    "in_reply_to_id": 584148920
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584170795",
    "pull_request_review_id": 600182174,
    "id": 584170795,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NDE3MDc5NQ==",
    "diff_hunk": "@@ -223,6 +223,28 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (nullptr != txundo) {\n+            switch (verbosity) {\n+                case TxVerbosity::SHOW_TXID:\n+                case TxVerbosity::SHOW_DETAILS:\n+                    break;\n+\n+                case TxVerbosity::SHOW_DETAILS_AND_PREV_OUT:\n+                    const Coin&   prev_coin  = txundo->vprevout[i];\n+                    const CTxOut& prev_txout = prev_coin.out;",
    "path": "src/core_write.cpp",
    "position": null,
    "original_position": 21,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "5710e3f9008235c5e7805ee017fabbf3b20797b7",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2021-02-27T18:23:08Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584170795",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584170795"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584170795"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584170795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 233,
    "side": "RIGHT",
    "in_reply_to_id": 584147273
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584980336",
    "pull_request_review_id": 601076787,
    "id": 584980336,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NDk4MDMzNg==",
    "diff_hunk": "@@ -46,6 +52,6 @@ std::string EncodeHexTx(const CTransaction& tx, const int serializeFlags = 0);\n std::string SighashToStr(unsigned char sighash_type);\n void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n void ScriptToUniv(const CScript& script, UniValue& out, bool include_address);\n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr, TxVerbosity verbosity = TxVerbosity::SHOW_DETAILS);",
    "path": "src/core_io.h",
    "position": null,
    "original_position": 18,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "4aaebc155d0b310360c9237c1676a1099722e644",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is one commit too early (causing a build failure in that commit)",
    "created_at": "2021-03-01T19:12:39Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584980336",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584980336"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r584980336"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584980336/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 55,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/585014241",
    "pull_request_review_id": 601120360,
    "id": 585014241,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NTAxNDI0MQ==",
    "diff_hunk": "@@ -46,6 +52,6 @@ std::string EncodeHexTx(const CTransaction& tx, const int serializeFlags = 0);\n std::string SighashToStr(unsigned char sighash_type);\n void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n void ScriptToUniv(const CScript& script, UniValue& out, bool include_address);\n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr, TxVerbosity verbosity = TxVerbosity::SHOW_DETAILS);",
    "path": "src/core_io.h",
    "position": null,
    "original_position": 18,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "4aaebc155d0b310360c9237c1676a1099722e644",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed. I moved the change in src/core_write.cpp from the previous commit to this one.",
    "created_at": "2021-03-01T20:07:08Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r585014241",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/585014241"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r585014241"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/585014241/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 55,
    "side": "RIGHT",
    "in_reply_to_id": 584980336
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/585016515",
    "pull_request_review_id": 601123180,
    "id": 585016515,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NTAxNjUxNQ==",
    "diff_hunk": "@@ -223,6 +223,28 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (nullptr != txundo) {\n+            switch (verbosity) {\n+                case TxVerbosity::SHOW_TXID:\n+                case TxVerbosity::SHOW_DETAILS:\n+                    break;\n+\n+                case TxVerbosity::SHOW_DETAILS_AND_PREV_OUT:\n+                    const Coin&   prev_coin  = txundo->vprevout[i];\n+                    const CTxOut& prev_txout = prev_coin.out;",
    "path": "src/core_write.cpp",
    "position": null,
    "original_position": 21,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "5710e3f9008235c5e7805ee017fabbf3b20797b7",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is still here...",
    "created_at": "2021-03-01T20:10:45Z",
    "updated_at": "2021-03-01T20:53:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r585016515",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/585016515"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r585016515"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/585016515/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 233,
    "side": "RIGHT",
    "in_reply_to_id": 584147273
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630462826",
    "pull_request_review_id": 657122697,
    "id": 630462826,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDQ2MjgyNg==",
    "diff_hunk": "@@ -20,6 +20,12 @@ class uint256;\n class UniValue;\n class CTxUndo;\n \n+enum class TxVerbosity {\n+    SHOW_TXID,\n+    SHOW_DETAILS,\n+    SHOW_DETAILS_AND_PREV_OUT",
    "path": "src/core_io.h",
    "position": null,
    "original_position": 7,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: It seems that people mostly write `prevout` as one word. Would it make sense to you to use `SHOW_DETAILS_AND_PREVOUT`?",
    "created_at": "2021-05-11T19:28:36Z",
    "updated_at": "2021-05-11T20:48:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630462826",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630462826"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630462826"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630462826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 26,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630468041",
    "pull_request_review_id": 657122697,
    "id": 630468041,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDQ2ODA0MQ==",
    "diff_hunk": "@@ -220,8 +220,27 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             in.pushKV(\"txinwitness\", txinwitness);\n         }\n         if (calculate_fee) {\n-            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+            const Coin&   prev_coin  = txundo->vprevout[i];\n+            const CTxOut& prev_txout = prev_coin.out;\n+\n             amt_total_in += prev_txout.nValue;\n+            switch (verbosity) {\n+                case TxVerbosity::SHOW_TXID:\n+                case TxVerbosity::SHOW_DETAILS:\n+                    break;\n+\n+                case TxVerbosity::SHOW_DETAILS_AND_PREV_OUT:\n+                    UniValue p(UniValue::VOBJ);\n+                    UniValue o_script_pub_key(UniValue::VOBJ);\n+\n+                    p.pushKV(\"value\", ValueFromAmount(prev_txout.nValue));\n+                    p.pushKV(\"height\", uint64_t(prev_coin.nHeight));\n+                    p.pushKV(\"generated\", bool(prev_coin.fCoinBase));\n+                    ScriptPubKeyToUniv(prev_txout.scriptPubKey, o_script_pub_key, true);\n+                    p.pushKV(\"scriptPubKey\", o_script_pub_key);\n+                    in.pushKV(\"prevout\", p);\n+                    break;",
    "path": "src/core_write.cpp",
    "position": null,
    "original_position": 33,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: What about this way:\r\n\r\n```suggestion\r\n                    UniValue o_script_pub_key(UniValue::VOBJ);\r\n                    ScriptPubKeyToUniv(prev_txout.scriptPubKey, o_script_pub_key, /* fIncludeHex */ true);\r\n\r\n                    UniValue p(UniValue::VOBJ);\r\n                    p.pushKV(\"generated\", bool(prev_coin.fCoinBase));\r\n                    p.pushKV(\"height\", uint64_t(prev_coin.nHeight));\r\n                    p.pushKV(\"value\", ValueFromAmount(prev_txout.nValue));\r\n                    p.pushKV(\"scriptPubKey\", o_script_pub_key);\r\n                    in.pushKV(\"prevout\", p);\r\n                    break;\r\n```\r\n\r\nI find this order of JSON properties more natural as I think it's more in line with how JSON properties are ordered in other places. I may be wrong here. Functionally it's the same. Anyway, it's just a suggestion. Feel free to ignore it.",
    "created_at": "2021-05-11T19:37:29Z",
    "updated_at": "2021-05-11T20:48:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630468041",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630468041"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630468041"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630468041/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 233,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 253,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630470072",
    "pull_request_review_id": 657122697,
    "id": 630470072,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDQ3MDA3Mg==",
    "diff_hunk": "@@ -879,7 +886,8 @@ static RPCHelpMan getblock()\n     return RPCHelpMan{\"getblock\",\n                 \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'hash'.\\n\"\n                 \"If verbosity is 1, returns an Object with information about block <hash>.\\n\"\n-                \"If verbosity is 2, returns an Object with information about block <hash> and information about each transaction. \\n\",\n+                \"If verbosity is 2, returns an Object with information about block <hash> and information about each transaction. \\n\"",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 59,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'm not sure if there is a reason for the trailing space:\r\n\r\n```suggestion\r\n                \"If verbosity is 2, returns an Object with information about block <hash> and information about each transaction.\\n\"\r\n```\r\n\r\nIs there?",
    "created_at": "2021-05-11T19:41:01Z",
    "updated_at": "2021-05-11T20:48:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630470072",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630470072"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630470072"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630470072/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 940,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630470973",
    "pull_request_review_id": 657122697,
    "id": 630470973,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDQ3MDk3Mw==",
    "diff_hunk": "@@ -964,7 +972,16 @@ static RPCHelpMan getblock()\n         return strHex;\n     }\n \n-    return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n+    TxVerbosity block_to_json_verbosity;\n+    if (verbosity <= 1) {\n+        block_to_json_verbosity = TxVerbosity::SHOW_TXID;\n+    } else if (verbosity <= 2) {",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 72,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I would personally go with `==` instead of `<=` here.",
    "created_at": "2021-05-11T19:42:30Z",
    "updated_at": "2021-05-11T20:48:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630470973",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630470973"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630470973"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630470973/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1031,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630472266",
    "pull_request_review_id": 657122697,
    "id": 630472266,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDQ3MjI2Ng==",
    "diff_hunk": "@@ -964,7 +972,16 @@ static RPCHelpMan getblock()\n         return strHex;\n     }\n \n-    return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n+    TxVerbosity block_to_json_verbosity;\n+    if (verbosity <= 1) {",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 70,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I would suggest:\r\n\r\n```suggestion\r\n    if (verbosity == 1) {\r\n```\r\n\r\nas it's easier to understand here.",
    "created_at": "2021-05-11T19:44:33Z",
    "updated_at": "2021-05-11T20:48:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630472266",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630472266"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630472266"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630472266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1029,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630477831",
    "pull_request_review_id": 657122697,
    "id": 630477831,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDQ3NzgzMQ==",
    "diff_hunk": "@@ -40,7 +41,7 @@ double GetDifficulty(const CBlockIndex* blockindex);\n void RPCNotifyBlockChange(const CBlockIndex*);\n \n /** Block description to JSON */\n-UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, bool txDetails = false) LOCKS_EXCLUDED(cs_main);\n+UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, TxVerbosity verbosity = TxVerbosity::SHOW_TXID) LOCKS_EXCLUDED(cs_main);",
    "path": "src/rpc/blockchain.h",
    "position": null,
    "original_position": 13,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It seems to me that the `TxVerbosity::SHOW_TXID` default value is not actually needed. Would it make sense to not having a default value here?",
    "created_at": "2021-05-11T19:49:48Z",
    "updated_at": "2021-05-11T20:48:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630477831",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630477831"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630477831"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630477831/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 42,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630488523",
    "pull_request_review_id": 657122697,
    "id": 630488523,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDQ4ODUyMw==",
    "diff_hunk": "@@ -295,12 +295,12 @@ static bool rest_block(HTTPRequest* req,\n \n static bool rest_block_extended(const util::Ref& context, HTTPRequest* req, const std::string& strURIPart)\n {\n-    return rest_block(req, strURIPart, true);\n+    return rest_block(req, strURIPart, TxVerbosity::SHOW_DETAILS_AND_PREV_OUT);",
    "path": "src/rest.cpp",
    "position": null,
    "original_position": 23,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should a note be added to the PR description to make sure it's clear that you modify an existing REST endpoint behavior (even though you just add more information)?\r\n\r\nI'm not sure whether this is something that is supposed to be mentioned in release notes too.",
    "created_at": "2021-05-11T19:56:42Z",
    "updated_at": "2021-05-11T20:48:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630488523",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630488523"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630488523"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630488523/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 298,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630497819",
    "pull_request_review_id": 657122697,
    "id": 630497819,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDQ5NzgxOQ==",
    "diff_hunk": "@@ -220,8 +220,27 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             in.pushKV(\"txinwitness\", txinwitness);\n         }\n         if (calculate_fee) {\n-            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+            const Coin&   prev_coin  = txundo->vprevout[i];\n+            const CTxOut& prev_txout = prev_coin.out;\n+\n             amt_total_in += prev_txout.nValue;\n+            switch (verbosity) {",
    "path": "src/core_write.cpp",
    "position": 29,
    "original_position": 18,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Personally, I would use simple `if` here as it is shorter. Or is there any specific reason to use `switch`?",
    "created_at": "2021-05-11T20:01:16Z",
    "updated_at": "2021-05-11T20:48:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630497819",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630497819"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630497819"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630497819/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 238,
    "original_line": 238,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630529304",
    "pull_request_review_id": 657122697,
    "id": 630529304,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDUyOTMwNA==",
    "diff_hunk": "@@ -220,8 +220,27 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             in.pushKV(\"txinwitness\", txinwitness);\n         }\n         if (calculate_fee) {\n-            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+            const Coin&   prev_coin  = txundo->vprevout[i];",
    "path": "src/core_write.cpp",
    "position": null,
    "original_position": 14,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is suggested by clang formatter:\r\n\r\n```suggestion\r\n            const Coin& prev_coin = txundo->vprevout[i];\r\n```",
    "created_at": "2021-05-11T20:46:26Z",
    "updated_at": "2021-05-11T20:48:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630529304",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630529304"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r630529304"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630529304/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 234,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/633058166",
    "pull_request_review_id": 660415526,
    "id": 633058166,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMzA1ODE2Ng==",
    "diff_hunk": "@@ -395,17 +395,55 @@ def _test_getblock(self):\n         miniwallet.send_self_transfer(fee_rate=fee_per_kb, from_node=node)\n         blockhash = node.generate(1)[0]\n \n+        def check_fee_not_in_block(verbosity):",
    "path": "test/functional/rpc_blockchain.py",
    "position": null,
    "original_position": 4,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe the function can be called `assert_fee_not_in_block`.",
    "created_at": "2021-05-16T07:55:51Z",
    "updated_at": "2021-05-16T07:55:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r633058166",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/633058166"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r633058166"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/633058166/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 400,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/633064256",
    "pull_request_review_id": 660419272,
    "id": 633064256,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMzA2NDI1Ng==",
    "diff_hunk": "@@ -395,17 +395,55 @@ def _test_getblock(self):\n         miniwallet.send_self_transfer(fee_rate=fee_per_kb, from_node=node)\n         blockhash = node.generate(1)[0]\n \n+        def check_fee_not_in_block(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            assert 'fee' not in block['tx'][1]\n+\n+        def check_fee_in_block(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            tx = block['tx'][1]\n+            assert 'fee' in tx\n+            assert_equal(tx['fee'], tx['vsize'] * fee_per_byte)\n+\n+        def check_vin_contains_prevout(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            tx = block[\"tx\"][1]\n+            total_vin = 0\n+            total_vout = 0\n+            for vin in tx[\"vin\"]:\n+                assert \"prevout\" in vin\n+                assert_equal(set(vin[\"prevout\"].keys()), set((\"value\", \"height\", \"generated\", \"scriptPubKey\")))\n+                assert_equal(vin[\"prevout\"][\"generated\"], True)\n+                total_vin += vin[\"prevout\"][\"value\"]\n+            for vout in tx[\"vout\"]:\n+                total_vout += vout[\"value\"]\n+            assert_equal(total_vin, total_vout + tx[\"fee\"])\n+\n+        def check_vin_does_not_contain_prevout(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            tx = block[\"tx\"][1]\n+            if isinstance(tx, str):\n+                # In verbosity level 1, only the transaction hashes are written\n+                pass\n+            else:\n+                for vin in tx[\"vin\"]:\n+                    assert \"prevout\" not in vin\n+\n         self.log.info(\"Test that getblock with verbosity 1 doesn't include fee\")\n-        block = node.getblock(blockhash, 1)\n-        assert 'fee' not in block['tx'][1]\n+        check_fee_not_in_block(1)",
    "path": "test/functional/rpc_blockchain.py",
    "position": null,
    "original_position": 41,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It would be great to introduce a constant for this value (similar to this ones https://github.com/bitcoin/bitcoin/pull/21245/files#diff-0b117a50ea1a4d205e8b5268d01f06b100c6d75ccc743628774b1f656077a0c3R23). I think that they could be re-used and code would be self-describing.",
    "created_at": "2021-05-16T08:55:40Z",
    "updated_at": "2021-05-16T08:55:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r633064256",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/633064256"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r633064256"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/633064256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 435,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/633064565",
    "pull_request_review_id": 660419453,
    "id": 633064565,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMzA2NDU2NQ==",
    "diff_hunk": "@@ -395,17 +395,55 @@ def _test_getblock(self):\n         miniwallet.send_self_transfer(fee_rate=fee_per_kb, from_node=node)\n         blockhash = node.generate(1)[0]\n \n+        def check_fee_not_in_block(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            assert 'fee' not in block['tx'][1]\n+\n+        def check_fee_in_block(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            tx = block['tx'][1]\n+            assert 'fee' in tx\n+            assert_equal(tx['fee'], tx['vsize'] * fee_per_byte)\n+\n+        def check_vin_contains_prevout(verbosity):",
    "path": "test/functional/rpc_blockchain.py",
    "position": null,
    "original_position": 14,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The parameter is always `3` so it seems unnecessary.\r\n\r\nThe function does more than checking that prevouts are present. Maybe `{verify|assert}_level3_block`?",
    "created_at": "2021-05-16T08:58:39Z",
    "updated_at": "2021-05-16T08:58:39Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r633064565",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/633064565"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r633064565"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/633064565/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 410,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670867840",
    "pull_request_review_id": 707895256,
    "id": 670867840,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MDg2Nzg0MA==",
    "diff_hunk": "@@ -220,8 +220,27 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             in.pushKV(\"txinwitness\", txinwitness);\n         }\n         if (calculate_fee) {\n-            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+            const Coin&   prev_coin  = txundo->vprevout[i];\n+            const CTxOut& prev_txout = prev_coin.out;\n+\n             amt_total_in += prev_txout.nValue;\n+            switch (verbosity) {",
    "path": "src/core_write.cpp",
    "position": 29,
    "original_position": 18,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "personally think it's clearer to comprehend, compared to something like `verbosity == TxVerbosity::SHOW_TXID || verbosity == TxVerbosity::SHOW_DETAILS)`",
    "created_at": "2021-07-15T23:30:22Z",
    "updated_at": "2021-07-15T23:30:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r670867840",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670867840"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r670867840"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670867840/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 238,
    "original_line": 238,
    "side": "RIGHT",
    "in_reply_to_id": 630497819
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670871262",
    "pull_request_review_id": 707899147,
    "id": 670871262,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MDg3MTI2Mg==",
    "diff_hunk": "@@ -964,7 +972,16 @@ static RPCHelpMan getblock()\n         return strHex;\n     }\n \n-    return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n+    TxVerbosity block_to_json_verbosity;\n+    if (verbosity <= 1) {\n+        block_to_json_verbosity = TxVerbosity::SHOW_TXID;\n+    } else if (verbosity <= 2) {",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 72,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2021-07-15T23:40:37Z",
    "updated_at": "2021-07-15T23:40:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r670871262",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670871262"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r670871262"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670871262/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1031,
    "side": "RIGHT",
    "in_reply_to_id": 630470973
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670871503",
    "pull_request_review_id": 707899415,
    "id": 670871503,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MDg3MTUwMw==",
    "diff_hunk": "@@ -879,7 +886,8 @@ static RPCHelpMan getblock()\n     return RPCHelpMan{\"getblock\",\n                 \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'hash'.\\n\"\n                 \"If verbosity is 1, returns an Object with information about block <hash>.\\n\"\n-                \"If verbosity is 2, returns an Object with information about block <hash> and information about each transaction. \\n\",\n+                \"If verbosity is 2, returns an Object with information about block <hash> and information about each transaction. \\n\"",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 59,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I removed the trailing space.",
    "created_at": "2021-07-15T23:41:24Z",
    "updated_at": "2021-07-15T23:41:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r670871503",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670871503"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r670871503"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670871503/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 940,
    "side": "RIGHT",
    "in_reply_to_id": 630470072
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670874255",
    "pull_request_review_id": 707902490,
    "id": 670874255,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MDg3NDI1NQ==",
    "diff_hunk": "@@ -40,7 +41,7 @@ double GetDifficulty(const CBlockIndex* blockindex);\n void RPCNotifyBlockChange(const CBlockIndex*);\n \n /** Block description to JSON */\n-UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, bool txDetails = false) LOCKS_EXCLUDED(cs_main);\n+UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, TxVerbosity verbosity = TxVerbosity::SHOW_TXID) LOCKS_EXCLUDED(cs_main);",
    "path": "src/rpc/blockchain.h",
    "position": null,
    "original_position": 13,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "make sense, i removed it.",
    "created_at": "2021-07-15T23:49:51Z",
    "updated_at": "2021-07-15T23:49:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r670874255",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670874255"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r670874255"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670874255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 42,
    "side": "RIGHT",
    "in_reply_to_id": 630477831
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671024143",
    "pull_request_review_id": 708078710,
    "id": 671024143,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAyNDE0Mw==",
    "diff_hunk": "@@ -220,8 +220,27 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             in.pushKV(\"txinwitness\", txinwitness);\n         }\n         if (calculate_fee) {\n-            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+            const Coin&   prev_coin  = txundo->vprevout[i];\n+            const CTxOut& prev_txout = prev_coin.out;\n+\n             amt_total_in += prev_txout.nValue;\n+            switch (verbosity) {",
    "path": "src/core_write.cpp",
    "position": 29,
    "original_position": 18,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "But here it would be `if (verbosity == TxVerbosity::SHOW_DETAILS_AND_PREVOUT) { /* compute something */ }`. Seems very straightforward and Bitcoin Core does not use switches instead of simple if statements by default.\r\n\r\nObviously, this is rather a nit. So I don't want to waste your time with this. Feel free to resolve this suggestion if you are happy with the code as it is.",
    "created_at": "2021-07-16T07:21:03Z",
    "updated_at": "2021-07-16T07:21:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671024143",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671024143"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671024143"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671024143/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 238,
    "original_line": 238,
    "side": "RIGHT",
    "in_reply_to_id": 630497819
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671029842",
    "pull_request_review_id": 708086342,
    "id": 671029842,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAyOTg0Mg==",
    "diff_hunk": "@@ -964,7 +972,16 @@ static RPCHelpMan getblock()\n         return strHex;\n     }\n \n-    return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n+    TxVerbosity block_to_json_verbosity;\n+    if (verbosity <= 1) {\n+        block_to_json_verbosity = TxVerbosity::SHOW_TXID;\n+    } else if (verbosity <= 2) {",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 72,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Please mark this as resolved. \ud83d\ude4f \r\n\r\n(For some reason I can't do it and it's harder for me to track what is done, what is not done and what was rejected as a suggestion.)",
    "created_at": "2021-07-16T07:31:44Z",
    "updated_at": "2021-07-16T07:31:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671029842",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671029842"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671029842"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671029842/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1031,
    "side": "RIGHT",
    "in_reply_to_id": 630470973
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671030383",
    "pull_request_review_id": 708087093,
    "id": 671030383,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzMDM4Mw==",
    "diff_hunk": "@@ -964,7 +972,16 @@ static RPCHelpMan getblock()\n         return strHex;\n     }\n \n-    return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n+    TxVerbosity block_to_json_verbosity;\n+    if (verbosity <= 1) {",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 70,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(Please mark as resolved \ud83d\ude4f )",
    "created_at": "2021-07-16T07:32:46Z",
    "updated_at": "2021-07-16T07:32:46Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671030383",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671030383"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671030383"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671030383/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1029,
    "side": "RIGHT",
    "in_reply_to_id": 630472266
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671030561",
    "pull_request_review_id": 708087329,
    "id": 671030561,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzMDU2MQ==",
    "diff_hunk": "@@ -40,7 +41,7 @@ double GetDifficulty(const CBlockIndex* blockindex);\n void RPCNotifyBlockChange(const CBlockIndex*);\n \n /** Block description to JSON */\n-UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, bool txDetails = false) LOCKS_EXCLUDED(cs_main);\n+UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, TxVerbosity verbosity = TxVerbosity::SHOW_TXID) LOCKS_EXCLUDED(cs_main);",
    "path": "src/rpc/blockchain.h",
    "position": null,
    "original_position": 13,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(Please mark as resolved \ud83d\ude4f )",
    "created_at": "2021-07-16T07:33:05Z",
    "updated_at": "2021-07-16T07:33:05Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671030561",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671030561"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671030561"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671030561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 42,
    "side": "RIGHT",
    "in_reply_to_id": 630477831
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671031376",
    "pull_request_review_id": 708088399,
    "id": 671031376,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzMTM3Ng==",
    "diff_hunk": "@@ -220,8 +220,27 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             in.pushKV(\"txinwitness\", txinwitness);\n         }\n         if (calculate_fee) {\n-            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+            const Coin&   prev_coin  = txundo->vprevout[i];",
    "path": "src/core_write.cpp",
    "position": null,
    "original_position": 14,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(Please mark as resolved \ud83d\ude4f )",
    "created_at": "2021-07-16T07:34:32Z",
    "updated_at": "2021-07-16T07:34:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671031376",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671031376"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671031376"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671031376/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 234,
    "side": "RIGHT",
    "in_reply_to_id": 630529304
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671032054",
    "pull_request_review_id": 708089257,
    "id": 671032054,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzMjA1NA==",
    "diff_hunk": "@@ -879,7 +886,8 @@ static RPCHelpMan getblock()\n     return RPCHelpMan{\"getblock\",\n                 \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'hash'.\\n\"\n                 \"If verbosity is 1, returns an Object with information about block <hash>.\\n\"\n-                \"If verbosity is 2, returns an Object with information about block <hash> and information about each transaction. \\n\",\n+                \"If verbosity is 2, returns an Object with information about block <hash> and information about each transaction. \\n\"",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 59,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(Please mark as resolved \ud83d\ude4f )",
    "created_at": "2021-07-16T07:35:44Z",
    "updated_at": "2021-07-16T07:35:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671032054",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671032054"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671032054"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671032054/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 940,
    "side": "RIGHT",
    "in_reply_to_id": 630470072
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671032275",
    "pull_request_review_id": 708089519,
    "id": 671032275,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzMjI3NQ==",
    "diff_hunk": "@@ -20,6 +20,12 @@ class uint256;\n class UniValue;\n class CTxUndo;\n \n+enum class TxVerbosity {\n+    SHOW_TXID,\n+    SHOW_DETAILS,\n+    SHOW_DETAILS_AND_PREV_OUT",
    "path": "src/core_io.h",
    "position": null,
    "original_position": 7,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(Done; Please mark as resolved \ud83d\ude4f )",
    "created_at": "2021-07-16T07:36:07Z",
    "updated_at": "2021-07-16T07:36:07Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671032275",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671032275"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671032275"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671032275/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 26,
    "side": "RIGHT",
    "in_reply_to_id": 630462826
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671033336",
    "pull_request_review_id": 708090955,
    "id": 671033336,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzMzMzNg==",
    "diff_hunk": "@@ -223,6 +223,17 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (display_prev_out && (nullptr != txundo)) {\n+            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+            UniValue p(UniValue::VOBJ);\n+            UniValue o_script_pub_key(UniValue::VOBJ);\n+",
    "path": "src/core_write.cpp",
    "position": 37,
    "original_position": 17,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "6eede79af11d8fdfa55ad38a751c287864777b46",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(Please mark as resolved \ud83d\ude4f )",
    "created_at": "2021-07-16T07:38:02Z",
    "updated_at": "2021-07-16T07:38:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671033336",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671033336"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671033336"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671033336/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 246,
    "original_line": 246,
    "side": "RIGHT",
    "in_reply_to_id": 581587569
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671033597",
    "pull_request_review_id": 708091335,
    "id": 671033597,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzMzU5Nw==",
    "diff_hunk": "@@ -154,30 +154,39 @@ UniValue blockheaderToJSON(const CBlockIndex* tip, const CBlockIndex* blockindex\n     return result;\n }\n \n-UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, bool txDetails)\n+UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, BlockToJsonVerbosity verbosity)\n {\n     UniValue result = blockheaderToJSON(tip, blockindex);\n \n     result.pushKV(\"strippedsize\", (int)::GetSerializeSize(block, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS));\n     result.pushKV(\"size\", (int)::GetSerializeSize(block, PROTOCOL_VERSION));\n     result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n     UniValue txs(UniValue::VARR);\n-    if (txDetails) {\n+\n+    switch (verbosity) {\n+      case BlockToJsonVerbosity::DONT_SHOW_TX_DETAILS:\n+        for (const CTransactionRef& tx : block.vtx) {\n+            txs.push_back(tx->GetHash().GetHex());\n+        }\n+        break;\n+\n+      case BlockToJsonVerbosity::TX_DETAILS:\n+      case BlockToJsonVerbosity::TX_DETAILS_AND_PREV_OUT:\n         CBlockUndo blockUndo;\n         const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);\n+\n         for (size_t i = 0; i < block.vtx.size(); ++i) {\n             const CTransactionRef& tx = block.vtx.at(i);\n             // coinbase transaction (i == 0) doesn't have undo data\n             const CTxUndo* txundo = (have_undo && i) ? &blockUndo.vtxundo.at(i - 1) : nullptr;\n+            const bool display_prev_out = (verbosity == BlockToJsonVerbosity::TX_DETAILS_AND_PREV_OUT);\n             UniValue objTx(UniValue::VOBJ);\n-            TxToUniv(*tx, uint256(), objTx, true, RPCSerializationFlags(), txundo);\n+            std::cout << display_prev_out  << std::endl;",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 34,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "6eede79af11d8fdfa55ad38a751c287864777b46",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(Please mark as resolved \ud83d\ude4f )",
    "created_at": "2021-07-16T07:38:35Z",
    "updated_at": "2021-07-16T07:38:35Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671033597",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671033597"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671033597"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671033597/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 184,
    "side": "RIGHT",
    "in_reply_to_id": 581588425
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671034310",
    "pull_request_review_id": 708092319,
    "id": 671034310,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzNDMxMA==",
    "diff_hunk": "@@ -154,30 +154,36 @@ UniValue blockheaderToJSON(const CBlockIndex* tip, const CBlockIndex* blockindex\n     return result;\n }\n \n-UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, bool txDetails)\n+UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, TxVerbosity verbosity)\n {\n     UniValue result = blockheaderToJSON(tip, blockindex);\n \n     result.pushKV(\"strippedsize\", (int)::GetSerializeSize(block, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS));\n     result.pushKV(\"size\", (int)::GetSerializeSize(block, PROTOCOL_VERSION));\n     result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n     UniValue txs(UniValue::VARR);\n-    if (txDetails) {\n+\n+    switch (verbosity) {\n+      case TxVerbosity::SHOW_TXID:",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "cee04d6ef93eea9b0d53a587732ab02e0f205626",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(Seems done; please mark as resolved \ud83d\ude4f )",
    "created_at": "2021-07-16T07:39:55Z",
    "updated_at": "2021-07-16T07:39:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671034310",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671034310"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671034310"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671034310/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 167,
    "side": "RIGHT",
    "in_reply_to_id": 584140902
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671035746",
    "pull_request_review_id": 708094043,
    "id": 671035746,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzNTc0Ng==",
    "diff_hunk": "@@ -46,6 +46,6 @@ std::string EncodeHexTx(const CTransaction& tx, const int serializeFlags = 0);\n std::string SighashToStr(unsigned char sighash_type);\n void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n void ScriptToUniv(const CScript& script, UniValue& out, bool include_address);\n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr, const bool display_prev_out = false);",
    "path": "src/core_io.h",
    "position": null,
    "original_position": 5,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "6eede79af11d8fdfa55ad38a751c287864777b46",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(Please mark as resolved \ud83d\ude4f )",
    "created_at": "2021-07-16T07:42:22Z",
    "updated_at": "2021-07-16T07:42:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671035746",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671035746"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671035746"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671035746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 49,
    "side": "RIGHT",
    "in_reply_to_id": 581589321
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671037006",
    "pull_request_review_id": 708095769,
    "id": 671037006,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzNzAwNg==",
    "diff_hunk": "@@ -231,8 +231,27 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, bool include_add\n             in.pushKV(\"txinwitness\", txinwitness);\n         }\n         if (calculate_fee) {\n-            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+            const Coin& prev_coin = txundo->vprevout[i];\n+            const CTxOut& prev_txout = prev_coin.out;\n+\n             amt_total_in += prev_txout.nValue;\n+            switch (verbosity) {\n+                case TxVerbosity::SHOW_TXID:\n+                case TxVerbosity::SHOW_DETAILS:\n+                    break;\n+\n+                case TxVerbosity::SHOW_DETAILS_AND_PREVOUT:\n+                    UniValue p(UniValue::VOBJ);\n+                    UniValue o_script_pub_key(UniValue::VOBJ);\n+\n+                    p.pushKV(\"value\", ValueFromAmount(prev_txout.nValue));\n+                    p.pushKV(\"height\", uint64_t(prev_coin.nHeight));\n+                    p.pushKV(\"generated\", bool(prev_coin.fCoinBase));\n+                    ScriptPubKeyToUniv(prev_txout.scriptPubKey, o_script_pub_key, true, true);",
    "path": "src/core_write.cpp",
    "position": null,
    "original_position": 30,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "dac9c0cf9650d7a3d69e448b80c97e4a82ccc695",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The convention seems to be:\r\n\r\n```suggestion\r\n                    ScriptPubKeyToUniv(prev_txout.scriptPubKey, o_script_pub_key, /* fIncludeHex */ true, /* include_addresses */ true);\r\n```",
    "created_at": "2021-07-16T07:44:41Z",
    "updated_at": "2021-07-16T07:44:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671037006",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671037006"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671037006"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671037006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 250,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671038029",
    "pull_request_review_id": 708097139,
    "id": 671038029,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzODAyOQ==",
    "diff_hunk": "@@ -46,6 +46,6 @@ std::string EncodeHexTx(const CTransaction& tx, const int serializeFlags = 0);\n std::string SighashToStr(unsigned char sighash_type);\n void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n void ScriptToUniv(const CScript& script, UniValue& out, bool include_address);\n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr, const bool display_prev_out = false);",
    "path": "src/core_io.h",
    "position": null,
    "original_position": 5,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "6eede79af11d8fdfa55ad38a751c287864777b46",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(Please mark as resolved \ud83d\ude4f )",
    "created_at": "2021-07-16T07:46:30Z",
    "updated_at": "2021-07-16T07:46:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671038029",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671038029"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671038029"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671038029/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 49,
    "side": "RIGHT",
    "in_reply_to_id": 581589321
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671038117",
    "pull_request_review_id": 708097256,
    "id": 671038117,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzODExNw==",
    "diff_hunk": "@@ -223,6 +223,28 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (nullptr != txundo) {\n+            switch (verbosity) {\n+            case TxVerbosity::DONT_SHOW_TX_DETAILS:\n+            case TxVerbosity::TX_DETAILS:\n+                break;\n+\n+            case TxVerbosity::TX_DETAILS_AND_PREV_OUT:\n+                const Coin&   prev_coin  = txundo->vprevout[i];\n+                const CTxOut& prev_txout = prev_coin.out;\n+                UniValue p(UniValue::VOBJ);\n+                UniValue o_script_pub_key(UniValue::VOBJ);\n+\n+                p.pushKV(\"value\", ValueFromAmount(prev_txout.nValue));\n+                p.pushKV(\"height\", static_cast<uint64_t>(prev_coin.nHeight));\n+                p.pushKV(\"generated\", !static_cast<bool>(prev_coin.fCoinBase));",
    "path": "src/core_write.cpp",
    "position": null,
    "original_position": 27,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "dc684798a0c936c04a10fb06562493c32e03f8f0",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(Please mark as resolved \ud83d\ude4f )",
    "created_at": "2021-07-16T07:46:41Z",
    "updated_at": "2021-07-16T07:46:41Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671038117",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671038117"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671038117"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671038117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 239,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 240,
    "side": "RIGHT",
    "in_reply_to_id": 582344935
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671038545",
    "pull_request_review_id": 708097790,
    "id": 671038545,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzODU0NQ==",
    "diff_hunk": "@@ -40,7 +41,7 @@ double GetDifficulty(const CBlockIndex* blockindex);\n void RPCNotifyBlockChange(const CBlockIndex*);\n \n /** Block description to JSON */\n-UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, bool txDetails = false) LOCKS_EXCLUDED(cs_main);\n+UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, const TxVerbosity verbosity = TxVerbosity::SHOW_TXID) LOCKS_EXCLUDED(cs_main);",
    "path": "src/rpc/blockchain.h",
    "position": null,
    "original_position": 13,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "5710e3f9008235c5e7805ee017fabbf3b20797b7",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(`const` was removed; please mark as resolved \ud83d\ude4f )",
    "created_at": "2021-07-16T07:47:25Z",
    "updated_at": "2021-07-16T07:47:26Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671038545",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671038545"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671038545"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671038545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 44,
    "side": "RIGHT",
    "in_reply_to_id": 584142239
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671039181",
    "pull_request_review_id": 708098592,
    "id": 671039181,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzOTE4MQ==",
    "diff_hunk": "@@ -46,6 +53,6 @@ std::string EncodeHexTx(const CTransaction& tx, const int serializeFlags = 0);\n std::string SighashToStr(unsigned char sighash_type);\n void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n void ScriptToUniv(const CScript& script, UniValue& out, bool include_address);\n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr, TxVerbosity verbosity = TxVerbosity::SHOW_TXID);",
    "path": "src/core_io.h",
    "position": null,
    "original_position": 19,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "5710e3f9008235c5e7805ee017fabbf3b20797b7",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(Please mark as resolved \ud83d\ude4f )",
    "created_at": "2021-07-16T07:48:29Z",
    "updated_at": "2021-07-16T07:48:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671039181",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671039181"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671039181"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671039181/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 56,
    "side": "RIGHT",
    "in_reply_to_id": 584144982
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671039642",
    "pull_request_review_id": 708099151,
    "id": 671039642,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTAzOTY0Mg==",
    "diff_hunk": "@@ -964,7 +971,17 @@ static RPCHelpMan getblock()\n         return strHex;\n     }\n \n-    return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n+    TxVerbosity block_to_json_verbosity;\n+\n+    if (verbosity <= 1) {\n+      block_to_json_verbosity = TxVerbosity::SHOW_TXID;",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 53,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "5710e3f9008235c5e7805ee017fabbf3b20797b7",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(Looks correct to me now; please mark as resolved \ud83d\ude4f )",
    "created_at": "2021-07-16T07:49:16Z",
    "updated_at": "2021-07-16T07:49:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671039642",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671039642"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671039642"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671039642/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 977,
    "side": "RIGHT",
    "in_reply_to_id": 584145181
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671043926",
    "pull_request_review_id": 708104540,
    "id": 671043926,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTA0MzkyNg==",
    "diff_hunk": "@@ -223,6 +223,28 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (nullptr != txundo) {\n+            switch (verbosity) {\n+                case TxVerbosity::SHOW_TXID:\n+                case TxVerbosity::SHOW_DETAILS:\n+                    break;\n+\n+                case TxVerbosity::SHOW_DETAILS_AND_PREV_OUT:\n+                    const Coin&   prev_coin  = txundo->vprevout[i];\n+                    const CTxOut& prev_txout = prev_coin.out;",
    "path": "src/core_write.cpp",
    "position": null,
    "original_position": 21,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "5710e3f9008235c5e7805ee017fabbf3b20797b7",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is this still relevant?",
    "created_at": "2021-07-16T07:56:17Z",
    "updated_at": "2021-07-16T07:56:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671043926",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671043926"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671043926"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671043926/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 233,
    "side": "RIGHT",
    "in_reply_to_id": 584147273
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671343803",
    "pull_request_review_id": 708512279,
    "id": 671343803,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTM0MzgwMw==",
    "diff_hunk": "@@ -395,17 +395,55 @@ def _test_getblock(self):\n         miniwallet.send_self_transfer(fee_rate=fee_per_kb, from_node=node)\n         blockhash = node.generate(1)[0]\n \n+        def check_fee_not_in_block(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            assert 'fee' not in block['tx'][1]\n+\n+        def check_fee_in_block(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            tx = block['tx'][1]\n+            assert 'fee' in tx\n+            assert_equal(tx['fee'], tx['vsize'] * fee_per_byte)\n+\n+        def check_vin_contains_prevout(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            tx = block[\"tx\"][1]\n+            total_vin = 0\n+            total_vout = 0\n+            for vin in tx[\"vin\"]:\n+                assert \"prevout\" in vin\n+                assert_equal(set(vin[\"prevout\"].keys()), set((\"value\", \"height\", \"generated\", \"scriptPubKey\")))\n+                assert_equal(vin[\"prevout\"][\"generated\"], True)\n+                total_vin += vin[\"prevout\"][\"value\"]\n+            for vout in tx[\"vout\"]:\n+                total_vout += vout[\"value\"]\n+            assert_equal(total_vin, total_vout + tx[\"fee\"])\n+\n+        def check_vin_does_not_contain_prevout(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            tx = block[\"tx\"][1]\n+            if isinstance(tx, str):\n+                # In verbosity level 1, only the transaction hashes are written\n+                pass\n+            else:\n+                for vin in tx[\"vin\"]:\n+                    assert \"prevout\" not in vin\n+\n         self.log.info(\"Test that getblock with verbosity 1 doesn't include fee\")\n-        block = node.getblock(blockhash, 1)\n-        assert 'fee' not in block['tx'][1]\n+        check_fee_not_in_block(1)",
    "path": "test/functional/rpc_blockchain.py",
    "position": null,
    "original_position": 41,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "i disagree -- i think what we are asserting here is that level 1 verbosity does not have fee in block,  level 2 & 3 does etc.. a constant for the value would probably make the test intention less clear.",
    "created_at": "2021-07-16T15:29:11Z",
    "updated_at": "2021-07-16T15:29:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671343803",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671343803"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671343803"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671343803/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 435,
    "side": "RIGHT",
    "in_reply_to_id": 633064256
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671347160",
    "pull_request_review_id": 708516776,
    "id": 671347160,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTM0NzE2MA==",
    "diff_hunk": "@@ -395,17 +395,55 @@ def _test_getblock(self):\n         miniwallet.send_self_transfer(fee_rate=fee_per_kb, from_node=node)\n         blockhash = node.generate(1)[0]\n \n+        def check_fee_not_in_block(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            assert 'fee' not in block['tx'][1]\n+\n+        def check_fee_in_block(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            tx = block['tx'][1]\n+            assert 'fee' in tx\n+            assert_equal(tx['fee'], tx['vsize'] * fee_per_byte)\n+\n+        def check_vin_contains_prevout(verbosity):",
    "path": "test/functional/rpc_blockchain.py",
    "position": null,
    "original_position": 14,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I renamed the prefix to assert. The pattern i was going for was: `assert_<some-expected-behaviour>(verbosity_level)`, which is consistent with the other assertion helpers in this test. I think i'd prefer leaving it as such.",
    "created_at": "2021-07-16T15:33:54Z",
    "updated_at": "2021-07-16T15:34:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671347160",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671347160"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671347160"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671347160/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 410,
    "side": "RIGHT",
    "in_reply_to_id": 633064565
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671363784",
    "pull_request_review_id": 708538343,
    "id": 671363784,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTM2Mzc4NA==",
    "diff_hunk": "@@ -295,12 +295,12 @@ static bool rest_block(HTTPRequest* req,\n \n static bool rest_block_extended(const util::Ref& context, HTTPRequest* req, const std::string& strURIPart)\n {\n-    return rest_block(req, strURIPart, true);\n+    return rest_block(req, strURIPart, TxVerbosity::SHOW_DETAILS_AND_PREV_OUT);",
    "path": "src/rest.cpp",
    "position": null,
    "original_position": 23,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "good point. I added a commit with changes to the release notes, please have a look!",
    "created_at": "2021-07-16T15:58:36Z",
    "updated_at": "2021-07-16T15:58:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671363784",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671363784"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671363784"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671363784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 298,
    "side": "RIGHT",
    "in_reply_to_id": 630488523
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671485932",
    "pull_request_review_id": 708698112,
    "id": 671485932,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTQ4NTkzMg==",
    "diff_hunk": "@@ -109,6 +109,15 @@ Updated RPCs\n   of `decodescript` these fields are top-level attributes, and included again as attributes\n   of the `scriptPubKey` object. (#20286)\n \n+- The `getblock` rpc now supports a level 3 verbosity containing a transaction inputs'",
    "path": "doc/release-notes.md",
    "position": null,
    "original_position": 4,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "356c74c6e0fc84bfbd4892fba1c666857bc5f45a",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe:\r\n\r\n```suggestion\r\n- The `getblock` RPC command now supports verbose level 3 containing transaction inputs'\r\n```\r\n(naming based on https://github.com/bitcoin/bitcoin/blob/master/doc/release-notes/release-notes-0.15.0.md) ",
    "created_at": "2021-07-16T19:40:03Z",
    "updated_at": "2021-07-16T19:40:04Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671485932",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671485932"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671485932"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671485932/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 112,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671514162",
    "pull_request_review_id": 708734297,
    "id": 671514162,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MTUxNDE2Mg==",
    "diff_hunk": "@@ -395,17 +395,55 @@ def _test_getblock(self):\n         miniwallet.send_self_transfer(fee_rate=fee_per_kb, from_node=node)\n         blockhash = node.generate(1)[0]\n \n+        def check_fee_not_in_block(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            assert 'fee' not in block['tx'][1]\n+\n+        def check_fee_in_block(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            tx = block['tx'][1]\n+            assert 'fee' in tx\n+            assert_equal(tx['fee'], tx['vsize'] * fee_per_byte)\n+\n+        def check_vin_contains_prevout(verbosity):",
    "path": "test/functional/rpc_blockchain.py",
    "position": null,
    "original_position": 14,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "7fc316e2c9f83cdab1b3b6cbd780c8d498f0bbb9",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "ok",
    "created_at": "2021-07-16T20:40:47Z",
    "updated_at": "2021-07-16T20:40:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671514162",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671514162"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r671514162"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/671514162/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 410,
    "side": "RIGHT",
    "in_reply_to_id": 633064565
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672184180",
    "pull_request_review_id": 709400486,
    "id": 672184180,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MjE4NDE4MA==",
    "diff_hunk": "@@ -313,6 +313,13 @@ def run_test(self):\n                             if 'coinbase' not in tx['vin'][0]}\n         assert_equal(non_coinbase_txs, set(txs))\n \n+        # Verify that the non-coinbase tx has \"prevout\" field set\n+        for tx_obj in json_obj[\"tx\"]:\n+            for vin in tx_obj[\"vin\"]:\n+                if \"coinbase\" not in vin:\n+                    prevout = vin[\"prevout\"]\n+                    assert_equal(prevout[\"generated\"], False)",
    "path": "test/functional/interface_rest.py",
    "position": null,
    "original_position": 9,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "144547291dc846f02f29185aed8a043414341a0d",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: should probably also check here that for coinbase txs, \"prevout\" is _not_ set. Could also add a check `assert \"prevout\" in vin` before accessing, to avoid a KeyError thrown if this ever would fail in the future",
    "created_at": "2021-07-19T10:35:44Z",
    "updated_at": "2021-07-19T11:02:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r672184180",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672184180"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r672184180"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672184180/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 316,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 321,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672221707",
    "pull_request_review_id": 709448244,
    "id": 672221707,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MjIyMTcwNw==",
    "diff_hunk": "@@ -231,8 +231,27 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, bool include_add\n             in.pushKV(\"txinwitness\", txinwitness);\n         }\n         if (calculate_fee) {\n-            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+            const Coin& prev_coin = txundo->vprevout[i];",
    "path": "src/core_write.cpp",
    "position": 25,
    "original_position": 14,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "cecbfed94e90df32f59ee661b83cb28f30c68587",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "L233: `calculate_fee` may be called `have_undo` now as this code block now is not only about calculating fees.",
    "created_at": "2021-07-19T11:39:24Z",
    "updated_at": "2021-07-19T12:01:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r672221707",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672221707"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r672221707"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672221707/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 234,
    "original_line": 234,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672235127",
    "pull_request_review_id": 709448244,
    "id": 672235127,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MjIzNTEyNw==",
    "diff_hunk": "@@ -199,30 +199,37 @@ UniValue blockheaderToJSON(const CBlockIndex* tip, const CBlockIndex* blockindex\n     return result;\n }\n \n-UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, bool txDetails)\n+UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, TxVerbosity verbosity)\n {\n     UniValue result = blockheaderToJSON(tip, blockindex);\n \n     result.pushKV(\"strippedsize\", (int)::GetSerializeSize(block, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS));\n     result.pushKV(\"size\", (int)::GetSerializeSize(block, PROTOCOL_VERSION));\n     result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n     UniValue txs(UniValue::VARR);\n-    if (txDetails) {\n-        CBlockUndo blockUndo;\n-        const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);\n-        for (size_t i = 0; i < block.vtx.size(); ++i) {\n-            const CTransactionRef& tx = block.vtx.at(i);\n-            // coinbase transaction (i == 0) doesn't have undo data\n-            const CTxUndo* txundo = (have_undo && i) ? &blockUndo.vtxundo.at(i - 1) : nullptr;\n-            UniValue objTx(UniValue::VOBJ);\n-            TxToUniv(*tx, uint256(), objTx, true, RPCSerializationFlags(), txundo);\n-            txs.push_back(objTx);\n-        }\n-    } else {\n-        for (const CTransactionRef& tx : block.vtx) {\n-            txs.push_back(tx->GetHash().GetHex());\n-        }\n+\n+    switch (verbosity) {\n+        case TxVerbosity::SHOW_TXID:\n+            for (const CTransactionRef& tx : block.vtx) {\n+                txs.push_back(tx->GetHash().GetHex());\n+            }\n+            break;\n+\n+        case TxVerbosity::SHOW_DETAILS:\n+        case TxVerbosity::SHOW_DETAILS_AND_PREVOUT:\n+            CBlockUndo blockUndo;\n+            const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);\n+\n+            for (size_t i = 0; i < block.vtx.size(); ++i) {\n+                const CTransactionRef& tx = block.vtx.at(i);\n+                // coinbase transaction (i == 0) doesn't have undo data\n+                const CTxUndo* txundo = (have_undo && i) ? &blockUndo.vtxundo.at(i - 1) : nullptr;",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 44,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "cecbfed94e90df32f59ee661b83cb28f30c68587",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit:\r\n```suggestion\r\n                const CTxUndo* txundo = (have_undo && i > 0) ? &blockUndo.vtxundo.at(i - 1) : nullptr;\r\n```",
    "created_at": "2021-07-19T12:01:09Z",
    "updated_at": "2021-07-19T12:01:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r672235127",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672235127"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r672235127"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672235127/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 226,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672238121",
    "pull_request_review_id": 709468996,
    "id": 672238121,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MjIzODEyMQ==",
    "diff_hunk": "@@ -930,7 +937,8 @@ static RPCHelpMan getblock()\n     return RPCHelpMan{\"getblock\",\n                 \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'hash'.\\n\"\n                 \"If verbosity is 1, returns an Object with information about block <hash>.\\n\"\n-                \"If verbosity is 2, returns an Object with information about block <hash> and information about each transaction. \\n\",\n+                \"If verbosity is 2, returns an Object with information about block <hash> and information about each transaction.\\n\"\n+                \"If verbosity is 3, returns an Object with information about block <hash> and information about each transaction, including prevout information for inputs (only for blocks in the current best chain).\\n\",",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 60,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "cecbfed94e90df32f59ee661b83cb28f30c68587",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "FMI: \"only for blocks in the current best chain\" - Is this precisely worded with regard to how pruning works? ",
    "created_at": "2021-07-19T12:06:02Z",
    "updated_at": "2021-07-19T12:06:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r672238121",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672238121"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r672238121"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672238121/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 941,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/682135386",
    "pull_request_review_id": 721687534,
    "id": 682135386,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4MjEzNTM4Ng==",
    "diff_hunk": "@@ -930,7 +937,8 @@ static RPCHelpMan getblock()\n     return RPCHelpMan{\"getblock\",\n                 \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'hash'.\\n\"\n                 \"If verbosity is 1, returns an Object with information about block <hash>.\\n\"\n-                \"If verbosity is 2, returns an Object with information about block <hash> and information about each transaction. \\n\",\n+                \"If verbosity is 2, returns an Object with information about block <hash> and information about each transaction.\\n\"\n+                \"If verbosity is 3, returns an Object with information about block <hash> and information about each transaction, including prevout information for inputs (only for blocks in the current best chain).\\n\",",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 60,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "cecbfed94e90df32f59ee661b83cb28f30c68587",
    "user": {
      "login": "fyquah",
      "id": 6006469,
      "node_id": "MDQ6VXNlcjYwMDY0Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6006469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fyquah",
      "html_url": "https://github.com/fyquah",
      "followers_url": "https://api.github.com/users/fyquah/followers",
      "following_url": "https://api.github.com/users/fyquah/following{/other_user}",
      "gists_url": "https://api.github.com/users/fyquah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fyquah/subscriptions",
      "organizations_url": "https://api.github.com/users/fyquah/orgs",
      "repos_url": "https://api.github.com/users/fyquah/repos",
      "events_url": "https://api.github.com/users/fyquah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fyquah/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "iiuc, txundo will not be looked up for pruned blocks. I reworded this from \"only for blocks\" to \"only for unpruned blocks\".",
    "created_at": "2021-08-03T22:10:13Z",
    "updated_at": "2021-08-03T22:10:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r682135386",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/682135386"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r682135386"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/682135386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 941,
    "side": "RIGHT",
    "in_reply_to_id": 672238121
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/683990173",
    "pull_request_review_id": 724033069,
    "id": 683990173,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4Mzk5MDE3Mw==",
    "diff_hunk": "@@ -1017,7 +1025,16 @@ static RPCHelpMan getblock()\n         return strHex;\n     }\n \n-    return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n+    TxVerbosity block_to_json_verbosity;",
    "path": "src/rpc/blockchain.cpp",
    "position": 69,
    "original_position": 69,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: The name `block_to_json_verbosity` seems long and it does not add any more meaning than just `tx_verbosity`, imho.",
    "created_at": "2021-08-06T06:50:12Z",
    "updated_at": "2021-08-08T19:35:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r683990173",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/683990173"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r683990173"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/683990173/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1028,
    "original_line": 1028,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/683992940",
    "pull_request_review_id": 724033069,
    "id": 683992940,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4Mzk5Mjk0MA==",
    "diff_hunk": "@@ -20,6 +20,12 @@ class uint256;\n class UniValue;\n class CTxUndo;\n \n+enum class TxVerbosity {",
    "path": "src/core_io.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Some `enum class`es have these nice doxygen comments: https://github.com/bitcoin/bitcoin/blob/d67330d11245b11fbdd5e2dd5343ee451186931e/src/consensus/validation.h#L63 Maybe it is worth adding here too.",
    "created_at": "2021-08-06T06:55:51Z",
    "updated_at": "2021-08-06T07:52:27Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r683992940",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/683992940"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r683992940"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/683992940/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 23,
    "original_line": 23,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684000150",
    "pull_request_review_id": 724033069,
    "id": 684000150,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NDAwMDE1MA==",
    "diff_hunk": "@@ -312,6 +312,16 @@ def run_test(self):\n                             if 'coinbase' not in tx['vin'][0]}\n         assert_equal(non_coinbase_txs, set(txs))\n \n+        # Verify that the non-coinbase tx has \"prevout\" field set",
    "path": "test/functional/interface_rest.py",
    "position": 4,
    "original_position": 4,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit:\r\n```suggestion\r\n        # Verify that the non-coinbase tx has \"prevout\" key set\r\n```\r\nA Python dictionary is a set of key-value pairs.",
    "created_at": "2021-08-06T07:10:10Z",
    "updated_at": "2021-08-06T07:52:27Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r684000150",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684000150"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r684000150"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684000150/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 315,
    "original_line": 315,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684002671",
    "pull_request_review_id": 724033069,
    "id": 684002671,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NDAwMjY3MQ==",
    "diff_hunk": "@@ -312,6 +312,16 @@ def run_test(self):\n                             if 'coinbase' not in tx['vin'][0]}\n         assert_equal(non_coinbase_txs, set(txs))\n \n+        # Verify that the non-coinbase tx has \"prevout\" field set\n+        for tx_obj in json_obj[\"tx\"]:\n+            for vin in tx_obj[\"vin\"]:\n+                if \"coinbase\" not in vin:\n+                    assert \"prevout\" in vin\n+                    prevout = vin[\"prevout\"]\n+                    assert_equal(prevout[\"generated\"], False)",
    "path": "test/functional/interface_rest.py",
    "position": 10,
    "original_position": 10,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Given that `prevout` variable is used just once, it may be shorter and actually easier to read:\r\n\r\n```suggestion\r\n                    assert_equal(vin[\"prevout\"][\"generated\"], False)\r\n```",
    "created_at": "2021-08-06T07:14:52Z",
    "updated_at": "2021-08-06T07:52:27Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r684002671",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684002671"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r684002671"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684002671/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": 320,
    "original_start_line": 320,
    "start_side": "RIGHT",
    "line": 321,
    "original_line": 321,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684017368",
    "pull_request_review_id": 724033069,
    "id": 684017368,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NDAxNzM2OA==",
    "diff_hunk": "@@ -412,17 +412,55 @@ def _test_getblock(self):\n         miniwallet.send_self_transfer(fee_rate=fee_per_kb, from_node=node)\n         blockhash = node.generate(1)[0]\n \n-        self.log.info(\"Test getblock with verbosity 1 doesn't include fee\")\n-        block = node.getblock(blockhash, 1)\n-        assert 'fee' not in block['tx'][1]\n-\n-        self.log.info('Test getblock with verbosity 2 includes expected fee')\n-        block = node.getblock(blockhash, 2)\n-        tx = block['tx'][1]\n-        assert 'fee' in tx\n-        assert_equal(tx['fee'], tx['vsize'] * fee_per_byte)\n-\n-        self.log.info(\"Test getblock with verbosity 2 still works with pruned Undo data\")\n+        def assert_fee_not_in_block(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            assert 'fee' not in block['tx'][1]\n+\n+        def assert_fee_in_block(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            tx = block['tx'][1]\n+            assert 'fee' in tx\n+            assert_equal(tx['fee'], tx['vsize'] * fee_per_byte)\n+\n+        def assert_vin_contains_prevout(verbosity):\n+            block = node.getblock(blockhash, verbosity)\n+            tx = block[\"tx\"][1]\n+            total_vin = 0",
    "path": "test/functional/rpc_blockchain.py",
    "position": 28,
    "original_position": 28,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I believe this should be more like:\r\n\r\n```suggestion\r\n            total_vin = Decimal(\"0.00000000\")\r\n```",
    "created_at": "2021-08-06T07:37:39Z",
    "updated_at": "2021-08-06T07:52:27Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r684017368",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684017368"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r684017368"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684017368/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 428,
    "original_line": 428,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684020203",
    "pull_request_review_id": 724033069,
    "id": 684020203,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NDAyMDIwMw==",
    "diff_hunk": "@@ -199,30 +199,37 @@ UniValue blockheaderToJSON(const CBlockIndex* tip, const CBlockIndex* blockindex\n     return result;\n }\n \n-UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, bool txDetails)\n+UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, TxVerbosity verbosity)\n {\n     UniValue result = blockheaderToJSON(tip, blockindex);\n \n     result.pushKV(\"strippedsize\", (int)::GetSerializeSize(block, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS));\n     result.pushKV(\"size\", (int)::GetSerializeSize(block, PROTOCOL_VERSION));\n     result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n     UniValue txs(UniValue::VARR);\n-    if (txDetails) {\n-        CBlockUndo blockUndo;\n-        const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);\n-        for (size_t i = 0; i < block.vtx.size(); ++i) {\n-            const CTransactionRef& tx = block.vtx.at(i);\n-            // coinbase transaction (i == 0) doesn't have undo data\n-            const CTxUndo* txundo = (have_undo && i) ? &blockUndo.vtxundo.at(i - 1) : nullptr;\n-            UniValue objTx(UniValue::VOBJ);\n-            TxToUniv(*tx, uint256(), objTx, true, RPCSerializationFlags(), txundo);\n-            txs.push_back(objTx);\n-        }\n-    } else {\n-        for (const CTransactionRef& tx : block.vtx) {\n-            txs.push_back(tx->GetHash().GetHex());\n-        }\n+\n+    switch (verbosity) {\n+        case TxVerbosity::SHOW_TXID:\n+            for (const CTransactionRef& tx : block.vtx) {\n+                txs.push_back(tx->GetHash().GetHex());\n+            }\n+            break;\n+\n+        case TxVerbosity::SHOW_DETAILS:\n+        case TxVerbosity::SHOW_DETAILS_AND_PREVOUT:\n+            CBlockUndo blockUndo;\n+            const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);\n+\n+            for (size_t i = 0; i < block.vtx.size(); ++i) {\n+                const CTransactionRef& tx = block.vtx.at(i);\n+                // coinbase transaction (i == 0) doesn't have undo data",
    "path": "src/rpc/blockchain.cpp",
    "position": 43,
    "original_position": 43,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit:\r\n```suggestion\r\n                // coinbase transaction (i.e. i == 0) doesn't have undo data\r\n```",
    "created_at": "2021-08-06T07:42:17Z",
    "updated_at": "2021-08-06T07:52:27Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r684020203",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684020203"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r684020203"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684020203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 225,
    "original_line": 225,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684024088",
    "pull_request_review_id": 724033069,
    "id": 684024088,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NDAyNDA4OA==",
    "diff_hunk": "@@ -230,9 +230,28 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, bool include_add\n             }\n             in.pushKV(\"txinwitness\", txinwitness);\n         }\n-        if (calculate_fee) {\n-            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+        if (have_undo) {\n+            const Coin& prev_coin = txundo->vprevout[i];\n+            const CTxOut& prev_txout = prev_coin.out;\n+\n             amt_total_in += prev_txout.nValue;\n+            switch (verbosity) {\n+                case TxVerbosity::SHOW_TXID:\n+                case TxVerbosity::SHOW_DETAILS:\n+                    break;\n+\n+                case TxVerbosity::SHOW_DETAILS_AND_PREVOUT:\n+                    UniValue o_script_pub_key(UniValue::VOBJ);\n+                    ScriptPubKeyToUniv(prev_txout.scriptPubKey, o_script_pub_key, /* includeHex */ true, /* include_addresses */ true);",
    "path": "src/core_write.cpp",
    "position": 36,
    "original_position": 36,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Question: There is `include_addresses` parameter which is not used here. `true` is passed instead. Is that correct or should it look like:\r\n\r\n```suggestion\r\n                    ScriptPubKeyToUniv(prev_txout.scriptPubKey, o_script_pub_key, /* includeHex */ true, include_addresses);\r\n```\r\n\r\nIt looks to me that `include_addresses = true` is deprecated actually.\r\n\r\nEdit: This PR will be most likely affected by #22650.",
    "created_at": "2021-08-06T07:48:51Z",
    "updated_at": "2021-08-08T12:44:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r684024088",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684024088"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r684024088"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684024088/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 245,
    "original_line": 245,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695919260",
    "pull_request_review_id": 738574983,
    "id": 695919260,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NTkxOTI2MA==",
    "diff_hunk": "@@ -230,9 +230,28 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, bool include_add\n             }\n             in.pushKV(\"txinwitness\", txinwitness);\n         }\n-        if (calculate_fee) {\n-            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+        if (have_undo) {\n+            const Coin& prev_coin = txundo->vprevout[i];\n+            const CTxOut& prev_txout = prev_coin.out;\n+\n             amt_total_in += prev_txout.nValue;\n+            switch (verbosity) {\n+                case TxVerbosity::SHOW_TXID:\n+                case TxVerbosity::SHOW_DETAILS:\n+                    break;\n+\n+                case TxVerbosity::SHOW_DETAILS_AND_PREVOUT:\n+                    UniValue o_script_pub_key(UniValue::VOBJ);\n+                    ScriptPubKeyToUniv(prev_txout.scriptPubKey, o_script_pub_key, /* includeHex */ true, /* include_addresses */ true);",
    "path": "src/core_write.cpp",
    "position": 36,
    "original_position": 36,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Since this is adding new output, I think it should probably just be a constant `false` here, actually.",
    "created_at": "2021-08-25T16:29:16Z",
    "updated_at": "2021-08-25T16:29:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r695919260",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695919260"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r695919260"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695919260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 245,
    "original_line": 245,
    "side": "RIGHT",
    "in_reply_to_id": 684024088
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/703064174",
    "pull_request_review_id": 747416113,
    "id": 703064174,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMzA2NDE3NA==",
    "diff_hunk": "@@ -1017,7 +1025,16 @@ static RPCHelpMan getblock()\n         return strHex;\n     }\n \n-    return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n+    TxVerbosity block_to_json_verbosity;",
    "path": "src/rpc/blockchain.cpp",
    "position": 69,
    "original_position": 69,
    "commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "original_commit_id": "72dbe9816482d46c63168109c8745d3ec615b031",
    "user": {
      "login": "jaysonmald35",
      "id": 87387449,
      "node_id": "MDQ6VXNlcjg3Mzg3NDQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/87387449?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jaysonmald35",
      "html_url": "https://github.com/jaysonmald35",
      "followers_url": "https://api.github.com/users/jaysonmald35/followers",
      "following_url": "https://api.github.com/users/jaysonmald35/following{/other_user}",
      "gists_url": "https://api.github.com/users/jaysonmald35/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jaysonmald35/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jaysonmald35/subscriptions",
      "organizations_url": "https://api.github.com/users/jaysonmald35/orgs",
      "repos_url": "https://api.github.com/users/jaysonmald35/repos",
      "events_url": "https://api.github.com/users/jaysonmald35/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jaysonmald35/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thank u",
    "created_at": "2021-09-06T20:33:55Z",
    "updated_at": "2021-09-06T20:33:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r703064174",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/703064174"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r703064174"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/703064174/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1028,
    "original_line": 1028,
    "side": "RIGHT",
    "in_reply_to_id": 683990173
  }
]