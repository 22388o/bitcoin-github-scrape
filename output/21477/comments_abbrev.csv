vasild,2021-03-19 14:56:33,"`2001:0db8:0:0:1:0:0:1` can be represented as `2001:db8::1:0:0:1`, but also as `2001:0db8:0:0:1::1`.\n\nAre we guaranteed that all [`getnameinfo()`](https://linux.die.net/man/3/getnameinfo) on different platforms will use the variants in this test? I think no.\n\n(similarly in some others below)",https://github.com/bitcoin/bitcoin/pull/21477#discussion_r597746056,597746056,src/test/net_tests.cpp
practicalswift,2021-03-19 15:15:44,"RFC 5952 tells us that there is one (and only one) canonical representation of `2001:0db8:0:0:1:0:0:1` which is `2001:db8::1:0:0:1`.\n\nTesting `CNetAddr::ToString`'s conformance with RFC 5952 is the entire point of this PR :)",https://github.com/bitcoin/bitcoin/pull/21477#discussion_r597761201,597761201,src/test/net_tests.cpp
vasild,2021-03-19 15:25:02,"> RFC 5952 tells us that there is one (and only one) canonical representation\n\nWhere is that text?\n\nI see the following, which seems to be the opposite:\n\nhttps://tools.ietf.org/html/rfc5952#section-2.2\n\n> 'The ""::"" can only appear once in an address.'\n   This gives a choice on where in a single address to compress the\n   zero.\n      2001:db8::aaaa:0:0:1\n      2001:db8:0:0:a",https://github.com/bitcoin/bitcoin/pull/21477#discussion_r597768621,597768621,src/test/net_tests.cpp
practicalswift,2021-03-19 15:52:03,"@vasild \n\nThe text you're quoting is describing the problem: the problem being that there are multiple ways to represent a given IPv6 address (in the absence of canonicalisation rules).\n\nThe RFC describes how to solve that problem using canonicalisation :)\n\nSee the first paragraph of the RFC: ""This document defines a canonical textual representation format.""\n\nNote that ""canonical t",https://github.com/bitcoin/bitcoin/pull/21477#discussion_r597789369,597789369,src/test/net_tests.cpp
vasild,2021-03-21 12:42:59,"My bad, https://tools.ietf.org/html/rfc5952#section-4.2.3 is pretty clear. Sorry for the noise.",https://github.com/bitcoin/bitcoin/pull/21477#discussion_r598273732,598273732,src/test/net_tests.cpp
