[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/948728773",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23330#issuecomment-948728773",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23330",
    "id": 948728773,
    "node_id": "IC_kwDOABII5844jHPF",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-21T15:27:44Z",
    "updated_at": "2021-10-21T15:27:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "I had a great question come in on twitter: https://twitter.com/lightclients/status/1450955679116587016\r\n\r\nQ: Why not just encourage RPC Batching?\r\nA: Because this RPC takes parameters of a Hash (and not height), we can't call the i+1st RPC until we know the result of the i-th.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/948728773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/954889533",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23330#issuecomment-954889533",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23330",
    "id": 954889533,
    "node_id": "IC_kwDOABII58446nU9",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-29T16:41:18Z",
    "updated_at": "2021-10-29T16:41:18Z",
    "author_association": "MEMBER",
    "body": "Batch `getblockhash` and then batch this?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/954889533/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/954898069",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23330#issuecomment-954898069",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23330",
    "id": 954898069,
    "node_id": "IC_kwDOABII58446paV",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-29T16:55:32Z",
    "updated_at": "2021-10-29T16:55:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Batch `getblockhash` and then batch this?\r\n\r\nyou actually need to getblockheader to get the height, then getblockhash for the N you need, and then call getblockheader for the N. And this still has a concurrency bug since the getblockhash do not execute atomically afaiu (a reorg could happen in between).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/954898069/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/973683008",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23330#issuecomment-973683008",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23330",
    "id": 973683008,
    "node_id": "IC_kwDOABII5846CTlA",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-19T02:59:21Z",
    "updated_at": "2021-11-22T17:14:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/973683008/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734535867",
    "pull_request_review_id": 786839463,
    "id": 734535867,
    "node_id": "PRRC_kwDOABII584ryCC7",
    "diff_hunk": "@@ -876,6 +903,14 @@ static RPCHelpMan getblockheader()\n     if (!request.params[1].isNull())\n         fVerbose = request.params[1].get_bool();\n \n+    int count = 0;\n+    if (!request.params[2].isNull())\n+        count = request.params[2].get_int();\n+    if (count < 0)\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Count must be >= 0\");\n+    if (count > 2000)",
    "path": "src/rpc/blockchain.cpp",
    "position": 59,
    "original_position": 59,
    "commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "original_commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "user": {
      "login": "brunoerg",
      "id": 19480819,
      "node_id": "MDQ6VXNlcjE5NDgwODE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brunoerg",
      "html_url": "https://github.com/brunoerg",
      "followers_url": "https://api.github.com/users/brunoerg/followers",
      "following_url": "https://api.github.com/users/brunoerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/brunoerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
      "organizations_url": "https://api.github.com/users/brunoerg/orgs",
      "repos_url": "https://api.github.com/users/brunoerg/repos",
      "events_url": "https://api.github.com/users/brunoerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brunoerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "maybe `else if` here?",
    "created_at": "2021-10-22T13:21:45Z",
    "updated_at": "2021-10-22T13:21:45Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r734535867",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734535867"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r734535867"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734535867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 911,
    "original_line": 911,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734633454",
    "pull_request_review_id": 786980078,
    "id": 734633454,
    "node_id": "PRRC_kwDOABII584ryZ3u",
    "diff_hunk": "@@ -876,6 +903,14 @@ static RPCHelpMan getblockheader()\n     if (!request.params[1].isNull())\n         fVerbose = request.params[1].get_bool();\n \n+    int count = 0;\n+    if (!request.params[2].isNull())\n+        count = request.params[2].get_int();\n+    if (count < 0)\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Count must be >= 0\");\n+    if (count > 2000)",
    "path": "src/rpc/blockchain.cpp",
    "position": 59,
    "original_position": 59,
    "commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "original_commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The early-return statements are already mutually exclusive, so no need for `else`. Though `{}` would be good for new code.",
    "created_at": "2021-10-22T15:15:19Z",
    "updated_at": "2021-10-22T15:15:19Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r734633454",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734633454"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r734633454"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734633454/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 911,
    "original_line": 911,
    "side": "RIGHT",
    "in_reply_to_id": 734535867
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734642423",
    "pull_request_review_id": 786992609,
    "id": 734642423,
    "node_id": "PRRC_kwDOABII584rycD3",
    "diff_hunk": "@@ -876,6 +903,14 @@ static RPCHelpMan getblockheader()\n     if (!request.params[1].isNull())\n         fVerbose = request.params[1].get_bool();\n \n+    int count = 0;\n+    if (!request.params[2].isNull())\n+        count = request.params[2].get_int();\n+    if (count < 0)\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Count must be >= 0\");\n+    if (count > 2000)",
    "path": "src/rpc/blockchain.cpp",
    "position": 59,
    "original_position": 59,
    "commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "original_commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "user": {
      "login": "brunoerg",
      "id": 19480819,
      "node_id": "MDQ6VXNlcjE5NDgwODE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brunoerg",
      "html_url": "https://github.com/brunoerg",
      "followers_url": "https://api.github.com/users/brunoerg/followers",
      "following_url": "https://api.github.com/users/brunoerg/following{/other_user}",
      "gists_url": "https://api.github.com/users/brunoerg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
      "organizations_url": "https://api.github.com/users/brunoerg/orgs",
      "repos_url": "https://api.github.com/users/brunoerg/repos",
      "events_url": "https://api.github.com/users/brunoerg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brunoerg/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yea, sorry, didn't notice the `throw`",
    "created_at": "2021-10-22T15:26:33Z",
    "updated_at": "2021-10-22T15:26:33Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r734642423",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734642423"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r734642423"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734642423/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 911,
    "original_line": 911,
    "side": "RIGHT",
    "in_reply_to_id": 734535867
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734705832",
    "pull_request_review_id": 787080418,
    "id": 734705832,
    "node_id": "PRRC_kwDOABII584ryrio",
    "diff_hunk": "@@ -876,6 +903,14 @@ static RPCHelpMan getblockheader()\n     if (!request.params[1].isNull())\n         fVerbose = request.params[1].get_bool();\n \n+    int count = 0;\n+    if (!request.params[2].isNull())\n+        count = request.params[2].get_int();\n+    if (count < 0)\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Count must be >= 0\");\n+    if (count > 2000)",
    "path": "src/rpc/blockchain.cpp",
    "position": 59,
    "original_position": 59,
    "commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "original_commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "ah -- I didn't realize the preference was to have it on a single line as per:\r\n\r\n```\r\nIf an if only has a single-statement then-clause, it can appear on the same line as the if, without braces. In every other case, braces are required, and the then and else clauses must appear correctly indented on a new line.\r\n```",
    "created_at": "2021-10-22T16:57:59Z",
    "updated_at": "2021-10-22T16:58:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r734705832",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734705832"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r734705832"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734705832/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 911,
    "original_line": 911,
    "side": "RIGHT",
    "in_reply_to_id": 734535867
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739389664",
    "pull_request_review_id": 793255948,
    "id": 739389664,
    "node_id": "PRRC_kwDOABII584sEjDg",
    "diff_hunk": "@@ -876,6 +903,14 @@ static RPCHelpMan getblockheader()\n     if (!request.params[1].isNull())\n         fVerbose = request.params[1].get_bool();\n \n+    int count = 0;\n+    if (!request.params[2].isNull())\n+        count = request.params[2].get_int();\n+    if (count < 0)\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Count must be >= 0\");\n+    if (count > 2000)\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Count must be <= 2000\");",
    "path": "src/rpc/blockchain.cpp",
    "position": 60,
    "original_position": 60,
    "commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "original_commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe it should just stop at 2000?",
    "created_at": "2021-10-29T16:42:49Z",
    "updated_at": "2021-10-29T16:42:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r739389664",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739389664"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r739389664"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739389664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 912,
    "original_line": 912,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739390541",
    "pull_request_review_id": 793257138,
    "id": 739390541,
    "node_id": "PRRC_kwDOABII584sEjRN",
    "diff_hunk": "@@ -889,15 +924,33 @@ static RPCHelpMan getblockheader()\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n     }\n \n-    if (!fVerbose)\n-    {\n-        CDataStream ssBlock(SER_NETWORK, PROTOCOL_VERSION);\n-        ssBlock << pblockindex->GetBlockHeader();\n-        std::string strHex = HexStr(ssBlock);\n-        return strHex;\n+    if (count == 0) {\n+        if (!fVerbose)\n+        {\n+            CDataStream ssBlock(SER_NETWORK, PROTOCOL_VERSION);\n+            ssBlock << pblockindex->GetBlockHeader();\n+            std::string strHex = HexStr(ssBlock);\n+            return strHex;\n+        } else {\n+            return blockheaderToJSON(tip, pblockindex);\n+        }\n+    } else {\n+        if (!fVerbose) {\n+            CDataStream ssBlocks(SER_NETWORK, PROTOCOL_VERSION);\n+            for (int i = 0; i < count && pblockindex != nullptr; ++i, pblockindex = pblockindex->pprev) {\n+                ssBlocks << pblockindex->GetBlockHeader();\n+            }\n+            std::string strHex = HexStr(ssBlocks);",
    "path": "src/rpc/blockchain.cpp",
    "position": 91,
    "original_position": 91,
    "commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "original_commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "IMO it would make more sense to return an Array of Strings, each with a single block header serialised.",
    "created_at": "2021-10-29T16:44:17Z",
    "updated_at": "2021-10-29T16:44:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r739390541",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739390541"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r739390541"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739390541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": 941,
    "original_start_line": 941,
    "start_side": "RIGHT",
    "line": 943,
    "original_line": 943,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739393967",
    "pull_request_review_id": 793261863,
    "id": 739393967,
    "node_id": "PRRC_kwDOABII584sEkGv",
    "diff_hunk": "@@ -889,15 +924,33 @@ static RPCHelpMan getblockheader()\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n     }\n \n-    if (!fVerbose)\n-    {\n-        CDataStream ssBlock(SER_NETWORK, PROTOCOL_VERSION);\n-        ssBlock << pblockindex->GetBlockHeader();\n-        std::string strHex = HexStr(ssBlock);\n-        return strHex;\n+    if (count == 0) {\n+        if (!fVerbose)\n+        {\n+            CDataStream ssBlock(SER_NETWORK, PROTOCOL_VERSION);\n+            ssBlock << pblockindex->GetBlockHeader();\n+            std::string strHex = HexStr(ssBlock);\n+            return strHex;\n+        } else {\n+            return blockheaderToJSON(tip, pblockindex);\n+        }\n+    } else {\n+        if (!fVerbose) {\n+            CDataStream ssBlocks(SER_NETWORK, PROTOCOL_VERSION);\n+            for (int i = 0; i < count && pblockindex != nullptr; ++i, pblockindex = pblockindex->pprev) {\n+                ssBlocks << pblockindex->GetBlockHeader();\n+            }\n+            std::string strHex = HexStr(ssBlocks);",
    "path": "src/rpc/blockchain.cpp",
    "position": 91,
    "original_position": 91,
    "commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "original_commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "goal was to have the same output format as the rest API.",
    "created_at": "2021-10-29T16:49:56Z",
    "updated_at": "2021-10-29T16:49:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r739393967",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739393967"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r739393967"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739393967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": 941,
    "original_start_line": 941,
    "start_side": "RIGHT",
    "line": 943,
    "original_line": 943,
    "side": "RIGHT",
    "in_reply_to_id": 739390541
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739394153",
    "pull_request_review_id": 793262127,
    "id": 739394153,
    "node_id": "PRRC_kwDOABII584sEkJp",
    "diff_hunk": "@@ -876,6 +903,14 @@ static RPCHelpMan getblockheader()\n     if (!request.params[1].isNull())\n         fVerbose = request.params[1].get_bool();\n \n+    int count = 0;\n+    if (!request.params[2].isNull())\n+        count = request.params[2].get_int();\n+    if (count < 0)\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Count must be >= 0\");\n+    if (count > 2000)\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Count must be <= 2000\");",
    "path": "src/rpc/blockchain.cpp",
    "position": 60,
    "original_position": 60,
    "commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "original_commit_id": "b13b8ca3be326a7c98689d50f148bcc4d93f6c87",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "goal was to match the Rest API",
    "created_at": "2021-10-29T16:50:18Z",
    "updated_at": "2021-10-29T16:50:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r739394153",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739394153"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23330#discussion_r739394153"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23330"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739394153/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 912,
    "original_line": 912,
    "side": "RIGHT",
    "in_reply_to_id": 739389664
  }
]