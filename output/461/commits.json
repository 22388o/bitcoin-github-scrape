[
  {
    "sha": "a897ead46f8cb366f7b9ab82727127c525872477",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphODk3ZWFkNDZmOGNiMzY2ZjdiOWFiODI3MjcxMjdjNTI1ODcyNDc3",
    "commit": {
      "author": {
        "name": "Giel van Schijndel",
        "email": "me@mortis.eu",
        "date": "2011-08-11T12:06:08Z"
      },
      "committer": {
        "name": "Giel van Schijndel",
        "email": "me@mortis.eu",
        "date": "2011-10-02T13:18:46Z"
      },
      "message": "Use \"#if USE_UPNP\" instead of \"#ifdef USE_UPNP\" to work properly with the makefiles\n\nAdditionally, don't try to link with libminiupnc when USE_UPNP=0.\n\nSigned-off-by: Giel van Schijndel <me@mortis.eu>",
      "tree": {
        "sha": "02c2e4788d1ab1c3c26d8fdf084f3391a544f273",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/02c2e4788d1ab1c3c26d8fdf084f3391a544f273"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a897ead46f8cb366f7b9ab82727127c525872477",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a897ead46f8cb366f7b9ab82727127c525872477",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a897ead46f8cb366f7b9ab82727127c525872477",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a897ead46f8cb366f7b9ab82727127c525872477/comments",
    "author": {
      "login": "muggenhor",
      "id": 484066,
      "node_id": "MDQ6VXNlcjQ4NDA2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/484066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/muggenhor",
      "html_url": "https://github.com/muggenhor",
      "followers_url": "https://api.github.com/users/muggenhor/followers",
      "following_url": "https://api.github.com/users/muggenhor/following{/other_user}",
      "gists_url": "https://api.github.com/users/muggenhor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/muggenhor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/muggenhor/subscriptions",
      "organizations_url": "https://api.github.com/users/muggenhor/orgs",
      "repos_url": "https://api.github.com/users/muggenhor/repos",
      "events_url": "https://api.github.com/users/muggenhor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/muggenhor/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "muggenhor",
      "id": 484066,
      "node_id": "MDQ6VXNlcjQ4NDA2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/484066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/muggenhor",
      "html_url": "https://github.com/muggenhor",
      "followers_url": "https://api.github.com/users/muggenhor/followers",
      "following_url": "https://api.github.com/users/muggenhor/following{/other_user}",
      "gists_url": "https://api.github.com/users/muggenhor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/muggenhor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/muggenhor/subscriptions",
      "organizations_url": "https://api.github.com/users/muggenhor/orgs",
      "repos_url": "https://api.github.com/users/muggenhor/repos",
      "events_url": "https://api.github.com/users/muggenhor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/muggenhor/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1ff3583e41b0cdb0ee902028b4a37aef41a6f8ba",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1ff3583e41b0cdb0ee902028b4a37aef41a6f8ba",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1ff3583e41b0cdb0ee902028b4a37aef41a6f8ba"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 9,
      "deletions": 11
    },
    "files": [
      {
        "sha": "6ecbeab45ff78c8805345d35e7ba22ad30545ead",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a897ead46f8cb366f7b9ab82727127c525872477/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a897ead46f8cb366f7b9ab82727127c525872477/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=a897ead46f8cb366f7b9ab82727127c525872477",
        "patch": "@@ -181,12 +181,10 @@ bool AppInit2(int argc, char* argv[])\n             \"  -nolisten        \\t  \"   + _(\"Don't accept connections from outside\\n\") +\n             \"  -banscore=<n>    \\t  \"   + _(\"Threshold for disconnecting misbehaving peers (default: 100)\\n\") +\n             \"  -bantime=<n>     \\t  \"   + _(\"Number of seconds to keep misbehaving peers from reconnecting (default: 86400)\\n\") +\n-#ifdef USE_UPNP\n #if USE_UPNP\n             \"  -noupnp          \\t  \"   + _(\"Don't attempt to use UPnP to map the listening port\\n\") +\n #else\n             \"  -upnp            \\t  \"   + _(\"Attempt to use UPnP to map the listening port\\n\") +\n-#endif\n #endif\n             \"  -paytxfee=<amt>  \\t  \"   + _(\"Fee per KB to add to transactions you send\\n\") +\n #ifdef GUI"
      },
      {
        "sha": "575093dc1b464f0b7c5a2f25f0b5fc368e9409bf",
        "filename": "src/main.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a897ead46f8cb366f7b9ab82727127c525872477/src/main.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a897ead46f8cb366f7b9ab82727127c525872477/src/main.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.h?ref=a897ead46f8cb366f7b9ab82727127c525872477",
        "patch": "@@ -39,7 +39,7 @@ inline bool MoneyRange(int64 nValue) { return (nValue >= 0 && nValue <= MAX_MONE\n static const int COINBASE_MATURITY = 100;\n // Threshold for nLockTime: below this value it is interpreted as block number, otherwise as UNIX timestamp.\n static const int LOCKTIME_THRESHOLD = 500000000; // Tue Nov  5 00:53:20 1985 UTC\n-#ifdef USE_UPNP\n+#if USE_UPNP\n static const int fHaveUPnP = true;\n #else\n static const int fHaveUPnP = false;"
      },
      {
        "sha": "39fa2296642bd8134a0d883ba1fa63a840cb6f5f",
        "filename": "src/makefile.linux-mingw",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a897ead46f8cb366f7b9ab82727127c525872477/src/makefile.linux-mingw",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a897ead46f8cb366f7b9ab82727127c525872477/src/makefile.linux-mingw",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.linux-mingw?ref=a897ead46f8cb366f7b9ab82727127c525872477",
        "patch": "@@ -51,7 +51,7 @@ HEADERS = \\\n     util.h \\\n     wallet.h\n \n-ifdef USE_UPNP\n+ifneq (USE_UPNP,0)\n \tLIBPATHS += -L\"$(DEPSDIR)/miniupnpc\"\n \tLIBS += -l miniupnpc -l iphlpapi\n \tDEFS += -DSTATICLIB -DUSE_UPNP=$(USE_UPNP)"
      },
      {
        "sha": "6b138e6d1e61678135e02a13d6993bf703fb9741",
        "filename": "src/makefile.mingw",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a897ead46f8cb366f7b9ab82727127c525872477/src/makefile.mingw",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a897ead46f8cb366f7b9ab82727127c525872477/src/makefile.mingw",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.mingw?ref=a897ead46f8cb366f7b9ab82727127c525872477",
        "patch": "@@ -48,7 +48,7 @@ HEADERS = \\\n     util.h \\\n     wallet.h\n \n-ifdef USE_UPNP\n+ifneq (USE_UPNP,0)\n  INCLUDEPATHS += -I\"C:\\miniupnpc-1.6-mgw\"\n  LIBPATHS += -L\"C:\\miniupnpc-1.6-mgw\"\n  LIBS += -l miniupnpc -l iphlpapi"
      },
      {
        "sha": "91f032ff5a139c7cdb8bc35439fd4d1218f31c37",
        "filename": "src/makefile.osx",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a897ead46f8cb366f7b9ab82727127c525872477/src/makefile.osx",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a897ead46f8cb366f7b9ab82727127c525872477/src/makefile.osx",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.osx?ref=a897ead46f8cb366f7b9ab82727127c525872477",
        "patch": "@@ -68,7 +68,7 @@ OBJS= \\\n     cryptopp/obj/sha.o \\\n     cryptopp/obj/cpu.o\n \n-ifdef USE_UPNP\n+ifneq (USE_UPNP,0)\n \tLIBS += $(DEPSDIR)/lib/libminiupnpc.a\n \tDEFS += -DUSE_UPNP=$(USE_UPNP)\n endif"
      },
      {
        "sha": "fd14040868d31d00f745eef5a6b1b0fbbcdf456c",
        "filename": "src/makefile.unix",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a897ead46f8cb366f7b9ab82727127c525872477/src/makefile.unix",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a897ead46f8cb366f7b9ab82727127c525872477/src/makefile.unix",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.unix?ref=a897ead46f8cb366f7b9ab82727127c525872477",
        "patch": "@@ -19,7 +19,7 @@ LIBS= \\\n    -l ssl \\\n    -l crypto\n \n-ifdef USE_UPNP\n+ifneq (USE_UPNP,0)\n \tLIBS += -l miniupnpc\n \tDEFS += -DUSE_UPNP=$(USE_UPNP)\n endif"
      },
      {
        "sha": "42dada5b75a8a1c5afb19d3ba222f4c9c5ee01dd",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a897ead46f8cb366f7b9ab82727127c525872477/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a897ead46f8cb366f7b9ab82727127c525872477/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=a897ead46f8cb366f7b9ab82727127c525872477",
        "patch": "@@ -14,7 +14,7 @@\n #include <string.h>\n #endif\n \n-#ifdef USE_UPNP\n+#if USE_UPNP\n #include <miniupnpc/miniwget.h>\n #include <miniupnpc/miniupnpc.h>\n #include <miniupnpc/upnpcommands.h>\n@@ -29,7 +29,7 @@ static const int MAX_OUTBOUND_CONNECTIONS = 8;\n void ThreadMessageHandler2(void* parg);\n void ThreadSocketHandler2(void* parg);\n void ThreadOpenConnections2(void* parg);\n-#ifdef USE_UPNP\n+#if USE_UPNP\n void ThreadMapPort2(void* parg);\n #endif\n bool OpenNetworkConnection(const CAddress& addrConnect);\n@@ -1101,7 +1101,7 @@ void ThreadSocketHandler2(void* parg)\n \n \n \n-#ifdef USE_UPNP\n+#if USE_UPNP\n void ThreadMapPort(void* parg)\n {\n     IMPLEMENT_RANDOMIZE_STACK(ThreadMapPort(parg));\n@@ -1786,7 +1786,7 @@ bool StopNode()\n     nTransactionsUpdated++;\n     int64 nStart = GetTime();\n     while (vnThreadsRunning[0] > 0 || vnThreadsRunning[2] > 0 || vnThreadsRunning[3] > 0 || vnThreadsRunning[4] > 0\n-#ifdef USE_UPNP\n+#if USE_UPNP\n         || vnThreadsRunning[5] > 0\n #endif\n     )"
      }
    ]
  }
]