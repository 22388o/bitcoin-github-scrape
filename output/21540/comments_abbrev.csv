S3RK,2021-03-29 06:36:43,Code review ACK 966089a,https://github.com/bitcoin/bitcoin/pull/21540#issuecomment-809111171,809111171,
Empact,2021-03-30 05:03:26,"Concept ACK - the resulting code is significantly more readable IMO and this makes the consistent treatment obvious and enforced.\n\nLogically, the underlying values in `statements` are not associated as in a map (i.e. the indexing linking the values is not relevant - one is not logically a key and the other a value). A `std::array<std::tuple>` would seem to be more logically consistent.",https://github.com/bitcoin/bitcoin/pull/21540#issuecomment-809910431,809910431,
theStack,2021-03-30 11:50:08,"Thanks for reviewing!\n\n> Logically, the underlying values in `statements` are not associated as in a map (i.e. the indexing linking the values is not relevant - one is not logically a key and the other a value). A `std::array<std::tuple>` would seem to be more logically consistent.\n\nAgreed, using std::map here is like using a sledgehammer to crack a nut ðŸ˜„ I changed the code to use `std::ar",https://github.com/bitcoin/bitcoin/pull/21540#issuecomment-810157083,810157083,
S3RK,2021-03-31 07:04:31,reACK 0df8012. The only change is replacing map with array,https://github.com/bitcoin/bitcoin/pull/21540#issuecomment-810827698,810827698,
theStack,2021-04-02 13:59:15,"Took in the suggestions by MarcoFalke (https://github.com/bitcoin/bitcoin/pull/21540#pullrequestreview-626939176): applied `clang-format`, changed table type from `std::array` to `std::vector` to avoid typing the size and add another commit to also deduplicate the deletion of statements (`sqlite3_finalize(...)`). Thanks for reviewing!",https://github.com/bitcoin/bitcoin/pull/21540#issuecomment-812542724,812542724,
achow101,2021-04-02 15:59:08,ACK ea19cc844e780b29825b26aee321204be981a3ae,https://github.com/bitcoin/bitcoin/pull/21540#issuecomment-812591067,812591067,
fanquake,2021-04-07 06:17:14,It was while testing this I noticed #21628. However the issue is also present in master.,https://github.com/bitcoin/bitcoin/pull/21540#issuecomment-814634566,814634566,
MarcoFalke,2021-04-02 11:45:21,"```suggestion\n        { &m_cursor_stmt,    ""SELECT key, value FROM main"" },\n```\n\nalso could `clang-format`",https://github.com/bitcoin/bitcoin/pull/21540#discussion_r606201102,606201102,src/wallet/sqlite.cpp
MarcoFalke,2021-04-02 11:45:52,"```suggestion\n    const std::vector<std::pair<sqlite3_stmt**, const char*>> statements {{\n```\n\nYou can use vector to avoid having to type the size",https://github.com/bitcoin/bitcoin/pull/21540#discussion_r606201301,606201301,src/wallet/sqlite.cpp
theStack,2021-04-02 13:58:45,"Thanks, done.",https://github.com/bitcoin/bitcoin/pull/21540#discussion_r606249609,606249609,src/wallet/sqlite.cpp
theStack,2021-04-02 13:58:52,Done.,https://github.com/bitcoin/bitcoin/pull/21540#discussion_r606249658,606249658,src/wallet/sqlite.cpp
