[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299106814",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#issuecomment-299106814",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10238",
    "id": 299106814,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTEwNjgxNA==",
    "user": {
      "login": "paveljanik",
      "id": 6848764,
      "node_id": "MDQ6VXNlcjY4NDg3NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6848764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paveljanik",
      "html_url": "https://github.com/paveljanik",
      "followers_url": "https://api.github.com/users/paveljanik/followers",
      "following_url": "https://api.github.com/users/paveljanik/following{/other_user}",
      "gists_url": "https://api.github.com/users/paveljanik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paveljanik/subscriptions",
      "organizations_url": "https://api.github.com/users/paveljanik/orgs",
      "repos_url": "https://api.github.com/users/paveljanik/repos",
      "events_url": "https://api.github.com/users/paveljanik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paveljanik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-04T06:35:29Z",
    "updated_at": "2017-05-04T06:35:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebase needed.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299106814/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299173989",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#issuecomment-299173989",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10238",
    "id": 299173989,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTE3Mzk4OQ==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-04T12:42:58Z",
    "updated_at": "2017-05-04T12:42:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299173989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/317817700",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#issuecomment-317817700",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10238",
    "id": 317817700,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzgxNzcwMA==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-25T17:55:07Z",
    "updated_at": "2017-07-25T18:27:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "In #10882 it seems like looking up keypool index using key id is more useful than looking up key id using key index, so I'm not sure if there is a direct use for this PR and maybe it should be reconsidered.\r\n\r\nIf the goal is to avoid reading all the unused keys from disk each time an IsMine transaction is encountered, I think there are three ways it could be done:\r\n\r\n1. Easiest way is probably just to just cache the result of `GetAllReserveKeys` during the rescan so it doesn't get called multiple times in the same scan.\r\n2. Another way could be update this PR so GetAllReserveKeys() could work from memory without touching the database. This optimization is not exclusive with (1) above and both could be done together.\r\n3. Another way could be to update this PR to store a bidirectional mapping from key id <-> key index instead of just forward mapping so GetAllReserveKeys() wouldn't have to do any work and could just return a reference to the reverse map. This could be done with boost multindex or just two plain maps.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/317817700/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334349951",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#issuecomment-334349951",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10238",
    "id": 334349951,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDM0OTk1MQ==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-05T03:37:27Z",
    "updated_at": "2017-10-05T03:37:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "No longer really useful, closing for now.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334349951/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334596258",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#issuecomment-334596258",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10238",
    "id": 334596258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDU5NjI1OA==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-05T21:23:30Z",
    "updated_at": "2017-10-05T21:23:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmm, I actually think this was a really nice change, though I guess it hits at the broader specifically-define-what-we-cache-from-db issue that has persisted for some time.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334596258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114159298",
    "pull_request_review_id": 35603280,
    "id": 114159298,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDE1OTI5OA==",
    "diff_hunk": "@@ -700,7 +700,16 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n \n     bool fFileBacked;\n \n-    std::set<int64_t> setKeyPool;",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 4,
    "commit_id": "af1c4ec53af138afdd841a1893a8fb84e5ccbf21",
    "original_commit_id": "a4ed0d712bf023d7b5d00c25b19789281517ac69",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think it would be more straightforward to replace setKeyPool with a `std::map<int64_t, CKeyID>` instead of taking this approach which basically emulates a map using set entries with a custom `<` operator.",
    "created_at": "2017-05-01T17:24:52Z",
    "updated_at": "2017-05-04T13:12:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114159298",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114159298"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114159298"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114159298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 699,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114161735",
    "pull_request_review_id": 35603280,
    "id": 114161735,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDE2MTczNQ==",
    "diff_hunk": "@@ -700,7 +700,16 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n \n     bool fFileBacked;\n \n-    std::set<int64_t> setKeyPool;\n+    // class for holding a keypool-key-entry in memory\n+    class KeypoolCache {\n+    public:\n+        int64_t nIndex;\n+        CKeyID keyId;",
    "path": "src/wallet/wallet.h",
    "position": 10,
    "original_position": 9,
    "commit_id": "af1c4ec53af138afdd841a1893a8fb84e5ccbf21",
    "original_commit_id": "a4ed0d712bf023d7b5d00c25b19789281517ac69",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Note: `keyId` member is not actually used anywhere in this PR. (Fine, just pointing out to help review).",
    "created_at": "2017-05-01T17:37:29Z",
    "updated_at": "2017-05-04T13:12:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114161735",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114161735"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114161735"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114161735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 704,
    "original_line": 704,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114761278",
    "pull_request_review_id": 36254522,
    "id": 114761278,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDc2MTI3OA==",
    "diff_hunk": "@@ -700,7 +700,16 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n \n     bool fFileBacked;\n \n-    std::set<int64_t> setKeyPool;\n+    // class for holding a keypool-key-entry in memory\n+    class KeypoolCache {\n+    public:\n+        int64_t nIndex;\n+        CKeyID keyId;",
    "path": "src/wallet/wallet.h",
    "position": 10,
    "original_position": 9,
    "commit_id": "af1c4ec53af138afdd841a1893a8fb84e5ccbf21",
    "original_commit_id": "a4ed0d712bf023d7b5d00c25b19789281517ac69",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes. This is true, though, the keyId is relatively important for future performance improvements. We could add it later,.. but I guess it doesn't hurt to already have it there in this PR.",
    "created_at": "2017-05-04T12:35:37Z",
    "updated_at": "2017-05-04T13:12:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114761278",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114761278"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114761278"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114761278/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 704,
    "original_line": 704,
    "side": "RIGHT",
    "in_reply_to_id": 114161735
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114762459",
    "pull_request_review_id": 36255941,
    "id": 114762459,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDc2MjQ1OQ==",
    "diff_hunk": "@@ -700,7 +700,16 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n \n     bool fFileBacked;\n \n-    std::set<int64_t> setKeyPool;",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 4,
    "commit_id": "af1c4ec53af138afdd841a1893a8fb84e5ccbf21",
    "original_commit_id": "a4ed0d712bf023d7b5d00c25b19789281517ac69",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes. But IMO holding a flexible data-structure (`KeypoolCache`) allows us to be more flexible in future. Though no strong opinion.",
    "created_at": "2017-05-04T12:42:18Z",
    "updated_at": "2017-05-04T13:12:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114762459",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114762459"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114762459"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114762459/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 699,
    "side": "LEFT",
    "in_reply_to_id": 114159298
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114767005",
    "pull_request_review_id": 36261144,
    "id": 114767005,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDc2NzAwNQ==",
    "diff_hunk": "@@ -696,7 +696,18 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n     /* HD derive new child key (on internal or external chain) */\n     void DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret, bool internal = false);\n \n-    std::set<int64_t> setKeyPool;\n+    bool fFileBacked;",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 5,
    "commit_id": "af1c4ec53af138afdd841a1893a8fb84e5ccbf21",
    "original_commit_id": "2e614359d58345e33518d2fd48d7422fd9796e4d",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "why is it added ? where is it used ?",
    "created_at": "2017-05-04T13:04:20Z",
    "updated_at": "2017-05-04T13:12:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114767005",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114767005"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114767005"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114767005/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 699,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114767279",
    "pull_request_review_id": 36261439,
    "id": 114767279,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDc2NzI3OQ==",
    "diff_hunk": "@@ -3324,10 +3325,10 @@ void CWallet::GetAllReserveKeys(std::set<CKeyID>& setAddress) const\n     CWalletDB walletdb(*dbw);\n \n     LOCK2(cs_main, cs_wallet);\n-    BOOST_FOREACH(const int64_t& id, setKeyPool)\n+    for (const KeypoolCache &poolPair : setKeyPool)\n     {\n         CKeyPool keypool;\n-        if (!walletdb.ReadPool(id, keypool))\n+        if (!walletdb.ReadPool(poolPair.nIndex, keypool))",
    "path": "src/wallet/wallet.cpp",
    "position": 119,
    "original_position": 119,
    "commit_id": "af1c4ec53af138afdd841a1893a8fb84e5ccbf21",
    "original_commit_id": "2e614359d58345e33518d2fd48d7422fd9796e4d",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I am wondering if it is not better (minimum diff) to just change `ReadPool` signature to take KeyPoolCache instead of index.",
    "created_at": "2017-05-04T13:05:40Z",
    "updated_at": "2017-05-04T13:12:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114767279",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114767279"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114767279"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114767279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3331,
    "original_line": 3331,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114767473",
    "pull_request_review_id": 36261645,
    "id": 114767473,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDc2NzQ3Mw==",
    "diff_hunk": "@@ -957,7 +968,7 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n     bool TopUpKeyPool(unsigned int kpSize = 0);\n     void ReserveKeyFromKeyPool(int64_t& nIndex, CKeyPool& keypool, bool internal);\n     void KeepKey(int64_t nIndex);\n-    void ReturnKey(int64_t nIndex);\n+    void ReturnKey(int64_t nIndex, const CKeyID &keyid);",
    "path": "src/wallet/wallet.h",
    "position": 39,
    "original_position": 40,
    "commit_id": "af1c4ec53af138afdd841a1893a8fb84e5ccbf21",
    "original_commit_id": "2e614359d58345e33518d2fd48d7422fd9796e4d",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "why not just take `KeypoolCache` ?",
    "created_at": "2017-05-04T13:06:35Z",
    "updated_at": "2017-05-04T13:12:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114767473",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114767473"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114767473"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114767473/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 970,
    "original_line": 970,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114767978",
    "pull_request_review_id": 36262230,
    "id": 114767978,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDc2Nzk3OA==",
    "diff_hunk": "@@ -696,7 +696,18 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n     /* HD derive new child key (on internal or external chain) */\n     void DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret, bool internal = false);\n \n-    std::set<int64_t> setKeyPool;\n+    bool fFileBacked;",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 5,
    "commit_id": "af1c4ec53af138afdd841a1893a8fb84e5ccbf21",
    "original_commit_id": "2e614359d58345e33518d2fd48d7422fd9796e4d",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oh. That's a rebase issue. `fFileBackand` was removed in the meantime, Will remove it here.",
    "created_at": "2017-05-04T13:09:07Z",
    "updated_at": "2017-05-04T13:12:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114767978",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114767978"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114767978"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114767978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 699,
    "side": "RIGHT",
    "in_reply_to_id": 114767005
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114768072",
    "pull_request_review_id": 36262340,
    "id": 114768072,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDc2ODA3Mg==",
    "diff_hunk": "@@ -957,7 +968,7 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n     bool TopUpKeyPool(unsigned int kpSize = 0);\n     void ReserveKeyFromKeyPool(int64_t& nIndex, CKeyPool& keypool, bool internal);\n     void KeepKey(int64_t nIndex);\n-    void ReturnKey(int64_t nIndex);\n+    void ReturnKey(int64_t nIndex, const CKeyID &keyid);",
    "path": "src/wallet/wallet.h",
    "position": 39,
    "original_position": 40,
    "commit_id": "af1c4ec53af138afdd841a1893a8fb84e5ccbf21",
    "original_commit_id": "2e614359d58345e33518d2fd48d7422fd9796e4d",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hmm.. then CReserveKey::Return key would have to create a `KeypoolCache()`?",
    "created_at": "2017-05-04T13:09:39Z",
    "updated_at": "2017-05-04T13:12:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114768072",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114768072"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114768072"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114768072/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 970,
    "original_line": 970,
    "side": "RIGHT",
    "in_reply_to_id": 114767473
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114768747",
    "pull_request_review_id": 36263155,
    "id": 114768747,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDc2ODc0Nw==",
    "diff_hunk": "@@ -696,7 +696,18 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n     /* HD derive new child key (on internal or external chain) */\n     void DeriveNewChildKey(CKeyMetadata& metadata, CKey& secret, bool internal = false);\n \n-    std::set<int64_t> setKeyPool;\n+    bool fFileBacked;",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 5,
    "commit_id": "af1c4ec53af138afdd841a1893a8fb84e5ccbf21",
    "original_commit_id": "2e614359d58345e33518d2fd48d7422fd9796e4d",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Removed.",
    "created_at": "2017-05-04T13:13:06Z",
    "updated_at": "2017-05-04T13:13:06Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114768747",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114768747"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114768747"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114768747/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 699,
    "side": "RIGHT",
    "in_reply_to_id": 114767005
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114770582",
    "pull_request_review_id": 36265323,
    "id": 114770582,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDc3MDU4Mg==",
    "diff_hunk": "@@ -957,7 +968,7 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n     bool TopUpKeyPool(unsigned int kpSize = 0);\n     void ReserveKeyFromKeyPool(int64_t& nIndex, CKeyPool& keypool, bool internal);\n     void KeepKey(int64_t nIndex);\n-    void ReturnKey(int64_t nIndex);\n+    void ReturnKey(int64_t nIndex, const CKeyID &keyid);",
    "path": "src/wallet/wallet.h",
    "position": 39,
    "original_position": 40,
    "commit_id": "af1c4ec53af138afdd841a1893a8fb84e5ccbf21",
    "original_commit_id": "2e614359d58345e33518d2fd48d7422fd9796e4d",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "why ? I mean KeypoolCache is (int, KeyId) anyway. It is just strange to pass them as two distinct parameters here.\r\n",
    "created_at": "2017-05-04T13:21:30Z",
    "updated_at": "2017-05-04T13:21:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114770582",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114770582"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114770582"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114770582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 970,
    "original_line": 970,
    "side": "RIGHT",
    "in_reply_to_id": 114767473
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114867245",
    "pull_request_review_id": 36364539,
    "id": 114867245,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDg2NzI0NQ==",
    "diff_hunk": "@@ -700,7 +700,16 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n \n     bool fFileBacked;\n \n-    std::set<int64_t> setKeyPool;",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 4,
    "commit_id": "af1c4ec53af138afdd841a1893a8fb84e5ccbf21",
    "original_commit_id": "a4ed0d712bf023d7b5d00c25b19789281517ac69",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> holding a flexible data-structure (KeypoolCache) allows us to be more flexible in future\r\n\r\nI don't have any problem with keeping `KeypoolCache` if it will be useful later.\r\n\r\nWhat seems bad to me is using `std::set` with a custom comparison function to emulate a map. Would suggest removing `nIndex` and `operator<` from KeypoolCache and using `std::map<int64_t, KeypoolCache>`",
    "created_at": "2017-05-04T19:28:01Z",
    "updated_at": "2017-05-04T19:28:01Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114867245",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114867245"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114867245"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114867245/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 699,
    "side": "LEFT",
    "in_reply_to_id": 114159298
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114868956",
    "pull_request_review_id": 36366523,
    "id": 114868956,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDg2ODk1Ng==",
    "diff_hunk": "@@ -700,7 +700,16 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n \n     bool fFileBacked;\n \n-    std::set<int64_t> setKeyPool;",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 4,
    "commit_id": "af1c4ec53af138afdd841a1893a8fb84e5ccbf21",
    "original_commit_id": "a4ed0d712bf023d7b5d00c25b19789281517ac69",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fair point. The question is should we do it in this PR or later. But since we significant change the  set's content, It should be changed now (which I will do soon).",
    "created_at": "2017-05-04T19:37:12Z",
    "updated_at": "2017-05-04T19:37:12Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114868956",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114868956"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10238#discussion_r114868956"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10238"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114868956/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 699,
    "side": "LEFT",
    "in_reply_to_id": 114159298
  }
]