[
  {
    "sha": "f04f24503d7ea9b943d0a940465618b93ff4577d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmMDRmMjQ1MDNkN2VhOWI5NDNkMGE5NDA0NjU2MThiOTNmZjQ1Nzdk",
    "commit": {
      "author": {
        "name": "Giel van Schijndel",
        "email": "me@mortis.eu",
        "date": "2012-06-24T12:02:14Z"
      },
      "committer": {
        "name": "Giel van Schijndel",
        "email": "me@mortis.eu",
        "date": "2012-07-16T23:48:03Z"
      },
      "message": "Use linker-arguments only when linking\n\nPassing linker-arguments when only compiling will cause warnings with\nClang. This change fixes those.\n\nSigned-off-by: Giel van Schijndel <me@mortis.eu>",
      "tree": {
        "sha": "f417cbeba93337438bac1fdab35eed3dfb9aabf5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f417cbeba93337438bac1fdab35eed3dfb9aabf5"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f04f24503d7ea9b943d0a940465618b93ff4577d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f04f24503d7ea9b943d0a940465618b93ff4577d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f04f24503d7ea9b943d0a940465618b93ff4577d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f04f24503d7ea9b943d0a940465618b93ff4577d/comments",
    "author": {
      "login": "muggenhor",
      "id": 484066,
      "node_id": "MDQ6VXNlcjQ4NDA2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/484066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/muggenhor",
      "html_url": "https://github.com/muggenhor",
      "followers_url": "https://api.github.com/users/muggenhor/followers",
      "following_url": "https://api.github.com/users/muggenhor/following{/other_user}",
      "gists_url": "https://api.github.com/users/muggenhor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/muggenhor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/muggenhor/subscriptions",
      "organizations_url": "https://api.github.com/users/muggenhor/orgs",
      "repos_url": "https://api.github.com/users/muggenhor/repos",
      "events_url": "https://api.github.com/users/muggenhor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/muggenhor/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "muggenhor",
      "id": 484066,
      "node_id": "MDQ6VXNlcjQ4NDA2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/484066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/muggenhor",
      "html_url": "https://github.com/muggenhor",
      "followers_url": "https://api.github.com/users/muggenhor/followers",
      "following_url": "https://api.github.com/users/muggenhor/following{/other_user}",
      "gists_url": "https://api.github.com/users/muggenhor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/muggenhor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/muggenhor/subscriptions",
      "organizations_url": "https://api.github.com/users/muggenhor/orgs",
      "repos_url": "https://api.github.com/users/muggenhor/repos",
      "events_url": "https://api.github.com/users/muggenhor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/muggenhor/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1c009d622ded6dd254d6be5161b4df875d492d12",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1c009d622ded6dd254d6be5161b4df875d492d12",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1c009d622ded6dd254d6be5161b4df875d492d12"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 9,
      "deletions": 4
    },
    "files": [
      {
        "sha": "a81300329e47499cb0859fce89298befad7947c0",
        "filename": "src/makefile.unix",
        "status": "modified",
        "additions": 9,
        "deletions": 4,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f04f24503d7ea9b943d0a940465618b93ff4577d/src/makefile.unix",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f04f24503d7ea9b943d0a940465618b93ff4577d/src/makefile.unix",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.unix?ref=f04f24503d7ea9b943d0a940465618b93ff4577d",
        "patch": "@@ -66,13 +66,14 @@ LIBS+= \\\n     # Make some important things such as the global offset table read only as soon as\n     # the dynamic linker is finished building it. This will prevent overwriting of addresses\n     # which would later be jumped to.\n-    HARDENING+=-Wl,-z,relro -Wl,-z,now\n+    LDHARDENING+=-Wl,-z,relro -Wl,-z,now\n \n     # Build position independent code to take advantage of Address Space Layout Randomization\n     # offered by some kernels.\n     # see doc/build-unix.txt for more information.\n     ifdef PIE\n-        HARDENING+=-fPIE -pie\n+        HARDENING+=-fPIE\n+        LDHARDENING+=-pie\n     endif\n \n     # -D_FORTIFY_SOURCE=2 does some checking for potentially exploitable code patterns in\n@@ -88,6 +89,10 @@ DEBUGFLAGS=-g\n xCXXFLAGS=-O2 -pthread -Wall -Wextra -Wformat -Wformat-security -Wno-unused-parameter \\\n     $(DEBUGFLAGS) $(DEFS) $(HARDENING) $(CXXFLAGS)\n \n+# LDFLAGS can be specified on the make command line, so we use xLDFLAGS that only\n+# adds some defaults in front. Unfortunately, LDFLAGS=... $(LDFLAGS) does not work.\n+xLDFLAGS=$(LDHARDENING) $(LDFLAGS)\n+\n OBJS= \\\n     obj/version.o \\\n     obj/checkpoints.o \\\n@@ -133,7 +138,7 @@ obj/%.o: %.cpp\n \t  rm -f $(@:%.o=%.d)\n \n bitcoind: $(OBJS:obj/%=obj/%)\n-\t$(CXX) $(xCXXFLAGS) -o $@ $^ $(LDFLAGS) $(LIBS)\n+\t$(CXX) $(xCXXFLAGS) -o $@ $^ $(xLDFLAGS) $(LIBS)\n \n TESTOBJS := $(patsubst test/%.cpp,obj-test/%.o,$(wildcard test/*.cpp))\n \n@@ -145,7 +150,7 @@ obj-test/%.o: test/%.cpp\n \t  rm -f $(@:%.o=%.d)\n \n test_bitcoin: $(TESTOBJS) $(filter-out obj/init.o,$(OBJS:obj/%=obj/%))\n-\t$(CXX) $(xCXXFLAGS) -o $@ $(LIBPATHS) $^ -Wl,-B$(LMODE) -lboost_unit_test_framework $(LDFLAGS) $(LIBS)\n+\t$(CXX) $(xCXXFLAGS) -o $@ $(LIBPATHS) $^ -Wl,-B$(LMODE) -lboost_unit_test_framework $(xLDFLAGS) $(LIBS)\n \n clean:\n \t-rm -f bitcoind test_bitcoin"
      }
    ]
  }
]