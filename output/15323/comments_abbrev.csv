Empact,2019-02-01T22:46:09Z,"The test failure, for reference:\n```\nstdout:\n2019-02-01T20:25:18.578000Z TestFramework (INFO): Initializing test directory /tmp/test_runner_‚Çø_üèÉ_20190201_201908/mempool_persist_74\n2019-02-01T20:25:27.680000Z TestFramework (ERROR): Assertion failed\nTraceback (most recent call last):\n  File ""/home/travis/build/Empact/bitcoin/build/bitcoin-x86_64-unknown-linux-gnu/test/functional/test_fram",https://github.com/bitcoin/bitcoin/pull/15323#issuecomment-459893978,459893978,
MarcoFalke,2019-02-01T23:15:46Z,Ref https://github.com/bitcoin/bitcoin/issues/12863#issuecomment-381031762,https://github.com/bitcoin/bitcoin/pull/15323#issuecomment-459900574,459900574,
DrahtBot,2019-02-25T16:24:07Z,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#10443](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/10443.html) (Add fee_est tool for debugging fee estimati",https://github.com/bitcoin/bitcoin/pull/15323#issuecomment-467076603,467076603,
promag,2019-02-25T16:33:25Z,`/rest/mempool/info.json` is also affected.,https://github.com/bitcoin/bitcoin/pull/15323#issuecomment-467080210,467080210,
Empact,2019-02-26T09:40:46Z,"Revised and cleaned up:\n* Updated `/rest/mempool/info.json` to include the attribute (thanks @promag)\n* Split the setting of `g_is_mempool_loaded` strictly between the `persistmempool` and non-persist case - note it's only relevant on shutdown if `persistmempool` is set: https://github.com/bitcoin/bitcoin/blob/8f470ecc534d49cb5f7045ea9564481acd3e2b4b/src/init.cpp#L238-L240",https://github.com/bitcoin/bitcoin/pull/15323#issuecomment-467368470,467368470,
Empact,2019-03-04T00:09:19Z,Updated comments and documentation as per John and Marco's suggestions https://github.com/bitcoin/bitcoin/pull/15323#discussion_r260384720,https://github.com/bitcoin/bitcoin/pull/15323#issuecomment-469080717,469080717,
Empact,2019-03-07T15:15:36Z,"Rebase for #15473, and add another commit moving `g_is_mempool_loaded` into `CTxMemPool`, given that it is mempool-specific.",https://github.com/bitcoin/bitcoin/pull/15323#issuecomment-470565535,470565535,
jnewbery,2019-03-21T17:06:58Z,"ACK the first and third commits (_rpc: Expose g_is_mempool_loaded via getmempoolinfo and /rest/mempool/info.json_ and _Move g_is_mempool_loaded into CTxMemPool::m_is_loaded_). I like the tidy up in _Move g_is_mempool_loaded into CTxMemPool::m_is_loaded_ to remove the `g_is_mempool_loaded` global.\n\nI don't see the need for the second commit (_rpc: Set g_is_mempool_loaded early if the mempool is",https://github.com/bitcoin/bitcoin/pull/15323#issuecomment-475319167,475319167,
MarcoFalke,2019-04-30T22:44:13Z,"utACK effe81f750\n\n<details><summary>Show signature and timestamp</summary>\n\nSignature:\n\n```\n-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA512\n\nutACK effe81f750\n-----BEGIN PGP SIGNATURE-----\n\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgQDgv/Vu+DeQYZkt0Au46dAPXOWF5uIfLHOGhOHbKB+YZ6zFNIrmw6VF5XrYDl\nIJqLlqX2WtDQd8gYcQ9dDvVSBktaJrk6Qm9laEX8qITMavz5VHK",https://github.com/bitcoin/bitcoin/pull/15323#issuecomment-488142086,488142086,
jnewbery,2019-04-30T23:50:22Z,"utACK effe81f7503d2ca3c88cfdea687f9f997f353e0d\n\n@Empact - apologies for not reACKing this earlier. Force-pushes don't trigger new notifications in github. Feel free to ping me or add a comment to the PR if you need a reACK",https://github.com/bitcoin/bitcoin/pull/15323#issuecomment-488155141,488155141,
MarcoFalke,2019-02-01T23:04:52Z,Should clarify that this means loaded *from disk* and if -persistmempool is on?,https://github.com/bitcoin/bitcoin/pull/15323#discussion_r253227590,253227590,src/rpc/blockchain.cpp
Empact,2019-02-02T00:11:41Z,"If `-persistmempool` is off, `g_is_mempool_loaded` is set at the end of `ThreadImport`, after block import. Ideas on how to articulate that? Perhaps we could set it earlier in that case `-persistmempool`?",https://github.com/bitcoin/bitcoin/pull/15323#discussion_r253238126,253238126,src/rpc/blockchain.cpp
Empact,2019-02-02T00:49:57Z,How about this: https://github.com/bitcoin/bitcoin/pull/15323/commits/ab48289be80bfbbbc378431e5383d1879ec9fff4,https://github.com/bitcoin/bitcoin/pull/15323#discussion_r253242781,253242781,src/rpc/blockchain.cpp
promag,2019-02-02T01:14:37Z,"nit, why `/initialized`?",https://github.com/bitcoin/bitcoin/pull/15323#discussion_r253245384,253245384,src/rpc/blockchain.cpp
Empact,2019-02-02T23:05:12Z,"Because it will also be true in cases where it has not been loaded from disk, but only ""initialized"". Maybe not worth mentioning.",https://github.com/bitcoin/bitcoin/pull/15323#discussion_r253281401,253281401,src/rpc/blockchain.cpp
laanwj,2019-02-12T14:45:13Z,"Would prefer something like\n`True if the mempool has been loaded from disk (if persistent)`",https://github.com/bitcoin/bitcoin/pull/15323#discussion_r255984402,255984402,src/rpc/blockchain.cpp
jnewbery,2019-02-26T16:55:07Z,"I think `True if the mempool has been loaded from disk (if persistent), or need not be` is much less clear than the more simple `True if the mempool is fully loaded.` The first raises more questions than it answers (""What is persistent? When need it not be?"")",https://github.com/bitcoin/bitcoin/pull/15323#discussion_r260384720,260384720,src/rpc/blockchain.cpp
MarcoFalke,2019-02-26T17:51:45Z,Maybe `s/persist/-persistmempool/g`?,https://github.com/bitcoin/bitcoin/pull/15323#discussion_r260409848,260409848,src/rpc/blockchain.cpp
MarcoFalke,2019-03-07T16:45:17Z,"Can remove the sleep, given the assert?",https://github.com/bitcoin/bitcoin/pull/15323#discussion_r263469569,263469569,test/functional/mempool_persist.py
