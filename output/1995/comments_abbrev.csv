laanwj,2012-11-10T11:41:35Z,"Need to look at this in detail, but I certainly applaud the effort of improving the locking situation. I dread having to debug deadlocks in the current source.\n\nI also took a look at this in the past (see #1801),  but I didn't have the patience at that time to unentangle the complex web of locks. Also the nested mutexes are indeed a bad idea.\n\nIf you go through the difficulties of making sense",https://github.com/bitcoin/bitcoin/pull/1995#issuecomment-10254336,10254336,
alexanderkjeldaas,2012-11-10T15:21:55Z,"On 10 November 2012 08:41, Wladimir J. van der Laan <\nnotifications@github.com> wrote:\n\n> Need to look at this in detail, but I certainly applaud the effort of\n> improving the locking situation. I dread having to debug deadlocks in the\n> current source.\n> \n> I also took a look at this in the past (see #1801https://github.com/bitcoin/bitcoin/issues/1801),\n> but I didn't have the patience at",https://github.com/bitcoin/bitcoin/pull/1995#issuecomment-10256133,10256133,
sipa,2012-11-10T17:38:21Z,"I'm certainly in favor of improving the locking system. I didn't know about clang's -Wthread-safety, but it certainly looks like a nice way to improvements. If we go that way, I'd like to see it completed as well, so that probably means rebasing from time to time, and following up. Unfortunately, refactoring patches are often not considered high priority, and they conflict easily with other patche",https://github.com/bitcoin/bitcoin/pull/1995#issuecomment-10257587,10257587,
laanwj,2012-11-10T20:58:22Z,"I agree that doing this in multiple phases is a good idea, and that adding the annotations would be a good first step, so that we can all get an idea of the kind of warnings that clang gives in this case.\n",https://github.com/bitcoin/bitcoin/pull/1995#issuecomment-10259812,10259812,
gavinandresen,2012-11-10T22:37:53Z,Thumbs up from me on improving the locking; ideas for how we can test to make sure we're not making things worse as we improve the code are welcome.\n,https://github.com/bitcoin/bitcoin/pull/1995#issuecomment-10260803,10260803,
