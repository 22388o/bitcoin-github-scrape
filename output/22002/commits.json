[
  {
    "sha": "fa9f711c3746ca3962f15224285a453744cd45b3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTlmNzExYzM3NDZjYTM5NjJmMTUyMjQyODVhNDUzNzQ0Y2Q0NWIz",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-05-21T08:52:46Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-05-21T08:53:09Z"
      },
      "message": "Fix crash when parsing command line with -noincludeconf=0",
      "tree": {
        "sha": "8faf1943a028f28dd20199570c32090db9e77eff",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8faf1943a028f28dd20199570c32090db9e77eff"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa9f711c3746ca3962f15224285a453744cd45b3",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUjFVwwAzh4QkC9f+ORzKgJDASs2ufr4875fNSrH5EMdD51lgiKxFQVwo2xXrrQW\nlb7AoFqPvrMu67eGD5zAnjfu+wMeFg1akJWslMNthKF5NjfPDuecnv4mNjELpik/\n76PTzZAfz/PsDRkWqDGewhkAA/DaNgixG6i2QxxPlf56qpYORUdPjVFxCH6Px4fM\nb+gyRQSgRUoq4zw3cdsBr8buWjNa5baP7XYVL1K9byhZNsNLXJwbyFsEfkmYuG0l\nIPKlo1qRaVI2FRtnTDATSVJZfYYLmuQoUUP3pYZ4dI7LIYsGhiCipo9ojS41MD3e\nofmk3RGNOyHTmf/liFoXPMtMcPwcpHK7QXQcJT6rdPMaKMrl0F5lP6trrEQ2K28L\nUEtYD0o1NkEShQ8fWz/dCgho1J9BF3/XxcghTLwBiezJGUZUVvPbl9VEKFAWh7ye\ndwuj/9oWdrGaZLd+tJhlJlNTL2+jjLx6PjBQZCONWEoVcx4yu5dsVEeZ+wYEBVD9\nxhGTCeLG\n=A9h1\n-----END PGP SIGNATURE-----",
        "payload": "tree 8faf1943a028f28dd20199570c32090db9e77eff\nparent eb4df9a628bdcdd1333c7fa4fb23c73df9642902\nauthor MarcoFalke <falke.marco@gmail.com> 1621587166 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1621587189 +0200\n\nFix crash when parsing command line with -noincludeconf=0\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa9f711c3746ca3962f15224285a453744cd45b3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa9f711c3746ca3962f15224285a453744cd45b3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa9f711c3746ca3962f15224285a453744cd45b3/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "eb4df9a628bdcdd1333c7fa4fb23c73df9642902",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eb4df9a628bdcdd1333c7fa4fb23c73df9642902",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/eb4df9a628bdcdd1333c7fa4fb23c73df9642902"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 9,
      "deletions": 2
    },
    "files": [
      {
        "sha": "00cbca1c36a9b03ee805dbccd97370645b8fdff1",
        "filename": "src/util/system.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9f711c3746ca3962f15224285a453744cd45b3/src/util/system.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9f711c3746ca3962f15224285a453744cd45b3/src/util/system.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/system.cpp?ref=fa9f711c3746ca3962f15224285a453744cd45b3",
        "patch": "@@ -369,7 +369,7 @@ bool ArgsManager::ParseParameters(int argc, const char* const argv[], std::strin\n     bool success = true;\n     if (auto* includes = util::FindKey(m_settings.command_line_options, \"includeconf\")) {\n         for (const auto& include : util::SettingsSpan(*includes)) {\n-            error += \"-includeconf cannot be used from commandline; -includeconf=\" + include.get_str() + \"\\n\";\n+            error += \"-includeconf cannot be used from commandline; -includeconf=\" + include.write() + \"\\n\";\n             success = false;\n         }\n     }"
      },
      {
        "sha": "061d90c446c58c9f716f4d30084fcad75d223c39",
        "filename": "test/functional/feature_includeconf.py",
        "status": "modified",
        "additions": 8,
        "deletions": 1,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9f711c3746ca3962f15224285a453744cd45b3/test/functional/feature_includeconf.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9f711c3746ca3962f15224285a453744cd45b3/test/functional/feature_includeconf.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_includeconf.py?ref=fa9f711c3746ca3962f15224285a453744cd45b3",
        "patch": "@@ -42,7 +42,14 @@ def run_test(self):\n \n         self.log.info(\"-includeconf cannot be used as command-line arg\")\n         self.stop_node(0)\n-        self.nodes[0].assert_start_raises_init_error(extra_args=[\"-includeconf=relative2.conf\"], expected_msg=\"Error: Error parsing command line arguments: -includeconf cannot be used from commandline; -includeconf=relative2.conf\")\n+        self.nodes[0].assert_start_raises_init_error(\n+            extra_args=['-noincludeconf=0'],\n+            expected_msg='Error: Error parsing command line arguments: -includeconf cannot be used from commandline; -includeconf=true',\n+        )\n+        self.nodes[0].assert_start_raises_init_error(\n+            extra_args=['-includeconf=relative2.conf'],\n+            expected_msg='Error: Error parsing command line arguments: -includeconf cannot be used from commandline; -includeconf=\"relative2.conf\"',\n+        )\n \n         self.log.info(\"-includeconf cannot be used recursively. subversion should end with 'main; relative)/'\")\n         with open(os.path.join(self.options.tmpdir, \"node0\", \"relative.conf\"), \"a\", encoding=\"utf8\") as f:"
      }
    ]
  },
  {
    "sha": "fad0867d6ab9430070aa7d60bf7617a6508e0586",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWQwODY3ZDZhYjk0MzAwNzBhYTdkNjBiZjc2MTdhNjUwOGUwNTg2",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-05-20T11:46:15Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-05-21T08:54:12Z"
      },
      "message": "Cleanup -includeconf error message\n\nRemove the erroneous trailing newline '\\n'. Also, print only the first\nvalue to remove needless redundancy in the error message.",
      "tree": {
        "sha": "127d0af3070e2ff91c1369450868c5dce712a6e1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/127d0af3070e2ff91c1369450868c5dce712a6e1"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fad0867d6ab9430070aa7d60bf7617a6508e0586",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgo5QwAspLqj1oIa4Gpl6HQ3mkEiUSBUiMO2h9NGUXEKh2zRu+QkvAl7a5QjYuB\nPHjL2erQgp6iYfw/OyJp8Cy+Lpcd5T3Wq0g07sRDcv/J7dB4R7PzmVTqbZpafHNW\nAYqoYeFNB98JhmhV/Fyi6WCebcoZ88RgabVvEEJdLGP9WefImbQKsPEPK+kqcxjE\namPAytmz2TnjSxiCXaKe9Pc3HMh5VQjN2F1Hvvfpo1QBaX/ebw39a8ge6UPpJFbu\nJTlFT22X49FxOOzqD1MMn/hxhjwsW6brbo+GzofVIAS4rvper6kR3Q77Ol/mFBpF\nTp/0bG6yxMc0BgIDs3Yb8aYdqr04zOTDzsQ6lkiakNoTl3w4ReKQURpOm2iKflYB\ndCoIXM9NZp9BTmXEbNPQcFR7QRWKW0SK/AR5/BW2fB/Zm/dvhZsaqkGZ+G/ZjJjt\nvHKDQIjSMstOvYPF7oflHI7DNHHWI2QISW8RgLhOVnog3epVdPp4BgptaEd7OGlR\ngmTc8EEL\n=veDJ\n-----END PGP SIGNATURE-----",
        "payload": "tree 127d0af3070e2ff91c1369450868c5dce712a6e1\nparent fa9f711c3746ca3962f15224285a453744cd45b3\nauthor MarcoFalke <falke.marco@gmail.com> 1621511175 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1621587252 +0200\n\nCleanup -includeconf error message\n\nRemove the erroneous trailing newline '\\n'. Also, print only the first\nvalue to remove needless redundancy in the error message.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fad0867d6ab9430070aa7d60bf7617a6508e0586",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fad0867d6ab9430070aa7d60bf7617a6508e0586",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fad0867d6ab9430070aa7d60bf7617a6508e0586/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa9f711c3746ca3962f15224285a453744cd45b3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa9f711c3746ca3962f15224285a453744cd45b3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa9f711c3746ca3962f15224285a453744cd45b3"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 5,
      "deletions": 7
    },
    "files": [
      {
        "sha": "76d63074e446074ed428bb5a601745aa434b3c8d",
        "filename": "src/util/system.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 6,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fad0867d6ab9430070aa7d60bf7617a6508e0586/src/util/system.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fad0867d6ab9430070aa7d60bf7617a6508e0586/src/util/system.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/system.cpp?ref=fad0867d6ab9430070aa7d60bf7617a6508e0586",
        "patch": "@@ -366,14 +366,12 @@ bool ArgsManager::ParseParameters(int argc, const char* const argv[], std::strin\n     }\n \n     // we do not allow -includeconf from command line\n-    bool success = true;\n     if (auto* includes = util::FindKey(m_settings.command_line_options, \"includeconf\")) {\n-        for (const auto& include : util::SettingsSpan(*includes)) {\n-            error += \"-includeconf cannot be used from commandline; -includeconf=\" + include.write() + \"\\n\";\n-            success = false;\n-        }\n+        const auto& include{*util::SettingsSpan(*includes).begin()}; // pick first value as example\n+        error = \"-includeconf cannot be used from commandline; -includeconf=\" + include.write();\n+        return false;\n     }\n-    return success;\n+    return true;\n }\n \n std::optional<unsigned int> ArgsManager::GetArgFlags(const std::string& name) const"
      },
      {
        "sha": "448182ededb8b3b1e32ab76eb1352ef547c048ec",
        "filename": "test/functional/feature_includeconf.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fad0867d6ab9430070aa7d60bf7617a6508e0586/test/functional/feature_includeconf.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fad0867d6ab9430070aa7d60bf7617a6508e0586/test/functional/feature_includeconf.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_includeconf.py?ref=fad0867d6ab9430070aa7d60bf7617a6508e0586",
        "patch": "@@ -47,7 +47,7 @@ def run_test(self):\n             expected_msg='Error: Error parsing command line arguments: -includeconf cannot be used from commandline; -includeconf=true',\n         )\n         self.nodes[0].assert_start_raises_init_error(\n-            extra_args=['-includeconf=relative2.conf'],\n+            extra_args=['-includeconf=relative2.conf', '-includeconf=no_warn.conf'],\n             expected_msg='Error: Error parsing command line arguments: -includeconf cannot be used from commandline; -includeconf=\"relative2.conf\"',\n         )\n "
      }
    ]
  }
]