[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324689264",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#issuecomment-324689264",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11121",
    "id": 324689264,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNDY4OTI2NA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-24T16:36:36Z",
    "updated_at": "2017-08-24T16:36:36Z",
    "author_association": "MEMBER",
    "body": "@MarcoFalke @kallewoof - thanks for the review. I think I've responded to all your comments.\r\n\r\nNew commits pushed, and rebased on master.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324689264/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324796691",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#issuecomment-324796691",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11121",
    "id": 324796691,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNDc5NjY5MQ==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-25T01:04:03Z",
    "updated_at": "2017-08-25T01:04:03Z",
    "author_association": "MEMBER",
    "body": "utACK df824a9",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324796691/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324953006",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#issuecomment-324953006",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11121",
    "id": 324953006,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNDk1MzAwNg==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-25T15:23:52Z",
    "updated_at": "2017-08-25T15:23:52Z",
    "author_association": "MEMBER",
    "body": "Thanks for the reivew @promag \r\n\r\n> Have you thought of not having any node started automatically? There are some tests that start with stop_node(0)\r\n\r\nTests that don't need their nodes to start should override the `setup_network()` or `setup_nodes()` methods. The vast majority of tests require nodes to be started at the top of the test, so that's the default.\r\n\r\n> setup_clean_chain would be a start_node argument.\r\n\r\n`setup_clean_chain` is a property of the pre-mined chain. I don't think we should change it to be a property of the individual node (if you disagree please open a separate PR to demonstrate the change).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324953006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326626127",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#issuecomment-326626127",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11121",
    "id": 326626127,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjYyNjEyNw==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-01T16:32:26Z",
    "updated_at": "2017-09-01T16:32:26Z",
    "author_association": "MEMBER",
    "body": "Thanks @MarcoFalke . Review comments addressed.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326626127/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326628970",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#issuecomment-326628970",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11121",
    "id": 326628970,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjYyODk3MA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-01T16:44:22Z",
    "updated_at": "2017-09-01T16:44:22Z",
    "author_association": "MEMBER",
    "body": "re-utACK 7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326628970/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134874934",
    "pull_request_review_id": 58220291,
    "id": 134874934,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNDg3NDkzNA==",
    "diff_hunk": "@@ -8,12 +8,6 @@\n from test_framework.util import *\n \n class TxnMallTest(BitcoinTestFramework):\n-\n-    def __init__(self):\n-        super().__init__()\n-        self.num_nodes = 4\n-        self.setup_clean_chain = False",
    "path": "test/functional/txn_clone.py",
    "position": null,
    "original_position": 8,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "06bde74f5ec8660975275f8594aee3a99064e327",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I prefer to explicitly set the network topology and initial state of the chain.",
    "created_at": "2017-08-23T21:24:18Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r134874934",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134874934"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r134874934"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134874934/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 15,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134875521",
    "pull_request_review_id": 58220291,
    "id": 134875521,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNDg3NTUyMQ==",
    "diff_hunk": "@@ -202,51 +175,91 @@ def main(self):\n             logging.shutdown()\n             sys.exit(TEST_EXIT_FAILED)\n \n-    # Public helper methods. These can be accessed by the subclass test scripts.\n+    # Methods to override in subclass test scripts.\n+    def set_test_params(self):\n+        \"\"\"Override this method to change default values for number of nodes, topology, etc\"\"\"\n+        pass",
    "path": "test/functional/test_framework/test_framework.py",
    "position": null,
    "original_position": 75,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "06bde74f5ec8660975275f8594aee3a99064e327",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "should raise `RuntimeError('Not implemented')` to enforce the docstring.",
    "created_at": "2017-08-23T21:26:51Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r134875521",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134875521"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r134875521"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134875521/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 181,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134948693",
    "pull_request_review_id": 58300687,
    "id": 134948693,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNDk0ODY5Mw==",
    "diff_hunk": "@@ -202,51 +175,91 @@ def main(self):\n             logging.shutdown()\n             sys.exit(TEST_EXIT_FAILED)\n \n-    # Public helper methods. These can be accessed by the subclass test scripts.\n+    # Methods to override in subclass test scripts.\n+    def set_test_params(self):\n+        \"\"\"Override this method to change default values for number of nodes, topology, etc\"\"\"\n+        pass\n \n-    def start_node(self, i, dirname, extra_args=None, rpchost=None, timewait=None, binary=None, stderr=None):\n-        \"\"\"Start a bitcoind and return RPC connection to it\"\"\"\n+    def add_options(self, parser):\n+        \"\"\"Override this method to add command-line options to the test\"\"\"\n+        pass\n \n-        if extra_args is None:\n-            extra_args = []\n-        if binary is None:\n-            binary = os.getenv(\"BITCOIND\", \"bitcoind\")\n-        node = TestNode(i, dirname, extra_args, rpchost, timewait, binary, stderr, self.mocktime, coverage_dir=self.options.coveragedir)\n-        node.start()\n-        node.wait_for_rpc_connection()\n+    def setup_chain(self):\n+        \"\"\"Override this method to customize blockchain setup\"\"\"\n+        self.log.info(\"Initializing test directory \" + self.options.tmpdir)\n+        if self.setup_clean_chain:\n+            self._initialize_chain_clean(self.options.tmpdir, self.num_nodes)\n+        else:\n+            self._initialize_chain(self.options.tmpdir, self.num_nodes, self.options.cachedir)\n \n-        if self.options.coveragedir is not None:\n-            coverage.write_all_rpc_commands(self.options.coveragedir, node.rpc)\n+    def setup_network(self):\n+        \"\"\"Override this method to customize test network topology\"\"\"\n+        self.setup_nodes()\n+\n+        # Connect the nodes as a \"chain\".  This allows us\n+        # to split the network between nodes 1 and 2 to get\n+        # two halves that can work on competing chains.\n+        for i in range(self.num_nodes - 1):\n+            connect_nodes_bi(self.nodes, i, i + 1)\n+        self.sync_all()\n+\n+    def setup_nodes(self):\n+        \"\"\"Override this method to customize test node setup\"\"\"\n+        extra_args = None\n+        if hasattr(self, \"extra_args\"):\n+            extra_args = self.extra_args\n+        self.add_nodes(self.num_nodes, self.options.tmpdir, extra_args)\n+        self.start_nodes()\n \n-        return node\n+    def run_test(self):\n+        \"\"\"Override this method to define test logic\"\"\"\n+        raise NotImplementedError\n \n-    def start_nodes(self, num_nodes, dirname, extra_args=None, rpchost=None, timewait=None, binary=None):\n-        \"\"\"Start multiple bitcoinds, return RPC connections to them\"\"\"\n+    # Public helper methods. These can be accessed by the subclass test scripts.\n+\n+    def add_nodes(self, num_nodes, dirname, extra_args=None, rpchost=None, timewait=None, binary=None):",
    "path": "test/functional/test_framework/test_framework.py",
    "position": null,
    "original_position": 128,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "06bde74f5ec8660975275f8594aee3a99064e327",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Since `self` knows about `self.options.tmpdir`, and all calls to `self.add_nodes` passes `self.options.tmpdir` as `dirname` argument, it seems clean to just give it a default `None` and to set to `self.options.tmpdir if None` in `add_nodes`.\r\nOr perhaps remove it entirely and always use `self.options.tmpdir`. Will it ever be anything else?",
    "created_at": "2017-08-24T07:53:13Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r134948693",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134948693"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r134948693"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134948693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 220,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134948830",
    "pull_request_review_id": 58300687,
    "id": 134948830,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNDk0ODgzMA==",
    "diff_hunk": "@@ -61,9 +61,13 @@ def __getattr__(self, *args, **kwargs):\n         assert self.rpc_connected and self.rpc is not None, \"Error: no RPC connection\"\n         return self.rpc.__getattr__(*args, **kwargs)\n \n-    def start(self):\n+    def start(self, extra_args, stderr=None):",
    "path": "test/functional/test_framework/test_node.py",
    "position": null,
    "original_position": 5,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "06bde74f5ec8660975275f8594aee3a99064e327",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`extra_args=None, stderr=None` maybe?",
    "created_at": "2017-08-24T07:53:55Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r134948830",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134948830"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r134948830"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134948830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 64,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134949165",
    "pull_request_review_id": 58300687,
    "id": 134949165,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNDk0OTE2NQ==",
    "diff_hunk": "@@ -8,12 +8,6 @@\n from test_framework.util import *\n \n class TxnMallTest(BitcoinTestFramework):\n-\n-    def __init__(self):\n-        super().__init__()\n-        self.num_nodes = 4\n-        self.setup_clean_chain = False",
    "path": "test/functional/txn_clone.py",
    "position": null,
    "original_position": 8,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "06bde74f5ec8660975275f8594aee3a99064e327",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Faint agreement. It's easy to forget and start up 4 nodes when you only really need 2, for example. Not seeing the number of nodes makes that even harder to remember.",
    "created_at": "2017-08-24T07:55:57Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r134949165",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134949165"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r134949165"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134949165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 15,
    "side": "LEFT",
    "in_reply_to_id": 134874934
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134950110",
    "pull_request_review_id": 58300687,
    "id": 134950110,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNDk1MDExMA==",
    "diff_hunk": "@@ -7,28 +7,27 @@\n from test_framework.util import *\n \n class WalletTest(BitcoinTestFramework):\n-\n-    def check_fee_amount(self, curr_balance, balance_with_fee, fee_per_byte, tx_size):\n-        \"\"\"Return curr_balance after asserting the fee was in range\"\"\"\n-        fee = balance_with_fee - curr_balance\n-        assert_fee_amount(fee, tx_size, fee_per_byte * 1000)\n-        return curr_balance\n-\n-    def __init__(self):\n-        super().__init__()\n+    def set_test_params(self):\n         self.setup_clean_chain = True\n-        self.num_nodes = 4\n         self.extra_args = [['-usehd={:d}'.format(i%2==0)] for i in range(4)]\n \n     def setup_network(self):\n-        self.nodes = self.start_nodes(3, self.options.tmpdir, self.extra_args[:3])\n+        self.add_nodes(4, self.options.tmpdir, self.extra_args)",
    "path": "test/functional/wallet.py",
    "position": null,
    "original_position": 20,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "06bde74f5ec8660975275f8594aee3a99064e327",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why does it not just `add_nodes(3, ..)` here and then add/start/connect the fourth node below? That would remove a lot of necessary `[self.nodes[0:3]]` stuff.",
    "created_at": "2017-08-24T08:00:35Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r134950110",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134950110"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r134950110"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134950110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 15,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066057",
    "pull_request_review_id": 58435807,
    "id": 135066057,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTA2NjA1Nw==",
    "diff_hunk": "@@ -8,12 +8,6 @@\n from test_framework.util import *\n \n class TxnMallTest(BitcoinTestFramework):\n-\n-    def __init__(self):\n-        super().__init__()\n-        self.num_nodes = 4\n-        self.setup_clean_chain = False",
    "path": "test/functional/txn_clone.py",
    "position": null,
    "original_position": 8,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "06bde74f5ec8660975275f8594aee3a99064e327",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sounds good. I've added a new commit that makes setting `self.num_nodes` mandatory. I haven't done the same for `self.setup_clean_chain`, since I think it makes more sense for that to have a default. If people feel strongly, it can be added in a future commit.",
    "created_at": "2017-08-24T16:32:21Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r135066057",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066057"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r135066057"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066057/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 15,
    "side": "LEFT",
    "in_reply_to_id": 134874934
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066087",
    "pull_request_review_id": 58435838,
    "id": 135066087,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTA2NjA4Nw==",
    "diff_hunk": "@@ -202,51 +175,91 @@ def main(self):\n             logging.shutdown()\n             sys.exit(TEST_EXIT_FAILED)\n \n-    # Public helper methods. These can be accessed by the subclass test scripts.\n+    # Methods to override in subclass test scripts.\n+    def set_test_params(self):\n+        \"\"\"Override this method to change default values for number of nodes, topology, etc\"\"\"\n+        pass",
    "path": "test/functional/test_framework/test_framework.py",
    "position": null,
    "original_position": 75,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "06bde74f5ec8660975275f8594aee3a99064e327",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes - done",
    "created_at": "2017-08-24T16:32:27Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r135066087",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066087"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r135066087"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066087/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 181,
    "side": "RIGHT",
    "in_reply_to_id": 134875521
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066194",
    "pull_request_review_id": 58435973,
    "id": 135066194,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTA2NjE5NA==",
    "diff_hunk": "@@ -202,51 +175,91 @@ def main(self):\n             logging.shutdown()\n             sys.exit(TEST_EXIT_FAILED)\n \n-    # Public helper methods. These can be accessed by the subclass test scripts.\n+    # Methods to override in subclass test scripts.\n+    def set_test_params(self):\n+        \"\"\"Override this method to change default values for number of nodes, topology, etc\"\"\"\n+        pass\n \n-    def start_node(self, i, dirname, extra_args=None, rpchost=None, timewait=None, binary=None, stderr=None):\n-        \"\"\"Start a bitcoind and return RPC connection to it\"\"\"\n+    def add_options(self, parser):\n+        \"\"\"Override this method to add command-line options to the test\"\"\"\n+        pass\n \n-        if extra_args is None:\n-            extra_args = []\n-        if binary is None:\n-            binary = os.getenv(\"BITCOIND\", \"bitcoind\")\n-        node = TestNode(i, dirname, extra_args, rpchost, timewait, binary, stderr, self.mocktime, coverage_dir=self.options.coveragedir)\n-        node.start()\n-        node.wait_for_rpc_connection()\n+    def setup_chain(self):\n+        \"\"\"Override this method to customize blockchain setup\"\"\"\n+        self.log.info(\"Initializing test directory \" + self.options.tmpdir)\n+        if self.setup_clean_chain:\n+            self._initialize_chain_clean(self.options.tmpdir, self.num_nodes)\n+        else:\n+            self._initialize_chain(self.options.tmpdir, self.num_nodes, self.options.cachedir)\n \n-        if self.options.coveragedir is not None:\n-            coverage.write_all_rpc_commands(self.options.coveragedir, node.rpc)\n+    def setup_network(self):\n+        \"\"\"Override this method to customize test network topology\"\"\"\n+        self.setup_nodes()\n+\n+        # Connect the nodes as a \"chain\".  This allows us\n+        # to split the network between nodes 1 and 2 to get\n+        # two halves that can work on competing chains.\n+        for i in range(self.num_nodes - 1):\n+            connect_nodes_bi(self.nodes, i, i + 1)\n+        self.sync_all()\n+\n+    def setup_nodes(self):\n+        \"\"\"Override this method to customize test node setup\"\"\"\n+        extra_args = None\n+        if hasattr(self, \"extra_args\"):\n+            extra_args = self.extra_args\n+        self.add_nodes(self.num_nodes, self.options.tmpdir, extra_args)\n+        self.start_nodes()\n \n-        return node\n+    def run_test(self):\n+        \"\"\"Override this method to define test logic\"\"\"\n+        raise NotImplementedError\n \n-    def start_nodes(self, num_nodes, dirname, extra_args=None, rpchost=None, timewait=None, binary=None):\n-        \"\"\"Start multiple bitcoinds, return RPC connections to them\"\"\"\n+    # Public helper methods. These can be accessed by the subclass test scripts.\n+\n+    def add_nodes(self, num_nodes, dirname, extra_args=None, rpchost=None, timewait=None, binary=None):",
    "path": "test/functional/test_framework/test_framework.py",
    "position": null,
    "original_position": 128,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "06bde74f5ec8660975275f8594aee3a99064e327",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good point. Thanks! Added this in a new commit.",
    "created_at": "2017-08-24T16:32:55Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r135066194",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066194"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r135066194"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066194/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 220,
    "side": "RIGHT",
    "in_reply_to_id": 134948693
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066386",
    "pull_request_review_id": 58436191,
    "id": 135066386,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTA2NjM4Ng==",
    "diff_hunk": "@@ -61,9 +61,13 @@ def __getattr__(self, *args, **kwargs):\n         assert self.rpc_connected and self.rpc is not None, \"Error: no RPC connection\"\n         return self.rpc.__getattr__(*args, **kwargs)\n \n-    def start(self):\n+    def start(self, extra_args, stderr=None):",
    "path": "test/functional/test_framework/test_node.py",
    "position": null,
    "original_position": 5,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "06bde74f5ec8660975275f8594aee3a99064e327",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`TestNode.start` is only ever called by `TestFramework.start_node`, which has its own default for `extra_args`, so not strictly necessary, but I agree having a default here makes it clearer. Added.",
    "created_at": "2017-08-24T16:33:48Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r135066386",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066386"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r135066386"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066386/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 64,
    "side": "RIGHT",
    "in_reply_to_id": 134948830
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066746",
    "pull_request_review_id": 58436609,
    "id": 135066746,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTA2Njc0Ng==",
    "diff_hunk": "@@ -7,28 +7,27 @@\n from test_framework.util import *\n \n class WalletTest(BitcoinTestFramework):\n-\n-    def check_fee_amount(self, curr_balance, balance_with_fee, fee_per_byte, tx_size):\n-        \"\"\"Return curr_balance after asserting the fee was in range\"\"\"\n-        fee = balance_with_fee - curr_balance\n-        assert_fee_amount(fee, tx_size, fee_per_byte * 1000)\n-        return curr_balance\n-\n-    def __init__(self):\n-        super().__init__()\n+    def set_test_params(self):\n         self.setup_clean_chain = True\n-        self.num_nodes = 4\n         self.extra_args = [['-usehd={:d}'.format(i%2==0)] for i in range(4)]\n \n     def setup_network(self):\n-        self.nodes = self.start_nodes(3, self.options.tmpdir, self.extra_args[:3])\n+        self.add_nodes(4, self.options.tmpdir, self.extra_args)",
    "path": "test/functional/wallet.py",
    "position": null,
    "original_position": 20,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "06bde74f5ec8660975275f8594aee3a99064e327",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Because there's not currently a method to add a single node. The model after this PR is to add all nodes at the top of the test and then start/stop them as required during the test.\r\n\r\nWe could potentially add an `add_node()` method to be called during the test, but lets leave that for a future PR.",
    "created_at": "2017-08-24T16:35:16Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r135066746",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066746"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r135066746"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135066746/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 15,
    "side": "RIGHT",
    "in_reply_to_id": 134950110
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135266417",
    "pull_request_review_id": 58662386,
    "id": 135266417,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTI2NjQxNw==",
    "diff_hunk": "@@ -54,16 +54,16 @@ def send_header_for_blocks(self, new_blocks):\n         self.send_message(headers_message)\n \n class AssumeValidTest(BitcoinTestFramework):\n-    def __init__(self):\n-        super().__init__()\n+    def set_test_params(self):\n         self.setup_clean_chain = True",
    "path": "test/functional/assumevalid.py",
    "position": 7,
    "original_position": 7,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "df824a92121eb68849e474e87098a441d4e52926",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It seems there are more `setup_clean_chain = True` so why not make it the default?",
    "created_at": "2017-08-25T14:05:41Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r135266417",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135266417"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r135266417"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135266417/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 58,
    "original_line": 58,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135285612",
    "pull_request_review_id": 58684704,
    "id": 135285612,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTI4NTYxMg==",
    "diff_hunk": "@@ -54,16 +54,16 @@ def send_header_for_blocks(self, new_blocks):\n         self.send_message(headers_message)\n \n class AssumeValidTest(BitcoinTestFramework):\n-    def __init__(self):\n-        super().__init__()\n+    def set_test_params(self):\n         self.setup_clean_chain = True",
    "path": "test/functional/assumevalid.py",
    "position": 7,
    "original_position": 7,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "df824a92121eb68849e474e87098a441d4e52926",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I haven't made any changes to `setup_clean_chain`. See earlier comment:\r\n\r\n> I haven't done the same for self.setup_clean_chain, since I think it makes more sense for that to have a default. If people feel strongly, it can be added in a future commit.\r\n\r\nFeel free to open a PR to change/remove the default if you think that's necessary. I don't think it's required for this PR.",
    "created_at": "2017-08-25T15:23:06Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r135285612",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135285612"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r135285612"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135285612/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 58,
    "original_line": 58,
    "side": "RIGHT",
    "in_reply_to_id": 135266417
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136033058",
    "pull_request_review_id": 59514903,
    "id": 136033058,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjAzMzA1OA==",
    "diff_hunk": "@@ -34,21 +34,18 @@ def __init__(self):\n         super().__init__()\n         self.num_nodes = 2\n         self.setup_clean_chain = True\n+        self.extra_args = [[\"-prematurewitness\", \"-walletprematurewitness\", \"-walletrbf={}\".format(i)]\n+                           for i in range(self.num_nodes)]\n \n-    def setup_network(self, split=False):\n-        extra_args = [[\"-prematurewitness\", \"-walletprematurewitness\", \"-walletrbf={}\".format(i)]\n-                      for i in range(self.num_nodes)]\n-        self.nodes = self.start_nodes(self.num_nodes, self.options.tmpdir, extra_args)\n-\n+    def run_test(self):\n         # Encrypt wallet for test_locked_wallet_fails test\n         self.nodes[1].node_encrypt_wallet(WALLET_PASSPHRASE)\n-        self.nodes[1] = self.start_node(1, self.options.tmpdir, extra_args[1])\n+        self.start_node(1)\n         self.nodes[1].walletpassphrase(WALLET_PASSPHRASE, WALLET_PASSPHRASE_TIMEOUT)\n \n         connect_nodes_bi(self.nodes, 0, 1)",
    "path": "test/functional/bumpfee.py",
    "position": 24,
    "original_position": 19,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "1a0801dc74286dc9b1dcbbfb671f9d5151adc111",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is already done by `setup_network`.\r\n\r\nSame for the line below.",
    "created_at": "2017-08-30T10:40:59Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136033058",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136033058"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136033058"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136033058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 45,
    "original_line": 45,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136079025",
    "pull_request_review_id": 59567426,
    "id": 136079025,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjA3OTAyNQ==",
    "diff_hunk": "@@ -34,21 +34,18 @@ def __init__(self):\n         super().__init__()\n         self.num_nodes = 2\n         self.setup_clean_chain = True\n+        self.extra_args = [[\"-prematurewitness\", \"-walletprematurewitness\", \"-walletrbf={}\".format(i)]\n+                           for i in range(self.num_nodes)]\n \n-    def setup_network(self, split=False):\n-        extra_args = [[\"-prematurewitness\", \"-walletprematurewitness\", \"-walletrbf={}\".format(i)]\n-                      for i in range(self.num_nodes)]\n-        self.nodes = self.start_nodes(self.num_nodes, self.options.tmpdir, extra_args)\n-\n+    def run_test(self):\n         # Encrypt wallet for test_locked_wallet_fails test\n         self.nodes[1].node_encrypt_wallet(WALLET_PASSPHRASE)\n-        self.nodes[1] = self.start_node(1, self.options.tmpdir, extra_args[1])\n+        self.start_node(1)\n         self.nodes[1].walletpassphrase(WALLET_PASSPHRASE, WALLET_PASSPHRASE_TIMEOUT)\n \n         connect_nodes_bi(self.nodes, 0, 1)",
    "path": "test/functional/bumpfee.py",
    "position": 24,
    "original_position": 19,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "1a0801dc74286dc9b1dcbbfb671f9d5151adc111",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "L41 stops node 1 (the `encryptwallet` RPC shuts down the node), so I believe all the p2p connections are lost and we need to reconnect the nodes after restarting node 1.\r\n\r\nI've tested removing these two lines and the test fails (the next call to `sync_all()` fails)",
    "created_at": "2017-08-30T14:11:18Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136079025",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136079025"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136079025"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136079025/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 45,
    "original_line": 45,
    "side": "RIGHT",
    "in_reply_to_id": 136033058
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136079813",
    "pull_request_review_id": 59568314,
    "id": 136079813,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjA3OTgxMw==",
    "diff_hunk": "@@ -34,21 +34,18 @@ def __init__(self):\n         super().__init__()\n         self.num_nodes = 2\n         self.setup_clean_chain = True\n+        self.extra_args = [[\"-prematurewitness\", \"-walletprematurewitness\", \"-walletrbf={}\".format(i)]\n+                           for i in range(self.num_nodes)]\n \n-    def setup_network(self, split=False):\n-        extra_args = [[\"-prematurewitness\", \"-walletprematurewitness\", \"-walletrbf={}\".format(i)]\n-                      for i in range(self.num_nodes)]\n-        self.nodes = self.start_nodes(self.num_nodes, self.options.tmpdir, extra_args)\n-\n+    def run_test(self):\n         # Encrypt wallet for test_locked_wallet_fails test\n         self.nodes[1].node_encrypt_wallet(WALLET_PASSPHRASE)\n-        self.nodes[1] = self.start_node(1, self.options.tmpdir, extra_args[1])\n+        self.start_node(1)\n         self.nodes[1].walletpassphrase(WALLET_PASSPHRASE, WALLET_PASSPHRASE_TIMEOUT)\n \n         connect_nodes_bi(self.nodes, 0, 1)",
    "path": "test/functional/bumpfee.py",
    "position": 24,
    "original_position": 19,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "1a0801dc74286dc9b1dcbbfb671f9d5151adc111",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sorry, missed that the node shuts down.",
    "created_at": "2017-08-30T14:13:54Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136079813",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136079813"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136079813"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136079813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 45,
    "original_line": 45,
    "side": "RIGHT",
    "in_reply_to_id": 136033058
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136600547",
    "pull_request_review_id": 60166656,
    "id": 136600547,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjYwMDU0Nw==",
    "diff_hunk": "@@ -307,15 +313,15 @@ def has_block(index):\n \n         # stop node, start back up with auto-prune at 550MB, make sure still runs\n         self.stop_node(node_number)\n-        self.nodes[node_number] = self.start_node(node_number, self.options.tmpdir, [\"-prune=550\"], timewait=900)\n+        self.start_node(node_number, extra_args=[\"-prune=550\"])",
    "path": "test/functional/pruning.py",
    "position": 73,
    "original_position": 62,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "1a0801dc74286dc9b1dcbbfb671f9d5151adc111",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You are removing `timewait=900` from all calls but the first. I assume this does not cause issues?",
    "created_at": "2017-09-01T15:23:58Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136600547",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136600547"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136600547"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136600547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 314,
    "original_line": 314,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136604254",
    "pull_request_review_id": 60166656,
    "id": 136604254,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjYwNDI1NA==",
    "diff_hunk": "@@ -208,8 +211,10 @@ def run_test(self):\n         zeroValueTxid= decRawTx['txid']\n         sendResp = self.nodes[1].sendrawtransaction(signedRawTx['hex'])\n \n+        # self.sync_all([self.nodes[0:3]])",
    "path": "test/functional/wallet.py",
    "position": null,
    "original_position": 107,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "1a0801dc74286dc9b1dcbbfb671f9d5151adc111",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "debug statement?",
    "created_at": "2017-09-01T15:40:02Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136604254",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136604254"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136604254"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136604254/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 214,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136604279",
    "pull_request_review_id": 60166656,
    "id": 136604279,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjYwNDI3OQ==",
    "diff_hunk": "@@ -208,8 +211,10 @@ def run_test(self):\n         zeroValueTxid= decRawTx['txid']\n         sendResp = self.nodes[1].sendrawtransaction(signedRawTx['hex'])\n \n+        # self.sync_all([self.nodes[0:3]])\n         self.sync_all()\n         self.nodes[1].generate(1) #mine a block\n+        # self.sync_all([self.nodes[0:3]])",
    "path": "test/functional/wallet.py",
    "position": null,
    "original_position": 110,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "1a0801dc74286dc9b1dcbbfb671f9d5151adc111",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "debug statement?",
    "created_at": "2017-09-01T15:40:11Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136604279",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136604279"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136604279"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136604279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 217,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136604781",
    "pull_request_review_id": 60166656,
    "id": 136604781,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjYwNDc4MQ==",
    "diff_hunk": "@@ -247,14 +254,16 @@ def run_test(self):\n \n         #restart the nodes with -walletbroadcast=1\n         self.stop_nodes()\n-        self.nodes = self.start_nodes(3, self.options.tmpdir)\n+        self.start_node(0)\n+        self.start_node(1)\n+        self.start_node(2)\n         connect_nodes_bi(self.nodes,0,1)\n         connect_nodes_bi(self.nodes,1,2)\n         connect_nodes_bi(self.nodes,0,2)\n-        sync_blocks(self.nodes)\n+        sync_blocks(self.nodes[0:2])",
    "path": "test/functional/wallet.py",
    "position": null,
    "original_position": 155,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "1a0801dc74286dc9b1dcbbfb671f9d5151adc111",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "why not `self.nodes[:3]`?",
    "created_at": "2017-09-01T15:42:37Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136604781",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136604781"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136604781"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136604781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 263,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136604807",
    "pull_request_review_id": 60166656,
    "id": 136604807,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjYwNDgwNw==",
    "diff_hunk": "@@ -247,14 +254,16 @@ def run_test(self):\n \n         #restart the nodes with -walletbroadcast=1\n         self.stop_nodes()\n-        self.nodes = self.start_nodes(3, self.options.tmpdir)\n+        self.start_node(0)\n+        self.start_node(1)\n+        self.start_node(2)\n         connect_nodes_bi(self.nodes,0,1)\n         connect_nodes_bi(self.nodes,1,2)\n         connect_nodes_bi(self.nodes,0,2)\n-        sync_blocks(self.nodes)\n+        sync_blocks(self.nodes[0:2])\n \n         self.nodes[0].generate(1)\n-        sync_blocks(self.nodes)\n+        sync_blocks(self.nodes[0:2])",
    "path": "test/functional/wallet.py",
    "position": null,
    "original_position": 159,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "1a0801dc74286dc9b1dcbbfb671f9d5151adc111",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "why not `self.nodes[:3]`?",
    "created_at": "2017-09-01T15:42:42Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136604807",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136604807"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136604807"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136604807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 266,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136608277",
    "pull_request_review_id": 60166656,
    "id": 136608277,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjYwODI3Nw==",
    "diff_hunk": "@@ -20,11 +20,9 @@\n                                  )\n \n class ZapWalletTXesTest (BitcoinTestFramework):\n-\n-    def __init__(self):\n-        super().__init__()\n+    def set_test_params(self):\n         self.setup_clean_chain = True\n-        self.num_nodes = 2\n+        self.num_nodes = 3",
    "path": "test/functional/zapwallettxes.py",
    "position": null,
    "original_position": 10,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "55073870db8ee2fd32a057fd51a21135bf984e54",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "why is this changed in a refactoring commit?",
    "created_at": "2017-09-01T15:56:55Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136608277",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136608277"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136608277"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136608277/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 25,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136613059",
    "pull_request_review_id": 60181011,
    "id": 136613059,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjYxMzA1OQ==",
    "diff_hunk": "@@ -307,15 +313,15 @@ def has_block(index):\n \n         # stop node, start back up with auto-prune at 550MB, make sure still runs\n         self.stop_node(node_number)\n-        self.nodes[node_number] = self.start_node(node_number, self.options.tmpdir, [\"-prune=550\"], timewait=900)\n+        self.start_node(node_number, extra_args=[\"-prune=550\"])",
    "path": "test/functional/pruning.py",
    "position": 73,
    "original_position": 62,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "1a0801dc74286dc9b1dcbbfb671f9d5151adc111",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`rpc_timeout` is a property of `TestNode` set when instantiating the python object, not when starting up the bitcoind node.",
    "created_at": "2017-09-01T16:19:35Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136613059",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136613059"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136613059"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136613059/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 314,
    "original_line": 314,
    "side": "RIGHT",
    "in_reply_to_id": 136600547
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136613442",
    "pull_request_review_id": 60181426,
    "id": 136613442,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjYxMzQ0Mg==",
    "diff_hunk": "@@ -208,8 +211,10 @@ def run_test(self):\n         zeroValueTxid= decRawTx['txid']\n         sendResp = self.nodes[1].sendrawtransaction(signedRawTx['hex'])\n \n+        # self.sync_all([self.nodes[0:3]])",
    "path": "test/functional/wallet.py",
    "position": null,
    "original_position": 107,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "1a0801dc74286dc9b1dcbbfb671f9d5151adc111",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "derp. Fixed",
    "created_at": "2017-09-01T16:21:24Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136613442",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136613442"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136613442"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136613442/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 214,
    "side": "RIGHT",
    "in_reply_to_id": 136604254
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136613456",
    "pull_request_review_id": 60181447,
    "id": 136613456,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjYxMzQ1Ng==",
    "diff_hunk": "@@ -208,8 +211,10 @@ def run_test(self):\n         zeroValueTxid= decRawTx['txid']\n         sendResp = self.nodes[1].sendrawtransaction(signedRawTx['hex'])\n \n+        # self.sync_all([self.nodes[0:3]])\n         self.sync_all()\n         self.nodes[1].generate(1) #mine a block\n+        # self.sync_all([self.nodes[0:3]])",
    "path": "test/functional/wallet.py",
    "position": null,
    "original_position": 110,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "1a0801dc74286dc9b1dcbbfb671f9d5151adc111",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "yep",
    "created_at": "2017-09-01T16:21:29Z",
    "updated_at": "2017-09-01T16:25:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136613456",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136613456"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136613456"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136613456/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 217,
    "side": "RIGHT",
    "in_reply_to_id": 136604279
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136615556",
    "pull_request_review_id": 60183919,
    "id": 136615556,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjYxNTU1Ng==",
    "diff_hunk": "@@ -247,14 +254,16 @@ def run_test(self):\n \n         #restart the nodes with -walletbroadcast=1\n         self.stop_nodes()\n-        self.nodes = self.start_nodes(3, self.options.tmpdir)\n+        self.start_node(0)\n+        self.start_node(1)\n+        self.start_node(2)\n         connect_nodes_bi(self.nodes,0,1)\n         connect_nodes_bi(self.nodes,1,2)\n         connect_nodes_bi(self.nodes,0,2)\n-        sync_blocks(self.nodes)\n+        sync_blocks(self.nodes[0:2])",
    "path": "test/functional/wallet.py",
    "position": null,
    "original_position": 155,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "1a0801dc74286dc9b1dcbbfb671f9d5151adc111",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "fixed",
    "created_at": "2017-09-01T16:32:06Z",
    "updated_at": "2017-09-01T16:32:07Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136615556",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136615556"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136615556"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136615556/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 263,
    "side": "RIGHT",
    "in_reply_to_id": 136604781
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136615574",
    "pull_request_review_id": 60183939,
    "id": 136615574,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjYxNTU3NA==",
    "diff_hunk": "@@ -247,14 +254,16 @@ def run_test(self):\n \n         #restart the nodes with -walletbroadcast=1\n         self.stop_nodes()\n-        self.nodes = self.start_nodes(3, self.options.tmpdir)\n+        self.start_node(0)\n+        self.start_node(1)\n+        self.start_node(2)\n         connect_nodes_bi(self.nodes,0,1)\n         connect_nodes_bi(self.nodes,1,2)\n         connect_nodes_bi(self.nodes,0,2)\n-        sync_blocks(self.nodes)\n+        sync_blocks(self.nodes[0:2])\n \n         self.nodes[0].generate(1)\n-        sync_blocks(self.nodes)\n+        sync_blocks(self.nodes[0:2])",
    "path": "test/functional/wallet.py",
    "position": null,
    "original_position": 159,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "1a0801dc74286dc9b1dcbbfb671f9d5151adc111",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "fixed",
    "created_at": "2017-09-01T16:32:11Z",
    "updated_at": "2017-09-01T16:32:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136615574",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136615574"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136615574"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136615574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 266,
    "side": "RIGHT",
    "in_reply_to_id": 136604807
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136615585",
    "pull_request_review_id": 60183957,
    "id": 136615585,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjYxNTU4NQ==",
    "diff_hunk": "@@ -20,11 +20,9 @@\n                                  )\n \n class ZapWalletTXesTest (BitcoinTestFramework):\n-\n-    def __init__(self):\n-        super().__init__()\n+    def set_test_params(self):\n         self.setup_clean_chain = True\n-        self.num_nodes = 2\n+        self.num_nodes = 3",
    "path": "test/functional/zapwallettxes.py",
    "position": null,
    "original_position": 10,
    "commit_id": "7148b74dc39110f53c665b94fa9d994c6ad6dc1c",
    "original_commit_id": "55073870db8ee2fd32a057fd51a21135bf984e54",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "fixed",
    "created_at": "2017-09-01T16:32:13Z",
    "updated_at": "2017-09-01T16:32:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136615585",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136615585"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11121#discussion_r136615585"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11121"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136615585/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 25,
    "side": "RIGHT",
    "in_reply_to_id": 136608277
  }
]