[
  {
    "sha": "eff736e55e84441f9509285e83a1a6ee9a0c6e69",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZmY3MzZlNTVlODQ0NDFmOTUwOTI4NWU4M2ExYTZlZTlhMGM2ZTY5",
    "commit": {
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2016-03-29T14:46:20Z"
      },
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2016-03-31T10:28:34Z"
      },
      "message": "Reformat version in UpdateTip and other messages\n\nAlso remove the hardly-readable nBits from UpdateTip's log message.",
      "tree": {
        "sha": "1e4377da56b7bb28d72da4a1709160b829a161c0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1e4377da56b7bb28d72da4a1709160b829a161c0"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/eff736e55e84441f9509285e83a1a6ee9a0c6e69",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eff736e55e84441f9509285e83a1a6ee9a0c6e69",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/eff736e55e84441f9509285e83a1a6ee9a0c6e69",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eff736e55e84441f9509285e83a1a6ee9a0c6e69/comments",
    "author": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0b98dd7939674b61c28252d14b3fbd0f51d3912b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0b98dd7939674b61c28252d14b3fbd0f51d3912b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0b98dd7939674b61c28252d14b3fbd0f51d3912b"
      }
    ],
    "stats": {
      "total": 10,
      "additions": 5,
      "deletions": 5
    },
    "files": [
      {
        "sha": "d22b4c80e22173971604acb845127ac2e10b1733",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/eff736e55e84441f9509285e83a1a6ee9a0c6e69/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/eff736e55e84441f9509285e83a1a6ee9a0c6e69/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=eff736e55e84441f9509285e83a1a6ee9a0c6e69",
        "patch": "@@ -2549,8 +2549,8 @@ void static UpdateTip(CBlockIndex *pindexNew) {\n     nTimeBestReceived = GetTime();\n     mempool.AddTransactionsUpdated(1);\n \n-    LogPrintf(\"%s: new best=%s  height=%d bits=%d log2_work=%.8g  tx=%lu  date=%s progress=%f  cache=%.1fMiB(%utx)\\n\", __func__,\n-      chainActive.Tip()->GetBlockHash().ToString(), chainActive.Height(), chainActive.Tip()->nBits,\n+    LogPrintf(\"%s: new best=%s height=%d version=0x%08x log2_work=%.8g tx=%lu date='%s' progress=%f cache=%.1fMiB(%utx)\\n\", __func__,\n+      chainActive.Tip()->GetBlockHash().ToString(), chainActive.Height(), chainActive.Tip()->nVersion,\n       log(chainActive.Tip()->nChainWork.getdouble())/log(2.0), (unsigned long)chainActive.Tip()->nChainTx,\n       DateTimeStrFormat(\"%Y-%m-%d %H:%M:%S\", chainActive.Tip()->GetBlockTime()),\n       Checkpoints::GuessVerificationProgress(chainParams.Checkpoints(), chainActive.Tip()), pcoinsTip->DynamicMemoryUsage() * (1.0 / (1<<20)), pcoinsTip->GetCacheSize());\n@@ -3284,8 +3284,8 @@ bool ContextualCheckBlockHeader(const CBlockHeader& block, CValidationState& sta\n     // Reject outdated version blocks when 95% (75% on testnet) of the network has upgraded:\n     for (int32_t version = 2; version < 5; ++version) // check for version 2, 3 and 4 upgrades\n         if (block.nVersion < version && IsSuperMajority(version, pindexPrev, consensusParams.nMajorityRejectBlockOutdated, consensusParams))\n-            return state.Invalid(false, REJECT_OBSOLETE, strprintf(\"bad-version(v%d)\", version - 1),\n-                                 strprintf(\"rejected nVersion=%d block\", version - 1));\n+            return state.Invalid(false, REJECT_OBSOLETE, strprintf(\"bad-version(0x%08x)\", version - 1),\n+                                 strprintf(\"rejected nVersion=0x%08x block\", version - 1));\n \n     return true;\n }"
      },
      {
        "sha": "6fb33230a53e0d5d024dbce634ab0b0971ea58a7",
        "filename": "src/primitives/block.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/eff736e55e84441f9509285e83a1a6ee9a0c6e69/src/primitives/block.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/eff736e55e84441f9509285e83a1a6ee9a0c6e69/src/primitives/block.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/primitives/block.cpp?ref=eff736e55e84441f9509285e83a1a6ee9a0c6e69",
        "patch": "@@ -18,7 +18,7 @@ uint256 CBlockHeader::GetHash() const\n std::string CBlock::ToString() const\n {\n     std::stringstream s;\n-    s << strprintf(\"CBlock(hash=%s, ver=%d, hashPrevBlock=%s, hashMerkleRoot=%s, nTime=%u, nBits=%08x, nNonce=%u, vtx=%u)\\n\",\n+    s << strprintf(\"CBlock(hash=%s, ver=0x%08x, hashPrevBlock=%s, hashMerkleRoot=%s, nTime=%u, nBits=%08x, nNonce=%u, vtx=%u)\\n\",\n         GetHash().ToString(),\n         nVersion,\n         hashPrevBlock.ToString(),"
      }
    ]
  }
]