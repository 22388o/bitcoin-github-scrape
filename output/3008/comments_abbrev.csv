mikehearn,2013-09-23T13:17:50Z,"The free transaction area is still useless because in reality if you create free transactions, you never know when they will confirm. So I don't see why we even bother keeping the ""free area"" at all.\n",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-24918744,24918744,
petertodd,2013-09-23T13:32:24Z,Getting rid of free transactions and hence priority would simplify a lot of the codebase - my child-pays-for-parent mempool patch ignored priority for that reason.\n,https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-24919650,24919650,
mikehearn,2013-09-23T13:46:38Z,That wasn't what I meant. Free transactions are good. People like free transactions. But free transactions that are in practice useless and never generated by real-world wallets are bad. They give an easy ride to people doing custom stuff and ordinary users lose out.\n\nIt'd be better if there was a single ranking of all transactions that acted as if free transactions had a fee attached equivalent,https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-24920631,24920631,
petertodd,2013-09-23T13:52:44Z,"@mikehearn Before you try to propose that get some good figures on the marginal cost each KB of transactions costs miners, particularly smaller ones, in terms of increased orphans. I did a rough estimate and came up with IIRC 0.00025 BTC/KB myself.\n\nFWIW that's exactly what I had in mind with my mempool rewrite for the mining code: a simple priority->BTC conversion ratio and a setting for how ma",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-24921014,24921014,
petertodd,2013-09-23T14:00:20Z,"It's also worth considering that allowing unlimited free transactions is basically saying that owning BTC is a right to use up a certain amount of blockchain space per block indefinitely.\n\nThat's the kind of thing that will give an easy ride to people doing custom, and undesirable, stuff like dumping data and timestamps into the blockchain at the expense of people using Bitcoin as it was intende",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-24921554,24921554,
jgarzik,2013-09-23T15:04:07Z,"We are not getting rid of free transactions until blockchain evidence proves it is pointless.  e.g. if no non-free transactions are mined in a 3 month period, the code is clearly pointless.\n\nWe are nowhere near that point yet.\n\nMiners appear to currently be happy with free transactions, as long as they receive their block reward.  It brings new users into the system.\n",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-24926581,24926581,
mikehearn,2013-09-23T15:20:17Z,"Currently fees aren't funding hashpower, we're a long way from that day, so they act just as an anti-flooding mechanism. Using up coin days is just as good a method for that as using up bitcoins themselves, hence the desire to keep free transactions - it's a HUGE draw for merchants and a free tx is much simpler for users.\n",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-24927864,24927864,
petertodd,2013-09-23T16:07:04Z,"@jgarzik cost-vs-benefit: given how almost all third-party wallets ignore priority in favor of adding minimum fees obviously there isn't much demand for the feature; while that isn't a reason to remove the code immediately, it is a reason to not bother re-implementing it in a rewrite.\n\n@mikehearn If free transaction was such a huge draw wallets would implement them, but they don't bother. Second",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-24931535,24931535,
gmaxwell,2013-09-23T16:31:57Z,"@mikehearn I would agree with what you're actually saying, except I don't see how it wouldn't just result in every block being the maximum size miner's are willing to create. This size is rationally smaller than the size they're willing to create full of free stuff because a lot of free stuff is DOS attack cruft (e.g. the millions of correct horse transactions) or just due to the increased orphani",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-24933321,24933321,
jgarzik,2013-09-23T16:40:50Z,"Oh, ok, that's more reasonable.\n\nOverall the issue will sort itself out once blocks regularly hit 1MB, and a real pricing market emerges.  Right now many of our signals are artificial and hardcoded, rather than dynamic and market-driven.\n",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-24933992,24933992,
petertodd,2013-09-23T16:59:23Z,"@jgarzik Yup. Converting everything to BTC makes things like artificial priority modifications, perhaps due to an out-of-band fee payment promise or just because the tx one of yours, easier to reason about as well.\n\nAnyway essentially all of this stuff is us saying ""We know the technical limits are 1MB/10minutes, but we know there isn't actually that much genuine blockchain demand yet so we'd ra",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-24935339,24935339,
gavinandresen,2013-09-23T19:41:39Z,All this talk about free transactions is lovely...\n...  are there any comments relevant to this PARTICULAR baby-step change?\n,https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-24948076,24948076,
mikehearn,2013-09-24T10:56:22Z,"The change is OK as long as you realise it only helps people using Bitcoin-Qt. Other kinds of wallets won't be generating free transactions even with this modification, because they'll continue to be too unreliable.\n",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-24993334,24993334,
petertodd,2013-09-24T17:03:44Z,"(responding to some concerns I've seen elsewhere)\n\nThe first commit does make sending small utxo-spamming transactions cheaper, but that's such a niche case I think simplifying wallet code is more important. (I've had tx's get stuck on testnet at least because I forgot that case while writing wallet code that calculated fees on a per/kb basis)\n\nThe other commit will help prevent free tx's gett",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-25023164,25023164,
cozz,2013-09-26T21:32:09Z,"Instead of removing the ""CENT-output free transaction rule"" you may want to consider doing this:\n\n```\nif (GMF_SEND && nMinFee < nBaseFee)\n```\n\nSo only remove for gmf_relay.\nOtherwise you still have the risk of people creating never confirming free txs.\nThe code could then be removed completely in the future after most people have this new relay rule.\n",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-25205750,25205750,
mikehearn,2013-10-04T09:12:13Z,"Putting aside the strategy discussions: LGTM, this change looks good to me.\n",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-25685227,25685227,
wtogami,2013-10-04T09:36:37Z,I am in agreement with @cozz in that the network needs a way to smoothly transition into this.\n,https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-25687079,25687079,
petertodd,2013-10-04T09:43:56Z,"@wtogami There are very few >1000byte free transactions being created, and nearly only the Bitcoin reference client creates free transactions; the network doesn't upgrade to new versions overnight giving a transition period anyway.\n",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-25687577,25687577,
wtogami,2013-10-04T10:17:17Z,"I was thinking about the other removed requirement, > 0.01 BTC, which is very common.\n",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-25689220,25689220,
petertodd,2013-10-04T10:43:41Z,@wtogami The wallet doesn't use GetMinFee() to determine if nMinTxFee must be paid so it'll continue to create nMinFee-paying transactions when there is a subcent output; see CWallet::CreateTransaction()\n,https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-25690366,25690366,
gavinandresen,2013-10-04T12:11:28Z,"@cozz : good idea.  I updated the first commit with your suggestion, and added comments on two places in the code that can be simplified once the network upgrades.\n\n@petertodd : I think you're confused by the code that avoids creating a free transaction with a change output less than 0.01.  The edge case is a user who creates a high-priority transaction (maybe a 10 BTC, well-aged input) with a s",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-25694142,25694142,
petertodd,2013-10-04T12:17:59Z,"@gavinandresen Yeah, I think you're correct there, my mistake.\n",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-25694419,25694419,
BitcoinPullTester,2013-10-04T13:07:36Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/16b3ff66e0137b68de0d08ad88ce9798bce2d68d for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-25697058,25697058,
wtogami,2013-10-22T11:50:42Z,"I was surprised that this was merged without any explicit ACK's.   It isn't necessarily bad, I am just curious why 1KB was chosen as opposed to any other arbitrary size?\n",https://github.com/bitcoin/bitcoin/pull/3008#issuecomment-26796282,26796282,
