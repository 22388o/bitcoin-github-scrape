sipa,2021-02-20 00:06:43,"There is no reason for the actual signing to be done in guix, I think? Only the process of attaching the signature once it has been published.",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-782466942,782466942,
dongcarl,2021-02-20 00:08:08,Right! Perhaps I should be more precise with my wording...,https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-782467336,782467336,
sipa,2021-02-20 00:09:13,"Hmm, but if it's just attaching, there should be no need for network support.",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-782467613,782467613,
dongcarl,2021-02-20 00:10:37,Oh! True! I'll test it out and make the changes! Thanks!,https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-782468456,782468456,
DrahtBot,2021-02-25 09:13:13,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-785742262,785742262,
dongcarl,2021-05-12 19:21:19,"Pushed 885e8816730a5716e276633d93d3d45bdec630c9 -> 8c6e821319f51323f3d53d4c594ccd4abae6e0c0\n- Rebased over master after merge of #21089\n- Addressed achow101's reviews\n\nThis is now ready for review!",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-840036897,840036897,
dongcarl,2021-05-13 19:29:04,Added commit to use SHA256 as digest for `osslsigncode`,https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-840782246,840782246,
dongcarl,2021-05-13 19:42:37,"Pushed f85b366b82...ee0a67c32a\n- Rebased over master to fix CI timeout",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-840789225,840789225,
achow101,2021-05-15 21:12:33,I've added a branch to the bitcoin-detached-sigs repo to contain code signatures created for testing out guix: https://github.com/bitcoin-core/bitcoin-detached-sigs/tree/guix-testing. There is also a tag (https://github.com/bitcoin-core/bitcoin-detached-sigs/releases/tag/pr21239-ee0a67c32a88-win) pointing to windows signatures for ee0a67c32a88.,https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-841726264,841726264,
achow101,2021-05-15 21:16:50,It looks like I have different results from @Sjors for ee0a67c,https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-841726752,841726752,
dongcarl,2021-05-17 20:18:44,Hmmm @Sjors @achow101 could you upload `outputs/x86_64-linux-gnu` somewhere so I can take a look?,https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-842603497,842603497,
sipa,2021-05-17 20:28:11,"Unsigned results:\n\n```\n$ sha256sum $(find -name '*.gz' | LANG=C sort)\n1a831e5f04fb3a50afe32f105f20e849b218a82716bebb94e4063c4a8e266d2e  ./aarch64-linux-gnu/bitcoin-ee0a67c32a88-aarch64-linux-gnu-debug.tar.gz\ne493f8071bd6c3f2877dc22601ed29eb7831c4695ac48a8e0c70e96012255ee2  ./aarch64-linux-gnu/bitcoin-ee0a67c32a88-aarch64-linux-gnu.tar.gz\n02552f6e85edd8ea32a08edf730d2bc382cd19417e5979b3",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-842617390,842617390,
dongcarl,2021-05-17 21:00:37,Interesting: seems like only the darwin ones are reproducible? Likely a `gcc` thing. Any tarball uploads will help!,https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-842635710,842635710,
achow101,2021-05-17 21:09:20,@dongcarl https://github.com/achow101/bitcoin/releases/tag/pr21239-ee0a67c32a88,https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-842641003,842641003,
hebasto,2021-05-18 08:20:54,"```\n$ DETACHED_SIGS_REPO=/home/hebasto/bitcoin-detached-sigs contrib/guix/guix-codesign\nChecking that we can connect to the guix-daemon...\n\nHint: If this hangs, you may want to try turning your guix-daemon off and on\n      again.\n\nINFO: Codesigning ee0a67c32a88 for platform triple x86_64-w64-mingw32:\n      ...using reference timestamp: 1620934012\n      ...from worktree directory:",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-842963225,842963225,
dongcarl,2021-05-18 19:21:48,"It would seem that @achow101 and I are getting identical results... If one of @Sjors @sipa or @hebasto can upload their results (just x86_64-linux-gnu would do), I can determine what's causing the non-reproducibility. Many thanks!",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-843467930,843467930,
hebasto,2021-05-19 18:01:20,"@dongcarl \n\nIs `LC_ALL=C sort` safer than `sort`?",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844340479,844340479,
dongcarl,2021-05-19 19:39:41,"> @dongcarl\n> \n> Is `LC_ALL=C sort` safer than `sort`?\n\nIn environments where we don't control env vars, yes! For guix environments we do control the env, and we should have set it already.\n",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844412176,844412176,
dongcarl,2021-05-19 19:42:23,"Lastest push: ee883201cf134952284632e9e9ae72bf1c8c792f\n- Resolves https://reproducible-builds.org/docs/archives/#gnu-libtool\n\nAn initial build of just `x86_64-linux-gnu` across two machine that previously showed non-reproducibility resulted in identical outputs (good news). Building the full suite of architectures now...",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844413910,844413910,
sipa,2021-05-19 19:47:57,Building ee88320.,https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844417908,844417908,
sipa,2021-05-19 22:19:42,"```\n$ sha256sum $(find -type f | LC_ALL=C sort)\n3786f771f253a0516fc74ab850024eabd59b3d31009f7ddb4a48852d03b20898  ./aarch64-linux-gnu/bitcoin-ee883201cf13-aarch64-linux-gnu-debug.tar.gz\n2acaf9e7221e33015562a04892e81a59116a6572d8ee67b73f5ef4e325407bfb  ./aarch64-linux-gnu/bitcoin-ee883201cf13-aarch64-linux-gnu.tar.gz\n44ec0ecadad08ae140c2617665e9212eb75641ed571e9d1ebf183fd88ef095ee  ./aarch6",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844535791,844535791,
dongcarl,2021-05-19 22:40:57,"Matching!\n```\n3786f771f253a0516fc74ab850024eabd59b3d31009f7ddb4a48852d03b20898  guix-build-ee883201cf13/output/aarch64-linux-gnu/bitcoin-ee883201cf13-aarch64-linux-gnu-debug.tar.gz\n2acaf9e7221e33015562a04892e81a59116a6572d8ee67b73f5ef4e325407bfb  guix-build-ee883201cf13/output/aarch64-linux-gnu/bitcoin-ee883201cf13-aarch64-linux-gnu.tar.gz\n4862619901e7331babb0ad4a13336792c2c55a2eb2a2e9d1aa",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844545030,844545030,
hebasto,2021-05-19 23:32:20,"```\n$ find guix-build-$(git rev-parse --short=12 HEAD)/output/ -type f -print0 | env LC_ALL=C sort -z | xargs -r0 sha256sum\n3786f771f253a0516fc74ab850024eabd59b3d31009f7ddb4a48852d03b20898  guix-build-ee883201cf13/output/aarch64-linux-gnu/bitcoin-ee883201cf13-aarch64-linux-gnu-debug.tar.gz\n2acaf9e7221e33015562a04892e81a59116a6572d8ee67b73f5ef4e325407bfb  guix-build-ee883201cf13/output/aarch6",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844566342,844566342,
hebasto,2021-05-19 23:36:47,"@sipa @dongcarl \n\nCould you post hashes of your:\n- `bitcoin-ee883201cf13-osx-unsigned.dmg`\n- `bitcoin-ee883201cf13-win64-debug.zip`\n- `bitcoin-ee883201cf13-win64-setup-unsigned.exe`\n- `bitcoin-ee883201cf13-win64.zip`\n\n?",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844568073,844568073,
dongcarl,2021-05-19 23:38:49,"```\nd03e94da6f114bde14f842f1a976fddffb0feda634c8e7d8e83392fb93188016  guix-build-ee883201cf13/output/x86_64-apple-darwin18/bitcoin-ee883201cf13-osx-unsigned.dmg\n399a0b8c793d6e750facc989e90175a7660b8d693faa5287a32b97301288b865  guix-build-ee883201cf13/output/x86_64-w64-mingw32/bitcoin-ee883201cf13-win64-debug.zip\nffe029396a808e6167646d3b84363f9bf27161d08beec638bb59df8863a88d7c  guix-build-ee8",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844568892,844568892,
sipa,2021-05-19 23:39:56,@hebasto Updated my sha256sums above.,https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844569351,844569351,
dongcarl,2021-05-19 23:49:46,"Build finished on my second machine, everything's matching.",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844573082,844573082,
achow101,2021-05-20 01:01:27,"```\n3786f771f253a0516fc74ab850024eabd59b3d31009f7ddb4a48852d03b20898  guix-build-ee883201cf13/output/aarch64-linux-gnu/bitcoin-ee883201cf13-aarch64-linux-gnu-debug.tar.gz\n2acaf9e7221e33015562a04892e81a59116a6572d8ee67b73f5ef4e325407bfb  guix-build-ee883201cf13/output/aarch64-linux-gnu/bitcoin-ee883201cf13-aarch64-linux-gnu.tar.gz\n44ec0ecadad08ae140c2617665e9212eb75641ed571e9d1ebf183fd88ef095",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844601478,844601478,
dongcarl,2021-05-20 02:12:08,"Looks like I'm matching (even with codesigning) with @achow101 \n```\n3786f771f253a0516fc74ab850024eabd59b3d31009f7ddb4a48852d03b20898  guix-build-ee883201cf13/output/aarch64-linux-gnu/bitcoin-ee883201cf13-aarch64-linux-gnu-debug.tar.gz\n2acaf9e7221e33015562a04892e81a59116a6572d8ee67b73f5ef4e325407bfb  guix-build-ee883201cf13/output/aarch64-linux-gnu/bitcoin-ee883201cf13-aarch64-linux-gnu.tar.g",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844628731,844628731,
fanquake,2021-05-20 02:18:55,"```bash\n3786f771f253a0516fc74ab850024eabd59b3d31009f7ddb4a48852d03b20898  guix-build-ee883201cf13/output/aarch64-linux-gnu/bitcoin-ee883201cf13-aarch64-linux-gnu-debug.tar.gz\n2acaf9e7221e33015562a04892e81a59116a6572d8ee67b73f5ef4e325407bfb  guix-build-ee883201cf13/output/aarch64-linux-gnu/bitcoin-ee883201cf13-aarch64-linux-gnu.tar.gz\n44ec0ecadad08ae140c2617665e9212eb75641ed571e9d1ebf183fd88e",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844631251,844631251,
hebasto,2021-05-20 08:56:19,Windows codesigned: https://github.com/bitcoin-core/guix.sigs/pull/12,https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844880937,844880937,
hebasto,2021-05-20 09:28:08,"On Windows 10 Pro 20H2 (build 19042.928):\n\n![Screenshot from 2021-05-20 12-24-51](https://user-images.githubusercontent.com/32963518/118954779-c5b97300-b966-11eb-96cf-e84fdb58c68c.png)\n![Screenshot from 2021-05-20 12-25-23](https://user-images.githubusercontent.com/32963518/118954796-c94cfa00-b966-11eb-83fc-2c0b463d5e23.png)\n![Screenshot from 2021-05-20 12-26-08](https://user-images.github",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-844909647,844909647,
achow101,2021-05-20 15:45:47,"The signature is valid, just done with the certificate that is now both expired and revoked, so you get those errors.",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-845235286,845235286,
Sjors,2021-05-21 09:09:47,"Uploaded signatures: https://github.com/bitcoin-core/guix.sigs/pull/13\n\nI'm matching with @achow101 and @dongcarl (`find guix-build-$(git rev-parse --short=12 HEAD)/output/ -type f -print0 | env LC_ALL=C sort -z | xargs -r0 sha256sum`, including the windows signed bit)",https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-845806897,845806897,
laanwj,2021-05-24 13:27:33,Tested ACK ee883201cf134952284632e9e9ae72bf1c8c792f,https://github.com/bitcoin/bitcoin/pull/21239#issuecomment-847042253,847042253,
achow101,2021-02-25 21:37:33,Shouldn't this be `https://github.com/mtrojnar/osslsigncode`?,https://github.com/bitcoin/bitcoin/pull/21239#discussion_r583219360,583219360,contrib/guix/manifest.scm
achow101,2021-02-25 21:46:50,"```suggestion\nERR: Build directories missing\n```",https://github.com/bitcoin/bitcoin/pull/21239#discussion_r583224570,583224570,contrib/guix/guix-codesign.sh
achow101,2021-02-25 21:48:59,"Since you are invoking `osslsigncode` directly for the windows, perhaps the same should be done here with `signapple`? The apply script doesn't really do much anymore as `signapple` does a lot internally.",https://github.com/bitcoin/bitcoin/pull/21239#discussion_r583225802,583225802,contrib/guix/libexec/codesign.sh
achow101,2021-05-21 17:59:01,"In bac2690e6f683fcedb883fe1d32f3c33c628a141 ""guix: Package codesigning tools""\n\nThere is a osslsigncode 2.1 available, do we want to use that version? I don't think it really matters, but something to consider.",https://github.com/bitcoin/bitcoin/pull/21239#discussion_r637105775,637105775,contrib/guix/manifest.scm
dongcarl,2021-05-21 20:23:21,"Not sure, should be easy enough to bump in the future when there's a feature/bugfix that's relevant to us.",https://github.com/bitcoin/bitcoin/pull/21239#discussion_r637211496,637211496,contrib/guix/manifest.scm
