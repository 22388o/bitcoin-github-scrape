[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557923507",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17580#issuecomment-557923507",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17580",
    "id": 557923507,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzkyMzUwNw==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-24T20:14:02Z",
    "updated_at": "2019-11-24T20:14:11Z",
    "author_association": "MEMBER",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557923507/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557942582",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17580#issuecomment-557942582",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17580",
    "id": 557942582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1Nzk0MjU4Mg==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-24T23:52:57Z",
    "updated_at": "2021-08-22T04:19:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22766](https://github.com/bitcoin/bitcoin/pull/22766) (refactor: Clarify and disable unused ArgsManager flags by ryanofsky)\n* [#22217](https://github.com/bitcoin/bitcoin/pull/22217) (refactor: Avoid wallet code writing node settings file by ryanofsky)\n* [#20452](https://github.com/bitcoin/bitcoin/pull/20452) (util: Replace use of locale dependent atoi(\u2026) with locale-independent std::from_chars(\u2026) (C++17) by practicalswift)\n* [#20435](https://github.com/bitcoin/bitcoin/pull/20435) (util: use stronger-guarantee rename method by vasild)\n* [#19461](https://github.com/bitcoin/bitcoin/pull/19461) (multiprocess: Add bitcoin-gui -ipcconnect option by ryanofsky)\n* [#19460](https://github.com/bitcoin/bitcoin/pull/19460) (multiprocess: Add bitcoin-wallet -ipcconnect option by ryanofsky)\n* [#17167](https://github.com/bitcoin/bitcoin/pull/17167) (Allow whitelisting outgoing connections by luke-jr)\n* [#16545](https://github.com/bitcoin/bitcoin/pull/16545) (refactor: Implement missing error checking for ArgsManager flags by ryanofsky)\n* [#10102](https://github.com/bitcoin/bitcoin/pull/10102) ([experimental] Multiprocess bitcoin by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557942582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568306905",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17580#issuecomment-568306905",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17580",
    "id": 568306905,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2ODMwNjkwNQ==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-22T22:10:11Z",
    "updated_at": "2019-12-22T23:53:48Z",
    "author_association": "MEMBER",
    "body": "~~Wrong commit bcbbc48a1fe7273494738200d508affef40cb47b?~~ nevermind.\r\n\r\nConcept ACK.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568306905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903201190",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17580#issuecomment-903201190",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17580",
    "id": 903201190,
    "node_id": "IC_kwDOABII58411cGm",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-22T01:58:53Z",
    "updated_at": "2021-08-22T01:58:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n\ud83d\udc19 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903201190/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364551281",
    "pull_request_review_id": 340279414,
    "id": 364551281,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDU1MTI4MQ==",
    "diff_hunk": "@@ -418,13 +418,18 @@ bool ArgsManager::CheckArgFlags(const std::string& name,\n {\n     Optional<unsigned int> flags = GetArgFlags(name);\n     if (!flags) return false;\n-    if (*flags & ArgsManager::ALLOW_ANY) return false;\n+\n+    unsigned int ignore_types = *flags & ALLOW_ANY ? ALLOW_BOOL | ALLOW_INT | ALLOW_STRING : 0;\n+    require &= ~ignore_types;\n+    forbid &= ~ignore_types;",
    "path": "src/util/system.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "601fe2d6f751356836c7bd98441d569c592ea4fe",
    "original_commit_id": "4f3e5e9988280ac96b7979c352da218bbf939ed0",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't think it makes sense to ever include any of the `ALLOW_ANY` types in `forbid` (if you don't want a string, then in reality you probably `require` a boolean eg), so having:\r\n\r\n```\r\n  constexpr unsigned int ALLOW_ANY_EQUIV = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING;\r\n  \r\n  assert((forbid & ALLOW_ANY_EQUIV) == 0);\r\n  if (*flags & ALLOW_ANY) require &= ~ALLOW_ANY_EQUIV;\r\n\r\n  ..\r\n\r\n  return (*flags & ALLOW_ANY) == 0; // since ignore_types is gone now\r\n```\r\n\r\nmight make sense?",
    "created_at": "2020-01-09T04:04:09Z",
    "updated_at": "2021-04-11T19:56:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17580#discussion_r364551281",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17580",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364551281"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17580#discussion_r364551281"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17580"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364551281/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 424,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364553512",
    "pull_request_review_id": 340279414,
    "id": 364553512,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDU1MzUxMg==",
    "diff_hunk": "@@ -190,6 +190,49 @@ struct TestArgsManager : public ArgsManager\n             AddArg(arg.first, \"\", arg.second, OptionsCategory::OPTIONS);\n         }\n     }\n+    //! Return registered argument information.\n+    Arg* FindArg(const std::string& name)\n+    {\n+        LOCK(cs_args);\n+        for (auto& category : m_available_args) {\n+            if (Arg* arg = util::FindKey(category.second, name)) {\n+                return arg;\n+            }\n+        }\n+        return nullptr;\n+    }\n+    //! Look up current registered argument flags so they can be modified, and\n+    //! restore them on destruction.\n+    struct TestFlags {\n+        TestFlags(TestArgsManager& test, const std::string& name) : arg(test.FindArg(name)) {}\n+        ~TestFlags() { if (arg) arg->m_flags = prev_flags; }\n+        Arg* arg;\n+        unsigned int prev_flags = arg ? arg->m_flags : 0;\n+    };\n+    //! Call GetArgs(), temporarily enabling ALLOW_LIST so call can succeed.",
    "path": "src/test/util_tests.cpp",
    "position": 23,
    "original_position": 23,
    "commit_id": "601fe2d6f751356836c7bd98441d569c592ea4fe",
    "original_commit_id": "4f3e5e9988280ac96b7979c352da218bbf939ed0",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think it might be better to restructure the tests than have these special functions that tweak the flags. Maybe something like:\r\n\r\n```\r\nstr_config =\r\n   \"a=\\n\"\r\n   \"b=1\\n\"\r\n   \"c=foo\\n\"\r\n   \"noaaa=1\\n\"\r\n   \"r=0\\n\"\r\n   \"r=1\\n\"\r\n```\r\n\r\n(with a section as well to check overrides/repeats etc work correctly) and then try setting up all the args as `ALLOW_ANY` and check for appropriate errors, then all the args as `ALLOW_BOOL` and check for appropriate results/errors, and all the args as `ALLOW_LIST` and check for appropriate errors?\r\n\r\n(Might be nicer to separate out the test infrastructure changes first, so that it's easy to see all the changes to test results in the commit that changes the functionality, but YMMV)",
    "created_at": "2020-01-09T04:18:46Z",
    "updated_at": "2021-04-11T19:56:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17580#discussion_r364553512",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17580",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364553512"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17580#discussion_r364553512"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17580"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364553512/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 238,
    "original_line": 238,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364559553",
    "pull_request_review_id": 340279414,
    "id": 364559553,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDU1OTU1Mw==",
    "diff_hunk": "@@ -260,7 +260,7 @@ static bool InitRPCAuthentication()\n         LogPrintf(\"Config options rpcuser and rpcpassword will soon be deprecated. Locally-run instances may remove rpcuser to use cookie-based auth, or may be replaced with rpcauth. Please see share/rpcauth for rpcauth auth generation.\\n\");\n         strRPCUserColonPass = gArgs.GetArg(\"-rpcuser\", \"\") + \":\" + gArgs.GetArg(\"-rpcpassword\", \"\");\n     }\n-    if (gArgs.GetArg(\"-rpcauth\",\"\") != \"\")\n+    if (!gArgs.GetArgs(\"-rpcauth\").empty())",
    "path": "src/httprpc.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "601fe2d6f751356836c7bd98441d569c592ea4fe",
    "original_commit_id": "4bd1c3b1606021dff2b39a1927781b3c53428bbe",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`gArgs.IsArgSet(\"-rpcauth\")` ?",
    "created_at": "2020-01-09T04:57:40Z",
    "updated_at": "2021-04-11T19:56:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17580#discussion_r364559553",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17580",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364559553"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17580#discussion_r364559553"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17580"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364559553/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 254,
    "original_line": 254,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364943182",
    "pull_request_review_id": 340791706,
    "id": 364943182,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDk0MzE4Mg==",
    "diff_hunk": "@@ -260,7 +260,7 @@ static bool InitRPCAuthentication()\n         LogPrintf(\"Config options rpcuser and rpcpassword will soon be deprecated. Locally-run instances may remove rpcuser to use cookie-based auth, or may be replaced with rpcauth. Please see share/rpcauth for rpcauth auth generation.\\n\");\n         strRPCUserColonPass = gArgs.GetArg(\"-rpcuser\", \"\") + \":\" + gArgs.GetArg(\"-rpcpassword\", \"\");\n     }\n-    if (gArgs.GetArg(\"-rpcauth\",\"\") != \"\")\n+    if (!gArgs.GetArgs(\"-rpcauth\").empty())",
    "path": "src/httprpc.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "601fe2d6f751356836c7bd98441d569c592ea4fe",
    "original_commit_id": "4bd1c3b1606021dff2b39a1927781b3c53428bbe",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"refactor: Fix more ALLOW_LIST arguments\" (4bd1c3b1606021dff2b39a1927781b3c53428bbe)\r\n\r\n> `gArgs.IsArgSet(\"-rpcauth\")` ?\r\n\r\nThat would do the wrong thing if the argument is negated. `IsArgSet` is generally broken and misused for list settings (and a lot of non-list settings), see #17783",
    "created_at": "2020-01-09T20:23:27Z",
    "updated_at": "2021-04-11T19:56:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17580#discussion_r364943182",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17580",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364943182"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17580#discussion_r364943182"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17580"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364943182/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 254,
    "original_line": 254,
    "side": "RIGHT",
    "in_reply_to_id": 364559553
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364943251",
    "pull_request_review_id": 340791706,
    "id": 364943251,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDk0MzI1MQ==",
    "diff_hunk": "@@ -190,6 +190,49 @@ struct TestArgsManager : public ArgsManager\n             AddArg(arg.first, \"\", arg.second, OptionsCategory::OPTIONS);\n         }\n     }\n+    //! Return registered argument information.\n+    Arg* FindArg(const std::string& name)\n+    {\n+        LOCK(cs_args);\n+        for (auto& category : m_available_args) {\n+            if (Arg* arg = util::FindKey(category.second, name)) {\n+                return arg;\n+            }\n+        }\n+        return nullptr;\n+    }\n+    //! Look up current registered argument flags so they can be modified, and\n+    //! restore them on destruction.\n+    struct TestFlags {\n+        TestFlags(TestArgsManager& test, const std::string& name) : arg(test.FindArg(name)) {}\n+        ~TestFlags() { if (arg) arg->m_flags = prev_flags; }\n+        Arg* arg;\n+        unsigned int prev_flags = arg ? arg->m_flags : 0;\n+    };\n+    //! Call GetArgs(), temporarily enabling ALLOW_LIST so call can succeed.",
    "path": "src/test/util_tests.cpp",
    "position": 23,
    "original_position": 23,
    "commit_id": "601fe2d6f751356836c7bd98441d569c592ea4fe",
    "original_commit_id": "4f3e5e9988280ac96b7979c352da218bbf939ed0",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"refactor: Always enforce ALLOW_LIST in CheckArgFlags\" (4f3e5e9988280ac96b7979c352da218bbf939ed0)\r\n\r\n> I think it might be better to restructure the tests than have these special functions that tweak the flags.\r\n\r\nI'm not too inclined to want to restructure the tests, though I'd be happy to review a PR that did. I also wouldn't want to do it in this PR because I'd like the test changes here to reflect only reflect behavior that's changing, and not have other differences.",
    "created_at": "2020-01-09T20:23:37Z",
    "updated_at": "2021-04-11T19:56:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17580#discussion_r364943251",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17580",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364943251"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17580#discussion_r364943251"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17580"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364943251/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 238,
    "original_line": 238,
    "side": "RIGHT",
    "in_reply_to_id": 364553512
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364943290",
    "pull_request_review_id": 340791706,
    "id": 364943290,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDk0MzI5MA==",
    "diff_hunk": "@@ -418,13 +418,18 @@ bool ArgsManager::CheckArgFlags(const std::string& name,\n {\n     Optional<unsigned int> flags = GetArgFlags(name);\n     if (!flags) return false;\n-    if (*flags & ArgsManager::ALLOW_ANY) return false;\n+\n+    unsigned int ignore_types = *flags & ALLOW_ANY ? ALLOW_BOOL | ALLOW_INT | ALLOW_STRING : 0;\n+    require &= ~ignore_types;\n+    forbid &= ~ignore_types;",
    "path": "src/util/system.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "601fe2d6f751356836c7bd98441d569c592ea4fe",
    "original_commit_id": "4f3e5e9988280ac96b7979c352da218bbf939ed0",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"refactor: Always enforce ALLOW_LIST in CheckArgFlags\" (4f3e5e9988280ac96b7979c352da218bbf939ed0):\r\n\r\nI see your point that CheckArgFlags is never called forbidding bool/int/string flags, so no need to update `forbid` and probably no reason to even want to, so I could make a simplification along those lines. I think I will at least drop the `forbid &= ~ignore_types` line.",
    "created_at": "2020-01-09T20:23:44Z",
    "updated_at": "2021-04-11T19:56:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17580#discussion_r364943290",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17580",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364943290"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17580#discussion_r364943290"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17580"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/364943290/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 424,
    "side": "RIGHT",
    "in_reply_to_id": 364551281
  }
]