DrahtBot,2021-09-18 01:35:37,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/23021#issuecomment-922156680,922156680,
kallewoof,2021-09-19 09:59:39,utACK dc10ca346b138d8de88c7bf53b1d7e69cc63e989,https://github.com/bitcoin/bitcoin/pull/23021#issuecomment-922446971,922446971,
laanwj,2021-09-20 12:52:51,"Concept and code review ACK dc10ca346b138d8de88c7bf53b1d7e69cc63e989\nReasoning here: https://github.com/bitcoin/bitcoin/pull/23000#issuecomment-921602311\n\nDid not test though, someone should test this before merge.",https://github.com/bitcoin/bitcoin/pull/23021#issuecomment-922899269,922899269,
laanwj,2021-09-24 11:24:17,Added checking for the signet DNS seed in bitcoin-core/bitcoin-maintainer-tools#116,https://github.com/bitcoin/bitcoin/pull/23021#issuecomment-926550070,926550070,
Sjors,2021-09-24 12:01:25,"Testing procedure is more or less: delete `.bitcoin/signet/peers.dat`, start `bitcoind -signet`, notice in the log it's using the DNS seed and successfully finds peers that way.\n\n_Update 2021-09-27:_ adding missing `A` below\n\nThe seed itself you can check with `dig +trace -t AAAA seed.signet.bitcoin.sprovoost.nl` and `dig -6 +trace  -t AAAA  seed.signet.bitcoin.sprovoost.nl`. The latter do",https://github.com/bitcoin/bitcoin/pull/23021#issuecomment-926570192,926570192,
michaelfolkson,2021-09-24 13:04:16,"I'll test this. Thanks for the instructions.\n\nBefore this PR there was a IPv4 hardcoded node, a IPv6 hardcoded node and a Tor hardcoded node for Signet. This PR replaces the IPv6 hardcoded node (which apparently no longer exists) with the DNS seed. I'm assuming the DNS seed (and the IPv4 hardcoded node) provide both IPv4 and IPv6 addresses? Have I understood that correctly? And that IP address",https://github.com/bitcoin/bitcoin/pull/23021#issuecomment-926608472,926608472,
Sjors,2021-09-24 15:06:08,"> I'm assuming the DNS seed (and the IPv4 hardcoded node) provide both IPv4 and IPv6 addresses? \n\nYes, use `dig -t A` to get IPv4 addresses and `dig -t AAAA` to get IPv6 addresses. The `-6` option in `dig` uses IPv6 exclusively in order to _reach_ the DNS seed, but that has no bearing on which address type is returned. \n\n> And that IP addresses will be requested from both the DNS seed and ",https://github.com/bitcoin/bitcoin/pull/23021#issuecomment-926700996,926700996,
Sjors,2021-09-27 09:48:41,"If it doesn't work for you even with `@seed1.signet.bitcoin.sprovoost.nl` then there may be a problem with the IPv6 configuration on your end.\n\nFortunately most people with an IPv6 connection can also connect to IPv4 DNS, from where they'll get a list of IPv6 peers. But indeed I would like it to work. I have the same problem with my testnet and mainnet seeds.",https://github.com/bitcoin/bitcoin/pull/23021#issuecomment-927704753,927704753,
laanwj,2021-09-27 12:48:29,Thanks for testing everyone. ,https://github.com/bitcoin/bitcoin/pull/23021#issuecomment-927839513,927839513,
Sjors,2021-09-27 13:24:18,@shaavan there should be 4 A's: `-t AAAA`,https://github.com/bitcoin/bitcoin/pull/23021#issuecomment-927872409,927872409,
stratospher,2021-09-27 16:38:45,"Post-merge tested ACK. Could connect to other peers via the DNS seed.\n`2021-09-27T14:03:42Z Loading addresses from DNS seed seed.signet.bitcoin.sprovoost.nl\n`\n\nCould reach the DNS seed using only IPv6 connectivity with `dig -6 -t AAAA @seed1.signet.bitcoin.sprovoost.nl seed.signet.bitcoin.sprovoost.nl` but not using `dig -6 +trace -t AAAA seed.signet.bitcoin.sprovoost.nl`",https://github.com/bitcoin/bitcoin/pull/23021#issuecomment-928057473,928057473,
Sjors,2021-09-29 07:56:18,I see the TODO was already removed in https://github.com/bitcoin/bitcoin/pull/23122,https://github.com/bitcoin/bitcoin/pull/23021#issuecomment-929931750,929931750,
Sjors,2021-09-17 19:28:28,Fwiw this onion node runs on a different machine than the DNS seed.,https://github.com/bitcoin/bitcoin/pull/23021#discussion_r711301012,711301012,src/chainparams.cpp
MarcoFalke,2021-09-28 10:09:12,"I am generally not a fan of `TODO` in the source code, especially ones that are impossible to solve by writing code. This one require someone to run a signet dns seed node. There is no risk in keeping the hardcoded addresses, so the TODO can simply be removed. If you think it should be kept, a simple `// Hardcoded addresses can be removed once there are more DNS seeds` would achieve the same witho",https://github.com/bitcoin/bitcoin/pull/23021#discussion_r717426632,717426632,src/chainparams.cpp
Sjors,2021-09-28 15:18:19,"> There is no risk in keeping the hardcoded addresses, so the TODO can simply be removed.\n\nActually there is a risk: the hardcoded nodes are worse in terms of privacy. Although this is not a big deal with Signet. Removing the word ""TODO"" is fine with me though.",https://github.com/bitcoin/bitcoin/pull/23021#discussion_r717688195,717688195,src/chainparams.cpp
prayank23,2021-09-28 18:26:24,"DNS seeds are bad in terms of security: https://bitcoin.stackexchange.com/questions/109852/dns-seeds-and-security\n\nEDIT: and privacy if not using DNS server or config options accordingly",https://github.com/bitcoin/bitcoin/pull/23021#discussion_r717854317,717854317,src/chainparams.cpp
MarcoFalke,2021-09-28 18:30:09,"The hardcoded fallbacks aren't used when your `peers.dat` already contains peer's addresses.\n\nIf the fallbacks are compromised, it will be bad for privacy/security regardless of whether they are retrieved from a hardcoded DNS or directly a hardcoded address.",https://github.com/bitcoin/bitcoin/pull/23021#discussion_r717857173,717857173,src/chainparams.cpp
michaelfolkson,2021-09-28 18:47:15,"@prayank23: Blanket statements like ""X is bad for security"" and ""Y is bad for privacy"" isn't particularly helpful when you don't provide a comparison or discuss the trade-offs. Would you rather use hardcoded IP addresses than DNS seeds? Or would you rather a new node fails to find any peers rather than using hardcoded IP addresses or DNS seeds? The eclipse attack only works if the attacker control",https://github.com/bitcoin/bitcoin/pull/23021#discussion_r717869557,717869557,src/chainparams.cpp
prayank23,2021-09-28 18:57:32,"@michaelfolkson \n\n> Blanket statements like ""X is bad for security"" and ""Y is bad for privacy"" isn't particularly helpful when you don't provide a comparison or discuss the trade-offs. Would you rather use hardcoded IP addresses than DNS seeds?\n\nIts not a blanket statement. Has some background and I was assuming people involved in this discussion know what I am talking about.\n\n> Would ",https://github.com/bitcoin/bitcoin/pull/23021#discussion_r717876831,717876831,src/chainparams.cpp
michaelfolkson,2021-09-28 19:04:41,"> I will prefer using IP for 9 DNS seeds used by Bitcoin Core\n\nSo you are arguing to ditch DNS seeds entirely for mainnet in favor of hardcoded IP addresses? Or using a mixture of both DNS seeds and hardcoded IP addresses? The Signet approach is just copying the mainnet approach just with fewer DNS seeds.",https://github.com/bitcoin/bitcoin/pull/23021#discussion_r717881811,717881811,src/chainparams.cpp
prayank23,2021-09-28 19:10:05,"First let me clarify:\n\nMy comment here was a response to Sjors and nothing else. I don't care what signet uses. Also I agree with comment by Marcofalke. It makes sense.\n\n> So you are arguing to ditch DNS seeds entirely for mainnet in favor of hardcoded IP addresses? Or using a mixture of both DNS seeds and hardcoded IP addresses?\n\nI am saying lets use same process as we do for Tor and ",https://github.com/bitcoin/bitcoin/pull/23021#discussion_r717885477,717885477,src/chainparams.cpp
