[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/513903507",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16436#issuecomment-513903507",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16436",
    "id": 513903507,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMzkwMzUwNw==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-22T18:37:18Z",
    "updated_at": "2019-07-24T02:31:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/513903507/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514195200",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16436#issuecomment-514195200",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16436",
    "id": 514195200,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDE5NTIwMA==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-23T12:48:59Z",
    "updated_at": "2019-07-23T12:48:59Z",
    "author_association": "MEMBER",
    "body": "@promag Thank you for your review. Your comments have been addressed.\r\n\r\n> It would be nice to remove all `ENABLE_WALLET` and other similar checks from `src/qt/bitcoin.cpp`.\r\n\r\nCould you elaborate your suggestion?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514195200/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/515806705",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16436#issuecomment-515806705",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16436",
    "id": 515806705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNTgwNjcwNQ==",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?u=a0e0040aacd7d4f0787481e8ac30b494fa429e11&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-29T00:09:25Z",
    "updated_at": "2019-07-29T00:09:25Z",
    "author_association": "MEMBER",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/515806705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/515911558",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16436#issuecomment-515911558",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16436",
    "id": 515911558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNTkxMTU1OA==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-29T09:10:10Z",
    "updated_at": "2019-07-29T09:10:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK 4057b7acb7125739537078d026ad96bb21708e3c\r\nRemoves three #ifdefs, probably very tiny ressource reduction when not running with the wallet.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/515911558/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516036438",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16436#issuecomment-516036438",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16436",
    "id": 516036438,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjAzNjQzOA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-29T15:18:50Z",
    "updated_at": "2019-07-29T15:18:50Z",
    "author_association": "MEMBER",
    "body": "ACK 4057b7acb7125739537078d026ad96bb21708e3c",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516036438/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306241103",
    "pull_request_review_id": 265310166,
    "id": 306241103,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjI0MTEwMw==",
    "diff_hunk": "@@ -211,11 +212,15 @@ BitcoinApplication::~BitcoinApplication()\n     delete window;\n     window = nullptr;\n #ifdef ENABLE_WALLET\n-    delete paymentServer;\n-    paymentServer = nullptr;\n-    delete m_wallet_controller;\n-    m_wallet_controller = nullptr;\n-#endif\n+    if (paymentServer) {",
    "path": "src/qt/bitcoin.cpp",
    "position": null,
    "original_position": 19,
    "commit_id": "4057b7acb7125739537078d026ad96bb21708e3c",
    "original_commit_id": "20ef0d51038614e9fcc1c2eeaa0528ccdb9d9596",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is not necessary, it is safe to `delete nullptr`.",
    "created_at": "2019-07-23T10:19:42Z",
    "updated_at": "2019-07-23T12:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16436#discussion_r306241103",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16436",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306241103"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16436#discussion_r306241103"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16436"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306241103/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 215,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306242913",
    "pull_request_review_id": 265310166,
    "id": 306242913,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjI0MjkxMw==",
    "diff_hunk": "@@ -331,24 +336,21 @@ void BitcoinApplication::initializeResult(bool success)\n     {\n         // Log this only after AppInitMain finishes, as then logging setup is guaranteed complete\n         qInfo() << \"Platform customization:\" << platformStyle->getName();\n-#ifdef ENABLE_WALLET\n-        m_wallet_controller = new WalletController(m_node, platformStyle, optionsModel, this);\n-#ifdef ENABLE_BIP70\n-        PaymentServer::LoadRootCAs();\n-#endif\n-        if (paymentServer) {\n-            paymentServer->setOptionsModel(optionsModel);\n-#ifdef ENABLE_BIP70\n-            connect(m_wallet_controller, &WalletController::coinsSent, paymentServer, &PaymentServer::fetchPaymentACK);\n-#endif\n-        }\n-#endif\n-\n         clientModel = new ClientModel(m_node, optionsModel);\n         window->setClientModel(clientModel);\n #ifdef ENABLE_WALLET\n-        window->setWalletController(m_wallet_controller);\n+        if (WalletModel::isWalletEnabled()) {\n+            m_wallet_controller = new WalletController(m_node, platformStyle, optionsModel, this);\n+            window->setWalletController(m_wallet_controller);\n+            if (paymentServer) {",
    "path": "src/qt/bitcoin.cpp",
    "position": 47,
    "original_position": 55,
    "commit_id": "4057b7acb7125739537078d026ad96bb21708e3c",
    "original_commit_id": "20ef0d51038614e9fcc1c2eeaa0528ccdb9d9596",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This could be `assert(paymentServer)`?",
    "created_at": "2019-07-23T10:24:11Z",
    "updated_at": "2019-07-23T12:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16436#discussion_r306242913",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16436",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306242913"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16436#discussion_r306242913"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16436"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306242913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 335,
    "original_line": 335,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306244911",
    "pull_request_review_id": 265310166,
    "id": 306244911,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjI0NDkxMQ==",
    "diff_hunk": "@@ -211,11 +212,15 @@ BitcoinApplication::~BitcoinApplication()\n     delete window;\n     window = nullptr;\n #ifdef ENABLE_WALLET\n-    delete paymentServer;\n-    paymentServer = nullptr;\n-    delete m_wallet_controller;\n-    m_wallet_controller = nullptr;\n-#endif\n+    if (paymentServer) {",
    "path": "src/qt/bitcoin.cpp",
    "position": null,
    "original_position": 19,
    "commit_id": "4057b7acb7125739537078d026ad96bb21708e3c",
    "original_commit_id": "20ef0d51038614e9fcc1c2eeaa0528ccdb9d9596",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Or maybe you want to get rid of these `delete` as these objects are owned by `BitcoinApplication` instance.",
    "created_at": "2019-07-23T10:29:07Z",
    "updated_at": "2019-07-23T12:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16436#discussion_r306244911",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16436",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306244911"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16436#discussion_r306244911"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16436"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306244911/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 215,
    "side": "RIGHT",
    "in_reply_to_id": 306241103
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306292210",
    "pull_request_review_id": 265374304,
    "id": 306292210,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjI5MjIxMA==",
    "diff_hunk": "@@ -331,24 +336,21 @@ void BitcoinApplication::initializeResult(bool success)\n     {\n         // Log this only after AppInitMain finishes, as then logging setup is guaranteed complete\n         qInfo() << \"Platform customization:\" << platformStyle->getName();\n-#ifdef ENABLE_WALLET\n-        m_wallet_controller = new WalletController(m_node, platformStyle, optionsModel, this);\n-#ifdef ENABLE_BIP70\n-        PaymentServer::LoadRootCAs();\n-#endif\n-        if (paymentServer) {\n-            paymentServer->setOptionsModel(optionsModel);\n-#ifdef ENABLE_BIP70\n-            connect(m_wallet_controller, &WalletController::coinsSent, paymentServer, &PaymentServer::fetchPaymentACK);\n-#endif\n-        }\n-#endif\n-\n         clientModel = new ClientModel(m_node, optionsModel);\n         window->setClientModel(clientModel);\n #ifdef ENABLE_WALLET\n-        window->setWalletController(m_wallet_controller);\n+        if (WalletModel::isWalletEnabled()) {\n+            m_wallet_controller = new WalletController(m_node, platformStyle, optionsModel, this);\n+            window->setWalletController(m_wallet_controller);\n+            if (paymentServer) {",
    "path": "src/qt/bitcoin.cpp",
    "position": 47,
    "original_position": 55,
    "commit_id": "4057b7acb7125739537078d026ad96bb21708e3c",
    "original_commit_id": "20ef0d51038614e9fcc1c2eeaa0528ccdb9d9596",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Failing to create a `PaymentServer` object is not critical, IMO.",
    "created_at": "2019-07-23T12:35:01Z",
    "updated_at": "2019-07-23T12:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16436#discussion_r306292210",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16436",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306292210"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16436#discussion_r306292210"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16436"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306292210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 335,
    "original_line": 335,
    "side": "RIGHT",
    "in_reply_to_id": 306242913
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306295774",
    "pull_request_review_id": 265378839,
    "id": 306295774,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjI5NTc3NA==",
    "diff_hunk": "@@ -211,11 +212,15 @@ BitcoinApplication::~BitcoinApplication()\n     delete window;\n     window = nullptr;\n #ifdef ENABLE_WALLET\n-    delete paymentServer;\n-    paymentServer = nullptr;\n-    delete m_wallet_controller;\n-    m_wallet_controller = nullptr;\n-#endif\n+    if (paymentServer) {",
    "path": "src/qt/bitcoin.cpp",
    "position": null,
    "original_position": 19,
    "commit_id": "4057b7acb7125739537078d026ad96bb21708e3c",
    "original_commit_id": "20ef0d51038614e9fcc1c2eeaa0528ccdb9d9596",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> Or maybe you want to get rid of these `delete` as these objects are owned by `BitcoinApplication` instance.\r\n\r\nExactly!",
    "created_at": "2019-07-23T12:42:52Z",
    "updated_at": "2019-07-23T12:45:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16436#discussion_r306295774",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16436",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306295774"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16436#discussion_r306295774"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16436"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306295774/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 215,
    "side": "RIGHT",
    "in_reply_to_id": 306241103
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/308288191",
    "pull_request_review_id": 267854717,
    "id": 308288191,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwODI4ODE5MQ==",
    "diff_hunk": "@@ -331,24 +336,21 @@ void BitcoinApplication::initializeResult(bool success)\n     {\n         // Log this only after AppInitMain finishes, as then logging setup is guaranteed complete\n         qInfo() << \"Platform customization:\" << platformStyle->getName();\n-#ifdef ENABLE_WALLET\n-        m_wallet_controller = new WalletController(m_node, platformStyle, optionsModel, this);\n-#ifdef ENABLE_BIP70\n-        PaymentServer::LoadRootCAs();\n-#endif\n-        if (paymentServer) {\n-            paymentServer->setOptionsModel(optionsModel);\n-#ifdef ENABLE_BIP70\n-            connect(m_wallet_controller, &WalletController::coinsSent, paymentServer, &PaymentServer::fetchPaymentACK);\n-#endif\n-        }\n-#endif\n-\n         clientModel = new ClientModel(m_node, optionsModel);\n         window->setClientModel(clientModel);\n #ifdef ENABLE_WALLET\n-        window->setWalletController(m_wallet_controller);\n+        if (WalletModel::isWalletEnabled()) {\n+            m_wallet_controller = new WalletController(m_node, platformStyle, optionsModel, this);\n+            window->setWalletController(m_wallet_controller);\n+            if (paymentServer) {",
    "path": "src/qt/bitcoin.cpp",
    "position": 47,
    "original_position": 55,
    "commit_id": "4057b7acb7125739537078d026ad96bb21708e3c",
    "original_commit_id": "20ef0d51038614e9fcc1c2eeaa0528ccdb9d9596",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Also `new` will never return a `nullptr` anyway.",
    "created_at": "2019-07-29T15:17:16Z",
    "updated_at": "2019-07-29T15:17:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16436#discussion_r308288191",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16436",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/308288191"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16436#discussion_r308288191"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16436"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/308288191/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 335,
    "original_line": 335,
    "side": "RIGHT",
    "in_reply_to_id": 306242913
  }
]