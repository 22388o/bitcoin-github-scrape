[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/834797934",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-834797934",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 834797934,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzNDc5NzkzNA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-07T21:38:43Z",
    "updated_at": "2021-11-28T07:39:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23604](https://github.com/bitcoin/bitcoin/pull/23604) (Use Sock in CNode by vasild)\n* [#23601](https://github.com/bitcoin/bitcoin/pull/23601) (Don't check if the listening socket is valid by vasild)\n* [#23531](https://github.com/bitcoin/bitcoin/pull/23531) (Add Yggdrasil support by prusnak)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/834797934/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/835354757",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-835354757",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 835354757,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzNTM1NDc1Nw==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-08T13:04:39Z",
    "updated_at": "2021-05-08T13:04:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/835354757/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/836534385",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-836534385",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 836534385,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzNjUzNDM4NQ==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-10T10:37:44Z",
    "updated_at": "2021-05-10T10:37:44Z",
    "author_association": "MEMBER",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/836534385/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/844029203",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-844029203",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 844029203,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NDAyOTIwMw==",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-19T11:53:45Z",
    "updated_at": "2021-05-19T11:53:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "`fb10bf2ba7...0f83150f14`: rebase due to conflicts",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/844029203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/845128303",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-845128303",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 845128303,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NTEyODMwMw==",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-20T13:35:55Z",
    "updated_at": "2021-05-20T13:35:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "`0f83150f14...9f69aa45a8`: rebase and follow the trend from https://github.com/bitcoin/bitcoin/pull/21659 and flag the newly added `Sock::Accept()` with `[[nodiscard]]`",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/845128303/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/853921892",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-853921892",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 853921892,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1MzkyMTg5Mg==",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-03T14:39:59Z",
    "updated_at": "2021-06-03T14:39:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "`9f69aa45a8...9f04449a8e`: apply [upstream changes](https://github.com/bitcoin/bitcoin/pull/21878#issuecomment-851327527).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/853921892/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/858463480",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-858463480",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 858463480,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODQ2MzQ4MA==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T09:24:58Z",
    "updated_at": "2021-06-10T09:24:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "@vasild \r\n\r\nVery nice work.\r\n\r\nNon-blocking suggestion: Would it be possible to add a fuzzing harness utilizing `FuzzedSock::Accept` as part of this PR? It would be really nice to see this in action, and it would also transition `FuzzedSock::Accept` out of \"unused code\" territory :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/858463480/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/858509780",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-858509780",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 858509780,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODUwOTc4MA==",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T10:33:41Z",
    "updated_at": "2021-06-10T10:33:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Would the goal eventually be to not have to invoke `Sock::Release()` anywhere and instead use move semantics across the board as more code is RAII-fied?\r\n\r\nYes! https://github.com/bitcoin/bitcoin/pull/21878 removes `Sock::Release()` in a later commit, called... eh... `net: remove now unused Sock::Release()` :smile:. It uses either move semantics or passes the `Sock` objects by reference if a function wants to use the socket but not claim ownership of it.\r\n\r\n> Would it be possible to add a fuzzing harness utilizing `FuzzedSock::Accept` as part of this PR? ...\r\n\r\nThe `Accept()` method is only called from `CConnman::AcceptConnection()` which itself calls a bunch of other functions that are not mocked yet in this PR. All those are dealt with in https://github.com/bitcoin/bitcoin/pull/21878 which also adds fuzzing of `CConnman::SocketHandler()` (which calls `CConnman::AcceptConnection()`) in commit `fuzz: add CConnman::SocketHandler() to the tests`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/858509780/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903862974",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-903862974",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 903862974,
    "node_id": "IC_kwDOABII584139q-",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-23T15:12:29Z",
    "updated_at": "2021-08-23T15:12:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jamesob, thanks for looking into this!\r\n\r\nYour mod changes `ERR` from `-1` to `0` and the code looks like this:\r\n\r\n```cpp\r\n    const auto socket = accept(m_socket, addr, addr_len);\r\n    if (socket == 0) {\r\n        return nullptr;\r\n    }\r\n    return std::make_unique<Sock>(socket);\r\n```\r\n\r\nThis will change the behavior in two cases:\r\n\r\n1. If `accept()` succeeds and returns socket=0. Could happen if stdin (fd=0) is closed and the descriptor number `0` is reused? In this case `Sock::Accept()` would return `nullptr`, signaling failure.\r\n2. If `accept()` fails and returns `-1`, then the check `-1 == 0` would be false and `Sock::Accept()` would return a `Sock` object with internal `m_socket` equal to `-1`.\r\n\r\nI think it is unlikely that any of that happens (the real syscall `accept()` to return `-1` or `0`).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903862974/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/904186911",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-904186911",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 904186911,
    "node_id": "IC_kwDOABII58415Mwf",
    "user": {
      "login": "jamesob",
      "id": 73197,
      "node_id": "MDQ6VXNlcjczMTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesob",
      "html_url": "https://github.com/jamesob",
      "followers_url": "https://api.github.com/users/jamesob/followers",
      "following_url": "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesob/orgs",
      "repos_url": "https://api.github.com/users/jamesob/repos",
      "events_url": "https://api.github.com/users/jamesob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesob/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-23T22:53:10Z",
    "updated_at": "2021-08-23T22:53:10Z",
    "author_association": "MEMBER",
    "body": "@vasild yup, it was that second case I was curious about. Nothing wrong with this PR of course, just thought it might be interesting to note that we don't seem to have any coverage for the `accept()`-fails branches. I think this PR will make it feasible to add such coverage, if that ends up being worth doing.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/904186911/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/904356598",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-904356598",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 904356598,
    "node_id": "IC_kwDOABII584152L2",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-24T06:21:39Z",
    "updated_at": "2021-08-24T06:21:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Right! `CConnman::AcceptConnection()` is a candidate for fuzzing once all of #21878 is merged.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/904356598/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/907245286",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-907245286",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 907245286,
    "node_id": "IC_kwDOABII5842E3bm",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-27T14:28:03Z",
    "updated_at": "2021-08-27T14:28:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "This PR has 2 ACKs and 2 Concept ACKs. @practicalswift, @jonatack, willing to upgrade your \"Concept ACK\"s to full code review ACKs?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/907245286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/907246767",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-907246767",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 907246767,
    "node_id": "IC_kwDOABII5842E3yv",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-27T14:30:14Z",
    "updated_at": "2021-08-27T14:30:14Z",
    "author_association": "MEMBER",
    "body": "Yes, I was reviewing this a few days ago when I hit the addrman corruption issue from the asmap/addrman init order. Back to it soon!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/907246767/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/928928790",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-928928790",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 928928790,
    "node_id": "IC_kwDOABII5843XlQW",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-28T07:27:01Z",
    "updated_at": "2021-09-28T07:27:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "`9f04449a8e...78e21e511e`: rebase due to a silent windows-only \"conflict\" and address review suggestions.\r\n\r\nInvalidates ACKs from @dhruv, @jamesob, @jonatack.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/928928790/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929016207",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-929016207",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 929016207,
    "node_id": "IC_kwDOABII5843X6mP",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-28T09:25:11Z",
    "updated_at": "2021-09-28T09:25:11Z",
    "author_association": "MEMBER",
    "body": "Diff-review re-ACK 78e21e511ee241900b84d763462f26972d83b600 per `git range-diff a9d0cec 9f04449 78e21e` following my previous full review (https://github.com/bitcoin/bitcoin/pull/21879#pullrequestreview-761251278)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929016207/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929203985",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-929203985",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 929203985,
    "node_id": "IC_kwDOABII5843YocR",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-28T13:20:43Z",
    "updated_at": "2021-09-28T13:20:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "`78e21e511e...07d998f05f`: rebase to hopefully fix some unrelated CI failure.\r\n\r\nInvalidates ACK from @jonatack.\r\n\r\nACKs on previous versions of this PR from @dhruv, @jamesob.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929203985/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929210846",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-929210846",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 929210846,
    "node_id": "IC_kwDOABII5843YqHe",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-28T13:28:57Z",
    "updated_at": "2021-09-28T13:28:57Z",
    "author_association": "MEMBER",
    "body": "No need to invalidate ACKs for that. You can rerun the task yourself if it is a known issue (if not, report it first). If you don't have the rights you can ask for it to be rerun.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929210846/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929307294",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-929307294",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 929307294,
    "node_id": "IC_kwDOABII5843ZBqe",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-28T14:53:13Z",
    "updated_at": "2021-09-28T14:53:13Z",
    "author_association": "MEMBER",
    "body": "re-ACK 07d998f05f7cc9545324203240e2bbcaaab45b6a per `git range-diff efa227f 78e21e5 07d998f`",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929307294/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/965001159",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-965001159",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 965001159,
    "node_id": "IC_kwDOABII5845hL_H",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-10T10:36:09Z",
    "updated_at": "2021-11-10T10:36:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "`07d998f05f...0f4474d6da`: rebase due to conflicts\r\n\r\nInvalidates ACK from @jonatack \r\n\r\nPreviously invalidated ACKs from @dhruv, @jamesob \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/965001159/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/979885909",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-979885909",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 979885909,
    "node_id": "IC_kwDOABII5846Z99V",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-26T11:04:27Z",
    "updated_at": "2021-11-26T11:04:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "`0f4474d6da...976f6e8bc9`: rebase due to conflicts; close the accepted socket if `std::make_unique()` throws.\r\n\r\nInvalidates ACK from @jonatack\r\n\r\nPreviously invalidated ACKs from @dhruv, @jamesob",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/979885909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/983762476",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#issuecomment-983762476",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21879",
    "id": 983762476,
    "node_id": "IC_kwDOABII5846owYs",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-01T15:37:17Z",
    "updated_at": "2021-12-01T15:37:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "`976f6e8bc9...6bf6e9fd9d`: rebase due to conflicts\r\n\r\nPreviously invalidated ACKs from @jonatack, @dhruv, @jamesob",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/983762476/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646982907",
    "pull_request_review_id": 677939141,
    "id": 646982907,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0Njk4MjkwNw==",
    "diff_hunk": "@@ -108,6 +109,22 @@ class StaticContentsSock : public Sock\n \n     int Connect(const sockaddr*, socklen_t) const override { return 0; }\n \n+    std::unique_ptr<Sock> Accept(sockaddr* addr, socklen_t* addr_len) const override\n+    {\n+        if (addr != nullptr) {\n+            // Pretend all connections come from 5.5.5.5:6789\n+            memset(addr, 0x00, *addr_len);\n+            if (*addr_len >= sizeof(sockaddr_in)) {\n+                *addr_len = sizeof(sockaddr_in);\n+                sockaddr_in* addr_in = reinterpret_cast<sockaddr_in*>(addr);\n+                addr_in->sin_family = AF_INET;\n+                memset(&addr_in->sin_addr, 0x05, sizeof(addr_in->sin_addr));",
    "path": "src/test/util/net.h",
    "position": 22,
    "original_position": 21,
    "commit_id": "6bf6e9fd9dece67878595a5f3361851c25833c49",
    "original_commit_id": "11e59842e30ab5e76027a17c1ac411bd0121d383",
    "user": {
      "login": "dhruv",
      "id": 856960,
      "node_id": "MDQ6VXNlcjg1Njk2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/856960?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhruv",
      "html_url": "https://github.com/dhruv",
      "followers_url": "https://api.github.com/users/dhruv/followers",
      "following_url": "https://api.github.com/users/dhruv/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhruv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhruv/subscriptions",
      "organizations_url": "https://api.github.com/users/dhruv/orgs",
      "repos_url": "https://api.github.com/users/dhruv/repos",
      "events_url": "https://api.github.com/users/dhruv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhruv/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(nit): Would `inet_pton(AF_INET, \"5.5.5.5\", &addr_in->sin_addr);` be clearer?",
    "created_at": "2021-06-07T22:29:54Z",
    "updated_at": "2021-06-09T20:19:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#discussion_r646982907",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21879",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646982907"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21879#discussion_r646982907"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21879"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646982907/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 140,
    "original_line": 140,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646996261",
    "pull_request_review_id": 677939141,
    "id": 646996261,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0Njk5NjI2MQ==",
    "diff_hunk": "@@ -108,6 +109,22 @@ class StaticContentsSock : public Sock\n \n     int Connect(const sockaddr*, socklen_t) const override { return 0; }\n \n+    std::unique_ptr<Sock> Accept(sockaddr* addr, socklen_t* addr_len) const override\n+    {\n+        if (addr != nullptr) {\n+            // Pretend all connections come from 5.5.5.5:6789\n+            memset(addr, 0x00, *addr_len);\n+            if (*addr_len >= sizeof(sockaddr_in)) {\n+                *addr_len = sizeof(sockaddr_in);\n+                sockaddr_in* addr_in = reinterpret_cast<sockaddr_in*>(addr);\n+                addr_in->sin_family = AF_INET;\n+                memset(&addr_in->sin_addr, 0x05, sizeof(addr_in->sin_addr));\n+                addr_in->sin_port = htons(6789);",
    "path": "src/test/util/net.h",
    "position": 23,
    "original_position": 22,
    "commit_id": "6bf6e9fd9dece67878595a5f3361851c25833c49",
    "original_commit_id": "11e59842e30ab5e76027a17c1ac411bd0121d383",
    "user": {
      "login": "dhruv",
      "id": 856960,
      "node_id": "MDQ6VXNlcjg1Njk2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/856960?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhruv",
      "html_url": "https://github.com/dhruv",
      "followers_url": "https://api.github.com/users/dhruv/followers",
      "following_url": "https://api.github.com/users/dhruv/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhruv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhruv/subscriptions",
      "organizations_url": "https://api.github.com/users/dhruv/orgs",
      "repos_url": "https://api.github.com/users/dhruv/repos",
      "events_url": "https://api.github.com/users/dhruv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhruv/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Would it be useful for this address and port to be available as constants to use in tests?",
    "created_at": "2021-06-07T23:03:21Z",
    "updated_at": "2021-06-09T20:19:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#discussion_r646996261",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21879",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646996261"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21879#discussion_r646996261"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21879"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/646996261/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 141,
    "original_line": 141,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649051340",
    "pull_request_review_id": 680605549,
    "id": 649051340,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0OTA1MTM0MA==",
    "diff_hunk": "@@ -108,6 +109,22 @@ class StaticContentsSock : public Sock\n \n     int Connect(const sockaddr*, socklen_t) const override { return 0; }\n \n+    std::unique_ptr<Sock> Accept(sockaddr* addr, socklen_t* addr_len) const override\n+    {\n+        if (addr != nullptr) {\n+            // Pretend all connections come from 5.5.5.5:6789\n+            memset(addr, 0x00, *addr_len);\n+            if (*addr_len >= sizeof(sockaddr_in)) {\n+                *addr_len = sizeof(sockaddr_in);\n+                sockaddr_in* addr_in = reinterpret_cast<sockaddr_in*>(addr);\n+                addr_in->sin_family = AF_INET;\n+                memset(&addr_in->sin_addr, 0x05, sizeof(addr_in->sin_addr));",
    "path": "src/test/util/net.h",
    "position": 22,
    "original_position": 21,
    "commit_id": "6bf6e9fd9dece67878595a5f3361851c25833c49",
    "original_commit_id": "11e59842e30ab5e76027a17c1ac411bd0121d383",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, that would be clearer. However, some `inet_...()` function ended up using syscalls (it created sockets internally, IIRC) on Linux. @practicalswift, what do you think?",
    "created_at": "2021-06-10T10:19:21Z",
    "updated_at": "2021-06-10T10:19:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#discussion_r649051340",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21879",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649051340"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21879#discussion_r649051340"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21879"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649051340/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 140,
    "original_line": 140,
    "side": "RIGHT",
    "in_reply_to_id": 646982907
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649053342",
    "pull_request_review_id": 680608114,
    "id": 649053342,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0OTA1MzM0Mg==",
    "diff_hunk": "@@ -108,6 +109,22 @@ class StaticContentsSock : public Sock\n \n     int Connect(const sockaddr*, socklen_t) const override { return 0; }\n \n+    std::unique_ptr<Sock> Accept(sockaddr* addr, socklen_t* addr_len) const override\n+    {\n+        if (addr != nullptr) {\n+            // Pretend all connections come from 5.5.5.5:6789\n+            memset(addr, 0x00, *addr_len);\n+            if (*addr_len >= sizeof(sockaddr_in)) {\n+                *addr_len = sizeof(sockaddr_in);\n+                sockaddr_in* addr_in = reinterpret_cast<sockaddr_in*>(addr);\n+                addr_in->sin_family = AF_INET;\n+                memset(&addr_in->sin_addr, 0x05, sizeof(addr_in->sin_addr));\n+                addr_in->sin_port = htons(6789);",
    "path": "src/test/util/net.h",
    "position": 23,
    "original_position": 22,
    "commit_id": "6bf6e9fd9dece67878595a5f3361851c25833c49",
    "original_commit_id": "11e59842e30ab5e76027a17c1ac411bd0121d383",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "They are not used anywhere else. Also, a legit code should expect an incoming connection to arrive from any address, so it would be bad to expose this, so that some code starts to depend on it or checks whether the accepted connection came from `5.5.5.5`.",
    "created_at": "2021-06-10T10:22:22Z",
    "updated_at": "2021-06-10T10:34:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#discussion_r649053342",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21879",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649053342"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21879#discussion_r649053342"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21879"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/649053342/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 141,
    "original_line": 141,
    "side": "RIGHT",
    "in_reply_to_id": 646996261
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/714192672",
    "pull_request_review_id": 761251278,
    "id": 714192672,
    "node_id": "PRRC_kwDOABII584qkbcg",
    "diff_hunk": "@@ -10,6 +10,7 @@\n #include <util/time.h>\n \n #include <chrono>\n+#include <memory>",
    "path": "src/util/sock.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "6bf6e9fd9dece67878595a5f3361851c25833c49",
    "original_commit_id": "9f04449a8ec7dc167a0d6d0cb47c5facd205a81a",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "11e59842e30ab5 nit if you retouch, add this header to the .cpp file as well",
    "created_at": "2021-09-22T18:10:49Z",
    "updated_at": "2021-09-22T18:33:04Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#discussion_r714192672",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21879",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/714192672"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21879#discussion_r714192672"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21879"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/714192672/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 13,
    "original_line": 13,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/717298773",
    "pull_request_review_id": 765065941,
    "id": 717298773,
    "node_id": "PRRC_kwDOABII584qwRxV",
    "diff_hunk": "@@ -10,6 +10,7 @@\n #include <util/time.h>\n \n #include <chrono>\n+#include <memory>",
    "path": "src/util/sock.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "6bf6e9fd9dece67878595a5f3361851c25833c49",
    "original_commit_id": "9f04449a8ec7dc167a0d6d0cb47c5facd205a81a",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Added.",
    "created_at": "2021-09-28T07:27:47Z",
    "updated_at": "2021-09-28T07:27:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21879#discussion_r717298773",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21879",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/717298773"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21879#discussion_r717298773"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21879"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/717298773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 13,
    "original_line": 13,
    "side": "RIGHT",
    "in_reply_to_id": 714192672
  }
]