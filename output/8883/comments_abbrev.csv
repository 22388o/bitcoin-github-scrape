fanquake,2016-10-05T07:10:22Z,"Windows builds are failing:\n\n```\nmake[2]: Entering directory `/home/travis/build/bitcoin/bitcoin/build/src'\n  CXX      bitcoin_tx-bitcoin-tx.o\n../../src/bitcoin-tx.cpp: In function ‘void MutateTxAddOutMultiSig(CMutableTransaction&, const string&)’:\n../../src/bitcoin-tx.cpp:309:5: error: ‘uint’ was not declared in this scope\n     uint required = std::stoul(vStrInputParts[1]);\n     ^\n../../",https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-251599172,251599172,
paveljanik,2016-10-05T18:18:09Z,Concept ACK\n\nNew warning:\n\n```\nbitcoin-tx.cpp:283:25: warning: declaration shadows a local variable [-Wshadow]\n        CBitcoinAddress addr(scriptPubKey);\n                        ^\nbitcoin-tx.cpp:265:21: note: previous declaration is here\n    CBitcoinAddress addr(scriptPubKey);\n                    ^\n1 warning generated.\n```\n,https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-251755715,251755715,
jnewbery,2016-10-05T19:04:11Z,Thanks @paveljanik . Fixed in squashed commit.\n,https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-251768273,251768273,
paveljanik,2016-10-05T19:18:30Z,"`-Wshadow` clean now, thanks!\n\nI'll read the changes later tonight.\n",https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-251771826,251771826,
jonasschnelli,2016-10-08T14:52:50Z,Concept ACK.\n,https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-252428720,252428720,
laanwj,2016-10-18T19:23:33Z,Needs rebase.\n,https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-254611954,254611954,
jnewbery,2016-10-18T20:33:05Z,Rebased. @jonasschnelli - are you happy with my responses above?\n,https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-254630699,254630699,
jonasschnelli,2016-10-19T12:13:24Z,"@jnewbery: Yes.\nutACK, will test now...\n",https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-254794552,254794552,
jonasschnelli,2016-10-19T12:16:01Z,Travis is failing on the new tests:\n\n```\nRunning test/bitcoin-util-test.py...\nmake[4]: Entering directory `/home/travis/build/bitcoin/bitcoin/build/src'\nOutput data mismatch for txcreatescript1.json\nmake[3]: *** [check-local] Error 1\nmake[3]: *** Waiting for unfinished jobs....\n```\n,https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-254795091,254795091,
jnewbery,2016-10-24T14:39:21Z,I've fixed the failing testcases and squashed the commits. @jonasschnelli - please let me know if you have any further feedback for this PR.\n,https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-255759492,255759492,
jonasschnelli,2016-10-28T08:59:41Z,slightly tested ACK e5fecbf64d1dad360490294d1aad79497dcb1de7.\nSomeone should verify the unit tests fixtures.\n,https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-256871099,256871099,
laanwj,2016-12-14T09:24:30Z,"utACK.\nNeeds rebase though.",https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-266984761,266984761,
jnewbery,2016-12-23T13:44:34Z,rebased,https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-268991651,268991651,
MarcoFalke,2016-12-27T22:46:25Z,"Travis fails with\n\n2016-12-27 19:30:20,251 - ERROR - Output data mismatch for txcreatescript1.hex (format hex)\n\n\nEdit: Also make sure to include all new files: #9436",https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-269393665,269393665,
jnewbery,2017-01-09T22:26:13Z,Rebased. I had to do a couple of large merges (removing std namespace and updating default tx version). @laanwj - let me know if there's anything I can do to help get this merged into master.,https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-271427581,271427581,
paveljanik,2016-10-05T20:19:14Z,Why do you sometimes translate dot at the end of sentence and sometimes not?\n,https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82060995,82060995,src/bitcoin-tx.cpp
paveljanik,2016-10-05T20:20:04Z,Separate (e -> a)?\n,https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82061170,82061170,src/bitcoin-tx.cpp
paveljanik,2016-10-05T20:21:57Z,"This adds another dependency on boost. But as we already use it in this file, it is OK. And definitely looks better ;-)\n",https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82061577,82061577,src/bitcoin-tx.cpp
paveljanik,2016-10-05T20:25:56Z,"```\n$ grep ""Extract and validate VALUE"" bitcoin-tx.cpp \n    // Extract and validate VALUE\n    // Extract and validate VALUE\n    // Extract and validate VALUE\n$ \n```\n\nWhat about adding some function for this and share the code in all instances?\n",https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82062437,82062437,src/bitcoin-tx.cpp
czzarr,2016-10-05T21:15:33Z,fixed\n,https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82072403,82072403,src/bitcoin-tx.cpp
czzarr,2016-10-05T21:35:32Z,"for some reason I get a compile error when I put the dot in the sentence:\n\n```\nbitcoin-tx.cpp:79:13: error: expected ')'\n            _(""Optionally add the \""W\"" flag to produce a pay-to-witness-pubkey-hash output"") + "". "" +\n            ^\nbitcoin-tx.cpp:78:35: note: to match this '('\n        strUsage += HelpMessageOpt(""outpubkey=VALUE:PUBKEY[:FLAGS]"", _(""Add pay-to-pubkey output to TX. "")\n ",https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82076193,82076193,src/bitcoin-tx.cpp
czzarr,2016-10-05T21:46:49Z,done in https://github.com/bitcoin/bitcoin/pull/8883/commits/79cd9275db714603f4a3c55360b3d52a945d95da\n,https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82078198,82078198,src/bitcoin-tx.cpp
jonasschnelli,2016-10-08T14:47:54Z,"Is there a reason for `bSegWit` and not directly use `(flags.find(""W"") != string::pos)`?\n",https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82503606,82503606,src/bitcoin-tx.cpp
jonasschnelli,2016-10-08T14:48:08Z,maybe a `else if`?\n,https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82503609,82503609,src/bitcoin-tx.cpp
jonasschnelli,2016-10-08T14:49:05Z,Does this result in supporting pure `P2PK` (not `P2PKH`)?\n,https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82503625,82503625,src/bitcoin-tx.cpp
jnewbery,2016-10-11T09:01:19Z,"Yes - without either flag, the TXO will be a P2PK.\n- With just the `H` flag, the TXO is a P2SH\n- With just the `W` flag, the TXO is a P2WPK\n- With both the `H` and `W` flags, the TXO is a P2WPK wrapped in a P2SH\n",https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82750721,82750721,src/bitcoin-tx.cpp
jnewbery,2016-10-11T09:04:51Z,See below. The flags are not exclusive. I need to put the `flags.find()` test inside the  `(vStrInputParts.size() == 3)` so I may as well parse for both flags at the same point and store the result in variables.\n,https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82751285,82751285,src/bitcoin-tx.cpp
jnewbery,2016-10-11T09:04:53Z,"They're not exclusive. If both flags are used, we output a P2WPKH wrapped in P2SH.\n",https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82751294,82751294,src/bitcoin-tx.cpp
