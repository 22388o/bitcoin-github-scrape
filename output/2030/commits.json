[
  {
    "sha": "fe703deae753710dc80dcc280ff475af06c0ac85",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmZTcwM2RlYWU3NTM3MTBkYzgwZGNjMjgwZmY0NzVhZjA2YzBhYzg1",
    "commit": {
      "author": {
        "name": "default",
        "email": "default@default-dell.(none)",
        "date": "2012-11-21T19:38:56Z"
      },
      "committer": {
        "name": "default",
        "email": "default@default-dell.(none)",
        "date": "2012-11-21T19:38:56Z"
      },
      "message": "Deploy properly with Nokia Qt installer's Frameworks",
      "tree": {
        "sha": "ad3075096cb3bc4173cb5245c198bf87d05f3353",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ad3075096cb3bc4173cb5245c198bf87d05f3353"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fe703deae753710dc80dcc280ff475af06c0ac85",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fe703deae753710dc80dcc280ff475af06c0ac85",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fe703deae753710dc80dcc280ff475af06c0ac85",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fe703deae753710dc80dcc280ff475af06c0ac85/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "4725e96a3aaa4dd602bd356390d190c6777c3a60",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4725e96a3aaa4dd602bd356390d190c6777c3a60",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4725e96a3aaa4dd602bd356390d190c6777c3a60"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 9,
      "deletions": 3
    },
    "files": [
      {
        "sha": "cc60537589c12e65423ca14fb23be1793710a71c",
        "filename": "contrib/macdeploy/macdeployqtplus",
        "status": "modified",
        "additions": 9,
        "deletions": 3,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fe703deae753710dc80dcc280ff475af06c0ac85/contrib/macdeploy/macdeployqtplus",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fe703deae753710dc80dcc280ff475af06c0ac85/contrib/macdeploy/macdeployqtplus",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/macdeploy/macdeployqtplus?ref=fe703deae753710dc80dcc280ff475af06c0ac85",
        "patch": "@@ -172,7 +172,9 @@ class DeploymentInfo(object):\n         elif os.path.exists(os.path.join(os.path.dirname(parentDir), \"share\", \"qt4\", \"translations\")):\n             # Newer Macports layout\n             self.qtPath = os.path.join(os.path.dirname(parentDir), \"share\", \"qt4\")\n-        \n+        else:\n+            self.qtPath = os.getenv(\"QTDIR\", None)\n+\n         if self.qtPath is not None:\n             pluginPath = os.path.join(self.qtPath, \"plugins\")\n             if os.path.exists(pluginPath):\n@@ -242,7 +244,11 @@ def runStrip(binaryPath, verbose):\n     subprocess.check_call([\"strip\", \"-x\", binaryPath])\n \n def copyFramework(framework, path, verbose):\n-    fromPath = framework.sourceFilePath\n+    if framework.sourceFilePath.startswith(\"Qt\"):\n+        #standard place for Nokia Qt installer's frameworks\n+        fromPath = \"/Library/Frameworks/\" + framework.sourceFilePath\n+    else:\n+        fromPath = framework.sourceFilePath\n     toDir = os.path.join(path, framework.destinationDirectory)\n     toPath = os.path.join(toDir, framework.binaryName)\n     \n@@ -345,7 +351,7 @@ def deployPlugins(appBundleInfo, deploymentInfo, strip, verbose):\n         if pluginDirectory == \"designer\":\n             # Skip designer plugins\n             continue\n-        elif pluginDirectory == \"phonon\":\n+        elif pluginDirectory == \"phonon\" or pluginDirectory == \"phonon_backend\":\n             # Deploy the phonon plugins only if phonon is in use\n             if not deploymentInfo.usesFramework(\"phonon\"):\n                 continue"
      }
    ]
  }
]