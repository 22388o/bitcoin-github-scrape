[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323222446",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#issuecomment-323222446",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11062",
    "id": 323222446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzIyMjQ0Ng==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-17T23:39:51Z",
    "updated_at": "2017-08-17T23:39:51Z",
    "author_association": "MEMBER",
    "body": "Yes, what about it?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323222446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323264361",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#issuecomment-323264361",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11062",
    "id": 323264361,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzI2NDM2MQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-18T05:39:30Z",
    "updated_at": "2017-08-18T05:39:30Z",
    "author_association": "MEMBER",
    "body": "utACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323264361/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323611929",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#issuecomment-323611929",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11062",
    "id": 323611929,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzYxMTkyOQ==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-20T21:05:03Z",
    "updated_at": "2017-08-20T21:05:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK 8c8ef83edc8724f2dc7e363e9c412c5df564e08f",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323611929/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326567948",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#issuecomment-326567948",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11062",
    "id": 326567948,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjU2Nzk0OA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-01T12:30:14Z",
    "updated_at": "2017-09-01T12:30:14Z",
    "author_association": "MEMBER",
    "body": "utACK 8c8ef83",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326567948/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326871466",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#issuecomment-326871466",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11062",
    "id": 326871466,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjg3MTQ2Ng==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-04T05:48:51Z",
    "updated_at": "2017-09-04T05:48:51Z",
    "author_association": "MEMBER",
    "body": "@jnewbery Thanks for the review! You're right, I think I was overthinking things when I tried to split commits. I've squashed into one commit and addressed your nits.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326871466/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326945512",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#issuecomment-326945512",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11062",
    "id": 326945512,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjk0NTUxMg==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-04T12:01:16Z",
    "updated_at": "2017-09-04T12:01:16Z",
    "author_association": "MEMBER",
    "body": "`already_there` seems fine to me. Will retest later.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326945512/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327046949",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#issuecomment-327046949",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11062",
    "id": 327046949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzA0Njk0OQ==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-05T01:16:27Z",
    "updated_at": "2017-09-05T01:16:27Z",
    "author_association": "MEMBER",
    "body": "Didn't realize test failed. Restarting as it's obviously unrelated.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327046949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327338078",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#issuecomment-327338078",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11062",
    "id": 327338078,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzMzODA3OA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-06T00:15:40Z",
    "updated_at": "2017-09-06T00:15:40Z",
    "author_association": "MEMBER",
    "body": "Tested ACK 258d33b41a27917f59e3aee856d032a23cbb5b05",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327338078/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327339794",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#issuecomment-327339794",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11062",
    "id": 327339794,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzMzOTc5NA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-06T00:27:56Z",
    "updated_at": "2017-09-06T00:27:56Z",
    "author_association": "MEMBER",
    "body": "re-utACK 258d33b",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327339794/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327340317",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#issuecomment-327340317",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11062",
    "id": 327340317,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzM0MDMxNw==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-06T00:31:22Z",
    "updated_at": "2017-09-06T00:31:22Z",
    "author_association": "MEMBER",
    "body": "utACK 258d33b.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327340317/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133735165",
    "pull_request_review_id": 56950352,
    "id": 133735165,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzczNTE2NQ==",
    "diff_hunk": "@@ -4303,7 +4304,15 @@ bool LoadMempool(void)\n                 if (state.IsValid()) {\n                     ++count;\n                 } else {\n-                    ++failed;\n+                    // mempool may contain the transaction already, e.g. from\n+                    // wallet(s) having loaded it while we were processing\n+                    // mempool transactions; consider these as valid, instead of\n+                    // failed, but mark them as 'already existed'\n+                    if (mempool.exists(tx->GetHash())) {",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Check `state.GetRejectCode() == REJECT_DUPLICATE`? See [this](https://github.com/bitcoin/bitcoin/blame/master/src/validation.cpp#L476).\r\n\r\nAlso, IMO this is prettier:\r\n```cpp\r\nif (state.IsValid()) {\r\n    ...\r\n} else if (state.GetRejectCode() == REJECT_DUPLICATE) {\r\n    ...\r\n} else {\r\n    ...\r\n}\r\n```\r\n",
    "created_at": "2017-08-17T14:49:05Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133735165",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133735165"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133735165"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133735165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4317,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133737344",
    "pull_request_review_id": 56950352,
    "id": 133737344,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzczNzM0NA==",
    "diff_hunk": "@@ -4303,7 +4304,15 @@ bool LoadMempool(void)\n                 if (state.IsValid()) {\n                     ++count;\n                 } else {\n-                    ++failed;\n+                    // mempool may contain the transaction already, e.g. from\n+                    // wallet(s) having loaded it while we were processing\n+                    // mempool transactions; consider these as valid, instead of\n+                    // failed, but mark them as 'already existed'\n+                    if (mempool.exists(tx->GetHash())) {",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "There is more than one reason for`REJECT_DUPLICATE`, don't know if that matters here. @sipa?",
    "created_at": "2017-08-17T14:56:06Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133737344",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133737344"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133737344"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133737344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4317,
    "side": "RIGHT",
    "in_reply_to_id": 133735165
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133737706",
    "pull_request_review_id": 56950352,
    "id": 133737706,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzczNzcwNg==",
    "diff_hunk": "@@ -4274,6 +4274,7 @@ bool LoadMempool(void)\n     int64_t count = 0;\n     int64_t skipped = 0;\n     int64_t failed = 0;\n+    int64_t alreadythere = 0;",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe just increment `skipped`?",
    "created_at": "2017-08-17T14:57:14Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133737706",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133737706"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133737706"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133737706/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4277,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133852836",
    "pull_request_review_id": 57081906,
    "id": 133852836,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzg1MjgzNg==",
    "diff_hunk": "@@ -4303,7 +4304,15 @@ bool LoadMempool(void)\n                 if (state.IsValid()) {\n                     ++count;\n                 } else {\n-                    ++failed;\n+                    // mempool may contain the transaction already, e.g. from\n+                    // wallet(s) having loaded it while we were processing\n+                    // mempool transactions; consider these as valid, instead of\n+                    // failed, but mark them as 'already existed'\n+                    if (mempool.exists(tx->GetHash())) {",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "REJECT_DUPLICATE is used to indicate double spends, so that wouldn't be correct.",
    "created_at": "2017-08-17T23:28:30Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133852836",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133852836"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133852836"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133852836/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4317,
    "side": "RIGHT",
    "in_reply_to_id": 133735165
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133853668",
    "pull_request_review_id": 57082844,
    "id": 133853668,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzg1MzY2OA==",
    "diff_hunk": "@@ -4303,7 +4304,15 @@ bool LoadMempool(void)\n                 if (state.IsValid()) {\n                     ++count;\n                 } else {\n-                    ++failed;\n+                    // mempool may contain the transaction already, e.g. from\n+                    // wallet(s) having loaded it while we were processing\n+                    // mempool transactions; consider these as valid, instead of\n+                    // failed, but mark them as 'already existed'\n+                    if (mempool.exists(tx->GetHash())) {",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "What about #10503?",
    "created_at": "2017-08-17T23:35:22Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133853668",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133853668"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133853668"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133853668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4317,
    "side": "RIGHT",
    "in_reply_to_id": 133735165
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133855454",
    "pull_request_review_id": 57084804,
    "id": 133855454,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzg1NTQ1NA==",
    "diff_hunk": "@@ -4303,7 +4304,15 @@ bool LoadMempool(void)\n                 if (state.IsValid()) {\n                     ++count;\n                 } else {\n-                    ++failed;\n+                    // mempool may contain the transaction already, e.g. from\n+                    // wallet(s) having loaded it while we were processing\n+                    // mempool transactions; consider these as valid, instead of\n+                    // failed, but mark them as 'already existed'\n+                    if (mempool.exists(tx->GetHash())) {",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "But REJECT_DUPLICATE is set if it's in the mempool which happens to be what's tested here. So it should be?\r\n```cpp\r\n} else if (state.GetRejectCode() == REJECT_DUPLICATE && state.GetRejectReason() == \"txn-already-in-mempool\") {\r\n```",
    "created_at": "2017-08-17T23:50:34Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133855454",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133855454"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133855454"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133855454/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4317,
    "side": "RIGHT",
    "in_reply_to_id": 133735165
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133856124",
    "pull_request_review_id": 57085548,
    "id": 133856124,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzg1NjEyNA==",
    "diff_hunk": "@@ -4303,7 +4304,15 @@ bool LoadMempool(void)\n                 if (state.IsValid()) {\n                     ++count;\n                 } else {\n-                    ++failed;\n+                    // mempool may contain the transaction already, e.g. from\n+                    // wallet(s) having loaded it while we were processing\n+                    // mempool transactions; consider these as valid, instead of\n+                    // failed, but mark them as 'already existed'\n+                    if (mempool.exists(tx->GetHash())) {",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "That's pretty ugly. There's no good way to distinuish replay from double spend... for almost everything the distinction doesn't matter.",
    "created_at": "2017-08-17T23:56:41Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133856124",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133856124"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133856124"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133856124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4317,
    "side": "RIGHT",
    "in_reply_to_id": 133735165
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133859106",
    "pull_request_review_id": 57088770,
    "id": 133859106,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzg1OTEwNg==",
    "diff_hunk": "@@ -4303,7 +4304,15 @@ bool LoadMempool(void)\n                 if (state.IsValid()) {\n                     ++count;\n                 } else {\n-                    ++failed;\n+                    // mempool may contain the transaction already, e.g. from\n+                    // wallet(s) having loaded it while we were processing\n+                    // mempool transactions; consider these as valid, instead of\n+                    // failed, but mark them as 'already existed'\n+                    if (mempool.exists(tx->GetHash())) {",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Got it. So in this case `if (mempool.exists(tx->GetHash())` can come before `AcceptToMemoryPoolWithTime`?",
    "created_at": "2017-08-18T00:24:12Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133859106",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133859106"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133859106"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133859106/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4317,
    "side": "RIGHT",
    "in_reply_to_id": 133735165
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133860109",
    "pull_request_review_id": 57089969,
    "id": 133860109,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzg2MDEwOQ==",
    "diff_hunk": "@@ -4274,6 +4274,7 @@ bool LoadMempool(void)\n     int64_t count = 0;\n     int64_t skipped = 0;\n     int64_t failed = 0;\n+    int64_t alreadythere = 0;",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "But it wasn't skipped. It was already there.",
    "created_at": "2017-08-18T00:36:05Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133860109",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133860109"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133860109"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133860109/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4277,
    "side": "RIGHT",
    "in_reply_to_id": 133737706
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133860245",
    "pull_request_review_id": 57090116,
    "id": 133860245,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzg2MDI0NQ==",
    "diff_hunk": "@@ -4303,7 +4304,15 @@ bool LoadMempool(void)\n                 if (state.IsValid()) {\n                     ++count;\n                 } else {\n-                    ++failed;\n+                    // mempool may contain the transaction already, e.g. from\n+                    // wallet(s) having loaded it while we were processing\n+                    // mempool transactions; consider these as valid, instead of\n+                    // failed, but mark them as 'already existed'\n+                    if (mempool.exists(tx->GetHash())) {",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "As @sipa noted, `REJECT_DUPLICATE` is ambiguous. I don't want to say it was already there, when a conflicted different transaction was there instead. The safest course would seem to simply check if it is there after a failure, as I am doing now.",
    "created_at": "2017-08-18T00:37:31Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133860245",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133860245"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133860245"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133860245/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4317,
    "side": "RIGHT",
    "in_reply_to_id": 133735165
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133860846",
    "pull_request_review_id": 57090822,
    "id": 133860846,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzg2MDg0Ng==",
    "diff_hunk": "@@ -4303,7 +4304,15 @@ bool LoadMempool(void)\n                 if (state.IsValid()) {\n                     ++count;\n                 } else {\n-                    ++failed;\n+                    // mempool may contain the transaction already, e.g. from\n+                    // wallet(s) having loaded it while we were processing\n+                    // mempool transactions; consider these as valid, instead of\n+                    // failed, but mark them as 'already existed'\n+                    if (mempool.exists(tx->GetHash())) {",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Understood, can't use REJECT_DUPLICATE.\r\n\r\nStill, the way it's now is like catching the error, whereas testing before it's like expecting that behaviour.",
    "created_at": "2017-08-18T00:45:10Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133860846",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133860846"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133860846"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133860846/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4317,
    "side": "RIGHT",
    "in_reply_to_id": 133735165
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133861309",
    "pull_request_review_id": 57091321,
    "id": 133861309,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzg2MTMwOQ==",
    "diff_hunk": "@@ -4303,7 +4304,15 @@ bool LoadMempool(void)\n                 if (state.IsValid()) {\n                     ++count;\n                 } else {\n-                    ++failed;\n+                    // mempool may contain the transaction already, e.g. from\n+                    // wallet(s) having loaded it while we were processing\n+                    // mempool transactions; consider these as valid, instead of\n+                    // failed, but mark them as 'already existed'\n+                    if (mempool.exists(tx->GetHash())) {",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes. There's a race condition going on here, which makes this better than the alternative (i.e. checking if exists and then trying to accept).\r\n\r\nThread A is doing wallet mempool insertions.\r\nThread B is calling LoadMempool().\r\n\r\nCase 1:\r\n- Thread A imports tx X\r\n- Thread B tests for presence of tx X. Found. Marks already there and moves on.\r\n\r\nCase 2:\r\n- Thread B tests for presence of tx X. Not found.\r\n- Thread A imports tx X.\r\n- Thread B attempts to import tx X and fails.\r\n\r\nBoth cases should result in 'already there', but by checking presence before attempt to accept, the second case will result in a failure.",
    "created_at": "2017-08-18T00:50:34Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133861309",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133861309"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133861309"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133861309/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4317,
    "side": "RIGHT",
    "in_reply_to_id": 133735165
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133861894",
    "pull_request_review_id": 57091959,
    "id": 133861894,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzg2MTg5NA==",
    "diff_hunk": "@@ -4303,7 +4304,15 @@ bool LoadMempool(void)\n                 if (state.IsValid()) {\n                     ++count;\n                 } else {\n-                    ++failed;\n+                    // mempool may contain the transaction already, e.g. from\n+                    // wallet(s) having loaded it while we were processing\n+                    // mempool transactions; consider these as valid, instead of\n+                    // failed, but mark them as 'already existed'\n+                    if (mempool.exists(tx->GetHash())) {",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Doesn't the above `LOCK(cs_main)` prevents that case (and the current implementation for all that matters)?",
    "created_at": "2017-08-18T00:57:41Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133861894",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133861894"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133861894"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133861894/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4317,
    "side": "RIGHT",
    "in_reply_to_id": 133735165
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133862339",
    "pull_request_review_id": 57092449,
    "id": 133862339,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzg2MjMzOQ==",
    "diff_hunk": "@@ -4274,6 +4274,7 @@ bool LoadMempool(void)\n     int64_t count = 0;\n     int64_t skipped = 0;\n     int64_t failed = 0;\n+    int64_t alreadythere = 0;",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Rigth, maybe rename skipped to expired. \r\n\r\nEdit: the message on the bottom already prints expired.. \ud83d\ude44 ",
    "created_at": "2017-08-18T01:03:32Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133862339",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133862339"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133862339"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133862339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4277,
    "side": "RIGHT",
    "in_reply_to_id": 133737706
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133867121",
    "pull_request_review_id": 57097683,
    "id": 133867121,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzg2NzEyMQ==",
    "diff_hunk": "@@ -4303,7 +4304,15 @@ bool LoadMempool(void)\n                 if (state.IsValid()) {\n                     ++count;\n                 } else {\n-                    ++failed;\n+                    // mempool may contain the transaction already, e.g. from\n+                    // wallet(s) having loaded it while we were processing\n+                    // mempool transactions; consider these as valid, instead of\n+                    // failed, but mark them as 'already existed'\n+                    if (mempool.exists(tx->GetHash())) {",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hm, you're right, it does. I think.",
    "created_at": "2017-08-18T01:59:05Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133867121",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133867121"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133867121"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133867121/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4317,
    "side": "RIGHT",
    "in_reply_to_id": 133735165
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133867653",
    "pull_request_review_id": 57098253,
    "id": 133867653,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzMzg2NzY1Mw==",
    "diff_hunk": "@@ -4274,6 +4274,7 @@ bool LoadMempool(void)\n     int64_t count = 0;\n     int64_t skipped = 0;\n     int64_t failed = 0;\n+    int64_t alreadythere = 0;",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "a0b6e94df1eb0426adab79604c9d8b9ad2afabda",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good point. Done.",
    "created_at": "2017-08-18T02:05:21Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133867653",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133867653"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r133867653"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133867653/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4277,
    "side": "RIGHT",
    "in_reply_to_id": 133737706
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136647299",
    "pull_request_review_id": 60221008,
    "id": 136647299,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjY0NzI5OQ==",
    "diff_hunk": "@@ -4272,8 +4272,9 @@ bool LoadMempool(void)\n     }\n \n     int64_t count = 0;\n-    int64_t skipped = 0;\n+    int64_t expired = 0;\n     int64_t failed = 0;\n+    int64_t alreadythere = 0;",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "8c8ef83edc8724f2dc7e363e9c412c5df564e08f",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: snake case `already_there`",
    "created_at": "2017-09-01T19:15:56Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r136647299",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136647299"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r136647299"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136647299/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4277,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136647361",
    "pull_request_review_id": 60221008,
    "id": 136647361,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjY0NzM2MQ==",
    "diff_hunk": "@@ -4303,10 +4304,18 @@ bool LoadMempool(void)\n                 if (state.IsValid()) {\n                     ++count;\n                 } else {\n-                    ++failed;\n+                    // mempool may contain the transaction already, e.g. from\n+                    // wallet(s) having loaded it while we were processing\n+                    // mempool transactions; consider these as valid, instead of\n+                    // failed, but mark them as 'already existed'",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 19,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "8c8ef83edc8724f2dc7e363e9c412c5df564e08f",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: mark them as 'already there'",
    "created_at": "2017-09-01T19:16:15Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r136647361",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136647361"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r136647361"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136647361/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4310,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136671150",
    "pull_request_review_id": 60248738,
    "id": 136671150,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjY3MTE1MA==",
    "diff_hunk": "@@ -4272,8 +4272,9 @@ bool LoadMempool(void)\n     }\n \n     int64_t count = 0;\n-    int64_t skipped = 0;\n+    int64_t expired = 0;\n     int64_t failed = 0;\n+    int64_t alreadythere = 0;",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "8c8ef83edc8724f2dc7e363e9c412c5df564e08f",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "IMO consider renaming to one of `already_imported`, `already_loaded`, `already_in_mempool`.",
    "created_at": "2017-09-01T21:46:37Z",
    "updated_at": "2017-09-04T05:48:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r136671150",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136671150"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r136671150"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136671150/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4277,
    "side": "RIGHT",
    "in_reply_to_id": 136647299
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136747690",
    "pull_request_review_id": 60328044,
    "id": 136747690,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjc0NzY5MA==",
    "diff_hunk": "@@ -4272,8 +4272,9 @@ bool LoadMempool(void)\n     }\n \n     int64_t count = 0;\n-    int64_t skipped = 0;\n+    int64_t expired = 0;\n     int64_t failed = 0;\n+    int64_t alreadythere = 0;",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "258d33b41a27917f59e3aee856d032a23cbb5b05",
    "original_commit_id": "8c8ef83edc8724f2dc7e363e9c412c5df564e08f",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Personally feel the current name is fine as is, but will change if people want it.",
    "created_at": "2017-09-04T05:49:54Z",
    "updated_at": "2017-09-04T05:49:54Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r136747690",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136747690"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11062#discussion_r136747690"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11062"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136747690/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4277,
    "side": "RIGHT",
    "in_reply_to_id": 136647299
  }
]