hebasto,2019-08-14 16:49:38,"Concept ACK b6e9ff899677770741d94f1cf4f61ebb13fc453f\n\nTested on Linux Mint 19.2. The version string has been created as expected.\n`make` creates `src/obj` directory and `build.h` file in it.\n`make clean` removes `build.h` file. It should remove `src/obj` directory as well.\n\nAnother approach is to move `build.h` file from `src/obj` to `src`, maybe.\n\n",https://github.com/bitcoin/bitcoin/pull/16611#issuecomment-521326764,521326764,
laanwj,2019-08-14 17:24:57,"> make clean removes build.h file. It should remove src/obj directory as well.\n\nBut only if no other files were added? removing a directory recursively in `make clean` would be definitely too dangerous.\n\n> Another approach is to move build.h file from src/obj to src, maybe.\n\nEventually, yes, but I don't really want to change that here. I just don't want an `obj` directory in git. The `",https://github.com/bitcoin/bitcoin/pull/16611#issuecomment-521340023,521340023,
hebasto,2019-08-14 17:42:20,"> But only if no other files were added? removing a directory recursively in `make clean` would be definitely too dangerous.\n\nWhy recursively? Could be `rmdir`.\n\n[Standard `Makefile` Targets](https://www.gnu.org/software/automake/manual/html_node/Standard-Targets.html):\n> **make clean**\n> Erase from the build tree the files built by `make all`.",https://github.com/bitcoin/bitcoin/pull/16611#issuecomment-521346609,521346609,
emilengler,2019-08-14 18:12:54,Concept ACK,https://github.com/bitcoin/bitcoin/pull/16611#issuecomment-521357583,521357583,
dongcarl,2019-08-14 20:02:31,"> ...and doesn't need to be in the repository nor in the tarballs.\n\n@laanwj Just to be clear... `src/obj/build.h` _should_ be in the tarballs (could be at another path), so that `HOST`-specific builds can be context-less and git-less. Correct?",https://github.com/bitcoin/bitcoin/pull/16611#issuecomment-521396904,521396904,
laanwj,2019-08-14 20:52:42,">  @laanwj Just to be clear... src/obj/build.h should be in the tarballs\n\nI don't think so, none of the tarballs I checked had it at least:\n```\n$ for VERSION in 0.15.0 0.16.0 0.17.0 0.18.0 0.18.1rc1 0.18.1; do tar -tvf bitcoin-core-${VERSION}/bitcoin-${VERSION}.tar.gz|grep src/obj ; done\n(…no output…)\n```",https://github.com/bitcoin/bitcoin/pull/16611#issuecomment-521414180,521414180,
dongcarl,2019-08-14 21:00:59,"@laanwj What I'm saying is that `src/obj/build.h` isn't in the tarballs as of now, but it _should_ be. So that we don't need the weird copying trick here: https://github.com/bitcoin/bitcoin/blob/b499d8576f30d13dfe9000852afe47ee1c28cfbe/contrib/gitian-descriptors/gitian-linux.yml#L168-L177",https://github.com/bitcoin/bitcoin/pull/16611#issuecomment-521416960,521416960,
laanwj,2019-08-15 07:32:11,"> @laanwj What I'm saying is that src/obj/build.h isn't in the tarballs as of now, but it should be. So that we don't need the weird copying trick here: \n\nNot sure; there is just the git commit id in `build.h`. And we intentionally don't embed the git commit id in releases or tarballs (it's unnecessary: the tag itself exactly identifies the build source). All relevant version information is in",https://github.com/bitcoin/bitcoin/pull/16611#issuecomment-521545730,521545730,
hebasto,2019-08-15 15:21:38,"@laanwj \n> This directory is automatically created by the build process (in the build target directory, see #16588) and doesn't need to be in the repository nor in the tarballs.\n\nGitian tarballs do not contain `src/obj` directory already.\n\nEDITED: Sorry for noise: I see your [comment](https://github.com/bitcoin/bitcoin/pull/16611#issuecomment-521414180) now.",https://github.com/bitcoin/bitcoin/pull/16611#issuecomment-521680887,521680887,
laanwj,2019-08-15 19:03:22,"Yes, can you please at least read what I say !",https://github.com/bitcoin/bitcoin/pull/16611#issuecomment-521758343,521758343,
DrahtBot,2019-08-15 22:33:04,<!--a722867cd34abeea1fadc8d60700f111-->\nGitian builds for commit a7aa809027633556dd3280c6e29ca98eb3235a3d (master):\n * `d6c6331d5bb8779b29ede40450e09c93...` [bitcoin-0.18.99-aarch64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/a7aa809027633556dd3280c6e29ca98eb3235a3d/bitcoin-0.18.99-aarch64-linux-gnu-debug.tar.gz)\n * `9d0aeb3a183854db1894c148684a2967...` [bitcoin-0.18.9,https://github.com/bitcoin/bitcoin/pull/16611#issuecomment-521820711,521820711,
