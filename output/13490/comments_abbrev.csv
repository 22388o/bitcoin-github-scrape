sipa,2018-06-18T00:53:15Z,This seems like a very roundabout way of fixing that bug. Can't you just break the inner loop whenever the requested height is exceeded?,https://github.com/bitcoin/bitcoin/pull/13490#issuecomment-397918523,397918523,
qmma70,2018-06-18T01:42:31Z,"@sipa Thanks for pointing that out. Fixed and tested.\n\nAlso, would it be worth it to implement a ""rewind"" functionality so the block can be rewinded to the desired height, like my original commit did?",https://github.com/bitcoin/bitcoin/pull/13490#issuecomment-397922595,397922595,
sipa,2018-06-18T01:45:39Z,@qmma70 You can use the `invalidateblock` RPC for that.,https://github.com/bitcoin/bitcoin/pull/13490#issuecomment-397922859,397922859,
sdaftuar,2018-06-18T14:16:21Z,"I'll start by saying that I don't really like the way `-stopatheight` works in the first place -- it's a useful feature but I don't like that we clutter up consensus code with it.\n\nThe issue reported in #13477 arises because when ABC invokes `StartShutdown()`, it can take a while before bitcoind exits, and in the meantime `ProcessNewBlock()` can continue to fire, resulting in one more block at",https://github.com/bitcoin/bitcoin/pull/13490#issuecomment-398069237,398069237,
