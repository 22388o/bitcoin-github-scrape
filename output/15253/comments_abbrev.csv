Empact,2019-01-25T05:49:32Z,Possible concern: verbosity of the resultant logs,https://github.com/bitcoin/bitcoin/pull/15253#issuecomment-457463648,457463648,
DrahtBot,2019-01-26T03:09:16Z,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15759](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15759.html) ([p2p] Add 2 outbound blocks-only connection",https://github.com/bitcoin/bitcoin/pull/15253#issuecomment-457796114,457796114,
Empact,2019-02-26T10:48:01Z,Rebase for #14978 (81cd95884),https://github.com/bitcoin/bitcoin/pull/15253#issuecomment-467391157,467391157,
naumenkogs,2019-02-26T18:41:12Z,ACK,https://github.com/bitcoin/bitcoin/pull/15253#issuecomment-467560560,467560560,
MarcoFalke,2019-05-08T15:32:02Z,@Empact Mind to split up the first two commits into a separate pull?,https://github.com/bitcoin/bitcoin/pull/15253#issuecomment-490534814,490534814,
promag,2019-05-16T19:40:25Z,@sdaftuar please give your feedback here too.,https://github.com/bitcoin/bitcoin/pull/15253#issuecomment-493204819,493204819,
sdaftuar,2019-05-17T00:52:18Z,"I have no opinion about whether we should log all the txid's in an INV or not with -debug=net is enabled.\n\nThis implementation seems broken however -- in addition to the refactor being needlessly disruptive, it's incorrect logically to log a message about an inv being sent when PushInventory is called.  It's not until we try to actually get to SendMessages for that peer and hit the poisson tim",https://github.com/bitcoin/bitcoin/pull/15253#issuecomment-493279882,493279882,
Empact,2019-05-26T17:11:11Z,"Thanks, these are logged in PushMesaage, as you mention @sdaftuar. Just not in the CI logs. Seems some other work needs to be done, eg around publishing the full CI log artifacts or the like.",https://github.com/bitcoin/bitcoin/pull/15253#issuecomment-496016307,496016307,
naumenkogs,2019-01-28T21:30:52Z,"An inv may be further not sent due to a check inside PushInventory ```filterInventoryKnown.contains```, so not sure how reasonable is this log :)",https://github.com/bitcoin/bitcoin/pull/15253#discussion_r251601636,251601636,src/net.cpp
Empact,2019-01-29T08:47:42Z,"Good point - this now only logs if the `inv` is actually to be relayed, and reports to how many peers it's being relayed.",https://github.com/bitcoin/bitcoin/pull/15253#discussion_r251737170,251737170,src/net.cpp
naumenkogs,2019-02-09T01:01:13Z,"It seems we can move this logging inside ```PushInventory``` for cases where inv is for block?\nThen this code won't be duplicate in 2 places.\n\nI'm also wondering whether we should put *all* logging (including transactions) there to have a uniform behavior, not sure though.",https://github.com/bitcoin/bitcoin/pull/15253#discussion_r255278384,255278384,src/net_processing.cpp
Empact,2019-02-09T21:33:22Z,"The main reason I didn't do that was to avoid multiple log entries when relaying to all peers, as in `RelayInventory`. A single message in that case is a lot less noisy.",https://github.com/bitcoin/bitcoin/pull/15253#discussion_r255314439,255314439,src/net_processing.cpp
MarcoFalke,2019-02-26T19:12:19Z,"I'd prefer if that inv construction was kept in a function called `RelayTransaction`, where we pass in the tx(id). The caller should not be bothered dealing with inv-internals: E.g. that we can only push invs of type TX or BLOCK.",https://github.com/bitcoin/bitcoin/pull/15253#discussion_r260442707,260442707,src/net_processing.cpp
Empact,2019-03-05T07:18:39Z,Sounds good - I also split `CNode::PushInventory` into block and transaction variants for the same reason - all the callers were explicit and it simplified the callers.,https://github.com/bitcoin/bitcoin/pull/15253#discussion_r262371791,262371791,src/net_processing.cpp
