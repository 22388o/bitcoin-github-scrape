[
  {
    "sha": "49e1501b5dbccdea03561684cc5aeccfac4e5e5a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0OWUxNTAxYjVkYmNjZGVhMDM1NjE2ODRjYzVhZWNjZmFjNGU1ZTVh",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2012-03-17T23:54:22Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2012-03-22T16:46:47Z"
      },
      "message": "Move QMAKE_LIBS_QT_ENTRY adjustment to bitcoin side of build\n\nIt could just as well be on either part of the gitian build, but to safely put it on the Qt side would require bumping the filename, and every gitian user rebuilding it.\nv0.5.3.1 put it on the Bitcoin side, and this is easier to work with and keep safe, so I'm moving it.\n\nUse `qmake MINGW_THREAD_BUGFIX=0` to disable",
      "tree": {
        "sha": "448e67804ff4ba2f2df6ef5b3e21bb049daa5b4e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/448e67804ff4ba2f2df6ef5b3e21bb049daa5b4e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/49e1501b5dbccdea03561684cc5aeccfac4e5e5a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/49e1501b5dbccdea03561684cc5aeccfac4e5e5a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/49e1501b5dbccdea03561684cc5aeccfac4e5e5a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/49e1501b5dbccdea03561684cc5aeccfac4e5e5a/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "44b69cf25e73ff164e15c9ca2027c5b871151e32",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/44b69cf25e73ff164e15c9ca2027c5b871151e32",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/44b69cf25e73ff164e15c9ca2027c5b871151e32"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 13,
      "deletions": 3
    },
    "files": [
      {
        "sha": "bd4e083beeb1a0ff94497074f30d97953f14b996",
        "filename": "bitcoin-qt.pro",
        "status": "modified",
        "additions": 13,
        "deletions": 2,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/49e1501b5dbccdea03561684cc5aeccfac4e5e5a/bitcoin-qt.pro",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/49e1501b5dbccdea03561684cc5aeccfac4e5e5a/bitcoin-qt.pro",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/bitcoin-qt.pro?ref=49e1501b5dbccdea03561684cc5aeccfac4e5e5a",
        "patch": "@@ -291,10 +291,21 @@ isEmpty(BOOST_INCLUDE_PATH) {\n     macx:BOOST_INCLUDE_PATH = /opt/local/include\n }\n \n-windows:LIBS += -lmingwthrd -lws2_32 -lshlwapi\n-windows:DEFINES += _MT WIN32\n+windows:LIBS += -lws2_32 -lshlwapi\n+windows:DEFINES += WIN32\n windows:RC_FILE = src/qt/res/bitcoin-qt.rc\n \n+windows:!contains(MINGW_THREAD_BUGFIX, 0) {\n+    # At least qmake's win32-g++-cross profile is missing the -lmingwthrd\n+    # thread-safety flag. GCC has -mthreads to enable this, but it doesn't\n+    # work with static linking. -lmingwthrd must come BEFORE -lmingw, so\n+    # it is prepended to QMAKE_LIBS_QT_ENTRY.\n+    # It can be turned off with MINGW_THREAD_BUGFIX=0, just in case it causes\n+    # any problems on some untested qmake profile now or in the future.\n+    DEFINES += _MT\n+    QMAKE_LIBS_QT_ENTRY = -lmingwthrd $$QMAKE_LIBS_QT_ENTRY\n+}\n+\n !windows:!mac {\n     DEFINES += LINUX\n     LIBS += -lrt"
      },
      {
        "sha": "6eb76b217078170dfa731b8e54ef87118bc94fcb",
        "filename": "contrib/gitian-descriptors/qt-win32.yml",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/49e1501b5dbccdea03561684cc5aeccfac4e5e5a/contrib/gitian-descriptors/qt-win32.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/49e1501b5dbccdea03561684cc5aeccfac4e5e5a/contrib/gitian-descriptors/qt-win32.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/qt-win32.yml?ref=49e1501b5dbccdea03561684cc5aeccfac4e5e5a",
        "patch": "@@ -47,7 +47,6 @@ script: |\n   cp -a bin $SRCDIR/\n   cd $INSTDIR\n   find . -name *.prl | xargs -l sed 's|/$||' -i\n-  sed 's/QMAKE_LIBS_QT_ENTRY     = -lmingw32 -lqtmain/QMAKE_LIBS_QT_ENTRY     = -lqtmain/' -i mkspecs/unsupported/win32-g++-cross/qmake.conf\n   #sed 's|QMAKE_PRL_LIBS.*|QMAKE_PRL_LIBS = -lQtDeclarative -lQtScript -lQtSvg -lQtSql -lQtXmlPatterns -lQtGui -lgdi32 -lcomdlg32 -loleaut32 -limm32 -lwinmm -lwinspool -lmsimg32 -lQtNetwork -lQtCore -lole32 -luuid -lws2_32 -ladvapi32 -lshell32 -luser32 -lkernel32|' -i imports/Qt/labs/particles/qmlparticlesplugin.prl\n \n   # as zip stores file timestamps, use faketime to intercept stat calls to set dates for all files to reference date"
      }
    ]
  }
]