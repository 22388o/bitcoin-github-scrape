[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/91355456",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-91355456",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 91355456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxMzU1NDU2",
    "user": {
      "login": "jgarzik",
      "id": 494411,
      "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494411?u=0b02049ec38b6bb7d55c5c66d9bbeb0d4b822129&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarzik",
      "html_url": "https://github.com/jgarzik",
      "followers_url": "https://api.github.com/users/jgarzik/followers",
      "following_url": "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarzik/orgs",
      "repos_url": "https://api.github.com/users/jgarzik/repos",
      "events_url": "https://api.github.com/users/jgarzik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgarzik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-09T21:02:13Z",
    "updated_at": "2015-04-09T21:02:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Any possibility to use the timer stuff being added in #5964 ?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/91355456/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/91418767",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-91418767",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 91418767,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxNDE4NzY3",
    "user": {
      "login": "pstratem",
      "id": 620611,
      "node_id": "MDQ6VXNlcjYyMDYxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/620611?u=871eabd15ac87d37f1b4d2b927fa8f33e3ad7fe3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pstratem",
      "html_url": "https://github.com/pstratem",
      "followers_url": "https://api.github.com/users/pstratem/followers",
      "following_url": "https://api.github.com/users/pstratem/following{/other_user}",
      "gists_url": "https://api.github.com/users/pstratem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
      "organizations_url": "https://api.github.com/users/pstratem/orgs",
      "repos_url": "https://api.github.com/users/pstratem/repos",
      "events_url": "https://api.github.com/users/pstratem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pstratem/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-10T03:38:02Z",
    "updated_at": "2015-04-10T03:38:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jgarzik maybe later, porting wont be difficult\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/91418767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/91811198",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-91811198",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 91811198,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxODExMTk4",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-11T09:55:13Z",
    "updated_at": "2015-04-11T09:55:13Z",
    "author_association": "MEMBER",
    "body": "Concept ACK. I love getting rid of the vSendTrickle logic...\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/91811198/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95964175",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-95964175",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 95964175,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk1OTY0MTc1",
    "user": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?u=db313a954a318b81f5283d34908397d1ea3aeba3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-24T15:18:39Z",
    "updated_at": "2015-04-24T15:18:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm with @jgarzik: this could be much cleaner built on top of #5964. All of the pnode->nNext\\* variables could go away; just schedule a task that takes a NodeId and Does The Right Thing at some (random) time in the future.\n\n(the tasks would lock cs_vNodes and do the NodeId to CNode\\* lookup... probably don't need to optimize that lookup, looping through even a 1,000-peer vector isn't a significant amount of CPU time).\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95964175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95967446",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-95967446",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 95967446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk1OTY3NDQ2",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-24T15:29:56Z",
    "updated_at": "2015-04-24T15:29:56Z",
    "author_association": "MEMBER",
    "body": "Unsure. I don't think running the scheduled operations makes sense if there\nis nothing else to do for a node, and there almost always is, at which time\nwe already hold the necessary locks.\n\nSmall benefit, small cost.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95967446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95998172",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-95998172",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 95998172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk1OTk4MTcy",
    "user": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?u=db313a954a318b81f5283d34908397d1ea3aeba3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-24T17:18:21Z",
    "updated_at": "2015-04-24T17:18:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@sipa : benefit would be clearer logic. I find the \"set a variable here, test it over there and then do something\" hard to review/follow.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95998172/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96012620",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-96012620",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 96012620,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk2MDEyNjIw",
    "user": {
      "login": "pstratem",
      "id": 620611,
      "node_id": "MDQ6VXNlcjYyMDYxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/620611?u=871eabd15ac87d37f1b4d2b927fa8f33e3ad7fe3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pstratem",
      "html_url": "https://github.com/pstratem",
      "followers_url": "https://api.github.com/users/pstratem/followers",
      "following_url": "https://api.github.com/users/pstratem/following{/other_user}",
      "gists_url": "https://api.github.com/users/pstratem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
      "organizations_url": "https://api.github.com/users/pstratem/orgs",
      "repos_url": "https://api.github.com/users/pstratem/repos",
      "events_url": "https://api.github.com/users/pstratem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pstratem/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-24T17:55:12Z",
    "updated_at": "2015-04-24T17:55:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "@gavinandresen As I said to @jgarzik it's easy enough to back port this logic into CSchedule.\n\nI would rather not tie the two PR's together.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96012620/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96286291",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-96286291",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 96286291,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk2Mjg2Mjkx",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-25T22:06:10Z",
    "updated_at": "2015-04-25T22:06:10Z",
    "author_association": "MEMBER",
    "body": "@gavinandresen Yes, that's the small benefit. The small cost is extra locking/work. Not opposed to it, but it's not as clear an advantage as replacing the several pieces of code we had that were already using their own thread. This one doesn't need it.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96286291/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96643520",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-96643520",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 96643520,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk2NjQzNTIw",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-27T13:07:37Z",
    "updated_at": "2015-04-27T13:07:37Z",
    "author_association": "MEMBER",
    "body": "Can you fix the integer overflow, and perhaps rebase on top of #6066?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96643520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/99076924",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-99076924",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 99076924,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5MDc2OTI0",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-05T13:25:12Z",
    "updated_at": "2015-05-05T13:25:12Z",
    "author_association": "MEMBER",
    "body": "Rebase please?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/99076924/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111829865",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-111829865",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 111829865,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMTgyOTg2NQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-14T14:16:59Z",
    "updated_at": "2015-06-14T14:16:59Z",
    "author_association": "MEMBER",
    "body": "Needs rebase, and fixing the integer overflow.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111829865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111835675",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-111835675",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 111835675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMTgzNTY3NQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-14T14:38:27Z",
    "updated_at": "2015-06-14T14:38:27Z",
    "author_association": "MEMBER",
    "body": "Did a rebase and fix: https://github.com/sipa/bitcoin/commits/trickle_fix\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111835675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120141993",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-120141993",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 120141993,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDE0MTk5Mw==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-09T20:57:09Z",
    "updated_at": "2015-07-09T20:57:09Z",
    "author_association": "MEMBER",
    "body": "@pstratem ping\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120141993/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120142203",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-120142203",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 120142203,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDE0MjIwMw==",
    "user": {
      "login": "pstratem",
      "id": 620611,
      "node_id": "MDQ6VXNlcjYyMDYxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/620611?u=871eabd15ac87d37f1b4d2b927fa8f33e3ad7fe3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pstratem",
      "html_url": "https://github.com/pstratem",
      "followers_url": "https://api.github.com/users/pstratem/followers",
      "following_url": "https://api.github.com/users/pstratem/following{/other_user}",
      "gists_url": "https://api.github.com/users/pstratem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
      "organizations_url": "https://api.github.com/users/pstratem/orgs",
      "repos_url": "https://api.github.com/users/pstratem/repos",
      "events_url": "https://api.github.com/users/pstratem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pstratem/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-09T20:58:10Z",
    "updated_at": "2015-07-09T20:58:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "@sipa pong\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120142203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120772064",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-120772064",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 120772064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDc3MjA2NA==",
    "user": {
      "login": "pstratem",
      "id": 620611,
      "node_id": "MDQ6VXNlcjYyMDYxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/620611?u=871eabd15ac87d37f1b4d2b927fa8f33e3ad7fe3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pstratem",
      "html_url": "https://github.com/pstratem",
      "followers_url": "https://api.github.com/users/pstratem/followers",
      "following_url": "https://api.github.com/users/pstratem/following{/other_user}",
      "gists_url": "https://api.github.com/users/pstratem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
      "organizations_url": "https://api.github.com/users/pstratem/orgs",
      "repos_url": "https://api.github.com/users/pstratem/repos",
      "events_url": "https://api.github.com/users/pstratem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pstratem/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-12T23:17:21Z",
    "updated_at": "2015-07-12T23:17:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "setAddrKnown was replaced with a CRollingBloomFilter d81cff32e50fe5f686f985d0af2e74219f328ed0\n\nGiven this it seems reasonable to slowly unset bits of the bloomfilter rather than clearing the filter entirely every 24 hours.\n\nThoughts?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120772064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120776749",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-120776749",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 120776749,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDc3Njc0OQ==",
    "user": {
      "login": "pstratem",
      "id": 620611,
      "node_id": "MDQ6VXNlcjYyMDYxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/620611?u=871eabd15ac87d37f1b4d2b927fa8f33e3ad7fe3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pstratem",
      "html_url": "https://github.com/pstratem",
      "followers_url": "https://api.github.com/users/pstratem/followers",
      "following_url": "https://api.github.com/users/pstratem/following{/other_user}",
      "gists_url": "https://api.github.com/users/pstratem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
      "organizations_url": "https://api.github.com/users/pstratem/orgs",
      "repos_url": "https://api.github.com/users/pstratem/repos",
      "events_url": "https://api.github.com/users/pstratem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pstratem/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-13T00:44:28Z",
    "updated_at": "2015-07-13T00:44:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Scratch that. There's no need to clear the filter explicitly with the rolling bloom filter.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120776749/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152462865",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-152462865",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 152462865,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjQ2Mjg2NQ==",
    "user": {
      "login": "dcousens",
      "id": 413395,
      "node_id": "MDQ6VXNlcjQxMzM5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/413395?u=034ef1433a0704d9c91b57b993009b0383d6b7c0&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dcousens",
      "html_url": "https://github.com/dcousens",
      "followers_url": "https://api.github.com/users/dcousens/followers",
      "following_url": "https://api.github.com/users/dcousens/following{/other_user}",
      "gists_url": "https://api.github.com/users/dcousens/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
      "organizations_url": "https://api.github.com/users/dcousens/orgs",
      "repos_url": "https://api.github.com/users/dcousens/repos",
      "events_url": "https://api.github.com/users/dcousens/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dcousens/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-30T08:52:05Z",
    "updated_at": "2015-10-30T08:52:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@pstratem rebase/close?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152462865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152562747",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-152562747",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 152562747,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjU2Mjc0Nw==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-30T15:49:50Z",
    "updated_at": "2015-10-30T15:49:50Z",
    "author_association": "MEMBER",
    "body": "rebase please...\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152562747/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160309049",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-160309049",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 160309049,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDMwOTA0OQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-28T15:09:05Z",
    "updated_at": "2015-11-28T15:09:05Z",
    "author_association": "MEMBER",
    "body": "See #7125.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160309049/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162721410",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#issuecomment-162721410",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5989",
    "id": 162721410,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MjcyMTQxMA==",
    "user": {
      "login": "pstratem",
      "id": 620611,
      "node_id": "MDQ6VXNlcjYyMDYxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/620611?u=871eabd15ac87d37f1b4d2b927fa8f33e3ad7fe3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pstratem",
      "html_url": "https://github.com/pstratem",
      "followers_url": "https://api.github.com/users/pstratem/followers",
      "following_url": "https://api.github.com/users/pstratem/following{/other_user}",
      "gists_url": "https://api.github.com/users/pstratem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
      "organizations_url": "https://api.github.com/users/pstratem/orgs",
      "repos_url": "https://api.github.com/users/pstratem/repos",
      "events_url": "https://api.github.com/users/pstratem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pstratem/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-08T01:08:14Z",
    "updated_at": "2015-12-08T01:08:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "we have better ideas on how to achieve the properties of the trickle logic (such as mempool sync at random interval)\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162721410/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28124119",
    "pull_request_review_id": null,
    "id": 28124119,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTI0MTE5",
    "diff_hunk": "@@ -4529,31 +4516,24 @@ bool SendMessages(CNode* pto, bool fSendTrickle)\n         if (!lockMain)\n             return true;\n \n-        // Address refresh broadcast\n-        static int64_t nLastRebroadcast;\n-        if (!IsInitialBlockDownload() && (GetTime() - nLastRebroadcast > 24 * 60 * 60))\n-        {\n-            LOCK(cs_vNodes);\n-            BOOST_FOREACH(CNode* pnode, vNodes)\n-            {\n-                // Periodically clear setAddrKnown to allow refresh broadcasts\n-                if (nLastRebroadcast)\n-                    pnode->setAddrKnown.clear();\n-\n-                // Rebroadcast our address\n-                AdvertizeLocal(pnode);\n-            }\n-            if (!vNodes.empty())\n-                nLastRebroadcast = GetTime();\n-        }\n-\n         //\n         // Message: addr\n         //\n-        if (fSendTrickle)\n-        {\n+\n+        if (pto->nNextLocalAddrSend < GetTime()) {\n+            AdvertizeLocal(pto);\n+            pto->nNextLocalAddrSend = GetTime() + GetRand(24 * 60 * 60);",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 59,
    "commit_id": "f55c978cd800586f9cad8d008e5bb96f4c8c501e",
    "original_commit_id": "2abc256a8277722889c8d796ab78fa5fb4a6affb",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Could that magic number be defined somehwere as constant? IMHO it's used quite often in this pull.\n",
    "created_at": "2015-04-10T06:13:18Z",
    "updated_at": "2015-07-12T22:15:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28124119",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28124119"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28124119"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28124119/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4525,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28180845",
    "pull_request_review_id": null,
    "id": 28180845,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTgwODQ1",
    "diff_hunk": "@@ -4529,31 +4516,24 @@ bool SendMessages(CNode* pto, bool fSendTrickle)\n         if (!lockMain)\n             return true;\n \n-        // Address refresh broadcast\n-        static int64_t nLastRebroadcast;\n-        if (!IsInitialBlockDownload() && (GetTime() - nLastRebroadcast > 24 * 60 * 60))\n-        {\n-            LOCK(cs_vNodes);\n-            BOOST_FOREACH(CNode* pnode, vNodes)\n-            {\n-                // Periodically clear setAddrKnown to allow refresh broadcasts\n-                if (nLastRebroadcast)\n-                    pnode->setAddrKnown.clear();\n-\n-                // Rebroadcast our address\n-                AdvertizeLocal(pnode);\n-            }\n-            if (!vNodes.empty())\n-                nLastRebroadcast = GetTime();\n-        }\n-\n         //\n         // Message: addr\n         //\n-        if (fSendTrickle)\n-        {\n+\n+        if (pto->nNextLocalAddrSend < GetTime()) {\n+            AdvertizeLocal(pto);\n+            pto->nNextLocalAddrSend = GetTime() + GetRand(24 * 60 * 60);",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 59,
    "commit_id": "f55c978cd800586f9cad8d008e5bb96f4c8c501e",
    "original_commit_id": "2abc256a8277722889c8d796ab78fa5fb4a6affb",
    "user": {
      "login": "pstratem",
      "id": 620611,
      "node_id": "MDQ6VXNlcjYyMDYxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pstratem",
      "html_url": "https://github.com/pstratem",
      "followers_url": "https://api.github.com/users/pstratem/followers",
      "following_url": "https://api.github.com/users/pstratem/following{/other_user}",
      "gists_url": "https://api.github.com/users/pstratem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
      "organizations_url": "https://api.github.com/users/pstratem/orgs",
      "repos_url": "https://api.github.com/users/pstratem/repos",
      "events_url": "https://api.github.com/users/pstratem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pstratem/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "At a later date in a different PR\n",
    "created_at": "2015-04-10T21:11:47Z",
    "updated_at": "2015-07-12T22:15:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28180845",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28180845"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28180845"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28180845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4525,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28193784",
    "pull_request_review_id": null,
    "id": 28193784,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTkzNzg0",
    "diff_hunk": "@@ -4619,54 +4600,72 @@ bool SendMessages(CNode* pto, bool fSendTrickle)\n         //\n         // Message: inventory\n         //\n-        vector<CInv> vInv;\n-        vector<CInv> vInvWait;\n-        {\n-            LOCK(pto->cs_inventory);\n-            vInv.reserve(pto->vInventoryToSend.size());\n-            vInvWait.reserve(pto->vInventoryToSend.size());\n-            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend)\n-            {\n-                if (pto->setInventoryKnown.count(inv))\n-                    continue;\n+        vector<CInv> vInv, vInvWait;\n+        nNowMicros = GetTimeMicros();\n \n-                // trickle out tx inv to protect privacy\n-                if (inv.type == MSG_TX && !fSendTrickle)\n-                {\n-                    // 1/4 of tx invs blast to all immediately\n-                    static uint256 hashSalt;\n-                    if (hashSalt.IsNull())\n-                        hashSalt = GetRandHash();\n-                    uint256 hashRand = ArithToUint256(UintToArith256(inv.hash) ^ UintToArith256(hashSalt));\n-                    hashRand = Hash(BEGIN(hashRand), END(hashRand));\n-                    bool fTrickleWait = ((UintToArith256(hashRand) & 3) != 0);\n+        vInv.reserve(1000);\n+        \n+        if (pto->nNextInvSend < nNowMicros)\n+            vInvWait.reserve(pto->vInventoryToSend.size());\n \n-                    if (fTrickleWait)\n+        {\n+            LOCK(pto->cs_inventory);\n+            \n+            // TODO it would be sufficient to walk vInventoryToSend randomly, shuffling is relatively inefficient",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 112,
    "commit_id": "f55c978cd800586f9cad8d008e5bb96f4c8c501e",
    "original_commit_id": "85efde3c61885f5a5050c9630f17c72ec9df9c16",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In a random walk, it is hard to efficiently avoid processing the same element twice. If shuffling is slow, create an array of indexes, and shuffle that. Also, where does std::random_shuffle() get its randomness?\n\nSuggested code:\n\n```\nstd::vector<int> vRandInv;\nvRandInv.resize(pto->vInventoryToSend.size());\nfor (int i = 0; i < pto->vRandInv.size(); i++) vRandInv[i] = i;\nfor (int i = 0; i < pto->vRandInv.size(); i++) std::swap(vRandInv[i], vRandInv[i + GetRand(vRandInv.size() - i]);\n\nfor (int i = 0; i < pto->vRandInv.size(); i++) {\n    const CInv& inv = pto->vInventoryToSend[vRandInv[i]];\n\n    ...\n```\n",
    "created_at": "2015-04-11T09:41:43Z",
    "updated_at": "2015-07-12T22:15:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28193784",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28193784"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28193784"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28193784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4614,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28193804",
    "pull_request_review_id": null,
    "id": 28193804,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTkzODA0",
    "diff_hunk": "@@ -4619,54 +4600,72 @@ bool SendMessages(CNode* pto, bool fSendTrickle)\n         //\n         // Message: inventory\n         //\n-        vector<CInv> vInv;\n-        vector<CInv> vInvWait;\n-        {\n-            LOCK(pto->cs_inventory);\n-            vInv.reserve(pto->vInventoryToSend.size());\n-            vInvWait.reserve(pto->vInventoryToSend.size());\n-            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend)\n-            {\n-                if (pto->setInventoryKnown.count(inv))\n-                    continue;\n+        vector<CInv> vInv, vInvWait;\n+        nNowMicros = GetTimeMicros();\n \n-                // trickle out tx inv to protect privacy\n-                if (inv.type == MSG_TX && !fSendTrickle)\n-                {\n-                    // 1/4 of tx invs blast to all immediately\n-                    static uint256 hashSalt;\n-                    if (hashSalt.IsNull())\n-                        hashSalt = GetRandHash();\n-                    uint256 hashRand = ArithToUint256(UintToArith256(inv.hash) ^ UintToArith256(hashSalt));\n-                    hashRand = Hash(BEGIN(hashRand), END(hashRand));\n-                    bool fTrickleWait = ((UintToArith256(hashRand) & 3) != 0);\n+        vInv.reserve(1000);\n+        \n+        if (pto->nNextInvSend < nNowMicros)\n+            vInvWait.reserve(pto->vInventoryToSend.size());\n \n-                    if (fTrickleWait)\n+        {\n+            LOCK(pto->cs_inventory);\n+            \n+            // TODO it would be sufficient to walk vInventoryToSend randomly, shuffling is relatively inefficient\n+            std::random_shuffle(pto->vInventoryToSend.begin(), pto->vInventoryToSend.end());\n+\n+            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend) {\n+                switch(inv.type) {\n+                    case MSG_BLOCK:\n+                    case MSG_FILTERED_BLOCK:\n                     {\n-                        vInvWait.push_back(inv);\n-                        continue;\n+                        // Aggressively push MSG_BLOCK/MSG_FILTERED_BLOCK\n+                        if (pto->setInventoryKnown.insert(inv).second) {\n+                            vInv.push_back(inv);\n+                            pto->PushMessage(\"inv\", vInv);\n+                            vInv.clear();\n+                        }\n+                        break;\n                     }\n-                }\n+                    case MSG_TX:\n+                    {\n+                        if (pto->nNextInvSend < nNowMicros || pto->fWhitelisted) {\n+                            if (pto->setInventoryKnown.insert(inv).second) {\n+                                vInv.push_back(inv);\n+                                if (vInv.size() >= 1000) {\n+                                    pto->PushMessage(\"inv\", vInv);\n+                                    vInv.clear();\n+                                }\n+                            }\n+                        }\n+                        else\n+                            vInvWait.push_back(inv);\n \n-                // returns true if wasn't already contained in the set\n-                if (pto->setInventoryKnown.insert(inv).second)\n-                {\n-                    vInv.push_back(inv);\n-                    if (vInv.size() >= 1000)\n+                        break;\n+                    }\n+                    default:\n                     {\n-                        pto->PushMessage(\"inv\", vInv);\n-                        vInv.clear();\n+                        vInv.push_back(inv);\n+                        if (vInv.size() >= 1000) {\n+                            pto->PushMessage(\"inv\", vInv);\n+                            vInv.clear();\n+                        }\n                     }\n                 }\n             }\n+\n             pto->vInventoryToSend = vInvWait;\n         }\n+\n         if (!vInv.empty())\n             pto->PushMessage(\"inv\", vInv);\n \n+        if (pto->nNextInvSend < nNowMicros)\n+            pto->nNextInvSend = nNowMicros + GetRand(10 * 1000000);\n+\n         // Detect whether we're stalling\n-        int64_t nNow = GetTimeMicros();\n-        if (!pto->fDisconnect && state.nStallingSince && state.nStallingSince < nNow - 1000000 * BLOCK_STALLING_TIMEOUT) {\n+        nNowMicros = GetTimeMicros();",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 177,
    "commit_id": "f55c978cd800586f9cad8d008e5bb96f4c8c501e",
    "original_commit_id": "85efde3c61885f5a5050c9630f17c72ec9df9c16",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You already have an initialized nNowMicros variable. No need to request the current time again?\n",
    "created_at": "2015-04-11T09:45:27Z",
    "updated_at": "2015-07-12T22:15:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28193804",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28193804"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28193804"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28193804/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4927,
    "original_line": 4667,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28193842",
    "pull_request_review_id": null,
    "id": 28193842,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTkzODQy",
    "diff_hunk": "@@ -4619,54 +4600,72 @@ bool SendMessages(CNode* pto, bool fSendTrickle)\n         //\n         // Message: inventory\n         //\n-        vector<CInv> vInv;\n-        vector<CInv> vInvWait;\n-        {\n-            LOCK(pto->cs_inventory);\n-            vInv.reserve(pto->vInventoryToSend.size());\n-            vInvWait.reserve(pto->vInventoryToSend.size());\n-            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend)\n-            {\n-                if (pto->setInventoryKnown.count(inv))\n-                    continue;\n+        vector<CInv> vInv, vInvWait;\n+        nNowMicros = GetTimeMicros();\n \n-                // trickle out tx inv to protect privacy\n-                if (inv.type == MSG_TX && !fSendTrickle)\n-                {\n-                    // 1/4 of tx invs blast to all immediately\n-                    static uint256 hashSalt;\n-                    if (hashSalt.IsNull())\n-                        hashSalt = GetRandHash();\n-                    uint256 hashRand = ArithToUint256(UintToArith256(inv.hash) ^ UintToArith256(hashSalt));\n-                    hashRand = Hash(BEGIN(hashRand), END(hashRand));\n-                    bool fTrickleWait = ((UintToArith256(hashRand) & 3) != 0);\n+        vInv.reserve(1000);\n+        \n+        if (pto->nNextInvSend < nNowMicros)\n+            vInvWait.reserve(pto->vInventoryToSend.size());\n \n-                    if (fTrickleWait)\n+        {\n+            LOCK(pto->cs_inventory);\n+            \n+            // TODO it would be sufficient to walk vInventoryToSend randomly, shuffling is relatively inefficient\n+            std::random_shuffle(pto->vInventoryToSend.begin(), pto->vInventoryToSend.end());\n+\n+            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend) {\n+                switch(inv.type) {\n+                    case MSG_BLOCK:\n+                    case MSG_FILTERED_BLOCK:\n                     {\n-                        vInvWait.push_back(inv);\n-                        continue;\n+                        // Aggressively push MSG_BLOCK/MSG_FILTERED_BLOCK",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 122,
    "commit_id": "f55c978cd800586f9cad8d008e5bb96f4c8c501e",
    "original_commit_id": "85efde3c61885f5a5050c9630f17c72ec9df9c16",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe it is more efficient to keep a separate vInventoryToSend for MSG_BLOCK and MSG_FILTERED_BLOCK, and only shuffle/process the normal one when nNextInvSend is exceeded.\n",
    "created_at": "2015-04-11T09:54:44Z",
    "updated_at": "2015-07-12T22:15:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28193842",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28193842"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28193842"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28193842/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4622,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28195448",
    "pull_request_review_id": null,
    "id": 28195448,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTk1NDQ4",
    "diff_hunk": "@@ -4619,54 +4600,72 @@ bool SendMessages(CNode* pto, bool fSendTrickle)\n         //\n         // Message: inventory\n         //\n-        vector<CInv> vInv;\n-        vector<CInv> vInvWait;\n-        {\n-            LOCK(pto->cs_inventory);\n-            vInv.reserve(pto->vInventoryToSend.size());\n-            vInvWait.reserve(pto->vInventoryToSend.size());\n-            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend)\n-            {\n-                if (pto->setInventoryKnown.count(inv))\n-                    continue;\n+        vector<CInv> vInv, vInvWait;\n+        nNowMicros = GetTimeMicros();\n \n-                // trickle out tx inv to protect privacy\n-                if (inv.type == MSG_TX && !fSendTrickle)\n-                {\n-                    // 1/4 of tx invs blast to all immediately\n-                    static uint256 hashSalt;\n-                    if (hashSalt.IsNull())\n-                        hashSalt = GetRandHash();\n-                    uint256 hashRand = ArithToUint256(UintToArith256(inv.hash) ^ UintToArith256(hashSalt));\n-                    hashRand = Hash(BEGIN(hashRand), END(hashRand));\n-                    bool fTrickleWait = ((UintToArith256(hashRand) & 3) != 0);\n+        vInv.reserve(1000);\n+        \n+        if (pto->nNextInvSend < nNowMicros)\n+            vInvWait.reserve(pto->vInventoryToSend.size());\n \n-                    if (fTrickleWait)\n+        {\n+            LOCK(pto->cs_inventory);\n+            \n+            // TODO it would be sufficient to walk vInventoryToSend randomly, shuffling is relatively inefficient\n+            std::random_shuffle(pto->vInventoryToSend.begin(), pto->vInventoryToSend.end());\n+\n+            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend) {\n+                switch(inv.type) {\n+                    case MSG_BLOCK:\n+                    case MSG_FILTERED_BLOCK:\n                     {\n-                        vInvWait.push_back(inv);\n-                        continue;\n+                        // Aggressively push MSG_BLOCK/MSG_FILTERED_BLOCK\n+                        if (pto->setInventoryKnown.insert(inv).second) {\n+                            vInv.push_back(inv);\n+                            pto->PushMessage(\"inv\", vInv);\n+                            vInv.clear();\n+                        }\n+                        break;\n                     }\n-                }\n+                    case MSG_TX:\n+                    {\n+                        if (pto->nNextInvSend < nNowMicros || pto->fWhitelisted) {\n+                            if (pto->setInventoryKnown.insert(inv).second) {\n+                                vInv.push_back(inv);\n+                                if (vInv.size() >= 1000) {\n+                                    pto->PushMessage(\"inv\", vInv);\n+                                    vInv.clear();\n+                                }\n+                            }\n+                        }\n+                        else\n+                            vInvWait.push_back(inv);\n \n-                // returns true if wasn't already contained in the set\n-                if (pto->setInventoryKnown.insert(inv).second)\n-                {\n-                    vInv.push_back(inv);\n-                    if (vInv.size() >= 1000)\n+                        break;\n+                    }\n+                    default:\n                     {\n-                        pto->PushMessage(\"inv\", vInv);\n-                        vInv.clear();\n+                        vInv.push_back(inv);\n+                        if (vInv.size() >= 1000) {\n+                            pto->PushMessage(\"inv\", vInv);\n+                            vInv.clear();\n+                        }\n                     }\n                 }\n             }\n+\n             pto->vInventoryToSend = vInvWait;\n         }\n+\n         if (!vInv.empty())\n             pto->PushMessage(\"inv\", vInv);\n \n+        if (pto->nNextInvSend < nNowMicros)\n+            pto->nNextInvSend = nNowMicros + GetRand(10 * 1000000);\n+\n         // Detect whether we're stalling\n-        int64_t nNow = GetTimeMicros();\n-        if (!pto->fDisconnect && state.nStallingSince && state.nStallingSince < nNow - 1000000 * BLOCK_STALLING_TIMEOUT) {\n+        nNowMicros = GetTimeMicros();",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 177,
    "commit_id": "f55c978cd800586f9cad8d008e5bb96f4c8c501e",
    "original_commit_id": "85efde3c61885f5a5050c9630f17c72ec9df9c16",
    "user": {
      "login": "pstratem",
      "id": 620611,
      "node_id": "MDQ6VXNlcjYyMDYxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pstratem",
      "html_url": "https://github.com/pstratem",
      "followers_url": "https://api.github.com/users/pstratem/followers",
      "following_url": "https://api.github.com/users/pstratem/following{/other_user}",
      "gists_url": "https://api.github.com/users/pstratem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
      "organizations_url": "https://api.github.com/users/pstratem/orgs",
      "repos_url": "https://api.github.com/users/pstratem/repos",
      "events_url": "https://api.github.com/users/pstratem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pstratem/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "There's a certain amount of error from caching the value.\n\nThe value is updated twice to reduce this error.\n",
    "created_at": "2015-04-11T14:41:12Z",
    "updated_at": "2015-07-12T22:15:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28195448",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28195448"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28195448"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28195448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4927,
    "original_line": 4667,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28892524",
    "pull_request_review_id": null,
    "id": 28892524,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4ODkyNTI0",
    "diff_hunk": "@@ -4619,54 +4600,72 @@ bool SendMessages(CNode* pto, bool fSendTrickle)\n         //\n         // Message: inventory\n         //\n-        vector<CInv> vInv;\n-        vector<CInv> vInvWait;\n-        {\n-            LOCK(pto->cs_inventory);\n-            vInv.reserve(pto->vInventoryToSend.size());\n-            vInvWait.reserve(pto->vInventoryToSend.size());\n-            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend)\n-            {\n-                if (pto->setInventoryKnown.count(inv))\n-                    continue;\n+        vector<CInv> vInv, vInvWait;\n+        nNowMicros = GetTimeMicros();\n \n-                // trickle out tx inv to protect privacy\n-                if (inv.type == MSG_TX && !fSendTrickle)\n-                {\n-                    // 1/4 of tx invs blast to all immediately\n-                    static uint256 hashSalt;\n-                    if (hashSalt.IsNull())\n-                        hashSalt = GetRandHash();\n-                    uint256 hashRand = ArithToUint256(UintToArith256(inv.hash) ^ UintToArith256(hashSalt));\n-                    hashRand = Hash(BEGIN(hashRand), END(hashRand));\n-                    bool fTrickleWait = ((UintToArith256(hashRand) & 3) != 0);\n+        vInv.reserve(1000);\n+        \n+        if (pto->nNextInvSend < nNowMicros)\n+            vInvWait.reserve(pto->vInventoryToSend.size());\n \n-                    if (fTrickleWait)\n+        {\n+            LOCK(pto->cs_inventory);\n+            \n+            // TODO it would be sufficient to walk vInventoryToSend randomly, shuffling is relatively inefficient\n+            std::random_shuffle(pto->vInventoryToSend.begin(), pto->vInventoryToSend.end());\n+\n+            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend) {\n+                switch(inv.type) {\n+                    case MSG_BLOCK:\n+                    case MSG_FILTERED_BLOCK:\n                     {\n-                        vInvWait.push_back(inv);\n-                        continue;\n+                        // Aggressively push MSG_BLOCK/MSG_FILTERED_BLOCK\n+                        if (pto->setInventoryKnown.insert(inv).second) {\n+                            vInv.push_back(inv);\n+                            pto->PushMessage(\"inv\", vInv);\n+                            vInv.clear();\n+                        }\n+                        break;\n                     }\n-                }\n+                    case MSG_TX:\n+                    {\n+                        if (pto->nNextInvSend < nNowMicros || pto->fWhitelisted) {\n+                            if (pto->setInventoryKnown.insert(inv).second) {\n+                                vInv.push_back(inv);\n+                                if (vInv.size() >= 1000) {\n+                                    pto->PushMessage(\"inv\", vInv);\n+                                    vInv.clear();\n+                                }\n+                            }\n+                        }\n+                        else\n+                            vInvWait.push_back(inv);\n \n-                // returns true if wasn't already contained in the set\n-                if (pto->setInventoryKnown.insert(inv).second)\n-                {\n-                    vInv.push_back(inv);\n-                    if (vInv.size() >= 1000)\n+                        break;\n+                    }\n+                    default:\n                     {\n-                        pto->PushMessage(\"inv\", vInv);\n-                        vInv.clear();\n+                        vInv.push_back(inv);\n+                        if (vInv.size() >= 1000) {\n+                            pto->PushMessage(\"inv\", vInv);\n+                            vInv.clear();\n+                        }\n                     }\n                 }\n             }\n+\n             pto->vInventoryToSend = vInvWait;\n         }\n+\n         if (!vInv.empty())\n             pto->PushMessage(\"inv\", vInv);\n \n+        if (pto->nNextInvSend < nNowMicros)\n+            pto->nNextInvSend = nNowMicros + GetRand(10 * 1000000);\n+\n         // Detect whether we're stalling\n-        int64_t nNow = GetTimeMicros();\n-        if (!pto->fDisconnect && state.nStallingSince && state.nStallingSince < nNow - 1000000 * BLOCK_STALLING_TIMEOUT) {\n+        nNowMicros = GetTimeMicros();",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 177,
    "commit_id": "f55c978cd800586f9cad8d008e5bb96f4c8c501e",
    "original_commit_id": "85efde3c61885f5a5050c9630f17c72ec9df9c16",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If the difference in time between them is more than a few milliseconds, we have different problems :)\n",
    "created_at": "2015-04-22T16:57:20Z",
    "updated_at": "2015-07-12T22:15:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28892524",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28892524"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28892524"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28892524/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4927,
    "original_line": 4667,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28897696",
    "pull_request_review_id": null,
    "id": 28897696,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4ODk3Njk2",
    "diff_hunk": "@@ -4619,54 +4600,72 @@ bool SendMessages(CNode* pto, bool fSendTrickle)\n         //\n         // Message: inventory\n         //\n-        vector<CInv> vInv;\n-        vector<CInv> vInvWait;\n-        {\n-            LOCK(pto->cs_inventory);\n-            vInv.reserve(pto->vInventoryToSend.size());\n-            vInvWait.reserve(pto->vInventoryToSend.size());\n-            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend)\n-            {\n-                if (pto->setInventoryKnown.count(inv))\n-                    continue;\n+        vector<CInv> vInv, vInvWait;\n+        nNowMicros = GetTimeMicros();\n \n-                // trickle out tx inv to protect privacy\n-                if (inv.type == MSG_TX && !fSendTrickle)\n-                {\n-                    // 1/4 of tx invs blast to all immediately\n-                    static uint256 hashSalt;\n-                    if (hashSalt.IsNull())\n-                        hashSalt = GetRandHash();\n-                    uint256 hashRand = ArithToUint256(UintToArith256(inv.hash) ^ UintToArith256(hashSalt));\n-                    hashRand = Hash(BEGIN(hashRand), END(hashRand));\n-                    bool fTrickleWait = ((UintToArith256(hashRand) & 3) != 0);\n+        vInv.reserve(1000);\n+        \n+        if (pto->nNextInvSend < nNowMicros)\n+            vInvWait.reserve(pto->vInventoryToSend.size());\n \n-                    if (fTrickleWait)\n+        {\n+            LOCK(pto->cs_inventory);\n+            \n+            // TODO it would be sufficient to walk vInventoryToSend randomly, shuffling is relatively inefficient\n+            std::random_shuffle(pto->vInventoryToSend.begin(), pto->vInventoryToSend.end());\n+\n+            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend) {\n+                switch(inv.type) {\n+                    case MSG_BLOCK:\n+                    case MSG_FILTERED_BLOCK:\n                     {\n-                        vInvWait.push_back(inv);\n-                        continue;\n+                        // Aggressively push MSG_BLOCK/MSG_FILTERED_BLOCK\n+                        if (pto->setInventoryKnown.insert(inv).second) {\n+                            vInv.push_back(inv);\n+                            pto->PushMessage(\"inv\", vInv);\n+                            vInv.clear();\n+                        }\n+                        break;\n                     }\n-                }\n+                    case MSG_TX:\n+                    {\n+                        if (pto->nNextInvSend < nNowMicros || pto->fWhitelisted) {\n+                            if (pto->setInventoryKnown.insert(inv).second) {\n+                                vInv.push_back(inv);\n+                                if (vInv.size() >= 1000) {\n+                                    pto->PushMessage(\"inv\", vInv);\n+                                    vInv.clear();\n+                                }\n+                            }\n+                        }\n+                        else\n+                            vInvWait.push_back(inv);\n \n-                // returns true if wasn't already contained in the set\n-                if (pto->setInventoryKnown.insert(inv).second)\n-                {\n-                    vInv.push_back(inv);\n-                    if (vInv.size() >= 1000)\n+                        break;\n+                    }\n+                    default:\n                     {\n-                        pto->PushMessage(\"inv\", vInv);\n-                        vInv.clear();\n+                        vInv.push_back(inv);\n+                        if (vInv.size() >= 1000) {\n+                            pto->PushMessage(\"inv\", vInv);\n+                            vInv.clear();\n+                        }\n                     }\n                 }\n             }\n+\n             pto->vInventoryToSend = vInvWait;\n         }\n+\n         if (!vInv.empty())\n             pto->PushMessage(\"inv\", vInv);\n \n+        if (pto->nNextInvSend < nNowMicros)\n+            pto->nNextInvSend = nNowMicros + GetRand(10 * 1000000);\n+\n         // Detect whether we're stalling\n-        int64_t nNow = GetTimeMicros();\n-        if (!pto->fDisconnect && state.nStallingSince && state.nStallingSince < nNow - 1000000 * BLOCK_STALLING_TIMEOUT) {\n+        nNowMicros = GetTimeMicros();",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 177,
    "commit_id": "f55c978cd800586f9cad8d008e5bb96f4c8c501e",
    "original_commit_id": "85efde3c61885f5a5050c9630f17c72ec9df9c16",
    "user": {
      "login": "pstratem",
      "id": 620611,
      "node_id": "MDQ6VXNlcjYyMDYxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pstratem",
      "html_url": "https://github.com/pstratem",
      "followers_url": "https://api.github.com/users/pstratem/followers",
      "following_url": "https://api.github.com/users/pstratem/following{/other_user}",
      "gists_url": "https://api.github.com/users/pstratem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
      "organizations_url": "https://api.github.com/users/pstratem/orgs",
      "repos_url": "https://api.github.com/users/pstratem/repos",
      "events_url": "https://api.github.com/users/pstratem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pstratem/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I want to avoid changing the logic of anything im not explicitly touching.\n",
    "created_at": "2015-04-22T17:54:22Z",
    "updated_at": "2015-07-12T22:15:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28897696",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28897696"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28897696"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28897696/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4927,
    "original_line": 4667,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28897797",
    "pull_request_review_id": null,
    "id": 28897797,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4ODk3Nzk3",
    "diff_hunk": "@@ -4619,54 +4600,72 @@ bool SendMessages(CNode* pto, bool fSendTrickle)\n         //\n         // Message: inventory\n         //\n-        vector<CInv> vInv;\n-        vector<CInv> vInvWait;\n-        {\n-            LOCK(pto->cs_inventory);\n-            vInv.reserve(pto->vInventoryToSend.size());\n-            vInvWait.reserve(pto->vInventoryToSend.size());\n-            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend)\n-            {\n-                if (pto->setInventoryKnown.count(inv))\n-                    continue;\n+        vector<CInv> vInv, vInvWait;\n+        nNowMicros = GetTimeMicros();\n \n-                // trickle out tx inv to protect privacy\n-                if (inv.type == MSG_TX && !fSendTrickle)\n-                {\n-                    // 1/4 of tx invs blast to all immediately\n-                    static uint256 hashSalt;\n-                    if (hashSalt.IsNull())\n-                        hashSalt = GetRandHash();\n-                    uint256 hashRand = ArithToUint256(UintToArith256(inv.hash) ^ UintToArith256(hashSalt));\n-                    hashRand = Hash(BEGIN(hashRand), END(hashRand));\n-                    bool fTrickleWait = ((UintToArith256(hashRand) & 3) != 0);\n+        vInv.reserve(1000);\n+        \n+        if (pto->nNextInvSend < nNowMicros)\n+            vInvWait.reserve(pto->vInventoryToSend.size());\n \n-                    if (fTrickleWait)\n+        {\n+            LOCK(pto->cs_inventory);\n+            \n+            // TODO it would be sufficient to walk vInventoryToSend randomly, shuffling is relatively inefficient\n+            std::random_shuffle(pto->vInventoryToSend.begin(), pto->vInventoryToSend.end());\n+\n+            BOOST_FOREACH(const CInv& inv, pto->vInventoryToSend) {\n+                switch(inv.type) {\n+                    case MSG_BLOCK:\n+                    case MSG_FILTERED_BLOCK:\n                     {\n-                        vInvWait.push_back(inv);\n-                        continue;\n+                        // Aggressively push MSG_BLOCK/MSG_FILTERED_BLOCK\n+                        if (pto->setInventoryKnown.insert(inv).second) {\n+                            vInv.push_back(inv);\n+                            pto->PushMessage(\"inv\", vInv);\n+                            vInv.clear();\n+                        }\n+                        break;\n                     }\n-                }\n+                    case MSG_TX:\n+                    {\n+                        if (pto->nNextInvSend < nNowMicros || pto->fWhitelisted) {\n+                            if (pto->setInventoryKnown.insert(inv).second) {\n+                                vInv.push_back(inv);\n+                                if (vInv.size() >= 1000) {\n+                                    pto->PushMessage(\"inv\", vInv);\n+                                    vInv.clear();\n+                                }\n+                            }\n+                        }\n+                        else\n+                            vInvWait.push_back(inv);\n \n-                // returns true if wasn't already contained in the set\n-                if (pto->setInventoryKnown.insert(inv).second)\n-                {\n-                    vInv.push_back(inv);\n-                    if (vInv.size() >= 1000)\n+                        break;\n+                    }\n+                    default:\n                     {\n-                        pto->PushMessage(\"inv\", vInv);\n-                        vInv.clear();\n+                        vInv.push_back(inv);\n+                        if (vInv.size() >= 1000) {\n+                            pto->PushMessage(\"inv\", vInv);\n+                            vInv.clear();\n+                        }\n                     }\n                 }\n             }\n+\n             pto->vInventoryToSend = vInvWait;\n         }\n+\n         if (!vInv.empty())\n             pto->PushMessage(\"inv\", vInv);\n \n+        if (pto->nNextInvSend < nNowMicros)\n+            pto->nNextInvSend = nNowMicros + GetRand(10 * 1000000);\n+\n         // Detect whether we're stalling\n-        int64_t nNow = GetTimeMicros();\n-        if (!pto->fDisconnect && state.nStallingSince && state.nStallingSince < nNow - 1000000 * BLOCK_STALLING_TIMEOUT) {\n+        nNowMicros = GetTimeMicros();",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 177,
    "commit_id": "f55c978cd800586f9cad8d008e5bb96f4c8c501e",
    "original_commit_id": "85efde3c61885f5a5050c9630f17c72ec9df9c16",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fair enough.\n",
    "created_at": "2015-04-22T17:55:19Z",
    "updated_at": "2015-07-12T22:15:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28897797",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28897797"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r28897797"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28897797/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4927,
    "original_line": 4667,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/29104543",
    "pull_request_review_id": null,
    "id": 29104543,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MTA0NTQz",
    "diff_hunk": "@@ -4553,31 +4540,25 @@ bool SendMessages(CNode* pto, bool fSendTrickle)\n         if (!lockMain)\n             return true;\n \n-        // Address refresh broadcast\n-        static int64_t nLastRebroadcast;\n-        if (!IsInitialBlockDownload() && (GetTime() - nLastRebroadcast > 24 * 60 * 60))\n-        {\n-            LOCK(cs_vNodes);\n-            BOOST_FOREACH(CNode* pnode, vNodes)\n-            {\n-                // Periodically clear setAddrKnown to allow refresh broadcasts\n-                if (nLastRebroadcast)\n-                    pnode->setAddrKnown.clear();\n-\n-                // Rebroadcast our address\n-                AdvertizeLocal(pnode);\n-            }\n-            if (!vNodes.empty())\n-                nLastRebroadcast = GetTime();\n-        }\n-\n         //\n         // Message: addr\n         //\n-        if (fSendTrickle)\n-        {\n+\n+        int64_t nNowMicros = GetTimeMicros();\n+        if (pto->nNextLocalAddrSend < nNowMicros) {\n+            AdvertizeLocal(pto);\n+            pto->nNextLocalAddrSend = nNowMicros + GetRand(24 * 60 * 60 * 1000000);",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 60,
    "commit_id": "f55c978cd800586f9cad8d008e5bb96f4c8c501e",
    "original_commit_id": "d807bdcbc5c42fd7c654656dba957f6113023de2",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Integer overflow on this line. You probably want to cast to int64_t first.\n",
    "created_at": "2015-04-25T22:04:37Z",
    "updated_at": "2015-07-12T22:15:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r29104543",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/29104543"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/5989#discussion_r29104543"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5989"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/29104543/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4550,
    "side": "RIGHT"
  }
]