[
  {
    "sha": "5f699b5d417e9cfa920d10d7dac02a35b1ff6eab",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1ZjY5OWI1ZDQxN2U5Y2ZhOTIwZDEwZDdkYWMwMmEzNWIxZmY2ZWFi",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-04-07T18:34:37Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-05-14T04:19:31Z"
      },
      "message": "build: Drop make dist in gitian builds\n\nGithub-Pull: #18556\nRebased-From: 1362be044724bb49d785ca2e296a3b43343c1690",
      "tree": {
        "sha": "189d06fbec2f09655d5926958245f6052c657b23",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/189d06fbec2f09655d5926958245f6052c657b23"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5747c4ca1bf8eafd52bfa82db3e3887dc133cb24",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5747c4ca1bf8eafd52bfa82db3e3887dc133cb24",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5747c4ca1bf8eafd52bfa82db3e3887dc133cb24"
      }
    ],
    "stats": {
      "total": 117,
      "additions": 48,
      "deletions": 69
    },
    "files": [
      {
        "sha": "be64a9716b46764a2b196e2b41ea656ce197f866",
        "filename": "contrib/gitian-descriptors/gitian-linux.yml",
        "status": "modified",
        "additions": 7,
        "deletions": 20,
        "changes": 27,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab/contrib/gitian-descriptors/gitian-linux.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab/contrib/gitian-descriptors/gitian-linux.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-linux.yml?ref=5f699b5d417e9cfa920d10d7dac02a35b1ff6eab",
        "patch": "@@ -140,18 +140,12 @@ script: |\n   create_per-host_faketime_wrappers \"${REFERENCE_DATETIME}\"\n   export PATH=${WRAP_DIR}:${PATH}\n \n-  # Create the release tarball using (arbitrarily) the first host\n-  ./autogen.sh\n-  CONFIG_SITE=${BASEPREFIX}/$(echo \"${HOSTS}\" | awk '{print $1;}')/share/config.site ./configure --prefix=/\n-  make dist\n-  SOURCEDIST=$(echo bitcoin-*.tar.gz)\n-  DISTNAME=${SOURCEDIST/%.tar.gz}\n-\n-  # Workaround for tarball not building with the bare tag version (prep)\n-  make -C src obj/build.h\n+  # Create the git archive, and define DISTNAME and GIT_ARCHIVE variables.\n+  # shellcheck source=contrib/gitian-descriptors/make_git_archive\n+  source contrib/gitian-descriptors/make_git_archive\n \n   ORIGPATH=\"$PATH\"\n-  # Extract the release tarball into a dir for each host and build\n+  # Extract the git archive into a dir for each host and build\n   for i in ${HOSTS}; do\n     export PATH=${BASEPREFIX}/${i}/native/bin:${ORIGPATH}\n     if [ \"${i}\" = \"riscv64-linux-gnu\" ]; then\n@@ -165,13 +159,9 @@ script: |\n     cd distsrc-${i}\n     INSTALLPATH=\"${PWD}/installed/${DISTNAME}\"\n     mkdir -p ${INSTALLPATH}\n-    tar --strip-components=1 -xf ../$SOURCEDIST\n-\n-    # Workaround for tarball not building with the bare tag version\n-    echo '#!/bin/true' >share/genbuild.sh\n-    mkdir src/obj\n-    cp ../src/obj/build.h src/obj/\n+    tar --strip-components=1 -xf $GIT_ARCHIVE\n \n+    ./autogen.sh\n     CONFIG_SITE=${BASEPREFIX}/${i}/share/config.site ./configure --prefix=/ --disable-ccache --disable-maintainer-mode --disable-dependency-tracking ${CONFIGFLAGS} CFLAGS=\"${HOST_CFLAGS}\" CXXFLAGS=\"${HOST_CXXFLAGS}\" LDFLAGS=\"${HOST_LDFLAGS}\"\n     make ${MAKEOPTS}\n     make ${MAKEOPTS} -C src check-security\n@@ -183,12 +173,9 @@ script: |\n     rm -rf ${DISTNAME}/lib/pkgconfig\n     find ${DISTNAME}/bin -type f -executable -print0 | xargs -0 -n1 -I{} ../contrib/devtools/split-debug.sh {} {} {}.dbg\n     find ${DISTNAME}/lib -type f -print0 | xargs -0 -n1 -I{} ../contrib/devtools/split-debug.sh {} {} {}.dbg\n-    cp ../../README.md ${DISTNAME}/\n+    cp ../README.md ${DISTNAME}/\n     find ${DISTNAME} -not -name \"*.dbg\" | sort | tar --mtime=\"$REFERENCE_DATETIME\" --no-recursion --mode='u+rw,go+r-w,a+X' --owner=0 --group=0 -c -T - | gzip -9n > ${OUTDIR}/${DISTNAME}-${i}.tar.gz\n     find ${DISTNAME} -name \"*.dbg\" | sort | tar --mtime=\"$REFERENCE_DATETIME\" --no-recursion --mode='u+rw,go+r-w,a+X' --owner=0 --group=0 -c -T - | gzip -9n > ${OUTDIR}/${DISTNAME}-${i}-debug.tar.gz\n     cd ../../\n     rm -rf distsrc-${i}\n   done\n-\n-  mkdir -p ${OUTDIR}/src\n-  git archive --prefix=\"${DISTNAME}/\" --output=${OUTDIR}/src/${DISTNAME}.tar.gz HEAD"
      },
      {
        "sha": "dc3ade33e38e326b2f56b579a8f7f81fe0368f3e",
        "filename": "contrib/gitian-descriptors/gitian-osx.yml",
        "status": "modified",
        "additions": 6,
        "deletions": 19,
        "changes": 25,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab/contrib/gitian-descriptors/gitian-osx.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab/contrib/gitian-descriptors/gitian-osx.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-osx.yml?ref=5f699b5d417e9cfa920d10d7dac02a35b1ff6eab",
        "patch": "@@ -103,31 +103,21 @@ script: |\n   create_per-host_faketime_wrappers \"${REFERENCE_DATETIME}\"\n   export PATH=${WRAP_DIR}:${PATH}\n \n-  # Create the release tarball using (arbitrarily) the first host\n-  ./autogen.sh\n-  CONFIG_SITE=${BASEPREFIX}/$(echo \"${HOSTS}\" | awk '{print $1;}')/share/config.site ./configure --prefix=/\n-  make dist\n-  SOURCEDIST=$(echo bitcoin-*.tar.gz)\n-  DISTNAME=${SOURCEDIST/%.tar.gz}\n-\n-  # Workaround for tarball not building with the bare tag version (prep)\n-  make -C src obj/build.h\n+  # Create the git archive, and define DISTNAME and GIT_ARCHIVE variables.\n+  # shellcheck source=contrib/gitian-descriptors/make_git_archive\n+  source contrib/gitian-descriptors/make_git_archive\n \n   ORIGPATH=\"$PATH\"\n-  # Extract the release tarball into a dir for each host and build\n+  # Extract the git archive into a dir for each host and build\n   for i in ${HOSTS}; do\n     export PATH=${BASEPREFIX}/${i}/native/bin:${ORIGPATH}\n     mkdir -p distsrc-${i}\n     cd distsrc-${i}\n     INSTALLPATH=\"${PWD}/installed/${DISTNAME}\"\n     mkdir -p ${INSTALLPATH}\n-    tar --strip-components=1 -xf ../$SOURCEDIST\n-\n-    # Workaround for tarball not building with the bare tag version\n-    echo '#!/bin/true' >share/genbuild.sh\n-    mkdir src/obj\n-    cp ../src/obj/build.h src/obj/\n+    tar --strip-components=1 -xf $GIT_ARCHIVE\n \n+    ./autogen.sh\n     CONFIG_SITE=${BASEPREFIX}/${i}/share/config.site ./configure --prefix=/ --disable-ccache --disable-maintainer-mode --disable-dependency-tracking ${CONFIGFLAGS}\n     make ${MAKEOPTS}\n     make ${MAKEOPTS} -C src check-security\n@@ -160,7 +150,4 @@ script: |\n     cd ../../\n   done\n \n-  mkdir -p ${OUTDIR}/src\n-  git archive --prefix=\"${DISTNAME}/\" --output=${OUTDIR}/src/${DISTNAME}.tar.gz HEAD\n-\n   mv ${OUTDIR}/${DISTNAME}-x86_64-*.tar.gz ${OUTDIR}/${DISTNAME}-osx64.tar.gz"
      },
      {
        "sha": "e9673d05ea8cab917574ebe0498286c62fb8f433",
        "filename": "contrib/gitian-descriptors/gitian-win.yml",
        "status": "modified",
        "additions": 8,
        "deletions": 21,
        "changes": 29,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab/contrib/gitian-descriptors/gitian-win.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab/contrib/gitian-descriptors/gitian-win.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-win.yml?ref=5f699b5d417e9cfa920d10d7dac02a35b1ff6eab",
        "patch": "@@ -110,38 +110,28 @@ script: |\n   create_per-host_compiler_wrapper \"${REFERENCE_DATETIME}\"\n   export PATH=${WRAP_DIR}:${PATH}\n \n-  # Create the release tarball using (arbitrarily) the first host\n-  ./autogen.sh\n-  CONFIG_SITE=${BASEPREFIX}/$(echo \"${HOSTS}\" | awk '{print $1;}')/share/config.site ./configure --prefix=/\n-  make dist\n-  SOURCEDIST=$(echo bitcoin-*.tar.gz)\n-  DISTNAME=${SOURCEDIST/%.tar.gz}\n-\n-  # Workaround for tarball not building with the bare tag version (prep)\n-  make -C src obj/build.h\n+  # Create the git archive, and define DISTNAME and GIT_ARCHIVE variables.\n+  # shellcheck source=contrib/gitian-descriptors/make_git_archive\n+  source contrib/gitian-descriptors/make_git_archive\n \n   ORIGPATH=\"$PATH\"\n-  # Extract the release tarball into a dir for each host and build\n+  # Extract the git archive into a dir for each host and build\n   for i in ${HOSTS}; do\n     export PATH=${BASEPREFIX}/${i}/native/bin:${ORIGPATH}\n     mkdir -p distsrc-${i}\n     cd distsrc-${i}\n     INSTALLPATH=\"${PWD}/installed/${DISTNAME}\"\n     mkdir -p ${INSTALLPATH}\n-    tar --strip-components=1 -xf ../$SOURCEDIST\n-\n-    # Workaround for tarball not building with the bare tag version\n-    echo '#!/bin/true' >share/genbuild.sh\n-    mkdir src/obj\n-    cp ../src/obj/build.h src/obj/\n+    tar --strip-components=1 -xf $GIT_ARCHIVE\n \n+    ./autogen.sh\n     CONFIG_SITE=${BASEPREFIX}/${i}/share/config.site ./configure --prefix=/ --disable-ccache --disable-maintainer-mode --disable-dependency-tracking ${CONFIGFLAGS} CFLAGS=\"${HOST_CFLAGS}\" CXXFLAGS=\"${HOST_CXXFLAGS}\"\n     make ${MAKEOPTS}\n     make ${MAKEOPTS} -C src check-security\n     make ${MAKEOPTS} -C src check-symbols\n     make deploy\n     make install DESTDIR=${INSTALLPATH}\n-    cp -f --target-directory=\"${OUTDIR}\" ./bitcoin-*-setup-unsigned.exe\n+    cp -f ./bitcoin-*-win64-setup-unsigned.exe ${OUTDIR}/${DISTNAME}-win64-setup-unsigned.exe\n     cd installed\n     mv ${DISTNAME}/bin/*.dll ${DISTNAME}/lib/\n     find . -name \"lib*.la\" -delete\n@@ -156,11 +146,8 @@ script: |\n     rm -rf distsrc-${i}\n   done\n \n-  mkdir -p ${OUTDIR}/src\n-  git archive --prefix=\"${DISTNAME}/\" --output=${OUTDIR}/src/${DISTNAME}.tar.gz HEAD\n-\n   cp -rf contrib/windeploy $BUILD_DIR\n   cd $BUILD_DIR/windeploy\n   mkdir unsigned\n-  cp $OUTDIR/bitcoin-*setup-unsigned.exe unsigned/\n+  cp ${OUTDIR}/${DISTNAME}-win64-setup-unsigned.exe unsigned/\n   find . | sort | tar --mtime=\"$REFERENCE_DATETIME\" --no-recursion --mode='u+rw,go+r-w,a+X' --owner=0 --group=0 -c -T - | gzip -9n > ${OUTDIR}/${DISTNAME}-win-unsigned.tar.gz"
      },
      {
        "sha": "f05e5c3988c258d65a0cc6127627a3d30759b681",
        "filename": "contrib/gitian-descriptors/make_git_archive",
        "status": "added",
        "additions": 20,
        "deletions": 0,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab/contrib/gitian-descriptors/make_git_archive",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab/contrib/gitian-descriptors/make_git_archive",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/make_git_archive?ref=5f699b5d417e9cfa920d10d7dac02a35b1ff6eab",
        "patch": "@@ -0,0 +1,20 @@\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#\n+# A helper script to be sourced into the gitian descriptors\n+\n+mkdir -p ${OUTDIR}/src\n+RECENT_TAG=$(git describe --abbrev=0 HEAD)\n+if [ $RECENT_TAG = $(git describe HEAD) ]; then\n+  if [[ $RECENT_TAG == v* ]]; then\n+    VERSION=${RECENT_TAG:1}\n+  else\n+    VERSION=$RECENT_TAG\n+  fi\n+else\n+  VERSION=$(git rev-parse --short HEAD)\n+fi\n+DISTNAME=bitcoin-${VERSION}\n+GIT_ARCHIVE=\"${OUTDIR}/src/${DISTNAME}.tar.gz\"\n+git archive --prefix=\"${DISTNAME}/\" --output=$GIT_ARCHIVE HEAD"
      },
      {
        "sha": "81fa2ed5d0013a9fb9931ed8218e3db3650a58d5",
        "filename": "share/genbuild.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 5,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab/share/genbuild.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab/share/genbuild.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/share/genbuild.sh?ref=5f699b5d417e9cfa920d10d7dac02a35b1ff6eab",
        "patch": "@@ -18,13 +18,9 @@ else\n     exit 1\n fi\n \n-git_check_in_repo() {\n-    ! { git status --porcelain -uall --ignored \"$@\" 2>/dev/null || echo '??'; } | grep -q '?'\n-}\n-\n DESC=\"\"\n SUFFIX=\"\"\n-if [ \"${BITCOIN_GENBUILD_NO_GIT}\" != \"1\" ] && [ -e \"$(command -v git)\" ] && [ \"$(git rev-parse --is-inside-work-tree 2>/dev/null)\" = \"true\" ] && git_check_in_repo share/genbuild.sh; then\n+if [ \"${BITCOIN_GENBUILD_NO_GIT}\" != \"1\" ] && [ -e \"$(command -v git)\" ] && [ \"$(git rev-parse --is-inside-work-tree 2>/dev/null)\" = \"true\" ]; then\n     # clean 'dirty' status of touched files that haven't been modified\n     git diff >/dev/null 2>/dev/null\n "
      },
      {
        "sha": "d31ea14ea86af418cdac7f06149b2017f1f77383",
        "filename": "test/lint/lint-shell.sh",
        "status": "modified",
        "additions": 6,
        "deletions": 4,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab/test/lint/lint-shell.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab/test/lint/lint-shell.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/lint/lint-shell.sh?ref=5f699b5d417e9cfa920d10d7dac02a35b1ff6eab",
        "patch": "@@ -46,15 +46,17 @@ if ! command -v yq > /dev/null; then\n fi\n \n EXCLUDE_GITIAN=${EXCLUDE}\",$(IFS=','; echo \"${disabled_gitian[*]}\")\"\n+SHELLCHECK_CMD=\"shellcheck --external-sources --check-sourced $EXCLUDE_GITIAN\"\n for descriptor in $(git ls-files -- 'contrib/gitian-descriptors/*.yml')\n do\n-    echo\n-    echo \"$descriptor\"\n+    script=$(basename \"$descriptor\")\n     # Use #!/bin/bash as gitian-builder/bin/gbuild does to complete a script.\n-    SCRIPT=$'#!/bin/bash\\n'$(yq -r .script \"$descriptor\")\n-    if ! echo \"$SCRIPT\" | shellcheck \"$EXCLUDE_GITIAN\" -; then\n+    echo \"#!/bin/bash\" > $script\n+    yq -r .script \"$descriptor\" >> $script\n+    if ! $SHELLCHECK_CMD $script; then\n         EXIT_CODE=1\n     fi\n+    rm $script\n done\n \n exit $EXIT_CODE"
      }
    ]
  },
  {
    "sha": "b84e35a91054ee49fb2ab6117a652a9122ac0f12",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiODRlMzVhOTEwNTRlZTQ5ZmIyYWI2MTE3YTY1MmE5MTIyYWMwZjEy",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-04-07T18:49:54Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-05-14T04:19:32Z"
      },
      "message": "refactor: Drop unused ${WRAP_DIR}/${HOST} directory\n\nThis commit removes the directory that is no longer used since #16667.\n\nGithub-Pull: #18556\nRebased-From: 2aa48edec0101f8a77a2189244fc62722ff7a123",
      "tree": {
        "sha": "d48f50a4bd184a36d359c1af372d7b36f77dfc50",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d48f50a4bd184a36d359c1af372d7b36f77dfc50"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b84e35a91054ee49fb2ab6117a652a9122ac0f12",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b84e35a91054ee49fb2ab6117a652a9122ac0f12",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b84e35a91054ee49fb2ab6117a652a9122ac0f12",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b84e35a91054ee49fb2ab6117a652a9122ac0f12/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5f699b5d417e9cfa920d10d7dac02a35b1ff6eab",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5f699b5d417e9cfa920d10d7dac02a35b1ff6eab"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 0,
      "deletions": 2
    },
    "files": [
      {
        "sha": "4b5a448cc2ae020a5b0f4f82714c2d68eb152c2e",
        "filename": "contrib/gitian-descriptors/gitian-win.yml",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b84e35a91054ee49fb2ab6117a652a9122ac0f12/contrib/gitian-descriptors/gitian-win.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b84e35a91054ee49fb2ab6117a652a9122ac0f12/contrib/gitian-descriptors/gitian-win.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-win.yml?ref=b84e35a91054ee49fb2ab6117a652a9122ac0f12",
        "patch": "@@ -76,13 +76,11 @@ script: |\n   function create_per-host_compiler_wrapper {\n   # -posix variant is required for c++11 threading.\n   for i in $HOSTS; do\n-    mkdir -p ${WRAP_DIR}/${i}\n     for prog in gcc g++; do\n         echo '#!/usr/bin/env bash' > ${WRAP_DIR}/${i}-${prog}\n         echo \"REAL=\\`which -a ${i}-${prog}-posix | grep -v ${WRAP_DIR}/${i}-${prog} | head -1\\`\" >> ${WRAP_DIR}/${i}-${prog}\n         echo \"export LD_PRELOAD='/usr/\\$LIB/faketime/libfaketime.so.1'\" >> ${WRAP_DIR}/${i}-${prog}\n         echo \"export FAKETIME=\\\"$1\\\"\" >> ${WRAP_DIR}/${i}-${prog}\n-        echo \"export COMPILER_PATH=${WRAP_DIR}/${i}\" >> ${WRAP_DIR}/${i}-${prog}\n         echo \"\\$REAL \\$@\" >> $WRAP_DIR/${i}-${prog}\n         chmod +x ${WRAP_DIR}/${i}-${prog}\n     done"
      }
    ]
  },
  {
    "sha": "62f0d73dba86c2c002e4e3447eb094adfc13c006",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2MmYwZDczZGJhODZjMmMwMDJlNGUzNDQ3ZWIwOTRhZGZjMTNjMDA2",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2020-04-22T17:00:42Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-05-14T04:21:24Z"
      },
      "message": "gitian: Limit sourced script to just assignments\n\nPreviously, the sourced script would create the source tarball. Now, it\nonly assigns variables and the source-ing script has more flexibility in\ndetermining what to do with these variables.\n\nSee later commit showing how this flexibility is useful in our Guix\nbuilds.\n\nGithub-Pull: #18741\nRebased-From: 395c1137f630dc495ffb2752a23bc1dfd470ee53",
      "tree": {
        "sha": "0d3c237a58b4047c2081e990989600b0a0d4f4a6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0d3c237a58b4047c2081e990989600b0a0d4f4a6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/62f0d73dba86c2c002e4e3447eb094adfc13c006",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/62f0d73dba86c2c002e4e3447eb094adfc13c006",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/62f0d73dba86c2c002e4e3447eb094adfc13c006",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/62f0d73dba86c2c002e4e3447eb094adfc13c006/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b84e35a91054ee49fb2ab6117a652a9122ac0f12",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b84e35a91054ee49fb2ab6117a652a9122ac0f12",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b84e35a91054ee49fb2ab6117a652a9122ac0f12"
      }
    ],
    "stats": {
      "total": 68,
      "additions": 39,
      "deletions": 29
    },
    "files": [
      {
        "sha": "a1ab3f7cbd17ff15c5178a9feaecaf42103b5301",
        "filename": "contrib/gitian-descriptors/assign_DISTNAME",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/62f0d73dba86c2c002e4e3447eb094adfc13c006/contrib/gitian-descriptors/assign_DISTNAME",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/62f0d73dba86c2c002e4e3447eb094adfc13c006/contrib/gitian-descriptors/assign_DISTNAME",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/assign_DISTNAME?ref=62f0d73dba86c2c002e4e3447eb094adfc13c006",
        "patch": "@@ -0,0 +1,12 @@\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#\n+# A helper script to be sourced into the gitian descriptors\n+\n+if RECENT_TAG=\"$(git describe --exact-match HEAD)\"; then\n+    VERSION=\"${RECENT_TAG#v}\"\n+else\n+    VERSION=\"$(git rev-parse --short HEAD)\"\n+fi\n+DISTNAME=\"bitcoin-${VERSION}\""
      },
      {
        "sha": "326223221723982b790dc4e0b9b04f571345b472",
        "filename": "contrib/gitian-descriptors/gitian-linux.yml",
        "status": "modified",
        "additions": 9,
        "deletions": 3,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/62f0d73dba86c2c002e4e3447eb094adfc13c006/contrib/gitian-descriptors/gitian-linux.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/62f0d73dba86c2c002e4e3447eb094adfc13c006/contrib/gitian-descriptors/gitian-linux.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-linux.yml?ref=62f0d73dba86c2c002e4e3447eb094adfc13c006",
        "patch": "@@ -140,9 +140,15 @@ script: |\n   create_per-host_faketime_wrappers \"${REFERENCE_DATETIME}\"\n   export PATH=${WRAP_DIR}:${PATH}\n \n-  # Create the git archive, and define DISTNAME and GIT_ARCHIVE variables.\n-  # shellcheck source=contrib/gitian-descriptors/make_git_archive\n-  source contrib/gitian-descriptors/make_git_archive\n+  # Define DISTNAME variable.\n+  # shellcheck source=contrib/gitian-descriptors/assign_DISTNAME\n+  source contrib/gitian-descriptors/assign_DISTNAME\n+\n+  GIT_ARCHIVE=\"${OUTDIR}/src/${DISTNAME}.tar.gz\"\n+\n+  # Create the source tarball\n+  mkdir -p \"$(dirname \"$GIT_ARCHIVE\")\"\n+  git archive --prefix=\"${DISTNAME}/\" --output=\"$GIT_ARCHIVE\" HEAD\n \n   ORIGPATH=\"$PATH\"\n   # Extract the git archive into a dir for each host and build"
      },
      {
        "sha": "de883d18e967c62e291b4cc380c361e62055d779",
        "filename": "contrib/gitian-descriptors/gitian-osx.yml",
        "status": "modified",
        "additions": 9,
        "deletions": 3,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/62f0d73dba86c2c002e4e3447eb094adfc13c006/contrib/gitian-descriptors/gitian-osx.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/62f0d73dba86c2c002e4e3447eb094adfc13c006/contrib/gitian-descriptors/gitian-osx.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-osx.yml?ref=62f0d73dba86c2c002e4e3447eb094adfc13c006",
        "patch": "@@ -103,9 +103,15 @@ script: |\n   create_per-host_faketime_wrappers \"${REFERENCE_DATETIME}\"\n   export PATH=${WRAP_DIR}:${PATH}\n \n-  # Create the git archive, and define DISTNAME and GIT_ARCHIVE variables.\n-  # shellcheck source=contrib/gitian-descriptors/make_git_archive\n-  source contrib/gitian-descriptors/make_git_archive\n+  # Define DISTNAME variable.\n+  # shellcheck source=contrib/gitian-descriptors/assign_DISTNAME\n+  source contrib/gitian-descriptors/assign_DISTNAME\n+\n+  GIT_ARCHIVE=\"${OUTDIR}/src/${DISTNAME}.tar.gz\"\n+\n+  # Create the source tarball\n+  mkdir -p \"$(dirname \"$GIT_ARCHIVE\")\"\n+  git archive --prefix=\"${DISTNAME}/\" --output=\"$GIT_ARCHIVE\" HEAD\n \n   ORIGPATH=\"$PATH\"\n   # Extract the git archive into a dir for each host and build"
      },
      {
        "sha": "5deed6294aa93b72e1b8773a33ee2e4d954bc5fb",
        "filename": "contrib/gitian-descriptors/gitian-win.yml",
        "status": "modified",
        "additions": 9,
        "deletions": 3,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/62f0d73dba86c2c002e4e3447eb094adfc13c006/contrib/gitian-descriptors/gitian-win.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/62f0d73dba86c2c002e4e3447eb094adfc13c006/contrib/gitian-descriptors/gitian-win.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-win.yml?ref=62f0d73dba86c2c002e4e3447eb094adfc13c006",
        "patch": "@@ -108,9 +108,15 @@ script: |\n   create_per-host_compiler_wrapper \"${REFERENCE_DATETIME}\"\n   export PATH=${WRAP_DIR}:${PATH}\n \n-  # Create the git archive, and define DISTNAME and GIT_ARCHIVE variables.\n-  # shellcheck source=contrib/gitian-descriptors/make_git_archive\n-  source contrib/gitian-descriptors/make_git_archive\n+  # Define DISTNAME variable.\n+  # shellcheck source=contrib/gitian-descriptors/assign_DISTNAME\n+  source contrib/gitian-descriptors/assign_DISTNAME\n+\n+  GIT_ARCHIVE=\"${OUTDIR}/src/${DISTNAME}.tar.gz\"\n+\n+  # Create the source tarball\n+  mkdir -p \"$(dirname \"$GIT_ARCHIVE\")\"\n+  git archive --prefix=\"${DISTNAME}/\" --output=\"$GIT_ARCHIVE\" HEAD\n \n   ORIGPATH=\"$PATH\"\n   # Extract the git archive into a dir for each host and build"
      },
      {
        "sha": "f05e5c3988c258d65a0cc6127627a3d30759b681",
        "filename": "contrib/gitian-descriptors/make_git_archive",
        "status": "removed",
        "additions": 0,
        "deletions": 20,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b84e35a91054ee49fb2ab6117a652a9122ac0f12/contrib/gitian-descriptors/make_git_archive",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b84e35a91054ee49fb2ab6117a652a9122ac0f12/contrib/gitian-descriptors/make_git_archive",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/make_git_archive?ref=b84e35a91054ee49fb2ab6117a652a9122ac0f12",
        "patch": "@@ -1,20 +0,0 @@\n-# Copyright (c) 2020 The Bitcoin Core developers\n-# Distributed under the MIT software license, see the accompanying\n-# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n-#\n-# A helper script to be sourced into the gitian descriptors\n-\n-mkdir -p ${OUTDIR}/src\n-RECENT_TAG=$(git describe --abbrev=0 HEAD)\n-if [ $RECENT_TAG = $(git describe HEAD) ]; then\n-  if [[ $RECENT_TAG == v* ]]; then\n-    VERSION=${RECENT_TAG:1}\n-  else\n-    VERSION=$RECENT_TAG\n-  fi\n-else\n-  VERSION=$(git rev-parse --short HEAD)\n-fi\n-DISTNAME=bitcoin-${VERSION}\n-GIT_ARCHIVE=\"${OUTDIR}/src/${DISTNAME}.tar.gz\"\n-git archive --prefix=\"${DISTNAME}/\" --output=$GIT_ARCHIVE HEAD"
      }
    ]
  },
  {
    "sha": "808aaf90f2d45ad2b27ff332a96c2b3931de6c98",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4MDhhYWY5MGYyZDQ1YWQyYjI3ZmYzMzJhOTZjMmIzOTMxZGU2Yzk4",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2020-05-04T17:00:08Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-05-14T04:21:26Z"
      },
      "message": "rel-builds: Specify core.abbrev for git-rev-parse\n\nChose 12 because the kernel uses it:\n\n  https://public-inbox.org/git/CA+55aFy0_pwtFOYS1Tmnxipw9ZkRNCQHmoYyegO00pjMiZQfbg@mail.gmail.com/raw\n\nAnd also because it's a nice number.\n\nGithub-Pull: #18741\nRebased-From: bfe1ba2f5b36056e0c41edf8206b93d3d83098df",
      "tree": {
        "sha": "2b1142b77e597de2d9ec93644f487eb141685afc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2b1142b77e597de2d9ec93644f487eb141685afc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/808aaf90f2d45ad2b27ff332a96c2b3931de6c98",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/808aaf90f2d45ad2b27ff332a96c2b3931de6c98",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/808aaf90f2d45ad2b27ff332a96c2b3931de6c98",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/808aaf90f2d45ad2b27ff332a96c2b3931de6c98/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "62f0d73dba86c2c002e4e3447eb094adfc13c006",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/62f0d73dba86c2c002e4e3447eb094adfc13c006",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/62f0d73dba86c2c002e4e3447eb094adfc13c006"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "a2ca768aaa70b285d1e7b8654c1094533e6c1190",
        "filename": "contrib/gitian-descriptors/assign_DISTNAME",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/808aaf90f2d45ad2b27ff332a96c2b3931de6c98/contrib/gitian-descriptors/assign_DISTNAME",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/808aaf90f2d45ad2b27ff332a96c2b3931de6c98/contrib/gitian-descriptors/assign_DISTNAME",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/assign_DISTNAME?ref=808aaf90f2d45ad2b27ff332a96c2b3931de6c98",
        "patch": "@@ -7,6 +7,6 @@\n if RECENT_TAG=\"$(git describe --exact-match HEAD)\"; then\n     VERSION=\"${RECENT_TAG#v}\"\n else\n-    VERSION=\"$(git rev-parse --short HEAD)\"\n+    VERSION=\"$(git rev-parse --short=12 HEAD)\"\n fi\n DISTNAME=\"bitcoin-${VERSION}\""
      }
    ]
  },
  {
    "sha": "b14f463d394ee46e5f5628774757ec16eaf79810",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiMTRmNDYzZDM5NGVlNDZlNWY1NjI4Nzc0NzU3ZWMxNmVhZjc5ODEw",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-05-06T13:37:02Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-05-14T04:22:12Z"
      },
      "message": "build: Abstract release tarball generation to a utility script make_release_tarball\n\nGithub-Pull: #18818\nRebased-From: 0ea34e7251ded519efeb0169653f2601f2b5658c (partial: gitian only)",
      "tree": {
        "sha": "89d3c911945422b5549d632afb771792013801f2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/89d3c911945422b5549d632afb771792013801f2"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b14f463d394ee46e5f5628774757ec16eaf79810",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b14f463d394ee46e5f5628774757ec16eaf79810",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b14f463d394ee46e5f5628774757ec16eaf79810",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b14f463d394ee46e5f5628774757ec16eaf79810/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "808aaf90f2d45ad2b27ff332a96c2b3931de6c98",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/808aaf90f2d45ad2b27ff332a96c2b3931de6c98",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/808aaf90f2d45ad2b27ff332a96c2b3931de6c98"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 13,
      "deletions": 3
    },
    "files": [
      {
        "sha": "ccad624afde8300dbb74db7a4c799e139d21e203",
        "filename": "contrib/gitian-descriptors/gitian-linux.yml",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b14f463d394ee46e5f5628774757ec16eaf79810/contrib/gitian-descriptors/gitian-linux.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b14f463d394ee46e5f5628774757ec16eaf79810/contrib/gitian-descriptors/gitian-linux.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-linux.yml?ref=b14f463d394ee46e5f5628774757ec16eaf79810",
        "patch": "@@ -148,7 +148,7 @@ script: |\n \n   # Create the source tarball\n   mkdir -p \"$(dirname \"$GIT_ARCHIVE\")\"\n-  git archive --prefix=\"${DISTNAME}/\" --output=\"$GIT_ARCHIVE\" HEAD\n+  contrib/gitian-descriptors/make_release_tarball \"${GIT_ARCHIVE}\"\n \n   ORIGPATH=\"$PATH\"\n   # Extract the git archive into a dir for each host and build"
      },
      {
        "sha": "18fb4f6c26d06aa678e1d687c0ebe92551f590dc",
        "filename": "contrib/gitian-descriptors/gitian-osx.yml",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b14f463d394ee46e5f5628774757ec16eaf79810/contrib/gitian-descriptors/gitian-osx.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b14f463d394ee46e5f5628774757ec16eaf79810/contrib/gitian-descriptors/gitian-osx.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-osx.yml?ref=b14f463d394ee46e5f5628774757ec16eaf79810",
        "patch": "@@ -111,7 +111,7 @@ script: |\n \n   # Create the source tarball\n   mkdir -p \"$(dirname \"$GIT_ARCHIVE\")\"\n-  git archive --prefix=\"${DISTNAME}/\" --output=\"$GIT_ARCHIVE\" HEAD\n+  contrib/gitian-descriptors/make_release_tarball \"${GIT_ARCHIVE}\"\n \n   ORIGPATH=\"$PATH\"\n   # Extract the git archive into a dir for each host and build"
      },
      {
        "sha": "fada2f0f580522b2d193eba69e402a22871d9ba6",
        "filename": "contrib/gitian-descriptors/gitian-win.yml",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b14f463d394ee46e5f5628774757ec16eaf79810/contrib/gitian-descriptors/gitian-win.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b14f463d394ee46e5f5628774757ec16eaf79810/contrib/gitian-descriptors/gitian-win.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-win.yml?ref=b14f463d394ee46e5f5628774757ec16eaf79810",
        "patch": "@@ -116,7 +116,7 @@ script: |\n \n   # Create the source tarball\n   mkdir -p \"$(dirname \"$GIT_ARCHIVE\")\"\n-  git archive --prefix=\"${DISTNAME}/\" --output=\"$GIT_ARCHIVE\" HEAD\n+  contrib/gitian-descriptors/make_release_tarball \"${GIT_ARCHIVE}\"\n \n   ORIGPATH=\"$PATH\"\n   # Extract the git archive into a dir for each host and build"
      },
      {
        "sha": "e06836dfa736e54b7cc25385031d7ecf0430b057",
        "filename": "contrib/gitian-descriptors/make_release_tarball",
        "status": "added",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b14f463d394ee46e5f5628774757ec16eaf79810/contrib/gitian-descriptors/make_release_tarball",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b14f463d394ee46e5f5628774757ec16eaf79810/contrib/gitian-descriptors/make_release_tarball",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/make_release_tarball?ref=b14f463d394ee46e5f5628774757ec16eaf79810",
        "patch": "@@ -0,0 +1,10 @@\n+#!/bin/sh\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#\n+# A helper script to generate source release tarball\n+\n+GIT_ARCHIVE=\"$1\"\n+. \"`dirname \"$0\"`/assign_DISTNAME\"\n+git archive --prefix=\"${DISTNAME}/\" --output=\"${GIT_ARCHIVE}\" HEAD"
      }
    ]
  },
  {
    "sha": "cc4bb338909af58388191c3c835a7e88302e948f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjYzRiYjMzODkwOWFmNTgzODgxOTFjM2M4MzVhN2U4ODMwMmU5NDhm",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-04-29T00:23:13Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-05-14T04:22:45Z"
      },
      "message": "build: Run autogen & distclean when generating source tarball\n\nGithub-Pull: #18818\nRebased-From: 3897f3a2ec077f2be8f0d08f28e79165a6cae6d4 (partial: gitian only)",
      "tree": {
        "sha": "ee2e52064714b7ba1663dccabf17cad1ce749a14",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ee2e52064714b7ba1663dccabf17cad1ce749a14"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cc4bb338909af58388191c3c835a7e88302e948f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cc4bb338909af58388191c3c835a7e88302e948f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/cc4bb338909af58388191c3c835a7e88302e948f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cc4bb338909af58388191c3c835a7e88302e948f/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b14f463d394ee46e5f5628774757ec16eaf79810",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b14f463d394ee46e5f5628774757ec16eaf79810",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b14f463d394ee46e5f5628774757ec16eaf79810"
      }
    ],
    "stats": {
      "total": 37,
      "additions": 30,
      "deletions": 7
    },
    "files": [
      {
        "sha": "f63844ed9f91bdc056d01faf713df98d5dd7015f",
        "filename": "contrib/gitian-descriptors/gitian-linux.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cc4bb338909af58388191c3c835a7e88302e948f/contrib/gitian-descriptors/gitian-linux.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cc4bb338909af58388191c3c835a7e88302e948f/contrib/gitian-descriptors/gitian-linux.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-linux.yml?ref=cc4bb338909af58388191c3c835a7e88302e948f",
        "patch": "@@ -146,8 +146,9 @@ script: |\n \n   GIT_ARCHIVE=\"${OUTDIR}/src/${DISTNAME}.tar.gz\"\n \n-  # Create the source tarball\n+  # Create the release tarball using (arbitrarily) the first host\n   mkdir -p \"$(dirname \"$GIT_ARCHIVE\")\"\n+  CONFIG_SITE=\"${BASEPREFIX}/${HOSTS/ */}/share/config.site\" \\\n   contrib/gitian-descriptors/make_release_tarball \"${GIT_ARCHIVE}\"\n \n   ORIGPATH=\"$PATH\"\n@@ -167,7 +168,6 @@ script: |\n     mkdir -p ${INSTALLPATH}\n     tar --strip-components=1 -xf $GIT_ARCHIVE\n \n-    ./autogen.sh\n     CONFIG_SITE=${BASEPREFIX}/${i}/share/config.site ./configure --prefix=/ --disable-ccache --disable-maintainer-mode --disable-dependency-tracking ${CONFIGFLAGS} CFLAGS=\"${HOST_CFLAGS}\" CXXFLAGS=\"${HOST_CXXFLAGS}\" LDFLAGS=\"${HOST_LDFLAGS}\"\n     make ${MAKEOPTS}\n     make ${MAKEOPTS} -C src check-security"
      },
      {
        "sha": "98f85167958aa0c4e054ec70ed1925cb474801a7",
        "filename": "contrib/gitian-descriptors/gitian-osx.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cc4bb338909af58388191c3c835a7e88302e948f/contrib/gitian-descriptors/gitian-osx.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cc4bb338909af58388191c3c835a7e88302e948f/contrib/gitian-descriptors/gitian-osx.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-osx.yml?ref=cc4bb338909af58388191c3c835a7e88302e948f",
        "patch": "@@ -109,8 +109,9 @@ script: |\n \n   GIT_ARCHIVE=\"${OUTDIR}/src/${DISTNAME}.tar.gz\"\n \n-  # Create the source tarball\n+  # Create the release tarball using (arbitrarily) the first host\n   mkdir -p \"$(dirname \"$GIT_ARCHIVE\")\"\n+  CONFIG_SITE=\"${BASEPREFIX}/${HOSTS/ */}/share/config.site\" \\\n   contrib/gitian-descriptors/make_release_tarball \"${GIT_ARCHIVE}\"\n \n   ORIGPATH=\"$PATH\"\n@@ -123,7 +124,6 @@ script: |\n     mkdir -p ${INSTALLPATH}\n     tar --strip-components=1 -xf $GIT_ARCHIVE\n \n-    ./autogen.sh\n     CONFIG_SITE=${BASEPREFIX}/${i}/share/config.site ./configure --prefix=/ --disable-ccache --disable-maintainer-mode --disable-dependency-tracking ${CONFIGFLAGS}\n     make ${MAKEOPTS}\n     make ${MAKEOPTS} -C src check-security"
      },
      {
        "sha": "c60a072a928ba1f3cd49ebcd1e5bd8276763ab95",
        "filename": "contrib/gitian-descriptors/gitian-win.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cc4bb338909af58388191c3c835a7e88302e948f/contrib/gitian-descriptors/gitian-win.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cc4bb338909af58388191c3c835a7e88302e948f/contrib/gitian-descriptors/gitian-win.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-win.yml?ref=cc4bb338909af58388191c3c835a7e88302e948f",
        "patch": "@@ -114,8 +114,9 @@ script: |\n \n   GIT_ARCHIVE=\"${OUTDIR}/src/${DISTNAME}.tar.gz\"\n \n-  # Create the source tarball\n+  # Create the release tarball using (arbitrarily) the first host\n   mkdir -p \"$(dirname \"$GIT_ARCHIVE\")\"\n+  CONFIG_SITE=\"${BASEPREFIX}/${HOSTS/ */}/share/config.site\" \\\n   contrib/gitian-descriptors/make_release_tarball \"${GIT_ARCHIVE}\"\n \n   ORIGPATH=\"$PATH\"\n@@ -128,7 +129,6 @@ script: |\n     mkdir -p ${INSTALLPATH}\n     tar --strip-components=1 -xf $GIT_ARCHIVE\n \n-    ./autogen.sh\n     CONFIG_SITE=${BASEPREFIX}/${i}/share/config.site ./configure --prefix=/ --disable-ccache --disable-maintainer-mode --disable-dependency-tracking ${CONFIGFLAGS} CFLAGS=\"${HOST_CFLAGS}\" CXXFLAGS=\"${HOST_CXXFLAGS}\"\n     make ${MAKEOPTS}\n     make ${MAKEOPTS} -C src check-security"
      },
      {
        "sha": "a3c4e824e756e85fdd72f307572dffc62ccc7281",
        "filename": "contrib/gitian-descriptors/make_release_tarball",
        "status": "modified",
        "additions": 24,
        "deletions": 1,
        "changes": 25,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cc4bb338909af58388191c3c835a7e88302e948f/contrib/gitian-descriptors/make_release_tarball",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cc4bb338909af58388191c3c835a7e88302e948f/contrib/gitian-descriptors/make_release_tarball",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/make_release_tarball?ref=cc4bb338909af58388191c3c835a7e88302e948f",
        "patch": "@@ -5,6 +5,29 @@\n #\n # A helper script to generate source release tarball\n \n+set -e\n+\n GIT_ARCHIVE=\"$1\"\n . \"`dirname \"$0\"`/assign_DISTNAME\"\n-git archive --prefix=\"${DISTNAME}/\" --output=\"${GIT_ARCHIVE}\" HEAD\n+\n+git archive --prefix=\"${DISTNAME}/\" HEAD | tar -xp\n+cd \"${DISTNAME}\"\n+\n+./autogen.sh\n+./configure --prefix=/ --disable-ccache --disable-maintainer-mode --disable-dependency-tracking\n+make distclean\n+\n+cd ..\n+tar \\\n+  --format=ustar \\\n+  --exclude autom4te.cache \\\n+  --exclude .deps \\\n+  --exclude .git \\\n+  --sort=name \\\n+  --mode='u+rw,go+r-w,a+X' --owner=0 --group=0 \\\n+  --mtime=\"${REFERENCE_DATETIME}\" \\\n+  -c \"${DISTNAME}\" | \\\n+  gzip -9n \\\n+  >\"${GIT_ARCHIVE}\"\n+\n+rm -r \"${DISTNAME}\""
      }
    ]
  },
  {
    "sha": "eee88e3356e822b57cedce797c7a831639d943d6",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZWU4OGUzMzU2ZTgyMmI1N2NlZGNlNzk3YzdhODMxNjM5ZDk0M2Q2",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-02-12T05:36:55Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-05-14T04:22:45Z"
      },
      "message": "Bugfix: Only use git for build info if the repository is actually the right one\n\nOriginal-Github-Pull: #7522\nRebased-From: e98e3dde6a976a2c8f266ee963d6931fd4b37262 e98e3dde6a976a2c8f266ee963d6931fd4b37262\n\nGithub-Pull: #18902\nRebased-From: d9505bb8f88d7e9d83dc2895256f8ad2b0d6e7f0",
      "tree": {
        "sha": "c4b610f62283fc57257bcd1074181b38c83047c7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c4b610f62283fc57257bcd1074181b38c83047c7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/eee88e3356e822b57cedce797c7a831639d943d6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eee88e3356e822b57cedce797c7a831639d943d6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/eee88e3356e822b57cedce797c7a831639d943d6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eee88e3356e822b57cedce797c7a831639d943d6/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "cc4bb338909af58388191c3c835a7e88302e948f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cc4bb338909af58388191c3c835a7e88302e948f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/cc4bb338909af58388191c3c835a7e88302e948f"
      }
    ],
    "stats": {
      "total": 7,
      "additions": 6,
      "deletions": 1
    },
    "files": [
      {
        "sha": "57f76d03c48dd18ae25d4883a2d54c4971927929",
        "filename": "share/genbuild.sh",
        "status": "modified",
        "additions": 6,
        "deletions": 1,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/eee88e3356e822b57cedce797c7a831639d943d6/share/genbuild.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/eee88e3356e822b57cedce797c7a831639d943d6/share/genbuild.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/share/genbuild.sh?ref=eee88e3356e822b57cedce797c7a831639d943d6",
        "patch": "@@ -18,9 +18,14 @@ else\n     exit 1\n fi\n \n+# This checks that we are actually part of the intended git repository, and not just getting info about some unrelated git repository that the code happens to be in a directory under\n+git_check_in_repo() {\n+    ! { git status --porcelain -uall --ignored \"$@\" 2>/dev/null || echo '??'; } | grep -q '?'\n+}\n+\n DESC=\"\"\n SUFFIX=\"\"\n-if [ \"${BITCOIN_GENBUILD_NO_GIT}\" != \"1\" ] && [ -e \"$(command -v git)\" ] && [ \"$(git rev-parse --is-inside-work-tree 2>/dev/null)\" = \"true\" ]; then\n+if [ \"${BITCOIN_GENBUILD_NO_GIT}\" != \"1\" ] && [ -e \"$(command -v git)\" ] && [ \"$(git rev-parse --is-inside-work-tree 2>/dev/null)\" = \"true\" ] && git_check_in_repo share/genbuild.sh; then\n     # clean 'dirty' status of touched files that haven't been modified\n     git diff >/dev/null 2>/dev/null\n "
      }
    ]
  },
  {
    "sha": "f9232da7ea8ca678dbedd447fa8af14672438d04",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmOTIzMmRhN2VhOGNhNjc4ZGJlZGQ0NDdmYThhZjE0NjcyNDM4ZDA0",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-05-07T01:46:47Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-05-14T04:22:45Z"
      },
      "message": "build: Include tag name in release tarball for build.h\n\nGithub-Pull: #18902\nRebased-From: 83ecd1b15e81f53a373366200706325432b4f94f",
      "tree": {
        "sha": "ac6ccfdb69f302deb699c643957a569c8295d8f2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ac6ccfdb69f302deb699c643957a569c8295d8f2"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f9232da7ea8ca678dbedd447fa8af14672438d04",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f9232da7ea8ca678dbedd447fa8af14672438d04",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f9232da7ea8ca678dbedd447fa8af14672438d04",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f9232da7ea8ca678dbedd447fa8af14672438d04/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "eee88e3356e822b57cedce797c7a831639d943d6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eee88e3356e822b57cedce797c7a831639d943d6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/eee88e3356e822b57cedce797c7a831639d943d6"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 8,
      "deletions": 1
    },
    "files": [
      {
        "sha": "9c348c270dc949bdd34dd3b9e664010ec0189aab",
        "filename": "contrib/gitian-descriptors/make_release_tarball",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f9232da7ea8ca678dbedd447fa8af14672438d04/contrib/gitian-descriptors/make_release_tarball",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f9232da7ea8ca678dbedd447fa8af14672438d04/contrib/gitian-descriptors/make_release_tarball",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/make_release_tarball?ref=f9232da7ea8ca678dbedd447fa8af14672438d04",
        "patch": "@@ -11,6 +11,11 @@ GIT_ARCHIVE=\"$1\"\n . \"`dirname \"$0\"`/assign_DISTNAME\"\n \n git archive --prefix=\"${DISTNAME}/\" HEAD | tar -xp\n+\n+# Generate correct build info file from git, before we lose git\n+GIT_BUILD_INFO=\"$(share/genbuild.sh /dev/stdout)\"\n+sed 's/\\/\\/ No build information available/'\"${GIT_BUILD_INFO}\"'/' -i \"${DISTNAME}/share/genbuild.sh\"\n+\n cd \"${DISTNAME}\"\n \n ./autogen.sh"
      },
      {
        "sha": "e68da2cdf774b76e592f0b52781446d4f8516ad2",
        "filename": "share/genbuild.sh",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f9232da7ea8ca678dbedd447fa8af14672438d04/share/genbuild.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f9232da7ea8ca678dbedd447fa8af14672438d04/share/genbuild.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/share/genbuild.sh?ref=f9232da7ea8ca678dbedd447fa8af14672438d04",
        "patch": "@@ -45,7 +45,9 @@ if [ -n \"$DESC\" ]; then\n elif [ -n \"$SUFFIX\" ]; then\n     NEWINFO=\"#define BUILD_SUFFIX $SUFFIX\"\n else\n-    NEWINFO=\"// No build information available\"\n+    # NOTE: The NEWINFO line below this comment gets replaced by a string-match in contrib/gitian-descriptors/make_release_tarball\n+    # If changing it, update the script too!\n+    NEWINFO='// No build information available'\n fi\n \n # only update build.h if necessary"
      }
    ]
  }
]