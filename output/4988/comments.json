[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57215336",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4988#issuecomment-57215336",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4988",
    "id": 57215336,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MjE1MzM2",
    "user": {
      "login": "BitcoinPullTester",
      "id": 2110907,
      "node_id": "MDQ6VXNlcjIxMTA5MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BitcoinPullTester",
      "html_url": "https://github.com/BitcoinPullTester",
      "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
      "following_url": "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
      "gists_url": "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
      "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
      "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
      "events_url": "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-29T19:31:22Z",
    "updated_at": "2014-09-29T19:31:22Z",
    "author_association": "NONE",
    "body": "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4988_31290b760f18203a12a72dcc69bc573ce40516d7/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57215336/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58448475",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4988#issuecomment-58448475",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4988",
    "id": 58448475,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NDQ4NDc1",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?u=63e5c438c242094837a9deeda775d77988b508bf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-09T00:28:19Z",
    "updated_at": "2014-10-09T00:28:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "This seems pretty useful. Looks okay, I'll give it some testing.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58448475/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58475151",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4988#issuecomment-58475151",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4988",
    "id": 58475151,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NDc1MTUx",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-09T07:58:21Z",
    "updated_at": "2014-10-09T07:58:21Z",
    "author_association": "MEMBER",
    "body": "I've been testing this as well.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58475151/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58487157",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4988#issuecomment-58487157",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4988",
    "id": 58487157,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NDg3MTU3",
    "user": {
      "login": "rdponticelli",
      "id": 1192483,
      "node_id": "MDQ6VXNlcjExOTI0ODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1192483?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rdponticelli",
      "html_url": "https://github.com/rdponticelli",
      "followers_url": "https://api.github.com/users/rdponticelli/followers",
      "following_url": "https://api.github.com/users/rdponticelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/rdponticelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rdponticelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rdponticelli/subscriptions",
      "organizations_url": "https://api.github.com/users/rdponticelli/orgs",
      "repos_url": "https://api.github.com/users/rdponticelli/repos",
      "events_url": "https://api.github.com/users/rdponticelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rdponticelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-09T09:54:54Z",
    "updated_at": "2014-10-09T09:54:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "I've been reviewing and testing as well, building on top #4701 and #4468. So far, so good. So for me it would be an ACK.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58487157/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58904799",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4988#issuecomment-58904799",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4988",
    "id": 58904799,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4OTA0Nzk5",
    "user": {
      "login": "jgarzik",
      "id": 494411,
      "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494411?u=0b02049ec38b6bb7d55c5c66d9bbeb0d4b822129&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarzik",
      "html_url": "https://github.com/jgarzik",
      "followers_url": "https://api.github.com/users/jgarzik/followers",
      "following_url": "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarzik/orgs",
      "repos_url": "https://api.github.com/users/jgarzik/repos",
      "events_url": "https://api.github.com/users/jgarzik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgarzik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-13T15:02:41Z",
    "updated_at": "2014-10-13T15:02:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "ut ACK\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58904799/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59907840",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4988#issuecomment-59907840",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4988",
    "id": 59907840,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5OTA3ODQw",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-21T10:28:01Z",
    "updated_at": "2014-10-21T10:28:01Z",
    "author_association": "MEMBER",
    "body": "Tested ACK (has run succesfully on some of my test nodes for a while; survived a succesful reindex)\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59907840/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18123303",
    "pull_request_review_id": null,
    "id": 18123303,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MTIzMzAz",
    "diff_hunk": "@@ -2876,9 +2867,19 @@ bool static LoadBlockIndexDB()\n \n     // Load block file info\n     pblocktree->ReadLastBlockFile(nLastBlockFile);\n+    vinfoBlockFile.resize(nLastBlockFile + 1);\n     LogPrintf(\"LoadBlockIndexDB(): last block file = %i\\n\", nLastBlockFile);\n-    if (pblocktree->ReadBlockFileInfo(nLastBlockFile, infoLastBlockFile))\n-        LogPrintf(\"LoadBlockIndexDB(): last block file info: %s\\n\", infoLastBlockFile.ToString());",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 118,
    "commit_id": "7b2bb96271cb456c2b958b502788ac5ca94c84d4",
    "original_commit_id": "cafda0c28fc132c1e4e7c9b08accc0b1e51a6d16",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "We now have a log message removed, was that intended?\n",
    "created_at": "2014-09-27T12:05:47Z",
    "updated_at": "2014-10-21T23:17:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4988#discussion_r18123303",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4988",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18123303"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4988#discussion_r18123303"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4988"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18123303/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18136453",
    "pull_request_review_id": null,
    "id": 18136453,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MTM2NDUz",
    "diff_hunk": "@@ -2876,9 +2867,19 @@ bool static LoadBlockIndexDB()\n \n     // Load block file info\n     pblocktree->ReadLastBlockFile(nLastBlockFile);\n+    vinfoBlockFile.resize(nLastBlockFile + 1);\n     LogPrintf(\"LoadBlockIndexDB(): last block file = %i\\n\", nLastBlockFile);\n-    if (pblocktree->ReadBlockFileInfo(nLastBlockFile, infoLastBlockFile))\n-        LogPrintf(\"LoadBlockIndexDB(): last block file info: %s\\n\", infoLastBlockFile.ToString());",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 118,
    "commit_id": "7b2bb96271cb456c2b958b502788ac5ca94c84d4",
    "original_commit_id": "cafda0c28fc132c1e4e7c9b08accc0b1e51a6d16",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nice catch! Fixed.\n",
    "created_at": "2014-09-29T03:49:44Z",
    "updated_at": "2014-10-21T23:17:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4988#discussion_r18136453",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4988",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18136453"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4988#discussion_r18136453"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4988"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18136453/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18944796",
    "pull_request_review_id": null,
    "id": 18944796,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4OTQ0Nzk2",
    "diff_hunk": "@@ -2107,32 +2107,32 @@ bool FindBlockPos(CValidationState &state, CDiskBlockPos &pos, unsigned int nAdd\n \n     LOCK(cs_LastBlockFile);\n \n-    if (fKnown) {\n-        if (nLastBlockFile != pos.nFile) {\n-            nLastBlockFile = pos.nFile;\n-            infoLastBlockFile.SetNull();\n-            pblocktree->ReadBlockFileInfo(nLastBlockFile, infoLastBlockFile);\n-            fUpdatedLast = true;\n-        }\n-    } else {\n-        while (infoLastBlockFile.nSize + nAddSize >= MAX_BLOCKFILE_SIZE) {\n-            LogPrintf(\"Leaving block file %i: %s\\n\", nLastBlockFile, infoLastBlockFile.ToString());\n+    unsigned int nFile = fKnown ? pos.nFile : nLastBlockFile;\n+    if (vinfoBlockFile.size() <= nFile) {\n+        vinfoBlockFile.resize(nFile + 1);",
    "path": "src/main.cpp",
    "position": 43,
    "original_position": 43,
    "commit_id": "7b2bb96271cb456c2b958b502788ac5ca94c84d4",
    "original_commit_id": "ed6d1a2c7be9d046d5e78330d5e163023a6b302a",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I wonder; do we need this (conditional) resize in three places, or could we replace it with an assert in some of the places because encountering a new block file would be unexpected?\n",
    "created_at": "2014-10-16T09:09:28Z",
    "updated_at": "2014-10-21T23:17:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4988#discussion_r18944796",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4988",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18944796"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4988#discussion_r18944796"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4988"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18944796/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2112,
    "original_line": 2112,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19111115",
    "pull_request_review_id": null,
    "id": 19111115,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MTExMTE1",
    "diff_hunk": "@@ -2107,32 +2107,32 @@ bool FindBlockPos(CValidationState &state, CDiskBlockPos &pos, unsigned int nAdd\n \n     LOCK(cs_LastBlockFile);\n \n-    if (fKnown) {\n-        if (nLastBlockFile != pos.nFile) {\n-            nLastBlockFile = pos.nFile;\n-            infoLastBlockFile.SetNull();\n-            pblocktree->ReadBlockFileInfo(nLastBlockFile, infoLastBlockFile);\n-            fUpdatedLast = true;\n-        }\n-    } else {\n-        while (infoLastBlockFile.nSize + nAddSize >= MAX_BLOCKFILE_SIZE) {\n-            LogPrintf(\"Leaving block file %i: %s\\n\", nLastBlockFile, infoLastBlockFile.ToString());\n+    unsigned int nFile = fKnown ? pos.nFile : nLastBlockFile;\n+    if (vinfoBlockFile.size() <= nFile) {\n+        vinfoBlockFile.resize(nFile + 1);",
    "path": "src/main.cpp",
    "position": 43,
    "original_position": 43,
    "commit_id": "7b2bb96271cb456c2b958b502788ac5ca94c84d4",
    "original_commit_id": "ed6d1a2c7be9d046d5e78330d5e163023a6b302a",
    "user": {
      "login": "rdponticelli",
      "id": 1192483,
      "node_id": "MDQ6VXNlcjExOTI0ODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1192483?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rdponticelli",
      "html_url": "https://github.com/rdponticelli",
      "followers_url": "https://api.github.com/users/rdponticelli/followers",
      "following_url": "https://api.github.com/users/rdponticelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/rdponticelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rdponticelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rdponticelli/subscriptions",
      "organizations_url": "https://api.github.com/users/rdponticelli/orgs",
      "repos_url": "https://api.github.com/users/rdponticelli/repos",
      "events_url": "https://api.github.com/users/rdponticelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rdponticelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yeah, I've been thinking about those repetitions as well. But I think there are other improvements to make into how block files are managed, so some of those improvements might well be left for latter pulls.\n",
    "created_at": "2014-10-20T20:27:08Z",
    "updated_at": "2014-10-21T23:17:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4988#discussion_r19111115",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4988",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19111115"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4988#discussion_r19111115"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4988"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19111115/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2112,
    "original_line": 2112,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19141276",
    "pull_request_review_id": null,
    "id": 19141276,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MTQxMjc2",
    "diff_hunk": "@@ -2826,9 +2817,20 @@ bool static LoadBlockIndexDB()\n \n     // Load block file info\n     pblocktree->ReadLastBlockFile(nLastBlockFile);\n+    vinfoBlockFile.resize(nLastBlockFile + 1);\n     LogPrintf(\"LoadBlockIndexDB(): last block file = %i\\n\", nLastBlockFile);\n-    if (pblocktree->ReadBlockFileInfo(nLastBlockFile, infoLastBlockFile))\n-        LogPrintf(\"LoadBlockIndexDB(): last block file info: %s\\n\", infoLastBlockFile.ToString());\n+    for (int nFile = 0; nFile <= nLastBlockFile; nFile++) {\n+        pblocktree->ReadBlockFileInfo(nFile, vinfoBlockFile[nFile]);\n+    }\n+    LogPrintf(\"LoadBlockIndexDB(): last block file info: %s\\n\", vinfoBlockFile[nLastBlockFile].ToString());",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 122,
    "commit_id": "7b2bb96271cb456c2b958b502788ac5ca94c84d4",
    "original_commit_id": "ed6d1a2c7be9d046d5e78330d5e163023a6b302a",
    "user": {
      "login": "Diapolo",
      "id": 1419649,
      "node_id": "MDQ6VXNlcjE0MTk2NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1419649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diapolo",
      "html_url": "https://github.com/Diapolo",
      "followers_url": "https://api.github.com/users/Diapolo/followers",
      "following_url": "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diapolo/subscriptions",
      "organizations_url": "https://api.github.com/users/Diapolo/orgs",
      "repos_url": "https://api.github.com/users/Diapolo/repos",
      "events_url": "https://api.github.com/users/Diapolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diapolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Suggestion: You could also switch over to use **func** instead of the function name :).\n",
    "created_at": "2014-10-21T11:08:05Z",
    "updated_at": "2014-10-21T23:17:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4988#discussion_r19141276",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4988",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19141276"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4988#discussion_r19141276"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4988"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19141276/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2825,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19186277",
    "pull_request_review_id": null,
    "id": 19186277,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MTg2Mjc3",
    "diff_hunk": "@@ -2826,9 +2817,20 @@ bool static LoadBlockIndexDB()\n \n     // Load block file info\n     pblocktree->ReadLastBlockFile(nLastBlockFile);\n+    vinfoBlockFile.resize(nLastBlockFile + 1);\n     LogPrintf(\"LoadBlockIndexDB(): last block file = %i\\n\", nLastBlockFile);\n-    if (pblocktree->ReadBlockFileInfo(nLastBlockFile, infoLastBlockFile))\n-        LogPrintf(\"LoadBlockIndexDB(): last block file info: %s\\n\", infoLastBlockFile.ToString());\n+    for (int nFile = 0; nFile <= nLastBlockFile; nFile++) {\n+        pblocktree->ReadBlockFileInfo(nFile, vinfoBlockFile[nFile]);\n+    }\n+    LogPrintf(\"LoadBlockIndexDB(): last block file info: %s\\n\", vinfoBlockFile[nLastBlockFile].ToString());",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 122,
    "commit_id": "7b2bb96271cb456c2b958b502788ac5ca94c84d4",
    "original_commit_id": "ed6d1a2c7be9d046d5e78330d5e163023a6b302a",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done.\n",
    "created_at": "2014-10-21T23:18:23Z",
    "updated_at": "2014-10-21T23:18:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4988#discussion_r19186277",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4988",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19186277"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4988#discussion_r19186277"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4988"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19186277/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2825,
    "side": "RIGHT"
  }
]