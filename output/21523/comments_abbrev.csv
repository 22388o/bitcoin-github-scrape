jamesob,2021-03-24 16:40:47,"I guess after rebasing on top of 2bdf37fe187ba6f090a0f5299b74d5d82cde4697, most of this is just a name change. But there are still a few changes of substance and the rename is probably worth doing.",https://github.com/bitcoin/bitcoin/pull/21523#issuecomment-805980810,805980810,
DrahtBot,2021-03-24 21:40:34,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/21523#issuecomment-806203880,806203880,
jamesob,2021-04-13 14:51:23,Thanks for the reviews so far @ryanofsky @fjahr @ariard. I've incorporated your feedback and split out the rename commit.,https://github.com/bitcoin/bitcoin/pull/21523#issuecomment-818798799,818798799,
ariard,2021-04-13 16:33:42,Code Review ACK c47a00d3,https://github.com/bitcoin/bitcoin/pull/21523#issuecomment-818876278,818876278,
fjahr,2021-04-14 21:10:17,Code Review ACK c47a00d3de4ac3e62d3eee215f6180d4f3170dfb,https://github.com/bitcoin/bitcoin/pull/21523#issuecomment-819835011,819835011,
jamesob,2021-04-23 19:14:21,Rebased and fixed compilation for the first commit. Thanks for the looks all.,https://github.com/bitcoin/bitcoin/pull/21523#issuecomment-825865633,825865633,
fjahr,2021-04-23 21:36:58,Code review re-ACK 844ad0eccaa1dbfefc30d19804d95d67c3d5f06d,https://github.com/bitcoin/bitcoin/pull/21523#issuecomment-825938089,825938089,
ryanofsky,2021-04-08 20:31:45,"In commit ""validation: parameterize VerifyDB by chainstate"" (cd93f827eb1178c3b001b45af5c062bf0be2cf05)\n\nCould comment below be updated to explain the `g_chainman` check?\n\nAlso could logprint below be updated to not mention pruning if block isn't pruned?\n\nAlso it would seem more direct and less likely to hide errors to check here if `chainstate` specifically is an unvalidated snapshot, ",https://github.com/bitcoin/bitcoin/pull/21523#discussion_r610078206,610078206,src/validation.cpp
fjahr,2021-04-11 20:28:08,nit: I think if you make this `size_t` here you can drop the cast below.,https://github.com/bitcoin/bitcoin/pull/21523#discussion_r611241900,611241900,src/validation.cpp
ariard,2021-04-12 19:31:56,nit: `IsSnapshotActive()` in `ChainstateManager` doesn't have a comment though part of the public interface.,https://github.com/bitcoin/bitcoin/pull/21523#discussion_r611899246,611899246,src/validation.cpp
jamesob,2021-04-13 14:42:44,"> This would avoid hiding legitimate errors if the background chainstate is missing blocks.\n\nGood catch! Fixed.",https://github.com/bitcoin/bitcoin/pull/21523#discussion_r612512652,612512652,src/validation.cpp
ryanofsky,2021-04-13 18:45:30,"In commit ""refactor: rename active_chainstate in VerifyDB"" (de836511d892331c0ab8d917c9cf0ca8d81537ee)\n\nIt doesn't really matter and this is fixed in the next commit, but there are three different types here: `int64_t` for `curr_coins_usage`, `unsigned long` for the cast, and `size_t` for `m_coinstip_cache_size_bytes`, and it would be nice to use `size_t` for all three from the start.",https://github.com/bitcoin/bitcoin/pull/21523#discussion_r612693771,612693771,src/validation.cpp
MarcoFalke,2021-04-24 07:23:45,9b604c0207b526c008617cdca210f35db5e344db: Maybe move this hunk to the previous commit?,https://github.com/bitcoin/bitcoin/pull/21523#discussion_r619603733,619603733,src/validation.cpp
MarcoFalke,2021-04-24 07:25:21,"9b604c0207b526c008617cdca210f35db5e344db: Wouldn't it be easier to remove the prune and snapshot condition and simply check HAVE_DATA? Performance shouldn't decrease and it would be less code, which is nice.",https://github.com/bitcoin/bitcoin/pull/21523#discussion_r619603905,619603905,src/validation.cpp
MarcoFalke,2021-04-24 08:23:29,"I guess your goal is to treat it as error when block data is missing, but pruning is off an no snapshot is loaded?",https://github.com/bitcoin/bitcoin/pull/21523#discussion_r619614061,619614061,src/validation.cpp
jamesob,2021-04-26 17:09:43,Right - I think we want to fail here if we're lacking block data when not pruning or operating from snapshot.,https://github.com/bitcoin/bitcoin/pull/21523#discussion_r620489585,620489585,src/validation.cpp
