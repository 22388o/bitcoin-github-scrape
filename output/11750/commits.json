[
  {
    "sha": "7cec76f81bd0fdf2f60738e0b8941dfef57ef825",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3Y2VjNzZmODFiZDBmZGYyZjYwNzM4ZTBiODk0MWRmZWY1N2VmODI1",
    "commit": {
      "author": {
        "name": "Andras Elso",
        "email": "elso.andras@gmail.com",
        "date": "2017-11-22T10:16:32Z"
      },
      "committer": {
        "name": "Andras Elso",
        "email": "elso.andras@gmail.com",
        "date": "2017-11-23T13:26:50Z"
      },
      "message": "Multiselect in coincontrol treewidget and display selected count",
      "tree": {
        "sha": "410287a7881d89caf5f565e363ce8eb18881dc1e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/410287a7881d89caf5f565e363ce8eb18881dc1e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7cec76f81bd0fdf2f60738e0b8941dfef57ef825",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7cec76f81bd0fdf2f60738e0b8941dfef57ef825",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7cec76f81bd0fdf2f60738e0b8941dfef57ef825",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7cec76f81bd0fdf2f60738e0b8941dfef57ef825/comments",
    "author": {
      "login": "Elbandi",
      "id": 44674,
      "node_id": "MDQ6VXNlcjQ0Njc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/44674?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Elbandi",
      "html_url": "https://github.com/Elbandi",
      "followers_url": "https://api.github.com/users/Elbandi/followers",
      "following_url": "https://api.github.com/users/Elbandi/following{/other_user}",
      "gists_url": "https://api.github.com/users/Elbandi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Elbandi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Elbandi/subscriptions",
      "organizations_url": "https://api.github.com/users/Elbandi/orgs",
      "repos_url": "https://api.github.com/users/Elbandi/repos",
      "events_url": "https://api.github.com/users/Elbandi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Elbandi/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Elbandi",
      "id": 44674,
      "node_id": "MDQ6VXNlcjQ0Njc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/44674?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Elbandi",
      "html_url": "https://github.com/Elbandi",
      "followers_url": "https://api.github.com/users/Elbandi/followers",
      "following_url": "https://api.github.com/users/Elbandi/following{/other_user}",
      "gists_url": "https://api.github.com/users/Elbandi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Elbandi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Elbandi/subscriptions",
      "organizations_url": "https://api.github.com/users/Elbandi/orgs",
      "repos_url": "https://api.github.com/users/Elbandi/repos",
      "events_url": "https://api.github.com/users/Elbandi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Elbandi/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d4267a3ab271d9affd3c1b0c2e30062490af804e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d4267a3ab271d9affd3c1b0c2e30062490af804e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d4267a3ab271d9affd3c1b0c2e30062490af804e"
      }
    ],
    "stats": {
      "total": 27,
      "additions": 23,
      "deletions": 4
    },
    "files": [
      {
        "sha": "88862b232a3b8f95fd4d5517d1dae37408520a7d",
        "filename": "src/qt/coincontroldialog.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cec76f81bd0fdf2f60738e0b8941dfef57ef825/src/qt/coincontroldialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cec76f81bd0fdf2f60738e0b8941dfef57ef825/src/qt/coincontroldialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/coincontroldialog.cpp?ref=7cec76f81bd0fdf2f60738e0b8941dfef57ef825",
        "patch": "@@ -71,6 +71,7 @@ CoinControlDialog::CoinControlDialog(const PlatformStyle *_platformStyle, QWidge\n \n     // context menu signals\n     connect(ui->treeWidget, SIGNAL(customContextMenuRequested(QPoint)), this, SLOT(showMenu(QPoint)));\n+    connect(ui->treeWidget, SIGNAL(itemSelectionChanged()), this, SLOT(updateLabelSelected()));\n     connect(copyAddressAction, SIGNAL(triggered()), this, SLOT(copyAddress()));\n     connect(copyLabelAction, SIGNAL(triggered()), this, SLOT(copyLabel()));\n     connect(copyAmountAction, SIGNAL(triggered()), this, SLOT(copyAmount()));\n@@ -166,6 +167,7 @@ void CoinControlDialog::setModel(WalletModel *_model)\n     {\n         updateView();\n         updateLabelLocked();\n+        updateLabelSelected();\n         CoinControlDialog::updateLabels(_model, this);\n     }\n }\n@@ -416,6 +418,15 @@ void CoinControlDialog::updateLabelLocked()\n     else ui->labelLocked->setVisible(false);\n }\n \n+// shows count of selected outputs\n+void CoinControlDialog::updateLabelSelected()\n+{\n+    QList<QTreeWidgetItem *> selected = ui->treeWidget->selectedItems();\n+    int count = selected.size();\n+    ui->labelSelected->setVisible(count > 0);\n+    ui->labelSelected->setText(tr(\"(%1 selected)\").arg(count));\n+}\n+\n void CoinControlDialog::updateLabels(WalletModel *model, QDialog* dialog)\n {\n     if (!model)"
      },
      {
        "sha": "bfeeb41c13783bdd26565bfea327b79c919e0c37",
        "filename": "src/qt/coincontroldialog.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cec76f81bd0fdf2f60738e0b8941dfef57ef825/src/qt/coincontroldialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cec76f81bd0fdf2f60738e0b8941dfef57ef825/src/qt/coincontroldialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/coincontroldialog.h?ref=7cec76f81bd0fdf2f60738e0b8941dfef57ef825",
        "patch": "@@ -107,6 +107,7 @@ private Q_SLOTS:\n     void buttonBoxClicked(QAbstractButton*);\n     void buttonSelectAllClicked();\n     void updateLabelLocked();\n+    void updateLabelSelected();\n };\n \n #endif // BITCOIN_QT_COINCONTROLDIALOG_H"
      },
      {
        "sha": "0794b89200110cd1c1cb523709d73f1e9ba1b7c9",
        "filename": "src/qt/coincontroltreewidget.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cec76f81bd0fdf2f60738e0b8941dfef57ef825/src/qt/coincontroltreewidget.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cec76f81bd0fdf2f60738e0b8941dfef57ef825/src/qt/coincontroltreewidget.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/coincontroltreewidget.cpp?ref=7cec76f81bd0fdf2f60738e0b8941dfef57ef825",
        "patch": "@@ -8,17 +8,17 @@\n CoinControlTreeWidget::CoinControlTreeWidget(QWidget *parent) :\n     QTreeWidget(parent)\n {\n-\n+    setSelectionMode(QAbstractItemView::ExtendedSelection);\n }\n \n void CoinControlTreeWidget::keyPressEvent(QKeyEvent *event)\n {\n-    if (event->key() == Qt::Key_Space) // press spacebar -> select checkbox\n+    if (event->key() == Qt::Key_Space) // press spacebar -> toggle checkbox\n     {\n         event->ignore();\n-        if (this->currentItem()) {\n+        for (QTreeWidgetItem* item : selectedItems()) {\n             int COLUMN_CHECKBOX = 0;\n-            this->currentItem()->setCheckState(COLUMN_CHECKBOX, ((this->currentItem()->checkState(COLUMN_CHECKBOX) == Qt::Checked) ? Qt::Unchecked : Qt::Checked));\n+            item->setCheckState(COLUMN_CHECKBOX, ((item->checkState(COLUMN_CHECKBOX) == Qt::Checked) ? Qt::Unchecked : Qt::Checked));\n         }\n     }\n     else if (event->key() == Qt::Key_Escape) // press esc -> close dialog"
      },
      {
        "sha": "81392d40548cf1439729aeba0b4168d90ddd4b25",
        "filename": "src/qt/forms/coincontroldialog.ui",
        "status": "modified",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cec76f81bd0fdf2f60738e0b8941dfef57ef825/src/qt/forms/coincontroldialog.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cec76f81bd0fdf2f60738e0b8941dfef57ef825/src/qt/forms/coincontroldialog.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/coincontroldialog.ui?ref=7cec76f81bd0fdf2f60738e0b8941dfef57ef825",
        "patch": "@@ -375,6 +375,13 @@\n           </property>\n          </widget>\n         </item>\n+        <item>\n+         <widget class=\"QLabel\" name=\"labelSelected\">\n+          <property name=\"text\">\n+           <string notr=\"true\">(1 selected)</string>\n+          </property>\n+         </widget>\n+        </item>\n         <item>\n          <spacer name=\"horizontalSpacer\">\n           <property name=\"orientation\">"
      }
    ]
  }
]