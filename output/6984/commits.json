[
  {
    "sha": "d61fcff07112411a1e7c28984777480e0c0873aa",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkNjFmY2ZmMDcxMTI0MTFhMWU3YzI4OTg0Nzc3NDgwZTBjMDg3M2Fh",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2015-11-11T09:10:48Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2015-11-13T20:04:12Z"
      },
      "message": "don't enforce maxuploadtargets disconnect for whitelisted peers",
      "tree": {
        "sha": "aeeba1fe49bc8b2cddf6fc6925e4f56adb02b47e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/aeeba1fe49bc8b2cddf6fc6925e4f56adb02b47e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d61fcff07112411a1e7c28984777480e0c0873aa",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJWRkI8AAoJECnUvLZBb1PsVBkQAKI7NodioiuI8zjaoX85beWz\nGSk8G0jdkEgVhquG1Ur/+79nED/qJwBLs1vU5T9vDvoOMCdyfytvT84g5BW6FiV3\nj2V501qT9lljZzxEdTORoT2EqxC5v8ruxYdUljJgyPevTHb//sNbKvOMv7E9aKx/\nqIAVCdI9ZWFHE1CQdYGmME72gSfaRK0yauNiTQrwXSqGJZxq3MCjnmt/Z7TLplxp\n/eojAdF8+pzdjiOvSZz68WmMozMnGbwoFrCZycxTlx9cO3tyEWJDCJtu8b1vUNL3\nBLJ6MHQ93BDwQzSYRbqf38MXZu5KlG+zFeuOs1n2sBtgsYv2GcGAFWyTYjA+KL6X\nBhlJiAcfefkmJYYCFpOpe579QmR8WC75X3qvh3JZa3HASiB9Etev7pLeL++z7jsy\nNLal52yl2ozZixco52Rinn0B3TscPh7zbZOWgW/+XGlSjgptXYWI34y6b+DVGX9g\nouPmJNQnPek3Bv8qGT7L7dkX7Uf3JshY/g17rWBSZSWEOFPh4ODBHuRqitoWogPb\nLjOKf6Y8cfbGqYkUXovkG8JXVEFYpaqUvwa+JVbUawrG6a4r8jn9IXBzy/bsWisn\nW49AnmzrQ8Joy6p9Ig1AwgPQ+TIDAwqKZsazi5b6lstL5VJ8o899X5EmuP4aK65R\nvtjEb/HIOHFtxFc3QR93\n=HXdp\n-----END PGP SIGNATURE-----",
        "payload": "tree aeeba1fe49bc8b2cddf6fc6925e4f56adb02b47e\nparent dbd2c135ddb96bdc3a4e870c2371cb1fac227135\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1447233048 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1447445052 +0100\n\ndon't enforce maxuploadtargets disconnect for whitelisted peers\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d61fcff07112411a1e7c28984777480e0c0873aa",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d61fcff07112411a1e7c28984777480e0c0873aa",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d61fcff07112411a1e7c28984777480e0c0873aa/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "dbd2c135ddb96bdc3a4e870c2371cb1fac227135",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dbd2c135ddb96bdc3a4e870c2371cb1fac227135",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/dbd2c135ddb96bdc3a4e870c2371cb1fac227135"
      }
    ],
    "stats": {
      "total": 40,
      "additions": 37,
      "deletions": 3
    },
    "files": [
      {
        "sha": "e714465db16d2884008df8f0833e6c56ca8781ff",
        "filename": "qa/rpc-tests/maxuploadtarget.py",
        "status": "modified",
        "additions": 35,
        "deletions": 2,
        "changes": 37,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d61fcff07112411a1e7c28984777480e0c0873aa/qa/rpc-tests/maxuploadtarget.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d61fcff07112411a1e7c28984777480e0c0873aa/qa/rpc-tests/maxuploadtarget.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/qa/rpc-tests/maxuploadtarget.py?ref=d61fcff07112411a1e7c28984777480e0c0873aa",
        "patch": "@@ -195,7 +195,7 @@ def run_test(self):\n         daily_buffer = 144 * 1000000\n         max_bytes_available = max_bytes_per_day - daily_buffer\n         success_count = max_bytes_available / old_block_size\n-        \n+\n         # 144MB will be reserved for relaying new blocks, so expect this to\n         # succeed for ~70 tries.\n         for i in xrange(success_count):\n@@ -228,7 +228,7 @@ def run_test(self):\n         test_nodes[1].send_message(getdata_request)\n         test_nodes[1].wait_for_disconnect()\n         assert_equal(len(self.nodes[0].getpeerinfo()), 1)\n-        \n+\n         print \"Peer 1 disconnected after trying to download old block\"\n \n         print \"Advancing system time on node to clear counters...\"\n@@ -245,5 +245,38 @@ def run_test(self):\n \n         [c.disconnect_node() for c in connections]\n \n+        #stop and start node 0 with 1MB maxuploadtarget, whitelist 127.0.0.1\n+        print \"Restarting nodes with -whitelist=127.0.0.1\"\n+        stop_node(self.nodes[0], 0)\n+        self.nodes[0] = start_node(0, self.options.tmpdir, [\"-debug\", \"-whitelist=127.0.0.1\", \"-maxuploadtarget=1\", \"-blockmaxsize=999000\"])\n+\n+        #recreate/reconnect 3 test nodes\n+        test_nodes = []\n+        connections = []\n+\n+        for i in xrange(3):\n+            test_nodes.append(TestNode())\n+            connections.append(NodeConn('127.0.0.1', p2p_port(0), self.nodes[0], test_nodes[i]))\n+            test_nodes[i].add_connection(connections[i])\n+\n+        NetworkThread().start() # Start up network handling in another thread\n+        [x.wait_for_verack() for x in test_nodes]\n+\n+        #retrieve 20 blocks which should be enough to break the 1MB limit\n+        getdata_request.inv = [CInv(2, big_new_block)]\n+        for i in xrange(20):\n+            test_nodes[1].send_message(getdata_request)\n+            test_nodes[1].sync_with_ping()\n+            assert_equal(test_nodes[1].block_receive_map[big_new_block], i+1)\n+\n+        getdata_request.inv = [CInv(2, big_old_block)]\n+        test_nodes[1].send_message(getdata_request)\n+        test_nodes[1].wait_for_disconnect()\n+        assert_equal(len(self.nodes[0].getpeerinfo()), 3) #node is still connected because of the whitelist\n+\n+        print \"Peer 1 still connected after trying to download old block (whitelisted)\"\n+\n+        [c.disconnect_node() for c in connections]\n+\n if __name__ == '__main__':\n     MaxUploadTest().main()"
      },
      {
        "sha": "4647112d4cfac5ce84a7547a2593d1bb46a3386e",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d61fcff07112411a1e7c28984777480e0c0873aa/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d61fcff07112411a1e7c28984777480e0c0873aa/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=d61fcff07112411a1e7c28984777480e0c0873aa",
        "patch": "@@ -3867,8 +3867,9 @@ void static ProcessGetData(CNode* pfrom, const Consensus::Params& consensusParam\n                     }\n                 }\n                 // disconnect node in case we have reached the outbound limit for serving historical blocks\n+                // never disconnect whitelisted nodes\n                 static const int nOneWeek = 7 * 24 * 60 * 60; // assume > 1 week = historical\n-                if (send && CNode::OutboundTargetReached(true) && ( ((pindexBestHeader != NULL) && (pindexBestHeader->GetBlockTime() - mi->second->GetBlockTime() > nOneWeek)) || inv.type == MSG_FILTERED_BLOCK) )\n+                if (send && CNode::OutboundTargetReached(true) && ( ((pindexBestHeader != NULL) && (pindexBestHeader->GetBlockTime() - mi->second->GetBlockTime() > nOneWeek)) || inv.type == MSG_FILTERED_BLOCK) && !pfrom->fWhitelisted)\n                 {\n                     LogPrint(\"net\", \"historical block serving limit reached, disconnect peer=%d\\n\", pfrom->GetId());\n "
      }
    ]
  },
  {
    "sha": "5760749ed8e244e0befab12434b1d8c9f6c8e90e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NzYwNzQ5ZWQ4ZTI0NGUwYmVmYWIxMjQzNGIxZDhjOWY2YzhlOTBl",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2015-11-13T20:10:51Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2015-11-13T20:10:51Z"
      },
      "message": "[docs] rename reducetraffic.md to reduce-traffic.md",
      "tree": {
        "sha": "953f547eb9b7718fa312f6b243ce1cdf4c545b94",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/953f547eb9b7718fa312f6b243ce1cdf4c545b94"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5760749ed8e244e0befab12434b1d8c9f6c8e90e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJWRkPLAAoJECnUvLZBb1Psu44P/0OkDecVUjrPmI6yUSePHkwh\nvt4ro8f12FF4DchUHFAn3MURVYNRiGDOFuz+VKPmmbKHKTFNyNYtiuNetpwTQt7n\n7ryVlIuxAzzXxsqOIAmPxMWltIWorO0i2V0LI6VbagM7505VZPJB7zFetLLRxEFY\nZK6peEjTV0maREwya53BZ2ozxCJ918GMc5i1x8YucpWtxSlHeZ3bEFk1EGtkh8oJ\n07aXivwvU/IRywp1KPIc0q7iKbb7hVzAs1Jw8wgLB12cIzUhISjaNrBm6qwSKC+F\nGV5/p2sD1qRKMFaxRstwUJh4js++C7yBe6Swg9cgx/qeSEvzMhIdOgYjlk7xAY6A\nqHjrxmsVVpFp8Hfgys4wEXklOwxPYJPxsHE0eTghsrLQ+Jvu4mgMpL5d2m8FI6Tp\n+EpqnF8RwTWu09rqFvqJTOHYaKiinI2bpR8gvaZ59M2kyCCbi+TI0HGbBZuNrZ/v\nAE3R5cAgMW88C5gx3gXgp1J6C+ZXuJXUMA5MOfss2YxE1gexD2VaC5AWbpDGGtEG\nvS8fvj1fgwRxU4iGSUPNd6gd8Wo6upy+n+qvDgxUcyCXb8/S/odOahUWTkcGCCTQ\n3fb1iXr4o44q7BtND/o4gqM+H4ETiuQXW/oS/to00louFQcpLiXIV+zAqBvGxlLZ\n+h8oMkSdyK3QMRFHqTiA\n=kx/m\n-----END PGP SIGNATURE-----",
        "payload": "tree 953f547eb9b7718fa312f6b243ce1cdf4c545b94\nparent d61fcff07112411a1e7c28984777480e0c0873aa\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1447445451 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1447445451 +0100\n\n[docs] rename reducetraffic.md to reduce-traffic.md\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5760749ed8e244e0befab12434b1d8c9f6c8e90e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5760749ed8e244e0befab12434b1d8c9f6c8e90e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5760749ed8e244e0befab12434b1d8c9f6c8e90e/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d61fcff07112411a1e7c28984777480e0c0873aa",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d61fcff07112411a1e7c28984777480e0c0873aa",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d61fcff07112411a1e7c28984777480e0c0873aa"
      }
    ],
    "stats": {
      "total": 38,
      "additions": 3,
      "deletions": 35
    },
    "files": [
      {
        "sha": "a79571913acb1e9c3f6e3ec08401075005ef4524",
        "filename": "doc/reducetraffic.md",
        "status": "removed",
        "additions": 0,
        "deletions": 35,
        "changes": 35,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d61fcff07112411a1e7c28984777480e0c0873aa/doc/reducetraffic.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d61fcff07112411a1e7c28984777480e0c0873aa/doc/reducetraffic.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/reducetraffic.md?ref=d61fcff07112411a1e7c28984777480e0c0873aa",
        "patch": "@@ -1,35 +0,0 @@\n-Reduce Traffic\n-==============\n-\n-Some node operators need to deal with bandwith caps imposed by their ISPs.\n-\n-By default, bitcoin-core allows up to 125 connections to different peers, 8 of\n-which are outbound. You can therefore, have at most 117 inbound connections.\n-\n-The default settings can result in relatively significant traffic consumption.\n-\n-Ways to reduce traffic:\n-\n-## 1. Use `-maxuploadtarget=<MiB per day>`\n-\n-A major component of the traffic is caused by serving historic blocks to other nodes\n-during the initial blocks download phase (syncing up a new node).\n-This option can be specified in MiB per day and is turned off by default.\n-This is *not* a hard limit; only a threshold to minimize the outbound\n-traffic. When the limit is about to be reached, the uploaded data is cut by no\n-longer serving historic blocks (blocks older than one week).\n-Keep in mind that new nodes require other nodes that are willing to serve\n-historic blocks. **The recommended minimum is 144 blocks per day (max. 144MB\n-per day)**\n-\n-## 2. Disable \"listening\" (`-listen=0`)\n-\n-Disabling listening will result in fewer nodes connected (remember the maximum of 8\n-outbound peers). Fewer nodes will result in less traffic usage as you are relaying\n-blocks and transactions to fewer nodes.\n-\n-## 3. Reduce maximum connections (`-maxconnections=<num>`)\n-\n-Reducing the maximum connected nodes to a miniumum could be desirable if traffic\n-limits are tiny. Keep in mind that bitcoin's trustless model works best if you are\n-connected to a handful of nodes."
      },
      {
        "sha": "e4dcc60cff303000622ecd4806b84de4b2a88c22",
        "filename": "doc/release-notes.md",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5760749ed8e244e0befab12434b1d8c9f6c8e90e/doc/release-notes.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5760749ed8e244e0befab12434b1d8c9f6c8e90e/doc/release-notes.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-notes.md?ref=5760749ed8e244e0befab12434b1d8c9f6c8e90e",
        "patch": "@@ -184,6 +184,9 @@ This option can be specified in MiB per day and is turned off by default\n (`-maxuploadtarget=0`).\n The recommended minimum is 144 * MAX_BLOCK_SIZE (currently 144MB) per day.\n \n+Whitelisted peers will never be disconnected, although their traffic counts for\n+calculating the target.\n+\n A more detailed documentation about keeping traffic low can be found in\n [/doc/reducetraffic.md](/doc/reducetraffic.md).\n "
      }
    ]
  },
  {
    "sha": "e495ed5f08fa9b62174c7f8f4636e0e5f63a1f4d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplNDk1ZWQ1ZjA4ZmE5YjYyMTc0YzdmOGY0NjM2ZTBlNWY2M2ExZjRk",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2015-11-13T20:12:23Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2015-11-14T07:42:59Z"
      },
      "message": "add documentation for exluding whitelistes peer from maxuploadtarget",
      "tree": {
        "sha": "e48fafce353f8f4b3ce4c7c6b41279ec03257904",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e48fafce353f8f4b3ce4c7c6b41279ec03257904"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e495ed5f08fa9b62174c7f8f4636e0e5f63a1f4d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJWRuYEAAoJECnUvLZBb1PsQXgQAJ5IVUe3xDA8++fP0GFTCGh3\nbFSshofj8s2+x+NJy0kM6Yh6YhsJUm+vCgmiv0FIuSkysAkX4J/3pktcCER2zyI7\nEoWMgKkHlScFihBX//+pzOR8EyTBlRikzNDOGdIlOBOLXIglKMUjSeqmsQzIlijS\nJgFTtwrDbPm9jilPdlMxS3ggR1IoCWcCPQDx7I25FjlSRRq4ElFdJPgd+VQUUrbv\n/xhVkum5xyqNZyU13sDdh/abXszCKyq8XTkENOloLMCbLc/zcPY9IxVUgOjnMFiL\nvj+NQYv6Bpv1jUTI5elfyEEF8rW9sjuxBHilxFfTJdEY3k9WxoUvGWa/QNnLkQcP\njyq+BDeQK7HVc12nVWW8THIuFklHBJUHgmznJjqnYLsQp+fpHfuPDf4yQzlOkmhP\n4OYXnTgD3gOerN759/lankr4/XJEwF4srSWxW/kcKALaiiskBxopTrxxWIVzduLs\nb4v/7p99FTO00DE66EBvWrSk2j0p+L0PO82CHOGILCx3fOgllSt+5gahB5n7C4q0\nXb6x2qrMlyXxmMS7XwRQ2F8QTaeyy99CQK/eB9Ew92CSOLxRLde8z+ZLu9WpYq/k\ndh2VbDSIFeYYyhvTNf8ysvsb4mtWo92qleZwP+rGV1x+LOSV4H+phQzAaGAYXmff\nhAWBs9POAdb/W2LaxHwr\n=+NXH\n-----END PGP SIGNATURE-----",
        "payload": "tree e48fafce353f8f4b3ce4c7c6b41279ec03257904\nparent 5760749ed8e244e0befab12434b1d8c9f6c8e90e\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1447445543 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1447486979 +0100\n\nadd documentation for exluding whitelistes peer from maxuploadtarget\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e495ed5f08fa9b62174c7f8f4636e0e5f63a1f4d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e495ed5f08fa9b62174c7f8f4636e0e5f63a1f4d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e495ed5f08fa9b62174c7f8f4636e0e5f63a1f4d/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5760749ed8e244e0befab12434b1d8c9f6c8e90e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5760749ed8e244e0befab12434b1d8c9f6c8e90e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5760749ed8e244e0befab12434b1d8c9f6c8e90e"
      }
    ],
    "stats": {
      "total": 38,
      "additions": 38,
      "deletions": 0
    },
    "files": [
      {
        "sha": "2d86588eb2ac6e8a65b2ad96aeeae9abbda7cb3a",
        "filename": "doc/reduce-traffic.md",
        "status": "added",
        "additions": 38,
        "deletions": 0,
        "changes": 38,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e495ed5f08fa9b62174c7f8f4636e0e5f63a1f4d/doc/reduce-traffic.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e495ed5f08fa9b62174c7f8f4636e0e5f63a1f4d/doc/reduce-traffic.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/reduce-traffic.md?ref=e495ed5f08fa9b62174c7f8f4636e0e5f63a1f4d",
        "patch": "@@ -0,0 +1,38 @@\n+Reduce Traffic\n+==============\n+\n+Some node operators need to deal with bandwidth caps imposed by their ISPs.\n+\n+By default, bitcoin-core allows up to 125 connections to different peers, 8 of\n+which are outbound. You can therefore, have at most 117 inbound connections.\n+\n+The default settings can result in relatively significant traffic consumption.\n+\n+Ways to reduce traffic:\n+\n+## 1. Use `-maxuploadtarget=<MiB per day>`\n+\n+A major component of the traffic is caused by serving historic blocks to other nodes\n+during the initial blocks download phase (syncing up a new node).\n+This option can be specified in MiB per day and is turned off by default.\n+This is *not* a hard limit; only a threshold to minimize the outbound\n+traffic. When the limit is about to be reached, the uploaded data is cut by no\n+longer serving historic blocks (blocks older than one week).\n+Keep in mind that new nodes require other nodes that are willing to serve\n+historic blocks. **The recommended minimum is 144 blocks per day (max. 144MB\n+per day)**\n+\n+Whitelisted peers will never be disconnected, although their traffic counts for\n+calculating the target.\n+\n+## 2. Disable \"listening\" (`-listen=0`)\n+\n+Disabling listening will result in fewer nodes connected (remember the maximum of 8\n+outbound peers). Fewer nodes will result in less traffic usage as you are relaying\n+blocks and transactions to fewer nodes.\n+\n+## 3. Reduce maximum connections (`-maxconnections=<num>`)\n+\n+Reducing the maximum connected nodes to a minimum could be desirable if traffic\n+limits are tiny. Keep in mind that bitcoin's trustless model works best if you are\n+connected to a handful of nodes."
      }
    ]
  }
]