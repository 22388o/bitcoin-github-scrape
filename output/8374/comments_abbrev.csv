luke-jr,2016-07-19T20:30:26Z,This is missing any mention that miners should not produce blocks larger than 1 MB until the network is known to be capable of handling it. This is critical for miners to understand before BIP 141 activates.\n,https://github.com/bitcoin/bitcoin/pull/8374#issuecomment-233756086,233756086,
sipa,2016-07-20T16:20:31Z,"@luke-jr Do you know of a way to formulate that in a measurable way? How are miners expected to judge ""the network known to be capable of handling it""? Also, BIP 141 won't activate in the release these notes are for.\n",https://github.com/bitcoin/bitcoin/pull/8374#issuecomment-234001246,234001246,
luke-jr,2016-07-20T17:30:20Z,"When most miners are comfortable shutting off centralised relay networks and removing explicit outside addnode/connect to their nodes, that seems a reasonable indication that the network is ready.\n",https://github.com/bitcoin/bitcoin/pull/8374#issuecomment-234021215,234021215,
sipa,2016-07-20T17:31:42Z,"I doubt they would ever be confortable doing that, even with only empty\nblocks.\n",https://github.com/bitcoin/bitcoin/pull/8374#issuecomment-234021605,234021605,
luke-jr,2016-07-20T17:41:41Z,Miners worked fine without centralised networks before. It's not like it's unreasonable.\n,https://github.com/bitcoin/bitcoin/pull/8374#issuecomment-234024416,234024416,
sipa,2016-07-21T11:07:03Z,"@luke-jr What I think the right criterion is, is whether the additional propagation delay from a larger block size would not affect (or only in a negligable amount) the economics of running things like relay network, SPV mining, ... etc. And it may well be the case that compact blocks, better mempool logic, validation caching, ... bring us closer to that, as they make relay times less dependent on",https://github.com/bitcoin/bitcoin/pull/8374#issuecomment-234223516,234223516,
sdaftuar,2016-07-21T14:12:16Z,Updated to address comments.  \n\nI added a brief section on segwit to correct any confusion that somehow 0.13.0 supports segwit on mainnet.  We should consider expanding that section to include more helpful notes on how to use 0.13.0 on testnet.\n,https://github.com/bitcoin/bitcoin/pull/8374#issuecomment-234265756,234265756,
luke-jr,2016-07-21T14:52:03Z,I'm fine with deferring any recommendations until segwit has been released for mainnet.\n,https://github.com/bitcoin/bitcoin/pull/8374#issuecomment-234278434,234278434,
laanwj,2016-07-21T15:53:02Z,"Thanks for writing this up @sdaftuar . Looks like a clear story, I'm just going to merge this, if anyone has suggested changes they can be made later.\n",https://github.com/bitcoin/bitcoin/pull/8374#issuecomment-234297880,234297880,
sipa,2016-07-21T15:56:42Z,"@luke-jr The default is still max 750 kB (incurring the likely small performance loss), and this release does not have any means of increasing above 1 MB. The release notes simply explain the code changes.\n",https://github.com/bitcoin/bitcoin/pull/8374#issuecomment-234298983,234298983,
luke-jr,2016-07-21T16:02:28Z,But the release notes as currently written give incentive to take blockmaxsize and convert to blockmaxweight which can potentially produce blocks up to 3 MB once segwit is deployed.\n,https://github.com/bitcoin/bitcoin/pull/8374#issuecomment-234300700,234300700,
luke-jr,2016-07-19T20:28:16Z,"No, it should not be discouraged (yet). Miners are encouraged to set blockmaxsize to 600000-750000 (the latter being the default).\n",https://github.com/bitcoin/bitcoin/pull/8374#discussion_r71416767,71416767,doc/release-notes.md
luke-jr,2016-07-21T14:54:50Z,NACK.\n,https://github.com/bitcoin/bitcoin/pull/8374#discussion_r71721259,71721259,doc/release-notes.md
luke-jr,2016-07-21T14:56:09Z,"Why is there performance degradation? That was not the case a few months ago, and we probably shouldn't release if it's noteworthy here.\n",https://github.com/bitcoin/bitcoin/pull/8374#discussion_r71721578,71721578,doc/release-notes.md
sipa,2016-07-21T14:57:19Z,Can you suggest an alternative here? I think we should somehow convey that there is a performance penalty to using -blockmaxsize.\n,https://github.com/bitcoin/bitcoin/pull/8374#discussion_r71721835,71721835,doc/release-notes.md
sipa,2016-07-21T15:01:18Z,"Because we sort based on fee per weight; checking whether the size constraint is met is an additional check that is not otherwise needed. @sdaftuar do you have any numbers?\n\nFurthermore, widespread use of having two constraints (both size and weight) would necessitate a non-linear optimization algorithm for transaction selection, which is _much_ harder. That on its turn would make fee estimation",https://github.com/bitcoin/bitcoin/pull/8374#discussion_r71722672,71722672,doc/release-notes.md
luke-jr,2016-07-21T15:06:24Z,"So if ordering by fee-per-bytes is a performance issue, just order by fee-per-weight and close the block out when the size limit is hit. The overhead for that check should be negligible.\n\nAs this stands, it is de facto pushing miners toward a configuration that ought to be discouraged when segwit activates.\n",https://github.com/bitcoin/bitcoin/pull/8374#discussion_r71723610,71723610,doc/release-notes.md
sdaftuar,2016-07-21T15:13:26Z,"I don't have any numbers, and as far as I know no one has attempted to measure this.\n\nI don't think it's good for the network for some miners to discover a performance gain that is not disclosed, so I think it's completely unacceptable to hide this fact.\n\nFurthermore, we ought to change the defaults so that the optimal performance would happen by default.  That's outside the scope of this PR, ",https://github.com/bitcoin/bitcoin/pull/8374#discussion_r71725063,71725063,doc/release-notes.md
sipa,2016-07-21T15:13:45Z,"> So if ordering by fee-per-bytes is a performance issue, just order by fee-per-weight and close the block out when the size limit is hit. \n\nThat's exactly what the current code does. But it still needs to actually compute the serialized size all the time to know when the limit is hit.\n\n> As this stands, it is de facto pushing miners toward a configuration that ought to be discouraged when seg",https://github.com/bitcoin/bitcoin/pull/8374#discussion_r71725109,71725109,doc/release-notes.md
luke-jr,2016-07-21T15:49:48Z,"I'm talking about right now, not long-term. It is not acceptable for miners to be pushed off blockmaxsize <= 1M for the time being. If that means adding a cache of the real size of the transactions, that sounds like a proper avenue to go down.\n",https://github.com/bitcoin/bitcoin/pull/8374#discussion_r71732252,71732252,doc/release-notes.md
