[
  {
    "sha": "a0eb4c551ebf8adfacb8c38c4ce56641fe379667",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphMGViNGM1NTFlYmY4YWRmYWNiOGMzOGM0Y2U1NjY0MWZlMzc5NjY3",
    "commit": {
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-01-05T00:34:28Z"
      },
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-01-05T00:35:18Z"
      },
      "message": "Revert \"Add patch to make codesign_allocate compatible with Apple's\"\n\nThis reverts commit a4118c6e200e02e7560f8bc213697aa2909d95b1.",
      "tree": {
        "sha": "cfcd39a9f962bfd3c749826d96165b0b69c26a46",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cfcd39a9f962bfd3c749826d96165b0b69c26a46"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a0eb4c551ebf8adfacb8c38c4ce56641fe379667",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a0eb4c551ebf8adfacb8c38c4ce56641fe379667",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a0eb4c551ebf8adfacb8c38c4ce56641fe379667",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a0eb4c551ebf8adfacb8c38c4ce56641fe379667/comments",
    "author": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "bc8ada1c15345d14e324aee68488c8aa8a75cae0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bc8ada1c15345d14e324aee68488c8aa8a75cae0",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bc8ada1c15345d14e324aee68488c8aa8a75cae0"
      }
    ],
    "stats": {
      "total": 24,
      "additions": 2,
      "deletions": 22
    },
    "files": [
      {
        "sha": "d56b636695508699d998191f8220e47fe01df6d1",
        "filename": "depends/packages/native_cctools.mk",
        "status": "modified",
        "additions": 2,
        "deletions": 3,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a0eb4c551ebf8adfacb8c38c4ce56641fe379667/depends/packages/native_cctools.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a0eb4c551ebf8adfacb8c38c4ce56641fe379667/depends/packages/native_cctools.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/native_cctools.mk?ref=a0eb4c551ebf8adfacb8c38c4ce56641fe379667",
        "patch": "@@ -4,7 +4,7 @@ $(package)_download_path=https://github.com/tpoechtrager/cctools-port/archive\n $(package)_file_name=$($(package)_version).tar.gz\n $(package)_sha256_hash=e51995a843533a3dac155dd0c71362dd471597a2d23f13dff194c6285362f875\n $(package)_build_subdir=cctools\n-$(package)_patches=ld64_disable_threading.patch segalign.patch\n+$(package)_patches=ld64_disable_threading.patch\n \n ifeq ($(strip $(FORCE_USE_SYSTEM_CLANG)),)\n $(package)_clang_version=8.0.0\n@@ -80,8 +80,7 @@ endef\n define $(package)_preprocess_cmds\n   CC=$($(package)_cc) CXX=$($(package)_cxx) INSTALLPREFIX=$($(package)_extract_dir) ./libtapi/build.sh && \\\n   CC=$($(package)_cc) CXX=$($(package)_cxx) INSTALLPREFIX=$($(package)_extract_dir) ./libtapi/install.sh && \\\n-  patch -p1 < $($(package)_patch_dir)/ld64_disable_threading.patch && \\\n-  patch -p1 < $($(package)_patch_dir)/segalign.patch\n+  patch -p1 < $($(package)_patch_dir)/ld64_disable_threading.patch\n endef\n \n define $(package)_config_cmds"
      },
      {
        "sha": "bcdbd67a6c5a0f26164bbff4743479e9645ab776",
        "filename": "depends/patches/native_cctools/segalign.patch",
        "status": "removed",
        "additions": 0,
        "deletions": 19,
        "changes": 19,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bc8ada1c15345d14e324aee68488c8aa8a75cae0/depends/patches/native_cctools/segalign.patch",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bc8ada1c15345d14e324aee68488c8aa8a75cae0/depends/patches/native_cctools/segalign.patch",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/patches/native_cctools/segalign.patch?ref=bc8ada1c15345d14e324aee68488c8aa8a75cae0",
        "patch": "@@ -1,19 +0,0 @@\n-commit 7f2eb11ce6ebec7eb9b8e1429535e453054143e5\n-Author: Pieter Wuille <pieter@wuille.net>\n-Date:   Sun Dec 13 11:34:21 2020 -0800\n-\n-    Make cctools_port's codesign_allocate compatible with Apple's\n-\n-diff --git a/cctools/libstuff/arch.c b/cctools/libstuff/arch.c\n-index 6f2332f..d85c25c 100644\n---- a/cctools/libstuff/arch.c\n-+++ b/cctools/libstuff/arch.c\n-@@ -134,7 +134,7 @@ static const struct cpu_entry cpu_entries[] = {\n-     { CPU_TYPE_ARM,\t    LITTLE_ENDIAN_BYTE_SEX, 0,\t\t       0x4000 },\n-     \n-     /* desktop */\n--    { CPU_TYPE_X86_64,\t    LITTLE_ENDIAN_BYTE_SEX, 0x7fff5fc00000LL,  0x1000 },\n-+    { CPU_TYPE_X86_64,\t    LITTLE_ENDIAN_BYTE_SEX, 0x7fff5fc00000LL,  0x2000 /* Used to be 0x1000; changed to 0x2000 to match Apple's distributed codesign_allocate. */},\n-     { CPU_TYPE_I386,\t    LITTLE_ENDIAN_BYTE_SEX, 0xc0000000,        0x1000 },\n-     { CPU_TYPE_POWERPC,\t    BIG_ENDIAN_BYTE_SEX,    0xc0000000,\t       0x1000 },\n-     { CPU_TYPE_POWERPC64,   BIG_ENDIAN_BYTE_SEX,    0x7ffff00000000LL, 0x1000 },"
      }
    ]
  }
]