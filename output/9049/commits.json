[
  {
    "sha": "b2e178a2d2e387b147f0d87e64fc773d5ec799d0",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiMmUxNzhhMmQyZTM4N2IxNDdmMGQ4N2U2NGZjNzczZDVlYzc5OWQw",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-06-01T08:39:56Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-11-09T19:27:59Z"
      },
      "message": "Add deserialize + CheckBlock benchmarks, and a full block hex",
      "tree": {
        "sha": "aacb403e781d7a6529b441c1aa1e40e46ab5a4c3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/aacb403e781d7a6529b441c1aa1e40e46ab5a4c3"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b2e178a2d2e387b147f0d87e64fc773d5ec799d0",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b2e178a2d2e387b147f0d87e64fc773d5ec799d0",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b2e178a2d2e387b147f0d87e64fc773d5ec799d0",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b2e178a2d2e387b147f0d87e64fc773d5ec799d0/comments",
    "author": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "924de0bd75a7f75df65d7d15f9d1587a2e794abf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/924de0bd75a7f75df65d7d15f9d1587a2e794abf",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/924de0bd75a7f75df65d7d15f9d1587a2e794abf"
      }
    ],
    "stats": {
      "total": 72,
      "additions": 71,
      "deletions": 1
    },
    "files": [
      {
        "sha": "840d33c1b5f82a0fccbfdf472156885c42281dfb",
        "filename": "src/Makefile.bench.include",
        "status": "modified",
        "additions": 16,
        "deletions": 1,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b2e178a2d2e387b147f0d87e64fc773d5ec799d0/src/Makefile.bench.include",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b2e178a2d2e387b147f0d87e64fc773d5ec799d0/src/Makefile.bench.include",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.bench.include?ref=b2e178a2d2e387b147f0d87e64fc773d5ec799d0",
        "patch": "@@ -6,11 +6,15 @@ bin_PROGRAMS += bench/bench_bitcoin\n BENCH_SRCDIR = bench\n BENCH_BINARY = bench/bench_bitcoin$(EXEEXT)\n \n+RAW_TEST_FILES = \\\n+  bench/data/block413567.raw\n+GENERATED_TEST_FILES = $(RAW_TEST_FILES:.raw=.raw.h)\n \n bench_bench_bitcoin_SOURCES = \\\n   bench/bench_bitcoin.cpp \\\n   bench/bench.cpp \\\n   bench/bench.h \\\n+  bench/checkblock.cpp \\\n   bench/Examples.cpp \\\n   bench/rollingbloom.cpp \\\n   bench/crypto_hash.cpp \\\n@@ -20,6 +24,8 @@ bench_bench_bitcoin_SOURCES = \\\n   bench/base58.cpp \\\n   bench/lockedpool.cpp\n \n+nodist_bench_bench_bitcoin_SOURCES = $(GENERATED_TEST_FILES)\n+\n bench_bench_bitcoin_CPPFLAGS = $(AM_CPPFLAGS) $(BITCOIN_INCLUDES) $(EVENT_CLFAGS) $(EVENT_PTHREADS_CFLAGS) -I$(builddir)/bench/\n bench_bench_bitcoin_CXXFLAGS = $(AM_CXXFLAGS) $(PIE_FLAGS)\n bench_bench_bitcoin_LDADD = \\\n@@ -45,14 +51,23 @@ endif\n bench_bench_bitcoin_LDADD += $(BOOST_LIBS) $(BDB_LIBS) $(SSL_LIBS) $(CRYPTO_LIBS) $(MINIUPNPC_LIBS) $(EVENT_PTHREADS_LIBS) $(EVENT_LIBS)\n bench_bench_bitcoin_LDFLAGS = $(RELDFLAGS) $(AM_LDFLAGS) $(LIBTOOL_APP_LDFLAGS)\n \n-CLEAN_BITCOIN_BENCH = bench/*.gcda bench/*.gcno\n+CLEAN_BITCOIN_BENCH = bench/*.gcda bench/*.gcno $(GENERATED_TEST_FILES)\n \n CLEANFILES += $(CLEAN_BITCOIN_BENCH)\n \n+bench/checkblock.cpp: bench/data/block413567.raw.h\n+\n bitcoin_bench: $(BENCH_BINARY)\n \n bench: $(BENCH_BINARY) FORCE\n \t$(BENCH_BINARY)\n \n bitcoin_bench_clean : FORCE\n \trm -f $(CLEAN_BITCOIN_BENCH) $(bench_bench_bitcoin_OBJECTS) $(BENCH_BINARY)\n+\n+%.raw.h: %.raw\n+\t@$(MKDIR_P) $(@D)\n+\t@echo \"static unsigned const char $(*F)[] = {\" >> $@\n+\t@$(HEXDUMP) -v -e '8/1 \"0x%02x, \"' -e '\"\\n\"' $< | $(SED) -e 's/0x  ,//g' >> $@\n+\t@echo \"};\" >> $@\n+\t@echo \"Generated $@\""
      },
      {
        "sha": "bb596ce7f9ccc3e83de972bcffb2bd66da7b910d",
        "filename": "src/bench/checkblock.cpp",
        "status": "added",
        "additions": 55,
        "deletions": 0,
        "changes": 55,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b2e178a2d2e387b147f0d87e64fc773d5ec799d0/src/bench/checkblock.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b2e178a2d2e387b147f0d87e64fc773d5ec799d0/src/bench/checkblock.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bench/checkblock.cpp?ref=b2e178a2d2e387b147f0d87e64fc773d5ec799d0",
        "patch": "@@ -0,0 +1,55 @@\n+// Copyright (c) 2016 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"bench.h\"\n+\n+#include \"chainparams.h\"\n+#include \"main.h\"\n+#include \"consensus/validation.h\"\n+\n+namespace block_bench {\n+#include \"bench/data/block413567.raw.h\"\n+}\n+\n+// These are the two major time-sinks which happen after we have fully received\n+// a block off the wire, but before we can relay the block on to peers using\n+// compact block relay.\n+\n+static void DeserializeBlockTest(benchmark::State& state)\n+{\n+    CDataStream stream((const char*)block_bench::block413567,\n+            (const char*)&block_bench::block413567[sizeof(block_bench::block413567)],\n+            SER_NETWORK, PROTOCOL_VERSION);\n+    char a;\n+    stream.write(&a, 1); // Prevent compaction\n+\n+    while (state.KeepRunning()) {\n+        CBlock block;\n+        stream >> block;\n+        assert(stream.Rewind(sizeof(block_bench::block413567)));\n+    }\n+}\n+\n+static void DeserializeAndCheckBlockTest(benchmark::State& state)\n+{\n+    CDataStream stream((const char*)block_bench::block413567,\n+            (const char*)&block_bench::block413567[sizeof(block_bench::block413567)],\n+            SER_NETWORK, PROTOCOL_VERSION);\n+    char a;\n+    stream.write(&a, 1); // Prevent compaction\n+\n+    Consensus::Params params = Params(CBaseChainParams::MAIN).GetConsensus();\n+\n+    while (state.KeepRunning()) {\n+        CBlock block; // Note that CBlock caches its checked state, so we need to recreate it here\n+        stream >> block;\n+        assert(stream.Rewind(sizeof(block_bench::block413567)));\n+\n+        CValidationState state;\n+        assert(CheckBlock(block, state, params));\n+    }\n+}\n+\n+BENCHMARK(DeserializeBlockTest);\n+BENCHMARK(DeserializeAndCheckBlockTest);"
      },
      {
        "sha": "67d2d5d38205e6ac9b281c742717ae720b228c9a",
        "filename": "src/bench/data/block413567.raw",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b2e178a2d2e387b147f0d87e64fc773d5ec799d0/src/bench/data/block413567.raw",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b2e178a2d2e387b147f0d87e64fc773d5ec799d0/src/bench/data/block413567.raw",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bench/data/block413567.raw?ref=b2e178a2d2e387b147f0d87e64fc773d5ec799d0"
      }
    ]
  },
  {
    "sha": "eecffe50efc3944d713c701fa375dacbf17fb7cf",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZWNmZmU1MGVmYzM5NDRkNzEzYzcwMWZhMzc1ZGFjYmYxN2ZiN2Nm",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-11-01T15:03:18Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-11-09T19:28:00Z"
      },
      "message": "Remove redundant duplicate-input check from CheckTransaction",
      "tree": {
        "sha": "df2cbe0fad1e266ac0c5f5e0e6b8c7e87a3b70e1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/df2cbe0fad1e266ac0c5f5e0e6b8c7e87a3b70e1"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/eecffe50efc3944d713c701fa375dacbf17fb7cf",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eecffe50efc3944d713c701fa375dacbf17fb7cf",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/eecffe50efc3944d713c701fa375dacbf17fb7cf",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eecffe50efc3944d713c701fa375dacbf17fb7cf/comments",
    "author": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b2e178a2d2e387b147f0d87e64fc773d5ec799d0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b2e178a2d2e387b147f0d87e64fc773d5ec799d0",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b2e178a2d2e387b147f0d87e64fc773d5ec799d0"
      }
    ],
    "stats": {
      "total": 22,
      "additions": 12,
      "deletions": 10
    },
    "files": [
      {
        "sha": "c8af01983cbc9d2df6c60a28c9d3adfe12ffb0be",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 9,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/eecffe50efc3944d713c701fa375dacbf17fb7cf/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/eecffe50efc3944d713c701fa375dacbf17fb7cf/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=eecffe50efc3944d713c701fa375dacbf17fb7cf",
        "patch": "@@ -1104,7 +1104,7 @@ int64_t GetTransactionSigOpCost(const CTransaction& tx, const CCoinsViewCache& i\n \n \n \n-bool CheckTransaction(const CTransaction& tx, CValidationState &state)\n+bool CheckTransaction(const CTransaction& tx, CValidationState &state, bool fCheckDuplicateInputs)\n {\n     // Basic checks that don't depend on any context\n     if (tx.vin.empty())\n@@ -1128,13 +1128,15 @@ bool CheckTransaction(const CTransaction& tx, CValidationState &state)\n             return state.DoS(100, false, REJECT_INVALID, \"bad-txns-txouttotal-toolarge\");\n     }\n \n-    // Check for duplicate inputs\n-    set<COutPoint> vInOutPoints;\n-    for (const auto& txin : tx.vin)\n-    {\n-        if (vInOutPoints.count(txin.prevout))\n-            return state.DoS(100, false, REJECT_INVALID, \"bad-txns-inputs-duplicate\");\n-        vInOutPoints.insert(txin.prevout);\n+    // Check for duplicate inputs - note that this check is slow so we skip it in CheckBlock\n+    if (fCheckDuplicateInputs) {\n+        set<COutPoint> vInOutPoints;\n+        for (const auto& txin : tx.vin)\n+        {\n+            if (vInOutPoints.count(txin.prevout))\n+                return state.DoS(100, false, REJECT_INVALID, \"bad-txns-inputs-duplicate\");\n+            vInOutPoints.insert(txin.prevout);\n+        }\n     }\n \n     if (tx.IsCoinBase())\n@@ -3461,7 +3463,7 @@ bool CheckBlock(const CBlock& block, CValidationState& state, const Consensus::P\n \n     // Check transactions\n     for (const auto& tx : block.vtx)\n-        if (!CheckTransaction(tx, state))\n+        if (!CheckTransaction(tx, state, false))\n             return state.Invalid(false, state.GetRejectCode(), state.GetRejectReason(),\n                                  strprintf(\"Transaction check failed (tx hash %s) %s\", tx.GetHash().ToString(), state.GetDebugMessage()));\n "
      },
      {
        "sha": "21829b6c25a380a8b49ac83a3c8515b68877e2e2",
        "filename": "src/main.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/eecffe50efc3944d713c701fa375dacbf17fb7cf/src/main.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/eecffe50efc3944d713c701fa375dacbf17fb7cf/src/main.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.h?ref=eecffe50efc3944d713c701fa375dacbf17fb7cf",
        "patch": "@@ -343,7 +343,7 @@ void UpdateCoins(const CTransaction& tx, CCoinsViewCache& inputs, int nHeight);\n /** Transaction validation functions */\n \n /** Context-independent validity checks */\n-bool CheckTransaction(const CTransaction& tx, CValidationState& state);\n+bool CheckTransaction(const CTransaction& tx, CValidationState& state, bool fCheckDuplicateInputs=true);\n \n namespace Consensus {\n "
      }
    ]
  },
  {
    "sha": "e2b3fb349ed99f05ea518c7eb260db606350a2b5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplMmIzZmIzNDllZDk5ZjA1ZWE1MThjN2ViMjYwZGI2MDYzNTBhMmI1",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-11-09T19:28:41Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2016-11-09T19:28:41Z"
      },
      "message": "Optimize vInOutPoints insertion a bit",
      "tree": {
        "sha": "f1056f999f20b79aa8277fa41c65595966e48e18",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f1056f999f20b79aa8277fa41c65595966e48e18"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e2b3fb349ed99f05ea518c7eb260db606350a2b5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e2b3fb349ed99f05ea518c7eb260db606350a2b5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e2b3fb349ed99f05ea518c7eb260db606350a2b5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e2b3fb349ed99f05ea518c7eb260db606350a2b5/comments",
    "author": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "eecffe50efc3944d713c701fa375dacbf17fb7cf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eecffe50efc3944d713c701fa375dacbf17fb7cf",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/eecffe50efc3944d713c701fa375dacbf17fb7cf"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 1,
      "deletions": 2
    },
    "files": [
      {
        "sha": "6e19123a4190310a181d4602cb5367441108c920",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 2,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e2b3fb349ed99f05ea518c7eb260db606350a2b5/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e2b3fb349ed99f05ea518c7eb260db606350a2b5/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=e2b3fb349ed99f05ea518c7eb260db606350a2b5",
        "patch": "@@ -1133,9 +1133,8 @@ bool CheckTransaction(const CTransaction& tx, CValidationState &state, bool fChe\n         set<COutPoint> vInOutPoints;\n         for (const auto& txin : tx.vin)\n         {\n-            if (vInOutPoints.count(txin.prevout))\n+            if (!vInOutPoints.insert(txin.prevout).second)\n                 return state.DoS(100, false, REJECT_INVALID, \"bad-txns-inputs-duplicate\");\n-            vInOutPoints.insert(txin.prevout);\n         }\n     }\n "
      }
    ]
  }
]