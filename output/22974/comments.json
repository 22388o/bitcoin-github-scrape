[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919384556",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#issuecomment-919384556",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22974",
    "id": 919384556,
    "node_id": "IC_kwDOABII5842zLHs",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-14T17:55:41Z",
    "updated_at": "2021-09-14T17:55:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @vasild ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919384556/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919411617",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#issuecomment-919411617",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22974",
    "id": 919411617,
    "node_id": "IC_kwDOABII5842zRuh",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-14T18:31:39Z",
    "updated_at": "2021-09-14T18:31:39Z",
    "author_association": "MEMBER",
    "body": "Nice code reduction.  Did you see a difference in `./src/bench/bench_bitcoin -filter=AddrManGood`?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919411617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919417960",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#issuecomment-919417960",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22974",
    "id": 919417960,
    "node_id": "IC_kwDOABII5842zTRo",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-14T18:40:24Z",
    "updated_at": "2021-09-15T22:06:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22950](https://github.com/bitcoin/bitcoin/pull/22950) ([p2p] Pimpl AddrMan to abstract implementation details by amitiuttarwar)\n* [#22910](https://github.com/bitcoin/bitcoin/pull/22910) ([RFC] Encapsulate asmap in NetGroupManager by jnewbery)\n* [#22734](https://github.com/bitcoin/bitcoin/pull/22734) (addrman: Avoid crash on corrupt data, Force Check after deserialize by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919417960/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919435266",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#issuecomment-919435266",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22974",
    "id": 919435266,
    "node_id": "IC_kwDOABII5842zXgC",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-14T19:04:24Z",
    "updated_at": "2021-09-14T19:04:24Z",
    "author_association": "MEMBER",
    "body": "Concept ACK. Benches are showing a huge speedup for me locally.\r\n\r\nbefore\r\n```\r\n$ ./src/bench/bench_bitcoin -filter=AddrManGood\r\n\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|      801,906,990.00 |                1.25 |    5.7% |      4.26 | AddrManGood\r\n|      814,159,543.00 |                1.23 |    6.4% |      4.03 | AddrManGood\r\n|      775,065,136.00 |                1.29 |    3.5% |      3.82 | AddrManGood\r\n|      795,855,140.00 |                1.26 |    6.8% |      3.98 | AddrManGood\r\n|      763,767,446.00 |                1.31 |    1.7% |      3.93 | AddrManGood\r\n|      778,016,971.00 |                1.29 |    2.9% |      4.03 | AddrManGood\r\n|      839,720,704.00 |                1.19 |    8.6% |      4.22 | AddrManGood\r\n|      777,639,920.00 |                1.29 |    1.8% |      3.92 | AddrManGood\r\n|      788,152,208.00 |                1.27 |    3.8% |      3.89 | AddrManGood\r\n|      792,925,660.00 |                1.26 |    3.2% |      3.99 | AddrManGood\r\n```\r\n\r\nafter\r\n```\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|        5,182,474.00 |              192.96 |   13.8% |      0.03 | AddrManGood\r\n|        5,525,509.00 |              180.98 |   14.6% |      0.03 | AddrManGood\r\n|        7,215,235.00 |              138.60 |    3.7% |      0.04 | AddrManGood\r\n|        5,219,675.00 |              191.58 |    7.5% |      0.03 | AddrManGood\r\n|        4,163,823.00 |              240.16 |    2.3% |      0.02 | AddrManGood\r\n|        6,694,095.00 |              149.39 |   23.0% |      0.05 | AddrManGood\r\n|        5,966,011.00 |              167.62 |   11.0% |      0.03 | AddrManGood\r\n|        4,861,261.00 |              205.71 |    3.6% |      0.03 | AddrManGood\r\n|        5,029,188.00 |              198.84 |   16.4% |      0.03 | AddrManGood\r\n|        5,440,878.00 |              183.79 |   13.1% |      0.03 | AddrManGood\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919435266/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919438590",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#issuecomment-919438590",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22974",
    "id": 919438590,
    "node_id": "IC_kwDOABII5842zYT-",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-14T19:09:08Z",
    "updated_at": "2021-09-14T19:09:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks! I didn't know about this benchmark, will try to confirm locally and add the result to OP!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919438590/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919558678",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#issuecomment-919558678",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22974",
    "id": 919558678,
    "node_id": "IC_kwDOABII5842z1oW",
    "user": {
      "login": "amitiuttarwar",
      "id": 1500952,
      "node_id": "MDQ6VXNlcjE1MDA5NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1500952?u=f0ef8142342bcda68fe46c952d3c653456811ed4&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amitiuttarwar",
      "html_url": "https://github.com/amitiuttarwar",
      "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
      "following_url": "https://api.github.com/users/amitiuttarwar/following{/other_user}",
      "gists_url": "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
      "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
      "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
      "events_url": "https://api.github.com/users/amitiuttarwar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-14T22:32:39Z",
    "updated_at": "2021-09-14T22:33:03Z",
    "author_association": "MEMBER",
    "body": "approach ACK, planning to do a more in-depth review later this week",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919558678/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919883958",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#issuecomment-919883958",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22974",
    "id": 919883958,
    "node_id": "IC_kwDOABII58421FC2",
    "user": {
      "login": "naumenkogs",
      "id": 7975071,
      "node_id": "MDQ6VXNlcjc5NzUwNzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7975071?u=06eb9ae4f9b3f954056098860decccbf1340e40f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/naumenkogs",
      "html_url": "https://github.com/naumenkogs",
      "followers_url": "https://api.github.com/users/naumenkogs/followers",
      "following_url": "https://api.github.com/users/naumenkogs/following{/other_user}",
      "gists_url": "https://api.github.com/users/naumenkogs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
      "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
      "repos_url": "https://api.github.com/users/naumenkogs/repos",
      "events_url": "https://api.github.com/users/naumenkogs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T10:08:45Z",
    "updated_at": "2021-09-15T10:08:45Z",
    "author_association": "MEMBER",
    "body": "Concept ACK.\r\nCode also looks good, but I'm gonna ACK once you resolve all the pending suggestions from other reviewers. I agree with those suggestions.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919883958/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920445700",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#issuecomment-920445700",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22974",
    "id": 920445700,
    "node_id": "IC_kwDOABII58423OME",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T22:54:20Z",
    "updated_at": "2021-09-15T22:54:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the reviews - I addressed all comments.\r\nI added a commit to allow for a lower number of sources in the fuzz test as suggested by @MarcoFalke .\r\n\r\nI also ran the benchmark and got similar results to @jonatack:\r\n\r\n`./src/bench/bench_bitcoin -filter=AddrManGood`\r\nbefore:\r\n```\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|      840,411,590.00 |                1.19 |    3.3% |      4.23 | `AddrManGood`\r\n|      871,339,127.00 |                1.15 |    0.1% |      4.35 | `AddrManGood`\r\n|      880,275,738.00 |                1.14 |    0.8% |      4.45 | `AddrManGood`\r\n|      874,042,056.00 |                1.14 |    1.7% |      4.34 | `AddrManGood`\r\n|      877,817,450.00 |                1.14 |    2.1% |      4.34 | `AddrManGood`\r\n```\r\nafter\r\n```\r\n|               ns/op |                op/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|        4,889,438.00 |              204.52 |    0.7% |      0.02 | `AddrManGood`\r\n|        4,831,691.00 |              206.97 |    1.5% |      0.02 | `AddrManGood`\r\n|        4,847,879.00 |              206.28 |    1.0% |      0.02 | `AddrManGood`\r\n|        4,745,268.00 |              210.74 |    0.8% |      0.02 | `AddrManGood`\r\n|        4,932,979.00 |              202.72 |    1.3% |      0.02 | `AddrManGood`\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920445700/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920702275",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#issuecomment-920702275",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22974",
    "id": 920702275,
    "node_id": "IC_kwDOABII58424M1D",
    "user": {
      "login": "naumenkogs",
      "id": 7975071,
      "node_id": "MDQ6VXNlcjc5NzUwNzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7975071?u=06eb9ae4f9b3f954056098860decccbf1340e40f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/naumenkogs",
      "html_url": "https://github.com/naumenkogs",
      "followers_url": "https://api.github.com/users/naumenkogs/followers",
      "following_url": "https://api.github.com/users/naumenkogs/following{/other_user}",
      "gists_url": "https://api.github.com/users/naumenkogs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
      "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
      "repos_url": "https://api.github.com/users/naumenkogs/repos",
      "events_url": "https://api.github.com/users/naumenkogs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-16T08:33:57Z",
    "updated_at": "2021-09-16T08:33:57Z",
    "author_association": "MEMBER",
    "body": "ACK 57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920702275/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920767718",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#issuecomment-920767718",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22974",
    "id": 920767718,
    "node_id": "IC_kwDOABII58424czm",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-16T10:08:24Z",
    "updated_at": "2021-09-16T10:08:24Z",
    "author_association": "MEMBER",
    "body": "ACK 57ce20307e\r\n\r\nUsing the public interface to fuzz addrman is a much better approach. As well as being fewer lines of code, the fuzz test is more correct now. The previous code reached into the internals and made changes to private data which invalidated addrman's invariants. For example, entries were placed into the tried table without setting `nLastSuccess`, which would cause `check()` to fail:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/87780dfee8c82ea09b84e74d331db2ad6f9e75ab/src/addrman.cpp#L774-L775\r\n\r\nI think the next step is to move `RandAddr()` and `Fill()` out of `CAddrManDeterministic` so that they don't have access to `CAddrMan`'s private data and methods.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920767718/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923140946",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#issuecomment-923140946",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22974",
    "id": 923140946,
    "node_id": "IC_kwDOABII5843BgNS",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-20T17:44:29Z",
    "updated_at": "2021-09-20T17:44:29Z",
    "author_association": "MEMBER",
    "body": "This is fantastic, faster *and* less code.\r\nCode review ACK 57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923140946/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923172221",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#issuecomment-923172221",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22974",
    "id": 923172221,
    "node_id": "IC_kwDOABII5843Bn19",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-20T18:26:04Z",
    "updated_at": "2021-09-20T18:26:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Notice that it is adding entries with addr != source, so that lucky `start_bucket` is not playing a role in the benchmark, I guess.\r\n\r\nI think it does: The first `Add()` call creates a `CAddrInfo`  entry in `mapInfo` and set `CAddrInfo.source` to the source, no matter if `addr==source` or not. Then `GetNewBucket(uint256, const std::vector<bool>)` which is now called from `MakeTried` uses just that to determine the starting bucket.\r\n\r\n> In commit [acf656d](https://github.com/bitcoin/bitcoin/commit/acf656d540a82e6fc30421590305cfe295eabbb5) `fuzz: Use public interface to fill addrman tried tables`, `Add_()` and `Good_()` are not public interface, they are private methods.\r\n\r\nThat's true - thinking about doing a (fuzz-only) refactoring follow-up, in which this could be switched to `Add()` and `Good()`.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923172221/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708530751",
    "pull_request_review_id": 754295332,
    "id": 708530751,
    "node_id": "PRRC_kwDOABII584qO1I_",
    "diff_hunk": "@@ -486,11 +486,14 @@ void CAddrMan::MakeTried(CAddrInfo& info, int nId)\n     AssertLockHeld(cs);\n \n     // remove the entry from all new buckets\n-    for (int bucket = 0; bucket < ADDRMAN_NEW_BUCKET_COUNT; bucket++) {\n+    int start_bucket = info.GetNewBucket(nKey, m_asmap);\n+    for (int n = 0; n < ADDRMAN_NEW_BUCKET_COUNT; n++) {\n+        int bucket = (start_bucket + n ) % ADDRMAN_NEW_BUCKET_COUNT;",
    "path": "src/addrman.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "original_commit_id": "527641b9e6e2d0f9aab98474c06d1e1eb7963d0a",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "in general: clang-format, and where useful consider const, and braced initialization for type safety\r\n```suggestion\r\n        const int bucket{(start_bucket + n) % ADDRMAN_NEW_BUCKET_COUNT};\r\n```",
    "created_at": "2021-09-14T18:33:43Z",
    "updated_at": "2021-09-14T18:41:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r708530751",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708530751"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r708530751"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708530751/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 491,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708532028",
    "pull_request_review_id": 754295332,
    "id": 708532028,
    "node_id": "PRRC_kwDOABII584qO1c8",
    "diff_hunk": "@@ -486,11 +486,14 @@ void CAddrMan::MakeTried(CAddrInfo& info, int nId)\n     AssertLockHeld(cs);\n \n     // remove the entry from all new buckets\n-    for (int bucket = 0; bucket < ADDRMAN_NEW_BUCKET_COUNT; bucket++) {\n+    int start_bucket = info.GetNewBucket(nKey, m_asmap);\n+    for (int n = 0; n < ADDRMAN_NEW_BUCKET_COUNT; n++) {",
    "path": "src/addrman.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "original_commit_id": "527641b9e6e2d0f9aab98474c06d1e1eb7963d0a",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "prefer prefix iterator where postfix isn't needed (per developer-notes.md)\r\n```suggestion\r\n    for (int n = 0; n < ADDRMAN_NEW_BUCKET_COUNT; ++n) {\r\n```",
    "created_at": "2021-09-14T18:35:32Z",
    "updated_at": "2021-09-14T18:41:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r708532028",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708532028"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r708532028"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708532028/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 490,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708533494",
    "pull_request_review_id": 754295332,
    "id": 708533494,
    "node_id": "PRRC_kwDOABII584qO1z2",
    "diff_hunk": "@@ -562,21 +565,8 @@ void CAddrMan::Good_(const CService& addr, bool test_before_evict, int64_t nTime\n     if (info.fInTried)\n         return;\n \n-    // find a bucket it is in now\n-    int nRnd = insecure_rand.randrange(ADDRMAN_NEW_BUCKET_COUNT);\n-    int nUBucket = -1;\n-    for (unsigned int n = 0; n < ADDRMAN_NEW_BUCKET_COUNT; n++) {\n-        int nB = (n + nRnd) % ADDRMAN_NEW_BUCKET_COUNT;\n-        int nBpos = info.GetBucketPosition(nKey, true, nB);\n-        if (vvNew[nB][nBpos] == nId) {\n-            nUBucket = nB;\n-            break;\n-        }\n-    }\n-\n-    // if no bucket is found, something bad happened;\n-    // TODO: maybe re-add the node, but for now, just bail out\n-    if (nUBucket == -1)\n+    // if it is not in new, something bad happened\n+    if (info.nRefCount == 0)",
    "path": "src/addrman.cpp",
    "position": null,
    "original_position": 36,
    "commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "original_commit_id": "527641b9e6e2d0f9aab98474c06d1e1eb7963d0a",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "while touching this conditional, maybe add the missing brackets we require with conditionals of more than one line (CVE-2014-1266: the Apple \"goto fail\" vulnerability, https://dwheeler.com/essays/apple-goto-fail)\r\n",
    "created_at": "2021-09-14T18:37:47Z",
    "updated_at": "2021-09-14T18:41:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r708533494",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708533494"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r708533494"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708533494/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 569,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708908831",
    "pull_request_review_id": 754752075,
    "id": 708908831,
    "node_id": "PRRC_kwDOABII584qQRcf",
    "diff_hunk": "@@ -562,21 +565,8 @@ void CAddrMan::Good_(const CService& addr, bool test_before_evict, int64_t nTime\n     if (info.fInTried)\n         return;\n \n-    // find a bucket it is in now\n-    int nRnd = insecure_rand.randrange(ADDRMAN_NEW_BUCKET_COUNT);\n-    int nUBucket = -1;\n-    for (unsigned int n = 0; n < ADDRMAN_NEW_BUCKET_COUNT; n++) {\n-        int nB = (n + nRnd) % ADDRMAN_NEW_BUCKET_COUNT;\n-        int nBpos = info.GetBucketPosition(nKey, true, nB);\n-        if (vvNew[nB][nBpos] == nId) {\n-            nUBucket = nB;\n-            break;\n-        }\n-    }\n-\n-    // if no bucket is found, something bad happened;\n-    // TODO: maybe re-add the node, but for now, just bail out\n-    if (nUBucket == -1)\n+    // if it is not in new, something bad happened\n+    if (info.nRefCount == 0)",
    "path": "src/addrman.cpp",
    "position": null,
    "original_position": 36,
    "commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "original_commit_id": "527641b9e6e2d0f9aab98474c06d1e1eb7963d0a",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I presume this shouldn't happen after the sanity checks passed on a deserialized addrman. So, on \"bad things\" that are caused by internal logic flaws, it might be better to crash in debug/test builds. Otherwise this will be harder to notice or only noticed later on.\r\n\r\n\r\n```suggestion\r\n    if (!Assume(info.nRefCount > 0)) {\r\n```",
    "created_at": "2021-09-15T07:21:13Z",
    "updated_at": "2021-09-15T07:21:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r708908831",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708908831"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r708908831"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708908831/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 569,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709044009",
    "pull_request_review_id": 754928960,
    "id": 709044009,
    "node_id": "PRRC_kwDOABII584qQycp",
    "diff_hunk": "@@ -96,31 +96,12 @@ class CAddrManDeterministic : public CAddrMan\n             for (size_t j = 0; j < num_addresses; ++j) {\n                 const auto addr = CAddress{CService{RandAddr(), 8333}, NODE_NETWORK};\n                 const auto time_penalty = insecure_rand.randrange(100000001);\n-#if 1\n-                // 2.83 sec to fill.\n-                if (n > 0 && mapInfo.size() % n == 0 && mapAddr.find(addr) == mapAddr.end()) {\n-                    // Add to the \"tried\" table (if the bucket slot is free).\n-                    const CAddrInfo dummy{addr, source};\n-                    const int bucket = dummy.GetTriedBucket(nKey, m_asmap);\n-                    const int bucket_pos = dummy.GetBucketPosition(nKey, false, bucket);\n-                    if (vvTried[bucket][bucket_pos] == -1) {\n-                        int id;\n-                        CAddrInfo* addr_info = Create(addr, source, &id);\n-                        vvTried[bucket][bucket_pos] = id;\n-                        addr_info->fInTried = true;\n-                        ++nTried;\n-                    }\n-                } else {\n-                    // Add to the \"new\" table.\n-                    Add_(addr, source, time_penalty);\n-                }\n-#else\n-                // 261.91 sec to fill.\n                 Add_(addr, source, time_penalty);\n+\n                 if (n > 0 && mapInfo.size() % n == 0) {\n                     Good_(addr, false, GetTime());",
    "path": "src/test/fuzz/addrman.cpp",
    "position": 36,
    "original_position": 27,
    "commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "original_commit_id": "527641b9e6e2d0f9aab98474c06d1e1eb7963d0a",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Completely unrelated, but I was wondering if it makes sense to fuzz the time here",
    "created_at": "2021-09-15T10:13:42Z",
    "updated_at": "2021-09-15T10:13:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r709044009",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709044009"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r709044009"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709044009/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 102,
    "original_line": 102,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709615117",
    "pull_request_review_id": 755671930,
    "id": 709615117,
    "node_id": "PRRC_kwDOABII584qS94N",
    "diff_hunk": "@@ -486,11 +486,14 @@ void CAddrMan::MakeTried(CAddrInfo& info, int nId)\n     AssertLockHeld(cs);\n \n     // remove the entry from all new buckets\n-    for (int bucket = 0; bucket < ADDRMAN_NEW_BUCKET_COUNT; bucket++) {\n+    int start_bucket = info.GetNewBucket(nKey, m_asmap);\n+    for (int n = 0; n < ADDRMAN_NEW_BUCKET_COUNT; n++) {\n+        int bucket = (start_bucket + n ) % ADDRMAN_NEW_BUCKET_COUNT;",
    "path": "src/addrman.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "original_commit_id": "527641b9e6e2d0f9aab98474c06d1e1eb7963d0a",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "done for all variables in this loop.",
    "created_at": "2021-09-15T22:21:26Z",
    "updated_at": "2021-09-15T22:21:27Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r709615117",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709615117"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r709615117"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709615117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 491,
    "side": "RIGHT",
    "in_reply_to_id": 708530751
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709615407",
    "pull_request_review_id": 755672262,
    "id": 709615407,
    "node_id": "PRRC_kwDOABII584qS98v",
    "diff_hunk": "@@ -486,11 +486,14 @@ void CAddrMan::MakeTried(CAddrInfo& info, int nId)\n     AssertLockHeld(cs);\n \n     // remove the entry from all new buckets\n-    for (int bucket = 0; bucket < ADDRMAN_NEW_BUCKET_COUNT; bucket++) {\n+    int start_bucket = info.GetNewBucket(nKey, m_asmap);\n+    for (int n = 0; n < ADDRMAN_NEW_BUCKET_COUNT; n++) {",
    "path": "src/addrman.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "original_commit_id": "527641b9e6e2d0f9aab98474c06d1e1eb7963d0a",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "done",
    "created_at": "2021-09-15T22:22:04Z",
    "updated_at": "2021-09-15T22:22:05Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r709615407",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709615407"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r709615407"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709615407/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 490,
    "side": "RIGHT",
    "in_reply_to_id": 708532028
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709615771",
    "pull_request_review_id": 755672625,
    "id": 709615771,
    "node_id": "PRRC_kwDOABII584qS-Cb",
    "diff_hunk": "@@ -562,21 +565,8 @@ void CAddrMan::Good_(const CService& addr, bool test_before_evict, int64_t nTime\n     if (info.fInTried)\n         return;\n \n-    // find a bucket it is in now\n-    int nRnd = insecure_rand.randrange(ADDRMAN_NEW_BUCKET_COUNT);\n-    int nUBucket = -1;\n-    for (unsigned int n = 0; n < ADDRMAN_NEW_BUCKET_COUNT; n++) {\n-        int nB = (n + nRnd) % ADDRMAN_NEW_BUCKET_COUNT;\n-        int nBpos = info.GetBucketPosition(nKey, true, nB);\n-        if (vvNew[nB][nBpos] == nId) {\n-            nUBucket = nB;\n-            break;\n-        }\n-    }\n-\n-    // if no bucket is found, something bad happened;\n-    // TODO: maybe re-add the node, but for now, just bail out\n-    if (nUBucket == -1)\n+    // if it is not in new, something bad happened\n+    if (info.nRefCount == 0)",
    "path": "src/addrman.cpp",
    "position": null,
    "original_position": 36,
    "commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "original_commit_id": "527641b9e6e2d0f9aab98474c06d1e1eb7963d0a",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "added brackets here, thanks",
    "created_at": "2021-09-15T22:22:48Z",
    "updated_at": "2021-09-15T22:22:48Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r709615771",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709615771"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r709615771"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709615771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 569,
    "side": "RIGHT",
    "in_reply_to_id": 708533494
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709616011",
    "pull_request_review_id": 755672915,
    "id": 709616011,
    "node_id": "PRRC_kwDOABII584qS-GL",
    "diff_hunk": "@@ -562,21 +565,8 @@ void CAddrMan::Good_(const CService& addr, bool test_before_evict, int64_t nTime\n     if (info.fInTried)\n         return;\n \n-    // find a bucket it is in now\n-    int nRnd = insecure_rand.randrange(ADDRMAN_NEW_BUCKET_COUNT);\n-    int nUBucket = -1;\n-    for (unsigned int n = 0; n < ADDRMAN_NEW_BUCKET_COUNT; n++) {\n-        int nB = (n + nRnd) % ADDRMAN_NEW_BUCKET_COUNT;\n-        int nBpos = info.GetBucketPosition(nKey, true, nB);\n-        if (vvNew[nB][nBpos] == nId) {\n-            nUBucket = nB;\n-            break;\n-        }\n-    }\n-\n-    // if no bucket is found, something bad happened;\n-    // TODO: maybe re-add the node, but for now, just bail out\n-    if (nUBucket == -1)\n+    // if it is not in new, something bad happened\n+    if (info.nRefCount == 0)",
    "path": "src/addrman.cpp",
    "position": null,
    "original_position": 36,
    "commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "original_commit_id": "527641b9e6e2d0f9aab98474c06d1e1eb7963d0a",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "done as suggested",
    "created_at": "2021-09-15T22:23:24Z",
    "updated_at": "2021-09-15T22:23:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r709616011",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709616011"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r709616011"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709616011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 569,
    "side": "RIGHT",
    "in_reply_to_id": 708908831
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709616562",
    "pull_request_review_id": 755673624,
    "id": 709616562,
    "node_id": "PRRC_kwDOABII584qS-Oy",
    "diff_hunk": "@@ -96,31 +96,12 @@ class CAddrManDeterministic : public CAddrMan\n             for (size_t j = 0; j < num_addresses; ++j) {\n                 const auto addr = CAddress{CService{RandAddr(), 8333}, NODE_NETWORK};\n                 const auto time_penalty = insecure_rand.randrange(100000001);\n-#if 1\n-                // 2.83 sec to fill.\n-                if (n > 0 && mapInfo.size() % n == 0 && mapAddr.find(addr) == mapAddr.end()) {\n-                    // Add to the \"tried\" table (if the bucket slot is free).\n-                    const CAddrInfo dummy{addr, source};\n-                    const int bucket = dummy.GetTriedBucket(nKey, m_asmap);\n-                    const int bucket_pos = dummy.GetBucketPosition(nKey, false, bucket);\n-                    if (vvTried[bucket][bucket_pos] == -1) {\n-                        int id;\n-                        CAddrInfo* addr_info = Create(addr, source, &id);\n-                        vvTried[bucket][bucket_pos] = id;\n-                        addr_info->fInTried = true;\n-                        ++nTried;\n-                    }\n-                } else {\n-                    // Add to the \"new\" table.\n-                    Add_(addr, source, time_penalty);\n-                }\n-#else\n-                // 261.91 sec to fill.\n                 Add_(addr, source, time_penalty);\n+\n                 if (n > 0 && mapInfo.size() % n == 0) {\n                     Good_(addr, false, GetTime());",
    "path": "src/test/fuzz/addrman.cpp",
    "position": 36,
    "original_position": 27,
    "commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "original_commit_id": "527641b9e6e2d0f9aab98474c06d1e1eb7963d0a",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The comment before this block warns against fuzzing in this loop, some problem with running out of random numbers. Could use `insecure_rand` though?",
    "created_at": "2021-09-15T22:24:51Z",
    "updated_at": "2021-09-15T22:24:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r709616562",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709616562"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r709616562"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709616562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 102,
    "original_line": 102,
    "side": "RIGHT",
    "in_reply_to_id": 709044009
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/711119626",
    "pull_request_review_id": 757549239,
    "id": 711119626,
    "node_id": "PRRC_kwDOABII584qYtMK",
    "diff_hunk": "@@ -85,7 +85,7 @@ class CAddrManDeterministic : public CAddrMan\n         // 0, 1, 2, 3 corresponding to 0%, 100%, 50%, 33%",
    "path": "src/test/fuzz/addrman.cpp",
    "position": 1,
    "original_position": 1,
    "commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "original_commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Just above, on line 83 (github does not let me comment on it) is a comment:\r\n```cpp\r\n// Add some of the addresses directly to the \"tried\" table.\r\n```\r\nI think the word \"directly\" does not apply anymore since the hackish direct addition is replaced by `Add_()` (goes to \"new\") + `Good_()` (moved to \"tried\").",
    "created_at": "2021-09-17T14:44:25Z",
    "updated_at": "2021-09-17T15:01:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r711119626",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/711119626"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r711119626"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/711119626/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 85,
    "original_line": 85,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/711133474",
    "pull_request_review_id": 757549239,
    "id": 711133474,
    "node_id": "PRRC_kwDOABII584qYwki",
    "diff_hunk": "@@ -96,31 +96,12 @@ class CAddrManDeterministic : public CAddrMan\n             for (size_t j = 0; j < num_addresses; ++j) {\n                 const auto addr = CAddress{CService{RandAddr(), 8333}, NODE_NETWORK};\n                 const auto time_penalty = insecure_rand.randrange(100000001);\n-#if 1",
    "path": "src/test/fuzz/addrman.cpp",
    "position": 13,
    "original_position": 13,
    "commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "original_commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I compared this branch with the `#else` branch, filled addrman with 9k addresses and did not observe any difference in performance. That is - now the high level `Add_()` + `Good_()` perform the same way as the hackish direct add to the tried table :racehorse:.",
    "created_at": "2021-09-17T15:01:11Z",
    "updated_at": "2021-09-17T15:01:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r711133474",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/711133474"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r711133474"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/711133474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 99,
    "original_line": 99,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/712412186",
    "pull_request_review_id": 758963815,
    "id": 712412186,
    "node_id": "PRRC_kwDOABII584qdowa",
    "diff_hunk": "@@ -85,7 +85,7 @@ class CAddrManDeterministic : public CAddrMan\n         // 0, 1, 2, 3 corresponding to 0%, 100%, 50%, 33%",
    "path": "src/test/fuzz/addrman.cpp",
    "position": 1,
    "original_position": 1,
    "commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "original_commit_id": "57ce20307e604530f78ef4f0f8d9fb94f80ca81b",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks, will fix this in a follow-up!",
    "created_at": "2021-09-20T18:26:58Z",
    "updated_at": "2021-09-20T18:26:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r712412186",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/712412186"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22974#discussion_r712412186"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22974"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/712412186/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 85,
    "original_line": 85,
    "side": "RIGHT",
    "in_reply_to_id": 711119626
  }
]