ryanofsky,2017-07-26T08:32:16Z,Should tag for 0.15 since this fixes a new error and wouldn't be backwards compatible if it was in a later release.,https://github.com/bitcoin/bitcoin/pull/10931#issuecomment-317986572,317986572,
sipa,2017-07-26T09:17:29Z,utACK 5bb4fe6b3f7c8ced61902615edee708667cbae33,https://github.com/bitcoin/bitcoin/pull/10931#issuecomment-317997799,317997799,
jonasschnelli,2017-07-26T09:44:45Z,utACK 5bb4fe6b3f7c8ced61902615edee708667cbae33,https://github.com/bitcoin/bitcoin/pull/10931#issuecomment-318004672,318004672,
achow101,2017-07-26T18:46:10Z,utACK 4cfa4442aa53d9c86d1596e05dcd1608d378120f,https://github.com/bitcoin/bitcoin/pull/10931#issuecomment-318146374,318146374,
jnewbery,2017-07-27T01:47:48Z,Tested ACK 4cfa4442aa53d9c86d1596e05dcd1608d378120f,https://github.com/bitcoin/bitcoin/pull/10931#issuecomment-318233952,318233952,
laanwj,2017-07-27T15:53:49Z, utACK df389bc,https://github.com/bitcoin/bitcoin/pull/10931#issuecomment-318404794,318404794,
jnewbery,2017-07-26T09:27:24Z,Any chance of changing the error message to `Method not found (wallet disabled)`?,https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129523302,129523302,src/wallet/rpcwallet.cpp
jonasschnelli,2017-07-26T09:44:04Z,Not sure if we should mention a specific RPC client (bitcoin-cli) on the server side.,https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129526990,129526990,src/wallet/rpcwallet.cpp
laanwj,2017-07-26T09:48:20Z,"Or ""no wallets loaded"", I think that's more relevant now, especially when runtime loading/unloading is added later",https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129527864,129527864,src/wallet/rpcwallet.cpp
laanwj,2017-07-26T09:52:34Z,"Agree with @jonasschnelli, we shouldn't mention bitcoin-cli in server errors.\nNothing prevents you from catching this specific error code in the client and giving a specific error though, if you want to be user-friendly.",https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129528745,129528745,src/wallet/rpcwallet.cpp
ryanofsky,2017-07-26T12:59:46Z,"Thread https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129526990\n\nUnclear why this would be an improvement, and how the server mentioning a bitcoin-cli option is different than server providing bitcoin-cli command lines in the help text of all rpc methods (which seems like a good thing to me). Generating the text in one place instead of two places means it can be more coherent. And m",https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129563725,129563725,src/wallet/rpcwallet.cpp
ryanofsky,2017-07-26T13:42:54Z,"Thread https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129523302\n\nOk, added in 4cfa4442aa53d9c86d1596e05dcd1608d378120f",https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129574537,129574537,src/wallet/rpcwallet.cpp
jnewbery,2017-07-27T01:39:47Z,Actually it appears that it's not currently possible to hit this error. If bitcoind is started with `disablewallet` then the wallet RPC commands aren't registered and any call to a wallet RPC will be rejected here: https://github.com/bitcoin/bitcoin/blob/5c8eb7916de7030d6610df53977b3068342c8f24/src/rpc/server.cpp#L495. I don't think there's currently a way to start bitcoind with the wallet compone,https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129737315,129737315,src/wallet/rpcwallet.cpp
jnewbery,2017-07-27T01:46:30Z,"I almost wrote the same comment as Jonas about server not having bitcoin-cli specific messages, but Russ has convinced me. I think it's ok to have a bitcoin-cli message here.",https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129737973,129737973,src/wallet/rpcwallet.cpp
laanwj,2017-07-27T09:35:54Z,"NACK. I still disagree. People use RPC from many other programs than just bitcoin-cli. Mentioning a -cli argument is just confusing. If you want to add documentation in an error message, you should document how people should change their API usage instead.\n\n> how the server mentioning a bitcoin-cli option is different than server providing bitcoin-cli command lines in the help text of all rpc ",https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129795168,129795168,src/wallet/rpcwallet.cpp
laanwj,2017-07-27T09:37:38Z,"Somehow this got hidden: https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129526990\n\nI still disagree with mentioning -cli here. If there is to be extenxsive documentation here, this should mention how to change the API usage, as people will be using this API from many applications and not just bitcoin-cli.\n",https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129795649,129795649,src/wallet/rpcwallet.cpp
jonasschnelli,2017-07-27T10:08:42Z,"Agree with @laanwj. Please remove the `bitcoin-cli` part.\nBy design, it makes no sense to report client specific error message in a pure JSON RPC server implementation.",https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129802729,129802729,src/wallet/rpcwallet.cpp
ryanofsky,2017-07-27T14:19:08Z,"Thread https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129523302\n\nInteresting, added comment in 0ed0352a643af237a6ce59bf74ca9edfadbb6331.",https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129854511,129854511,src/wallet/rpcwallet.cpp
ryanofsky,2017-07-27T14:22:54Z,Thread continues here: https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129795649,https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129855572,129855572,src/wallet/rpcwallet.cpp
ryanofsky,2017-07-27T14:23:06Z,"Thread https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129795649\n\nOk @laanwj, thanks for providing an explanation. I implemented your suggestion in 6b5c343a49a25085bf1d6300cea2d40cebc993b6. I think we're basically talking about a tradeoff between more useful vs more maintainable help text, though differences ares very small in this case.",https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129855630,129855630,src/wallet/rpcwallet.cpp
laanwj,2017-07-27T15:50:46Z,"In a way, yes, though I don't think this is much less maintainable; we have those error codes for a reason, might as well use them to print custom text at the client side. We could at some point provide a better help text for other codes as well, where it makes sense. Anoher advantage of generating messages at the client side is that they could be translated (though we currently don't support tran",https://github.com/bitcoin/bitcoin/pull/10931#discussion_r129881544,129881544,src/wallet/rpcwallet.cpp
