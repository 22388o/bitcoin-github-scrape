[
  {
    "sha": "5c521d210f86e7cc9e4ee5f291474335964d2228",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1YzUyMWQyMTBmODZlN2NjOWU0ZWU1ZjI5MTQ3NDMzNTk2NGQyMjI4",
    "commit": {
      "author": {
        "name": "practicalswift",
        "email": "practicalswift@users.noreply.github.com",
        "date": "2020-09-22T20:25:06Z"
      },
      "committer": {
        "name": "practicalswift",
        "email": "practicalswift@users.noreply.github.com",
        "date": "2020-09-22T20:25:06Z"
      },
      "message": "net: Introduce DEFAULT_PROXY_HOST and DEFAULT_PROXY_PORT",
      "tree": {
        "sha": "a98e9145b62ee8b4e84cfe4592ffc650c0a6160b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a98e9145b62ee8b4e84cfe4592ffc650c0a6160b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5c521d210f86e7cc9e4ee5f291474335964d2228",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5c521d210f86e7cc9e4ee5f291474335964d2228",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5c521d210f86e7cc9e4ee5f291474335964d2228",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5c521d210f86e7cc9e4ee5f291474335964d2228/comments",
    "author": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d692d192cda37fda6359ad0736b85de20383db73",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d692d192cda37fda6359ad0736b85de20383db73",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d692d192cda37fda6359ad0736b85de20383db73"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 8,
      "deletions": 10
    },
    "files": [
      {
        "sha": "716b1babf6744624ee7ecbe66aac6f5ff96b9548",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5c521d210f86e7cc9e4ee5f291474335964d2228/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5c521d210f86e7cc9e4ee5f291474335964d2228/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=5c521d210f86e7cc9e4ee5f291474335964d2228",
        "patch": "@@ -1417,7 +1417,7 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     SetReachable(NET_ONION, false);\n     if (proxyArg != \"\" && proxyArg != \"0\") {\n         CService proxyAddr;\n-        if (!Lookup(proxyArg, proxyAddr, 9050, fNameLookup)) {\n+        if (!Lookup(proxyArg, proxyAddr, DEFAULT_PROXY_PORT, fNameLookup)) {\n             return InitError(strprintf(_(\"Invalid -proxy address or hostname: '%s'\"), proxyArg));\n         }\n \n@@ -1441,7 +1441,7 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n             SetReachable(NET_ONION, false);\n         } else {\n             CService onionProxy;\n-            if (!Lookup(onionArg, onionProxy, 9050, fNameLookup)) {\n+            if (!Lookup(onionArg, onionProxy, DEFAULT_PROXY_PORT, fNameLookup)) {\n                 return InitError(strprintf(_(\"Invalid -onion address or hostname: '%s'\"), onionArg));\n             }\n             proxyType addrOnion = proxyType(onionProxy, proxyRandomize);"
      },
      {
        "sha": "a0118b24413460c46e7cd0c2cf9d32cbe39dd177",
        "filename": "src/net.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5c521d210f86e7cc9e4ee5f291474335964d2228/src/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5c521d210f86e7cc9e4ee5f291474335964d2228/src/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.h?ref=5c521d210f86e7cc9e4ee5f291474335964d2228",
        "patch": "@@ -88,6 +88,9 @@ static const bool DEFAULT_FORCEDNSSEED = false;\n static const size_t DEFAULT_MAXRECEIVEBUFFER = 5 * 1000;\n static const size_t DEFAULT_MAXSENDBUFFER    = 1 * 1000;\n \n+static const char* DEFAULT_PROXY_HOST = \"127.0.0.1\";\n+static constexpr uint16_t DEFAULT_PROXY_PORT = 9050;\n+\n typedef int64_t NodeId;\n \n struct AddedNodeInfo"
      },
      {
        "sha": "28c63eacba41e024f18fa821f6fad38e3b2f069a",
        "filename": "src/qt/optionsdialog.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5c521d210f86e7cc9e4ee5f291474335964d2228/src/qt/optionsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5c521d210f86e7cc9e4ee5f291474335964d2228/src/qt/optionsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsdialog.cpp?ref=5c521d210f86e7cc9e4ee5f291474335964d2228",
        "patch": "@@ -377,7 +377,7 @@ QValidator::State ProxyAddressValidator::validate(QString &input, int &pos) cons\n {\n     Q_UNUSED(pos);\n     // Validate the proxy\n-    CService serv(LookupNumeric(input.toStdString(), DEFAULT_GUI_PROXY_PORT));\n+    CService serv(LookupNumeric(input.toStdString(), DEFAULT_PROXY_PORT));\n     proxyType addrProxy = proxyType(serv, true);\n     if (addrProxy.IsValid())\n         return QValidator::Acceptable;"
      },
      {
        "sha": "c2af398121116f6ee62260bb16bfe1059fbda9ee",
        "filename": "src/qt/optionsmodel.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 4,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5c521d210f86e7cc9e4ee5f291474335964d2228/src/qt/optionsmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5c521d210f86e7cc9e4ee5f291474335964d2228/src/qt/optionsmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsmodel.cpp?ref=5c521d210f86e7cc9e4ee5f291474335964d2228",
        "patch": "@@ -23,8 +23,6 @@\n #include <QSettings>\n #include <QStringList>\n \n-const char *DEFAULT_GUI_PROXY_HOST = \"127.0.0.1\";\n-\n static const QString GetDefaultProxyAddress();\n \n OptionsModel::OptionsModel(QObject *parent, bool resetSettings) :\n@@ -213,7 +211,7 @@ struct ProxySetting {\n \n static ProxySetting GetProxySetting(QSettings &settings, const QString &name)\n {\n-    static const ProxySetting default_val = {false, DEFAULT_GUI_PROXY_HOST, QString(\"%1\").arg(DEFAULT_GUI_PROXY_PORT)};\n+    static const ProxySetting default_val = {false, DEFAULT_PROXY_HOST, QString(\"%1\").arg(DEFAULT_PROXY_PORT)};\n     // Handle the case that the setting is not set at all\n     if (!settings.contains(name)) {\n         return default_val;\n@@ -234,7 +232,7 @@ static void SetProxySetting(QSettings &settings, const QString &name, const Prox\n \n static const QString GetDefaultProxyAddress()\n {\n-    return QString(\"%1:%2\").arg(DEFAULT_GUI_PROXY_HOST).arg(DEFAULT_GUI_PROXY_PORT);\n+    return QString(\"%1:%2\").arg(DEFAULT_PROXY_HOST).arg(DEFAULT_PROXY_PORT);\n }\n \n void OptionsModel::SetPruneEnabled(bool prune, bool force)"
      },
      {
        "sha": "a55ee5db07e48e43d7b87937efe702b5393eb9b0",
        "filename": "src/qt/optionsmodel.h",
        "status": "modified",
        "additions": 0,
        "deletions": 3,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5c521d210f86e7cc9e4ee5f291474335964d2228/src/qt/optionsmodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5c521d210f86e7cc9e4ee5f291474335964d2228/src/qt/optionsmodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsmodel.h?ref=5c521d210f86e7cc9e4ee5f291474335964d2228",
        "patch": "@@ -17,9 +17,6 @@ namespace interfaces {\n class Node;\n }\n \n-extern const char *DEFAULT_GUI_PROXY_HOST;\n-static constexpr uint16_t DEFAULT_GUI_PROXY_PORT = 9050;\n-\n /**\n  * Convert configured prune target MiB to displayed GB. Round up to avoid underestimating max disk usage.\n  */"
      }
    ]
  },
  {
    "sha": "6bf8c9315c9d50f0e3654a9bee46b11fe2613b4b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2YmY4YzkzMTVjOWQ1MGYwZTM2NTRhOWJlZTQ2YjExZmUyNjEzYjRi",
    "commit": {
      "author": {
        "name": "practicalswift",
        "email": "practicalswift@users.noreply.github.com",
        "date": "2020-09-22T20:25:43Z"
      },
      "committer": {
        "name": "practicalswift",
        "email": "practicalswift@users.noreply.github.com",
        "date": "2020-09-23T11:21:01Z"
      },
      "message": "net: Use default proxy server (127.0.0.1) if -proxy is specified without arguments (instead of continuing without proxy server)",
      "tree": {
        "sha": "455be471b67bcb53b3f683bd63fd14b42f902cad",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/455be471b67bcb53b3f683bd63fd14b42f902cad"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6bf8c9315c9d50f0e3654a9bee46b11fe2613b4b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6bf8c9315c9d50f0e3654a9bee46b11fe2613b4b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6bf8c9315c9d50f0e3654a9bee46b11fe2613b4b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6bf8c9315c9d50f0e3654a9bee46b11fe2613b4b/comments",
    "author": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5c521d210f86e7cc9e4ee5f291474335964d2228",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5c521d210f86e7cc9e4ee5f291474335964d2228",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5c521d210f86e7cc9e4ee5f291474335964d2228"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 6,
      "deletions": 0
    },
    "files": [
      {
        "sha": "83f0b522ad167eb5af3837e07a1fbac356f86049",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6bf8c9315c9d50f0e3654a9bee46b11fe2613b4b/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6bf8c9315c9d50f0e3654a9bee46b11fe2613b4b/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=6bf8c9315c9d50f0e3654a9bee46b11fe2613b4b",
        "patch": "@@ -810,6 +810,12 @@ void InitParameterInteraction(ArgsManager& args)\n         // to protect privacy, do not discover addresses by default\n         if (args.SoftSetBoolArg(\"-discover\", false))\n             LogPrintf(\"%s: parameter interaction: -proxy set -> setting -discover=0\\n\", __func__);\n+        // If -proxy is specified without any proxy server argument, default to 127.0.0.1 (DEFAULT_PROXY_HOST)\n+        // instead of continuing without a proxy server.\n+        if (args.GetArg(\"-proxy\", \"\").empty()) {\n+            args.ForceSetArg(\"-proxy\", DEFAULT_PROXY_HOST);\n+            LogPrintf(\"%s: parameter interaction: -proxy set without argument -> setting -proxy=%s\\n\", __func__, DEFAULT_PROXY_HOST);\n+        }\n     }\n \n     if (!args.GetBoolArg(\"-listen\", DEFAULT_LISTEN)) {"
      }
    ]
  }
]