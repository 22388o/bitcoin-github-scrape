fingera,2018-08-29T05:39:52Z,"thankyou, now the minimum system is windows vista",https://github.com/bitcoin/bitcoin/pull/14089#issuecomment-416830670,416830670,
ken2812221,2018-08-29T07:19:04Z,Concept ACK,https://github.com/bitcoin/bitcoin/pull/14089#issuecomment-416851131,416851131,
laanwj,2018-08-29T12:42:46Z,"utACK on superficial code changes\n\nhowever, as random generation is critical to wallet security, someone with actual knowledge of windows random APIs should review this",https://github.com/bitcoin/bitcoin/pull/14089#issuecomment-416938494,416938494,
NicolasDorier,2018-08-29T16:36:07Z,"I would be inclined to NACK, new version of .NET still depend on advapi32.dll `CryptGenRandom` for secure RNG. I would be more confident to use when microsoft eat their dog food.",https://github.com/bitcoin/bitcoin/pull/14089#issuecomment-417019384,417019384,
NicolasDorier,2018-08-29T16:39:25Z,"Extract from .NET 4.7.2 released in march 2018, still using `CryptGenRandom`\n\nhttps://referencesource.microsoft.com/#mscorlib/system/security/cryptography/rngcryptoserviceprovider.cs\n\nhttps://referencesource.microsoft.com/#mscorlib/system/security/cryptography/capinative.cs,1b2672c29bebdd55",https://github.com/bitcoin/bitcoin/pull/14089#issuecomment-417020521,417020521,
fingera,2018-08-30T06:20:48Z,"Windows Vista: The random number generator is based on the hash-based random number generator specified in the FIPS 186-2 standard.\nWindows 8: Beginning with Windows 8, the RNG algorithm supports FIPS 186-3. Keys less than or equal to 1024 bits adhere to FIPS 186-2 and keys greater than 1024 to FIPS 186-3.\nhttps://docs.microsoft.com/zh-cn/windows/desktop/SecCNG/cng-algorithm-identifiers#BCRYPT",https://github.com/bitcoin/bitcoin/pull/14089#issuecomment-417203115,417203115,
luke-jr,2018-08-30T13:10:51Z,Could do both?,https://github.com/bitcoin/bitcoin/pull/14089#issuecomment-417313766,417313766,
fingera,2018-08-31T01:49:17Z,"bitcoin random source:\n// First source: OpenSSL's RNG\n// Second source: OS RNG\n// Third source: HW RNG, if available.\n\nOpenSSL's RNG already append CryptGenRandom(Compile Target < Win7)\nOS RNG improve it, so OS RNG use new BCryptGenRandom :)",https://github.com/bitcoin/bitcoin/pull/14089#issuecomment-417523943,417523943,
sipa,2018-08-31T03:06:45Z,We will in the near future probably remove OpenSSL as a randomness source.,https://github.com/bitcoin/bitcoin/pull/14089#issuecomment-417537376,417537376,
fingera,2018-08-31T04:51:23Z,"Remove randomness source must be very carefull.\nCan I do it?\nWhat to do now?",https://github.com/bitcoin/bitcoin/pull/14089#issuecomment-417550876,417550876,
sipa,2018-08-31T04:56:01Z,"No, we're still relying on some of its features that need to be implemented differently first.\n\nI'm just pointing out that OpenSSL using some API already is not a reason to not also use it ourselves.",https://github.com/bitcoin/bitcoin/pull/14089#issuecomment-417551512,417551512,
fingera,2018-08-31T04:59:16Z,Add both os source now? Or wait for Microsoft's new API to accept more tests,https://github.com/bitcoin/bitcoin/pull/14089#issuecomment-417551989,417551989,
laanwj,2018-08-31T08:42:20Z,"I'm closing this for now.\nWe can do this at some point in the future, but I agree with @NicolasDorier that it's not relevant now.\n",https://github.com/bitcoin/bitcoin/pull/14089#issuecomment-417596122,417596122,
fingera,2018-08-31T09:02:48Z,"ok, please read 14116 ",https://github.com/bitcoin/bitcoin/pull/14089#issuecomment-417601681,417601681,
laanwj,2018-08-28T08:37:34Z,"so with this, it will still use the deprecated function with mingw?\n(which is used for the distributed binaries)",https://github.com/bitcoin/bitcoin/pull/14089#discussion_r213227400,213227400,src/random.cpp
ken2812221,2018-08-28T09:00:44Z,"You should add this into `build_msvc/*/*.vcxproj` and `configure.ac` instead of adding random library into source code. Once you update `configure.ac`, the `#if defined(_MSC_VER)..#endif` thing could be removed.",https://github.com/bitcoin/bitcoin/pull/14089#discussion_r213234656,213234656,src/random.cpp
ken2812221,2018-08-28T09:05:32Z,checking `_WIN32_WINNT` is not necessary. The min version required to run Bitcoin Core is Vista which is the same as the required min version of `BCryptGenRandom`,https://github.com/bitcoin/bitcoin/pull/14089#discussion_r213236221,213236221,src/random.cpp
