[
  {
    "sha": "3ba43e420938191b8bda0dba3b91502477154be2",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozYmE0M2U0MjA5MzgxOTFiOGJkYTBkYmEzYjkxNTAyNDc3MTU0YmUy",
    "commit": {
      "author": {
        "name": "darosior",
        "email": "darosior@protonmail.com",
        "date": "2019-05-02T16:05:21Z"
      },
      "committer": {
        "name": "darosior",
        "email": "darosior@protonmail.com",
        "date": "2019-05-02T16:05:21Z"
      },
      "message": "Use 'ShellExecuteEx' instead of 'wsystem' in 'runCommand' for Windows\n\n'blocknotify' or 'walletnotify' on Windows caused a cmd window to popup. The use of 'ShellExecute' with the 'SW_HIDE' flag instead of 'wsystem' avoid this behaviour",
      "tree": {
        "sha": "d2b6bf28d0f57c81e58194c073b1b59637954b9e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d2b6bf28d0f57c81e58194c073b1b59637954b9e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3ba43e420938191b8bda0dba3b91502477154be2",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAlzLFUEACgkQ4T/BRc0/\nQwT4vQv/d7NfJVFgTNcbrKkoTfmrZuqHJSMQDlMxL0dG2TdVOEU03pKh1yx2BWUe\nnEawFA4yLli3rWSK3grmZKqMV7wL20HOl8b8IbYsSUzx1JcL9Vbku1U8//+qwetU\nA4KJdEfMlRZ0bj7x9INoR06F0syF/1YaP/EGU/NrgNLPoBhZQsn2AfMTSvyme/65\nWZHfeJmItj530Ei9CTfoN/cVI62qaskBge//RXo+NN2K883LTbh4kZebZSOMIxxr\nCT5HSXgMhzYJoTHJa2qS+S8DhtrEH3HIJRM2FIPFFUBnc1J0I4dt5WxLeTS9Hu16\n8lieU/V17MvLnf80R5/qapnkU7KUzwAtcymae6qkywO+DE5s6onE10ZAHjgQSj9u\nybMbGDLP7uYD23pjIGumzTSmhjBpfsFwN2/+AS6/dvAbHLqeHCQMGTEd+YrRhz9e\nPAp9SOzWjMc7pNMxPra45c66FVdc7q0boD+wfCouE0FOeQN/KVEJ/wkhiUxU2gP3\nT4zXPa0/\n=/PZE\n-----END PGP SIGNATURE-----",
        "payload": "tree d2b6bf28d0f57c81e58194c073b1b59637954b9e\nparent ec519d4d548963c025981ff6ef66daf54b1d9d20\nauthor darosior <darosior@protonmail.com> 1556813121 +0200\ncommitter darosior <darosior@protonmail.com> 1556813121 +0200\n\nUse 'ShellExecuteEx' instead of 'wsystem' in 'runCommand' for Windows\n\n'blocknotify' or 'walletnotify' on Windows caused a cmd window to popup. The use of 'ShellExecute' with the 'SW_HIDE' flag instead of 'wsystem' avoid this behaviour\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3ba43e420938191b8bda0dba3b91502477154be2",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3ba43e420938191b8bda0dba3b91502477154be2",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3ba43e420938191b8bda0dba3b91502477154be2/comments",
    "author": {
      "login": "darosior",
      "id": 22457751,
      "node_id": "MDQ6VXNlcjIyNDU3NzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/darosior",
      "html_url": "https://github.com/darosior",
      "followers_url": "https://api.github.com/users/darosior/followers",
      "following_url": "https://api.github.com/users/darosior/following{/other_user}",
      "gists_url": "https://api.github.com/users/darosior/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/darosior/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
      "organizations_url": "https://api.github.com/users/darosior/orgs",
      "repos_url": "https://api.github.com/users/darosior/repos",
      "events_url": "https://api.github.com/users/darosior/events{/privacy}",
      "received_events_url": "https://api.github.com/users/darosior/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "darosior",
      "id": 22457751,
      "node_id": "MDQ6VXNlcjIyNDU3NzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/darosior",
      "html_url": "https://github.com/darosior",
      "followers_url": "https://api.github.com/users/darosior/followers",
      "following_url": "https://api.github.com/users/darosior/following{/other_user}",
      "gists_url": "https://api.github.com/users/darosior/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/darosior/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
      "organizations_url": "https://api.github.com/users/darosior/orgs",
      "repos_url": "https://api.github.com/users/darosior/repos",
      "events_url": "https://api.github.com/users/darosior/events{/privacy}",
      "received_events_url": "https://api.github.com/users/darosior/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ec519d4d548963c025981ff6ef66daf54b1d9d20",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ec519d4d548963c025981ff6ef66daf54b1d9d20",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ec519d4d548963c025981ff6ef66daf54b1d9d20"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 14,
      "deletions": 3
    },
    "files": [
      {
        "sha": "ae34fdd7fa3d6f1e7025a0fd4f71ec1e78b0afcc",
        "filename": "src/util/system.cpp",
        "status": "modified",
        "additions": 14,
        "deletions": 3,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3ba43e420938191b8bda0dba3b91502477154be2/src/util/system.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3ba43e420938191b8bda0dba3b91502477154be2/src/util/system.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/system.cpp?ref=3ba43e420938191b8bda0dba3b91502477154be2",
        "patch": "@@ -1130,11 +1130,22 @@ void runCommand(const std::string& strCommand)\n     if (strCommand.empty()) return;\n #ifndef WIN32\n     int nErr = ::system(strCommand.c_str());\n-#else\n-    int nErr = ::_wsystem(std::wstring_convert<std::codecvt_utf8_utf16<wchar_t>,wchar_t>().from_bytes(strCommand).c_str());\n-#endif\n     if (nErr)\n         LogPrintf(\"runCommand error: system(%s) returned %d\\n\", strCommand, nErr);\n+#else\n+    SHELLEXECUTEINFOA ShExecInfo;\n+    ShExecInfo.cbSize = sizeof(SHELLEXECUTEINFOA);\n+    ShExecInfo.fMask = 0;\n+    ShExecInfo.hwnd = NULL;\n+    ShExecInfo.lpVerb = NULL; // == action \"open\"\n+    ShExecInfo.lpFile = strCommand.c_str();\n+    ShExecInfo.lpParameters = NULL;\n+    ShExecInfo.lpDirectory = NULL;\n+    ShExecInfo.nShow = SW_HIDE;\n+    ShExecInfo.hInstApp = NULL;\n+    if (!ShellExecuteExA(&ShExecInfo))\n+        LogPrintf(\"runCommand error: ShellExecute(%s) returned %d\\n\", strCommand, GetLastError());\n+#endif\n }\n \n void RenameThread(const char* name)"
      }
    ]
  }
]