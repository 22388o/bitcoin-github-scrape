[
  {
    "sha": "c419d7a4184b4b81aaa7185b6bfb77652811b202",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjNDE5ZDdhNDE4NGI0YjgxYWFhNzE4NWI2YmZiNzc2NTI4MTFiMjAy",
    "commit": {
      "author": {
        "name": "Timothy Redaelli",
        "email": "tredaelli@redhat.com",
        "date": "2017-06-13T10:21:51Z"
      },
      "committer": {
        "name": "Timothy Redaelli",
        "email": "tredaelli@redhat.com",
        "date": "2017-06-15T14:03:05Z"
      },
      "message": "Use \"git config gpg.program\" instead of plain \"gpg\"\n\nFrom git-config manpage:\n\ngpg.program\n   Use this custom program instead of \"gpg\" found on $PATH when making or\n   verifying a PGP signature.\n\nIf the git config \"gpg.program\" option is set use it instead of plain \"git\" to\nverify commits (contrib/verify-commits/verify-commits.sh)\n\nMoreover add gpg 1.4.20 to warning message since it supports --weak-digest",
      "tree": {
        "sha": "87f55ec7771184c51669e6fe8b3b46ee9a442e18",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/87f55ec7771184c51669e6fe8b3b46ee9a442e18"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c419d7a4184b4b81aaa7185b6bfb77652811b202",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c419d7a4184b4b81aaa7185b6bfb77652811b202",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c419d7a4184b4b81aaa7185b6bfb77652811b202",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c419d7a4184b4b81aaa7185b6bfb77652811b202/comments",
    "author": {
      "login": "drizzt",
      "id": 211316,
      "node_id": "MDQ6VXNlcjIxMTMxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/211316?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/drizzt",
      "html_url": "https://github.com/drizzt",
      "followers_url": "https://api.github.com/users/drizzt/followers",
      "following_url": "https://api.github.com/users/drizzt/following{/other_user}",
      "gists_url": "https://api.github.com/users/drizzt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/drizzt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/drizzt/subscriptions",
      "organizations_url": "https://api.github.com/users/drizzt/orgs",
      "repos_url": "https://api.github.com/users/drizzt/repos",
      "events_url": "https://api.github.com/users/drizzt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/drizzt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "drizzt",
      "id": 211316,
      "node_id": "MDQ6VXNlcjIxMTMxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/211316?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/drizzt",
      "html_url": "https://github.com/drizzt",
      "followers_url": "https://api.github.com/users/drizzt/followers",
      "following_url": "https://api.github.com/users/drizzt/following{/other_user}",
      "gists_url": "https://api.github.com/users/drizzt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/drizzt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/drizzt/subscriptions",
      "organizations_url": "https://api.github.com/users/drizzt/orgs",
      "repos_url": "https://api.github.com/users/drizzt/repos",
      "events_url": "https://api.github.com/users/drizzt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/drizzt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8d9f45ea6a5e4220e44d34139438eea75a07530b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8d9f45ea6a5e4220e44d34139438eea75a07530b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8d9f45ea6a5e4220e44d34139438eea75a07530b"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 13,
      "deletions": 7
    },
    "files": [
      {
        "sha": "4d2380021e5e0e8a0ecf1a7009c5a71c47b71635",
        "filename": "contrib/verify-commits/gpg.sh",
        "status": "modified",
        "additions": 7,
        "deletions": 7,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c419d7a4184b4b81aaa7185b6bfb77652811b202/contrib/verify-commits/gpg.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c419d7a4184b4b81aaa7185b6bfb77652811b202/contrib/verify-commits/gpg.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/verify-commits/gpg.sh?ref=c419d7a4184b4b81aaa7185b6bfb77652811b202",
        "patch": "@@ -9,7 +9,7 @@ REVSIG=false\n IFS='\n '\n if [ \"$BITCOIN_VERIFY_COMMITS_ALLOW_SHA1\" = 1 ]; then\n-\tGPG_RES=\"$(echo \"$INPUT\" | gpg --trust-model always \"$@\" 2>/dev/null)\"\n+\tGPG_RES=\"$(echo \"$INPUT\" | \"$GPG\" --trust-model always \"$@\" 2>/dev/null)\"\n else\n \t# Note how we've disabled SHA1 with the --weak-digest option, disabling\n \t# signatures - including selfsigs - that use SHA1. While you might think that\n@@ -20,19 +20,19 @@ else\n \t# they've created a collision for. Not the most likely attack, but preventing\n \t# it is pretty easy so we do so as a \"belt-and-suspenders\" measure.\n \tGPG_RES=\"\"\n-\tfor LINE in \"$(gpg --version)\"; do\n+\tfor LINE in \"$(\"$GPG\" --version)\"; do\n \t\tcase \"$LINE\" in\n \t\t\t\"gpg (GnuPG) 1.4.1\"*|\"gpg (GnuPG) 2.0.\"*)\n-\t\t\t\techo \"Please upgrade to at least gpg 2.1.10 to check for weak signatures\" > /dev/stderr\n-\t\t\t\tGPG_RES=\"$(echo \"$INPUT\" | gpg --trust-model always \"$@\" 2>/dev/null)\"\n+\t\t\t\techo \"Please upgrade to at least gpg 1.4.20 or 2.1.10 to check for weak signatures\" > /dev/stderr\n+\t\t\t\tGPG_RES=\"$(echo \"$INPUT\" | \"$GPG\" --trust-model always \"$@\" 2>/dev/null)\"\n \t\t\t\t;;\n \t\t\t# We assume if you're running 2.1+, you're probably running 2.1.10+\n \t\t\t# gpg will fail otherwise\n \t\t\t# We assume if you're running 1.X, it is either 1.4.1X or 1.4.20+\n \t\t\t# gpg will fail otherwise\n \t\tesac\n \tdone\n-\t[ \"$GPG_RES\" = \"\" ] && GPG_RES=\"$(echo \"$INPUT\" | gpg --trust-model always --weak-digest sha1 \"$@\" 2>/dev/null)\"\n+\t[ \"$GPG_RES\" = \"\" ] && GPG_RES=\"$(echo \"$INPUT\" | \"$GPG\" --trust-model always --weak-digest sha1 \"$@\" 2>/dev/null)\"\n fi\n for LINE in $(echo \"$GPG_RES\"); do\n \tcase \"$LINE\" in\n@@ -52,8 +52,8 @@ if ! $VALID; then\n \texit 1\n fi\n if $VALID && $REVSIG; then\n-\techo \"$INPUT\" | gpg --trust-model always \"$@\" 2>/dev/null | grep \"\\[GNUPG:\\] \\(NEWSIG\\|SIG_ID\\|VALIDSIG\\)\"\n+\techo \"$INPUT\" | \"$GPG\" --trust-model always \"$@\" 2>/dev/null | grep \"\\[GNUPG:\\] \\(NEWSIG\\|SIG_ID\\|VALIDSIG\\)\"\n \techo \"$GOODREVSIG\"\n else\n-\techo \"$INPUT\" | gpg --trust-model always \"$@\" 2>/dev/null\n+\techo \"$INPUT\" | \"$GPG\" --trust-model always \"$@\" 2>/dev/null\n fi"
      },
      {
        "sha": "86451ff74d6e5cebaa95d592a91728a895304385",
        "filename": "contrib/verify-commits/verify-commits.sh",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c419d7a4184b4b81aaa7185b6bfb77652811b202/contrib/verify-commits/verify-commits.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c419d7a4184b4b81aaa7185b6bfb77652811b202/contrib/verify-commits/verify-commits.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/verify-commits/verify-commits.sh?ref=c419d7a4184b4b81aaa7185b6bfb77652811b202",
        "patch": "@@ -17,6 +17,12 @@ HAVE_FAILED=false\n HAVE_GNU_SHA512=1\n [ ! -x \"$(which sha512sum)\" ] && HAVE_GNU_SHA512=0\n \n+GPG=$(git config gpg.program)\n+if [ x\"$GPG\" = \"x\" ]; then\n+\tGPG=gpg\n+fi\n+export GPG\n+\n if [ x\"$1\" = \"x\" ]; then\n \tCURRENT_COMMIT=\"HEAD\"\n else"
      }
    ]
  }
]