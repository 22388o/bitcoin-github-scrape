DrahtBot,2020-03-27 06:40:23,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19374 (refactor: Drop g_orphan_list global by hebasto)\n* #19364 (net processing: Move orphan reprocessing to a global by",https://github.com/bitcoin/bitcoin/pull/18446#issuecomment-604840685,604840685,
ajtowns,2020-03-30 12:53:19,"I think this isn't testing:\n\n * whether the node switches from sending TX invs to WTX invs when the wtxidrelay message is sent\n * whether we get a wtxidrelay message when we give a 70016 version, but not when we give a lower version\n * in either case, when we announce a TX inv, do we get a TX getdata back, and likewise for WTX?\n * when a tx is sent (not an INV but the actual tx) if it's ",https://github.com/bitcoin/bitcoin/pull/18446#issuecomment-605980792,605980792,
fjahr,2020-04-01 01:00:46,"@ajtowns Thank you, that is very helpful. My intuition was that many of these cases would be tested indirectly by upgrading the test framework but of course, explicit tests are always better and, as I have realized now, I also had not implemented it correctly. Your tests mainly did not pass because I had not implemented feature negotiation correctly. This is done now and I preserved your commit mo",https://github.com/bitcoin/bitcoin/pull/18446#issuecomment-606965841,606965841,
fjahr,2020-04-20 17:03:06,"Thanks @ajtowns ! I pulled in latest changes in #18044 and your suggestions. Then squashed and edited commit messages for easier reviewing. Also left your suggested change `ignore non-wtxidrelay compliant invs` in for now, pending discussion in #18044 .",https://github.com/bitcoin/bitcoin/pull/18446#issuecomment-616686217,616686217,
fjahr,2020-04-21 16:27:32,"Pushed an update that should make all functional tests use wtxid relay by default (Github doesn't seem to be working properly at the moment, here is the commit: https://github.com/fjahr/bitcoin/commit/becdb68ab37fdcbc1dcf743b19ea8629f52677bb)",https://github.com/bitcoin/bitcoin/pull/18446#issuecomment-617268280,617268280,
sdaftuar,2020-06-22 16:54:04,FYI -- I tried to cherry-pick the test commits here onto the latest version of #18044 but the p2p_segwit.py test is failing for me.,https://github.com/bitcoin/bitcoin/pull/18446#issuecomment-647644725,647644725,
fjahr,2020-06-26 21:00:09,"> FYI -- I tried to cherry-pick the test commits here onto the latest version of #18044 but the p2p_segwit.py test is failing for me.\n\n@sdaftuar Thanks for the heads-up! I rebased with the latest state of #18044 and made several fixes plus squashed to three commits now.",https://github.com/bitcoin/bitcoin/pull/18446#issuecomment-650398713,650398713,
fjahr,2020-06-28 11:19:56,These commits were pulled into #18044 so it can be closed.,https://github.com/bitcoin/bitcoin/pull/18446#issuecomment-650736779,650736779,
sipa,2020-03-27 03:29:50,Comment is outdated now.,https://github.com/bitcoin/bitcoin/pull/18446#discussion_r399015871,399015871,test/functional/test_framework/messages.py
fjahr,2020-04-01 01:02:26,fixed,https://github.com/bitcoin/bitcoin/pull/18446#discussion_r401299366,401299366,test/functional/test_framework/messages.py
ajtowns,2020-04-02 13:19:58,"Perhaps `if self.wtxidrelay: ... ; super().on_version(self, message)` ?",https://github.com/bitcoin/bitcoin/pull/18446#discussion_r402306029,402306029,test/functional/p2p_segwit.py
fjahr,2020-04-20 16:51:55,done,https://github.com/bitcoin/bitcoin/pull/18446#discussion_r411535077,411535077,test/functional/p2p_segwit.py
