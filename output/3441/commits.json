[
  {
    "sha": "df2b175fe3819f47563ed47b4965326fa5217805",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkZjJiMTc1ZmUzODE5ZjQ3NTYzZWQ0N2I0OTY1MzI2ZmE1MjE3ODA1",
    "commit": {
      "author": {
        "name": "Chris Cowan",
        "email": "agentme49@gmail.com",
        "date": "2013-12-18T14:13:18Z"
      },
      "committer": {
        "name": "Chris Cowan",
        "email": "agentme49@gmail.com",
        "date": "2013-12-18T15:47:54Z"
      },
      "message": "Add dumppubkey RPC command.",
      "tree": {
        "sha": "d9fc420678ff1bce7f13c21d71d5d646b7466196",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d9fc420678ff1bce7f13c21d71d5d646b7466196"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/df2b175fe3819f47563ed47b4965326fa5217805",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/df2b175fe3819f47563ed47b4965326fa5217805",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/df2b175fe3819f47563ed47b4965326fa5217805",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/df2b175fe3819f47563ed47b4965326fa5217805/comments",
    "author": {
      "login": "Macil",
      "id": 577345,
      "node_id": "MDQ6VXNlcjU3NzM0NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/577345?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Macil",
      "html_url": "https://github.com/Macil",
      "followers_url": "https://api.github.com/users/Macil/followers",
      "following_url": "https://api.github.com/users/Macil/following{/other_user}",
      "gists_url": "https://api.github.com/users/Macil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Macil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Macil/subscriptions",
      "organizations_url": "https://api.github.com/users/Macil/orgs",
      "repos_url": "https://api.github.com/users/Macil/repos",
      "events_url": "https://api.github.com/users/Macil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Macil/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Macil",
      "id": 577345,
      "node_id": "MDQ6VXNlcjU3NzM0NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/577345?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Macil",
      "html_url": "https://github.com/Macil",
      "followers_url": "https://api.github.com/users/Macil/followers",
      "following_url": "https://api.github.com/users/Macil/following{/other_user}",
      "gists_url": "https://api.github.com/users/Macil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Macil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Macil/subscriptions",
      "organizations_url": "https://api.github.com/users/Macil/orgs",
      "repos_url": "https://api.github.com/users/Macil/repos",
      "events_url": "https://api.github.com/users/Macil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Macil/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "636a42bd0e208d1d49dab6a95e23863736823883",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/636a42bd0e208d1d49dab6a95e23863736823883",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/636a42bd0e208d1d49dab6a95e23863736823883"
      }
    ],
    "stats": {
      "total": 30,
      "additions": 30,
      "deletions": 0
    },
    "files": [
      {
        "sha": "721efce6ed8b8fc9fc47e1b95d2d14826fc8cba8",
        "filename": "src/rpcdump.cpp",
        "status": "modified",
        "additions": 28,
        "deletions": 0,
        "changes": 28,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/df2b175fe3819f47563ed47b4965326fa5217805/src/rpcdump.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/df2b175fe3819f47563ed47b4965326fa5217805/src/rpcdump.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcdump.cpp?ref=df2b175fe3819f47563ed47b4965326fa5217805",
        "patch": "@@ -248,6 +248,34 @@ Value dumpprivkey(const Array& params, bool fHelp)\n     return CBitcoinSecret(vchSecret).ToString();\n }\n \n+Value dumppubkey(const Array& params, bool fHelp)\n+{\n+    if (fHelp || params.size() != 1)\n+        throw runtime_error(\n+            \"dumppubkey \\\"bitcoinaddress\\\"\\n\"\n+            \"\\nReveals the public key corresponding to 'bitcoinaddress'.\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"bitcoinaddress\\\"   (string, required) The bitcoin address for the public key\\n\"\n+            \"\\nResult:\\n\"\n+            \"\\\"key\\\"                (string) The public key\\n\"\n+            \"\\nExamples:\\n\"\n+            + HelpExampleCli(\"dumppubkey\", \"\\\"myaddress\\\"\")\n+            + HelpExampleRpc(\"dumppubkey\", \"\\\"myaddress\\\"\")\n+        );\n+\n+    string strAddress = params[0].get_str();\n+    CBitcoinAddress address;\n+    if (!address.SetString(strAddress))\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid Bitcoin address\");\n+    CKeyID keyID;\n+    if (!address.GetKeyID(keyID))\n+        throw JSONRPCError(RPC_TYPE_ERROR, \"Address does not refer to a key\");\n+    CPubKey vchPubKey;\n+    if (!pwalletMain->GetPubKey(keyID, vchPubKey))\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Public key for address \" + strAddress + \" is not known\");\n+    return HexStr(vchPubKey);\n+}\n+\n \n Value dumpwallet(const Array& params, bool fHelp)\n {"
      },
      {
        "sha": "01fa0a2d26d9a50d22a9732d08b9d81ff5dc09d5",
        "filename": "src/rpcserver.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/df2b175fe3819f47563ed47b4965326fa5217805/src/rpcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/df2b175fe3819f47563ed47b4965326fa5217805/src/rpcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcserver.cpp?ref=df2b175fe3819f47563ed47b4965326fa5217805",
        "patch": "@@ -287,6 +287,7 @@ static const CRPCCommand vRPCCommands[] =\n     { \"verifymessage\",          &verifymessage,          false,     false,      false },\n     { \"listaccounts\",           &listaccounts,           false,     false,      true },\n     { \"listsinceblock\",         &listsinceblock,         false,     false,      true },\n+    { \"dumppubkey\",             &dumppubkey,             true,      false,      true },\n     { \"dumpprivkey\",            &dumpprivkey,            true,      false,      true },\n     { \"dumpwallet\",             &dumpwallet,             true,      false,      true },\n     { \"importprivkey\",          &importprivkey,          false,     false,      true },"
      },
      {
        "sha": "12b3d5fbc3ec004ae26d61047fc3443f596a944d",
        "filename": "src/rpcserver.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/df2b175fe3819f47563ed47b4965326fa5217805/src/rpcserver.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/df2b175fe3819f47563ed47b4965326fa5217805/src/rpcserver.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcserver.h?ref=df2b175fe3819f47563ed47b4965326fa5217805",
        "patch": "@@ -109,6 +109,7 @@ extern json_spirit::Value addnode(const json_spirit::Array& params, bool fHelp);\n extern json_spirit::Value getaddednodeinfo(const json_spirit::Array& params, bool fHelp);\n extern json_spirit::Value getnettotals(const json_spirit::Array& params, bool fHelp);\n \n+extern json_spirit::Value dumppubkey(const json_spirit::Array& params, bool fHelp); // in rpcdump.cpp\n extern json_spirit::Value dumpprivkey(const json_spirit::Array& params, bool fHelp); // in rpcdump.cpp\n extern json_spirit::Value importprivkey(const json_spirit::Array& params, bool fHelp);\n extern json_spirit::Value dumpwallet(const json_spirit::Array& params, bool fHelp);"
      }
    ]
  }
]