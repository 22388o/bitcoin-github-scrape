sipa,2015-11-12T13:38:46Z,This was suggested in #6995.\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-156104961,156104961,
kanoi,2015-11-12T15:32:51Z,Awesome name :)\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-156139448,156139448,
gmaxwell,2015-11-12T19:09:54Z,Concept ACK. \n\nThis needs to document that overriding the first seen block behavior in slows network convergence and can increase the rate of long reorganizations.\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-156204503,156204503,
TheBlueMatt,2015-11-12T20:28:21Z,"I would prefer if it would only prefer the given block over other blocks that arrived within, eg, 10 seconds of the other block in question.\n\nOn November 12, 2015 3:59:35 AM PST, Pieter Wuille notifications@github.com wrote:\n\n> This adds a new PRC 'preciousblock' to mark a block as precious. A\n> precious block will be treated as if it was received earlier than any\n> other competing block.\n>",https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-156224819,156224819,
sipa,2015-11-12T20:32:59Z,"@TheBlueMatt That would be a much larger change, as we don't track receive time.\n",https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-156225786,156225786,
TheBlueMatt,2015-11-12T20:34:17Z,"Indeed, not sure it's worth it, but would prefer if we could :).\n\nOn November 12, 2015 12:33:08 PM PST, Pieter Wuille notifications@github.com wrote:\n\n> @TheBlueMatt That would be a much larger change, as we don't track\n> receive time.\n> \n> ---\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-156225786\n",https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-156226096,156226096,
MarcoFalke,2015-11-12T20:43:52Z,utACK\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-156228313,156228313,
gmaxwell,2015-11-13T20:06:48Z,"I'm sympathetic with matt's ask; but I don't think it's worth it-- it'll get bypassed (which then puts parties back into a mode of modifying the consensus code), and it would imply that 10 seconds was ""safe""-- I have no idea if it is... the inherent preference for your own blocks by virtue of hearing the first already hurts convergence; so I think it would be fair to say that no amount additional ",https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-156543555,156543555,
kanoi,2015-11-13T22:21:48Z,Well any numerical limitation would of course only require a few bytes of code change to circumvent so would seem to be somewhat a waste of time considering the extra work involved: as @sipa suggests\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-156575265,156575265,
sipa,2015-11-28T00:58:26Z,@gmaxwell What do you mean by 'saturate' ?\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-160232350,160232350,
sipa,2015-11-28T01:37:05Z,"Ok, changed the approach a bit. It now only keeps a counter per tip, and resets it when more work was added.\n",https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-160236235,160236235,
gmaxwell,2015-11-28T13:05:01Z,"By saturate I mean what you did,  sat_add(int_min, -1) = int_min\n",https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-160294269,160294269,
sipa,2015-11-30T12:41:53Z,Rebased.\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-160618453,160618453,
jgarzik,2015-11-30T17:00:04Z,ut ACK\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-160689803,160689803,
sipa,2015-11-30T17:05:39Z,There is a bug in the unit tests that can lead to a race condition.\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-160691187,160691187,
sipa,2015-12-01T16:34:36Z,Fixed.\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-161023871,161023871,
sipa,2015-12-11T20:32:06Z,Rebased.\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-164040959,164040959,
laanwj,2016-02-01T13:48:59Z,Needs rebase\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-177978557,177978557,
luke-jr,2016-02-26T15:00:28Z,This can break CheckBlockIndex:\n\n``` C++\nif (pindex->nChainTx == 0) assert(pindex->nSequenceId == 0);  // nSequenceId can't be set for blocks that aren't linked\n```\n\nThis assumption is no longer true if we use preciousblock on a not-yet-downloaded block (and this can occur in the RPC test).\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-189314423,189314423,
gmaxwell,2016-04-19T07:06:47Z,Needs rebase.\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-211763500,211763500,
btcdrak,2016-06-14T10:37:58Z,needs rebase\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-225843817,225843817,
luke-jr,2016-08-09T21:28:39Z,Pushed a rebase to my repo\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-238697584,238697584,
laanwj,2016-08-19T10:09:13Z,Are you still planning to do this?\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-240980530,240980530,
sipa,2016-08-26T12:10:55Z,@luke-jr Your rebase does not fix the comment you made here: https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-189314423 ?\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-242718720,242718720,
sipa,2016-08-26T14:09:19Z,"@luke-jr Switched to your commit e7a3457, and changed the test to python3 and updated the assert. The tests don't run, though. I'll inventigate later.\n",https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-242745657,242745657,
luke-jr,2016-08-26T20:36:40Z,"@sipa It is fixed in eafeb97f971e452720aeb645175384f660393660, and the tests updated in 5e6af8248f3980234e4aeb15f77ca61ed4124ef1 (both of which are part of my ""preciousblock"" branch)\n",https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-242844909,242844909,
sipa,2016-08-26T21:07:42Z,"@luke-jr Ah, a link to that would have been useful :)\n\nI've squashed the fixes and split into 2 commits.\n",https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-242851900,242851900,
laanwj,2016-10-18T19:36:13Z,utACK 5805ac8\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-254615425,254615425,
btcdrak,2016-10-19T00:12:52Z,utACK 5805ac836c5847bc54cbef3e71154d022ca18eda\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-254675259,254675259,
rebroad,2016-10-19T03:55:22Z,that was a surprise merge! Are there any plans that anyone knows of to use this? I would love to see some use-cases for documentation purposes.\n,https://github.com/bitcoin/bitcoin/pull/6996#issuecomment-254704122,254704122,
MarcoFalke,2015-11-12T20:26:42Z,"Nit: What about being more verbose and return true? Considering the UX part of that, some users may interpret an empty line as ""failed"".\n\n<sub>Further reading: http://ux.stackexchange.com/a/12819</sub>\n",https://github.com/bitcoin/bitcoin/pull/6996#discussion_r44709805,44709805,src/rpcblockchain.cpp
sipa,2015-11-12T20:35:58Z,It's very common to return Null in case there is no real result in our API.\n,https://github.com/bitcoin/bitcoin/pull/6996#discussion_r44710777,44710777,src/rpcblockchain.cpp
MarcoFalke,2015-11-12T20:43:03Z,"Some places also use `return true`. But yes, null is more common. \n",https://github.com/bitcoin/bitcoin/pull/6996#discussion_r44711643,44711643,src/rpcblockchain.cpp
MarcoFalke,2015-11-17T17:51:17Z,new issue: #7043\n,https://github.com/bitcoin/bitcoin/pull/6996#discussion_r45093377,45093377,src/rpcblockchain.cpp
sdaftuar,2015-12-14T18:24:20Z,"FYI, i don't think this call to `sync_blocks` is doing anything helpful -- it is just checking that `getblockcount` is the same between the two nodes, which it will be immediately, even before any headers or blocks are sent between the two nodes.\n\nPerhaps this should sync on `getchaintips()` returning the expected output?\n",https://github.com/bitcoin/bitcoin/pull/6996#discussion_r47535547,47535547,qa/rpc-tests/preciousblock.py
sdaftuar,2015-12-14T18:24:47Z,"There's a race condition here; it's possible for nodes[1] to have not yet received hashC at the time this preciousblock call happens, which will cause the sync_chain in the next line to hang indefinitely.\n\n(I had this happen to me on one of my runs of this test.)\n",https://github.com/bitcoin/bitcoin/pull/6996#discussion_r47535600,47535600,qa/rpc-tests/preciousblock.py
luke-jr,2016-02-12T18:15:47Z,Extra space at the end of the line.\n,https://github.com/bitcoin/bitcoin/pull/6996#discussion_r52776964,52776964,qa/rpc-tests/preciousblock.py
MarcoFalke,2016-06-03T19:24:52Z,Needs to be changed to python3 after rebase.\n\nAlso some other adjustments are needed in this file. (I am happy to do those)\n,https://github.com/bitcoin/bitcoin/pull/6996#discussion_r65762458,65762458,qa/rpc-tests/preciousblock.py
MarcoFalke,2016-08-26T17:25:32Z,"I think you need to use `__init__()` here, instead.\n",https://github.com/bitcoin/bitcoin/pull/6996#discussion_r76455570,76455570,qa/rpc-tests/preciousblock.py
