[
  {
    "sha": "03418b097f6050dc207ef40b0f3ee93149cc2d15",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMzQxOGIwOTdmNjA1MGRjMjA3ZWY0MGIwZjNlZTkzMTQ5Y2MyZDE1",
    "commit": {
      "author": {
        "name": "Carlo Alberto Ferraris",
        "email": "github@cafxx.strayorange.com",
        "date": "2011-04-15T06:03:37Z"
      },
      "committer": {
        "name": "Carlo Alberto Ferraris",
        "email": "github@cafxx.strayorange.com",
        "date": "2011-04-15T07:06:18Z"
      },
      "message": "Add -nicestart option to run initialization at lower priority (Windows-only for now)",
      "tree": {
        "sha": "a45ceffc839a30d49cd19a3cae6b94f928087d10",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a45ceffc839a30d49cd19a3cae6b94f928087d10"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/03418b097f6050dc207ef40b0f3ee93149cc2d15",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/03418b097f6050dc207ef40b0f3ee93149cc2d15",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/03418b097f6050dc207ef40b0f3ee93149cc2d15",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/03418b097f6050dc207ef40b0f3ee93149cc2d15/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "b37f09aa2e80b17028ad7fe1e87362c0f07c7406",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b37f09aa2e80b17028ad7fe1e87362c0f07c7406",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b37f09aa2e80b17028ad7fe1e87362c0f07c7406"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 16,
      "deletions": 1
    },
    "files": [
      {
        "sha": "c6be85a0c2d46bd3fc6a23fe0c525bdf607bd28b",
        "filename": "init.cpp",
        "status": "modified",
        "additions": 16,
        "deletions": 1,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/03418b097f6050dc207ef40b0f3ee93149cc2d15/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/03418b097f6050dc207ef40b0f3ee93149cc2d15/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/init.cpp?ref=03418b097f6050dc207ef40b0f3ee93149cc2d15",
        "patch": "@@ -180,7 +180,8 @@ bool AppInit2(int argc, char* argv[])\n             \"  -rpcallowip=<ip> \\t\\t  \" + _(\"Allow JSON-RPC connections from specified IP address\\n\") +\n             \"  -rpcconnect=<ip> \\t  \"   + _(\"Send commands to node running on <ip> (default: 127.0.0.1)\\n\") +\n             \"  -keypool=<n>     \\t  \"   + _(\"Set key pool size to <n> (default: 100)\\n\") +\n-            \"  -rescan          \\t  \"   + _(\"Rescan the block chain for missing wallet transactions\\n\");\n+            \"  -rescan          \\t  \"   + _(\"Rescan the block chain for missing wallet transactions\\n\") +\n+            \"  -nicestart       \\t  \"   + _(\"Run initialization in background\\n\");\n \n #ifdef USE_SSL\n         strUsage += string() +\n@@ -347,6 +348,15 @@ bool AppInit2(int argc, char* argv[])\n         fprintf(stdout, \"bitcoin server starting\\n\");\n     strErrors = \"\";\n     int64 nStart;\n+    \n+    if (GetBoolArg(\"-nicestart\"))\n+    {\n+        // lower the process priority while loading all files so that we don't slow down people that launch bitcoin at startup\n+        // TODO: can we do the same on Unix systems without being run as superuser?\n+        #ifdef __WXMSW__\n+            SetPriorityClass(GetCurrentProcess(), PROCESS_MODE_BACKGROUND_BEGIN);\n+        #endif\n+    }\n \n     printf(\"Loading addresses...\\n\");\n     nStart = GetTimeMillis();\n@@ -373,6 +383,11 @@ bool AppInit2(int argc, char* argv[])\n         ScanForWalletTransactions(pindexGenesisBlock);\n         printf(\" rescan      %15\"PRI64d\"ms\\n\", GetTimeMillis() - nStart);\n     }\n+    \n+    #ifdef __WXMSW__\n+        // return to normal priority\n+        SetPriorityClass(GetCurrentProcess(), PROCESS_MODE_BACKGROUND_END);\n+    #endif\n \n     printf(\"Done loading\\n\");\n "
      }
    ]
  },
  {
    "sha": "ab4ee60a415078b134671e21e54d63526902237e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphYjRlZTYwYTQxNTA3OGIxMzQ2NzFlMjFlNTRkNjM1MjY5MDIyMzdl",
    "commit": {
      "author": {
        "name": "Carlo Alberto Ferraris",
        "email": "github@cafxx.strayorange.com",
        "date": "2011-04-15T06:53:24Z"
      },
      "committer": {
        "name": "Carlo Alberto Ferraris",
        "email": "github@cafxx.strayorange.com",
        "date": "2011-04-15T07:06:20Z"
      },
      "message": "Make -nicestart the default if starting in GUI mode (i.e. not in daemon mode).",
      "tree": {
        "sha": "af6368919c297721489acc1c570a158daafab853",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/af6368919c297721489acc1c570a158daafab853"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ab4ee60a415078b134671e21e54d63526902237e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ab4ee60a415078b134671e21e54d63526902237e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ab4ee60a415078b134671e21e54d63526902237e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ab4ee60a415078b134671e21e54d63526902237e/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "03418b097f6050dc207ef40b0f3ee93149cc2d15",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/03418b097f6050dc207ef40b0f3ee93149cc2d15",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/03418b097f6050dc207ef40b0f3ee93149cc2d15"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "817210d7daf876ce98d9cbe77d21cae041e30d8b",
        "filename": "init.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ab4ee60a415078b134671e21e54d63526902237e/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ab4ee60a415078b134671e21e54d63526902237e/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/init.cpp?ref=ab4ee60a415078b134671e21e54d63526902237e",
        "patch": "@@ -349,7 +349,7 @@ bool AppInit2(int argc, char* argv[])\n     strErrors = \"\";\n     int64 nStart;\n     \n-    if (GetBoolArg(\"-nicestart\"))\n+    if (!fDaemon | GetBoolArg(\"-nicestart\"))\n     {\n         // lower the process priority while loading all files so that we don't slow down people that launch bitcoin at startup\n         // TODO: can we do the same on Unix systems without being run as superuser?\n@@ -385,7 +385,7 @@ bool AppInit2(int argc, char* argv[])\n     }\n     \n     #ifdef __WXMSW__\n-        // return to normal priority\n+        // return to normal priority (if we're not in background mode then it's a no-op)\n         SetPriorityClass(GetCurrentProcess(), PROCESS_MODE_BACKGROUND_END);\n     #endif\n "
      }
    ]
  },
  {
    "sha": "3aafcf4c4c3ff084d3a22ea12840bf832e67ac75",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozYWFmY2Y0YzRjM2ZmMDg0ZDNhMjJlYTEyODQwYmY4MzJlNjdhYzc1",
    "commit": {
      "author": {
        "name": "Carlo Alberto Ferraris",
        "email": "github@cafxx.strayorange.com",
        "date": "2011-04-15T07:11:14Z"
      },
      "committer": {
        "name": "Carlo Alberto Ferraris",
        "email": "github@cafxx.strayorange.com",
        "date": "2011-04-15T07:11:14Z"
      },
      "message": "Fix a typo in a condition\nSorry about that...",
      "tree": {
        "sha": "cdee069096ab24e36ad93eba654c36e5db9a143f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cdee069096ab24e36ad93eba654c36e5db9a143f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3aafcf4c4c3ff084d3a22ea12840bf832e67ac75",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3aafcf4c4c3ff084d3a22ea12840bf832e67ac75",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3aafcf4c4c3ff084d3a22ea12840bf832e67ac75",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3aafcf4c4c3ff084d3a22ea12840bf832e67ac75/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "ab4ee60a415078b134671e21e54d63526902237e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ab4ee60a415078b134671e21e54d63526902237e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ab4ee60a415078b134671e21e54d63526902237e"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "056b485a791782e72c87b8d5f0637beb280fdb68",
        "filename": "init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3aafcf4c4c3ff084d3a22ea12840bf832e67ac75/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3aafcf4c4c3ff084d3a22ea12840bf832e67ac75/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/init.cpp?ref=3aafcf4c4c3ff084d3a22ea12840bf832e67ac75",
        "patch": "@@ -349,7 +349,7 @@ bool AppInit2(int argc, char* argv[])\n     strErrors = \"\";\n     int64 nStart;\n     \n-    if (!fDaemon | GetBoolArg(\"-nicestart\"))\n+    if (!fDaemon || GetBoolArg(\"-nicestart\"))\n     {\n         // lower the process priority while loading all files so that we don't slow down people that launch bitcoin at startup\n         // TODO: can we do the same on Unix systems without being run as superuser?"
      }
    ]
  }
]