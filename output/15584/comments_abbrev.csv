jonasschnelli,2019-03-15T06:19:38Z,"Concept ACK\n- IMO travis (not all jobs though) should build with BIP70 as long as the feature is available.\n- Could we remove protobuf from the depends-build in the same pull?",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-473172227,473172227,
Sjors,2019-03-15T08:27:41Z,"So is this removing BIP70 from the release as well? I'm reluctant to turn it off for developers by default while still shipping it. At minimum Travis should continue to check it in that case. But even then, GUI test coverage is too low to rely on that.",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-473199570,473199570,
jonasschnelli,2019-03-15T09:24:45Z,"> So is this removing BIP70 from the release as well? \n\nNot for the release but for the gitian built binaries. We could re-add the BIP70 support to the gitian build. But as this is, it will disable BIP70 in gitian.",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-473215382,473215382,
jameshilliard,2019-03-23T16:30:15Z,"I would recommend holding off on disabling support for BIP70 for release binaries until all major merchant processors have stopped requiring it. Dropping BIP70 support before the merchant payment processors stop requiring it would incentivize users to switch to less secure wallets that have BIP70 implementations with known unpatched vulnerabilities.\n\nI would instead recommend making the deprec",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-475883839,475883839,
luke-jr,2019-03-24T02:10:35Z,"@jameshilliard Do any merchants require BIP70 at this point? (A particular payment processor claims it does, but AFAIK their implementation is broken and already doesn't work with Core.)",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-475921498,475921498,
jameshilliard,2019-03-24T02:33:16Z,"> Do any merchants require BIP70 at this point? (A particular payment processor claims it does, but AFAIK their implementation is broken and already doesn't work with Core.)\n\nWell Core can make payments to that particular processor, the incompatible/non-standard part of their implementation introduces an unfixed security vulnerability but it doesn't seem to affect the ability to send payments(",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-475922536,475922536,
luke-jr,2019-04-17T20:28:32Z,"Hate to say it, but we should probably do a release with something like #15064 before disabling BIP70 by default... :/",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-484248649,484248649,
DrahtBot,2019-06-18T19:39:55Z,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-503281734,503281734,
laanwj,2019-08-12T14:29:24Z,ACK for 0.19.0,https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-520448708,520448708,
TheBlueMatt,2019-08-12T14:39:53Z,Concept ACK,https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-520453082,520453082,
achow101,2019-08-12T16:09:05Z,"ACK c53da7c5f166a95f3ae37f817f8cd7b94812077a\n\nTested that a build with the default configure does not download BIP 70 requests.",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-520490059,520490059,
DrahtBot,2019-08-13T10:29:13Z,<!--a722867cd34abeea1fadc8d60700f111-->\nGitian builds for commit 00dad5e0e1ddd6047bd4ff0a3032aa8950817b5f (master):\n * `b149f5b01c0d113f85c2ee650c314006...` [bitcoin-0.18.99-aarch64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/00dad5e0e1ddd6047bd4ff0a3032aa8950817b5f/bitcoin-0.18.99-aarch64-linux-gnu-debug.tar.gz)\n * `a0bacbc9934a0c10a1cb359cfa8fddaa...` [bitcoin-0.18.9,https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-520780601,520780601,
dongcarl,2019-08-15T20:14:16Z,"We probably should also remove `native_protobuf` and `protobuf` as default depends packages, with a flag to enable them explicitly.",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-521780972,521780972,
fanquake,2019-08-16T08:04:14Z,@dongcarl sure. I can also add/update documentation about Protobuf being optional.,https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-521924582,521924582,
DrahtBot,2019-08-19T13:56:46Z,<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase,https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-522587059,522587059,
luke-jr,2019-09-10T20:39:53Z,"@achow101 Since you have the sole ack here: did you consider the effect of essentially losing wallet metadata?\n\nMaybe BIP70 support should be split between network/new transactions, and parsing/old transactions, and the latter retained in some form longer until we can migrate the metadata...",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-530109980,530109980,
achow101,2019-09-10T21:20:36Z,"> did you consider the effect of essentially losing wallet metadata?\n\nWhat metadata? AFAIK no BIP70 specific things are written to wallet files.",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-530125229,530125229,
luke-jr,2019-09-11T01:32:34Z,That's incorrect. There is BIP70-specific protobuf-encoded metadata written to wallets for each BIP70 transaction made.,https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-530181930,530181930,
laanwj,2019-09-12T10:09:40Z,"~~ACK a3fb4565348f14f19749aba9b74f4e5918aae4c3 (agree on ryanofsky's comment though)~~\nI would really like to merge this for 0.19, with or without #16852.\n\nACK e09913f1c47e693b0c6fafef55b9ca78e5f3abc0\n",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-530759046,530759046,
fanquake,2019-09-12T10:31:54Z,"> Should probably change the help string to --enable-bip70 so it is more comprehensible.\n\nDone & rebased. Also added a commit to specify Protobuf as optional in the build docs.",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-530766196,530766196,
jameshilliard,2019-09-12T11:13:47Z,I think we need something like #16858 before merging this so that users don't switch to BIP70 compatible wallets with insecure BIP70 implementations.,https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-530778758,530778758,
laanwj,2019-09-12T11:16:22Z,"@jameshilliard I agree that would be nice to have, but I don't personally think that's enough reason to make this miss the 0.19 deadline.",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-530779490,530779490,
jameshilliard,2019-09-12T11:19:04Z,@laanwj Should we be able to get something like #16858 in by the deadline as well since it should be a trivial change?,https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-530780242,530780242,
elichai,2019-09-12T20:13:02Z,"ACK e09913f1c47e693b0c6fafef55b9ca78e5f3abc0 Read the autotools changes. awesome that this removes the protobuf requirement.\n\nOne thing i'm not sure I get is the change to the `00_setup_env_i686.sh` test, from not using bip70 to using it.",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-530986998,530986998,
MarcoFalke,2019-09-13T02:55:29Z,"> awesome that this removes the protobuf requirement.\n\nprotobuf is still required when BIP70 is compiled and was never required when BIP70 is not compiled.\n\n> One thing i'm not sure I get is the change to the 00_setup_env_i686.sh test, from not using bip70 to using it.\n\nWhile we disable it by default, the option still exists and at least one ci config should build it",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-531079808,531079808,
practicalswift,2019-09-13T12:07:32Z,"ACK e09913f1c47e693b0c6fafef55b9ca78e5f3abc0 -- diff looks correct\n\nSmaller attack surface is better!",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-531211468,531211468,
shesek,2019-09-24T22:06:57Z,"@gmaxwell wrote a [thoughtful comment](https://www.reddit.com/r/Bitcoin/comments/d87h71/why_dont_i_get_to_choose_bip_70_removed_by_default/f1cedy9/) on reddit explaining some of the motives behind this decision and the issues surrounding BIP 70. I thought it would be useful to copy this here for future reference:\n\n> BIP70 has resulted in remotely exploitable vulnerabilities that would allow an",https://github.com/bitcoin/bitcoin/pull/15584#issuecomment-534767981,534767981,
ryanofsky,2019-09-11T20:04:46Z,Should probably change the help string to --enable-bip70 so it is more comprehensible.,https://github.com/bitcoin/bitcoin/pull/15584#discussion_r323433824,323433824,configure.ac
