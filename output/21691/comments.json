[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820271112",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#issuecomment-820271112",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21691",
    "id": 820271112,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMDI3MTExMg==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-15T09:18:55Z",
    "updated_at": "2021-04-15T09:18:55Z",
    "author_association": "MEMBER",
    "body": "Concept ACK. I agree that https://github.com/bitcoin/bitcoin/pull/21691#discussion_r613882514 is a better way of adding this test.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820271112/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/821039709",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#issuecomment-821039709",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21691",
    "id": 821039709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMTAzOTcwOQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-16T09:14:28Z",
    "updated_at": "2021-04-16T09:14:28Z",
    "author_association": "MEMBER",
    "body": "(not for backport, obviously)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/821039709/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/821229639",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#issuecomment-821229639",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21691",
    "id": 821229639,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMTIyOTYzOQ==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-16T14:47:11Z",
    "updated_at": "2021-04-19T04:05:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19438 (Introduce deploymentstatus by ajtowns)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/821229639/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/821802798",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#issuecomment-821802798",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21691",
    "id": 821802798,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMTgwMjc5OA==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-17T10:35:03Z",
    "updated_at": "2021-04-17T10:35:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/821802798/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/822441568",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#issuecomment-822441568",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21691",
    "id": 822441568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjQ0MTU2OA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-19T12:51:18Z",
    "updated_at": "2021-04-19T12:51:18Z",
    "author_association": "MEMBER",
    "body": "Code review ACK fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/822441568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/822502255",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#issuecomment-822502255",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21691",
    "id": 822502255,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjUwMjI1NQ==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-19T14:16:58Z",
    "updated_at": "2021-04-19T14:16:58Z",
    "author_association": "MEMBER",
    "body": "Sanity check on the values in `versionbits_computeblockversion`\r\n```diff\r\n     for (const auto& chain_name : {CBaseChainParams::MAIN, CBaseChainParams::TESTNET, CBaseChainParams::SIGNET, CBaseChainParams::REGTEST}) {\r\n+        BOOST_TEST_MESSAGE(strprintf(\"chain: %s\", chain_name));\r\n         const auto chainParams = CreateChainParams(*m_node.args, chain_name);\r\n         uint32_t chain_all_vbits{0};\r\n         for (int i = 0; i < (int)Consensus::MAX_VERSION_BITS_DEPLOYMENTS; ++i) {\r\n@@ -426,8 +427,16 @@ BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\r\n             // the same bit might overlap, even when non-overlapping start-end\r\n             // times are picked.\r\n             const uint32_t dep_mask{VersionBitsMask(chainParams->GetConsensus(), dep)};\r\n+            BOOST_TEST_MESSAGE(strprintf(\"i: %d\", i));\r\n+            BOOST_TEST_MESSAGE(strprintf(\"dep_mask: %d\", dep_mask));\r\n+            BOOST_TEST_MESSAGE(strprintf(\"chain_all_vbits: %d\", chain_all_vbits));\r\n             BOOST_CHECK(!(chain_all_vbits & dep_mask));\r\n             chain_all_vbits |= dep_mask;\r\n+            if (i == 0) {\r\n+                BOOST_TEST_MESSAGE(strprintf(\"updated chain_all_vbits after |= dep_mask: %d\", chain_all_vbits));\r\n+            } else {\r\n+                BOOST_TEST_MESSAGE(\"\\n\");\r\n+            }\r\n             check_computeblockversion(chainParams->GetConsensus(), dep);\r\n         }\r\n     }\r\n```\r\n```\r\n$ src/test/test_bitcoin -t versionbits_tests -l message\r\nRunning 2 test cases...\r\nchain: main\r\ni: 0\r\ndep_mask: 268435456\r\nchain_all_vbits: 0\r\nupdated chain_all_vbits after |= dep_mask: 268435456\r\ni: 1\r\ndep_mask: 4\r\nchain_all_vbits: 268435456\r\n\r\n\r\nchain: test\r\ni: 0\r\ndep_mask: 268435456\r\nchain_all_vbits: 0\r\nupdated chain_all_vbits after |= dep_mask: 268435456\r\ni: 1\r\ndep_mask: 4\r\nchain_all_vbits: 268435456\r\n\r\n\r\nchain: signet\r\ni: 0\r\ndep_mask: 268435456\r\nchain_all_vbits: 0\r\nupdated chain_all_vbits after |= dep_mask: 268435456\r\ni: 1\r\ndep_mask: 4\r\nchain_all_vbits: 268435456\r\n\r\n\r\nchain: regtest\r\ni: 0\r\ndep_mask: 268435456\r\nchain_all_vbits: 0\r\nupdated chain_all_vbits after |= dep_mask: 268435456\r\ni: 1\r\ndep_mask: 4\r\nchain_all_vbits: 268435456\r\n\r\n\r\n*** No errors detected\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/822502255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/822979511",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#issuecomment-822979511",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21691",
    "id": 822979511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjk3OTUxMQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T05:15:56Z",
    "updated_at": "2021-04-20T05:15:56Z",
    "author_association": "MEMBER",
    "body": ">  to make these const \r\n\r\nLeft this as is for now to not invalidate reviews",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/822979511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/613882514",
    "pull_request_review_id": 636432713,
    "id": 613882514,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMzg4MjUxNA==",
    "diff_hunk": "@@ -443,8 +441,16 @@ BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\n     // ACTIVE and FAILED states in roughly the way we expect\n     for (const auto& chain_name : {CBaseChainParams::MAIN, CBaseChainParams::TESTNET, CBaseChainParams::SIGNET, CBaseChainParams::REGTEST}) {\n         const auto chainParams = CreateChainParams(*m_node.args, chain_name);\n+        std::set<decltype(Consensus::BIP9Deployment::bit)> chain_bits;\n         for (int i = 0; i < (int)Consensus::MAX_VERSION_BITS_DEPLOYMENTS; ++i) {\n-            check_computeblockversion(chainParams->GetConsensus(), static_cast<Consensus::DeploymentPos>(i));\n+            const auto dep = static_cast<Consensus::DeploymentPos>(i);\n+            // Check that no bits are re-used (within the same chain). This is\n+            // disallowed because the transition to FAILED (on timeout) does\n+            // not take precedence over STARTED/LOCKED_IN. So all softforks on\n+            // the same bit might overlap, even when non-overlapping start-end\n+            // times are picked.\n+            BOOST_CHECK(chain_bits.insert(chainParams->GetConsensus().vDeployments[dep].bit).second);",
    "path": "src/test/versionbits_tests.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "original_commit_id": "faac2e41008333ebe9acbead860fbd1589bcb750",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Err, there's already a test to \"Verify that the deployment windows of different deployment using the same bit are disjoint.\" wouldn't it make more sense to do:\r\n\r\n```diff\r\n+            BOOST_CHECK(VersionBitsMask(mainnetParams, static_cast<Consensus::DeploymentPos>(j)) != bitmask);\r\n-            if (VersionBitsMask(mainnetParams, static_cast<Consensus::DeploymentPos>(j)) == bitmask) {\r\n-                BOOST_CHECK(mainnetParams.vDeployments[j].nStartTime > mainnetParams.vDeployments[i].nTimeout ||\r\n-                        mainnetParams.vDeployments[i].nStartTime > mainnetParams.vDeployments[j].nTimeout);\r\n-            }\r\n```",
    "created_at": "2021-04-15T08:54:53Z",
    "updated_at": "2021-04-17T09:30:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r613882514",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/613882514"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r613882514"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/613882514/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 452,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/613936337",
    "pull_request_review_id": 636506965,
    "id": 613936337,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMzkzNjMzNw==",
    "diff_hunk": "@@ -443,8 +441,16 @@ BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\n     // ACTIVE and FAILED states in roughly the way we expect\n     for (const auto& chain_name : {CBaseChainParams::MAIN, CBaseChainParams::TESTNET, CBaseChainParams::SIGNET, CBaseChainParams::REGTEST}) {\n         const auto chainParams = CreateChainParams(*m_node.args, chain_name);\n+        std::set<decltype(Consensus::BIP9Deployment::bit)> chain_bits;\n         for (int i = 0; i < (int)Consensus::MAX_VERSION_BITS_DEPLOYMENTS; ++i) {\n-            check_computeblockversion(chainParams->GetConsensus(), static_cast<Consensus::DeploymentPos>(i));\n+            const auto dep = static_cast<Consensus::DeploymentPos>(i);\n+            // Check that no bits are re-used (within the same chain). This is\n+            // disallowed because the transition to FAILED (on timeout) does\n+            // not take precedence over STARTED/LOCKED_IN. So all softforks on\n+            // the same bit might overlap, even when non-overlapping start-end\n+            // times are picked.\n+            BOOST_CHECK(chain_bits.insert(chainParams->GetConsensus().vDeployments[dep].bit).second);",
    "path": "src/test/versionbits_tests.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "original_commit_id": "faac2e41008333ebe9acbead860fbd1589bcb750",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is only run for the mainnetParams, but we want to run it for all chains.\r\n\r\nI've removed the redundant parts from versionbits_sanity and made the other parts run for all chains.",
    "created_at": "2021-04-15T10:04:29Z",
    "updated_at": "2021-04-17T09:30:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r613936337",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/613936337"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r613936337"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/613936337/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 452,
    "side": "RIGHT",
    "in_reply_to_id": 613882514
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/614114870",
    "pull_request_review_id": 636749386,
    "id": 614114870,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDExNDg3MA==",
    "diff_hunk": "@@ -443,8 +417,18 @@ BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\n     // ACTIVE and FAILED states in roughly the way we expect\n     for (const auto& chain_name : {CBaseChainParams::MAIN, CBaseChainParams::TESTNET, CBaseChainParams::SIGNET, CBaseChainParams::REGTEST}) {\n         const auto chainParams = CreateChainParams(*m_node.args, chain_name);\n+        std::set<decltype(Consensus::BIP9Deployment::bit)> chain_bits;\n+        std::set<uint32_t> chain_masks;\n         for (int i = 0; i < (int)Consensus::MAX_VERSION_BITS_DEPLOYMENTS; ++i) {\n-            check_computeblockversion(chainParams->GetConsensus(), static_cast<Consensus::DeploymentPos>(i));\n+            const auto dep = static_cast<Consensus::DeploymentPos>(i);\n+            // Check that no bits are re-used (within the same chain). This is\n+            // disallowed because the transition to FAILED (on timeout) does\n+            // not take precedence over STARTED/LOCKED_IN. So all softforks on\n+            // the same bit might overlap, even when non-overlapping start-end\n+            // times are picked.\n+            BOOST_CHECK(chain_bits.insert(chainParams->GetConsensus().vDeployments[dep].bit).second);",
    "path": "src/test/versionbits_tests.cpp",
    "position": null,
    "original_position": 97,
    "commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "original_commit_id": "fa8016dd352b93783898c0112115f917ba036ac0",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Do we have any guidance on whether we should avoid side-effects in `BOOST_CHECK()` expressions?  This can obviously be rewritten in a way that inserts and then checks the return value on the following line, but I'm not sure if that's preferred",
    "created_at": "2021-04-15T14:22:17Z",
    "updated_at": "2021-04-17T09:30:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r614114870",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/614114870"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r614114870"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/614114870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 429,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/614119156",
    "pull_request_review_id": 636749386,
    "id": 614119156,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDExOTE1Ng==",
    "diff_hunk": "@@ -443,8 +417,18 @@ BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\n     // ACTIVE and FAILED states in roughly the way we expect\n     for (const auto& chain_name : {CBaseChainParams::MAIN, CBaseChainParams::TESTNET, CBaseChainParams::SIGNET, CBaseChainParams::REGTEST}) {\n         const auto chainParams = CreateChainParams(*m_node.args, chain_name);\n+        std::set<decltype(Consensus::BIP9Deployment::bit)> chain_bits;\n+        std::set<uint32_t> chain_masks;\n         for (int i = 0; i < (int)Consensus::MAX_VERSION_BITS_DEPLOYMENTS; ++i) {\n-            check_computeblockversion(chainParams->GetConsensus(), static_cast<Consensus::DeploymentPos>(i));\n+            const auto dep = static_cast<Consensus::DeploymentPos>(i);\n+            // Check that no bits are re-used (within the same chain). This is\n+            // disallowed because the transition to FAILED (on timeout) does\n+            // not take precedence over STARTED/LOCKED_IN. So all softforks on\n+            // the same bit might overlap, even when non-overlapping start-end\n+            // times are picked.\n+            BOOST_CHECK(chain_bits.insert(chainParams->GetConsensus().vDeployments[dep].bit).second);\n+            BOOST_CHECK(chain_masks.insert(VersionBitsMask(chainParams->GetConsensus(), dep)).second);",
    "path": "src/test/versionbits_tests.cpp",
    "position": null,
    "original_position": 98,
    "commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "original_commit_id": "fa8016dd352b93783898c0112115f917ba036ac0",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Rather than adding to a `std::set<uint32_t>`, should we check set `chain_masks` to a uint32_t, and then check that there's no overlap between the signaled bits:\r\n\r\n```diff\r\n--- a/src/test/versionbits_tests.cpp\r\n+++ b/src/test/versionbits_tests.cpp\r\n@@ -418,7 +418,7 @@ BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\r\n     for (const auto& chain_name : {CBaseChainParams::MAIN, CBaseChainParams::TESTNET, CBaseChainParams::SIGNET, CBaseChainParams::REGTEST}) {\r\n         const auto chainParams = CreateChainParams(*m_node.args, chain_name);\r\n         std::set<decltype(Consensus::BIP9Deployment::bit)> chain_bits;\r\n-        std::set<uint32_t> chain_masks;\r\n+        uint32_t chain_masks{0};\r\n         for (int i = 0; i < (int)Consensus::MAX_VERSION_BITS_DEPLOYMENTS; ++i) {\r\n             const auto dep = static_cast<Consensus::DeploymentPos>(i);\r\n             // Check that no bits are re-used (within the same chain). This is\r\n@@ -427,7 +427,9 @@ BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\r\n             // the same bit might overlap, even when non-overlapping start-end\r\n             // times are picked.\r\n             BOOST_CHECK(chain_bits.insert(chainParams->GetConsensus().vDeployments[dep].bit).second);\r\n-            BOOST_CHECK(chain_masks.insert(VersionBitsMask(chainParams->GetConsensus(), dep)).second);\r\n+            const uint32_t chain_mask = VersionBitsMask(chainParams->GetConsensus(), dep);\r\n+            BOOST_CHECK(!(chain_masks & chain_mask));\r\n+            chain_masks |= chain_mask;\r\n             check_computeblockversion(chainParams->GetConsensus(), dep);\r\n         }\r\n     }\r\n```",
    "created_at": "2021-04-15T14:27:01Z",
    "updated_at": "2021-04-17T09:30:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r614119156",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/614119156"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r614119156"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/614119156/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 430,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/614521127",
    "pull_request_review_id": 637286346,
    "id": 614521127,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDUyMTEyNw==",
    "diff_hunk": "@@ -314,7 +312,7 @@ static void check_computeblockversion(const Consensus::Params& params, Consensus\n     BOOST_REQUIRE(0 <= bit && bit < 32);\n     BOOST_REQUIRE(((1 << bit) & VERSIONBITS_TOP_MASK) == 0);\n     BOOST_REQUIRE(min_activation_height >= 0);\n-    BOOST_REQUIRE_EQUAL(min_activation_height % params.nMinerConfirmationWindow, 0);\n+    BOOST_REQUIRE_EQUAL(min_activation_height % params.nMinerConfirmationWindow, 0U);",
    "path": "src/test/versionbits_tests.cpp",
    "position": 75,
    "original_position": 18,
    "commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "original_commit_id": "faac2e41008333ebe9acbead860fbd1589bcb750",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Seems like there's a few of these issues: https://github.com/bitcoin/bitcoin/pull/21701#pullrequestreview-637244766",
    "created_at": "2021-04-16T02:34:01Z",
    "updated_at": "2021-04-17T09:30:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r614521127",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/614521127"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r614521127"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/614521127/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 288,
    "original_line": 288,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615228872",
    "pull_request_review_id": 638211055,
    "id": 615228872,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNTIyODg3Mg==",
    "diff_hunk": "@@ -314,7 +312,7 @@ static void check_computeblockversion(const Consensus::Params& params, Consensus\n     BOOST_REQUIRE(0 <= bit && bit < 32);\n     BOOST_REQUIRE(((1 << bit) & VERSIONBITS_TOP_MASK) == 0);\n     BOOST_REQUIRE(min_activation_height >= 0);\n-    BOOST_REQUIRE_EQUAL(min_activation_height % params.nMinerConfirmationWindow, 0);\n+    BOOST_REQUIRE_EQUAL(min_activation_height % params.nMinerConfirmationWindow, 0U);",
    "path": "src/test/versionbits_tests.cpp",
    "position": 75,
    "original_position": 18,
    "commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "original_commit_id": "faac2e41008333ebe9acbead860fbd1589bcb750",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The other instance is removed in the next commit",
    "created_at": "2021-04-17T08:48:36Z",
    "updated_at": "2021-04-17T09:30:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615228872",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615228872"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615228872"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615228872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 288,
    "original_line": 288,
    "side": "RIGHT",
    "in_reply_to_id": 614521127
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615229143",
    "pull_request_review_id": 638211218,
    "id": 615229143,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNTIyOTE0Mw==",
    "diff_hunk": "@@ -443,8 +417,18 @@ BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\n     // ACTIVE and FAILED states in roughly the way we expect\n     for (const auto& chain_name : {CBaseChainParams::MAIN, CBaseChainParams::TESTNET, CBaseChainParams::SIGNET, CBaseChainParams::REGTEST}) {\n         const auto chainParams = CreateChainParams(*m_node.args, chain_name);\n+        std::set<decltype(Consensus::BIP9Deployment::bit)> chain_bits;\n+        std::set<uint32_t> chain_masks;\n         for (int i = 0; i < (int)Consensus::MAX_VERSION_BITS_DEPLOYMENTS; ++i) {\n-            check_computeblockversion(chainParams->GetConsensus(), static_cast<Consensus::DeploymentPos>(i));\n+            const auto dep = static_cast<Consensus::DeploymentPos>(i);\n+            // Check that no bits are re-used (within the same chain). This is\n+            // disallowed because the transition to FAILED (on timeout) does\n+            // not take precedence over STARTED/LOCKED_IN. So all softforks on\n+            // the same bit might overlap, even when non-overlapping start-end\n+            // times are picked.\n+            BOOST_CHECK(chain_bits.insert(chainParams->GetConsensus().vDeployments[dep].bit).second);",
    "path": "src/test/versionbits_tests.cpp",
    "position": null,
    "original_position": 97,
    "commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "original_commit_id": "fa8016dd352b93783898c0112115f917ba036ac0",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Removed this line because I think it is redundant",
    "created_at": "2021-04-17T08:51:43Z",
    "updated_at": "2021-04-17T09:30:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615229143",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615229143"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615229143"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615229143/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 429,
    "side": "RIGHT",
    "in_reply_to_id": 614114870
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615229167",
    "pull_request_review_id": 638211232,
    "id": 615229167,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNTIyOTE2Nw==",
    "diff_hunk": "@@ -443,8 +417,18 @@ BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\n     // ACTIVE and FAILED states in roughly the way we expect\n     for (const auto& chain_name : {CBaseChainParams::MAIN, CBaseChainParams::TESTNET, CBaseChainParams::SIGNET, CBaseChainParams::REGTEST}) {\n         const auto chainParams = CreateChainParams(*m_node.args, chain_name);\n+        std::set<decltype(Consensus::BIP9Deployment::bit)> chain_bits;\n+        std::set<uint32_t> chain_masks;\n         for (int i = 0; i < (int)Consensus::MAX_VERSION_BITS_DEPLOYMENTS; ++i) {\n-            check_computeblockversion(chainParams->GetConsensus(), static_cast<Consensus::DeploymentPos>(i));\n+            const auto dep = static_cast<Consensus::DeploymentPos>(i);\n+            // Check that no bits are re-used (within the same chain). This is\n+            // disallowed because the transition to FAILED (on timeout) does\n+            // not take precedence over STARTED/LOCKED_IN. So all softforks on\n+            // the same bit might overlap, even when non-overlapping start-end\n+            // times are picked.\n+            BOOST_CHECK(chain_bits.insert(chainParams->GetConsensus().vDeployments[dep].bit).second);\n+            BOOST_CHECK(chain_masks.insert(VersionBitsMask(chainParams->GetConsensus(), dep)).second);",
    "path": "src/test/versionbits_tests.cpp",
    "position": null,
    "original_position": 98,
    "commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "original_commit_id": "fa8016dd352b93783898c0112115f917ba036ac0",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks, done that.",
    "created_at": "2021-04-17T08:51:59Z",
    "updated_at": "2021-04-17T09:30:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615229167",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615229167"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615229167"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615229167/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 430,
    "side": "RIGHT",
    "in_reply_to_id": 614119156
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615503301",
    "pull_request_review_id": 638415268,
    "id": 615503301,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNTUwMzMwMQ==",
    "diff_hunk": "@@ -255,25 +255,6 @@ BOOST_AUTO_TEST_CASE(versionbits_test)\n     }\n }\n \n-BOOST_AUTO_TEST_CASE(versionbits_sanity)",
    "path": "src/test/versionbits_tests.cpp",
    "position": 17,
    "original_position": 4,
    "commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "original_commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think it would be better to keep the \"check the params make sense\" checks separate from the \"check ComputeBlockVersion does the right thing\" checks.",
    "created_at": "2021-04-19T02:11:27Z",
    "updated_at": "2021-04-19T02:34:34Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615503301",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615503301"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615503301"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615503301/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 260,
    "original_line": 258,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615557449",
    "pull_request_review_id": 638479997,
    "id": 615557449,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNTU1NzQ0OQ==",
    "diff_hunk": "@@ -255,25 +255,6 @@ BOOST_AUTO_TEST_CASE(versionbits_test)\n     }\n }\n \n-BOOST_AUTO_TEST_CASE(versionbits_sanity)",
    "path": "src/test/versionbits_tests.cpp",
    "position": 17,
    "original_position": 4,
    "commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "original_commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "the sanity checks are a requirement, so they need to be run as part of the same test case. Do you mean to split them up into a separate function? I think that'd be too verbose, but I am happy to take a diff if you happen to have one.",
    "created_at": "2021-04-19T05:51:16Z",
    "updated_at": "2021-04-19T05:51:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615557449",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615557449"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615557449"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615557449/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 260,
    "original_line": 258,
    "side": "LEFT",
    "in_reply_to_id": 615503301
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615567369",
    "pull_request_review_id": 638492995,
    "id": 615567369,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNTU2NzM2OQ==",
    "diff_hunk": "@@ -255,25 +255,6 @@ BOOST_AUTO_TEST_CASE(versionbits_test)\n     }\n }\n \n-BOOST_AUTO_TEST_CASE(versionbits_sanity)",
    "path": "src/test/versionbits_tests.cpp",
    "position": 17,
    "original_position": 4,
    "commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "original_commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yeah, maybe you're right -- can't reliably test computeblockversion if some other deployment might start setting the bit in question as soon as it hits ACTIVE, even if they're not technically overlapping. No need to hold this up over it in any event.",
    "created_at": "2021-04-19T06:19:13Z",
    "updated_at": "2021-04-19T06:19:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615567369",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615567369"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615567369"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615567369/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 260,
    "original_line": 258,
    "side": "LEFT",
    "in_reply_to_id": 615503301
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615860603",
    "pull_request_review_id": 638884586,
    "id": 615860603,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNTg2MDYwMw==",
    "diff_hunk": "@@ -305,16 +270,25 @@ static void check_computeblockversion(const Consensus::Params& params, Consensus\n     BOOST_CHECK_EQUAL(ComputeBlockVersion(nullptr, params), VERSIONBITS_TOP_BITS);\n \n     // always/never active deployments shouldn't need to be tested further\n-    if (nStartTime == Consensus::BIP9Deployment::ALWAYS_ACTIVE) return;\n-    if (nStartTime == Consensus::BIP9Deployment::NEVER_ACTIVE) return;\n+    if (nStartTime == Consensus::BIP9Deployment::ALWAYS_ACTIVE ||\n+        nStartTime == Consensus::BIP9Deployment::NEVER_ACTIVE)\n+    {\n+        BOOST_CHECK_EQUAL(min_activation_height, 0);\n+        return;\n+    }",
    "path": "src/test/versionbits_tests.cpp",
    "position": 64,
    "original_position": 64,
    "commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "original_commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```diff\r\n@@ -271,8 +367,7 @@ static void check_computeblockversion(const Consensus::Params& params, Consensus\r\n \r\n     // always/never active deployments shouldn't need to be tested further\r\n     if (nStartTime == Consensus::BIP9Deployment::ALWAYS_ACTIVE ||\r\n-        nStartTime == Consensus::BIP9Deployment::NEVER_ACTIVE)\r\n-    {\r\n+        nStartTime == Consensus::BIP9Deployment::NEVER_ACTIVE) {\r\n         BOOST_CHECK_EQUAL(min_activation_height, 0);\r\n         return;\r\n     }\r\n```",
    "created_at": "2021-04-19T13:43:48Z",
    "updated_at": "2021-04-19T13:43:48Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615860603",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615860603"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615860603"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615860603/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 278,
    "original_line": 278,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615994551",
    "pull_request_review_id": 639066607,
    "id": 615994551,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNTk5NDU1MQ==",
    "diff_hunk": "@@ -305,16 +270,25 @@ static void check_computeblockversion(const Consensus::Params& params, Consensus\n     BOOST_CHECK_EQUAL(ComputeBlockVersion(nullptr, params), VERSIONBITS_TOP_BITS);\n \n     // always/never active deployments shouldn't need to be tested further\n-    if (nStartTime == Consensus::BIP9Deployment::ALWAYS_ACTIVE) return;\n-    if (nStartTime == Consensus::BIP9Deployment::NEVER_ACTIVE) return;\n+    if (nStartTime == Consensus::BIP9Deployment::ALWAYS_ACTIVE ||\n+        nStartTime == Consensus::BIP9Deployment::NEVER_ACTIVE)\n+    {\n+        BOOST_CHECK_EQUAL(min_activation_height, 0);\n+        return;\n+    }",
    "path": "src/test/versionbits_tests.cpp",
    "position": 64,
    "original_position": 64,
    "commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "original_commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Personally I find it incredibly ugly to have the if-condition and the first if-branch continue with the same indentation as if they are one block. It might be good to update the clang-format to not do this.\r\n\r\nAlso this file is far from clang-format clean, so I am going to leave as is for now.",
    "created_at": "2021-04-19T16:21:49Z",
    "updated_at": "2021-04-19T16:21:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615994551",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615994551"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r615994551"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/615994551/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 278,
    "original_line": 278,
    "side": "RIGHT",
    "in_reply_to_id": 615860603
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/616171540",
    "pull_request_review_id": 639299676,
    "id": 616171540,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNjE3MTU0MA==",
    "diff_hunk": "@@ -305,16 +270,25 @@ static void check_computeblockversion(const Consensus::Params& params, Consensus\n     BOOST_CHECK_EQUAL(ComputeBlockVersion(nullptr, params), VERSIONBITS_TOP_BITS);\n \n     // always/never active deployments shouldn't need to be tested further\n-    if (nStartTime == Consensus::BIP9Deployment::ALWAYS_ACTIVE) return;\n-    if (nStartTime == Consensus::BIP9Deployment::NEVER_ACTIVE) return;\n+    if (nStartTime == Consensus::BIP9Deployment::ALWAYS_ACTIVE ||\n+        nStartTime == Consensus::BIP9Deployment::NEVER_ACTIVE)\n+    {\n+        BOOST_CHECK_EQUAL(min_activation_height, 0);\n+        return;\n+    }",
    "path": "src/test/versionbits_tests.cpp",
    "position": 64,
    "original_position": 64,
    "commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "original_commit_id": "fa8eaee6a8531db970cc84436bf2ae8150a58642",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@MarcoFalke  **CONCEPT ACK**",
    "created_at": "2021-04-19T20:55:50Z",
    "updated_at": "2021-04-19T20:55:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r616171540",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/616171540"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21691#discussion_r616171540"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21691"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/616171540/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 278,
    "original_line": 278,
    "side": "RIGHT",
    "in_reply_to_id": 615860603
  }
]