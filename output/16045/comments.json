[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/493743065",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16045#issuecomment-493743065",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16045",
    "id": 493743065,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5Mzc0MzA2NQ==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-19T09:57:05Z",
    "updated_at": "2019-05-19T09:57:05Z",
    "author_association": "MEMBER",
    "body": "utACK 953ed47b.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/493743065/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494034654",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16045#issuecomment-494034654",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16045",
    "id": 494034654,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NDAzNDY1NA==",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?u=a1574ca2038ff1dfaa9a7764c59ea5ff4f305b5d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-20T15:24:48Z",
    "updated_at": "2019-05-20T15:24:48Z",
    "author_association": "MEMBER",
    "body": "utACK https://github.com/bitcoin/bitcoin/pull/16045/commits/953ed47b42eac7453ad7e6436098301f0cb523a4",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494034654/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502364018",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16045#issuecomment-502364018",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16045",
    "id": 502364018,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjM2NDAxOA==",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?u=1b5f5e05932a2dde4d3e545ec9d827356b0f32af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-15T12:46:21Z",
    "updated_at": "2019-06-15T12:46:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Not sure if it's worth a discussion, but I don't see how the call to `memset` can result in undefined behaviour when `memset` takes a pointer to one past the last element of the `rkey` array and the `size_t` argument is `0`. This can't go wrong, can it?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502364018/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502375384",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16045#issuecomment-502375384",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16045",
    "id": 502375384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjM3NTM4NA==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-15T15:22:54Z",
    "updated_at": "2019-06-15T15:22:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "@l2a5b1 Did you read the discussion(s) linked in the OP? :-)\r\n\r\n* https://github.com/bitcoin/bitcoin/pull/15950#issuecomment-489461791\r\n* https://stackoverflow.com/questions/29844298/is-it-legal-to-call-memcpy-with-zero-length-on-a-pointer-just-past-the-end-of-an\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502375384/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502384248",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16045#issuecomment-502384248",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16045",
    "id": 502384248,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjM4NDI0OA==",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?u=1b5f5e05932a2dde4d3e545ec9d827356b0f32af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-15T17:21:02Z",
    "updated_at": "2019-06-15T17:21:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "@practicalswift Thanks, yes I did.\r\n\r\nFrom https://github.com/bitcoin/bitcoin/pull/15950#issuecomment-489461791\r\n\r\n> *p1 |= ((unsigned char)HexDigit(*psz--) << 4);\r\n\r\nI agree. Here the behaviour will be undefined when `psz` takes address one before the initial element.\r\n\r\nIn case of this pull request, taking a pointer to one past the last element of the `rkey` array is defined as long as the pointer is not dereferenced or written to.\r\n\r\n> Unfortunately the spec is not entirely clear on this (see 7.24.1.2. and 7.1.4.1. in ISO/IEC 9899:201x N1570).\r\n> \r\n> Arguments for why the pointer should be valid for writing even in the case of n is 0 are given here:\r\n> \r\n> https://stackoverflow.com/questions/29844298/is-it-legal-to-call-memcpy-with-zero-length-on-a-pointer-just-past-the-end-of-an\r\n> The discussion is about memcpy but memset should have the same pointer requirements in this case.\r\n> \r\n\r\nI am not sure if I agree with the accepted answer in the stackoverflow thread. \r\n\r\nI do agree that the spec leaves room for interpretation. \r\n\r\nMy interpretation of the spec is that it is perfectly fine that `memset` takes a pointer that is one past the last element of an array provided that the `size_t` argument is `0`.\r\n\r\nBut more importantly, if `memset` wasn't able to handle this case, I assume that it would be very well documented or common knowledge.\r\n\r\nPerhaps you can add the arguments that you think are valid or relevant from the stackoverflow thread to the pull request description.\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502384248/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502484644",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16045#issuecomment-502484644",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16045",
    "id": 502484644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjQ4NDY0NA==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-16T20:47:28Z",
    "updated_at": "2019-06-16T20:47:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I do agree that the spec leaves room for interpretation.\r\n\r\nIn cases where the spec is unclear I think it makes sense to err on the side of caution. From the OP:\r\n\r\n_\"Nothing urgent obviously and perhaps not even an issue (the spec is a bit unclear) but would be nice to err on the side of caution in unclear cases like this :-)\"_",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502484644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/505430986",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16045#issuecomment-505430986",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16045",
    "id": 505430986,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTQzMDk4Ng==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-25T12:53:19Z",
    "updated_at": "2019-06-25T12:53:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "@MarcoFalke Four utACK:s - ready for merge?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/505430986/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/505914452",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16045#issuecomment-505914452",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16045",
    "id": 505914452,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTkxNDQ1Mg==",
    "user": {
      "login": "jamesob",
      "id": 73197,
      "node_id": "MDQ6VXNlcjczMTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesob",
      "html_url": "https://github.com/jamesob",
      "followers_url": "https://api.github.com/users/jamesob/followers",
      "following_url": "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesob/orgs",
      "repos_url": "https://api.github.com/users/jamesob/repos",
      "events_url": "https://api.github.com/users/jamesob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesob/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-26T15:00:37Z",
    "updated_at": "2019-06-26T15:00:37Z",
    "author_association": "MEMBER",
    "body": "NACKish lacking benchmarks showing this has any significance. We shouldn't be adding code to `src/crypto` without a more compelling reason.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/505914452/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/505916306",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16045#issuecomment-505916306",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16045",
    "id": 505916306,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTkxNjMwNg==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-26T15:05:10Z",
    "updated_at": "2019-06-26T15:05:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jamesob Benchmarking? This is not an optimisation :-)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/505916306/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/505971444",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16045#issuecomment-505971444",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16045",
    "id": 505971444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTk3MTQ0NA==",
    "user": {
      "login": "JosuGZ",
      "id": 25986871,
      "node_id": "MDQ6VXNlcjI1OTg2ODcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25986871?u=ffa90ebcafe90eb55c9ae4cdc21abcf9678e0f71&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JosuGZ",
      "html_url": "https://github.com/JosuGZ",
      "followers_url": "https://api.github.com/users/JosuGZ/followers",
      "following_url": "https://api.github.com/users/JosuGZ/following{/other_user}",
      "gists_url": "https://api.github.com/users/JosuGZ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JosuGZ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JosuGZ/subscriptions",
      "organizations_url": "https://api.github.com/users/JosuGZ/orgs",
      "repos_url": "https://api.github.com/users/JosuGZ/repos",
      "events_url": "https://api.github.com/users/JosuGZ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JosuGZ/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-26T17:30:27Z",
    "updated_at": "2019-06-26T17:30:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Although I agree on being conservative, I don't see how this could cause a problem (unless there is already a problem and this fixes it).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/505971444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/290741208",
    "pull_request_review_id": 246010135,
    "id": 290741208,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MDc0MTIwOA==",
    "diff_hunk": "@@ -11,7 +11,9 @@ CHMAC_SHA256::CHMAC_SHA256(const unsigned char* key, size_t keylen)\n     unsigned char rkey[64];\n     if (keylen <= 64) {\n         memcpy(rkey, key, keylen);\n-        memset(rkey + keylen, 0, 64 - keylen);\n+        if (keylen < 64) {",
    "path": "src/crypto/hmac_sha256.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "953ed47b42eac7453ad7e6436098301f0cb523a4",
    "original_commit_id": "953ed47b42eac7453ad7e6436098301f0cb523a4",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I\u2026 don't think this makes the code any more understandable, I had to think for a while to understand why this was `<64` and why one'd want to skip the memset if the data is smaller than that.\r\nCalling memset with size 0 is no problem. If calling it with a NULL pointer is, then a check for a null pointer should be added, not a check on the length.",
    "created_at": "2019-06-05T13:37:07Z",
    "updated_at": "2019-06-05T13:37:07Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16045#discussion_r290741208",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16045",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/290741208"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16045#discussion_r290741208"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16045"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/290741208/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 14,
    "original_line": 14,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/290965541",
    "pull_request_review_id": 246296525,
    "id": 290965541,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MDk2NTU0MQ==",
    "diff_hunk": "@@ -11,7 +11,9 @@ CHMAC_SHA256::CHMAC_SHA256(const unsigned char* key, size_t keylen)\n     unsigned char rkey[64];\n     if (keylen <= 64) {\n         memcpy(rkey, key, keylen);\n-        memset(rkey + keylen, 0, 64 - keylen);\n+        if (keylen < 64) {",
    "path": "src/crypto/hmac_sha256.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "953ed47b42eac7453ad7e6436098301f0cb523a4",
    "original_commit_id": "953ed47b42eac7453ad7e6436098301f0cb523a4",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oh, I might have been a bit brief in the OP - let me clarify:\r\n\r\nThe goal of this PR is _not_ try to avoid `memset(nullptr, \u2026, \u2026)` (plus: `rkey + keylen` cannot be `nullptr`).\r\n\r\nThe goal of the PR is to avoid `memset(p, \u2026, \u2026)` where `p` is a pointer which is outside of the object and thus not valid for writing.\r\n\r\nPlease note that `rkey + 64` is outside of the object.\r\n\r\nSee these discussions for context:\r\n* https://github.com/bitcoin/bitcoin/pull/15950#issuecomment-489461791\r\n* https://stackoverflow.com/questions/29844298/is-it-legal-to-call-memcpy-with-zero-length-on-a-pointer-just-past-the-end-of-an\r\n\r\nPlease re-review in light of this clarification :-)\r\n\r\nShould I add a comment in the code making the rationale more clear?",
    "created_at": "2019-06-05T22:51:56Z",
    "updated_at": "2019-06-06T05:50:41Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16045#discussion_r290965541",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16045",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/290965541"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16045#discussion_r290965541"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16045"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/290965541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 14,
    "original_line": 14,
    "side": "RIGHT",
    "in_reply_to_id": 290741208
  }
]