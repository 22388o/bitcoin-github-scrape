[
  {
    "sha": "dea086f498097d19a2c9acbfc753c9c2d68dbb03",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkZWEwODZmNDk4MDk3ZDE5YTJjOWFjYmZjNzUzYzljMmQ2OGRiYjAz",
    "commit": {
      "author": {
        "name": "MeshCollider",
        "email": "dobsonsa68@gmail.com",
        "date": "2017-08-30T23:15:48Z"
      },
      "committer": {
        "name": "MeshCollider",
        "email": "dobsonsa68@gmail.com",
        "date": "2017-09-01T11:19:23Z"
      },
      "message": "Stop test_bitcoin-qt touching ~/.bitcoin",
      "tree": {
        "sha": "d8fb192d97407021b22bfd452551b201fa562362",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d8fb192d97407021b22bfd452551b201fa562362"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dea086f498097d19a2c9acbfc753c9c2d68dbb03",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dea086f498097d19a2c9acbfc753c9c2d68dbb03",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/dea086f498097d19a2c9acbfc753c9c2d68dbb03",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dea086f498097d19a2c9acbfc753c9c2d68dbb03/comments",
    "author": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d81dccf191a48a6b59c3747d7b4ccbe3535dde40",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d81dccf191a48a6b59c3747d7b4ccbe3535dde40",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d81dccf191a48a6b59c3747d7b4ccbe3535dde40"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 6,
      "deletions": 7
    },
    "files": [
      {
        "sha": "d850e28b1d8549b98e5f720823088d582c2f53af",
        "filename": "src/qt/test/rpcnestedtests.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 7,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dea086f498097d19a2c9acbfc753c9c2d68dbb03/src/qt/test/rpcnestedtests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dea086f498097d19a2c9acbfc753c9c2d68dbb03/src/qt/test/rpcnestedtests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/test/rpcnestedtests.cpp?ref=dea086f498097d19a2c9acbfc753c9c2d68dbb03",
        "patch": "@@ -37,11 +37,6 @@ void RPCNestedTests::rpcNestedTests()\n     // do some test setup\n     // could be moved to a more generic place when we add more tests on QT level\n     tableRPC.appendCommand(\"rpcNestedTest\", &vRPCCommands[0]);\n-    ClearDatadirCache();\n-    std::string path = QDir::tempPath().toStdString() + \"/\" + strprintf(\"test_bitcoin_qt_%lu_%i\", (unsigned long)GetTime(), (int)(GetRand(100000)));\n-    QDir dir(QString::fromStdString(path));\n-    dir.mkpath(\".\");\n-    gArgs.ForceSetArg(\"-datadir\", path);\n     //mempool.setSanityCheck(1.0);\n \n     TestingSetup test;\n@@ -136,6 +131,4 @@ void RPCNestedTests::rpcNestedTests()\n     QVERIFY_EXCEPTION_THROWN(RPCConsole::RPCExecuteCommandLine(result, \"rpcNestedTest(abc,,abc)\"), std::runtime_error); //don't tollerate empty arguments when using ,\n     QVERIFY_EXCEPTION_THROWN(RPCConsole::RPCExecuteCommandLine(result, \"rpcNestedTest(abc,,)\"), std::runtime_error); //don't tollerate empty arguments when using ,\n #endif\n-\n-    fs::remove_all(fs::path(path));\n }"
      },
      {
        "sha": "4c04e67ccce9687ce69fd1e46c56f09ffab5df71",
        "filename": "src/qt/test/test_main.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dea086f498097d19a2c9acbfc753c9c2d68dbb03/src/qt/test/test_main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dea086f498097d19a2c9acbfc753c9c2d68dbb03/src/qt/test/test_main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/test/test_main.cpp?ref=dea086f498097d19a2c9acbfc753c9c2d68dbb03",
        "patch": "@@ -53,6 +53,10 @@ int main(int argc, char *argv[])\n     SetupNetworking();\n     SelectParams(CBaseChainParams::MAIN);\n     noui_connect();\n+    ClearDatadirCache();\n+    fs::path pathTemp = fs::temp_directory_path() / strprintf(\"test_bitcoin-qt_%lu_%i\", (unsigned long)GetTime(), (int)GetRand(100000));\n+    fs::create_directories(pathTemp);\n+    gArgs.ForceSetArg(\"-datadir\", pathTemp.string());\n \n     bool fInvalid = false;\n \n@@ -97,5 +101,7 @@ int main(int argc, char *argv[])\n     }\n #endif\n \n+    fs::remove_all(pathTemp);\n+\n     return fInvalid;\n }"
      }
    ]
  }
]