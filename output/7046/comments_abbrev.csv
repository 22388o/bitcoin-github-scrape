gmaxwell,2015-11-17T21:52:28Z,Don't ignore for whitelisted peers?\n,https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-157520707,157520707,
dcousens,2015-11-18T00:46:47Z,"concept ACK, utACK\n",https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-157560427,157560427,
paveljanik,2015-11-18T19:47:44Z,"utACK\n\nWe should probably document/popularize blocks only mode, because it can be very useful for some usecases - thank you for it!\n",https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-157840820,157840820,
tulip0,2015-11-20T06:41:04Z,"When documenting some care needs to be taken to ensure people don't enable this on their nodes thinking it will let them receive blocks faster, ""not processing transaction messages will leave more time to do blocks quickly"" isn't an unreasonable assumption to make. In actuality running with `blocksonly`  has a massive negative impact on the speed of block verification by never filling ECDSA signat",https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158296036,158296036,
gmaxwell,2015-11-20T08:12:05Z,"The impact on mining is much of why I wasn't thinking to promote it yet.  We also yet don't do smart things with peers that send no relay.  E.g. a node that somehow ends up with 8 blocksonly peers won't do anything smart about it, and probably we'd like to do something about that before encouraging it's widespread use.\n",https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158317628,158317628,
dcousens,2015-11-20T16:47:49Z,"@gmaxwell wasn't this going undocumented (or at least, a huge ""highly discouraged"" warning) next to if it at all made it in to `0.12`?\n",https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158456445,158456445,
pstratem,2015-11-20T17:34:47Z,"The help message is only displayed in debug more.\nOn Nov 20, 2015 8:48 AM, ""Daniel Cousens"" notifications@github.com wrote:\n\n> @gmaxwell https://github.com/gmaxwell wasn't this going undocumented\n> (or at least, a huge ""highly discouraged"" warning) next to if it at all\n> made it in to 0.12?\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/bitcoin/bitcoin/pul",https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158468164,158468164,
petertodd,2015-11-20T22:14:23Z,"@gmaxwell Re: the only blocksonly peers risk, it probably makes sense to have blocksonly unset NODE_NETWORK for now.\n",https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158541067,158541067,
gmaxwell,2015-11-20T22:31:50Z,"@petertodd I'd rather not, we still serve and relay blocks. You can IBD off a blocks only node, etc.  There are already quite a few nodes out there that silently won't relay transactions, at least with the option undocumented I don't think it's a huge marginal risk. -- also, compare to setting your fee settings very high, or your mempool very small. Same outcome.\n",https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158544373,158544373,
petertodd,2015-11-20T23:55:42Z,"Tests done:\n\n[x] Triggered inv and tx ""violation of protocol"" cases\n[x] Tested with a bitcoinj wallet, which just ignored the fRelayTxs (edit: actually, looks like it only does that in the ""trusted peer"" case)\n\nACK (modulo https://github.com/pstratem/bitcoin/pull/3)\n",https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158562126,158562126,
petertodd,2015-11-21T00:00:42Z,@gmaxwell Fair enough; I'm convinced.\n,https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158562865,158562865,
gmaxwell,2015-11-21T23:44:20Z,"Sorry to nitpick, esp at odds with PT's nitpick: but I think these log entries should be made consistent:\n\n2015-11-21 23:42:08 getblocks 384665 to 00000000000000000c8d710c468516e11f76188c18def174581317b8faac716d limit 500 from peer=86\n2015-11-21 23:42:08   getblocks stopping at 384666 00000000000000000c8d710c468516e11f76188c18def174581317b8faac716d\n2015-11-21 23:42:08 sending: inv (37 bytes) p",https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158691213,158691213,
gmaxwell,2015-11-22T02:54:46Z,@petertodd come reack that I undid your nit. :)\n,https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158703557,158703557,
petertodd,2015-11-22T21:03:01Z,"@gmaxwell That wording looks fine, although I'd point out that phrasing it ""[THING] sent in violation of protocol, peer=%d"" - note the added comma! - should be fine too.\n\nWhat can I call that? A μnit? :)\n",https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158799515,158799515,
gmaxwell,2015-11-22T22:01:40Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158807329,158807329,
petertodd,2015-11-20T22:12:50Z,"Maybe I'm missing something, but why wouldn't a peer send us a inv? We're advertising NODE_NETWORK, and we haven't sent them a bloom filter.\n",https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45525665,45525665,src/main.cpp
pstratem,2015-11-20T22:14:19Z,In the previous PR (which was merged into master) we set fRelayTxs = false in the version message in blocks only mode.\n,https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45525814,45525814,src/main.cpp
petertodd,2015-11-20T22:15:32Z,"Weird, I can't seem to find the actual code that does that. :(\n",https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45525913,45525913,src/main.cpp
petertodd,2015-11-20T22:16:18Z,"Ah! Sorry, I'm blind, found it!\n",https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45525980,45525980,src/main.cpp
petertodd,2015-11-20T23:36:56Z,"Reads better if reworded to say ""peer %d sent""\n",https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45532898,45532898,src/main.cpp
petertodd,2015-11-20T23:37:17Z,"Also reads better if reworded to say ""peer %d sent""\n",https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45532915,45532915,src/main.cpp
