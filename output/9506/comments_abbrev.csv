paveljanik,2017-01-10T20:22:56Z,ACK,https://github.com/bitcoin/bitcoin/pull/9506#issuecomment-271687235,271687235,
gmaxwell,2017-01-10T20:28:04Z,"YES _PLEASE_.  I introduced a bug recently as a result of carelessness which was exacerbated by our coding style on this front. \n\nWith respect to the one line without braces rule, we should find out if clang format can implement this policy.  I see that it can allow one line, but I think it might still require braces there if they're required everywhere else.   \n\nAlso it would be good to w",https://github.com/bitcoin/bitcoin/pull/9506#issuecomment-271688529,271688529,
ryanofsky,2017-01-10T23:09:02Z,"You might need to update [src/.clang-format](https://github.com/bitcoin/bitcoin/blob/master/src/.clang-format) as well. It contains `AllowShortIfStatementsOnASingleLine: false`.\n",https://github.com/bitcoin/bitcoin/pull/9506#issuecomment-271727718,271727718,
luke-jr,2017-01-10T23:31:11Z,ACK,https://github.com/bitcoin/bitcoin/pull/9506#issuecomment-271731829,271731829,
MarcoFalke,2017-01-11T00:44:04Z,"I am not strictly against the proposed changes, but without a static analyzer (maybe in travis) that requires appropriate formatting of new code, this may not be effective.",https://github.com/bitcoin/bitcoin/pull/9506#issuecomment-271744187,271744187,
laanwj,2017-01-11T12:51:50Z,Looks good to me.,https://github.com/bitcoin/bitcoin/pull/9506#issuecomment-271860684,271860684,
MarcoFalke,2017-01-11T00:40:50Z,"I am skeptical about the effectiveness of forcing braces in all other cases. Just because it is on a single line does not make all the mistakes disappear.\n\nE.g.\n\n```cpp\nif (!found) ret=-1; return ret;\n```\n\nis still wrong (at least wrongly formatted).\n\nAnd imo an if with a single-statement then-clause on the next line is no worse than on the same line. Also considering that the ",https://github.com/bitcoin/bitcoin/pull/9506#discussion_r95490966,95490966,doc/developer-notes.md
luke-jr,2017-01-11T03:52:23Z,"Personally, I'd be fine with a hard rule that braces must always be used - I don't see much value to the all-on-one-line case.\n\nHaving this as a documented rule allows us to complain if it is violated in PRs. New brace-less oneliner blocks are currently being introduced regularly, and (I don't know about others, but) I have held back complaining because we don't have an official policy on it (",https://github.com/bitcoin/bitcoin/pull/9506#discussion_r95508002,95508002,doc/developer-notes.md
