[
  {
    "sha": "fa53d3d8266ad0257315d07b71b4f8a711134622",
    "node_id": "C_kwDOABII59oAKGZhNTNkM2Q4MjY2YWQwMjU3MzE1ZDA3YjcxYjRmOGE3MTExMzQ2MjI",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-10-11T12:09:11Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-10-12T10:44:41Z"
      },
      "message": "test: Check that bitcoin-tx accepts whitespace around sequence id and multisig numbers",
      "tree": {
        "sha": "969cffc7765df21c74ee50a9775ab10afe8fc4e5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/969cffc7765df21c74ee50a9775ab10afe8fc4e5"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa53d3d8266ad0257315d07b71b4f8a711134622",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUh4IQwAx7mxGZCwkHf9hcc+s37dFZkchAFagFUu8HEWnB3J8Nm+ObPJhz5lT/Kn\nIooedHRmN19NXcdz82GU5brMfCj5xMwuEP93BQg8IbefebmUOaocm5Lzmr6PPsHu\nyieZdAad3L+g5bamawsOPOjpSje9PChV/mh3EA+Kk5P0QaB/Ol/4gymEN0nsbMNF\n5cmEt94D0vnmKJ2RdXy4niagpmIWaTMwY7AsrJ9I1NA0KmogkLgeTUWFVnnz6uwy\niD7CKg4wZqxlKckgX9v2/LHLbRs6Ohj+5uo5NhZVHS/NpqutgwH/+toq6xwuuaov\noVEnwncyTpd+ly7vR/LUdCO08GRY9G//T1rlMOw7lLI0RwX/Vb88BDAIOjPi+jKw\n/elb2hRHAPGvP4tZWuvIZnJvNrOE/5n4QEcyNY+eATxz26Y2L9NP1H/OlEIeSmHf\nLkFyy9ky2qoweFXYq9H4AxZNWoUv2fHPRJ8sLJamYp7lviuE/rRIY02gs+WKlAIf\nzXdktm9T\n=h42d\n-----END PGP SIGNATURE-----",
        "payload": "tree 969cffc7765df21c74ee50a9775ab10afe8fc4e5\nparent 8df7eee5e1c8ad6b224aa00bcfd7a04a974362c4\nauthor MarcoFalke <falke.marco@gmail.com> 1633954151 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1634035481 +0200\n\ntest: Check that bitcoin-tx accepts whitespace around sequence id and multisig numbers\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa53d3d8266ad0257315d07b71b4f8a711134622",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa53d3d8266ad0257315d07b71b4f8a711134622",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa53d3d8266ad0257315d07b71b4f8a711134622/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8df7eee5e1c8ad6b224aa00bcfd7a04a974362c4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8df7eee5e1c8ad6b224aa00bcfd7a04a974362c4",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8df7eee5e1c8ad6b224aa00bcfd7a04a974362c4"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 10,
      "deletions": 2
    },
    "files": [
      {
        "sha": "7228885c9dbb5b205c2e0c2f9e207e60e424ae50",
        "filename": "test/util/data/bitcoin-util-test.json",
        "status": "modified",
        "additions": 10,
        "deletions": 2,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa53d3d8266ad0257315d07b71b4f8a711134622/test/util/data/bitcoin-util-test.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa53d3d8266ad0257315d07b71b4f8a711134622/test/util/data/bitcoin-util-test.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/bitcoin-util-test.json?ref=fa53d3d8266ad0257315d07b71b4f8a711134622",
        "patch": "@@ -523,6 +523,14 @@\n     \"output_cmp\": \"txcreatedata_seq0.hex\",\n     \"description\": \"Creates a new transaction with one input with sequence number and one address output\"\n   },\n+  { \"exec\": \"./bitcoin-tx\",\n+    \"args\":\n+    [\"-create\",\n+     \"in=5897de6bd6027a475eadd57019d4e6872c396d0716c4875a5f1a6fcfdf385c1f:0: 4294967293 \",\n+     \"outaddr=0.18:13tuJJDR2RgArmgfv6JScSdreahzgc4T6o\"],\n+    \"output_cmp\": \"txcreatedata_seq0.hex\",\n+    \"description\": \"Creates a new transaction with one input with sequence number (+whitespace) and one address output\"\n+  },\n   { \"exec\": \"./bitcoin-tx\",\n     \"args\":\n     [\"-json\",\n@@ -553,9 +561,9 @@\n     \"description\": \"Creates a new transaction with a single 2-of-3 multisig output\"\n   },\n   { \"exec\": \"./bitcoin-tx\",\n-    \"args\": [\"-json\", \"-create\", \"outmultisig=1:2:3:02a5613bd857b7048924264d1e70e08fb2a7e6527d32b7ab1bb993ac59964ff397:021ac43c7ff740014c3b33737ede99c967e4764553d1b2b83db77c83b8715fa72d:02df2089105c77f266fa11a9d33f05c735234075f2e8780824c6b709415f9fb485\", \"nversion=1\"],\n+    \"args\": [\"-json\", \"-create\", \"outmultisig=1: 2 : 3 :02a5613bd857b7048924264d1e70e08fb2a7e6527d32b7ab1bb993ac59964ff397:021ac43c7ff740014c3b33737ede99c967e4764553d1b2b83db77c83b8715fa72d:02df2089105c77f266fa11a9d33f05c735234075f2e8780824c6b709415f9fb485\", \"nversion=1\"],\n     \"output_cmp\": \"txcreatemultisig1.json\",\n-    \"description\": \"Creates a new transaction with a single 2-of-3 multisig output (output in json)\"\n+    \"description\": \"Creates a new transaction with a single 2-of-3 multisig output (with whitespace, output in json)\"\n   },\n   { \"exec\": \"./bitcoin-tx\",\n     \"args\": [\"-create\", \"outmultisig=1:2:3:02a5613bd857b7048924264d1e70e08fb2a7e6527d32b7ab1bb993ac59964ff397:021ac43c7ff740014c3b33737ede99c967e4764553d1b2b83db77c83b8715fa72d:02df2089105c77f266fa11a9d33f05c735234075f2e8780824c6b709415f9fb485:S\", \"nversion=1\"],"
      }
    ]
  },
  {
    "sha": "fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6",
    "node_id": "C_kwDOABII59oAKGZhZmFiOGVhNWU2ZWQ2Yjg3ZmFjNTdhNWNkMTZhODEzNTIzNmNkZDY",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-10-11T12:21:03Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-10-12T10:45:50Z"
      },
      "message": "bitcoin-tx: Reject non-integral and out of range sequence ids",
      "tree": {
        "sha": "5e8bb26778b4ab8222941f3fc97800aa2cba3bb7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5e8bb26778b4ab8222941f3fc97800aa2cba3bb7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUho+QwAzkw4MJplfDBwePQrJjVmt8A2oHc5rJ0yQb2XSupnzcMjRJY5cOyA2RI2\nqpyCzOT7HpuAWX2pNhshsgfshFlx0TuSo7TvRmjjBsbRpBhzyDxVPhhCl9Z3qjbf\ngJgauzX3wTf5eKGsuHzESxJO/gbz0Y+78YPtUowV9XwrTTDBD1xWwhpKEKjzCom0\ndoIfTMJzmw3jzCvJx8IchVpTgacYtYdmRNJB4jYGmZ8pAdK9CipGsXDGB0uZf2Wy\nv9ajaWoZBuJ2M3cnK9JrphqukoWq/bpA/Ma1vXKz8sADEsSWNbAaoBZFk3ezGRC1\nQejHzfzd20omPoMbBrPzIWWAjds5dH+v8YpzOtk7pycMVfx3aJL5t5oa7RLaymTy\nzNlHrHOLI5pvAKdEjcxv8yQ05detCk/WZ+82xocNNu1lhdr/HrmUKiMxQDDyeeqK\nROVk3WRy6YPFwbKj93REhNHYaFo4tPy99blh58QaqEEFoqkcXXahwtqVxCj6h5QB\nRFur9RK2\n=6hd9\n-----END PGP SIGNATURE-----",
        "payload": "tree 5e8bb26778b4ab8222941f3fc97800aa2cba3bb7\nparent fa53d3d8266ad0257315d07b71b4f8a711134622\nauthor MarcoFalke <falke.marco@gmail.com> 1633954863 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1634035550 +0200\n\nbitcoin-tx: Reject non-integral and out of range sequence ids\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa53d3d8266ad0257315d07b71b4f8a711134622",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa53d3d8266ad0257315d07b71b4f8a711134622",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa53d3d8266ad0257315d07b71b4f8a711134622"
      }
    ],
    "stats": {
      "total": 40,
      "additions": 37,
      "deletions": 3
    },
    "files": [
      {
        "sha": "4a9818d4ec1d2aecd7dddad9a6c4e8d48de62582",
        "filename": "src/bitcoin-tx.cpp",
        "status": "modified",
        "additions": 13,
        "deletions": 2,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6/src/bitcoin-tx.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6/src/bitcoin-tx.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoin-tx.cpp?ref=fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6",
        "patch": "@@ -235,6 +235,16 @@ static void MutateTxRBFOptIn(CMutableTransaction& tx, const std::string& strInId\n     }\n }\n \n+template <typename T>\n+static T TrimAndParse(const std::string& int_str, const std::string& err)\n+{\n+    const auto parsed{ToIntegral<T>(TrimString(int_str))};\n+    if (!parsed.has_value()) {\n+        throw std::runtime_error(err + \" '\" + int_str + \"'\");\n+    }\n+    return parsed.value();\n+}\n+\n static void MutateTxAddInput(CMutableTransaction& tx, const std::string& strInput)\n {\n     std::vector<std::string> vStrInputParts;\n@@ -261,8 +271,9 @@ static void MutateTxAddInput(CMutableTransaction& tx, const std::string& strInpu\n \n     // extract the optional sequence number\n     uint32_t nSequenceIn = CTxIn::SEQUENCE_FINAL;\n-    if (vStrInputParts.size() > 2)\n-        nSequenceIn = std::stoul(vStrInputParts[2]);\n+    if (vStrInputParts.size() > 2) {\n+        nSequenceIn = TrimAndParse<uint32_t>(vStrInputParts.at(2), \"invalid TX sequence id\");\n+    }\n \n     // append to transaction input list\n     CTxIn txin(txid, vout, CScript(), nSequenceIn);"
      },
      {
        "sha": "6ccd8638d33fda682d9113d76936dbc6df28e96b",
        "filename": "test/lint/lint-locale-dependence.sh",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6/test/lint/lint-locale-dependence.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6/test/lint/lint-locale-dependence.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/lint/lint-locale-dependence.sh?ref=fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6",
        "patch": "@@ -41,7 +41,6 @@ export LC_ALL=C\n #       independent ToIntegral<T>(...) or the ParseInt*() functions.\n # TODO: Reduce KNOWN_VIOLATIONS by replacing uses of locale dependent snprintf with strprintf.\n KNOWN_VIOLATIONS=(\n-    \"src/bitcoin-tx.cpp.*stoul\"\n     \"src/dbwrapper.cpp:.*vsnprintf\"\n     \"src/rest.cpp:.*strtol\"\n     \"src/test/dbwrapper_tests.cpp:.*snprintf\""
      },
      {
        "sha": "36ebda774b483a84360c53bd6df800ad8eb91262",
        "filename": "test/util/data/bitcoin-util-test.json",
        "status": "modified",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6/test/util/data/bitcoin-util-test.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6/test/util/data/bitcoin-util-test.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/bitcoin-util-test.json?ref=fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6",
        "patch": "@@ -515,6 +515,30 @@\n     \"output_cmp\": \"txcreatedata2.json\",\n     \"description\": \"Creates a new transaction with one input, one address output and one data (zero value) output (output in json)\"\n   },\n+  { \"exec\": \"./bitcoin-tx\",\n+    \"args\":\n+    [\"-create\",\n+     \"in=5897de6bd6027a475eadd57019d4e6872c396d0716c4875a5f1a6fcfdf385c1f:0:11aa\"],\n+    \"return_code\": 1,\n+    \"error_txt\": \"error: invalid TX sequence id '11aa'\",\n+    \"description\": \"Try to parse a sequence number outside the allowed range\"\n+  },\n+  { \"exec\": \"./bitcoin-tx\",\n+    \"args\":\n+    [\"-create\",\n+     \"in=5897de6bd6027a475eadd57019d4e6872c396d0716c4875a5f1a6fcfdf385c1f:0:-1\"],\n+    \"return_code\": 1,\n+    \"error_txt\": \"error: invalid TX sequence id '-1'\",\n+    \"description\": \"Try to parse a sequence number outside the allowed range\"\n+  },\n+  { \"exec\": \"./bitcoin-tx\",\n+    \"args\":\n+    [\"-create\",\n+     \"in=5897de6bd6027a475eadd57019d4e6872c396d0716c4875a5f1a6fcfdf385c1f:0:4294967296\"],\n+    \"return_code\": 1,\n+    \"error_txt\": \"error: invalid TX sequence id '4294967296'\",\n+    \"description\": \"Try to parse a sequence number outside the allowed range\"\n+  },\n   { \"exec\": \"./bitcoin-tx\",\n     \"args\":\n     [\"-create\","
      }
    ]
  },
  {
    "sha": "fa6f29de516c7af5206b91b59ada466032329250",
    "node_id": "C_kwDOABII59oAKGZhNmYyOWRlNTE2YzdhZjUyMDZiOTFiNTlhZGE0NjYwMzIzMjkyNTA",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-10-11T12:33:38Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-10-12T10:45:55Z"
      },
      "message": "bitcoin-tx: Reject non-integral and out of range multisig numbers",
      "tree": {
        "sha": "f801970990784f05f419ad5d14de16675d453654",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f801970990784f05f419ad5d14de16675d453654"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa6f29de516c7af5206b91b59ada466032329250",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUjVHQwAhL1YiVNPMtetRmrB+FuOvRnqTdC3+Pw/HVBwCFJLiJlBs/wm0UAz+xLG\nzfQ+Yg4/ezBvu+e8jtwZd16jGBQBBSY2l2i8fy1bIKk2T0H8BLerAmjhU9L2lMKV\ntrIKIcLlN+YH2lzu0jyZa6a765Z/1MJh3V5o+eOMyHEATtJqIE3/LqV4kbbA0J3b\nGv+DJdifDtprJeF4lS/Z9iGU4awKCtO6lhyCRhux81iFhT6plWy0sSG0y5HRm4jm\nZZKtpPBGO1k+QpSEBZupf2II8IyQq1FDa9Vpa246sn+UaJnn4ob0WOhxhRoTabBR\n8z5SYViHcsxkz7TcDlDN7CXdcxtDvuXvIEUpB2yxa2U1K3GTU2ZLdLkgJQGI8YSl\n8fqmOUjq/sbpvAt0e7APSZD7oLE2lgrAK5lSyuYAhCPedJF44I11PdO8wvKW7qWW\nS+TFTqXwAc6qBKgi1poOOOpEpFB/8UEsNpjVrgwjKoYLObP8swfEQVqqBxnoDSr9\n4tgjMtQS\n=qsM1\n-----END PGP SIGNATURE-----",
        "payload": "tree f801970990784f05f419ad5d14de16675d453654\nparent fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6\nauthor MarcoFalke <falke.marco@gmail.com> 1633955618 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1634035555 +0200\n\nbitcoin-tx: Reject non-integral and out of range multisig numbers\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa6f29de516c7af5206b91b59ada466032329250",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa6f29de516c7af5206b91b59ada466032329250",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa6f29de516c7af5206b91b59ada466032329250/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fafab8ea5e6ed6b87fac57a5cd16a8135236cdd6"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 14,
      "deletions": 2
    },
    "files": [
      {
        "sha": "eb97cfc6f6ec12f884022e9fc7a8429a429f2fea",
        "filename": "src/bitcoin-tx.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa6f29de516c7af5206b91b59ada466032329250/src/bitcoin-tx.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa6f29de516c7af5206b91b59ada466032329250/src/bitcoin-tx.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoin-tx.cpp?ref=fa6f29de516c7af5206b91b59ada466032329250",
        "patch": "@@ -363,10 +363,10 @@ static void MutateTxAddOutMultiSig(CMutableTransaction& tx, const std::string& s\n     CAmount value = ExtractAndValidateValue(vStrInputParts[0]);\n \n     // Extract REQUIRED\n-    uint32_t required = stoul(vStrInputParts[1]);\n+    const uint32_t required{TrimAndParse<uint32_t>(vStrInputParts.at(1), \"invalid multisig required number\")};\n \n     // Extract NUMKEYS\n-    uint32_t numkeys = stoul(vStrInputParts[2]);\n+    const uint32_t numkeys{TrimAndParse<uint32_t>(vStrInputParts.at(2), \"invalid multisig total number\")};\n \n     // Validate there are the correct number of pubkeys\n     if (vStrInputParts.size() < numkeys + 3)"
      },
      {
        "sha": "cca5732aa15a7fa317f6770f298d22c8b2f29b86",
        "filename": "test/util/data/bitcoin-util-test.json",
        "status": "modified",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa6f29de516c7af5206b91b59ada466032329250/test/util/data/bitcoin-util-test.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa6f29de516c7af5206b91b59ada466032329250/test/util/data/bitcoin-util-test.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/bitcoin-util-test.json?ref=fa6f29de516c7af5206b91b59ada466032329250",
        "patch": "@@ -579,6 +579,18 @@\n     \"output_cmp\": \"txcreatedata_seq1.json\",\n     \"description\": \"Adds a new input with sequence number to a transaction (output in json)\"\n   },\n+  { \"exec\": \"./bitcoin-tx\",\n+    \"args\": [\"-create\", \"outmultisig=1:-2:3:02a5:021:02df\", \"nversion=1\"],\n+    \"return_code\": 1,\n+    \"error_txt\": \"error: invalid multisig required number '-2'\",\n+    \"description\": \"Try to parse a multisig number outside the allowed range\"\n+  },\n+  { \"exec\": \"./bitcoin-tx\",\n+    \"args\": [\"-create\", \"outmultisig=1:2:3a:02a5:021:02df\", \"nversion=1\"],\n+    \"return_code\": 1,\n+    \"error_txt\": \"error: invalid multisig total number '3a'\",\n+    \"description\": \"Try to parse a multisig number outside the allowed range\"\n+  },\n   { \"exec\": \"./bitcoin-tx\",\n     \"args\": [\"-create\", \"outmultisig=1:2:3:02a5613bd857b7048924264d1e70e08fb2a7e6527d32b7ab1bb993ac59964ff397:021ac43c7ff740014c3b33737ede99c967e4764553d1b2b83db77c83b8715fa72d:02df2089105c77f266fa11a9d33f05c735234075f2e8780824c6b709415f9fb485\", \"nversion=1\"],\n     \"output_cmp\": \"txcreatemultisig1.hex\","
      }
    ]
  }
]