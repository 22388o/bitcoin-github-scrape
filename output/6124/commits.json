[
  {
    "sha": "99088d60d8a7747c6d1a7fd5d8cd388be1b3e138",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5OTA4OGQ2MGQ4YTc3NDdjNmQxYTdmZDVkOGNkMzg4YmUxYjNlMTM4",
    "commit": {
      "author": {
        "name": "Peter Todd",
        "email": "pete@petertodd.org",
        "date": "2014-09-29T05:00:01Z"
      },
      "committer": {
        "name": "Peter Todd",
        "email": "pete@petertodd.org",
        "date": "2015-05-09T08:29:47Z"
      },
      "message": "Make CScriptNum() take nMaxNumSize as an argument\n\nWhile the existing numeric opcodes are all limited to 4-byte bignum\narguments, new opcodes will need different limits.",
      "tree": {
        "sha": "07b2c24e6eefb91b9bbc749824824d3e62625759",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/07b2c24e6eefb91b9bbc749824824d3e62625759"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99088d60d8a7747c6d1a7fd5d8cd388be1b3e138",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/99088d60d8a7747c6d1a7fd5d8cd388be1b3e138",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/99088d60d8a7747c6d1a7fd5d8cd388be1b3e138",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/99088d60d8a7747c6d1a7fd5d8cd388be1b3e138/comments",
    "author": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7eb66182f3799e695f655e40d58ed2fdaa7044e1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7eb66182f3799e695f655e40d58ed2fdaa7044e1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7eb66182f3799e695f655e40d58ed2fdaa7044e1"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 5,
      "deletions": 4
    },
    "files": [
      {
        "sha": "a4b9de30468f3e4c8be0d3047a89cc7045c43408",
        "filename": "src/script/script.h",
        "status": "modified",
        "additions": 4,
        "deletions": 3,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/99088d60d8a7747c6d1a7fd5d8cd388be1b3e138/src/script/script.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/99088d60d8a7747c6d1a7fd5d8cd388be1b3e138/src/script/script.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/script.h?ref=99088d60d8a7747c6d1a7fd5d8cd388be1b3e138",
        "patch": "@@ -195,7 +195,10 @@ class CScriptNum\n         m_value = n;\n     }\n \n-    explicit CScriptNum(const std::vector<unsigned char>& vch, bool fRequireMinimal)\n+    static const size_t nDefaultMaxNumSize = 4;\n+\n+    explicit CScriptNum(const std::vector<unsigned char>& vch, bool fRequireMinimal,\n+                        const size_t nMaxNumSize = nDefaultMaxNumSize)\n     {\n         if (vch.size() > nMaxNumSize) {\n             throw scriptnum_error(\"script number overflow\");\n@@ -318,8 +321,6 @@ class CScriptNum\n         return result;\n     }\n \n-    static const size_t nMaxNumSize = 4;\n-\n private:\n     static int64_t set_vch(const std::vector<unsigned char>& vch)\n     {"
      },
      {
        "sha": "d95724dbe17b7d89ab7bba5c103ca75645dcf52c",
        "filename": "src/test/scriptnum_tests.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/99088d60d8a7747c6d1a7fd5d8cd388be1b3e138/src/test/scriptnum_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/99088d60d8a7747c6d1a7fd5d8cd388be1b3e138/src/test/scriptnum_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/scriptnum_tests.cpp?ref=99088d60d8a7747c6d1a7fd5d8cd388be1b3e138",
        "patch": "@@ -145,7 +145,7 @@ static void RunCreate(const int64_t& num)\n {\n     CheckCreateInt(num);\n     CScriptNum scriptnum(num);\n-    if (scriptnum.getvch().size() <= CScriptNum::nMaxNumSize)\n+    if (scriptnum.getvch().size() <= CScriptNum::nDefaultMaxNumSize)\n         CheckCreateVch(num);\n     else\n     {"
      }
    ]
  },
  {
    "sha": "48e9c57cf06352f890eac4285ae022d8746cf3fd",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0OGU5YzU3Y2YwNjM1MmY4OTBlYWM0Mjg1YWUwMjJkODc0NmNmM2Zk",
    "commit": {
      "author": {
        "name": "Peter Todd",
        "email": "pete@petertodd.org",
        "date": "2014-09-29T05:02:59Z"
      },
      "committer": {
        "name": "Peter Todd",
        "email": "pete@petertodd.org",
        "date": "2015-05-09T08:33:49Z"
      },
      "message": "Move LOCKTIME_THRESHOLD to src/script/script.h\n\nWill now be needed by CHECKLOCKTIMEVERIFY code.",
      "tree": {
        "sha": "100a64bf4a6b04dbeaae983c320a00c65a07441f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/100a64bf4a6b04dbeaae983c320a00c65a07441f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/48e9c57cf06352f890eac4285ae022d8746cf3fd",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48e9c57cf06352f890eac4285ae022d8746cf3fd",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/48e9c57cf06352f890eac4285ae022d8746cf3fd",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48e9c57cf06352f890eac4285ae022d8746cf3fd/comments",
    "author": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "99088d60d8a7747c6d1a7fd5d8cd388be1b3e138",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/99088d60d8a7747c6d1a7fd5d8cd388be1b3e138",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/99088d60d8a7747c6d1a7fd5d8cd388be1b3e138"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 4,
      "deletions": 2
    },
    "files": [
      {
        "sha": "f937844e9f7e15391537db3aea9cdfadd1a94617",
        "filename": "src/consensus/consensus.h",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/48e9c57cf06352f890eac4285ae022d8746cf3fd/src/consensus/consensus.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/48e9c57cf06352f890eac4285ae022d8746cf3fd/src/consensus/consensus.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/consensus/consensus.h?ref=48e9c57cf06352f890eac4285ae022d8746cf3fd",
        "patch": "@@ -12,7 +12,5 @@ static const unsigned int MAX_BLOCK_SIZE = 1000000;\n static const unsigned int MAX_BLOCK_SIGOPS = MAX_BLOCK_SIZE/50;\n /** Coinbase transaction outputs can only be spent after this number of new blocks (network rule) */\n static const int COINBASE_MATURITY = 100;\n-/** Threshold for nLockTime: below this value it is interpreted as block number, otherwise as UNIX timestamp. */\n-static const unsigned int LOCKTIME_THRESHOLD = 500000000; // Tue Nov  5 00:53:20 1985 UTC\n \n #endif // BITCOIN_CONSENSUS_CONSENSUS_H"
      },
      {
        "sha": "45a06acc9f6cbf3c9957cdcd2ef2c0e756d874e0",
        "filename": "src/script/script.h",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/48e9c57cf06352f890eac4285ae022d8746cf3fd/src/script/script.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/48e9c57cf06352f890eac4285ae022d8746cf3fd/src/script/script.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/script.h?ref=48e9c57cf06352f890eac4285ae022d8746cf3fd",
        "patch": "@@ -18,6 +18,10 @@\n \n static const unsigned int MAX_SCRIPT_ELEMENT_SIZE = 520; // bytes\n \n+// Threshold for nLockTime: below this value it is interpreted as block number,\n+// otherwise as UNIX timestamp.\n+static const unsigned int LOCKTIME_THRESHOLD = 500000000; // Tue Nov  5 00:53:20 1985 UTC\n+\n template <typename T>\n std::vector<unsigned char> ToByteVector(const T& in)\n {"
      }
    ]
  },
  {
    "sha": "bc60b2b4b401f0adff5b8b9678903ff8feb5867b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYzYwYjJiNGI0MDFmMGFkZmY1YjhiOTY3ODkwM2ZmOGZlYjU4Njdi",
    "commit": {
      "author": {
        "name": "Peter Todd",
        "email": "pete@petertodd.org",
        "date": "2014-09-29T07:44:25Z"
      },
      "committer": {
        "name": "Peter Todd",
        "email": "pete@petertodd.org",
        "date": "2015-06-22T03:56:28Z"
      },
      "message": "Replace NOP2 with CHECKLOCKTIMEVERIFY (BIP65)\n\n<nLockTime> CHECKLOCKTIMEVERIFY -> <nLockTime>\n\nFails if tx.nLockTime < nLockTime, allowing the funds in a txout to be\nlocked until some block height or block time in the future is reached.\n\nOnly the logic and unittests are implemented; this commit does not have\nany actual soft-fork logic in it.\n\nThanks to Pieter Wuille for rebase.\n\nCredit goes to Gregory Maxwell for the suggestion of comparing the\nargument against the transaction nLockTime rather than the current\ntime/blockheight directly.",
      "tree": {
        "sha": "07c94b39b1fa36c942112dff9085cd870acf3d1a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/07c94b39b1fa36c942112dff9085cd870acf3d1a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bc60b2b4b401f0adff5b8b9678903ff8feb5867b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bc60b2b4b401f0adff5b8b9678903ff8feb5867b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/bc60b2b4b401f0adff5b8b9678903ff8feb5867b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/comments",
    "author": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "48e9c57cf06352f890eac4285ae022d8746cf3fd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48e9c57cf06352f890eac4285ae022d8746cf3fd",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/48e9c57cf06352f890eac4285ae022d8746cf3fd"
      }
    ],
    "stats": {
      "total": 212,
      "additions": 209,
      "deletions": 3
    },
    "files": [
      {
        "sha": "0b78fdf5a8eed9c6c3e06ff3ab26a5a224ff1ab2",
        "filename": "src/script/interpreter.cpp",
        "status": "modified",
        "additions": 81,
        "deletions": 2,
        "changes": 83,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/script/interpreter.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/script/interpreter.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/interpreter.cpp?ref=bc60b2b4b401f0adff5b8b9678903ff8feb5867b",
        "patch": "@@ -335,9 +335,51 @@ bool EvalScript(vector<vector<unsigned char> >& stack, const CScript& script, un\n                 // Control\n                 //\n                 case OP_NOP:\n-                break;\n+                    break;\n+\n+                case OP_CHECKLOCKTIMEVERIFY:\n+                {\n+                    if (!(flags & SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)) {\n+                        // not enabled; treat as a NOP2\n+                        if (flags & SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS) {\n+                            return set_error(serror, SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS);\n+                        }\n+                        break;\n+                    }\n+\n+                    if (stack.size() < 1)\n+                        return set_error(serror, SCRIPT_ERR_INVALID_STACK_OPERATION);\n+\n+                    // Note that elsewhere numeric opcodes are limited to\n+                    // operands in the range -2**31+1 to 2**31-1, however it is\n+                    // legal for opcodes to produce results exceeding that\n+                    // range. This limitation is implemented by CScriptNum's\n+                    // default 4-byte limit.\n+                    //\n+                    // If we kept to that limit we'd have a year 2038 problem,\n+                    // even though the nLockTime field in transactions\n+                    // themselves is uint32 which only becomes meaningless\n+                    // after the year 2106.\n+                    //\n+                    // Thus as a special case we tell CScriptNum to accept up\n+                    // to 5-byte bignums, which are good until 2**39-1, well\n+                    // beyond the 2**32-1 limit of the nLockTime field itself.\n+                    const CScriptNum nLockTime(stacktop(-1), fRequireMinimal, 5);\n+\n+                    // In the rare event that the argument may be < 0 due to\n+                    // some arithmetic being done first, you can always use\n+                    // 0 MAX CHECKLOCKTIMEVERIFY.\n+                    if (nLockTime < 0)\n+                        return set_error(serror, SCRIPT_ERR_NEGATIVE_LOCKTIME);\n+\n+                    // Actually compare the specified lock time with the transaction.\n+                    if (!checker.CheckLockTime(nLockTime))\n+                        return set_error(serror, SCRIPT_ERR_UNSATISFIED_LOCKTIME);\n+\n+                    break;\n+                }\n \n-                case OP_NOP1: case OP_NOP2: case OP_NOP3: case OP_NOP4: case OP_NOP5:\n+                case OP_NOP1: case OP_NOP3: case OP_NOP4: case OP_NOP5:\n                 case OP_NOP6: case OP_NOP7: case OP_NOP8: case OP_NOP9: case OP_NOP10:\n                 {\n                     if (flags & SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)\n@@ -1084,6 +1126,43 @@ bool TransactionSignatureChecker::CheckSig(const vector<unsigned char>& vchSigIn\n     return true;\n }\n \n+bool TransactionSignatureChecker::CheckLockTime(const CScriptNum& nLockTime) const\n+{\n+    // There are two times of nLockTime: lock-by-blockheight\n+    // and lock-by-blocktime, distinguished by whether\n+    // nLockTime < LOCKTIME_THRESHOLD.\n+    //\n+    // We want to compare apples to apples, so fail the script\n+    // unless the type of nLockTime being tested is the same as\n+    // the nLockTime in the transaction.\n+    if (!(\n+        (txTo->nLockTime <  LOCKTIME_THRESHOLD && nLockTime <  LOCKTIME_THRESHOLD) ||\n+        (txTo->nLockTime >= LOCKTIME_THRESHOLD && nLockTime >= LOCKTIME_THRESHOLD)\n+    ))\n+        return false;\n+\n+    // Now that we know we're comparing apples-to-apples, the\n+    // comparison is a simple numeric one.\n+    if (nLockTime > (int64_t)txTo->nLockTime)\n+        return false;\n+\n+    // Finally the nLockTime feature can be disabled and thus\n+    // CHECKLOCKTIMEVERIFY bypassed if every txin has been\n+    // finalized by setting nSequence to maxint. The\n+    // transaction would be allowed into the blockchain, making\n+    // the opcode ineffective.\n+    //\n+    // Testing if this vin is not final is sufficient to\n+    // prevent this condition. Alternatively we could test all\n+    // inputs, but testing just this input minimizes the data\n+    // required to prove correct CHECKLOCKTIMEVERIFY execution.\n+    if (txTo->vin[nIn].IsFinal())\n+        return false;\n+\n+    return true;\n+}\n+\n+\n bool VerifyScript(const CScript& scriptSig, const CScript& scriptPubKey, unsigned int flags, const BaseSignatureChecker& checker, ScriptError* serror)\n {\n     set_error(serror, SCRIPT_ERR_UNKNOWN_ERROR);"
      },
      {
        "sha": "35d572f0ad8c10a507fd6fa760f6c2948bfd1834",
        "filename": "src/script/interpreter.h",
        "status": "modified",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/script/interpreter.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/script/interpreter.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/interpreter.h?ref=bc60b2b4b401f0adff5b8b9678903ff8feb5867b",
        "patch": "@@ -76,6 +76,11 @@ enum\n     // (softfork safe, BIP62 rule 6)\n     // Note: CLEANSTACK should never be used without P2SH.\n     SCRIPT_VERIFY_CLEANSTACK = (1U << 8),\n+\n+    // Verify CHECKLOCKTIMEVERIFY\n+    //\n+    // See BIP65 for details.\n+    SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY = (1U << 9),\n };\n \n uint256 SignatureHash(const CScript &scriptCode, const CTransaction& txTo, unsigned int nIn, int nHashType);\n@@ -88,6 +93,11 @@ class BaseSignatureChecker\n         return false;\n     }\n \n+    virtual bool CheckLockTime(const CScriptNum& nLockTime) const\n+    {\n+         return false;\n+    }\n+\n     virtual ~BaseSignatureChecker() {}\n };\n \n@@ -103,6 +113,7 @@ class TransactionSignatureChecker : public BaseSignatureChecker\n public:\n     TransactionSignatureChecker(const CTransaction* txToIn, unsigned int nInIn) : txTo(txToIn), nIn(nInIn) {}\n     bool CheckSig(const std::vector<unsigned char>& scriptSig, const std::vector<unsigned char>& vchPubKey, const CScript& scriptCode) const;\n+    bool CheckLockTime(const CScriptNum& nLockTime) const;\n };\n \n class MutableTransactionSignatureChecker : public TransactionSignatureChecker"
      },
      {
        "sha": "be2a57c3bc2cef4455d26f8c2cb0c05ad1e3ea59",
        "filename": "src/script/script.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/script/script.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/script/script.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/script.h?ref=bc60b2b4b401f0adff5b8b9678903ff8feb5867b",
        "patch": "@@ -154,6 +154,7 @@ enum opcodetype\n     // expansion\n     OP_NOP1 = 0xb0,\n     OP_NOP2 = 0xb1,\n+    OP_CHECKLOCKTIMEVERIFY = OP_NOP2,\n     OP_NOP3 = 0xb2,\n     OP_NOP4 = 0xb3,\n     OP_NOP5 = 0xb4,"
      },
      {
        "sha": "f1aa1fb408ae57ee4d89e860e5f24211c709af44",
        "filename": "src/script/script_error.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/script/script_error.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/script/script_error.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/script_error.cpp?ref=bc60b2b4b401f0adff5b8b9678903ff8feb5867b",
        "patch": "@@ -47,6 +47,10 @@ const char* ScriptErrorString(const ScriptError serror)\n             return \"OP_RETURN was encountered\";\n         case SCRIPT_ERR_UNBALANCED_CONDITIONAL:\n             return \"Invalid OP_IF construction\";\n+        case SCRIPT_ERR_NEGATIVE_LOCKTIME:\n+            return \"Negative locktime\";\n+        case SCRIPT_ERR_UNSATISFIED_LOCKTIME:\n+            return \"Locktime requirement not satisfied\";\n         case SCRIPT_ERR_SIG_HASHTYPE:\n             return \"Signature hash type missing or not understood\";\n         case SCRIPT_ERR_SIG_DER:"
      },
      {
        "sha": "bb10b8a2932a53eb72342581a95b6b712d41a4d2",
        "filename": "src/script/script_error.h",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/script/script_error.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/script/script_error.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/script_error.h?ref=bc60b2b4b401f0adff5b8b9678903ff8feb5867b",
        "patch": "@@ -35,6 +35,10 @@ typedef enum ScriptError_t\n     SCRIPT_ERR_INVALID_ALTSTACK_OPERATION,\n     SCRIPT_ERR_UNBALANCED_CONDITIONAL,\n \n+    /* OP_CHECKLOCKTIMEVERIFY */\n+    SCRIPT_ERR_NEGATIVE_LOCKTIME,\n+    SCRIPT_ERR_UNSATISFIED_LOCKTIME,\n+\n     /* BIP62 */\n     SCRIPT_ERR_SIG_HASHTYPE,\n     SCRIPT_ERR_SIG_DER,"
      },
      {
        "sha": "9def4042da30bb7e21c05b05f5e6de11185e063d",
        "filename": "src/test/data/tx_invalid.json",
        "status": "modified",
        "additions": 64,
        "deletions": 0,
        "changes": 64,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/test/data/tx_invalid.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/test/data/tx_invalid.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/tx_invalid.json?ref=bc60b2b4b401f0adff5b8b9678903ff8feb5867b",
        "patch": "@@ -120,6 +120,70 @@\n [[[\"a955032f4d6b0c9bfe8cad8f00a8933790b9c1dc28c82e0f48e75b35da0e4944\", 0, \"IF CODESEPARATOR ENDIF 0x21 0x0378d430274f8c5ec1321338151e9f27f4c676a008bdf8638d07c0b6be9ab35c71 CHECKSIGVERIFY CODESEPARATOR 1\"]],\n \"010000000144490eda355be7480f2ec828dcc1b9903793a8008fad8cfe9b0c6b4d2f0355a9000000004a483045022100fa4a74ba9fd59c59f46c3960cf90cbe0d2b743c471d24a3d5d6db6002af5eebb02204d70ec490fd0f7055a7c45f86514336e3a7f03503dacecabb247fc23f15c83510100ffffffff010000000000000000016a00000000\", \"P2SH\"],\n \n+[\"CHECKLOCKTIMEVERIFY tests\"],\n+\n+[\"By-height locks, with argument just beyond tx nLockTime\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"1 NOP2 1\"]],\n+\"010000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"499999999 NOP2 1\"]],\n+\"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000fe64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"By-time locks, with argument just beyond tx nLockTime (but within numerical boundries)\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"500000001 NOP2 1\"]],\n+\"01000000010001000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000065cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967295 NOP2 1\"]],\n+\"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000feffffff\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"Argument missing\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"NOP2 1\"]],\n+\"010000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"Argument negative with by-blockheight nLockTime=0\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"-1 NOP2 1\"]],\n+\"010000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"Argument negative with by-blocktime nLockTime=500,000,000\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"-1 NOP2 1\"]],\n+\"01000000010001000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000065cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"Input locked\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0 NOP2 1\"]],\n+\"010000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffffff0100000000000000000000000000\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"Another input being unlocked isn't sufficient; the CHECKLOCKTIMEVERIFY-using input must be unlocked\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0 NOP2 1\"] ,\n+  [\"0000000000000000000000000000000000000000000000000000000000000200\", 1, \"1\"]],\n+\"010000000200010000000000000000000000000000000000000000000000000000000000000000000000ffffffff00020000000000000000000000000000000000000000000000000000000000000100000000000000000100000000000000000000000000\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"Argument/tx height/time mismatch, both versions\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0 NOP2 1\"]],\n+\"01000000010001000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000065cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"499999999 NOP2 1\"]],\n+\"01000000010001000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000065cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"500000000 NOP2 1\"]],\n+\"010000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"500000000 NOP2 1\"]],\n+\"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"Argument 2^32 with nLockTime=2^32-1\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967296 NOP2 1\"]],\n+\"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ffffffff\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"Same, but with nLockTime=2^31-1\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"2147483648 NOP2 1\"]],\n+\"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ffffff7f\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"6 byte non-minimally-encoded arguments are invalid even in their contents are valid\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0x06 0x000000000000 NOP2 1\"]],\n+\"010000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"Failure due to failing CHECKLOCKTIMEVERIFY in scriptSig\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"1\"]],\n+\"01000000010001000000000000000000000000000000000000000000000000000000000000000000000251b1000000000100000000000000000000000000\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"Failure due to failing CHECKLOCKTIMEVERIFY in redeemScript\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"HASH160 0x14 0xc5b93064159b3b2d6ab506a41b1f50463771b988 EQUAL\"]],\n+\"0100000001000100000000000000000000000000000000000000000000000000000000000000000000030251b1000000000100000000000000000000000000\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n \n [\"Make diffs cleaner by leaving a comment here without comma at the end\"]\n ]"
      },
      {
        "sha": "24fff575c1d8aea0ec9543cd4380fcd8b2059f14",
        "filename": "src/test/data/tx_valid.json",
        "status": "modified",
        "additions": 42,
        "deletions": 0,
        "changes": 42,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/test/data/tx_valid.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/test/data/tx_valid.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/tx_valid.json?ref=bc60b2b4b401f0adff5b8b9678903ff8feb5867b",
        "patch": "@@ -187,5 +187,47 @@\n \"0100000002dbb33bdf185b17f758af243c5d3c6e164cc873f6bb9f40c0677d6e0f8ee5afce000000006b4830450221009627444320dc5ef8d7f68f35010b4c050a6ed0d96b67a84db99fda9c9de58b1e02203e4b4aaa019e012e65d69b487fdf8719df72f488fa91506a80c49a33929f1fd50121022b78b756e2258af13779c1a1f37ea6800259716ca4b7f0b87610e0bf3ab52a01ffffffffdbb33bdf185b17f758af243c5d3c6e164cc873f6bb9f40c0677d6e0f8ee5afce010000009300483045022015bd0139bcccf990a6af6ec5c1c52ed8222e03a0d51c334df139968525d2fcd20221009f9efe325476eb64c3958e4713e9eefe49bf1d820ed58d2112721b134e2a1a5303483045022015bd0139bcccf990a6af6ec5c1c52ed8222e03a0d51c334df139968525d2fcd20221009f9efe325476eb64c3958e4713e9eefe49bf1d820ed58d2112721b134e2a1a5303ffffffff01a0860100000000001976a9149bc0bbdd3024da4d0c38ed1aecf5c68dd1d3fa1288ac00000000\", \"P2SH\"],\n \n \n+[\"CHECKLOCKTIMEVERIFY tests\"],\n+\n+[\"By-height locks, with argument == 0 and == tx nLockTime\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0 NOP2 1\"]],\n+\"010000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"499999999 NOP2 1\"]],\n+\"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0 NOP2 1\"]],\n+\"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ff64cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"By-time locks, with argument just beyond tx nLockTime (but within numerical boundries)\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"500000000 NOP2 1\"]],\n+\"01000000010001000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000065cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967295 NOP2 1\"]],\n+\"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ffffffff\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"500000000 NOP2 1\"]],\n+\"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000ffffffff\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"Any non-maxint nSequence is fine\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0 NOP2 1\"]],\n+\"010000000100010000000000000000000000000000000000000000000000000000000000000000000000feffffff0100000000000000000000000000\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"The argument can be calculated rather than created directly by a PUSHDATA\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"499999999 1ADD NOP2 1\"]],\n+\"01000000010001000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000065cd1d\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"Perhaps even by an ADD producing a 5-byte result that is out of bounds for other opcodes\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"2147483647 2147483647 ADD NOP2 1\"]],\n+\"0100000001000100000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000feffffff\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"5 byte non-minimally-encoded arguments are valid\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0x05 0x0000000000 NOP2 1\"]],\n+\"010000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"Valid CHECKLOCKTIMEVERIFY in scriptSig\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"1\"]],\n+\"01000000010001000000000000000000000000000000000000000000000000000000000000000000000251b1000000000100000000000000000001000000\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n+[\"Valid CHECKLOCKTIMEVERIFY in redeemScript\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"HASH160 0x14 0xc5b93064159b3b2d6ab506a41b1f50463771b988 EQUAL\"]],\n+\"0100000001000100000000000000000000000000000000000000000000000000000000000000000000030251b1000000000100000000000000000001000000\", \"P2SH,CHECKLOCKTIMEVERIFY\"],\n+\n [\"Make diffs cleaner by leaving a comment here without comma at the end\"]\n ]"
      },
      {
        "sha": "fe7f00a8b23ec9b0370e7822680fbdedc3eeadc9",
        "filename": "src/test/transaction_tests.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/test/transaction_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bc60b2b4b401f0adff5b8b9678903ff8feb5867b/src/test/transaction_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/transaction_tests.cpp?ref=bc60b2b4b401f0adff5b8b9678903ff8feb5867b",
        "patch": "@@ -39,7 +39,8 @@ static std::map<string, unsigned int> mapFlagNames = boost::assign::map_list_of\n     (string(\"MINIMALDATA\"), (unsigned int)SCRIPT_VERIFY_MINIMALDATA)\n     (string(\"NULLDUMMY\"), (unsigned int)SCRIPT_VERIFY_NULLDUMMY)\n     (string(\"DISCOURAGE_UPGRADABLE_NOPS\"), (unsigned int)SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)\n-    (string(\"CLEANSTACK\"), (unsigned int)SCRIPT_VERIFY_CLEANSTACK);\n+    (string(\"CLEANSTACK\"), (unsigned int)SCRIPT_VERIFY_CLEANSTACK)\n+    (string(\"CHECKLOCKTIMEVERIFY\"), (unsigned int)SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY);\n \n unsigned int ParseScriptFlags(string strFlags)\n {"
      }
    ]
  },
  {
    "sha": "ffd75adce01a78b3461b3ff05bcc2b530a9ce994",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmZmQ3NWFkY2UwMWE3OGIzNDYxYjNmZjA1YmNjMmI1MzBhOWNlOTk0",
    "commit": {
      "author": {
        "name": "Peter Todd",
        "email": "pete@petertodd.org",
        "date": "2014-12-17T05:31:44Z"
      },
      "committer": {
        "name": "Peter Todd",
        "email": "pete@petertodd.org",
        "date": "2015-06-22T04:00:48Z"
      },
      "message": "Enable CHECKLOCKTIMEVERIFY as a standard script verify flag\n\nTransactions that fail CLTV verification will be rejected from the\nmempool, making it easy to test the feature. However blocks containing\n\"invalid\" CLTV-using transactions will still be accepted; this is *not*\nthe soft-fork required to actually enable CLTV for production use.",
      "tree": {
        "sha": "64062c9dc2bb73bfbee5e7b12e6b95dab9fdac81",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/64062c9dc2bb73bfbee5e7b12e6b95dab9fdac81"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ffd75adce01a78b3461b3ff05bcc2b530a9ce994",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGrBAABCACVBQJVh4hyXhSAAAAAABUAQGJsb2NraGFzaEBiaXRjb2luLm9yZzAw\nMDAwMDAwMDAwMDAwMDAxMTkyYTQ5YTljNzdhOTRhNjE0OWQxNzJiMWI0ZDFmMzFl\nOTE0MGYwMjA4NjVjODgvFIAAAAAAFQARcGthLWFkZHJlc3NAZ251cGcub3JncGV0\nZUBwZXRlcnRvZC5vcmcACgkQJIFAPaXwkfuOJgf+JfDzmKk2xLXTXz7cyRTXhclN\nDOQYrP/bLc22j5XhPEWWzCNfjTHYQu2Zvfxi0E5+qI/hm4m+9kaagEAAVfhcVqrc\nPs8otNa3Lbotqz0CsKPMZe0zrsxglSEfqgdT6qsIHMWjx5FZIX1KnZFf4RqljZDl\nD8H67WGrtSHs9DPioFDhw2xhBe/lFWxdmQwoIqW5qEXqrYMNFuCBBiHQA6qvcRKJ\nTkBAmaBqr3OtVBVcnVSSKlH2iTx594EIv+I7mRe4wfe4DseX4suYNglZN2sEgTHq\n+SAm+1mnlSzoLf33N6d5aHAojqUMlGH8+hcrbqj1BbSWkEiuwPbf2TfoHKni/g==\n=uur+\n-----END PGP SIGNATURE-----",
        "payload": "tree 64062c9dc2bb73bfbee5e7b12e6b95dab9fdac81\nparent bc60b2b4b401f0adff5b8b9678903ff8feb5867b\nauthor Peter Todd <pete@petertodd.org> 1418794304 -0500\ncommitter Peter Todd <pete@petertodd.org> 1434945648 -0400\n\nEnable CHECKLOCKTIMEVERIFY as a standard script verify flag\n\nTransactions that fail CLTV verification will be rejected from the\nmempool, making it easy to test the feature. However blocks containing\n\"invalid\" CLTV-using transactions will still be accepted; this is *not*\nthe soft-fork required to actually enable CLTV for production use.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ffd75adce01a78b3461b3ff05bcc2b530a9ce994",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ffd75adce01a78b3461b3ff05bcc2b530a9ce994",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ffd75adce01a78b3461b3ff05bcc2b530a9ce994/comments",
    "author": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "bc60b2b4b401f0adff5b8b9678903ff8feb5867b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bc60b2b4b401f0adff5b8b9678903ff8feb5867b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bc60b2b4b401f0adff5b8b9678903ff8feb5867b"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 2,
      "deletions": 1
    },
    "files": [
      {
        "sha": "3b401dfe4f085c472e81b1d9ace440a9971ce72b",
        "filename": "src/script/standard.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ffd75adce01a78b3461b3ff05bcc2b530a9ce994/src/script/standard.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ffd75adce01a78b3461b3ff05bcc2b530a9ce994/src/script/standard.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/standard.h?ref=ffd75adce01a78b3461b3ff05bcc2b530a9ce994",
        "patch": "@@ -50,7 +50,8 @@ static const unsigned int STANDARD_SCRIPT_VERIFY_FLAGS = MANDATORY_SCRIPT_VERIFY\n                                                          SCRIPT_VERIFY_MINIMALDATA |\n                                                          SCRIPT_VERIFY_NULLDUMMY |\n                                                          SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS |\n-                                                         SCRIPT_VERIFY_CLEANSTACK;\n+                                                         SCRIPT_VERIFY_CLEANSTACK |\n+                                                         SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY;\n \n /** For convenience, standard but not mandatory verify flags. */\n static const unsigned int STANDARD_NOT_MANDATORY_VERIFY_FLAGS = STANDARD_SCRIPT_VERIFY_FLAGS & ~MANDATORY_SCRIPT_VERIFY_FLAGS;"
      }
    ]
  }
]