[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46471919",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4365#issuecomment-46471919",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4365",
    "id": 46471919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDcxOTE5",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-18T18:08:07Z",
    "updated_at": "2014-06-18T18:08:07Z",
    "author_association": "NONE",
    "body": "ACK\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46471919/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46596692",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4365#issuecomment-46596692",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4365",
    "id": 46596692,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTk2Njky",
    "user": {
      "login": "mikehearn",
      "id": 971089,
      "node_id": "MDQ6VXNlcjk3MTA4OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/971089?u=f32bbe8d8d0f9e10b1387f0aa582b1ee83b8aac5&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mikehearn",
      "html_url": "https://github.com/mikehearn",
      "followers_url": "https://api.github.com/users/mikehearn/followers",
      "following_url": "https://api.github.com/users/mikehearn/following{/other_user}",
      "gists_url": "https://api.github.com/users/mikehearn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mikehearn/subscriptions",
      "organizations_url": "https://api.github.com/users/mikehearn/orgs",
      "repos_url": "https://api.github.com/users/mikehearn/repos",
      "events_url": "https://api.github.com/users/mikehearn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mikehearn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-19T18:14:18Z",
    "updated_at": "2014-06-19T18:14:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "I worry that this will have the same effect as the fee drop - users and merchants will upgrade, miners won't, and the resulting lack of mempool consensus makes double spending easier. When we did the fee drop we didn't worry about this much because we'd done it before and it worked out OK, but this time seems to be different and miners aren't bothering to upgrade, perhaps because 0.9 had nothing for them.\n\nI don't want to make things unnecessarily complicated, but I wonder if the change should be marked in the coinbase. Then IsStandard changes once a sufficient percentage of hashing power has upgraded. Alternatively maybe if @dgenr8 gets his double spend relaying code in, that might also help.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46596692/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46599332",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4365#issuecomment-46599332",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4365",
    "id": 46599332,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTk5MzMy",
    "user": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?u=57b50a05caa63fb86d8f910668719907e9ecf667&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-19T18:35:38Z",
    "updated_at": "2014-06-19T18:35:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mikehearn Are we going to hold up every feature just because it might impact zeroconf transactions? Eligius already has implemented this patch with ~10% of hashing power; if you're worried about double-spends that opportunity already exists.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46599332/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46677073",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4365#issuecomment-46677073",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4365",
    "id": 46677073,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Njc3MDcz",
    "user": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?u=57b50a05caa63fb86d8f910668719907e9ecf667&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-20T13:21:47Z",
    "updated_at": "2014-06-20T13:21:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK modulo CHECKMULTISIG nit.\n\nI had been working on my own version of this patch and came up with a pretty similar design. Tested this with real-world non-std P2SH transactions on mainnet, no issues found. I also can't see any way that this could be a DoS issue - the 'limit sigops' approach taken is exactly how my version worked as well.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46677073/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46888582",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4365#issuecomment-46888582",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4365",
    "id": 46888582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODg4NTgy",
    "user": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?u=db313a954a318b81f5283d34908397d1ea3aeba3&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-23T19:13:22Z",
    "updated_at": "2014-06-23T19:13:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "Nits picked (removed unneeded test @laanwj found, fixed the sigop-counting unit test so it uses a 'realistic' Script) and rebased for the CMutableTransaction change.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46888582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46890069",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4365#issuecomment-46890069",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4365",
    "id": 46890069,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODkwMDY5",
    "user": {
      "login": "BitcoinPullTester",
      "id": 2110907,
      "node_id": "MDQ6VXNlcjIxMTA5MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2110907?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BitcoinPullTester",
      "html_url": "https://github.com/BitcoinPullTester",
      "followers_url": "https://api.github.com/users/BitcoinPullTester/followers",
      "following_url": "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
      "gists_url": "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BitcoinPullTester/subscriptions",
      "organizations_url": "https://api.github.com/users/BitcoinPullTester/orgs",
      "repos_url": "https://api.github.com/users/BitcoinPullTester/repos",
      "events_url": "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BitcoinPullTester/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-23T19:26:30Z",
    "updated_at": "2014-06-23T19:26:30Z",
    "author_association": "NONE",
    "body": "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4365_7f3b4e95695d50a4970e6eb91faa956ab276f161/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46890069/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46891377",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4365#issuecomment-46891377",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4365",
    "id": 46891377,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODkxMzc3",
    "user": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?u=57b50a05caa63fb86d8f910668719907e9ecf667&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-23T19:38:40Z",
    "updated_at": "2014-06-23T19:38:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46891377/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46948795",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4365#issuecomment-46948795",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4365",
    "id": 46948795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTQ4Nzk1",
    "user": {
      "login": "mhanne",
      "id": 168449,
      "node_id": "MDQ6VXNlcjE2ODQ0OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/168449?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mhanne",
      "html_url": "https://github.com/mhanne",
      "followers_url": "https://api.github.com/users/mhanne/followers",
      "following_url": "https://api.github.com/users/mhanne/following{/other_user}",
      "gists_url": "https://api.github.com/users/mhanne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mhanne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mhanne/subscriptions",
      "organizations_url": "https://api.github.com/users/mhanne/orgs",
      "repos_url": "https://api.github.com/users/mhanne/repos",
      "events_url": "https://api.github.com/users/mhanne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mhanne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-24T09:14:03Z",
    "updated_at": "2014-06-24T09:14:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "FYI, as @petertodd suggested, I added an index of the \"inner\" P2SH script types to bitcoin-ruby/webbtc, so you can see unusual p2sh scripts that are already spent:\nhttp://webbtc.com/p2sh_scripts/unknown\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46948795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13968719",
    "pull_request_review_id": null,
    "id": 13968719,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzOTY4NzE5",
    "diff_hunk": "@@ -627,16 +626,24 @@ bool AreInputsStandard(const CTransaction& tx, CCoinsViewCache& mapInputs)\n             CScript subscript(stack.back().begin(), stack.back().end());\n             vector<vector<unsigned char> > vSolutions2;\n             txnouttype whichType2;\n-            if (!Solver(subscript, whichType2, vSolutions2))\n-                return false;\n-            if (whichType2 == TX_SCRIPTHASH)\n-                return false;\n-\n-            int tmpExpected;\n-            tmpExpected = ScriptSigArgsExpected(whichType2, vSolutions2);\n-            if (tmpExpected < 0)\n-                return false;\n-            nArgsExpected += tmpExpected;\n+            if (Solver(subscript, whichType2, vSolutions2))\n+            {\n+                int tmpExpected;\n+                if (whichType2 == TX_SCRIPTHASH)  // HASH160 <hash> OP_EQUAL\n+                    tmpExpected = 1;",
    "path": "src/main.cpp",
    "position": null,
    "original_position": 52,
    "commit_id": "7f3b4e95695d50a4970e6eb91faa956ab276f161",
    "original_commit_id": "f4a78bebc45b44533ad55906a71bf0dbe4cf7b1e",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is this special-case just to make things explicit? I checked and ScriptSigArgsExpected returns 1 for TX_SCRIPTHASH.\n",
    "created_at": "2014-06-19T14:01:00Z",
    "updated_at": "2014-06-23T19:10:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4365#discussion_r13968719",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4365",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13968719"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4365#discussion_r13968719"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4365"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13968719/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 633,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14018609",
    "pull_request_review_id": null,
    "id": 14018609,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MDE4NjA5",
    "diff_hunk": "@@ -256,46 +256,62 @@ BOOST_AUTO_TEST_CASE(AreInputsStandard)\n     CCoinsView coinsDummy;\n     CCoinsViewCache coins(coinsDummy);\n     CBasicKeyStore keystore;\n-    CKey key[3];\n+    CKey key[6];\n     vector<CPubKey> keys;\n-    for (int i = 0; i < 3; i++)\n+    for (int i = 0; i < 6; i++)\n     {\n         key[i].MakeNewKey(true);\n         keystore.AddKey(key[i]);\n-        keys.push_back(key[i].GetPubKey());\n     }\n+    for (int i = 0; i < 3; i++)\n+        keys.push_back(key[i].GetPubKey());\n \n     CTransaction txFrom;\n-    txFrom.vout.resize(6);\n+    txFrom.vout.resize(7);\n \n     // First three are standard:\n     CScript pay1; pay1.SetDestination(key[0].GetPubKey().GetID());\n     keystore.AddCScript(pay1);\n-    CScript payScriptHash1; payScriptHash1.SetDestination(pay1.GetID());\n     CScript pay1of3; pay1of3.SetMultisig(1, keys);\n \n-    txFrom.vout[0].scriptPubKey = payScriptHash1;\n+    txFrom.vout[0].scriptPubKey.SetDestination(pay1.GetID()); // P2SH (OP_CHECKSIG)\n     txFrom.vout[0].nValue = 1000;\n-    txFrom.vout[1].scriptPubKey = pay1;\n+    txFrom.vout[1].scriptPubKey = pay1; // ordinary OP_CHECKSIG\n     txFrom.vout[1].nValue = 2000;\n-    txFrom.vout[2].scriptPubKey = pay1of3;\n+    txFrom.vout[2].scriptPubKey = pay1of3; // ordinary OP_CHECKMULTISIG\n     txFrom.vout[2].nValue = 3000;\n \n-    // Last three non-standard:\n-    CScript empty;\n-    keystore.AddCScript(empty);\n-    txFrom.vout[3].scriptPubKey = empty;\n+    // vout[3] is complicated 1-of-3 AND 2-of-3\n+    // ... that is OK if wrapped in P2SH:\n+    CScript oneAndTwo;\n+    oneAndTwo << OP_1 << key[0].GetPubKey() << key[1].GetPubKey() << key[2].GetPubKey();\n+    oneAndTwo << OP_3 << OP_CHECKMULTISIG;\n+    oneAndTwo << OP_2 << key[3].GetPubKey() << key[4].GetPubKey() << key[5].GetPubKey();\n+    oneAndTwo << OP_3 << OP_CHECKMULTISIG;\n+    oneAndTwo << OP_AND;\n+    keystore.AddCScript(oneAndTwo);",
    "path": "src/test/script_P2SH_tests.cpp",
    "position": null,
    "original_position": 49,
    "commit_id": "7f3b4e95695d50a4970e6eb91faa956ab276f161",
    "original_commit_id": "f4a78bebc45b44533ad55906a71bf0dbe4cf7b1e",
    "user": {
      "login": "petertodd",
      "id": 7042,
      "node_id": "MDQ6VXNlcjcwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petertodd",
      "html_url": "https://github.com/petertodd",
      "followers_url": "https://api.github.com/users/petertodd/followers",
      "following_url": "https://api.github.com/users/petertodd/following{/other_user}",
      "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions",
      "organizations_url": "https://api.github.com/users/petertodd/orgs",
      "repos_url": "https://api.github.com/users/petertodd/repos",
      "events_url": "https://api.github.com/users/petertodd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petertodd/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Pedantic: This example isn't actually spendable. Right now the first CHECKMULTISIG will leave a '1' on the stack making the second CHECKMULTISIG always fail. Change it to a CHECKMULTISIGVERIFY instead and remove the AND.\n",
    "created_at": "2014-06-20T13:20:02Z",
    "updated_at": "2014-06-23T19:10:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/4365#discussion_r14018609",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4365",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14018609"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/4365#discussion_r14018609"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/4365"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14018609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 291,
    "original_line": 292,
    "side": "RIGHT"
  }
]