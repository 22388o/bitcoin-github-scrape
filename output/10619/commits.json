[
  {
    "sha": "be42c0d80e1de2bfd4f2658014eda18cab5a398d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiZTQyYzBkODBlMWRlMmJmZDRmMjY1ODAxNGVkYTE4Y2FiNWEzOThk",
    "commit": {
      "author": {
        "name": "Pavlos Antoniou",
        "email": "antoniou-p@hotmail.com",
        "date": "2017-06-20T05:32:34Z"
      },
      "committer": {
        "name": "Pavlos Antoniou",
        "email": "antoniou-p@hotmail.com",
        "date": "2017-06-20T05:32:34Z"
      },
      "message": "[rpc] Avoid possibility of NULL pointer dereference in getblockchaininfo(...)\n\nThe variable *block is initialized by the return value of Tip() which may be NULL.\nThe while loop condition takes this into account and checks for nullness before dereferencing.\nIf Tip() returns null, the while loop is never executed and the null pointer is dereferenced right after.\n\nAn assertion is added before dereferencing the return value if Tip().",
      "tree": {
        "sha": "9c0f0780514543847d719c01e67dffa1a9479d9d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9c0f0780514543847d719c01e67dffa1a9479d9d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/be42c0d80e1de2bfd4f2658014eda18cab5a398d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/be42c0d80e1de2bfd4f2658014eda18cab5a398d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/be42c0d80e1de2bfd4f2658014eda18cab5a398d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/be42c0d80e1de2bfd4f2658014eda18cab5a398d/comments",
    "author": {
      "login": "pavlosantoniou",
      "id": 14562480,
      "node_id": "MDQ6VXNlcjE0NTYyNDgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/14562480?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavlosantoniou",
      "html_url": "https://github.com/pavlosantoniou",
      "followers_url": "https://api.github.com/users/pavlosantoniou/followers",
      "following_url": "https://api.github.com/users/pavlosantoniou/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavlosantoniou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavlosantoniou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavlosantoniou/subscriptions",
      "organizations_url": "https://api.github.com/users/pavlosantoniou/orgs",
      "repos_url": "https://api.github.com/users/pavlosantoniou/repos",
      "events_url": "https://api.github.com/users/pavlosantoniou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavlosantoniou/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "pavlosantoniou",
      "id": 14562480,
      "node_id": "MDQ6VXNlcjE0NTYyNDgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/14562480?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavlosantoniou",
      "html_url": "https://github.com/pavlosantoniou",
      "followers_url": "https://api.github.com/users/pavlosantoniou/followers",
      "following_url": "https://api.github.com/users/pavlosantoniou/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavlosantoniou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavlosantoniou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavlosantoniou/subscriptions",
      "organizations_url": "https://api.github.com/users/pavlosantoniou/orgs",
      "repos_url": "https://api.github.com/users/pavlosantoniou/repos",
      "events_url": "https://api.github.com/users/pavlosantoniou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavlosantoniou/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c38f540298f0e188df5ed68fd56c623b9ac8331b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c38f540298f0e188df5ed68fd56c623b9ac8331b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c38f540298f0e188df5ed68fd56c623b9ac8331b"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 2,
      "deletions": 0
    },
    "files": [
      {
        "sha": "baf8daee51aea6ebf10637cd6dc471fd9835c9c9",
        "filename": "src/rpc/blockchain.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/be42c0d80e1de2bfd4f2658014eda18cab5a398d/src/rpc/blockchain.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/be42c0d80e1de2bfd4f2658014eda18cab5a398d/src/rpc/blockchain.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/blockchain.cpp?ref=be42c0d80e1de2bfd4f2658014eda18cab5a398d",
        "patch": "@@ -1165,6 +1165,7 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             + HelpExampleRpc(\"getblockchaininfo\", \"\")\n         );\n \n+    assert(chainActive.Tip() && \"An empty blockchain should not be possible here.\");\n     LOCK(cs_main);\n \n     UniValue obj(UniValue::VOBJ);\n@@ -1196,6 +1197,7 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n         while (block && block->pprev && (block->pprev->nStatus & BLOCK_HAVE_DATA))\n             block = block->pprev;\n \n+        assert(block && \"An empty blockchain should not be possible here.\");\n         obj.push_back(Pair(\"pruneheight\",        block->nHeight));\n     }\n     return obj;"
      }
    ]
  }
]