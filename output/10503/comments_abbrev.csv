gmaxwell,2017-06-01T18:21:22Z,"I would rather remove P2P reject codes; they waste bandwidth and AFAIK aren't actually used for anything except perhaps our tests where they are only moderately helpful due to their narrow bandwidth and instability. (if your change doesn't make tests fail, it would further show their lack of use).\n",https://github.com/bitcoin/bitcoin/pull/10503#issuecomment-305577499,305577499,
laanwj,2017-06-01T18:37:54Z,"Concept ACK\n\n@gmaxwell \nI think it would be preferable if you create an issue for removing reject codes, instead of replying that to every PR that changes something to reject code handling.\nIt's harder to keep track of it if it's all over the place - we had this discussion recently: https://github.com/bitcoin/bitcoin/pull/10135#issuecomment-290942254\n",https://github.com/bitcoin/bitcoin/pull/10503#issuecomment-305582122,305582122,
jonasschnelli,2017-06-01T18:40:49Z,"utACK 49be502dcc890f5d00930661e7ec926e71489bdb\nI guess @achow101 got the rejection code via RPC `sendrawtransaction`. There it makes sense IMO.",https://github.com/bitcoin/bitcoin/pull/10503#issuecomment-305582869,305582869,
gmaxwell,2017-06-01T18:41:27Z,"@laanwj  fair request, but I really had hoped to avoid having to think about if additional disclosure hurts privacy for a feature that I think we should be backing away from. OK.\n",https://github.com/bitcoin/bitcoin/pull/10503#issuecomment-305583048,305583048,
gmaxwell,2017-06-02T07:15:05Z,Needs rebase.,https://github.com/bitcoin/bitcoin/pull/10503#issuecomment-305708997,305708997,
sipa,2017-06-02T07:19:09Z,Rebased.,https://github.com/bitcoin/bitcoin/pull/10503#issuecomment-305709697,305709697,
TheBlueMatt,2017-06-05T00:48:47Z,"I believe there are a few clients out there that do actually use this crap, at least I recall breadwallet did at some point to identify issues with txn they were sending to peers. Probably should go through a more formal announce/BIP process for these kinds of changes, sadly :(.",https://github.com/bitcoin/bitcoin/pull/10503#issuecomment-306079263,306079263,
achow101,2017-06-05T18:47:47Z,One thing that this does fix is the fact that a reject message wasn't being sent if a transaction conflicted with another one that was already in the mempool. A reject message should be sent for such a scenario to let the sending peer know that there is a double spend attempt going on. I noticed this while doing some debugging with Armory.,https://github.com/bitcoin/bitcoin/pull/10503#issuecomment-306271182,306271182,
laanwj,2017-06-06T08:59:18Z,">  Probably should go through a more formal announce/BIP process for these kinds of changes, sadly :(.\n\nThis change, as it is, just adds visible reject messages for cases where the node is silent now. As it is in the spirit of BIP61 I don't think this requires a new BIP. It would be nice to mention in the release notes, though.\n",https://github.com/bitcoin/bitcoin/pull/10503#issuecomment-306425187,306425187,
sipa,2017-06-06T17:23:59Z,"@TheBlueMatt The current implementation violates BIP61, in my interpretation.",https://github.com/bitcoin/bitcoin/pull/10503#issuecomment-306557752,306557752,
achow101,2017-06-06T23:05:03Z,utACK d9bec888f1c82f1f58cc821cac81da9c571b5fa5,https://github.com/bitcoin/bitcoin/pull/10503#issuecomment-306642175,306642175,
TheBlueMatt,2017-06-07T17:17:05Z,"@laanwj Ah, missed that, I withdraw my objection.\n\nutACK d9bec888f1c82f1f58cc821cac81da9c571b5fa5",https://github.com/bitcoin/bitcoin/pull/10503#issuecomment-306863614,306863614,
gmaxwell,2017-06-01T18:45:16Z,I would have added braces on this and the other lines that are being changed to update the style.,https://github.com/bitcoin/bitcoin/pull/10503#discussion_r119697596,119697596,src/validation.cpp
sipa,2017-06-01T21:59:31Z,Fixed.,https://github.com/bitcoin/bitcoin/pull/10503#discussion_r119739752,119739752,src/validation.cpp
