[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379934660",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#issuecomment-379934660",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12929",
    "id": 379934660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTkzNDY2MA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-10T00:22:58Z",
    "updated_at": "2018-04-10T00:22:58Z",
    "author_association": "MEMBER",
    "body": "@practicalswift you may find this useful for #11634.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379934660/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379939196",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#issuecomment-379939196",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12929",
    "id": 379939196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTkzOTE5Ng==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-10T00:53:26Z",
    "updated_at": "2018-04-10T00:53:26Z",
    "author_association": "MEMBER",
    "body": "concept ACK!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379939196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379991392",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#issuecomment-379991392",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12929",
    "id": 379991392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTk5MTM5Mg==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-10T06:42:26Z",
    "updated_at": "2018-04-10T06:42:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK\r\n\r\nThanks!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379991392/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380631042",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#issuecomment-380631042",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12929",
    "id": 380631042,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDYzMTA0Mg==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T23:53:16Z",
    "updated_at": "2018-04-11T23:53:16Z",
    "author_association": "MEMBER",
    "body": "Thanks @ryanofsky for the review!\r\n\r\n> It seems especially awkward to now have CWallet methods that take const CWalletTx& references and then change their mutable members.\r\n\r\nFor instance, should this \r\n```cpp\r\nCAmount CWallet::GetDebit(const CTxIn &txin, const isminefilter& filter) const;\r\nCAmount CWallet::GetDebit(const CWalletTx& wtx, const isminefilter& filter) const;\r\n```\r\nbe this (without `const CWalletTx`)?\r\n```cpp\r\nCAmount CWallet::GetDebit(const CTxIn &txin, const isminefilter& filter) const;\r\nCAmount CWallet::GetDebit(CWalletTx& wtx, const isminefilter& filter) const;\r\n```\r\nIMO it's no worse than the original code (const method):\r\n```cpp\r\nCAmount CWalletTx::GetDebit(const isminefilter& filter) const;\r\n```\r\nHence the mutable members.\r\n\r\n> and just pass in new pwallet arguments where needed.\r\n\r\nStarted doing that but sounded very lame, for instance (feels wrong doesn't it):\r\n```cpp\r\nwtx.GetDebit(pwallet, filter);\r\n```\r\nAlso, I'd have to check if that approach helps in #11634.\r\n\r\n> Moving all these methods also makes this PR much bigger than it needs to be\r\n\r\nI've moved the code in `wallet.cpp` up and down and made some fixes to the code convention. I can revert those and keep the code in the same place, without reorganising it, the diff will be pretty smaller. WDYT?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380631042/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380741817",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#issuecomment-380741817",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12929",
    "id": 380741817,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDc0MTgxNw==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-12T09:39:24Z",
    "updated_at": "2018-04-12T17:25:23Z",
    "author_association": "MEMBER",
    "body": "@ryanofsky updated b2f5def...721f499.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380741817/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382274817",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#issuecomment-382274817",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12929",
    "id": 382274817,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjI3NDgxNw==",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?u=a0e0040aacd7d4f0787481e8ac30b494fa429e11&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-18T06:16:26Z",
    "updated_at": "2018-04-18T06:16:26Z",
    "author_association": "MEMBER",
    "body": "This needs a rebase.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382274817/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382429823",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#issuecomment-382429823",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12929",
    "id": 382429823,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjQyOTgyMw==",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?u=a1574ca2038ff1dfaa9a7764c59ea5ff4f305b5d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-18T15:34:18Z",
    "updated_at": "2018-04-18T15:34:18Z",
    "author_association": "MEMBER",
    "body": "utACK 721f499",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382429823/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382471772",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#issuecomment-382471772",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12929",
    "id": 382471772,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjQ3MTc3Mg==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-18T17:47:33Z",
    "updated_at": "2018-04-18T17:47:33Z",
    "author_association": "MEMBER",
    "body": "@Empact @ryanofsky if you don't mind I'd prefer to keep this as \"move only\" as possible. The idea here is to remove wallet pointer from `CWalletTx`. I can follow up those suggestions though.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382471772/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382482002",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#issuecomment-382482002",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12929",
    "id": 382482002,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjQ4MjAwMg==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-18T18:21:00Z",
    "updated_at": "2018-04-18T18:21:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @ryanofsky if you don't mind I'd prefer to keep this as \"move only\" as possible\r\n\r\nI'm actually still not sure what was wrong with my suggestion to pass wallet references where needed and not move code around out all all: https://github.com/bitcoin/bitcoin/pull/12929#pullrequestreview-111389750. In your last comment you only wrote that this \"sounded very lame\" and \"feels wrong,\" which is fine, though I didn't understand the objection.\r\n\r\nCWallet is a already huge, monolithic class so your current change which removes all CWalletTx methods and moves them to CWallet doesn't really make it much worse. It just also seems perfectly logical to me that methods accessing wallet transactions would be part of the `CWalletTx` instead of `CWallet`.\r\n\r\nAnyway, I did ACK previously, and can rereview if needed for merge.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382482002/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382527005",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#issuecomment-382527005",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12929",
    "id": 382527005,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjUyNzAwNQ==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-18T20:57:42Z",
    "updated_at": "2018-04-18T20:57:42Z",
    "author_association": "MEMBER",
    "body": "Between `wtx.GetDebit(pwallet, filter)` or `pwallet->GetDebit(wtx, filter)` I prefer the second because the call is made to the \"parent\" asking for \"child\" details. But that is my preference and your suggestion patch is for sure smaller.\r\n\r\nI was thinking removing all cache members from `CWalletTx` and have the wallet manage that cache as a whole and I think this change would simplify that.\r\n\r\nAnyway, this started because of #11634, and I'm going to rebase that to see if https://github.com/bitcoin/bitcoin/pull/11634#discussion_r175351144 is resolved.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382527005/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383740238",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#issuecomment-383740238",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12929",
    "id": 383740238,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mzc0MDIzOA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-23T22:15:00Z",
    "updated_at": "2018-04-23T22:15:00Z",
    "author_association": "MEMBER",
    "body": "Concept ACK, though I prefer @ryanofsky's suggestion to just pass wallet references where needed.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383740238/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/432717731",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#issuecomment-432717731",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12929",
    "id": 432717731,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjcxNzczMQ==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-24T15:56:53Z",
    "updated_at": "2018-10-24T15:56:53Z",
    "author_association": "MEMBER",
    "body": "Closing due to refactoring guidelines.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/432717731/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180273668",
    "pull_request_review_id": 110666046,
    "id": 180273668,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDI3MzY2OA==",
    "diff_hunk": "@@ -497,6 +497,15 @@ std::set<uint256> CWallet::GetConflicts(const uint256& txid) const\n     return result;\n }\n \n+std::set<uint256> CWallet::GetConflicts(const CWalletTx& wtx) const\n+{\n+    std::set<uint256> result;\n+    uint256 hash = wtx.GetHash();\n+    result = GetConflicts(hash);\n+    result.erase(hash); // why?",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 9,
    "commit_id": "74bc69002eb2183cc7160c9e4e68cf0c1e580530",
    "original_commit_id": "9a34053dd7657fb0ba2b59be18e9eddb192f8f8a",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why would `GetConflicts(hash)` include the hash?",
    "created_at": "2018-04-10T01:15:30Z",
    "updated_at": "2018-04-18T17:45:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180273668",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180273668"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180273668"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180273668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 505,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180887380",
    "pull_request_review_id": 111389750,
    "id": 180887380,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDg4NzM4MA==",
    "diff_hunk": "@@ -4314,3 +4314,11 @@ CTxDestination CWallet::AddAndGetDestinationForScript(const CScript& script, Out\n     default: assert(false);\n     }\n }\n+\n+COutput CWallet::MakeOutput(const CWalletTx& wtx, int index, int depth, bool is_spendable, bool is_solvable, bool is_safe) const",
    "path": "src/wallet/wallet.cpp",
    "position": 813,
    "original_position": 25,
    "commit_id": "74bc69002eb2183cc7160c9e4e68cf0c1e580530",
    "original_commit_id": "a1e8693681f45f9474d5d7a1de699bbafe500784",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"refactor: Add COutput factory CWallet::MakeOutput\"\r\n\r\nThis should just be a constructor. Make functions like this only make sense when they are needed for template deduction.",
    "created_at": "2018-04-11T20:27:45Z",
    "updated_at": "2018-04-18T17:45:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180887380",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180887380"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180887380"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180887380/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4308,
    "original_line": 4308,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180891452",
    "pull_request_review_id": 111389750,
    "id": 180891452,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDg5MTQ1Mg==",
    "diff_hunk": "@@ -497,6 +497,15 @@ std::set<uint256> CWallet::GetConflicts(const uint256& txid) const\n     return result;\n }\n \n+std::set<uint256> CWallet::GetConflicts(const CWalletTx& wtx) const",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "74bc69002eb2183cc7160c9e4e68cf0c1e580530",
    "original_commit_id": "1196b11aa06fcb0e8101d7af4eccd4e3ea80d29e",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"Move CWalletTx::GetConflicts to CWallet\"\r\n\r\nWould be better to inline this the one place where it is called, because having two GetConflicts overloads where one overload includes the original transaction and one overloads excludes it is pretty confusing.",
    "created_at": "2018-04-11T20:41:53Z",
    "updated_at": "2018-04-18T17:45:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180891452",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180891452"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180891452"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180891452/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 500,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180891957",
    "pull_request_review_id": 111389750,
    "id": 180891957,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDg5MTk1Nw==",
    "diff_hunk": "@@ -347,14 +344,13 @@ class CWalletTx : public CMerkleTx\n     mutable CAmount nAvailableWatchCreditCached;\n     mutable CAmount nChangeCached;\n \n-    CWalletTx(const CWallet* pwalletIn, CTransactionRef arg) : CMerkleTx(std::move(arg))\n+    CWalletTx(CTransactionRef arg) : CMerkleTx(std::move(arg))",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 15,
    "commit_id": "74bc69002eb2183cc7160c9e4e68cf0c1e580530",
    "original_commit_id": "b2f5def07f910d8ee80a0a1afcfce92989c32727",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"refactor: Remove CWallet pointer from CWalletTx\r\n\r\nThink this constructor should be marked explicit now to prevent implicit conversion.",
    "created_at": "2018-04-11T20:43:49Z",
    "updated_at": "2018-04-18T17:45:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180891957",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180891957"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180891957"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180891957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 347,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180894919",
    "pull_request_review_id": 111389750,
    "id": 180894919,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDg5NDkxOQ==",
    "diff_hunk": "@@ -347,14 +344,13 @@ class CWalletTx : public CMerkleTx\n     mutable CAmount nAvailableWatchCreditCached;\n     mutable CAmount nChangeCached;\n \n-    CWalletTx(const CWallet* pwalletIn, CTransactionRef arg) : CMerkleTx(std::move(arg))\n+    CWalletTx(CTransactionRef arg) : CMerkleTx(std::move(arg))\n     {\n-        Init(pwalletIn);\n+        Init();",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 18,
    "commit_id": "74bc69002eb2183cc7160c9e4e68cf0c1e580530",
    "original_commit_id": "b2f5def07f910d8ee80a0a1afcfce92989c32727",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"refactor: Remove CWallet pointer from CWalletTx\r\n\r\nIt would be really nice to drop these init methods (which are only called from constructors). Also would be nice to initialize members where they are defined https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#c-data-structures and maybe drop the code inside the init methods too.",
    "created_at": "2018-04-11T20:54:14Z",
    "updated_at": "2018-04-18T17:45:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180894919",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180894919"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180894919"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180894919/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 349,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180895862",
    "pull_request_review_id": 111389750,
    "id": 180895862,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDg5NTg2Mg==",
    "diff_hunk": "@@ -4307,6 +4307,6 @@ COutput CWallet::MakeOutput(const CWalletTx& wtx, int index, int depth, bool is_\n {\n     // If known and signable by the given wallet, compute input bytes\n     // Failure will keep this value -1\n-    int input_bytes = is_spendable ? wtx.GetSpendSize(index) : -1;\n+    int input_bytes = is_spendable ? GetSpendSize(wtx, index) : -1;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "74bc69002eb2183cc7160c9e4e68cf0c1e580530",
    "original_commit_id": "efc212261ffbe10e1f28f1245fbdfb9ceca347ca",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"refactor: Move CWalletTx::GetSpendSize to CWallet\"\r\n\r\nMaybe inline GetSpendSize since it is only called this one place and is one line long. (Would be good to keep the \"Get the marginal bytes...\" comment though.)",
    "created_at": "2018-04-11T20:57:33Z",
    "updated_at": "2018-04-18T17:45:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180895862",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180895862"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180895862"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180895862/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4312,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180928823",
    "pull_request_review_id": 111438653,
    "id": 180928823,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDkyODgyMw==",
    "diff_hunk": "@@ -497,6 +497,15 @@ std::set<uint256> CWallet::GetConflicts(const uint256& txid) const\n     return result;\n }\n \n+std::set<uint256> CWallet::GetConflicts(const CWalletTx& wtx) const",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "74bc69002eb2183cc7160c9e4e68cf0c1e580530",
    "original_commit_id": "1196b11aa06fcb0e8101d7af4eccd4e3ea80d29e",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Agree, and I thought doing that, but decided to just move the code until someone also suggested it.",
    "created_at": "2018-04-11T23:36:37Z",
    "updated_at": "2018-04-18T17:45:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180928823",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180928823"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180928823"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180928823/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 500,
    "side": "RIGHT",
    "in_reply_to_id": 180891452
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180929210",
    "pull_request_review_id": 111439102,
    "id": 180929210,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDkyOTIxMA==",
    "diff_hunk": "@@ -4314,3 +4314,11 @@ CTxDestination CWallet::AddAndGetDestinationForScript(const CScript& script, Out\n     default: assert(false);\n     }\n }\n+\n+COutput CWallet::MakeOutput(const CWalletTx& wtx, int index, int depth, bool is_spendable, bool is_solvable, bool is_safe) const",
    "path": "src/wallet/wallet.cpp",
    "position": 813,
    "original_position": 25,
    "commit_id": "74bc69002eb2183cc7160c9e4e68cf0c1e580530",
    "original_commit_id": "a1e8693681f45f9474d5d7a1de699bbafe500784",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Made it like this because of `GetSpendSize()`, otherwise I have to pass the wallet instance to the constructor.",
    "created_at": "2018-04-11T23:39:09Z",
    "updated_at": "2018-04-18T17:45:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180929210",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180929210"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180929210"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180929210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4308,
    "original_line": 4308,
    "side": "RIGHT",
    "in_reply_to_id": 180887380
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180929274",
    "pull_request_review_id": 111439171,
    "id": 180929274,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDkyOTI3NA==",
    "diff_hunk": "@@ -347,14 +344,13 @@ class CWalletTx : public CMerkleTx\n     mutable CAmount nAvailableWatchCreditCached;\n     mutable CAmount nChangeCached;\n \n-    CWalletTx(const CWallet* pwalletIn, CTransactionRef arg) : CMerkleTx(std::move(arg))\n+    CWalletTx(CTransactionRef arg) : CMerkleTx(std::move(arg))",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 15,
    "commit_id": "74bc69002eb2183cc7160c9e4e68cf0c1e580530",
    "original_commit_id": "b2f5def07f910d8ee80a0a1afcfce92989c32727",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sure.",
    "created_at": "2018-04-11T23:39:32Z",
    "updated_at": "2018-04-18T17:45:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180929274",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180929274"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180929274"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180929274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 347,
    "side": "RIGHT",
    "in_reply_to_id": 180891957
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180929422",
    "pull_request_review_id": 111439334,
    "id": 180929422,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDkyOTQyMg==",
    "diff_hunk": "@@ -347,14 +344,13 @@ class CWalletTx : public CMerkleTx\n     mutable CAmount nAvailableWatchCreditCached;\n     mutable CAmount nChangeCached;\n \n-    CWalletTx(const CWallet* pwalletIn, CTransactionRef arg) : CMerkleTx(std::move(arg))\n+    CWalletTx(CTransactionRef arg) : CMerkleTx(std::move(arg))\n     {\n-        Init(pwalletIn);\n+        Init();",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 18,
    "commit_id": "74bc69002eb2183cc7160c9e4e68cf0c1e580530",
    "original_commit_id": "b2f5def07f910d8ee80a0a1afcfce92989c32727",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> which are only called from constructors\r\n\r\nIt's also called from `Unserialize()`, although I can check if it's necessary.\r\n\r\nEdit: IMO should be done in a follow up PR?\r\n\r\n",
    "created_at": "2018-04-11T23:40:26Z",
    "updated_at": "2018-04-18T17:45:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180929422",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180929422"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r180929422"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180929422/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 349,
    "side": "RIGHT",
    "in_reply_to_id": 180894919
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182470265",
    "pull_request_review_id": 113271921,
    "id": 182470265,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MjQ3MDI2NQ==",
    "diff_hunk": "@@ -4314,3 +4295,11 @@ CTxDestination CWallet::AddAndGetDestinationForScript(const CScript& script, Out\n     default: assert(false);\n     }\n }\n+\n+COutput CWallet::MakeOutput(const CWalletTx& wtx, int index, int depth, bool is_spendable, bool is_solvable, bool is_safe) const\n+{\n+    // If known and signable by the given wallet, compute input bytes\n+    // Failure will keep this value -1\n+    int input_bytes = is_spendable ? GetSpendSize(wtx, index) : -1;",
    "path": "src/wallet/wallet.cpp",
    "position": 817,
    "original_position": 817,
    "commit_id": "74bc69002eb2183cc7160c9e4e68cf0c1e580530",
    "original_commit_id": "721f499ba8ec1a75ffe182af04bc14452e2a20a4",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "How about dropping `GetSpendSize` in favor of `CalculateMaximumSignedInputSize`? This is the only call. Previously `GetSpendSize` had fewer args but now they're basically equivalent. Or dropping `CalculateMaximumSignedInputSize` for some version of `GetSpendSize`, given the former is only called in `CWallet` contexts after this change. Could also wait for later. :P",
    "created_at": "2018-04-18T15:29:15Z",
    "updated_at": "2018-04-18T17:45:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r182470265",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182470265"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12929#discussion_r182470265"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12929"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182470265/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4312,
    "original_line": 4312,
    "side": "RIGHT"
  }
]