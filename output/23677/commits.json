[
  {
    "sha": "78a6bc6919e96b5c32efd370540a28aecc2262f6",
    "node_id": "C_kwDOABII59oAKDc4YTZiYzY5MTllOTZiNWMzMmVmZDM3MDU0MGEyOGFlY2MyMjYyZjY",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-12-04T21:11:32Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-12-05T01:00:02Z"
      },
      "message": "build, qt: Use Android NDK r23 LTS",
      "tree": {
        "sha": "657082927a01f35b48ef8c26e6b482a1205e19ee",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/657082927a01f35b48ef8c26e6b482a1205e19ee"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/78a6bc6919e96b5c32efd370540a28aecc2262f6",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmGsDxIACgkQQQEIES5+\nqB+znw//S9wa1sDTJfZ8rjykuzLdRYMOJ6TrATl7NUTHemM8LxeBI5rrF+pAQhL2\nFyKYUs4zyWLiTbBiTE/jNSbRT56wYJJzMv6H6aABt6I7VmhyxFjcV7mf2miCV681\nHHjLRmS/rNGpPW4JKEu8+o+/nShMCUKR/w1gLnk0y+E9L46UhuEw1XsQng+j5hJS\nZEVr1y8lUyU5jAHTNRBleNn5ho5uFQRjNqSXE1tDYekxBFzoa5o6syUGso4Sj7He\nyOfBrvdxHgoDy5AvaLgbd3NMnh2btpx/EhZQuhQ66I6WylO1B3Km0JQgOqwXch4I\neHvhWmgGT1nyBFG3potkJsREcrVcOHTwj5Wrfkb0ED1s7FwQWB9mXbqWQx1iSn5s\n0nDFuZ7yMpFtQJSyi8DMkXClXq32U/SYBOtw4olEZoeTqlxrC/0fQPchMuQHupDP\nCacCS+JtOWOOdQm8rn7UKmvpE+yyPf8WiyI2xC5a0K+S8UUyTwQytF+6iFGcpQyc\nX1dttlxnpY9d5z3DYNeN4GapbbN41BLg3+GX7Su9UPI08pM4uyD1gGUOKTMMNPHW\nANeolrRqbvZvZF8jk/tIsvJ7lEGIuwMIHGJNL/dsxnz4XIgw0JwdyWO2o7CqZmxy\nFlIYRl8zgVhvTTegEyHcVFbSx5702JxtyHxZjSe9NxxK+MA24Ko=\n=U601\n-----END PGP SIGNATURE-----",
        "payload": "tree 657082927a01f35b48ef8c26e6b482a1205e19ee\nparent ea989deecc8d4d02bb401c0ac7cd7a0543e3454c\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1638652292 +0200\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1638666002 +0200\n\nbuild, qt: Use Android NDK r23 LTS\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/78a6bc6919e96b5c32efd370540a28aecc2262f6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/78a6bc6919e96b5c32efd370540a28aecc2262f6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/78a6bc6919e96b5c32efd370540a28aecc2262f6/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ea989deecc8d4d02bb401c0ac7cd7a0543e3454c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ea989deecc8d4d02bb401c0ac7cd7a0543e3454c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ea989deecc8d4d02bb401c0ac7cd7a0543e3454c"
      }
    ],
    "stats": {
      "total": 22,
      "additions": 18,
      "deletions": 4
    },
    "files": [
      {
        "sha": "2cebee47444aec241e966662e2973b29f752d578",
        "filename": ".cirrus.yml",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/78a6bc6919e96b5c32efd370540a28aecc2262f6/.cirrus.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/78a6bc6919e96b5c32efd370540a28aecc2262f6/.cirrus.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.cirrus.yml?ref=78a6bc6919e96b5c32efd370540a28aecc2262f6",
        "patch": "@@ -300,7 +300,7 @@ task:\n   << : *BASE_TEMPLATE\n   android_sdk_cache:\n     folder: \"depends/SDKs/android\"\n-    fingerprint_key: \"ANDROID_API_LEVEL=28 ANDROID_BUILD_TOOLS_VERSION=28.0.3 ANDROID_NDK_VERSION=22.1.7171670\"\n+    fingerprint_key: \"ANDROID_API_LEVEL=28 ANDROID_BUILD_TOOLS_VERSION=28.0.3 ANDROID_NDK_VERSION=23.1.7779620\"\n   depends_sources_cache:\n     folder: \"depends/sources\"\n     fingerprint_script: git rev-list -1 HEAD ./depends"
      },
      {
        "sha": "e0b574aa20c1dd8165797fe9046e0a9a7aaa65c7",
        "filename": "ci/test/00_setup_env_android.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/78a6bc6919e96b5c32efd370540a28aecc2262f6/ci/test/00_setup_env_android.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/78a6bc6919e96b5c32efd370540a28aecc2262f6/ci/test/00_setup_env_android.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_android.sh?ref=78a6bc6919e96b5c32efd370540a28aecc2262f6",
        "patch": "@@ -16,7 +16,7 @@ export RUN_FUNCTIONAL_TESTS=false\n \n export ANDROID_API_LEVEL=28\n export ANDROID_BUILD_TOOLS_VERSION=28.0.3\n-export ANDROID_NDK_VERSION=22.1.7171670\n+export ANDROID_NDK_VERSION=23.1.7779620\n export ANDROID_TOOLS_URL=https://dl.google.com/android/repository/commandlinetools-linux-6609375_latest.zip\n export ANDROID_HOME=\"${DEPENDS_DIR}/SDKs/android\"\n export ANDROID_NDK_HOME=\"${ANDROID_HOME}/ndk/${ANDROID_NDK_VERSION}\""
      },
      {
        "sha": "83dcb12001dd5060f8ed049e15b82da143908c16",
        "filename": "depends/packages/qt.mk",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/78a6bc6919e96b5c32efd370540a28aecc2262f6/depends/packages/qt.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/78a6bc6919e96b5c32efd370540a28aecc2262f6/depends/packages/qt.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/qt.mk?ref=78a6bc6919e96b5c32efd370540a28aecc2262f6",
        "patch": "@@ -12,7 +12,7 @@ $(package)_patches += fix_qt_pkgconfig.patch mac-qmake.conf fix_no_printer.patch\n $(package)_patches += dont_hardcode_x86_64.patch fix_montery_include.patch\n $(package)_patches += fix_android_jni_static.patch dont_hardcode_pwd.patch\n $(package)_patches += qtbase-moc-ignore-gcc-macro.patch fix_limits_header.patch\n-$(package)_patches += fix_bigsur_style.patch\n+$(package)_patches += fix_bigsur_style.patch use_android_ndk23.patch\n \n $(package)_qttranslations_file_name=qttranslations-$($(package)_suffix)\n $(package)_qttranslations_sha256_hash=d5788e86257b21d5323f1efd94376a213e091d1e5e03b45a95dd052b5f570db8\n@@ -237,6 +237,7 @@ define $(package)_preprocess_cmds\n   patch -p1 -i $($(package)_patch_dir)/fix_limits_header.patch && \\\n   patch -p1 -i $($(package)_patch_dir)/fix_montery_include.patch && \\\n   patch -p1 -i $($(package)_patch_dir)/fix_bigsur_style.patch && \\\n+  patch -p1 -i $($(package)_patch_dir)/use_android_ndk23.patch && \\\n   mkdir -p qtbase/mkspecs/macx-clang-linux &&\\\n   cp -f qtbase/mkspecs/macx-clang/qplatformdefs.h qtbase/mkspecs/macx-clang-linux/ &&\\\n   cp -f $($(package)_patch_dir)/mac-qmake.conf qtbase/mkspecs/macx-clang-linux/qmake.conf && \\"
      },
      {
        "sha": "85b8690218495de147a74e8fc2b76ea9ecf87175",
        "filename": "depends/patches/qt/use_android_ndk23.patch",
        "status": "added",
        "additions": 13,
        "deletions": 0,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/78a6bc6919e96b5c32efd370540a28aecc2262f6/depends/patches/qt/use_android_ndk23.patch",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/78a6bc6919e96b5c32efd370540a28aecc2262f6/depends/patches/qt/use_android_ndk23.patch",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/patches/qt/use_android_ndk23.patch?ref=78a6bc6919e96b5c32efd370540a28aecc2262f6",
        "patch": "@@ -0,0 +1,13 @@\n+Use Android NDK r23 LTS\n+\n+--- old/qtbase/mkspecs/features/android/default_pre.prf\n++++ new/qtbase/mkspecs/features/android/default_pre.prf\n+@@ -73,7 +73,7 @@ else: equals(QT_ARCH, x86_64): CROSS_COMPILE = $$NDK_LLVM_PATH/bin/x86_64-linux-\n+ else: equals(QT_ARCH, arm64-v8a): CROSS_COMPILE = $$NDK_LLVM_PATH/bin/aarch64-linux-android-\n+ else: CROSS_COMPILE = $$NDK_LLVM_PATH/bin/arm-linux-androideabi-\n+ \n+-QMAKE_RANLIB            = $${CROSS_COMPILE}ranlib\n++QMAKE_RANLIB            = $$NDK_LLVM_PATH/bin/llvm-ranlib\n+ QMAKE_LINK_SHLIB        = $$QMAKE_LINK\n+ QMAKE_LFLAGS            =\n+ "
      },
      {
        "sha": "2f2e01c441dc95aacc93538629087b54ecd17807",
        "filename": "doc/build-android.md",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/78a6bc6919e96b5c32efd370540a28aecc2262f6/doc/build-android.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/78a6bc6919e96b5c32efd370540a28aecc2262f6/doc/build-android.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/build-android.md?ref=78a6bc6919e96b5c32efd370540a28aecc2262f6",
        "patch": "@@ -8,7 +8,7 @@ This guide describes how to build and package the `bitcoin-qt` GUI for Android o\n \n Before proceeding with an Android build one needs to get the [Android SDK](https://developer.android.com/studio) and use the \"SDK Manager\" tool to download the NDK and one or more \"Platform packages\" (these are Android versions and have a corresponding API level).\n \n-The minimum supported Android NDK version is [r21](https://github.com/android/ndk/wiki/Changelog-r21).\n+The minimum supported Android NDK version is [r23](https://github.com/android/ndk/wiki/Changelog-r23).\n \n In order to build `ANDROID_API_LEVEL` (API level corresponding to the Android version targeted, e.g. Android 9.0 Pie is 28 and its \"Platform package\" needs to be available) and `ANDROID_TOOLCHAIN_BIN` (path to toolchain binaries depending on the platform the build is being performed on) need to be set.\n "
      }
    ]
  }
]