[
  {
    "sha": "b51ed4036e157a116414f53ac8da78c6b35bf041",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiNTFlZDQwMzZlMTU3YTExNjQxNGY1M2FjOGRhNzhjNmIzNWJmMDQx",
    "commit": {
      "author": {
        "name": "Eric Shaw",
        "email": "ericshawlinux@users.noreply.github.com",
        "date": "2016-03-01T19:16:32Z"
      },
      "committer": {
        "name": "ericshawlinux",
        "email": "ericshawlinux@users.noreply.github.com",
        "date": "2016-03-08T00:50:57Z"
      },
      "message": "QT: Add 'copy full transaction details' option\n\nAdds feature from issue #7484\n\nmodifies the ctrl-c binding to copy full transaction details in transaction view.\n\nAdded translation",
      "tree": {
        "sha": "61aea443ec58c6cdb30a65522ef00fe541ffa01d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/61aea443ec58c6cdb30a65522ef00fe541ffa01d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b51ed4036e157a116414f53ac8da78c6b35bf041",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b51ed4036e157a116414f53ac8da78c6b35bf041",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b51ed4036e157a116414f53ac8da78c6b35bf041",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b51ed4036e157a116414f53ac8da78c6b35bf041/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "e5121eb951c49b36b2b55069ab778a74bbf6bcb1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e5121eb951c49b36b2b55069ab778a74bbf6bcb1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e5121eb951c49b36b2b55069ab778a74bbf6bcb1"
      }
    ],
    "stats": {
      "total": 47,
      "additions": 41,
      "deletions": 6
    },
    "files": [
      {
        "sha": "d2a52b3022c790ed2f1e3e3af892a90ac4947699",
        "filename": "src/qt/transactiontablemodel.cpp",
        "status": "modified",
        "additions": 28,
        "deletions": 0,
        "changes": 28,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b51ed4036e157a116414f53ac8da78c6b35bf041/src/qt/transactiontablemodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b51ed4036e157a116414f53ac8da78c6b35bf041/src/qt/transactiontablemodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactiontablemodel.cpp?ref=b51ed4036e157a116414f53ac8da78c6b35bf041",
        "patch": "@@ -609,6 +609,34 @@ QVariant TransactionTableModel::data(const QModelIndex &index, int role) const\n         return QString::fromStdString(rec->hash.ToString());\n     case TxHexRole:\n         return priv->getTxHex(rec);\n+    case TxPlainTextRole:\n+        {\n+            QString details;\n+            QDateTime date = QDateTime::fromTime_t(static_cast<uint>(rec->time));\n+            QString txLabel = walletModel->getAddressTableModel()->labelForAddress(QString::fromStdString(rec->address));\n+\n+            details.append(date.toString(\"M/d/yy HH:mm\"));\n+            details.append(\" \");\n+            details.append(formatTxStatus(rec));\n+            details.append(\". \");\n+            if(!formatTxType(rec).isEmpty()) {\n+                details.append(formatTxType(rec));\n+                details.append(\" \");\n+            }\n+            if(!rec->address.empty()) {\n+                if(txLabel.isEmpty())\n+                    details.append(tr(\"(no label)\") + \" \");\n+                else {\n+                    details.append(\"(\");\n+                    details.append(txLabel);\n+                    details.append(\") \");\n+                }\n+                details.append(QString::fromStdString(rec->address));\n+                details.append(\" \");\n+            }\n+            details.append(formatTxAmount(rec, false, BitcoinUnits::separatorNever));\n+            return details;\n+        }\n     case ConfirmedRole:\n         return rec->status.countsForBalance;\n     case FormattedAmountRole:"
      },
      {
        "sha": "6932646e1e506480545376aef8b9eb4733215d63",
        "filename": "src/qt/transactiontablemodel.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b51ed4036e157a116414f53ac8da78c6b35bf041/src/qt/transactiontablemodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b51ed4036e157a116414f53ac8da78c6b35bf041/src/qt/transactiontablemodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactiontablemodel.h?ref=b51ed4036e157a116414f53ac8da78c6b35bf041",
        "patch": "@@ -62,6 +62,8 @@ class TransactionTableModel : public QAbstractTableModel\n         TxHashRole,\n         /** Transaction data, hex-encoded */\n         TxHexRole,\n+        /** Whole transaction as plain text */\n+        TxPlainTextRole,\n         /** Is transaction confirmed? */\n         ConfirmedRole,\n         /** Formatted amount, without brackets when unconfirmed */"
      },
      {
        "sha": "a4d4c7a35fe9b5e46c3876f6eb42faca7de71809",
        "filename": "src/qt/transactionview.cpp",
        "status": "modified",
        "additions": 10,
        "deletions": 6,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b51ed4036e157a116414f53ac8da78c6b35bf041/src/qt/transactionview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b51ed4036e157a116414f53ac8da78c6b35bf041/src/qt/transactionview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactionview.cpp?ref=b51ed4036e157a116414f53ac8da78c6b35bf041",
        "patch": "@@ -142,6 +142,7 @@ TransactionView::TransactionView(const PlatformStyle *platformStyle, QWidget *pa\n     QAction *copyAmountAction = new QAction(tr(\"Copy amount\"), this);\n     QAction *copyTxIDAction = new QAction(tr(\"Copy transaction ID\"), this);\n     QAction *copyTxHexAction = new QAction(tr(\"Copy raw transaction\"), this);\n+    QAction *copyTxPlainText = new QAction(tr(\"Copy full transaction details\"), this);\n     QAction *editLabelAction = new QAction(tr(\"Edit label\"), this);\n     QAction *showDetailsAction = new QAction(tr(\"Show transaction details\"), this);\n \n@@ -151,6 +152,7 @@ TransactionView::TransactionView(const PlatformStyle *platformStyle, QWidget *pa\n     contextMenu->addAction(copyAmountAction);\n     contextMenu->addAction(copyTxIDAction);\n     contextMenu->addAction(copyTxHexAction);\n+    contextMenu->addAction(copyTxPlainText);\n     contextMenu->addAction(editLabelAction);\n     contextMenu->addAction(showDetailsAction);\n \n@@ -173,6 +175,7 @@ TransactionView::TransactionView(const PlatformStyle *platformStyle, QWidget *pa\n     connect(copyAmountAction, SIGNAL(triggered()), this, SLOT(copyAmount()));\n     connect(copyTxIDAction, SIGNAL(triggered()), this, SLOT(copyTxID()));\n     connect(copyTxHexAction, SIGNAL(triggered()), this, SLOT(copyTxHex()));\n+    connect(copyTxPlainText, SIGNAL(triggered()), this, SLOT(copyTxPlainText()));\n     connect(editLabelAction, SIGNAL(triggered()), this, SLOT(editLabel()));\n     connect(showDetailsAction, SIGNAL(triggered()), this, SLOT(showDetails()));\n }\n@@ -388,6 +391,11 @@ void TransactionView::copyTxHex()\n     GUIUtil::copyEntryData(transactionView, 0, TransactionTableModel::TxHexRole);\n }\n \n+void TransactionView::copyTxPlainText()\n+{\n+    GUIUtil::copyEntryData(transactionView, 0, TransactionTableModel::TxPlainTextRole);\n+}\n+\n void TransactionView::editLabel()\n {\n     if(!transactionView->selectionModel() ||!model)\n@@ -526,12 +534,8 @@ bool TransactionView::eventFilter(QObject *obj, QEvent *event)\n         QKeyEvent *ke = static_cast<QKeyEvent *>(event);\n         if (ke->key() == Qt::Key_C && ke->modifiers().testFlag(Qt::ControlModifier))\n         {\n-            QModelIndex i = this->transactionView->currentIndex();\n-            if (i.isValid() && i.column() == TransactionTableModel::Amount)\n-            {\n-                 GUIUtil::setClipboard(i.data(TransactionTableModel::FormattedAmountRole).toString());\n-                 return true;\n-            }\n+             GUIUtil::copyEntryData(transactionView, 0, TransactionTableModel::TxPlainTextRole);\n+             return true;\n         }\n     }\n     return QWidget::eventFilter(obj, event);"
      },
      {
        "sha": "2cfbd471b099b4ade42263a8c0f8dafac8562107",
        "filename": "src/qt/transactionview.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b51ed4036e157a116414f53ac8da78c6b35bf041/src/qt/transactionview.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b51ed4036e157a116414f53ac8da78c6b35bf041/src/qt/transactionview.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactionview.h?ref=b51ed4036e157a116414f53ac8da78c6b35bf041",
        "patch": "@@ -94,6 +94,7 @@ private Q_SLOTS:\n     void copyAmount();\n     void copyTxID();\n     void copyTxHex();\n+    void copyTxPlainText();\n     void openThirdPartyTxUrl(QString url);\n     void updateWatchOnlyColumn(bool fHaveWatchOnly);\n "
      }
    ]
  }
]