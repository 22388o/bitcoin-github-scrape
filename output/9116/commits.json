[
  {
    "sha": "849f6ea3431a7a2e7987193ee184418686bf51a5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4NDlmNmVhMzQzMWE3YTJlNzk4NzE5M2VlMTg0NDE4Njg2YmY1MWE1",
    "commit": {
      "author": {
        "name": "Ondrej Sika",
        "email": "ondrej@ondrejsika.com",
        "date": "2016-11-09T12:19:22Z"
      },
      "committer": {
        "name": "Ondrej Sika",
        "email": "ondrej@ondrejsika.com",
        "date": "2016-11-09T12:19:22Z"
      },
      "message": "Allow getblocktemlate for not connected regtest node",
      "tree": {
        "sha": "f3d2502f8bb865fc3478d4b1ed1b90fb3fe27f30",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f3d2502f8bb865fc3478d4b1ed1b90fb3fe27f30"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/849f6ea3431a7a2e7987193ee184418686bf51a5",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJYIxRQAAoJEHddigIJA+9rr7UP/RmeVBruoTn5+CBRR4JfmwW3\ni0j2cYYy1sptCNsi3X02zxmTDjW/AAb2AMCtQqB2NzyumrPMR9kFQDDvhbLT1Hc8\n04lsRrMd+83WVmCfeBmgN/w8J9P/0LV8CuVy4jY8fzYdiNmlcIJYkYrNEKvmJ1l+\nHTwAd36o7iB62wc69zxo3RSKXqPm5/Vex6OMrVwWBGm5q/RhVzFpyQHWm3Sjoutr\nGozakn0kvMT/eBxb5Yzp87rUFywmj+4NTg32W3f34m0uk6QHYDnilQ4ePf2aLVZS\njiYXMqgMexsafalbqS6lUp88ps8mh+xXVEfUrNH74N11DXJgMLNnlqH+HfJGMT32\ncbFhJsibVzw4TEk/gUsNOsBd5yGPzqeC4sC1/zH3nasVYwbn50joVgRh8BVYy2cM\nyRfBxdLhf4di/9sSRyrhay5ypexV8VsbAmFAszWbjPE6t+78HnvaMDgJgy/yTtfg\nbHnAbAUfLKX0+oErXt211eFP7b0Ye5mLj56zTY8GQLNjX9YbH03hNjyjMa90WenV\nlg2Q8XK0m6pH3GkI9xTObqsWGFzhMm60jpD5T2uBaCdwqV8r1ceBTzfeKt2mPz7z\nCefkptkv9VfSFnSy2eJQtRDtOD/5Hx1hSHEvX4QTAh/7OM9RlpQwHlkCp1AUuH00\n5uaoxqqIJ1tlvMnuumGK\n=lfFh\n-----END PGP SIGNATURE-----",
        "payload": "tree f3d2502f8bb865fc3478d4b1ed1b90fb3fe27f30\nparent 924de0bd75a7f75df65d7d15f9d1587a2e794abf\nauthor Ondrej Sika <ondrej@ondrejsika.com> 1478693962 +0100\ncommitter Ondrej Sika <ondrej@ondrejsika.com> 1478693962 +0100\n\nAllow getblocktemlate for not connected regtest node\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/849f6ea3431a7a2e7987193ee184418686bf51a5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/849f6ea3431a7a2e7987193ee184418686bf51a5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/849f6ea3431a7a2e7987193ee184418686bf51a5/comments",
    "author": {
      "login": "ondrejsika",
      "id": 1665772,
      "node_id": "MDQ6VXNlcjE2NjU3NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1665772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ondrejsika",
      "html_url": "https://github.com/ondrejsika",
      "followers_url": "https://api.github.com/users/ondrejsika/followers",
      "following_url": "https://api.github.com/users/ondrejsika/following{/other_user}",
      "gists_url": "https://api.github.com/users/ondrejsika/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ondrejsika/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ondrejsika/subscriptions",
      "organizations_url": "https://api.github.com/users/ondrejsika/orgs",
      "repos_url": "https://api.github.com/users/ondrejsika/repos",
      "events_url": "https://api.github.com/users/ondrejsika/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ondrejsika/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ondrejsika",
      "id": 1665772,
      "node_id": "MDQ6VXNlcjE2NjU3NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1665772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ondrejsika",
      "html_url": "https://github.com/ondrejsika",
      "followers_url": "https://api.github.com/users/ondrejsika/followers",
      "following_url": "https://api.github.com/users/ondrejsika/following{/other_user}",
      "gists_url": "https://api.github.com/users/ondrejsika/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ondrejsika/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ondrejsika/subscriptions",
      "organizations_url": "https://api.github.com/users/ondrejsika/orgs",
      "repos_url": "https://api.github.com/users/ondrejsika/repos",
      "events_url": "https://api.github.com/users/ondrejsika/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ondrejsika/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "924de0bd75a7f75df65d7d15f9d1587a2e794abf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/924de0bd75a7f75df65d7d15f9d1587a2e794abf",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/924de0bd75a7f75df65d7d15f9d1587a2e794abf"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 2,
      "deletions": 1
    },
    "files": [
      {
        "sha": "736f08742a26054c1e406281fb3c7dd51bdad4cf",
        "filename": "src/rpc/mining.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/849f6ea3431a7a2e7987193ee184418686bf51a5/src/rpc/mining.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/849f6ea3431a7a2e7987193ee184418686bf51a5/src/rpc/mining.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/mining.cpp?ref=849f6ea3431a7a2e7987193ee184418686bf51a5",
        "patch": "@@ -465,7 +465,8 @@ UniValue getblocktemplate(const JSONRPCRequest& request)\n     if(!g_connman)\n         throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Peer-to-peer functionality missing or disabled\");\n \n-    if (g_connman->GetNodeCount(CConnman::CONNECTIONS_ALL) == 0)\n+    // Allow getblocktemlate for not connected regtest node\n+    if (Params().NetworkIDString() != \"regtest\" && g_connman->GetNodeCount(CConnman::CONNECTIONS_ALL) == 0)\n         throw JSONRPCError(RPC_CLIENT_NOT_CONNECTED, \"Bitcoin is not connected!\");\n \n     if (IsInitialBlockDownload())"
      }
    ]
  }
]