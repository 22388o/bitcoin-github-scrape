[
  {
    "sha": "4bddc84efa8d1863e05f5f8dc36c9a5e5f2f7f64",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0YmRkYzg0ZWZhOGQxODYzZTA1ZjVmOGRjMzZjOWE1ZTVmMmY3ZjY0",
    "commit": {
      "author": {
        "name": "Jo\u00e3o Barbosa",
        "email": "joao.paulo.barbosa@gmail.com",
        "date": "2018-04-24T23:56:40Z"
      },
      "committer": {
        "name": "Jo\u00e3o Barbosa",
        "email": "joao.paulo.barbosa@gmail.com",
        "date": "2018-04-26T16:35:33Z"
      },
      "message": "ui: Split event handlers by wallet",
      "tree": {
        "sha": "0955d048c214d1e9729d07c40affc1683b20180b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0955d048c214d1e9729d07c40affc1683b20180b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4bddc84efa8d1863e05f5f8dc36c9a5e5f2f7f64",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4bddc84efa8d1863e05f5f8dc36c9a5e5f2f7f64",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4bddc84efa8d1863e05f5f8dc36c9a5e5f2f7f64",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4bddc84efa8d1863e05f5f8dc36c9a5e5f2f7f64/comments",
    "author": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a0079d4b6dc67be3889af9a16eda89b3c4b33bc5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a0079d4b6dc67be3889af9a16eda89b3c4b33bc5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a0079d4b6dc67be3889af9a16eda89b3c4b33bc5"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 8,
      "deletions": 7
    },
    "files": [
      {
        "sha": "dfccba5a3570f6f0c7dd0a4662267338cb9fdae8",
        "filename": "src/qt/splashscreen.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 5,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4bddc84efa8d1863e05f5f8dc36c9a5e5f2f7f64/src/qt/splashscreen.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4bddc84efa8d1863e05f5f8dc36c9a5e5f2f7f64/src/qt/splashscreen.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/splashscreen.cpp?ref=4bddc84efa8d1863e05f5f8dc36c9a5e5f2f7f64",
        "patch": "@@ -179,8 +179,8 @@ static void ShowProgress(SplashScreen *splash, const std::string &title, int nPr\n #ifdef ENABLE_WALLET\n void SplashScreen::ConnectWallet(std::unique_ptr<interfaces::Wallet> wallet)\n {\n-    m_connected_wallet_handlers.emplace_back(wallet->handleShowProgress(boost::bind(ShowProgress, this, _1, _2, false)));\n-    m_connected_wallets.emplace_back(std::move(wallet));\n+    auto i = m_connected_wallets.emplace(m_connected_wallets.begin(), std::move(wallet), std::list<std::unique_ptr<interfaces::Handler>>());\n+    i->second.emplace_back(wallet->handleShowProgress(boost::bind(ShowProgress, this, _1, _2, false)));\n }\n #endif\n \n@@ -199,10 +199,11 @@ void SplashScreen::unsubscribeFromCoreSignals()\n     // Disconnect signals from client\n     m_handler_init_message->disconnect();\n     m_handler_show_progress->disconnect();\n-    for (auto& handler : m_connected_wallet_handlers) {\n-        handler->disconnect();\n+    for (auto& i : m_connected_wallets) {\n+        for (auto& handler : i.second) {\n+            handler->disconnect();\n+        }\n     }\n-    m_connected_wallet_handlers.clear();\n     m_connected_wallets.clear();\n }\n "
      },
      {
        "sha": "53b0f7208e759ad19582699cabe76a67801d319a",
        "filename": "src/qt/splashscreen.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4bddc84efa8d1863e05f5f8dc36c9a5e5f2f7f64/src/qt/splashscreen.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4bddc84efa8d1863e05f5f8dc36c9a5e5f2f7f64/src/qt/splashscreen.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/splashscreen.h?ref=4bddc84efa8d1863e05f5f8dc36c9a5e5f2f7f64",
        "patch": "@@ -8,6 +8,7 @@\n #include <functional>\n #include <QSplashScreen>\n \n+#include <list>\n #include <memory>\n \n class NetworkStyle;\n@@ -63,8 +64,7 @@ public Q_SLOTS:\n     std::unique_ptr<interfaces::Handler> m_handler_init_message;\n     std::unique_ptr<interfaces::Handler> m_handler_show_progress;\n     std::unique_ptr<interfaces::Handler> m_handler_load_wallet;\n-    std::list<std::unique_ptr<interfaces::Wallet>> m_connected_wallets;\n-    std::list<std::unique_ptr<interfaces::Handler>> m_connected_wallet_handlers;\n+    std::list<std::pair<std::unique_ptr<interfaces::Wallet>, std::list<std::unique_ptr<interfaces::Handler>>>> m_connected_wallets;\n };\n \n #endif // BITCOIN_QT_SPLASHSCREEN_H"
      }
    ]
  }
]