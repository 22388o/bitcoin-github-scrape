[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/675511036",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#issuecomment-675511036",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19752",
    "id": 675511036,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTUxMTAzNg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-18T14:26:31Z",
    "updated_at": "2020-08-18T14:26:31Z",
    "author_association": "MEMBER",
    "body": "Very nice. Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/675511036/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/675614094",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#issuecomment-675614094",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19752",
    "id": 675614094,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTYxNDA5NA==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-18T17:32:01Z",
    "updated_at": "2020-08-18T17:32:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Nice first-time contribution! Warm welcome as a contributor @slmtpz :)\r\n\r\nConcept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/675614094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/675615994",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#issuecomment-675615994",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19752",
    "id": 675615994,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTYxNTk5NA==",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?u=447b2921758ec4b511cc4fffa0b06d8e16824440&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-18T17:35:32Z",
    "updated_at": "2020-08-18T17:35:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Nice first-time contribution! Warm welcome as a contributor @slmtpz :)\r\n> \r\n> Concept ACK\r\n\r\nThank you, looking forward to more contributions in future!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/675615994/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/677877412",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#issuecomment-677877412",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19752",
    "id": 677877412,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3Nzg3NzQxMg==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-20T20:08:17Z",
    "updated_at": "2020-08-26T22:17:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19700 (wallet: Replace -zapwallettxes with wallet tool command by achow101)\n* #19671 (wallet: Remove -zapwallettxes by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/677877412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680231078",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#issuecomment-680231078",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19752",
    "id": 680231078,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDIzMTA3OA==",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?u=447b2921758ec4b511cc4fffa0b06d8e16824440&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-25T19:40:31Z",
    "updated_at": "2020-08-25T19:45:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Concept ACK, welcome! \ud83d\ude0a this is awesome!\r\n> \r\n> I complain about this pretty often \ud83d\ude05 The util `wait_until` function doesn't have any context from the TestFramework instance (i.e. `timeout` and `timeout_factor`). Sometimes when it's used, the test writer forgets to pass in the `mininode_lock` which is even worse. I think it would be a good idea to add a comment to the `wait_until` function in test_framework.util that recommends using something else, because it's almost never the best option - this is just my opinion though. (Btw, I recommend adding something along these lines to the PR description to explain what motivates these changes).\r\n> \r\n> We actually have more options than just TestFramework `wait_until`. There are a few places where one of the mininode helper functions (`wait_for_disconnect`, `wait_for_broadcast`, etc) or the mininode `wait_until` would be more appropriate.\r\n> \r\n> There seem to be some changes that are unrelated to changing which `wait_until` is used. I didn't look into them too closely, but could you give an explanation and/or put them in a separate PR?\r\n> \r\n> Also a style nit: there's a few places where you're refactoring the imports in addition to removing `wait_until`, which I don't think is the style convention and makes the diff larger than it needs to be.\r\n\r\nThanks for the thorough review and double thanks for your suggestions! Going deeper, things had started to build up in my mind. \r\nRebase + force pushed the changes you suggested. As for your other proposal to add a comment in `util.wait_until()`, please look at [this second commit](https://github.com/bitcoin/bitcoin/pull/19752/commits/64dea334bc6f9048411dda7143140107243e2166).\r\nPR description is also updated. Should I update commit body as well (after your approval of the motivation for this change stated in the PR description) ?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680231078/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/681617705",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#issuecomment-681617705",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19752",
    "id": 681617705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MTYxNzcwNQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-27T06:21:38Z",
    "updated_at": "2020-08-27T06:21:38Z",
    "author_association": "MEMBER",
    "body": "Thanks for keeping this updated and addressing all the feedback!\r\n\r\nACK d841301010914203fb5ef02627c76fad99cb11f1 \ud83e\udd86\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK d841301010914203fb5ef02627c76fad99cb11f1 \ud83e\udd86\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUjVKAwAzGdH57AIPkBd3pQiCIm0PMYONNZEur6hn6VVGnLOatyGbLlTQLaw/kwu\r\nVZl6jutSgIusoKNUkjJLgPV2yiQF3PN9xrhS5IwGfGXYX9nvdwy4T/dhmLv6XUuE\r\nHO0+pM7fYE6XoyvK+YPV60uIkb3cgX8hVOU8ACd7GuIESkGiLnxN4zYxZN2Zyrvo\r\nyPUcOAKGXXJom6wzXXUQUZSp9BE5HJexWydui4iduwwkX2n+8yJKOYQ0Hv/kzqo1\r\nuD2gB+GmVUzpfNs3RUkLot2gtl0yK5bqYAVmyCfNXTppRD1yt1JnvxWooFeeW02t\r\nkL5JRg6aFy/PkM+tfTU/uZ3kEuSI0STHYJu5O0Ev9nG2cWKHbERP+LLIIiy0crns\r\nUyyQ9rSaKjMucDlNfbXEg95zf2pRxE9hvqFwBQQT5VC06Pfn6k4Xmi5UfpwRlTSa\r\n4uSSz/dtO5FMvbST5NCXtTOutkFmDmkLyHGOtynLs0Px7GrHtyhn0mL9OnnLbeqV\r\n/mQJZu0x\r\n=HU8g\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `8841ab10d7ee7a298b7cd8d05a44bfb9c3aaaa6e2c48b70e1d0adeb3afe2f62e  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e8929401088841ab10d7ee7a298b7cd8d05a44bfb9c3aaaa6e2c48b70e1d0adeb3afe2f62ef0101d4790d4063ab54cf6239340292e71de08fff010776092f6a46d9ca36d132d166e20a22808f12058fcb5e3010ee7801400fc92d81cf3159ffa298d068316fae5ed8fd27970408508f1045f4750d8f00893974a16dfa15af90083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff010a050ef6e7475950ae413c56eb4f1385b08f1045f4750d5f008a127cfef5c51efba0083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6dfff010c9f74c8651cc4f2ccd4178cda2a6ab3008f1045f4750d6f0086b83737467fd27980083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6df010f44b5f42470afc9006b1627cfb94a1d808f120ed4ef979e2052e23bca56820652b48303eb03d3f5a24362dac07717a0cb9d2fe08f1045f4750d9f00821f2befafbe226900083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267)\r\n\r\n</details>\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/681617705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474380879",
    "pull_request_review_id": 472114214,
    "id": 474380879,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4MDg3OQ==",
    "diff_hunk": "@@ -19,11 +19,7 @@\n )\n from test_framework.mininode import mininode_lock, P2PInterface\n from test_framework.test_framework import BitcoinTestFramework\n-from test_framework.util import (",
    "path": "test/functional/p2p_leak.py",
    "position": 1,
    "original_position": 4,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url": "https://api.github.com/users/glozow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Style nit: I think it's preferred to keep the list on newlines with commas at the end, otherwise we have a situation like this where the diff goes from 1 line to 6. Is there a reason you're changing it?",
    "created_at": "2020-08-21T02:57:16Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474380879",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474380879"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474380879"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474380879/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 22,
    "original_line": 22,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384465",
    "pull_request_review_id": 472114214,
    "id": 474384465,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4NDQ2NQ==",
    "diff_hunk": "@@ -73,23 +73,23 @@ def send_header_for_blocks(self, new_blocks):\n     def request_headers_and_sync(self, locator, hashstop=0):\n         self.clear_block_announcement()\n         self.get_headers(locator, hashstop)\n-        wait_until(self.received_block_announcement, timeout=30, lock=mininode_lock)\n+        self.wait_until(self.received_block_announcement, timeout=30)\n         self.clear_block_announcement()\n \n     # Block until a block announcement for a particular block hash is\n     # received.\n     def wait_for_block_announcement(self, block_hash, timeout=30):\n         def received_hash():\n             return (block_hash in self.announced_blockhashes)\n-        wait_until(received_hash, timeout=timeout, lock=mininode_lock)\n+        self.wait_until(received_hash, timeout=timeout)\n \n     def send_await_disconnect(self, message, timeout=30):\n         \"\"\"Sends a message to the node and wait for disconnect.\n \n         This is used when we want to send a message into the node that we expect\n         will get us disconnected, eg an invalid block.\"\"\"\n         self.send_message(message)\n-        wait_until(lambda: not self.is_connected, timeout=timeout, lock=mininode_lock)\n+        self.wait_until(lambda: not self.is_connected, timeout=timeout, check_connected=False)",
    "path": "test/functional/p2p_compactblocks.py",
    "position": null,
    "original_position": 32,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url": "https://api.github.com/users/glozow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hm, is there a reason for removing `mininode_lock` and adding `check_connected=False`?",
    "created_at": "2020-08-21T03:12:18Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474384465",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384465"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474384465"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384465/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 92,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384763",
    "pull_request_review_id": 472114214,
    "id": 474384763,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4NDc2Mw==",
    "diff_hunk": "@@ -174,7 +171,7 @@ def check_last_headers_announcement(self, headers):\n         \"\"\"Test whether the last headers announcements received are right.\n            Headers may be announced across more than one message.\"\"\"\n         test_function = lambda: (len(self.recent_headers_announced) >= len(headers))\n-        wait_until(test_function, timeout=60, lock=mininode_lock)\n+        self.wait_until(test_function)",
    "path": "test/functional/p2p_sendheaders.py",
    "position": 22,
    "original_position": 26,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url": "https://api.github.com/users/glozow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "why are you removing the timeout and lock here?",
    "created_at": "2020-08-21T03:13:34Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474384763",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384763"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474384763"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 176,
    "original_line": 176,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384793",
    "pull_request_review_id": 472114214,
    "id": 474384793,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4NDc5Mw==",
    "diff_hunk": "@@ -186,7 +183,7 @@ def check_last_inv_announcement(self, inv):\n         inv should be a list of block hashes.\"\"\"\n \n         test_function = lambda: self.block_announced\n-        wait_until(test_function, timeout=60, lock=mininode_lock)\n+        self.wait_until(test_function)",
    "path": "test/functional/p2p_sendheaders.py",
    "position": 31,
    "original_position": 35,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url": "https://api.github.com/users/glozow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "same",
    "created_at": "2020-08-21T03:13:43Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474384793",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384793"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474384793"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384793/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 188,
    "original_line": 188,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474387675",
    "pull_request_review_id": 472114214,
    "id": 474387675,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4NzY3NQ==",
    "diff_hunk": "@@ -294,7 +294,7 @@ def test_compactblock_construction(self, test_node, use_witness_address=True):\n         block.rehash()\n \n         # Wait until the block was announced (via compact blocks)\n-        wait_until(lambda: \"cmpctblock\" in test_node.last_message, timeout=30, lock=mininode_lock)\n+        self.wait_until(lambda: \"cmpctblock\" in test_node.last_message, timeout=30, lock=mininode_lock)",
    "path": "test/functional/p2p_compactblocks.py",
    "position": null,
    "original_position": 50,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url": "https://api.github.com/users/glozow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'm not sure if this is one of the goals of this PR, but in this situation I think it's best to use `test_node.wait_until()`. \r\n\r\nSame with the rest of the test.",
    "created_at": "2020-08-21T03:26:12Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474387675",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474387675"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474387675"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474387675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 297,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474388691",
    "pull_request_review_id": 472114214,
    "id": 474388691,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4ODY5MQ==",
    "diff_hunk": "@@ -33,7 +33,7 @@ def run_test(self):\n         time.sleep(1.1)\n \n         # Can take a few seconds due to transaction trickling\n-        wait_until(lambda: node.p2p.tx_invs_received[txid] >= 1, lock=mininode_lock)\n+        self.wait_until(lambda: node.p2p.tx_invs_received[txid] >= 1, lock=mininode_lock)",
    "path": "test/functional/wallet_resendwallettransactions.py",
    "position": null,
    "original_position": 14,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url": "https://api.github.com/users/glozow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Here, `wait_for_broadcast(txid)` would be more appropriate\r\n\r\n(txid needs to not be converted to int though)",
    "created_at": "2020-08-21T03:30:44Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474388691",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474388691"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474388691"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474388691/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 36,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474388724",
    "pull_request_review_id": 472114214,
    "id": 474388724,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4ODcyNA==",
    "diff_hunk": "@@ -64,7 +64,7 @@ def run_test(self):\n         # Transaction should be rebroadcast approximately 24 hours in the future,\n         # but can range from 12-36. So bump 36 hours to be sure.\n         node.setmocktime(now + 36 * 60 * 60)\n-        wait_until(lambda: node.p2ps[1].tx_invs_received[txid] >= 1, lock=mininode_lock)\n+        self.wait_until(lambda: node.p2ps[1].tx_invs_received[txid] >= 1, lock=mininode_lock)",
    "path": "test/functional/wallet_resendwallettransactions.py",
    "position": null,
    "original_position": 23,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url": "https://api.github.com/users/glozow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "same",
    "created_at": "2020-08-21T03:30:55Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474388724",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474388724"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474388724"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474388724/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 67,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474389262",
    "pull_request_review_id": 472114214,
    "id": 474389262,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4OTI2Mg==",
    "diff_hunk": "@@ -73,23 +73,23 @@ def send_header_for_blocks(self, new_blocks):\n     def request_headers_and_sync(self, locator, hashstop=0):\n         self.clear_block_announcement()\n         self.get_headers(locator, hashstop)\n-        wait_until(self.received_block_announcement, timeout=30, lock=mininode_lock)\n+        self.wait_until(self.received_block_announcement, timeout=30)\n         self.clear_block_announcement()\n \n     # Block until a block announcement for a particular block hash is\n     # received.\n     def wait_for_block_announcement(self, block_hash, timeout=30):\n         def received_hash():\n             return (block_hash in self.announced_blockhashes)\n-        wait_until(received_hash, timeout=timeout, lock=mininode_lock)\n+        self.wait_until(received_hash, timeout=timeout)\n \n     def send_await_disconnect(self, message, timeout=30):\n         \"\"\"Sends a message to the node and wait for disconnect.\n \n         This is used when we want to send a message into the node that we expect\n         will get us disconnected, eg an invalid block.\"\"\"\n         self.send_message(message)\n-        wait_until(lambda: not self.is_connected, timeout=timeout, lock=mininode_lock)\n+        self.wait_until(lambda: not self.is_connected, timeout=timeout, check_connected=False)",
    "path": "test/functional/p2p_compactblocks.py",
    "position": null,
    "original_position": 32,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url": "https://api.github.com/users/glozow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Also, `wait_for_disconnect` would be better.",
    "created_at": "2020-08-21T03:33:31Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474389262",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474389262"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r474389262"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474389262/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 92,
    "side": "RIGHT",
    "in_reply_to_id": 474384465
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476643158",
    "pull_request_review_id": 474732424,
    "id": 476643158,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY0MzE1OA==",
    "diff_hunk": "@@ -19,11 +19,7 @@\n )\n from test_framework.mininode import mininode_lock, P2PInterface\n from test_framework.test_framework import BitcoinTestFramework\n-from test_framework.util import (",
    "path": "test/functional/p2p_leak.py",
    "position": 1,
    "original_position": 4,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I was considering line lengths. It seemed a bit awkward to keep this structure even if there is only one import. However, I totally agree with you on separating with new lines so git history stays clean. \r\nWhat about the imports where this structure is not used? While I'm here, should I put them in a list?",
    "created_at": "2020-08-25T18:09:54Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476643158",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476643158"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476643158"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476643158/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 22,
    "original_line": 22,
    "side": "LEFT",
    "in_reply_to_id": 474380879
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476649324",
    "pull_request_review_id": 474740379,
    "id": 476649324,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY0OTMyNA==",
    "diff_hunk": "@@ -19,11 +19,7 @@\n )\n from test_framework.mininode import mininode_lock, P2PInterface\n from test_framework.test_framework import BitcoinTestFramework\n-from test_framework.util import (",
    "path": "test/functional/p2p_leak.py",
    "position": 1,
    "original_position": 4,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "When the list is longer than one item and it was previously on multiple lines, it probably makes sense to keep it on multiple lines",
    "created_at": "2020-08-25T18:21:27Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476649324",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476649324"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476649324"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476649324/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 22,
    "original_line": 22,
    "side": "LEFT",
    "in_reply_to_id": 474380879
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476649797",
    "pull_request_review_id": 474740955,
    "id": 476649797,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY0OTc5Nw==",
    "diff_hunk": "@@ -9,10 +9,8 @@\n from test_framework.util import (\n     assert_equal,\n     connect_nodes,\n-    wait_until,\n )\n \n-",
    "path": "test/functional/rpc_invalidateblock.py",
    "position": 7,
    "original_position": 7,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "7a66c78b4daf82ffe569db8547007ae9224b9654",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: accidental change",
    "created_at": "2020-08-25T18:22:18Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476649797",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476649797"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476649797"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476649797/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 15,
    "original_line": 15,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476651852",
    "pull_request_review_id": 474743492,
    "id": 476651852,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY1MTg1Mg==",
    "diff_hunk": "@@ -9,10 +9,8 @@\n from test_framework.util import (\n     assert_equal,\n     connect_nodes,\n-    wait_until,\n )\n \n-",
    "path": "test/functional/rpc_invalidateblock.py",
    "position": 7,
    "original_position": 7,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "7a66c78b4daf82ffe569db8547007ae9224b9654",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Corrected.",
    "created_at": "2020-08-25T18:25:52Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476651852",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476651852"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476651852"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476651852/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 15,
    "original_line": 15,
    "side": "LEFT",
    "in_reply_to_id": 476649797
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476663715",
    "pull_request_review_id": 474758500,
    "id": 476663715,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY2MzcxNQ==",
    "diff_hunk": "@@ -294,7 +294,7 @@ def test_compactblock_construction(self, test_node, use_witness_address=True):\n         block.rehash()\n \n         # Wait until the block was announced (via compact blocks)\n-        wait_until(lambda: \"cmpctblock\" in test_node.last_message, timeout=30, lock=mininode_lock)\n+        self.wait_until(lambda: \"cmpctblock\" in test_node.last_message, timeout=30, lock=mininode_lock)",
    "path": "test/functional/p2p_compactblocks.py",
    "position": null,
    "original_position": 50,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I was inclined to use the one from `BitcoinTestFramework` since I thought it would be good to keep consistency. However, in this case, since we are waiting for a change in `test_node`, using that one makes more sense, did I get it right? :) ",
    "created_at": "2020-08-25T18:47:25Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476663715",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476663715"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476663715"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476663715/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 297,
    "side": "RIGHT",
    "in_reply_to_id": 474387675
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476670346",
    "pull_request_review_id": 474766654,
    "id": 476670346,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY3MDM0Ng==",
    "diff_hunk": "@@ -174,7 +171,7 @@ def check_last_headers_announcement(self, headers):\n         \"\"\"Test whether the last headers announcements received are right.\n            Headers may be announced across more than one message.\"\"\"\n         test_function = lambda: (len(self.recent_headers_announced) >= len(headers))\n-        wait_until(test_function, timeout=60, lock=mininode_lock)\n+        self.wait_until(test_function)",
    "path": "test/functional/p2p_sendheaders.py",
    "position": 22,
    "original_position": 26,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This class extends `P2PInterface` not `BitcoinTestFramework`. mininode one already has a lock. As for timeout, it already has a default value of 60.",
    "created_at": "2020-08-25T18:58:46Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476670346",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476670346"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476670346"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476670346/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 176,
    "original_line": 176,
    "side": "RIGHT",
    "in_reply_to_id": 474384763
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476670575",
    "pull_request_review_id": 474766915,
    "id": 476670575,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY3MDU3NQ==",
    "diff_hunk": "@@ -186,7 +183,7 @@ def check_last_inv_announcement(self, inv):\n         inv should be a list of block hashes.\"\"\"\n \n         test_function = lambda: self.block_announced\n-        wait_until(test_function, timeout=60, lock=mininode_lock)\n+        self.wait_until(test_function)",
    "path": "test/functional/p2p_sendheaders.py",
    "position": 31,
    "original_position": 35,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This class extends P2PInterface not BitcoinTestFramework. mininode one already has a lock. As for timeout, it already has a default value of 60.\r\n\r\n",
    "created_at": "2020-08-25T18:59:06Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476670575",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476670575"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476670575"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476670575/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 188,
    "original_line": 188,
    "side": "RIGHT",
    "in_reply_to_id": 474384793
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690295",
    "pull_request_review_id": 474792136,
    "id": 476690295,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY5MDI5NQ==",
    "diff_hunk": "@@ -73,23 +73,23 @@ def send_header_for_blocks(self, new_blocks):\n     def request_headers_and_sync(self, locator, hashstop=0):\n         self.clear_block_announcement()\n         self.get_headers(locator, hashstop)\n-        wait_until(self.received_block_announcement, timeout=30, lock=mininode_lock)\n+        self.wait_until(self.received_block_announcement, timeout=30)\n         self.clear_block_announcement()\n \n     # Block until a block announcement for a particular block hash is\n     # received.\n     def wait_for_block_announcement(self, block_hash, timeout=30):\n         def received_hash():\n             return (block_hash in self.announced_blockhashes)\n-        wait_until(received_hash, timeout=timeout, lock=mininode_lock)\n+        self.wait_until(received_hash, timeout=timeout)\n \n     def send_await_disconnect(self, message, timeout=30):\n         \"\"\"Sends a message to the node and wait for disconnect.\n \n         This is used when we want to send a message into the node that we expect\n         will get us disconnected, eg an invalid block.\"\"\"\n         self.send_message(message)\n-        wait_until(lambda: not self.is_connected, timeout=timeout, lock=mininode_lock)\n+        self.wait_until(lambda: not self.is_connected, timeout=timeout, check_connected=False)",
    "path": "test/functional/p2p_compactblocks.py",
    "position": null,
    "original_position": 32,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Used `wait_for_disconnect` instead, thanks!",
    "created_at": "2020-08-25T19:35:35Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690295",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690295"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690295"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690295/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 92,
    "side": "RIGHT",
    "in_reply_to_id": 474384465
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690465",
    "pull_request_review_id": 474792358,
    "id": 476690465,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY5MDQ2NQ==",
    "diff_hunk": "@@ -294,7 +294,7 @@ def test_compactblock_construction(self, test_node, use_witness_address=True):\n         block.rehash()\n \n         # Wait until the block was announced (via compact blocks)\n-        wait_until(lambda: \"cmpctblock\" in test_node.last_message, timeout=30, lock=mininode_lock)\n+        self.wait_until(lambda: \"cmpctblock\" in test_node.last_message, timeout=30, lock=mininode_lock)",
    "path": "test/functional/p2p_compactblocks.py",
    "position": null,
    "original_position": 50,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Updated.",
    "created_at": "2020-08-25T19:35:54Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690465",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690465"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690465"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690465/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 297,
    "side": "RIGHT",
    "in_reply_to_id": 474387675
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690804",
    "pull_request_review_id": 474792805,
    "id": 476690804,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY5MDgwNA==",
    "diff_hunk": "@@ -33,7 +33,7 @@ def run_test(self):\n         time.sleep(1.1)\n \n         # Can take a few seconds due to transaction trickling\n-        wait_until(lambda: node.p2p.tx_invs_received[txid] >= 1, lock=mininode_lock)\n+        self.wait_until(lambda: node.p2p.tx_invs_received[txid] >= 1, lock=mininode_lock)",
    "path": "test/functional/wallet_resendwallettransactions.py",
    "position": null,
    "original_position": 14,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It looks cleaner now! Please have a look.",
    "created_at": "2020-08-25T19:36:34Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690804",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690804"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690804"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690804/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 36,
    "side": "RIGHT",
    "in_reply_to_id": 474388691
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690871",
    "pull_request_review_id": 474792898,
    "id": 476690871,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY5MDg3MQ==",
    "diff_hunk": "@@ -64,7 +64,7 @@ def run_test(self):\n         # Transaction should be rebroadcast approximately 24 hours in the future,\n         # but can range from 12-36. So bump 36 hours to be sure.\n         node.setmocktime(now + 36 * 60 * 60)\n-        wait_until(lambda: node.p2ps[1].tx_invs_received[txid] >= 1, lock=mininode_lock)\n+        self.wait_until(lambda: node.p2ps[1].tx_invs_received[txid] >= 1, lock=mininode_lock)",
    "path": "test/functional/wallet_resendwallettransactions.py",
    "position": null,
    "original_position": 23,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "c3e1a3074132f7a35858222d15db4ef49354135b",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Updated",
    "created_at": "2020-08-25T19:36:41Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690871",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690871"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r476690871"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476690871/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 67,
    "side": "RIGHT",
    "in_reply_to_id": 474388724
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477061731",
    "pull_request_review_id": 475184279,
    "id": 477061731,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2MTczMQ==",
    "diff_hunk": "@@ -203,7 +202,7 @@ def run_test(self):\n \n         # wait_until() will loop until a predicate condition is met. Use it to test properties of the\n         # P2PInterface objects.\n-        wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)\n+        self.wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)",
    "path": "test/functional/example_test.py",
    "position": null,
    "original_position": 13,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n        self.nodes[2].p2p.wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5)\r\n```\r\n\r\nShouldn't this be",
    "created_at": "2020-08-26T06:25:20Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477061731",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477061731"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477061731"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477061731/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 205,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477062057",
    "pull_request_review_id": 475184279,
    "id": 477062057,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2MjA1Nw==",
    "diff_hunk": "@@ -91,14 +90,14 @@ def run_test(self):\n \n         # Generating one block guarantees that we'll get out of IBD\n         node.generatetoaddress(1, node_deterministic_address)\n-        wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)",
    "path": "test/functional/feature_versionbits_warning.py",
    "position": null,
    "original_position": 13,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n        self.wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10)\r\n```\r\n\r\nwhy the lock?",
    "created_at": "2020-08-26T06:26:09Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477062057",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477062057"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477062057"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477062057/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 93,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477063111",
    "pull_request_review_id": 475184279,
    "id": 477063111,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2MzExMQ==",
    "diff_hunk": "@@ -2114,7 +2113,7 @@ def test_wtxid_relay(self):\n         # Check wtxidrelay feature negotiation message through connecting a new peer\n         def received_wtxidrelay():\n             return (len(self.wtx_node.last_wtxidrelay) > 0)\n-        wait_until(received_wtxidrelay, timeout=60, lock=mininode_lock)\n+        self.wait_until(received_wtxidrelay, lock=mininode_lock)",
    "path": "test/functional/p2p_segwit.py",
    "position": null,
    "original_position": 13,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n        self.wtx_node.wait_until(received_wtxidrelay)\r\n```",
    "created_at": "2020-08-26T06:28:42Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477063111",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477063111"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477063111"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477063111/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2116,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477063826",
    "pull_request_review_id": 475184279,
    "id": 477063826,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2MzgyNg==",
    "diff_hunk": "@@ -298,7 +297,7 @@ def test_nonnull_locators(self, test_node, inv_node):\n                 test_node.send_header_for_blocks([new_block])\n                 test_node.wait_for_getdata([new_block.sha256])\n                 test_node.send_and_ping(msg_block(new_block))  # make sure this block is processed\n-                wait_until(lambda: inv_node.block_announced, timeout=60, lock=mininode_lock)\n+                self.wait_until(lambda: inv_node.block_announced, lock=mininode_lock)",
    "path": "test/functional/p2p_sendheaders.py",
    "position": null,
    "original_position": 40,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n                inv_node.wait_until(lambda: inv_node.block_announced)\r\n```",
    "created_at": "2020-08-26T06:30:09Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477063826",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477063826"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477063826"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477063826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 300,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064053",
    "pull_request_review_id": 475184279,
    "id": 477064053,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2NDA1Mw==",
    "diff_hunk": "@@ -138,20 +137,20 @@ def test_in_flight_max(self):\n             p.tx_getdata_count = 0\n \n         p.send_message(msg_inv([CInv(t=MSG_WTX, h=i) for i in txids]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)",
    "path": "test/functional/p2p_tx_download.py",
    "position": null,
    "original_position": 22,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n        p.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT)\r\n```",
    "created_at": "2020-08-26T06:30:38Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477064053",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064053"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477064053"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064053/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 140,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064127",
    "pull_request_review_id": 475184279,
    "id": 477064127,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2NDEyNw==",
    "diff_hunk": "@@ -138,20 +137,20 @@ def test_in_flight_max(self):\n             p.tx_getdata_count = 0\n \n         p.send_message(msg_inv([CInv(t=MSG_WTX, h=i) for i in txids]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n         with mininode_lock:\n             assert_equal(p.tx_getdata_count, MAX_GETDATA_IN_FLIGHT)\n \n         self.log.info(\"Now check that if we send a NOTFOUND for a transaction, we'll get one more request\")\n         p.send_message(msg_notfound(vec=[CInv(t=MSG_WTX, h=txids[0])]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)",
    "path": "test/functional/p2p_tx_download.py",
    "position": null,
    "original_position": 29,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "same",
    "created_at": "2020-08-26T06:30:51Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477064127",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064127"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477064127"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064127/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 146,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064174",
    "pull_request_review_id": 475184279,
    "id": 477064174,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2NDE3NA==",
    "diff_hunk": "@@ -138,20 +137,20 @@ def test_in_flight_max(self):\n             p.tx_getdata_count = 0\n \n         p.send_message(msg_inv([CInv(t=MSG_WTX, h=i) for i in txids]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n         with mininode_lock:\n             assert_equal(p.tx_getdata_count, MAX_GETDATA_IN_FLIGHT)\n \n         self.log.info(\"Now check that if we send a NOTFOUND for a transaction, we'll get one more request\")\n         p.send_message(msg_notfound(vec=[CInv(t=MSG_WTX, h=txids[0])]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)\n         with mininode_lock:\n             assert_equal(p.tx_getdata_count, MAX_GETDATA_IN_FLIGHT + 1)\n \n         WAIT_TIME = TX_EXPIRY_INTERVAL // 2 + TX_EXPIRY_INTERVAL\n         self.log.info(\"if we wait about {} minutes, we should eventually get more requests\".format(WAIT_TIME / 60))\n         self.nodes[0].setmocktime(int(time.time() + WAIT_TIME))\n-        wait_until(lambda: p.tx_getdata_count == MAX_GETDATA_IN_FLIGHT + 2)\n+        self.wait_until(lambda: p.tx_getdata_count == MAX_GETDATA_IN_FLIGHT + 2)",
    "path": "test/functional/p2p_tx_download.py",
    "position": null,
    "original_position": 37,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "same\r\n",
    "created_at": "2020-08-26T06:30:59Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477064174",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064174"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477064174"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477064174/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 153,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477067273",
    "pull_request_review_id": 475191146,
    "id": 477067273,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2NzI3Mw==",
    "diff_hunk": "@@ -203,7 +202,7 @@ def run_test(self):\n \n         # wait_until() will loop until a predicate condition is met. Use it to test properties of the\n         # P2PInterface objects.\n-        wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)\n+        self.wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)",
    "path": "test/functional/example_test.py",
    "position": null,
    "original_position": 13,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is there a big difference between two? I was inclined to use the one from framework wherever possible.",
    "created_at": "2020-08-26T06:38:40Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477067273",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477067273"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477067273"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477067273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 205,
    "side": "RIGHT",
    "in_reply_to_id": 477061731
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477067799",
    "pull_request_review_id": 475191795,
    "id": 477067799,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2Nzc5OQ==",
    "diff_hunk": "@@ -91,14 +90,14 @@ def run_test(self):\n \n         # Generating one block guarantees that we'll get out of IBD\n         node.generatetoaddress(1, node_deterministic_address)\n-        wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)",
    "path": "test/functional/feature_versionbits_warning.py",
    "position": null,
    "original_position": 13,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The class of this method inherits from `BitcoinTestFramework` which does not have a default lock.",
    "created_at": "2020-08-26T06:39:57Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477067799",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477067799"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477067799"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477067799/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 93,
    "side": "RIGHT",
    "in_reply_to_id": 477062057
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477068786",
    "pull_request_review_id": 475193054,
    "id": 477068786,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2ODc4Ng==",
    "diff_hunk": "@@ -203,7 +202,7 @@ def run_test(self):\n \n         # wait_until() will loop until a predicate condition is met. Use it to test properties of the\n         # P2PInterface objects.\n-        wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)\n+        self.wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)",
    "path": "test/functional/example_test.py",
    "position": null,
    "original_position": 13,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It seems a bit convolved to import the lock, which needs to be taken, then call a method, which passes the imported lock to be taken.\r\n\r\nSimply calling a member function that takes the lock when needed without importing or passing it seems less error prone, as there is no way it can be missed. Also, it makes the calling code shorter and more readable",
    "created_at": "2020-08-26T06:42:18Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477068786",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477068786"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477068786"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477068786/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 205,
    "side": "RIGHT",
    "in_reply_to_id": 477061731
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477069182",
    "pull_request_review_id": 475193614,
    "id": 477069182,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2OTE4Mg==",
    "diff_hunk": "@@ -91,14 +90,14 @@ def run_test(self):\n \n         # Generating one block guarantees that we'll get out of IBD\n         node.generatetoaddress(1, node_deterministic_address)\n-        wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)",
    "path": "test/functional/feature_versionbits_warning.py",
    "position": null,
    "original_position": 13,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "but why is the lock needed? Why does it need to be taken here?",
    "created_at": "2020-08-26T06:43:16Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477069182",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477069182"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477069182"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477069182/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 93,
    "side": "RIGHT",
    "in_reply_to_id": 477062057
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477069861",
    "pull_request_review_id": 475194470,
    "id": 477069861,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA2OTg2MQ==",
    "diff_hunk": "@@ -91,14 +90,14 @@ def run_test(self):\n \n         # Generating one block guarantees that we'll get out of IBD\n         node.generatetoaddress(1, node_deterministic_address)\n-        wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: not node.getblockchaininfo()['initialblockdownload'], timeout=10, lock=mininode_lock)",
    "path": "test/functional/feature_versionbits_warning.py",
    "position": null,
    "original_position": 13,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I frankly don't know. It was there before, so I didn't touch it.",
    "created_at": "2020-08-26T06:44:51Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477069861",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477069861"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477069861"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477069861/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 93,
    "side": "RIGHT",
    "in_reply_to_id": 477062057
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073072",
    "pull_request_review_id": 475198479,
    "id": 477073072,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA3MzA3Mg==",
    "diff_hunk": "@@ -203,7 +202,7 @@ def run_test(self):\n \n         # wait_until() will loop until a predicate condition is met. Use it to test properties of the\n         # P2PInterface objects.\n-        wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)\n+        self.wait_until(lambda: sorted(blocks) == sorted(list(self.nodes[2].p2p.block_receive_map.keys())), timeout=5, lock=mininode_lock)",
    "path": "test/functional/example_test.py",
    "position": null,
    "original_position": 13,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Updated, thanks for clear explanation.",
    "created_at": "2020-08-26T06:51:54Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073072",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073072"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073072"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073072/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 205,
    "side": "RIGHT",
    "in_reply_to_id": 477061731
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073184",
    "pull_request_review_id": 475198621,
    "id": 477073184,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA3MzE4NA==",
    "diff_hunk": "@@ -2114,7 +2113,7 @@ def test_wtxid_relay(self):\n         # Check wtxidrelay feature negotiation message through connecting a new peer\n         def received_wtxidrelay():\n             return (len(self.wtx_node.last_wtxidrelay) > 0)\n-        wait_until(received_wtxidrelay, timeout=60, lock=mininode_lock)\n+        self.wait_until(received_wtxidrelay, lock=mininode_lock)",
    "path": "test/functional/p2p_segwit.py",
    "position": null,
    "original_position": 13,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Updated.",
    "created_at": "2020-08-26T06:52:09Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073184",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073184"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073184"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073184/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2116,
    "side": "RIGHT",
    "in_reply_to_id": 477063111
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073243",
    "pull_request_review_id": 475198689,
    "id": 477073243,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA3MzI0Mw==",
    "diff_hunk": "@@ -298,7 +297,7 @@ def test_nonnull_locators(self, test_node, inv_node):\n                 test_node.send_header_for_blocks([new_block])\n                 test_node.wait_for_getdata([new_block.sha256])\n                 test_node.send_and_ping(msg_block(new_block))  # make sure this block is processed\n-                wait_until(lambda: inv_node.block_announced, timeout=60, lock=mininode_lock)\n+                self.wait_until(lambda: inv_node.block_announced, lock=mininode_lock)",
    "path": "test/functional/p2p_sendheaders.py",
    "position": null,
    "original_position": 40,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Updated.",
    "created_at": "2020-08-26T06:52:17Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073243",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073243"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073243"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 300,
    "side": "RIGHT",
    "in_reply_to_id": 477063826
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073508",
    "pull_request_review_id": 475199006,
    "id": 477073508,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA3MzUwOA==",
    "diff_hunk": "@@ -138,20 +137,20 @@ def test_in_flight_max(self):\n             p.tx_getdata_count = 0\n \n         p.send_message(msg_inv([CInv(t=MSG_WTX, h=i) for i in txids]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)",
    "path": "test/functional/p2p_tx_download.py",
    "position": null,
    "original_position": 22,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Updated.",
    "created_at": "2020-08-26T06:52:48Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073508",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073508"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073508"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 140,
    "side": "RIGHT",
    "in_reply_to_id": 477064053
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073548",
    "pull_request_review_id": 475199044,
    "id": 477073548,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA3MzU0OA==",
    "diff_hunk": "@@ -138,20 +137,20 @@ def test_in_flight_max(self):\n             p.tx_getdata_count = 0\n \n         p.send_message(msg_inv([CInv(t=MSG_WTX, h=i) for i in txids]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n         with mininode_lock:\n             assert_equal(p.tx_getdata_count, MAX_GETDATA_IN_FLIGHT)\n \n         self.log.info(\"Now check that if we send a NOTFOUND for a transaction, we'll get one more request\")\n         p.send_message(msg_notfound(vec=[CInv(t=MSG_WTX, h=txids[0])]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)",
    "path": "test/functional/p2p_tx_download.py",
    "position": null,
    "original_position": 29,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Updated.",
    "created_at": "2020-08-26T06:52:51Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073548",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073548"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073548"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073548/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 146,
    "side": "RIGHT",
    "in_reply_to_id": 477064127
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073568",
    "pull_request_review_id": 475199074,
    "id": 477073568,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA3MzU2OA==",
    "diff_hunk": "@@ -138,20 +137,20 @@ def test_in_flight_max(self):\n             p.tx_getdata_count = 0\n \n         p.send_message(msg_inv([CInv(t=MSG_WTX, h=i) for i in txids]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT, lock=mininode_lock)\n         with mininode_lock:\n             assert_equal(p.tx_getdata_count, MAX_GETDATA_IN_FLIGHT)\n \n         self.log.info(\"Now check that if we send a NOTFOUND for a transaction, we'll get one more request\")\n         p.send_message(msg_notfound(vec=[CInv(t=MSG_WTX, h=txids[0])]))\n-        wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)\n+        self.wait_until(lambda: p.tx_getdata_count >= MAX_GETDATA_IN_FLIGHT + 1, timeout=10, lock=mininode_lock)\n         with mininode_lock:\n             assert_equal(p.tx_getdata_count, MAX_GETDATA_IN_FLIGHT + 1)\n \n         WAIT_TIME = TX_EXPIRY_INTERVAL // 2 + TX_EXPIRY_INTERVAL\n         self.log.info(\"if we wait about {} minutes, we should eventually get more requests\".format(WAIT_TIME / 60))\n         self.nodes[0].setmocktime(int(time.time() + WAIT_TIME))\n-        wait_until(lambda: p.tx_getdata_count == MAX_GETDATA_IN_FLIGHT + 2)\n+        self.wait_until(lambda: p.tx_getdata_count == MAX_GETDATA_IN_FLIGHT + 2)",
    "path": "test/functional/p2p_tx_download.py",
    "position": null,
    "original_position": 37,
    "commit_id": "d841301010914203fb5ef02627c76fad99cb11f1",
    "original_commit_id": "0a2d50714f056955ac92f01346bbdc8d5c3019c7",
    "user": {
      "login": "slmtpz",
      "id": 17165664,
      "node_id": "MDQ6VXNlcjE3MTY1NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17165664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slmtpz",
      "html_url": "https://github.com/slmtpz",
      "followers_url": "https://api.github.com/users/slmtpz/followers",
      "following_url": "https://api.github.com/users/slmtpz/following{/other_user}",
      "gists_url": "https://api.github.com/users/slmtpz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slmtpz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slmtpz/subscriptions",
      "organizations_url": "https://api.github.com/users/slmtpz/orgs",
      "repos_url": "https://api.github.com/users/slmtpz/repos",
      "events_url": "https://api.github.com/users/slmtpz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slmtpz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Updated.",
    "created_at": "2020-08-26T06:52:55Z",
    "updated_at": "2020-08-26T16:06:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073568",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073568"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19752#discussion_r477073568"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19752"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477073568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 153,
    "side": "RIGHT",
    "in_reply_to_id": 477064174
  }
]