DrahtBot,2021-04-22 21:09:04,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #16807 by meshcollider\n\nIf you consider this pull request important, please also help to review the conflicting pull req",https://github.com/bitcoin/bitcoin/pull/21755#issuecomment-825187217,825187217,
prayank23,2021-05-12 12:30:01,"@meshcollider @MarcoFalke Let me know if this code and error message looks better\n\nCode: L102-L113 in https://github.com/bitcoin/bitcoin/commit/af9979837d1a9d4844d2701f4eeb7aed353d8af9\n\nError:\n```\nprayank@ubuntu:~$ bitcoin-cli getaddressinfo bc1qec3jrdfay25ny537hwfr3c7ta2zaxzhftpqz6z\nerror code: -5\nerror message:\nInvalid prefix 'bc' for Bech32 address on testnet\n```",https://github.com/bitcoin/bitcoin/pull/21755#issuecomment-839731400,839731400,
luke-jr,2021-06-11 00:21:01,"I think it's better without these details. At the very least, normal users shouldn't need to see ""mainnet"".",https://github.com/bitcoin/bitcoin/pull/21755#issuecomment-859171760,859171760,
brunoerg,2021-06-13 02:54:06,"Concept ACK\n\n`Invalid prefix 'bc' for Bech32 address on testnet` seems good for me. I like the idea of mentioning the network (`on testnet`, for example), it clarifies the relation between the prefixes and the networks. ",https://github.com/bitcoin/bitcoin/pull/21755#issuecomment-860142574,860142574,
tylerchambers,2021-06-13 17:42:40,LGTM. Provides more context as to what went wrong vs the previous message which was somewhat unclear.,https://github.com/bitcoin/bitcoin/pull/21755#issuecomment-860246605,860246605,
Rspigler,2021-07-12 21:28:26,Please mark up for grabs,https://github.com/bitcoin/bitcoin/pull/21755#issuecomment-878609583,878609583,
MarcoFalke,2021-04-22 15:34:08,Why not simply print `dec.hrp != params.Bech32HRP()`?,https://github.com/bitcoin/bitcoin/pull/21755#discussion_r618511236,618511236,src/key_io.cpp
prayank23,2021-04-22 16:21:22,"You mean use something like this?\n\n```C++\nerror_str = ""Invalid prefix for Bech32 address. Details:"" + dec.hrp + ""!="" + params.Bech32HRP();\n```\n\nWhich will give this error if wrong prefix for a bech32 address is used:\n\n![image](https://user-images.githubusercontent.com/13405205/115749372-a73a7900-a3b4-11eb-9548-6e2ec1bf8a9a.png)\n\nLooks more confusing for some users. \n",https://github.com/bitcoin/bitcoin/pull/21755#discussion_r618552296,618552296,src/key_io.cpp
prayank23,2021-04-22 16:26:04,"Maybe this works better:\n\n```C++\nerror_str = ""Invalid prefix `"" + dec.hrp + ""` for Bech32 address. Suggested prefix: `""  + params.Bech32HRP() + ""`"";\n```",https://github.com/bitcoin/bitcoin/pull/21755#discussion_r618556804,618556804,src/key_io.cpp
prayank23,2021-04-22 16:35:48,"![image](https://user-images.githubusercontent.com/13405205/115751502-e073e880-a3b6-11eb-940d-20138a5388be.png)\n",https://github.com/bitcoin/bitcoin/pull/21755#discussion_r618565891,618565891,src/key_io.cpp
meshcollider,2021-04-27 04:38:33,"'Suggested prefix' implies you (the user) can just change it, which obviously isn't the case. I think the error message does need to emphasise the fact you might be using an address from the wrong network.",https://github.com/bitcoin/bitcoin/pull/21755#discussion_r620852980,620852980,src/key_io.cpp
prayank23,2021-04-28 20:44:14,"I wanted to mention ""Wrong network"" in this error but I am not sure if wrong network is the only reason why a prefix can be wrong and condition in `if` statement at L102 becomes true.",https://github.com/bitcoin/bitcoin/pull/21755#discussion_r622525748,622525748,src/key_io.cpp
meshcollider,2021-05-06 03:02:19,"@prayank23 if the decoding succeeded but the HRP is wrong then I think ""Wrong network"" is a valid assumption. It would either be that or the input was another type of data entirely, using the same checksum, which is much more unlikely and can be safely ignored.",https://github.com/bitcoin/bitcoin/pull/21755#discussion_r627045134,627045134,src/key_io.cpp
