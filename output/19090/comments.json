[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/635343332",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#issuecomment-635343332",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19090",
    "id": 635343332,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTM0MzMzMg==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-28T13:16:02Z",
    "updated_at": "2020-05-28T13:16:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/635343332/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/635518938",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#issuecomment-635518938",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19090",
    "id": 635518938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTUxODkzOA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-28T18:26:42Z",
    "updated_at": "2020-05-28T18:26:42Z",
    "author_association": "MEMBER",
    "body": "Removed some more code as requested by @jnewbery ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/635518938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/635670795",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#issuecomment-635670795",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19090",
    "id": 635670795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTY3MDc5NQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-28T23:31:38Z",
    "updated_at": "2020-05-28T23:31:38Z",
    "author_association": "MEMBER",
    "body": "Reverted back to the previous version for a smaller diff",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/635670795/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/635717262",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#issuecomment-635717262",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19090",
    "id": 635717262,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTcxNzI2Mg==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-29T02:17:29Z",
    "updated_at": "2020-05-29T02:17:29Z",
    "author_association": "MEMBER",
    "body": "reACK fa197f1d1119346b8980cf1a8b34ceee07f30a6a\r\n\r\nonly change is renaming `StopImmediately()` to `stop()` (presumably so `StopWhenDrained()` can be removed in a follow-up PR.\r\n\r\n> Reverted back to the previous version for a smaller diff\r\n\r\nGood. My original suggestion was to remove `StopWhenDrained()` in a follow-up. No need to do everything in one PR.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/635717262/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647107374",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#issuecomment-647107374",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19090",
    "id": 647107374,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzEwNzM3NA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-21T10:07:10Z",
    "updated_at": "2020-06-21T10:07:10Z",
    "author_association": "MEMBER",
    "body": "Force pushed last commit, but should be trivial to re-review with `git range-diff bitcoin-core/master --word-diff-regex=. A B`",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647107374/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647519122",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#issuecomment-647519122",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19090",
    "id": 647519122,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzUxOTEyMg==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-22T13:27:52Z",
    "updated_at": "2020-06-22T13:27:52Z",
    "author_association": "MEMBER",
    "body": "utACK fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647519122/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431826785",
    "pull_request_review_id": 420096088,
    "id": 431826785,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTgyNjc4NQ==",
    "diff_hunk": "@@ -73,10 +73,10 @@ class CScheduler\n     // and interrupted using boost::interrupt_thread\n     void serviceQueue();\n \n-    // Tell any threads running serviceQueue to stop as soon as they're\n-    // done servicing whatever task they're currently servicing (drain=false)\n+    // Tell any threads running serviceQueue to stop as soon as they are\n+    // done servicing whatever task they are currently servicing (drain=false)\n     // or when there is no work left to be done (drain=true)\n-    void stop(bool drain=false);\n+    void stop(bool drain);",
    "path": "src/scheduler.h",
    "position": null,
    "original_position": 10,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fafaf24446653bd585e723edc120198b30c78b17",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Might be better to have something like:\r\n\r\n```c++\r\n    // Tell any threads running serviceQueue to stop as soon as they are\r\n    // done servicing whatever task they are currently servicing.\r\n    void stop_immediately();\r\n\r\n    // Tell any threads running serviceQueue to stop as soon as\r\n    // there is no work left to be done.\r\n    void stop_when_drained();\r\n```",
    "created_at": "2020-05-28T13:17:25Z",
    "updated_at": "2020-06-21T10:03:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431826785",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431826785"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431826785"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431826785/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 79,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431828224",
    "pull_request_review_id": 420096088,
    "id": 431828224,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTgyODIyNA==",
    "diff_hunk": "@@ -62,8 +61,6 @@ class CScheduler\n      */\n     void MockForward(std::chrono::seconds delta_seconds);\n \n-    // To keep things as simple as possible, there is no unschedule.",
    "path": "src/scheduler.h",
    "position": 67,
    "original_position": 12,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fa5240025766423b2ed645f31bb621b3f1969f59",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hmm, I kind-of think that comment's helpful.",
    "created_at": "2020-05-28T13:19:34Z",
    "updated_at": "2020-06-21T10:03:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431828224",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431828224"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431828224"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431828224/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 70,
    "original_line": 70,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431831911",
    "pull_request_review_id": 420102899,
    "id": 431831911,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTgzMTkxMQ==",
    "diff_hunk": "@@ -62,8 +61,6 @@ class CScheduler\n      */\n     void MockForward(std::chrono::seconds delta_seconds);\n \n-    // To keep things as simple as possible, there is no unschedule.",
    "path": "src/scheduler.h",
    "position": 67,
    "original_position": 12,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fa5240025766423b2ed645f31bb621b3f1969f59",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This should be clear from our general policy that everything should be as minimal as possible and that unused features should not be implemented.\r\n\r\nIf the comment is brought back, I'd prefer the alternative version:\r\n\r\n```cpp\r\n     // To keep things as simple as possible, there is no unschedule and the scheduler can not schedule events on your electronic barista",
    "created_at": "2020-05-28T13:25:16Z",
    "updated_at": "2020-06-21T10:03:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431831911",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431831911"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431831911"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431831911/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 70,
    "original_line": 70,
    "side": "LEFT",
    "in_reply_to_id": 431828224
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431832161",
    "pull_request_review_id": 420103265,
    "id": 431832161,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTgzMjE2MQ==",
    "diff_hunk": "@@ -73,10 +73,10 @@ class CScheduler\n     // and interrupted using boost::interrupt_thread\n     void serviceQueue();\n \n-    // Tell any threads running serviceQueue to stop as soon as they're\n-    // done servicing whatever task they're currently servicing (drain=false)\n+    // Tell any threads running serviceQueue to stop as soon as they are\n+    // done servicing whatever task they are currently servicing (drain=false)\n     // or when there is no work left to be done (drain=true)\n-    void stop(bool drain=false);\n+    void stop(bool drain);",
    "path": "src/scheduler.h",
    "position": null,
    "original_position": 10,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fafaf24446653bd585e723edc120198b30c78b17",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sure, will do that",
    "created_at": "2020-05-28T13:25:39Z",
    "updated_at": "2020-06-21T10:03:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431832161",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431832161"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431832161"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431832161/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 79,
    "side": "RIGHT",
    "in_reply_to_id": 431826785
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431889410",
    "pull_request_review_id": 420181117,
    "id": 431889410,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg4OTQxMA==",
    "diff_hunk": "@@ -73,10 +73,10 @@ class CScheduler\n     // and interrupted using boost::interrupt_thread\n     void serviceQueue();\n \n-    // Tell any threads running serviceQueue to stop as soon as they're\n-    // done servicing whatever task they're currently servicing (drain=false)\n+    // Tell any threads running serviceQueue to stop as soon as they are\n+    // done servicing whatever task they are currently servicing (drain=false)\n     // or when there is no work left to be done (drain=true)\n-    void stop(bool drain=false);\n+    void stop(bool drain);",
    "path": "src/scheduler.h",
    "position": null,
    "original_position": 10,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fafaf24446653bd585e723edc120198b30c78b17",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2020-05-28T14:39:34Z",
    "updated_at": "2020-06-21T10:03:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431889410",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431889410"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431889410"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431889410/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 79,
    "side": "RIGHT",
    "in_reply_to_id": 431826785
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431922496",
    "pull_request_review_id": 420225225,
    "id": 431922496,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTkyMjQ5Ng==",
    "diff_hunk": "@@ -5,36 +5,30 @@\n #ifndef BITCOIN_SCHEDULER_H\n #define BITCOIN_SCHEDULER_H\n \n-//\n-// NOTE:\n-// boost::thread should be ported to std::thread\n-// when we support C++11.\n-//\n #include <condition_variable>\n #include <functional>\n #include <list>\n #include <map>\n \n #include <sync.h>\n \n-//\n-// Simple class for background tasks that should be run\n-// periodically or once \"after a while\"\n-//\n-// Usage:\n-//\n-// CScheduler* s = new CScheduler();\n-// s->scheduleFromNow(doSomething, std::chrono::milliseconds{11}); // Assuming a: void doSomething() { }\n-// s->scheduleFromNow([=] { this->func(argument); }, std::chrono::milliseconds{3});\n-// boost::thread* t = new boost::thread(std::bind(CScheduler::serviceQueue, s));\n-//\n-// ... then at program shutdown, make sure to call stop() to clean up the thread(s) running serviceQueue:\n-// s->stop();\n-// t->join();\n-// delete t;\n-// delete s; // Must be done after thread is interrupted/joined.\n-//\n-\n+/**\n+ * Simple class for background tasks that should be run\n+ * periodically or once \"after a while\"\n+ *\n+ * Usage:\n+ *\n+ * CScheduler* s = new CScheduler();",
    "path": "src/scheduler.h",
    "position": 40,
    "original_position": 40,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fae1ef5e7bf3f0b6d1d181b77b9dc7a3bb0486dc",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If you're changing this, perhaps make it a unique_ptr to indicate unique ownership?",
    "created_at": "2020-05-28T15:23:28Z",
    "updated_at": "2020-06-21T10:03:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431922496",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431922496"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431922496"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431922496/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 21,
    "original_line": 21,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431945705",
    "pull_request_review_id": 420225225,
    "id": 431945705,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTk0NTcwNQ==",
    "diff_hunk": "@@ -67,23 +61,32 @@ class CScheduler\n      */\n     void MockForward(std::chrono::seconds delta_seconds);\n \n-    // To keep things as simple as possible, there is no unschedule.\n-\n-    // Services the queue 'forever'. Should be run in a thread,\n-    // and interrupted using boost::interrupt_thread\n+    /**\n+     * Services the queue 'forever'. Should be run in a thread,\n+     * and interrupted using boost::interrupt_thread\n+     */\n     void serviceQueue();\n \n-    // Tell any threads running serviceQueue to stop as soon as they're\n-    // done servicing whatever task they're currently servicing (drain=false)\n-    // or when there is no work left to be done (drain=true)\n-    void stop(bool drain=false);\n+    /** Tell any threads running serviceQueue to stop as soon as the current task is done */\n+    void StopImmediately()\n+    {\n+        WITH_LOCK(newTaskMutex, stopRequested = true);\n+        newTaskScheduled.notify_all();\n+    }\n+    /** Tell any threads running serviceQueue to stop when there is no work left to be done */\n+    void StopWhenDrained()",
    "path": "src/scheduler.h",
    "position": 88,
    "original_position": 88,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fae1ef5e7bf3f0b6d1d181b77b9dc7a3bb0486dc",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is a really good change. Explicitly naming these functions makes it much clearer at the call site.\r\n\r\nDo you think a follow-up should remove the `StopWhenDrained()` function entirely? It's only used in tests.",
    "created_at": "2020-05-28T15:55:46Z",
    "updated_at": "2020-06-21T10:03:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431945705",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431945705"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431945705"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431945705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 77,
    "original_line": 77,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431961148",
    "pull_request_review_id": 420225225,
    "id": 431961148,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTk2MTE0OA==",
    "diff_hunk": "@@ -67,23 +61,32 @@ class CScheduler\n      */\n     void MockForward(std::chrono::seconds delta_seconds);\n \n-    // To keep things as simple as possible, there is no unschedule.\n-\n-    // Services the queue 'forever'. Should be run in a thread,\n-    // and interrupted using boost::interrupt_thread\n+    /**\n+     * Services the queue 'forever'. Should be run in a thread,\n+     * and interrupted using boost::interrupt_thread\n+     */\n     void serviceQueue();\n \n-    // Tell any threads running serviceQueue to stop as soon as they're\n-    // done servicing whatever task they're currently servicing (drain=false)\n-    // or when there is no work left to be done (drain=true)\n-    void stop(bool drain=false);\n+    /** Tell any threads running serviceQueue to stop as soon as the current task is done */\n+    void StopImmediately()\n+    {\n+        WITH_LOCK(newTaskMutex, stopRequested = true);\n+        newTaskScheduled.notify_all();\n+    }\n+    /** Tell any threads running serviceQueue to stop when there is no work left to be done */\n+    void StopWhenDrained()\n+    {\n+        WITH_LOCK(newTaskMutex, stopWhenEmpty = true);\n+        newTaskScheduled.notify_all();\n+    }\n \n-    // Returns number of tasks waiting to be serviced,\n-    // and first and last task times\n-    size_t getQueueInfo(std::chrono::system_clock::time_point &first,\n-                        std::chrono::system_clock::time_point &last) const;\n+    /**\n+     * Returns number of tasks waiting to be serviced,\n+     * and first and last task times\n+     */\n+    size_t getQueueInfo(std::chrono::system_clock::time_point& first, std::chrono::system_clock::time_point& last) const;",
    "path": "src/scheduler.h",
    "position": null,
    "original_position": 102,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fae1ef5e7bf3f0b6d1d181b77b9dc7a3bb0486dc",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I find it more readable to to have the arguments split over multiple lines, though I guess that means I should open a PR to remove `AllowAllParametersOfDeclarationOnNextLine: false` from `.clang-format`?",
    "created_at": "2020-05-28T16:17:58Z",
    "updated_at": "2020-06-21T10:03:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431961148",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431961148"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431961148"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431961148/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 87,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431967728",
    "pull_request_review_id": 420287493,
    "id": 431967728,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTk2NzcyOA==",
    "diff_hunk": "@@ -5,36 +5,30 @@\n #ifndef BITCOIN_SCHEDULER_H\n #define BITCOIN_SCHEDULER_H\n \n-//\n-// NOTE:\n-// boost::thread should be ported to std::thread\n-// when we support C++11.\n-//\n #include <condition_variable>\n #include <functional>\n #include <list>\n #include <map>\n \n #include <sync.h>\n \n-//\n-// Simple class for background tasks that should be run\n-// periodically or once \"after a while\"\n-//\n-// Usage:\n-//\n-// CScheduler* s = new CScheduler();\n-// s->scheduleFromNow(doSomething, std::chrono::milliseconds{11}); // Assuming a: void doSomething() { }\n-// s->scheduleFromNow([=] { this->func(argument); }, std::chrono::milliseconds{3});\n-// boost::thread* t = new boost::thread(std::bind(CScheduler::serviceQueue, s));\n-//\n-// ... then at program shutdown, make sure to call stop() to clean up the thread(s) running serviceQueue:\n-// s->stop();\n-// t->join();\n-// delete t;\n-// delete s; // Must be done after thread is interrupted/joined.\n-//\n-\n+/**\n+ * Simple class for background tasks that should be run\n+ * periodically or once \"after a while\"\n+ *\n+ * Usage:\n+ *\n+ * CScheduler* s = new CScheduler();",
    "path": "src/scheduler.h",
    "position": 40,
    "original_position": 40,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fae1ef5e7bf3f0b6d1d181b77b9dc7a3bb0486dc",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not sure how to preserve this part of the comment then:\r\n\r\n```\r\ndelete s; // Must be done after thread is interrupted/joined.\r\n```\r\n\r\nIf this is changed, I'd rather just\r\n\r\n```\r\nCScheduler s{};\r\ns.scheduleFromNow(doSomething, std::chrono::milliseconds{11}); // Assuming a: void doSomething() { }\r\ns.scheduleFromNow([=] { this->func(argument); }, std::chrono::milliseconds{3});\r\nstd::thread t{[&] { s.serviceQueue(); }};\r\n \r\n ... then at program shutdown, make sure to call stop() to clean up the thread(s) running serviceQueue:\r\ns.stop();\r\nt.join();",
    "created_at": "2020-05-28T16:27:57Z",
    "updated_at": "2020-06-21T10:03:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431967728",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431967728"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431967728"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431967728/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 21,
    "original_line": 21,
    "side": "RIGHT",
    "in_reply_to_id": 431922496
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431983182",
    "pull_request_review_id": 420309126,
    "id": 431983182,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTk4MzE4Mg==",
    "diff_hunk": "@@ -67,23 +61,32 @@ class CScheduler\n      */\n     void MockForward(std::chrono::seconds delta_seconds);\n \n-    // To keep things as simple as possible, there is no unschedule.\n-\n-    // Services the queue 'forever'. Should be run in a thread,\n-    // and interrupted using boost::interrupt_thread\n+    /**\n+     * Services the queue 'forever'. Should be run in a thread,\n+     * and interrupted using boost::interrupt_thread\n+     */\n     void serviceQueue();\n \n-    // Tell any threads running serviceQueue to stop as soon as they're\n-    // done servicing whatever task they're currently servicing (drain=false)\n-    // or when there is no work left to be done (drain=true)\n-    void stop(bool drain=false);\n+    /** Tell any threads running serviceQueue to stop as soon as the current task is done */\n+    void StopImmediately()\n+    {\n+        WITH_LOCK(newTaskMutex, stopRequested = true);\n+        newTaskScheduled.notify_all();\n+    }\n+    /** Tell any threads running serviceQueue to stop when there is no work left to be done */\n+    void StopWhenDrained()\n+    {\n+        WITH_LOCK(newTaskMutex, stopWhenEmpty = true);\n+        newTaskScheduled.notify_all();\n+    }\n \n-    // Returns number of tasks waiting to be serviced,\n-    // and first and last task times\n-    size_t getQueueInfo(std::chrono::system_clock::time_point &first,\n-                        std::chrono::system_clock::time_point &last) const;\n+    /**\n+     * Returns number of tasks waiting to be serviced,\n+     * and first and last task times\n+     */\n+    size_t getQueueInfo(std::chrono::system_clock::time_point& first, std::chrono::system_clock::time_point& last) const;",
    "path": "src/scheduler.h",
    "position": null,
    "original_position": 102,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fae1ef5e7bf3f0b6d1d181b77b9dc7a3bb0486dc",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In this case splitting over multiple lines is allowed because `BinPack...` is already set to `false`. However, unless `AlignAfterOpenBracket` is changed to `Align` I find it less readable.\r\n\r\nIn any case changing `.clang-format` should be done in a separate pr, and I might object changing `AlignAfterOpenBracket` to `Align` because it wastes so much whitespace.",
    "created_at": "2020-05-28T16:53:50Z",
    "updated_at": "2020-06-21T10:03:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431983182",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431983182"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431983182"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431983182/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 87,
    "side": "RIGHT",
    "in_reply_to_id": 431961148
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431998325",
    "pull_request_review_id": 420329139,
    "id": 431998325,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTk5ODMyNQ==",
    "diff_hunk": "@@ -5,36 +5,30 @@\n #ifndef BITCOIN_SCHEDULER_H\n #define BITCOIN_SCHEDULER_H\n \n-//\n-// NOTE:\n-// boost::thread should be ported to std::thread\n-// when we support C++11.\n-//\n #include <condition_variable>\n #include <functional>\n #include <list>\n #include <map>\n \n #include <sync.h>\n \n-//\n-// Simple class for background tasks that should be run\n-// periodically or once \"after a while\"\n-//\n-// Usage:\n-//\n-// CScheduler* s = new CScheduler();\n-// s->scheduleFromNow(doSomething, std::chrono::milliseconds{11}); // Assuming a: void doSomething() { }\n-// s->scheduleFromNow([=] { this->func(argument); }, std::chrono::milliseconds{3});\n-// boost::thread* t = new boost::thread(std::bind(CScheduler::serviceQueue, s));\n-//\n-// ... then at program shutdown, make sure to call stop() to clean up the thread(s) running serviceQueue:\n-// s->stop();\n-// t->join();\n-// delete t;\n-// delete s; // Must be done after thread is interrupted/joined.\n-//\n-\n+/**\n+ * Simple class for background tasks that should be run\n+ * periodically or once \"after a while\"\n+ *\n+ * Usage:\n+ *\n+ * CScheduler* s = new CScheduler();",
    "path": "src/scheduler.h",
    "position": 40,
    "original_position": 40,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fae1ef5e7bf3f0b6d1d181b77b9dc7a3bb0486dc",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "That looks reasonable to me, although I don't think it's _that_ important. If you don't think it matters, leave it as is to avoid bikeshedding.\r\n\r\nHowever, I do think that you should s/stop()/StopImmediately()/ in this comment now that you're removing the `stop()` function.",
    "created_at": "2020-05-28T17:18:44Z",
    "updated_at": "2020-06-21T10:03:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431998325",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431998325"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r431998325"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431998325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 21,
    "original_line": 21,
    "side": "RIGHT",
    "in_reply_to_id": 431922496
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/432010042",
    "pull_request_review_id": 420344213,
    "id": 432010042,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjAxMDA0Mg==",
    "diff_hunk": "@@ -67,23 +61,32 @@ class CScheduler\n      */\n     void MockForward(std::chrono::seconds delta_seconds);\n \n-    // To keep things as simple as possible, there is no unschedule.\n-\n-    // Services the queue 'forever'. Should be run in a thread,\n-    // and interrupted using boost::interrupt_thread\n+    /**\n+     * Services the queue 'forever'. Should be run in a thread,\n+     * and interrupted using boost::interrupt_thread\n+     */\n     void serviceQueue();\n \n-    // Tell any threads running serviceQueue to stop as soon as they're\n-    // done servicing whatever task they're currently servicing (drain=false)\n-    // or when there is no work left to be done (drain=true)\n-    void stop(bool drain=false);\n+    /** Tell any threads running serviceQueue to stop as soon as the current task is done */\n+    void StopImmediately()\n+    {\n+        WITH_LOCK(newTaskMutex, stopRequested = true);\n+        newTaskScheduled.notify_all();\n+    }\n+    /** Tell any threads running serviceQueue to stop when there is no work left to be done */\n+    void StopWhenDrained()\n+    {\n+        WITH_LOCK(newTaskMutex, stopWhenEmpty = true);\n+        newTaskScheduled.notify_all();\n+    }\n \n-    // Returns number of tasks waiting to be serviced,\n-    // and first and last task times\n-    size_t getQueueInfo(std::chrono::system_clock::time_point &first,\n-                        std::chrono::system_clock::time_point &last) const;\n+    /**\n+     * Returns number of tasks waiting to be serviced,\n+     * and first and last task times\n+     */\n+    size_t getQueueInfo(std::chrono::system_clock::time_point& first, std::chrono::system_clock::time_point& last) const;",
    "path": "src/scheduler.h",
    "position": null,
    "original_position": 102,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fae1ef5e7bf3f0b6d1d181b77b9dc7a3bb0486dc",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "https://github.com/bitcoin/bitcoin/pull/19095",
    "created_at": "2020-05-28T17:38:49Z",
    "updated_at": "2020-06-21T10:03:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r432010042",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/432010042"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r432010042"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/432010042/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 87,
    "side": "RIGHT",
    "in_reply_to_id": 431961148
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/432035864",
    "pull_request_review_id": 420378331,
    "id": 432035864,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjAzNTg2NA==",
    "diff_hunk": "@@ -5,36 +5,30 @@\n #ifndef BITCOIN_SCHEDULER_H\n #define BITCOIN_SCHEDULER_H\n \n-//\n-// NOTE:\n-// boost::thread should be ported to std::thread\n-// when we support C++11.\n-//\n #include <condition_variable>\n #include <functional>\n #include <list>\n #include <map>\n \n #include <sync.h>\n \n-//\n-// Simple class for background tasks that should be run\n-// periodically or once \"after a while\"\n-//\n-// Usage:\n-//\n-// CScheduler* s = new CScheduler();\n-// s->scheduleFromNow(doSomething, std::chrono::milliseconds{11}); // Assuming a: void doSomething() { }\n-// s->scheduleFromNow([=] { this->func(argument); }, std::chrono::milliseconds{3});\n-// boost::thread* t = new boost::thread(std::bind(CScheduler::serviceQueue, s));\n-//\n-// ... then at program shutdown, make sure to call stop() to clean up the thread(s) running serviceQueue:\n-// s->stop();\n-// t->join();\n-// delete t;\n-// delete s; // Must be done after thread is interrupted/joined.\n-//\n-\n+/**\n+ * Simple class for background tasks that should be run\n+ * periodically or once \"after a while\"\n+ *\n+ * Usage:\n+ *\n+ * CScheduler* s = new CScheduler();",
    "path": "src/scheduler.h",
    "position": 40,
    "original_position": 40,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fae1ef5e7bf3f0b6d1d181b77b9dc7a3bb0486dc",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Left as is for now.",
    "created_at": "2020-05-28T18:26:13Z",
    "updated_at": "2020-06-21T10:03:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r432035864",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/432035864"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r432035864"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/432035864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 21,
    "original_line": 21,
    "side": "RIGHT",
    "in_reply_to_id": 431922496
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/432035936",
    "pull_request_review_id": 420378430,
    "id": 432035936,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjAzNTkzNg==",
    "diff_hunk": "@@ -67,23 +61,32 @@ class CScheduler\n      */\n     void MockForward(std::chrono::seconds delta_seconds);\n \n-    // To keep things as simple as possible, there is no unschedule.\n-\n-    // Services the queue 'forever'. Should be run in a thread,\n-    // and interrupted using boost::interrupt_thread\n+    /**\n+     * Services the queue 'forever'. Should be run in a thread,\n+     * and interrupted using boost::interrupt_thread\n+     */\n     void serviceQueue();\n \n-    // Tell any threads running serviceQueue to stop as soon as they're\n-    // done servicing whatever task they're currently servicing (drain=false)\n-    // or when there is no work left to be done (drain=true)\n-    void stop(bool drain=false);\n+    /** Tell any threads running serviceQueue to stop as soon as the current task is done */\n+    void StopImmediately()\n+    {\n+        WITH_LOCK(newTaskMutex, stopRequested = true);\n+        newTaskScheduled.notify_all();\n+    }\n+    /** Tell any threads running serviceQueue to stop when there is no work left to be done */\n+    void StopWhenDrained()",
    "path": "src/scheduler.h",
    "position": 88,
    "original_position": 88,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fae1ef5e7bf3f0b6d1d181b77b9dc7a3bb0486dc",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2020-05-28T18:26:21Z",
    "updated_at": "2020-06-21T10:03:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r432035936",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/432035936"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r432035936"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/432035936/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 77,
    "original_line": 77,
    "side": "RIGHT",
    "in_reply_to_id": 431945705
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443203639",
    "pull_request_review_id": 434487758,
    "id": 443203639,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIwMzYzOQ==",
    "diff_hunk": "@@ -67,23 +61,32 @@ class CScheduler\n      */\n     void MockForward(std::chrono::seconds delta_seconds);\n \n-    // To keep things as simple as possible, there is no unschedule.\n-\n-    // Services the queue 'forever'. Should be run in a thread,\n-    // and interrupted using boost::interrupt_thread\n+    /**\n+     * Services the queue 'forever'. Should be run in a thread,\n+     * and interrupted using boost::interrupt_thread\n+     */\n     void serviceQueue();\n \n-    // Tell any threads running serviceQueue to stop as soon as they're\n-    // done servicing whatever task they're currently servicing (drain=false)\n-    // or when there is no work left to be done (drain=true)\n-    void stop(bool drain=false);\n+    /** Tell any threads running serviceQueue to stop as soon as the current task is done */\n+    void StopImmediately()\n+    {\n+        WITH_LOCK(newTaskMutex, stopRequested = true);\n+        newTaskScheduled.notify_all();\n+    }\n+    /** Tell any threads running serviceQueue to stop when there is no work left to be done */\n+    void StopWhenDrained()\n+    {\n+        WITH_LOCK(newTaskMutex, stopWhenEmpty = true);\n+        newTaskScheduled.notify_all();\n+    }\n \n-    // Returns number of tasks waiting to be serviced,\n-    // and first and last task times\n-    size_t getQueueInfo(std::chrono::system_clock::time_point &first,\n-                        std::chrono::system_clock::time_point &last) const;\n+    /**\n+     * Returns number of tasks waiting to be serviced,\n+     * and first and last task times\n+     */\n+    size_t getQueueInfo(std::chrono::system_clock::time_point& first, std::chrono::system_clock::time_point& last) const;",
    "path": "src/scheduler.h",
    "position": null,
    "original_position": 102,
    "commit_id": "fa8337fcdbcab8368d5bf111c4b2e5acf25e6e22",
    "original_commit_id": "fae1ef5e7bf3f0b6d1d181b77b9dc7a3bb0486dc",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "thx fixed",
    "created_at": "2020-06-21T10:06:40Z",
    "updated_at": "2020-06-21T10:06:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r443203639",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443203639"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19090#discussion_r443203639"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19090"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443203639/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 87,
    "side": "RIGHT",
    "in_reply_to_id": 431961148
  }
]