DrahtBot,2019-11-18 21:48:20,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18656 (gui: Add a `Make unsigned` button next to `Send` by achow101)\n* #18246 (wip: gui: Drop connectSlotsByName usage b",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-555224768,555224768,
practicalswift,2019-11-19 10:12:26,"I haven't investigated thoroughly yet but it seems like at least a subset of the issues regarding handling of malformed PSBT inputs reported in #17149 (""Potential PSBT issues found by the PSBT fuzzer"") are reachable from this code?\n\nThat is not a problem once the #17149 issues have been fixed by making the PSBT code more robust against malformed PSBT input, but I wanted to mention the dependen",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-555433082,555433082,
gwillen,2019-12-09 23:26:05,"UI comment: I think ""create unsigned"" / ""save"" is a weird juxtaposition. Perhaps ""Copy PSBT"" / ""Save PSBT""? Or perhaps ""Create Unsigned"" with further options in a dialog?",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-563487073,563487073,
promag,2019-12-23 01:25:06,Concept ACK.,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-568323542,568323542,
Sjors,2020-01-02 10:14:19,"Rebased. I can address feedback for #17463 here if needed.\n\n> Or perhaps ""Create Unsigned"" with further options in a dialog?\n\nYes, this seems like a better idea. It's especially useful to have some flexibility after loading a PSBT. ",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-570165630,570165630,
Sjors,2020-01-04 13:18:33,"I added a dialog for Create Unsigned that appears after the usual transaction approval. The PSBT is automatically copied to clipboard as before, but the dialog offers to also save it. When loading a PSBT, the dialog asks if the users wants to broadcast. When there's a problem, e.g. missing signatures, it offers to copy it (so you can e.g. inspect it with RPC).  ",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-570785119,570785119,
Sjors,2020-01-06 04:36:20,I dropped the dependency on #17463; should be easy to rebase. This is now ready for review.,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-571000130,571000130,
gwillen,2020-01-28 01:57:59,"Tested ACK e6ea593. Thoughts:\n\n- Obviously I'm not exactly an unbiased reviewer since some of this is based on some of my work, but I think my ACK probably still counts. :-)\n- I don't like the verbosity of the save filenames, but that's so easy to change later, and so subject to bikeshedding, that I think it should be left alone for this PR.",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-579043172,579043172,
luke-jr,2020-01-29 03:56:17,"No way to actually sign an incomplete one?\n\nMaybe it should load raw signed transactions too...",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-579580448,579580448,
Sjors,2020-01-29 08:04:29,"@luke-jr both should be possible, but I prefer to keep this PR simple.\n\n@practicalswift wrote:\n\n> I haven't investigated thoroughly yet but it seems like at least a subset of the issues regarding handling of malformed PSBT inputs reported in #17149 (""Potential PSBT issues found by the PSBT fuzzer"") are reachable from this code?\n> \n> That is not a problem once the #17149 issues have bee",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-579640285,579640285,
gwillen,2020-01-29 20:14:27,"@luke-jr FWIW, I already have a change prepared on top of this one which introduces more functionality when loading, including the ability to sign. I have been kind of dithering over details but it's basically ready to become a PR. I will probably PR it at least as a WIP as soon as this one's in (maybe I should just do that now.)\n\n(It doesn't load raw signed transactions, but that would seem p",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-579939027,579939027,
practicalswift,2020-01-29 21:20:40,"@Sjors Nice to see #17156 merged - that makes the handling of malformed PSBT much more robust. Please note that we still have the misaligned pointer use in `ProduceSignature(â€¦)` (via `prevector`) to resolve -- see https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-579963266 for details and #17708 for fix.\n\nI would suggest waiting with merging this PR until #17708 is merged.\n\nAfter ",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-579965121,579965121,
Sjors,2020-01-30 09:58:29,"@practicalswift this PR doesn't sign PSBT's, so it seems that particular code path is avoided?",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-580176466,580176466,
practicalswift,2020-01-30 11:27:27,"@Sjors Oh, of course - you're right. It is a PSBT issue, but not an issue for this PR :)",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-580210031,580210031,
instagibbs,2020-02-20 19:15:03,"concept ACK, will review and test soon",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-589260239,589260239,
instagibbs,2020-02-20 21:20:01,"tACK e6ea593f510481ddabc042403a5f6f0200551ffb, Tested using HWI with base64->binary conversion command detailed to save the signed version of the transaction here https://github.com/bitcoin-core/HWI/blob/master/docs/examples.md#binary-format-handling",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-589323856,589323856,
gwillen,2020-02-27 22:08:17,"@achow101 General note: keep in mind that a lot of the logic here gets moved in #18027, and changed somehwat (and I think my approach to error-handling there is pretty well thought out). So I wouldn't try to optimize too hard here, assuming you believe that follow-on CL is well-designed and will go in relatively quickly.",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-592201731,592201731,
achow101,2020-02-27 22:25:50,"@gwillen I think all of my comments still stand for #18027. The cases I mentioned aren't particularly well handled there either.\n\nHere are 2 psbts that cause some issues:\n\n```\n70736274ff010071020000000119cec02d4d6b871d80feb6de5ed937342d9336e5526e131381bc4d6a403a2e3f0000000000fdffffff0200e9a43500000000160014c62c8874a843b36bc064428ef26293144dc23e62d0cff5050000000016001419157d423d5ea8a81889",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-592209415,592209415,
Sjors,2020-02-28 10:34:07,"Addressed feedback, while trying to minimise the impact on #18027. I also rebased because #18027 seems to need that.\n\nI'm now using a switch for the analyzer result. I made a seperate PR #18220 that fixes the analyzer issue I ran to before https://github.com/bitcoin/bitcoin/pull/17509#discussion_r348395490, and this PR builds on top of that. That seems preferable my earlier UI workaround.\n\",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-592453248,592453248,
achow101,2020-02-28 23:15:43,Should probably rebase on top of #18224 ,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-592772544,592772544,
achow101,2020-02-28 23:39:10,"ACK, modulo rebase",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-592779253,592779253,
Sjors,2020-02-29 08:01:15,It's rebased now.,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-592917473,592917473,
meshcollider,2020-03-02 09:51:09,"Thanks Sjors, you can rebase on master now #18224 is merged :)",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-593316688,593316688,
Sjors,2020-03-02 12:02:41,@meshcollider rebased,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-593369403,593369403,
instagibbs,2020-03-02 15:29:36,re-tACK https://github.com/bitcoin/bitcoin/pull/17509/commits/f48130c331c65b090d4073784bee8687cf484e78,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-593459399,593459399,
jonasschnelli,2020-03-02 16:01:46,"I created a watch only wallet (disabled private keys), imported an address, and tried to create a watch-only-""unsigned"" via the GUI. Though it complained about ""The amount exceeds your balance"" while fundraw with watching worked.\n\n<img width=""1179"" alt=""Bildschirmfoto 2020-03-02 um 17 00 03"" src=""https://user-images.githubusercontent.com/178464/75693478-4713df80-5ca7-11ea-9638-ab5b2c46a029.png",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-593475931,593475931,
Sjors,2020-03-02 17:09:42,@jonasschnelli `walletcreatefundedpsbt` should behave more similar to the GUI than `fundrawtransaction`. Does it also work?,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-593510231,593510231,
achow101,2020-03-10 18:10:46,ACK f48130c331c65b090d4073784bee8687cf484e78,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-597234701,597234701,
Sjors,2020-03-24 19:33:04,Rebased after #18278,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-603462264,603462264,
Sjors,2020-03-26 10:26:33,"I moved `DEFAULT_MAX_RAW_TX_FEE_RATE` to `policy.h` so the GUI can use it as well. This maximum fee stuff always has difficulty finding a home for itself, @jnewbery @amitiuttarwar  thoughts?\n\nI also introduced `MAX_FILE_SIZE_PSBT` with a comment that it's not required by BIP 174, but just a precaution to prevent OOM.",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-604348960,604348960,
instagibbs,2020-03-26 13:52:48,"re-ACK https://github.com/bitcoin/bitcoin/pull/17509/commits/e406414d906814de351127f08fc0d06e927b4b81\n\nmac run having an unrelated sads",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-604443343,604443343,
Sjors,2020-03-26 13:59:49,I lost my authoritah to restart jobs... @MarcoFalke?,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-604447068,604447068,
instagibbs,2020-03-26 14:00:57,hmm me too,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-604447722,604447722,
MarcoFalke,2020-03-26 14:01:53,Open-Close to re-run ci. See https://github.com/bitcoin/bitcoin/issues/15847#issuecomment-487591130,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-604448208,604448208,
Sjors,2020-03-26 14:04:49,I used to be able to just restart individual jobs from within Travis.,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-604449709,604449709,
MarcoFalke,2020-03-26 14:07:47,Travis is broken on all ends. You have to re-login every 24 hours to get a new token to retain the permission to restart builds.,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-604451258,604451258,
jonasschnelli,2020-03-26 14:11:03,"utACK e406414d906814de351127f08fc0d06e927b4b81\nThis seems ready for merge. Without further objections, this will get merged after the 0.20 split-off (early April).",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-604452952,604452952,
jnewbery,2020-03-26 15:16:01,"> I moved DEFAULT_MAX_RAW_TX_FEE_RATE to policy.h so the GUI can use it as well. This maximum fee stuff always has difficulty finding a home for itself, @jnewbery @amitiuttarwar thoughts?\n\n`policy.h` really isn't the right place for this, since it's nothing to do with mempool acceptance policy. I think you should be using the wallet's maxtxfee, not an RPC default constant. You can fetch the wa",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-604489029,604489029,
Sjors,2020-03-26 16:32:35,"@jnewbery this isn't a wallet feature though: you can load and broadcast a PSBT without a wallet (not sure if I implemented it that way, but in principle it should work when compiled without a wallet).",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-604533156,604533156,
jnewbery,2020-03-26 17:00:47,"> @jnewbery this isn't a wallet feature though: you can load and broadcast a PSBT without a wallet (not sure if I implemented it that way, but in principle it should work when compiled without a wallet).\n\nI haven't reviewed this PR. I just saw that the DEFAULT_MAX_RAW_TX_FEE_RATE was being accessed by a function in walletview.cpp. Is that expected to be available when the wallet isn't loaded?",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-604549422,604549422,
Sjors,2020-03-27 10:46:55,"That same constant is also used by `sendrawtransaction`. It was initially only available to RPC code, so I had to move it somewhere else. I agree `policy.h` is not a great place for it either, but afaik we don't have a `misc_constants.h` :-) My initial thinking was to put it near mempool settings.\n\nI think right now loading a PSBT uses the current wallet context, and indeed it's in `walletview",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-604933922,604933922,
jnewbery,2020-03-27 13:49:25,"> My initial thinking was to put it near mempool settings.\n\nI think `src/node/transaction.h` is probably the best place for it now. Please don't put non-policy constants in policy.h!",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-605010887,605010887,
Sjors,2020-03-27 13:59:48,Done!,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-605016025,605016025,
instagibbs,2020-03-27 14:04:48,"re-ACK  https://github.com/bitcoin/bitcoin/pull/17509/commits/764bfe4cba35c24f7627cc425d9e7eba56e98964\n\nmoving constant to `src/node/transaction.h` only change",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-605018527,605018527,
achow101,2020-03-27 16:40:37,ACK 764bfe4cba35c24f7627cc425d9e7eba56e98964,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-605101314,605101314,
kallewoof,2020-04-09 06:40:24,"Concept and code review ACK, but... I can't figure out how to actually test this. Do I need to start with specific settings?",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-611357883,611357883,
instagibbs,2020-04-09 12:58:17,"@kallewoof definitely a power-user setting, but the way to use this is start/use a blank wallet with no privkeys, aka watch-only wallet",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-611513433,611513433,
Sjors,2020-04-10 11:26:59,"@kallewoof you can try it with a ColdCard (simulator) on testnet. It has a menu option to export wallet keys to Bitcoin Core (added by yours truly: https://github.com/Coldcard/firmware/pull/32), which you can import into a watch-only wallet.",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-611991260,611991260,
kallewoof,2020-04-11 01:54:44,"Nice. This is apparently merge-ready so not really necessary, but as a pure reviewer (i.e. not involved in the HWW stuff atm), I find it very hard to test this. (I managed to get a watchonly wallet in bitcoin core, but then what? No keys.. I'm sure there's a way!)",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-612295448,612295448,
instagibbs,2020-04-11 18:46:51,@kallewoof https://github.com/bitcoin-core/HWI/blob/master/docs/bitcoin-core-usage.md this should get you to the point where this PR becomes apparent to use.,https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-612488147,612488147,
jb55,2020-04-16 21:42:08,"Tested ACK 764bfe4cba35c24f7627cc425d9e7eba56e98964\n\nIt looks like #18027, #18656 + more? depend on this so it would be awesome to get this in (after 0.20 of course)",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-614912023,614912023,
Sjors,2020-04-22 18:29:18,"@promag thanks, I'll look into those suggestions if there's a rebase need, but prefer to get it merged as-is.",https://github.com/bitcoin/bitcoin/pull/17509#issuecomment-617952850,617952850,
Sjors,2019-11-20 10:13:16,"@achow101 I uncommented this because the next role was `UPDATER`, which seems similar to what @justinmoon found:  https://bitcoin.stackexchange.com/questions/89203/analyzepsbt-says-next-role-is-updater-but-nothing-is-missing\n\nWill investigate more thoroughly when I work on this PR again, if I still see it.",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r348395490,348395490,src/qt/walletview.cpp
gwillen,2019-12-14 02:26:57,Typo (PSBT -> PSTB),https://github.com/bitcoin/bitcoin/pull/17509#discussion_r357891228,357891228,src/qt/walletview.cpp
luke-jr,2020-02-06 06:04:17,This looks like an ugly hack? Why is it not just passed as a reference to `PrepareSendText`?,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r375654172,375654172,src/qt/sendcoinsdialog.h
Sjors,2020-02-10 13:56:14,`on_sendButton_clicked()` also needs access to `m_current_transaction`,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r377076224,377076224,src/qt/sendcoinsdialog.h
instagibbs,2020-02-20 19:16:03,"""Completed""? Might want to be very obvious to user that there's nothing else to be done.",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r382203922,382203922,src/qt/walletview.cpp
gwillen,2020-02-20 19:18:18,"That's a good point re: wording, but I would suggest not bikeshedding on it because it's going to get changed again in my #18027 .",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r382205093,382205093,src/qt/walletview.cpp
instagibbs,2020-02-20 21:04:47,s/Broadcast/Broadcasted/,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r382257510,382257510,src/qt/walletview.cpp
instagibbs,2020-02-20 21:06:15,what situations can this hit?,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r382258109,382258109,src/qt/walletview.cpp
gwillen,2020-02-20 21:22:23,"From my own study of this question, I believe the the answer is ""no situations, unless there are bugs in AnalyzePSBT"", but I think we've run into some bugs in AnalyzePSBT while figuring this out.",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r382264904,382264904,src/qt/walletview.cpp
Sjors,2020-02-21 09:58:44,I don't feel confident enough about `AnalyzePSBT` (yet) to put an assert here.  ,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r382493091,382493091,src/qt/walletview.cpp
instagibbs,2020-02-21 13:57:50,Worst thing I'd do is stick a log line in debug or something. Fine without.,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r382593946,382593946,src/qt/walletview.cpp
achow101,2020-02-27 20:42:02,nit: `assert(false)`?,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r385359689,385359689,src/qt/sendcoinsdialog.cpp
achow101,2020-02-27 20:49:14,"I believe this can be hit if there are `final_scriptSig`/`final_scriptWitness` but with invalid signatures. So `have_all_sigs == true` because there are sigs there (it does not validate), but `complete == false` because it does validate and finds the sigs to be invalid.\n\nSome things that could happen where we might want better error messages:\n\n* Logically invalid psbt (see the conditions w",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r385363023,385363023,src/qt/walletview.cpp
achow101,2020-02-27 20:51:02,nit: `assert(false)`?,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r385363866,385363866,src/qt/walletview.cpp
achow101,2020-02-27 21:07:57,"For better UX, we should probably use the recipient label if it is available and truncate the 0's on the amount.",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r385371827,385371827,src/qt/sendcoinsdialog.cpp
achow101,2020-02-27 21:23:18,"Actually I just tested this case and it seems that because it is already finalized, the `final_scriptSig`/`final_scriptWitness` is assumed to be valid so `complete == true`. So what we actually get is a failed attempt to broadcast. But there's no error message, just a blank error dialog.\n\nI think in general for this section, we should do the analysis first and do a `switch` on the result to gi",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r385379170,385379170,src/qt/walletview.cpp
Sjors,2020-02-28 08:51:31,"It's not necessarily complete. The `setInformativeText` below covers the various options. But I changed it to ""PSBT"" to hopefully reduce confusion.",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r385573099,385573099,src/qt/walletview.cpp
Sjors,2020-02-28 10:35:02,Added the recipient name and switched to `formatWithUnit`. We could add an argument to `BitcoinUnits::format` to remove trailing zeros ... in a later PR.,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r385621638,385621638,src/qt/sendcoinsdialog.cpp
jonasschnelli,2020-03-02 16:11:18,Would adding a bound check (max filesize) make sense at this point?,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r386490427,386490427,src/qt/walletview.cpp
jonasschnelli,2020-03-02 16:16:57,"thought/note-to-myself: with the PR, we expose DecodeRawPSBT to possible broader userbase (not only RPC users but now also GUI users). Possible parsing exploits would then be a bigger risk.",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r386494197,386494197,src/qt/walletview.cpp
promag,2020-03-15 10:37:41,Agree. Lame example `ln -s /dev/zero /tmp/u.psbt` and then open /tmp/u.psbt.,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r392660961,392660961,src/qt/walletview.cpp
promag,2020-03-15 10:40:03,"The error message could include the file path. BTW, is the error message relevant?\n<img width=""532"" alt=""Screenshot 2020-03-15 at 10 38 30"" src=""https://user-images.githubusercontent.com/3534524/76699841-30a75400-66a9-11ea-980f-2eba4a8b3ee6.png"">\n",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r392661088,392661088,src/qt/walletview.cpp
promag,2020-03-15 10:45:06,Missing `tr()` here and below.,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r392661452,392661452,src/qt/walletview.cpp
promag,2020-03-15 14:05:23,"This is never reset, maybe clear it after send?",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r392676987,392676987,src/qt/sendcoinsdialog.h
jonatack,2020-03-15 16:48:24,I agree.,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r392691493,392691493,src/qt/walletview.cpp
jonatack,2020-03-15 16:49:09,Missing transation here and L228.,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r392691540,392691540,src/qt/walletview.cpp
jonatack,2020-03-15 16:56:28,Agree.,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r392692107,392692107,src/qt/walletview.cpp
Sjors,2020-03-20 11:01:28,"I think the error message is useful for debugging. This particular one shouldn't happen anymore, thanks to the size check.\n\nI don't think adding the file name is useful, since the user selected it themselves. ",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r395564594,395564594,src/qt/walletview.cpp
Sjors,2020-03-20 11:01:40,Added. You'd think check the file size trivial in C++...,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r395564702,395564702,src/qt/walletview.cpp
Sjors,2020-03-20 11:02:20,Fixed,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r395565004,395565004,src/qt/walletview.cpp
instagibbs,2020-03-25 16:06:02,nit: I feel like this should be some sort of filesize constant somewhere,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r397976308,397976308,src/qt/walletview.cpp
instagibbs,2020-03-25 16:11:53,nit: `COIN / 10` hmmmmmmmmmmmmmmm let's re-use `DEFAULT_MAX_RAW_TX_FEE_RATE` please,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r397980961,397980961,src/qt/walletview.cpp
instagibbs,2020-03-25 16:14:02,`s/await_callback/wait_callback/`,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r397982595,397982595,src/qt/walletview.cpp
Sjors,2020-03-26 10:02:17,"A UTXO snapshot can be multiple gigabytes, but a wallet or PSBT is expected to be much smaller. So I don't think there's a generic value. PSBT also doesn't specify a maximum size, so `PSBT_MAX_FILE_SIZE` could give the wrong impression (nothing a comment can't solve).",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r398448947,398448947,src/qt/walletview.cpp
jonatack,2020-03-27 14:48:11,"nit: s/Please,/Please/\n\n(not introduced by this PR, can ignore)",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r399318961,399318961,src/qt/sendcoinsdialog.cpp
jonatack,2020-03-27 14:50:07,"- s/Please,/Please/\n- s/wallet,/wallet/\n- could omit ""e.g.""\n\n(these were not introduced by this PR, can ignore)",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r399320430,399320430,src/qt/sendcoinsdialog.cpp
jonatack,2020-03-27 14:53:11,s/indefinately/indefinitely/ (not worth fixing unless need to retouch),https://github.com/bitcoin/bitcoin/pull/17509#discussion_r399322617,399322617,src/psbt.h
promag,2020-04-16 22:52:43,"Currently `m_current_transaction` is only used in send, in https://github.com/promag/bitcoin/commit/241d17111e5c21b9d0bd564310212bef07cc5712 I've dropped it and changed `PrepareSendText` to return the transaction (or null). Feel free to ignore, I'm happy to submit as follow up.",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r409894222,409894222,src/qt/sendcoinsdialog.h
promag,2020-04-16 23:06:06,"f6895301f768220f3ea70231d5cc5b45ecbf4488\n\nnit, slight preference for\n```\nconst auto button = msgBox.exec();\nif (button == QMessageBox::Save) {\n    ...\n} else {\n    assert(button == QMessageBox::Discard);\n}\n```",https://github.com/bitcoin/bitcoin/pull/17509#discussion_r409898988,409898988,src/qt/sendcoinsdialog.cpp
luke-jr,2020-06-10 00:14:20,Typo,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r437790671,437790671,src/qt/walletview.cpp
Sjors,2020-06-10 12:53:36,@luke-jr that's already fixed in master,https://github.com/bitcoin/bitcoin/pull/17509#discussion_r438097655,438097655,src/qt/walletview.cpp
