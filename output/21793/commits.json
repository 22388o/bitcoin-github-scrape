[
  {
    "sha": "cf971c9ea0e8637d36a7ab8b7b8804d9b89f1d9a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjZjk3MWM5ZWEwZTg2MzdkMzZhN2FiOGI3Yjg4MDRkOWI4OWYxZDlh",
    "commit": {
      "author": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2021-04-28T07:27:32Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2021-04-29T09:40:45Z"
      },
      "message": "build: use -isysroot over --sysroot on macOS",
      "tree": {
        "sha": "b4388d750af16692dea8761e4fa1ba33a218fdb0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b4388d750af16692dea8761e4fa1ba33a218fdb0"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf971c9ea0e8637d36a7ab8b7b8804d9b89f1d9a",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAmCKfx4ACgkQLuufXMCV\nJsHi4hAAvZape8TYzs2iXjzfKquj4wAmV7LjclyD6AbEpE3Uw3wbLKA+++0uUd/w\nc8nWMz8XViuMhsbZZe2Fj/5/PAzFIy3wvy9NlxE64ik69qCxI9tldno1CarHoxoC\n8KYnBXXSc2BegkKyxTYbBIZB9XKX9iah6jkbhQ1pEz3Ks3UHZvzwTNZgLFQbl5F6\nm1I672uFvz5SELWLHAbs9gkmRJTIKSWJqGS9PvvpDaXTGVcssr7/3iDXXzMcjtul\n9gajv/2cKoR4UsjKeQ+3QaxZ83ss95KrnOr1KhigF8V9W71ChgJvWNjBfzc+FY1O\n8m8XcH0fkoZoWQ8+J2kOCEEeMLdtTifWa6bBOwfJ5ZcVF2fdV9Awk7Y1ONTelzTj\nvB2pHDXAa/98n8Ol4OQRKU0Dlx+DLtnCbOPw0voMk57MxsQtCGIs9pR7JG6CrxpH\nurzqaVn8OJQT4xpyq4qKGHxEufS2cA71xPtB0LHvaC5rndIWY0ZzGfT8M4BbnqUp\nLoxhc6F6Ugv9uGRlX29c48lEmTHKeQCBxJ9W/MRW8Yi8KbkfxpsqDH7lHCoqWKnP\nRlwUL6CV/7k/uB4uTeb8lPnb3HGNG/gf5+pmzELjvWUvv7DyPxRhP/YfGc0pMknd\nF5+ytEQGVI2ngaDkWkMRdAN9IcY1Ly3DHiZevmHi2niWm3FXKac=\n=qPNf\n-----END PGP SIGNATURE-----",
        "payload": "tree b4388d750af16692dea8761e4fa1ba33a218fdb0\nparent fb66dbe786ff3028d8f2b0be503ddd3b36541798\nauthor fanquake <fanquake@gmail.com> 1619594852 +0800\ncommitter fanquake <fanquake@gmail.com> 1619689245 +0800\n\nbuild: use -isysroot over --sysroot on macOS\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cf971c9ea0e8637d36a7ab8b7b8804d9b89f1d9a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/cf971c9ea0e8637d36a7ab8b7b8804d9b89f1d9a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cf971c9ea0e8637d36a7ab8b7b8804d9b89f1d9a/comments",
    "author": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fb66dbe786ff3028d8f2b0be503ddd3b36541798",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fb66dbe786ff3028d8f2b0be503ddd3b36541798",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fb66dbe786ff3028d8f2b0be503ddd3b36541798"
      }
    ],
    "stats": {
      "total": 14,
      "additions": 7,
      "deletions": 7
    },
    "files": [
      {
        "sha": "db99260eb93fdee76e9eb840506a22b5c03460dd",
        "filename": "contrib/macdeploy/README.md",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cf971c9ea0e8637d36a7ab8b7b8804d9b89f1d9a/contrib/macdeploy/README.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cf971c9ea0e8637d36a7ab8b7b8804d9b89f1d9a/contrib/macdeploy/README.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/macdeploy/README.md?ref=cf971c9ea0e8637d36a7ab8b7b8804d9b89f1d9a",
        "patch": "@@ -56,7 +56,7 @@ Working macOS DMGs are created in Linux by combining a recent `clang`, the Apple\n \n Apple uses `clang` extensively for development and has upstreamed the necessary\n functionality so that a vanilla clang can take advantage. It supports the use of `-F`,\n-`-target`, `-mmacosx-version-min`, and `--sysroot`, which are all necessary when\n+`-target`, `-mmacosx-version-min`, and `-isysroot`, which are all necessary when\n building for macOS.\n \n Apple's version of `binutils` (called `cctools`) contains lots of functionality missing in the"
      },
      {
        "sha": "001c92842425178768c4cb64cb94c88a4b15f123",
        "filename": "depends/builders/darwin.mk",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cf971c9ea0e8637d36a7ab8b7b8804d9b89f1d9a/depends/builders/darwin.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cf971c9ea0e8637d36a7ab8b7b8804d9b89f1d9a/depends/builders/darwin.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/builders/darwin.mk?ref=cf971c9ea0e8637d36a7ab8b7b8804d9b89f1d9a",
        "patch": "@@ -1,5 +1,5 @@\n-build_darwin_CC:=$(shell xcrun -f clang) --sysroot $(shell xcrun --show-sdk-path)\n-build_darwin_CXX:=$(shell xcrun -f clang++) --sysroot $(shell xcrun --show-sdk-path)\n+build_darwin_CC:=$(shell xcrun -f clang) -isysroot$(shell xcrun --show-sdk-path)\n+build_darwin_CXX:=$(shell xcrun -f clang++) -isysroot$(shell xcrun --show-sdk-path)\n build_darwin_AR:=$(shell xcrun -f ar)\n build_darwin_RANLIB:=$(shell xcrun -f ranlib)\n build_darwin_STRIP:=$(shell xcrun -f strip)\n@@ -10,8 +10,8 @@ build_darwin_SHA256SUM=shasum -a 256\n build_darwin_DOWNLOAD=curl --location --fail --connect-timeout $(DOWNLOAD_CONNECT_TIMEOUT) --retry $(DOWNLOAD_RETRIES) -o\n \n #darwin host on darwin builder. overrides darwin host preferences.\n-darwin_CC=$(shell xcrun -f clang) -mmacosx-version-min=$(OSX_MIN_VERSION) --sysroot $(shell xcrun --show-sdk-path)\n-darwin_CXX:=$(shell xcrun -f clang++) -mmacosx-version-min=$(OSX_MIN_VERSION) -stdlib=libc++ --sysroot $(shell xcrun --show-sdk-path)\n+darwin_CC=$(shell xcrun -f clang) -mmacosx-version-min=$(OSX_MIN_VERSION) -isysroot$(shell xcrun --show-sdk-path)\n+darwin_CXX:=$(shell xcrun -f clang++) -mmacosx-version-min=$(OSX_MIN_VERSION) -stdlib=libc++ -isysroot$(shell xcrun --show-sdk-path)\n darwin_AR:=$(shell xcrun -f ar)\n darwin_RANLIB:=$(shell xcrun -f ranlib)\n darwin_STRIP:=$(shell xcrun -f strip)"
      },
      {
        "sha": "4e9187c9e0268a1436115ffc9a2011840e128dce",
        "filename": "depends/hosts/darwin.mk",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cf971c9ea0e8637d36a7ab8b7b8804d9b89f1d9a/depends/hosts/darwin.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cf971c9ea0e8637d36a7ab8b7b8804d9b89f1d9a/depends/hosts/darwin.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/hosts/darwin.mk?ref=cf971c9ea0e8637d36a7ab8b7b8804d9b89f1d9a",
        "patch": "@@ -100,15 +100,15 @@ darwin_CC=env -u C_INCLUDE_PATH -u CPLUS_INCLUDE_PATH \\\n               -u LIBRARY_PATH \\\n             $(clang_prog) --target=$(host) -mmacosx-version-min=$(OSX_MIN_VERSION) \\\n               -B$(build_prefix)/bin -mlinker-version=$(LD64_VERSION) \\\n-              --sysroot=$(OSX_SDK) \\\n+              -isysroot$(OSX_SDK) \\\n               -Xclang -internal-externc-isystem$(clang_resource_dir)/include \\\n               -Xclang -internal-externc-isystem$(OSX_SDK)/usr/include\n darwin_CXX=env -u C_INCLUDE_PATH -u CPLUS_INCLUDE_PATH \\\n                -u OBJC_INCLUDE_PATH -u OBJCPLUS_INCLUDE_PATH -u CPATH \\\n                -u LIBRARY_PATH \\\n              $(clangxx_prog) --target=$(host) -mmacosx-version-min=$(OSX_MIN_VERSION) \\\n                -B$(build_prefix)/bin -mlinker-version=$(LD64_VERSION) \\\n-               --sysroot=$(OSX_SDK) \\\n+               -isysroot$(OSX_SDK) \\\n                -stdlib=libc++ -nostdinc++ \\\n                -Xclang -cxx-isystem$(OSX_SDK)/usr/include/c++/v1 \\\n                -Xclang -internal-externc-isystem$(clang_resource_dir)/include \\"
      }
    ]
  }
]