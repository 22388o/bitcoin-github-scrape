luke-jr,2012-03-20T18:28:58Z,I think you are confusing connections and _outbound_ connections?\n,https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4602241,4602241,
Diapolo,2012-03-20T18:35:10Z,"Outbound connections are the real IP connections from the ""internet"" to my PC running the node, the value that is shown in Bitcoin-Qt if you hover the connection quality symbol.\n\nI don't say the commit is perfect, perhaps it includes errors, but it does what I wrote above ;).\n",https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4602380,4602380,
sipa,2012-03-20T18:37:27Z,"Outbound connections is the number of connections your node makes to other nodes.\nInbound connections is the number of connections your node receives.\nWhat bitcoin-qt shows in the hover text the sum of these two, and that is what -maxconnections limits.\n",https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4602439,4602439,
Diapolo,2012-03-20T18:41:33Z,"MAX_OUTBOUND_CONNECTIONS was set to 8 in the code and I saw that a maximum of 8 TCP connections were established no matter, if -maxconnections was set > 8. So the number of 125 was not reached, right? With my changes this is fixed and the value of -maxconnections works. So perhaps I missunderstood some wordings, but I think there is a problem here with the original code.\n",https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4602543,4602543,
gavinandresen,2012-03-20T18:43:54Z,NACK: we don't want to increase the number of outbound connections past 8.  8 is plenty.\n,https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4602585,4602585,
sipa,2012-03-20T18:45:22Z,"If you do not get more than 8 connections, it means that you don't accept incoming connections (firewall issue, typically).\n\n-maxconnections is not supposed to change the number of outbound connections (you don't need more than 8, and the number of nodes that accept connections is limited, so we shouldn't overuse these).\n",https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4602615,4602615,
Diapolo,2012-03-20T18:53:34Z,"Seems I missunderstood something, but perhaps someone can explain to me, why I only see a max. of 8 ""active connections to Bitcoin network"" in the client and why this changes with my commit and why there is a default of 125 in the GetArg-call for -maxconnections used in a comparison with nInbound?\n",https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4602809,4602809,
luke-jr,2012-03-20T18:54:49Z,You'll see more if your internet connection properly accepts _inbound_ connections...\n,https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4602829,4602829,
Diapolo,2012-03-20T18:57:15Z,"@luke-jr I see more, if this commit is active ... does ""active connections to Bitcoin network"" sum inbound and outbound as that could explain the numbers, because there are more outbound connections active.\n",https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4602889,4602889,
TheBlueMatt,2012-03-20T19:00:40Z,"Switching to making it easy for people to make a ridiculous number of outbound connections (really, anything more than 8) just makes it easy to DoS the network.  Yea its not hard, but you have to atleast be able to compile bitcoin, whereas making it easy to do with just command line flags opens us up to ""Your node may be under-performing (because your connection bar doesnt have full bars!) you sho",https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4602979,4602979,
sipa,2012-03-20T19:02:18Z,"If you only see 8 connections, it is because you only have 8 outbound connections (which is limited to 8, and it should), and no incoming connections (because of a firewall issue).\n\nYour patch changes the number of outgoing connections. Yes this will mean more total connections as well, but that is not the correct way to achieve it. The solution is fixing your firewall.\n",https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4603021,4603021,
Diapolo,2012-03-20T20:37:10Z,"One thing, which was a faulty firewall configuration (instead of allowing 8333 as local port, I chose remote port) on my side is fixed by a reconfiguration (thanks for the hint).\n\nAnd I now understand that only a maximum of 8 outbound connections is wanted per design of the client and to make it harder to DoS the BC network.\n\nWhat I still don't understand is the real value of the -maxconnectio",https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4604876,4604876,
grue0,2012-03-20T23:57:11Z,"@rebroad storage and network connections are two very different things. as more peers join the network, it actually becomes easier to broadcast your connection, not harder.\n",https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4608286,4608286,
Diapolo,2012-03-21T06:38:57Z,"My intention is to understand and learn, so I looked in https://en.bitcoin.it/wiki/Satoshi_Client_Node_Connectivity for an explanation and there it's stated: ""Outbound Limiting\n\n... The first thing the loop does is count the number of outbound connections, and if the maximum has been reached (8 or -maxconnections), then it goes into a 2 second delay loop until the count is below the max.""\n\nTha",https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4611728,4611728,
rebroad,2012-03-21T08:25:36Z,"@gruez Ok, so if the network became smaller then nodes might need more than 8 connections?\n\nWith my ISP I'm not allowed incoming connections. Is the max of 8 always going to be sufficient for nodes that will never be able to receive incoming connections? \n",https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4612651,4612651,
Diapolo,2012-03-21T17:50:08Z,I let this one open for another day or two and then close it! Till then more comments are welcome :).\n,https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4622989,4622989,
sipa,2012-03-21T21:26:22Z,Can you please explain in words what this patch is supposed to do? I don't see any problem with the existing behaviour.\n,https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4627587,4627587,
Diapolo,2012-03-21T22:01:44Z,"The patch does not do, what it should do, because my FW didn't allow incoming connections from the outside, which limited the total number of connections for my node to 8 (and these were outbound). 8 is perfectly fine and I read in the Wiki that's defined and wanted behaviour.\n\nWhat I don't understand is, why GetArg(""-maxconnections"", 125) is used in the function ThreadOpenConnections2 used for ",https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4628259,4628259,
sipa,2012-03-21T22:16:55Z,"Because if you specify -maxconnection=4, you do not want more than 4 connections, and a fortiori not more than 4 outgoing connections.\n",https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4628528,4628528,
Diapolo,2012-03-21T22:28:40Z,It takes it's time but okay I see ... so 125 as default for in- and outbound connections with a hard limit of 8 for outbound and the possibility to lower this further.\n,https://github.com/bitcoin/bitcoin/pull/962#issuecomment-4628697,4628697,
Diapolo,2012-03-20T20:40:59Z,"This is the hard-limit for outbound connections, right? It's possible to disable them with -maxconnections=0 or negative vaules.\nBut that line could as well look like this, right?\n\nint nMaxOutboundConnections = min(MAX_OUTBOUND_CONNECTIONS, (int)GetArg(""-maxconnections"", MAX_OUTBOUND_CONNECTIONS));\n",https://github.com/bitcoin/bitcoin/pull/962#discussion_r582342,582342,src/net.cpp
