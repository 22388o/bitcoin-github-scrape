laanwj,2014-07-21T08:12:59Z,TODO:\n- Add link to [bitcoin-seeder](https://github.com/sipa/bitcoin-seeder) as reference implementation\n- Maybe expand on what is meant with 'fair selection' in rule 1\n,https://github.com/bitcoin/bitcoin/pull/4566#issuecomment-49580675,49580675,
luke-jr,2014-07-24T08:00:57Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/4566#issuecomment-49978227,49978227,
BitcoinPullTester,2014-08-04T08:29:57Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4566_0a0878d43a2e7db9c41b20ba1d3eb714fd6806c4/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-te",https://github.com/bitcoin/bitcoin/pull/4566#issuecomment-51030102,51030102,
luke-jr,2014-07-21T12:44:38Z,It seems unreasonable to forbid usage of datacenters without a commitment from them not to be bought out...\n,https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15166309,15166309,doc/dnsseed-policy.md
luke-jr,2014-07-21T12:51:03Z,How about anonymous statistics?\n,https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15166570,15166570,doc/dnsseed-policy.md
luke-jr,2014-07-21T12:53:20Z,"""Fairly selected"" might be good to define, but maybe not very easy to. Some seed nodes may out of necessity only index IPv4 or IPv6, so discrimination based on IP/address in general can't be prohibited. OTOH, leaving this undefined may be better just to avoid loopholes around common sense...\n",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15166628,15166628,doc/dnsseed-policy.md
Diapolo,2014-07-21T13:14:49Z,"Nit: If you call them a DNSSeed, you should write DNSSeeds here, IMO.\n",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15167378,15167378,doc/dnsseed-policy.md
laanwj,2014-07-21T13:32:05Z,"Yeah that's my fault. I find 'DNSseed' difficult to read, and changed it in the initial sentence, then saw it was used all over the place and forgot to change it back here.\n",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15168133,15168133,doc/dnsseed-policy.md
gmaxwell,2014-07-21T16:31:55Z,"Yea, sorryâ€” thats not the intent.  I mentioned hosting services at all because the first sentence of 0 could have been read as precluding the use of hosting services. Can you suggest a rephrase which is consistent with your own expectations?\n",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15179122,15179122,doc/dnsseed-policy.md
gmaxwell,2014-07-21T16:35:08Z,It's very easy to mess up anonymous statistics and leak information.  Can you suggest a way that would be better defined?  E.g. what level of statistics you think would be sensible? I don't see any big issue with raw traffic amounts.\n,https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15179296,15179296,doc/dnsseed-policy.md
luke-jr,2014-07-21T16:35:28Z,"I would think a clause prohibiting sale of the server may be problematic to any organisationally-hosted seeds, even aside from hosting companies. What is the goal of prohibiting such transfers (without knowing, I can't come up with any alternative ideas)?\n",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15179318,15179318,doc/dnsseed-policy.md
gmaxwell,2014-07-21T16:42:40Z,"Oh I see how you're reading this. In light of that it should say instead:\n\n> their serving infrastructure and not sell or transfer control of their\n> DNSseed.\n\nThe expectations here are largely not directly enforceable by technology (or we wouldn't need to ask for them, they'd just be enforced), so there is a degree of reliance on honest behavior by operators.  What I want to address here is ",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15179722,15179722,doc/dnsseed-policy.md
luke-jr,2014-07-21T16:48:05Z,"Ah, so the goal is to stop selling/leasing of the DNS seed by itself, but doing so as part of a larger transfer (company sale) is okay? I can't think of a good way to phrase this better :(\n",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15180089,15180089,doc/dnsseed-policy.md
gmaxwell,2014-07-21T17:09:37Z,Yep. Well at least we can make it clear that it's the dnsseed and not the underlying server. :)\n,https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15181391,15181391,doc/dnsseed-policy.md
cdecker,2014-07-21T17:24:54Z,"How about using a similar level of granularity as the EDNS Client Subnet extensions (http://tools.ietf.org/html/draft-vandergaast-edns-client-subnet-02). The originating IP address is truncated to the BGP prefix in logs used for statistical analysis. This would prevent any analysis from identifying an individual user, which is the rationale behind point 4 if I'm not mistaken and would still allow ",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15182190,15182190,doc/dnsseed-policy.md
gmaxwell,2014-07-21T17:31:04Z,The purpose of the DNSseed infrastructure is to facilitate fast introduction to the network for hosts. Can you explain how (4) is at odds with this goal?\n\nIdentifying organizations which are using Bitcoin may still be harmful for those users and a violation of their privacy.\n\nBitcoin users are human being and should not be made subjects of research without informed consent. Use of the referenc,https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15182574,15182574,doc/dnsseed-policy.md
cdecker,2014-07-21T17:37:56Z,"While I do agree on the main purpose of the DNSSeed infrastructure, I do also believe that valuable insights can be gained from analyzing the queries, that might ultimately benefit Bitcoin itself.\n\nI'm proposing the BGP prefix as a lower bound on the granularity of the collected data, which I believe is far more reasonable than an outright ban on any collection and use of this data. Data that by",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15183007,15183007,doc/dnsseed-policy.md
gmaxwell,2014-07-21T18:27:21Z,"A crawler returns nothing on clients which are either not listening/advertising or on full nodes which are not advertising and are only listening to a subset of the network.  The document already makes an effort to separate data produced from crawling without the aid of a privileged position in the network.\n\nWithout reaching any conclusions on the merits of collecting data on users, what you're ",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15186128,15186128,doc/dnsseed-policy.md
cdecker,2014-07-21T18:55:24Z,"The address of a node will be forwarded independently of whether it is listening to the network or not, you can collect the IP addresses of all nodes simply by listening for incoming addr messages.\n\nI am trying to make it possible to make anonymized information available to the public in a controlled fashion in order to level the playing field. It is likely that some people will make use of the ",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15188084,15188084,doc/dnsseed-policy.md
sipa,2014-07-21T19:02:24Z,"Just to be clear: this section is about logging of received DNS queries, not about crawling or data gathered through crawling.\n\nFor that purpose, DNS seeds are in a privileged position, as they get information from who is running bitcoin nodes, rather than who is running a reachable full node.\n",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15188512,15188512,doc/dnsseed-policy.md
sipa,2014-07-21T19:03:48Z,I vote for just 'DNS seed'.\n,https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15188592,15188592,doc/dnsseed-policy.md
gmaxwell,2014-07-21T19:31:35Z,"Just a point on the behavior of the software,\n\n> The address of a node will be forwarded independently of whether it is listening to the network or not, you can collect the IP addresses of all nodes simply by listening for incoming addr messages.\n\nIt will be forwarded if the node announces itself. If the node does not announce, there will be nothing to forward.  Setting listen=0, for example, ",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15190205,15190205,doc/dnsseed-policy.md
cdecker,2014-07-21T19:35:04Z,"Hm, didn't know that. That is assuming that all nodes behave like Bitcoin Core though, if a node decides to send an addr on behalf of one of its peers then that will be forwarded, right? That would explain a strange behavior I had a few weeks ago, but that's probably off-topic, sorry :-)\n",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15190437,15190437,doc/dnsseed-policy.md
gmaxwell,2014-07-21T21:19:19Z,"> on behalf of one of its peers then that will be forwarded, right?\n\nIt will be, but thats broken. It isn't how the protocol works, any implementation that was doing that would be broken and it would be mildly harmful to the network. Of course, nodes can do malicious things and the system is generally robust against them.\n",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15197164,15197164,doc/dnsseed-policy.md
petertodd,2014-07-22T20:38:25Z,@sipa +1\n,https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15254498,15254498,doc/dnsseed-policy.md
davecgh,2014-07-22T22:55:20Z,I also vote for DNS seed.\n,https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15261602,15261602,doc/dnsseed-policy.md
laanwj,2014-07-24T07:59:41Z,Changed to DNS seed everywhere\n,https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15334219,15334219,doc/dnsseed-policy.md
laanwj,2014-07-24T08:00:53Z,OK - so anonymous statistics (collected from DNS queries) are not allowed either. Do we need to reword anything to make that clear?\n,https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15334250,15334250,doc/dnsseed-policy.md
cdecker,2014-07-24T21:59:55Z,"How about rephrasing the first sentence to ""Any logging of DNS queries, or derivatives thereof, must be limited to the scope necessary for the operation of the service."" to explicitly include statistics and aggregations.\n\nI find the part about urgent health of the network confusing and might create loopholes.\n",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15375856,15375856,doc/dnsseed-policy.md
sipa,2014-07-24T22:06:46Z,I think that aggregation/logging of total queries (nothing broken down by any IP range) may be useful in the longer term to monitor service health.\n,https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15376164,15376164,doc/dnsseed-policy.md
cdecker,2014-07-24T22:26:10Z,"I guess for the operation of the seeds we have a limit on the retention time in place.\n\nI started asking about statistics and aggregate data because like you I believe there is a use for some statistics, if handled carefully.\n\nWe need to define two granularity levels:\n- granularity for logging for operational purposes\n- granularity for information to be released to the general public for net",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15377012,15377012,doc/dnsseed-policy.md
gmaxwell,2014-07-24T23:46:10Z,"The intention is to absolutely prohibit using this as a privileged position to monitor users. ""Aggregates"" have a long history of surprising outcomes, especially because the user's threat model might not be what the aggregator is thinking about.\n\nIf we wanted to enable user-monitoring we would do so with a separate service specifically designed and intended for that so it could be transparent ab",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15379912,15379912,doc/dnsseed-policy.md
laanwj,2014-07-25T10:24:23Z,"Aggregates that are OK: total number of queries, bandwidth up/down, CPU load, I/O load - these don't discriminate clients in any way, and require no logging of possibly identifying (meta)data.\n\nAggregates that are not OK: counting requests per country, client OS/program, number of unique IPs - these require acting on request contents or metadata.\n",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15394598,15394598,doc/dnsseed-policy.md
cdecker,2014-07-25T11:44:44Z,"Ack, sounds reasonable, thanks for clarifying. I would however allow counting queries by type (A, AAAA, SRV, ...) since at least in my case that helped debug quite a few issues with my DNS seed.\n",https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15396975,15396975,doc/dnsseed-policy.md
sipa,2014-07-25T12:12:09Z,That all sounds reasonable to me too. I'd prefer to see that spelled out explicitly in the document though.\n,https://github.com/bitcoin/bitcoin/pull/4566#discussion_r15397741,15397741,doc/dnsseed-policy.md
