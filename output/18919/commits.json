[
  {
    "sha": "fa592dc59b4829621efeb7aa5b6149fecd42a2fb",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTU5MmRjNTliNDgyOTYyMWVmZWI3YWE1YjYxNDlmZWNkNDJhMmZi",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-05-08T23:26:00Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-05-08T23:13:15Z"
      },
      "message": "test: Add gettransaction test for \"coin-join\" tx",
      "tree": {
        "sha": "077f3d8ebd28c6d5280ed0f96c7bba985f329d8a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/077f3d8ebd28c6d5280ed0f96c7bba985f329d8a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa592dc59b4829621efeb7aa5b6149fecd42a2fb",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUhCqAwAo0667iufpJxeSftPXLiFf5EyVXn/tZwrfprSTiFTlmpZkAb6tU/W3t2U\nQGKhse+cO1hnaMOAlBY3PHf/4b0GQ6yy2tbnJkM2LF7gYsc0BeqUD2T88CUdqxKy\nq9K8h2eKGii7Nc0IJq2xtp4QO51GWS1b8oqwldPMCSsz34t6mPMul+vn0XD004T8\nZdQ3M2PFU/8OzQm//a2c+mgcjGI67GpW5DZHIGa8bsccvga8EktooZ4qbGR/EFjU\nckJEjNuKHEfqslWOwlPGXgNt/tZfcAzeqSZrKmVnr3KYVqWWdQAs+AQgU8Qv0ead\nIrxkYWvScvciuZUV7a81UQ5TGIPPsvbGC5gcBSr1ZxXloXkUpzYH9SGT5LTxAAux\nGxNmVwhtewcNOtVEDjxrrMLbS+u98R995jZW1OGp5tYdj7w2Wua1a6Fcc2vMquup\nk9v+cHBW2dWrklSeIkVR8MVdFzkVyak62l0X0mqWqvRK1iW/XjeiWVYdZY69C/P8\nfABtj1TX\n=GbkL\n-----END PGP SIGNATURE-----",
        "payload": "tree 077f3d8ebd28c6d5280ed0f96c7bba985f329d8a\nparent 5b24f6084ede92d0f493ff416b4726245140b2c1\nauthor MarcoFalke <falke.marco@gmail.com> 1588980360 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1588979595 -0400\n\ntest: Add gettransaction test for \"coin-join\" tx\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa592dc59b4829621efeb7aa5b6149fecd42a2fb",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa592dc59b4829621efeb7aa5b6149fecd42a2fb",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa592dc59b4829621efeb7aa5b6149fecd42a2fb/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5b24f6084ede92d0f493ff416b4726245140b2c1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5b24f6084ede92d0f493ff416b4726245140b2c1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5b24f6084ede92d0f493ff416b4726245140b2c1"
      }
    ],
    "stats": {
      "total": 29,
      "additions": 29,
      "deletions": 0
    },
    "files": [
      {
        "sha": "80cb64c198596afc1a50b778f5d14f8d924241b1",
        "filename": "test/functional/wallet_listtransactions.py",
        "status": "modified",
        "additions": 29,
        "deletions": 0,
        "changes": 29,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa592dc59b4829621efeb7aa5b6149fecd42a2fb/test/functional/wallet_listtransactions.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa592dc59b4829621efeb7aa5b6149fecd42a2fb/test/functional/wallet_listtransactions.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_listtransactions.py?ref=fa592dc59b4829621efeb7aa5b6149fecd42a2fb",
        "patch": "@@ -14,12 +14,14 @@\n     hex_str_to_bytes,\n )\n \n+\n def tx_from_hex(hexstring):\n     tx = CTransaction()\n     f = BytesIO(hex_str_to_bytes(hexstring))\n     tx.deserialize(f)\n     return tx\n \n+\n class ListTransactionsTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 2\n@@ -208,5 +210,32 @@ def get_unconfirmed_utxo_entry(node, txid_to_match):\n         assert_equal(self.nodes[0].gettransaction(txid_3b)[\"bip125-replaceable\"], \"no\")\n         assert_equal(self.nodes[0].gettransaction(txid_4)[\"bip125-replaceable\"], \"unknown\")\n \n+        self.log.info('Check \"coin-join\" transaction')\n+        input_0 = next(i for i in self.nodes[0].listunspent(query_options={'minimumAmount': 0.2}, include_unsafe=False))\n+        input_1 = next(i for i in self.nodes[1].listunspent(query_options={'minimumAmount': 0.2}, include_unsafe=False))\n+        raw_hex = self.nodes[0].createrawtransaction(\n+            inputs=[\n+                {\n+                    'txid': input_0['txid'],\n+                    'vout': input_0['vout'],\n+                },\n+                {\n+                    'txid': input_1['txid'],\n+                    'vout': input_1['vout'],\n+                },\n+            ],\n+            outputs={\n+                self.nodes[0].getnewaddress(): 0.123,\n+                self.nodes[1].getnewaddress(): 0.123,\n+            },\n+        )\n+        raw_hex = self.nodes[0].signrawtransactionwithwallet(raw_hex)['hex']\n+        raw_hex = self.nodes[1].signrawtransactionwithwallet(raw_hex)['hex']\n+        txid_join = self.nodes[0].sendrawtransaction(hexstring=raw_hex, maxfeerate=0)\n+        fee_join = self.nodes[0].getmempoolentry(txid_join)['fees']['base']\n+        #assert_equal(fee_join, self.nodes[0].gettransaction(txid_join)['fee'])\n+        assert fee_join != self.nodes[0].gettransaction(txid_join)['fee']\n+\n+\n if __name__ == '__main__':\n     ListTransactionsTest().main()"
      }
    ]
  }
]