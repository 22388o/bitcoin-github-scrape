laanwj,2015-03-16T10:15:46Z,"Agree on the idea. Maybe we can make the comment editable too in the details view? As the information is purely local, there is no reason why it shouldn't be possible to add comments in retrospect.\n",https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-81558603,81558603,
jonasschnelli,2015-03-16T10:27:05Z,@laanwj Yes. This is a good idea. Let me try to extend the editable comment to the transaction details window. What about adding a possibility to change the comment over RPC (without adding a new rpc call)?\n,https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-81564065,81564065,
luke-jr,2015-03-16T13:39:55Z,How is this any different from the Label? Seems redundant.\n,https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-81668573,81668573,
jonasschnelli,2015-03-16T17:02:27Z,@luke-jr comments already exists in RPC world and are per walletTx.\nLabels are per address as far as I know.\n,https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-81810172,81810172,
jonasschnelli,2015-03-18T13:08:44Z,"@laanwj making the local comment editable within the TransactionDetailDialog looks after a big diff. It needs changes here and there and may be hard to review. It would also require changes within `CWallet`. IMO wtx are currently meant to be immutable. I would like to keep the PR as it is and address this ""extension"" in another PR.\n",https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-82962998,82962998,
luke-jr,2015-03-18T13:19:03Z,"@jonasschnelli Addresses are per walletTx generally as well (at least in proper use, which should be encouraged). RPC ""comments"" are basically just the deprecated accounting stuff which didn't have addresses associated.\n",https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-82966952,82966952,
jonasschnelli,2015-03-18T13:25:58Z,"@luke-jr ""comments"" are not directly related with ""accounts"". By now they where not deprecated. `sendtoaddress` uses them and i think having a possibility to give a transaction a comment makes sense. \n",https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-82969349,82969349,
luke-jr,2015-03-18T13:36:07Z,"Hm, interesting. Surprised that isn't using the label stuff. It would make sense to deprecate labels for comments, in that case, _except_ that it's impossible to assign a comment to an incoming request right now. Labels work better in that regard. But having both is just confusing since they serve the same purpose...\n",https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-82974235,82974235,
laanwj,2015-03-20T11:12:32Z,"Looks like a lot of people are making the label-comment confusion, even in #2086.\n\nPersonally I'd say the distinction is the following:\n- `label` is a, usually short, name for the recipient or address\n- `comment` is arbitrary free text associated the the transaction. This can be anything from a description to e.g. current exchange rates for accounting/tax purposes\n\nThe annoying/user-surprisi",https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-83987621,83987621,
luke-jr,2015-03-20T14:46:23Z,"It also means you can't add comments to incoming transactions until after they're received (and confirm?). Maybe comment should be a text-area in the UI rather than a single line, and in the new wallet associated with an address so it has the same flexibility?\n",https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-84034993,84034993,
laanwj,2015-03-20T15:20:02Z,> Maybe comment should be a text-area in the UI rather than a single line\n\n+1 I somehow assumed that'd already be the case.\n,https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-84047141,84047141,
jonasschnelli,2015-03-26T13:15:28Z,> Maybe comment should be a text-area in the UI rather than a single line\n\nThis PR will add a multiline text-area for adding comments to outgoing transactions.\n\n>  [...] and in the new wallet associated with an address so it has the same flexibility?\n\nI think adding comments to a wtx is something different to a address label. Lets say if i do ONE wtx to serval recipients it is nice then to g,https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-86508647,86508647,
jonasschnelli,2015-04-02T20:14:13Z,rebased and fixed @Diapolo 's nit\n,https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-89031454,89031454,
jgarzik,2015-09-15T18:10:50Z,ut ACK\n,https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-140486842,140486842,
jonasschnelli,2015-09-15T20:31:03Z,"Rebased.\n\nIt will slightly reduce the space in the already very packed `sendcoinsdialog`.\nBut i think it's useful.\nI'm not sure if – long term speaking – the Addressbook has a reason to exists. The word ""Adressbook"" itself is connected to address reuse. If people using the Addressbook to label and track _payments_, then we should slowly remove (or rename and rewrite) the Addressbook and switch",https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-140528380,140528380,
MarcoFalke,2015-09-16T10:23:36Z,Looks good to merge.\n\n**Screenshot:**\n![screenshot from 2015-09-16 12-10-39](https://cloud.githubusercontent.com/assets/6399679/9902273/63d85cca-5c6d-11e5-9fa1-a4b448bae29b.png)\n,https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-140697819,140697819,
gmaxwell,2015-11-22T22:57:13Z,utACK. But can we also add an RPC to set these? \n,https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-158816550,158816550,
jonasschnelli,2015-11-24T11:55:45Z,"@gmaxwell: Thanks for the review. Some test would be required, I agree. I'm also not fully happy with the UI look and feel. Consider the PR as WIP (changed title).\n",https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-159245033,159245033,
pstratem,2015-12-08T21:42:26Z,lightly tested ACK 1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3\n,https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-163026641,163026641,
sipa,2016-05-20T16:19:41Z,Concept ACK\n,https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-220651477,220651477,
paveljanik,2016-10-08T16:46:43Z,Concept ACK\n\nRPC first please.\n,https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-252435076,252435076,
jonasschnelli,2016-10-18T19:34:12Z,"@paveljanik: It's already possible in RPC `sendtoaddress \""bitcoinaddress\"" amount ( \""comment\"" \""comment-to\"" subtractfeefromamount )`\n\nI don't think the current GUI UX makes sense...\nClosing for now and maybe reopening after https://github.com/bitcoin/bitcoin/pull/7729\n",https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-254614886,254614886,
paveljanik,2016-10-18T19:45:29Z,"@jonasschnelli Hmm, it is not possible to use `sendtoaddress` RPC command to add comment to already _received_ transaction from someone else.\n",https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-254617885,254617885,
jonasschnelli,2016-10-18T19:48:54Z,@paveljanik: this PR only allows to set the comment during GUI tx creation (which is also a point that makes this PR currently not ready).\n,https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-254618778,254618778,
paveljanik,2016-10-18T19:59:42Z,"Ah, then yes :-)\n",https://github.com/bitcoin/bitcoin/pull/5905#issuecomment-254621746,254621746,
Diapolo,2015-03-16T10:11:42Z,Can this be a const reference?\n,https://github.com/bitcoin/bitcoin/pull/5905#discussion_r26472216,26472216,src/qt/walletmodeltransaction.cpp
Diapolo,2015-03-26T14:46:48Z,You could also use a pass-by-reference here ;)?\n`const QString& comment`\n,https://github.com/bitcoin/bitcoin/pull/5905#discussion_r27218797,27218797,src/qt/walletmodeltransaction.cpp
