[
  {
    "sha": "1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxZGNkZDQyOGZkZWU2MmMxZjdmYjJlMmVmZjBkYzJkNjNlYjBiN2Yz",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "jonas.schnelli@include7.ch",
        "date": "2015-03-15T15:34:33Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "jonas.schnelli@include7.ch",
        "date": "2015-09-15T19:40:18Z"
      },
      "message": "[Qt] allow possibility to add a comment to a WalletTx",
      "tree": {
        "sha": "0a7b373919422505a02030b54d2c0be92a665cec",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0a7b373919422505a02030b54d2c0be92a665cec"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6f55cddf6be111d860f23f91e2bda7d88734a7c5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6f55cddf6be111d860f23f91e2bda7d88734a7c5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6f55cddf6be111d860f23f91e2bda7d88734a7c5"
      }
    ],
    "stats": {
      "total": 98,
      "additions": 97,
      "deletions": 1
    },
    "files": [
      {
        "sha": "a0098d27becfc322084ab7ec439f633dd151940f",
        "filename": "src/qt/forms/sendcoinsdialog.ui",
        "status": "modified",
        "additions": 62,
        "deletions": 0,
        "changes": 62,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3/src/qt/forms/sendcoinsdialog.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3/src/qt/forms/sendcoinsdialog.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/sendcoinsdialog.ui?ref=1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3",
        "patch": "@@ -657,6 +657,68 @@\n      </widget>\n     </widget>\n    </item>\n+   <item>\n+    <widget class=\"QFrame\" name=\"commentFrame\">\n+     <property name=\"sizePolicy\">\n+      <sizepolicy hsizetype=\"Expanding\" vsizetype=\"Expanding\">\n+       <horstretch>0</horstretch>\n+       <verstretch>0</verstretch>\n+      </sizepolicy>\n+     </property>\n+     <property name=\"frameShape\">\n+      <enum>QFrame::StyledPanel</enum>\n+     </property>\n+     <property name=\"frameShadow\">\n+      <enum>QFrame::Sunken</enum>\n+     </property>\n+     <layout class=\"QHBoxLayout\" name=\"commentHLayout\">\n+      <property name=\"spacing\">\n+       <number>10</number>\n+      </property>\n+      <item>\n+       <widget class=\"QLabel\" name=\"labelComment\">\n+        <property name=\"sizePolicy\">\n+         <sizepolicy hsizetype=\"Preferred\" vsizetype=\"Maximum\">\n+          <horstretch>0</horstretch>\n+          <verstretch>0</verstretch>\n+         </sizepolicy>\n+        </property>\n+        <property name=\"font\">\n+         <font>\n+          <weight>75</weight>\n+          <bold>true</bold>\n+         </font>\n+        </property>\n+        <property name=\"styleSheet\">\n+         <string notr=\"true\">font-weight:bold;</string>\n+        </property>\n+        <property name=\"text\">\n+         <string>Local Comment:</string>\n+        </property>\n+        <property name=\"toolTip\">\n+            <string>Add a comment to the transaction. The comment will not be transmitted.</string>\n+        </property>\n+       </widget>\n+      </item>\n+      <item>\n+       <widget class=\"QTextEdit\" name=\"commentTextEdit\">\n+        <property name=\"sizePolicy\">\n+         <sizepolicy hsizetype=\"Expanding\" vsizetype=\"Maximum\">\n+          <horstretch>0</horstretch>\n+          <verstretch>0</verstretch>\n+         </sizepolicy>\n+        </property>\n+        <property name=\"maximumSize\">\n+         <size>\n+          <width>16777215</width>\n+          <height>50</height>\n+         </size>\n+        </property>\n+       </widget>\n+      </item>\n+     </layout>\n+    </widget>\n+   </item>\n    <item>\n     <widget class=\"QFrame\" name=\"frameFee\">\n      <property name=\"sizePolicy\">"
      },
      {
        "sha": "9ce4228c7fbd516c4b50e59b32f7d4e4936db293",
        "filename": "src/qt/forms/sendcoinsentry.ui",
        "status": "modified",
        "additions": 23,
        "deletions": 0,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3/src/qt/forms/sendcoinsentry.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3/src/qt/forms/sendcoinsentry.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/sendcoinsentry.ui?ref=1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3",
        "patch": "@@ -23,6 +23,9 @@\n    <property name=\"frameShape\">\n     <enum>QFrame::NoFrame</enum>\n    </property>\n+   <property name=\"frameShadow\">\n+    <enum>QFrame::Plain</enum>\n+   </property>\n    <layout class=\"QGridLayout\" name=\"gridLayout\">\n     <property name=\"topMargin\">\n      <number>8</number>\n@@ -708,6 +711,16 @@\n       </property>\n      </widget>\n     </item>\n+    <item row=\"5\" column=\"0\" colspan=\"2\">\n+        <widget class=\"Line\" name=\"lineInsecPR\">\n+            <property name=\"lineWidth\">\n+                <number>1</number>\n+            </property>\n+            <property name=\"orientation\">\n+                <enum>Qt::Horizontal</enum>\n+            </property>\n+        </widget>\n+    </item>\n    </layout>\n   </widget>\n   <widget class=\"QFrame\" name=\"SendCoins_AuthenticatedPaymentRequest\">\n@@ -1241,6 +1254,16 @@\n       </property>\n      </widget>\n     </item>\n+    <item row=\"5\" column=\"0\" colspan=\"2\">\n+        <widget class=\"Line\" name=\"lineSecPR\">\n+            <property name=\"lineWidth\">\n+                <number>1</number>\n+            </property>\n+            <property name=\"orientation\">\n+                <enum>Qt::Horizontal</enum>\n+            </property>\n+        </widget>\n+    </item>\n    </layout>\n   </widget>\n  </widget>"
      },
      {
        "sha": "58ca2c07176689adb62b3647244a6f0be1132786",
        "filename": "src/qt/sendcoinsdialog.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3/src/qt/sendcoinsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3/src/qt/sendcoinsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsdialog.cpp?ref=1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3",
        "patch": "@@ -234,6 +234,10 @@ void SendCoinsDialog::on_sendButton_clicked()\n \n     // prepare transaction for getting txFee earlier\n     WalletModelTransaction currentTransaction(recipients);\n+    \n+    // add comment to wtx\n+    currentTransaction.setComment(ui->commentTextEdit->toPlainText());\n+    \n     WalletModel::SendCoinsReturn prepareStatus;\n     if (model->getOptionsModel()->getCoinControlFeatures()) // coin control enabled\n         prepareStatus = model->prepareTransaction(currentTransaction, CoinControlDialog::coinControl);\n@@ -350,6 +354,7 @@ void SendCoinsDialog::clear()\n     }\n     addEntry();\n \n+    ui->commentTextEdit->clear();\n     updateTabsAndLabels();\n }\n "
      },
      {
        "sha": "c905de7b188b7ba65b11bd2a3b6b40620745c563",
        "filename": "src/qt/walletmodeltransaction.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3/src/qt/walletmodeltransaction.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3/src/qt/walletmodeltransaction.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodeltransaction.cpp?ref=1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3",
        "patch": "@@ -97,3 +97,8 @@ CReserveKey *WalletModelTransaction::getPossibleKeyChange()\n {\n     return keyChange;\n }\n+\n+void WalletModelTransaction::setComment(const QString& comment)\n+{\n+    walletTransaction->mapValue[\"comment\"] = comment.toStdString();\n+}"
      },
      {
        "sha": "53ac4f8e46f3af872ab38d51cc076ba44b9e59ba",
        "filename": "src/qt/walletmodeltransaction.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3/src/qt/walletmodeltransaction.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3/src/qt/walletmodeltransaction.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodeltransaction.h?ref=1dcdd428fdee62c1f7fb2e2eff0dc2d63eb0b7f3",
        "patch": "@@ -36,7 +36,8 @@ class WalletModelTransaction\n     CReserveKey *getPossibleKeyChange();\n \n     void reassignAmounts(int nChangePosRet); // needed for the subtract-fee-from-amount feature\n-\n+    void setComment(const QString& comment);\n+    \n private:\n     QList<SendCoinsRecipient> recipients;\n     CWalletTx *walletTransaction;"
      }
    ]
  }
]