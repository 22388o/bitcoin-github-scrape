[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/590542670",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#issuecomment-590542670",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18202",
    "id": 590542670,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MDU0MjY3MA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-24T20:52:02Z",
    "updated_at": "2020-07-11T22:08:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18354 (Use shared pointers only in validation interface by bvbfan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/590542670/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/590781071",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#issuecomment-590781071",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18202",
    "id": 590781071,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MDc4MTA3MQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-25T09:53:51Z",
    "updated_at": "2020-02-25T09:53:51Z",
    "author_association": "MEMBER",
    "body": "Dropped the dependency on #18115 since it was only necessary in the original PR. ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/590781071/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/591020548",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#issuecomment-591020548",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18202",
    "id": 591020548,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MTAyMDU0OA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-25T19:15:53Z",
    "updated_at": "2020-02-25T19:15:53Z",
    "author_association": "MEMBER",
    "body": "Rebased and snake-cased.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/591020548/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/595306434",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#issuecomment-595306434",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18202",
    "id": 595306434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTMwNjQzNA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-05T16:01:35Z",
    "updated_at": "2020-03-05T16:01:35Z",
    "author_association": "MEMBER",
    "body": "Nice cleanup, overall!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/595306434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/596369570",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#issuecomment-596369570",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18202",
    "id": 596369570,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NjM2OTU3MA==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-09T07:27:46Z",
    "updated_at": "2020-03-09T07:27:46Z",
    "author_association": "MEMBER",
    "body": "Concept ACK, looks good",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/596369570/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/596574782",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#issuecomment-596574782",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18202",
    "id": 596574782,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NjU3NDc4Mg==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-09T14:43:14Z",
    "updated_at": "2020-03-09T14:43:14Z",
    "author_association": "MEMBER",
    "body": "need rebase",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/596574782/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/596727691",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#issuecomment-596727691",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18202",
    "id": 596727691,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NjcyNzY5MQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-09T19:09:30Z",
    "updated_at": "2020-03-09T19:09:30Z",
    "author_association": "MEMBER",
    "body": "Rebased, added safety `{}` and a `std::move(mapValue)`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/596727691/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604948407",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#issuecomment-604948407",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18202",
    "id": 604948407,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDk0ODQwNw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-27T11:23:36Z",
    "updated_at": "2020-03-27T11:23:36Z",
    "author_association": "MEMBER",
    "body": "Rebased and added a helper function `ParseRecipients()` so that `SendMoney` is now a lot shorter.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604948407/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619217415",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#issuecomment-619217415",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18202",
    "id": 619217415,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTIxNzQxNQ==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-24T20:10:30Z",
    "updated_at": "2020-04-24T20:10:30Z",
    "author_association": "MEMBER",
    "body": "reACK https://github.com/bitcoin/bitcoin/pull/18202/commits/a6e1761823c8cd11a6e9338eaedd9301c9b36756\r\n\r\neven shorter nice",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619217415/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623395259",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#issuecomment-623395259",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18202",
    "id": 623395259,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzM5NTI1OQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-04T10:53:56Z",
    "updated_at": "2020-05-04T10:53:56Z",
    "author_association": "MEMBER",
    "body": "Rebased after #16426",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623395259/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623634387",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#issuecomment-623634387",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18202",
    "id": 623634387,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzYzNDM4Nw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-04T18:37:41Z",
    "updated_at": "2020-05-04T18:37:41Z",
    "author_association": "MEMBER",
    "body": "Rebased again after #18699",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623634387/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/648032194",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#issuecomment-648032194",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18202",
    "id": 648032194,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODAzMjE5NA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-23T09:43:38Z",
    "updated_at": "2020-06-23T09:43:38Z",
    "author_association": "MEMBER",
    "body": "Thanks, I'll address the above nits if this PR needs touching.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/648032194/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383951177",
    "pull_request_review_id": 364232506,
    "id": 383951177,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzk1MTE3Nw==",
    "diff_hunk": "@@ -326,36 +326,53 @@ static UniValue setlabel(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n-\n-static CTransactionRef SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, const CTxDestination &address, CAmount nValue, bool fSubtractFeeFromAmount, const CCoinControl& coin_control, mapValue_t mapValue)\n+UniValue SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, CCoinControl coin_control, UniValue& address_amounts, mapValue_t mapValue, UniValue& subtractFeeFromAmount)\n {\n-    CAmount curBalance = pwallet->GetBalance(0, coin_control.m_avoid_address_reuse).m_mine_trusted;\n+    std::set<CTxDestination> destinations;\n+    std::vector<CRecipient> vecSend;\n+    for (const std::string& address: address_amounts.getKeys()) {\n+        CTxDestination dest = DecodeDestination(address);\n+        if (!IsValidDestination(dest)) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n+        }\n \n-    // Check amount\n-    if (nValue <= 0)\n-        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid amount\");\n+        if (destinations.count(dest)) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n+        }\n+        destinations.insert(dest);\n \n-    if (nValue > curBalance)\n-        throw JSONRPCError(RPC_WALLET_INSUFFICIENT_FUNDS, \"Insufficient funds\");\n+        CScript scriptPubKey = GetScriptForDestination(dest);\n+        CAmount nAmount = AmountFromValue(address_amounts[address]);\n+        if (nAmount <= 0)\n+            throw JSONRPCError(RPC_TYPE_ERROR, \"Invalid amount for send\");",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 30,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "ae2655d431622eac21869deb80e597e0c04f2778",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "this string is changing yet I don't see associated test strings changing. Increase coverage?",
    "created_at": "2020-02-25T15:28:05Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r383951177",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383951177"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r383951177"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383951177/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 347,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383953020",
    "pull_request_review_id": 364232506,
    "id": 383953020,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzk1MzAyMA==",
    "diff_hunk": "@@ -326,36 +326,53 @@ static UniValue setlabel(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n-\n-static CTransactionRef SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, const CTxDestination &address, CAmount nValue, bool fSubtractFeeFromAmount, const CCoinControl& coin_control, mapValue_t mapValue)\n+UniValue SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, CCoinControl coin_control, UniValue& address_amounts, mapValue_t mapValue, UniValue& subtractFeeFromAmount)\n {\n-    CAmount curBalance = pwallet->GetBalance(0, coin_control.m_avoid_address_reuse).m_mine_trusted;\n+    std::set<CTxDestination> destinations;\n+    std::vector<CRecipient> vecSend;\n+    for (const std::string& address: address_amounts.getKeys()) {\n+        CTxDestination dest = DecodeDestination(address);\n+        if (!IsValidDestination(dest)) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n+        }\n \n-    // Check amount\n-    if (nValue <= 0)\n-        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid amount\");\n+        if (destinations.count(dest)) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n+        }\n+        destinations.insert(dest);\n \n-    if (nValue > curBalance)\n-        throw JSONRPCError(RPC_WALLET_INSUFFICIENT_FUNDS, \"Insufficient funds\");\n+        CScript scriptPubKey = GetScriptForDestination(dest);\n+        CAmount nAmount = AmountFromValue(address_amounts[address]);\n+        if (nAmount <= 0)\n+            throw JSONRPCError(RPC_TYPE_ERROR, \"Invalid amount for send\");",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 30,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "ae2655d431622eac21869deb80e597e0c04f2778",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "also good time to add braces to this conditional :)",
    "created_at": "2020-02-25T15:30:49Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r383953020",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383953020"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r383953020"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383953020/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 347,
    "side": "RIGHT",
    "in_reply_to_id": 383951177
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384066419",
    "pull_request_review_id": 364374032,
    "id": 384066419,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDA2NjQxOQ==",
    "diff_hunk": "@@ -326,36 +326,53 @@ static UniValue setlabel(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n-\n-static CTransactionRef SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, const CTxDestination &address, CAmount nValue, bool fSubtractFeeFromAmount, const CCoinControl& coin_control, mapValue_t mapValue)\n+UniValue SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, CCoinControl coin_control, UniValue& address_amounts, mapValue_t mapValue, UniValue& subtractFeeFromAmount)\n {\n-    CAmount curBalance = pwallet->GetBalance(0, coin_control.m_avoid_address_reuse).m_mine_trusted;\n+    std::set<CTxDestination> destinations;\n+    std::vector<CRecipient> vecSend;\n+    for (const std::string& address: address_amounts.getKeys()) {\n+        CTxDestination dest = DecodeDestination(address);\n+        if (!IsValidDestination(dest)) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n+        }\n \n-    // Check amount\n-    if (nValue <= 0)\n-        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid amount\");\n+        if (destinations.count(dest)) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n+        }\n+        destinations.insert(dest);\n \n-    if (nValue > curBalance)\n-        throw JSONRPCError(RPC_WALLET_INSUFFICIENT_FUNDS, \"Insufficient funds\");\n+        CScript scriptPubKey = GetScriptForDestination(dest);\n+        CAmount nAmount = AmountFromValue(address_amounts[address]);\n+        if (nAmount <= 0)\n+            throw JSONRPCError(RPC_TYPE_ERROR, \"Invalid amount for send\");",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 30,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "ae2655d431622eac21869deb80e597e0c04f2778",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`AmountFromValue` already checks the range, so dropping it here and adding a test with a negative value.",
    "created_at": "2020-02-25T19:08:12Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r384066419",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384066419"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r384066419"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384066419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 347,
    "side": "RIGHT",
    "in_reply_to_id": 383951177
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384067001",
    "pull_request_review_id": 364374749,
    "id": 384067001,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDA2NzAwMQ==",
    "diff_hunk": "@@ -326,36 +326,53 @@ static UniValue setlabel(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n-\n-static CTransactionRef SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, const CTxDestination &address, CAmount nValue, bool fSubtractFeeFromAmount, const CCoinControl& coin_control, mapValue_t mapValue)\n+UniValue SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, CCoinControl coin_control, UniValue& address_amounts, mapValue_t mapValue, UniValue& subtractFeeFromAmount)\n {\n-    CAmount curBalance = pwallet->GetBalance(0, coin_control.m_avoid_address_reuse).m_mine_trusted;\n+    std::set<CTxDestination> destinations;\n+    std::vector<CRecipient> vecSend;\n+    for (const std::string& address: address_amounts.getKeys()) {\n+        CTxDestination dest = DecodeDestination(address);\n+        if (!IsValidDestination(dest)) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n+        }\n \n-    // Check amount\n-    if (nValue <= 0)\n-        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid amount\");\n+        if (destinations.count(dest)) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n+        }\n+        destinations.insert(dest);\n \n-    if (nValue > curBalance)\n-        throw JSONRPCError(RPC_WALLET_INSUFFICIENT_FUNDS, \"Insufficient funds\");\n+        CScript scriptPubKey = GetScriptForDestination(dest);\n+        CAmount nAmount = AmountFromValue(address_amounts[address]);\n+        if (nAmount <= 0)\n+            throw JSONRPCError(RPC_TYPE_ERROR, \"Invalid amount for send\");",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 30,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "ae2655d431622eac21869deb80e597e0c04f2778",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "even better :) `CreateTransaction` checks as well, heh",
    "created_at": "2020-02-25T19:09:18Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r384067001",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384067001"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r384067001"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384067001/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 347,
    "side": "RIGHT",
    "in_reply_to_id": 383951177
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384071771",
    "pull_request_review_id": 364380725,
    "id": 384071771,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDA3MTc3MQ==",
    "diff_hunk": "@@ -309,6 +309,9 @@ def run_test(self):\n         assert_equal(tx_obj['amount'], Decimal('-0.0001'))\n \n         # General checks for errors from incorrect inputs\n+        # This will raise an exception because the amount is negative\n+        assert_raises_rpc_error(-3, \"Amount out of range\", self.nodes[0].sendtoaddress, self.nodes[2].getnewaddress(), \"-1\")",
    "path": "test/functional/wallet_basic.py",
    "position": 14,
    "original_position": 14,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "6da80c72d780277e21201a464ab71746c2f1f333",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "now that I mention it, I'm a little shocked we don't have coverage on this?",
    "created_at": "2020-02-25T19:18:28Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r384071771",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384071771"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r384071771"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384071771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 313,
    "original_line": 313,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384074210",
    "pull_request_review_id": 364383830,
    "id": 384074210,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDA3NDIxMA==",
    "diff_hunk": "@@ -309,6 +309,9 @@ def run_test(self):\n         assert_equal(tx_obj['amount'], Decimal('-0.0001'))\n \n         # General checks for errors from incorrect inputs\n+        # This will raise an exception because the amount is negative\n+        assert_raises_rpc_error(-3, \"Amount out of range\", self.nodes[0].sendtoaddress, self.nodes[2].getnewaddress(), \"-1\")",
    "path": "test/functional/wallet_basic.py",
    "position": 14,
    "original_position": 14,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "6da80c72d780277e21201a464ab71746c2f1f333",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "We do for the utility function via `createrawtransaction` tests.",
    "created_at": "2020-02-25T19:23:07Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r384074210",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384074210"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r384074210"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384074210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 313,
    "original_line": 313,
    "side": "RIGHT",
    "in_reply_to_id": 384071771
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384074794",
    "pull_request_review_id": 364384583,
    "id": 384074794,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDA3NDc5NA==",
    "diff_hunk": "@@ -309,6 +309,9 @@ def run_test(self):\n         assert_equal(tx_obj['amount'], Decimal('-0.0001'))\n \n         # General checks for errors from incorrect inputs\n+        # This will raise an exception because the amount is negative\n+        assert_raises_rpc_error(-3, \"Amount out of range\", self.nodes[0].sendtoaddress, self.nodes[2].getnewaddress(), \"-1\")",
    "path": "test/functional/wallet_basic.py",
    "position": 14,
    "original_position": 14,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "6da80c72d780277e21201a464ab71746c2f1f333",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "you mean `AmountFromValue`? I meant specifically for `sendtoaddress`. Anyways, a test is a win.",
    "created_at": "2020-02-25T19:24:11Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r384074794",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384074794"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r384074794"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384074794/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 313,
    "original_line": 313,
    "side": "RIGHT",
    "in_reply_to_id": 384071771
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388386332",
    "pull_request_review_id": 369690314,
    "id": 388386332,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM4NjMzMg==",
    "diff_hunk": "@@ -326,36 +326,51 @@ static UniValue setlabel(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n-\n-static CTransactionRef SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, const CTxDestination &address, CAmount nValue, bool fSubtractFeeFromAmount, const CCoinControl& coin_control, mapValue_t mapValue)\n+UniValue SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, CCoinControl coin_control, UniValue& address_amounts, mapValue_t map_value, UniValue& subtract_fee_outputs)\n {\n-    CAmount curBalance = pwallet->GetBalance(0, coin_control.m_avoid_address_reuse).m_mine_trusted;\n+    std::set<CTxDestination> destinations;\n+    std::vector<CRecipient> recipients;\n+    for (const std::string& address: address_amounts.getKeys()) {\n+        CTxDestination dest = DecodeDestination(address);\n+        if (!IsValidDestination(dest)) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n+        }\n+\n+        if (destinations.count(dest)) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n+        }\n+        destinations.insert(dest);\n+\n+        CScript script_pub_key = GetScriptForDestination(dest);\n+        CAmount amount = AmountFromValue(address_amounts[address]);",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 23,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "6da80c72d780277e21201a464ab71746c2f1f333",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This (order N, so in aggregate, quadratic) lookup would be unnecessary if the loop would iterate over key,value pairs in `address_amounts`. But I don't think univalue offers this functionality?",
    "created_at": "2020-03-05T15:55:04Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r388386332",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388386332"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r388386332"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388386332/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 346,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388391093",
    "pull_request_review_id": 369696962,
    "id": 388391093,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM5MTA5Mw==",
    "diff_hunk": "@@ -326,36 +326,51 @@ static UniValue setlabel(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n-\n-static CTransactionRef SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, const CTxDestination &address, CAmount nValue, bool fSubtractFeeFromAmount, const CCoinControl& coin_control, mapValue_t mapValue)\n+UniValue SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, CCoinControl coin_control, UniValue& address_amounts, mapValue_t map_value, UniValue& subtract_fee_outputs)\n {\n-    CAmount curBalance = pwallet->GetBalance(0, coin_control.m_avoid_address_reuse).m_mine_trusted;\n+    std::set<CTxDestination> destinations;\n+    std::vector<CRecipient> recipients;\n+    for (const std::string& address: address_amounts.getKeys()) {\n+        CTxDestination dest = DecodeDestination(address);\n+        if (!IsValidDestination(dest)) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n+        }\n+\n+        if (destinations.count(dest)) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n+        }\n+        destinations.insert(dest);\n+\n+        CScript script_pub_key = GetScriptForDestination(dest);\n+        CAmount amount = AmountFromValue(address_amounts[address]);\n \n-    // Check amount\n-    if (nValue <= 0)\n-        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid amount\");\n+        bool subtract_fee = false;\n+        for (unsigned int idx = 0; idx < subtract_fee_outputs.size(); idx++) {\n+            const UniValue& addr = subtract_fee_outputs[idx];\n+            if (addr.get_str() == address)",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 31,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "6da80c72d780277e21201a464ab71746c2f1f333",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Please add braces here as required by the style guidelines, or put the `subtrace_fee...` on the same line.\r\nI was to suggest using ranged for here but that doesn't work for univalue as there's no `begin()` and `end()`.",
    "created_at": "2020-03-05T16:00:57Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r388391093",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388391093"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r388391093"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/388391093/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 350,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/389900876",
    "pull_request_review_id": 371452942,
    "id": 389900876,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTkwMDg3Ng==",
    "diff_hunk": "@@ -326,36 +326,51 @@ static UniValue setlabel(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n-\n-static CTransactionRef SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, const CTxDestination &address, CAmount nValue, bool fSubtractFeeFromAmount, const CCoinControl& coin_control, mapValue_t mapValue)\n+UniValue SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, CCoinControl coin_control, UniValue& address_amounts, mapValue_t map_value, UniValue& subtract_fee_outputs)\n {\n-    CAmount curBalance = pwallet->GetBalance(0, coin_control.m_avoid_address_reuse).m_mine_trusted;\n+    std::set<CTxDestination> destinations;\n+    std::vector<CRecipient> recipients;\n+    for (const std::string& address: address_amounts.getKeys()) {\n+        CTxDestination dest = DecodeDestination(address);\n+        if (!IsValidDestination(dest)) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n+        }\n+\n+        if (destinations.count(dest)) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n+        }\n+        destinations.insert(dest);\n+\n+        CScript script_pub_key = GetScriptForDestination(dest);\n+        CAmount amount = AmountFromValue(address_amounts[address]);",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 23,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "6da80c72d780277e21201a464ab71746c2f1f333",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "There's `getKeys()` and `getValues()` but not both. A future refactor could convert from `UniValue` to `std::map<CTxDestination, CAmount>`, but you have to loop over the `UniValue` at least once. So if it's really a performance bottleneck for big transactions, someone would need to patch UniValue to add e.g. `bool getStringDictionary(std::map<std::string,std::string>& dict)`",
    "created_at": "2020-03-09T19:06:16Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r389900876",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/389900876"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r389900876"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/389900876/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 346,
    "side": "RIGHT",
    "in_reply_to_id": 388386332
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/389901059",
    "pull_request_review_id": 371453182,
    "id": 389901059,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTkwMTA1OQ==",
    "diff_hunk": "@@ -326,36 +326,51 @@ static UniValue setlabel(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n-\n-static CTransactionRef SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, const CTxDestination &address, CAmount nValue, bool fSubtractFeeFromAmount, const CCoinControl& coin_control, mapValue_t mapValue)\n+UniValue SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, CCoinControl coin_control, UniValue& address_amounts, mapValue_t map_value, UniValue& subtract_fee_outputs)\n {\n-    CAmount curBalance = pwallet->GetBalance(0, coin_control.m_avoid_address_reuse).m_mine_trusted;\n+    std::set<CTxDestination> destinations;\n+    std::vector<CRecipient> recipients;\n+    for (const std::string& address: address_amounts.getKeys()) {\n+        CTxDestination dest = DecodeDestination(address);\n+        if (!IsValidDestination(dest)) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n+        }\n+\n+        if (destinations.count(dest)) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n+        }\n+        destinations.insert(dest);\n+\n+        CScript script_pub_key = GetScriptForDestination(dest);\n+        CAmount amount = AmountFromValue(address_amounts[address]);\n \n-    // Check amount\n-    if (nValue <= 0)\n-        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid amount\");\n+        bool subtract_fee = false;\n+        for (unsigned int idx = 0; idx < subtract_fee_outputs.size(); idx++) {\n+            const UniValue& addr = subtract_fee_outputs[idx];\n+            if (addr.get_str() == address)",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 31,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "6da80c72d780277e21201a464ab71746c2f1f333",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2020-03-09T19:06:31Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r389901059",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/389901059"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r389901059"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/389901059/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 350,
    "side": "RIGHT",
    "in_reply_to_id": 388391093
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/389962051",
    "pull_request_review_id": 371529590,
    "id": 389962051,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk2MjA1MQ==",
    "diff_hunk": "@@ -326,36 +326,51 @@ static UniValue setlabel(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n-\n-static CTransactionRef SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, const CTxDestination &address, CAmount nValue, bool fSubtractFeeFromAmount, const CCoinControl& coin_control, mapValue_t mapValue)\n+UniValue SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, CCoinControl coin_control, UniValue& address_amounts, mapValue_t map_value, UniValue& subtract_fee_outputs)\n {\n-    CAmount curBalance = pwallet->GetBalance(0, coin_control.m_avoid_address_reuse).m_mine_trusted;\n+    std::set<CTxDestination> destinations;\n+    std::vector<CRecipient> recipients;\n+    for (const std::string& address: address_amounts.getKeys()) {\n+        CTxDestination dest = DecodeDestination(address);\n+        if (!IsValidDestination(dest)) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n+        }\n+\n+        if (destinations.count(dest)) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n+        }\n+        destinations.insert(dest);\n+\n+        CScript script_pub_key = GetScriptForDestination(dest);\n+        CAmount amount = AmountFromValue(address_amounts[address]);",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 23,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "6da80c72d780277e21201a464ab71746c2f1f333",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can also do\r\n\r\n```c++\r\nint i = 0;\r\nfor (const std::string& address: address_amounts.getKeys()) {\r\n    CAmount amount = AmountFromValue(address_amounts[i++]);\r\n    ...\r\n```",
    "created_at": "2020-03-09T21:07:13Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r389962051",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/389962051"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r389962051"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/389962051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 346,
    "side": "RIGHT",
    "in_reply_to_id": 388386332
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/390310099",
    "pull_request_review_id": 371947118,
    "id": 390310099,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDMxMDA5OQ==",
    "diff_hunk": "@@ -326,36 +326,51 @@ static UniValue setlabel(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n-\n-static CTransactionRef SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, const CTxDestination &address, CAmount nValue, bool fSubtractFeeFromAmount, const CCoinControl& coin_control, mapValue_t mapValue)\n+UniValue SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, CCoinControl coin_control, UniValue& address_amounts, mapValue_t map_value, UniValue& subtract_fee_outputs)\n {\n-    CAmount curBalance = pwallet->GetBalance(0, coin_control.m_avoid_address_reuse).m_mine_trusted;\n+    std::set<CTxDestination> destinations;\n+    std::vector<CRecipient> recipients;\n+    for (const std::string& address: address_amounts.getKeys()) {\n+        CTxDestination dest = DecodeDestination(address);\n+        if (!IsValidDestination(dest)) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n+        }\n+\n+        if (destinations.count(dest)) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n+        }\n+        destinations.insert(dest);\n+\n+        CScript script_pub_key = GetScriptForDestination(dest);\n+        CAmount amount = AmountFromValue(address_amounts[address]);",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 23,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "6da80c72d780277e21201a464ab71746c2f1f333",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ah, I didn't notice this operator: `const UniValue& operator[](size_t index) const;`",
    "created_at": "2020-03-10T13:26:25Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r390310099",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/390310099"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r390310099"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/390310099/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 346,
    "side": "RIGHT",
    "in_reply_to_id": 388386332
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/390538283",
    "pull_request_review_id": 372232386,
    "id": 390538283,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUzODI4Mw==",
    "diff_hunk": "@@ -0,0 +1,8 @@\n+Low-level RPC Changes\n+---------------------\n+\n+- To make RPC `sendtoaddress` more consisent with `sendmany` the following error",
    "path": "doc/release-notes-18202.md",
    "position": null,
    "original_position": 4,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "6b528d85ca5b0c6956ca7be38325b4c3c84641be",
    "user": {
      "login": "flack",
      "id": 425166,
      "node_id": "MDQ6VXNlcjQyNTE2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/425166?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flack",
      "html_url": "https://github.com/flack",
      "followers_url": "https://api.github.com/users/flack/followers",
      "following_url": "https://api.github.com/users/flack/following{/other_user}",
      "gists_url": "https://api.github.com/users/flack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flack/subscriptions",
      "organizations_url": "https://api.github.com/users/flack/orgs",
      "repos_url": "https://api.github.com/users/flack/repos",
      "events_url": "https://api.github.com/users/flack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n- To make RPC `sendtoaddress` more consistent with `sendmany` the following error\r\n```",
    "created_at": "2020-03-10T18:51:30Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r390538283",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/390538283"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r390538283"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/390538283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399017045",
    "pull_request_review_id": 382560469,
    "id": 399017045,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTAxNzA0NQ==",
    "diff_hunk": "@@ -327,36 +327,53 @@ static UniValue setlabel(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n-\n-static CTransactionRef SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, const CTxDestination &address, CAmount nValue, bool fSubtractFeeFromAmount, const CCoinControl& coin_control, mapValue_t mapValue)\n+UniValue SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, CCoinControl coin_control, UniValue& address_amounts, mapValue_t map_value, UniValue& subtract_fee_outputs)",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "771ca9ffd21d8bc3db3c714875e4c7450aca2109",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Do you intend to pass coin_control by value? In the original code it's a `const CCoinControl &` which avoids a copy.",
    "created_at": "2020-03-27T03:34:52Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r399017045",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399017045"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r399017045"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399017045/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 330,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399196472",
    "pull_request_review_id": 382773086,
    "id": 399196472,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTE5NjQ3Mg==",
    "diff_hunk": "@@ -327,36 +327,53 @@ static UniValue setlabel(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n-\n-static CTransactionRef SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, const CTxDestination &address, CAmount nValue, bool fSubtractFeeFromAmount, const CCoinControl& coin_control, mapValue_t mapValue)\n+UniValue SendMoney(interfaces::Chain::Lock& locked_chain, CWallet * const pwallet, CCoinControl coin_control, UniValue& address_amounts, mapValue_t map_value, UniValue& subtract_fee_outputs)",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "771ca9ffd21d8bc3db3c714875e4c7450aca2109",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed",
    "created_at": "2020-03-27T11:22:45Z",
    "updated_at": "2020-06-19T09:29:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r399196472",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399196472"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r399196472"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/399196472/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 330,
    "side": "RIGHT",
    "in_reply_to_id": 399017045
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443768413",
    "pull_request_review_id": 435199521,
    "id": 443768413,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc2ODQxMw==",
    "diff_hunk": "@@ -321,36 +321,54 @@ static UniValue setlabel(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+void ParseRecipients(const UniValue& address_amounts, const UniValue& subtract_fee_outputs, std::vector<CRecipient> &recipients) {\n+    std::set<CTxDestination> destinations;\n+    int i = 0;\n+    for (const std::string& address: address_amounts.getKeys()) {\n+        CTxDestination dest = DecodeDestination(address);\n+        if (!IsValidDestination(dest)) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n+        }\n \n-static CTransactionRef SendMoney(CWallet* const pwallet, const CTxDestination& address, CAmount nValue, bool fSubtractFeeFromAmount, const CCoinControl& coin_control, mapValue_t mapValue)\n-{\n-    CAmount curBalance = pwallet->GetBalance(0, coin_control.m_avoid_address_reuse).m_mine_trusted;\n+        if (destinations.count(dest)) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n+        }\n+        destinations.insert(dest);\n \n-    // Check amount\n-    if (nValue <= 0)\n-        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid amount\");\n+        CScript script_pub_key = GetScriptForDestination(dest);\n+        CAmount amount = AmountFromValue(address_amounts[i++]);\n \n-    if (nValue > curBalance)\n-        throw JSONRPCError(RPC_WALLET_INSUFFICIENT_FUNDS, \"Insufficient funds\");\n+        bool subtract_fee = false;\n+        for (unsigned int idx = 0; idx < subtract_fee_outputs.size(); idx++) {\n+            const UniValue& addr = subtract_fee_outputs[idx];\n+            if (addr.get_str() == address) {\n+                subtract_fee = true;",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 33,
    "original_position": 33,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n                subtract_fee = true;\r\n                break;\r\n```",
    "created_at": "2020-06-22T19:08:14Z",
    "updated_at": "2020-06-22T21:21:07Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r443768413",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443768413"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r443768413"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443768413/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 345,
    "original_line": 345,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444011176",
    "pull_request_review_id": 435503759,
    "id": 444011176,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDAxMTE3Ng==",
    "diff_hunk": "@@ -0,0 +1,8 @@\n+Low-level RPC Changes\n+---------------------\n+\n+- To make RPC `sendtoaddress` more consistent with `sendmany` the following error\n+    `sendtoaddress` codes were changed from `-4` to `-6`:",
    "path": "doc/release-notes-18202.md",
    "position": 5,
    "original_position": 5,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "08fc6f6c suggestion\r\n```diff\r\n-- To make RPC `sendtoaddress` more consistent with `sendmany` the following error\r\n-    `sendtoaddress` codes were changed from `-4` to `-6`:\r\n+- To make RPC `sendtoaddress` more consistent with `sendmany`, the following\r\n+  `sendtoaddress` error codes are changed from `-4` to `-6`:\r\n```",
    "created_at": "2020-06-23T07:16:47Z",
    "updated_at": "2020-06-23T09:39:12Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r444011176",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444011176"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r444011176"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444011176/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 5,
    "original_line": 5,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444088543",
    "pull_request_review_id": 435503759,
    "id": 444088543,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDA4ODU0Mw==",
    "diff_hunk": "@@ -321,36 +321,54 @@ static UniValue setlabel(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+void ParseRecipients(const UniValue& address_amounts, const UniValue& subtract_fee_outputs, std::vector<CRecipient> &recipients) {\n+    std::set<CTxDestination> destinations;\n+    int i = 0;\n+    for (const std::string& address: address_amounts.getKeys()) {\n+        CTxDestination dest = DecodeDestination(address);\n+        if (!IsValidDestination(dest)) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n+        }\n \n-static CTransactionRef SendMoney(CWallet* const pwallet, const CTxDestination& address, CAmount nValue, bool fSubtractFeeFromAmount, const CCoinControl& coin_control, mapValue_t mapValue)\n-{\n-    CAmount curBalance = pwallet->GetBalance(0, coin_control.m_avoid_address_reuse).m_mine_trusted;\n+        if (destinations.count(dest)) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n+        }\n+        destinations.insert(dest);\n \n-    // Check amount\n-    if (nValue <= 0)\n-        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid amount\");\n+        CScript script_pub_key = GetScriptForDestination(dest);\n+        CAmount amount = AmountFromValue(address_amounts[i++]);\n \n-    if (nValue > curBalance)\n-        throw JSONRPCError(RPC_WALLET_INSUFFICIENT_FUNDS, \"Insufficient funds\");\n+        bool subtract_fee = false;\n+        for (unsigned int idx = 0; idx < subtract_fee_outputs.size(); idx++) {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 30,
    "original_position": 30,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "while retouching this code, could update to the current convention\r\n```suggestion\r\n        for (unsigned int idx = 0; idx < subtract_fee_outputs.size(); ++idx) {\r\n```",
    "created_at": "2020-06-23T09:27:11Z",
    "updated_at": "2020-06-23T09:39:12Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r444088543",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444088543"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r444088543"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444088543/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 342,
    "original_line": 342,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444091121",
    "pull_request_review_id": 435503759,
    "id": 444091121,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDA5MTEyMQ==",
    "diff_hunk": "@@ -441,8 +449,18 @@ static UniValue sendtoaddress(const JSONRPCRequest& request)\n \n     EnsureWalletIsUnlocked(pwallet);\n \n-    CTransactionRef tx = SendMoney(pwallet, dest, nAmount, fSubtractFeeFromAmount, coin_control, std::move(mapValue));\n-    return tx->GetHash().GetHex();\n+    UniValue address_amounts(UniValue::VOBJ);\n+    const std::string address = request.params[0].get_str();\n+    address_amounts.pushKV(address, request.params[1]);\n+    UniValue subtractFeeFromAmount(UniValue::VARR);\n+    if (fSubtractFeeFromAmount) {\n+        subtractFeeFromAmount.push_back(address);\n+    }\n+\n+    std::vector<CRecipient> recipients;\n+    ParseRecipients(address_amounts, subtractFeeFromAmount, recipients);\n+\n+    return SendMoney(pwallet, coin_control, recipients, mapValue);",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 110,
    "original_position": 110,
    "commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "original_commit_id": "08fc6f6cfc3b06fd170452a766696d7b833113fa",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "can use `move` for mapValue here as well?\r\n```suggestion\r\n    return SendMoney(pwallet, coin_control, recipients, std::move(mapValue));\r\n```\r\n",
    "created_at": "2020-06-23T09:31:34Z",
    "updated_at": "2020-06-23T09:39:12Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r444091121",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444091121"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18202#discussion_r444091121"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18202"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444091121/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 463,
    "original_line": 463,
    "side": "RIGHT"
  }
]