[
  {
    "sha": "4c6d6c7e72afb4b873bfe391e02e8a5cb00f94b5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0YzZkNmM3ZTcyYWZiNGI4NzNiZmUzOTFlMDJlOGE1Y2IwMGY5NGI1",
    "commit": {
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2018-11-30T00:58:32Z"
      },
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2018-11-30T00:58:32Z"
      },
      "message": "refactor: SHA256AutoDetect() AVX2 case only tested if AVX enabled",
      "tree": {
        "sha": "e27d48640f4671cd09006772fe83d8acadb46a76",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e27d48640f4671cd09006772fe83d8acadb46a76"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4c6d6c7e72afb4b873bfe391e02e8a5cb00f94b5",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEExCr/fGGz5EoUVM01V692LbM1MyIFAlwAizgACgkQV692LbM1\nMyIASQ/9HfatT5RDnxR+b3Y9R5itmq5JjbHUg61t0cjXzOpeY+/dCPMZtFg8YrYJ\nHu6wq13kthr5Edc7qetnzWj2cJea2dgKj0Yvn+b4uD2FVdfPzyHUFNsIgoM+eej3\n3eZQ2eOAGVR5EidZY81qgPqENTCwk7Ik59drBKD56X0FllPWDflUXE8uqCG2gf8p\nK/m9XureXCJ0jqiRA+zT0xpT6f5KuOHjKWs7VMUSixXJTOWLoSb6ZuBJcTd06Pdr\n75cTLA/Pq+9L4Yb2T4nCaSjycHtDUxtTHdyOU47EzsEGs/WZfZ0btElIH0GzGW+p\nf4PiNuVKhCywbkF6qyE7oddDuzHOGStJlUMy86+xjCcIBrhfSgXYaQdEeOQMjKuI\nF6qeoFh7B+Uoj0PAxO8p6GN82eJzVAwHD+AtzcPCEAoSx0Jmn6AhTfPO5FEameGs\noB+4m8EgK5UND/GZ5f+4eNdqxToImIW2yoBBoAMI+fozg5m6Hb/kxFkLGX2GbaYn\naSs8ER95BJLEZl1mFN0Qe40jNjPmCoY6cxsBAfo7MugrJvKMAzD0pU65wPyJPh0V\nUeLSM5gmYK3w4w3r4iUbA92duX0ot7J7VGLuXx5hAeP1hGDw5e7Jy+zh+Gf56SZh\nTYfCC+bQXLmv2iqc3BbJoWRRNAO4IPwshxY9Sbo6/8pKZRA0/lM=\n=Gzn2\n-----END PGP SIGNATURE-----",
        "payload": "tree e27d48640f4671cd09006772fe83d8acadb46a76\nparent 60b20c869f8df9a81b5080ebcbe8c9cf4e6b9d77\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1543539512 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1543539512 +0900\n\nrefactor: SHA256AutoDetect() AVX2 case only tested if AVX enabled\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4c6d6c7e72afb4b873bfe391e02e8a5cb00f94b5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4c6d6c7e72afb4b873bfe391e02e8a5cb00f94b5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4c6d6c7e72afb4b873bfe391e02e8a5cb00f94b5/comments",
    "author": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "60b20c869f8df9a81b5080ebcbe8c9cf4e6b9d77",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/60b20c869f8df9a81b5080ebcbe8c9cf4e6b9d77",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/60b20c869f8df9a81b5080ebcbe8c9cf4e6b9d77"
      }
    ],
    "stats": {
      "total": 47,
      "additions": 27,
      "deletions": 20
    },
    "files": [
      {
        "sha": "d9c4d7ea75da02380d57a67a55e2f70c6ba9902b",
        "filename": "src/crypto/sha256.cpp",
        "status": "modified",
        "additions": 27,
        "deletions": 20,
        "changes": 47,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4c6d6c7e72afb4b873bfe391e02e8a5cb00f94b5/src/crypto/sha256.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4c6d6c7e72afb4b873bfe391e02e8a5cb00f94b5/src/crypto/sha256.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/crypto/sha256.cpp?ref=4c6d6c7e72afb4b873bfe391e02e8a5cb00f94b5",
        "patch": "@@ -9,13 +9,24 @@\n #include <string.h>\n #include <atomic>\n \n+#define TAVX2(args...)\n+\n #if defined(__x86_64__) || defined(__amd64__) || defined(__i386__)\n #if defined(USE_ASM)\n #include <cpuid.h>\n namespace sha256_sse4\n {\n void Transform(uint32_t* s, const unsigned char* chunk, size_t blocks);\n }\n+\n+#if !defined(BUILD_BITCOIN_INTERNAL)\n+#   ifdef ENABLE_AVX2\n+#       define TRY_AVX2\n+#       undef TAVX2\n+#       define TAVX2(args...) args\n+#   endif // ENABLE_AVX2\n+#endif\n+\n #endif\n #endif\n \n@@ -559,47 +570,43 @@ void inline cpuid(uint32_t leaf, uint32_t subleaf, uint32_t& a, uint32_t& b, uin\n #endif\n }\n \n+#ifdef TRY_AVX2\n /** Check whether the OS has enabled AVX registers. */\n bool AVXEnabled()\n {\n     uint32_t a, d;\n     __asm__(\"xgetbv\" : \"=a\"(a), \"=d\"(d) : \"c\"(0));\n     return (a & 6) == 6;\n }\n+#endif // TRY_AVX2\n #endif\n } // namespace\n \n-\n std::string SHA256AutoDetect()\n {\n     std::string ret = \"standard\";\n #if defined(USE_ASM) && (defined(__x86_64__) || defined(__amd64__) || defined(__i386__))\n+\n     bool have_sse4 = false;\n-    bool have_xsave = false;\n-    bool have_avx = false;\n-    bool have_avx2 = false;\n     bool have_shani = false;\n-    bool enabled_avx = false;\n \n-    (void)AVXEnabled;\n     (void)have_sse4;\n-    (void)have_avx;\n-    (void)have_xsave;\n-    (void)have_avx2;\n     (void)have_shani;\n-    (void)enabled_avx;\n \n     uint32_t eax, ebx, ecx, edx;\n     cpuid(1, 0, eax, ebx, ecx, edx);\n     have_sse4 = (ecx >> 19) & 1;\n-    have_xsave = (ecx >> 27) & 1;\n-    have_avx = (ecx >> 28) & 1;\n-    if (have_xsave && have_avx) {\n-        enabled_avx = AVXEnabled();\n-    }\n+\n+#ifdef TRY_AVX2\n+    bool have_avx2 = false;\n+    bool have_xsave = (ecx >> 27) & 1;\n+    bool have_avx = (ecx >> 28) & 1;\n+    bool enabled_avx = have_xsave && have_avx && AVXEnabled();\n+#endif // TRY_AVX2\n+\n     if (have_sse4) {\n         cpuid(7, 0, eax, ebx, ecx, edx);\n-        have_avx2 = (ebx >> 5) & 1;\n+        TAVX2(have_avx2 = (ebx >> 5) & 1);\n         have_shani = (ebx >> 29) & 1;\n     }\n \n@@ -610,7 +617,7 @@ std::string SHA256AutoDetect()\n         TransformD64_2way = sha256d64_shani::Transform_2way;\n         ret = \"shani(1way,2way)\";\n         have_sse4 = false; // Disable SSE4/AVX2;\n-        have_avx2 = false;\n+        TAVX2(have_avx2 = false);\n     }\n #endif\n \n@@ -626,12 +633,12 @@ std::string SHA256AutoDetect()\n #endif\n     }\n \n-#if defined(ENABLE_AVX2) && !defined(BUILD_BITCOIN_INTERNAL)\n-    if (have_avx2 && have_avx && enabled_avx) {\n+#ifdef TRY_AVX2\n+    if (have_avx2 && enabled_avx) {\n         TransformD64_8way = sha256d64_avx2::Transform_8way;\n         ret += \",avx2(8way)\";\n     }\n-#endif\n+#endif // TRY_AVX2\n #endif\n \n     assert(SelfTest());"
      }
    ]
  },
  {
    "sha": "6973d023a5197c9f25ce3c50f5bab8e7b20a2c60",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2OTczZDAyM2E1MTk3YzlmMjVjZTNjNTBmNWJhYjhlN2IyMGEyYzYw",
    "commit": {
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2018-11-29T07:54:15Z"
      },
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2018-11-30T00:59:17Z"
      },
      "message": "refactor: SHA256AutoDetect() SHANI case only tested if SHANI enabled",
      "tree": {
        "sha": "2c99956078e337436be34f3bad56c4eceddaa137",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2c99956078e337436be34f3bad56c4eceddaa137"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6973d023a5197c9f25ce3c50f5bab8e7b20a2c60",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEExCr/fGGz5EoUVM01V692LbM1MyIFAlwAi2YACgkQV692LbM1\nMyJrQg//YGu6TFvBawshGGmTlS0vtV787Czjg6V7MW0JXquck1fEBUfG5Zd6Msuc\nSaDTOxIliL9MXokkKM2NDpKaRvz4Dfa2n4RIhOnirDTAuu07+baRiZiWDFsY5Ads\n+yRfS8+S//zRpRw71uNiswLY/CRz/CYeFK0QuD4XeD1gd+bPAHw5y9S6O8HsNLLr\nddASUCf18ax02KZYPnrP57NdcrwPwRF5N0qPtU+ZWcHpo05pbKNrKSDKIk+q5raw\nFdx+2iB+CZZLEidToE/A7lVqkHAGBTe6cw1vbs8zeg+F6N/U70SiXf0S5lv1i7Vi\nXUQ8W2u652pI/dav1CLl7v6C7jMQoLVFsLUCzTNtIngDWxjmr4qYFMb3sx1CXJ24\nZn+qcOy0EobGglLfbic1uPYsgLAtyNGSSqJ/17qMw/o6kQ+YNAFhJNE7lVvL1luT\nHVTT+uHwC2IkLiD8jcyeS6Ne8DdzHCSQv6DYcpsibwO3CgA9Asd9cJQS/kx7OoJf\nSzlvLRPplysRjMD969BUyrwMHHyZB9fexu279+/oVCNkDBXlsIx+byIUceJFIir0\n/no6V33ERVTWu7lrKXikB5SfmLLs/ceHFoafdpwCFFUWPsmiacudmuuTqUesw1sn\nLh4IVAZQDfO+/TbFNBfdRIfzvoBmyuxgDWovTz8px5KR5flej2M=\n=AEHA\n-----END PGP SIGNATURE-----",
        "payload": "tree 2c99956078e337436be34f3bad56c4eceddaa137\nparent 4c6d6c7e72afb4b873bfe391e02e8a5cb00f94b5\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1543478055 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1543539557 +0900\n\nrefactor: SHA256AutoDetect() SHANI case only tested if SHANI enabled\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6973d023a5197c9f25ce3c50f5bab8e7b20a2c60",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6973d023a5197c9f25ce3c50f5bab8e7b20a2c60",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6973d023a5197c9f25ce3c50f5bab8e7b20a2c60/comments",
    "author": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4c6d6c7e72afb4b873bfe391e02e8a5cb00f94b5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4c6d6c7e72afb4b873bfe391e02e8a5cb00f94b5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4c6d6c7e72afb4b873bfe391e02e8a5cb00f94b5"
      }
    ],
    "stats": {
      "total": 22,
      "additions": 12,
      "deletions": 10
    },
    "files": [
      {
        "sha": "1ca391f60789b1b7d1049fe8f96810bc4404a330",
        "filename": "src/crypto/sha256.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 10,
        "changes": 22,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6973d023a5197c9f25ce3c50f5bab8e7b20a2c60/src/crypto/sha256.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6973d023a5197c9f25ce3c50f5bab8e7b20a2c60/src/crypto/sha256.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/crypto/sha256.cpp?ref=6973d023a5197c9f25ce3c50f5bab8e7b20a2c60",
        "patch": "@@ -10,6 +10,7 @@\n #include <atomic>\n \n #define TAVX2(args...)\n+#define TSHANI(args...)\n \n #if defined(__x86_64__) || defined(__amd64__) || defined(__i386__)\n #if defined(USE_ASM)\n@@ -25,6 +26,11 @@ void Transform(uint32_t* s, const unsigned char* chunk, size_t blocks);\n #       undef TAVX2\n #       define TAVX2(args...) args\n #   endif // ENABLE_AVX2\n+#   ifdef ENABLE_SHANI\n+#       define TRY_SHANI\n+#       undef TSHANI\n+#       define TSHANI(args...) args\n+#   endif // ENABLE_SHANI\n #endif\n \n #endif\n@@ -587,15 +593,11 @@ std::string SHA256AutoDetect()\n     std::string ret = \"standard\";\n #if defined(USE_ASM) && (defined(__x86_64__) || defined(__amd64__) || defined(__i386__))\n \n-    bool have_sse4 = false;\n-    bool have_shani = false;\n-\n-    (void)have_sse4;\n-    (void)have_shani;\n-\n     uint32_t eax, ebx, ecx, edx;\n     cpuid(1, 0, eax, ebx, ecx, edx);\n-    have_sse4 = (ecx >> 19) & 1;\n+    bool have_sse4 = (ecx >> 19) & 1;\n+\n+    TSHANI(bool have_shani = false);\n \n #ifdef TRY_AVX2\n     bool have_avx2 = false;\n@@ -607,10 +609,10 @@ std::string SHA256AutoDetect()\n     if (have_sse4) {\n         cpuid(7, 0, eax, ebx, ecx, edx);\n         TAVX2(have_avx2 = (ebx >> 5) & 1);\n-        have_shani = (ebx >> 29) & 1;\n+        TSHANI(have_shani = (ebx >> 29) & 1);\n     }\n \n-#if defined(ENABLE_SHANI) && !defined(BUILD_BITCOIN_INTERNAL)\n+#ifdef TRY_SHANI\n     if (have_shani) {\n         Transform = sha256_shani::Transform;\n         TransformD64 = TransformD64Wrapper<sha256_shani::Transform>;\n@@ -619,7 +621,7 @@ std::string SHA256AutoDetect()\n         have_sse4 = false; // Disable SSE4/AVX2;\n         TAVX2(have_avx2 = false);\n     }\n-#endif\n+#endif // TRY_SHANI\n \n     if (have_sse4) {\n #if defined(__x86_64__) || defined(__amd64__)"
      }
    ]
  },
  {
    "sha": "b89468bc6d898cb8894cf631546a06dead2f80dc",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiODk0NjhiYzZkODk4Y2I4ODk0Y2Y2MzE1NDZhMDZkZWFkMmY4MGRj",
    "commit": {
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2018-11-30T01:12:51Z"
      },
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2018-11-30T01:12:51Z"
      },
      "message": "f'reduce macro use",
      "tree": {
        "sha": "c9a32fa25768350bab31783c674c0ca3d481c457",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c9a32fa25768350bab31783c674c0ca3d481c457"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b89468bc6d898cb8894cf631546a06dead2f80dc",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEExCr/fGGz5EoUVM01V692LbM1MyIFAlwAjpMACgkQV692LbM1\nMyLJDhAAnPGZo1/fkEDxH/zSof+1ZxbppG+bBz1wq6FwnaPr2x1lxGPNTfxxkriy\n3nxidQ6+oT6Wvxy+GeKzKO+hLoCrRUJNXr4giAXgsIQx5/c8uAJcUFOTYb8DTHgy\n/EGYAK7W/94ehwS+YsFykRDPs6yETN4vt5N/oTAjXdHNFXtIulNzVnKd5IEFb5JL\n1solF+TOhHD/StPbC2fEaWgp14dcLxoqCUboBR6UcTwTZDze03usWzn1f4QeYO+S\nma4vYKw+SG83RBlgWzSGEu2DgFuUNCTmhDVpSs2YDwtYwKQr+vUS0jM4mq3IQrmP\nzfmSh6QvHUdZg0Lc0DTAIsjAq/AGzcC9t6z/9eceFlbJVGy0wa3Uw2cdQoKoOsa1\naR+nTuyI2u/hxhI6iWtAl35XXdRhNvxTU3YPzhk47Xgg7f8gLVy3lPrwdSHSenni\n2lHRydAELCR7q+5axjgJrh6d//345d27FQq/btk33uwMZ5F65cHV2OW36Y17e7A3\nPOErcK8acLy0oSnngy7ewtsgiayZdbXD4VV73zxjQyEWjOPieUYzqB919FEHHDbS\n3Qr5iYlT4QjqusZ1LnBR009gg2wfVmqWO/uOMN2qAl+kpjQZDRPr38SfhpS+PcSv\nwG61Vpv/VU1/Z/KwWYS/IrnFTXs+SeAVoqfC8e2ZeU+E1rNoQmQ=\n=/gYS\n-----END PGP SIGNATURE-----",
        "payload": "tree c9a32fa25768350bab31783c674c0ca3d481c457\nparent 6973d023a5197c9f25ce3c50f5bab8e7b20a2c60\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1543540371 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1543540371 +0900\n\nf'reduce macro use\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b89468bc6d898cb8894cf631546a06dead2f80dc",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b89468bc6d898cb8894cf631546a06dead2f80dc",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b89468bc6d898cb8894cf631546a06dead2f80dc/comments",
    "author": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6973d023a5197c9f25ce3c50f5bab8e7b20a2c60",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6973d023a5197c9f25ce3c50f5bab8e7b20a2c60",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6973d023a5197c9f25ce3c50f5bab8e7b20a2c60"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "ae60d507efccb56594be5b6947f073649ea535b8",
        "filename": "src/crypto/sha256.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b89468bc6d898cb8894cf631546a06dead2f80dc/src/crypto/sha256.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b89468bc6d898cb8894cf631546a06dead2f80dc/src/crypto/sha256.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/crypto/sha256.cpp?ref=b89468bc6d898cb8894cf631546a06dead2f80dc",
        "patch": "@@ -593,12 +593,12 @@ std::string SHA256AutoDetect()\n     std::string ret = \"standard\";\n #if defined(USE_ASM) && (defined(__x86_64__) || defined(__amd64__) || defined(__i386__))\n \n+    bool have_shani;\n+\n     uint32_t eax, ebx, ecx, edx;\n     cpuid(1, 0, eax, ebx, ecx, edx);\n     bool have_sse4 = (ecx >> 19) & 1;\n \n-    TSHANI(bool have_shani = false);\n-\n #ifdef TRY_AVX2\n     bool have_avx2 = false;\n     bool have_xsave = (ecx >> 27) & 1;"
      }
    ]
  }
]