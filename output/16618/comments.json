[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521596921",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#issuecomment-521596921",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16618",
    "id": 521596921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTU5NjkyMQ==",
    "user": {
      "login": "GChuf",
      "id": 42591821,
      "node_id": "MDQ6VXNlcjQyNTkxODIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/42591821?u=a16010cacc8c18b42ce0149e07099ee28445817b&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GChuf",
      "html_url": "https://github.com/GChuf",
      "followers_url": "https://api.github.com/users/GChuf/followers",
      "following_url": "https://api.github.com/users/GChuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/GChuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GChuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GChuf/subscriptions",
      "organizations_url": "https://api.github.com/users/GChuf/orgs",
      "repos_url": "https://api.github.com/users/GChuf/repos",
      "events_url": "https://api.github.com/users/GChuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GChuf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-15T10:34:54Z",
    "updated_at": "2019-08-15T10:34:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is this safe to do? What are the implications of connecting to a peer that would otherwise be banned?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521596921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521601527",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#issuecomment-521601527",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16618",
    "id": 521601527,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTYwMTUyNw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-15T10:52:47Z",
    "updated_at": "2019-08-15T10:53:13Z",
    "author_association": "MEMBER",
    "body": "@gapeman afaik that was the behavior before #16248 (which was not supposed to change existing behavior).\r\n\r\n@NicolasDorier would be nice to have a test for this.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521601527/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521635542",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#issuecomment-521635542",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16618",
    "id": 521635542,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTYzNTU0Mg==",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?u=256d78207f88d303d61b62060a309657276cf6cb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-15T13:12:07Z",
    "updated_at": "2019-08-15T13:12:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@gapeman if your config specifically say that you don't want to ban a peer, then it should not be banned.\r\n\r\nAs @Sjors says, I just want to keep current behavior working as before.\r\n\r\nI can take a look to see if I can make a test for that.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521635542/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521640563",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#issuecomment-521640563",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16618",
    "id": 521640563,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTY0MDU2Mw==",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?u=256d78207f88d303d61b62060a309657276cf6cb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-15T13:28:24Z",
    "updated_at": "2019-08-15T13:28:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "I refactored it to properly scope some variables. Writing a test so such regression can't happen.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521640563/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521652289",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#issuecomment-521652289",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16618",
    "id": 521652289,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTY1MjI4OQ==",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?u=256d78207f88d303d61b62060a309657276cf6cb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-15T14:02:55Z",
    "updated_at": "2019-08-15T14:02:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixed the bug, and added an anti regression test for `setban`",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521652289/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521654132",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#issuecomment-521654132",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16618",
    "id": 521654132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTY1NDEzMg==",
    "user": {
      "login": "naumenkogs",
      "id": 7975071,
      "node_id": "MDQ6VXNlcjc5NzUwNzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7975071?u=06eb9ae4f9b3f954056098860decccbf1340e40f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/naumenkogs",
      "html_url": "https://github.com/naumenkogs",
      "followers_url": "https://api.github.com/users/naumenkogs/followers",
      "following_url": "https://api.github.com/users/naumenkogs/following{/other_user}",
      "gists_url": "https://api.github.com/users/naumenkogs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
      "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
      "repos_url": "https://api.github.com/users/naumenkogs/repos",
      "events_url": "https://api.github.com/users/naumenkogs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-15T14:08:17Z",
    "updated_at": "2019-08-15T14:08:17Z",
    "author_association": "MEMBER",
    "body": "utACK a0d2e2b",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521654132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521878304",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#issuecomment-521878304",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16618",
    "id": 521878304,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTg3ODMwNA==",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?u=256d78207f88d303d61b62060a309657276cf6cb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-16T04:19:08Z",
    "updated_at": "2019-08-16T04:19:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "As @promag suggested, I instead just inlined the permission checked, it is actually more readable.\r\n\r\nI also check in the logs that we really prevent connection because of the ban. I also added a test to `setban x remove`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521878304/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521878935",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#issuecomment-521878935",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16618",
    "id": 521878935,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTg3ODkzNQ==",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?u=256d78207f88d303d61b62060a309657276cf6cb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-16T04:23:19Z",
    "updated_at": "2019-08-16T04:23:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Sjors `rpc_setban` is the right name, I really want to test setban, so I added it in the whitelist of authorized term.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521878935/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521929475",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#issuecomment-521929475",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16618",
    "id": 521929475,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTkyOTQ3NQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-16T08:22:20Z",
    "updated_at": "2019-08-16T08:22:20Z",
    "author_association": "MEMBER",
    "body": "Agree inline is more clear. utACK d117f45",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521929475/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/522022047",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#issuecomment-522022047",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16618",
    "id": 522022047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMjAyMjA0Nw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-16T14:09:09Z",
    "updated_at": "2019-08-16T14:09:09Z",
    "author_association": "MEMBER",
    "body": "ACK d117f4541d4717e83c9396273e92960723622030\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK d117f4541d4717e83c9396273e92960723622030\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUin2gv9GZKDSUbn62676zj0G6Igb8tzgC2M1Sf2KyEuIR+heCoVYGlyp3rXDbuc\r\n22c5dyDXDnktsyMR3mwo3KLzT/MBY/wc8nDgdzkRUzWt6j+/q8Ex8NTnfbgyGXzr\r\nvBE3bJOfA1y3DCCzpSar4uU/sPUAK+oJ3qF1+62rijDYpC0Jh1UaYMy7AdYQdYQ/\r\nkyO3jorAiwIk0sE7SzJDq3rE7wlHzQ4LCZauCnVft/Y1rOY1IkmYfke3uapR4EVr\r\nZw7D40jY6RsEDLNh/1odaRqjm01v1uJ5d7mFnqOFCKA7RwdS2NQ0ElbfQ3fAUowm\r\nV7Oola76XE8OvGsj9y+qOwBkX5iMgeNQANb+Pf6poB0ANDh0AKpIkxjSIGGbhKi2\r\nXN9KGRaHLpNBeU69lQDrvsXEzyfl4kSLyO9/k7+qZAtgUTqyLDhi9beqS9Ta0OKF\r\nX7RHymgGIn1zvTOY4WSoPiHIF5ceVDu9S5r/fxr9DHmwPWWEzOE9ztfcSiQw68tY\r\nHRrWUvc+\r\n=qI3j\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `74a14b73630691da8ffa64e5b597d7fd7246787327bba54579da5c03c881ec01  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e89294010874a14b73630691da8ffa64e5b597d7fd7246787327bba54579da5c03c881ec01f01043219eeffe1ae9a1026ee48a3dd50b9308fff01010030cd40044e4372cb6d2446292049608f020f11ddc7314ce1f42373e025745cf37f58ab5434f875df973797c6bc7f768a88a08f1045d56b8e1f0088dbe7bdd983eab1a0083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff01019f975197112f255b780d679cad9efc208f1045d56b8e0f00883cdfc66b55a8b5b0083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff0102e30f02eece966fef2a0c783189e008908f1045d56b8e0f008182705ebec4d87280083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6df0105f28dc7979c351e16ded943d6a738b2e08f1045d56b8e0f008952e9f3fb11641920083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6d)\r\n\r\n</details>\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/522022047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314326784",
    "pull_request_review_id": 275452633,
    "id": 314326784,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDMyNjc4NA==",
    "diff_hunk": "@@ -0,0 +1,44 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2015-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the setban rpc call.\"\"\"\n+\n+from test_framework.test_node import ErrorMatch",
    "path": "test/functional/rpc_setban.py",
    "position": null,
    "original_position": 7,
    "commit_id": "d117f4541d4717e83c9396273e92960723622030",
    "original_commit_id": "a0d2e2b1bd5d44f18eb3865e657c67efd0111a3f",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "test/functional/rpc_setban.py:7:1: F401 'test_framework.test_node.ErrorMatch' imported but unused\r\n\r\ntest/functional/rpc_setban.py:39:78: F821 undefined name 'p'\r\n\r\ntest/functional/rpc_setban.py:41:75: F821 undefined name 'p'",
    "created_at": "2019-08-15T14:14:26Z",
    "updated_at": "2019-08-16T04:40:48Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#discussion_r314326784",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16618",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314326784"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16618#discussion_r314326784"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16618"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314326784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 7,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314330783",
    "pull_request_review_id": 275457822,
    "id": 314330783,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDMzMDc4Mw==",
    "diff_hunk": "@@ -0,0 +1,44 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2015-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the setban rpc call.\"\"\"\n+\n+from test_framework.test_node import ErrorMatch\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    connect_nodes\n+)\n+\n+class SetBanTests(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [[],[]]\n+\n+    def run_test(self):\n+        # Node 0 connects to Node 1\n+        self.assert_has_permission('noban', False)\n+        # Node 0 get banned by Node 1\n+        self.nodes[1].setban(\"127.0.0.1\", \"add\")\n+        # Node 1 should not be able to reconnect\n+        self.restart_node(1, [])\n+        connect_nodes(self.nodes[0], 1)\n+        peerinfo = self.nodes[1].getpeerinfo()\n+        assert_equal(0, len(peerinfo))\n+        # Node 1 should be able to reconnect if it has noban permission\n+        self.restart_node(1, ['-whitelist=127.0.0.1'])\n+        connect_nodes(self.nodes[0], 1)\n+        self.assert_has_permission('noban', True)\n+\n+    def assert_has_permission(self, permission, contains):",
    "path": "test/functional/rpc_setban.py",
    "position": null,
    "original_position": 35,
    "commit_id": "d117f4541d4717e83c9396273e92960723622030",
    "original_commit_id": "a0d2e2b1bd5d44f18eb3865e657c67efd0111a3f",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe pass node in directly and split into `assert_has_permission(self, node, permission)` and `assert_has_no_permission(self, node, permission)` ",
    "created_at": "2019-08-15T14:23:19Z",
    "updated_at": "2019-08-16T04:40:48Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#discussion_r314330783",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16618",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314330783"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16618#discussion_r314330783"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16618"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314330783/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 34,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314359274",
    "pull_request_review_id": 275493435,
    "id": 314359274,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDM1OTI3NA==",
    "diff_hunk": "@@ -0,0 +1,44 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2015-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the setban rpc call.\"\"\"\n+\n+from test_framework.test_node import ErrorMatch\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    connect_nodes\n+)\n+\n+class SetBanTests(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [[],[]]\n+\n+    def run_test(self):\n+        # Node 0 connects to Node 1\n+        self.assert_has_permission('noban', False)\n+        # Node 0 get banned by Node 1\n+        self.nodes[1].setban(\"127.0.0.1\", \"add\")\n+        # Node 1 should not be able to reconnect\n+        self.restart_node(1, [])\n+        connect_nodes(self.nodes[0], 1)\n+        peerinfo = self.nodes[1].getpeerinfo()\n+        assert_equal(0, len(peerinfo))\n+        # Node 1 should be able to reconnect if it has noban permission\n+        self.restart_node(1, ['-whitelist=127.0.0.1'])\n+        connect_nodes(self.nodes[0], 1)\n+        self.assert_has_permission('noban', True)\n+\n+    def assert_has_permission(self, permission, contains):",
    "path": "test/functional/rpc_setban.py",
    "position": null,
    "original_position": 35,
    "commit_id": "d117f4541d4717e83c9396273e92960723622030",
    "original_commit_id": "a0d2e2b1bd5d44f18eb3865e657c67efd0111a3f",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "what about `assert_equal(True, self.hasPermision(...))` ?\r\n\r\nThat said, I don't think it should pass the nodes to this method. It is confusing (there is two nodes: the node that is permissioned, and the node on which we want to check permissions).",
    "created_at": "2019-08-15T15:18:07Z",
    "updated_at": "2019-08-16T04:40:48Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#discussion_r314359274",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16618",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314359274"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16618#discussion_r314359274"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16618"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314359274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 34,
    "side": "RIGHT",
    "in_reply_to_id": 314330783
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314388627",
    "pull_request_review_id": 275529668,
    "id": 314388627,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDM4ODYyNw==",
    "diff_hunk": "@@ -0,0 +1,44 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2015-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the setban rpc call.\"\"\"\n+\n+from test_framework.test_node import ErrorMatch\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    connect_nodes\n+)\n+\n+class SetBanTests(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [[],[]]\n+\n+    def run_test(self):\n+        # Node 0 connects to Node 1\n+        self.assert_has_permission('noban', False)\n+        # Node 0 get banned by Node 1\n+        self.nodes[1].setban(\"127.0.0.1\", \"add\")\n+        # Node 1 should not be able to reconnect\n+        self.restart_node(1, [])\n+        connect_nodes(self.nodes[0], 1)\n+        peerinfo = self.nodes[1].getpeerinfo()\n+        assert_equal(0, len(peerinfo))\n+        # Node 1 should be able to reconnect if it has noban permission\n+        self.restart_node(1, ['-whitelist=127.0.0.1'])\n+        connect_nodes(self.nodes[0], 1)\n+        self.assert_has_permission('noban', True)\n+\n+    def assert_has_permission(self, permission, contains):",
    "path": "test/functional/rpc_setban.py",
    "position": null,
    "original_position": 35,
    "commit_id": "d117f4541d4717e83c9396273e92960723622030",
    "original_commit_id": "a0d2e2b1bd5d44f18eb3865e657c67efd0111a3f",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`assert(self.hasPermision(...))` is even simpler.\r\n\r\nYou could pass both nodes. Or you could document at the top of the test file which hardcoded nodes do what.",
    "created_at": "2019-08-15T16:19:54Z",
    "updated_at": "2019-08-16T04:40:48Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#discussion_r314388627",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16618",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314388627"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16618#discussion_r314388627"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16618"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314388627/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 34,
    "side": "RIGHT",
    "in_reply_to_id": 314330783
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314543190",
    "pull_request_review_id": 275725446,
    "id": 314543190,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDU0MzE5MA==",
    "diff_hunk": "@@ -0,0 +1,44 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2015-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the setban rpc call.\"\"\"\n+\n+from test_framework.test_node import ErrorMatch\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    connect_nodes\n+)\n+\n+class SetBanTests(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = True\n+        self.extra_args = [[],[]]\n+\n+    def run_test(self):\n+        # Node 0 connects to Node 1\n+        self.assert_has_permission('noban', False)\n+        # Node 0 get banned by Node 1\n+        self.nodes[1].setban(\"127.0.0.1\", \"add\")\n+        # Node 1 should not be able to reconnect\n+        self.restart_node(1, [])\n+        connect_nodes(self.nodes[0], 1)\n+        peerinfo = self.nodes[1].getpeerinfo()\n+        assert_equal(0, len(peerinfo))\n+        # Node 1 should be able to reconnect if it has noban permission\n+        self.restart_node(1, ['-whitelist=127.0.0.1'])\n+        connect_nodes(self.nodes[0], 1)\n+        self.assert_has_permission('noban', True)\n+\n+    def assert_has_permission(self, permission, contains):",
    "path": "test/functional/rpc_setban.py",
    "position": null,
    "original_position": 35,
    "commit_id": "d117f4541d4717e83c9396273e92960723622030",
    "original_commit_id": "a0d2e2b1bd5d44f18eb3865e657c67efd0111a3f",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sorry but I think you could just inline this - it's longer as it is with the `contains` arg.",
    "created_at": "2019-08-16T00:02:39Z",
    "updated_at": "2019-08-16T04:40:48Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16618#discussion_r314543190",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16618",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314543190"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16618#discussion_r314543190"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16618"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314543190/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 34,
    "side": "RIGHT",
    "in_reply_to_id": 314330783
  }
]