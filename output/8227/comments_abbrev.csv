laanwj,2016-06-20T09:07:36Z,"`p2p-versionbits-warning.py` fails while shutting down the nodes. ~~This seems to be a randomly occuring issue, not related to the specific test.~~\n\n```\n\nstderr:\n   File ""/home/travis/build/bitcoin/bitcoin/qa/rpc-tests/test_framework/test_framework.py"", line 144, in main\n    self.run_test()\n  File ""/home/travis/build/bitcoin/bitcoin/build/../qa/rpc-tests/p2p-versionbits-warning.py"", line 15",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227088560,227088560,
MarcoFalke,2016-06-20T09:11:09Z,Isn't it also failing the `assert(self.vb_pattern.match(alert_text))`?\n,https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227089318,227089318,
laanwj,2016-06-20T09:12:53Z,"Ok that's one confusing error, yes that one's failing too. That seems specific to this test.\nLet's see if it is repeatable.\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227089708,227089708,
laanwj,2016-06-20T10:01:30Z,"Okay at least the error is consistent. I retriggered Travis and it happens again, same place, same error.\n\nAnd the 32-bit windows build fails due to the same reason.\n\nEdit: I can also reproduce it locally in a depends build.\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227100611,227100611,
laanwj,2016-06-20T10:43:56Z,I've pushed a commit that should get past this problem.\n,https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227109137,227109137,
MarcoFalke,2016-06-20T10:51:16Z,"Thanks.\n\nIf this passes, make sure to remove any remaining `-win` hacks from the script.\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227110526,227110526,
laanwj,2016-06-20T11:21:21Z,"It passed! Reorganized the commits and removed any mention of `-win` in `rpc-tests.py`. I may be looking past it, but I didn't find any use of that option anywhere.\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227116018,227116018,
MarcoFalke,2016-06-20T11:48:07Z,utACK 39d28c6\n,https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227120857,227120857,
laanwj,2016-06-20T12:39:02Z,"Looks like there are timeout issues, run times for the windows tests are on the limit of what travis allows\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227130539,227130539,
MarcoFalke,2016-06-20T15:04:40Z,"I've added a commit to https://github.com/bitcoin/bitcoin/pull/8216/commits/fa58f94ff7f097260ebee791008dab368c7ac318 which should improve that, but I think after enabling qt builds again, we are again at the limit...\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227169675,227169675,
laanwj,2016-06-21T08:31:00Z,"Re-triggered this after merging #8216, let's see if this is more reliable.\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227374761,227374761,
MarcoFalke,2016-06-21T11:09:28Z,"There was a timeout in\n\n```\n  File ""qa/pull-tester/rpc-tests.py"", line 254, in get_next\n\n    (stdout, stderr) = proc.communicate(timeout=3)\n```\n\nbut not due to the travis limit of 50 minutes.\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227409094,227409094,
MarcoFalke,2016-06-21T11:13:02Z,This should not happen: It can either mean there is a zombie bitcoind running which can not be stopped (a bug we should fix) or the windows tests are running generally really slow. Bumping the timeout to 5 secs or more should fix it then.\n,https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227409766,227409766,
laanwj,2016-06-21T11:26:12Z,What is the three-second timeout waiting for?\n,https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227412259,227412259,
MarcoFalke,2016-06-21T11:31:23Z,"If it has to wait, there is most likely a bug elsewhere in the framework. Ideally there should be no timeout set, but it has to be set to anything to change the default: https://docs.python.org/3/library/subprocess.html#subprocess.Popen.communicate.\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227413214,227413214,
MarcoFalke,2016-06-21T11:35:26Z,"Unfortunately running the tests in parallel will hide what actually happened until the stderr and stdout are retrieved.\n\nI could come up with a `-legacy` arg to run the test sequentially with real time stdout like was done previously, for debugging purposes.\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-227413978,227413978,
MarcoFalke,2016-07-05T15:02:12Z,"@laanwj I ran this locally to see what is the cause of the intermittent fails, but I couldn't figure it out. It has nothing to do with the `timeout=3`. (You could set it to less without any issues)\n\nI'd suggest you cherry-pick/pull fa9d398 and we just merge it. Someone can figure out later why parallel test don't work fine with wine/win.\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-230504675,230504675,
laanwj,2016-07-11T11:08:14Z,"@MarcoFalke Thanks - cherry-picked your commit, let's see what travis does now.\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-231705704,231705704,
laanwj,2016-07-11T12:50:35Z,"Ugh win32 build https://travis-ci.org/bitcoin/bitcoin/jobs/143858179: The job exceeded the maximum time limit for jobs, and has been terminated.\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-231724962,231724962,
MarcoFalke,2016-08-08T09:12:19Z,"> The job exceeded the maximum time limit for jobs, and has been terminated.\n\nDropping the java block tester at the same time could improve the run time.\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-238182401,238182401,
laanwj,2016-08-13T13:54:36Z,"Good point, that is due to be disabled now: https://github.com/bitcoin/bitcoin/issues/4545#issuecomment-209938408\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-239621984,239621984,
MarcoFalke,2016-08-17T20:41:18Z,"Hmm, 71fd4eb is still taking about 48 minutes with empty cache, when rebased on current master.\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-240540980,240540980,
theuni,2016-08-18T04:09:24Z,FYI I'm working on a qt 5.7 bump that changes the build significantly. I'm hoping for a reasonable speedup there.\n,https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-240619012,240619012,
laanwj,2016-08-26T11:39:44Z,"Closing this for now, can be reopened after the 5.7 bump.\n",https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-242711010,242711010,
laanwj,2016-10-20T16:41:28Z,@theuni how is the qt bump going?\n,https://github.com/bitcoin/bitcoin/pull/8227#issuecomment-255160585,255160585,
MarcoFalke,2016-06-20T10:51:14Z,Nit: I think it is good practice to put those in the header.\n,https://github.com/bitcoin/bitcoin/pull/8227#discussion_r67670174,67670174,qa/rpc-tests/p2p-versionbits-warning.py
laanwj,2016-06-20T10:52:50Z,"Yeah, unless there is a specific reason for late binding (there doesn't seem to be here)\n",https://github.com/bitcoin/bitcoin/pull/8227#discussion_r67670323,67670323,qa/rpc-tests/p2p-versionbits-warning.py
MarcoFalke,2016-07-05T15:09:42Z,Feel free to fix the nit in this pull.\n,https://github.com/bitcoin/bitcoin/pull/8227#discussion_r69580058,69580058,qa/rpc-tests/p2p-versionbits-warning.py
