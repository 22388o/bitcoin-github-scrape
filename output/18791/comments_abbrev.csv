ryanofsky,2020-04-28 00:34:53,"I'm not sure this change is a good idea. I think it made sense to add shared_ptr support to the validation interface in #18338 because it only required 4 new lines of code in validationinterface.cpp, and because without that support it would have been more complicated to unload wallets safely, given the wallet was already using shared_ptr to share CWallet references between `vpwallet` vector, acti",https://github.com/bitcoin/bitcoin/pull/18791#issuecomment-620307875,620307875,
promag,2020-04-28 00:45:49,"@ryanofsky I'm on the same page. I've submitted this for 2 reasons:\n - address same issue as #18742\n - show the extent of the change\n\nI'll leave this open so others can weight in too.",https://github.com/bitcoin/bitcoin/pull/18791#issuecomment-620310738,620310738,
ryanofsky,2020-04-28 00:51:33,"Makes sense. This is good as an experiment to uncover other possible use-after-free bugs, and see what impact of removing the non-shared functions would be",https://github.com/bitcoin/bitcoin/pull/18791#issuecomment-620312208,620312208,
DrahtBot,2020-04-28 04:20:32,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18742 (miner: Avoid stack-use-after-return in validationinterface by MarcoFalke)\n* #18531 (rpc: Assert that RPCArg names",https://github.com/bitcoin/bitcoin/pull/18791#issuecomment-620371756,620371756,
MarcoFalke,2020-04-28 11:41:02,"The normal shutdown sequence stops and unregisters the interfaces before stopping them, so this shouldn't be an issue.",https://github.com/bitcoin/bitcoin/pull/18791#issuecomment-620553272,620553272,
