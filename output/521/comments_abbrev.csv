sipa,2011-09-19T09:34:15Z,ACK on the changes to core. I haven't reviewed the UI code itself.\n,https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2131830,2131830,
tcatm,2011-09-19T12:46:18Z,This seems to break the wxgui (error in AppInit()). Either that should be fixed or wxgui removed IMHO.\n,https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2133176,2133176,
laanwj,2011-09-19T12:48:07Z,Didn't notice it yet. I'll fix that. The changes should not affect the wx GUI.\n,https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2133191,2133191,
laanwj,2011-09-19T13:32:25Z,tcatm: I'm unable to reproduce this (on Linux). The Wx still works as it did before. Can you get a traceback for the error?\n,https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2133552,2133552,
tcatm,2011-09-19T13:39:16Z,"sorry, my fault: I forgot to run make clean and thus part of bitcoin was usind bdb 4.7 and bdb 4.8 \n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2133621,2133621,
gavinandresen,2011-09-19T14:19:57Z,"ACK, I did a quick review and setup a qt build environment.  Looks good.\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2134059,2134059,
TheBlueMatt,2011-09-21T19:02:00Z,"I'm assuming no one cares about adding non mit pictures to bitcoin, but I might as well bring up the issue.\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2159636,2159636,
TheBlueMatt,2011-09-21T19:10:04Z,"Also, it might just be me but I really hate having two sets of translations, is it not possible to redefine some translation functions and make a script to convert the format of the files?\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2159728,2159728,
laanwj,2011-09-21T19:15:41Z,"This is exactly what I did (see scripts/qt/extract_strings_qt.py). When\nrunning with Qt UI, the _ function is redirected to Qt.  The Wx translations\nare not used by the Qt UI.\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2159783,2159783,
laanwj,2011-09-21T19:20:42Z,Feel free to add or replace your own images if you think that's a concern...\n,https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2159840,2159840,
TheBlueMatt,2011-09-21T19:26:00Z,"Well look at me not paying attention, but I also meant for qt files to use _ so that translation programs will pick up strings from qtui as well (or did you do that too, im on my phone and the browser lags out if I try to load the diff tab).\nAlso I'm assuming you have some strings specific to qtui already, how were those handled in the existing translations for qt?\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2159905,2159905,
TheBlueMatt,2011-09-21T19:31:50Z,"In URI handling, why does it not parse the message field?\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2159974,2159974,
laanwj,2011-09-21T19:32:03Z,"Nothing special has to be done for that; Qt uses tr() instead of _, and\nrecognizes the qtui-specific strings (which are indeed a lot) in\nlupdate/lrelease, the qt translation tools, automatically.\n\nIt does not pick up _(), that's why the python script exists. It converts\nthe strings in _() to QT_TRANSLATE_NOOP strings which are recognized.\n\nThis means that qt translator can be used to transl",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2159977,2159977,
laanwj,2011-09-21T19:35:50Z,"Huh I don't see anything about a message field in the URL handling? What's it supposed to parse, and do with it?\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2160013,2160013,
TheBlueMatt,2011-09-21T19:42:22Z,"re:images I dont have a problem with it but I thought id bring it up to make sure no one else had any problems with it.\nRe:translations, it just bugs me that half the translations are in po format and the other half are in qt.  That might cause issues later on if there are conflicting translations used by bitcoind.  My question was whether or not it would be possible to modify the qt-generated co",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2160106,2160106,
TheBlueMatt,2011-09-21T19:46:37Z,See https://en.bitcoin.it/wiki/URI_Scheme\n(ignore lukes tonal exponent crap)\n,https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2160145,2160145,
laanwj,2011-09-21T19:49:10Z,"Eventually all the translations should be in qt format (ts), not the other\nway around, IMO. The Qt translation system is more advanced (context\nsensitive, can take into account multiples, shows the GUI while translating\netc).\n\nThe po files could be generated from the ts files, for use by bitcoind, and\nwouldn't even need to be in git. This would need another script but not a\nvery complex one",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2160179,2160179,
laanwj,2011-09-21T19:49:51Z,"What would you want to do with the message? Display it in a popup? Currently, the ""send coins"" tab is opened and the amount, address and label is simply added to the recipients list when a URL is drag&dropped into the client.\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2160189,2160189,
laanwj,2011-09-21T19:53:52Z,"BTW **bitcoind** doesn't use translation at all; I guess it'd need to link against libgettext to do that. Currently, without ui, _ is implemented as this (util.h):\n\n```\n#if !defined(QT_GUI) && !defined(GUI)\ninline const char* _(const char* psz)\n{\n    return psz;\n}\n#endif\n```\n\nIf this is kept the same, this means the po files can simply  be removed when the wx UI goes away.\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2160240,2160240,
tcatm,2011-09-21T19:56:18Z,"RE: message in bitcoin uri\n\nIt should be stored as a comment for that transaction. Actually, I'd like to have a editable comment field for every transaction (outgoing and incoming) so one could label individual transactions on a single address. I think the wallet and RPC already supports comments.\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2160266,2160266,
laanwj,2011-09-21T20:01:12Z,"Is that true? I haven't noticed it. I intended to add such functionality.  A long time ago I sent a message on the mailing list about adding metadata to transactions and address book addresses, but no one ever replied, so I guessed it was not practical or useless.\n\nAnyway, we can add this later. It's a good idea in any case.\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2160329,2160329,
p2k,2011-09-21T20:04:19Z,laanwj: Just a side note: I've written a python script that reads ts files and outputs unicode string tables for use in mac or iphone applications. I think it won't take me long to modify it so it outputs po files.\n,https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2160360,2160360,
laanwj,2011-09-21T20:11:33Z,"p2k: nice, if we decide to add gettext-based translation to bitcoind that will certainly come in handy\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2160453,2160453,
TheBlueMatt,2011-09-21T20:29:20Z,"Meh, I dont care if all the translations are po or qt, but I would think it would be better to have them all together instead of split between two files.\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2160709,2160709,
laanwj,2011-09-21T20:32:29Z,"As I said, unless gettext-based translation is added to bitcoind, we can\nsimply remove the .po files when the wx UI is deprecated. That would solve\nthe problem wouldn't it?\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2160747,2160747,
TheBlueMatt,2011-09-21T20:36:55Z,"yes.,  long as existing translations are ported over.\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2160802,2160802,
laanwj,2011-09-21T20:39:46Z,"Yes, that could be done, though that'd only work for the strings in the\nbitcoin core. Most of the strings in the UI itself would remain untranslated\nas they're different from before.\n",https://github.com/bitcoin/bitcoin/pull/521#issuecomment-2160851,2160851,
TheBlueMatt,2011-09-21T18:40:49Z,USE_UPNP should be tri-state. ie USE_UPNP=0 is different than USE_UPNP undefined.\n,https://github.com/bitcoin/bitcoin/pull/521#discussion_r134641,134641,bitcoin-qt.pro
TheBlueMatt,2011-09-21T18:43:26Z,"Im not against adding this file if it is needed, but can I ask why it is?\n",https://github.com/bitcoin/bitcoin/pull/521#discussion_r134653,134653,contrib/miniupnpc/Portfile
laanwj,2011-09-21T18:48:44Z,"It is tri-state:\n\nqmake USE_UPNP=\n-> miniupnpc not linked / compiled in\n\nqmake USE_UPNP=0\n-> miniupnpc is compiled in, but disabled by default (-llibupnpc is linked\nin, USE_UPNP=0 is set)\n\nqmake USE_UPNP=1\n-> miniupnpc is compiled in, and enabled by default (-llibupnpc is linked\nin, USE_UPNP=0 is set)\n\n(as documented in doc/readme-qt.rst)\n\nI've just tested this out, and it works as ",https://github.com/bitcoin/bitcoin/pull/521#discussion_r134662,134662,bitcoin-qt.pro
TheBlueMatt,2011-09-21T18:49:36Z,H ow safely Is this done wrt people modifying nodes to report incorrect block counts? \n,https://github.com/bitcoin/bitcoin/pull/521#discussion_r134664,134664,doc/readme-qt.rst
laanwj,2011-09-21T18:52:53Z,"It was added by @p2k to improve MacOSX support, I suppose it's some kind of\nauto-build file.\n",https://github.com/bitcoin/bitcoin/pull/521#discussion_r134680,134680,contrib/miniupnpc/Portfile
laanwj,2011-09-21T18:53:28Z,"(uh, the last one should say ""...USE_UPNP=1 is set"")\n",https://github.com/bitcoin/bitcoin/pull/521#discussion_r134684,134684,bitcoin-qt.pro
TheBlueMatt,2011-09-21T18:57:01Z,Its a macport port file for the latest miniupnpc.  That's fine but I'm not sure about putting it in the bitcoin repo.  It should probably just be submitted upstream to macports and not be put on bitcoin.\n,https://github.com/bitcoin/bitcoin/pull/521#discussion_r134699,134699,contrib/miniupnpc/Portfile
TheBlueMatt,2011-09-21T18:58:51Z,"mmm, I guess I just don't know how to read qmake files, or am blind...probably both.  Just wanted to check to make sure.\n",https://github.com/bitcoin/bitcoin/pull/521#discussion_r134706,134706,bitcoin-qt.pro
laanwj,2011-09-21T18:59:36Z,"They could report more blocks than they actually have (not less, as the\nmaximum is taken of peers and a hardcoded minimum bound\n nTotalBlocksEstimate  is taken into account). This could mess up the\nprogress bar, but apart from that influences nothing. It's just a visual\nindicator.\n\n> H ow safely Is this done wrt people modifying nodes to report incorrect\n> block counts?\n> \n> ## \n> \n> Re",https://github.com/bitcoin/bitcoin/pull/521#discussion_r134708,134708,doc/readme-qt.rst
TheBlueMatt,2011-09-21T19:03:45Z,Would it not make sense to try to drop outliers just to keep people from complaining if they get odd progress bars?\n,https://github.com/bitcoin/bitcoin/pull/521#discussion_r134725,134725,doc/readme-qt.rst
laanwj,2011-09-21T19:11:35Z,"Maybe, but that's extra complexity which could introduce bugs in itself. I\ndidn't think that'd be worth adding the extra complexity to the core. But it\ncould keep track of the numbers reported by the last N nodes connected to,\nthen report the median, for example...\n\nWould it not make sense to try to drop outliers just to keep people from\n\n> complaining if they get odd progress bars?\n> \n> ",https://github.com/bitcoin/bitcoin/pull/521#discussion_r134754,134754,doc/readme-qt.rst
TheBlueMatt,2011-09-21T19:16:01Z,"Maybe its just me, but id feel better if it at least took some effort to spoof, even if not much.\n",https://github.com/bitcoin/bitcoin/pull/521#discussion_r134770,134770,doc/readme-qt.rst
p2k,2011-09-21T19:35:24Z,"Yes, this is a temporary solution and I will remove this file as soon as macports fixes the issue.\n",https://github.com/bitcoin/bitcoin/pull/521#discussion_r134806,134806,contrib/miniupnpc/Portfile
TheBlueMatt,2011-09-21T19:44:39Z,"Meh, still not sure about putting it in bitcoin, but I guess it doesn't matter.\n",https://github.com/bitcoin/bitcoin/pull/521#discussion_r134823,134823,contrib/miniupnpc/Portfile
p2k,2011-09-21T20:09:34Z,"I'll try to send it to macports right now and remove it in the very minute they accept it, ok?\n\nEDIT: You can monitor the process here: https://trac.macports.org/ticket/31354\n",https://github.com/bitcoin/bitcoin/pull/521#discussion_r134874,134874,contrib/miniupnpc/Portfile
