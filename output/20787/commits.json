[
  {
    "sha": "fa39cdd072c91eac70cda04b8b26681611f94cb7",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTM5Y2RkMDcyYzkxZWFjNzBjZGEwNGI4YjI2NjgxNjExZjk0Y2I3",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-12-26T11:40:37Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-01-03T17:37:59Z"
      },
      "message": "refactor: Use C++17 std::array deduction for OUTPUT_TYPES",
      "tree": {
        "sha": "d55df8a3ca432f25a970b5ef6f90bef37e29fa53",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d55df8a3ca432f25a970b5ef6f90bef37e29fa53"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa39cdd072c91eac70cda04b8b26681611f94cb7",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgimgv/Tr9YAzpQpZY1ETj5rmRXi/LajOWKhQlCuibKvLT2XydAAqfnCJUMm3j6\nPQaURmdOzOm2aOwffp8892rtj7DqJ1/Kc8u8bbGZl+azRi0W1daF0uJNjigQjZ49\nseRN3b672bJ2sBeakgLkgmjNG38HeMa8pL3lrJnofjXIGrLFksFxLtAoC7+JEPp9\n+wuTaQnI5cuN76AfcMobV2R8HUvHVue9cjigS3EHmF+VPHMeo+KOioHhj4yil8Xv\nIxbAG1gMnfekoh8VK05AanOTxVTr7Pw5qckaFbwL8KqnSVpZlPZHyznNG3PBCTCM\nOVX7Hff8Bi9gy8xkxm5JPZqNHsutNKSsBVsqW2NE9U+HzTmkqKEt1hX3CFzIWBu/\nBQVUWTfMsKLZdmw8/2M1nH6/7HlcidzoJQroUsE5rvQUZ3EQqd0XRSYRqfYoc/xw\nzVwVtwJ5YTnpTDY/j44v4QI9bDoNc30JXu/u5p6oKPqJFj3RlXzGBKGLXqnRWd4b\nSMeDGvVp\n=jM0h\n-----END PGP SIGNATURE-----",
        "payload": "tree d55df8a3ca432f25a970b5ef6f90bef37e29fa53\nparent 2dab2d239a4777b5ffd59a94a8eebd8638644e6c\nauthor MarcoFalke <falke.marco@gmail.com> 1608982837 +0100\ncommitter MarcoFalke <falke.marco@gmail.com> 1609695479 +0100\n\nrefactor: Use C++17 std::array deduction for OUTPUT_TYPES\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa39cdd072c91eac70cda04b8b26681611f94cb7",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa39cdd072c91eac70cda04b8b26681611f94cb7",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa39cdd072c91eac70cda04b8b26681611f94cb7/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2dab2d239a4777b5ffd59a94a8eebd8638644e6c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2dab2d239a4777b5ffd59a94a8eebd8638644e6c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2dab2d239a4777b5ffd59a94a8eebd8638644e6c"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 5,
      "deletions": 3
    },
    "files": [
      {
        "sha": "d96fb282c5901d75662d0569b7239a1cb9e9e59e",
        "filename": "src/outputtype.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa39cdd072c91eac70cda04b8b26681611f94cb7/src/outputtype.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa39cdd072c91eac70cda04b8b26681611f94cb7/src/outputtype.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/outputtype.cpp?ref=fa39cdd072c91eac70cda04b8b26681611f94cb7",
        "patch": "@@ -19,8 +19,6 @@ static const std::string OUTPUT_TYPE_STRING_LEGACY = \"legacy\";\n static const std::string OUTPUT_TYPE_STRING_P2SH_SEGWIT = \"p2sh-segwit\";\n static const std::string OUTPUT_TYPE_STRING_BECH32 = \"bech32\";\n \n-const std::array<OutputType, 3> OUTPUT_TYPES = {OutputType::LEGACY, OutputType::P2SH_SEGWIT, OutputType::BECH32};\n-\n bool ParseOutputType(const std::string& type, OutputType& output_type)\n {\n     if (type == OUTPUT_TYPE_STRING_LEGACY) {"
      },
      {
        "sha": "88422e582450895fdcb04ddbe9dae4ef6682aa73",
        "filename": "src/outputtype.h",
        "status": "modified",
        "additions": 5,
        "deletions": 1,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa39cdd072c91eac70cda04b8b26681611f94cb7/src/outputtype.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa39cdd072c91eac70cda04b8b26681611f94cb7/src/outputtype.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/outputtype.h?ref=fa39cdd072c91eac70cda04b8b26681611f94cb7",
        "patch": "@@ -20,7 +20,11 @@ enum class OutputType {\n     BECH32,\n };\n \n-extern const std::array<OutputType, 3> OUTPUT_TYPES;\n+static constexpr auto OUTPUT_TYPES = std::array{\n+    OutputType::LEGACY,\n+    OutputType::P2SH_SEGWIT,\n+    OutputType::BECH32,\n+};\n \n [[nodiscard]] bool ParseOutputType(const std::string& str, OutputType& output_type);\n const std::string& FormatOutputType(OutputType type);"
      }
    ]
  },
  {
    "sha": "aaaa9878405f3f38f4f61c00feca110d7f9ca481",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphYWFhOTg3ODQwNWYzZjM4ZjRmNjFjMDBmZWNhMTEwZDdmOWNhNDgx",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-01-03T17:44:02Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-01-03T17:38:31Z"
      },
      "message": "refactor: Use C++17 std::array deduction for ALL_FEE_ESTIMATE_HORIZONS",
      "tree": {
        "sha": "08c0b91fcc058f01d86f0a6d7de3b4d334646de9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/08c0b91fcc058f01d86f0a6d7de3b4d334646de9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aaaa9878405f3f38f4f61c00feca110d7f9ca481",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGyBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgK4Qv3TQBk7jxMXLylkxDVoKgiim1lx/jX1CBk09l2p6z0RXZLrT+WYGWkXvNd\noByhBPvGAmgmmz9OYL2t2oHl+Hvajx2YfM6VrEdjU2fhELfdhIe7Jdy1JjKgzdTb\nSm0mOYeGjmFh6WtQcDyejxKWZKos0wQhNTatS03KppGIAHqo7W74OShBu5LYRtZs\nSgzqJZDelF+xIueckwAKsMiXPHSxwaoKT/oazOwdfkCGdU2SMYLQMcuk8RQGNiUY\nPk7R+cdDi7xVNLCR7THzUi2eH/GcvX2bdwGgmqw0ECJirjIIXAMpMc2UrJ+7qlq3\nuH830tE5HSE2s4hCVhcawILbWfKli/apncuQlafdaQIjqYC+5kET8F+QsOQvXLJo\nDAbd/R5Wm1Wy5EIgDte9qZCR3ZFTMD3z4/FiNFWVyl1TmBGeJp78xyk6fhmI8n+0\n4GvLgF61HvETWfdzjWAvpd9SZtrQGJQmqpJhIlL+bmqnwbEadwjYaj/Qb8lNYxQl\nG7jCQA4=\n=esXn\n-----END PGP SIGNATURE-----",
        "payload": "tree 08c0b91fcc058f01d86f0a6d7de3b4d334646de9\nparent fa39cdd072c91eac70cda04b8b26681611f94cb7\nauthor MarcoFalke <falke.marco@gmail.com> 1609695842 +0100\ncommitter MarcoFalke <falke.marco@gmail.com> 1609695511 +0100\n\nrefactor: Use C++17 std::array deduction for ALL_FEE_ESTIMATE_HORIZONS\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aaaa9878405f3f38f4f61c00feca110d7f9ca481",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/aaaa9878405f3f38f4f61c00feca110d7f9ca481",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aaaa9878405f3f38f4f61c00feca110d7f9ca481/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa39cdd072c91eac70cda04b8b26681611f94cb7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa39cdd072c91eac70cda04b8b26681611f94cb7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa39cdd072c91eac70cda04b8b26681611f94cb7"
      }
    ],
    "stats": {
      "total": 27,
      "additions": 14,
      "deletions": 13
    },
    "files": [
      {
        "sha": "c444d71a3139ef745d1735454c1508307b857c58",
        "filename": "src/policy/fees.h",
        "status": "modified",
        "additions": 10,
        "deletions": 3,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/aaaa9878405f3f38f4f61c00feca110d7f9ca481/src/policy/fees.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/aaaa9878405f3f38f4f61c00feca110d7f9ca481/src/policy/fees.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/policy/fees.h?ref=aaaa9878405f3f38f4f61c00feca110d7f9ca481",
        "patch": "@@ -11,6 +11,7 @@\n #include <random.h>\n #include <sync.h>\n \n+#include <array>\n #include <map>\n #include <memory>\n #include <string>\n@@ -25,9 +26,15 @@ class TxConfirmStats;\n /* Identifier for each of the 3 different TxConfirmStats which will track\n  * history over different time horizons. */\n enum class FeeEstimateHorizon {\n-    SHORT_HALFLIFE = 0,\n-    MED_HALFLIFE = 1,\n-    LONG_HALFLIFE = 2\n+    SHORT_HALFLIFE,\n+    MED_HALFLIFE,\n+    LONG_HALFLIFE,\n+};\n+\n+static constexpr auto ALL_FEE_ESTIMATE_HORIZONS = std::array{\n+    FeeEstimateHorizon::SHORT_HALFLIFE,\n+    FeeEstimateHorizon::MED_HALFLIFE,\n+    FeeEstimateHorizon::LONG_HALFLIFE,\n };\n \n std::string StringForFeeEstimateHorizon(FeeEstimateHorizon horizon);"
      },
      {
        "sha": "52e033d0cc49e529b6dec31db731823055ba50a5",
        "filename": "src/rpc/mining.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/aaaa9878405f3f38f4f61c00feca110d7f9ca481/src/rpc/mining.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/aaaa9878405f3f38f4f61c00feca110d7f9ca481/src/rpc/mining.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/mining.cpp?ref=aaaa9878405f3f38f4f61c00feca110d7f9ca481",
        "patch": "@@ -1160,7 +1160,7 @@ static RPCHelpMan estimaterawfee()\n \n     UniValue result(UniValue::VOBJ);\n \n-    for (const FeeEstimateHorizon horizon : {FeeEstimateHorizon::SHORT_HALFLIFE, FeeEstimateHorizon::MED_HALFLIFE, FeeEstimateHorizon::LONG_HALFLIFE}) {\n+    for (const FeeEstimateHorizon horizon : ALL_FEE_ESTIMATE_HORIZONS) {\n         CFeeRate feeRate;\n         EstimationResult buckets;\n "
      },
      {
        "sha": "fa4024fc3864635ffd7a9bec056273ad2d6783b9",
        "filename": "src/test/fuzz/kitchen_sink.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 7,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/aaaa9878405f3f38f4f61c00feca110d7f9ca481/src/test/fuzz/kitchen_sink.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/aaaa9878405f3f38f4f61c00feca110d7f9ca481/src/test/fuzz/kitchen_sink.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/kitchen_sink.cpp?ref=aaaa9878405f3f38f4f61c00feca110d7f9ca481",
        "patch": "@@ -28,12 +28,6 @@ constexpr TransactionError ALL_TRANSACTION_ERROR[] = {\n     TransactionError::SIGHASH_MISMATCH,\n     TransactionError::MAX_FEE_EXCEEDED,\n };\n-\n-constexpr FeeEstimateHorizon ALL_FEE_EST_HORIZON[] = {\n-    FeeEstimateHorizon::SHORT_HALFLIFE,\n-    FeeEstimateHorizon::MED_HALFLIFE,\n-    FeeEstimateHorizon::LONG_HALFLIFE,\n-};\n }; // namespace\n \n // The fuzzing kitchen sink: Fuzzing harness for functions that need to be\n@@ -48,7 +42,7 @@ FUZZ_TARGET(kitchen_sink)\n     (void)RPCErrorFromTransactionError(transaction_error);\n     (void)TransactionErrorString(transaction_error);\n \n-    (void)StringForFeeEstimateHorizon(fuzzed_data_provider.PickValueInArray(ALL_FEE_EST_HORIZON));\n+    (void)StringForFeeEstimateHorizon(fuzzed_data_provider.PickValueInArray(ALL_FEE_ESTIMATE_HORIZONS));\n \n     const OutputType output_type = fuzzed_data_provider.PickValueInArray(OUTPUT_TYPES);\n     const std::string& output_type_string = FormatOutputType(output_type);"
      },
      {
        "sha": "35cfc5230bb070f8d3553051775fb4fbd6af851e",
        "filename": "src/test/fuzz/policy_estimator.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/aaaa9878405f3f38f4f61c00feca110d7f9ca481/src/test/fuzz/policy_estimator.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/aaaa9878405f3f38f4f61c00feca110d7f9ca481/src/test/fuzz/policy_estimator.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/policy_estimator.cpp?ref=aaaa9878405f3f38f4f61c00feca110d7f9ca481",
        "patch": "@@ -66,10 +66,10 @@ FUZZ_TARGET_INIT(policy_estimator, initialize_policy_estimator)\n         }\n         (void)block_policy_estimator.estimateFee(fuzzed_data_provider.ConsumeIntegral<int>());\n         EstimationResult result;\n-        (void)block_policy_estimator.estimateRawFee(fuzzed_data_provider.ConsumeIntegral<int>(), fuzzed_data_provider.ConsumeFloatingPoint<double>(), fuzzed_data_provider.PickValueInArray({FeeEstimateHorizon::SHORT_HALFLIFE, FeeEstimateHorizon::MED_HALFLIFE, FeeEstimateHorizon::LONG_HALFLIFE}), fuzzed_data_provider.ConsumeBool() ? &result : nullptr);\n+        (void)block_policy_estimator.estimateRawFee(fuzzed_data_provider.ConsumeIntegral<int>(), fuzzed_data_provider.ConsumeFloatingPoint<double>(), fuzzed_data_provider.PickValueInArray(ALL_FEE_ESTIMATE_HORIZONS), fuzzed_data_provider.ConsumeBool() ? &result : nullptr);\n         FeeCalculation fee_calculation;\n         (void)block_policy_estimator.estimateSmartFee(fuzzed_data_provider.ConsumeIntegral<int>(), fuzzed_data_provider.ConsumeBool() ? &fee_calculation : nullptr, fuzzed_data_provider.ConsumeBool());\n-        (void)block_policy_estimator.HighestTargetTracked(fuzzed_data_provider.PickValueInArray({FeeEstimateHorizon::SHORT_HALFLIFE, FeeEstimateHorizon::MED_HALFLIFE, FeeEstimateHorizon::LONG_HALFLIFE}));\n+        (void)block_policy_estimator.HighestTargetTracked(fuzzed_data_provider.PickValueInArray(ALL_FEE_ESTIMATE_HORIZONS));\n     }\n     {\n         FuzzedAutoFileProvider fuzzed_auto_file_provider = ConsumeAutoFile(fuzzed_data_provider);"
      }
    ]
  }
]