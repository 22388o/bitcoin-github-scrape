glozow,2020-09-26 16:29:51,@sdaftuar @jnewbery following up on our discussion about `GetTransactionFee` here!,https://github.com/bitcoin/bitcoin/pull/20025#issuecomment-699517479,699517479,
DrahtBot,2020-09-26 21:07:34,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19753 (p2p: don't add AlreadyHave transactions to recentRejects by troygiorshev)\n* #19645 (Allow updating mempool-txn wi",https://github.com/bitcoin/bitcoin/pull/20025#issuecomment-699548015,699548015,
DrahtBot,2020-09-30 15:34:55,"<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a ""draft"".</sub>",https://github.com/bitcoin/bitcoin/pull/20025#issuecomment-701469207,701469207,
glozow,2020-10-01 17:43:18,"> Could this PR also remove the fee return value from ATMP? I think all you'd need to do is call GetTransactionFee() from the testmempoolaccept rpc handler (before the existing call to ATMP(test_accept=true)). That would increase the lines-of-code count slightly, but is cleaner and creates even more separation between the fee stuff and ATMP.\n\nWe just introduced the `fee` return value in #19940",https://github.com/bitcoin/bitcoin/pull/20025#issuecomment-702293576,702293576,
LarryRuane,2020-10-04 20:06:33," ACK 6831972c09837c1a06034eaf63dfc4f3a6f0db6b (last commit only), provisional since this PR needs rebasing onto latest #19339.",https://github.com/bitcoin/bitcoin/pull/20025#issuecomment-703308735,703308735,
LarryRuane,2020-09-30 16:23:40,"I may be missing something, but I think this can be simplified further by dropping the call to ATMP here. Suppose the transaction has _two_ problems, one that `GetTransaction()` catches and another that's outside its scope. `GetTransactionFee()` will return a failure and presumably set `state` appropriately (I didn't verify this, but if it doesn't, that's a bug that should be fixed). I don't see w",https://github.com/bitcoin/bitcoin/pull/20025#discussion_r497640937,497640937,src/node/transaction.cpp
glozow,2020-10-01 17:45:44,"ATMP should be the authority on validation; I don't want to trust anything else with filling in `TxValidationResult`. I think I could make it a little cleaner and have `GetTransactionFee` just not touch state, but `CheckTxInputs` needs it ü§î  ",https://github.com/bitcoin/bitcoin/pull/20025#discussion_r498415454,498415454,src/node/transaction.cpp
