MarcoFalke,2018-09-05T19:13:01Z,"I think addrman would return a larger list that is node-agnostic and then net would filter that list taking into account the node state, no?",https://github.com/bitcoin/bitcoin/pull/14154#issuecomment-418848197,418848197,
DrahtBot,2018-09-05T20:09:11Z,"<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #14033 (p2p: Drop CADDR_TIME_VERSION checks now that MIN_PEER_PROTO_VERSION is greater by Empact)\n* #13115 (addrman: Add Clang thread safety annotations for variables guarded by cs_addrMan by practicalswift)\n\nIf you consider this pull request important, please also help to review ",https://github.com/bitcoin/bitcoin/pull/14154#issuecomment-418864735,418864735,
Empact,2018-09-05T20:20:41Z,"@MarcoFalke the only call to `GetAddr` / `GetAddr_` is in service of this `GETADDR` response:\nhttps://github.com/bitcoin/bitcoin/blob/95d731d9b38819cb822dbcd365972a14ae78d21f/src/net_processing.cpp#L2747-L2750\n\n`PushAddress` just overwrites entry if it's beyond the limit:\nhttps://github.com/bitcoin/bitcoin/blob/95d731d9b38819cb822dbcd365972a14ae78d21f/src/net.h#L816-L828",https://github.com/bitcoin/bitcoin/pull/14154#issuecomment-418867992,418867992,
gmaxwell,2018-09-06T19:06:18Z,I thought the two layer setup was so that multiple probes would get more addresses but not enumerate the whole table.,https://github.com/bitcoin/bitcoin/pull/14154#issuecomment-419207427,419207427,
gmaxwell,2018-09-08T23:21:40Z,@sipa ^,https://github.com/bitcoin/bitcoin/pull/14154#issuecomment-419679357,419679357,
MarcoFalke,2018-09-11T13:36:57Z,"@Empact `PushAddr` will return early when `addrKnown.contains` it. So when `vAddr` is of size 1000, it might very well send less than 1000 addresses back in the response, even though there are plenty to send. No?",https://github.com/bitcoin/bitcoin/pull/14154#issuecomment-420277274,420277274,
Empact,2018-09-12T00:38:08Z,@MarcoFalke yep that sounds like the explanation. Thanks!,https://github.com/bitcoin/bitcoin/pull/14154#issuecomment-420472246,420472246,
practicalswift,2018-09-05T19:50:51Z,When we're editing this file â€“ what about skipping the use of the preprocessor and use proper constants instead? :-),https://github.com/bitcoin/bitcoin/pull/14154#discussion_r215403845,215403845,src/addrman.h
laanwj,2018-09-11T06:32:55Z,"I like changing these to a constant, however ""maximum number of addresses in GETADDR"" is a P2P layer constant, I don't think it should use addrman's internal constant. `src/protocol.h` would be a better place.",https://github.com/bitcoin/bitcoin/pull/14154#discussion_r216558229,216558229,src/net_processing.cpp
