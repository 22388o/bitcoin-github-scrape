[
  {
    "sha": "3215150c9f264ccdf475c6806d308fa1ba63721e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozMjE1MTUwYzlmMjY0Y2NkZjQ3NWM2ODA2ZDMwOGZhMWJhNjM3MjFl",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-10-24T13:24:27Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-10-24T13:24:27Z"
      },
      "message": "prevent GetDataDir() from returning an empty path\n\n- if -datadir= is no directory don't return an empty path, but instead\n  create / use the default data dir\n- check for existance of the final datadir, before trying to create it",
      "tree": {
        "sha": "488a370f2beee3bb55d8ccdc9905e59ac2258fdc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/488a370f2beee3bb55d8ccdc9905e59ac2258fdc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3215150c9f264ccdf475c6806d308fa1ba63721e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3215150c9f264ccdf475c6806d308fa1ba63721e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3215150c9f264ccdf475c6806d308fa1ba63721e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3215150c9f264ccdf475c6806d308fa1ba63721e/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "55913c997112c78d6058edfa210b6275cde853a6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/55913c997112c78d6058edfa210b6275cde853a6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/55913c997112c78d6058edfa210b6275cde853a6"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 8,
      "deletions": 8
    },
    "files": [
      {
        "sha": "092f5988b105fab1c05daa213026ea1e0e5a7671",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 8,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3215150c9f264ccdf475c6806d308fa1ba63721e/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3215150c9f264ccdf475c6806d308fa1ba63721e/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=3215150c9f264ccdf475c6806d308fa1ba63721e",
        "patch": "@@ -1038,19 +1038,19 @@ const boost::filesystem::path &GetDataDir(bool fNetSpecific)\n \n     if (mapArgs.count(\"-datadir\")) {\n         path = fs::system_complete(mapArgs[\"-datadir\"]);\n-        if (!fs::is_directory(path)) {\n-            path = \"\";\n-            return path;\n-        }\n-    } else {\n-        path = GetDefaultDataDir();\n+        if (!fs::is_directory(path))\n+            path = GetDefaultDataDir();\n     }\n+    else\n+        path = GetDefaultDataDir();\n+\n     if (fNetSpecific && GetBoolArg(\"-testnet\", false))\n         path /= \"testnet3\";\n \n-    fs::create_directory(path);\n+    if (!fs::exists(path))\n+        fs::create_directory(path);\n \n-    cachedPath[fNetSpecific]=true;\n+    cachedPath[fNetSpecific] = true;\n     return path;\n }\n "
      }
    ]
  }
]