[
  {
    "sha": "e15b1cfc310df739b92bd281112dbeb31d3bb30a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplMTViMWNmYzMxMGRmNzM5YjkyYmQyODExMTJkYmViMzFkM2JiMzBh",
    "commit": {
      "author": {
        "name": "Daniel Kraft",
        "email": "d@domob.eu",
        "date": "2020-09-01T07:40:13Z"
      },
      "committer": {
        "name": "Daniel Kraft",
        "email": "d@domob.eu",
        "date": "2020-09-07T08:55:06Z"
      },
      "message": "Various cleanups in zmqnotificationinterface.\n\nThis is a pure refactoring of zmqnotificationinterface to make the\ncode easier to read and maintain.  It replaces explicit iterators\nwith C++11 for-each loops where appropriate and uses std::unique_ptr\nto make memory ownership more explicit.",
      "tree": {
        "sha": "5452fc4cf3f80b0463c395fb8099e957deaa555c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5452fc4cf3f80b0463c395fb8099e957deaa555c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e15b1cfc310df739b92bd281112dbeb31d3bb30a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e15b1cfc310df739b92bd281112dbeb31d3bb30a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e15b1cfc310df739b92bd281112dbeb31d3bb30a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e15b1cfc310df739b92bd281112dbeb31d3bb30a/comments",
    "author": {
      "login": "domob1812",
      "id": 4943644,
      "node_id": "MDQ6VXNlcjQ5NDM2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4943644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/domob1812",
      "html_url": "https://github.com/domob1812",
      "followers_url": "https://api.github.com/users/domob1812/followers",
      "following_url": "https://api.github.com/users/domob1812/following{/other_user}",
      "gists_url": "https://api.github.com/users/domob1812/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/domob1812/subscriptions",
      "organizations_url": "https://api.github.com/users/domob1812/orgs",
      "repos_url": "https://api.github.com/users/domob1812/repos",
      "events_url": "https://api.github.com/users/domob1812/events{/privacy}",
      "received_events_url": "https://api.github.com/users/domob1812/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "domob1812",
      "id": 4943644,
      "node_id": "MDQ6VXNlcjQ5NDM2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4943644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/domob1812",
      "html_url": "https://github.com/domob1812",
      "followers_url": "https://api.github.com/users/domob1812/followers",
      "following_url": "https://api.github.com/users/domob1812/following{/other_user}",
      "gists_url": "https://api.github.com/users/domob1812/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/domob1812/subscriptions",
      "organizations_url": "https://api.github.com/users/domob1812/orgs",
      "repos_url": "https://api.github.com/users/domob1812/repos",
      "events_url": "https://api.github.com/users/domob1812/events{/privacy}",
      "received_events_url": "https://api.github.com/users/domob1812/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "78cb45d72251e85db07e8500bbdd2e9460b132b2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/78cb45d72251e85db07e8500bbdd2e9460b132b2",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/78cb45d72251e85db07e8500bbdd2e9460b132b2"
      }
    ],
    "stats": {
      "total": 69,
      "additions": 28,
      "deletions": 41
    },
    "files": [
      {
        "sha": "96e5b3c039044f6d89d16971c6184129a1742017",
        "filename": "src/zmq/zmqnotificationinterface.cpp",
        "status": "modified",
        "additions": 18,
        "deletions": 40,
        "changes": 58,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e15b1cfc310df739b92bd281112dbeb31d3bb30a/src/zmq/zmqnotificationinterface.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e15b1cfc310df739b92bd281112dbeb31d3bb30a/src/zmq/zmqnotificationinterface.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqnotificationinterface.cpp?ref=e15b1cfc310df739b92bd281112dbeb31d3bb30a",
        "patch": "@@ -20,33 +20,26 @@ CZMQNotificationInterface::CZMQNotificationInterface() : pcontext(nullptr)\n CZMQNotificationInterface::~CZMQNotificationInterface()\n {\n     Shutdown();\n-\n-    for (std::list<CZMQAbstractNotifier*>::iterator i=notifiers.begin(); i!=notifiers.end(); ++i)\n-    {\n-        delete *i;\n-    }\n }\n \n std::list<const CZMQAbstractNotifier*> CZMQNotificationInterface::GetActiveNotifiers() const\n {\n     std::list<const CZMQAbstractNotifier*> result;\n-    for (const auto* n : notifiers) {\n-        result.push_back(n);\n+    for (const auto& n : notifiers) {\n+        result.push_back(n.get());\n     }\n     return result;\n }\n \n CZMQNotificationInterface* CZMQNotificationInterface::Create()\n {\n-    CZMQNotificationInterface* notificationInterface = nullptr;\n     std::map<std::string, CZMQNotifierFactory> factories;\n-    std::list<CZMQAbstractNotifier*> notifiers;\n-\n     factories[\"pubhashblock\"] = CZMQAbstractNotifier::Create<CZMQPublishHashBlockNotifier>;\n     factories[\"pubhashtx\"] = CZMQAbstractNotifier::Create<CZMQPublishHashTransactionNotifier>;\n     factories[\"pubrawblock\"] = CZMQAbstractNotifier::Create<CZMQPublishRawBlockNotifier>;\n     factories[\"pubrawtx\"] = CZMQAbstractNotifier::Create<CZMQPublishRawTransactionNotifier>;\n \n+    std::list<std::unique_ptr<CZMQAbstractNotifier>> notifiers;\n     for (const auto& entry : factories)\n     {\n         std::string arg(\"-zmq\" + entry.first);\n@@ -58,23 +51,21 @@ CZMQNotificationInterface* CZMQNotificationInterface::Create()\n             notifier->SetType(entry.first);\n             notifier->SetAddress(address);\n             notifier->SetOutboundMessageHighWaterMark(static_cast<int>(gArgs.GetArg(arg + \"hwm\", CZMQAbstractNotifier::DEFAULT_ZMQ_SNDHWM)));\n-            notifiers.push_back(notifier);\n+            notifiers.emplace_back(notifier);\n         }\n     }\n \n     if (!notifiers.empty())\n     {\n-        notificationInterface = new CZMQNotificationInterface();\n-        notificationInterface->notifiers = notifiers;\n+        std::unique_ptr<CZMQNotificationInterface> notificationInterface(new CZMQNotificationInterface());\n+        notificationInterface->notifiers = std::move(notifiers);\n \n-        if (!notificationInterface->Initialize())\n-        {\n-            delete notificationInterface;\n-            notificationInterface = nullptr;\n+        if (notificationInterface->Initialize()) {\n+            return notificationInterface.release();\n         }\n     }\n \n-    return notificationInterface;\n+    return nullptr;\n }\n \n // Called at startup to conditionally set up ZMQ socket(s)\n@@ -95,26 +86,15 @@ bool CZMQNotificationInterface::Initialize()\n         return false;\n     }\n \n-    std::list<CZMQAbstractNotifier*>::iterator i=notifiers.begin();\n-    for (; i!=notifiers.end(); ++i)\n-    {\n-        CZMQAbstractNotifier *notifier = *i;\n-        if (notifier->Initialize(pcontext))\n-        {\n+    for (auto& notifier : notifiers) {\n+        if (notifier->Initialize(pcontext)) {\n             LogPrint(BCLog::ZMQ, \"zmq: Notifier %s ready (address = %s)\\n\", notifier->GetType(), notifier->GetAddress());\n-        }\n-        else\n-        {\n+        } else {\n             LogPrint(BCLog::ZMQ, \"zmq: Notifier %s failed (address = %s)\\n\", notifier->GetType(), notifier->GetAddress());\n-            break;\n+            return false;\n         }\n     }\n \n-    if (i!=notifiers.end())\n-    {\n-        return false;\n-    }\n-\n     return true;\n }\n \n@@ -124,9 +104,7 @@ void CZMQNotificationInterface::Shutdown()\n     LogPrint(BCLog::ZMQ, \"zmq: Shutdown notification interface\\n\");\n     if (pcontext)\n     {\n-        for (std::list<CZMQAbstractNotifier*>::iterator i=notifiers.begin(); i!=notifiers.end(); ++i)\n-        {\n-            CZMQAbstractNotifier *notifier = *i;\n+        for (auto& notifier : notifiers) {\n             LogPrint(BCLog::ZMQ, \"zmq: Shutdown notifier %s at %s\\n\", notifier->GetType(), notifier->GetAddress());\n             notifier->Shutdown();\n         }\n@@ -141,9 +119,9 @@ void CZMQNotificationInterface::UpdatedBlockTip(const CBlockIndex *pindexNew, co\n     if (fInitialDownload || pindexNew == pindexFork) // In IBD or blocks were disconnected without any new ones\n         return;\n \n-    for (std::list<CZMQAbstractNotifier*>::iterator i = notifiers.begin(); i!=notifiers.end(); )\n+    for (auto i = notifiers.begin(); i!=notifiers.end(); )\n     {\n-        CZMQAbstractNotifier *notifier = *i;\n+        CZMQAbstractNotifier *notifier = i->get();\n         if (notifier->NotifyBlock(pindexNew))\n         {\n             i++;\n@@ -162,9 +140,9 @@ void CZMQNotificationInterface::TransactionAddedToMempool(const CTransactionRef&\n     // all the same external callback.\n     const CTransaction& tx = *ptx;\n \n-    for (std::list<CZMQAbstractNotifier*>::iterator i = notifiers.begin(); i!=notifiers.end(); )\n+    for (auto i = notifiers.begin(); i!=notifiers.end(); )\n     {\n-        CZMQAbstractNotifier *notifier = *i;\n+        CZMQAbstractNotifier *notifier = i->get();\n         if (notifier->NotifyTransaction(tx))\n         {\n             i++;"
      },
      {
        "sha": "0686960ed46246d8179dadb0f39afdb70177c9b3",
        "filename": "src/zmq/zmqnotificationinterface.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e15b1cfc310df739b92bd281112dbeb31d3bb30a/src/zmq/zmqnotificationinterface.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e15b1cfc310df739b92bd281112dbeb31d3bb30a/src/zmq/zmqnotificationinterface.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqnotificationinterface.h?ref=e15b1cfc310df739b92bd281112dbeb31d3bb30a",
        "patch": "@@ -7,6 +7,7 @@\n \n #include <validationinterface.h>\n #include <list>\n+#include <memory>\n \n class CBlockIndex;\n class CZMQAbstractNotifier;\n@@ -34,7 +35,7 @@ class CZMQNotificationInterface final : public CValidationInterface\n     CZMQNotificationInterface();\n \n     void *pcontext;\n-    std::list<CZMQAbstractNotifier*> notifiers;\n+    std::list<std::unique_ptr<CZMQAbstractNotifier>> notifiers;\n };\n \n extern CZMQNotificationInterface* g_zmq_notification_interface;"
      },
      {
        "sha": "aaef12ebcfd8d0a9176268ded4b989285dda2f36",
        "filename": "src/zmq/zmqpublishnotifier.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e15b1cfc310df739b92bd281112dbeb31d3bb30a/src/zmq/zmqpublishnotifier.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e15b1cfc310df739b92bd281112dbeb31d3bb30a/src/zmq/zmqpublishnotifier.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqpublishnotifier.cpp?ref=e15b1cfc310df739b92bd281112dbeb31d3bb30a",
        "patch": "@@ -10,6 +10,14 @@\n #include <util/system.h>\n #include <rpc/server.h>\n \n+#include <zmq.h>\n+\n+#include <cstdarg>\n+#include <cstddef>\n+#include <map>\n+#include <string>\n+#include <utility>\n+\n static std::multimap<std::string, CZMQAbstractPublishNotifier*> mapPublishNotifiers;\n \n static const char *MSG_HASHBLOCK = \"hashblock\";"
      }
    ]
  },
  {
    "sha": "b93b9d54569145bfcec6cee10968284fe05fe254",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiOTNiOWQ1NDU2OTE0NWJmY2VjNmNlZTEwOTY4Mjg0ZmUwNWZlMjU0",
    "commit": {
      "author": {
        "name": "Daniel Kraft",
        "email": "d@domob.eu",
        "date": "2020-09-01T07:40:43Z"
      },
      "committer": {
        "name": "Daniel Kraft",
        "email": "d@domob.eu",
        "date": "2020-09-07T08:55:54Z"
      },
      "message": "Simplify and fix notifier removal on error.\n\nThis factors out the common logic to run over all ZMQ notifiers, call a\nfunction on them, and remove them from the list if the function fails is\nextracted to a helper method.\n\nNote that this also fixes a potential memory leak:  When a notifier was\nremoved previously after its callback returned false, it would just be\nremoved from the list without destructing the object.  This is now done\ncorrectly by std::unique_ptr behind the scenes.",
      "tree": {
        "sha": "189c310dc208a2b6ab3bd633f0a396c3f733b797",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/189c310dc208a2b6ab3bd633f0a396c3f733b797"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b93b9d54569145bfcec6cee10968284fe05fe254",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b93b9d54569145bfcec6cee10968284fe05fe254",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b93b9d54569145bfcec6cee10968284fe05fe254",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b93b9d54569145bfcec6cee10968284fe05fe254/comments",
    "author": {
      "login": "domob1812",
      "id": 4943644,
      "node_id": "MDQ6VXNlcjQ5NDM2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4943644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/domob1812",
      "html_url": "https://github.com/domob1812",
      "followers_url": "https://api.github.com/users/domob1812/followers",
      "following_url": "https://api.github.com/users/domob1812/following{/other_user}",
      "gists_url": "https://api.github.com/users/domob1812/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/domob1812/subscriptions",
      "organizations_url": "https://api.github.com/users/domob1812/orgs",
      "repos_url": "https://api.github.com/users/domob1812/repos",
      "events_url": "https://api.github.com/users/domob1812/events{/privacy}",
      "received_events_url": "https://api.github.com/users/domob1812/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "domob1812",
      "id": 4943644,
      "node_id": "MDQ6VXNlcjQ5NDM2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4943644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/domob1812",
      "html_url": "https://github.com/domob1812",
      "followers_url": "https://api.github.com/users/domob1812/followers",
      "following_url": "https://api.github.com/users/domob1812/following{/other_user}",
      "gists_url": "https://api.github.com/users/domob1812/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/domob1812/subscriptions",
      "organizations_url": "https://api.github.com/users/domob1812/orgs",
      "repos_url": "https://api.github.com/users/domob1812/repos",
      "events_url": "https://api.github.com/users/domob1812/events{/privacy}",
      "received_events_url": "https://api.github.com/users/domob1812/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e15b1cfc310df739b92bd281112dbeb31d3bb30a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e15b1cfc310df739b92bd281112dbeb31d3bb30a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e15b1cfc310df739b92bd281112dbeb31d3bb30a"
      }
    ],
    "stats": {
      "total": 50,
      "additions": 24,
      "deletions": 26
    },
    "files": [
      {
        "sha": "449651e65f682ecb23d78958a52534f8be54d325",
        "filename": "src/zmq/zmqnotificationinterface.cpp",
        "status": "modified",
        "additions": 24,
        "deletions": 26,
        "changes": 50,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b93b9d54569145bfcec6cee10968284fe05fe254/src/zmq/zmqnotificationinterface.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b93b9d54569145bfcec6cee10968284fe05fe254/src/zmq/zmqnotificationinterface.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqnotificationinterface.cpp?ref=b93b9d54569145bfcec6cee10968284fe05fe254",
        "patch": "@@ -114,45 +114,43 @@ void CZMQNotificationInterface::Shutdown()\n     }\n }\n \n-void CZMQNotificationInterface::UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload)\n-{\n-    if (fInitialDownload || pindexNew == pindexFork) // In IBD or blocks were disconnected without any new ones\n-        return;\n+namespace {\n \n-    for (auto i = notifiers.begin(); i!=notifiers.end(); )\n-    {\n-        CZMQAbstractNotifier *notifier = i->get();\n-        if (notifier->NotifyBlock(pindexNew))\n-        {\n-            i++;\n-        }\n-        else\n-        {\n+template <typename Function>\n+void TryForEachAndRemoveFailed(std::list<std::unique_ptr<CZMQAbstractNotifier>>& notifiers, const Function& func)\n+{\n+    for (auto i = notifiers.begin(); i != notifiers.end(); ) {\n+        CZMQAbstractNotifier* notifier = i->get();\n+        if (func(notifier)) {\n+            ++i;\n+        } else {\n             notifier->Shutdown();\n             i = notifiers.erase(i);\n         }\n     }\n }\n \n+} // anonymous namespace\n+\n+void CZMQNotificationInterface::UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload)\n+{\n+    if (fInitialDownload || pindexNew == pindexFork) // In IBD or blocks were disconnected without any new ones\n+        return;\n+\n+    TryForEachAndRemoveFailed(notifiers, [pindexNew](CZMQAbstractNotifier* notifier) {\n+        return notifier->NotifyBlock(pindexNew);\n+    });\n+}\n+\n void CZMQNotificationInterface::TransactionAddedToMempool(const CTransactionRef& ptx)\n {\n     // Used by BlockConnected and BlockDisconnected as well, because they're\n     // all the same external callback.\n     const CTransaction& tx = *ptx;\n \n-    for (auto i = notifiers.begin(); i!=notifiers.end(); )\n-    {\n-        CZMQAbstractNotifier *notifier = i->get();\n-        if (notifier->NotifyTransaction(tx))\n-        {\n-            i++;\n-        }\n-        else\n-        {\n-            notifier->Shutdown();\n-            i = notifiers.erase(i);\n-        }\n-    }\n+    TryForEachAndRemoveFailed(notifiers, [&tx](CZMQAbstractNotifier* notifier) {\n+        return notifier->NotifyTransaction(tx);\n+    });\n }\n \n void CZMQNotificationInterface::BlockConnected(const std::shared_ptr<const CBlock>& pblock, const CBlockIndex* pindexConnected)"
      }
    ]
  },
  {
    "sha": "7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3ZjJhZDFiOWFjZWY0Y2NjMWIzZTFhOWY1NTE0MTYyMzVkOTVjYmZk",
    "commit": {
      "author": {
        "name": "Daniel Kraft",
        "email": "d@domob.eu",
        "date": "2018-07-17T10:36:22Z"
      },
      "committer": {
        "name": "Daniel Kraft",
        "email": "d@domob.eu",
        "date": "2020-09-07T08:55:55Z"
      },
      "message": "Use std::unique_ptr for CZMQNotifierFactory.\n\nInstead of returning a raw pointer from CZMQNotifierFactory and\nimplicitly requiring the caller to know that it has to take ownership,\nreturn a std::unique_ptr to make this explicit.\n\nThis also changes the typedef for CZMQNotifierFactory to use the new\nC++11 using syntax, which makes it (a little) less cryptic.",
      "tree": {
        "sha": "196d1e6dcae168a705e4af1739473485bd6794a3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/196d1e6dcae168a705e4af1739473485bd6794a3"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd/comments",
    "author": {
      "login": "domob1812",
      "id": 4943644,
      "node_id": "MDQ6VXNlcjQ5NDM2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4943644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/domob1812",
      "html_url": "https://github.com/domob1812",
      "followers_url": "https://api.github.com/users/domob1812/followers",
      "following_url": "https://api.github.com/users/domob1812/following{/other_user}",
      "gists_url": "https://api.github.com/users/domob1812/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/domob1812/subscriptions",
      "organizations_url": "https://api.github.com/users/domob1812/orgs",
      "repos_url": "https://api.github.com/users/domob1812/repos",
      "events_url": "https://api.github.com/users/domob1812/events{/privacy}",
      "received_events_url": "https://api.github.com/users/domob1812/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "domob1812",
      "id": 4943644,
      "node_id": "MDQ6VXNlcjQ5NDM2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4943644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/domob1812",
      "html_url": "https://github.com/domob1812",
      "followers_url": "https://api.github.com/users/domob1812/followers",
      "following_url": "https://api.github.com/users/domob1812/following{/other_user}",
      "gists_url": "https://api.github.com/users/domob1812/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/domob1812/subscriptions",
      "organizations_url": "https://api.github.com/users/domob1812/orgs",
      "repos_url": "https://api.github.com/users/domob1812/repos",
      "events_url": "https://api.github.com/users/domob1812/events{/privacy}",
      "received_events_url": "https://api.github.com/users/domob1812/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b93b9d54569145bfcec6cee10968284fe05fe254",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b93b9d54569145bfcec6cee10968284fe05fe254",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b93b9d54569145bfcec6cee10968284fe05fe254"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 11,
      "deletions": 7
    },
    "files": [
      {
        "sha": "8377a26d3adf59b0c57304956ecb7e35cb87b618",
        "filename": "src/zmq/zmqabstractnotifier.h",
        "status": "modified",
        "additions": 7,
        "deletions": 3,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd/src/zmq/zmqabstractnotifier.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd/src/zmq/zmqabstractnotifier.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqabstractnotifier.h?ref=7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd",
        "patch": "@@ -7,10 +7,14 @@\n \n #include <zmq/zmqconfig.h>\n \n+#include <util/memory.h>\n+\n+#include <memory>\n+\n class CBlockIndex;\n class CZMQAbstractNotifier;\n \n-typedef CZMQAbstractNotifier* (*CZMQNotifierFactory)();\n+using CZMQNotifierFactory = std::unique_ptr<CZMQAbstractNotifier> (*)();\n \n class CZMQAbstractNotifier\n {\n@@ -21,9 +25,9 @@ class CZMQAbstractNotifier\n     virtual ~CZMQAbstractNotifier();\n \n     template <typename T>\n-    static CZMQAbstractNotifier* Create()\n+    static std::unique_ptr<CZMQAbstractNotifier> Create()\n     {\n-        return new T();\n+        return MakeUnique<T>();\n     }\n \n     std::string GetType() const { return type; }"
      },
      {
        "sha": "9e9acdc568ac96a8826e2bed2edfefab6a24f1b4",
        "filename": "src/zmq/zmqnotificationinterface.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd/src/zmq/zmqnotificationinterface.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd/src/zmq/zmqnotificationinterface.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqnotificationinterface.cpp?ref=7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd",
        "patch": "@@ -45,13 +45,13 @@ CZMQNotificationInterface* CZMQNotificationInterface::Create()\n         std::string arg(\"-zmq\" + entry.first);\n         if (gArgs.IsArgSet(arg))\n         {\n-            CZMQNotifierFactory factory = entry.second;\n-            std::string address = gArgs.GetArg(arg, \"\");\n-            CZMQAbstractNotifier *notifier = factory();\n+            const auto& factory = entry.second;\n+            const std::string address = gArgs.GetArg(arg, \"\");\n+            std::unique_ptr<CZMQAbstractNotifier> notifier = factory();\n             notifier->SetType(entry.first);\n             notifier->SetAddress(address);\n             notifier->SetOutboundMessageHighWaterMark(static_cast<int>(gArgs.GetArg(arg + \"hwm\", CZMQAbstractNotifier::DEFAULT_ZMQ_SNDHWM)));\n-            notifiers.emplace_back(notifier);\n+            notifiers.push_back(std::move(notifier));\n         }\n     }\n "
      }
    ]
  },
  {
    "sha": "a3ffb6ebebd753cec294c91cef7c603a30cf217e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphM2ZmYjZlYmViZDc1M2NlYzI5NGM5MWNlZjdjNjAzYTMwY2YyMTdl",
    "commit": {
      "author": {
        "name": "Daniel Kraft",
        "email": "d@domob.eu",
        "date": "2018-07-17T10:51:23Z"
      },
      "committer": {
        "name": "Daniel Kraft",
        "email": "d@domob.eu",
        "date": "2020-09-07T08:56:22Z"
      },
      "message": "Replace zmqconfig.h by a simple zmqutil.\n\nzmqconfig.h is currently not really needed anywhere, except that\nit declares zmqError (which is then defined in\nzmqnotificationinterface.cpp).  Note in particular that there is\nno need to conditionally include zmq.h only if ZMQ is enabled, because\nthe place in the core code where the ZMQ library itself is included\n(init.cpp) is conditional already on that.\n\nThis commit removes zmqconfig.h and replaces it by a much simpler\nzmqutil.h library for zmqError.  The definition of the function is\nmoved to the matching (newly created) zmqutil.cpp.",
      "tree": {
        "sha": "2c9924ca5ac65d2c742227eea19163dc4d73b6a7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2c9924ca5ac65d2c742227eea19163dc4d73b6a7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a3ffb6ebebd753cec294c91cef7c603a30cf217e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a3ffb6ebebd753cec294c91cef7c603a30cf217e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a3ffb6ebebd753cec294c91cef7c603a30cf217e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a3ffb6ebebd753cec294c91cef7c603a30cf217e/comments",
    "author": {
      "login": "domob1812",
      "id": 4943644,
      "node_id": "MDQ6VXNlcjQ5NDM2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4943644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/domob1812",
      "html_url": "https://github.com/domob1812",
      "followers_url": "https://api.github.com/users/domob1812/followers",
      "following_url": "https://api.github.com/users/domob1812/following{/other_user}",
      "gists_url": "https://api.github.com/users/domob1812/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/domob1812/subscriptions",
      "organizations_url": "https://api.github.com/users/domob1812/orgs",
      "repos_url": "https://api.github.com/users/domob1812/repos",
      "events_url": "https://api.github.com/users/domob1812/events{/privacy}",
      "received_events_url": "https://api.github.com/users/domob1812/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "domob1812",
      "id": 4943644,
      "node_id": "MDQ6VXNlcjQ5NDM2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4943644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/domob1812",
      "html_url": "https://github.com/domob1812",
      "followers_url": "https://api.github.com/users/domob1812/followers",
      "following_url": "https://api.github.com/users/domob1812/following{/other_user}",
      "gists_url": "https://api.github.com/users/domob1812/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/domob1812/subscriptions",
      "organizations_url": "https://api.github.com/users/domob1812/orgs",
      "repos_url": "https://api.github.com/users/domob1812/repos",
      "events_url": "https://api.github.com/users/domob1812/events{/privacy}",
      "received_events_url": "https://api.github.com/users/domob1812/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd"
      }
    ],
    "stats": {
      "total": 75,
      "additions": 40,
      "deletions": 35
    },
    "files": [
      {
        "sha": "61ae49df3137313706258c85097141ca79898c8c",
        "filename": "src/Makefile.am",
        "status": "modified",
        "additions": 4,
        "deletions": 3,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a3ffb6ebebd753cec294c91cef7c603a30cf217e/src/Makefile.am",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a3ffb6ebebd753cec294c91cef7c603a30cf217e/src/Makefile.am",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.am?ref=a3ffb6ebebd753cec294c91cef7c603a30cf217e",
        "patch": "@@ -262,10 +262,10 @@ BITCOIN_CORE_H = \\\n   walletinitinterface.h \\\n   warnings.h \\\n   zmq/zmqabstractnotifier.h \\\n-  zmq/zmqconfig.h\\\n   zmq/zmqnotificationinterface.h \\\n   zmq/zmqpublishnotifier.h \\\n-  zmq/zmqrpc.h\n+  zmq/zmqrpc.h \\\n+  zmq/zmqutil.h\n \n \n obj/build.h: FORCE\n@@ -344,7 +344,8 @@ libbitcoin_zmq_a_SOURCES = \\\n   zmq/zmqabstractnotifier.cpp \\\n   zmq/zmqnotificationinterface.cpp \\\n   zmq/zmqpublishnotifier.cpp \\\n-  zmq/zmqrpc.cpp\n+  zmq/zmqrpc.cpp \\\n+  zmq/zmqutil.cpp\n endif\n \n "
      },
      {
        "sha": "0d0428f3c028bb5008649d4c550d249ffc02c1d2",
        "filename": "src/zmq/zmqabstractnotifier.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a3ffb6ebebd753cec294c91cef7c603a30cf217e/src/zmq/zmqabstractnotifier.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a3ffb6ebebd753cec294c91cef7c603a30cf217e/src/zmq/zmqabstractnotifier.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqabstractnotifier.cpp?ref=a3ffb6ebebd753cec294c91cef7c603a30cf217e",
        "patch": "@@ -4,6 +4,8 @@\n \n #include <zmq/zmqabstractnotifier.h>\n \n+#include <cassert>\n+\n const int CZMQAbstractNotifier::DEFAULT_ZMQ_SNDHWM;\n \n CZMQAbstractNotifier::~CZMQAbstractNotifier()"
      },
      {
        "sha": "34d7e5ef034ca79adf010d41ba0c2fae177cb594",
        "filename": "src/zmq/zmqabstractnotifier.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a3ffb6ebebd753cec294c91cef7c603a30cf217e/src/zmq/zmqabstractnotifier.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a3ffb6ebebd753cec294c91cef7c603a30cf217e/src/zmq/zmqabstractnotifier.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqabstractnotifier.h?ref=a3ffb6ebebd753cec294c91cef7c603a30cf217e",
        "patch": "@@ -5,13 +5,13 @@\n #ifndef BITCOIN_ZMQ_ZMQABSTRACTNOTIFIER_H\n #define BITCOIN_ZMQ_ZMQABSTRACTNOTIFIER_H\n \n-#include <zmq/zmqconfig.h>\n-\n #include <util/memory.h>\n \n #include <memory>\n+#include <string>\n \n class CBlockIndex;\n+class CTransaction;\n class CZMQAbstractNotifier;\n \n using CZMQNotifierFactory = std::unique_ptr<CZMQAbstractNotifier> (*)();"
      },
      {
        "sha": "5f0036206d64ae0a068f531d029fa731ef938d3e",
        "filename": "src/zmq/zmqconfig.h",
        "status": "removed",
        "additions": 0,
        "deletions": 22,
        "changes": 22,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd/src/zmq/zmqconfig.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd/src/zmq/zmqconfig.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqconfig.h?ref=7f2ad1b9acef4ccc1b3e1a9f551416235d95cbfd",
        "patch": "@@ -1,22 +0,0 @@\n-// Copyright (c) 2014-2019 The Bitcoin Core developers\n-// Distributed under the MIT software license, see the accompanying\n-// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n-\n-#ifndef BITCOIN_ZMQ_ZMQCONFIG_H\n-#define BITCOIN_ZMQ_ZMQCONFIG_H\n-\n-#if defined(HAVE_CONFIG_H)\n-#include <config/bitcoin-config.h>\n-#endif\n-\n-#include <stdarg.h>\n-\n-#if ENABLE_ZMQ\n-#include <zmq.h>\n-#endif\n-\n-#include <primitives/transaction.h>\n-\n-void zmqError(const char *str);\n-\n-#endif // BITCOIN_ZMQ_ZMQCONFIG_H"
      },
      {
        "sha": "a22772baede7b95924ae84796bded87567278e9f",
        "filename": "src/zmq/zmqnotificationinterface.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 5,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a3ffb6ebebd753cec294c91cef7c603a30cf217e/src/zmq/zmqnotificationinterface.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a3ffb6ebebd753cec294c91cef7c603a30cf217e/src/zmq/zmqnotificationinterface.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqnotificationinterface.cpp?ref=a3ffb6ebebd753cec294c91cef7c603a30cf217e",
        "patch": "@@ -4,15 +4,13 @@\n \n #include <zmq/zmqnotificationinterface.h>\n #include <zmq/zmqpublishnotifier.h>\n+#include <zmq/zmqutil.h>\n+\n+#include <zmq.h>\n \n #include <validation.h>\n #include <util/system.h>\n \n-void zmqError(const char *str)\n-{\n-    LogPrint(BCLog::ZMQ, \"zmq: Error: %s, errno=%s\\n\", str, zmq_strerror(errno));\n-}\n-\n CZMQNotificationInterface::CZMQNotificationInterface() : pcontext(nullptr)\n {\n }"
      },
      {
        "sha": "2484fd69889b842aa3a06a04e53f9954856d6438",
        "filename": "src/zmq/zmqpublishnotifier.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 3,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a3ffb6ebebd753cec294c91cef7c603a30cf217e/src/zmq/zmqpublishnotifier.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a3ffb6ebebd753cec294c91cef7c603a30cf217e/src/zmq/zmqpublishnotifier.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqpublishnotifier.cpp?ref=a3ffb6ebebd753cec294c91cef7c603a30cf217e",
        "patch": "@@ -2,13 +2,15 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n+#include <zmq/zmqpublishnotifier.h>\n+\n #include <chain.h>\n #include <chainparams.h>\n+#include <rpc/server.h>\n #include <streams.h>\n-#include <zmq/zmqpublishnotifier.h>\n-#include <validation.h>\n #include <util/system.h>\n-#include <rpc/server.h>\n+#include <validation.h>\n+#include <zmq/zmqutil.h>\n \n #include <zmq.h>\n "
      },
      {
        "sha": "f07a4ae9fd3c5d7160b34f36155dd681f5272582",
        "filename": "src/zmq/zmqutil.cpp",
        "status": "added",
        "additions": 14,
        "deletions": 0,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a3ffb6ebebd753cec294c91cef7c603a30cf217e/src/zmq/zmqutil.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a3ffb6ebebd753cec294c91cef7c603a30cf217e/src/zmq/zmqutil.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqutil.cpp?ref=a3ffb6ebebd753cec294c91cef7c603a30cf217e",
        "patch": "@@ -0,0 +1,14 @@\n+// Copyright (c) 2014-2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <zmq/zmqutil.h>\n+\n+#include <logging.h>\n+\n+#include <zmq.h>\n+\n+void zmqError(const char* str)\n+{\n+    LogPrint(BCLog::ZMQ, \"zmq: Error: %s, errno=%s\\n\", str, zmq_strerror(errno));\n+}"
      },
      {
        "sha": "4c1df5d6db678d0d1e4c9685e24f294300efb886",
        "filename": "src/zmq/zmqutil.h",
        "status": "added",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a3ffb6ebebd753cec294c91cef7c603a30cf217e/src/zmq/zmqutil.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a3ffb6ebebd753cec294c91cef7c603a30cf217e/src/zmq/zmqutil.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqutil.h?ref=a3ffb6ebebd753cec294c91cef7c603a30cf217e",
        "patch": "@@ -0,0 +1,10 @@\n+// Copyright (c) 2014-2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_ZMQ_ZMQUTIL_H\n+#define BITCOIN_ZMQ_ZMQUTIL_H\n+\n+void zmqError(const char* str);\n+\n+#endif // BITCOIN_ZMQ_ZMQUTIL_H"
      }
    ]
  },
  {
    "sha": "6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2ZmUyZWYyYWNiMDBiMWRmN2Y2YTBjMGRlYTFhODFhMTkyNGJlMGUx",
    "commit": {
      "author": {
        "name": "Daniel Kraft",
        "email": "d@domob.eu",
        "date": "2018-11-10T20:05:34Z"
      },
      "committer": {
        "name": "Daniel Kraft",
        "email": "d@domob.eu",
        "date": "2020-09-15T07:38:56Z"
      },
      "message": "scripted-diff: Rename SendMessage to SendZmqMessage.\n\nWindows headers define SendMessage as a macro, which leads to problems\nwith the method name \"SendMessage\".  To circumvent this, we rename the\nmethod to \"SendZmqMessage\".\n\n-BEGIN VERIFY SCRIPT-\nsed -i 's/SendMessage/SendZmqMessage/g' src/zmq/zmqpublishnotifier.*\n-END VERIFY SCRIPT-",
      "tree": {
        "sha": "d9f0ce6b47c8fd30866332940ee86681fbbafe22",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d9f0ce6b47c8fd30866332940ee86681fbbafe22"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1/comments",
    "author": {
      "login": "domob1812",
      "id": 4943644,
      "node_id": "MDQ6VXNlcjQ5NDM2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4943644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/domob1812",
      "html_url": "https://github.com/domob1812",
      "followers_url": "https://api.github.com/users/domob1812/followers",
      "following_url": "https://api.github.com/users/domob1812/following{/other_user}",
      "gists_url": "https://api.github.com/users/domob1812/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/domob1812/subscriptions",
      "organizations_url": "https://api.github.com/users/domob1812/orgs",
      "repos_url": "https://api.github.com/users/domob1812/repos",
      "events_url": "https://api.github.com/users/domob1812/events{/privacy}",
      "received_events_url": "https://api.github.com/users/domob1812/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "domob1812",
      "id": 4943644,
      "node_id": "MDQ6VXNlcjQ5NDM2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4943644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/domob1812",
      "html_url": "https://github.com/domob1812",
      "followers_url": "https://api.github.com/users/domob1812/followers",
      "following_url": "https://api.github.com/users/domob1812/following{/other_user}",
      "gists_url": "https://api.github.com/users/domob1812/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/domob1812/subscriptions",
      "organizations_url": "https://api.github.com/users/domob1812/orgs",
      "repos_url": "https://api.github.com/users/domob1812/repos",
      "events_url": "https://api.github.com/users/domob1812/events{/privacy}",
      "received_events_url": "https://api.github.com/users/domob1812/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a3ffb6ebebd753cec294c91cef7c603a30cf217e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a3ffb6ebebd753cec294c91cef7c603a30cf217e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a3ffb6ebebd753cec294c91cef7c603a30cf217e"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 6,
      "deletions": 6
    },
    "files": [
      {
        "sha": "d4d21b05bada340250fa0cf1278a6eb2d14e5872",
        "filename": "src/zmq/zmqpublishnotifier.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 5,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1/src/zmq/zmqpublishnotifier.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1/src/zmq/zmqpublishnotifier.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqpublishnotifier.cpp?ref=6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
        "patch": "@@ -159,7 +159,7 @@ void CZMQAbstractPublishNotifier::Shutdown()\n     psocket = nullptr;\n }\n \n-bool CZMQAbstractPublishNotifier::SendMessage(const char *command, const void* data, size_t size)\n+bool CZMQAbstractPublishNotifier::SendZmqMessage(const char *command, const void* data, size_t size)\n {\n     assert(psocket);\n \n@@ -183,7 +183,7 @@ bool CZMQPublishHashBlockNotifier::NotifyBlock(const CBlockIndex *pindex)\n     char data[32];\n     for (unsigned int i = 0; i < 32; i++)\n         data[31 - i] = hash.begin()[i];\n-    return SendMessage(MSG_HASHBLOCK, data, 32);\n+    return SendZmqMessage(MSG_HASHBLOCK, data, 32);\n }\n \n bool CZMQPublishHashTransactionNotifier::NotifyTransaction(const CTransaction &transaction)\n@@ -193,7 +193,7 @@ bool CZMQPublishHashTransactionNotifier::NotifyTransaction(const CTransaction &t\n     char data[32];\n     for (unsigned int i = 0; i < 32; i++)\n         data[31 - i] = hash.begin()[i];\n-    return SendMessage(MSG_HASHTX, data, 32);\n+    return SendZmqMessage(MSG_HASHTX, data, 32);\n }\n \n bool CZMQPublishRawBlockNotifier::NotifyBlock(const CBlockIndex *pindex)\n@@ -214,7 +214,7 @@ bool CZMQPublishRawBlockNotifier::NotifyBlock(const CBlockIndex *pindex)\n         ss << block;\n     }\n \n-    return SendMessage(MSG_RAWBLOCK, &(*ss.begin()), ss.size());\n+    return SendZmqMessage(MSG_RAWBLOCK, &(*ss.begin()), ss.size());\n }\n \n bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &transaction)\n@@ -223,5 +223,5 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     LogPrint(BCLog::ZMQ, \"zmq: Publish rawtx %s\\n\", hash.GetHex());\n     CDataStream ss(SER_NETWORK, PROTOCOL_VERSION | RPCSerializationFlags());\n     ss << transaction;\n-    return SendMessage(MSG_RAWTX, &(*ss.begin()), ss.size());\n+    return SendZmqMessage(MSG_RAWTX, &(*ss.begin()), ss.size());\n }"
      },
      {
        "sha": "eb9ae881be0f46caa6a3a38024e574e1b724ce73",
        "filename": "src/zmq/zmqpublishnotifier.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1/src/zmq/zmqpublishnotifier.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1/src/zmq/zmqpublishnotifier.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/zmq/zmqpublishnotifier.h?ref=6fe2ef2acb00b1df7f6a0c0dea1a81a1924be0e1",
        "patch": "@@ -22,7 +22,7 @@ class CZMQAbstractPublishNotifier : public CZMQAbstractNotifier\n           * data\n           * message sequence number\n     */\n-    bool SendMessage(const char *command, const void* data, size_t size);\n+    bool SendZmqMessage(const char *command, const void* data, size_t size);\n \n     bool Initialize(void *pcontext) override;\n     void Shutdown() override;"
      }
    ]
  }
]