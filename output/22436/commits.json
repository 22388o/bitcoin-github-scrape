[
  {
    "sha": "54c7754f3118bcb6ea598246c9c0458043de4af9",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NGM3NzU0ZjMxMThiY2I2ZWE1OTgyNDZjOWMwNDU4MDQzZGU0YWY5",
    "commit": {
      "author": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2021-07-13T09:33:19Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2021-07-13T12:21:58Z"
      },
      "message": "build: use aarch64 Clang if cross-compiling for darwin on aarch64\n\nIf we're cross-compiling for darwin on aarch64 hardware, we need need to\nuse a Clang that will run on that hardware.\n\nOnly tested in a Linux Docker container (aarch64-unknown-linux-gnu),\nrunning on an Apple M1 mac-mini (aarch64-apple-darwin20.5.0).",
      "tree": {
        "sha": "7dc9746c611f97eee193d2c7acdafd19ed82cb4e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7dc9746c611f97eee193d2c7acdafd19ed82cb4e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/54c7754f3118bcb6ea598246c9c0458043de4af9",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAmDthpoACgkQLuufXMCV\nJsHV3hAAvJ12HN0/mZkJl633O2K5N8I77tJl87eHjxlxnXOpcZ9b1V++8I1fmi42\n4Q0Xn/vp/Nl4HfJmF2aeeOZvSL6PwCTbHsPXKobGLPtX/dUUs4+Dg3a6jGGc5ocR\nz9PR3pa9rqJLK+gmHtERtU+tlEfnWWqseiqiLNfwG0Ed+n4KqsbUHgVDr6cmwl4U\nzGomVRSwyMFFn4/DVJSlfgu8QMAkq8bsY0yClZzCPiQ3n0odDXV1kgoi6MQDsgZY\n82b/uRTN+Uo929GflfCOzXNLNG+a3wBlkUPVJ1vUNDvVRJTWKwxMuLYXuS6eNCEY\nhayNIEIbDDo8bhbP2PstOmY8EteqzkdUccPeA81GstU+2uKqcyzJsAvwxrwlLsxP\n2twYZsWZzpfKjht7/ZbzD5swh9fd7RR+FXBDIcnEdqXUkj/BBmKHPgiOBdkgTal8\nCcIBVh5zVy/9x/DZtCXPqkGCJiFmEuQbq8whFbDT6Zjs42ejm9Znj/WyfXLozm8A\nMJ78iKpmSfzZ4nPd5xnE9+vKLnFgpORhdYjh53lxMbI9YXtrGW4zQX2ciOXfGbEA\nASEiMnjr13Qih81krBmQeVGBkoUrRhH/G85MRvUvWC9WCy1sdW9yPGT0pv//08rU\n01RxUchrmzBAzuCFpvfLfzAplfpKA73nA/Y278okq68eqcrDj/k=\n=qOjD\n-----END PGP SIGNATURE-----",
        "payload": "tree 7dc9746c611f97eee193d2c7acdafd19ed82cb4e\nparent 7e1ba37b5daceda222b138cbf61bbdeda87d21fd\nauthor fanquake <fanquake@gmail.com> 1626168799 +0800\ncommitter fanquake <fanquake@gmail.com> 1626178918 +0800\n\nbuild: use aarch64 Clang if cross-compiling for darwin on aarch64\n\nIf we're cross-compiling for darwin on aarch64 hardware, we need need to\nuse a Clang that will run on that hardware.\n\nOnly tested in a Linux Docker container (aarch64-unknown-linux-gnu),\nrunning on an Apple M1 mac-mini (aarch64-apple-darwin20.5.0).\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/54c7754f3118bcb6ea598246c9c0458043de4af9",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/54c7754f3118bcb6ea598246c9c0458043de4af9",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/54c7754f3118bcb6ea598246c9c0458043de4af9/comments",
    "author": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7e1ba37b5daceda222b138cbf61bbdeda87d21fd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7e1ba37b5daceda222b138cbf61bbdeda87d21fd",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7e1ba37b5daceda222b138cbf61bbdeda87d21fd"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 6,
      "deletions": 0
    },
    "files": [
      {
        "sha": "25ac77c1a34ad8350050a3563a205f950a5c13ae",
        "filename": "depends/packages/native_clang.mk",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/54c7754f3118bcb6ea598246c9c0458043de4af9/depends/packages/native_clang.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/54c7754f3118bcb6ea598246c9c0458043de4af9/depends/packages/native_clang.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/native_clang.mk?ref=54c7754f3118bcb6ea598246c9c0458043de4af9",
        "patch": "@@ -1,9 +1,15 @@\n package=native_clang\n $(package)_version=10.0.1\n $(package)_download_path=https://github.com/llvm/llvm-project/releases/download/llvmorg-$($(package)_version)\n+ifneq (,$(findstring aarch64,$(BUILD)))\n+$(package)_download_file=clang+llvm-$($(package)_version)-aarch64-linux-gnu.tar.xz\n+$(package)_file_name=clang+llvm-$($(package)_version)-aarch64-linux-gnu.tar.xz\n+$(package)_sha256_hash=90dc69a4758ca15cd0ffa45d07fbf5bf4309d47d2c7745a9f0735ecffde9c31f\n+else\n $(package)_download_file=clang+llvm-$($(package)_version)-x86_64-linux-gnu-ubuntu-16.04.tar.xz\n $(package)_file_name=clang+llvm-$($(package)_version)-x86_64-linux-gnu-ubuntu-16.04.tar.xz\n $(package)_sha256_hash=48b83ef827ac2c213d5b64f5ad7ed082c8bcb712b46644e0dc5045c6f462c231\n+endif\n \n define $(package)_preprocess_cmds\n   rm -f $($(package)_extract_dir)/lib/libc++abi.so*"
      }
    ]
  }
]