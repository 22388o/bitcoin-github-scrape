[
  {
    "sha": "faefed8cd5d26a485f5f6df824d7c90967c826f3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWVmZWQ4Y2Q1ZDI2YTQ4NWY1ZjZkZjgyNGQ3YzkwOTY3YzgyNmYz",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-01-12T16:51:14Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-02-11T08:39:32Z"
      },
      "message": "fuzz: Count message type fuzzers before main()",
      "tree": {
        "sha": "6b6f740b50c265f3db89ae9f02997c288cd24c60",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6b6f740b50c265f3db89ae9f02997c288cd24c60"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faefed8cd5d26a485f5f6df824d7c90967c826f3",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgZNwv+J+0y9HqpowHr2PvMaYm7tVFjgrjmj2SBt5gYVVn0XLyopMnepccgjVAJ\nQRW1IZBj8C+VcBeU1i0cn2GSCalvcKM2P36LcRyUd+dAZN7qmLYPUjlD5QBO3Ray\nPicenD6CAELezK6AXmZGMF7tlpyaa18m62AfeVc3NuN99i4Sn/KlGW5+nZiMh1xO\n8DnSqJfi0HH12b8eKGALXbN7aFt63WZ1lumSlk1YVVbwxz9+yWW7o5dARGDr5kYJ\nBCz79lPaRiCY7V0AopY0pVssx5ZUE2VuohWU5l8uMXt59sdUM2/qcNcn/6BGzJG4\nPsEumMtfUa7wgDp0XSySpzvsUAVRzVgr3VbX6yAzqp9wNsbZE7CLNV3Q6djPcuLq\nMZHNOHXHCnVwocHFE/Am/NZmvqg9DqsaV7krHv7Ryxp3KYnDmg0DjEMloxlo67c3\ntKf95BNcwvsrKKdTMDKBIQrvBfK4clE3LFgCDeFRgAieZb9JJtjB+/FJi4/5MyLa\nQ9z6Fyol\n=l6RL\n-----END PGP SIGNATURE-----",
        "payload": "tree 6b6f740b50c265f3db89ae9f02997c288cd24c60\nparent b69eab9025678654acd0dda1861152c239f07699\nauthor MarcoFalke <falke.marco@gmail.com> 1610470274 +0100\ncommitter MarcoFalke <falke.marco@gmail.com> 1613032772 +0100\n\nfuzz: Count message type fuzzers before main()\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faefed8cd5d26a485f5f6df824d7c90967c826f3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/faefed8cd5d26a485f5f6df824d7c90967c826f3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faefed8cd5d26a485f5f6df824d7c90967c826f3/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b69eab9025678654acd0dda1861152c239f07699",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b69eab9025678654acd0dda1861152c239f07699",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b69eab9025678654acd0dda1861152c239f07699"
      }
    ],
    "stats": {
      "total": 65,
      "additions": 41,
      "deletions": 24
    },
    "files": [
      {
        "sha": "e5b796b3c1e877367426e929261ec1ddb4868bcf",
        "filename": "src/test/fuzz/process_message.cpp",
        "status": "modified",
        "additions": 41,
        "deletions": 24,
        "changes": 65,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faefed8cd5d26a485f5f6df824d7c90967c826f3/src/test/fuzz/process_message.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faefed8cd5d26a485f5f6df824d7c90967c826f3/src/test/fuzz/process_message.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/process_message.cpp?ref=faefed8cd5d26a485f5f6df824d7c90967c826f3",
        "patch": "@@ -35,6 +35,23 @@ namespace {\n const TestingSetup* g_setup;\n } // namespace\n \n+size_t& GetNumMsgTypes()\n+{\n+    static size_t g_num_msg_types{0};\n+    return g_num_msg_types;\n+}\n+#define FUZZ_TARGET_MSG(msg_type)                                            \\\n+    struct msg_type##_Count_Before_Main {                                    \\\n+        msg_type##_Count_Before_Main()                                       \\\n+        {                                                                    \\\n+            ++GetNumMsgTypes();                                              \\\n+        }                                                                    \\\n+    } const static g_##msg_type##_count_before_main;                         \\\n+    FUZZ_TARGET_INIT(process_message_##msg_type, initialize_process_message) \\\n+    {                                                                        \\\n+        fuzz_target(buffer, #msg_type);                                      \\\n+    }\n+\n void initialize_process_message()\n {\n     static const auto testing_setup = MakeFuzzingContext<const TestingSetup>();\n@@ -86,27 +103,27 @@ void fuzz_target(FuzzBufferType buffer, const std::string& LIMIT_TO_MESSAGE_TYPE\n }\n \n FUZZ_TARGET_INIT(process_message, initialize_process_message) { fuzz_target(buffer, \"\"); }\n-FUZZ_TARGET_INIT(process_message_addr, initialize_process_message) { fuzz_target(buffer, \"addr\"); }\n-FUZZ_TARGET_INIT(process_message_block, initialize_process_message) { fuzz_target(buffer, \"block\"); }\n-FUZZ_TARGET_INIT(process_message_blocktxn, initialize_process_message) { fuzz_target(buffer, \"blocktxn\"); }\n-FUZZ_TARGET_INIT(process_message_cmpctblock, initialize_process_message) { fuzz_target(buffer, \"cmpctblock\"); }\n-FUZZ_TARGET_INIT(process_message_feefilter, initialize_process_message) { fuzz_target(buffer, \"feefilter\"); }\n-FUZZ_TARGET_INIT(process_message_filteradd, initialize_process_message) { fuzz_target(buffer, \"filteradd\"); }\n-FUZZ_TARGET_INIT(process_message_filterclear, initialize_process_message) { fuzz_target(buffer, \"filterclear\"); }\n-FUZZ_TARGET_INIT(process_message_filterload, initialize_process_message) { fuzz_target(buffer, \"filterload\"); }\n-FUZZ_TARGET_INIT(process_message_getaddr, initialize_process_message) { fuzz_target(buffer, \"getaddr\"); }\n-FUZZ_TARGET_INIT(process_message_getblocks, initialize_process_message) { fuzz_target(buffer, \"getblocks\"); }\n-FUZZ_TARGET_INIT(process_message_getblocktxn, initialize_process_message) { fuzz_target(buffer, \"getblocktxn\"); }\n-FUZZ_TARGET_INIT(process_message_getdata, initialize_process_message) { fuzz_target(buffer, \"getdata\"); }\n-FUZZ_TARGET_INIT(process_message_getheaders, initialize_process_message) { fuzz_target(buffer, \"getheaders\"); }\n-FUZZ_TARGET_INIT(process_message_headers, initialize_process_message) { fuzz_target(buffer, \"headers\"); }\n-FUZZ_TARGET_INIT(process_message_inv, initialize_process_message) { fuzz_target(buffer, \"inv\"); }\n-FUZZ_TARGET_INIT(process_message_mempool, initialize_process_message) { fuzz_target(buffer, \"mempool\"); }\n-FUZZ_TARGET_INIT(process_message_notfound, initialize_process_message) { fuzz_target(buffer, \"notfound\"); }\n-FUZZ_TARGET_INIT(process_message_ping, initialize_process_message) { fuzz_target(buffer, \"ping\"); }\n-FUZZ_TARGET_INIT(process_message_pong, initialize_process_message) { fuzz_target(buffer, \"pong\"); }\n-FUZZ_TARGET_INIT(process_message_sendcmpct, initialize_process_message) { fuzz_target(buffer, \"sendcmpct\"); }\n-FUZZ_TARGET_INIT(process_message_sendheaders, initialize_process_message) { fuzz_target(buffer, \"sendheaders\"); }\n-FUZZ_TARGET_INIT(process_message_tx, initialize_process_message) { fuzz_target(buffer, \"tx\"); }\n-FUZZ_TARGET_INIT(process_message_verack, initialize_process_message) { fuzz_target(buffer, \"verack\"); }\n-FUZZ_TARGET_INIT(process_message_version, initialize_process_message) { fuzz_target(buffer, \"version\"); }\n+FUZZ_TARGET_MSG(addr);\n+FUZZ_TARGET_MSG(block);\n+FUZZ_TARGET_MSG(blocktxn);\n+FUZZ_TARGET_MSG(cmpctblock);\n+FUZZ_TARGET_MSG(feefilter);\n+FUZZ_TARGET_MSG(filteradd);\n+FUZZ_TARGET_MSG(filterclear);\n+FUZZ_TARGET_MSG(filterload);\n+FUZZ_TARGET_MSG(getaddr);\n+FUZZ_TARGET_MSG(getblocks);\n+FUZZ_TARGET_MSG(getblocktxn);\n+FUZZ_TARGET_MSG(getdata);\n+FUZZ_TARGET_MSG(getheaders);\n+FUZZ_TARGET_MSG(headers);\n+FUZZ_TARGET_MSG(inv);\n+FUZZ_TARGET_MSG(mempool);\n+FUZZ_TARGET_MSG(notfound);\n+FUZZ_TARGET_MSG(ping);\n+FUZZ_TARGET_MSG(pong);\n+FUZZ_TARGET_MSG(sendcmpct);\n+FUZZ_TARGET_MSG(sendheaders);\n+FUZZ_TARGET_MSG(tx);\n+FUZZ_TARGET_MSG(verack);\n+FUZZ_TARGET_MSG(version);"
      }
    ]
  },
  {
    "sha": "fa4bc897fc9332a5666ca2f3e78492cd67ee6128",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTRiYzg5N2ZjOTMzMmE1NjY2Y2EyZjNlNzg0OTJjZDY3ZWU2MTI4",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-01-12T17:23:59Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-02-11T08:40:41Z"
      },
      "message": "fuzz: Fail if message type is not fuzzed",
      "tree": {
        "sha": "58d19207d6ee25b43a7c0d57940be7cad638e1c4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/58d19207d6ee25b43a7c0d57940be7cad638e1c4"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa4bc897fc9332a5666ca2f3e78492cd67ee6128",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUiGYwv/Y43zUzhQeVs0tp/vRwalx5cyCXu+fQ5rbj6EzyC978h5YidgCK+VuBnU\nTchOiLdb9jqBm86Tp/J0bF5+5hSX9I8MfCSyyuvjkGpy3Xulr1VABn1+E7L1217F\noxabzRbLtjGTWHB34+tYKqgH/e7zqa2qaA/W8aLB2rP3JhhhAeaXLLtdtu3yGvMY\nNTEuiO+lIHICoh2Yj+mu4kLZz5zVUcmyAQclrtlHY+aE8KvgWmy2hguO6qdpL4L/\ngao7872+DM+NJ/JPBa086Gw5+wAN0OtlKr3RtcjAdjpke9miXo1+af8S9vH2CLKW\nBBvxyOWUiQ1XOymNVqU7Nb8rsxQenFI4N618m4/rduHWh8AIsEiFRzq0m+BoF0q1\nkDeqeAUBV6z6zdTOi0VlJ/lKJGMMdOaDiH1jsrZ0V4HNPXJK+s8RiGAeyCujRLxV\nhd/iXLYIfiaXgJXqfMNlmVA6wGUyJ4zHibMBDF6ipd6uG3duKOm5CTeBZ5EjUlYc\nssR0klLR\n=TVSH\n-----END PGP SIGNATURE-----",
        "payload": "tree 58d19207d6ee25b43a7c0d57940be7cad638e1c4\nparent faefed8cd5d26a485f5f6df824d7c90967c826f3\nauthor MarcoFalke <falke.marco@gmail.com> 1610472239 +0100\ncommitter MarcoFalke <falke.marco@gmail.com> 1613032841 +0100\n\nfuzz: Fail if message type is not fuzzed\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa4bc897fc9332a5666ca2f3e78492cd67ee6128",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa4bc897fc9332a5666ca2f3e78492cd67ee6128",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa4bc897fc9332a5666ca2f3e78492cd67ee6128/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "faefed8cd5d26a485f5f6df824d7c90967c826f3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faefed8cd5d26a485f5f6df824d7c90967c826f3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/faefed8cd5d26a485f5f6df824d7c90967c826f3"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 12,
      "deletions": 0
    },
    "files": [
      {
        "sha": "667ed424477aa4b66cdf9c78972a897cd3526079",
        "filename": "src/test/fuzz/process_message.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa4bc897fc9332a5666ca2f3e78492cd67ee6128/src/test/fuzz/process_message.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa4bc897fc9332a5666ca2f3e78492cd67ee6128/src/test/fuzz/process_message.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/process_message.cpp?ref=fa4bc897fc9332a5666ca2f3e78492cd67ee6128",
        "patch": "@@ -54,6 +54,8 @@ size_t& GetNumMsgTypes()\n \n void initialize_process_message()\n {\n+    Assert(GetNumMsgTypes() == getAllNetMessageTypes().size()); // If this fails, add or remove the message type below\n+\n     static const auto testing_setup = MakeFuzzingContext<const TestingSetup>();\n     g_setup = testing_setup.get();\n     for (int i = 0; i < 2 * COINBASE_MATURITY; i++) {\n@@ -104,8 +106,12 @@ void fuzz_target(FuzzBufferType buffer, const std::string& LIMIT_TO_MESSAGE_TYPE\n \n FUZZ_TARGET_INIT(process_message, initialize_process_message) { fuzz_target(buffer, \"\"); }\n FUZZ_TARGET_MSG(addr);\n+FUZZ_TARGET_MSG(addrv2);\n FUZZ_TARGET_MSG(block);\n FUZZ_TARGET_MSG(blocktxn);\n+FUZZ_TARGET_MSG(cfcheckpt);\n+FUZZ_TARGET_MSG(cfheaders);\n+FUZZ_TARGET_MSG(cfilter);\n FUZZ_TARGET_MSG(cmpctblock);\n FUZZ_TARGET_MSG(feefilter);\n FUZZ_TARGET_MSG(filteradd);\n@@ -114,16 +120,22 @@ FUZZ_TARGET_MSG(filterload);\n FUZZ_TARGET_MSG(getaddr);\n FUZZ_TARGET_MSG(getblocks);\n FUZZ_TARGET_MSG(getblocktxn);\n+FUZZ_TARGET_MSG(getcfcheckpt);\n+FUZZ_TARGET_MSG(getcfheaders);\n+FUZZ_TARGET_MSG(getcfilters);\n FUZZ_TARGET_MSG(getdata);\n FUZZ_TARGET_MSG(getheaders);\n FUZZ_TARGET_MSG(headers);\n FUZZ_TARGET_MSG(inv);\n FUZZ_TARGET_MSG(mempool);\n+FUZZ_TARGET_MSG(merkleblock);\n FUZZ_TARGET_MSG(notfound);\n FUZZ_TARGET_MSG(ping);\n FUZZ_TARGET_MSG(pong);\n+FUZZ_TARGET_MSG(sendaddrv2);\n FUZZ_TARGET_MSG(sendcmpct);\n FUZZ_TARGET_MSG(sendheaders);\n FUZZ_TARGET_MSG(tx);\n FUZZ_TARGET_MSG(verack);\n FUZZ_TARGET_MSG(version);\n+FUZZ_TARGET_MSG(wtxidrelay);"
      }
    ]
  }
]