[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/490166457",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#issuecomment-490166457",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14049",
    "id": 490166457,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDE2NjQ1Nw==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-07T17:06:36Z",
    "updated_at": "2019-05-07T17:06:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--5d09a71f8925f3f132321140b44b946d-->The last travis run for this pull request was 252 days ago and is thus outdated. To trigger a fresh travis build, this pull request should be closed and re-opened.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/490166457/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519844572",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#issuecomment-519844572",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14049",
    "id": 519844572,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTg0NDU3Mg==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-09T09:09:17Z",
    "updated_at": "2019-08-09T09:09:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16573](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16573.html) (build: disable building libsecp256k1 benchmarks by fanquake)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519844572/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/520058776",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#issuecomment-520058776",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14049",
    "id": 520058776,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMDA1ODc3Ng==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-09T20:48:28Z",
    "updated_at": "2019-08-09T20:48:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/520058776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/637663909",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#issuecomment-637663909",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14049",
    "id": 637663909,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNzY2MzkwOQ==",
    "user": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?u=62e3204f6586795420395a7059ec7dc7c4a40c7d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-02T16:26:01Z",
    "updated_at": "2020-06-02T16:29:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased this PR for you :relaxed:: https://github.com/bitcoin/bitcoin/compare/master...dongcarl:2020-06-bip151_ecdh-rebased",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/637663909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/901069356",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#issuecomment-901069356",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14049",
    "id": 901069356,
    "node_id": "IC_kwDOABII5841tTos",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?u=a0e0040aacd7d4f0787481e8ac30b494fa429e11&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-18T12:24:41Z",
    "updated_at": "2021-08-18T12:24:41Z",
    "author_association": "MEMBER",
    "body": "My understanding is that someone else is helping with / taking over these changes, and that the BIP is still being overhauled. \r\nI think we'll be better off with new PRs, and clean discussion when work on the implementation resumes in this repo.\r\nChanges from here are be cherry-picked if / when needed. So I'm going to close this PR for now. ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/901069356/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212684014",
    "pull_request_review_id": 149372816,
    "id": 212684014,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjY4NDAxNA==",
    "diff_hunk": "@@ -150,6 +150,14 @@ BOOST_AUTO_TEST_CASE(key_test1)\n     BOOST_CHECK(key2C.SignCompact(hashMsg, detsigc));\n     BOOST_CHECK(detsig == ParseHex(\"1c52d8a32079c11e79db95af63bb9600c5b04f21a9ca33dc129c2bfa8ac9dc1cd561d8ae5e0f6c1a16bde3719c64c2fd70e404b6428ab9a69566962e8771b5944d\"));\n     BOOST_CHECK(detsigc == ParseHex(\"2052d8a32079c11e79db95af63bb9600c5b04f21a9ca33dc129c2bfa8ac9dc1cd561d8ae5e0f6c1a16bde3719c64c2fd70e404b6428ab9a69566962e8771b5944d\"));\n+\n+    // test EC Diffie-Hellman secret computation\n+    CPrivKey secret1;\n+    CPrivKey secret2;\n+    BOOST_CHECK(key1.ComputeECDHSecret(pubkey2, secret1));\n+    BOOST_CHECK(key2.ComputeECDHSecret(pubkey1, secret2));\n+    BOOST_CHECK(secret1.size() == 32);\n+    BOOST_CHECK(secret1 == secret2);\n }",
    "path": "src/test/key_tests.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "4a97faa231935180c2185b4027144c8b317273dc",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Needs a test where the pubkey doesn't decode.",
    "created_at": "2018-08-24T16:29:57Z",
    "updated_at": "2018-08-28T08:31:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212684014",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212684014"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212684014"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212684014/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 173,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212777152",
    "pull_request_review_id": 149487433,
    "id": 212777152,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjc3NzE1Mg==",
    "diff_hunk": "@@ -285,6 +286,17 @@ bool CKey::Derive(CKey& keyChild, ChainCode &ccChild, unsigned int nChild, const\n     return ret;\n }\n \n+bool CKey::ComputeECDHSecret(const CPubKey& pubkey, CPrivKey& secret_out) const\n+{\n+    secp256k1_pubkey pubkey_internal;\n+    if (!secp256k1_ec_pubkey_parse(secp256k1_context_sign, &pubkey_internal, pubkey.data(), pubkey.size())) {\n+        return false;\n+    }\n+\n+    secret_out.resize(32);\n+    return secp256k1_ecdh(secp256k1_context_sign, &secret_out[0], &pubkey_internal, &keydata[0]) == 1;",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 20,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "4a97faa231935180c2185b4027144c8b317273dc",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is it better to pass a `SECP256K1_CONTEXT_NONE` context, given the context is not currently used by these functions?",
    "created_at": "2018-08-24T23:38:14Z",
    "updated_at": "2018-08-28T08:31:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212777152",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212777152"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212777152"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212777152/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 297,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212788466",
    "pull_request_review_id": 149500207,
    "id": 212788466,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjc4ODQ2Ng==",
    "diff_hunk": "@@ -285,6 +286,17 @@ bool CKey::Derive(CKey& keyChild, ChainCode &ccChild, unsigned int nChild, const\n     return ret;\n }\n \n+bool CKey::ComputeECDHSecret(const CPubKey& pubkey, CPrivKey& secret_out) const\n+{\n+    secp256k1_pubkey pubkey_internal;\n+    if (!secp256k1_ec_pubkey_parse(secp256k1_context_sign, &pubkey_internal, pubkey.data(), pubkey.size())) {\n+        return false;\n+    }\n+\n+    secret_out.resize(32);\n+    return secp256k1_ecdh(secp256k1_context_sign, &secret_out[0], &pubkey_internal, &keydata[0]) == 1;",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 20,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "4a97faa231935180c2185b4027144c8b317273dc",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "That would require creating a dummy context just for this purpose, so I don't think that would be best.",
    "created_at": "2018-08-25T04:32:11Z",
    "updated_at": "2018-08-28T08:31:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212788466",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212788466"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212788466"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212788466/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 297,
    "side": "RIGHT",
    "in_reply_to_id": 212777152
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212817244",
    "pull_request_review_id": 149529423,
    "id": 212817244,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjgxNzI0NA==",
    "diff_hunk": "@@ -128,6 +128,9 @@ class CKey\n     //! Derive BIP32 child key.\n     bool Derive(CKey& keyChild, ChainCode &ccChild, unsigned int nChild, const ChainCode& cc) const;\n \n+    // computes an EC Diffie-Hellman 256bit secret\n+    bool ComputeECDHSecret(const CPubKey& pubkey, CPrivKey& secret_out) const;",
    "path": "src/key.h",
    "position": 5,
    "original_position": 5,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "4a97faa231935180c2185b4027144c8b317273dc",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Extract `ComputeECDHSecret` from `CKey` to make it a freestanding function? \r\n```c++\r\nbool ComputeECDHSecret(const CKey& key, const CPubKey& pubkey, CPrivKey& secret_out);\r\n```\r\nAlthough it is convenient to add new BIP responsibilities directly to `CKey`, I would recommend against adding more responsibilities to `CKey` than it already has.\r\n\r\n",
    "created_at": "2018-08-26T07:24:12Z",
    "updated_at": "2018-08-28T08:31:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212817244",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212817244"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212817244"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212817244/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 132,
    "original_line": 132,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212817252",
    "pull_request_review_id": 149529423,
    "id": 212817252,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjgxNzI1Mg==",
    "diff_hunk": "@@ -285,6 +286,17 @@ bool CKey::Derive(CKey& keyChild, ChainCode &ccChild, unsigned int nChild, const\n     return ret;\n }\n \n+bool CKey::ComputeECDHSecret(const CPubKey& pubkey, CPrivKey& secret_out) const\n+{\n+    secp256k1_pubkey pubkey_internal;\n+    if (!secp256k1_ec_pubkey_parse(secp256k1_context_sign, &pubkey_internal, pubkey.data(), pubkey.size())) {\n+        return false;\n+    }\n+\n+    secret_out.resize(32);\n+    return secp256k1_ecdh(secp256k1_context_sign, &secret_out[0], &pubkey_internal, &keydata[0]) == 1;",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 20,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "4a97faa231935180c2185b4027144c8b317273dc",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe replace the `&keydata[0]` argument with `keydata.data()`?",
    "created_at": "2018-08-26T07:24:28Z",
    "updated_at": "2018-08-28T08:31:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212817252",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212817252"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212817252"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212817252/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 297,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212817497",
    "pull_request_review_id": 149529672,
    "id": 212817497,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjgxNzQ5Nw==",
    "diff_hunk": "@@ -285,6 +286,17 @@ bool CKey::Derive(CKey& keyChild, ChainCode &ccChild, unsigned int nChild, const\n     return ret;\n }\n \n+bool CKey::ComputeECDHSecret(const CPubKey& pubkey, CPrivKey& secret_out) const\n+{\n+    secp256k1_pubkey pubkey_internal;\n+    if (!secp256k1_ec_pubkey_parse(secp256k1_context_sign, &pubkey_internal, pubkey.data(), pubkey.size())) {\n+        return false;\n+    }\n+\n+    secret_out.resize(32);\n+    return secp256k1_ecdh(secp256k1_context_sign, &secret_out[0], &pubkey_internal, &keydata[0]) == 1;",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 20,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "4a97faa231935180c2185b4027144c8b317273dc",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe rename `secp256k1_context_sign` to `secp256k1_context`?",
    "created_at": "2018-08-26T07:34:30Z",
    "updated_at": "2018-08-28T08:31:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212817497",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212817497"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212817497"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212817497/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 297,
    "side": "RIGHT",
    "in_reply_to_id": 212777152
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212950004",
    "pull_request_review_id": 149681026,
    "id": 212950004,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjk1MDAwNA==",
    "diff_hunk": "@@ -150,6 +150,14 @@ BOOST_AUTO_TEST_CASE(key_test1)\n     BOOST_CHECK(key2C.SignCompact(hashMsg, detsigc));\n     BOOST_CHECK(detsig == ParseHex(\"1c52d8a32079c11e79db95af63bb9600c5b04f21a9ca33dc129c2bfa8ac9dc1cd561d8ae5e0f6c1a16bde3719c64c2fd70e404b6428ab9a69566962e8771b5944d\"));\n     BOOST_CHECK(detsigc == ParseHex(\"2052d8a32079c11e79db95af63bb9600c5b04f21a9ca33dc129c2bfa8ac9dc1cd561d8ae5e0f6c1a16bde3719c64c2fd70e404b6428ab9a69566962e8771b5944d\"));\n+\n+    // test EC Diffie-Hellman secret computation\n+    CPrivKey secret1;\n+    CPrivKey secret2;\n+    BOOST_CHECK(key1.ComputeECDHSecret(pubkey2, secret1));\n+    BOOST_CHECK(key2.ComputeECDHSecret(pubkey1, secret2));\n+    BOOST_CHECK(secret1.size() == 32);\n+    BOOST_CHECK(secret1 == secret2);\n }",
    "path": "src/test/key_tests.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "4a97faa231935180c2185b4027144c8b317273dc",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Added",
    "created_at": "2018-08-27T11:58:18Z",
    "updated_at": "2018-08-28T08:31:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212950004",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212950004"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212950004"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212950004/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 173,
    "side": "RIGHT",
    "in_reply_to_id": 212684014
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212950033",
    "pull_request_review_id": 149681071,
    "id": 212950033,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjk1MDAzMw==",
    "diff_hunk": "@@ -285,6 +286,17 @@ bool CKey::Derive(CKey& keyChild, ChainCode &ccChild, unsigned int nChild, const\n     return ret;\n }\n \n+bool CKey::ComputeECDHSecret(const CPubKey& pubkey, CPrivKey& secret_out) const\n+{\n+    secp256k1_pubkey pubkey_internal;\n+    if (!secp256k1_ec_pubkey_parse(secp256k1_context_sign, &pubkey_internal, pubkey.data(), pubkey.size())) {\n+        return false;\n+    }\n+\n+    secret_out.resize(32);\n+    return secp256k1_ecdh(secp256k1_context_sign, &secret_out[0], &pubkey_internal, &keydata[0]) == 1;",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 20,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "4a97faa231935180c2185b4027144c8b317273dc",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed.",
    "created_at": "2018-08-27T11:58:29Z",
    "updated_at": "2018-08-28T08:31:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212950033",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212950033"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r212950033"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212950033/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 297,
    "side": "RIGHT",
    "in_reply_to_id": 212817252
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213027446",
    "pull_request_review_id": 149775334,
    "id": 213027446,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMzAyNzQ0Ng==",
    "diff_hunk": "@@ -150,6 +150,14 @@ BOOST_AUTO_TEST_CASE(key_test1)\n     BOOST_CHECK(key2C.SignCompact(hashMsg, detsigc));\n     BOOST_CHECK(detsig == ParseHex(\"1c52d8a32079c11e79db95af63bb9600c5b04f21a9ca33dc129c2bfa8ac9dc1cd561d8ae5e0f6c1a16bde3719c64c2fd70e404b6428ab9a69566962e8771b5944d\"));\n     BOOST_CHECK(detsigc == ParseHex(\"2052d8a32079c11e79db95af63bb9600c5b04f21a9ca33dc129c2bfa8ac9dc1cd561d8ae5e0f6c1a16bde3719c64c2fd70e404b6428ab9a69566962e8771b5944d\"));\n+\n+    // test EC Diffie-Hellman secret computation\n+    CPrivKey secret1;\n+    CPrivKey secret2;\n+    BOOST_CHECK(key1.ComputeECDHSecret(pubkey2, secret1));\n+    BOOST_CHECK(key2.ComputeECDHSecret(pubkey1, secret2));\n+    BOOST_CHECK(secret1.size() == 32);\n+    BOOST_CHECK(secret1 == secret2);\n }",
    "path": "src/test/key_tests.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "4a97faa231935180c2185b4027144c8b317273dc",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks but please also add one that could actually have come in over the wire for BIP151, -- the first byte isn't sent there.  What I'm hoping we check for is that it correctly rejects points that aren't on the curve here, rather than performing operations on the twist.",
    "created_at": "2018-08-27T16:02:25Z",
    "updated_at": "2018-08-28T08:31:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r213027446",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213027446"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r213027446"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/213027446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 173,
    "side": "RIGHT",
    "in_reply_to_id": 212684014
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214533696",
    "pull_request_review_id": 151614128,
    "id": 214533696,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNDUzMzY5Ng==",
    "diff_hunk": "@@ -150,6 +150,14 @@ BOOST_AUTO_TEST_CASE(key_test1)\n     BOOST_CHECK(key2C.SignCompact(hashMsg, detsigc));\n     BOOST_CHECK(detsig == ParseHex(\"1c52d8a32079c11e79db95af63bb9600c5b04f21a9ca33dc129c2bfa8ac9dc1cd561d8ae5e0f6c1a16bde3719c64c2fd70e404b6428ab9a69566962e8771b5944d\"));\n     BOOST_CHECK(detsigc == ParseHex(\"2052d8a32079c11e79db95af63bb9600c5b04f21a9ca33dc129c2bfa8ac9dc1cd561d8ae5e0f6c1a16bde3719c64c2fd70e404b6428ab9a69566962e8771b5944d\"));\n+\n+    // test EC Diffie-Hellman secret computation\n+    CPrivKey secret1;\n+    CPrivKey secret2;\n+    BOOST_CHECK(key1.ComputeECDHSecret(pubkey2, secret1));\n+    BOOST_CHECK(key2.ComputeECDHSecret(pubkey1, secret2));\n+    BOOST_CHECK(secret1.size() == 32);\n+    BOOST_CHECK(secret1 == secret2);\n }",
    "path": "src/test/key_tests.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "4a97faa231935180c2185b4027144c8b317273dc",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The new `pubkeydata[9] = 0xFF;` line checks that, right? Maybe add a comment to clarify?",
    "created_at": "2018-09-02T09:03:03Z",
    "updated_at": "2018-09-02T09:03:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r214533696",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214533696"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r214533696"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214533696/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 173,
    "side": "RIGHT",
    "in_reply_to_id": 212684014
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214533720",
    "pull_request_review_id": 151614161,
    "id": 214533720,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNDUzMzcyMA==",
    "diff_hunk": "@@ -1432,7 +1432,7 @@ if test x$need_bundled_univalue = xyes; then\n   AC_CONFIG_SUBDIRS([src/univalue])\n fi\n \n-ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic --with-bignum=no --enable-module-recovery --disable-jni\"\n+ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic --with-bignum=no --enable-module-recovery --enable-experimental --enable-module-ecdh --disable-jni\"",
    "path": "configure.ac",
    "position": 5,
    "original_position": 5,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is this `--enable-experimental` \"permanent\"? Perhaps this change should be behind a `./configure --enable-experimental-ecdh`, or is overly pedantic? ",
    "created_at": "2018-09-02T09:04:23Z",
    "updated_at": "2018-09-02T09:12:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r214533720",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214533720"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r214533720"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214533720/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1435,
    "original_line": 1435,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220846065",
    "pull_request_review_id": 159348001,
    "id": 220846065,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMDg0NjA2NQ==",
    "diff_hunk": "@@ -1432,7 +1432,7 @@ if test x$need_bundled_univalue = xyes; then\n   AC_CONFIG_SUBDIRS([src/univalue])\n fi\n \n-ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic --with-bignum=no --enable-module-recovery --disable-jni\"\n+ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic --with-bignum=no --enable-module-recovery --enable-experimental --enable-module-ecdh --disable-jni\"",
    "path": "configure.ac",
    "position": 5,
    "original_position": 5,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It's an upstream question. Should be asked at https://github.com/bitcoin-core/secp256k1",
    "created_at": "2018-09-27T09:03:40Z",
    "updated_at": "2018-09-27T09:03:41Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r220846065",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220846065"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r220846065"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220846065/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1435,
    "original_line": 1435,
    "side": "RIGHT",
    "in_reply_to_id": 214533720
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220846385",
    "pull_request_review_id": 159348371,
    "id": 220846385,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMDg0NjM4NQ==",
    "diff_hunk": "@@ -128,6 +128,9 @@ class CKey\n     //! Derive BIP32 child key.\n     bool Derive(CKey& keyChild, ChainCode &ccChild, unsigned int nChild, const ChainCode& cc) const;\n \n+    // computes an EC Diffie-Hellman 256bit secret\n+    bool ComputeECDHSecret(const CPubKey& pubkey, CPrivKey& secret_out) const;",
    "path": "src/key.h",
    "position": 5,
    "original_position": 5,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "4a97faa231935180c2185b4027144c8b317273dc",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think this makes sense to be a member function (in align with `Derive` and other member functions of `CKey`).",
    "created_at": "2018-09-27T09:04:42Z",
    "updated_at": "2018-09-27T09:04:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r220846385",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220846385"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r220846385"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220846385/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 132,
    "original_line": 132,
    "side": "RIGHT",
    "in_reply_to_id": 212817244
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220903405",
    "pull_request_review_id": 159420042,
    "id": 220903405,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMDkwMzQwNQ==",
    "diff_hunk": "@@ -128,6 +128,9 @@ class CKey\n     //! Derive BIP32 child key.\n     bool Derive(CKey& keyChild, ChainCode &ccChild, unsigned int nChild, const ChainCode& cc) const;\n \n+    // computes an EC Diffie-Hellman 256bit secret\n+    bool ComputeECDHSecret(const CPubKey& pubkey, CPrivKey& secret_out) const;",
    "path": "src/key.h",
    "position": 5,
    "original_position": 5,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "4a97faa231935180c2185b4027144c8b317273dc",
    "user": {
      "login": "l2a5b1",
      "id": 13120787,
      "node_id": "MDQ6VXNlcjEzMTIwNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13120787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l2a5b1",
      "html_url": "https://github.com/l2a5b1",
      "followers_url": "https://api.github.com/users/l2a5b1/followers",
      "following_url": "https://api.github.com/users/l2a5b1/following{/other_user}",
      "gists_url": "https://api.github.com/users/l2a5b1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l2a5b1/subscriptions",
      "organizations_url": "https://api.github.com/users/l2a5b1/orgs",
      "repos_url": "https://api.github.com/users/l2a5b1/repos",
      "events_url": "https://api.github.com/users/l2a5b1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l2a5b1/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "\"*A function that can be simply, elegantly, and efficiently implemented as a freestanding function (that is, as a nonmember function) should be implemented outside the class.*\" (Stroustrup) is a very commonly used and well documented best practice in C++ development.\r\n\r\nSee [C.4. Make a function a member only if it needs direct access to the representation of a class](https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#c4-make-a-function-a-member-only-if-it-needs-direct-access-to-the-representation-of-a-class) for more info and guidelines.\r\n\r\n```c++\r\nbool ComputeECDHSecret(const CKey& key, const CPubKey& pubkey, CPrivKey& secret_out)\r\n{\r\n    secp256k1_pubkey pubkey_internal;\r\n    if (!secp256k1_ec_pubkey_parse(secp256k1_context_sign, &pubkey_internal, pubkey.data(), pubkey.size())) {\r\n        return false;\r\n    }\r\n\r\n    secret_out.resize(32);\r\n    return secp256k1_ecdh(secp256k1_context_sign, &secret_out[0], &pubkey_internal, key.begin()) == 1;\r\n}\r\n```\r\n\r\n",
    "created_at": "2018-09-27T12:30:32Z",
    "updated_at": "2018-09-27T12:30:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r220903405",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220903405"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r220903405"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/220903405/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 132,
    "original_line": 132,
    "side": "RIGHT",
    "in_reply_to_id": 212817244
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/221206571",
    "pull_request_review_id": 159800037,
    "id": 221206571,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMTIwNjU3MQ==",
    "diff_hunk": "@@ -1432,7 +1432,7 @@ if test x$need_bundled_univalue = xyes; then\n   AC_CONFIG_SUBDIRS([src/univalue])\n fi\n \n-ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic --with-bignum=no --enable-module-recovery --disable-jni\"\n+ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic --with-bignum=no --enable-module-recovery --enable-experimental --enable-module-ecdh --disable-jni\"",
    "path": "configure.ac",
    "position": 5,
    "original_position": 5,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It's declared experimental upstream. Asking upstream to no longer declare it experimental is an upstream question. My point is about using it here; as long as it's experimental upstream, shouldn't it be considered experimental here?",
    "created_at": "2018-09-28T10:15:59Z",
    "updated_at": "2018-09-28T10:15:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r221206571",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/221206571"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r221206571"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/221206571/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1435,
    "original_line": 1435,
    "side": "RIGHT",
    "in_reply_to_id": 214533720
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/313391363",
    "pull_request_review_id": 274275706,
    "id": 313391363,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMzM5MTM2Mw==",
    "diff_hunk": "@@ -1432,7 +1432,7 @@ if test x$need_bundled_univalue = xyes; then\n   AC_CONFIG_SUBDIRS([src/univalue])\n fi\n \n-ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic --with-bignum=no --enable-module-recovery --disable-jni\"\n+ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic --with-bignum=no --enable-module-recovery --enable-experimental --enable-module-ecdh --disable-jni\"",
    "path": "configure.ac",
    "position": 5,
    "original_position": 5,
    "commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "original_commit_id": "7ab854a23e309474e8548affcd473e44ece4c2dc",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think it's best to not hide it behind a configuration option on our side. I think we should always compile BIP324 features but only activate them when passing a startup argument (can be switched to default later)",
    "created_at": "2019-08-13T13:20:07Z",
    "updated_at": "2019-08-13T13:20:07Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r313391363",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/313391363"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14049#discussion_r313391363"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14049"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/313391363/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1435,
    "original_line": 1435,
    "side": "RIGHT",
    "in_reply_to_id": 214533720
  }
]