[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/614864451",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18672#issuecomment-614864451",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18672",
    "id": 614864451,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDg2NDQ1MQ==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-16T19:58:38Z",
    "updated_at": "2020-04-20T21:41:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/614864451/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616664429",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18672#issuecomment-616664429",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18672",
    "id": 616664429,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjY2NDQyOQ==",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-20T16:26:54Z",
    "updated_at": "2020-04-20T16:26:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased and changed the \"filteradd if no filter is set\" misbehaviour test to also use assert_debug_log, like the rest of the test. Fixes the following fail currently happening on master branch:\r\n```\r\n2020-04-20T16:24:43.175000Z TestFramework (INFO): Check that sending \"filteradd\" if no filter is set is treated as misbehavior (+100)\r\n2020-04-20T16:24:43.178000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/home/honeybadger/buidl/bitcoin_thestack/test/functional/test_framework/test_framework.py\", line 112, in main\r\n    self.run_test()\r\n  File \"./p2p_filter.py\", line 120, in run_test\r\n    assert_equal(self.nodes[0].getpeerinfo()[0]['banscore'], 0)\r\n  File \"/home/honeybadger/buidl/bitcoin_thestack/test/functional/test_framework/util.py\", line 46, in assert_equal\r\n    raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\r\nAssertionError: not(100 == 0)\r\n2020-04-20T16:24:43.230000Z TestFramework (INFO): Stopping nodes\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616664429/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616727906",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18672#issuecomment-616727906",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18672",
    "id": 616727906,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjcyNzkwNg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-20T18:20:04Z",
    "updated_at": "2020-04-20T18:20:04Z",
    "author_association": "MEMBER",
    "body": "ACK c7437185589926ec8def2af6bede6a407b3d2e4a",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616727906/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616813479",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18672#issuecomment-616813479",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18672",
    "id": 616813479,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjgxMzQ3OQ==",
    "user": {
      "login": "robot-visions",
      "id": 63171930,
      "node_id": "MDQ6VXNlcjYzMTcxOTMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/63171930?u=a54b743c9d786ee91ddd5512e19bcd0a2f937427&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/robot-visions",
      "html_url": "https://github.com/robot-visions",
      "followers_url": "https://api.github.com/users/robot-visions/followers",
      "following_url": "https://api.github.com/users/robot-visions/following{/other_user}",
      "gists_url": "https://api.github.com/users/robot-visions/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/robot-visions/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
      "organizations_url": "https://api.github.com/users/robot-visions/orgs",
      "repos_url": "https://api.github.com/users/robot-visions/repos",
      "events_url": "https://api.github.com/users/robot-visions/events{/privacy}",
      "received_events_url": "https://api.github.com/users/robot-visions/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-20T21:15:39Z",
    "updated_at": "2020-04-20T21:15:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK c7437185589926ec8def2af6bede6a407b3d2e4a\r\n\r\nThanks for updating!  This still passes locally for me, and I confirmed that `filter_node.send_and_ping(msg_filteradd(data=b'letsmisbehave'))` does in fact still increase the `banscore`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616813479/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617034813",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18672#issuecomment-617034813",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18672",
    "id": 617034813,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNzAzNDgxMw==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-21T08:29:28Z",
    "updated_at": "2020-04-21T08:29:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK c7437185589926ec8def2af6bede6a407b3d2e4a. Seems to fix it: https://bitcoinbuilds.org/index.php?build=2524",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617034813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410725653",
    "pull_request_review_id": 395933446,
    "id": 410725653,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcyNTY1Mw==",
    "diff_hunk": "@@ -64,7 +67,13 @@ def run_test(self):\n \n         self.log.info('Check that too large filter is rejected')\n         with self.nodes[0].assert_debug_log(['Misbehaving']):\n-            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=51, nTweak=0, nFlags=1))\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=MAX_BLOOM_HASH_FUNCS+1, nTweak=0, nFlags=1))\n+        with self.nodes[0].assert_debug_log(['Misbehaving']):\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xbb'*(MAX_BLOOM_FILTER_SIZE+1)))",
    "path": "test/functional/p2p_filter.py",
    "position": 24,
    "original_position": 24,
    "commit_id": "c7437185589926ec8def2af6bede6a407b3d2e4a",
    "original_commit_id": "1a58bd41f708dcfe9a21bc1aedab5daac629db88",
    "user": {
      "login": "robot-visions",
      "id": 63171930,
      "node_id": "MDQ6VXNlcjYzMTcxOTMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/robot-visions",
      "html_url": "https://github.com/robot-visions",
      "followers_url": "https://api.github.com/users/robot-visions/followers",
      "following_url": "https://api.github.com/users/robot-visions/following{/other_user}",
      "gists_url": "https://api.github.com/users/robot-visions/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/robot-visions/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
      "organizations_url": "https://api.github.com/users/robot-visions/orgs",
      "repos_url": "https://api.github.com/users/robot-visions/repos",
      "events_url": "https://api.github.com/users/robot-visions/events{/privacy}",
      "received_events_url": "https://api.github.com/users/robot-visions/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Optional nit (please feel free to ignore): Would it make sense to either pass in `nHashFuncs=1` or change the default `nHashFuncs` from 0 to 1?",
    "created_at": "2020-04-18T17:23:20Z",
    "updated_at": "2020-04-20T16:23:53Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18672#discussion_r410725653",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18672",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410725653"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18672#discussion_r410725653"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18672"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410725653/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 75,
    "original_line": 75,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410726637",
    "pull_request_review_id": 395933446,
    "id": 410726637,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcyNjYzNw==",
    "diff_hunk": "@@ -64,7 +67,13 @@ def run_test(self):\n \n         self.log.info('Check that too large filter is rejected')",
    "path": "test/functional/p2p_filter.py",
    "position": 19,
    "original_position": 19,
    "commit_id": "c7437185589926ec8def2af6bede6a407b3d2e4a",
    "original_commit_id": "1a58bd41f708dcfe9a21bc1aedab5daac629db88",
    "user": {
      "login": "robot-visions",
      "id": 63171930,
      "node_id": "MDQ6VXNlcjYzMTcxOTMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/robot-visions",
      "html_url": "https://github.com/robot-visions",
      "followers_url": "https://api.github.com/users/robot-visions/followers",
      "following_url": "https://api.github.com/users/robot-visions/following{/other_user}",
      "gists_url": "https://api.github.com/users/robot-visions/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/robot-visions/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
      "organizations_url": "https://api.github.com/users/robot-visions/orgs",
      "repos_url": "https://api.github.com/users/robot-visions/repos",
      "events_url": "https://api.github.com/users/robot-visions/events{/privacy}",
      "received_events_url": "https://api.github.com/users/robot-visions/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Optional nit (please feel free to ignore): Would it make sense to also add checks like this?\r\n\r\n```\r\nself.log.info('Check that max size filter is accepted')\r\nwith self.nodes[0].assert_debug_log([], unexpected_msgs=['Misbehaving']):\r\n    filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=MAX_BLOOM_HASH_FUNCS, nTweak=0, nFlags=1))\r\nwith self.nodes[0].assert_debug_log([], unexpected_msgs=['Misbehaving']):\r\n    filter_node.send_and_ping(msg_filterload(data=b'\\xbb'*(MAX_BLOOM_FILTER_SIZE)))\r\n\r\nself.log.info('Check that max size data element to add to the filter is accepted')\r\nwith self.nodes[0].assert_debug_log([], unexpected_msgs=['Misbehaving']):\r\n    filter_node.send_and_ping(msg_filteradd(data=b'\\xcc'*(MAX_SCRIPT_ELEMENT_SIZE)))\r\n```",
    "created_at": "2020-04-18T17:32:20Z",
    "updated_at": "2020-04-20T16:23:53Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18672#discussion_r410726637",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18672",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410726637"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18672#discussion_r410726637"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18672"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410726637/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 71,
    "original_line": 71,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411516310",
    "pull_request_review_id": 396614531,
    "id": 411516310,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTUxNjMxMA==",
    "diff_hunk": "@@ -64,7 +67,13 @@ def run_test(self):\n \n         self.log.info('Check that too large filter is rejected')\n         with self.nodes[0].assert_debug_log(['Misbehaving']):\n-            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=51, nTweak=0, nFlags=1))\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=MAX_BLOOM_HASH_FUNCS+1, nTweak=0, nFlags=1))\n+        with self.nodes[0].assert_debug_log(['Misbehaving']):\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xbb'*(MAX_BLOOM_FILTER_SIZE+1)))",
    "path": "test/functional/p2p_filter.py",
    "position": 24,
    "original_position": 24,
    "commit_id": "c7437185589926ec8def2af6bede6a407b3d2e4a",
    "original_commit_id": "1a58bd41f708dcfe9a21bc1aedab5daac629db88",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks for your review! I think it's fine to keep the default parameters of the msg_filterload constructor as they are -- they are in line with the equivalent of the `CBloomFilter()` constructor:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/fc00e651e407200da1eb0ae61f6448e22d1b6d8d/src/bloom.h#L67\r\n\r\nWhat I did though was removing the explicit parameters for the first test case, as `nTweak` and `nFlags` are irrelevant for filters that won't even get accepted by the node, hence setting them doesn't improve the test.",
    "created_at": "2020-04-20T16:25:11Z",
    "updated_at": "2020-04-20T16:25:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18672#discussion_r411516310",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18672",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411516310"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18672#discussion_r411516310"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18672"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411516310/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 75,
    "original_line": 75,
    "side": "RIGHT",
    "in_reply_to_id": 410725653
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412101752",
    "pull_request_review_id": 397237396,
    "id": 412101752,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjEwMTc1Mg==",
    "diff_hunk": "@@ -67,7 +70,13 @@ def run_test(self):\n \n         self.log.info('Check that too large filter is rejected')\n         with self.nodes[0].assert_debug_log(['Misbehaving']):\n-            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=51, nTweak=0, nFlags=1))\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=MAX_BLOOM_HASH_FUNCS+1))\n+        with self.nodes[0].assert_debug_log(['Misbehaving']):\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xbb'*(MAX_BLOOM_FILTER_SIZE+1)))\n+\n+        self.log.info('Check that too large data element to add to the filter is rejected')\n+        with self.nodes[0].assert_debug_log(['Misbehaving']):\n+            filter_node.send_and_ping(msg_filteradd(data=b'\\xcc'*(MAX_SCRIPT_ELEMENT_SIZE+1)))",
    "path": "test/functional/p2p_filter.py",
    "position": 28,
    "original_position": 28,
    "commit_id": "c7437185589926ec8def2af6bede6a407b3d2e4a",
    "original_commit_id": "c7437185589926ec8def2af6bede6a407b3d2e4a",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think you need to successfully load a filter first to test this condition?",
    "created_at": "2020-04-21T11:27:28Z",
    "updated_at": "2020-04-21T11:27:28Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18672#discussion_r412101752",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18672",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412101752"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18672#discussion_r412101752"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18672"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412101752/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 79,
    "original_line": 79,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412399553",
    "pull_request_review_id": 397574347,
    "id": 412399553,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM5OTU1Mw==",
    "diff_hunk": "@@ -67,7 +70,13 @@ def run_test(self):\n \n         self.log.info('Check that too large filter is rejected')\n         with self.nodes[0].assert_debug_log(['Misbehaving']):\n-            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=51, nTweak=0, nFlags=1))\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=MAX_BLOOM_HASH_FUNCS+1))\n+        with self.nodes[0].assert_debug_log(['Misbehaving']):\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xbb'*(MAX_BLOOM_FILTER_SIZE+1)))\n+\n+        self.log.info('Check that too large data element to add to the filter is rejected')\n+        with self.nodes[0].assert_debug_log(['Misbehaving']):\n+            filter_node.send_and_ping(msg_filteradd(data=b'\\xcc'*(MAX_SCRIPT_ELEMENT_SIZE+1)))",
    "path": "test/functional/p2p_filter.py",
    "position": 28,
    "original_position": 28,
    "commit_id": "c7437185589926ec8def2af6bede6a407b3d2e4a",
    "original_commit_id": "c7437185589926ec8def2af6bede6a407b3d2e4a",
    "user": {
      "login": "robot-visions",
      "id": 63171930,
      "node_id": "MDQ6VXNlcjYzMTcxOTMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/robot-visions",
      "html_url": "https://github.com/robot-visions",
      "followers_url": "https://api.github.com/users/robot-visions/followers",
      "following_url": "https://api.github.com/users/robot-visions/following{/other_user}",
      "gists_url": "https://api.github.com/users/robot-visions/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/robot-visions/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
      "organizations_url": "https://api.github.com/users/robot-visions/orgs",
      "repos_url": "https://api.github.com/users/robot-visions/repos",
      "events_url": "https://api.github.com/users/robot-visions/events{/privacy}",
      "received_events_url": "https://api.github.com/users/robot-visions/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good point!  Sorry I missed this when reviewing.  I added this in #18726 ",
    "created_at": "2020-04-21T18:38:42Z",
    "updated_at": "2020-04-21T18:38:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18672#discussion_r412399553",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18672",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412399553"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18672#discussion_r412399553"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18672"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412399553/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 79,
    "original_line": 79,
    "side": "RIGHT",
    "in_reply_to_id": 412101752
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412756867",
    "pull_request_review_id": 397933976,
    "id": 412756867,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjc1Njg2Nw==",
    "diff_hunk": "@@ -67,7 +70,13 @@ def run_test(self):\n \n         self.log.info('Check that too large filter is rejected')\n         with self.nodes[0].assert_debug_log(['Misbehaving']):\n-            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=51, nTweak=0, nFlags=1))\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xaa', nHashFuncs=MAX_BLOOM_HASH_FUNCS+1))\n+        with self.nodes[0].assert_debug_log(['Misbehaving']):\n+            filter_node.send_and_ping(msg_filterload(data=b'\\xbb'*(MAX_BLOOM_FILTER_SIZE+1)))\n+\n+        self.log.info('Check that too large data element to add to the filter is rejected')\n+        with self.nodes[0].assert_debug_log(['Misbehaving']):\n+            filter_node.send_and_ping(msg_filteradd(data=b'\\xcc'*(MAX_SCRIPT_ELEMENT_SIZE+1)))",
    "path": "test/functional/p2p_filter.py",
    "position": 28,
    "original_position": 28,
    "commit_id": "c7437185589926ec8def2af6bede6a407b3d2e4a",
    "original_commit_id": "c7437185589926ec8def2af6bede6a407b3d2e4a",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@MarcoFalke: You are right, the misbehaviour is caused for another reasons here, the test is basically equivalent to \"'Check that sending \"filteradd\" if no filter is set is treated as misbehavior'\" below.\r\n@robot-visions: Thanks for adding the fix!",
    "created_at": "2020-04-22T07:55:44Z",
    "updated_at": "2020-04-22T07:55:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18672#discussion_r412756867",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18672",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412756867"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18672#discussion_r412756867"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18672"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/412756867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 79,
    "original_line": 79,
    "side": "RIGHT",
    "in_reply_to_id": 412101752
  }
]