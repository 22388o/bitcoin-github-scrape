[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/428963858",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-428963858",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 428963858,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyODk2Mzg1OA==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-11T13:52:59Z",
    "updated_at": "2018-10-11T13:52:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK\r\n\r\nTowards a Boost free future! :-)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/428963858/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/429094052",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-429094052",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 429094052,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTA5NDA1Mg==",
    "user": {
      "login": "ch4ot1c",
      "id": 2287825,
      "node_id": "MDQ6VXNlcjIyODc4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2287825?u=a62b002ce72b9938202a35b504202764af421c29&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ch4ot1c",
      "html_url": "https://github.com/ch4ot1c",
      "followers_url": "https://api.github.com/users/ch4ot1c/followers",
      "following_url": "https://api.github.com/users/ch4ot1c/following{/other_user}",
      "gists_url": "https://api.github.com/users/ch4ot1c/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ch4ot1c/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ch4ot1c/subscriptions",
      "organizations_url": "https://api.github.com/users/ch4ot1c/orgs",
      "repos_url": "https://api.github.com/users/ch4ot1c/repos",
      "events_url": "https://api.github.com/users/ch4ot1c/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ch4ot1c/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-11T19:48:23Z",
    "updated_at": "2018-10-11T19:48:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/429094052/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/429443409",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-429443409",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 429443409,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTQ0MzQwOQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-12T19:51:17Z",
    "updated_at": "2018-10-12T19:51:17Z",
    "author_association": "MEMBER",
    "body": "utACK 9aacef638f0c2159930640762daf524942052a9d",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/429443409/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/429473702",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-429473702",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 429473702,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTQ3MzcwMg==",
    "user": {
      "login": "donaloconnor",
      "id": 6394033,
      "node_id": "MDQ6VXNlcjYzOTQwMzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6394033?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/donaloconnor",
      "html_url": "https://github.com/donaloconnor",
      "followers_url": "https://api.github.com/users/donaloconnor/followers",
      "following_url": "https://api.github.com/users/donaloconnor/following{/other_user}",
      "gists_url": "https://api.github.com/users/donaloconnor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/donaloconnor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/donaloconnor/subscriptions",
      "organizations_url": "https://api.github.com/users/donaloconnor/orgs",
      "repos_url": "https://api.github.com/users/donaloconnor/repos",
      "events_url": "https://api.github.com/users/donaloconnor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/donaloconnor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-12T21:56:01Z",
    "updated_at": "2018-10-12T21:56:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK https://github.com/bitcoin/bitcoin/pull/14464/commits/9aacef638f0c2159930640762daf524942052a9d",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/429473702/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430304208",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-430304208",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 430304208,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDMwNDIwOA==",
    "user": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-16T16:26:13Z",
    "updated_at": "2018-10-16T16:26:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Addressed comments",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430304208/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430852058",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-430852058",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 430852058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDg1MjA1OA==",
    "user": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-18T02:18:30Z",
    "updated_at": "2018-10-18T02:21:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "@JeremyRubin\r\nbenchmark result on my Ubuntu 18.04 virtual machine:\r\nmaster 816fab9ccae568612d5ed90378b4587256925a1e\r\n```\r\n# Benchmark, evals, iterations, total, min, max, median\r\nCCheckQueueSpeedPrevectorJob, 100, 1400, 83.1845, 0.000461328, 0.000692877, 0.000668382\r\n```\r\nThis PR 625c55a70c376af9a94a2bb118c39685d3b82b33\r\n```\r\n# Benchmark, evals, iterations, total, min, max, median\r\nCCheckQueueSpeedPrevectorJob, 100, 1400, 66.268, 0.000451829, 0.000491473, 0.000473479\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430852058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430864777",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-430864777",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 430864777,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDg2NDc3Nw==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-18T03:38:56Z",
    "updated_at": "2018-10-18T03:38:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "That's great, thanks for checking that -- much bigger change than I expected it to be.\r\n\r\nLooking at the numbers, it seems not only to be faster on the microbenchmark, but more consistent.\r\n\r\nThis merits running two additional tests, if you have energy for it:\r\n\r\n1. Time to reindex (with assumevalid up to last month or something so it doesn't take forever\r\n2. Two nodes (one with this PR one without) connected behind a third node (on latest release), with debug bench set. Collect the logs on ConnectBlock.\r\n     - Also collect a general system profile of which processes are using what on the cpu. \r\n\r\nThe second test is important because one thing I noticed when working on this code previously is that it was trivially easy to get speedups on this code at the expense of general performance. E.g., getting rid of condition variables (and just spinning until jobs came in) was much faster, but meant that the OS scheduler would be giving our CheckQueue workers run-time when there was nothing to do, impacting other processes on the computer (most likely because of causing more cache invalidation, rather than the impact of losing a few cycles of a process switch).  Hence my suspicion: the 20% speedup is because the standard condition variables are not using system sleep (which plays better with the OS). This can actually negatively impact the process too as our main thread might be getting context switched out while we are trying to add jobs or something rather than waiting for notify.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430864777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/431566962",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-431566962",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 431566962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTU2Njk2Mg==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-20T10:02:06Z",
    "updated_at": "2019-03-07T14:09:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/431566962/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/432962493",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-432962493",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 432962493,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjk2MjQ5Mw==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-25T08:32:47Z",
    "updated_at": "2018-10-25T08:32:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "This version is not correct either if I'm correct about the block getting flushed with validity cached during shutdown.\r\n\r\nNow you might incorrectly cache that a block was valid when it may not have been.\r\n\r\nYou need to finish processing the block, then shut down. Or, if a shutdown is triggered, abandon the block in the master (you could make a  trivalent return: false, true, shutdown).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/432962493/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/432963494",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-432963494",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 432963494,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjk2MzQ5NA==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-25T08:36:06Z",
    "updated_at": "2018-10-25T08:36:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Actually I think that's not right, I think this version will just hang because nTodo will be != 0 and queue.empty() will be true, so the master would sleep and never get woken?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/432963494/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433275274",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-433275274",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 433275274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzI3NTI3NA==",
    "user": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-26T03:31:48Z",
    "updated_at": "2018-10-26T03:34:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "@JeremyRubin ~~master would never wait/sleep if `interrupted` is true. It would keep looping until `nTodo == 0`.~~ Oh, I know what you mean.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433275274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433300148",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-433300148",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 433300148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzMwMDE0OA==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-26T06:24:30Z",
    "updated_at": "2018-10-26T06:24:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Your best bet IMO is to have a CheckQueueControl mutex which is separate from the CheckQueue mutex. Make interrupting get both...",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433300148/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433433176",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-433433176",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 433433176,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzQzMzE3Ng==",
    "user": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-26T14:46:52Z",
    "updated_at": "2018-10-26T15:12:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "@JeremyRubin\r\nHow about now? I think the logic here would be more clear. It would keep checking until finish.\r\nIf there are new tasks added into queue after the worker threads ended, it would be only master worker checking the tasks unfortunately. However I think this is better than interrupt the master thread. Alternatively, we can detach these worker threads.\r\n\r\nI am going to test this to see if there is anything broken.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433433176/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433571925",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-433571925",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 433571925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzU3MTkyNQ==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-26T23:53:59Z",
    "updated_at": "2018-10-26T23:53:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "I still think it's best to make control of the checkqueue (as opposed to participation) protected by a mutex.\r\n\r\nEasiest to audit/review.\r\n\r\nBut do let me know if that fixes the corruption issue...",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433571925/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433572773",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-433572773",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 433572773,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzU3Mjc3Mw==",
    "user": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-27T00:01:15Z",
    "updated_at": "2018-10-27T00:10:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I still think it's best to make control of the checkqueue (as opposed to participation) protected by a mutex.\r\n\r\nThere already have `ControlMutex` to ensure that there is only one `CCheckQueueControl` to access the CCheckQueue.\r\n\r\nEdit:  I don't think it's necessary to interrupt the master queue though. We can wait it to return the check result.\r\n\r\nThe second thought, if we detach the worker thread, then that is not necessary to interrupt the checkqueue. So I start to suspect that if the Interrupt is necessary here.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433572773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433602082",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-433602082",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 433602082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzYwMjA4Mg==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-27T08:29:12Z",
    "updated_at": "2018-10-27T08:29:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am saying that a simple change to make is to have Interrupt take the ControlMutex.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433602082/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433617156",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-433617156",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 433617156,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzYxNzE1Ng==",
    "user": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-27T12:42:24Z",
    "updated_at": "2018-10-27T13:10:21Z",
    "author_association": "CONTRIBUTOR",
    "body": ">I am saying that a simple change to make is to have Interrupt take the ControlMutex.\r\n\r\nThat would cause recursive lock in test_bitcoin. Also, I don't think that it's necessary to lock ControlMutex. Can you explain why it's necessary for Interrupt?\r\n\r\n> But do let me know if that fixes the corruption issue...\r\n\r\nSeems the node won't have to reindex after restarting now.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433617156/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433656737",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-433656737",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 433656737,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzY1NjczNw==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-27T21:31:50Z",
    "updated_at": "2018-10-27T21:31:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Where's the recursive lock?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433656737/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433661791",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-433661791",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 433661791,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzY2MTc5MQ==",
    "user": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-27T22:53:05Z",
    "updated_at": "2018-10-27T22:53:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "In test_bitcoin, it constuct `CCheckQueueControl` and call `Interrupt` in same thread",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433661791/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433662550",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-433662550",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 433662550,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzY2MjU1MA==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-27T23:06:06Z",
    "updated_at": "2018-10-27T23:06:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Interrupt should be called in the destructor of the test which should happen after any queuecontrols are destructed though?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433662550/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433676857",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-433676857",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 433676857,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzY3Njg1Nw==",
    "user": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-28T05:05:05Z",
    "updated_at": "2018-10-28T05:05:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Interrupt should be called in the destructor of the test which should happen after any queuecontrols are destructed though?\r\n\r\nI think it would be better to make the checkqueue to control their worker threads instead of calling `Thread()` in somewhere.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433676857/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/470261401",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-470261401",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 470261401,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDI2MTQwMQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-06T20:21:29Z",
    "updated_at": "2019-03-06T20:21:29Z",
    "author_association": "MEMBER",
    "body": "Could try a `git rebase -Xignore-all-space df36ddf9ce8a4dcf0d7f324e57a13abb6cf6a57c`?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/470261401/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/473170544",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-473170544",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 473170544,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MzE3MDU0NA==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-15T06:10:10Z",
    "updated_at": "2019-03-15T06:10:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ken2812221 Why the close? :-)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/473170544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/473172431",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#issuecomment-473172431",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14464",
    "id": 473172431,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MzE3MjQzMQ==",
    "user": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-15T06:20:35Z",
    "updated_at": "2019-03-15T06:20:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "The CI was failed and I don't have time to find the bugs out recently, so I closed it, I might reopen this when I has more time working on this.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/473172431/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224455807",
    "pull_request_review_id": 163826291,
    "id": 224455807,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNDQ1NTgwNw==",
    "diff_hunk": "@@ -68,7 +68,6 @@ EXPECTED_BOOST_INCLUDES=(\n     boost/test/unit_test.hpp\n     boost/thread.hpp\n     boost/thread/condition_variable.hpp",
    "path": "test/lint/lint-includes.sh",
    "position": 3,
    "original_position": 3,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "5bb441ce2e53851a9d086a006cad3bc041e8b053",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "According to PR title `boost/thread/condition_variable.hpp` should go as well? :-)",
    "created_at": "2018-10-11T13:52:13Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224455807",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224455807"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224455807"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224455807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 69,
    "original_line": 69,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224456870",
    "pull_request_review_id": 163827755,
    "id": 224456870,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNDQ1Njg3MA==",
    "diff_hunk": "@@ -68,7 +68,6 @@ EXPECTED_BOOST_INCLUDES=(\n     boost/test/unit_test.hpp\n     boost/thread.hpp\n     boost/thread/condition_variable.hpp",
    "path": "test/lint/lint-includes.sh",
    "position": 3,
    "original_position": 3,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "5bb441ce2e53851a9d086a006cad3bc041e8b053",
    "user": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I only remove them in checkqueue, the another place to use it is in scheduler.",
    "created_at": "2018-10-11T13:54:55Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224456870",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224456870"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224456870"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224456870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 69,
    "original_line": 69,
    "side": "RIGHT",
    "in_reply_to_id": 224455807
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224476362",
    "pull_request_review_id": 163853089,
    "id": 224476362,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNDQ3NjM2Mg==",
    "diff_hunk": "@@ -62,17 +62,19 @@ class CCheckQueue\n     //! The maximum number of elements to be processed in one batch\n     unsigned int nBatchSize;\n \n+    std::atomic<bool> fInterrupted;",
    "path": "src/checkqueue.h",
    "position": null,
    "original_position": 36,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "0e9a6f40e8b55873db26e06a38aa91eb059c8402",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: could just call this `interrupted`",
    "created_at": "2018-10-11T14:43:43Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224476362",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224476362"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224476362"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224476362/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 65,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224490888",
    "pull_request_review_id": 163872056,
    "id": 224490888,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNDQ5MDg4OA==",
    "diff_hunk": "@@ -96,7 +98,11 @@ class CCheckQueue\n                         return fRet;\n                     }\n                     nIdle++;\n+                    if (interrupted)\n+                        return false;\n                     cond.wait(lock); // wait\n+                    if (interrupted)\n+                        return false;",
    "path": "src/checkqueue.h",
    "position": 93,
    "original_position": 62,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "84b0fcdf650b1da4ce082195b7801381e221ebe1",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> If an `if` only has a single-statement `then`-clause, it can appear\r\n    on the same line as the `if`, without braces. In every other case,\r\n    braces are required, and the `then` and `else` clauses must appear\r\n    correctly indented on a new line.\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#coding-style-c",
    "created_at": "2018-10-11T15:18:13Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224490888",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224490888"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224490888"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224490888/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 103,
    "original_line": 103,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224494314",
    "pull_request_review_id": 163876578,
    "id": 224494314,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNDQ5NDMxNA==",
    "diff_hunk": "@@ -96,7 +98,11 @@ class CCheckQueue\n                         return fRet;\n                     }\n                     nIdle++;\n+                    if (interrupted)\n+                        return false;\n                     cond.wait(lock); // wait\n+                    if (interrupted)\n+                        return false;",
    "path": "src/checkqueue.h",
    "position": 93,
    "original_position": 62,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "84b0fcdf650b1da4ce082195b7801381e221ebe1",
    "user": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "clang-format doesn't catch this. Done manually.",
    "created_at": "2018-10-11T15:26:46Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224494314",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224494314"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224494314"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224494314/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 103,
    "original_line": 103,
    "side": "RIGHT",
    "in_reply_to_id": 224490888
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224581561",
    "pull_request_review_id": 163985570,
    "id": 224581561,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNDU4MTU2MQ==",
    "diff_hunk": "@@ -260,8 +260,12 @@ bool LoadBlockIndex(const CChainParams& chainparams) EXCLUSIVE_LOCKS_REQUIRED(cs\n bool LoadChainTip(const CChainParams& chainparams);\n /** Unload database information */\n void UnloadBlockIndex();\n-/** Run an instance of the script checking thread */\n-void ThreadScriptCheck();\n+/** Start script checking thread */\n+void StartScriptCheck();\n+/** Interrupt all script checking thread */",
    "path": "src/validation.h",
    "position": null,
    "original_position": 8,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "76c233a1352a8ac53110f129583f26640670f930",
    "user": {
      "login": "ch4ot1c",
      "id": 2287825,
      "node_id": "MDQ6VXNlcjIyODc4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2287825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ch4ot1c",
      "html_url": "https://github.com/ch4ot1c",
      "followers_url": "https://api.github.com/users/ch4ot1c/followers",
      "following_url": "https://api.github.com/users/ch4ot1c/following{/other_user}",
      "gists_url": "https://api.github.com/users/ch4ot1c/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ch4ot1c/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ch4ot1c/subscriptions",
      "organizations_url": "https://api.github.com/users/ch4ot1c/orgs",
      "repos_url": "https://api.github.com/users/ch4ot1c/repos",
      "events_url": "https://api.github.com/users/ch4ot1c/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ch4ot1c/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Pluralize to `threads`",
    "created_at": "2018-10-11T19:48:02Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224581561",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224581561"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224581561"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224581561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 265,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224927235",
    "pull_request_review_id": 164424194,
    "id": 224927235,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNDkyNzIzNQ==",
    "diff_hunk": "@@ -157,6 +161,16 @@ class CCheckQueue\n             condWorker.notify_all();\n     }\n \n+    void Interrupt()\n+    {\n+        {\n+            std::lock_guard<std::mutex> lock(mutex);\n+            interrupted = true;\n+        }\n+        condMaster.notify_all();",
    "path": "src/checkqueue.h",
    "position": null,
    "original_position": 96,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "9aacef638f0c2159930640762daf524942052a9d",
    "user": {
      "login": "donaloconnor",
      "id": 6394033,
      "node_id": "MDQ6VXNlcjYzOTQwMzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6394033?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/donaloconnor",
      "html_url": "https://github.com/donaloconnor",
      "followers_url": "https://api.github.com/users/donaloconnor/followers",
      "following_url": "https://api.github.com/users/donaloconnor/following{/other_user}",
      "gists_url": "https://api.github.com/users/donaloconnor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/donaloconnor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/donaloconnor/subscriptions",
      "organizations_url": "https://api.github.com/users/donaloconnor/orgs",
      "repos_url": "https://api.github.com/users/donaloconnor/repos",
      "events_url": "https://api.github.com/users/donaloconnor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/donaloconnor/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "tiny nit: only one master thread so maybe `condMaster.notify_one()` is more consistent. No difference to code though.",
    "created_at": "2018-10-12T22:07:55Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224927235",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224927235"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224927235"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224927235/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 170,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224960888",
    "pull_request_review_id": 164464097,
    "id": 224960888,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNDk2MDg4OA==",
    "diff_hunk": "@@ -149,9 +148,9 @@ typedef CCheckQueue<FrozenCleanupCheck> FrozenCleanup_Queue;\n static void Correct_Queue_range(std::vector<size_t> range)\n {\n     auto small_queue = MakeUnique<Correct_Queue>(QUEUE_BATCH_SIZE);\n-    boost::thread_group tg;\n+    std::vector<std::thread> tg;",
    "path": "src/test/checkqueue_tests.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "68e50c8779ae94456ceace4d488b4f07e06e4ad7",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: Request vector capacity of `nScriptCheckThreads` before loop?",
    "created_at": "2018-10-13T14:00:09Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224960888",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224960888"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224960888"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224960888/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 151,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224960907",
    "pull_request_review_id": 164464130,
    "id": 224960907,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNDk2MDkwNw==",
    "diff_hunk": "@@ -462,12 +462,13 @@ BOOST_AUTO_TEST_CASE(test_big_witness_transaction) {\n \n     // check all inputs concurrently, with the cache\n     PrecomputedTransactionData txdata(tx);\n-    boost::thread_group threadGroup;\n+    std::vector<std::thread> threadGroup;",
    "path": "src/test/transaction_tests.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "68e50c8779ae94456ceace4d488b4f07e06e4ad7",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: Same here. Request a capacity of `20`? :-)",
    "created_at": "2018-10-13T14:01:20Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224960907",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224960907"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r224960907"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/224960907/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 465,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225358049",
    "pull_request_review_id": 164944070,
    "id": 225358049,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTM1ODA0OQ==",
    "diff_hunk": "@@ -149,9 +148,9 @@ typedef CCheckQueue<FrozenCleanupCheck> FrozenCleanup_Queue;\n static void Correct_Queue_range(std::vector<size_t> range)\n {\n     auto small_queue = MakeUnique<Correct_Queue>(QUEUE_BATCH_SIZE);\n-    boost::thread_group tg;\n+    std::vector<std::thread> tg;",
    "path": "src/test/checkqueue_tests.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "68e50c8779ae94456ceace4d488b4f07e06e4ad7",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is good practice, but it's test code so it doesn't really matter all too much.",
    "created_at": "2018-10-16T00:19:59Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r225358049",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225358049"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r225358049"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225358049/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 151,
    "side": "RIGHT",
    "in_reply_to_id": 224960888
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225359205",
    "pull_request_review_id": 164945197,
    "id": 225359205,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTM1OTIwNQ==",
    "diff_hunk": "@@ -96,7 +98,9 @@ class CCheckQueue\n                         return fRet;\n                     }\n                     nIdle++;\n+                    if (interrupted) return false;\n                     cond.wait(lock); // wait",
    "path": "src/checkqueue.h",
    "position": null,
    "original_position": 59,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "68e50c8779ae94456ceace4d488b4f07e06e4ad7",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Add the condition as a callback to wait.\r\n\r\ne.g., cond.wait(lock, [&] { return interrupted || !queue.empty(); })",
    "created_at": "2018-10-16T00:26:38Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r225359205",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225359205"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r225359205"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225359205/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 102,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225803667",
    "pull_request_review_id": 165483110,
    "id": 225803667,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTgwMzY2Nw==",
    "diff_hunk": "@@ -1199,12 +1201,6 @@ bool AppInitMain()\n     InitSignatureCache();\n     InitScriptExecutionCache();\n \n-    LogPrintf(\"Using %u threads for script verification\\n\", nScriptCheckThreads);",
    "path": "src/init.cpp",
    "position": 20,
    "original_position": 20,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "d0107034fe799e1a4b863d9da633c1ab342e4e1c",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I was expecting to see this replaced with a `StartScriptCheck();` line; why is that not necessary?",
    "created_at": "2018-10-17T07:16:36Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r225803667",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225803667"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r225803667"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225803667/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1274,
    "original_line": 1274,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225960672",
    "pull_request_review_id": 165669900,
    "id": 225960672,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTk2MDY3Mg==",
    "diff_hunk": "@@ -1199,12 +1201,6 @@ bool AppInitMain()\n     InitSignatureCache();\n     InitScriptExecutionCache();\n \n-    LogPrintf(\"Using %u threads for script verification\\n\", nScriptCheckThreads);",
    "path": "src/init.cpp",
    "position": 20,
    "original_position": 20,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "d0107034fe799e1a4b863d9da633c1ab342e4e1c",
    "user": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think I forgot to add it. Fixed now.",
    "created_at": "2018-10-17T14:43:25Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r225960672",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225960672"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r225960672"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225960672/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1274,
    "original_line": 1274,
    "side": "LEFT",
    "in_reply_to_id": 225803667
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226160489",
    "pull_request_review_id": 165915146,
    "id": 226160489,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNjE2MDQ4OQ==",
    "diff_hunk": "@@ -90,13 +92,13 @@ class CCheckQueue\n                         nTotal--;\n                         bool fRet = fAllOk;\n                         // reset the status for new work later\n-                        if (fMaster)\n-                            fAllOk = true;\n+                        fAllOk = true;\n                         // return the current status\n                         return fRet;\n                     }\n                     nIdle++;\n-                    cond.wait(lock); // wait\n+                    cond.wait(lock, [&] { return interrupted || !queue.empty() || fMaster && nTodo == 0; }); // wait",
    "path": "src/checkqueue.h",
    "position": null,
    "original_position": 66,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "440e02a3e28e2e83c091c11a4878107b1d23e62a",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think you could assert(! (fMaster && nTodo == 0)) here.\r\n\r\nIf fMaster were *ever* true here, we would deadlock.\r\n\r\nHence, there is no point to check that...",
    "created_at": "2018-10-18T03:42:09Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r226160489",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226160489"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r226160489"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226160489/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 100,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/227812178",
    "pull_request_review_id": 167938169,
    "id": 227812178,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNzgxMjE3OA==",
    "diff_hunk": "@@ -90,14 +92,15 @@ class CCheckQueue\n                         nTotal--;\n                         bool fRet = fAllOk;\n                         // reset the status for new work later\n-                        if (fMaster)\n-                            fAllOk = true;\n+                        fAllOk = true;\n                         // return the current status\n                         return fRet;\n+                    } else {\n+                        nIdle++;\n+                        while (!(interrupted || !queue.empty() || (fMaster && nTodo == 0))) cond.wait(lock);\n+                        if (interrupted) return false;",
    "path": "src/checkqueue.h",
    "position": null,
    "original_position": 89,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "02aae28c9df9a3735383ac0e6622a5ca2e7b5182",
    "user": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "After tested a  few times, `return false` or somthing else? seem to make the node have to reindex next time.",
    "created_at": "2018-10-24T14:26:14Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r227812178",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/227812178"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r227812178"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/227812178/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 101,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/228057597",
    "pull_request_review_id": 168236375,
    "id": 228057597,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyODA1NzU5Nw==",
    "diff_hunk": "@@ -90,14 +92,15 @@ class CCheckQueue\n                         nTotal--;\n                         bool fRet = fAllOk;\n                         // reset the status for new work later\n-                        if (fMaster)\n-                            fAllOk = true;\n+                        fAllOk = true;\n                         // return the current status\n                         return fRet;\n+                    } else {\n+                        nIdle++;\n+                        while (!(interrupted || !queue.empty() || (fMaster && nTodo == 0))) cond.wait(lock);\n+                        if (interrupted) return false;",
    "path": "src/checkqueue.h",
    "position": null,
    "original_position": 89,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "02aae28c9df9a3735383ac0e6622a5ca2e7b5182",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The issue could be that when you interrupt, you don't want to make fMaster return false causing the block to be marked false (which could be written into cache somehow).\r\n\r\nIs interrupt guaranteed to wait until the current job is done? Making it guaranteed to wait probably could help fix that behavior... One way of doing that is to separate out when you wake up if there's an active job or not, and don't allow to quit when there is an active job until it's done.",
    "created_at": "2018-10-25T07:16:51Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r228057597",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/228057597"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r228057597"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/228057597/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 101,
    "side": "RIGHT",
    "in_reply_to_id": 227812178
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/228058933",
    "pull_request_review_id": 168236375,
    "id": 228058933,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyODA1ODkzMw==",
    "diff_hunk": "@@ -90,14 +92,15 @@ class CCheckQueue\n                         nTotal--;\n                         bool fRet = fAllOk;\n                         // reset the status for new work later\n-                        if (fMaster)\n-                            fAllOk = true;\n+                        fAllOk = true;\n                         // return the current status\n                         return fRet;\n+                    } else {\n+                        nIdle++;\n+                        while (!(interrupted || !queue.empty() || (fMaster && nTodo == 0))) cond.wait(lock);\n+                        if (interrupted) return false;",
    "path": "src/checkqueue.h",
    "position": null,
    "original_position": 89,
    "commit_id": "f8145436add63054edd0f21fa495bf68ffe991e5",
    "original_commit_id": "02aae28c9df9a3735383ac0e6622a5ca2e7b5182",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'd recommend adapting the quitting logic from https://github.com/JeremyRubin/bitcoin/blob/aa847431e266fb08289edbac3665ac7c93a81b8a/src/checkqueue.h if you want a reference, which should be more or less correct (albeit with a lot of extensions you can ignore).",
    "created_at": "2018-10-25T07:22:06Z",
    "updated_at": "2019-03-07T09:25:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r228058933",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/228058933"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14464#discussion_r228058933"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14464"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/228058933/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 101,
    "side": "RIGHT",
    "in_reply_to_id": 227812178
  }
]