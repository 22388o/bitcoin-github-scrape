gmaxwell,2015-03-13T21:05:12Z,Cool. Can you blacklist walletpassphrase?\n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-79396559,79396559,
jonasschnelli,2015-03-13T21:13:34Z,@gmaxwell uh. How could i miss this!\nJust added sensitive wallet-crypto calls to the blacklist.\n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-79404007,79404007,
jonasschnelli,2015-03-13T21:15:32Z,@paveljanik I did also add `walletpassphrasechange` and `encryptwallet` in the last update.\n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-79406156,79406156,
paveljanik,2015-03-13T21:18:10Z,@jonasschnelli thanks. This is ultra-cool feature :+1: \n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-79409122,79409122,
luke-jr,2015-03-13T21:24:14Z,"Rather than hardcoding a list of filtered stuff, maybe it should go where the parameter conversion is defined? (ideally masking out only the sensitive parameter(s))\n",https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-79416502,79416502,
gmaxwell,2015-03-13T21:27:10Z,Masking out specific parameters seems unduly complex.\n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-79420160,79420160,
jonasschnelli,2015-03-13T21:28:16Z,"@luke-jr yes. I also thought about this. Especially for `signrawtransaction`, there a history would def. make sense in case the user did not entre a priv-key as arg.\n\nBut i don't want to hold this back until it ends up in the bin because it was getting to complicate. :)\nAn additional PR could address more precise history storing.\n",https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-79421530,79421530,
luke-jr,2015-03-13T21:28:35Z,"Well, it could also be per-RPC and stored in the RPC info list rather than Qt code. OTOH, thinking on this further, it screws up modularity somewhat.. so maybe the list is for the better.\n\nNit: this isn't a blacklist, so best to rename it to filter or something\n",https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-79421969,79421969,
jonasschnelli,2015-03-13T21:30:34Z,@luke-jr s/historyBlacklist/historyFilter/?\n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-79424274,79424274,
luke-jr,2015-03-13T21:40:40Z,Sure\n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-79437936,79437936,
paveljanik,2015-03-13T21:55:49Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-79454585,79454585,
Diapolo,2015-03-16T10:14:27Z,"Not sure this is best implemented as QSetting, because on Windows this is written to the registry.\n",https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-81558118,81558118,
jonasschnelli,2015-03-16T10:17:00Z,@Diapolo IMO windows registry or OSX library/preferences is a good place for storing the history. As long as there is a filter for the security critical rpc calls (and this PR comes with a filter).\n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-81558904,81558904,
Diapolo,2015-03-16T10:19:40Z,"Okay, but could we use a better naming for `nRPCConsoleWindowHistory` at least? IMHO the n was there for numbers, but that array doesn't fit into `n` :).\n",https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-81559911,81559911,
jonasschnelli,2015-03-16T10:20:50Z,@Diapolo oh yes. This var-name is wrong. Will change it.\n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-81560449,81560449,
laanwj,2015-03-16T10:47:13Z,I tend towards NACK. Logging commands persistently is paramount to a privacy leak. At the very least this shouldn't be enabled by default.\n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-81574750,81574750,
paveljanik,2015-03-22T17:36:59Z,@laanwj Do you `unset HISTFILE` before or after running `bitcoin-cli`? But I'm not against adding an option to enable this (ie. disabled by default - like CoinControl).\n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-84663357,84663357,
luke-jr,2015-03-22T17:43:30Z,"We already log RPC commands in debug.log, I'm not sure this is that much different?\n",https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-84664675,84664675,
paveljanik,2015-03-22T17:59:59Z,This logs arguments.\n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-84667306,84667306,
gmaxwell,2015-03-22T18:12:07Z,@laanwj What if it were just per session only (e.g. not saving it to disk in any way)? I think that has 90% of the benefit and avoids 90% of the harm.\n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-84668080,84668080,
jonasschnelli,2015-03-22T19:45:43Z,"Current master keeps a history in memory (per session). This PR would extend the session/in-memory history to a persisted ""kept-on-disk"" history. Indeed, the place where the history is stored would be selected by Qt/OS and it would be outside of `-datadir`.\n\nMaybe a conclusion could be to add a UI option to enable/disable this feature.\nI just think it (persisted history) is useful when working ",https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-84685909,84685909,
gmaxwell,2015-03-22T21:16:51Z,"I don't know that an option to disable it solves that much; the sequence of events that most likely results in harm is that the user has no idea that the data is being saved-- so they wouldn't think to go find it, or knows it is but doesn't realize that later they'll regret it (because their system is subsequently compromised).\n",https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-84708026,84708026,
laanwj,2015-03-24T08:22:47Z,"There has been history per session ever since I added this console. The change here is to persist it between sessions.\n\n@paveljanik\n\n> Do you unset HISTFILE before or after running bitcoin-cli\n\nRight. I don't keep persistent shell history if an account is used for anything sensitive like managing a wallet.\n\nYes, the problem will be that people don't expect what they enter to be saved to di",https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-85392914,85392914,
jonasschnelli,2015-04-16T07:46:14Z,"Yes. This feature is controversial and can harm your security (same as a bash/shell history). \n\nI started writing this when i did some GUI tests where ""createrawtransaction"", ""signrawtransaction"" was involved (and other chains of commands). So i had to write in again the tx-hex (copy&pase) every time i recompiled and restarted bitcoin-qt. There it was very handy to have a persistent history.\n\n",https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-93668610,93668610,
jonasschnelli,2015-06-19T19:43:23Z,Closing because this is controversial.\n,https://github.com/bitcoin/bitcoin/pull/5891#issuecomment-113620467,113620467,
