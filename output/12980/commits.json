[
  {
    "sha": "af5fa82b676a36e60eda080ca0a946bdfffefd49",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphZjVmYTgyYjY3NmEzNmU2MGVkYTA4MGNhMGE5NDZiZGZmZmVmZDQ5",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2018-04-13T19:20:29Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2018-08-02T06:10:49Z"
      },
      "message": "Allow quicker shutdowns during LoadBlockIndex()",
      "tree": {
        "sha": "b2812f7f0877c3a4a762bda5995b480f193b3c47",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b2812f7f0877c3a4a762bda5995b480f193b3c47"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/af5fa82b676a36e60eda080ca0a946bdfffefd49",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAltioGkACgkQHrd2uwPH\nki1IgBAAzVc9LuymyW3zmpzNXxshq7oChE90p3fAB0mm+W47gewuDDm8wa5ubmQr\nA1y8sdWTDYC8ikxtZoswWOvUfOJ3sZ6qM/S1Q0GE4BJC52WHBgmb5YnY4zLC3RMH\nisg4NZXUtS1T3z452hrqgTRJx+4up76V4+xMGIv5zgsmNz7EDM1lnHOZnYa5Qzck\neoOz5tNMr7ap+GW3WNFJsOgerD3piT85bbWwlC0YkX8P/JAPvT/mSndZfUt8zV6R\nK5Gwfxl9woji++7FF2qX+emISexTax1P/PD9Ij2YStsjGt7Nq2ZaLFBRyvaFfG59\nTjqWTEB8a0tYdTfGRHduDFbtOO7U0SwiTn8Ik2Ee1yFr99G0DsnhNkXX6lztiHiq\nEVviqrUioQDpBOjdRxVcXA5KKNROIXDzLGOr6uJKZ/xorSAhVmQWNBqEg3IzZuJq\nOcWszeFWQGYFVg99mkN/eDsgK/z+ksONPZoMzSDUhmOHSMgSOMH82vkfyLidRYVv\n8JPjohDx4DnBobWSCmAFQAmz7efUJcw9BuB08E4ipi3j3tkBUkUVzUke4Km/Oxb0\nXedJSFX6GQntQmAxC5ZaoOLiUkItzidOakgcL2lsDNyfeT2jeFa7dI3tjmLxg6Du\nJmo+zagN+CN7xAroyPOqGpzXIvrUIh3pWojvEq3YIEPk2Bd2fSE=\n=z92A\n-----END PGP SIGNATURE-----",
        "payload": "tree b2812f7f0877c3a4a762bda5995b480f193b3c47\nparent f030410e88f11c5ff1ce6c80b463a1c7f6d39830\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1523647229 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1533190249 +0200\n\nAllow quicker shutdowns during LoadBlockIndex()\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/af5fa82b676a36e60eda080ca0a946bdfffefd49",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/af5fa82b676a36e60eda080ca0a946bdfffefd49",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/af5fa82b676a36e60eda080ca0a946bdfffefd49/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f030410e88f11c5ff1ce6c80b463a1c7f6d39830",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f030410e88f11c5ff1ce6c80b463a1c7f6d39830",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f030410e88f11c5ff1ce6c80b463a1c7f6d39830"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 3,
      "deletions": 0
    },
    "files": [
      {
        "sha": "feb5ff2c5e148a67184f7b6243c89bb8ee9114e8",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/af5fa82b676a36e60eda080ca0a946bdfffefd49/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/af5fa82b676a36e60eda080ca0a946bdfffefd49/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=af5fa82b676a36e60eda080ca0a946bdfffefd49",
        "patch": "@@ -1468,6 +1468,7 @@ bool AppInitMain()\n                 // Note that it also sets fReindex based on the disk flag!\n                 // From here on out fReindex and fReset mean something different!\n                 if (!LoadBlockIndex(chainparams)) {\n+                    if (ShutdownRequested()) break;\n                     strLoadError = _(\"Error loading block database\");\n                     break;\n                 }"
      },
      {
        "sha": "eda959e1a12962cf8a9d498f2b3a0caa58510b04",
        "filename": "src/txdb.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/af5fa82b676a36e60eda080ca0a946bdfffefd49/src/txdb.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/af5fa82b676a36e60eda080ca0a946bdfffefd49/src/txdb.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/txdb.cpp?ref=af5fa82b676a36e60eda080ca0a946bdfffefd49",
        "patch": "@@ -255,6 +255,7 @@ bool CBlockTreeDB::LoadBlockIndexGuts(const Consensus::Params& consensusParams,\n     // Load mapBlockIndex\n     while (pcursor->Valid()) {\n         boost::this_thread::interruption_point();\n+        if (ShutdownRequested()) return false;\n         std::pair<char, uint256> key;\n         if (pcursor->GetKey(key) && key.first == DB_BLOCK_INDEX) {\n             CDiskBlockIndex diskindex;"
      },
      {
        "sha": "563cd59382dce4ebd1b853e17cec6141eea90bfa",
        "filename": "src/validation.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/af5fa82b676a36e60eda080ca0a946bdfffefd49/src/validation.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/af5fa82b676a36e60eda080ca0a946bdfffefd49/src/validation.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/validation.cpp?ref=af5fa82b676a36e60eda080ca0a946bdfffefd49",
        "patch": "@@ -3855,6 +3855,7 @@ bool CChainState::LoadBlockIndex(const Consensus::Params& consensus_params, CBlo\n     sort(vSortedByHeight.begin(), vSortedByHeight.end());\n     for (const std::pair<int, CBlockIndex*>& item : vSortedByHeight)\n     {\n+        if (ShutdownRequested()) return false;\n         CBlockIndex* pindex = item.second;\n         pindex->nChainWork = (pindex->pprev ? pindex->pprev->nChainWork : 0) + GetBlockProof(*pindex);\n         pindex->nTimeMax = (pindex->pprev ? std::max(pindex->pprev->nTimeMax, pindex->nTime) : pindex->nTime);"
      }
    ]
  }
]