[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863040333",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#issuecomment-863040333",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22263",
    "id": 863040333,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MzA0MDMzMw==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-17T08:26:20Z",
    "updated_at": "2021-06-17T18:10:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #22266 (refactor: call GetBestBlock() before NewIterator() by endjkv)\n* #22242 (Move CBlockTreeDB to node/blockstorage by MarcoFalke)\n* #17487 (coins: allow write to disk without cache drop by jamesob)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863040333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863061324",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#issuecomment-863061324",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22263",
    "id": 863061324,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MzA2MTMyNA==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-17T08:56:13Z",
    "updated_at": "2021-06-17T08:56:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK: nice catch!\r\n\r\nNon-blocking nit: The list[1] of naked `new`:s in our code base is fairly short nowadays so it would be nice to avoid adding an unnecessary `new` to that list. Avoided by using `std::make_unique` as suggested by MarcoFalke :)\r\n\r\n[1]\r\n```\r\n$ git grep -E 'new [A-Za-z0-9_]+\\(' -- \"*.cpp\" \"*.h\" \":(exclude)src/qt/\" \":(exclude)src/test/\" \\\r\n      \":(exclude)src/bench/\" \":(exclude)src/leveldb/\"\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863061324/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863256211",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#issuecomment-863256211",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22263",
    "id": 863256211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MzI1NjIxMQ==",
    "user": {
      "login": "jamesob",
      "id": 73197,
      "node_id": "MDQ6VXNlcjczMTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesob",
      "html_url": "https://github.com/jamesob",
      "followers_url": "https://api.github.com/users/jamesob/followers",
      "following_url": "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesob/orgs",
      "repos_url": "https://api.github.com/users/jamesob/repos",
      "events_url": "https://api.github.com/users/jamesob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesob/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-17T13:49:54Z",
    "updated_at": "2021-06-17T13:49:54Z",
    "author_association": "MEMBER",
    "body": "Thanks for the quick looks everyone. I've made both changes suggested, though it's worth noting that I had to make the `CCoinsViewDBCursor` constructor public (from private) in order to allow `std::make_unique` to compile.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863256211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863320679",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#issuecomment-863320679",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22263",
    "id": 863320679,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MzMyMDY3OQ==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-17T15:07:46Z",
    "updated_at": "2021-06-17T15:07:46Z",
    "author_association": "MEMBER",
    "body": "Code review ACK 615c1adfb07b9b466173166dc2e53ace540e4b32",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863320679/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864203071",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#issuecomment-864203071",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22263",
    "id": 864203071,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDIwMzA3MQ==",
    "user": {
      "login": "jamesob",
      "id": 73197,
      "node_id": "MDQ6VXNlcjczMTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesob",
      "html_url": "https://github.com/jamesob",
      "followers_url": "https://api.github.com/users/jamesob/followers",
      "following_url": "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesob/orgs",
      "repos_url": "https://api.github.com/users/jamesob/repos",
      "events_url": "https://api.github.com/users/jamesob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesob/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-18T18:17:47Z",
    "updated_at": "2021-06-18T18:17:47Z",
    "author_association": "MEMBER",
    "body": "Thanks for the feedback all. I've added doc, fixed the reference type style, and made the `CCoinsViewDBCursor` private to the unit.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864203071/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864399726",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#issuecomment-864399726",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22263",
    "id": 864399726,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDM5OTcyNg==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-19T12:26:01Z",
    "updated_at": "2021-06-19T12:26:01Z",
    "author_association": "MEMBER",
    "body": "> These are basically just the two recommendations from https://abseil.io/tips/134#recommendations\r\n\r\nThanks for the informative link @ryanofsky!\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864399726/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653244619",
    "pull_request_review_id": 685888412,
    "id": 653244619,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzI0NDYxOQ==",
    "diff_hunk": "@@ -168,9 +168,10 @@ bool CBlockTreeDB::ReadLastBlockFile(int &nFile) {\n     return Read(DB_LAST_BLOCK, nFile);\n }\n \n-CCoinsViewCursor *CCoinsViewDB::Cursor() const\n+std::unique_ptr<CCoinsViewCursor> CCoinsViewDB::Cursor() const\n {\n-    CCoinsViewDBCursor *i = new CCoinsViewDBCursor(const_cast<CDBWrapper&>(*m_db).NewIterator(), GetBestBlock());\n+    std::unique_ptr<CCoinsViewDBCursor> i{\n+        new CCoinsViewDBCursor(const_cast<CDBWrapper&>(*m_db).NewIterator(), GetBestBlock())};",
    "path": "src/txdb.cpp",
    "position": null,
    "original_position": 9,
    "commit_id": "7ad414f4bfa74595ee5726e66f3527045c02a977",
    "original_commit_id": "a9bc8df6970dfe7c0c3358e1637e3f052ebb5a5f",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n    auto i{std::make_unique<CCoinsViewDBCursor>(const_cast<CDBWrapper&>(*m_db).NewIterator(), GetBestBlock())};\r\n```\r\n\r\nCan be written shorter with make_unique?",
    "created_at": "2021-06-17T05:50:58Z",
    "updated_at": "2021-06-17T05:51:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r653244619",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653244619"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r653244619"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653244619/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 173,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 174,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653402959",
    "pull_request_review_id": 686092993,
    "id": 653402959,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzQwMjk1OQ==",
    "diff_hunk": "@@ -183,8 +183,8 @@ FUZZ_TARGET_INIT(coins_view, initialize_coins_view)\n     }\n \n     {\n-        const CCoinsViewCursor* coins_view_cursor = backend_coins_view.Cursor();\n-        assert(coins_view_cursor == nullptr);\n+        const std::unique_ptr<CCoinsViewCursor> coins_view_cursor = backend_coins_view.Cursor();",
    "path": "src/test/fuzz/coins_view.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "7ad414f4bfa74595ee5726e66f3527045c02a977",
    "original_commit_id": "a9bc8df6970dfe7c0c3358e1637e3f052ebb5a5f",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Note that this isn't equivalent. Previously `coins_view_cursor` was a pointer to const data, and this is now a const pointer to mutable data. The equivalent of what we had before would be:\r\n\r\n```suggestion\r\n        std::unique_ptr<const CCoinsViewCursor> coins_view_cursor = backend_coins_view.Cursor();\r\n```\r\n\r\nIt doesn't really matter here - I'd suggest just removing the `const` keyword entirely.",
    "created_at": "2021-06-17T09:41:43Z",
    "updated_at": "2021-06-17T10:07:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r653402959",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653402959"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r653402959"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653402959/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 186,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653582893",
    "pull_request_review_id": 686333677,
    "id": 653582893,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzU4Mjg5Mw==",
    "diff_hunk": "@@ -183,8 +183,8 @@ FUZZ_TARGET_INIT(coins_view, initialize_coins_view)\n     }\n \n     {\n-        const CCoinsViewCursor* coins_view_cursor = backend_coins_view.Cursor();\n-        assert(coins_view_cursor == nullptr);\n+        const std::unique_ptr<CCoinsViewCursor> coins_view_cursor = backend_coins_view.Cursor();",
    "path": "src/test/fuzz/coins_view.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "7ad414f4bfa74595ee5726e66f3527045c02a977",
    "original_commit_id": "a9bc8df6970dfe7c0c3358e1637e3f052ebb5a5f",
    "user": {
      "login": "jamesob",
      "id": 73197,
      "node_id": "MDQ6VXNlcjczMTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesob",
      "html_url": "https://github.com/jamesob",
      "followers_url": "https://api.github.com/users/jamesob/followers",
      "following_url": "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesob/orgs",
      "repos_url": "https://api.github.com/users/jamesob/repos",
      "events_url": "https://api.github.com/users/jamesob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesob/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good point, thanks.",
    "created_at": "2021-06-17T13:48:35Z",
    "updated_at": "2021-06-17T13:48:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r653582893",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653582893"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r653582893"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653582893/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 186,
    "side": "RIGHT",
    "in_reply_to_id": 653402959
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653583063",
    "pull_request_review_id": 686333918,
    "id": 653583063,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MzU4MzA2Mw==",
    "diff_hunk": "@@ -168,9 +168,10 @@ bool CBlockTreeDB::ReadLastBlockFile(int &nFile) {\n     return Read(DB_LAST_BLOCK, nFile);\n }\n \n-CCoinsViewCursor *CCoinsViewDB::Cursor() const\n+std::unique_ptr<CCoinsViewCursor> CCoinsViewDB::Cursor() const\n {\n-    CCoinsViewDBCursor *i = new CCoinsViewDBCursor(const_cast<CDBWrapper&>(*m_db).NewIterator(), GetBestBlock());\n+    std::unique_ptr<CCoinsViewDBCursor> i{\n+        new CCoinsViewDBCursor(const_cast<CDBWrapper&>(*m_db).NewIterator(), GetBestBlock())};",
    "path": "src/txdb.cpp",
    "position": null,
    "original_position": 9,
    "commit_id": "7ad414f4bfa74595ee5726e66f3527045c02a977",
    "original_commit_id": "a9bc8df6970dfe7c0c3358e1637e3f052ebb5a5f",
    "user": {
      "login": "jamesob",
      "id": 73197,
      "node_id": "MDQ6VXNlcjczMTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesob",
      "html_url": "https://github.com/jamesob",
      "followers_url": "https://api.github.com/users/jamesob/followers",
      "following_url": "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesob/orgs",
      "repos_url": "https://api.github.com/users/jamesob/repos",
      "events_url": "https://api.github.com/users/jamesob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesob/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good call!",
    "created_at": "2021-06-17T13:48:47Z",
    "updated_at": "2021-06-17T13:48:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r653583063",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653583063"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r653583063"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/653583063/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 173,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 174,
    "side": "RIGHT",
    "in_reply_to_id": 653244619
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654346715",
    "pull_request_review_id": 687297180,
    "id": 654346715,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDM0NjcxNQ==",
    "diff_hunk": "@@ -74,6 +74,8 @@ class CCoinsViewDB final : public CCoinsView\n class CCoinsViewDBCursor: public CCoinsViewCursor\n {\n public:\n+    CCoinsViewDBCursor(CDBIterator* pcursorIn, const uint256 &hashBlockIn):",
    "path": "src/txdb.h",
    "position": null,
    "original_position": 13,
    "commit_id": "7ad414f4bfa74595ee5726e66f3527045c02a977",
    "original_commit_id": "615c1adfb07b9b466173166dc2e53ace540e4b32",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Verified the ctor needs to be public to not see `error: calling a private constructor of class 'CCoinsViewDBCursor'` when building. Could clang-format if you retouch:\r\n```suggestion\r\n    CCoinsViewDBCursor(CDBIterator* pcursorIn, const uint256& hashBlockIn):\r\n```\r\n",
    "created_at": "2021-06-18T11:12:32Z",
    "updated_at": "2021-06-18T11:26:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r654346715",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654346715"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r654346715"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654346715/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 77,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654349135",
    "pull_request_review_id": 687297180,
    "id": 654349135,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDM0OTEzNQ==",
    "diff_hunk": "@@ -183,8 +183,8 @@ FUZZ_TARGET_INIT(coins_view, initialize_coins_view)\n     }\n \n     {\n-        const CCoinsViewCursor* coins_view_cursor = backend_coins_view.Cursor();\n-        assert(coins_view_cursor == nullptr);\n+        std::unique_ptr<CCoinsViewCursor> coins_view_cursor = backend_coins_view.Cursor();\n+        assert(!coins_view_cursor);",
    "path": "src/test/fuzz/coins_view.cpp",
    "position": 7,
    "original_position": 7,
    "commit_id": "7ad414f4bfa74595ee5726e66f3527045c02a977",
    "original_commit_id": "615c1adfb07b9b466173166dc2e53ace540e4b32",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The change in this line seems to be style only.",
    "created_at": "2021-06-18T11:16:56Z",
    "updated_at": "2021-06-18T11:26:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r654349135",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654349135"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r654349135"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654349135/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 187,
    "original_line": 187,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654523403",
    "pull_request_review_id": 687532269,
    "id": 654523403,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDUyMzQwMw==",
    "diff_hunk": "@@ -74,6 +74,8 @@ class CCoinsViewDB final : public CCoinsView\n class CCoinsViewDBCursor: public CCoinsViewCursor\n {\n public:\n+    CCoinsViewDBCursor(CDBIterator* pcursorIn, const uint256 &hashBlockIn):",
    "path": "src/txdb.h",
    "position": null,
    "original_position": 13,
    "commit_id": "7ad414f4bfa74595ee5726e66f3527045c02a977",
    "original_commit_id": "615c1adfb07b9b466173166dc2e53ace540e4b32",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is there a reason to put this into the header? Previously the constructor was private, thus disallowing \"illegal\" access. Now, with it being public, the whole class could be moved to the cpp file?",
    "created_at": "2021-06-18T15:32:08Z",
    "updated_at": "2021-06-18T15:32:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r654523403",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654523403"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r654523403"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654523403/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 77,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654523625",
    "pull_request_review_id": 687532269,
    "id": 654523625,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDUyMzYyNQ==",
    "diff_hunk": "@@ -84,8 +86,6 @@ class CCoinsViewDBCursor: public CCoinsViewCursor\n     void Next() override;\n \n private:\n-    CCoinsViewDBCursor(CDBIterator* pcursorIn, const uint256 &hashBlockIn):\n-        CCoinsViewCursor(hashBlockIn), pcursor(pcursorIn) {}\n     std::unique_ptr<CDBIterator> pcursor;\n     std::pair<char, COutPoint> keyTmp;\n ",
    "path": "src/txdb.h",
    "position": null,
    "original_position": 26,
    "commit_id": "7ad414f4bfa74595ee5726e66f3527045c02a977",
    "original_commit_id": "615c1adfb07b9b466173166dc2e53ace540e4b32",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "line 92 still needed?",
    "created_at": "2021-06-18T15:32:30Z",
    "updated_at": "2021-06-18T15:32:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r654523625",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654523625"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r654523625"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654523625/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 91,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654601547",
    "pull_request_review_id": 687632929,
    "id": 654601547,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDYwMTU0Nw==",
    "diff_hunk": "@@ -84,8 +86,6 @@ class CCoinsViewDBCursor: public CCoinsViewCursor\n     void Next() override;\n \n private:\n-    CCoinsViewDBCursor(CDBIterator* pcursorIn, const uint256 &hashBlockIn):\n-        CCoinsViewCursor(hashBlockIn), pcursor(pcursorIn) {}\n     std::unique_ptr<CDBIterator> pcursor;\n     std::pair<char, COutPoint> keyTmp;\n ",
    "path": "src/txdb.h",
    "position": null,
    "original_position": 26,
    "commit_id": "7ad414f4bfa74595ee5726e66f3527045c02a977",
    "original_commit_id": "615c1adfb07b9b466173166dc2e53ace540e4b32",
    "user": {
      "login": "jamesob",
      "id": 73197,
      "node_id": "MDQ6VXNlcjczMTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesob",
      "html_url": "https://github.com/jamesob",
      "followers_url": "https://api.github.com/users/jamesob/followers",
      "following_url": "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesob/orgs",
      "repos_url": "https://api.github.com/users/jamesob/repos",
      "events_url": "https://api.github.com/users/jamesob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesob/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, for e.g. `pcursor` access in `CCoinsViewDB::Cursor()`.",
    "created_at": "2021-06-18T18:03:07Z",
    "updated_at": "2021-06-18T18:03:08Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r654601547",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654601547"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r654601547"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654601547/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 91,
    "side": "RIGHT",
    "in_reply_to_id": 654523625
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654607898",
    "pull_request_review_id": 687640839,
    "id": 654607898,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDYwNzg5OA==",
    "diff_hunk": "@@ -74,6 +74,8 @@ class CCoinsViewDB final : public CCoinsView\n class CCoinsViewDBCursor: public CCoinsViewCursor\n {\n public:\n+    CCoinsViewDBCursor(CDBIterator* pcursorIn, const uint256 &hashBlockIn):",
    "path": "src/txdb.h",
    "position": null,
    "original_position": 13,
    "commit_id": "7ad414f4bfa74595ee5726e66f3527045c02a977",
    "original_commit_id": "615c1adfb07b9b466173166dc2e53ace540e4b32",
    "user": {
      "login": "jamesob",
      "id": 73197,
      "node_id": "MDQ6VXNlcjczMTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesob",
      "html_url": "https://github.com/jamesob",
      "followers_url": "https://api.github.com/users/jamesob/followers",
      "following_url": "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesob/orgs",
      "repos_url": "https://api.github.com/users/jamesob/repos",
      "events_url": "https://api.github.com/users/jamesob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesob/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good call! No reason this needs to be exposed; moved to the .cpp file.",
    "created_at": "2021-06-18T18:16:33Z",
    "updated_at": "2021-06-18T18:16:33Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r654607898",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654607898"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r654607898"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654607898/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 77,
    "side": "RIGHT",
    "in_reply_to_id": 654523403
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654789815",
    "pull_request_review_id": 687820356,
    "id": 654789815,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDc4OTgxNQ==",
    "diff_hunk": "@@ -168,9 +168,34 @@ bool CBlockTreeDB::ReadLastBlockFile(int &nFile) {\n     return Read(DB_LAST_BLOCK, nFile);\n }\n \n-CCoinsViewCursor *CCoinsViewDB::Cursor() const\n+/** Specialization of CCoinsViewCursor to iterate over a CCoinsViewDB */\n+class CCoinsViewDBCursor: public CCoinsViewCursor\n {\n-    CCoinsViewDBCursor *i = new CCoinsViewDBCursor(const_cast<CDBWrapper&>(*m_db).NewIterator(), GetBestBlock());\n+public:\n+    // Prefer using CCoinsViewDB::Cursor() since we want to perform some\n+    // cache warmup on instantiation.\n+    CCoinsViewDBCursor(CDBIterator* pcursorIn, const uint256&hashBlockIn):",
    "path": "src/txdb.cpp",
    "position": 12,
    "original_position": 12,
    "commit_id": "7ad414f4bfa74595ee5726e66f3527045c02a977",
    "original_commit_id": "7ad414f4bfa74595ee5726e66f3527045c02a977",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'd suggest doing the formatting change in the first commit and making the second commit purely move-only.\r\n```suggestion\r\n    CCoinsViewDBCursor(CDBIterator* pcursorIn, const uint256& hashBlockIn):\r\n```",
    "created_at": "2021-06-19T12:20:34Z",
    "updated_at": "2021-06-19T12:23:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r654789815",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654789815"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r654789815"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654789815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 177,
    "original_line": 177,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/655462735",
    "pull_request_review_id": 688543484,
    "id": 655462735,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NTQ2MjczNQ==",
    "diff_hunk": "@@ -168,9 +168,34 @@ bool CBlockTreeDB::ReadLastBlockFile(int &nFile) {\n     return Read(DB_LAST_BLOCK, nFile);\n }\n \n-CCoinsViewCursor *CCoinsViewDB::Cursor() const\n+/** Specialization of CCoinsViewCursor to iterate over a CCoinsViewDB */\n+class CCoinsViewDBCursor: public CCoinsViewCursor\n {\n-    CCoinsViewDBCursor *i = new CCoinsViewDBCursor(const_cast<CDBWrapper&>(*m_db).NewIterator(), GetBestBlock());\n+public:\n+    // Prefer using CCoinsViewDB::Cursor() since we want to perform some\n+    // cache warmup on instantiation.\n+    CCoinsViewDBCursor(CDBIterator* pcursorIn, const uint256&hashBlockIn):",
    "path": "src/txdb.cpp",
    "position": 12,
    "original_position": 12,
    "commit_id": "7ad414f4bfa74595ee5726e66f3527045c02a977",
    "original_commit_id": "7ad414f4bfa74595ee5726e66f3527045c02a977",
    "user": {
      "login": "jamesob",
      "id": 73197,
      "node_id": "MDQ6VXNlcjczMTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesob",
      "html_url": "https://github.com/jamesob",
      "followers_url": "https://api.github.com/users/jamesob/followers",
      "following_url": "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesob/orgs",
      "repos_url": "https://api.github.com/users/jamesob/repos",
      "events_url": "https://api.github.com/users/jamesob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesob/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Agree in principle but this commit is so easy to verify that I don't think it makes sense to rebase.",
    "created_at": "2021-06-21T15:08:20Z",
    "updated_at": "2021-06-21T15:08:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r655462735",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/655462735"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22263#discussion_r655462735"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22263"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/655462735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 177,
    "original_line": 177,
    "side": "RIGHT",
    "in_reply_to_id": 654789815
  }
]