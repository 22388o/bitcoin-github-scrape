[
  {
    "sha": "2620e24b83d16bf0f2bfe360dee1e98b4be59ca5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyNjIwZTI0YjgzZDE2YmYwZjJiZmUzNjBkZWUxZTk4YjRiZTU5Y2E1",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2019-05-03T12:22:17Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2019-05-03T12:22:17Z"
      },
      "message": "[depends] boost: update to 1.70",
      "tree": {
        "sha": "cd6e51beca677e7938940df83f972b0bf9c320e7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cd6e51beca677e7938940df83f972b0bf9c320e7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2620e24b83d16bf0f2bfe360dee1e98b4be59ca5",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAlzMMoMACgkQV/+b28ww\nEAnn9hAAtNrAnULG+SFpvc64fPUXyRsUcFKwCg65yUZljlaaCFUe/exlorHmTrZS\n2UITKD76LMxn2z9FaNdcVh7hJkNAOH/m9UoZSsMUBhTSc36Ry9hvvtoJBjG879qX\nzf1XWq6RyauaFJ1bNad2wuYpKBnKF3elNSzXv/Q8oPqTnRxXxWqWmfVb309+qJrD\n5Q2kFm8rvud2gZhj+Hc5EM6vv88IvQPSZenLhobesvSY1JApdn4wqDPquvNnfVP2\nIP9prgpJtQ4Ex+gvXI3Y/OwMGAgOcV6Ni44g+IKV1Y0PhVsh8fmeSgDfjesQJfIy\nmIWT0beNcsia/j+JnGuLW+AS60cyshGWcqtNkz6Tj08iJ/YXF/IiCuXwVV3qLMic\ntFa7egT5SA6u5zoKfsv59sDBEjbBBcP0xLkHzLaW1urrOSzgsFldJ+ldNqSYifAm\nTyMAP13Lh4T4vrOeEQTRoTt2hSNNgaHeY7E8Bfy5xRmon5e1NpEq+yLSQzVvUUCb\nKfxkuJu+nEUiI0xZqUHqzDOsgC9+rkksc1NGaPzsxtJEu3aGoY8042c5kXj3iizz\n1aYnliE3Ms5woUs10l1Cc3hFSL8zUuTrq60HKHC1UPt6XqP883QRuHNSJYbQfMnp\nSeWYn97v9yxua6xpBgtdFFgWXkJK7Wwk0F2Cg/szgYs6FZMDXDk=\n=5dNg\n-----END PGP SIGNATURE-----",
        "payload": "tree cd6e51beca677e7938940df83f972b0bf9c320e7\nparent 0936f35f65ad778c1308f00b42b6182c7e64270f\nauthor Sjors Provoost <sjors@sprovoost.nl> 1556886137 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1556886137 +0100\n\n[depends] boost: update to 1.70\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2620e24b83d16bf0f2bfe360dee1e98b4be59ca5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2620e24b83d16bf0f2bfe360dee1e98b4be59ca5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2620e24b83d16bf0f2bfe360dee1e98b4be59ca5/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0936f35f65ad778c1308f00b42b6182c7e64270f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0936f35f65ad778c1308f00b42b6182c7e64270f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0936f35f65ad778c1308f00b42b6182c7e64270f"
      }
    ],
    "stats": {
      "total": 267,
      "additions": 138,
      "deletions": 129
    },
    "files": [
      {
        "sha": "d5403957637ec354ad890d770c8e1bf830414b66",
        "filename": "build-aux/m4/ax_boost_base.m4",
        "status": "modified",
        "additions": 131,
        "deletions": 121,
        "changes": 252,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2620e24b83d16bf0f2bfe360dee1e98b4be59ca5/build-aux/m4/ax_boost_base.m4",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2620e24b83d16bf0f2bfe360dee1e98b4be59ca5/build-aux/m4/ax_boost_base.m4",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/build-aux/m4/ax_boost_base.m4?ref=2620e24b83d16bf0f2bfe360dee1e98b4be59ca5",
        "patch": "@@ -1,5 +1,5 @@\n # ===========================================================================\n-#       http://www.gnu.org/software/autoconf-archive/ax_boost_base.html\n+#      https://www.gnu.org/software/autoconf-archive/ax_boost_base.html\n # ===========================================================================\n #\n # SYNOPSIS\n@@ -33,7 +33,15 @@\n #   and this notice are preserved. This file is offered as-is, without any\n #   warranty.\n \n-#serial 27\n+#serial 45\n+\n+# example boost program (need to pass version)\n+m4_define([_AX_BOOST_BASE_PROGRAM],\n+          [AC_LANG_PROGRAM([[\n+#include <boost/version.hpp>\n+]],[[\n+(void) ((void)sizeof(char[1 - 2*!!((BOOST_VERSION) < ($1))]));\n+]])])\n \n AC_DEFUN([AX_BOOST_BASE],\n [\n@@ -44,110 +52,121 @@ AC_ARG_WITH([boost],\n      or disable it (ARG=no)\n      @<:@ARG=yes@:>@ ])],\n     [\n-    if test \"$withval\" = \"no\"; then\n-        want_boost=\"no\"\n-    elif test \"$withval\" = \"yes\"; then\n-        want_boost=\"yes\"\n-        ac_boost_path=\"\"\n-    else\n-        want_boost=\"yes\"\n-        ac_boost_path=\"$withval\"\n-    fi\n+     AS_CASE([$withval],\n+       [no],[want_boost=\"no\";_AX_BOOST_BASE_boost_path=\"\"],\n+       [yes],[want_boost=\"yes\";_AX_BOOST_BASE_boost_path=\"\"],\n+       [want_boost=\"yes\";_AX_BOOST_BASE_boost_path=\"$withval\"])\n     ],\n     [want_boost=\"yes\"])\n \n \n AC_ARG_WITH([boost-libdir],\n-        AS_HELP_STRING([--with-boost-libdir=LIB_DIR],\n-        [Force given directory for boost libraries. Note that this will override library path detection, so use this parameter only if default library detection fails and you know exactly where your boost libraries are located.]),\n-        [\n-        if test -d \"$withval\"\n-        then\n-                ac_boost_lib_path=\"$withval\"\n-        else\n-                AC_MSG_ERROR(--with-boost-libdir expected directory name)\n-        fi\n-        ],\n-        [ac_boost_lib_path=\"\"]\n-)\n+  [AS_HELP_STRING([--with-boost-libdir=LIB_DIR],\n+    [Force given directory for boost libraries.\n+     Note that this will override library path detection,\n+     so use this parameter only if default library detection fails\n+     and you know exactly where your boost libraries are located.])],\n+  [\n+   AS_IF([test -d \"$withval\"],\n+         [_AX_BOOST_BASE_boost_lib_path=\"$withval\"],\n+    [AC_MSG_ERROR([--with-boost-libdir expected directory name])])\n+  ],\n+  [_AX_BOOST_BASE_boost_lib_path=\"\"])\n \n-if test \"x$want_boost\" = \"xyes\"; then\n-    boost_lib_version_req=ifelse([$1], ,1.20.0,$1)\n-    boost_lib_version_req_shorten=`expr $boost_lib_version_req : '\\([[0-9]]*\\.[[0-9]]*\\)'`\n-    boost_lib_version_req_major=`expr $boost_lib_version_req : '\\([[0-9]]*\\)'`\n-    boost_lib_version_req_minor=`expr $boost_lib_version_req : '[[0-9]]*\\.\\([[0-9]]*\\)'`\n-    boost_lib_version_req_sub_minor=`expr $boost_lib_version_req : '[[0-9]]*\\.[[0-9]]*\\.\\([[0-9]]*\\)'`\n-    if test \"x$boost_lib_version_req_sub_minor\" = \"x\" ; then\n-        boost_lib_version_req_sub_minor=\"0\"\n-        fi\n-    WANT_BOOST_VERSION=`expr $boost_lib_version_req_major \\* 100000 \\+  $boost_lib_version_req_minor \\* 100 \\+ $boost_lib_version_req_sub_minor`\n-    AC_MSG_CHECKING(for boostlib >= $boost_lib_version_req)\n+BOOST_LDFLAGS=\"\"\n+BOOST_CPPFLAGS=\"\"\n+AS_IF([test \"x$want_boost\" = \"xyes\"],\n+      [_AX_BOOST_BASE_RUNDETECT([$1],[$2],[$3])])\n+AC_SUBST(BOOST_CPPFLAGS)\n+AC_SUBST(BOOST_LDFLAGS)\n+])\n+\n+\n+# convert a version string in $2 to numeric and affect to polymorphic var $1\n+AC_DEFUN([_AX_BOOST_BASE_TONUMERICVERSION],[\n+  AS_IF([test \"x$2\" = \"x\"],[_AX_BOOST_BASE_TONUMERICVERSION_req=\"1.20.0\"],[_AX_BOOST_BASE_TONUMERICVERSION_req=\"$2\"])\n+  _AX_BOOST_BASE_TONUMERICVERSION_req_shorten=`expr $_AX_BOOST_BASE_TONUMERICVERSION_req : '\\([[0-9]]*\\.[[0-9]]*\\)'`\n+  _AX_BOOST_BASE_TONUMERICVERSION_req_major=`expr $_AX_BOOST_BASE_TONUMERICVERSION_req : '\\([[0-9]]*\\)'`\n+  AS_IF([test \"x$_AX_BOOST_BASE_TONUMERICVERSION_req_major\" = \"x\"],\n+        [AC_MSG_ERROR([You should at least specify libboost major version])])\n+  _AX_BOOST_BASE_TONUMERICVERSION_req_minor=`expr $_AX_BOOST_BASE_TONUMERICVERSION_req : '[[0-9]]*\\.\\([[0-9]]*\\)'`\n+  AS_IF([test \"x$_AX_BOOST_BASE_TONUMERICVERSION_req_minor\" = \"x\"],\n+        [_AX_BOOST_BASE_TONUMERICVERSION_req_minor=\"0\"])\n+  _AX_BOOST_BASE_TONUMERICVERSION_req_sub_minor=`expr $_AX_BOOST_BASE_TONUMERICVERSION_req : '[[0-9]]*\\.[[0-9]]*\\.\\([[0-9]]*\\)'`\n+  AS_IF([test \"X$_AX_BOOST_BASE_TONUMERICVERSION_req_sub_minor\" = \"X\"],\n+        [_AX_BOOST_BASE_TONUMERICVERSION_req_sub_minor=\"0\"])\n+  _AX_BOOST_BASE_TONUMERICVERSION_RET=`expr $_AX_BOOST_BASE_TONUMERICVERSION_req_major \\* 100000 \\+  $_AX_BOOST_BASE_TONUMERICVERSION_req_minor \\* 100 \\+ $_AX_BOOST_BASE_TONUMERICVERSION_req_sub_minor`\n+  AS_VAR_SET($1,$_AX_BOOST_BASE_TONUMERICVERSION_RET)\n+])\n+\n+dnl Run the detection of boost should be run only if $want_boost\n+AC_DEFUN([_AX_BOOST_BASE_RUNDETECT],[\n+    _AX_BOOST_BASE_TONUMERICVERSION(WANT_BOOST_VERSION,[$1])\n     succeeded=no\n \n+\n+    AC_REQUIRE([AC_CANONICAL_HOST])\n     dnl On 64-bit systems check for system libraries in both lib64 and lib.\n     dnl The former is specified by FHS, but e.g. Debian does not adhere to\n     dnl this (as it rises problems for generic multi-arch support).\n     dnl The last entry in the list is chosen by default when no libraries\n     dnl are found, e.g. when only header-only libraries are installed!\n-    libsubdirs=\"lib\"\n-    ax_arch=`uname -m`\n-    case $ax_arch in\n-      x86_64)\n-        libsubdirs=\"lib64 libx32 lib lib64\"\n-        ;;\n-      ppc64|s390x|sparc64|aarch64|ppc64le)\n-        libsubdirs=\"lib64 lib lib64\"\n-        ;;\n-    esac\n+    AS_CASE([${host_cpu}],\n+      [x86_64],[libsubdirs=\"lib64 libx32 lib lib64\"],\n+      [ppc64|powerpc64|s390x|sparc64|aarch64|ppc64le|powerpc64le|riscv64],[libsubdirs=\"lib64 lib lib64\"],\n+      [libsubdirs=\"lib\"]\n+    )\n \n     dnl allow for real multi-arch paths e.g. /usr/lib/x86_64-linux-gnu. Give\n     dnl them priority over the other paths since, if libs are found there, they\n     dnl are almost assuredly the ones desired.\n-    AC_REQUIRE([AC_CANONICAL_HOST])\n-    libsubdirs=\"lib/${host_cpu}-${host_os} $libsubdirs\"\n-\n-    case ${host_cpu} in\n-      i?86)\n-        libsubdirs=\"lib/i386-${host_os} $libsubdirs\"\n-        ;;\n-    esac\n-\n-    dnl some arches may advertise a cpu type that doesn't line up with their\n-    dnl prefix's cpu type. For example, uname may report armv7l while libs are\n-    dnl installed to /usr/lib/arm-linux-gnueabihf. Try getting the compiler's\n-    dnl value for an extra chance of finding the correct path.\n-    libsubdirs=\"lib/`$CXX -dumpmachine 2>/dev/null` $libsubdirs\"\n+    AS_CASE([${host_cpu}],\n+      [i?86],[multiarch_libsubdir=\"lib/i386-${host_os}\"],\n+      [multiarch_libsubdir=\"lib/${host_cpu}-${host_os}\"]\n+    )\n \n     dnl first we check the system location for boost libraries\n     dnl this location ist chosen if boost libraries are installed with the --layout=system option\n     dnl or if you install boost with RPM\n-    if test \"$ac_boost_path\" != \"\"; then\n-        BOOST_CPPFLAGS=\"-I$ac_boost_path/include\"\n-        for ac_boost_path_tmp in $libsubdirs; do\n-                if test -d \"$ac_boost_path\"/\"$ac_boost_path_tmp\" ; then\n-                        BOOST_LDFLAGS=\"-L$ac_boost_path/$ac_boost_path_tmp\"\n-                        break\n-                fi\n-        done\n-    elif test \"$cross_compiling\" != yes; then\n-        for ac_boost_path_tmp in /usr /usr/local /opt /opt/local ; do\n-            if test -d \"$ac_boost_path_tmp/include/boost\" && test -r \"$ac_boost_path_tmp/include/boost\"; then\n-                for libsubdir in $libsubdirs ; do\n-                    if ls \"$ac_boost_path_tmp/$libsubdir/libboost_\"* >/dev/null 2>&1 ; then break; fi\n+    AS_IF([test \"x$_AX_BOOST_BASE_boost_path\" != \"x\"],[\n+        AC_MSG_CHECKING([for boostlib >= $1 ($WANT_BOOST_VERSION) includes in \"$_AX_BOOST_BASE_boost_path/include\"])\n+         AS_IF([test -d \"$_AX_BOOST_BASE_boost_path/include\" && test -r \"$_AX_BOOST_BASE_boost_path/include\"],[\n+           AC_MSG_RESULT([yes])\n+           BOOST_CPPFLAGS=\"-I$_AX_BOOST_BASE_boost_path/include\"\n+           for _AX_BOOST_BASE_boost_path_tmp in $multiarch_libsubdir $libsubdirs; do\n+                AC_MSG_CHECKING([for boostlib >= $1 ($WANT_BOOST_VERSION) lib path in \"$_AX_BOOST_BASE_boost_path/$_AX_BOOST_BASE_boost_path_tmp\"])\n+                AS_IF([test -d \"$_AX_BOOST_BASE_boost_path/$_AX_BOOST_BASE_boost_path_tmp\" && test -r \"$_AX_BOOST_BASE_boost_path/$_AX_BOOST_BASE_boost_path_tmp\" ],[\n+                        AC_MSG_RESULT([yes])\n+                        BOOST_LDFLAGS=\"-L$_AX_BOOST_BASE_boost_path/$_AX_BOOST_BASE_boost_path_tmp\";\n+                        break;\n+                ],\n+      [AC_MSG_RESULT([no])])\n+           done],[\n+      AC_MSG_RESULT([no])])\n+    ],[\n+        if test X\"$cross_compiling\" = Xyes; then\n+            search_libsubdirs=$multiarch_libsubdir\n+        else\n+            search_libsubdirs=\"$multiarch_libsubdir $libsubdirs\"\n+        fi\n+        for _AX_BOOST_BASE_boost_path_tmp in /usr /usr/local /opt /opt/local ; do\n+            if test -d \"$_AX_BOOST_BASE_boost_path_tmp/include/boost\" && test -r \"$_AX_BOOST_BASE_boost_path_tmp/include/boost\" ; then\n+                for libsubdir in $search_libsubdirs ; do\n+                    if ls \"$_AX_BOOST_BASE_boost_path_tmp/$libsubdir/libboost_\"* >/dev/null 2>&1 ; then break; fi\n                 done\n-                BOOST_LDFLAGS=\"-L$ac_boost_path_tmp/$libsubdir\"\n-                BOOST_CPPFLAGS=\"-I$ac_boost_path_tmp/include\"\n+                BOOST_LDFLAGS=\"-L$_AX_BOOST_BASE_boost_path_tmp/$libsubdir\"\n+                BOOST_CPPFLAGS=\"-I$_AX_BOOST_BASE_boost_path_tmp/include\"\n                 break;\n             fi\n         done\n-    fi\n+    ])\n \n     dnl overwrite ld flags if we have required special directory with\n     dnl --with-boost-libdir parameter\n-    if test \"$ac_boost_lib_path\" != \"\"; then\n-       BOOST_LDFLAGS=\"-L$ac_boost_lib_path\"\n-    fi\n+    AS_IF([test \"x$_AX_BOOST_BASE_boost_lib_path\" != \"x\"],\n+          [BOOST_LDFLAGS=\"-L$_AX_BOOST_BASE_boost_lib_path\"])\n \n+    AC_MSG_CHECKING([for boostlib >= $1 ($WANT_BOOST_VERSION)])\n     CPPFLAGS_SAVED=\"$CPPFLAGS\"\n     CPPFLAGS=\"$CPPFLAGS $BOOST_CPPFLAGS\"\n     export CPPFLAGS\n@@ -158,15 +177,7 @@ if test \"x$want_boost\" = \"xyes\"; then\n \n     AC_REQUIRE([AC_PROG_CXX])\n     AC_LANG_PUSH(C++)\n-        AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[\n-    @%:@include <boost/version.hpp>\n-    ]], [[\n-    #if BOOST_VERSION >= $WANT_BOOST_VERSION\n-    // Everything is okay\n-    #else\n-    #  error Boost version is too old\n-    #endif\n-    ]])],[\n+        AC_COMPILE_IFELSE([_AX_BOOST_BASE_PROGRAM($WANT_BOOST_VERSION)],[\n         AC_MSG_RESULT(yes)\n     succeeded=yes\n     found_system=yes\n@@ -178,56 +189,66 @@ if test \"x$want_boost\" = \"xyes\"; then\n \n     dnl if we found no boost with system layout we search for boost libraries\n     dnl built and installed without the --layout=system option or for a staged(not installed) version\n-    if test \"x$succeeded\" != \"xyes\"; then\n+    if test \"x$succeeded\" != \"xyes\" ; then\n         CPPFLAGS=\"$CPPFLAGS_SAVED\"\n         LDFLAGS=\"$LDFLAGS_SAVED\"\n         BOOST_CPPFLAGS=\n-        BOOST_LDFLAGS=\n+        if test -z \"$_AX_BOOST_BASE_boost_lib_path\" ; then\n+            BOOST_LDFLAGS=\n+        fi\n         _version=0\n-        if test \"$ac_boost_path\" != \"\"; then\n-            if test -d \"$ac_boost_path\" && test -r \"$ac_boost_path\"; then\n-                for i in `ls -d $ac_boost_path/include/boost-* 2>/dev/null`; do\n-                    _version_tmp=`echo $i | sed \"s#$ac_boost_path##\" | sed 's/\\/include\\/boost-//' | sed 's/_/./'`\n+        if test -n \"$_AX_BOOST_BASE_boost_path\" ; then\n+            if test -d \"$_AX_BOOST_BASE_boost_path\" && test -r \"$_AX_BOOST_BASE_boost_path\"; then\n+                for i in `ls -d $_AX_BOOST_BASE_boost_path/include/boost-* 2>/dev/null`; do\n+                    _version_tmp=`echo $i | sed \"s#$_AX_BOOST_BASE_boost_path##\" | sed 's/\\/include\\/boost-//' | sed 's/_/./'`\n                     V_CHECK=`expr $_version_tmp \\> $_version`\n-                    if test \"$V_CHECK\" = \"1\" ; then\n+                    if test \"x$V_CHECK\" = \"x1\" ; then\n                         _version=$_version_tmp\n                     fi\n                     VERSION_UNDERSCORE=`echo $_version | sed 's/\\./_/'`\n-                    BOOST_CPPFLAGS=\"-I$ac_boost_path/include/boost-$VERSION_UNDERSCORE\"\n+                    BOOST_CPPFLAGS=\"-I$_AX_BOOST_BASE_boost_path/include/boost-$VERSION_UNDERSCORE\"\n                 done\n                 dnl if nothing found search for layout used in Windows distributions\n                 if test -z \"$BOOST_CPPFLAGS\"; then\n-                    if test -d \"$ac_boost_path/boost\" && test -r \"$ac_boost_path/boost\"; then\n-                        BOOST_CPPFLAGS=\"-I$ac_boost_path\"\n+                    if test -d \"$_AX_BOOST_BASE_boost_path/boost\" && test -r \"$_AX_BOOST_BASE_boost_path/boost\"; then\n+                        BOOST_CPPFLAGS=\"-I$_AX_BOOST_BASE_boost_path\"\n                     fi\n                 fi\n+                dnl if we found something and BOOST_LDFLAGS was unset before\n+                dnl (because \"$_AX_BOOST_BASE_boost_lib_path\" = \"\"), set it here.\n+                if test -n \"$BOOST_CPPFLAGS\" && test -z \"$BOOST_LDFLAGS\"; then\n+                    for libsubdir in $libsubdirs ; do\n+                        if ls \"$_AX_BOOST_BASE_boost_path/$libsubdir/libboost_\"* >/dev/null 2>&1 ; then break; fi\n+                    done\n+                    BOOST_LDFLAGS=\"-L$_AX_BOOST_BASE_boost_path/$libsubdir\"\n+                fi\n             fi\n         else\n-            if test \"$cross_compiling\" != yes; then\n-                for ac_boost_path in /usr /usr/local /opt /opt/local ; do\n-                    if test -d \"$ac_boost_path\" && test -r \"$ac_boost_path\"; then\n-                        for i in `ls -d $ac_boost_path/include/boost-* 2>/dev/null`; do\n-                            _version_tmp=`echo $i | sed \"s#$ac_boost_path##\" | sed 's/\\/include\\/boost-//' | sed 's/_/./'`\n+            if test \"x$cross_compiling\" != \"xyes\" ; then\n+                for _AX_BOOST_BASE_boost_path in /usr /usr/local /opt /opt/local ; do\n+                    if test -d \"$_AX_BOOST_BASE_boost_path\" && test -r \"$_AX_BOOST_BASE_boost_path\" ; then\n+                        for i in `ls -d $_AX_BOOST_BASE_boost_path/include/boost-* 2>/dev/null`; do\n+                            _version_tmp=`echo $i | sed \"s#$_AX_BOOST_BASE_boost_path##\" | sed 's/\\/include\\/boost-//' | sed 's/_/./'`\n                             V_CHECK=`expr $_version_tmp \\> $_version`\n-                            if test \"$V_CHECK\" = \"1\" ; then\n+                            if test \"x$V_CHECK\" = \"x1\" ; then\n                                 _version=$_version_tmp\n-                                best_path=$ac_boost_path\n+                                best_path=$_AX_BOOST_BASE_boost_path\n                             fi\n                         done\n                     fi\n                 done\n \n                 VERSION_UNDERSCORE=`echo $_version | sed 's/\\./_/'`\n                 BOOST_CPPFLAGS=\"-I$best_path/include/boost-$VERSION_UNDERSCORE\"\n-                if test \"$ac_boost_lib_path\" = \"\"; then\n+                if test -z \"$_AX_BOOST_BASE_boost_lib_path\" ; then\n                     for libsubdir in $libsubdirs ; do\n                         if ls \"$best_path/$libsubdir/libboost_\"* >/dev/null 2>&1 ; then break; fi\n                     done\n                     BOOST_LDFLAGS=\"-L$best_path/$libsubdir\"\n                 fi\n             fi\n \n-            if test \"x$BOOST_ROOT\" != \"x\"; then\n+            if test -n \"$BOOST_ROOT\" ; then\n                 for libsubdir in $libsubdirs ; do\n                     if ls \"$BOOST_ROOT/stage/$libsubdir/libboost_\"* >/dev/null 2>&1 ; then break; fi\n                 done\n@@ -236,7 +257,7 @@ if test \"x$want_boost\" = \"xyes\"; then\n                     stage_version=`echo $version_dir | sed 's/boost_//' | sed 's/_/./g'`\n                         stage_version_shorten=`expr $stage_version : '\\([[0-9]]*\\.[[0-9]]*\\)'`\n                     V_CHECK=`expr $stage_version_shorten \\>\\= $_version`\n-                    if test \"$V_CHECK\" = \"1\" -a \"$ac_boost_lib_path\" = \"\" ; then\n+                    if test \"x$V_CHECK\" = \"x1\" && test -z \"$_AX_BOOST_BASE_boost_lib_path\" ; then\n                         AC_MSG_NOTICE(We will use a staged boost library from $BOOST_ROOT)\n                         BOOST_CPPFLAGS=\"-I$BOOST_ROOT\"\n                         BOOST_LDFLAGS=\"-L$BOOST_ROOT/stage/$libsubdir\"\n@@ -251,15 +272,7 @@ if test \"x$want_boost\" = \"xyes\"; then\n         export LDFLAGS\n \n         AC_LANG_PUSH(C++)\n-            AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[\n-        @%:@include <boost/version.hpp>\n-        ]], [[\n-        #if BOOST_VERSION >= $WANT_BOOST_VERSION\n-        // Everything is okay\n-        #else\n-        #  error Boost version is too old\n-        #endif\n-        ]])],[\n+            AC_COMPILE_IFELSE([_AX_BOOST_BASE_PROGRAM($WANT_BOOST_VERSION)],[\n             AC_MSG_RESULT(yes)\n         succeeded=yes\n         found_system=yes\n@@ -268,24 +281,21 @@ if test \"x$want_boost\" = \"xyes\"; then\n         AC_LANG_POP([C++])\n     fi\n \n-    if test \"$succeeded\" != \"yes\" ; then\n-        if test \"$_version\" = \"0\" ; then\n-            AC_MSG_NOTICE([[We could not detect the boost libraries (version $boost_lib_version_req_shorten or higher). If you have a staged boost library (still not installed) please specify \\$BOOST_ROOT in your environment and do not give a PATH to --with-boost option.  If you are sure you have boost installed, then check your version number looking in <boost/version.hpp>. See http://randspringer.de/boost for more documentation.]])\n+    if test \"x$succeeded\" != \"xyes\" ; then\n+        if test \"x$_version\" = \"x0\" ; then\n+            AC_MSG_NOTICE([[We could not detect the boost libraries (version $1 or higher). If you have a staged boost library (still not installed) please specify \\$BOOST_ROOT in your environment and do not give a PATH to --with-boost option.  If you are sure you have boost installed, then check your version number looking in <boost/version.hpp>. See http://randspringer.de/boost for more documentation.]])\n         else\n             AC_MSG_NOTICE([Your boost libraries seems to old (version $_version).])\n         fi\n         # execute ACTION-IF-NOT-FOUND (if present):\n         ifelse([$3], , :, [$3])\n     else\n-        AC_SUBST(BOOST_CPPFLAGS)\n-        AC_SUBST(BOOST_LDFLAGS)\n         AC_DEFINE(HAVE_BOOST,,[define if the Boost library is available])\n         # execute ACTION-IF-FOUND (if present):\n         ifelse([$2], , :, [$2])\n     fi\n \n     CPPFLAGS=\"$CPPFLAGS_SAVED\"\n     LDFLAGS=\"$LDFLAGS_SAVED\"\n-fi\n \n ])"
      },
      {
        "sha": "207d7be8de41309d204cebd5c0d5ab3fdfd3d7a4",
        "filename": "build-aux/m4/ax_boost_system.m4",
        "status": "modified",
        "additions": 3,
        "deletions": 4,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2620e24b83d16bf0f2bfe360dee1e98b4be59ca5/build-aux/m4/ax_boost_system.m4",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2620e24b83d16bf0f2bfe360dee1e98b4be59ca5/build-aux/m4/ax_boost_system.m4",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/build-aux/m4/ax_boost_system.m4?ref=2620e24b83d16bf0f2bfe360dee1e98b4be59ca5",
        "patch": "@@ -1,5 +1,5 @@\n # ===========================================================================\n-#      http://www.gnu.org/software/autoconf-archive/ax_boost_system.html\n+#     https://www.gnu.org/software/autoconf-archive/ax_boost_system.html\n # ===========================================================================\n #\n # SYNOPSIS\n@@ -31,7 +31,7 @@\n #   and this notice are preserved. This file is offered as-is, without any\n #   warranty.\n \n-#serial 18\n+#serial 19\n \n AC_DEFUN([AX_BOOST_SYSTEM],\n [\n@@ -84,7 +84,6 @@ AC_DEFUN([AX_BOOST_SYSTEM],\n \n \t\t\tLDFLAGS_SAVE=$LDFLAGS\n             if test \"x$ax_boost_user_system_lib\" = \"x\"; then\n-                ax_lib=\n                 for libextension in `ls -r $BOOSTLIBDIR/libboost_system* 2>/dev/null | sed 's,.*/lib,,' | sed 's,\\..*,,'` ; do\n                      ax_lib=${libextension}\n \t\t\t\t    AC_CHECK_LIB($ax_lib, exit,\n@@ -109,7 +108,7 @@ AC_DEFUN([AX_BOOST_SYSTEM],\n \n             fi\n             if test \"x$ax_lib\" = \"x\"; then\n-                AC_MSG_ERROR(Could not find a version of the boost_system library!)\n+                AC_MSG_ERROR(Could not find a version of the library!)\n             fi\n \t\t\tif test \"x$link_system\" = \"xno\"; then\n \t\t\t\tAC_MSG_ERROR(Could not link against $ax_lib !)"
      },
      {
        "sha": "5df49b2af85097ccb0bde3c07104d2f7e9f81372",
        "filename": "depends/packages/boost.mk",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2620e24b83d16bf0f2bfe360dee1e98b4be59ca5/depends/packages/boost.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2620e24b83d16bf0f2bfe360dee1e98b4be59ca5/depends/packages/boost.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/boost.mk?ref=2620e24b83d16bf0f2bfe360dee1e98b4be59ca5",
        "patch": "@@ -1,8 +1,8 @@\n package=boost\n-$(package)_version=1_64_0\n-$(package)_download_path=https://dl.bintray.com/boostorg/release/1.64.0/source/\n+$(package)_version=1_70_0\n+$(package)_download_path=https://dl.bintray.com/boostorg/release/1.70.0/source/\n $(package)_file_name=$(package)_$($(package)_version).tar.bz2\n-$(package)_sha256_hash=7bcc5caace97baa948931d712ea5f37038dbb1c5d89b43ad4def4ed7cb683332\n+$(package)_sha256_hash=430ae8354789de4fd19ee52f3b1f739e1fba576f0aded0897c3c2bc00fb38778\n \n define $(package)_set_vars\n $(package)_config_opts_release=variant=release"
      },
      {
        "sha": "4c0e8d25675f2e52d4697f669a4a62699376c25f",
        "filename": "doc/dependencies.md",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2620e24b83d16bf0f2bfe360dee1e98b4be59ca5/doc/dependencies.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2620e24b83d16bf0f2bfe360dee1e98b4be59ca5/doc/dependencies.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/dependencies.md?ref=2620e24b83d16bf0f2bfe360dee1e98b4be59ca5",
        "patch": "@@ -6,7 +6,7 @@ These are the dependencies currently used by Bitcoin Core. You can find instruct\n | Dependency | Version used | Minimum required | CVEs | Shared | [Bundled Qt library](https://doc.qt.io/qt-5/configure-options.html#third-party-libraries) |\n | --- | --- | --- | --- | --- | --- |\n | Berkeley DB | [4.8.30](https://www.oracle.com/technetwork/database/database-technologies/berkeleydb/downloads/index.html) | 4.8.x | No |  |  |\n-| Boost | [1.64.0](https://www.boost.org/users/download/) | [1.47.0](https://github.com/bitcoin/bitcoin/pull/8920) | No |  |  |\n+| Boost | [1.70.0](https://www.boost.org/users/download/) | [1.47.0](https://github.com/bitcoin/bitcoin/pull/8920) | No |  |  |\n | Clang |  | [3.3+](https://llvm.org/releases/download.html) (C++11 support) |  |  |  |\n | D-Bus | [1.10.18](https://cgit.freedesktop.org/dbus/dbus/tree/NEWS?h=dbus-1.10) |  | No | Yes |  |\n | Expat | [2.2.6](https://libexpat.github.io/) |  | No | Yes |  |"
      }
    ]
  }
]