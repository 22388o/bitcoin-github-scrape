paveljanik,2016-06-07T20:16:42Z,ACK https://github.com/bitcoin/bitcoin/pull/8164/commits/86efa30ae3fd36aa77b19ff0f70bb89be9ec308e\n,https://github.com/bitcoin/bitcoin/pull/8164#issuecomment-224400597,224400597,
paveljanik,2016-06-07T20:17:45Z,"Hmm, doesn't this call for generalization? Ie. to not need to name the files in this directory?\n",https://github.com/bitcoin/bitcoin/pull/8164#issuecomment-224400871,224400871,
theuni,2016-06-08T02:51:25Z,"For the sake of unborking master, ACK https://github.com/bitcoin/bitcoin/pull/8164/commits/86efa30ae3fd36aa77b19ff0f70bb89be9ec308e. I'll address my complaints in a follow-up.\n",https://github.com/bitcoin/bitcoin/pull/8164#issuecomment-224473811,224473811,
theuni,2016-06-07T20:46:58Z,"This should be stored to an unsigned long and checked against std::numeric_limits<uint32_t>::max() just to be safe, otherwise invalid values will wrap and be quietly accepted. To be doubly safe, it'd need to use strtoll and check errno and negatives :\.\n\nI'm unsure what amount of paranoia is called for here.\n",https://github.com/bitcoin/bitcoin/pull/8164#discussion_r66149475,66149475,src/bitcoin-tx.cpp
jonasschnelli,2016-06-07T20:51:11Z,IMO we only support platforms/archs where int is always 32bit and I think `std::numeric_limits<uint32_t>::max()` won't change much.\n,https://github.com/bitcoin/bitcoin/pull/8164#discussion_r66150189,66150189,src/bitcoin-tx.cpp
theuni,2016-06-07T21:29:37Z,@jonasschnelli These are the cases I'm worried about (running on current master):\n\n```\n./bitcoin-tx 01000000000000000000 in=838af7eea675044a35a646f937ba26c412e4db51dc2b155c45f5c2675acd0cae:1:-1\n\n0100000001ae0ccd5a67c2f5455c152bdc51dbe412c426ba37f946a6354a0475a6eef78a830100000000ffffffff0000000000\n```\n\n```\n./bitcoin-tx 01000000000000000000 in=838af7eea675044a35a646f937ba26c412e4db51dc2b155,https://github.com/bitcoin/bitcoin/pull/8164#discussion_r66156513,66156513,src/bitcoin-tx.cpp
laanwj,2016-06-08T07:33:04Z,"why not use ParseInt32, a function I especially wrote for this purpose and does the necessary checking?\nEdit: as discused on IRC we really need a ParseUInt32, going to write one\n",https://github.com/bitcoin/bitcoin/pull/8164#discussion_r66205281,66205281,src/bitcoin-tx.cpp
jonasschnelli,2016-06-08T07:59:19Z,Right. ParseInt32 would be better. I guess it would require a ParseIntU32. This can be done in a later PR and also changes the rest of bitcoin-tx (there are servals `atoi()` and `atoi64`).\n,https://github.com/bitcoin/bitcoin/pull/8164#discussion_r66208237,66208237,src/bitcoin-tx.cpp
