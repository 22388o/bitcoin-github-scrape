[
  {
    "sha": "fa8ec00061567e56333bb69c5623919d45a9a92d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYThlYzAwMDYxNTY3ZTU2MzMzYmI2OWM1NjIzOTE5ZDQ1YTlhOTJk",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-17T17:28:29Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-06-26T17:46:29Z"
      },
      "message": "rpc: Check that left section is not multiline",
      "tree": {
        "sha": "ff4cb4c06d5f83f3243bc684bbbf95600481fe0e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ff4cb4c06d5f83f3243bc684bbbf95600481fe0e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa8ec00061567e56333bb69c5623919d45a9a92d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUhzwAv9G0bWmd7iIyU9ZlG4atXU+vNcOF41zQa2/KkuZyNc//o4nRcOIh2dzqIa\nVG/uTeEkA8BzpGXV7qD0rEyERXJQb+aD7lW9OuUMcNFqdovc/QnjNvfiGVgONBNh\nyk2EiwS2ftf+oRC6XUJEqWwAM3CXmyZTi2Os80b9gRedLSYtO6j3OGKf6EV3kMDz\nTmetGwj5plxJWuKx+zNT6fk6DEp2Z7H3GscRExX3BC7UtofQCyCVQSXcGZeZgW+l\nUEks+FrJSEL4jiCbsi4JmHsiwYBxYhmOZ5OuPaXAvCjvXpXo8mLWoSs+8JYnkak4\nP1fcxT6foe0rhKtNZaQsXteV5ihsHVDD01907g04Ppc2AiDux2icuWFxAVWTvtlU\n7atfpDYrIYa8eVH0vDxXrvADSj54ixYVXSODA8bkVgMBef/ULJR4+1Y09ogI78Wh\n6xcOWoz/ZH+mgRQcrLnjep3LRNEBc4/BMHbjFU4OmROm+Kf9ci57jbq7b/CQI5yt\njvwgV4N8\n=+S0M\n-----END PGP SIGNATURE-----",
        "payload": "tree ff4cb4c06d5f83f3243bc684bbbf95600481fe0e\nparent f32f7e907a5eb73e880c567c699569081608ed7a\nauthor MarcoFalke <falke.marco@gmail.com> 1587144509 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1593193589 -0400\n\nrpc: Check that left section is not multiline\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa8ec00061567e56333bb69c5623919d45a9a92d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa8ec00061567e56333bb69c5623919d45a9a92d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa8ec00061567e56333bb69c5623919d45a9a92d/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f32f7e907a5eb73e880c567c699569081608ed7a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f32f7e907a5eb73e880c567c699569081608ed7a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f32f7e907a5eb73e880c567c699569081608ed7a"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 3,
      "deletions": 0
    },
    "files": [
      {
        "sha": "d476feb96259a2a89bf7200b6db88cb7c2be0ac4",
        "filename": "src/rpc/util.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa8ec00061567e56333bb69c5623919d45a9a92d/src/rpc/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa8ec00061567e56333bb69c5623919d45a9a92d/src/rpc/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.cpp?ref=fa8ec00061567e56333bb69c5623919d45a9a92d",
        "patch": "@@ -381,6 +381,9 @@ struct Sections {\n         std::string ret;\n         const size_t pad = m_max_pad + 4;\n         for (const auto& s : m_sections) {\n+            // The left part of a section is assumed to be a single line, usually it is the name of the JSON struct or a\n+            // brace like {, }, [, or ]\n+            CHECK_NONFATAL(s.m_left.find('\\n') == std::string::npos);\n             if (s.m_right.empty()) {\n                 ret += s.m_left;\n                 ret += \"\\n\";"
      }
    ]
  },
  {
    "sha": "faaeb2b0b347b40ce456a951eec5e820587e5b02",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWFlYjJiMGIzNDdiNDBjZTQ1NmE5NTFlZWM1ZTgyMDU4N2U1YjAy",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-06-26T16:16:22Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-06-30T18:11:11Z"
      },
      "message": "rpc: Add CRPCCommand constructor which takes RPCHelpMan\n\nThis allows the constructor to ask the rpc manager for the name of the\nrpc method or the rpc argument names instead of having it manually\npassed in.",
      "tree": {
        "sha": "47ca1c984e43fbf5333377ec51154e9dbacc0e2c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/47ca1c984e43fbf5333377ec51154e9dbacc0e2c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faaeb2b0b347b40ce456a951eec5e820587e5b02",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgd1Qv+J09vCG1QyZtC/0SFqK/N2OsL4g8yjmBbaDlSldMDjVJpDRoAnFvfTE4E\nJlhBhnK4OUE58xpAg4pR1RzufP0EPnmMn2ZHyazU/95jSopviEm5k9AVNEITJX33\nm7ZOU8dh1TsDayYIve5ZXHMbRBQWOvco5cVqRBsd5YYktfncWu76h5S3GFLJuYDw\nB6AKL9py/mPsfPtYDj5W//qfJQbnaNFbUT/A8gDLJ3oRrttR6DdDQ5jcpe41BY2p\nnbDRHLxjFjqvNFQ2KfClgBbtm7uC/GK0iWW0F09LIUPNLqDU1RKqtqrYryMxKQmj\nyJ+zmUkme+u0Rz79ZWvWbAjQOsHnWTpOkJQITZ4oEBvIsbANIu/pjgaLhAVy9IBo\n3k3UN9JSCLUZhBuMR9bZogVqNg9/pAqjs3mgZ5bvOlZnt1jdERIKbyZ6oWpq/6wv\nBzmwGWAoOQkGHz6zfq3A4bkokGJcnJewl/tXg7uJBUIFKHVRc8YVmL+XWocbFYPv\nj7dglt8n\n=qzV3\n-----END PGP SIGNATURE-----",
        "payload": "tree 47ca1c984e43fbf5333377ec51154e9dbacc0e2c\nparent fa8ec00061567e56333bb69c5623919d45a9a92d\nauthor MarcoFalke <falke.marco@gmail.com> 1593188182 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1593540671 -0400\n\nrpc: Add CRPCCommand constructor which takes RPCHelpMan\n\nThis allows the constructor to ask the rpc manager for the name of the\nrpc method or the rpc argument names instead of having it manually\npassed in.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faaeb2b0b347b40ce456a951eec5e820587e5b02",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/faaeb2b0b347b40ce456a951eec5e820587e5b02",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faaeb2b0b347b40ce456a951eec5e820587e5b02/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa8ec00061567e56333bb69c5623919d45a9a92d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa8ec00061567e56333bb69c5623919d45a9a92d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa8ec00061567e56333bb69c5623919d45a9a92d"
      }
    ],
    "stats": {
      "total": 41,
      "additions": 39,
      "deletions": 2
    },
    "files": [
      {
        "sha": "1c587ae88f2893ee5a1a2be3196d0ebe8e7a347b",
        "filename": "src/rpc/server.h",
        "status": "modified",
        "additions": 14,
        "deletions": 1,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faaeb2b0b347b40ce456a951eec5e820587e5b02/src/rpc/server.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faaeb2b0b347b40ce456a951eec5e820587e5b02/src/rpc/server.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/server.h?ref=faaeb2b0b347b40ce456a951eec5e820587e5b02",
        "patch": "@@ -8,6 +8,7 @@\n \n #include <amount.h>\n #include <rpc/request.h>\n+#include <rpc/util.h>\n \n #include <functional>\n #include <map>\n@@ -85,6 +86,7 @@ void RPCUnsetTimerInterface(RPCTimerInterface *iface);\n void RPCRunLater(const std::string& name, std::function<void()> func, int64_t nSeconds);\n \n typedef UniValue(*rpcfn_type)(const JSONRPCRequest& jsonRequest);\n+typedef RPCHelpMan (*RpcMethodFnType)();\n \n class CRPCCommand\n {\n@@ -101,6 +103,17 @@ class CRPCCommand\n     {\n     }\n \n+    //! Simplified constructor taking plain RpcMethodFnType function pointer.\n+    CRPCCommand(std::string category, std::string name_in, RpcMethodFnType fn, std::vector<std::string> args_in)\n+        : CRPCCommand(\n+              category,\n+              fn().m_name,\n+              [fn](const JSONRPCRequest& request, UniValue& result, bool) { result = fn().HandleRequest(request); return true; },\n+              fn().GetArgNames(),\n+              intptr_t(fn))\n+    {\n+    }\n+\n     //! Simplified constructor taking plain rpcfn_type function pointer.\n     CRPCCommand(const char* category, const char* name, rpcfn_type fn, std::initializer_list<const char*> args)\n         : CRPCCommand(category, name,\n@@ -117,7 +130,7 @@ class CRPCCommand\n };\n \n /**\n- * Bitcoin RPC command dispatcher.\n+ * RPC command dispatcher.\n  */\n class CRPCTable\n {"
      },
      {
        "sha": "fbd51784a727b572df9a01078590ba4221e8dc76",
        "filename": "src/rpc/util.cpp",
        "status": "modified",
        "additions": 14,
        "deletions": 0,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faaeb2b0b347b40ce456a951eec5e820587e5b02/src/rpc/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faaeb2b0b347b40ce456a951eec5e820587e5b02/src/rpc/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.cpp?ref=faaeb2b0b347b40ce456a951eec5e820587e5b02",
        "patch": "@@ -418,7 +418,11 @@ struct Sections {\n };\n \n RPCHelpMan::RPCHelpMan(std::string name, std::string description, std::vector<RPCArg> args, RPCResults results, RPCExamples examples)\n+    : RPCHelpMan{std::move(name), std::move(description), std::move(args), std::move(results), std::move(examples), nullptr} {}\n+\n+RPCHelpMan::RPCHelpMan(std::string name, std::string description, std::vector<RPCArg> args, RPCResults results, RPCExamples examples, RPCMethodImpl fun)\n     : m_name{std::move(name)},\n+      m_fun{std::move(fun)},\n       m_description{std::move(description)},\n       m_args{std::move(args)},\n       m_results{std::move(results)},\n@@ -467,6 +471,16 @@ bool RPCHelpMan::IsValidNumArgs(size_t num_args) const\n     }\n     return num_required_args <= num_args && num_args <= m_args.size();\n }\n+\n+std::vector<std::string> RPCHelpMan::GetArgNames() const\n+{\n+    std::vector<std::string> ret;\n+    for (const auto& arg : m_args) {\n+        ret.emplace_back(arg.m_names);\n+    }\n+    return ret;\n+}\n+\n std::string RPCHelpMan::ToString() const\n {\n     std::string ret;"
      },
      {
        "sha": "49f603c8a1f33604fba9af0a1b6ab916a44605c0",
        "filename": "src/rpc/util.h",
        "status": "modified",
        "additions": 11,
        "deletions": 1,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faaeb2b0b347b40ce456a951eec5e820587e5b02/src/rpc/util.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faaeb2b0b347b40ce456a951eec5e820587e5b02/src/rpc/util.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.h?ref=faaeb2b0b347b40ce456a951eec5e820587e5b02",
        "patch": "@@ -326,8 +326,14 @@ class RPCHelpMan\n {\n public:\n     RPCHelpMan(std::string name, std::string description, std::vector<RPCArg> args, RPCResults results, RPCExamples examples);\n+    using RPCMethodImpl = std::function<UniValue(const RPCHelpMan&, const JSONRPCRequest&)>;\n+    RPCHelpMan(std::string name, std::string description, std::vector<RPCArg> args, RPCResults results, RPCExamples examples, RPCMethodImpl fun);\n \n     std::string ToString() const;\n+    UniValue HandleRequest(const JSONRPCRequest& request)\n+    {\n+        return m_fun(*this, request);\n+    }\n     /** If the supplied number of args is neither too small nor too high */\n     bool IsValidNumArgs(size_t num_args) const;\n     /**\n@@ -340,8 +346,12 @@ class RPCHelpMan\n         }\n     }\n \n-private:\n+    std::vector<std::string> GetArgNames() const;\n+\n     const std::string m_name;\n+\n+private:\n+    const RPCMethodImpl m_fun;\n     const std::string m_description;\n     const std::vector<RPCArg> m_args;\n     const RPCResults m_results;"
      }
    ]
  },
  {
    "sha": "fa9708f94c01cb8bf2971bdf404af38c38fa341b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTk3MDhmOTRjMDFjYjhiZjI5NzFiZGY0MDRhZjM4YzM4ZmEzNDFi",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-07-03T14:13:18Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-07-03T14:32:36Z"
      },
      "message": "rpc: Assert that passed arg names are equal to hardcoded ones",
      "tree": {
        "sha": "34ef5b23ed028032ac556b96cd99efe7bbf03a7d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/34ef5b23ed028032ac556b96cd99efe7bbf03a7d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa9708f94c01cb8bf2971bdf404af38c38fa341b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUjGOgwAi3+S7rSLHCMcE3U2bzGnqEsWT4YoEt5Pfjq4hifdbfGMvfndICC+i2am\ncyYqRACzBfhUMLfW3Yb6XbEghIxQ+dV63JIGhCYFMSnKSaC1MolWZHugz+kTwkPB\nz4UBnJ4y42teZgpynZjqMyc1qN2/bz3D9c5IrLNshb6QbRMuhQC/5g+w3J1gh1D3\n+WT2DZ86fPuooSMqY7dLxbKYQZttubT+L3DlWjRDW31nqa67sp0cKkHOU5ptZch+\ns13QBc/yr5QZGalvVUwUBoZsyF+wvsby+sZsrAFmwOFCfKS0U5bTmMDReWja+cum\nugUM/VjztecuByIlaDvPzxX0DMjw8lUsNjI3jMf5Mp7Zo6/hKXNOrdj7L4DSkFIv\nRNSrQPBEamoPfCRcD1F0FUY9UOfQyAY/BsJxCFPx9SyBRlSPxpNCYD7ZaU5CC1RW\nEOepstJxhUyjLMvvmxOrPy4LMVMk7GB/o/K0jAf5DXUZ/bzIDyg4CWPUTNSYcaoy\nsmj6OgcP\n=LAH+\n-----END PGP SIGNATURE-----",
        "payload": "tree 34ef5b23ed028032ac556b96cd99efe7bbf03a7d\nparent faaeb2b0b347b40ce456a951eec5e820587e5b02\nauthor MarcoFalke <falke.marco@gmail.com> 1593785598 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1593786756 -0400\n\nrpc: Assert that passed arg names are equal to hardcoded ones\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa9708f94c01cb8bf2971bdf404af38c38fa341b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa9708f94c01cb8bf2971bdf404af38c38fa341b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa9708f94c01cb8bf2971bdf404af38c38fa341b/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "faaeb2b0b347b40ce456a951eec5e820587e5b02",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faaeb2b0b347b40ce456a951eec5e820587e5b02",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/faaeb2b0b347b40ce456a951eec5e820587e5b02"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 2,
      "deletions": 0
    },
    "files": [
      {
        "sha": "6da3e94ea285348c23edb220262ce922fdeadea5",
        "filename": "src/rpc/server.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9708f94c01cb8bf2971bdf404af38c38fa341b/src/rpc/server.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9708f94c01cb8bf2971bdf404af38c38fa341b/src/rpc/server.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/server.h?ref=fa9708f94c01cb8bf2971bdf404af38c38fa341b",
        "patch": "@@ -112,6 +112,8 @@ class CRPCCommand\n               fn().GetArgNames(),\n               intptr_t(fn))\n     {\n+        CHECK_NONFATAL(fn().m_name == name_in);\n+        CHECK_NONFATAL(fn().GetArgNames() == args_in);\n     }\n \n     //! Simplified constructor taking plain rpcfn_type function pointer."
      }
    ]
  },
  {
    "sha": "aaaaad562790cd4dce1568ae193f5393aacacedf",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphYWFhYWQ1NjI3OTBjZDRkY2UxNTY4YWUxOTNmNTM5M2FhY2FjZWRm",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-07-03T14:10:26Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-07-03T15:08:36Z"
      },
      "message": "rpc: Add option to hide RPCArg\n\nAlso, update switch statments to our style guide",
      "tree": {
        "sha": "ad21f41e6549924a7c1402e9c660744a018b34cf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ad21f41e6549924a7c1402e9c660744a018b34cf"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aaaaad562790cd4dce1568ae193f5393aacacedf",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUidsQv/a41aL9iWOZ+bEf8+u6PSlezLNMRbBPCd+Y8HbgY6s8+E+wsF0WNbE6SG\nc1c7q/c83j2Y3Uo2lwmetoNzMyzjoDk8Lfk36zcZxZJQCLUoYN0QCU8xlFwBmcmz\n6JkvQLr8acmKsHwv9RY1JqEzysceYzih9VlcnSO8JA+7Y3DOry5bKDYrsstnb9nK\nONHkADqeLpkOhORNOFuCbb+NuJpZVna9RusMRCwKO3dEDnrWnTDW6IXN3e2/qI7u\n5V/N5cjunOWW2sFEkxVXizC2PHk1fA6nJvTGZj2TzCJukiYCOu/JZ9cyeYs7irmy\noZhYhQp4uZkuPgYMEZopmkunPjn1C/CcnfxswR8EVYTaRKW4uMuOdNyc3XuQdRzn\nzuwTnvTflIHZ5mZPRDpK3oSUHbllvMyb2K2l57ad1x/DkUFDKGZB9llOXM9fDjSs\n9YyT49LvtCCs8v0aP7K8ewXAn++MFzj6NRTlvU/dSqT33xJE0vxeUsSmj1nsEUgZ\n4z7g/tDL\n=Zbcp\n-----END PGP SIGNATURE-----",
        "payload": "tree ad21f41e6549924a7c1402e9c660744a018b34cf\nparent fa9708f94c01cb8bf2971bdf404af38c38fa341b\nauthor MarcoFalke <falke.marco@gmail.com> 1593785426 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1593788916 -0400\n\nrpc: Add option to hide RPCArg\n\nAlso, update switch statments to our style guide\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aaaaad562790cd4dce1568ae193f5393aacacedf",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/aaaaad562790cd4dce1568ae193f5393aacacedf",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aaaaad562790cd4dce1568ae193f5393aacacedf/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa9708f94c01cb8bf2971bdf404af38c38fa341b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa9708f94c01cb8bf2971bdf404af38c38fa341b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa9708f94c01cb8bf2971bdf404af38c38fa341b"
      }
    ],
    "stats": {
      "total": 33,
      "additions": 13,
      "deletions": 20
    },
    "files": [
      {
        "sha": "2076c9e64c917a34d3c1427333d6592f3f00e73f",
        "filename": "src/rpc/util.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 19,
        "changes": 27,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/aaaaad562790cd4dce1568ae193f5393aacacedf/src/rpc/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/aaaaad562790cd4dce1568ae193f5393aacacedf/src/rpc/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.cpp?ref=aaaaad562790cd4dce1568ae193f5393aacacedf",
        "patch": "@@ -368,9 +368,7 @@ struct Sections {\n             PushSection({indent + \"]\" + (outer_type != OuterType::NONE ? \",\" : \"\"), \"\"});\n             break;\n         }\n-\n-            // no default case, so the compiler can warn about missing cases\n-        }\n+        } // no default case, so the compiler can warn about missing cases\n     }\n \n     /**\n@@ -489,6 +487,7 @@ std::string RPCHelpMan::ToString() const\n     ret += m_name;\n     bool was_optional{false};\n     for (const auto& arg : m_args) {\n+        if (arg.m_hidden) continue;\n         const bool optional = arg.IsOptional();\n         ret += \" \";\n         if (optional) {\n@@ -510,6 +509,7 @@ std::string RPCHelpMan::ToString() const\n     Sections sections;\n     for (size_t i{0}; i < m_args.size(); ++i) {\n         const auto& arg = m_args.at(i);\n+        if (arg.m_hidden) continue;\n \n         if (i == 0) ret += \"\\nArguments:\\n\";\n \n@@ -589,9 +589,7 @@ std::string RPCArg::ToDescriptionString() const\n             ret += \"json array\";\n             break;\n         }\n-\n-            // no default case, so the compiler can warn about missing cases\n-        }\n+        } // no default case, so the compiler can warn about missing cases\n     }\n     if (m_fallback.which() == 1) {\n         ret += \", optional, default=\" + boost::get<std::string>(m_fallback);\n@@ -609,9 +607,7 @@ std::string RPCArg::ToDescriptionString() const\n             ret += \", required\";\n             break;\n         }\n-\n-            // no default case, so the compiler can warn about missing cases\n-        }\n+        } // no default case, so the compiler can warn about missing cases\n     }\n     ret += \")\";\n     ret += m_description.empty() ? \"\" : \" \" + m_description;\n@@ -706,10 +702,7 @@ void RPCResult::ToSections(Sections& sections, const OuterType outer_type, const\n         sections.PushSection({indent + \"}\" + maybe_separator, \"\"});\n         return;\n     }\n-\n-        // no default case, so the compiler can warn about missing cases\n-    }\n-\n+    } // no default case, so the compiler can warn about missing cases\n     CHECK_NONFATAL(false);\n }\n \n@@ -746,9 +739,7 @@ std::string RPCArg::ToStringObj(const bool oneline) const\n     case Type::OBJ_USER_KEYS:\n         // Currently unused, so avoid writing dead code\n         CHECK_NONFATAL(false);\n-\n-        // no default case, so the compiler can warn about missing cases\n-    }\n+    } // no default case, so the compiler can warn about missing cases\n     CHECK_NONFATAL(false);\n }\n \n@@ -783,9 +774,7 @@ std::string RPCArg::ToString(const bool oneline) const\n         }\n         return \"[\" + res + \"...]\";\n     }\n-\n-        // no default case, so the compiler can warn about missing cases\n-    }\n+    } // no default case, so the compiler can warn about missing cases\n     CHECK_NONFATAL(false);\n }\n "
      },
      {
        "sha": "f49fb1d6b1eb44231ed1c136ad5d2f8d8b64c792",
        "filename": "src/rpc/util.h",
        "status": "modified",
        "additions": 5,
        "deletions": 1,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/aaaaad562790cd4dce1568ae193f5393aacacedf/src/rpc/util.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/aaaaad562790cd4dce1568ae193f5393aacacedf/src/rpc/util.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.h?ref=aaaaad562790cd4dce1568ae193f5393aacacedf",
        "patch": "@@ -144,6 +144,7 @@ struct RPCArg {\n     using Fallback = boost::variant<Optional, /* default value for optional args */ std::string>;\n     const std::string m_names; //!< The name of the arg (can be empty for inner args, can contain multiple aliases separated by | for named request arguments)\n     const Type m_type;\n+    const bool m_hidden;\n     const std::vector<RPCArg> m_inner; //!< Only used for arrays or dicts\n     const Fallback m_fallback;\n     const std::string m_description;\n@@ -156,9 +157,11 @@ struct RPCArg {\n         const Fallback fallback,\n         const std::string description,\n         const std::string oneline_description = \"\",\n-        const std::vector<std::string> type_str = {})\n+        const std::vector<std::string> type_str = {},\n+        const bool hidden = false)\n         : m_names{std::move(name)},\n           m_type{std::move(type)},\n+          m_hidden{hidden},\n           m_fallback{std::move(fallback)},\n           m_description{std::move(description)},\n           m_oneline_description{std::move(oneline_description)},\n@@ -177,6 +180,7 @@ struct RPCArg {\n         const std::vector<std::string> type_str = {})\n         : m_names{std::move(name)},\n           m_type{std::move(type)},\n+          m_hidden{false},\n           m_inner{std::move(inner)},\n           m_fallback{std::move(fallback)},\n           m_description{std::move(description)},"
      }
    ]
  },
  {
    "sha": "fa7592bfa8691eb0289b21da3571709a18391b0f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTc1OTJiZmE4NjkxZWIwMjg5YjIxZGEzNTcxNzA5YTE4MzkxYjBm",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-06-26T18:12:46Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-07-03T15:09:05Z"
      },
      "message": "rpc: Update server to use new RPCHelpMan\n\nAlso, move Check to inside HandleRequest",
      "tree": {
        "sha": "14a4510caca3ea9094bf0a6f04cff6ade11ae8db",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/14a4510caca3ea9094bf0a6f04cff6ade11ae8db"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa7592bfa8691eb0289b21da3571709a18391b0f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgJ+Av/Xpt7217FixECPhN+0kW2jb1pHR5wLqAxvgYyzJhbAzR57wNAJezuL/jM\nRi6cKyaDr/UUvH3WJhpNdSz6CxzfpJAzDRocuxr8275xmovoX68F0t8//W5fRj67\nxyc16TeRmXBYBAjqZ8hRbmhHeCEj2Okv5afy3WOYGIgigZy6BZj77PCNOFRVvoMo\nVLfFmHSQbho3SAOSXhF+U0AmZ5O6+gUwWhDY3YOhx33QF1NsL779Ll8VliD1Vflx\nkT/NrSqhAVH+pywcl4ZArrN08L4NHeAiMo5/XTiQGUetixr+izdBPN6pTplstPQC\nHOO4nFdZGjCA5kJad50N2TAfAa1HelJ760chGKyes6Zmwty6HjYiv6XC33kJUaMI\nhyLwBvvysME7MQ42CJl0MrAUK/sNFGp8jSdRqTdunp+gsR4ZxJdBtVaZZiZmgGpp\n9hczPiZlpZvmG09y/WpstsKdYnmCcMoCmv1WAckdc/KavPEOu2uRek8Ze9nXxOOM\nw5Whcp/G\n=O9jp\n-----END PGP SIGNATURE-----",
        "payload": "tree 14a4510caca3ea9094bf0a6f04cff6ade11ae8db\nparent aaaaad562790cd4dce1568ae193f5393aacacedf\nauthor MarcoFalke <falke.marco@gmail.com> 1593195166 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1593788945 -0400\n\nrpc: Update server to use new RPCHelpMan\n\nAlso, move Check to inside HandleRequest\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa7592bfa8691eb0289b21da3571709a18391b0f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa7592bfa8691eb0289b21da3571709a18391b0f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa7592bfa8691eb0289b21da3571709a18391b0f/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "aaaaad562790cd4dce1568ae193f5393aacacedf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aaaaad562790cd4dce1568ae193f5393aacacedf",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/aaaaad562790cd4dce1568ae193f5393aacacedf"
      }
    ],
    "stats": {
      "total": 51,
      "additions": 28,
      "deletions": 23
    },
    "files": [
      {
        "sha": "e8ef3a7f3aa4a94004c190608aa25ff1a2435075",
        "filename": "src/rpc/server.cpp",
        "status": "modified",
        "additions": 27,
        "deletions": 23,
        "changes": 50,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa7592bfa8691eb0289b21da3571709a18391b0f/src/rpc/server.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa7592bfa8691eb0289b21da3571709a18391b0f/src/rpc/server.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/server.cpp?ref=fa7592bfa8691eb0289b21da3571709a18391b0f",
        "patch": "@@ -130,11 +130,9 @@ std::string CRPCTable::help(const std::string& strCommand, const JSONRPCRequest&\n     return strRet;\n }\n \n-UniValue help(const JSONRPCRequest& jsonRequest)\n+static RPCHelpMan help()\n {\n-    if (jsonRequest.fHelp || jsonRequest.params.size() > 1)\n-        throw std::runtime_error(\n-            RPCHelpMan{\"help\",\n+    return RPCHelpMan{\"help\",\n                 \"\\nList all commands, or get help for a specified command.\\n\",\n                 {\n                     {\"command\", RPCArg::Type::STR, /* default */ \"all commands\", \"The command to get help on\"},\n@@ -143,44 +141,46 @@ UniValue help(const JSONRPCRequest& jsonRequest)\n                     RPCResult::Type::STR, \"\", \"The help text\"\n                 },\n                 RPCExamples{\"\"},\n-            }.ToString()\n-        );\n-\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& jsonRequest) -> UniValue\n+{\n     std::string strCommand;\n     if (jsonRequest.params.size() > 0)\n         strCommand = jsonRequest.params[0].get_str();\n \n     return tableRPC.help(strCommand, jsonRequest);\n+},\n+    };\n }\n \n-\n-UniValue stop(const JSONRPCRequest& jsonRequest)\n+static RPCHelpMan stop()\n {\n     static const std::string RESULT{PACKAGE_NAME \" stopping\"};\n-    // Accept the deprecated and ignored 'detach' boolean argument\n+    return RPCHelpMan{\"stop\",\n     // Also accept the hidden 'wait' integer argument (milliseconds)\n     // For instance, 'stop 1000' makes the call wait 1 second before returning\n     // to the client (intended for testing)\n-    if (jsonRequest.fHelp || jsonRequest.params.size() > 1)\n-        throw std::runtime_error(\n-            RPCHelpMan{\"stop\",\n                 \"\\nRequest a graceful shutdown of \" PACKAGE_NAME \".\",\n-                {},\n+                {\n+                    {\"wait\", RPCArg::Type::NUM, RPCArg::Optional::OMITTED_NAMED_ARG, \"how long to wait in ms\", \"\", {}, /* hidden */ true},\n+                },\n                 RPCResult{RPCResult::Type::STR, \"\", \"A string with the content '\" + RESULT + \"'\"},\n                 RPCExamples{\"\"},\n-            }.ToString());\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& jsonRequest) -> UniValue\n+{\n     // Event loop will exit after current HTTP requests have been handled, so\n     // this reply will get back to the client.\n     StartShutdown();\n     if (jsonRequest.params[0].isNum()) {\n         UninterruptibleSleep(std::chrono::milliseconds{jsonRequest.params[0].get_int()});\n     }\n     return RESULT;\n+},\n+    };\n }\n \n-static UniValue uptime(const JSONRPCRequest& jsonRequest)\n+static RPCHelpMan uptime()\n {\n-            RPCHelpMan{\"uptime\",\n+    return RPCHelpMan{\"uptime\",\n                 \"\\nReturns the total uptime of the server.\\n\",\n                             {},\n                             RPCResult{\n@@ -190,14 +190,16 @@ static UniValue uptime(const JSONRPCRequest& jsonRequest)\n                     HelpExampleCli(\"uptime\", \"\")\n                 + HelpExampleRpc(\"uptime\", \"\")\n                 },\n-            }.Check(jsonRequest);\n-\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+{\n     return GetTime() - GetStartupTime();\n }\n+    };\n+}\n \n-static UniValue getrpcinfo(const JSONRPCRequest& request)\n+static RPCHelpMan getrpcinfo()\n {\n-            RPCHelpMan{\"getrpcinfo\",\n+    return RPCHelpMan{\"getrpcinfo\",\n                 \"\\nReturns details of the RPC server.\\n\",\n                 {},\n                 RPCResult{\n@@ -217,8 +219,8 @@ static UniValue getrpcinfo(const JSONRPCRequest& request)\n                 RPCExamples{\n                     HelpExampleCli(\"getrpcinfo\", \"\")\n                 + HelpExampleRpc(\"getrpcinfo\", \"\")},\n-            }.Check(request);\n-\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+{\n     LOCK(g_rpc_server_info.mutex);\n     UniValue active_commands(UniValue::VARR);\n     for (const RPCCommandExecutionInfo& info : g_rpc_server_info.active_commands) {\n@@ -237,6 +239,8 @@ static UniValue getrpcinfo(const JSONRPCRequest& request)\n \n     return result;\n }\n+    };\n+}\n \n // clang-format off\n static const CRPCCommand vRPCCommands[] ="
      },
      {
        "sha": "35e0d5e9ef989f6380f89041f7915668111770d2",
        "filename": "src/rpc/util.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa7592bfa8691eb0289b21da3571709a18391b0f/src/rpc/util.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa7592bfa8691eb0289b21da3571709a18391b0f/src/rpc/util.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.h?ref=fa7592bfa8691eb0289b21da3571709a18391b0f",
        "patch": "@@ -336,6 +336,7 @@ class RPCHelpMan\n     std::string ToString() const;\n     UniValue HandleRequest(const JSONRPCRequest& request)\n     {\n+        Check(request);\n         return m_fun(*this, request);\n     }\n     /** If the supplied number of args is neither too small nor too high */"
      }
    ]
  }
]