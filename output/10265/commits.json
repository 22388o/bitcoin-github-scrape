[
  {
    "sha": "c36ea693ee16611e0337aec682d1ce80b90e1bd3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjMzZlYTY5M2VlMTY2MTFlMDMzN2FlYzY4MmQxY2U4MGI5MGUxYmQz",
    "commit": {
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2017-04-23T23:48:12Z"
      },
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2017-04-25T07:18:52Z"
      },
      "message": "[wallet] Make sure pindex is non-null before possibly referencing in LogPrintf call.",
      "tree": {
        "sha": "54152a155c86038188dd95f22b355d1a1fa7ff18",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/54152a155c86038188dd95f22b355d1a1fa7ff18"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c36ea693ee16611e0337aec682d1ce80b90e1bd3",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIcBAABCAAGBQJY/vhcAAoJEFevdi2zNTMiYhEP/2Umib9JtJFNQ7Thmdxol3r9\nmDaYlqwfCHQJbA4dWMT5MbpoRIFQcRZV3Y3Emak7GE5eNCOP/V12Ofj4dpYeuUxY\n8fiymggaUT+J2nT+lUffibLdD3pVEaxVswlSLPqjr7ojx4+IG3TlpQECE4mldQxW\nqg6ENPO5fHMqSpnKlukiyTlFCVz/+9QLRU4OOmhw3IARg+8MzQ/CCXTCSobya/u7\ntDda9zvTAirRT6h8LbfgKDaKarwZcH5B9lOvorOYQOp7RMwnN7eByRqxAxFhpKsj\nAXkeLVUaCXnUe+CsvEV6qDVbIF8w4HQO210On0qIVmROt/ht6+AB+/lMzPc2+kp7\n9/Q3OL2Judwn7KUCwhT0j2V7sZ80HPS7isV8EUX2YaVXU4Gz+jp1u7AGrqVC70QB\nh3S1v8c+6RC1CvjdOmsheNg3dIYoxiHUmhJ5UPyJh1hcviyXgexQNtq4Ag8ndpCw\nU2CWpre/zva55MqSSYcsfS4YqaNm1LVJyJclvgOQb5aNQKoBAvG4dGvuVDG0LobS\nZLGzZdKVJosSTyDvVTe5ys2mSIlCQYduW8ObtmIytPssKOK9O5kpzMS+0/ciWzRx\nnhw99qSxGB0MzI9mqNyu7h8uQ5KOXq4CvKjNYwNpENUsbcnb7UkPlezbZes4QrBQ\n71W6BVRaogS4PlNSWDC3\n=zz9Y\n-----END PGP SIGNATURE-----",
        "payload": "tree 54152a155c86038188dd95f22b355d1a1fa7ff18\nparent 1b25b6df0f08f7474228c5b6ed13b58682e1e440\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1492991292 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1493104732 +0900\n\n[wallet] Make sure pindex is non-null before possibly referencing in LogPrintf call.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c36ea693ee16611e0337aec682d1ce80b90e1bd3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c36ea693ee16611e0337aec682d1ce80b90e1bd3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c36ea693ee16611e0337aec682d1ce80b90e1bd3/comments",
    "author": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1b25b6df0f08f7474228c5b6ed13b58682e1e440",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1b25b6df0f08f7474228c5b6ed13b58682e1e440",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1b25b6df0f08f7474228c5b6ed13b58682e1e440"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 4,
      "deletions": 4
    },
    "files": [
      {
        "sha": "7db4874efca8adaf0d807fbac2a9c944e2caf9af",
        "filename": "src/wallet/wallet.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c36ea693ee16611e0337aec682d1ce80b90e1bd3/src/wallet/wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c36ea693ee16611e0337aec682d1ce80b90e1bd3/src/wallet/wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.cpp?ref=c36ea693ee16611e0337aec682d1ce80b90e1bd3",
        "patch": "@@ -1544,6 +1544,10 @@ CBlockIndex* CWallet::ScanForWalletTransactions(CBlockIndex* pindexStart, bool f\n         {\n             if (pindex->nHeight % 100 == 0 && dProgressTip - dProgressStart > 0.0)\n                 ShowProgress(_(\"Rescanning...\"), std::max(1, std::min(99, (int)((GuessVerificationProgress(chainParams.TxData(), pindex) - dProgressStart) / (dProgressTip - dProgressStart) * 100))));\n+            if (GetTime() >= nNow + 60) {\n+                nNow = GetTime();\n+                LogPrintf(\"Still rescanning. At block %d. Progress=%f\\n\", pindex->nHeight, GuessVerificationProgress(chainParams.TxData(), pindex));\n+            }\n \n             CBlock block;\n             if (ReadBlockFromDisk(block, pindex, Params().GetConsensus())) {\n@@ -1557,10 +1561,6 @@ CBlockIndex* CWallet::ScanForWalletTransactions(CBlockIndex* pindexStart, bool f\n                 ret = nullptr;\n             }\n             pindex = chainActive.Next(pindex);\n-            if (GetTime() >= nNow + 60) {\n-                nNow = GetTime();\n-                LogPrintf(\"Still rescanning. At block %d. Progress=%f\\n\", pindex->nHeight, GuessVerificationProgress(chainParams.TxData(), pindex));\n-            }\n         }\n         if (pindex && fAbortRescan) {\n             LogPrintf(\"Rescan aborted at block %d. Progress=%f\\n\", pindex->nHeight, GuessVerificationProgress(chainParams.TxData(), pindex));"
      }
    ]
  }
]