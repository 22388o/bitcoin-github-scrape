jonasschnelli,2014-12-16T21:03:52Z,Looks somehow strange (i would say unusable) on OSX 10.10.\n![bildschirmfoto 2014-12-16 um 22 01 46](https://cloud.githubusercontent.com/assets/178464/5461895/4684f096-856f-11e4-9896-96ddf2fad6a3.png)\n\nI better liked the black icons.\n,https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-67231496,67231496,
Diapolo,2014-12-17T08:53:03Z,I also don't like what @jonasschnelli posted...\n,https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-67293191,67293191,
laanwj,2014-12-17T09:27:02Z,"![christmas_bitcoin](https://cloud.githubusercontent.com/assets/126646/5468969/f4d0a966-85cd-11e4-8f29-7293f36a0181.png)\n**Christmas bitcoin**\n\nI love playing around with this, make the color selectable, go crazy, but please default to neutral black.\n\nOr at least the font color for dark themes, if black has too little contrast with the background?\n\nHowever, it looks like your current code i",https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-67296697,67296697,
laanwj,2014-12-17T09:38:49Z,"Less funny, but using font color as above results in much better:\n![untitled](https://cloud.githubusercontent.com/assets/126646/5469159/484bc894-85d0-11e4-81b8-271405db29a0.png)\n\nBTW: the icons in the menu are still the original black, they need to be color-mangled too.\n",https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-67297988,67297988,
luke-jr,2014-12-17T10:34:04Z,"Text colour (black, in my case) is exactly the boring/ugly I'm trying to avoid here... How's this new version look on your platforms?\n\nThe logic now is:\nButtons and such use the highlight colour or highlighted-text colour, depending on whichi one contrasts less with the window text (which is reasonably assumed to itself contrast with the background). Menus and the transaction list use text colo",https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-67304333,67304333,
laanwj,2014-12-17T13:06:11Z,"![untitled](https://cloud.githubusercontent.com/assets/126646/5471415/432fef3a-85ed-11e4-9815-2e961578837e.png)\n\nI like it, it still looks serious but less boring.\nI still think MacOSX users prefer a `#ifdef MACOSX color=DeepestBlack() #endif` but for weird themes like mine this is a definite improvement.\n",https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-67319233,67319233,
jonasschnelli,2014-12-17T13:17:10Z,Now it looks like this on OSX (see below).\nI would say it looks the same as it looked before this PR.\n\nOn @laanwj screen it looks really nice with the white icons!\n\n![bildschirmfoto 2014-12-17 um 14 15 07](https://cloud.githubusercontent.com/assets/178464/5471533/3261c0f2-85f7-11e4-94cf-ebd8f69cf78b.png)\n,https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-67320324,67320324,
luke-jr,2014-12-18T04:34:02Z,"Changes made. Per @jonasschnelli's review, I think the Mac-specific change @laanwj requested is unnecessary?\n",https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-67440276,67440276,
laanwj,2014-12-18T08:24:31Z,"It looks like that is already automatic, which is better than making a special exception.\n",https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-67454933,67454933,
jonasschnelli,2014-12-18T08:47:58Z,Now it look like this on my environments (see below).\n1. On OSX the patch does not show any (visible) changes to the icons. Should we then not disable the manipulations to save ticks?\n2. Switching the theme (Ubuntu) will not update the Icon style (IMO this would be a nice luxury feature but not a must)\n3. Menu icons color change is missing\n4. Needs windows testing and some posted screens\n\n##,https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-67456995,67456995,
luke-jr,2014-12-18T09:07:22Z,"1. Does OS X not permit users to customise their style? In any case, IMO it'd be ugly to #ifdef just to save some ticks we assume won't ever be needed...\n2. I don't know if there's a way to even detect this?\n3. Menu icons intentionally use a different colour (text colour) than buttons (highlight colour). Otherwise, they would become HighlightColour-on-HighlightColour, which is invisible/ugly.\n\",https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-67458879,67458879,
jonasschnelli,2014-12-18T09:14:14Z,"```\nDoes OS X not permit users to customise their style? In any case, IMO it'd be ugly to #ifdef just to save some ticks we assume won't ever be needed...\n```\n\nI just tried. Could not manage to get some other icon color than the black one on my OSX 10.10.\n\n```\nI don't know if there's a way to even detect this?\n```\n\nYou could re-test and compare the text-color when the main window becomes",https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-67459610,67459610,
laanwj,2014-12-18T09:14:25Z,"The standard Ubuntu style is nice. I like how it picks up the orange.\n1.  I first was afraid of the overhead too but then remembered that this only happens at window construction time, not every time the icons are rendered. So if this doesn't visibly affect start-up time, I'd prefer a ifdeff-less solution.\n2. Don't bother. I don't think it's possible to detect this without platform-specific hack",https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-67459634,67459634,
laanwj,2014-12-27T18:19:52Z,"Merged via e515309, further fixes can be applied later, but merging this before it runs too much out of sync\n",https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-68185918,68185918,
Diapolo,2014-12-28T10:56:35Z,"I don't understand why the icons now look blueish and why that ""adopts style colour for button icons""? The commit-msg doesn't tell me what this does ;). Anyhow this is now on Win8.1:\n![overview](https://cloud.githubusercontent.com/assets/1419649/5563669/84c83c88-8e88-11e4-862b-43178b6e88a3.png)\n",https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-68204044,68204044,
laanwj,2014-12-29T09:47:36Z,"Yes, definitely shouldn't be light blue on windows. Thanks for testing.\n",https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-68244192,68244192,
luke-jr,2014-12-29T09:59:44Z,It's light-blue to match the highlight colour - looks fine to me?\n,https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-68244874,68244874,
laanwj,2014-12-29T10:01:53Z,@luke-jr too low contrast with the grey\n,https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-68244990,68244990,
jonasschnelli,2014-12-29T10:02:52Z,light-blue is not a good choice for windows. @Diapolo could you post some windows screens when manipulating your Theme or color-schema?\n,https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-68245059,68245059,
Diapolo,2014-12-31T09:24:09Z,"This was a high contrast theme, all other normal default Win81 themes didn't change the light-blue:\n![2](https://cloud.githubusercontent.com/assets/1419649/5586691/11f795cc-90d7-11e4-8a4f-b1ce5daf8c7c.png)\n",https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-68431757,68431757,
luke-jr,2014-12-31T09:30:42Z,"The blue is essentially what I get here in KDE. I think it looks good both with the blue and your high contrast screenshot. Please suggest an alternative, if you don't like it...\n",https://github.com/bitcoin/bitcoin/pull/5493#issuecomment-68431996,68431996,
laanwj,2014-12-17T09:33:44Z,"No need for this construction with lighter(). Just substitute the color, keep the alpha:\n\n```\n            const QRgb rgb = img.pixel(x, y);\n            img.setPixel(x, y, qRgba(base.red(), base.green(), base.blue(), qAlpha(rgb)));\n```\n",https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21961047,21961047,src/qt/scicon.cpp
luke-jr,2014-12-17T09:45:59Z,"If I drop .lighter, won't everything become the same colour shade (ignoring alpha)?\n",https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21961640,21961640,src/qt/scicon.cpp
laanwj,2014-12-17T09:51:58Z,"I haven't analyzed @jonasschnelli 's icons, but my observation was that everything already is in the same shade of black, the deepest shade of black available, and it is just alpha that varies.\n",https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21961916,21961916,src/qt/scicon.cpp
Diapolo,2014-12-17T09:56:44Z,Nit: Missing header end comment.\n,https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21962151,21962151,src/qt/scicon.h
Diapolo,2014-12-17T09:57:50Z,"Can you stop doing that? We already had this discussion.\n`static void MakeSingleColourImage(QImage& img, const QColor& colourbase)`\n",https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21962209,21962209,src/qt/scicon.cpp
Diapolo,2014-12-17T09:58:20Z,Already included in the header...\n,https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21962234,21962234,src/qt/scicon.cpp
laanwj,2014-12-17T10:36:31Z,Can you at least take my comment into account? Does this code make _any_ difference with what I gave?\n,https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21964025,21964025,src/qt/scicon.cpp
luke-jr,2014-12-17T10:45:38Z,From a basic run:\n\n```\n      2 gray:120\n      2 gray:127\n      2 gray:128\n      2 gray:129\n      4 gray:118\n      4 gray:122\n      4 gray:124\n      6 gray:121\n      6 gray:123\n      8 gray:117\n     10 gray:115\n     10 gray:119\n     12 gray:114\n     12 gray:125\n     16 gray:116\n     42 gray:113\n     54 gray:111\n     76 gray:112\n    106 gray:107\n    110 gray:109\n    124 gray:1,https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21964416,21964416,src/qt/scicon.cpp
luke-jr,2014-12-17T10:47:46Z,(that's approximately 1% of sampled pixels that are lighter than solid block)\n,https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21964511,21964511,src/qt/scicon.cpp
laanwj,2014-12-17T10:55:18Z,"I'm sure the base level is 0 i.e. absolute black, not 100.\n\nAre you maybe counting the color of pixels with zero alpha (which you can't see anyway)? Or feeding the odd non-onecolor old icon through it?\n",https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21964819,21964819,src/qt/scicon.cpp
laanwj,2014-12-17T10:57:06Z,"In any case this is not a lot of variability. I leave it up to @jonasschnelli to confirm this, but I'd say it looks accidental and they're supposed to be 100% one-color.\n",https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21964898,21964898,src/qt/scicon.cpp
luke-jr,2014-12-17T10:58:49Z,"I was printing the gray variable, which is qGray + 100\n\nI was not counting the zero-alpha pixels, though I have no idea what icons were being fed through it...\n",https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21964976,21964976,src/qt/scicon.cpp
luke-jr,2014-12-17T11:02:39Z,Looks like it's just /icons/about\n,https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21965175,21965175,src/qt/scicon.cpp
laanwj,2014-12-17T13:02:52Z,"Can be reduced to two lines, you don't have to go through QColor at all:\n\n``` c++\n    const QRgb rgb = img.pixel(x, y);\n    img.setPixel(x, y, qRgba(base.red(), base.green(), base.blue(), qAlpha(rgb)));\n```\n",https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21969949,21969949,src/qt/scicon.cpp
Diapolo,2014-12-17T18:11:32Z,Nit: This include belongs into the Qt include block. This here is for core includes :).\n,https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21991267,21991267,src/qt/coincontroldialog.cpp
Diapolo,2014-12-17T18:12:53Z,"Nit: Same here, this include belongs into the Qt include block. This here is for core includes :). Btw. thanks for sticking with the alphabetical ordering scheme :).\n",https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21991356,21991356,src/qt/rpcconsole.cpp
Diapolo,2014-12-17T18:13:58Z,"QColor and QIcon are still included in the header already, so no need for them to be included here again.\n",https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21991423,21991423,src/qt/scicon.cpp
Diapolo,2014-12-17T18:14:37Z,Nit: Also wrong include block...\n,https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21991485,21991485,src/qt/signverifymessagedialog.cpp
laanwj,2014-12-17T19:20:22Z,"You don't have to include these here, you could get away with predeclarations, ie.\n\n``` c++\nQT_BEGIN_NAMESPACE\nclass QString\nclass QColor\nclass QIcon\nQT_END_NAMESPACE\n```\n",https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21996295,21996295,src/qt/scicon.h
laanwj,2014-12-17T19:21:02Z,No need to use `extern` in C++. We don't use it anywhere in the GUI code.\n,https://github.com/bitcoin/bitcoin/pull/5493#discussion_r21996341,21996341,src/qt/scicon.h
