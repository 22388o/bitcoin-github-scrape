ken2812221,2018-07-13T07:19:24Z,You can use `|| ( cat outputfile && false )` to force stop make,https://github.com/bitcoin/bitcoin/pull/13654#issuecomment-404748603,404748603,
kallewoof,2018-07-13T07:27:04Z,@ken2812221 Nice!,https://github.com/bitcoin/bitcoin/pull/13654#issuecomment-404750213,404750213,
theuni,2018-07-13T19:23:34Z,"Concept ACK, though we'll potentially run into timeouts when compiling qt.",https://github.com/bitcoin/bitcoin/pull/13654#issuecomment-404929718,404929718,
DrahtBot,2018-08-23T05:38:48Z,<!--e57a25ab6845829454e8d69fc972939a-->No more conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/13654#issuecomment-415297564,415297564,
ryanofsky,2018-08-23T22:19:09Z,Probably just needs rebase to fix travis UnicodeEncodeError errors (https://github.com/bitcoin/bitcoin/pull/13859#issuecomment-411200990),https://github.com/bitcoin/bitcoin/pull/13654#issuecomment-415589214,415589214,
theuni,2018-08-24T16:55:51Z,"The more I think about it, the less I like accommodating Travis at this layer :(\n\nI don't mind quieting the output and dumping the build log to files rather than stdout, that makes sense. But the printing to keep Travis happy really doesn't belong here.\n\nIMO we should instead PR a feature to travis which creates an fd or character device for listening but not printing.",https://github.com/bitcoin/bitcoin/pull/13654#issuecomment-415818506,415818506,
luke-jr,2018-08-24T17:02:25Z,"At the very least, it should be optional. I find it nice to watch the depends build output in gitian...",https://github.com/bitcoin/bitcoin/pull/13654#issuecomment-415820212,415820212,
MarcoFalke,2018-08-24T17:34:15Z,"Travis should only print if one of the dependencies changes or the build environment, which happens rarely. And then requesting the raw log to take a look at it shouldn't be too much hassle to motivate for the changes here.",https://github.com/bitcoin/bitcoin/pull/13654#issuecomment-415828733,415828733,
kallewoof,2018-08-27T05:04:24Z,"@theuni I hear you on not accommodating Travis. I'll see about using the travis wait feature again, though I believe it didn't work the last time I tried it.",https://github.com/bitcoin/bitcoin/pull/13654#issuecomment-416115235,416115235,
kallewoof,2018-09-15T03:10:36Z,I'm giving up on this for now. I can't make travis happy for some reason.,https://github.com/bitcoin/bitcoin/pull/13654#issuecomment-421526434,421526434,
theuni,2018-07-13T19:31:05Z,"Instead of .fetch_input, let's use ```$$($(1)_download_dir)/.fetch_output```\n\nThat way we're guaranteed to never have any weird races or overwrites.\n\nIt'll also take care of cleaning up the logs when successful.",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r202451468,202451468,depends/funcs.mk
theuni,2018-07-13T19:44:20Z,"Same as above, but ```$$($(1)_download_dir)/.fetch_output```. Likewise for the others.",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r202454218,202454218,depends/funcs.mk
theuni,2018-07-13T19:54:29Z,"No need for the ""$(AT)""s for the echos.\n\nA line starting with $(AT) means that it will be echoed to the terminal if you use ```make V=1```. For example, the mkdir/rm -f below aren't interesting, so we don't usually print them. But they can be shown for debugging with V=1.",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r202456505,202456505,depends/funcs.mk
theuni,2018-07-13T19:56:13Z,"I should think ```$($(1)_fetched)``` would be enough here, is it not for some reason?",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r202456942,202456942,depends/funcs.mk
theuni,2018-07-13T20:00:56Z,"I don't understand what this is supposed to be doing. Looks broken, though :)",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r202458012,202458012,depends/funcs.mk
kallewoof,2018-07-13T21:39:37Z,"Hm, got it. I'll look into undoing this if `V=1`.",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r202479607,202479607,depends/funcs.mk
kallewoof,2018-07-13T21:40:41Z,"The intro part would sometimes not show for packages with nothing to fetch, it appeared like. I can try again though.",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r202479821,202479821,depends/funcs.mk
kallewoof,2018-07-13T21:41:36Z,"It prints out ""..."" after 9 and 18 minutes, unless "".built-$(1)"" has been deleted. It prevents travis from ""nothing in 10 mins"" killing at the qt build, which takes 17 mins.",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r202479968,202479968,depends/funcs.mk
theuni,2018-07-13T22:13:10Z,"Ah, I missed the ""&"" at the end.\n\nI don't think we want to be concerned about that at this level. IMO we should just use ```travis_wait=20``` or so for making depends.",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r202485244,202485244,depends/funcs.mk
kallewoof,2018-07-13T22:32:22Z,"I initially went that route, but travis_wait seems to block output completely.",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r202487926,202487926,depends/funcs.mk
kallewoof,2018-07-18T05:56:16Z,"Oddly, when I removed the $(AT)'s I got the opposite result:\n```\n$ make HOST=x86_64-apple-darwin11\necho ""============================================================""\n============================================================\necho ""   Package : native_biplist""\n   Package : native_biplist\necho ""   Date    : `date`""\n   Date    : Wed Jul 18 14:55:22 JST 2018\necho ""================",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r203258524,203258524,depends/funcs.mk
theuni,2018-07-18T20:50:32Z,"@kallewoof Sorry, I realize that was very misleading.\n\nAn ""@"" in front of a rule causes it to not be echoed.\n ```$(AT)``` means ""echo only if V=1"" (otherwise it expands to ""@"").\n\nBecause we never want to echo the echo command itself, you can just use ```@echo foo``` rather than ```$(AT) echo foo```.",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r203524859,203524859,depends/funcs.mk
kallewoof,2018-07-19T04:32:07Z,"@theuni Ahh... thanks, I didn't know that. I really need to brush up on my makefile skills one of these days...",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r203599016,203599016,depends/funcs.mk
ken2812221,2018-07-20T11:30:04Z,"nit: What about\n\n    $(AT)( while true; do sleep 540; if [ ! -e "".built-$(1)"" ]; then echo `date $(shortdate)`: ...; else break; fi; done ) &",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r204015632,204015632,depends/funcs.mk
kallewoof,2018-07-25T08:08:00Z,"Looks cleaner, but I don't think we want to keep going forever, as the process will continue even if the user aborts (and spam them with date... unti lthey close the terminal).",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r205017351,205017351,depends/funcs.mk
ryanofsky,2018-08-23T21:20:58Z,"You should definitely add a comment describing the interaction with travis, because this is pretty obscure...",https://github.com/bitcoin/bitcoin/pull/13654#discussion_r212461393,212461393,depends/funcs.mk
