DrahtBot,2021-01-13 11:45:14,<!--4a62be1de6b64f3ed646cdc7932c8cf5-->\n🕵️ @sipa has been requested to review this pull request as specified in the REVIEWERS file.,https://github.com/bitcoin/bitcoin/pull/20921#issuecomment-759395959,759395959,
theStack,2021-02-09 23:16:03,@ViralTaco: Agree that there should also be a null pointer check on `pindex` before access. Solved this now by adding a simple `assert` (alternatively one could change the parameter to a reference).,https://github.com/bitcoin/bitcoin/pull/20921#issuecomment-776308991,776308991,
sipa,2021-03-19 02:24:37,"ACK 787df19b09babf50dd8124b3ac990b29c33cfe93. Tested invalidation of generic on regtest.\n\nWould be nice to add a functional test that attempts this, so that it gets detected if it were reintroduced.",https://github.com/bitcoin/bitcoin/pull/20921#issuecomment-802483684,802483684,
practicalswift,2021-03-19 21:02:52,"Tested ACK 787df19b09babf50dd8124b3ac990b29c33cfe93\n\nBefore:\n\n```\n$ git checkout master\n$ make distclean\n$ ./autogen.sh\n$ CC=clang CXX=clang++ ./configure --with-sanitizers=address,undefined\n$ make\n$ src/bitcoind -regtest &\n$ src/bitcoin-cli -regtest generatetodescriptor 1 'addr(bcrt1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq3xueyj)#juyq9d97'\n$ src/bitcoin-cli -r",https://github.com/bitcoin/bitcoin/pull/20921#issuecomment-803130202,803130202,
ViralTaco,2021-02-03 05:48:32,"This is actually not preventing UB, it's adding more. \nSuggested fix here is adding a `nullptr`check. \n```\nif (pindex == nullptr) {\n  // properly handle error\n  throw std::runtime_error(""nullptr dereference in \'src\/validation.cpp\' in \'bool CChainState::InvalidateBlock(BlockValidationState&, CChainParams const&, CBlockIndex* pindex)\' \npindex was nullptr"");\n} else if (pindex->nHeig",https://github.com/bitcoin/bitcoin/pull/20921#discussion_r569147226,569147226,src/validation.cpp
