laanwj,2021-10-01 07:09:34,"Concept ACK, this is a good check to have.",https://github.com/bitcoin/bitcoin/pull/23148#issuecomment-931967784,931967784,
dongcarl,2021-10-02 00:11:05,"Pushed e95b5a9ca9040cab826f041ab7cf348696a15ba3 -> 2261b186ebae38362eaceeed5ac1991b578375fa\n- Cherry-picked 2261b186ebae38362eaceeed5ac1991b578375fa from #22392 as e759330d003099a8acacb1e2b7da00e1f3f1d1ea\n    - Modifications:\n        - Use `lief.ELF.ARCH(243)` instead of 'RISCV' special value\n        - Update `assertEqual` expected string in `test-symbol-check`\n- Stop using `pixie` for t",https://github.com/bitcoin/bitcoin/pull/23148#issuecomment-932642749,932642749,
DrahtBot,2021-10-02 17:05:56,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23212](https://github.com/bitcoin/bitcoin/pull/23212) (lint: enable mypy import checking by fanquake)\n* [#22392](https:",https://github.com/bitcoin/bitcoin/pull/23148#issuecomment-932785182,932785182,
DrahtBot,2021-10-03 11:04:46,<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds\n\n| File | commit 35a31d5f7e9cd71a210c1ed10abc9d772ff36049<br>(master) | commit a9f8ab3120b1c278798ad0e3d746dbda4f9f2586<br>(master and this pull) |\n|--|--|--|\n| SHA256SUMS.part | [`492a0384086452ac...`](https://drahtbot.space/guix/bitcoin/bitcoin/35a31d5f7e9cd71a210c1ed10abc9d772ff36049/SHA256SUMS.part) | [`48c7ddfd9756018e...`](https://,https://github.com/bitcoin/bitcoin/pull/23148#issuecomment-932919862,932919862,
laanwj,2021-10-04 17:19:10,"I missed this before, but I think it can now be removed from the commit message of 2261b186ebae38362eaceeed5ac1991b578375fa, as only lief is used now?\n```\n    Code reviewers: You may see that both lief and pixie are used for\n    check_ELF_interpreter. That's because at the time of writing:\n      - lief does not recognize riscv64 yet (fixed by fanquake in e83f812,\n        not yet in a rel",https://github.com/bitcoin/bitcoin/pull/23148#issuecomment-933691552,933691552,
dongcarl,2021-10-04 19:59:19,"> can now be removed from the commit message\n\nYes, done in latest push!",https://github.com/bitcoin/bitcoin/pull/23148#issuecomment-933808813,933808813,
laanwj,2021-10-05 07:43:44,"Thank you\nCode review ACK 6071282e0af299ebc90ebc8d1b4662a081574bf5",https://github.com/bitcoin/bitcoin/pull/23148#issuecomment-934151891,934151891,
fanquake,2021-10-11 03:10:27,"> Cherry-picked 2261b18 from scripts: use LIEF for ELF security & symbol checks #22392 as e759330\n\nI've now cherry-picked this back into #22392",https://github.com/bitcoin/bitcoin/pull/23148#issuecomment-939642020,939642020,
dongcarl,2021-10-12 17:36:07,"Pushed 6071282e0af299ebc90ebc8d1b4662a081574bf5 -> b74a251e042b8d09c34fd452613736edc339ed30\n- Rebased on #22392\n- Addressed: https://github.com/bitcoin/bitcoin/pull/23148#discussion_r725462900",https://github.com/bitcoin/bitcoin/pull/23148#issuecomment-941225362,941225362,
laanwj,2021-10-13 12:41:04,Code review ACK 1527b7e8a1339705a48d4d1ed108230fc4953c18,https://github.com/bitcoin/bitcoin/pull/23148#issuecomment-942263459,942263459,
dongcarl,2021-10-13 12:41:15,"Pushed b74a251e042b8d09c34fd452613736edc339ed30 -> 1527b7e8a1339705a48d4d1ed108230fc4953c18\n- Rebased on master after merge of #22392\n- Addressed https://github.com/bitcoin/bitcoin/pull/23148#discussion_r728016267",https://github.com/bitcoin/bitcoin/pull/23148#issuecomment-942263646,942263646,
DrahtBot,2021-10-13 13:07:37,<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds\n\n| File | commit 5b7210c8745d9572fe94620f848d4ee1304c91a7<br>(master) | commit 87de097f653076cb4574a8f55d96349cc1b13bf2<br>(master and this pull) |\n|--|--|--|\n| SHA256SUMS.part | [`c79a21dc3da6e71b...`](https://drahtbot.space/guix/bitcoin/bitcoin/5b7210c8745d9572fe94620f848d4ee1304c91a7/SHA256SUMS.part) | [`7ffec0abcb217c9d...`](https://,https://github.com/bitcoin/bitcoin/pull/23148#issuecomment-942287624,942287624,
fanquake,2021-10-14 02:55:36,Being backported to 22.x in #23276.,https://github.com/bitcoin/bitcoin/pull/23148#issuecomment-942898570,942898570,
laanwj,2021-10-01 07:09:19,"using both lief and pixie seems overkill here, please choose one :smile: ",https://github.com/bitcoin/bitcoin/pull/23148#discussion_r719994622,719994622,contrib/devtools/symbol-check.py
fanquake,2021-10-01 07:13:00,I would opt for `lief` as we are moving that direction #22392.,https://github.com/bitcoin/bitcoin/pull/23148#discussion_r719996692,719996692,contrib/devtools/symbol-check.py
dongcarl,2021-10-01 16:23:28,"I explained this in the commit message:\n\n```\nCode reviewers: You may see that both lief and pixie are used for\ncheck_ELF_interpreter. That's because at the time of writing:\n  - lief does not recognize riscv64 yet (fixed by fanquake in e83f812,\n    not yet in a release)\n  - pixie does not know how to extract the interpreter\n```\n\n~Let me know if I'm missing some functionality here!~\n\nOh!",https://github.com/bitcoin/bitcoin/pull/23148#discussion_r720381536,720381536,contrib/devtools/symbol-check.py
laanwj,2021-10-04 17:16:38,"Oops, I missed that commit message, sorry.",https://github.com/bitcoin/bitcoin/pull/23148#discussion_r721562667,721562667,contrib/devtools/symbol-check.py
laanwj,2021-10-09 09:32:37,"I've been thinking of this a bit and I'd slightly prefer to change this to:\n```python\nELF_INTERPRETER_NAMES = {\n    lief.ELF.ARCH.i386:    (None, ""/lib/ld-linux.so.2""),\n    lief.ELF.ARCH.x86_64:  (None, ""/lib64/ld-linux-x86-64.so.2""),\n    lief.ELF.ARCH.ARM:     (None, ""/lib/ld-linux-armhf.so.3""),\n    lief.ELF.ARCH.AARCH64: (None, ""/lib/ld-linux-aarch64.so.1""),\n    lief.ELF.ARCH.PPC64",https://github.com/bitcoin/bitcoin/pull/23148#discussion_r725462900,725462900,contrib/devtools/symbol-check.py
dongcarl,2021-10-12 17:36:35,"Done, but changed the tuple into a dict, which seems clearer",https://github.com/bitcoin/bitcoin/pull/23148#discussion_r727356423,727356423,contrib/devtools/symbol-check.py
laanwj,2021-10-13 12:38:12,Please use the temporary `LIEF_ELF_ARCH_RISCV` constant here that was introduced in 309eac9019c224dfd79a78e381cfcb70fee190f3.,https://github.com/bitcoin/bitcoin/pull/23148#discussion_r728016267,728016267,contrib/devtools/symbol-check.py
laanwj,2021-10-13 12:38:48,"Thanks! Yes, even better.",https://github.com/bitcoin/bitcoin/pull/23148#discussion_r728016803,728016803,contrib/devtools/symbol-check.py
