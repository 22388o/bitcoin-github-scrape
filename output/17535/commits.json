[
  {
    "sha": "48d0561980561a32c2e31765d3a31e4e4db84794",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0OGQwNTYxOTgwNTYxYTMyYzJlMzE3NjVkM2EzMWU0ZTRkYjg0Nzk0",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2019-11-20T15:22:53Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2019-11-20T15:24:06Z"
      },
      "message": "test: add logging to listsinceblock.py",
      "tree": {
        "sha": "cbe41e4772cfb4d91ade082c8f7282f0867332a9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cbe41e4772cfb4d91ade082c8f7282f0867332a9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/48d0561980561a32c2e31765d3a31e4e4db84794",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl3VWpYACgkQT1chs9Dj\nkh1tuA/+J3Ylr7gaEjU2XIjPSZqg6p2Jpjki7Ns8dW5DozK7jUQWOmNuP+fkzj+I\nvrUhsX/SW5YrEk8nA3TEiRMf1kzmIPCAlCqHKWwyukg/ntVh7N+GPaaKN/5cPN8S\nnXbejajMjf04/gMOhRFz8pqGQV5fZX/D95WTMl9zQGeMVgZMJ3PIY+4NPRwHpAKt\nCYnU/yGaNEF9CNJ6iGbKdx8+UXLlXSi4LkyKIkEPxERbjUFIKE5MchDCJPFaMlsT\nJ8qODDlTkcXsKivcKgfe00COJv/mK0n+CB8G4xQ+OMnddNzHpUyKsjbu3N9qrBvn\nCYXQ7m1OULieldpphtHoPznzY/9Nh2BU+U6J3e8UaYnNHf56yNEbDv96T3a1Ecnk\n8+cgkFBN6FQg3dFcK/bGqDFEzjn/x5SQBUhYec4ZlblrbEYO86CdNDg8XrLIjD/P\nvLRqPPjH2jx05w/dXLaC1DuXlCD9tI/hHUg6fdIbFA2X/Sl35s1l+N61IpN0rDuB\nrJkhakIAjGxEzHBcTq4rIlW73JKf6jIylbVayNua5BHx3BTeB8pAzFrIxpfWXU8z\nIY7Dk2yiyyqzX0JwBameF0uiflBd0inC+rLd7sPcQzG+Lkk18Whb4aHqj+Ff3pq1\nYiwyrKeXjPG0etOKVtFLFbES2gLqXWGeuRZm7ZkJblBEN3JfeUc=\n=vgUk\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwID+lKiWIWoqt1suGeGNx/rIxU1yHLK2tBlF8nYQJCs+ZCP/wEDX1YcPQ8nc2\nEyLKga2rfWQI8QRd1VqX8Aie33Fc0q4mOQCD3+MNLvkMjiMiaHR0cHM6Ly9idGMu\nY2FsZW5kYXIuY2F0YWxsYXh5LmNvbf/wELA3huDbprnbDdRJsm7UajkI8QRd1VqY\n8AgpDNsDXg12uwCD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2FsZW5kYXIu\nb3BlbnRpbWVzdGFtcHMub3Jn//AQ5o0WJGPtquDA/5BGH0N67wjxBF3VWpfwCPg1\nYIb7Vln8AIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRhci5ldGVybml0\neXdhbGwuY29t8BDsJkqivmIqui7PA9uDJD8wCPEEXdVamPAIeotryI/jyYwAg9/j\nDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree cbe41e4772cfb4d91ade082c8f7282f0867332a9\nparent b4a1da9ef8e4b673c290d5b882527e627ae1b43a\nauthor Jon Atack <jon@atack.com> 1574263373 +0100\ncommitter Jon Atack <jon@atack.com> 1574263446 +0100\n\ntest: add logging to listsinceblock.py\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48d0561980561a32c2e31765d3a31e4e4db84794",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/48d0561980561a32c2e31765d3a31e4e4db84794",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48d0561980561a32c2e31765d3a31e4e4db84794/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b4a1da9ef8e4b673c290d5b882527e627ae1b43a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b4a1da9ef8e4b673c290d5b882527e627ae1b43a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b4a1da9ef8e4b673c290d5b882527e627ae1b43a"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 6,
      "deletions": 0
    },
    "files": [
      {
        "sha": "1f9a2b0ae3a37ba7f668c58ce47b57cb3aa404f0",
        "filename": "test/functional/wallet_listsinceblock.py",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/48d0561980561a32c2e31765d3a31e4e4db84794/test/functional/wallet_listsinceblock.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/48d0561980561a32c2e31765d3a31e4e4db84794/test/functional/wallet_listsinceblock.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_listsinceblock.py?ref=48d0561980561a32c2e31765d3a31e4e4db84794",
        "patch": "@@ -38,6 +38,7 @@ def run_test(self):\n         self.double_spends_filtered()\n \n     def test_no_blockhash(self):\n+        self.log.info(\"Test no blockhash\")\n         txid = self.nodes[2].sendtoaddress(self.nodes[0].getnewaddress(), 1)\n         blockhash, = self.nodes[2].generate(1)\n         blockheight = self.nodes[2].getblockheader(blockhash)['height']\n@@ -63,6 +64,7 @@ def test_no_blockhash(self):\n              \"transactions\": txs})\n \n     def test_invalid_blockhash(self):\n+        self.log.info(\"Test invalid blockhash\")\n         assert_raises_rpc_error(-5, \"Block not found\", self.nodes[0].listsinceblock,\n                                 \"42759cde25462784395a337460bde75f58e73d3f08bd31fdc3507cbac856a2c4\")\n         assert_raises_rpc_error(-5, \"Block not found\", self.nodes[0].listsinceblock,\n@@ -100,6 +102,7 @@ def test_reorg(self):\n \n         This test only checks that [tx0] is present.\n         '''\n+        self.log.info(\"Test reorg\")\n \n         # Split network into two\n         self.split_network()\n@@ -155,6 +158,7 @@ def test_double_spend(self):\n         until the fork point, and to include all transactions that relate to the\n         node wallet.\n         '''\n+        self.log.info(\"Test double spend\")\n \n         self.sync_all()\n \n@@ -234,6 +238,7 @@ def test_double_send(self):\n         3. It is listed with a confirmation count of 2 (bb3, bb4), not\n            3 (aa1, aa2, aa3).\n         '''\n+        self.log.info(\"Test double send\")\n \n         self.sync_all()\n \n@@ -302,6 +307,7 @@ def double_spends_filtered(self):\n         `listsinceblock` was returning conflicted transactions even if they\n         occurred before the specified cutoff blockhash\n         '''\n+        self.log.info(\"Test spends filtered\")\n         spending_node = self.nodes[2]\n         dest_address = spending_node.getnewaddress()\n "
      }
    ]
  },
  {
    "sha": "fc502da89d4ba6714f393f1d6730bc1e5163799e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYzUwMmRhODlkNGJhNjcxNGYzOTNmMWQ2NzMwYmMxZTUxNjM3OTll",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2019-11-20T15:20:33Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2019-11-22T09:06:32Z"
      },
      "message": "test: add block height test to listsinceblock.py\n\nand correct the header docstring.",
      "tree": {
        "sha": "bbf9d666cddd9199a02ed41903da521033839afe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bbf9d666cddd9199a02ed41903da521033839afe"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fc502da89d4ba6714f393f1d6730bc1e5163799e",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl3XpSEACgkQT1chs9Dj\nkh3yFg//ZeYpwJ6LZaxr5OfhamL2Dov1r5P3hSFNyGwI+eKd36ntxgXRWGr9td14\nZr1H6o0cluDYzjBFjsIvmr0yjQ0/PWuZWjBOsRvxcmv7e2zPwaPW5rX8zIWYgUHH\nguTXOUzO6D9DTerFEWsArk2rzT2yGSBJIdo1CapWHWWvhkamvkIHuH1hO2ghFuD6\nlqRgdz4VK6rhvFmli8xSJ+vxzpvEEqQxDF0WRRwyLtwb2q7u65dql0gee2Ke5XRy\ndwoXT3rXcFpVszyFG4XL7qkOG8BlAqTvRU4mEEHQt/W6kqkDE59J8adZ1I0oovY/\nGaKjGifTLhkpWrb61DLhhvYYK/aWY1CH1gaWoQZho8X6jaowfeo3rlE84497YNq9\n9X9KT3x4EwEK566hwFbKfcI+m10xOQ97aPXwPD+svovJSrJIPkv6w13CQHk2Sjw3\nP3xrTclZLXBUMMzmYjJZBi2apNcfHpHftcW3WvjZHmkzyZz8ehjtCTXxtZ7wABJZ\n2q5bYFmh1OVpg8B/mQPUX/pU473k31xraHHDaOqt7nYdGMJb0XXXbI9BAVkhEhLo\niKF3aD0gD6ZMJzT/oH2L6yfuc40WfE100nG1Y9yUvHy1eqBmAGeAabiaTwbxbOj6\njbgRsQX3NqtZ6hjuiy2Xki5+LRUfMsCEDsg0eMB0B82rmyG2rAM=\n=E6y3\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIBOKAE5ERZR7GUqr7X4nX/glVTXa7sjokAtY1PSg5juRCP/wEAuP1ivfSRNO\nFUQo87NmFLQI8QRd16Uj8AjX+ilzkShxGACD3+MNLvkMjiwraHR0cHM6Ly9ib2Iu\nYnRjLmNhbGVuZGFyLm9wZW50aW1lc3RhbXBzLm9yZ//wEIh7N+sDYUVanR/P0NHM\ntRoI8QRd16Ui8Ah5FUH6c9dqSQCD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMu\nY2FsZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQjUFSePXoY5GC2oG3ECdUqgjx\nBF3XpSLwCGwU/z5QYPuoAIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRh\nci5ldGVybml0eXdhbGwuY29t8BCw5wXffKU8cvbdDg7V4hjOCPEEXdelIvAIJPg1\nEJMGgBoAg9/jDS75DI4jImh0dHBzOi8vYnRjLmNhbGVuZGFyLmNhdGFsbGF4eS5j\nb20=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree bbf9d666cddd9199a02ed41903da521033839afe\nparent 48d0561980561a32c2e31765d3a31e4e4db84794\nauthor Jon Atack <jon@atack.com> 1574263233 +0100\ncommitter Jon Atack <jon@atack.com> 1574413592 +0100\n\ntest: add block height test to listsinceblock.py\n\nand correct the header docstring.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fc502da89d4ba6714f393f1d6730bc1e5163799e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fc502da89d4ba6714f393f1d6730bc1e5163799e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fc502da89d4ba6714f393f1d6730bc1e5163799e/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "48d0561980561a32c2e31765d3a31e4e4db84794",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48d0561980561a32c2e31765d3a31e4e4db84794",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/48d0561980561a32c2e31765d3a31e4e4db84794"
      }
    ],
    "stats": {
      "total": 23,
      "additions": 11,
      "deletions": 12
    },
    "files": [
      {
        "sha": "8190acba0fe76f7525a00787dcf976db0edce85b",
        "filename": "test/functional/wallet_listsinceblock.py",
        "status": "modified",
        "additions": 11,
        "deletions": 12,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fc502da89d4ba6714f393f1d6730bc1e5163799e/test/functional/wallet_listsinceblock.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fc502da89d4ba6714f393f1d6730bc1e5163799e/test/functional/wallet_listsinceblock.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_listsinceblock.py?ref=fc502da89d4ba6714f393f1d6730bc1e5163799e",
        "patch": "@@ -2,7 +2,7 @@\n # Copyright (c) 2017-2019 The Bitcoin Core developers\n # Distributed under the MIT software license, see the accompanying\n # file COPYING or http://www.opensource.org/licenses/mit-license.php.\n-\"\"\"Test the listsincelast RPC.\"\"\"\n+\"\"\"Test the listsinceblock RPC.\"\"\"\n \n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.messages import BIP125_SEQUENCE_NUMBER\n@@ -111,23 +111,22 @@ def test_reorg(self):\n         senttx = self.nodes[2].sendtoaddress(self.nodes[0].getnewaddress(), 1)\n \n         # generate on both sides\n-        lastblockhash = self.nodes[1].generate(6)[5]\n-        self.nodes[2].generate(7)\n-        self.log.info('lastblockhash=%s' % (lastblockhash))\n+        nodes1_last_blockhash = self.nodes[1].generate(6)[-1]\n+        nodes2_first_blockhash = self.nodes[2].generate(7)[0]\n+        self.log.debug(\"nodes[1] last blockhash = {}\".format(nodes1_last_blockhash))\n+        self.log.debug(\"nodes[2] first blockhash = {}\".format(nodes2_first_blockhash))\n \n         self.sync_all(self.nodes[:2])\n         self.sync_all(self.nodes[2:])\n \n         self.join_network()\n \n-        # listsinceblock(lastblockhash) should now include tx, as seen from nodes[0]\n-        lsbres = self.nodes[0].listsinceblock(lastblockhash)\n-        found = False\n-        for tx in lsbres['transactions']:\n-            if tx['txid'] == senttx:\n-                found = True\n-                break\n-        assert found\n+        # listsinceblock(nodes1_last_blockhash) should now include tx as seen from nodes[0]\n+        # and return the block height which listsinceblock now exposes since a5e7795.\n+        transactions = self.nodes[0].listsinceblock(nodes1_last_blockhash)['transactions']\n+        found = next(tx for tx in transactions if tx['txid'] == senttx)\n+        assert_equal(found['blockheight'],\n+                     self.nodes[0].getblockheader(nodes2_first_blockhash)['height'])\n \n     def test_double_spend(self):\n         '''"
      }
    ]
  },
  {
    "sha": "ab71f64c7efc0c66f047652ba2122f759e172722",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphYjcxZjY0YzdlZmMwYzY2ZjA0NzY1MmJhMjEyMmY3NTllMTcyNzIy",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2019-11-21T09:35:28Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2019-12-06T16:10:01Z"
      },
      "message": "test: add expected fields tests to listsinceblock.py",
      "tree": {
        "sha": "819b176584e1dae334eaeef47cc1df0c7882bfd0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/819b176584e1dae334eaeef47cc1df0c7882bfd0"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ab71f64c7efc0c66f047652ba2122f759e172722",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl3qfVkACgkQT1chs9Dj\nkh0BrQ//eqD+urwTI39Wq0Bw+9vOzlFHrJYP5s3/8teTrBfQWTtWEoyDZRh9lUNb\nNM/lLULHwh8eiq24elia+hto4Hl5+IHXRbPWmCFx+cocyjEdhGmEy4XFEMyU/Xsm\n2ilXzX4W3gAs0iVDvGk8dfmFuy2pzGrwv4zwYoUON6JbeUFwV9UKblNxztdYLV90\n1bwrobmsPhRXHB9DVDSvy3fh+DqWMX4CL+KCqDnZFgQyF7TSVolxwFjiQnCXtQpo\n+CXpVsh2B5aKSSjzW6iMDoNjE1VLeKiISHaS/zfsnGG8IxRC3+HuAzkDWSlLPDv0\nSmH2YPlGLKzWM/aPnljJ759R0OdCjtp39Uv1QJLTO/CAPogdcHRNyXkj/JgQwwQZ\n1QHpbQGXULAeEO+S6OOzl2lnjreiPevKoiyK3DEUV39M/SBgcuPvL0JIh6uG/SGB\nR5QmuChWwu+kkFtT+mbs3eXH8VhO/GlXjtUx3dKuPB2LWBjLDW8jwqIHLHkNj3tE\nc6vrOkuhRGVMslzqTiJm753AR8uNdDVMklbm+JWkblv6oAjzSZLxUjTKqN+WVDyA\n0ri3eyW9CG9B/RrGVHCGgFsKA3/sdMLuGuqOjcnREOKap61OBZ1/nY6SJwMZNrdt\nTKHAtLa9V3kvVZ4HVBtUmJDCK3mnmQ0MGIwkQJEqVjTmRJpEKrI=\n=a2Dy\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIE4XhORz1NSVIKKJq37xwYcee4ZdfUS1/tRLIQd/aEFPCP/wECRfDmtYvVyP\nouXvU+LH4PMI8CCL+Q1EtojCiuXLBqj4dH3ILHA2fgNxO8qzc20X7ymPTgjxBF3q\nfVzwCOZfXKpQc83qAIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRhci5l\ndGVybml0eXdhbGwuY29t//AQ5EsNT0m02PV1yorY2j7W9AjwIPEkpNX8JYOvkCQ+\n+BAloCR6vaYR2zDSCphtOiBM4+9LCPEEXep9W/AI2eERwAWQTmMAg9/jDS75DI4s\nK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5vcmfwEPE6\nATHfIQfpfdCGbMqx2okI8SBplXOJr66nlFjcheS/YB7zIVwy/bZLht9VggOcNKcS\nAgjxBF3qfVvwCDg6cCavinxxAIPf4w0u+QyOIyJodHRwczovL2J0Yy5jYWxlbmRh\nci5jYXRhbGxheHkuY29t\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 819b176584e1dae334eaeef47cc1df0c7882bfd0\nparent fc502da89d4ba6714f393f1d6730bc1e5163799e\nauthor Jon Atack <jon@atack.com> 1574328928 +0100\ncommitter Jon Atack <jon@atack.com> 1575648601 +0100\n\ntest: add expected fields tests to listsinceblock.py\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ab71f64c7efc0c66f047652ba2122f759e172722",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ab71f64c7efc0c66f047652ba2122f759e172722",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ab71f64c7efc0c66f047652ba2122f759e172722/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fc502da89d4ba6714f393f1d6730bc1e5163799e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fc502da89d4ba6714f393f1d6730bc1e5163799e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fc502da89d4ba6714f393f1d6730bc1e5163799e"
      }
    ],
    "stats": {
      "total": 27,
      "additions": 16,
      "deletions": 11
    },
    "files": [
      {
        "sha": "1a1bd74a2d6a7abfd5f6f1abbd61f195d5fc3d88",
        "filename": "test/functional/wallet_listsinceblock.py",
        "status": "modified",
        "additions": 16,
        "deletions": 11,
        "changes": 27,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ab71f64c7efc0c66f047652ba2122f759e172722/test/functional/wallet_listsinceblock.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ab71f64c7efc0c66f047652ba2122f759e172722/test/functional/wallet_listsinceblock.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_listsinceblock.py?ref=ab71f64c7efc0c66f047652ba2122f759e172722",
        "patch": "@@ -15,6 +15,13 @@\n \n from decimal import Decimal\n \n+LISTSINCEBLOCK_FIELDS = frozenset({\n+    'address', 'amount', 'bip125-replaceable',\n+    'blockhash', 'blockheight', 'blockindex', 'blocktime',\n+    'category', 'confirmations', 'label', 'time', 'timereceived',\n+    'txid', 'vout', 'walletconflicts'\n+})\n+\n class ListSinceBlockTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 4\n@@ -52,16 +59,12 @@ def test_no_blockhash(self):\n             \"blockheight\": blockheight,\n             \"confirmations\": 1,\n         })\n-        assert_equal(\n-            self.nodes[0].listsinceblock(),\n-            {\"lastblock\": blockhash,\n-             \"removed\": [],\n-             \"transactions\": txs})\n-        assert_equal(\n-            self.nodes[0].listsinceblock(\"\"),\n-            {\"lastblock\": blockhash,\n-             \"removed\": [],\n-             \"transactions\": txs})\n+\n+        expected_result = {\"lastblock\": blockhash, \"removed\": [], \"transactions\": txs}\n+        for blockhash_arg in [None, \"\"]:\n+            lsbres = self.nodes[0].listsinceblock(blockhash_arg)\n+            assert_equal(lsbres, expected_result)\n+            assert_equal(set(*lsbres['transactions']), LISTSINCEBLOCK_FIELDS)\n \n     def test_invalid_blockhash(self):\n         self.log.info(\"Test invalid blockhash\")\n@@ -122,11 +125,13 @@ def test_reorg(self):\n         self.join_network()\n \n         # listsinceblock(nodes1_last_blockhash) should now include tx as seen from nodes[0]\n-        # and return the block height which listsinceblock now exposes since a5e7795.\n+        # and return the block height which listsinceblock now exposes since a5e7795,\n+        # as well as the expected fields.\n         transactions = self.nodes[0].listsinceblock(nodes1_last_blockhash)['transactions']\n         found = next(tx for tx in transactions if tx['txid'] == senttx)\n         assert_equal(found['blockheight'],\n                      self.nodes[0].getblockheader(nodes2_first_blockhash)['height'])\n+        assert_equal(set([*found]), LISTSINCEBLOCK_FIELDS)\n \n     def test_double_spend(self):\n         '''"
      }
    ]
  },
  {
    "sha": "9501a27c99fe072de797dfd8b31db39c496d61e2",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5NTAxYTI3Yzk5ZmUwNzJkZTc5N2RmZDhiMzFkYjM5YzQ5NmQ2MWUy",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2019-11-20T15:16:39Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2019-12-06T16:10:06Z"
      },
      "message": "doc: release note improvements",
      "tree": {
        "sha": "307562387f9e46851a8cbc9030a47f6dd2ba51b7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/307562387f9e46851a8cbc9030a47f6dd2ba51b7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9501a27c99fe072de797dfd8b31db39c496d61e2",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl3qfV8ACgkQT1chs9Dj\nkh0gZQ//WcnOGp3jOeUqtiO/yZ1zp3VO2ZR35IU0SB3lO6yDFREs3ECo4NscR9Xl\n2B66yrTSsGNh/2qi6l/DqZA730DRLl6etTkri0XreS1xdLoBdUZ5OODnP+VF2d+A\nkEKLM6Muh9qzQKinP3nZ09YYS7EUrsM66c2dDrdZR+wesDo+24FbTaZnZqlW+UNt\nWaYPSeQkCauZqBeoxF2Gc7QrVuvFHF8fn4s7c+cnifLqGhVkU6cM5oQOp82/kIw2\nMvPHP58NEiPQj1mr1GfjAgNX7yg6F7IdK9bVXw6ZSg3NviTHcWIXtI2kGaOI/knu\nzCymtYRwbJnsij3pUCnSdmQC+REZ2uwjV/L1IiyXIAkudHjA3adS2m2PiQdBgkuj\n8GsxTPfJwovVnHsUVXkaSx4+seUPphJOFf21zsxm/mbAnf33Yys5bI9V4PWSr12Z\nCIHFA+LdAFSRPRpWijO8E14tag276B98Rodvjgme27pMCRQppEgB85It/4HlgPwn\n3ulGZmKNzOrgsKCAB0uUdE5K+HgG+avVhtlKhUI6AgaLRVqCTem8M5S8wxSyMFI8\nQL+JpTOJWUc3be2cUJwBuWWb0T2bc/kZtTOh0ZVZ/uabhZSzMOv8wOsdPWUjpKN5\nTgcR32Kd710SioYGJ7m9izru0ucuqdi/QGg5VFeq0f+6uUYxKR0=\n=Q6//\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIETjuIS1qJkMDN5zVIOJ8WHhvW+rIcLFgCKUA63Dus+2CP/wECWyAAQHx0Xq\ndF7rUXG2bC0I8CAjEXUFP5gU1zBMC0c1I6pKVgY26Ykjnnvcx8h6eurITwjxBF3q\nfWHwCPHU1JWrBt7dAIPf4w0u+QyOLCtodHRwczovL2JvYi5idGMuY2FsZW5kYXIu\nb3BlbnRpbWVzdGFtcHMub3Jn//AQXKRaA4F2mpH+d+3WzsTNbQjwIPmwxuCecnfm\ngeFTOtf5QAY/BAPnAVk1KPbXRtaKnxbVCPEEXep9YfAIC6uxLvHIvpoAg9/jDS75\nDI4jImh0dHBzOi8vYnRjLmNhbGVuZGFyLmNhdGFsbGF4eS5jb23wEMHODUtht1wK\n3QVUOw6qcHII8CCHi6lFOdTeqS5LE9yBgDq2FVbTB8Tn8bseJxjtvqT6GAjxBF3q\nfWHwCHXYqiJdJ9nzAIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRhci5l\ndGVybml0eXdhbGwuY29t\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 307562387f9e46851a8cbc9030a47f6dd2ba51b7\nparent ab71f64c7efc0c66f047652ba2122f759e172722\nauthor Jon Atack <jon@atack.com> 1574262999 +0100\ncommitter Jon Atack <jon@atack.com> 1575648606 +0100\n\ndoc: release note improvements\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9501a27c99fe072de797dfd8b31db39c496d61e2",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/9501a27c99fe072de797dfd8b31db39c496d61e2",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9501a27c99fe072de797dfd8b31db39c496d61e2/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ab71f64c7efc0c66f047652ba2122f759e172722",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ab71f64c7efc0c66f047652ba2122f759e172722",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ab71f64c7efc0c66f047652ba2122f759e172722"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 5,
      "deletions": 4
    },
    "files": [
      {
        "sha": "7a95a265fef556d722d2c55417b99c6036fd6c2d",
        "filename": "doc/release-notes-17437.md",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9501a27c99fe072de797dfd8b31db39c496d61e2/doc/release-notes-17437.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9501a27c99fe072de797dfd8b31db39c496d61e2/doc/release-notes-17437.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-notes-17437.md?ref=9501a27c99fe072de797dfd8b31db39c496d61e2",
        "patch": "@@ -1,5 +1,5 @@\n Low-level RPC Changes\n ===\n \n-- The RPC gettransaction, listtransactions and listsinceblock responses now also\n-includes the height of the block that contains the wallet transaction, if any.\n+- The RPC gettransaction, listtransactions and listsinceblock responses now\n+include the height of the block that contains the wallet transaction, if any."
      },
      {
        "sha": "50a70c2a33fa82a4fedf2f1e4d9d33a039b71c4e",
        "filename": "doc/release-notes.md",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9501a27c99fe072de797dfd8b31db39c496d61e2/doc/release-notes.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9501a27c99fe072de797dfd8b31db39c496d61e2/doc/release-notes.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-notes.md?ref=9501a27c99fe072de797dfd8b31db39c496d61e2",
        "patch": "@@ -81,8 +81,9 @@ Updated settings\n Updated RPCs\n ------------\n \n-Note: some low-level RPC changes mainly useful for testing are described in the\n-Low-level Changes section below.\n+Please refer to the help of the relevant RPC for more details on an update\n+below. Some low-level RPC changes mainly useful for testing are described\n+in the \"Low-level changes\" section further down.\n \n GUI changes\n -----------"
      }
    ]
  }
]