[
  {
    "sha": "94b528bb0c31f4bf1c4b3eca7050449344ac90cf",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5NGI1MjhiYjBjMzFmNGJmMWM0YjNlY2E3MDUwNDQ5MzQ0YWM5MGNm",
    "commit": {
      "author": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2017-02-06T18:50:08Z"
      },
      "committer": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2017-03-21T10:46:55Z"
      },
      "message": "[qa] Remove bumpfee.py get_change_address hack",
      "tree": {
        "sha": "106c061ec218c063c7e71c93cd243b3dfcdc8e45",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/106c061ec218c063c7e71c93cd243b3dfcdc8e45"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/94b528bb0c31f4bf1c4b3eca7050449344ac90cf",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/94b528bb0c31f4bf1c4b3eca7050449344ac90cf",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/94b528bb0c31f4bf1c4b3eca7050449344ac90cf",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/94b528bb0c31f4bf1c4b3eca7050449344ac90cf/comments",
    "author": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "919aaf6508557439ab859c25dae86998a9bed12f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/919aaf6508557439ab859c25dae86998a9bed12f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/919aaf6508557439ab859c25dae86998a9bed12f"
      }
    ],
    "stats": {
      "total": 23,
      "additions": 5,
      "deletions": 18
    },
    "files": [
      {
        "sha": "bdeea1eea46eaa030b75c9cade4c7652ca35024a",
        "filename": "test/functional/bumpfee.py",
        "status": "modified",
        "additions": 5,
        "deletions": 18,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/94b528bb0c31f4bf1c4b3eca7050449344ac90cf/test/functional/bumpfee.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/94b528bb0c31f4bf1c4b3eca7050449344ac90cf/test/functional/bumpfee.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/bumpfee.py?ref=94b528bb0c31f4bf1c4b3eca7050449344ac90cf",
        "patch": "@@ -115,7 +115,7 @@ def test_segwit_bumpfee_succeeds(rbf_node, dest_address):\n         'vout': 0,\n         \"sequence\": BIP125_SEQUENCE_NUMBER\n     }], {dest_address: Decimal(\"0.0005\"),\n-         get_change_address(rbf_node): Decimal(\"0.0003\")})\n+         rbf_node.getrawchangeaddress(): Decimal(\"0.0003\")})\n     rbfsigned = rbf_node.signrawtransaction(rbfraw)\n     rbfid = rbf_node.sendrawtransaction(rbfsigned[\"hex\"])\n     assert rbfid in rbf_node.getrawmempool()\n@@ -167,13 +167,15 @@ def test_small_output_fails(rbf_node, dest_address):\n     rbfid = spend_one_input(rbf_node,\n                             Decimal(\"0.00100000\"),\n                             {dest_address: 0.00080000,\n-                             get_change_address(rbf_node): Decimal(\"0.00010000\")})\n+                             rbf_node.getrawchangeaddress(): Decimal(\"0.00010000\")})\n     rbf_node.bumpfee(rbfid, {\"totalFee\": 20000})\n \n     rbfid = spend_one_input(rbf_node,\n                             Decimal(\"0.00100000\"),\n                             {dest_address: 0.00080000,\n                              get_change_address(rbf_node): Decimal(\"0.00010000\")})\n+                             get_change_address(rbf_node): Decimal(\"0.00010000\")})\n+                             rbf_node.getrawchangeaddress(): Decimal(\"0.00010000\")})\n     assert_raises_jsonrpc(-4, \"Change output is too small\", rbf_node.bumpfee, rbfid, {\"totalFee\": 20001})\n \n \n@@ -183,7 +185,7 @@ def test_dust_to_fee(rbf_node, dest_address):\n     rbfid = spend_one_input(rbf_node,\n                             Decimal(\"0.00100000\"),\n                             {dest_address: 0.00080000,\n-                             get_change_address(rbf_node): Decimal(\"0.00010000\")})\n+                             rbf_node.getrawchangeaddress(): Decimal(\"0.00010000\")})\n     fulltx = rbf_node.getrawtransaction(rbfid, 1)\n     bumped_tx = rbf_node.bumpfee(rbfid, {\"totalFee\": 19900})\n     full_bumped_tx = rbf_node.getrawtransaction(bumped_tx[\"txid\"], 1)\n@@ -288,21 +290,6 @@ def spend_one_input(node, input_amount, outputs):\n     return txid\n \n \n-def get_change_address(node):\n-    \"\"\"Get a wallet change address.\n-\n-    There is no wallet RPC to access unused change addresses, so this creates a\n-    dummy transaction, calls fundrawtransaction to give add an input and change\n-    output, then returns the change address.\"\"\"\n-    dest_address = node.getnewaddress()\n-    dest_amount = Decimal(\"0.00012345\")\n-    rawtx = node.createrawtransaction([], {dest_address: dest_amount})\n-    fundtx = node.fundrawtransaction(rawtx)\n-    info = node.decoderawtransaction(fundtx[\"hex\"])\n-    return next(address for out in info[\"vout\"]\n-                if out[\"value\"] != dest_amount for address in out[\"scriptPubKey\"][\"addresses\"])\n-\n-\n def submit_block_with_tx(node, tx):\n     ctx = CTransaction()\n     ctx.deserialize(io.BytesIO(hex_str_to_bytes(tx)))"
      }
    ]
  },
  {
    "sha": "e6b2963241017c67e3a0e7456c15bd7b715c246d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplNmIyOTYzMjQxMDE3YzY3ZTNhMGU3NDU2YzE1YmQ3YjcxNWMyNDZk",
    "commit": {
      "author": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2017-02-06T23:27:24Z"
      },
      "committer": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2017-03-21T10:46:55Z"
      },
      "message": "[qa] Get rid of nondeterminism in bumpfee.py\n\nChange bumpfee tests to use the spend_one_input function instead of the\ncreate_fund_sign_send function. The latter function would choose transaction\ninputs and fees in unpredictable ways depending on the order that tests ran,\nwhich meant that adding new tests could cause old tests to fail, and in general\nmade bumpfee.py fragile and unpleasant to work with.",
      "tree": {
        "sha": "4f31978943587e6ca85697a80d24c6e48f66eec8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4f31978943587e6ca85697a80d24c6e48f66eec8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e6b2963241017c67e3a0e7456c15bd7b715c246d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e6b2963241017c67e3a0e7456c15bd7b715c246d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e6b2963241017c67e3a0e7456c15bd7b715c246d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e6b2963241017c67e3a0e7456c15bd7b715c246d/comments",
    "author": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "94b528bb0c31f4bf1c4b3eca7050449344ac90cf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/94b528bb0c31f4bf1c4b3eca7050449344ac90cf",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/94b528bb0c31f4bf1c4b3eca7050449344ac90cf"
      }
    ],
    "stats": {
      "total": 79,
      "additions": 32,
      "deletions": 47
    },
    "files": [
      {
        "sha": "dfdee0d60272c41f38e12fa83b38474ce18527c2",
        "filename": "test/functional/bumpfee.py",
        "status": "modified",
        "additions": 32,
        "deletions": 47,
        "changes": 79,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e6b2963241017c67e3a0e7456c15bd7b715c246d/test/functional/bumpfee.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e6b2963241017c67e3a0e7456c15bd7b715c246d/test/functional/bumpfee.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/bumpfee.py?ref=e6b2963241017c67e3a0e7456c15bd7b715c246d",
        "patch": "@@ -74,7 +74,7 @@ def run_test(self):\n \n \n def test_simple_bumpfee_succeeds(rbf_node, peer_node, dest_address):\n-    rbfid = create_fund_sign_send(rbf_node, {dest_address: 0.00090000})\n+    rbfid = spend_one_input(rbf_node, dest_address)\n     rbftx = rbf_node.gettransaction(rbfid)\n     sync_mempools((rbf_node, peer_node))\n     assert rbfid in rbf_node.getrawmempool() and rbfid in peer_node.getrawmempool()\n@@ -127,7 +127,7 @@ def test_segwit_bumpfee_succeeds(rbf_node, dest_address):\n \n def test_nonrbf_bumpfee_fails(peer_node, dest_address):\n     # cannot replace a non RBF transaction (from node which did not enable RBF)\n-    not_rbfid = create_fund_sign_send(peer_node, {dest_address: 0.00090000})\n+    not_rbfid = peer_node.sendtoaddress(dest_address, Decimal(\"0.00090000\"))\n     assert_raises_jsonrpc(-4, \"not BIP 125 replaceable\", peer_node.bumpfee, not_rbfid)\n \n \n@@ -155,7 +155,7 @@ def test_notmine_bumpfee_fails(rbf_node, peer_node, dest_address):\n def test_bumpfee_with_descendant_fails(rbf_node, rbf_node_address, dest_address):\n     # cannot bump fee if the transaction has a descendant\n     # parent is send-to-self, so we don't have to check which output is change when creating the child tx\n-    parent_id = create_fund_sign_send(rbf_node, {rbf_node_address: 0.00050000})\n+    parent_id = spend_one_input(rbf_node, rbf_node_address)\n     tx = rbf_node.createrawtransaction([{\"txid\": parent_id, \"vout\": 0}], {dest_address: 0.00020000})\n     tx = rbf_node.signrawtransaction(tx)\n     txid = rbf_node.sendrawtransaction(tx[\"hex\"])\n@@ -164,68 +164,58 @@ def test_bumpfee_with_descendant_fails(rbf_node, rbf_node_address, dest_address)\n \n def test_small_output_fails(rbf_node, dest_address):\n     # cannot bump fee with a too-small output\n-    rbfid = spend_one_input(rbf_node,\n-                            Decimal(\"0.00100000\"),\n-                            {dest_address: 0.00080000,\n-                             rbf_node.getrawchangeaddress(): Decimal(\"0.00010000\")})\n-    rbf_node.bumpfee(rbfid, {\"totalFee\": 20000})\n+    rbfid = spend_one_input(rbf_node, dest_address)\n+    rbf_node.bumpfee(rbfid, {\"totalFee\": 50000})\n \n-    rbfid = spend_one_input(rbf_node,\n-                            Decimal(\"0.00100000\"),\n-                            {dest_address: 0.00080000,\n-                             get_change_address(rbf_node): Decimal(\"0.00010000\")})\n-                             get_change_address(rbf_node): Decimal(\"0.00010000\")})\n-                             rbf_node.getrawchangeaddress(): Decimal(\"0.00010000\")})\n-    assert_raises_jsonrpc(-4, \"Change output is too small\", rbf_node.bumpfee, rbfid, {\"totalFee\": 20001})\n+    rbfid = spend_one_input(rbf_node, dest_address)\n+    assert_raises_jsonrpc(-4, \"Change output is too small\", rbf_node.bumpfee, rbfid, {\"totalFee\": 50001})\n \n \n def test_dust_to_fee(rbf_node, dest_address):\n     # check that if output is reduced to dust, it will be converted to fee\n-    # the bumped tx sets fee=9900, but it converts to 10,000\n-    rbfid = spend_one_input(rbf_node,\n-                            Decimal(\"0.00100000\"),\n-                            {dest_address: 0.00080000,\n-                             rbf_node.getrawchangeaddress(): Decimal(\"0.00010000\")})\n+    # the bumped tx sets fee=49,900, but it converts to 50,000\n+    rbfid = spend_one_input(rbf_node, dest_address)\n     fulltx = rbf_node.getrawtransaction(rbfid, 1)\n-    bumped_tx = rbf_node.bumpfee(rbfid, {\"totalFee\": 19900})\n+    bumped_tx = rbf_node.bumpfee(rbfid, {\"totalFee\": 49900})\n     full_bumped_tx = rbf_node.getrawtransaction(bumped_tx[\"txid\"], 1)\n-    assert_equal(bumped_tx[\"fee\"], Decimal(\"0.00020000\"))\n+    assert_equal(bumped_tx[\"fee\"], Decimal(\"0.00050000\"))\n     assert_equal(len(fulltx[\"vout\"]), 2)\n     assert_equal(len(full_bumped_tx[\"vout\"]), 1)  #change output is eliminated\n \n \n def test_settxfee(rbf_node, dest_address):\n     # check that bumpfee reacts correctly to the use of settxfee (paytxfee)\n-    # increase feerate by 2.5x, test that fee increased at least 2x\n-    rbf_node.settxfee(Decimal(\"0.00001000\"))\n-    rbfid = create_fund_sign_send(rbf_node, {dest_address: 0.00090000})\n+    rbfid = spend_one_input(rbf_node, dest_address)\n     rbftx = rbf_node.gettransaction(rbfid)\n-    rbf_node.settxfee(Decimal(\"0.00002500\"))\n+    requested_feerate = Decimal(\"0.00025000\")\n+    rbf_node.settxfee(requested_feerate)\n     bumped_tx = rbf_node.bumpfee(rbfid)\n-    assert bumped_tx[\"fee\"] > 2 * abs(rbftx[\"fee\"])\n+    actual_feerate = bumped_tx[\"fee\"] * 1000 / rbf_node.getrawtransaction(bumped_tx[\"txid\"], True)[\"size\"]\n+    # Assert that the difference between the requested feerate and the actual\n+    # feerate of the bumped transaction is small.\n+    assert_greater_than(Decimal(\"0.00001000\"), abs(requested_feerate - actual_feerate))\n     rbf_node.settxfee(Decimal(\"0.00000000\"))  # unset paytxfee\n \n \n def test_rebumping(rbf_node, dest_address):\n     # check that re-bumping the original tx fails, but bumping the bumper succeeds\n-    rbf_node.settxfee(Decimal(\"0.00001000\"))\n-    rbfid = create_fund_sign_send(rbf_node, {dest_address: 0.00090000})\n-    bumped = rbf_node.bumpfee(rbfid, {\"totalFee\": 1000})\n-    assert_raises_jsonrpc(-4, \"already bumped\", rbf_node.bumpfee, rbfid, {\"totalFee\": 2000})\n-    rbf_node.bumpfee(bumped[\"txid\"], {\"totalFee\": 2000})\n+    rbfid = spend_one_input(rbf_node, dest_address)\n+    bumped = rbf_node.bumpfee(rbfid, {\"totalFee\": 2000})\n+    assert_raises_jsonrpc(-4, \"already bumped\", rbf_node.bumpfee, rbfid, {\"totalFee\": 3000})\n+    rbf_node.bumpfee(bumped[\"txid\"], {\"totalFee\": 3000})\n \n \n def test_rebumping_not_replaceable(rbf_node, dest_address):\n     # check that re-bumping a non-replaceable bump tx fails\n-    rbfid = create_fund_sign_send(rbf_node, {dest_address: 0.00090000})\n+    rbfid = spend_one_input(rbf_node, dest_address)\n     bumped = rbf_node.bumpfee(rbfid, {\"totalFee\": 10000, \"replaceable\": False})\n     assert_raises_jsonrpc(-4, \"Transaction is not BIP 125 replaceable\", rbf_node.bumpfee, bumped[\"txid\"],\n                           {\"totalFee\": 20000})\n \n \n def test_unconfirmed_not_spendable(rbf_node, rbf_node_address):\n     # check that unconfirmed outputs from bumped transactions are not spendable\n-    rbfid = create_fund_sign_send(rbf_node, {rbf_node_address: 0.00090000})\n+    rbfid = spend_one_input(rbf_node, rbf_node_address)\n     rbftx = rbf_node.gettransaction(rbfid)[\"hex\"]\n     assert rbfid in rbf_node.getrawmempool()\n     bumpid = rbf_node.bumpfee(rbfid)[\"txid\"]\n@@ -260,31 +250,26 @@ def test_unconfirmed_not_spendable(rbf_node, rbf_node_address):\n \n \n def test_bumpfee_metadata(rbf_node, dest_address):\n-    rbfid = rbf_node.sendtoaddress(dest_address, 0.00090000, \"comment value\", \"to value\")\n+    rbfid = rbf_node.sendtoaddress(dest_address, Decimal(\"0.00100000\"), \"comment value\", \"to value\")\n     bumped_tx = rbf_node.bumpfee(rbfid)\n     bumped_wtx = rbf_node.gettransaction(bumped_tx[\"txid\"])\n     assert_equal(bumped_wtx[\"comment\"], \"comment value\")\n     assert_equal(bumped_wtx[\"to\"], \"to value\")\n \n \n def test_locked_wallet_fails(rbf_node, dest_address):\n-    rbfid = create_fund_sign_send(rbf_node, {dest_address: 0.00090000})\n+    rbfid = spend_one_input(rbf_node, dest_address)\n     rbf_node.walletlock()\n     assert_raises_jsonrpc(-13, \"Please enter the wallet passphrase with walletpassphrase first.\",\n                           rbf_node.bumpfee, rbfid)\n \n \n-def create_fund_sign_send(node, outputs):\n-    rawtx = node.createrawtransaction([], outputs)\n-    fundtx = node.fundrawtransaction(rawtx)\n-    signedtx = node.signrawtransaction(fundtx[\"hex\"])\n-    txid = node.sendrawtransaction(signedtx[\"hex\"])\n-    return txid\n-\n-\n-def spend_one_input(node, input_amount, outputs):\n-    input = dict(sequence=BIP125_SEQUENCE_NUMBER, **next(u for u in node.listunspent() if u[\"amount\"] == input_amount))\n-    rawtx = node.createrawtransaction([input], outputs)\n+def spend_one_input(node, dest_address):\n+    input = dict(\n+        sequence=BIP125_SEQUENCE_NUMBER, **next(u for u in node.listunspent() if u[\"amount\"] == Decimal(\"0.00100000\")))\n+    rawtx = node.createrawtransaction(\n+        [input], {dest_address: Decimal(\"0.00050000\"),\n+                  node.getrawchangeaddress(): Decimal(\"0.00049000\")})\n     signedtx = node.signrawtransaction(rawtx)\n     txid = node.sendrawtransaction(signedtx[\"hex\"])\n     return txid"
      }
    ]
  },
  {
    "sha": "1dfd64fadc09ab065cbd8b8c8e67910a999ba039",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxZGZkNjRmYWRjMDlhYjA2NWNiZDhiOGM4ZTY3OTEwYTk5OWJhMDM5",
    "commit": {
      "author": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2017-02-06T23:29:55Z"
      },
      "committer": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2017-03-21T10:46:55Z"
      },
      "message": "[qa] Make bumpfee.py test function order consistent\n\nRun bumpfee tests in top-down order, now that the test fragility is fixed, and\nthey can actually run in order.",
      "tree": {
        "sha": "c6a1d921147544fdc55b7ff2449b94d13a0a412d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c6a1d921147544fdc55b7ff2449b94d13a0a412d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1dfd64fadc09ab065cbd8b8c8e67910a999ba039",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1dfd64fadc09ab065cbd8b8c8e67910a999ba039",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/1dfd64fadc09ab065cbd8b8c8e67910a999ba039",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1dfd64fadc09ab065cbd8b8c8e67910a999ba039/comments",
    "author": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e6b2963241017c67e3a0e7456c15bd7b715c246d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e6b2963241017c67e3a0e7456c15bd7b715c246d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e6b2963241017c67e3a0e7456c15bd7b715c246d"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "9904c9aed61190311b8940bd1ab0615fa2611a94",
        "filename": "test/functional/bumpfee.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1dfd64fadc09ab065cbd8b8c8e67910a999ba039/test/functional/bumpfee.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1dfd64fadc09ab065cbd8b8c8e67910a999ba039/test/functional/bumpfee.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/bumpfee.py?ref=1dfd64fadc09ab065cbd8b8c8e67910a999ba039",
        "patch": "@@ -57,13 +57,13 @@ def run_test(self):\n \n         self.log.info(\"Running tests\")\n         dest_address = peer_node.getnewaddress()\n-        test_small_output_fails(rbf_node, dest_address)\n-        test_dust_to_fee(rbf_node, dest_address)\n         test_simple_bumpfee_succeeds(rbf_node, peer_node, dest_address)\n         test_segwit_bumpfee_succeeds(rbf_node, dest_address)\n         test_nonrbf_bumpfee_fails(peer_node, dest_address)\n         test_notmine_bumpfee_fails(rbf_node, peer_node, dest_address)\n         test_bumpfee_with_descendant_fails(rbf_node, rbf_node_address, dest_address)\n+        test_small_output_fails(rbf_node, dest_address)\n+        test_dust_to_fee(rbf_node, dest_address)\n         test_settxfee(rbf_node, dest_address)\n         test_rebumping(rbf_node, dest_address)\n         test_rebumping_not_replaceable(rbf_node, dest_address)"
      }
    ]
  },
  {
    "sha": "0b94e49831e8216f5ece840dd9ad410426237643",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowYjk0ZTQ5ODMxZTgyMTZmNWVjZTg0MGRkOWFkNDEwNDI2MjM3NjQz",
    "commit": {
      "author": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2017-03-16T14:49:42Z"
      },
      "committer": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2017-03-21T10:46:55Z"
      },
      "message": "[qa] Rename python input variable to tx_input\n\ninput() is actually the name of a python built in function",
      "tree": {
        "sha": "119961a4cee0a652fc4953bd8ce535dacca44bc4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/119961a4cee0a652fc4953bd8ce535dacca44bc4"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0b94e49831e8216f5ece840dd9ad410426237643",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0b94e49831e8216f5ece840dd9ad410426237643",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0b94e49831e8216f5ece840dd9ad410426237643",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0b94e49831e8216f5ece840dd9ad410426237643/comments",
    "author": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1dfd64fadc09ab065cbd8b8c8e67910a999ba039",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1dfd64fadc09ab065cbd8b8c8e67910a999ba039",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1dfd64fadc09ab065cbd8b8c8e67910a999ba039"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "9628d1a5063594c1374f2838fa6a209bddedfeb7",
        "filename": "test/functional/bumpfee.py",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0b94e49831e8216f5ece840dd9ad410426237643/test/functional/bumpfee.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0b94e49831e8216f5ece840dd9ad410426237643/test/functional/bumpfee.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/bumpfee.py?ref=0b94e49831e8216f5ece840dd9ad410426237643",
        "patch": "@@ -265,11 +265,11 @@ def test_locked_wallet_fails(rbf_node, dest_address):\n \n \n def spend_one_input(node, dest_address):\n-    input = dict(\n+    tx_input = dict(\n         sequence=BIP125_SEQUENCE_NUMBER, **next(u for u in node.listunspent() if u[\"amount\"] == Decimal(\"0.00100000\")))\n     rawtx = node.createrawtransaction(\n-        [input], {dest_address: Decimal(\"0.00050000\"),\n-                  node.getrawchangeaddress(): Decimal(\"0.00049000\")})\n+        [tx_input], {dest_address: Decimal(\"0.00050000\"),\n+                     node.getrawchangeaddress(): Decimal(\"0.00049000\")})\n     signedtx = node.signrawtransaction(rawtx)\n     txid = node.sendrawtransaction(signedtx[\"hex\"])\n     return txid"
      }
    ]
  },
  {
    "sha": "f85ac54e2429ad70c8bd4b2dbdf9d4107fd81f3f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmODVhYzU0ZTI0MjlhZDcwYzhiZDRiMmRiZGY5ZDQxMDdmZDgxZjNm",
    "commit": {
      "author": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2017-03-20T21:17:27Z"
      },
      "committer": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2017-03-21T10:46:55Z"
      },
      "message": "[qa] Expand bumpfee test docstring",
      "tree": {
        "sha": "b1a53093b3b47c4c143b7eaff722a2aeed87f26e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b1a53093b3b47c4c143b7eaff722a2aeed87f26e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f85ac54e2429ad70c8bd4b2dbdf9d4107fd81f3f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f85ac54e2429ad70c8bd4b2dbdf9d4107fd81f3f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f85ac54e2429ad70c8bd4b2dbdf9d4107fd81f3f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f85ac54e2429ad70c8bd4b2dbdf9d4107fd81f3f/comments",
    "author": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0b94e49831e8216f5ece840dd9ad410426237643",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0b94e49831e8216f5ece840dd9ad410426237643",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0b94e49831e8216f5ece840dd9ad410426237643"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 11,
      "deletions": 1
    },
    "files": [
      {
        "sha": "172e41418891d54b0684489261412651d7e89831",
        "filename": "test/functional/bumpfee.py",
        "status": "modified",
        "additions": 11,
        "deletions": 1,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f85ac54e2429ad70c8bd4b2dbdf9d4107fd81f3f/test/functional/bumpfee.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f85ac54e2429ad70c8bd4b2dbdf9d4107fd81f3f/test/functional/bumpfee.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/bumpfee.py?ref=f85ac54e2429ad70c8bd4b2dbdf9d4107fd81f3f",
        "patch": "@@ -2,7 +2,17 @@\n # Copyright (c) 2016 The Bitcoin Core developers\n # Distributed under the MIT software license, see the accompanying\n # file COPYING or http://www.opensource.org/licenses/mit-license.php.\n-\"\"\"Test the bumpfee RPC.\"\"\"\n+\"\"\"Test the bumpfee RPC.\n+\n+Verifies that the bumpfee RPC creates replacement transactions successfully when\n+its preconditions are met, and returns appropriate errors in other cases.\n+\n+This module consists of around a dozen individual test cases implemented in the\n+top-level functions named as test_<test_case_description>. The test functions\n+can be disabled or reordered if needed for debugging. If new test cases are\n+added in the the future, they should try to follow the same convention and not\n+make assumptions about execution order.\n+\"\"\"\n \n from segwit import send_to_witness\n from test_framework.test_framework import BitcoinTestFramework"
      }
    ]
  }
]