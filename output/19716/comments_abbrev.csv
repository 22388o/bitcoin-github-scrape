MarcoFalke,2020-08-14 07:52:20,Added 0.22 milestone based on the assumption that none of this is required to build with a qt5.15 system package? (Only depends changes here?),https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-673941954,673941954,
fanquake,2020-08-14 07:59:30,"> the assumption that none of this is required to build with a qt5.15 system package?\n\nAs far as I'm aware people have already been building with Qt 5.15, and that has been working after #19097.",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-673944950,673944950,
jonasschnelli,2020-08-14 08:23:07,"Thanks!\nIt's currently failing on gitian: https://bitcoin.jonasschnelli.ch/gitian/builds/231/build_osx.log",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-673954821,673954821,
hebasto,2020-08-14 12:35:28,"@fanquake \n> Cross-compiled Windows and macOS builds compile and run, but the GUI currently looks a bit broken on both. i.e macOS seems to look a bit like an older version of Windows:\n\nI found this https://github.com/hebasto/bitcoin/commit/528360ade9bb3f4902b632f6f755cf63b3397412 useful for diagnostics such issues. Feel free to integrate :)\n",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-674052881,674052881,
promag,2020-08-16 23:18:59,Nice work! I already used Qt 5.15 on macos and I don't think it looked like that. Will check this soon™,https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-674590940,674590940,
vasild,2020-08-19 12:43:16,"There are a bunch of compilation warnings on `master` and on this PR with Qt 5.15.0 like:\n\n```\nsrc/qt/transactionview.cpp:587:13: warning: 'QDateTime' is deprecated: Use QDate::startOfDay() [-Wdeprecated-declarations]\n            QDateTime(dateTo->date()).addDays(1));\n            ^\n```\n\nHere is a fix:\n\n<details>\n<summary>Fix -Wdeprecated-declarations warnings with Qt 5.15</su",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-676290875,676290875,
fanquake,2020-08-19 12:45:28,@vasild Thanks. See https://github.com/bitcoin-core/gui/pull/46 which should take care of all of them.,https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-676294000,676294000,
DrahtBot,2020-08-20 20:32:58,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20641 (depends: Use Qt top-level build facilities by hebasto)\n* #18298 (build: Fix Qt processing of configure script for",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-677888906,677888906,
fanquake,2020-08-24 12:15:04,"I've fixed up a bunch of things here.\nRebased for #19689.\nDropped the [WIP] qt commits and merged the relevant changes in to the qt 5.15.x commit.\nModified the libxcb_util_image fix to be a patch file rather than using sed.\nAdded a commit that should be enough to get the CI running.\nFixed the docs for the dependency changes.\n\nNote that Qt 5.15.1 has been tagged (no downloads yet), so",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-679090660,679090660,
hebasto,2020-08-25 08:59:27,It seems the CentOS build is a subject of https://bugreports.qt.io/browse/QTBUG-85669,https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-679899199,679899199,
MarcoFalke,2020-08-25 09:29:14,"This is currently assigned to the 0.22 milestone, by which time both centos:7 and xenial are no longer supported. So no need to test on them right now.",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-679914855,679914855,
hebasto,2020-08-25 09:36:57,"> This is currently assigned to the 0.22 milestone, by which time both centos:7 and xenial are no longer supported. So no need to test on them right now.\n\nSo let's remove them from CI jobs in this PR.",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-679918616,679918616,
hebasto,2020-08-25 10:09:43,"macOS 10.12 build error (on Travis):\n```\nProject ERROR: Cannot run target compiler 'x86_64-apple-darwin16-clang++'. Output:\n===================\n===================\nMaybe you forgot to setup the environment?\n```",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-679934050,679934050,
hebasto,2020-08-25 10:40:13,Windows build on Travis is a subject of https://forum.qt.io/topic/113250/building-qt-fails-with-missing-dxgil_3-h,https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-679947311,679947311,
hebasto,2020-08-25 10:49:01,"It would be nice to add a doc commit with the minimum MinGW version requirement:\n- https://doc.qt.io/qt-5/windows-requirements.html#gcc-mingw-builds",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-679950919,679950919,
hebasto,2020-08-25 11:20:09,"> Windows build on Travis is a subject of https://forum.qt.io/topic/113250/building-qt-fails-with-missing-dxgil_3-h\n\nCould be fixed by bumping Ubuntu version up to 20.04:\n```diff\n--- a/ci/test/00_setup_env_win64.sh\n+++ b/ci/test/00_setup_env_win64.sh\n@@ -7,7 +7,7 @@\n export LC_ALL=C.UTF-8\n \n export CONTAINER_NAME=ci_win64\n-export DOCKER_NAME_TAG=ubuntu:18.04  # Check that bioni",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-679964477,679964477,
MarcoFalke,2020-08-25 12:02:37,"> So let's remove them from CI jobs in this PR.\n\nThey won't get removed. #19504 is the first pull that goes into 0.22 and that simply bumps them: https://github.com/bitcoin/bitcoin/pull/19504/files#r455507731",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-679982135,679982135,
hebasto,2020-08-25 12:29:51,"From the Qt [source](https://github.com/qt/qtbase/blob/ba3b53cb501a77144aa6259e48a8e0edc3d1481d/src/platformsupport/platformsupport.pro#L19-L20) it follows that this change is required:\n```diff\n--- a/build-aux/m4/bitcoin_qt.m4\n+++ b/build-aux/m4/bitcoin_qt.m4\n@@ -309,8 +309,8 @@ AC_DEFUN([_BITCOIN_QT_FIND_STATIC_PLUGINS],[\n       PKG_CHECK_MODULES([QTFB], [Qt5FbSupport], [QT_LIBS=""-lQt5F",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-679994918,679994918,
fanquake,2020-08-27 10:41:24,"Rebased after #19761.\nFixed-up `QTSERVICE`, thanks @hebasto.\nDropped the freetype back-compat patch. See commit message for reasoning.\nTurned off some additional Qt features, like the markdown reader and SQL item models. We also don't use GSS but `no-gss` doesn't seem to work.\n\nSome more TODO:\nFigure out how much more of our patching / hacking we can drop.\nI'm also planning on splitt",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-681870214,681870214,
hebasto,2020-08-27 12:10:51,"Tested 3f4fe21d3fa04cc8f284dccae03a5e4a27dba9e4, still having:\n- on [Windows build](https://travis-ci.org/github/hebasto/bitcoin/jobs/721663770#L4475):\n```\nIn file included from rhi/qrhi.cpp:49:0:\nrhi/qrhid3d11_p_p.h:57:10: fatal error: dxgi1_3.h: No such file or directory\n #include <dxgi1_3.h>\n          ^~~~~~~~~~~\ncompilation terminated.\n```\n\nSee https://github.com/bitcoin/bi",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-681908808,681908808,
hebasto,2020-08-27 19:48:34,"I've managed to fix Windows build with the following patch:\n```diff\n--- a/qtbase/src/gui/gui.pro\n+++ b/qtbase/src/gui/gui.pro\n@@ -49,7 +49,6 @@\n include(itemmodels/itemmodels.pri)\n include(vulkan/vulkan.pri)\n include(platform/platform.pri)\n-include(rhi/rhi.pri)\n \n QMAKE_LIBS += $$QMAKE_LIBS_GUI\n \n```\n\nIt opts out a new [RHI functionality](https://www.qt.io/blog/qt-roadm",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-682155809,682155809,
fanquake,2020-08-28 00:39:51,"> I've managed to fix Windows build\n\nIs this fixing a problem other than `dxgi1_3.h: No such file or directory` mentioned above? In that case the problem, and the solution is pretty clear. The CI is using a version of the mingw headers that are too old to build Qt. This will be fixed when we use a newer version of Ubuntu for builds.\n\nI'm also not sure that disabling RHI is the right approa",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-682260665,682260665,
hebasto,2020-08-28 07:08:28,"> Is this fixing a problem other than `dxgi1_3.h: No such file or directory` mentioned above?\n\nNot sure what do you mean exactly.\n\n> In that case the problem, and the solution is pretty clear. The CI is using a version of the mingw headers that are too old to build Qt. This will be fixed when we use a newer version of Ubuntu for builds.\n\nSure, https://github.com/bitcoin/bitcoin/pull/19",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-682366785,682366785,
hebasto,2020-08-28 07:28:48,"IIUC, RHI is used for rendering in Qt Quick framework, not in Qt Widgets.",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-682374705,682374705,
MarcoFalke,2020-08-28 11:14:56,"There will probably be fewer warning by bumping the qt version, so you might be able to remove the `Temporary workaround for https://github.com/bitcoin/bitcoin/issues/16368` ",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-682469110,682469110,
fanquake,2020-08-31 03:16:59,"Rebased, and updated the win64 CI now that #18921 has been merged.",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-683528057,683528057,
hebasto,2020-09-02 16:29:22,">  - on [macOS build](https://travis-ci.org/github/hebasto/bitcoin/jobs/721663771#L6340):\n> \n> ```\n> Project ERROR: Cannot run target compiler 'x86_64-apple-darwin16-clang++'. Output:\n> ===================\n> ===================\n> Maybe you forgot to setup the environment?\n> ```\n\n@fanquake \nThis problem could be solved with https://github.com/hebasto/bitcoin/commit/cc5752f6788ee",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-685851229,685851229,
fanquake,2020-09-15 08:47:36,"Rebased on top of #19867. This now also builds Qt 5.15.1.\n\n> @fanquake\nThis problem could be solved with hebasto@cc5752f\n\n@hebasto I think the correct solution here is actually to update our [sed commands that perform a similar replacement](https://github.com/bitcoin/bitcoin/blob/a33651866c863328e8aca870465cc1c99a4240d6/depends/packages/qt.mk#L224). ",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-692567265,692567265,
fanquake,2020-11-23 08:44:27,Rebased on master. Updated some dependencies. Updated to Qt 5.15.2.  I'll continue splitting a few more changes off here.,https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-732015378,732015378,
jonasschnelli,2020-11-25 20:42:26,"I think this might be helpful for the macOS11 visual glitches https://github.com/bitcoin-core/gui/issues/136.\nBut maybe its still too early,.. see https://bugreports.qt.io/browse/QTBUG-85546.",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-733936811,733936811,
BlockMechanic,2021-01-02 11:02:06,"> [3975ec0](https://github.com/bitcoin/bitcoin/commit/3975ec0a5f5a298b93e7e39397b44602105ad4b7)\n> \n> On CentOS 8:\n> \n> ```\n> $ make -C depends qt\n> ...\n> Building libxkbcommon...\n> make[1]: Entering directory '/home/hebasto/bitcoin/depends/work/build/x86_64-pc-linux-gnu/libxkbcommon/0.8.4-fd57d1b36f9'\n>   YACC     src/xkbcomp/parser.c\n> yacc: e - line 219 of ""/home/hebasto/bitc",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-753459935,753459935,
BlockMechanic,2021-01-02 11:26:39,"@hebasto The issue with with libxkbcommon is fixed by installing bison rather than byacc,  some reading :- https://stackoverflow.com/questions/50794051/ubuntu-byacc-btyacc-syntax-error.",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-753462132,753462132,
fanquake,2021-01-05 04:38:46,"> The issue with with libxkbcommon is fixed by installing bison rather than byacc\n\nThe CI changes to install bison have now been merged into the ""qt 5.15.2"" commit, rather than being in a separate WIP commit. Also added bb38e8a30de2278b4bd9dae6f80cc097892dd5c8 to stop using `-optimized-tools` in release mode. We can split off more commits if need be.\n\nWhile this still has at least one outs",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-754389588,754389588,
fanquake,2021-01-05 08:24:18,"I've now fixed the macOS cross-compilation issue and added a commit that disables some SDK version checking, as that would try and invoke `xcrun`, which isn't available when cross-compiling. I've also added a commit (262e02995912a9caa4026105d9ce6237965e8600) which might help debug the theme issues.",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-754484797,754484797,
jarolrod,2021-01-13 21:06:37,"Any consensus surrounding Qt dropping LTS for `Qt 5.15`? \nSee: https://www.theregister.com/2021/01/05/qt_lts_goes_commercial_only/",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-759739719,759739719,
laanwj,2021-01-25 13:27:44,"> Any consensus surrounding Qt dropping LTS for Qt 5.15?\n\nI don't think that's too relevant here. It means that upstream won't do any updates on top of 5.15. But we generally don't track minor versions of Qt so for us it makes no difference. The next Qt bump after this is likely to be 6.x.\n",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-766815436,766815436,
laanwj,2021-01-25 15:52:53,"I'm confused by this Win64 CI error:\n```\nmake[4]: Leaving directory '/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-w64-mingw32/src'\nRunning tests: allocator_tests from test/allocator_tests.cpp\nwine: fixed a temporary directory error, please try running the same command again\nmake[3]: *** [Makefile:16848: test/addrman_tests.cpp.test] Error 1\nmake[3]: *** Waiting for unfinished jo",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-766913195,766913195,
MarcoFalke,2021-01-25 15:56:42,"Looks like an upstream bug. Locally I could fix it by running the command twice, IIRC",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-766916067,766916067,
DrahtBot,2021-01-26 03:42:25,<!--a722867cd34abeea1fadc8d60700f111-->\n### Gitian builds\n\n| File | commit d0852f39a7a3bfbb36437ef20bf94c263cad632a<br>(master) | commit 06ddcb1d3dc2627d5262ab22423d2e55e6cd6f95<br>(master and this pull) |\n|--|--|--|\n| bitcoin-core-linux-22-res.yml | [`71a83cb9ff92de39...`](https://drahtbot.space/gitian/bitcoin/bitcoin/d0852f39a7a3bfbb36437ef20bf94c263cad632a/bitcoin-core-linux-22-res.yml) | ,https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-767276092,767276092,
MarcoFalke,2021-01-26 07:02:41,"```\nmake[1]: Leaving directory '/home/ubuntu/build/bitcoin/distsrc-x86_64-apple-darwin18'\n+ make -j1 -C src check-security\nmake: Entering directory '/home/ubuntu/build/bitcoin/distsrc-x86_64-apple-darwin18/src'\nChecking binary security...\nmake: Leaving directory '/home/ubuntu/build/bitcoin/distsrc-x86_64-apple-darwin18/src'\n+ make -j1 -C src check-symbols\nmake: Entering directory '/h",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-767347016,767347016,
DrahtBot,2021-02-08 11:55:41,"<!--cf906140f33d8803c4a75a2196329ecb-->\n🐙 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a ""draft"".</sub>",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-775092657,775092657,
DrahtBot,2021-02-09 09:11:55,"` Win64 [unit tests, no gui tests, no boost::process, no functional tests] [bionic]`: \n\n```\nIn file included from rhi/qrhi.cpp:49:0:\nrhi/qrhid3d11_p_p.h:57:10: fatal error: dxgi1_3.h: No such file or directory\n #include <dxgi1_3.h>\n          ^~~~~~~~~~~\ncompilation terminated.",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-775785860,775785860,
DrahtBot,2021-02-12 21:43:34,<!--a722867cd34abeea1fadc8d60700f111-->\n### Gitian builds\n\n| File | commit b69eab9025678654acd0dda1861152c239f07699<br>(master) | commit a85341f3ada7ce08bae3af32851474217e07fbc2<br>(master and this pull) |\n|--|--|--|\n| *-aarch64-linux-gnu-debug.tar.gz | [`c5fa5486923407ad...`](https://drahtbot.space/gitian/bitcoin/bitcoin/b69eab9025678654acd0dda1861152c239f07699/bitcoin-b69eab902567-aarch64-l,https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-778471215,778471215,
MarcoFalke,2021-02-13 07:40:55,"```\nmake[1]: Leaving directory '/home/ubuntu/build/bitcoin/distsrc-x86_64-w64-mingw32'\n+ make -j1 -C src check-security\nmake: Entering directory '/home/ubuntu/build/bitcoin/distsrc-x86_64-w64-mingw32/src'\nChecking binary security...\nmake: Leaving directory '/home/ubuntu/build/bitcoin/distsrc-x86_64-w64-mingw32/src'\n+ make -j1 -C src check-symbols\nmake: Entering directory '/home/ubunt",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-778577898,778577898,
DrahtBot,2021-03-03 08:52:11,"<!--cf906140f33d8803c4a75a2196329ecb-->\n🐙 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a ""draft"".</sub>",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-789548525,789548525,
fanquake,2021-03-03 09:39:21,"Going to propose some smaller, simpler changes. New PR as they are substantially different from what is here.",https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-789578692,789578692,
hebasto,2020-08-25 08:53:28,"1e17e1038cfcc8b0769917a8d9107eac27889601\n\nTo fix this error in CentOS build\n```\nBuilding libxkbcommon...\nmake[1]: Entering directory `/home/travis/build/hebasto/bitcoin/depends/work/build/i686-pc-linux-gnu/libxkbcommon/0.8.4-b76cb6131e8'\n  YACC     src/xkbcomp/parser.c\n./build-aux/ylwrap: line 176: yacc: command not found\n```\n\nthis change is required\n```diff\n--- a/ci/test/0",https://github.com/bitcoin/bitcoin/pull/19716#discussion_r476287284,476287284,ci/test/00_setup_env.sh
hebasto,2020-08-25 09:10:51,"Qt configure reports an error on Xenial build:\n```\nERROR: Feature 'c++1z' was enabled, but the pre-condition 'features.c++17' failed.\n```",https://github.com/bitcoin/bitcoin/pull/19716#discussion_r476300128,476300128,depends/packages/qt.mk
fanquake,2020-08-25 10:49:31,"Ubuntu 16.04 is not listed as [supported by Qt 5.15.x](https://doc.qt.io/qt-5/supported-platforms.html). Regardless, if Qts build system cant detect that your compiler supports C++17 it's not going to build in C++17 mode. Looking at the GCC on Xenial, it's [5.3.1](https://packages.ubuntu.com/xenial/gcc), [which only has support for some C++17 features](https://gcc.gnu.org/projects/cxx-status.html#",https://github.com/bitcoin/bitcoin/pull/19716#discussion_r476355966,476355966,depends/packages/qt.mk
hebasto,2020-08-25 10:52:24,"> If you post the actual precondition that failed (it'll be earlier in the log) we could take a look at it.\n\nhttps://travis-ci.org/github/hebasto/bitcoin/jobs/720916965#L4634",https://github.com/bitcoin/bitcoin/pull/19716#discussion_r476357349,476357349,depends/packages/qt.mk
hebasto,2020-08-25 10:54:09,"```\nChecking for C++17 support... \n+ cd /home/travis/build/hebasto/bitcoin/depends/work/build/x86_64-pc-linux-gnu/qt/5.15.0-e4e26f06c7b/qtbase/config.tests/cxx17 && /home/travis/build/hebasto/bitcoin/depends/work/build/x86_64-pc-linux-gnu/qt/5.15.0-e4e26f06c7b/qtbase/bin/qmake ""CONFIG -= qt debug_and_release app_bundle lib_bundle"" ""CONFIG += static warn_off console single_arch"" -early ""CONFIG ",https://github.com/bitcoin/bitcoin/pull/19716#discussion_r476358202,476358202,depends/packages/qt.mk
fanquake,2020-08-25 12:03:57,"> fatal error: variant: No such file or directory\n\nThe problem is that the compiler doesn't support C++17. GCC didn't introduce support for `std::variant` (in libstdc++) until the [7.1 release](https://gcc.gnu.org/gcc-7/changes.html). Xenial ships with 5.3.1. So when Qts build system tests for C++17 support by checking it can compile something using `std::variant`, it's failing as expected.",https://github.com/bitcoin/bitcoin/pull/19716#discussion_r476395292,476395292,depends/packages/qt.mk
MarcoFalke,2021-01-25 16:37:45,"I don't like this change, but without it the ci fails: https://cirrus-ci.com/task/6121023374360576?command=ci#L5504\n\n```\ncompiling .rcc/release/qrc_qmake_webgradients.cpp\nIn file included from rhi/qrhi.cpp:49:0:\nrhi/qrhid3d11_p_p.h:57:10: fatal error: dxgi1_3.h: No such file or directory\n #include <dxgi1_3.h>\n          ^~~~~~~~~~~\ncompilation terminated.\nMakefile.Release:71663: r",https://github.com/bitcoin/bitcoin/pull/19716#discussion_r563866608,563866608,ci/test/00_setup_env_win64.sh
MarcoFalke,2021-01-25 16:38:17,"Do the gitian builds pass? If yes, why do they and the ci doesn't?",https://github.com/bitcoin/bitcoin/pull/19716#discussion_r563867015,563867015,ci/test/00_setup_env_win64.sh
fanquake,2021-01-26 01:01:54,"> I don't like this change, but without it the ci fails:\n\nA newer version of mingw-w64 & headers is required to build this version of Qt, so we (essentially) have to use a newer version of Ubuntu in the CI & gitian (I'll add those changes, but will PR them separate in advance). This was also discussed above.",https://github.com/bitcoin/bitcoin/pull/19716#discussion_r564144147,564144147,ci/test/00_setup_env_win64.sh
MarcoFalke,2021-01-26 07:03:15,Note to myself: (gitian doesn't pass either) https://github.com/bitcoin/bitcoin/pull/19716#issuecomment-767347016,https://github.com/bitcoin/bitcoin/pull/19716#discussion_r564287116,564287116,ci/test/00_setup_env_win64.sh
