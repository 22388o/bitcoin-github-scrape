[
  {
    "sha": "b00646bc770e0b70400fdc4545756405fb307dba",
    "node_id": "C_kwDOABII59oAKGIwMDY0NmJjNzcwZTBiNzA0MDBmZGM0NTQ1NzU2NDA1ZmIzMDdkYmE",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-10-20T18:58:43Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-10-20T19:16:12Z"
      },
      "message": "ci, refactor: Rename VCPKG_TAG variable and vcpkg_cache script\n\nThe VCPKG_TAG variable renamed to CI_VCPKG_TAG to prevent any possible\nname clash with vcpkg-specific variables.\n\nThe vcpkg_cache script renamed into more meaningful one.",
      "tree": {
        "sha": "725cb1fdf63c17e7f24f5774309aece67aff002f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/725cb1fdf63c17e7f24f5774309aece67aff002f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b00646bc770e0b70400fdc4545756405fb307dba",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmFwavwACgkQQQEIES5+\nqB8C8A//dWUwJ6l93rGxmZCvGRrywCSb5nOCNGv+VCl/Mj0B1WP6nmATdpTZWmhc\n56q4dtlDyP6RZVISIIJruSJB2sdYevCvMbWiJc7RB+tgWAXuq+HdeJrQ7/lZ2S7/\n5EVlqlrwd2aPoFZuZGJyK18qyAy67n+W/61FLA3uZzkcFAmvaoPWmUYfkRrf9Xs/\nWI3spwjT294lBjvT8/q0DaoJVMiNDgXyr8Xs2h/Jf+IsF6sB+ceDYC7u/XtD86dM\n4sasWhqKY5wtA97qiWBlakdJkRci6WmkFf8AjxsyCT03mSIugAuFcGhgImkhH+Ri\nO6YaiZU7q5s0/YJqC7ChR0W1MWvb/Cs/V3Db/qL7cr7gIYI1iNyrHFb/LPdAtOFJ\nDYpP0BqyJRCVIJoH2J/8naR5pSBBfiQK7TP2bGJtO428obkOGCrB9tri/7Ua9+KN\nWQvwY0LUhf+oks6MYN5dkGcMHB6JeyFhgjlvIllgblO9lxSLU0Sba8GTpTjh+/Eb\nsFbhcP03526rDtXazUQntnpXXZi0VNqTuSnVWTN4DGfge9CxaTLEdJ2uf9g2hup1\nHaVeNy8JWJHNL+oXnFCkTnpxB+jbCB0hlvWT2btUasdTW6FCUdzCYH0Dlf4opgtS\nmqndyeX80dZ4VEaMHMa/VngKvPai4QRQ5R5YkDYaPFlt1XjNW3c=\n=wLLv\n-----END PGP SIGNATURE-----",
        "payload": "tree 725cb1fdf63c17e7f24f5774309aece67aff002f\nparent c8bae2be341c921823eee95a9eec7e2b74f2f0ae\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1634756323 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1634757372 +0300\n\nci, refactor: Rename VCPKG_TAG variable and vcpkg_cache script\n\nThe VCPKG_TAG variable renamed to CI_VCPKG_TAG to prevent any possible\nname clash with vcpkg-specific variables.\n\nThe vcpkg_cache script renamed into more meaningful one.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b00646bc770e0b70400fdc4545756405fb307dba",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b00646bc770e0b70400fdc4545756405fb307dba",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b00646bc770e0b70400fdc4545756405fb307dba/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c8bae2be341c921823eee95a9eec7e2b74f2f0ae",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c8bae2be341c921823eee95a9eec7e2b74f2f0ae",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c8bae2be341c921823eee95a9eec7e2b74f2f0ae"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "4dbc2f5f3a6395a3591a26c16e3a14f7db1abbc0",
        "filename": ".cirrus.yml",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b00646bc770e0b70400fdc4545756405fb307dba/.cirrus.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b00646bc770e0b70400fdc4545756405fb307dba/.cirrus.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.cirrus.yml?ref=b00646bc770e0b70400fdc4545756405fb307dba",
        "patch": "@@ -85,7 +85,7 @@ task:\n   env:\n     PATH: 'C:\\jom;C:\\Python39;C:\\Python39\\Scripts;C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\MSBuild\\Current\\Bin;%PATH%'\n     PYTHONUTF8: 1\n-    VCPKG_TAG: '2021.05.12'\n+    CI_VCPKG_TAG: '2021.05.12'\n     QT_DOWNLOAD_URL: 'https://download.qt.io/official_releases/qt/5.12/5.12.11/single/qt-everywhere-src-5.12.11.zip'\n     QT_LOCAL_PATH: 'C:\\qt-everywhere-src-5.12.11.zip'\n     QT_SOURCE_DIR: 'C:\\qt-everywhere-src-5.12.11'\n@@ -120,7 +120,7 @@ task:\n       - ..\\configure -release -silent -opensource -confirm-license -opengl desktop -no-shared -static -static-runtime -mp -qt-zlib -qt-pcre -qt-libpng -no-libjpeg -nomake examples -nomake tests -nomake tools -no-dbus -no-libudev -no-icu -no-gtk -no-opengles3 -no-angle -no-sql-sqlite -no-sql-odbc -no-sqlite -no-libudev -no-vulkan -skip qt3d -skip qtactiveqt -skip qtandroidextras -skip qtcanvas3d -skip qtcharts -skip qtconnectivity -skip qtdatavis3d -skip qtdeclarative -skip qtdoc -skip qtgamepad -skip qtgraphicaleffects -skip qtimageformats -skip qtlocation -skip qtmacextras -skip qtmultimedia -skip qtnetworkauth -skip qtpurchasing -skip qtquickcontrols -skip qtquickcontrols2 -skip qtscript -skip qtscxml -skip qtsensors -skip qtserialbus -skip qtserialport -skip qtspeech -skip qtvirtualkeyboard -skip qtwayland -skip qtwebchannel -skip qtwebengine -skip qtwebsockets -skip qtwebview -skip qtx11extras -skip qtxmlpatterns -no-openssl -no-feature-sql -no-feature-sqlmodel -prefix %QTBASEDIR%\n       - jom\n       - jom install\n-  vcpkg_cache:\n+  vcpkg_binary_cache:\n     folder: 'C:\\Users\\ContainerAdministrator\\AppData\\Local\\vcpkg\\archives'\n   install_python_script:\n     - choco install --yes --no-progress python3 --version=3.9.6\n@@ -130,7 +130,7 @@ task:\n     - cd ..\n     - git clone --quiet https://github.com/microsoft/vcpkg.git\n     - cd vcpkg\n-    - git -c advice.detachedHead=false checkout %VCPKG_TAG%\n+    - git -c advice.detachedHead=false checkout %CI_VCPKG_TAG%\n     - .\\bootstrap-vcpkg -disableMetrics\n     - echo set(VCPKG_BUILD_TYPE release) >> triplets\\x64-windows-static.cmake\n     - .\\vcpkg integrate install"
      }
    ]
  },
  {
    "sha": "e8692cf2c151d2abc206ca699e04ae05d4c31dcd",
    "node_id": "C_kwDOABII59oAKGU4NjkyY2YyYzE1MWQyYWJjMjA2Y2E2OTllMDRhZTA1ZDRjMzFkY2Q",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-10-20T19:04:50Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-10-20T19:16:12Z"
      },
      "message": "ci: Improve vcpkg binary cache settings\n\nThis change comes with two improvements:\n1) using the VCPKG_DEFAULT_BINARY_CACHE variable drops dependency on\nvcpkg default cached archives location, and improves readability\n2) two obvious cases when binary cache is invalidated are defined, that\nguaranties it won't grow boundlessly when, for example, vcpkg has being\nupdated.",
      "tree": {
        "sha": "f947dd5e3db07c61414023e09f8869af8b1ded2a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f947dd5e3db07c61414023e09f8869af8b1ded2a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e8692cf2c151d2abc206ca699e04ae05d4c31dcd",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmFwavwACgkQQQEIES5+\nqB8rxxAAkSIi7+Gmr2GyOR8DQO+xyjl5xW46KdTC8pNOr10f//6EndkmCFwX29cs\nsthwDkMzLOvRjhAxI6xwnlJQZTdVUaE9aAUAOluofuIWELETUfYVGmgtpdpU4wL5\nqqanIHLK1K/2p7nYkww1IF41sAt4vfAEkCzSE2bfFEL51wcdC8ct0520GowedBCo\nYOnjeoipZnlx9fsnDUJFVN7HUfBixY1/Y8uEKOEGMDVe5SwTXsPeMbvYLarouv5e\nnkpWm79UOjzFpatNjG5ahtUDH8D7UMS0MsvKCTCb3f5wZqdyI6/p5KU+7YTX9nMF\nz7f6V2Qayda9ayQbYGXUJX6/fML5c3QY2JVpqEXctV9KNzHMIVBatVNx4GLx82Wk\n4UFCEuI/CO9b5n1c/77UwHjhlkPDG1C4GYGLVx0BX7mjXttk8K/vajFvu0AVFwBH\neudTA+38ccmiK6/sVRmUw3B0Uxa2l1txt+C2blHIbj8QEcSkO0LYP/CLHXtzovTd\nyrShEWeBvPkTUaAPX97/akYrHpmjT9CvJCu0G9XwZFAWoOaUJr0C6C9e321Q1NUO\nLgIhAo4V8nMXeerpvp+/cxetL6jiedUDxHnNCgL/yNGB++IoGGCDTqe8/omysaP/\n9GGXuzqxEaBtnxp1MWgNna2GOuE7U5VwNrFgidTI1otkc/NetME=\n=540E\n-----END PGP SIGNATURE-----",
        "payload": "tree f947dd5e3db07c61414023e09f8869af8b1ded2a\nparent b00646bc770e0b70400fdc4545756405fb307dba\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1634756690 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1634757372 +0300\n\nci: Improve vcpkg binary cache settings\n\nThis change comes with two improvements:\n1) using the VCPKG_DEFAULT_BINARY_CACHE variable drops dependency on\nvcpkg default cached archives location, and improves readability\n2) two obvious cases when binary cache is invalidated are defined, that\nguaranties it won't grow boundlessly when, for example, vcpkg has being\nupdated.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e8692cf2c151d2abc206ca699e04ae05d4c31dcd",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e8692cf2c151d2abc206ca699e04ae05d4c31dcd",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e8692cf2c151d2abc206ca699e04ae05d4c31dcd/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b00646bc770e0b70400fdc4545756405fb307dba",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b00646bc770e0b70400fdc4545756405fb307dba",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b00646bc770e0b70400fdc4545756405fb307dba"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 8,
      "deletions": 1
    },
    "files": [
      {
        "sha": "1f32dd5231194a799fab055ba93d6be1a28e798a",
        "filename": ".cirrus.yml",
        "status": "modified",
        "additions": 8,
        "deletions": 1,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e8692cf2c151d2abc206ca699e04ae05d4c31dcd/.cirrus.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e8692cf2c151d2abc206ca699e04ae05d4c31dcd/.cirrus.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.cirrus.yml?ref=e8692cf2c151d2abc206ca699e04ae05d4c31dcd",
        "patch": "@@ -86,6 +86,7 @@ task:\n     PATH: 'C:\\jom;C:\\Python39;C:\\Python39\\Scripts;C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\MSBuild\\Current\\Bin;%PATH%'\n     PYTHONUTF8: 1\n     CI_VCPKG_TAG: '2021.05.12'\n+    VCPKG_DEFAULT_BINARY_CACHE: 'C:\\Users\\ContainerAdministrator\\AppData\\Local\\vcpkg\\archives'\n     QT_DOWNLOAD_URL: 'https://download.qt.io/official_releases/qt/5.12/5.12.11/single/qt-everywhere-src-5.12.11.zip'\n     QT_LOCAL_PATH: 'C:\\qt-everywhere-src-5.12.11.zip'\n     QT_SOURCE_DIR: 'C:\\qt-everywhere-src-5.12.11'\n@@ -121,7 +122,13 @@ task:\n       - jom\n       - jom install\n   vcpkg_binary_cache:\n-    folder: 'C:\\Users\\ContainerAdministrator\\AppData\\Local\\vcpkg\\archives'\n+    folder: '%VCPKG_DEFAULT_BINARY_CACHE%'\n+    reupload_on_changes: true\n+    fingerprint_script:\n+      - echo %CI_VCPKG_TAG%\n+      - msbuild -version\n+    populate_script:\n+      - mkdir %VCPKG_DEFAULT_BINARY_CACHE%\n   install_python_script:\n     - choco install --yes --no-progress python3 --version=3.9.6\n     - pip install zmq"
      }
    ]
  }
]