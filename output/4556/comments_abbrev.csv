laanwj,2014-07-19T08:37:04Z,@cozz @roybadami @diapolo can you take a look here - I'd feel a lot better if we got rid of the last vestige of floating-point arithmetic with amounts in the GUI.\n,https://github.com/bitcoin/bitcoin/pull/4556#issuecomment-49503381,49503381,
cozz,2014-07-20T21:04:20Z,"- `Object::connect: No such signal QAbstractSpinBox::valueChanged(QString) in qt/bitcoinamountfield.cpp:201`\n  We need a different implementation of the signal valueChanged now.  \n- If the field is empty or zero, you can not use the single step feature.\n- For example, if you enter 1 mBTC and then press single step down, the result is 1 satoshi. Same for 1 uBTC.\n- The alignment of the field-con",https://github.com/bitcoin/bitcoin/pull/4556#issuecomment-49559502,49559502,
laanwj,2014-07-21T05:08:21Z,"The alignment change to right is intentional, as we always align amounts to the right. Will look at the rest.\n",https://github.com/bitcoin/bitcoin/pull/4556#issuecomment-49572279,49572279,
laanwj,2014-07-21T07:36:57Z,"- Changed the event code to send the event to the superclass directly\n- Added `Q_OBJECT` and the necessary .moc boilerplate\n\n> If the field is empty or zero, you can not use the single step feature.\n\nFixed. Stepping up from an empty field is now allowed, and zero amounts are allowed. \nI moved the check for zero amounts to SendCoinsEntry as that's the only place where zero amounts are invalid",https://github.com/bitcoin/bitcoin/pull/4556#issuecomment-49578387,49578387,
cozz,2014-07-22T02:47:30Z,"works for me now, after I made 2 minor changes:\n- sendcoinsentry.cpp, line 75 needs to connect to valueChanged(qint64) instead of textChanged()\n- the signal is not triggered, if you manually edit the field, only single-step triggers.\n  I simply added an ""emit valueChanged(value());"" to the event-function in bitcoinamountfield.cpp, line 176.\n",https://github.com/bitcoin/bitcoin/pull/4556#issuecomment-49692177,49692177,
laanwj,2014-07-22T06:43:07Z,Thanks for testing and your suggestions.\n\nI think connecting lineEdit()->textEdited to a signal handler that does `emit valueChanged(value());` would be proper way to handle this.\n,https://github.com/bitcoin/bitcoin/pull/4556#issuecomment-49703734,49703734,
laanwj,2014-07-22T07:06:46Z,"Or even better, just connect lineEdit()->textEdited to valueChanged. No one is using the passed-in value so it can just as well be valueChanged() without arg.\n",https://github.com/bitcoin/bitcoin/pull/4556#issuecomment-49705254,49705254,
laanwj,2014-07-22T07:34:49Z,OK - should be fixed now.\n,https://github.com/bitcoin/bitcoin/pull/4556#issuecomment-49707228,49707228,
cozz,2014-07-22T13:21:32Z,"Just tested, looks good now.\n",https://github.com/bitcoin/bitcoin/pull/4556#issuecomment-49737472,49737472,
BitcoinPullTester,2014-07-23T16:15:55Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4556_29eaa316944477af538b75b439a49ee1a9fc2f2a/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-te",https://github.com/bitcoin/bitcoin/pull/4556#issuecomment-49897001,49897001,
laanwj,2014-07-19T08:37:20Z,"TODO: this likely doesn't have to go through QApplication anymore, can we just call QAbstractSpinBox::event?\n",https://github.com/bitcoin/bitcoin/pull/4556#discussion_r15142761,15142761,src/qt/bitcoinamountfield.cpp
Diapolo,2014-07-19T18:14:02Z,I tend to agree as the scope is now our class and QAbstractSpinBox.\n,https://github.com/bitcoin/bitcoin/pull/4556#discussion_r15144941,15144941,src/qt/bitcoinamountfield.cpp
Diapolo,2014-07-19T18:14:27Z,Seems this is obsolete now.\n,https://github.com/bitcoin/bitcoin/pull/4556#discussion_r15144943,15144943,src/qt/bitcoinamountfield.cpp
Diapolo,2014-07-19T18:15:03Z,Does this need the `Q_OBJECT` macro?\n,https://github.com/bitcoin/bitcoin/pull/4556#discussion_r15144946,15144946,src/qt/bitcoinamountfield.cpp
Diapolo,2014-07-19T18:18:27Z,Could/Should this better be `BitcoinUnits::BTC`?\n,https://github.com/bitcoin/bitcoin/pull/4556#discussion_r15144964,15144964,src/qt/bitcoinamountfield.cpp
cozz,2014-07-20T20:56:28Z,Just calling QAbstractSpinBox::event works for me:\n\n```\nreturn QAbstractSpinBox::event(&periodKeyEvent);\n```\n,https://github.com/bitcoin/bitcoin/pull/4556#discussion_r15151961,15151961,src/qt/bitcoinamountfield.cpp
