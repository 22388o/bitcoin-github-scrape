[
  {
    "sha": "f9bd92d235a187a9bfea4c956bf74e2e08cebb46",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmOWJkOTJkMjM1YTE4N2E5YmZlYTRjOTU2YmY3NGUyZTA4Y2ViYjQ2",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-10-04T11:11:21Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-10-04T11:11:21Z"
      },
      "message": "version.h: s/shord/short/ in comment",
      "tree": {
        "sha": "09b9ad80436217a324b703c767c7f0b93be5dcdf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/09b9ad80436217a324b703c767c7f0b93be5dcdf"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f9bd92d235a187a9bfea4c956bf74e2e08cebb46",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f9bd92d235a187a9bfea4c956bf74e2e08cebb46",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f9bd92d235a187a9bfea4c956bf74e2e08cebb46",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f9bd92d235a187a9bfea4c956bf74e2e08cebb46/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d7615af34e8e19920ed12bfdafb09e0e4b57c7c5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d7615af34e8e19920ed12bfdafb09e0e4b57c7c5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d7615af34e8e19920ed12bfdafb09e0e4b57c7c5"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "87bd65506670a6ab99c44c4e2f1442c0baf98f19",
        "filename": "src/version.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f9bd92d235a187a9bfea4c956bf74e2e08cebb46/src/version.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f9bd92d235a187a9bfea4c956bf74e2e08cebb46/src/version.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/version.h?ref=f9bd92d235a187a9bfea4c956bf74e2e08cebb46",
        "patch": "@@ -39,7 +39,7 @@ static const int SENDHEADERS_VERSION = 70012;\n //! \"feefilter\" tells peers to filter invs to you by fee starts with this version\n static const int FEEFILTER_VERSION = 70013;\n \n-//! shord-id-based block download starts with this version\n+//! short-id-based block download starts with this version\n static const int SHORT_IDS_BLOCKS_VERSION = 70014;\n \n #endif // BITCOIN_VERSION_H"
      }
    ]
  },
  {
    "sha": "2c09a5209ab00573a2422e1e65c437a6e2f59624",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyYzA5YTUyMDlhYjAwNTczYTI0MjJlMWU2NWM0MzdhNmUyZjU5NjI0",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-10-04T11:12:23Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-10-04T11:12:55Z"
      },
      "message": "protocol.h: Move MESSAGE_START_SIZE into CMessageHeader\n\nAlso move the enum to the top, and remove a deceptive TODO\ncomment.",
      "tree": {
        "sha": "40f6e44d235370c22565b43b31af8ebe93507ec8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/40f6e44d235370c22565b43b31af8ebe93507ec8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2c09a5209ab00573a2422e1e65c437a6e2f59624",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2c09a5209ab00573a2422e1e65c437a6e2f59624",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2c09a5209ab00573a2422e1e65c437a6e2f59624",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2c09a5209ab00573a2422e1e65c437a6e2f59624/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f9bd92d235a187a9bfea4c956bf74e2e08cebb46",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f9bd92d235a187a9bfea4c956bf74e2e08cebb46",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f9bd92d235a187a9bfea4c956bf74e2e08cebb46"
      }
    ],
    "stats": {
      "total": 29,
      "additions": 13,
      "deletions": 16
    },
    "files": [
      {
        "sha": "9b66aad429f99b4be305787fe7ca64318ec74263",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2c09a5209ab00573a2422e1e65c437a6e2f59624/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2c09a5209ab00573a2422e1e65c437a6e2f59624/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=2c09a5209ab00573a2422e1e65c437a6e2f59624",
        "patch": "@@ -4358,11 +4358,11 @@ bool LoadExternalBlockFile(const CChainParams& chainparams, FILE* fileIn, CDiskB\n             unsigned int nSize = 0;\n             try {\n                 // locate a header\n-                unsigned char buf[MESSAGE_START_SIZE];\n+                unsigned char buf[CMessageHeader::MESSAGE_START_SIZE];\n                 blkdat.FindByte(chainparams.MessageStart()[0]);\n                 nRewind = blkdat.GetPos()+1;\n                 blkdat >> FLATDATA(buf);\n-                if (memcmp(buf, chainparams.MessageStart(), MESSAGE_START_SIZE))\n+                if (memcmp(buf, chainparams.MessageStart(), CMessageHeader::MESSAGE_START_SIZE))\n                     continue;\n                 // read size\n                 blkdat >> nSize;\n@@ -6232,7 +6232,7 @@ bool ProcessMessages(CNode* pfrom, CConnman& connman)\n         it++;\n \n         // Scan for message start\n-        if (memcmp(msg.hdr.pchMessageStart, chainparams.MessageStart(), MESSAGE_START_SIZE) != 0) {\n+        if (memcmp(msg.hdr.pchMessageStart, chainparams.MessageStart(), CMessageHeader::MESSAGE_START_SIZE) != 0) {\n             LogPrintf(\"PROCESSMESSAGE: INVALID MESSAGESTART %s peer=%d\\n\", SanitizeString(msg.hdr.GetCommand()), pfrom->id);\n             fOk = false;\n             break;"
      },
      {
        "sha": "cdb76b90381c58cabf0fc691a48fd8d80a6c520f",
        "filename": "src/protocol.h",
        "status": "modified",
        "additions": 10,
        "deletions": 13,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2c09a5209ab00573a2422e1e65c437a6e2f59624/src/protocol.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2c09a5209ab00573a2422e1e65c437a6e2f59624/src/protocol.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/protocol.h?ref=2c09a5209ab00573a2422e1e65c437a6e2f59624",
        "patch": "@@ -18,8 +18,6 @@\n #include <stdint.h>\n #include <string>\n \n-#define MESSAGE_START_SIZE 4\n-\n /** Message header.\n  * (4) message start.\n  * (12) command.\n@@ -29,6 +27,16 @@\n class CMessageHeader\n {\n public:\n+    enum {\n+        MESSAGE_START_SIZE = 4,\n+        COMMAND_SIZE = 12,\n+        MESSAGE_SIZE_SIZE = 4,\n+        CHECKSUM_SIZE = 4,\n+\n+        MESSAGE_SIZE_OFFSET = MESSAGE_START_SIZE + COMMAND_SIZE,\n+        CHECKSUM_OFFSET = MESSAGE_SIZE_OFFSET + MESSAGE_SIZE_SIZE,\n+        HEADER_SIZE = MESSAGE_START_SIZE + COMMAND_SIZE + MESSAGE_SIZE_SIZE + CHECKSUM_SIZE\n+    };\n     typedef unsigned char MessageStartChars[MESSAGE_START_SIZE];\n \n     CMessageHeader(const MessageStartChars& pchMessageStartIn);\n@@ -48,17 +56,6 @@ class CMessageHeader\n         READWRITE(FLATDATA(pchChecksum));\n     }\n \n-    // TODO: make private (improves encapsulation)\n-public:\n-    enum {\n-        COMMAND_SIZE = 12,\n-        MESSAGE_SIZE_SIZE = 4,\n-        CHECKSUM_SIZE = 4,\n-\n-        MESSAGE_SIZE_OFFSET = MESSAGE_START_SIZE + COMMAND_SIZE,\n-        CHECKSUM_OFFSET = MESSAGE_SIZE_OFFSET + MESSAGE_SIZE_SIZE,\n-        HEADER_SIZE = MESSAGE_START_SIZE + COMMAND_SIZE + MESSAGE_SIZE_SIZE + CHECKSUM_SIZE\n-    };\n     char pchMessageStart[MESSAGE_START_SIZE];\n     char pchCommand[COMMAND_SIZE];\n     uint32_t nMessageSize;"
      }
    ]
  },
  {
    "sha": "1df311118d79c04df1d41e044b19444cfda015da",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxZGYzMTExMThkNzljMDRkZjFkNDFlMDQ0YjE5NDQ0Y2ZkYTAxNWRh",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-10-04T15:55:12Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-10-05T11:32:20Z"
      },
      "message": "protocol.h: Make enums in GetDataMsg concrete values\n\nThis concretizes the numbers and adds a comment to make it clear that\nthese numbers are fixed by the protocol, and may avoid people forgetting\nto claim numbers in the future (e.g. issue #8500).\n\nAlso gets rid of a weird unused `MSG_TYPE_MAX` in the middle of the\nenumeration (thanks @paveljanik for noticing).",
      "tree": {
        "sha": "1c9c03183975fc78c8d59afdb5eac3c5613ab6b7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1c9c03183975fc78c8d59afdb5eac3c5613ab6b7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1df311118d79c04df1d41e044b19444cfda015da",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1df311118d79c04df1d41e044b19444cfda015da",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/1df311118d79c04df1d41e044b19444cfda015da",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1df311118d79c04df1d41e044b19444cfda015da/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2c09a5209ab00573a2422e1e65c437a6e2f59624",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2c09a5209ab00573a2422e1e65c437a6e2f59624",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2c09a5209ab00573a2422e1e65c437a6e2f59624"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 12,
      "deletions": 8
    },
    "files": [
      {
        "sha": "d19e0d3a5e24e59fd7d66019a5ebba70a5b7b52b",
        "filename": "src/protocol.h",
        "status": "modified",
        "additions": 12,
        "deletions": 8,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1df311118d79c04df1d41e044b19444cfda015da/src/protocol.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1df311118d79c04df1d41e044b19444cfda015da/src/protocol.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/protocol.h?ref=1df311118d79c04df1d41e044b19444cfda015da",
        "patch": "@@ -312,20 +312,24 @@ class CAddress : public CService\n     unsigned int nTime;\n };\n \n-/** getdata message types */\n+/** getdata message type flags */\n const uint32_t MSG_WITNESS_FLAG = 1 << 30;\n const uint32_t MSG_TYPE_MASK    = 0xffffffff >> 2;\n+\n+/** getdata / inv message types.\n+ * These numbers are defined by the protocol. When adding a new value, be sure\n+ * to mention it in the respective BIP.\n+ */\n enum GetDataMsg\n {\n     UNDEFINED = 0,\n-    MSG_TX,\n-    MSG_BLOCK,\n-    MSG_TYPE_MAX = MSG_BLOCK,\n+    MSG_TX = 1,\n+    MSG_BLOCK = 2,\n     // The following can only occur in getdata. Invs always use TX or BLOCK.\n-    MSG_FILTERED_BLOCK,\n-    MSG_CMPCT_BLOCK,\n-    MSG_WITNESS_BLOCK = MSG_BLOCK | MSG_WITNESS_FLAG,\n-    MSG_WITNESS_TX = MSG_TX | MSG_WITNESS_FLAG,\n+    MSG_FILTERED_BLOCK = 3,  //!< Defined in BIP37\n+    MSG_CMPCT_BLOCK = 4,     //!< Defined in BIP152\n+    MSG_WITNESS_BLOCK = MSG_BLOCK | MSG_WITNESS_FLAG, //!< Defined in BIP144\n+    MSG_WITNESS_TX = MSG_TX | MSG_WITNESS_FLAG,       //!< Defined in BIP144\n     MSG_FILTERED_WITNESS_BLOCK = MSG_FILTERED_BLOCK | MSG_WITNESS_FLAG,\n };\n "
      }
    ]
  }
]