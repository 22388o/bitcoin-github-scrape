[
  {
    "sha": "c0cf48d1ac5b661aa1dfbcd284c773f8f5bbe806",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjMGNmNDhkMWFjNWI2NjFhYTFkZmJjZDI4NGM3NzNmOGY1YmJlODA2",
    "commit": {
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-01-08T18:31:55Z"
      },
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-01-08T18:32:00Z"
      },
      "message": "c++11: add scoped enum fallbacks to CPPFLAGS rather than defining them locally\n\nDue to include ordering, defining in one place was not enough to ensure correct\nusage. Use global defines so that we don't have to worry abou this ordering.\n\nAlso add a comment in configure about the test.",
      "tree": {
        "sha": "10a02afac4991c43503827cdae1260c217fcbe1c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/10a02afac4991c43503827cdae1260c217fcbe1c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c0cf48d1ac5b661aa1dfbcd284c773f8f5bbe806",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c0cf48d1ac5b661aa1dfbcd284c773f8f5bbe806",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c0cf48d1ac5b661aa1dfbcd284c773f8f5bbe806",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c0cf48d1ac5b661aa1dfbcd284c773f8f5bbe806/comments",
    "author": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "9de541a9c95a47c3f5c9e443a0ad3040b9791a2f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9de541a9c95a47c3f5c9e443a0ad3040b9791a2f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/9de541a9c95a47c3f5c9e443a0ad3040b9791a2f"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 12,
      "deletions": 6
    },
    "files": [
      {
        "sha": "347016064cf6655baa3d4a5be6d9161cf008449a",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 12,
        "deletions": 1,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c0cf48d1ac5b661aa1dfbcd284c773f8f5bbe806/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c0cf48d1ac5b661aa1dfbcd284c773f8f5bbe806/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=c0cf48d1ac5b661aa1dfbcd284c773f8f5bbe806",
        "patch": "@@ -619,6 +619,17 @@ if test x$use_boost = xyes; then\n \n BOOST_LIBS=\"$BOOST_LDFLAGS $BOOST_SYSTEM_LIB $BOOST_FILESYSTEM_LIB $BOOST_PROGRAM_OPTIONS_LIB $BOOST_THREAD_LIB $BOOST_CHRONO_LIB\"\n \n+\n+dnl If boost (prior to 1.57) was built without c++11, it emulated scoped enums\n+dnl using c++98 constructs. Unfortunately, this implementation detail leaked into\n+dnl the abi. This was fixed in 1.57.\n+\n+dnl When building against that installed version using c++11, the headers pick up\n+dnl on the native c++11 scoped enum support and enable it, however it will fail to\n+dnl link. This can be worked around by disabling c++11 scoped enums if linking will\n+dnl fail.\n+dnl BOOST_NO_SCOPED_ENUMS was changed to BOOST_NO_CXX11_SCOPED_ENUMS in 1.51.\n+\n TEMP_LIBS=\"$LIBS\"\n LIBS=\"$BOOST_LIBS $LIBS\"\n TEMP_CPPFLAGS=\"$CPPFLAGS\"\n@@ -640,7 +651,7 @@ AC_LINK_IFELSE([AC_LANG_PROGRAM([[\n     choke;\n   #endif\n   ]])],\n-  [AC_MSG_RESULT(mismatched); AC_DEFINE(FORCE_BOOST_EMULATED_SCOPED_ENUMS, 1, [Define this symbol if boost scoped enums are emulated])], [AC_MSG_RESULT(ok)])\n+  [AC_MSG_RESULT(mismatched); BOOST_CPPFLAGS=\"$BOOST_CPPFLAGS -DBOOST_NO_SCOPED_ENUMS -DBOOST_NO_CXX11_SCOPED_ENUMS\"], [AC_MSG_RESULT(ok)])\n LIBS=\"$TEMP_LIBS\"\n CPPFLAGS=\"$TEMP_CPPFLAGS\"\n "
      },
      {
        "sha": "67511976df016bb370ddb90c5988d1b9f06bf8ff",
        "filename": "src/wallet/walletdb.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 5,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c0cf48d1ac5b661aa1dfbcd284c773f8f5bbe806/src/wallet/walletdb.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c0cf48d1ac5b661aa1dfbcd284c773f8f5bbe806/src/wallet/walletdb.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/walletdb.cpp?ref=c0cf48d1ac5b661aa1dfbcd284c773f8f5bbe806",
        "patch": "@@ -15,11 +15,6 @@\n #include \"utiltime.h\"\n #include \"wallet/wallet.h\"\n \n-#if defined(FORCE_BOOST_EMULATED_SCOPED_ENUMS)\n-#define BOOST_NO_SCOPED_ENUMS\n-#define BOOST_NO_CXX11_SCOPED_ENUMS\n-#endif\n-\n #include <boost/version.hpp>\n #include <boost/filesystem.hpp>\n #include <boost/foreach.hpp>"
      }
    ]
  }
]