hebasto,2020-01-15 20:20:55,"@practicalswift \nhttps://github.com/bitcoin/bitcoin/issues/14959#issuecomment-487413672:\n> FWIW you're not alone here: I found the use of `--prefix` (for anything beyond the ordinary meaning of installation destination) unintuitive too :-)\n\nhttps://github.com/bitcoin/bitcoin/pull/16691#issuecomment-524170556:\n> Should it be clarified that `--prefix` is used not in its usual meaning of ""w",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-574839395,574839395,
ryanofsky,2020-01-15 20:56:54,"This change seems clearer to me and I think it's an improvement. But now the documentation doesn't seem to mention the prefix path at all, so it's not clear that binaries will be installed in `depends/<host-platform-triplet>`. It might be worth mentioning in these documents where depends build outputs will be installed if the prefix is no longer explicit in the instructions",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-574852627,574852627,
hebasto,2020-01-15 21:01:40,"> This change seems clearer to me and I think it's an improvement. But now the documentation doesn't seem to mention the prefix path at all, so it's not clear that binaries will be installed in `depends/<host-platform-triplet>`. It might be worth mentioning in these documents where depends build outputs will be installed if the prefix is no longer explicit in the instructions\n\nDo you mean copy",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-574854343,574854343,
ryanofsky,2020-01-15 21:41:17,"> Do you mean copy-paste from `./configure --help` ?\n\nI'm suggesting adding a sentence like: ""The default install prefix when using `config.site` is `--prefix=depends/<host-platform-triplet>`, so depends build outputs will be installed in that location.""\n\nWithout this PR, the install location is more obvious because --prefix is explicit. The install location is less clear with this PR beca",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-574869188,574869188,
fanquake,2020-01-16 00:01:49,"~0. It has annoyed me for a while that we've been inconsistent with `--prefix` and `CONFIG_SITE` usage in our docs, and I was going to change the windows docs to use `--prefix` at one point.\n\n> Consider a CentOS 7 32 bit system.\n\nIs this the only system where this is an issue?\n\nI know @theuni is busy, but I'd like his thoughts here as well.",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-574914557,574914557,
hebasto,2020-01-16 06:17:21,"@fanquake \n\n> ~0. It has annoyed me for a while that we've been inconsistent with `--prefix` and `CONFIG_SITE` usage in our docs, and I was going to change the windows docs to use `--prefix` at one point.\n\nUsing `--prefix` in a such [unusual](https://www.gnu.org/prep/standards/html_node/Directory-Variables.html) way looks a bit like a hack. And the windows docs is ok, IMO.\n\n> > Conside",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-575001589,575001589,
hebasto,2020-01-16 07:09:12,"@ryanofsky \n> I'm suggesting adding a sentence like: ""The default install prefix when using `config.site` is `--prefix=depends/<host-platform-triplet>`, so depends build outputs will be installed in that location.""\n\nIIUC, ""depends build outputs"" (boost, qt, zmq, ...) _always_ are placed in `depends/<host-platform-triplet>` directory.\nAnd `prefix` is used by `make install` as a target to co",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-575015186,575015186,
ryanofsky,2020-01-16 12:19:07,"Code review ACK c8e20035b088afeb731f4427e2f874e3291388a8. Agree that referencing the config.site file specifically is a not only clearer than current prefix magic but also more flexible, as in in the centos example.\n\nI don't understand this comment at all: https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-575015186. I like the PR. I'm an only trying to suggest adding another sentence ",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-575126738,575126738,
hebasto,2020-01-16 12:44:44,"@ryanofsky Sorry, Russel. I did not want to be rude. My native language is not English, as you know. I was confused with ""depends build outputs will be installed in that location"" phrase. Actually, I do not understand its meaning now.",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-575135204,575135204,
hebasto,2020-01-16 12:56:27,"> Agree that referencing the config.site file specifically is a not only clearer than current prefix magic but also more flexible, as in in the centos example.\n\nMore details from [The Autoconf Manual - 15.8](https://www.gnu.org/savannah-checkouts/gnu/autoconf/manual/autoconf-2.69/html_node/Site-Defaults.html):\n> If the environment variable `CONFIG_SITE` is set, `configure` uses its value as ",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-575139119,575139119,
Sjors,2020-01-17 09:36:59,"Concept ACK.\n\nUnfortunately `CONFIG_SITE` isn't remembered between configure runs. This causes a problem when you switch branches or pull master sometimes, when configure is automatically re-run, it forgets about using depends.",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-575549519,575549519,
hebasto,2020-01-17 09:45:17,"@Sjors \n> Unfortunately `CONFIG_SITE` isn't remembered between configure runs. This causes a problem when you switch branches or pull master sometimes, when configure is automatically re-run, it forgets about using depends.\n\nDo you mean that `--prefix=...` option is remembered in mentioned circumstances?",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-575552522,575552522,
Sjors,2020-01-17 10:26:40,I believe so yes. Though hopefully there's a way to make it remember the config_site too.,https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-575567886,575567886,
hebasto,2020-03-09 08:30:13,"@theuni from #8167:\n> To make my life easier while I was in there, I fixed up depends to play nice with CONFIG_SITE, which can be used now instead of abusing --prefix, though the --prefix hack still works fine.",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-596394174,596394174,
hebasto,2021-04-09 09:34:52,"Updated c8e20035b088afeb731f4427e2f874e3291388a8 -> 223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8 ([pr17934.01](https://github.com/hebasto/bitcoin/commits/pr17934.01) -> [pr17934.02](https://github.com/hebasto/bitcoin/commits/pr17934.02)):\n\n- rebased\n- addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-574869188):\n> I'm suggesting adding a sentence like:",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-816556534,816556534,
practicalswift,2021-04-09 19:17:05,"Concept ACK\n\nThanks for fixing this. I've always found our use of `--prefix` somewhat unintuitive since it deviates from the typical meaning.",https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-816906922,816906922,
practicalswift,2021-04-09 19:18:26,ACK 223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8: patch looks correct,https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-816908810,816908810,
fanquake,2021-04-08 06:19:11,"you must set the `CONFIG_SITE` environment variable to point to a `config.site` settings file. In the above example, a file named `depends/x86_64-w64-mingw32/share/config.site` will be created. To use it during compilation:\n\nCONFIG_SITE=$PWD/depends/x86_64-w64-mingw32/share/config.site ./configure",https://github.com/bitcoin/bitcoin/pull/17934#discussion_r609341018,609341018,depends/README.md
hebasto,2021-04-09 09:35:40,Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/17934#issuecomment-816556534).,https://github.com/bitcoin/bitcoin/pull/17934#discussion_r610488289,610488289,depends/README.md
fanquake,2021-04-10 01:33:53,"By ""depends build outputs"" I'm assuming you mean things like the fontconfig tools, which will end up installed into `depends/<host-platform-triplet>`. i.e:\n```bash\n# ls depends/x86_64-pc-linux-gnu/bin/\nevent_rpcgen.py  fc-cache  fc-cat  fc-list  fc-match  fc-pattern  fc-query  fc-scan  fc-validate  freetype-config  xmlwf\n```\n\nIs that correct?",https://github.com/bitcoin/bitcoin/pull/17934#discussion_r610969594,610969594,depends/README.md
hebasto,2021-04-10 15:26:40,"All of the dependency packages are installed into `depends/<host-platform-triplet>`, using `bin`, `lib` and other subdirectories.\n\nThe `make -C depends` rightfully reports:\n```\ncopying packages: native_b2 boost libevent qt expat libxcb xcb_proto libXau xproto freetype fontconfig libxkbcommon qrencode bdb sqlite miniupnpc libnatpmp zeromq\nto: /home/hebasto/GitHub/bitcoin/depends/x86_64-pc",https://github.com/bitcoin/bitcoin/pull/17934#discussion_r611058042,611058042,depends/README.md
