[
  {
    "sha": "223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyMjNiMWJhN2Q5MDUwOWE0N2VhMDdhZjQ2ZjRiOWMzYjhlZmJjOWY4",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-04-09T09:20:03Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-04-09T09:25:18Z"
      },
      "message": "doc: Use CONFIG_SITE instead of --prefix",
      "tree": {
        "sha": "b82d39105e1a9e6275f8ff81bc995e5f28e70d28",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b82d39105e1a9e6275f8ff81bc995e5f28e70d28"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmBwHX4ACgkQQQEIES5+\nqB9viQ//YSbU/RpPkccWE7XDJi5JCXfRh8R8gJOt/MXC50yR/r8MHqMJc00FU0Uf\nghoEeXoK6+xw18GaER0SOOXm/oMeuG0xtdUaBb4ZRkFMpEabAEdCi2+uBH4vVTwb\nZmw/hsHsrRJ2TxM1BdArm0hu8pKVsxBYzmwwiDJ2qf78WGZzb5SKUZ4WMNH2vHmu\nPNZm/A/MFiXxThHV/1RUdVXy8TXImuoVYJ0TjLzfFdDVjmbDiaIQTFw3g18PH/na\np4oK9T4YLG9rl+1AS2S/LDTDva7mKPtv4rXaYk97Hyj3znR8wnG8ioZiVGFyzHO/\nXOaQPr1523KE+ddHo2RxVz6RP61yGBpYLT6pwAivF3smwopvzjNw/NZ5qM/cXAsq\niYD7snsMQ/6If5pZnkLh3PPO0vtz3BOBsgE8B169Zj3n+OpRdRvD/RH5aR3WW5M2\n7R9NaAg0eVR12zcKBHLdZ4g1WQpSloQpfNP2KVFPjWD9AyDgRv3xyvh/y9eA/2EK\nLoza6tEeHs4VW55hgR8uxvYumVprl/2OHPeRLen8zSJoaGT1duMgTo94aIiHltIO\npMqW7UP7qimoMZfO5/FcbMW5WJtxbSyzzQ0axPCaOFTJpoHf92HzIJ+zY9guUmry\n9Y4kEoRS69H1Z47vw58kFSZPLHbb28g5bOxxcXcLmEEDFEx4310=\n=4Rx9\n-----END PGP SIGNATURE-----",
        "payload": "tree b82d39105e1a9e6275f8ff81bc995e5f28e70d28\nparent 4ad83a9597e4f5340742d080e26437c5d8d203ba\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1617960003 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1617960318 +0300\n\ndoc: Use CONFIG_SITE instead of --prefix\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4ad83a9597e4f5340742d080e26437c5d8d203ba",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4ad83a9597e4f5340742d080e26437c5d8d203ba",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4ad83a9597e4f5340742d080e26437c5d8d203ba"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 11,
      "deletions": 9
    },
    "files": [
      {
        "sha": "6b20791281a827b1d418926b43fbf96c0ae9cbd2",
        "filename": "depends/README.md",
        "status": "modified",
        "additions": 9,
        "deletions": 7,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8/depends/README.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8/depends/README.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/README.md?ref=223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8",
        "patch": "@@ -12,15 +12,18 @@ For example:\n \n     make HOST=x86_64-w64-mingw32 -j4\n \n-**Bitcoin Core's configure script by default will ignore the depends output.** In\n+**Bitcoin Core's `configure` script by default will ignore the depends output.** In\n order for it to pick up libraries, tools, and settings from the depends build,\n-you must point it at the appropriate `--prefix` directory generated by the\n-build. In the above example, a prefix dir named x86_64-w64-mingw32 will be\n-created. To use it for Bitcoin:\n+you must set the `CONFIG_SITE` environment variable to point to a `config.site` settings file.\n+In the above example, a file named `depends/x86_64-w64-mingw32/share/config.site` will be\n+created. To use it during compilation:\n \n-    ./configure --prefix=$PWD/depends/x86_64-w64-mingw32\n+    CONFIG_SITE=$PWD/depends/x86_64-w64-mingw32/share/config.site ./configure\n \n-Common `host-platform-triplets` for cross compilation are:\n+The default install prefix when using `config.site` is `--prefix=depends/<host-platform-triplet>`,\n+so depends build outputs will be installed in that location.\n+\n+Common `host-platform-triplet`s for cross compilation are:\n \n - `i686-pc-linux-gnu` for Linux 32 bit\n - `x86_64-pc-linux-gnu` for x86 Linux\n@@ -133,4 +136,3 @@ This is an example command for a default build with no disabled dependencies:\n \n - [description.md](description.md): General description of the depends system\n - [packages.md](packages.md): Steps for adding packages\n-"
      },
      {
        "sha": "0c438db29a425c42d974bb40310b16465551a527",
        "filename": "doc/build-unix.md",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8/doc/build-unix.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8/doc/build-unix.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/build-unix.md?ref=223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8",
        "patch": "@@ -331,7 +331,7 @@ To build executables for ARM:\n     make HOST=arm-linux-gnueabihf NO_QT=1\n     cd ..\n     ./autogen.sh\n-    ./configure --prefix=$PWD/depends/arm-linux-gnueabihf --enable-glibc-back-compat --enable-reduce-exports LDFLAGS=-static-libstdc++\n+    CONFIG_SITE=$PWD/depends/arm-linux-gnueabihf/share/config.site ./configure --enable-glibc-back-compat --enable-reduce-exports LDFLAGS=-static-libstdc++\n     make\n \n "
      },
      {
        "sha": "7a42fdd734f755066d8e2814ef51500a93c36d4a",
        "filename": "doc/multiprocess.md",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8/doc/multiprocess.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8/doc/multiprocess.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/multiprocess.md?ref=223b1ba7d90509a47ea07af46f4b9c3b8efbc9f8",
        "patch": "@@ -24,7 +24,7 @@ The multiprocess feature requires [Cap'n Proto](https://capnproto.org/) and [lib\n ```\n cd <BITCOIN_SOURCE_DIRECTORY>\n make -C depends NO_QT=1 MULTIPROCESS=1\n-./configure --prefix=$PWD/depends/x86_64-pc-linux-gnu\n+CONFIG_SITE=$PWD/depends/x86_64-pc-linux-gnu/share/config.site ./configure\n make\n src/bitcoin-node -regtest -printtoconsole -debug=ipc\n BITCOIND=bitcoin-node test/functional/test_runner.py"
      }
    ]
  }
]