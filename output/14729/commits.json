[
  {
    "sha": "38640a021a67e376c32414d457f5f850ebbee083",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozODY0MGEwMjFhNjdlMzc2YzMyNDE0ZDQ1N2Y1Zjg1MGViYmVlMDgz",
    "commit": {
      "author": {
        "name": "qubenix",
        "email": "qubenix@users.noreply.github.com",
        "date": "2018-11-15T03:17:30Z"
      },
      "committer": {
        "name": "qubenix",
        "email": "qubenix@users.noreply.github.com",
        "date": "2018-11-15T20:24:17Z"
      },
      "message": "correct -onion default to -proxy behavior\n- fixes #14722\n- only use default tor ip:port (127.0.0.1:9050) if -onion and -proxy not set\n- fix comment to reflect new behavior",
      "tree": {
        "sha": "f84af7364d977f8a0e0e74cfbe89339c46e7f2b6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f84af7364d977f8a0e0e74cfbe89339c46e7f2b6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/38640a021a67e376c32414d457f5f850ebbee083",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQKTBAABCgB9FiEE/nRUIoWUtN3QNM5zqV1NGX6SKyAFAlvt1bJfFIAAAAAALgAo\naXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldEZF\nNzQ1NDIyODU5NEI0REREMDM0Q0U3M0E5NUQ0RDE5N0U5MjJCMjAACgkQqV1NGX6S\nKyD7UA/+JByRmOclkYQizunZdpG4A7gYZD+iwyEMOnR5CQ086PLnciot+tEC0jCl\noktVAT+uPkktR8koo+EjFgR6mSA+DZ0DxLkvQ2B9FtTJwyh9uOr7GQ1Q16uZ/mQv\nq2Y1korhDkH51TbEWOI5on/0FmauHCR+Fhb3vTgxkBQXd6X2Afdg8t4aHcvoChk1\nqKWPhF3Khj5IcgqBiM5dO/3vVAC/jb9YwQbKcYyO/SJoLpLQNtJvIvjI/vxTHnMc\nwOdr7eMb6LaEkYCZ164mN7/NEQQaqMe4m4EcvA5RqnOFHKvos8yYscKCC/iifyb0\nSKAIHN52PchUAbfCLayl1kfTxPANFZm41HEFzk4ZVjJwe2XgEDeEg3+79eaUYBw8\n69j3erPPlv7gTfJyUbqldfg1HXf7a9opztqn3xOYOlr4SwHDS5HHsFe7NyCuUhU2\ngV5jPkkDbGZ1iJCX9et4njFn4LjwO3jbWm5yJpZWrE42hmH8Brfe49oPWuO981bs\nMmuw5Pn14SntZHlMEdXDx/K4Q//VvxHHd6GGwE6ADK4+wLeL5fRYouQTUGGKJLrQ\nZ/lg3qgnr1YbRCyfuKKsE8/JZNo1HRhhn5mFwGbw83G+EhFvPIY56CbYDbfi2yva\nPX8TE9WqJh9ULI3nCckZUMHB3LlhqBiKgxuGqgnr67uth6ucJFI=\n=g5Gv\n-----END PGP SIGNATURE-----",
        "payload": "tree f84af7364d977f8a0e0e74cfbe89339c46e7f2b6\nparent e74649e95122c9c61aadf607461cf701c3953f88\nauthor qubenix <qubenix@users.noreply.github.com> 1542251850 +0000\ncommitter qubenix <qubenix@users.noreply.github.com> 1542313457 +0000\n\ncorrect -onion default to -proxy behavior\n- fixes #14722\n- only use default tor ip:port (127.0.0.1:9050) if -onion and -proxy not set\n- fix comment to reflect new behavior\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/38640a021a67e376c32414d457f5f850ebbee083",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/38640a021a67e376c32414d457f5f850ebbee083",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/38640a021a67e376c32414d457f5f850ebbee083/comments",
    "author": {
      "login": "qubenix",
      "id": 15707061,
      "node_id": "MDQ6VXNlcjE1NzA3MDYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/15707061?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qubenix",
      "html_url": "https://github.com/qubenix",
      "followers_url": "https://api.github.com/users/qubenix/followers",
      "following_url": "https://api.github.com/users/qubenix/following{/other_user}",
      "gists_url": "https://api.github.com/users/qubenix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qubenix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qubenix/subscriptions",
      "organizations_url": "https://api.github.com/users/qubenix/orgs",
      "repos_url": "https://api.github.com/users/qubenix/repos",
      "events_url": "https://api.github.com/users/qubenix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qubenix/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "qubenix",
      "id": 15707061,
      "node_id": "MDQ6VXNlcjE1NzA3MDYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/15707061?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qubenix",
      "html_url": "https://github.com/qubenix",
      "followers_url": "https://api.github.com/users/qubenix/followers",
      "following_url": "https://api.github.com/users/qubenix/following{/other_user}",
      "gists_url": "https://api.github.com/users/qubenix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qubenix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qubenix/subscriptions",
      "organizations_url": "https://api.github.com/users/qubenix/orgs",
      "repos_url": "https://api.github.com/users/qubenix/repos",
      "events_url": "https://api.github.com/users/qubenix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qubenix/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e74649e95122c9c61aadf607461cf701c3953f88",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e74649e95122c9c61aadf607461cf701c3953f88",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e74649e95122c9c61aadf607461cf701c3953f88"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "1f5804c5de8b3287b7d2a26d3ff0b9114b6b4d9f",
        "filename": "src/torcontrol.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/38640a021a67e376c32414d457f5f850ebbee083/src/torcontrol.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/38640a021a67e376c32414d457f5f850ebbee083/src/torcontrol.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/torcontrol.cpp?ref=38640a021a67e376c32414d457f5f850ebbee083",
        "patch": "@@ -522,9 +522,9 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n     if (reply.code == 250) {\n         LogPrint(BCLog::TOR, \"tor: Authentication successful\\n\");\n \n-        // Now that we know Tor is running setup the proxy for onion addresses\n-        // if -onion isn't set to something else.\n-        if (gArgs.GetArg(\"-onion\", \"\") == \"\") {\n+        // Now that we know Tor is running, setup the proxy for onion addresses\n+        // if -onion and -proxy isn't set to something else.\n+        if (gArgs.GetArg(\"-onion\", \"\") == \"\" && gArgs.GetArg(\"-proxy\", \"\") == \"\") {\n             CService resolved(LookupNumeric(\"127.0.0.1\", 9050));\n             proxyType addrOnion = proxyType(resolved, true);\n             SetProxy(NET_ONION, addrOnion);"
      }
    ]
  }
]