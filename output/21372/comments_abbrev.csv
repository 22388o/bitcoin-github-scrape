gmaxwell,2021-03-05 18:26:59,"Doing this is pretty bad for block propagation performance-- probably adding over 100ms to the global propagation time because it guarantees a round trip at every hop. ... especially now with fibre mostly gone.\n\nLast I looked the only pool mining there own non-standard transactions was f2pool (>100kb in their case).\n\nThis facility would also make it extremely easy to unintentionally fork t",https://github.com/bitcoin/bitcoin/pull/21372#issuecomment-791600485,791600485,
DesWurstes,2021-03-05 18:56:09,"> Doing this is pretty bad for block propagation performance-- probably adding over 100ms to the global propagation time because it guarantees a round trip at every hop. ... especially now with fibre mostly gone.\n\nI don't get this part, are you referring to Compact Blocks? Mining pool nodes receive full blocks from each other with transactions, adding an unbroadcast transaction wouldn't break ",https://github.com/bitcoin/bitcoin/pull/21372#issuecomment-791615585,791615585,
DrahtBot,2021-03-05 21:30:03,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20833 (rpc/validation: enable packages through testmempoolaccept by glozow)\n\nIf you consider this pull request importan",https://github.com/bitcoin/bitcoin/pull/21372#issuecomment-791722521,791722521,
sipa,2021-03-05 21:54:41,"> I don't get this part, are you referring to Compact Blocks?\n\nCompact blocks are able to relay blocks without any roundtrips if all the blocks' transactions (excluding the coinbase) are known to the recipients already. For sufficiently long-running nodes, in practice this is very often the case. As soon as there is at least one transaction missing, a roundtrip is needed which effectively trip",https://github.com/bitcoin/bitcoin/pull/21372#issuecomment-791735591,791735591,
DesWurstes,2021-03-06 08:42:56,"```\n                ""\nInclude a raw transaction in the next block without relaying it.\n""\n                ""WARNING: Mining a transaction that is not relayed will slow down the propoagation of the block\n""\n                ""and increase the probability of being orphaned! Prefer sendrawtransaction + prioritisetransaction\n""\n                ""whenever possible."",\n```\n\nI think this still ",https://github.com/bitcoin/bitcoin/pull/21372#issuecomment-791896949,791896949,
gmaxwell,2021-03-06 19:53:23,"> I don't think this feature can be abused, it's only for convenience.\n\nIt's extremely dangerous because the consensus rules are subtle and no reasonable user expects an exposed option that may cause their blocks to be rejected as invalid.\n\nNothing in my comment said anything about malice by miners, in fact I specifically said ""unintentionally"".   Most causes of non-standardness  are inten",https://github.com/bitcoin/bitcoin/pull/21372#issuecomment-792042078,792042078,
DesWurstes,2021-03-06 20:13:18,convinced👍,https://github.com/bitcoin/bitcoin/pull/21372#issuecomment-792044814,792044814,
MarcoFalke,2021-03-07 07:55:26,(slightly related to #20753 ),https://github.com/bitcoin/bitcoin/pull/21372#issuecomment-792234655,792234655,
luke-jr,2021-03-09 19:06:08,">As soon as there is at least one transaction missing, a roundtrip is needed which effectively triples the block relay time on each hop\n\nIt doesn't need to. Maybe we should add logic to include any policy-rejected transactions in the initial compact block?",https://github.com/bitcoin/bitcoin/pull/21372#issuecomment-794318701,794318701,
