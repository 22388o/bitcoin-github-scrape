laanwj,2014-10-29T14:24:37Z,"Can't get this to work; when I try to generate a block far in the future, I end up with a block with time=now (whereas 3000000000='Sat Jan 24 06:20:00 2065').\n\n```\n$ src/bitcoin-cli -regtest -datadir=/store/tmp/testbtc setgenerate true 1 3000000000\n[\n    ""00009367006078e783947d0c4dcc429a98935ad22bc579ff68de99640e5e85c2""\n]\n\n$ src/bitcoin-cli -regtest -datadir=/store/tmp/testbtc getblock 000",https://github.com/bitcoin/bitcoin/pull/5155#issuecomment-60932193,60932193,
gavinandresen,2014-10-29T15:11:21Z,"I'll add checks for out-of-range timestamps: timestamp will have to be greater than genesis block, and less than now + 2_60_60\n",https://github.com/bitcoin/bitcoin/pull/5155#issuecomment-60940961,60940961,
sipa,2014-10-29T15:16:29Z,"Would it be possible to have a dedicated `generate` RPC which just calls the miner (without a new thread) to create a block, with all the parameters needed?\n\n... and un-magicify the regtest behaviour of `setgenerate`.\n",https://github.com/bitcoin/bitcoin/pull/5155#issuecomment-60941965,60941965,
gavinandresen,2014-10-29T15:43:40Z,"@sipa: we should've done that when we added the magic setgenerate behavior.\n\nAdding a regression-test-only RPC like... uh:\n\n```\ngenerate previousblockhash n_blocks block_timestamp [coinbase_scriptpubkeys] 'hex_coinbase_extradata'\n```\n\n... that returns an array of raw blocks (which could be submitted with submitblock) would be darn handy for writing regression tests, benchmarking, .....\n",https://github.com/bitcoin/bitcoin/pull/5155#issuecomment-60947445,60947445,
gavinandresen,2014-10-29T16:43:18Z,"So now I'm thinking using RPC to generate -regtest-mode-blocks is stupid.\n\nWe already have python code for mining, I'm thinking that is the right approach rather than a 'generate' RPC call. The setgenerate RPC call already does 100 times as much work as it should in -regtest mode (because its mining inner loop looks for a zero byte), so generating -regtest chains in python (and submitting via su",https://github.com/bitcoin/bitcoin/pull/5155#issuecomment-60959060,60959060,
petertodd,2014-10-29T19:52:22Z,"@gavinandresen Yeah, I generate regtest blocks w/ Python myself any time I need something non-generic; I gotta get around to cleaning up my code to do that and adding it to python-bitcoinlib officially.\n\nWhat would be useful however is a way to force-set the time your Bitcoin node uses from the RPC interface; I looked for a way to do that the other day and didn't find it.\n",https://github.com/bitcoin/bitcoin/pull/5155#issuecomment-60992613,60992613,
laanwj,2014-10-31T09:59:47Z,"Agree @sipa; the setgenerate call is getting cluttered this way. `regtest_generate` would have been better as a wholly separate call. I also thought about noting that, but didn't bother because it's just the internal miner.\n\nHaving the generate call internally in RPC _is_ useful though (instead of having it depend on external Python code). I regularly use regtest mode to do manual testing, and t",https://github.com/bitcoin/bitcoin/pull/5155#issuecomment-61239617,61239617,
laanwj,2014-11-03T11:30:27Z,"So I vote for keeping `setgenerate` as it is now - convenient for generating blocks and not much more - and doing more advanced, specific test cases like changing the timestamp, previous block hash and coinbase script from the testing Python code. That's much more flexible and keeps the RPC interface clean.\n",https://github.com/bitcoin/bitcoin/pull/5155#issuecomment-61465865,61465865,
gavinandresen,2014-11-10T17:34:18Z,"OK, will do this a different way.\n",https://github.com/bitcoin/bitcoin/pull/5155#issuecomment-62421459,62421459,
