pstratem,2015-12-05T09:51:37Z,utACK\n,https://github.com/bitcoin/bitcoin/pull/7174#issuecomment-162167972,162167972,
pstratem,2015-12-05T10:20:26Z,This performance regression was introduced in 319b11607f8592d7ef67ec82fa73545ad7430974\n,https://github.com/bitcoin/bitcoin/pull/7174#issuecomment-162169075,162169075,
petertodd,2015-12-05T11:38:47Z,utACK\n,https://github.com/bitcoin/bitcoin/pull/7174#issuecomment-162174953,162174953,
jgarzik,2015-12-05T16:15:37Z,utACK \n,https://github.com/bitcoin/bitcoin/pull/7174#issuecomment-162217656,162217656,
gmaxwell,2015-12-05T23:29:08Z,"ACK. Good catch, it makes a huge performance difference with a large mempool. The problem still exists with a filter set, but it's a nice step forward. This change also makes the code simpler and clearer, which is always a bonus. I think we should take this back to 0.12 as well. \n",https://github.com/bitcoin/bitcoin/pull/7174#issuecomment-162256605,162256605,
dcousens,2015-12-07T00:55:59Z,utACK\n,https://github.com/bitcoin/bitcoin/pull/7174#issuecomment-162382262,162382262,
laanwj,2015-12-07T11:27:10Z,Posthumous ACK on the code change.\nBut this should have had a description and motivation in the commit message and PR description.\n,https://github.com/bitcoin/bitcoin/pull/7174#issuecomment-162494567,162494567,
luke-jr,2015-12-07T11:36:55Z,"Agreed, I was confused as to its behaviour for a while. The description given sounds like ""mempool"" wouldn't work at all with non-filter connections.\n",https://github.com/bitcoin/bitcoin/pull/7174#issuecomment-162497256,162497256,
jgarzik,2015-12-07T11:50:38Z,Da.  The description confused several devs...\n,https://github.com/bitcoin/bitcoin/pull/7174#issuecomment-162500899,162500899,
gmaxwell,2015-12-07T23:22:06Z,"Ah, I didn't see the potential for confusion it all. Though the description was complete and accurate, what ""mempool lookup"" means and is ambigious I could see it how you might extract that from the description without reading the code.\n\nFor short patches I try to read the code before the description, so as to not be biased by what it says it does and fail to see what it actually does. I would h",https://github.com/bitcoin/bitcoin/pull/7174#issuecomment-162703144,162703144,
dcousens,2015-12-08T01:50:26Z,"Title made sense to me,  I can understand how the misconception could exist, but, upon reading the code it was clear that it was just moving the branching logic around such that `mempool.lookup(...)` is only being done when necessary instead of pre-emptively.\n",https://github.com/bitcoin/bitcoin/pull/7174#issuecomment-162733267,162733267,
dcousens,2015-12-08T01:53:10Z,"There is 1 other change that wasn't described here,  which is `!IsRelevantAndUpdate` and `vInv.size() === MAX_INV_SZ` would previously cause a `""inv""` message to be pushed.\nThis does not occur now.\n\nHowever, given the logic that `vInv.size()` is only increased _if_ `isRelevantAndUpdate` was true anyway, means AFAIK this shouldn't be an issue.\n\nI guess, that is a minor performance optimization",https://github.com/bitcoin/bitcoin/pull/7174#discussion_r46906197,46906197,src/main.cpp
