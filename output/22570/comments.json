[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888720082",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-888720082",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
    "id": 888720082,
    "node_id": "IC_kwDOABII5840-MrS",
    "user": {
      "login": "Zero-1729",
      "id": 23586626,
      "node_id": "MDQ6VXNlcjIzNTg2NjI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/23586626?u=4c5f63febc30f4a5019f91ed09313f3391e08f3f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Zero-1729",
      "html_url": "https://github.com/Zero-1729",
      "followers_url": "https://api.github.com/users/Zero-1729/followers",
      "following_url": "https://api.github.com/users/Zero-1729/following{/other_user}",
      "gists_url": "https://api.github.com/users/Zero-1729/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Zero-1729/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Zero-1729/subscriptions",
      "organizations_url": "https://api.github.com/users/Zero-1729/orgs",
      "repos_url": "https://api.github.com/users/Zero-1729/repos",
      "events_url": "https://api.github.com/users/Zero-1729/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Zero-1729/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T01:02:19Z",
    "updated_at": "2021-07-29T01:02:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK, but agree with @fanquake's [comment](https://github.com/bitcoin/bitcoin/pull/22570/files#r678734212) regarding `LogPrintf()` and adding a terminal newline.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888720082/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888776153",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-888776153",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
    "id": 888776153,
    "node_id": "IC_kwDOABII5840-aXZ",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T03:39:44Z",
    "updated_at": "2021-07-29T14:13:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #22375 by MarcoFalke\n* #22362 by MarcoFalke\n* #22140 by jonatack\n* #21283 by achow101\n* #20233 by jnewbery\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888776153/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888925230",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-888925230",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
    "id": 888925230,
    "node_id": "IC_kwDOABII5840--wu",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T08:41:46Z",
    "updated_at": "2021-07-29T08:41:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888925230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888987556",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-888987556",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
    "id": 888987556,
    "node_id": "IC_kwDOABII5840_N-k",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T10:08:59Z",
    "updated_at": "2021-07-29T10:08:59Z",
    "author_association": "MEMBER",
    "body": "> Just to confirm that my understanding is correct: if this is merged now in master, it will be included in 23.0 but not in 22.1, right?\r\n\r\nYes, the pull request is to the `master` branch. 22.x is a different branch: https://github.com/bitcoin/bitcoin/tree/22.x",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888987556/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889741474",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-889741474",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
    "id": 889741474,
    "node_id": "IC_kwDOABII5841CGCi",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-30T08:47:34Z",
    "updated_at": "2021-07-30T08:47:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Further cleanup is possible:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/787296eb6744b15ab693c053e4030ff68dfc95e0/src/test/fuzz/banman.cpp#L55\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/787296eb6744b15ab693c053e4030ff68dfc95e0/src/test/fuzz/banman.cpp#L117",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889741474/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889767013",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-889767013",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
    "id": 889767013,
    "node_id": "IC_kwDOABII5841CMRl",
    "user": {
      "login": "Zero-1729",
      "id": 23586626,
      "node_id": "MDQ6VXNlcjIzNTg2NjI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/23586626?u=4c5f63febc30f4a5019f91ed09313f3391e08f3f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Zero-1729",
      "html_url": "https://github.com/Zero-1729",
      "followers_url": "https://api.github.com/users/Zero-1729/followers",
      "following_url": "https://api.github.com/users/Zero-1729/following{/other_user}",
      "gists_url": "https://api.github.com/users/Zero-1729/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Zero-1729/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Zero-1729/subscriptions",
      "organizations_url": "https://api.github.com/users/Zero-1729/orgs",
      "repos_url": "https://api.github.com/users/Zero-1729/repos",
      "events_url": "https://api.github.com/users/Zero-1729/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Zero-1729/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-30T09:30:36Z",
    "updated_at": "2021-07-30T09:30:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "re-ACK fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889767013/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/890923290",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-890923290",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
    "id": 890923290,
    "node_id": "IC_kwDOABII5841Gmka",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-02T10:43:03Z",
    "updated_at": "2021-08-02T10:43:03Z",
    "author_association": "MEMBER",
    "body": "Not a big fan of the huge whitespace change in the last commit, but otherwise\r\nconcept and code review ACK fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/890923290/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/891068358",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-891068358",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
    "id": 891068358,
    "node_id": "IC_kwDOABII5841HJ_G",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-02T14:20:41Z",
    "updated_at": "2021-08-02T14:20:41Z",
    "author_association": "MEMBER",
    "body": "Release notes for 23.0 added in #22603",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/891068358/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894624066",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-894624066",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
    "id": 894624066,
    "node_id": "IC_kwDOABII5841UuFC",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-07T08:23:57Z",
    "updated_at": "2021-08-07T08:23:57Z",
    "author_association": "MEMBER",
    "body": "Looks like we can re-enable the disabled assert again due to the removal of the code here: #22657 ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894624066/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678734212",
    "pull_request_review_id": 717562770,
    "id": 678734212,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3ODczNDIxMg==",
    "diff_hunk": "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)\n {\n-    // If the JSON banlist does not exist, then try to read the non-upgraded banlist.dat.\n+    if (fs::exists(m_banlist_dat)) {\n+        LogPrintf(\"banlist.dat ignored because it can only be read by \" PACKAGE_NAME \" version 22.x. Remove %s to silence this warning.\", m_banlist_dat);",
    "path": "src/addrdb.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "original_commit_id": "fab2cd82875c845e2147779e3ac1e857e0542556",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`All calls to LogPrintf() and LogPrint() should be terminated with \\n`",
    "created_at": "2021-07-29T00:16:26Z",
    "updated_at": "2021-07-29T00:16:26Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678734212",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678734212"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678734212"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678734212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 203,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678865530",
    "pull_request_review_id": 717719459,
    "id": 678865530,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3ODg2NTUzMA==",
    "diff_hunk": "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)\n {\n-    // If the JSON banlist does not exist, then try to read the non-upgraded banlist.dat.\n+    if (fs::exists(m_banlist_dat)) {\n+        LogPrintf(\"banlist.dat ignored because it can only be read by \" PACKAGE_NAME \" version 22.x. Remove %s to silence this warning.\", m_banlist_dat);",
    "path": "src/addrdb.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "original_commit_id": "fab2cd82875c845e2147779e3ac1e857e0542556",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks, fixed.",
    "created_at": "2021-07-29T06:35:52Z",
    "updated_at": "2021-07-29T06:35:52Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678865530",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678865530"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678865530"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678865530/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 203,
    "side": "RIGHT",
    "in_reply_to_id": 678734212
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678884122",
    "pull_request_review_id": 717742904,
    "id": 678884122,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3ODg4NDEyMg==",
    "diff_hunk": "@@ -114,6 +113,7 @@ These subdirectories and files are no longer used by Bitcoin Core:\n \n Path           | Description | Repository notes\n ---------------|-------------|-----------------\n+`banlist.dat`  | Stores the addresses/subnets of banned nodes; replaced by `banlist.json` in 23.0 | [PR #22570](https://github.com/bitcoin/bitcoin/pull/22570)",
    "path": "doc/files.md",
    "position": null,
    "original_position": 12,
    "commit_id": "fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "original_commit_id": "fa718eab709cfba868da83bfb1c9280402b96572",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think this should read 22.0 instead of 23.0 because already in 22.0 we ignore `banlist.dat` if `banlist.json` is present during read and only write to `banlist.json`.\r\n\r\n```suggestion\r\n`banlist.dat`  | Stores the addresses/subnets of banned nodes; superseded by `banlist.json` in 22.0 and completely ignored in 23.0 | [PR #20966](https://github.com/bitcoin/bitcoin/pull/20966), [PR #22570](https://github.com/bitcoin/bitcoin/pull/22570)\r\n```",
    "created_at": "2021-07-29T07:09:12Z",
    "updated_at": "2021-07-29T09:50:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678884122",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678884122"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678884122"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678884122/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 116,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678917238",
    "pull_request_review_id": 717742904,
    "id": 678917238,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3ODkxNzIzOA==",
    "diff_hunk": "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)",
    "path": "src/addrdb.cpp",
    "position": null,
    "original_position": 2,
    "commit_id": "fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "original_commit_id": "fa718eab709cfba868da83bfb1c9280402b96572",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The `dirty` argument can be removed.\r\n\r\nThere is just one caller of this method and if this method returns `false`, then the caller would ignore the value set in `Read()` and would set the dirty flag to `true` regardless. The only reason for the `dirty` flag was if `Read()` returns `true` and would set `dirty` to `true`. This was done to force json creation if only `banlist.dat` existed and was read successfully.",
    "created_at": "2021-07-29T07:59:25Z",
    "updated_at": "2021-07-29T09:49:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678917238",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678917238"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678917238"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678917238/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 200,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678919223",
    "pull_request_review_id": 717742904,
    "id": 678919223,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3ODkxOTIyMw==",
    "diff_hunk": "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)\n {\n-    // If the JSON banlist does not exist, then try to read the non-upgraded banlist.dat.\n+    if (fs::exists(m_banlist_dat)) {\n+        LogPrintf(\"banlist.dat ignored because it can only be read by \" PACKAGE_NAME \" version 22.x. Remove %s to silence this warning.\\n\", m_banlist_dat);",
    "path": "src/addrdb.cpp",
    "position": 9,
    "original_position": 6,
    "commit_id": "fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "original_commit_id": "fa718eab709cfba868da83bfb1c9280402b96572",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit:\r\n\r\n```suggestion\r\n        LogPrintf(\"%s ignored because it can only be read by \" PACKAGE_NAME \" version 22.x or older. Remove %s to silence this warning.\\n\", m_banlist_dat, m_banlist_dat);\r\n```\r\n\r\nOr maybe remove `CBanDB::m_banlist_dat` and hardcode the string `\"banlist.dat\"` here since it is only used here.",
    "created_at": "2021-07-29T08:02:11Z",
    "updated_at": "2021-07-29T09:49:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678919223",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678919223"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678919223"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678919223/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 203,
    "original_line": 203,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679000178",
    "pull_request_review_id": 717742904,
    "id": 679000178,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAwMDE3OA==",
    "diff_hunk": "@@ -120,354 +120,354 @@ static constexpr uint16_t I2P_SAM31_PORT{0};\n  */\n class CNetAddr\n {\n-    protected:",
    "path": "src/netaddress.h",
    "position": 33,
    "original_position": 4,
    "commit_id": "fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "original_commit_id": "fa718eab709cfba868da83bfb1c9280402b96572",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is the whitespace fixup that was dropped as a standalone change in https://github.com/bitcoin/bitcoin/pull/22562. Here it is combined with some other changes that touch those files.\r\n\r\n`netaddress.h` is not fully clang-formatted. Running `clang-format -i netaddress.h` produces the following diff:\r\n\r\n<details>\r\n<summary>format diff</summary>\r\n\r\n```diff\r\ndiff --git i/src/netaddress.h w/src/netaddress.h\r\nindex 77e1c0464e..eb35ed3fac 100644\r\n--- i/src/netaddress.h\r\n+++ w/src/netaddress.h\r\n@@ -39,14 +39,13 @@ static constexpr int ADDRV2_FORMAT = 0x20000000;\r\n  * belongs to both `NET_UNROUTABLE` and `NET_IPV4`.\r\n  * Keep these sequential starting from 0 and `NET_MAX` as the last entry.\r\n  * We have loops like `for (int i = 0; i < NET_MAX; ++i)` that expect to iterate\r\n  * over all enum values and also `GetExtNetwork()` \"extends\" this enum by\r\n  * introducing standalone constants starting from `NET_MAX`.\r\n  */\r\n-enum Network\r\n-{\r\n+enum Network {\r\n     /// Addresses from these networks are not publicly routable on the global Internet.\r\n     NET_UNROUTABLE = 0,\r\n \r\n     /// IPv4\r\n     NET_IPV4,\r\n \r\n@@ -70,22 +69,20 @@ enum Network\r\n     NET_MAX,\r\n };\r\n \r\n /// Prefix of an IPv6 address when it contains an embedded IPv4 address.\r\n /// Used when (un)serializing addresses in ADDRv1 format (pre-BIP155).\r\n static const std::array<uint8_t, 12> IPV4_IN_IPV6_PREFIX{\r\n-    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF\r\n-};\r\n+    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF};\r\n \r\n /// Prefix of an IPv6 address when it contains an embedded TORv2 address.\r\n /// Used when (un)serializing addresses in ADDRv1 format (pre-BIP155).\r\n /// Such dummy IPv6 addresses are guaranteed to not be publicly routable as they\r\n /// fall under RFC4193's fc00::/7 subnet allocated to unique-local addresses.\r\n static const std::array<uint8_t, 6> TORV2_IN_IPV6_PREFIX{\r\n-    0xFD, 0x87, 0xD8, 0x7E, 0xEB, 0x43\r\n-};\r\n+    0xFD, 0x87, 0xD8, 0x7E, 0xEB, 0x43};\r\n \r\n /// Prefix of an IPv6 address when it contains an embedded \"internal\" address.\r\n /// Used when (un)serializing addresses in ADDRv1 format (pre-BIP155).\r\n /// The prefix comes from 0xFD + SHA256(\"bitcoin\")[0:5].\r\n /// Such dummy IPv6 addresses are guaranteed to not be publicly routable as they\r\n /// fall under RFC4193's fc00::/7 subnet allocated to unique-local addresses.\r\n```\r\n</details>\r\n\r\nI guess a scripted diff that fully formats the files would be even easier to verify and more complete.",
    "created_at": "2021-07-29T09:48:04Z",
    "updated_at": "2021-07-29T09:49:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679000178",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679000178"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679000178"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679000178/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 123,
    "original_line": 123,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679018983",
    "pull_request_review_id": 717918178,
    "id": 679018983,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAxODk4Mw==",
    "diff_hunk": "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)\n {\n-    // If the JSON banlist does not exist, then try to read the non-upgraded banlist.dat.\n+    if (fs::exists(m_banlist_dat)) {\n+        LogPrintf(\"banlist.dat ignored because it can only be read by \" PACKAGE_NAME \" version 22.x. Remove %s to silence this warning.\\n\", m_banlist_dat);",
    "path": "src/addrdb.cpp",
    "position": 9,
    "original_position": 6,
    "commit_id": "fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "original_commit_id": "fa718eab709cfba868da83bfb1c9280402b96572",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I need the full path for `fs::exists(m_banlist_dat)`, so I am going to keep as is for now.",
    "created_at": "2021-07-29T10:13:22Z",
    "updated_at": "2021-07-29T10:13:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679018983",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679018983"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679018983"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679018983/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 203,
    "original_line": 203,
    "side": "RIGHT",
    "in_reply_to_id": 678919223
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679021220",
    "pull_request_review_id": 717921029,
    "id": 679021220,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAyMTIyMA==",
    "diff_hunk": "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)",
    "path": "src/addrdb.cpp",
    "position": null,
    "original_position": 2,
    "commit_id": "fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "original_commit_id": "fa718eab709cfba868da83bfb1c9280402b96572",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The `dirty` argument is used to not write the json file again if it was read successfully and nothing needed to be swept. Happy to drop it, as it simplifies and writing the json once per startup shouldn't cost too much.",
    "created_at": "2021-07-29T10:16:40Z",
    "updated_at": "2021-07-29T10:16:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679021220",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679021220"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679021220"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679021220/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 200,
    "side": "RIGHT",
    "in_reply_to_id": 678917238
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679028024",
    "pull_request_review_id": 717930251,
    "id": 679028024,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAyODAyNA==",
    "diff_hunk": "@@ -120,354 +120,354 @@ static constexpr uint16_t I2P_SAM31_PORT{0};\n  */\n class CNetAddr\n {\n-    protected:",
    "path": "src/netaddress.h",
    "position": 33,
    "original_position": 4,
    "commit_id": "fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "original_commit_id": "fa718eab709cfba868da83bfb1c9280402b96572",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks, taken. Couldn't get a scripted-diff working, but happy to take if you find one.",
    "created_at": "2021-07-29T10:27:23Z",
    "updated_at": "2021-07-29T10:27:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679028024",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679028024"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679028024"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679028024/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 123,
    "original_line": 123,
    "side": "LEFT",
    "in_reply_to_id": 679000178
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679028420",
    "pull_request_review_id": 717930793,
    "id": 679028420,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAyODQyMA==",
    "diff_hunk": "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)",
    "path": "src/addrdb.cpp",
    "position": null,
    "original_position": 2,
    "commit_id": "fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "original_commit_id": "fa718eab709cfba868da83bfb1c9280402b96572",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, since `Read()` does not do any sweeping its return value is enough to tell whether the read was successful or not. Or, in other words - with this PR it is not possible `Read()` to return `true` and set its second argument (`dirty`) to `true`.\r\n\r\nSomething like this should work (not tested):\r\n```diff\r\ndiff --git i/src/addrdb.cpp w/src/addrdb.cpp\r\nindex fbffd5c959..c3e224ee83 100644\r\n--- i/src/addrdb.cpp\r\n+++ w/src/addrdb.cpp\r\n@@ -194,25 +194,22 @@ bool CBanDB::Write(const banmap_t& banSet)\r\n     for (const auto& err : errors) {\r\n         error(\"%s\", err);\r\n     }\r\n     return false;\r\n }\r\n \r\n-bool CBanDB::Read(banmap_t& banSet, bool& dirty)\r\n+bool CBanDB::Read(banmap_t& banSet)\r\n {\r\n     if (fs::exists(m_banlist_dat)) {\r\n         LogPrintf(\"banlist.dat ignored because it can only be read by \" PACKAGE_NAME \" version 22.x. Remove %s to silence this warning.\\n\", m_banlist_dat);\r\n     }\r\n     // If the JSON banlist does not exist, then recreate it\r\n     if (!fs::exists(m_banlist_json)) {\r\n-        dirty = true;\r\n         return false;\r\n     }\r\n \r\n-    dirty = false;\r\n-\r\n     std::map<std::string, util::SettingsValue> settings;\r\n     std::vector<std::string> errors;\r\n \r\n     if (!util::ReadSettings(m_banlist_json, settings, errors)) {\r\n         for (const auto& err : errors) {\r\n             LogPrintf(\"Cannot load banlist %s: %s\\n\", m_banlist_json.string(), err);\r\ndiff --git i/src/addrdb.h w/src/addrdb.h\r\nindex 0213a14af5..1e0ccb1f60 100644\r\n--- i/src/addrdb.h\r\n+++ w/src/addrdb.h\r\n@@ -92,17 +92,15 @@ public:\r\n     bool Write(const banmap_t& banSet);\r\n \r\n     /**\r\n      * Read the banlist from disk.\r\n      * @param[out] banSet The loaded list. Set if `true` is returned, otherwise it is left\r\n      * in an undefined state.\r\n-     * @param[out] dirty Indicates whether the loaded list needs flushing to disk. Set if\r\n-     * `true` is returned, otherwise it is left in an undefined state.\r\n      * @return true on success\r\n      */\r\n-    bool Read(banmap_t& banSet, bool& dirty);\r\n+    bool Read(banmap_t& banSet);\r\n };\r\n \r\n /**\r\n  * Dump the anchor IP address database (anchors.dat)\r\n  *\r\n  * Anchors are last known outgoing block-relay-only peers that are\r\ndiff --git i/src/banman.cpp w/src/banman.cpp\r\nindex d2437e6733..c64a48a05a 100644\r\n--- i/src/banman.cpp\r\n+++ w/src/banman.cpp\r\n@@ -15,13 +15,13 @@\r\n BanMan::BanMan(fs::path ban_file, CClientUIInterface* client_interface, int64_t default_ban_time)\r\n     : m_client_interface(client_interface), m_ban_db(std::move(ban_file)), m_default_ban_time(default_ban_time)\r\n {\r\n     if (m_client_interface) m_client_interface->InitMessage(_(\"Loading banlist\u2026\").translated);\r\n \r\n     int64_t n_start = GetTimeMillis();\r\n-    if (m_ban_db.Read(m_banned, m_is_dirty)) {\r\n+    if (m_ban_db.Read(m_banned)) {\r\n         SweepBanned(); // sweep out unused entries\r\n \r\n         LogPrint(BCLog::NET, \"Loaded %d banned node addresses/subnets  %dms\\n\", m_banned.size(),\r\n                  GetTimeMillis() - n_start);\r\n     } else {\r\n         LogPrintf(\"Recreating the banlist database\\n\");\r\n```",
    "created_at": "2021-07-29T10:28:00Z",
    "updated_at": "2021-07-29T10:28:01Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679028420",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679028420"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679028420"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679028420/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 200,
    "side": "RIGHT",
    "in_reply_to_id": 678917238
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679038691",
    "pull_request_review_id": 717944239,
    "id": 679038691,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAzODY5MQ==",
    "diff_hunk": "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)",
    "path": "src/addrdb.cpp",
    "position": null,
    "original_position": 2,
    "commit_id": "fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "original_commit_id": "fa718eab709cfba868da83bfb1c9280402b96572",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks, will pick the patch. It is almost correct \ud83e\udd72:\r\n\r\n\r\n```\r\n==4031966== Conditional jump or move depends on uninitialised value(s)\r\n==4031966==    at 0x46011B: BanMan::DumpBanlist() (banman.cpp:44)\r\n==4031966==    by 0x45E962: BanMan::BanMan(boost::filesystem::path, CClientUIInterface*, long) (banman.cpp:32)\r\n==4031966==    by 0x15C119: make_unique<BanMan, boost::filesystem::path, CClientUIInterface *, long> (unique_ptr.h:962)\r\n==4031966==    by 0x15C119: AppInitMain(NodeContext&, interfaces::BlockAndHeaderTipInfo*) (init.cpp:1164)\r\n==4031966==    by 0x141388: AppInit (bitcoind.cpp:226)\r\n==4031966==    by 0x141388: main (bitcoind.cpp:269)\r\n==4031966== \r\n",
    "created_at": "2021-07-29T10:44:21Z",
    "updated_at": "2021-07-29T10:44:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679038691",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679038691"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679038691"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679038691/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 200,
    "side": "RIGHT",
    "in_reply_to_id": 678917238
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679042528",
    "pull_request_review_id": 717949134,
    "id": 679042528,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTA0MjUyOA==",
    "diff_hunk": "@@ -120,354 +120,354 @@ static constexpr uint16_t I2P_SAM31_PORT{0};\n  */\n class CNetAddr\n {\n-    protected:",
    "path": "src/netaddress.h",
    "position": 33,
    "original_position": 4,
    "commit_id": "fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "original_commit_id": "fa718eab709cfba868da83bfb1c9280402b96572",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```\r\ncommit f8a3771957cb1d4d202cd7e3173edfbbeed2657e\r\nParent: faaf9e930d94328c6be42516beab817d45d847f1\r\nAuthor:     Vasil Dimov <vd@FreeBSD.org>\r\nAuthorDate: Thu Jul 29 12:39:49 2021 +0200\r\nCommit:     Vasil Dimov <vd@FreeBSD.org>\r\nCommitDate: Thu Jul 29 12:39:49 2021 +0200\r\n\r\n\r\n    scripted-diff: violate guidelines\r\n    \r\n    -BEGIN VERIFY SCRIPT-\r\n    clang-format -i src/netaddress.h src/test/fuzz/deserialize.cpp\r\n    -END VERIFY SCRIPT-\r\n\r\ndiff --git a/src/netaddress.h b/src/netaddress.h\r\nindex c81f9fd5d8..eb35ed3fac 100644\r\n--- a/src/netaddress.h\r\n+++ b/src/netaddress.h\r\n...\r\nsame diff as in fa81dae3db\r\n...\r\n```\r\n\r\nVerify:\r\n```sh\r\n$ test/lint/commit-script-check.sh origin/master..HEAD\r\nRunning script for: f8a3771957cb1d4d202cd7e3173edfbbeed2657e\r\nclang-format -i src/netaddress.h src/test/fuzz/deserialize.cpp\r\nOK\r\n```\r\n",
    "created_at": "2021-07-29T10:50:28Z",
    "updated_at": "2021-07-29T10:50:28Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679042528",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679042528"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679042528"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679042528/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 123,
    "original_line": 123,
    "side": "LEFT",
    "in_reply_to_id": 679000178
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679044442",
    "pull_request_review_id": 717951653,
    "id": 679044442,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTA0NDQ0Mg==",
    "diff_hunk": "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)",
    "path": "src/addrdb.cpp",
    "position": null,
    "original_position": 2,
    "commit_id": "fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
    "original_commit_id": "fa718eab709cfba868da83bfb1c9280402b96572",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oh, why did you had to run valgrind on this? It was perfectly safe before that...",
    "created_at": "2021-07-29T10:53:31Z",
    "updated_at": "2021-07-29T10:53:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679044442",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679044442"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679044442"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679044442/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 200,
    "side": "RIGHT",
    "in_reply_to_id": 678917238
  }
]