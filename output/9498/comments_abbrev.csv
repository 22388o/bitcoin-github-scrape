fanquake,2017-01-12T01:59:39Z,"```\nCCheckQueueSpeed,576,0.001812756061554,0.001984249800444,0.001944298545520,6149498,6731089,6595898\nCCheckQueueSpeed,576,0.001704573631287,0.001963026821613,0.001897984494766,5782270,6659114,6438475\nCCheckQueueSpeed,576,0.001838877797127,0.001967173069715,0.001926153070397,6237919,6675994,6534347\nCCheckQueueSpeed,576,0.001697123050690,0.001930065453053,0.001841966890626,5757193,6547343,",https://github.com/bitcoin/bitcoin/pull/9498#issuecomment-272054484,272054484,
laanwj,2017-01-19T14:29:07Z,utack aad4cb5,https://github.com/bitcoin/bitcoin/pull/9498#issuecomment-273790061,273790061,
ryanofsky,2017-01-11T21:00:19Z,"Maybe declare some constants here with the various magic numbers & things that could be tuned in the benchmark, like size of the queue, number of threads, number of jobs to add, number of times to call add, etc.",https://github.com/bitcoin/bitcoin/pull/9498#discussion_r95670750,95670750,src/bench/checkqueue.cpp
ryanofsky,2017-01-11T21:05:21Z,"Maybe add an assert to the end of the benchmark to check this? It's be easy to imagine the vector being moved from in the future, which would invalidate the benchmark.",https://github.com/bitcoin/bitcoin/pull/9498#discussion_r95671671,95671671,src/bench/checkqueue.cpp
ryanofsky,2017-01-11T21:11:11Z,"Also, if this is true, any reason not to move vChecks declaration out of the while loop too? ",https://github.com/bitcoin/bitcoin/pull/9498#discussion_r95672621,95672621,src/bench/checkqueue.cpp
ryanofsky,2017-01-11T21:13:12Z,Could call the vector constructor taking a size to eliminate the resize line.,https://github.com/bitcoin/bitcoin/pull/9498#discussion_r95673006,95673006,src/bench/checkqueue.cpp
ryanofsky,2017-01-11T21:18:15Z,"Maybe move this outside while loop, if whatever time this takes isn't meaningful to the benchmark.",https://github.com/bitcoin/bitcoin/pull/9498#discussion_r95673985,95673985,src/bench/checkqueue.cpp
ryanofsky,2017-01-11T21:24:12Z,Why do this in the constructor instead of the call operator? Wouldn't it be more realistic to have the work done in the worker threads instead of the control thread? Maybe add a comment if this is the intended behavior.,https://github.com/bitcoin/bitcoin/pull/9498#discussion_r95675187,95675187,src/bench/checkqueue.cpp
JeremyRubin,2017-01-11T21:38:51Z,It is meaningful for each iteration to be identical.,https://github.com/bitcoin/bitcoin/pull/9498#discussion_r95677971,95677971,src/bench/checkqueue.cpp
JeremyRubin,2017-01-11T21:40:56Z,"FastRandomContext is not thread safe.\n\nAlso we do want the main thread to be doing some work while the worker threads process.",https://github.com/bitcoin/bitcoin/pull/9498#discussion_r95678397,95678397,src/bench/checkqueue.cpp
ryanofsky,2017-01-11T23:19:16Z,"Oops, should have read the comment above. Though maybe I would reword it to something like ""Start with a fresh insecure_rand here"" rather than ""Make insecure_rand here.""",https://github.com/bitcoin/bitcoin/pull/9498#discussion_r95695236,95695236,src/bench/checkqueue.cpp
