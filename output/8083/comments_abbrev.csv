petertodd,2016-05-23T20:30:55Z,"Concept ACK, but I think it'd be simpler to have this be based on a bitmask rather than service-specific letters.\n",https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221086911,221086911,
jonasschnelli,2016-05-23T20:36:30Z,Yes. Agreed. Will change it to a bitmask. Maybe a hex representation of the uint64_t as subdomain.\n,https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221088422,221088422,
TheBlueMatt,2016-05-23T23:54:47Z,"Do we actually connect to DNS Seeds, or is it only for Tor where we connect to them, get a list of addresses, and then immediately disonnect?\n",https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221129612,221129612,
sipa,2016-05-23T23:56:51Z,"When on Tor, we connect to one of the seed's results directly, and ask it\nfor getaddr. This does not need filtering.\n\nWhen not on Tor, we read in the list of IPs returned by the seed, and add\nit to addrman, without any TCP involved.\n",https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221129920,221129920,
jonasschnelli,2016-05-24T19:50:27Z,"Updated this PR and sipa/bitcoin-seeder#36 to support non-bitflags-to-string mapping.\nNow, node-filtering via dnsseed is possible with a bitmap-filter-hex-string as subdomain.\n\nExample:\n`dig A 5.testnet-seed.bitcoin.jonasschnelli.ch` (filter = **5** == 0101) will return only nodes with NODE_NETWORK and NODE_BLOOM service flags set.\n`dig A d.testnet-seed.bitcoin.jonasschnelli.ch` (filter = **d",https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221382300,221382300,
petertodd,2016-05-24T20:45:27Z,"RBF nodes! `dig A 4000001.testnet-seed.bitcoin.jonasschnelli.ch` Cool!\n\nSomething I noticed was you could also query `0000000004000001.testnet-seed.bitcoin.jonasschnelli.ch` instead - it'd probably be a good idea to fail the query if there are any leading zeros, to maximally ensure that everyone uses the same queries whenever possible - better for privacy, and a few less bytes on the wire.\n",https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221395896,221395896,
gmaxwell,2016-05-24T22:11:41Z,"RFC 952 did not permit hostnames to begin with a number. This has since been relaxed but many implementations still manage to screw this up (treating the names that begin with numbers as IP addresses), it might be better to begin the mask with a x, and also require it to be zero extended so that caching isn't degraded by clients using x00000005 vs x5. \n",https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221417410,221417410,
arowser,2016-05-25T08:43:18Z,Can one of the admins verify this patch?\n,https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221510329,221510329,
jonasschnelli,2016-05-25T12:03:40Z,"@gmaxwell: Good point.\nI just force pushed a change that will require a leading `x` for the query subdomain.\n`dig A x5.testnet-seed.bitcoin.jonasschnelli.ch` for NODE_BLOOM, etc.\n\nleading zeros will be ignored: `dig A x0005.testnet-seed.bitcoin.jonasschnelli.ch` also results in a NODE_BLOOM filter.\n",https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221552835,221552835,
sipa,2016-05-25T12:08:47Z,"@jonasschnelli Better to not allow multiple encodings for the same request,\nas that may interfere with caching (see @gmaxwell's comment).\n",https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221554082,221554082,
jonasschnelli,2016-05-25T12:22:27Z,@sipa: Good point.\nUpdate the seeder PR to ignore/reject leading zeros.\nRejecting = reply with standard NODE_NETWORK filter (same behavior as before this PR).\nhttps://github.com/sipa/bitcoin-seeder/pull/36/files#diff-118fcbaaba162ba17933c7893247df3aR263\n,https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221557745,221557745,
sipa,2016-05-25T12:39:45Z,"How will you pass in the required flags to addrman?\n\nI was imagining something simpler here, where a DNSSeedData struct just has a hostname and a servicebits value. For hosts where it is supported, we use (""x9.seeder.host.tld"", 9), for others we use (""seeder.host.tld"", 1).\n",https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221562582,221562582,
jonasschnelli,2016-05-25T13:00:23Z,"@sipa: Right. The code is currently pretty much unused.\nAt the moment, what we want is filter for NODE_NETWORK (which is the default). This results in not using the x<flags>.seed filter.\n\nHowever, this will be required for SW and I though instead of extending the SW PR, try to get this into master because it can be useful anyways.\n\nThis also adds a testnet seed (last weekend only one testnet ",https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221568055,221568055,
laanwj,2016-05-30T11:21:10Z,"utACK https://github.com/bitcoin/bitcoin/pull/8083/commits/2d83013dc54320b3f0c978475517da6156f7b50d\n\n> what we want is filter for NODE_NETWORK (which is the default)\n\nI think there's something (for consistency / future-proofness) to be said for always using filtering when the seed supports this, even to just request NODE_NETWORK, instead of relying on a default being the same server-side.\n\nT",https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-222471319,222471319,
laanwj,2016-06-08T12:38:22Z,What is there to be done here?\n,https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-224576050,224576050,
sipa,2016-06-08T12:49:31Z,utACK 2d83013dc54320b3f0c978475517da6156f7b50d\n,https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-224578513,224578513,
