vasild,2020-10-22 08:47:26,"@promag, before this change we would pass `CAddress{tor v3}` to `PushMessage`, after this change we will pass `CAddress{default constructed}`. Both however would serialize as 16 zero bytes.\n\nIt could be done also in another way:\n```\n// leave PushMessage untouched\n// log print:\nif addr is v1 compatible\n  print addr\nelse\n  print default constructed CAddress\n```\n\nI think that ",https://github.com/bitcoin/bitcoin/pull/20212#issuecomment-714336536,714336536,
promag,2020-10-22 09:26:39,"Or just inlined, like `addrYou.IsAddrV1Compatible() ? addrYou : CAddress(CService(), addrYou.nServices)`?\n\nEdit, just wanted to raise the difference in the push message call. Again, end result is same for the moment.",https://github.com/bitcoin/bitcoin/pull/20212#issuecomment-714360761,714360761,
vasild,2020-10-22 12:47:38,"> Or just inlined, like ...\n\nYes (modulo a missing `.ToString()`).\n\nAdjusted to leave `PushMessage()` untouched by this change as it looks somewhat safer that way.",https://github.com/bitcoin/bitcoin/pull/20212#issuecomment-714469974,714469974,
DrahtBot,2020-10-22 22:48:17,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20217 (net: Remove g_relay_txes by jnewbery)\n\nIf you consider this pull request important, please also help to review t",https://github.com/bitcoin/bitcoin/pull/20212#issuecomment-714804329,714804329,
MarcoFalke,2020-10-28 15:40:11,Is this for 0.21?,https://github.com/bitcoin/bitcoin/pull/20212#issuecomment-718019429,718019429,
vasild,2020-10-28 16:51:02,"It is a low impact problem but also low risk patch. The problem did not exist in 0.20 because in 0.20 all addresses are addrv1 compatible.\n\nI would say ""yes, for 0.21"", but YMMV.",https://github.com/bitcoin/bitcoin/pull/20212#issuecomment-718067341,718067341,
MarcoFalke,2020-11-02 15:58:09,"review ACK 5486736cc2edba7e817dc1b13db5268165a22a6b\n\nThe actual address that is no longer logged in this line should still be logged in another line when the connection opens:\n\n```cpp\n    LogPrint(BCLog::NET, ""connection from %s accepted\n"", addr.ToString());\n```\nor\n```cpp\n    LogPrint(BCLog::NET, ""trying connection %s lastseen=%.1fhrs\n"",\n",https://github.com/bitcoin/bitcoin/pull/20212#issuecomment-720560389,720560389,
jnewbery,2020-11-03 10:35:15,"From a style perspective, I prefer the original version, where it's immediately obvious that what's being sent out on the wire is the same as what's being logged.",https://github.com/bitcoin/bitcoin/pull/20212#issuecomment-721034782,721034782,
MarcoFalke,2020-11-03 11:09:11,Agree with @jnewbery . Happy to re-ACK if you decide to re-push the initial version.,https://github.com/bitcoin/bitcoin/pull/20212#issuecomment-721051304,721051304,
vasild,2020-11-03 12:43:50,I think it is fine either way. 2 vs 1 wins on the older version. Restored.,https://github.com/bitcoin/bitcoin/pull/20212#issuecomment-721093787,721093787,
MarcoFalke,2020-11-03 12:53:09,review ACK af3b0dfc5463c42fb9bff39f020fc1728ed44bc7,https://github.com/bitcoin/bitcoin/pull/20212#issuecomment-721097955,721097955,
jnewbery,2020-11-03 14:58:28,utACK af3b0dfc5463c42fb9bff39f020fc1728ed44bc7,https://github.com/bitcoin/bitcoin/pull/20212#issuecomment-721177503,721177503,
promag,2020-10-22 13:07:39,nit a comment would be nice.,https://github.com/bitcoin/bitcoin/pull/20212#discussion_r510146145,510146145,src/net_processing.cpp
vasild,2020-10-22 16:26:05,Added :),https://github.com/bitcoin/bitcoin/pull/20212#discussion_r510296869,510296869,src/net_processing.cpp
jnewbery,2020-11-03 18:33:30,"If you touch this branch again, it might be worth commenting why you're calling `IsAddrV1Compatible()`:\n\n```suggestion\n    // version messages can only include addr v1 addresses, since the address\n    // fields are a fixed size.\n    CAddress addrYou = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ?\n```",https://github.com/bitcoin/bitcoin/pull/20212#discussion_r516875397,516875397,src/net_processing.cpp
