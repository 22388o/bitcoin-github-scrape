kirkalx,2016-04-09T21:54:45Z,"utACK. If there **is** a good reason for that line to be there on OSX only, then it needs a comment justifying it.\n",https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-207861537,207861537,
sipa,2016-04-10T12:09:09Z,It seems that this was there as long as GetDefaultDatadir has been there: https://github.com/bitcoin/bitcoin/tree/d882773789ea3894de7163f7bb880c5b23072882/util.cpp\n,https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-207972699,207972699,
paveljanik,2016-04-10T15:39:18Z,Looks like this is not for merging...\n,https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-208004899,208004899,
alexreg,2016-04-10T17:50:40Z,"??\n\nSent from my iPhone\n\n> On 10 Apr 2016, at 16:40, paveljanik notifications@github.com wrote:\n> \n> Looks like this is not for merging...\n> \n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly or view it on GitHub\n",https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-208030683,208030683,
paveljanik,2016-04-10T18:01:04Z,"According to the comment mentioned above, you are only trying if this will work. Your real problem is different though, I think. Can you investigate it a bit more please?\n\n```\npavel$ sudo -u test env | grep HOME\nHOME=/Users/pavel\npavel$ sudo -H -u test env | grep HOME\nHOME=/Users/test\npavel$ \n```\n",https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-208032905,208032905,
paveljanik,2016-04-10T18:41:36Z,@mrCertified ?\n,https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-208042054,208042054,
kirkalx,2016-04-10T23:15:00Z,"@paveljanik The change is for merging. As I said above, if there is a reason for the line to be there it needs to be justified with a comment.\n",https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-208088591,208088591,
sipa,2016-04-11T06:48:15Z,"And I added that the behaviour has been there for as long as the\nGetDefaultDatadir function has existed, implying that we'll probably never\nfind out why.\n\nConcept ACK\n",https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-208186809,208186809,
paveljanik,2016-04-11T07:29:46Z,"@sipa yes, but someone should really investigate, how `bitcoind`/-Qt works when the parent directory (ie. `Library/Application Support`) is not created/is not writable by the current user or does not exist at all (where/how will we write the config file, blocks, chainstate etc?). I suspect this hides some other problem down in the code...\n\nBut if proven to work (not just compile ;-), I'm happy w",https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-208201495,208201495,
kirkalx,2016-04-11T07:48:02Z,"But if the data directory has been changed to a different value, the only reason GetDefaultDataDir() is called is to display what the default would have been. (I'm ignoring the slightly more complicated behaviour in -qt). So making sure that (part of) that path exists makes no sense.\n",https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-208209169,208209169,
paveljanik,2016-04-11T07:59:18Z,... exist and is writable...\n,https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-208213762,208213762,
jonasschnelli,2016-04-11T13:42:08Z,utACK.\nCreating `~/Library/Application Support` is useless (on OSX).\n,https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-208350419,208350419,
alexreg,2016-04-11T14:47:57Z,"I’m not sure exactly what you mean. I don’t really code C++. Could you give me the diff please, and I’ll apply it?\n\nI’ve already tested both those cases though, and it works as it should.\n\n> On 11 Apr 2016, at 08:30, paveljanik notifications@github.com wrote:\n> \n> @sipa https://github.com/sipa yes, but someone should really investigate, how bitcoind/-Qt works when the parent directory (ie. L",https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-208381894,208381894,
paveljanik,2016-04-11T15:03:27Z,"Just `return pathRet / ""Library/Application Support/Bitcoin""` ...\n",https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-208389279,208389279,
alexreg,2016-04-11T16:39:42Z,Oh right. Done now.\n,https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-208439463,208439463,
sipa,2016-04-12T13:53:39Z,utACK 0f2fd2cec05b90d071b30eb522061e1c5144b367 after squash\n,https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-208917596,208917596,
paveljanik,2016-04-12T19:59:11Z,Please squash both commits into one.\n,https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-209079015,209079015,
alexreg,2016-04-12T21:05:36Z,"I don’t use Git much, so no idea how to do that.\n\n> On 12 Apr 2016, at 21:00, paveljanik notifications@github.com wrote:\n> \n> Please squash both commits into one.\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-209079015\n",https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-209101877,209101877,
kirkalx,2016-04-12T22:35:22Z,"Wladimir explains in #7458, or just do a google search\n",https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-209131207,209131207,
fanquake,2016-04-13T07:25:28Z,utACK https://github.com/bitcoin/bitcoin/pull/7850/commits/41dbc4849e0bf14eef98962b0f0bddcde0bb3014\n,https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-209269743,209269743,
paveljanik,2016-04-13T08:28:42Z,ACK https://github.com/bitcoin/bitcoin/pull/7850/commits/41dbc4849e0bf14eef98962b0f0bddcde0bb3014\n,https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-209301237,209301237,
laanwj,2016-04-14T11:27:18Z,"Hmm this is indeed weird, why would this need a TryCreateDirectory on OSX.\n\nHappy that this solves your problem.\n\nutACK https://github.com/bitcoin/bitcoin/pull/7850/commits/41dbc4849e0bf14eef98962b0f0bddcde0bb3014\n",https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-209888900,209888900,
paveljanik,2016-04-14T12:48:46Z,"I digged in the git history, but could not find something important. But here is the wild guess: on OS X, the config files are in `~/Library/Application Support`. On other unixes, config directory `.bitcoin` is directly in the home directory. And the wild guess is that this ""mkdir -p parent_directory"" had to be somewhere, so someone decided it could be here 8)\n",https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-209923556,209923556,
alexreg,2016-04-14T13:17:10Z,"Thanks for accepting this, guys. \n\nSent from my iPhone\n\n> On 14 Apr 2016, at 12:28, Wladimir J. van der Laan notifications@github.com wrote:\n> \n> Hmm this is indeed weird, why would this need a TryCreateDirectory on OSX.\n> \n> Happy that this solves your problem.\n> \n> utACK 41dbc48\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on",https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-209937325,209937325,
MarcoFalke,2016-06-09T10:58:00Z,Backported as part of #7938. Removing label 'Needs backport'.\n,https://github.com/bitcoin/bitcoin/pull/7850#issuecomment-224862784,224862784,
