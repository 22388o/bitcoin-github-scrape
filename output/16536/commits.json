[
  {
    "sha": "05fdb97df46d0a0675b93e9791bd5d498e5e5117",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowNWZkYjk3ZGY0NmQwYTA2NzViOTNlOTc5MWJkNWQ0OThlNWU1MTE3",
    "commit": {
      "author": {
        "name": "Antoine Riard",
        "email": "ariard@student.42.fr",
        "date": "2019-08-02T16:11:04Z"
      },
      "committer": {
        "name": "Antoine Riard",
        "email": "ariard@student.42.fr",
        "date": "2019-08-02T17:33:13Z"
      },
      "message": "[doc] Update and extend benchmarking.md",
      "tree": {
        "sha": "72398490b6c150c0d62d54b53e78c9dc4d928148",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/72398490b6c150c0d62d54b53e78c9dc4d928148"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/05fdb97df46d0a0675b93e9791bd5d498e5e5117",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/05fdb97df46d0a0675b93e9791bd5d498e5e5117",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/05fdb97df46d0a0675b93e9791bd5d498e5e5117",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/05fdb97df46d0a0675b93e9791bd5d498e5e5117/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "be0e8b4bff88b421128239e7140fc6bfdb654806",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/be0e8b4bff88b421128239e7140fc6bfdb654806",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/be0e8b4bff88b421128239e7140fc6bfdb654806"
      }
    ],
    "stats": {
      "total": 51,
      "additions": 22,
      "deletions": 29
    },
    "files": [
      {
        "sha": "8e3d88ab7ae0476a8bb709404650bce1fbf8d3d7",
        "filename": "doc/benchmarking.md",
        "status": "modified",
        "additions": 22,
        "deletions": 29,
        "changes": 51,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/05fdb97df46d0a0675b93e9791bd5d498e5e5117/doc/benchmarking.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/05fdb97df46d0a0675b93e9791bd5d498e5e5117/doc/benchmarking.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/benchmarking.md?ref=05fdb97df46d0a0675b93e9791bd5d498e5e5117",
        "patch": "@@ -2,54 +2,47 @@ Benchmarking\n ============\n \n Bitcoin Core has an internal benchmarking framework, with benchmarks\n-for cryptographic algorithms (e.g. SHA1, SHA256, SHA512, RIPEMD160), as well as the rolling bloom filter.\n+for cryptographic algorithms (e.g. SHA1, SHA256, SHA512, RIPEMD160, Poly1305, ChaCha20), rolling bloom filter, coins selection,\n+thread queue, wallet balance.\n \n Running\n ---------------------\n+\n+For benchmarks purposes you only need to compile `bitcoin_bench`. Beware of configuring without `--enable-debug` as this would impact\n+benchmarking by unlatching log printers and lock analysis.\n+\n+    make -C src bench_bitcoin\n+\n After compiling bitcoin-core, the benchmarks can be run with:\n \n     src/bench/bench_bitcoin\n \n The output will look similar to:\n ```\n # Benchmark, evals, iterations, total, min, max, median\n-Base58CheckEncode, 5, 320000, 120.772, 7.49351e-05, 7.59374e-05, 7.54759e-05\n-Base58Decode, 5, 800000, 122.833, 3.0467e-05, 3.11732e-05, 3.06304e-05\n-Base58Encode, 5, 470000, 137.094, 5.81061e-05, 5.85109e-05, 5.84462e-05\n-BenchLockedPool, 5, 530, 34.2023, 0.0128247, 0.0129613, 0.0129026\n-CCheckQueueSpeedPrevectorJob, 5, 1400, 26.1762, 0.00365048, 0.00388629, 0.00367108\n-CCoinsCaching, 5, 170000, 48.1074, 5.60229e-05, 5.72316e-05, 5.66214e-05\n-CoinSelection, 5, 650, 34.6426, 0.0105801, 0.0107699, 0.010664\n-DeserializeAndCheckBlockTest, 5, 160, 39.2084, 0.0483662, 0.0494199, 0.0490138\n-DeserializeBlockTest, 5, 130, 23.8129, 0.0357731, 0.0373763, 0.0365858\n-FastRandom_1bit, 5, 440000000, 38.1609, 1.72974e-08, 1.73882e-08, 1.73478e-08\n-FastRandom_32bit, 5, 110000000, 72.8237, 1.29992e-07, 1.37014e-07, 1.30115e-07\n-MempoolEviction, 5, 41000, 89.8883, 0.000432748, 0.000446857, 0.000438483\n-PrevectorClear, 5, 5600, 47.9229, 0.00169952, 0.0017455, 0.00170315\n-PrevectorDestructor, 5, 5700, 44.5498, 0.0015561, 0.00156977, 0.00156469\n-RIPEMD160, 5, 440, 135.988, 0.0615496, 0.062268, 0.0617779\n-RollingBloom, 5, 1500000, 36.5109, 4.80961e-06, 4.97463e-06, 4.85811e-06\n-SHA1, 5, 570, 51.808, 0.018065, 0.0182623, 0.0181865\n-SHA256, 5, 340, 8.31841, 0.00483231, 0.00499803, 0.00485486\n-SHA256_32b, 5, 4700000, 10.469, 4.43441e-07, 4.47611e-07, 4.45223e-07\n-SHA512, 5, 330, 33.3408, 0.02017, 0.0202554, 0.0201921\n-SipHash_32b, 5, 40000000, 38.7088, 1.91103e-07, 1.96998e-07, 1.93792e-07\n-Sleep100ms, 5, 10, 5.01062, 0.100131, 0.100368, 0.100147\n-Trig, 5, 12000000, 5.95494, 9.78115e-08, 1.04354e-07, 9.80682e-08\n-VerifyScriptBench, 5, 6300, 9.02493, 0.000285566, 0.000288433, 0.000286175\n+AssembleBlock, 5, 700, 1.79954, 0.000510913, 0.000517018, 0.000514497\n+...\n ```\n \n Help\n ---------------------\n-`-?` will print a list of options and exit:\n \n-    src/bench/bench_bitcoin -?\n+    src/bench/bench_bitcoin --help\n+\n+To print options like scaling factor or per-benchmark filter.\n \n Notes\n ---------------------\n More benchmarks are needed for, in no particular order:\n - Script Validation\n-- CCoinDBView caching\n - Coins database\n - Memory pool\n-- Wallet coin selection\n+- Cuckoo Cache\n+- P2P throughput\n+\n+Going Further\n+--------------------\n+\n+To monitor Bitcoin Core performance more in depth (like reindex or IBD): https://github.com/chaincodelabs/bitcoinperf\n+\n+To generate Flame Graphs for Bitcoin Core: https://github.com/eklitzke/bitcoin/blob/flamegraphs/doc/flamegraphs.md"
      }
    ]
  }
]