[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377368563",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12740#issuecomment-377368563",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12740",
    "id": 377368563,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzM2ODU2Mw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T20:52:20Z",
    "updated_at": "2018-03-29T20:52:20Z",
    "author_association": "MEMBER",
    "body": "utACK https://github.com/bitcoin/bitcoin/pull/12740/commits/a7c45bce9264f4a8fa48f2e7ecaf102971fc026f , good to finally get rid of the FLATDATA eyesore",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377368563/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175966073",
    "pull_request_review_id": 105586513,
    "id": 175966073,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NTk2NjA3Mw==",
    "diff_hunk": "@@ -59,6 +59,12 @@ inline T* NCONST_PTR(const T* val)\n     return const_cast<T*>(val);\n }\n \n+//! Safely convert odd char pointer types to standard ones.\n+static inline char* CharCast(char* c) { return c; }",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 5,
    "commit_id": "a7c45bce9264f4a8fa48f2e7ecaf102971fc026f",
    "original_commit_id": "7d29fa4d98ecce780f1b0a2e3004c22c8f4d2395",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: since these are inline, the static specifier is ignored",
    "created_at": "2018-03-21T01:02:01Z",
    "updated_at": "2018-03-21T21:14:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r175966073",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175966073"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r175966073"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175966073/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 63,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175967491",
    "pull_request_review_id": 105588115,
    "id": 175967491,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NTk2NzQ5MQ==",
    "diff_hunk": "@@ -59,6 +59,12 @@ inline T* NCONST_PTR(const T* val)\n     return const_cast<T*>(val);\n }\n \n+//! Safely convert odd char pointer types to standard ones.\n+static inline char* CharCast(char* c) { return c; }",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 5,
    "commit_id": "a7c45bce9264f4a8fa48f2e7ecaf102971fc026f",
    "original_commit_id": "7d29fa4d98ecce780f1b0a2e3004c22c8f4d2395",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Really?\r\n\r\nMy understanding was that a non-`static` `inline` function will still be emitted in non-inlined form in the object file, as the compiler can't know there are no non-inlinable calls from other translation units.\r\n\r\nMaking it static guarantees no calls from other translation units are possible, and thus permits the compliler to not emit any code as long as all calls within the current translation units are inlinable.",
    "created_at": "2018-03-21T01:16:33Z",
    "updated_at": "2018-03-21T21:14:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r175967491",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175967491"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r175967491"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175967491/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 63,
    "side": "RIGHT",
    "in_reply_to_id": 175966073
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175976876",
    "pull_request_review_id": 105598313,
    "id": 175976876,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NTk3Njg3Ng==",
    "diff_hunk": "@@ -59,6 +59,12 @@ inline T* NCONST_PTR(const T* val)\n     return const_cast<T*>(val);\n }\n \n+//! Safely convert odd char pointer types to standard ones.\n+static inline char* CharCast(char* c) { return c; }\n+static inline char* CharCast(unsigned char* c) { return (char*)c; }\n+static inline const char* CharCast(const char* c) { return c; }\n+static inline const char* CharCast(const unsigned char* c) { return (const char*)c; }",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 8,
    "commit_id": "a7c45bce9264f4a8fa48f2e7ecaf102971fc026f",
    "original_commit_id": "7d29fa4d98ecce780f1b0a2e3004c22c8f4d2395",
    "user": {
      "login": "dcousens",
      "id": 413395,
      "node_id": "MDQ6VXNlcjQxMzM5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dcousens",
      "html_url": "https://github.com/dcousens",
      "followers_url": "https://api.github.com/users/dcousens/followers",
      "following_url": "https://api.github.com/users/dcousens/following{/other_user}",
      "gists_url": "https://api.github.com/users/dcousens/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
      "organizations_url": "https://api.github.com/users/dcousens/orgs",
      "repos_url": "https://api.github.com/users/dcousens/repos",
      "events_url": "https://api.github.com/users/dcousens/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dcousens/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "why not `reinterpret_cast`? ",
    "created_at": "2018-03-21T03:13:34Z",
    "updated_at": "2018-03-21T21:14:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r175976876",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175976876"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r175976876"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175976876/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 66,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175977468",
    "pull_request_review_id": 105598970,
    "id": 175977468,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NTk3NzQ2OA==",
    "diff_hunk": "@@ -59,6 +59,12 @@ inline T* NCONST_PTR(const T* val)\n     return const_cast<T*>(val);\n }\n \n+//! Safely convert odd char pointer types to standard ones.\n+static inline char* CharCast(char* c) { return c; }\n+static inline char* CharCast(unsigned char* c) { return (char*)c; }\n+static inline const char* CharCast(const char* c) { return c; }\n+static inline const char* CharCast(const unsigned char* c) { return (const char*)c; }",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 8,
    "commit_id": "a7c45bce9264f4a8fa48f2e7ecaf102971fc026f",
    "original_commit_id": "7d29fa4d98ecce780f1b0a2e3004c22c8f4d2395",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "For primitive types there is no distinction between c-style-cast, reinterpret_cast, static_cast.",
    "created_at": "2018-03-21T03:21:28Z",
    "updated_at": "2018-03-21T21:14:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r175977468",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175977468"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r175977468"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175977468/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 66,
    "side": "RIGHT",
    "in_reply_to_id": 175976876
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176206723",
    "pull_request_review_id": 105869930,
    "id": 176206723,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjIwNjcyMw==",
    "diff_hunk": "@@ -59,6 +59,12 @@ inline T* NCONST_PTR(const T* val)\n     return const_cast<T*>(val);\n }\n \n+//! Safely convert odd char pointer types to standard ones.\n+static inline char* CharCast(char* c) { return c; }",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 5,
    "commit_id": "a7c45bce9264f4a8fa48f2e7ecaf102971fc026f",
    "original_commit_id": "7d29fa4d98ecce780f1b0a2e3004c22c8f4d2395",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "That's my understanding too.",
    "created_at": "2018-03-21T19:14:47Z",
    "updated_at": "2018-03-21T21:14:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r176206723",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176206723"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r176206723"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176206723/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 63,
    "side": "RIGHT",
    "in_reply_to_id": 175966073
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176232912",
    "pull_request_review_id": 105901186,
    "id": 176232912,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjIzMjkxMg==",
    "diff_hunk": "@@ -59,6 +59,12 @@ inline T* NCONST_PTR(const T* val)\n     return const_cast<T*>(val);\n }\n \n+//! Safely convert odd char pointer types to standard ones.\n+static inline char* CharCast(char* c) { return c; }",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 5,
    "commit_id": "a7c45bce9264f4a8fa48f2e7ecaf102971fc026f",
    "original_commit_id": "7d29fa4d98ecce780f1b0a2e3004c22c8f4d2395",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It seems my understanding is correct for C, but not for modern C++. `inline` in C++ is not just a hint that the function is preferably inlined, but also automatically implies the function may violate ODR.\r\n\r\nThanks, this is very interesting.",
    "created_at": "2018-03-21T20:48:06Z",
    "updated_at": "2018-03-21T21:14:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r176232912",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176232912"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r176232912"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176232912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 63,
    "side": "RIGHT",
    "in_reply_to_id": 175966073
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176240445",
    "pull_request_review_id": 105910194,
    "id": 176240445,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjI0MDQ0NQ==",
    "diff_hunk": "@@ -59,6 +59,12 @@ inline T* NCONST_PTR(const T* val)\n     return const_cast<T*>(val);\n }\n \n+//! Safely convert odd char pointer types to standard ones.\n+static inline char* CharCast(char* c) { return c; }",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 5,
    "commit_id": "a7c45bce9264f4a8fa48f2e7ecaf102971fc026f",
    "original_commit_id": "7d29fa4d98ecce780f1b0a2e3004c22c8f4d2395",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed.",
    "created_at": "2018-03-21T21:14:36Z",
    "updated_at": "2018-03-21T21:14:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r176240445",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176240445"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r176240445"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176240445/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 63,
    "side": "RIGHT",
    "in_reply_to_id": 175966073
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176243957",
    "pull_request_review_id": 105914226,
    "id": 176243957,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjI0Mzk1Nw==",
    "diff_hunk": "@@ -59,6 +59,12 @@ inline T* NCONST_PTR(const T* val)\n     return const_cast<T*>(val);\n }\n \n+//! Safely convert odd char pointer types to standard ones.\n+static inline char* CharCast(char* c) { return c; }",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 5,
    "commit_id": "a7c45bce9264f4a8fa48f2e7ecaf102971fc026f",
    "original_commit_id": "7d29fa4d98ecce780f1b0a2e3004c22c8f4d2395",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> It seems my understanding is correct for C, but not for modern C++. inline in C++ is not just a hint that the function is preferably inlined, but also automatically implies the function may violate ODR.\r\n\r\nReally confused. What is the reason for removing static and thinking it is ignored? What version of modern c++ is this assuming? I can't follow the logic here.",
    "created_at": "2018-03-21T21:27:21Z",
    "updated_at": "2018-03-21T21:27:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r176243957",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176243957"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r176243957"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176243957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 63,
    "side": "RIGHT",
    "in_reply_to_id": 175966073
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176245584",
    "pull_request_review_id": 105916099,
    "id": 176245584,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjI0NTU4NA==",
    "diff_hunk": "@@ -59,6 +59,12 @@ inline T* NCONST_PTR(const T* val)\n     return const_cast<T*>(val);\n }\n \n+//! Safely convert odd char pointer types to standard ones.\n+static inline char* CharCast(char* c) { return c; }",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 5,
    "commit_id": "a7c45bce9264f4a8fa48f2e7ecaf102971fc026f",
    "original_commit_id": "7d29fa4d98ecce780f1b0a2e3004c22c8f4d2395",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Reading more on: http://en.cppreference.com/w/cpp/language/inline\r\n\r\nSemantically, `static` (or anonymous namespace) in combination with `inline` is not meaningless. It still indicates that different translation units may have different definitions. Without `static` it is (in theory) undefined to have multiple translation units with a different definition.\r\n\r\nHowever, non-`static` `inline` functions must be defined `inline` in every translation unit, and the compiler guarantees it will have the same address in all of them (if any) (these properties are not true in C). This means that the reason why I was using `static` here (being worried about having multiple emitted copies of a non-inlined version of the function) doesn't apply.\r\n\r\nI also tested this, by removing the `static` and observing that no symbol is emitted in any of the object files produced by gcc.\r\n\r\nBy modern I mean C++03 and up.",
    "created_at": "2018-03-21T21:33:26Z",
    "updated_at": "2018-03-21T21:41:19Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r176245584",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176245584"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r176245584"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176245584/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 63,
    "side": "RIGHT",
    "in_reply_to_id": 175966073
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176252159",
    "pull_request_review_id": 105923455,
    "id": 176252159,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjI1MjE1OQ==",
    "diff_hunk": "@@ -59,6 +59,12 @@ inline T* NCONST_PTR(const T* val)\n     return const_cast<T*>(val);\n }\n \n+//! Safely convert odd char pointer types to standard ones.\n+static inline char* CharCast(char* c) { return c; }",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 5,
    "commit_id": "a7c45bce9264f4a8fa48f2e7ecaf102971fc026f",
    "original_commit_id": "7d29fa4d98ecce780f1b0a2e3004c22c8f4d2395",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> This means that the reason why I was using static here (being worried about having multiple emitted copies of a non-inlined version of the function) doesn't apply.\r\n\r\nI'd still think you'd want to specify `static` to tell the compiler that the function won't be accessed from a different translation unit and that exporting a symbol isn't necessary. It doesn't seem like it can be true that no symbol is emitted without `static` because according to your link, \"An inline function with external linkage (e.g. not declared static)\" \"has the same address in every translation unit,\" which would require a symbol.\r\n\r\nTesting locally, I see both `inline` and `static inline` functions emitting symbols, but `inline` functions have global symbols (`W` in nm output) while `static inline` functions only have local symbols (`t` in nm output).",
    "created_at": "2018-03-21T21:59:27Z",
    "updated_at": "2018-03-21T22:02:48Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r176252159",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176252159"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r176252159"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176252159/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 63,
    "side": "RIGHT",
    "in_reply_to_id": 175966073
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176257268",
    "pull_request_review_id": 105929150,
    "id": 176257268,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjI1NzI2OA==",
    "diff_hunk": "@@ -59,6 +59,12 @@ inline T* NCONST_PTR(const T* val)\n     return const_cast<T*>(val);\n }\n \n+//! Safely convert odd char pointer types to standard ones.\n+static inline char* CharCast(char* c) { return c; }",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 5,
    "commit_id": "a7c45bce9264f4a8fa48f2e7ecaf102971fc026f",
    "original_commit_id": "7d29fa4d98ecce780f1b0a2e3004c22c8f4d2395",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@ryanofsky That's what I'm seeing at `-O0` (when inlining is disabled). With `-O1` or higher, no symbol is emitted with either `inline` or `static inline` when all call sites are inlinable.\r\n\r\nAlso, when compiling with `g++`, with multiple object files where the call sites are not inlinable, each object gets indeed a symbol, but they're turned into a single symbol in the final executable. When compiling with `gcc`, the final executable has one symbol per original object.\r\n\r\nI think that's the explanation: all translation units with a non-inlinable call site of an inline function indeed get an emitted symbol, but those are combined into one by the linker.\r\n\r\nGiven that C++ requires that all translation units in which a non-`static` `inline` function appears mark it as `inline`, it means there can't be any actual external calls from another unit to an inline function symbol; they're required to have their own definition, so no symbol is required to be emitted. If it is emitted however, it will be combined across all units by the linked.",
    "created_at": "2018-03-21T22:20:45Z",
    "updated_at": "2018-03-21T22:31:06Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r176257268",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176257268"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12740#discussion_r176257268"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12740"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176257268/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 63,
    "side": "RIGHT",
    "in_reply_to_id": 175966073
  }
]