[
  {
    "sha": "3c3711e91c4c83f70726d4d7327853f02f29a82a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozYzM3MTFlOTFjNGM4M2Y3MDcyNmQ0ZDczMjc4NTNmMDJmMjlhODJh",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "jonas.schnelli@include7.ch",
        "date": "2015-02-03T19:21:00Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "jonas.schnelli@include7.ch",
        "date": "2015-03-13T16:45:15Z"
      },
      "message": "[Modularization] add possibility to extend or overwrite RPC calls\n\n- this will allow a upcomming modularization of the wallet or other components",
      "tree": {
        "sha": "8ae2ccfe9bffd9584f2b1af0b3258bb1c7d4b280",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8ae2ccfe9bffd9584f2b1af0b3258bb1c7d4b280"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3c3711e91c4c83f70726d4d7327853f02f29a82a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3c3711e91c4c83f70726d4d7327853f02f29a82a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3c3711e91c4c83f70726d4d7327853f02f29a82a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3c3711e91c4c83f70726d4d7327853f02f29a82a/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7077fe6dd4208bdbd46940f7923b7d89202c3287",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7077fe6dd4208bdbd46940f7923b7d89202c3287",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7077fe6dd4208bdbd46940f7923b7d89202c3287"
      }
    ],
    "stats": {
      "total": 47,
      "additions": 45,
      "deletions": 2
    },
    "files": [
      {
        "sha": "1eca43577f289e58e13f8d79c665855f88298c26",
        "filename": "src/rpcserver.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 1,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3c3711e91c4c83f70726d4d7327853f02f29a82a/src/rpcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3c3711e91c4c83f70726d4d7327853f02f29a82a/src/rpcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcserver.cpp?ref=3c3711e91c4c83f70726d4d7327853f02f29a82a",
        "patch": "@@ -398,6 +398,16 @@ const CRPCCommand *CRPCTable::operator[](string name) const\n     return (*it).second;\n }\n \n+void CRPCTable::AddOrReplaceCommand(const CRPCCommand command)\n+{\n+    // search after existing key in hashmap and remove it\n+    map<string, const CRPCCommand*>::iterator it = mapCommands.find(command.name);\n+    if (it != mapCommands.end())\n+        mapCommands.erase(it);\n+    \n+    // add new command to the dispatch table\n+    mapCommands[command.name] = &command;\n+}\n \n bool HTTPAuthorized(map<string, string>& mapHeaders)\n {\n@@ -1034,4 +1044,4 @@ std::string HelpExampleRpc(string methodname, string args){\n         \"\\\"method\\\": \\\"\" + methodname + \"\\\", \\\"params\\\": [\" + args + \"] }' -H 'content-type: text/plain;' http://127.0.0.1:8332/\\n\";\n }\n \n-const CRPCTable tableRPC;\n+CRPCTable tableRPC;"
      },
      {
        "sha": "4d5ed612b24f59b041e610dc6d69002fa9bd0997",
        "filename": "src/rpcserver.h",
        "status": "modified",
        "additions": 7,
        "deletions": 1,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3c3711e91c4c83f70726d4d7327853f02f29a82a/src/rpcserver.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3c3711e91c4c83f70726d4d7327853f02f29a82a/src/rpcserver.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcserver.h?ref=3c3711e91c4c83f70726d4d7327853f02f29a82a",
        "patch": "@@ -113,6 +113,12 @@ class CRPCTable\n     const CRPCCommand* operator[](std::string name) const;\n     std::string help(std::string name) const;\n \n+    /**\n+     * add or replace a CRPCCommand to the dispatch table\n+     * @param command rpc command to add or replace\n+     */ \n+    void AddOrReplaceCommand(const CRPCCommand command);\n+\n     /**\n      * Execute a method.\n      * @param method   Method to execute\n@@ -123,7 +129,7 @@ class CRPCTable\n     json_spirit::Value execute(const std::string &method, const json_spirit::Array &params) const;\n };\n \n-extern const CRPCTable tableRPC;\n+extern CRPCTable tableRPC;\n \n /**\n  * Utilities: convert hex-encoded Values"
      },
      {
        "sha": "b9ed9d55a47f01fc5d5f75cf041dba9d2fd53f16",
        "filename": "src/test/rpc_tests.cpp",
        "status": "modified",
        "additions": 27,
        "deletions": 0,
        "changes": 27,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3c3711e91c4c83f70726d4d7327853f02f29a82a/src/test/rpc_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3c3711e91c4c83f70726d4d7327853f02f29a82a/src/test/rpc_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/rpc_tests.cpp?ref=3c3711e91c4c83f70726d4d7327853f02f29a82a",
        "patch": "@@ -16,6 +16,13 @@\n using namespace std;\n using namespace json_spirit;\n \n+Value ping_overwrite_tests(const Array& params, bool fHelp)\n+{\n+    Object obj;\n+    obj.push_back(Pair(\"Test\", \"123\"));\n+    return obj;\n+}\n+\n Array\n createArgs(int nRequired, const char* address1=NULL, const char* address2=NULL)\n {\n@@ -155,4 +162,24 @@ BOOST_AUTO_TEST_CASE(rpc_boostasiotocnetaddr)\n     BOOST_CHECK_EQUAL(BoostAsioToCNetAddr(boost::asio::ip::address::from_string(\"::ffff:127.0.0.1\")).ToString(), \"127.0.0.1\");\n }\n \n+BOOST_AUTO_TEST_CASE(rpc_flex_table)\n+{\n+    Value r = CallRPC(string(\"ping\"));\n+    BOOST_CHECK(r.is_null());\n+ \n+    const CRPCCommand newCmd = { \"network\",\"testcmd\",  &ping_overwrite_tests,true,false,false };\n+    tableRPC.AddOrReplaceCommand(newCmd);\n+    \n+    BOOST_CHECK_NO_THROW(r = CallRPC(string(\"testcmd\")));\n+    BOOST_CHECK_EQUAL(find_value(r.get_obj(), \"Test\").get_str(), \"123\");\n+    \n+    const CRPCCommand newPingCmd = { \"network\",\"ping\",  &ping_overwrite_tests,true,false,false };\n+    tableRPC.AddOrReplaceCommand(newPingCmd);\n+    \n+    BOOST_CHECK_NO_THROW(r = CallRPC(string(\"ping\")));\n+    BOOST_CHECK_EQUAL(find_value(r.get_obj(), \"Test\").get_str(), \"123\");\n+}\n+\n+\n+\n BOOST_AUTO_TEST_SUITE_END()"
      }
    ]
  },
  {
    "sha": "5537c08c0b1d8769ff7cf55a2ea1344ebef11024",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NTM3YzA4YzBiMWQ4NzY5ZmY3Y2Y1NWEyZWExMzQ0ZWJlZjExMDI0",
    "commit": {
      "author": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-03-07T09:06:16Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "jonas.schnelli@include7.ch",
        "date": "2015-03-13T16:45:15Z"
      },
      "message": "[Modularization] allow to add entries to the JSON conversion table\n\n- add method to insert custom conversion entries\n\nConflicts:\n\tsrc/test/rpc_tests.cpp",
      "tree": {
        "sha": "c35dcc18d07caaedec3eb4bcb0a1c984eec71a68",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c35dcc18d07caaedec3eb4bcb0a1c984eec71a68"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5537c08c0b1d8769ff7cf55a2ea1344ebef11024",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5537c08c0b1d8769ff7cf55a2ea1344ebef11024",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5537c08c0b1d8769ff7cf55a2ea1344ebef11024",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5537c08c0b1d8769ff7cf55a2ea1344ebef11024/comments",
    "author": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3c3711e91c4c83f70726d4d7327853f02f29a82a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3c3711e91c4c83f70726d4d7327853f02f29a82a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/3c3711e91c4c83f70726d4d7327853f02f29a82a"
      }
    ],
    "stats": {
      "total": 42,
      "additions": 42,
      "deletions": 0
    },
    "files": [
      {
        "sha": "51d403b546dceae0f346edafa7c32608cc66e90e",
        "filename": "src/rpcclient.cpp",
        "status": "modified",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5537c08c0b1d8769ff7cf55a2ea1344ebef11024/src/rpcclient.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5537c08c0b1d8769ff7cf55a2ea1344ebef11024/src/rpcclient.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcclient.cpp?ref=5537c08c0b1d8769ff7cf55a2ea1344ebef11024",
        "patch": "@@ -98,6 +98,10 @@ class CRPCConvertTable\n public:\n     CRPCConvertTable();\n \n+    void add(const std::string& method, int idx) {\n+        members.insert(std::make_pair(method, idx));\n+    }\n+\n     bool convert(const std::string& method, int idx) {\n         return (members.count(std::make_pair(method, idx)) > 0);\n     }\n@@ -116,6 +120,12 @@ CRPCConvertTable::CRPCConvertTable()\n \n static CRPCConvertTable rpcCvtTable;\n \n+/** Add new conversion to the JSON RPC conversion table */\n+void RPCAddConversion(const std::string& method, int idx)\n+{\n+    rpcCvtTable.add(method, idx);\n+}\n+\n /** Convert strings to command-specific RPC representation */\n Array RPCConvertValues(const std::string &strMethod, const std::vector<std::string> &strParams)\n {"
      },
      {
        "sha": "e172dd9870f0bbf7656a347cae506170631fa706",
        "filename": "src/rpcclient.h",
        "status": "modified",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5537c08c0b1d8769ff7cf55a2ea1344ebef11024/src/rpcclient.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5537c08c0b1d8769ff7cf55a2ea1344ebef11024/src/rpcclient.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcclient.h?ref=5537c08c0b1d8769ff7cf55a2ea1344ebef11024",
        "patch": "@@ -10,6 +10,16 @@\n #include \"json/json_spirit_utils.h\"\n #include \"json/json_spirit_writer_template.h\"\n \n+/**\n+ * Add new conversion to the JSON RPC conversion table\n+ * @param method name of the method\n+ * @param idx    0-based index of the paramter\n+ */\n+void RPCAddConversion(const std::string& method, int idx);\n+\n+/**\n+ * Convert strings to command-specific RPC representation\n+ **/\n json_spirit::Array RPCConvertValues(const std::string& strMethod, const std::vector<std::string>& strParams);\n \n #endif // BITCOIN_RPCCLIENT_H"
      },
      {
        "sha": "729dcbb8505f2cf536d13f13a49dd57c1d1e0743",
        "filename": "src/test/rpc_tests.cpp",
        "status": "modified",
        "additions": 22,
        "deletions": 0,
        "changes": 22,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5537c08c0b1d8769ff7cf55a2ea1344ebef11024/src/test/rpc_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5537c08c0b1d8769ff7cf55a2ea1344ebef11024/src/test/rpc_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/rpc_tests.cpp?ref=5537c08c0b1d8769ff7cf55a2ea1344ebef11024",
        "patch": "@@ -180,6 +180,28 @@ BOOST_AUTO_TEST_CASE(rpc_flex_table)\n     BOOST_CHECK_EQUAL(find_value(r.get_obj(), \"Test\").get_str(), \"123\");\n }\n \n+BOOST_AUTO_TEST_CASE(rpc_add_conversion)\n+{\n+    RPCAddConversion(\"testcommand\", 1);\n+    RPCAddConversion(\"testcommand\", 2);\n+\n+    std::vector<std::string> vstrParams;\n+\n+    vstrParams.push_back(\"1234\");\n+    vstrParams.push_back(\"false\");\n+    vstrParams.push_back(\"481516\");\n+\n+    Array params = RPCConvertValues(\"testcommand\", vstrParams);\n \n+    BOOST_CHECK_NO_THROW(params[0].get_str());\n+    BOOST_CHECK_NO_THROW(params[1].get_bool());\n+    BOOST_CHECK_NO_THROW(params[2].get_int());\n+\n+    BOOST_CHECK_THROW(params[0].get_int(), std::runtime_error);\n+\n+    BOOST_CHECK_EQUAL(params[0].get_str(), \"1234\");\n+    BOOST_CHECK_EQUAL(params[1].get_bool(), false);\n+    BOOST_CHECK_EQUAL(params[2].get_int(), 481516);\n+}\n \n BOOST_AUTO_TEST_SUITE_END()"
      }
    ]
  },
  {
    "sha": "bbee2ebdd5c9b94724467b74362af859c09d0e07",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYmVlMmViZGQ1YzliOTQ3MjQ0NjdiNzQzNjJhZjg1OWMwOWQwZTA3",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "jonas.schnelli@include7.ch",
        "date": "2015-03-13T15:47:40Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "jonas.schnelli@include7.ch",
        "date": "2015-03-13T16:45:43Z"
      },
      "message": "[Modularization] flexible RPC table overhaul",
      "tree": {
        "sha": "50dfdd6bf40edf638009fb8f7ed80f4ef928a3e6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/50dfdd6bf40edf638009fb8f7ed80f4ef928a3e6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bbee2ebdd5c9b94724467b74362af859c09d0e07",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bbee2ebdd5c9b94724467b74362af859c09d0e07",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/bbee2ebdd5c9b94724467b74362af859c09d0e07",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bbee2ebdd5c9b94724467b74362af859c09d0e07/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5537c08c0b1d8769ff7cf55a2ea1344ebef11024",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5537c08c0b1d8769ff7cf55a2ea1344ebef11024",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5537c08c0b1d8769ff7cf55a2ea1344ebef11024"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 2,
      "deletions": 7
    },
    "files": [
      {
        "sha": "e1a931116953888a1e97427aaa53e68d62420d97",
        "filename": "src/rpcserver.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 5,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bbee2ebdd5c9b94724467b74362af859c09d0e07/src/rpcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bbee2ebdd5c9b94724467b74362af859c09d0e07/src/rpcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcserver.cpp?ref=bbee2ebdd5c9b94724467b74362af859c09d0e07",
        "patch": "@@ -400,11 +400,6 @@ const CRPCCommand *CRPCTable::operator[](string name) const\n \n void CRPCTable::AddOrReplaceCommand(const CRPCCommand command)\n {\n-    // search after existing key in hashmap and remove it\n-    map<string, const CRPCCommand*>::iterator it = mapCommands.find(command.name);\n-    if (it != mapCommands.end())\n-        mapCommands.erase(it);\n-    \n     // add new command to the dispatch table\n     mapCommands[command.name] = &command;\n }"
      },
      {
        "sha": "1c4ddf3180f498ba2453317f189f61c920a563e7",
        "filename": "src/test/rpc_tests.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bbee2ebdd5c9b94724467b74362af859c09d0e07/src/test/rpc_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bbee2ebdd5c9b94724467b74362af859c09d0e07/src/test/rpc_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/rpc_tests.cpp?ref=bbee2ebdd5c9b94724467b74362af859c09d0e07",
        "patch": "@@ -167,13 +167,13 @@ BOOST_AUTO_TEST_CASE(rpc_flex_table)\n     Value r = CallRPC(string(\"ping\"));\n     BOOST_CHECK(r.is_null());\n  \n-    const CRPCCommand newCmd = { \"network\",\"testcmd\",  &ping_overwrite_tests,true,false,false };\n+    const CRPCCommand newCmd = { \"network\",\"testcmd\",  &ping_overwrite_tests,true,false };\n     tableRPC.AddOrReplaceCommand(newCmd);\n     \n     BOOST_CHECK_NO_THROW(r = CallRPC(string(\"testcmd\")));\n     BOOST_CHECK_EQUAL(find_value(r.get_obj(), \"Test\").get_str(), \"123\");\n     \n-    const CRPCCommand newPingCmd = { \"network\",\"ping\",  &ping_overwrite_tests,true,false,false };\n+    const CRPCCommand newPingCmd = { \"network\",\"ping\",  &ping_overwrite_tests,true,false };\n     tableRPC.AddOrReplaceCommand(newPingCmd);\n     \n     BOOST_CHECK_NO_THROW(r = CallRPC(string(\"ping\")));"
      }
    ]
  },
  {
    "sha": "dac9278963a53b53abb42d59a6baad707e9e172e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkYWM5Mjc4OTYzYTUzYjUzYWJiNDJkNTlhNmJhYWQ3MDdlOWUxNzJl",
    "commit": {
      "author": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-03-13T00:03:59Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "jonas.schnelli@include7.ch",
        "date": "2015-03-14T12:00:06Z"
      },
      "message": "[Modularization] use pointers when adding or replacing RPC commands\n\nUsing pointers signals the responsibility of managing object lifetime is in the hand of the caller.",
      "tree": {
        "sha": "2ef30c4c8d8bfc0f8e8029f969d6e384dbda6146",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2ef30c4c8d8bfc0f8e8029f969d6e384dbda6146"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dac9278963a53b53abb42d59a6baad707e9e172e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dac9278963a53b53abb42d59a6baad707e9e172e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/dac9278963a53b53abb42d59a6baad707e9e172e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dac9278963a53b53abb42d59a6baad707e9e172e/comments",
    "author": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "bbee2ebdd5c9b94724467b74362af859c09d0e07",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bbee2ebdd5c9b94724467b74362af859c09d0e07",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bbee2ebdd5c9b94724467b74362af859c09d0e07"
      }
    ],
    "stats": {
      "total": 28,
      "additions": 14,
      "deletions": 14
    },
    "files": [
      {
        "sha": "84b4823b3f0c4600c5ff55dc0c4d71051a8c30fb",
        "filename": "src/rpcserver.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dac9278963a53b53abb42d59a6baad707e9e172e/src/rpcserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dac9278963a53b53abb42d59a6baad707e9e172e/src/rpcserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcserver.cpp?ref=dac9278963a53b53abb42d59a6baad707e9e172e",
        "patch": "@@ -398,10 +398,10 @@ const CRPCCommand *CRPCTable::operator[](string name) const\n     return (*it).second;\n }\n \n-void CRPCTable::AddOrReplaceCommand(const CRPCCommand command)\n+void CRPCTable::AddOrReplaceCommand(const CRPCCommand* pcommand)\n {\n     // add new command to the dispatch table\n-    mapCommands[command.name] = &command;\n+    mapCommands[pcommand->name] = pcommand;\n }\n \n bool HTTPAuthorized(map<string, string>& mapHeaders)"
      },
      {
        "sha": "352a67033aba97428adb77e341e93ab17ae941b8",
        "filename": "src/rpcserver.h",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dac9278963a53b53abb42d59a6baad707e9e172e/src/rpcserver.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dac9278963a53b53abb42d59a6baad707e9e172e/src/rpcserver.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcserver.h?ref=dac9278963a53b53abb42d59a6baad707e9e172e",
        "patch": "@@ -114,10 +114,10 @@ class CRPCTable\n     std::string help(std::string name) const;\n \n     /**\n-     * add or replace a CRPCCommand to the dispatch table\n-     * @param command rpc command to add or replace\n-     */ \n-    void AddOrReplaceCommand(const CRPCCommand command);\n+     * Add or replace a CRPCCommand to the dispatch table\n+     * @param pcommand RPC command to add or replace\n+     */\n+    void AddOrReplaceCommand(const CRPCCommand* pcommand);\n \n     /**\n      * Execute a method."
      },
      {
        "sha": "1d28c755821ddb7d520a6fc0b902a6e2bd5805d5",
        "filename": "src/test/rpc_tests.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 8,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dac9278963a53b53abb42d59a6baad707e9e172e/src/test/rpc_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dac9278963a53b53abb42d59a6baad707e9e172e/src/test/rpc_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/rpc_tests.cpp?ref=dac9278963a53b53abb42d59a6baad707e9e172e",
        "patch": "@@ -166,16 +166,16 @@ BOOST_AUTO_TEST_CASE(rpc_flex_table)\n {\n     Value r = CallRPC(string(\"ping\"));\n     BOOST_CHECK(r.is_null());\n- \n-    const CRPCCommand newCmd = { \"network\",\"testcmd\",  &ping_overwrite_tests,true,false };\n-    tableRPC.AddOrReplaceCommand(newCmd);\n-    \n+\n+    const CRPCCommand newCmd = { \"network\", \"testcmd\", &ping_overwrite_tests, true, false };\n+    tableRPC.AddOrReplaceCommand(&newCmd);\n+\n     BOOST_CHECK_NO_THROW(r = CallRPC(string(\"testcmd\")));\n     BOOST_CHECK_EQUAL(find_value(r.get_obj(), \"Test\").get_str(), \"123\");\n-    \n-    const CRPCCommand newPingCmd = { \"network\",\"ping\",  &ping_overwrite_tests,true,false };\n-    tableRPC.AddOrReplaceCommand(newPingCmd);\n-    \n+\n+    const CRPCCommand newPingCmd = { \"network\", \"ping\", &ping_overwrite_tests, true, false };\n+    tableRPC.AddOrReplaceCommand(&newPingCmd);\n+\n     BOOST_CHECK_NO_THROW(r = CallRPC(string(\"ping\")));\n     BOOST_CHECK_EQUAL(find_value(r.get_obj(), \"Test\").get_str(), \"123\");\n }"
      }
    ]
  }
]