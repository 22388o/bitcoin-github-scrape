[
  {
    "sha": "a20c0d0f6792acf532309eee2e9f29120c801ee4",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphMjBjMGQwZjY3OTJhY2Y1MzIzMDllZWUyZTlmMjkxMjBjODAxZWU0",
    "commit": {
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2012-04-07T00:06:53Z"
      },
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2012-04-10T16:16:53Z"
      },
      "message": "Build identification strings\n\nAll client version information is moved to version.cpp, which optionally\n(-DHAVE_BUILD_INFO) includes build.h. build.h is automatically generated\non supporting platforms via contrib/genbuild.sh, using git describe.\n\nThe git export-subst attribute is used to put the commit id statically\nin version.cpp inside generated archives, and this value is used if no\nbuild.h is present.\n\nThe gitian descriptors are modified to use git archive instead of a\ncopy, to create the src/ directory in the output. This way,\nsrc/src/version.cpp will contain the static commit id. To prevent\ngitian builds from getting the \"-dirty\" marker in their git-describe\ngenerated identifiers, no touching of files or running sed on the\nmakefile is performed anymore. This does not seem to influence\ndeterminism.",
      "tree": {
        "sha": "0065544e660157fa0701977583b2876c81e833dd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0065544e660157fa0701977583b2876c81e833dd"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a20c0d0f6792acf532309eee2e9f29120c801ee4",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a20c0d0f6792acf532309eee2e9f29120c801ee4",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a20c0d0f6792acf532309eee2e9f29120c801ee4",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a20c0d0f6792acf532309eee2e9f29120c801ee4/comments",
    "author": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "138d08c5315c45b3dd08184c4eeb77ee3e47ef0a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/138d08c5315c45b3dd08184c4eeb77ee3e47ef0a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/138d08c5315c45b3dd08184c4eeb77ee3e47ef0a"
      }
    ],
    "stats": {
      "total": 224,
      "additions": 193,
      "deletions": 31
    },
    "files": [
      {
        "sha": "26d7549356a24517588e6d8e329caa49fdf8735d",
        "filename": ".gitattributes",
        "status": "added",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/.gitattributes",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/.gitattributes",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.gitattributes?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -0,0 +1 @@\n+src/version.cpp export-subst"
      },
      {
        "sha": "dafbc2b6bcdbed98a5b5a990c0c9dfff36340da4",
        "filename": ".gitignore",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/.gitignore",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/.gitignore",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.gitignore?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -1,6 +1,7 @@\n src/*.exe\n src/bitcoin\n src/bitcoind\n+src/build.h\n .*.swp\n *.*~*\n *.bak"
      },
      {
        "sha": "46caa22fb73351c389f864b1470f155fc0e1df96",
        "filename": "bitcoin-qt.pro",
        "status": "modified",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/bitcoin-qt.pro",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/bitcoin-qt.pro",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/bitcoin-qt.pro?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -80,6 +80,15 @@ contains(BITCOIN_NEED_QT_PLUGINS, 1) {\n     # do not enable this on windows, as it will result in a non-working executable!\n }\n \n+# regenerate src/build.h\n+!windows || contains(USE_BUILD_INFO, 1) {\n+    genbuild.commands = share/genbuild.sh src/build.h\n+    genbuild.target = src/build.h\n+    \"src/version.cpp\".depends += src/build.h\n+    QMAKE_EXTRA_TARGETS += genbuild\n+    DEFINES += HAVE_BUILD_INFO\n+}\n+\n # disable quite some warnings because bitcoin core \"sins\" a lot\n QMAKE_CXXFLAGS_WARN_ON = -fdiagnostics-show-option -Wall -Wno-strict-aliasing -Wno-invalid-offsetof -Wno-unused-variable -Wno-unused-parameter -Wno-sign-compare -Wno-char-subscripts -Wno-unused-value -Wno-sequence-point -Wno-parentheses -Wno-unknown-pragmas -Wno-switch\n \n@@ -161,6 +170,7 @@ SOURCES += src/qt/bitcoin.cpp src/qt/bitcoingui.cpp \\\n     src/qt/aboutdialog.cpp \\\n     src/qt/editaddressdialog.cpp \\\n     src/qt/bitcoinaddressvalidator.cpp \\\n+    src/version.cpp \\\n     src/util.cpp \\\n     src/netbase.cpp \\\n     src/key.cpp \\"
      },
      {
        "sha": "49bc9c7a57881ae90d96604d1a21cc683ca47c57",
        "filename": "contrib/gitian-descriptors/gitian-win32.yml",
        "status": "modified",
        "additions": 12,
        "deletions": 7,
        "changes": 19,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/contrib/gitian-descriptors/gitian-win32.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/contrib/gitian-descriptors/gitian-win32.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-win32.yml?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -45,25 +45,30 @@ script: |\n   #\n   cd bitcoin\n   mkdir -p $OUTDIR/src\n-  cp -a . $OUTDIR/src\n-  rm -rf $OUTDIR/src/.git\n+  git archive HEAD | tar -x -C $OUTDIR/src\n   cp $OUTDIR/src/doc/README_windows.txt $OUTDIR/readme.txt\n   cp $OUTDIR/src/COPYING $OUTDIR/license.txt\n   export LD_PRELOAD=/usr/lib/faketime/libfaketime.so.1\n   export FAKETIME=$REFERENCE_DATETIME\n   export TZ=UTC\n-  $HOME/qt/src/bin/qmake -spec unsupported/win32-g++-cross MINIUPNPC_LIB_PATH=$HOME/build/miniupnpc MINIUPNPC_INCLUDE_PATH=$HOME/build/ BDB_LIB_PATH=$HOME/build/db-4.8.30.NC/build_unix BDB_INCLUDE_PATH=$HOME/build/db-4.8.30.NC/build_unix BOOST_LIB_PATH=$HOME/build/boost_1_47_0/stage/lib BOOST_INCLUDE_PATH=$HOME/build/boost_1_47_0 BOOST_LIB_SUFFIX=-mt-s BOOST_THREAD_LIB_SUFFIX=_win32-mt-s OPENSSL_LIB_PATH=$HOME/build/openssl-1.0.0e OPENSSL_INCLUDE_PATH=$HOME/build/openssl-1.0.0e/include QRENCODE_LIB_PATH=$HOME/build/qrencode-3.2.0/.libs QRENCODE_INCLUDE_PATH=$HOME/build/qrencode-3.2.0 USE_QRCODE=1 INCLUDEPATH=$HOME/build DEFINES=BOOST_THREAD_USE_LIB BITCOIN_NEED_QT_PLUGINS=1 QMAKE_LRELEASE=lrelease QMAKE_CXXFLAGS=-frandom-seed=bitcoin QMAKE_LFLAGS=-frandom-seed=bitcoin\n+  $HOME/qt/src/bin/qmake -spec unsupported/win32-g++-cross MINIUPNPC_LIB_PATH=$HOME/build/miniupnpc MINIUPNPC_INCLUDE_PATH=$HOME/build/ BDB_LIB_PATH=$HOME/build/db-4.8.30.NC/build_unix BDB_INCLUDE_PATH=$HOME/build/db-4.8.30.NC/build_unix BOOST_LIB_PATH=$HOME/build/boost_1_47_0/stage/lib BOOST_INCLUDE_PATH=$HOME/build/boost_1_47_0 BOOST_LIB_SUFFIX=-mt-s BOOST_THREAD_LIB_SUFFIX=_win32-mt-s OPENSSL_LIB_PATH=$HOME/build/openssl-1.0.0e OPENSSL_INCLUDE_PATH=$HOME/build/openssl-1.0.0e/include QRENCODE_LIB_PATH=$HOME/build/qrencode-3.2.0/.libs QRENCODE_INCLUDE_PATH=$HOME/build/qrencode-3.2.0 USE_QRCODE=1 INCLUDEPATH=$HOME/build DEFINES=BOOST_THREAD_USE_LIB BITCOIN_NEED_QT_PLUGINS=1 QMAKE_LRELEASE=lrelease QMAKE_CXXFLAGS=-frandom-seed=bitcoin QMAKE_LFLAGS=-frandom-seed=bitcoin USE_BUILD_INFO=1\n   make $MAKEOPTS\n   cp release/bitcoin-qt.exe $OUTDIR/\n   #\n   cd src\n-  sed 's/$(DEBUGFLAGS)/-frandom-seed=bitcoin/' -i makefile.linux-mingw\n   export LD_PRELOAD=/usr/lib/faketime/libfaketime.so.1\n   export FAKETIME=$REFERENCE_DATETIME\n   export TZ=UTC\n-  make -f makefile.linux-mingw $MAKEOPTS DEPSDIR=$HOME/build bitcoind.exe USE_UPNP=0\n+  make -f makefile.linux-mingw $MAKEOPTS DEPSDIR=$HOME/build bitcoind.exe USE_UPNP=0 DEBUGFLAGS=\"-frandom-seed=bitcoin\"\n   i586-mingw32msvc-strip bitcoind.exe\n-  makensis ../share/setup.nsi\n-  cp ../share/bitcoin-*-win32-setup.exe $OUTDIR/\n   mkdir $OUTDIR/daemon\n   cp bitcoind.exe $OUTDIR/daemon\n+  cd ..\n+  mkdir nsis\n+  git archive HEAD | tar -x -C nsis\n+  cd nsis/src\n+  mkdir ../release\n+  cp ../../release/* ../release/\n+  cp ../../src/*.exe .\n+  makensis ../share/setup.nsi\n+  cp ../share/bitcoin-*-win32-setup.exe $OUTDIR/"
      },
      {
        "sha": "8243c5c301a6a6bb81ee56d08cead990858649ce",
        "filename": "contrib/gitian-descriptors/gitian.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 4,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/contrib/gitian-descriptors/gitian.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/contrib/gitian-descriptors/gitian.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian.yml?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -42,13 +42,11 @@ script: |\n   #\n   cd bitcoin\n   mkdir -p $OUTDIR/src\n-  cp -a . $OUTDIR/src\n-  rm -rf $OUTDIR/src/.git\n+  git archive HEAD | tar -x -C $OUTDIR/src\n   cp $OUTDIR/src/doc/README $OUTDIR\n   cp $OUTDIR/src/COPYING $OUTDIR\n   cd src\n-  sed 's/$(DEBUGFLAGS)//' -i makefile.unix\n-  make -f makefile.unix STATIC=1 OPENSSL_INCLUDE_PATH=\"$INSTDIR/include\" OPENSSL_LIB_PATH=\"$INSTDIR/lib\" $MAKEOPTS bitcoind USE_UPNP=0\n+  make -f makefile.unix STATIC=1 OPENSSL_INCLUDE_PATH=\"$INSTDIR/include\" OPENSSL_LIB_PATH=\"$INSTDIR/lib\" $MAKEOPTS bitcoind USE_UPNP=0 DEBUGFLAGS=\n   mkdir -p $OUTDIR/bin/$GBUILD_BITS\n   install -s bitcoind $OUTDIR/bin/$GBUILD_BITS\n   cd .."
      },
      {
        "sha": "3f3c6dad6a42a8cec14a0e232fabbf07d1b216c2",
        "filename": "doc/release-process.txt",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/doc/release-process.txt",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/doc/release-process.txt",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-process.txt?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -2,7 +2,7 @@\n \n * update (commit) version in sources\n   bitcoin-qt.pro\n-  src/main.h      (CLIENT_VERSION : PROTOCOL_VERSION in serialize.h is updated only on protocol changes)\n+  src/version.cpp\n   share/setup.nsi\n   doc/README*\n "
      },
      {
        "sha": "d959877dc85a391a640b8eb2912156c3aad812d1",
        "filename": "share/genbuild.sh",
        "status": "added",
        "additions": 35,
        "deletions": 0,
        "changes": 35,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/share/genbuild.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/share/genbuild.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/share/genbuild.sh?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -0,0 +1,35 @@\n+#!/bin/sh\n+\n+if [ $# -gt 0 ]; then\n+    FILE=\"$1\"\n+    shift\n+    if [ -f \"$FILE\" ]; then\n+        INFO=\"$(head -n 1 \"$FILE\")\"\n+    fi\n+else\n+    echo \"Usage: $0 <filename>\"\n+    exit 1\n+fi\n+\n+if [ -e \"$(which git)\" ]; then\n+    # clean 'dirty' status of touched files that haven't been modified\n+    git diff >/dev/null 2>/dev/null \n+\n+    # get a string like \"v0.6.0-66-g59887e8-dirty\"\n+    DESC=\"$(git describe --dirty 2>/dev/null)\"\n+\n+    # get a string like \"2012-04-10 16:27:19 +0200\"\n+    TIME=\"$(git log -n 1 --format=\"%ci\")\"\n+fi\n+\n+if [ -n \"$DESC\" ]; then\n+    NEWINFO=\"#define BUILD_DESC \\\"$DESC\\\"\"\n+else\n+    NEWINFO=\"// No build information available\"\n+fi\n+\n+# only update build.h if necessary\n+if [ \"$INFO\" != \"$NEWINFO\" ]; then\n+    echo \"$NEWINFO\" >\"$FILE\"\n+    echo \"#define BUILD_DATE \\\"$TIME\\\"\" >>\"$FILE\"\n+fi"
      },
      {
        "sha": "9d37eb3c061e9ee6bca3bb333b1ba8efbfcc04d3",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -307,7 +307,7 @@ bool AppInit2(int argc, char* argv[])\n     if (!fDebug && !pszSetDataDir[0])\n         ShrinkDebugFile();\n     printf(\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\");\n-    printf(\"Bitcoin version %s\\n\", FormatFullVersion().c_str());\n+    printf(\"Bitcoin version %s (%s)\\n\", FormatFullVersion().c_str(), CLIENT_DATE.c_str());\n     printf(\"Default data directory %s\\n\", GetDefaultDataDir().c_str());\n \n     if (GetBoolArg(\"-loadblockindextest\"))"
      },
      {
        "sha": "7e257f48d9be10c81fb2889f203549ccc73a0fc1",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 5,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -18,11 +18,6 @@ using namespace boost;\n // Global state\n //\n \n-// Name of client reported in the 'version' message. Report the same name\n-// for both bitcoind and bitcoin-qt, to make it harder for attackers to\n-// target servers or GUI users specifically.\n-const std::string CLIENT_NAME(\"Satoshi\");\n-\n CCriticalSection cs_setpwalletRegistered;\n set<CWallet*> setpwalletRegistered;\n "
      },
      {
        "sha": "1d46851ac2fa766f9e9002e169b29e08b598eac1",
        "filename": "src/main.h",
        "status": "modified",
        "additions": 1,
        "deletions": 4,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/main.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/main.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.h?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -10,6 +10,7 @@\n #include \"key.h\"\n #include \"script.h\"\n #include \"db.h\"\n+#include \"version.h\"\n \n #ifdef WIN32\n #include <io.h> /* for _commit */\n@@ -30,10 +31,6 @@ class CInv;\n class CRequestTracker;\n class CNode;\n \n-static const int CLIENT_VERSION = 60099;\n-static const bool VERSION_IS_BETA = true;\n-extern const std::string CLIENT_NAME;\n-\n static const unsigned int MAX_BLOCK_SIZE = 1000000;\n static const unsigned int MAX_BLOCK_SIZE_GEN = MAX_BLOCK_SIZE/2;\n static const int MAX_BLOCK_SIGOPS = MAX_BLOCK_SIZE/50;"
      },
      {
        "sha": "4922df599b1ce4efb6c0711fd8af993f902998c6",
        "filename": "src/makefile.linux-mingw",
        "status": "modified",
        "additions": 9,
        "deletions": 1,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/makefile.linux-mingw",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/makefile.linux-mingw",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.linux-mingw?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -43,6 +43,7 @@ LIBS += -l mingwthrd -l kernel32 -l user32 -l gdi32 -l comdlg32 -l winspool -l w\n HEADERS = $(wildcard *.h)\n \n OBJS= \\\n+    obj/version.o \\\n     obj/checkpoints.o \\\n     obj/netbase.o \\\n     obj/addrman.o \\\n@@ -64,10 +65,14 @@ OBJS= \\\n \n all: bitcoind.exe\n \n+build.h: FORCE\n+\t@../share/genbuild.sh build.h\n+DEFS += -DHAVE_BUILD_INFO\n+\n obj/%.o: %.cpp $(HEADERS)\n \ti586-mingw32msvc-g++ -c $(CFLAGS) -o $@ $<\n \n-bitcoind.exe: $(OBJS:obj/%=obj/%)\n+bitcoind.exe: build.h $(OBJS:obj/%=obj/%)\n \ti586-mingw32msvc-g++ $(CFLAGS) -o $@ $(LIBPATHS) $^ $(LIBS)\n \n \n@@ -85,3 +90,6 @@ clean:\n \t-rm -f headers.h.gch\n \t-rm -f bitcoind.exe\n \t-rm -f test_bitcoin.exe\n+\t-rm -f src/build.h\n+\n+FORCE:"
      },
      {
        "sha": "397fdf4f32f3006a6a9d170e690a7fd263411e4c",
        "filename": "src/makefile.mingw",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/makefile.mingw",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/makefile.mingw",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.mingw?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -41,6 +41,7 @@ LIBS += -l kernel32 -l user32 -l gdi32 -l comdlg32 -l winspool -l winmm -l shell\n HEADERS = $(wildcard *.h)\n \n OBJS= \\\n+    obj/version.o \\\n     obj/checkpoints.o \\\n     obj/netbase.o \\\n     obj/addrman.o \\\n@@ -82,3 +83,4 @@ clean:\n \t-del /Q obj\\test\\*\n \t-del /Q test\\*.o\n \t-del /Q headers.h.gch\n+\t-del /Q build.h"
      },
      {
        "sha": "439d8ef21b379d09dcc9c3e318db0ed72f90b8d7",
        "filename": "src/makefile.osx",
        "status": "modified",
        "additions": 9,
        "deletions": 1,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/makefile.osx",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/makefile.osx",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.osx?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -65,6 +65,7 @@ CFLAGS += -Wextra -Wno-sign-compare -Wno-char-subscripts -Wno-invalid-offsetof -\n     $(DEBUGFLAGS) $(DEFS) $(INCLUDEPATHS)\n \n OBJS= \\\n+    obj/version.o \\\n     obj/checkpoints.o \\\n     obj/netbase.o \\\n     obj/addrman.o \\\n@@ -99,14 +100,18 @@ all: bitcoind\n -include obj/*.P\n -include obj-test/*.P\n \n+build.h: FORCE\n+\t@../share/genbuild.sh build.h\n+DEFS += -DHAVE_BUILD_INFO\n+\n obj/%.o: %.cpp\n \t$(CXX) -c $(CFLAGS) -MMD -o $@ $<\n \t@cp $(@:%.o=%.d) $(@:%.o=%.P); \\\n \t  sed -e 's/#.*//' -e 's/^[^:]*: *//' -e 's/ *\\\\$$//' \\\n \t      -e '/^$$/ d' -e 's/$$/ :/' < $(@:%.o=%.d) >> $(@:%.o=%.P); \\\n \t  rm -f $(@:%.o=%.d)\n \n-bitcoind: $(OBJS:obj/%=obj/%)\n+bitcoind: build.h $(OBJS:obj/%=obj/%)\n \t$(CXX) $(CFLAGS) -o $@ $(LIBPATHS) $^ $(LIBS)\n \n TESTOBJS := $(patsubst test/%.cpp,obj-test/%.o,$(wildcard test/*.cpp))\n@@ -127,3 +132,6 @@ clean:\n \t-rm -f obj-test/*.o\n \t-rm -f obj/*.P\n \t-rm -f obj-test/*.P\n+\t-rm -f src/build.h\n+\n+FORCE:"
      },
      {
        "sha": "c3727361e5ce5fd0ad0a4afdf2a2b483e8f396f3",
        "filename": "src/makefile.unix",
        "status": "modified",
        "additions": 9,
        "deletions": 1,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/makefile.unix",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/makefile.unix",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.unix?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -85,6 +85,7 @@ xCXXFLAGS=-pthread -Wextra -Wno-sign-compare -Wno-char-subscripts -Wno-invalid-o\n     $(DEBUGFLAGS) $(DEFS) $(HARDENING) $(CXXFLAGS)\n \n OBJS= \\\n+    obj/version.o \\\n     obj/checkpoints.o \\\n     obj/netbase.o \\\n     obj/addrman.o \\\n@@ -111,14 +112,18 @@ all: bitcoind\n -include obj/*.P\n -include obj-test/*.P\n \n+build.h: FORCE\n+\t@../share/genbuild.sh build.h\n+DEFS += -DHAVE_BUILD_INFO\n+\n obj/%.o: %.cpp\n \t$(CXX) -c $(xCXXFLAGS) -MMD -o $@ $<\n \t@cp $(@:%.o=%.d) $(@:%.o=%.P); \\\n \t  sed -e 's/#.*//' -e 's/^[^:]*: *//' -e 's/ *\\\\$$//' \\\n \t      -e '/^$$/ d' -e 's/$$/ :/' < $(@:%.o=%.d) >> $(@:%.o=%.P); \\\n \t  rm -f $(@:%.o=%.d)\n \n-bitcoind: $(OBJS:obj/%=obj/%)\n+bitcoind: build.h $(OBJS:obj/%=obj/%)\n \t$(CXX) $(xCXXFLAGS) -o $@ $^ $(LDFLAGS) $(LIBS)\n \n TESTOBJS := $(patsubst test/%.cpp,obj-test/%.o,$(wildcard test/*.cpp))\n@@ -139,3 +144,6 @@ clean:\n \t-rm -f obj-test/*.o\n \t-rm -f obj/*.P\n \t-rm -f obj-test/*.P\n+\t-rm -f src/build.h\n+\n+FORCE:"
      },
      {
        "sha": "0b98befe8d779793668e48b38e66ddb59dd52959",
        "filename": "src/qt/aboutdialog.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/qt/aboutdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/qt/aboutdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/aboutdialog.cpp?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -2,6 +2,8 @@\n #include \"ui_aboutdialog.h\"\n #include \"clientmodel.h\"\n \n+#include \"version.h\"\n+\n AboutDialog::AboutDialog(QWidget *parent) :\n     QDialog(parent),\n     ui(new Ui::AboutDialog)"
      },
      {
        "sha": "284bee0e8e1a93e5472a99fd2eef90bf0bd904d9",
        "filename": "src/qt/clientmodel.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/qt/clientmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/qt/clientmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/clientmodel.cpp?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -88,3 +88,8 @@ QString ClientModel::formatFullVersion() const\n {\n     return QString::fromStdString(FormatFullVersion());\n }\n+\n+QString ClientModel::formatBuildDate() const\n+{\n+    return QString::fromStdString(CLIENT_DATE);\n+}"
      },
      {
        "sha": "8e7431a2f3dded8c2e70009bb8b6cadbf398b286",
        "filename": "src/qt/clientmodel.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/qt/clientmodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/qt/clientmodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/clientmodel.h?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -37,6 +37,7 @@ class ClientModel : public QObject\n     QString getStatusBarWarnings() const;\n \n     QString formatFullVersion() const;\n+    QString formatBuildDate() const;\n \n private:\n     OptionsModel *optionsModel;"
      },
      {
        "sha": "7354df6e734d6e668d0c1d3a9f6d0ed525c464d0",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 6,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -1061,12 +1061,7 @@ string FormatVersion(int nVersion)\n \n string FormatFullVersion()\n {\n-    string s = FormatVersion(CLIENT_VERSION);\n-    if (VERSION_IS_BETA) {\n-        s += \"-\";\n-        s += _(\"beta\");\n-    }\n-    return s;\n+    return CLIENT_BUILD;\n }\n \n // Format the subversion field according to BIP 14 spec (https://en.bitcoin.it/wiki/BIP_0014)"
      },
      {
        "sha": "e1be5f491bc442b375a6bb66d3af9243c5654a2a",
        "filename": "src/version.cpp",
        "status": "added",
        "additions": 77,
        "deletions": 0,
        "changes": 77,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/version.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/version.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/version.cpp?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -0,0 +1,77 @@\n+// Copyright (c) 2012 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file license.txt or http://www.opensource.org/licenses/mit-license.php.\n+#include <string>\n+\n+#include \"version.h\"\n+\n+// Name of client reported in the 'version' message. Report the same name\n+// for both bitcoind and bitcoin-qt, to make it harder for attackers to\n+// target servers or GUI users specifically.\n+const std::string CLIENT_NAME(\"Satoshi\");\n+\n+// Client version number\n+#define CLIENT_VERSION_MAJOR          0\n+#define CLIENT_VERSION_MINOR          6\n+#define CLIENT_VERSION_REVISION       0\n+#define CLIENT_VERSION_BUILD         99\n+#define CLIENT_VERSION_SUFFIX   \"-beta\"\n+\n+const int CLIENT_VERSION = 1000000 * CLIENT_VERSION_MAJOR\n+                         +   10000 * CLIENT_VERSION_MINOR \n+                         +     100 * CLIENT_VERSION_REVISION\n+                         +       1 * CLIENT_VERSION_BUILD;\n+\n+\n+\n+// The following part of the code determines the CLIENT_BUILD variable.\n+// Several mechanisms are used for this:\n+// * first, if HAVE_BUILD_INFO is defined, include build.h, a file that is\n+//   generated by the build environment, possibly containing the output\n+//   of git-describe in a macro called BUILD_DESC\n+// * secondly, if this is an exported version of the code, GIT_ARCHIVE will\n+//   be defined (automatically using the export-subst git attribute), and\n+//   GIT_COMMIT will contain the commit id.\n+// * then, three options exist for determining CLIENT_BUILD:\n+//   * if BUILD_DESC is defined, use that literally (output of git-describe)\n+//   * if not, but GIT_COMMIT is defined, use v[maj].[min].[rev].[build]-g[commit]\n+//   * otherwise, use v[maj].[min].[rev].[build]-unk\n+// finally CLIENT_VERSION_SUFFIX is added\n+\n+// First, include build.h if requested\n+#ifdef HAVE_BUILD_INFO\n+#    include \"build.h\"\n+#endif\n+\n+// git will put \"#define GIT_ARCHIVE 1\" on the next line inside archives. $Format:%n#define GIT_ARCHIVE 1$\n+#ifdef GIT_ARCHIVE\n+#    define GIT_COMMIT_ID \"$Format:%h$\"\n+#    define GIT_COMMIT_DATE \"$Format:%cD\"\n+#endif\n+\n+#define STRINGIFY(s) #s\n+\n+#define BUILD_DESC_FROM_COMMIT(maj,min,rev,build,commit) \\\n+    \"v\" STRINGIFY(maj) \".\" STRINGIFY(min) \".\" STRINGIFY(rev) \".\" STRINGIFY(build) \"-g\" commit\n+\n+#define BUILD_DESC_FROM_UNKNOWN(maj,min,rev,build) \\\n+    \"v\" STRINGIFY(maj) \".\" STRINGIFY(min) \".\" STRINGIFY(rev) \".\" STRINGIFY(build) \"-unk\"\n+\n+#ifndef BUILD_DESC\n+#    ifdef GIT_COMMIT_ID\n+#        define BUILD_DESC BUILD_DESC_FROM_COMMIT(CLIENT_VERSION_MAJOR, CLIENT_VERSION_MINOR, CLIENT_VERSION_REVISION, CLIENT_VERSION_BUILD, GIT_COMMIT_ID)\n+#    else\n+#        define BUILD_DESC BUILD_DESC_FROM_UNKNOWN(CLIENT_VERSION_MAJOR, CLIENT_VERSION_MINOR, CLIENT_VERSION_REVISION, CLIENT_VERSION_BUILD)\n+#    endif\n+#endif\n+\n+#ifndef BUILD_DATE\n+#    ifdef GIT_COMMIT_DATE\n+#        define BUILD_DATE GIT_COMMIT_DATE\n+#    else\n+#        define BUILD_DATE __DATE__ \", \" __TIME__\n+#    endif\n+#endif\n+\n+const std::string CLIENT_BUILD(BUILD_DESC CLIENT_VERSION_SUFFIX);\n+const std::string CLIENT_DATE(BUILD_DATE);"
      },
      {
        "sha": "c93b28fb7d4e5c1d53172674e8d4fb9cf8c7e32c",
        "filename": "src/version.h",
        "status": "added",
        "additions": 14,
        "deletions": 0,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/version.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a20c0d0f6792acf532309eee2e9f29120c801ee4/src/version.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/version.h?ref=a20c0d0f6792acf532309eee2e9f29120c801ee4",
        "patch": "@@ -0,0 +1,14 @@\n+// Copyright (c) 2012 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file license.txt or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_VERSION_H\n+#define BITCOIN_VERSION_H\n+\n+#include <string>\n+\n+extern const std::string CLIENT_NAME;\n+extern const std::string CLIENT_BUILD;\n+extern const std::string CLIENT_DATE;\n+extern const int         CLIENT_VERSION;\n+\n+#endif"
      }
    ]
  }
]