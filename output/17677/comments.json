[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562222909",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#issuecomment-562222909",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17677",
    "id": 562222909,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MjIyMjkwOQ==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-05T17:09:35Z",
    "updated_at": "2019-12-05T17:10:10Z",
    "author_association": "MEMBER",
    "body": "cc @achow101 @Sjors \r\n\r\nconversation ensued on IRC after reading https://github.com/bitcoin/bitcoin/pull/16373#discussion_r354411199 since this pattern should be followed in each place we use this behavior for LegacyScriptPubKeyMan",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562222909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562658287",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#issuecomment-562658287",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17677",
    "id": 562658287,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MjY1ODI4Nw==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-06T17:10:54Z",
    "updated_at": "2019-12-06T17:10:54Z",
    "author_association": "MEMBER",
    "body": "This isn't quite what I was thinking.\r\n\r\nThe thought was that you would do either checking for LegacyScrriptPubKeyMan or ISMINE_ALL, not both. Since ISMINE_WATCHONLY is not intended to be used outside of LegacyScriptPubKeyMan, you could just check for whether it's LegacySPKM and set ISMINE_WATCHONLY if it is. Otherwise you just use ISMINE_SPENDABLE.\r\n\r\nAlternatively, because ISMINE_ALL  is `ISMINE_WATCHONLY | ISMINE_SPENDABLE`, for all watch only wallets (disabled private keys), you can have the filter be ISMINE_ALL. That will be sufficient to cover LegacySPKM and future ScriptPubKeyMans which will exclusively use ISMINE SPENDABLE. Of course all of the watch only stuff will need to check for disabled private keys, but we already do that.\r\n\r\nI don't think doing both of those things are necessary.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562658287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562660059",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#issuecomment-562660059",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17677",
    "id": 562660059,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MjY2MDA1OQ==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-06T17:15:54Z",
    "updated_at": "2019-12-06T17:15:54Z",
    "author_association": "MEMBER",
    "body": "If I have to choose, I'll stick with the Legacy check + ISMINE_WATCH_ONLY since it's easier for me to understand the purpose/scope of the code. Updated.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562660059/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562686433",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#issuecomment-562686433",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17677",
    "id": 562686433,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MjY4NjQzMw==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-06T18:30:03Z",
    "updated_at": "2019-12-06T18:30:03Z",
    "author_association": "MEMBER",
    "body": "ACK 6beb900c0cdf86f40ca5e75f3c77b3d0461ea7a3",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562686433/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562808108",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#issuecomment-562808108",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17677",
    "id": 562808108,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MjgwODEwOA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-07T03:09:09Z",
    "updated_at": "2019-12-10T19:34:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562808108/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564058051",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#issuecomment-564058051",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17677",
    "id": 564058051,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDA1ODA1MQ==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-10T14:29:35Z",
    "updated_at": "2019-12-10T14:29:35Z",
    "author_association": "MEMBER",
    "body": "Reduced changes as per discussion to just affecting the ismine filter, rather than `fAllowWatchOnly`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564058051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564119322",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#issuecomment-564119322",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17677",
    "id": 564119322,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDExOTMyMg==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-10T16:37:14Z",
    "updated_at": "2019-12-10T16:37:14Z",
    "author_association": "MEMBER",
    "body": "ACK e1e1442f3eadc1d139380e71c1b60b86d8d6bdee",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564119322/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/566154878",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#issuecomment-566154878",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17677",
    "id": 566154878,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NjE1NDg3OA==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-16T17:14:23Z",
    "updated_at": "2019-12-16T17:14:23Z",
    "author_association": "MEMBER",
    "body": "This smaller diff in e1e1442f3eadc1d139380e71c1b60b86d8d6bdee seems good and the build/tests pass. Started looking at a test which, per @instagibbs suggestion, would define a new spk_man, add watchonly coins, then check they aren't returned by ListCoins.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/566154878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354785799",
    "pull_request_review_id": 328143617,
    "id": 354785799,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDc4NTc5OQ==",
    "diff_hunk": "@@ -2169,8 +2169,8 @@ std::map<CTxDestination, std::vector<COutput>> CWallet::ListCoins(interfaces::Ch\n     std::vector<COutPoint> lockedCoins;\n     ListLockedCoins(lockedCoins);\n     // Include watch-only for wallets without private keys\n-    const bool include_watch_only = IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n-    const isminetype is_mine_filter = include_watch_only ? ISMINE_WATCH_ONLY : ISMINE_SPENDABLE;\n+    const bool include_watch_only = GetLegacyScriptPubKeyMan() && IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+    const isminetype is_mine_filter = include_watch_only ? ISMINE_ALL : ISMINE_SPENDABLE;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "e1e1442f3eadc1d139380e71c1b60b86d8d6bdee",
    "original_commit_id": "7f8046ea85fddf865f68e6fb24d1aad1575e9b77",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Note to other reviewers: `ISMINE_ALL = ISMINE_WATCH_ONLY | ISMINE_SPENDABLE`. When `WALLET_FLAG_DISABLE_PRIVATE_KEYS` is set, no coins can be `ISMINE_SPENDABLE`. Therefore `ISMINE_ALL` leads to the same behavior as `ISMINE_WATCH_ONLY `",
    "created_at": "2019-12-06T11:21:15Z",
    "updated_at": "2019-12-10T14:28:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r354785799",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354785799"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r354785799"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354785799/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2173,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355206604",
    "pull_request_review_id": 328625479,
    "id": 355206604,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTIwNjYwNA==",
    "diff_hunk": "@@ -653,7 +653,7 @@ void SendCoinsDialog::useAvailableBalance(SendCoinsEntry* entry)\n     }\n \n     // Include watch-only for wallets without private key",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": null,
    "original_position": 3,
    "commit_id": "e1e1442f3eadc1d139380e71c1b60b86d8d6bdee",
    "original_commit_id": "6beb900c0cdf86f40ca5e75f3c77b3d0461ea7a3",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Suggestion:\r\n```diff\r\n-    // Include watch-only for wallets without private key\r\n+    // Include watch-only for LegacyScriptPubKeyMan wallets without private keys.\r\n```\r\n",
    "created_at": "2019-12-08T18:53:47Z",
    "updated_at": "2019-12-10T14:28:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r355206604",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355206604"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r355206604"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355206604/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 655,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355206747",
    "pull_request_review_id": 328625479,
    "id": 355206747,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTIwNjc0Nw==",
    "diff_hunk": "@@ -653,7 +653,7 @@ void SendCoinsDialog::useAvailableBalance(SendCoinsEntry* entry)\n     }\n \n     // Include watch-only for wallets without private key\n-    coin_control.fAllowWatchOnly = model->privateKeysDisabled();\n+    coin_control.fAllowWatchOnly = model->hasLegacyScriptPubKeyMan() && model->privateKeysDisabled();",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "e1e1442f3eadc1d139380e71c1b60b86d8d6bdee",
    "original_commit_id": "6beb900c0cdf86f40ca5e75f3c77b3d0461ea7a3",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In addition to here in `SendCoinsDialog::useAvailableBalance()`, should this be updated in `SendCoinsDialog::updateCoinControlState()` as well? https://github.com/bitcoin/bitcoin/blob/6beb900c0cdf86f40ca5e75f3c77b3d0461ea7a3/src/qt/sendcoinsdialog.cpp#L711",
    "created_at": "2019-12-08T18:55:55Z",
    "updated_at": "2019-12-10T14:28:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r355206747",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355206747"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r355206747"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355206747/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 656,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355206965",
    "pull_request_review_id": 328625479,
    "id": 355206965,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTIwNjk2NQ==",
    "diff_hunk": "@@ -2169,7 +2169,7 @@ std::map<CTxDestination, std::vector<COutput>> CWallet::ListCoins(interfaces::Ch\n     std::vector<COutPoint> lockedCoins;\n     ListLockedCoins(lockedCoins);\n     // Include watch-only for wallets without private keys",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 3,
    "commit_id": "e1e1442f3eadc1d139380e71c1b60b86d8d6bdee",
    "original_commit_id": "6beb900c0cdf86f40ca5e75f3c77b3d0461ea7a3",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Suggestion:\r\n```diff\r\n-    // Include watch-only for wallets without private keys\r\n+    // Include watch-only for LegacyScriptPubKeyMan wallets without private keys.\r\n```",
    "created_at": "2019-12-08T18:59:20Z",
    "updated_at": "2019-12-10T14:28:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r355206965",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355206965"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r355206965"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355206965/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2171,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355467843",
    "pull_request_review_id": 328942368,
    "id": 355467843,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQ2Nzg0Mw==",
    "diff_hunk": "@@ -653,7 +653,7 @@ void SendCoinsDialog::useAvailableBalance(SendCoinsEntry* entry)\n     }\n \n     // Include watch-only for wallets without private key\n-    coin_control.fAllowWatchOnly = model->privateKeysDisabled();\n+    coin_control.fAllowWatchOnly = model->hasLegacyScriptPubKeyMan() && model->privateKeysDisabled();",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "e1e1442f3eadc1d139380e71c1b60b86d8d6bdee",
    "original_commit_id": "6beb900c0cdf86f40ca5e75f3c77b3d0461ea7a3",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "oh, good catch. Will update.\r\n\r\nDo we want to also do similar gating in https://github.com/bitcoin/bitcoin/pull/16944/files#diff-76b18bd21ccf64e256f029a8198ecdd7R190 ?\r\n\r\ncc @achow101 ",
    "created_at": "2019-12-09T14:07:56Z",
    "updated_at": "2019-12-10T14:28:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r355467843",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355467843"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r355467843"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355467843/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 656,
    "side": "RIGHT",
    "in_reply_to_id": 355206747
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355603851",
    "pull_request_review_id": 329118659,
    "id": 355603851,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTYwMzg1MQ==",
    "diff_hunk": "@@ -653,7 +653,7 @@ void SendCoinsDialog::useAvailableBalance(SendCoinsEntry* entry)\n     }\n \n     // Include watch-only for wallets without private key\n-    coin_control.fAllowWatchOnly = model->privateKeysDisabled();\n+    coin_control.fAllowWatchOnly = model->hasLegacyScriptPubKeyMan() && model->privateKeysDisabled();",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "e1e1442f3eadc1d139380e71c1b60b86d8d6bdee",
    "original_commit_id": "6beb900c0cdf86f40ca5e75f3c77b3d0461ea7a3",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Gating should really only apply to anything that guards ismine filters. We want to have the watch only behavior apply to any watch only wallet. The gating is just to use the correct ismine filters.",
    "created_at": "2019-12-09T18:15:16Z",
    "updated_at": "2019-12-10T14:28:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r355603851",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355603851"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r355603851"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355603851/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 656,
    "side": "RIGHT",
    "in_reply_to_id": 355206747
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355608575",
    "pull_request_review_id": 329124614,
    "id": 355608575,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTYwODU3NQ==",
    "diff_hunk": "@@ -653,7 +653,7 @@ void SendCoinsDialog::useAvailableBalance(SendCoinsEntry* entry)\n     }\n \n     // Include watch-only for wallets without private key\n-    coin_control.fAllowWatchOnly = model->privateKeysDisabled();\n+    coin_control.fAllowWatchOnly = model->hasLegacyScriptPubKeyMan() && model->privateKeysDisabled();",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "e1e1442f3eadc1d139380e71c1b60b86d8d6bdee",
    "original_commit_id": "6beb900c0cdf86f40ca5e75f3c77b3d0461ea7a3",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "to be clear, you are saying we should *remove* the change above at line 656, rather than add another check at 711?",
    "created_at": "2019-12-09T18:25:08Z",
    "updated_at": "2019-12-10T14:28:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r355608575",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355608575"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r355608575"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355608575/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 656,
    "side": "RIGHT",
    "in_reply_to_id": 355206747
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355631829",
    "pull_request_review_id": 329153893,
    "id": 355631829,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTYzMTgyOQ==",
    "diff_hunk": "@@ -653,7 +653,7 @@ void SendCoinsDialog::useAvailableBalance(SendCoinsEntry* entry)\n     }\n \n     // Include watch-only for wallets without private key\n-    coin_control.fAllowWatchOnly = model->privateKeysDisabled();\n+    coin_control.fAllowWatchOnly = model->hasLegacyScriptPubKeyMan() && model->privateKeysDisabled();",
    "path": "src/qt/sendcoinsdialog.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "e1e1442f3eadc1d139380e71c1b60b86d8d6bdee",
    "original_commit_id": "6beb900c0cdf86f40ca5e75f3c77b3d0461ea7a3",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "After looking at everywhere that `fAllowWatchOnly` is being used, yes, I think we should remove this change. Instead we need to check everywhere that we conditionally set a filter for `ISMINE_WATCHONLY` and add a check for LegacySPKM at each place.",
    "created_at": "2019-12-09T19:12:55Z",
    "updated_at": "2019-12-10T14:28:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r355631829",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355631829"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17677#discussion_r355631829"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17677"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355631829/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 656,
    "side": "RIGHT",
    "in_reply_to_id": 355206747
  }
]