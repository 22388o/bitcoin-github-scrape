prayank23,2021-11-18 10:31:24,Concept ACK,https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-972737837,972737837,
0xB10C,2021-11-18 10:57:12,Concept ACK,https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-972756964,972756964,
vasild,2021-11-18 11:01:33,"`38a7cf975c...a47716aa5a`: warn if configured to listen on a ""bad"" port.",https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-972760140,972760140,
theStack,2021-11-18 11:53:03,Concept ACK,https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-972796058,972796058,
naumenkogs,2021-11-18 12:00:19,Concept ACK,https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-972800830,972800830,
vasild,2021-11-19 10:28:33,"`a47716aa5a...cb3887ee36`: avoid connections to bad ports only over clearnet (https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752635951), minor other changes.",https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-973946417,973946417,
vasild,2021-11-19 10:44:53,`cb3887ee36...634f2838ee`: fix arguments to `AddArg()`,https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-973964001,973964001,
rebroad,2021-11-21 18:20:28,tACK,https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-974867964,974867964,
vasild,2021-11-29 11:13:01,`634f2838ee..0671bc5313`: include the port when deciding a relay destination (append 3 commits),https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-981535572,981535572,
DrahtBot,2021-11-29 19:26:44,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#18642](https://github.com/bitcoin/bitcoin/pull/18642) (Use std::chrono for the time to rotate destination of addr messag",https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-981945234,981945234,
kristapsk,2021-11-29 19:48:36,Concept ACK,https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-981960896,981960896,
prayank23,2021-11-18 10:45:06,Not sure about this list of bad ports because more ports can be added to this list if we need it in Bitcoin Core. I had followed the comments in other PR: https://github.com/bitcoin/bitcoin/pull/23306#issuecomment-947516736,https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752117889,752117889,src/netbase.cpp
benthecarman,2021-11-18 16:35:42,any reason these 2 shouldn't be bad ports?,https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752422141,752422141,src/test/netbase_tests.cpp
vasild,2021-11-18 16:52:30,"I guess, on one side a lot of connections and connection attempts are to be expected by operators of web servers which are often open to the public and everybody is expected to be able to connect to them, so it is not likely that a web server operator complains like ""why are you trying to connect to my web server?"".\n\nOn the other side, there are lots of restrictive firewalls that only allow ou",https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752438216,752438216,src/test/netbase_tests.cpp
michaelfolkson,2021-11-18 19:40:12,@prayank23: You just mean additional ports can always be added at a later date? I agree the comment seems reasonable,https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752569187,752569187,src/netbase.cpp
jb55,2021-11-18 19:41:57,"I'm a bit confused as to why bitcoin cares about what a brower's fetch api considers a ""bad port"", it's not clear what this even means? Maybe I'm missing something.",https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752571046,752571046,src/init.cpp
jb55,2021-11-18 19:46:45,looks like I was missing this context: https://github.com/bitcoin/bitcoin/pull/23306#issuecomment-947516736,https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752574310,752574310,src/init.cpp
michaelfolkson,2021-11-18 19:47:23,Just to get a starting list of bad ports I think. Can adjust from there if certain ports should be added or removed from that.,https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752574723,752574723,src/init.cpp
sipa,2021-11-18 19:49:49,"Adding entries to the list may be undesirable, as it may mean that someone running a node on such a port silently stops getting connections.\n\nNot a very serious concern, as this would happen spread over some amount of time anyway, but still a reason I think to err on the side of caution and start with a possibly overly expansive list here ",https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752576326,752576326,src/init.cpp
mzumsande,2021-11-18 19:58:34,nit: hostname (looks like a OCR fail that made it to the browsers' lists),https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752582198,752582198,src/netbase.cpp
jb55,2021-11-18 20:08:03,"I'll still point out that the link provided doesn't explain why a particular port is ""bad"". Following the link to get an explaination leads to: ""A port is a bad port if it is listed in the first column of the following table"". ok...??? ðŸ˜• I found this pretty confusing from a user perspective trying to understand this warning.",https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752588232,752588232,src/init.cpp
mzumsande,2021-11-18 20:24:39,"I was wondering which of the 3 sources the used list is based on, but they seem to be identical with the exception of port 0, which is considered bad by [Mozilla](https://hg.mozilla.org/mozilla-central/file/tip/netwerk/base/nsIOService.cpp#l1389). Should we add port 0 too?",https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752599118,752599118,src/netbase.h
prayank23,2021-11-18 20:39:19,If there is a clear definition of what Bitcoin Core is considering a bad port maybe they can be added right now,https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752608314,752608314,src/netbase.cpp
benthecarman,2021-11-18 21:22:58,"I think i2p uses port 0, so we'd need to make an exception for that",https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752635122,752635122,src/netbase.h
sipa,2021-11-18 21:24:17,"TCP port 0 does not exist. It also doesn't appear in the Mozilla list; it's just a terminator to indicate ""end of list"" there.\n\n@benthecarman Right; this list should only apply to IPv4/IPv6.",https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752635951,752635951,src/netbase.h
vasild,2021-11-19 09:36:49,"For me, the following comment answers the question:\n\n> ""why am I seeing a failed SSH-login to my server on port 22 from your IP-address w.x.y.z?""\n\n(from https://github.com/bitcoin/bitcoin/pull/23306#issuecomment-947516736)\n\nThere is some similarity between browser logic and Bitcoin node logic in this aspect where a malicious actor may trick a honest node to try to open a connection to ",https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753020571,753020571,src/init.cpp
vasild,2021-11-19 10:29:46,Good catch! Fixed.,https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753073377,753073377,src/netbase.cpp
vasild,2021-11-19 10:34:56,"All 3 sources agree on which ports are bad (which is good, pun intended). Can ignore port 0, that is something like opening connection to port 70000 or to IP address `1.2.3.500`.\n\nChanged the logic to apply only to clearnet (IPv4 and IPv6).",https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753077440,753077440,src/netbase.h
vasild,2021-11-19 10:47:08,"There is/was not a definition before, but I guess that will be settled up with this PR.",https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753085741,753085741,src/netbase.cpp
jb55,2021-11-19 16:51:25,"I understand that from reading the comment on github, but I was just pointing out from a user perspective there is no insight from the link in the warning in this commit. Perhaps it could be reworded: ""See https://fetch.spec.whatwg.org/#port-blocking for a list of bad ports"". Or perhaps (eventually? :sweat_smile: ) a link to docs within bitcoin itself that lists our bad ports with an explanation o",https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753362442,753362442,src/init.cpp
