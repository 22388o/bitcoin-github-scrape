[
  {
    "sha": "2874709a9f23d16eacfee1e53fadaff8081f16e6",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyODc0NzA5YTlmMjNkMTZlYWNmZWUxZTUzZmFkYWZmODA4MWYxNmU2",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2018-03-26T15:20:56Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2018-04-13T19:18:26Z"
      },
      "message": "Expose a transaction's weight via RPC",
      "tree": {
        "sha": "31a26ab89bec62e7d13aea8d1888ab883e4bec38",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/31a26ab89bec62e7d13aea8d1888ab883e4bec38"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2874709a9f23d16eacfee1e53fadaff8081f16e6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2874709a9f23d16eacfee1e53fadaff8081f16e6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2874709a9f23d16eacfee1e53fadaff8081f16e6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2874709a9f23d16eacfee1e53fadaff8081f16e6/comments",
    "author": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5f2a39946fd42535038e0143cbd289d3070b9f07",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5f2a39946fd42535038e0143cbd289d3070b9f07",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5f2a39946fd42535038e0143cbd289d3070b9f07"
      }
    ],
    "stats": {
      "total": 27,
      "additions": 27,
      "deletions": 0
    },
    "files": [
      {
        "sha": "929498ff28ce22b9d08917d0aaa001ffce1b849f",
        "filename": "src/core_write.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/src/core_write.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/src/core_write.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/core_write.cpp?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -161,6 +161,7 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n     entry.pushKV(\"version\", tx.nVersion);\n     entry.pushKV(\"size\", (int)::GetSerializeSize(tx, SER_NETWORK, PROTOCOL_VERSION));\n     entry.pushKV(\"vsize\", (GetTransactionWeight(tx) + WITNESS_SCALE_FACTOR - 1) / WITNESS_SCALE_FACTOR);\n+    entry.pushKV(\"weight\", GetTransactionWeight(tx));\n     entry.pushKV(\"locktime\", (int64_t)tx.nLockTime);\n \n     UniValue vin(UniValue::VARR);"
      },
      {
        "sha": "7bdf09812b03408aead6382fa822401ac4094782",
        "filename": "src/rpc/rawtransaction.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/src/rpc/rawtransaction.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/src/rpc/rawtransaction.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/rawtransaction.cpp?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -94,6 +94,7 @@ UniValue getrawtransaction(const JSONRPCRequest& request)\n             \"  \\\"hash\\\" : \\\"id\\\",        (string) The transaction hash (differs from txid for witness transactions)\\n\"\n             \"  \\\"size\\\" : n,             (numeric) The serialized transaction size\\n\"\n             \"  \\\"vsize\\\" : n,            (numeric) The virtual transaction size (differs from size for witness transactions)\\n\"\n+            \"  \\\"weight\\\" : n,           (numeric) The transaction's weight (between vsize*4-3 and vsize*4)\\n\"\n             \"  \\\"version\\\" : n,          (numeric) The version\\n\"\n             \"  \\\"locktime\\\" : ttt,       (numeric) The lock time\\n\"\n             \"  \\\"vin\\\" : [               (array of json objects)\\n\"\n@@ -494,6 +495,7 @@ UniValue decoderawtransaction(const JSONRPCRequest& request)\n             \"  \\\"hash\\\" : \\\"id\\\",        (string) The transaction hash (differs from txid for witness transactions)\\n\"\n             \"  \\\"size\\\" : n,             (numeric) The transaction size\\n\"\n             \"  \\\"vsize\\\" : n,            (numeric) The virtual transaction size (differs from size for witness transactions)\\n\"\n+            \"  \\\"weight\\\" : n,           (numeric) The transaction's weight (between vsize*4 - 3 and vsize*4)\\n\"\n             \"  \\\"version\\\" : n,          (numeric) The version\\n\"\n             \"  \\\"locktime\\\" : ttt,       (numeric) The lock time\\n\"\n             \"  \\\"vin\\\" : [               (array of json objects)\\n\""
      },
      {
        "sha": "3d5a1cccae3d9bb8d03c2ba4494f3ca264fb5e52",
        "filename": "test/util/data/blanktxv1.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/blanktxv1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/blanktxv1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/blanktxv1.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 10,\n     \"vsize\": 10,\n+    \"weight\": 40,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "8374a34adcf4f73738f216901aae21e2294d3136",
        "filename": "test/util/data/blanktxv2.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/blanktxv2.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/blanktxv2.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/blanktxv2.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 2,\n     \"size\": 10,\n     \"vsize\": 10,\n+    \"weight\": 40,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "9fc2ddc376e8d0c3b7c4f1b7364c38eafd7156bf",
        "filename": "test/util/data/tt-delin1-out.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/tt-delin1-out.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/tt-delin1-out.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/tt-delin1-out.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 3040,\n     \"vsize\": 3040,\n+    \"weight\": 12160,\n     \"locktime\": 0,\n     \"vin\": [\n         {"
      },
      {
        "sha": "922d04890090d02f9d3989986b73ea4048ca48c3",
        "filename": "test/util/data/tt-delout1-out.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/tt-delout1-out.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/tt-delout1-out.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/tt-delout1-out.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 3155,\n     \"vsize\": 3155,\n+    \"weight\": 12620,\n     \"locktime\": 0,\n     \"vin\": [\n         {"
      },
      {
        "sha": "c97206f1eada396b27bb7cf6039629686f74f1d7",
        "filename": "test/util/data/tt-locktime317000-out.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/tt-locktime317000-out.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/tt-locktime317000-out.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/tt-locktime317000-out.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 3189,\n     \"vsize\": 3189,\n+    \"weight\": 12756,\n     \"locktime\": 317000,\n     \"vin\": [\n         {"
      },
      {
        "sha": "ca9eacd5469235a7e260cee5e31ddfc1c1821da9",
        "filename": "test/util/data/txcreate1.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreate1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreate1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreate1.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 2,\n     \"size\": 201,\n     \"vsize\": 201,\n+    \"weight\": 804,\n     \"locktime\": 0,\n     \"vin\": [\n         {"
      },
      {
        "sha": "ee9b9c3c17084dba8ce2a1f68867ff0e50472d05",
        "filename": "test/util/data/txcreate2.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreate2.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreate2.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreate2.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 2,\n     \"size\": 19,\n     \"vsize\": 19,\n+    \"weight\": 76,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "39909c2e3fbe4ec70abcf8b1827ec9d0c0ee5449",
        "filename": "test/util/data/txcreatedata1.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatedata1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatedata1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatedata1.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 176,\n     \"vsize\": 176,\n+    \"weight\": 704,\n     \"locktime\": 0,\n     \"vin\": [\n         {"
      },
      {
        "sha": "2958006e58877f75d608f9f4d79298114abec86e",
        "filename": "test/util/data/txcreatedata2.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatedata2.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatedata2.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatedata2.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 2,\n     \"size\": 176,\n     \"vsize\": 176,\n+    \"weight\": 704,\n     \"locktime\": 0,\n     \"vin\": [\n         {"
      },
      {
        "sha": "a6656b5ad5121f8137ddff01b74450c4f03d1176",
        "filename": "test/util/data/txcreatedata_seq0.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatedata_seq0.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatedata_seq0.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatedata_seq0.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 2,\n     \"size\": 85,\n     \"vsize\": 85,\n+    \"weight\": 340,\n     \"locktime\": 0,\n     \"vin\": [\n         {"
      },
      {
        "sha": "e5980427b19dc49763cf77508996b80bbb57ad86",
        "filename": "test/util/data/txcreatedata_seq1.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatedata_seq1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatedata_seq1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatedata_seq1.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 126,\n     \"vsize\": 126,\n+    \"weight\": 504,\n     \"locktime\": 0,\n     \"vin\": [\n         {"
      },
      {
        "sha": "c32e755db1c5a9186b10fa04eb0e2387736433b7",
        "filename": "test/util/data/txcreatemultisig1.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatemultisig1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatemultisig1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatemultisig1.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 124,\n     \"vsize\": 124,\n+    \"weight\": 496,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "f97d265894e8bf5fc4f20dd2ccdec2d34f990c9c",
        "filename": "test/util/data/txcreatemultisig2.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatemultisig2.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatemultisig2.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatemultisig2.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 42,\n     \"vsize\": 42,\n+    \"weight\": 168,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "b355d7b19126a8a97247baf45e0a84cb95bdce55",
        "filename": "test/util/data/txcreatemultisig3.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatemultisig3.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatemultisig3.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatemultisig3.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 53,\n     \"vsize\": 53,\n+    \"weight\": 212,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "a00dbe3f5d09079b0a95eec16e9cd923084225f3",
        "filename": "test/util/data/txcreatemultisig4.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatemultisig4.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatemultisig4.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatemultisig4.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 42,\n     \"vsize\": 42,\n+    \"weight\": 168,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "ea07822ddda1ab804f5edda61ee65c41b892ea11",
        "filename": "test/util/data/txcreatemultisig5.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatemultisig5.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatemultisig5.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatemultisig5.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 2,\n     \"size\": 42,\n     \"vsize\": 42,\n+    \"weight\": 168,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "32097b3ebe22b680811d423ffe9be2e112ea6610",
        "filename": "test/util/data/txcreateoutpubkey1.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreateoutpubkey1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreateoutpubkey1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreateoutpubkey1.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 54,\n     \"vsize\": 54,\n+    \"weight\": 216,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "c0ee181edebe61abf65d92fe0a831a021742ab6a",
        "filename": "test/util/data/txcreateoutpubkey2.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreateoutpubkey2.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreateoutpubkey2.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreateoutpubkey2.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 41,\n     \"vsize\": 41,\n+    \"weight\": 164,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "4d904df3c8a6af1548af4cc6643bd0b6ffb7e116",
        "filename": "test/util/data/txcreateoutpubkey3.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreateoutpubkey3.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreateoutpubkey3.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreateoutpubkey3.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 42,\n     \"vsize\": 42,\n+    \"weight\": 168,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "af1c4c35e283b2e880f069948e9cb438e047d750",
        "filename": "test/util/data/txcreatescript1.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatescript1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatescript1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatescript1.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 20,\n     \"vsize\": 20,\n+    \"weight\": 80,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "32dd644579afd6fa20c7d73ca2aa8630b7e7249f",
        "filename": "test/util/data/txcreatescript2.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatescript2.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatescript2.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatescript2.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 42,\n     \"vsize\": 42,\n+    \"weight\": 168,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "b9192d9a82bd70406e52aa538de99da91b9fa35a",
        "filename": "test/util/data/txcreatescript3.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatescript3.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatescript3.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatescript3.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 53,\n     \"vsize\": 53,\n+    \"weight\": 212,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "2271ecfa0ace203d364cfbd5ca4b4f510dbad1b4",
        "filename": "test/util/data/txcreatescript4.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatescript4.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatescript4.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatescript4.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 42,\n     \"vsize\": 42,\n+    \"weight\": 168,\n     \"locktime\": 0,\n     \"vin\": [\n     ],"
      },
      {
        "sha": "64e5137f4b53f0d93fb23dec2e8a1b5b06da5e7f",
        "filename": "test/util/data/txcreatesignv1.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatesignv1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2874709a9f23d16eacfee1e53fadaff8081f16e6/test/util/data/txcreatesignv1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatesignv1.json?ref=2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "patch": "@@ -4,6 +4,7 @@\n     \"version\": 1,\n     \"size\": 224,\n     \"vsize\": 224,\n+    \"weight\": 896,\n     \"locktime\": 0,\n     \"vin\": [\n         {"
      }
    ]
  },
  {
    "sha": "d0d9112b79f8c08971dd140143306ca497c47de7",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkMGQ5MTEyYjc5ZjhjMDg5NzFkZDE0MDE0MzMwNmNhNDk3YzQ3ZGU3",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2018-03-27T21:21:17Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2018-04-13T19:18:26Z"
      },
      "message": "Test new weight field in p2p_segwit",
      "tree": {
        "sha": "a33656d4a61e7e910d3b81dc6b1354c12f2d887c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a33656d4a61e7e910d3b81dc6b1354c12f2d887c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d0d9112b79f8c08971dd140143306ca497c47de7",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d0d9112b79f8c08971dd140143306ca497c47de7",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d0d9112b79f8c08971dd140143306ca497c47de7",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d0d9112b79f8c08971dd140143306ca497c47de7/comments",
    "author": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2874709a9f23d16eacfee1e53fadaff8081f16e6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2874709a9f23d16eacfee1e53fadaff8081f16e6"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 4,
      "deletions": 1
    },
    "files": [
      {
        "sha": "856e4d5cfe596a560f3beb54bfc6a8e75cdd38b8",
        "filename": "test/functional/p2p_segwit.py",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d0d9112b79f8c08971dd140143306ca497c47de7/test/functional/p2p_segwit.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d0d9112b79f8c08971dd140143306ca497c47de7/test/functional/p2p_segwit.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/p2p_segwit.py?ref=d0d9112b79f8c08971dd140143306ca497c47de7",
        "patch": "@@ -10,6 +10,7 @@\n from test_framework.script import *\n from test_framework.blocktools import create_block, create_coinbase, add_witness_commitment, get_witness_script, WITNESS_COMMITMENT_HEADER\n from test_framework.key import CECKey, CPubKey\n+import math\n import time\n import random\n from binascii import hexlify\n@@ -930,8 +931,10 @@ def test_tx_relay_after_segwit_activation(self):\n         raw_tx = self.nodes[0].getrawtransaction(tx3.hash, 1)\n         assert_equal(int(raw_tx[\"hash\"], 16), tx3.calc_sha256(True))\n         assert_equal(raw_tx[\"size\"], len(tx3.serialize_with_witness()))\n-        vsize = (len(tx3.serialize_with_witness()) + 3*len(tx3.serialize_without_witness()) + 3) / 4\n+        weight = len(tx3.serialize_with_witness()) + 3*len(tx3.serialize_without_witness())\n+        vsize = math.ceil(weight / 4)\n         assert_equal(raw_tx[\"vsize\"], vsize)\n+        assert_equal(raw_tx[\"weight\"], weight)\n         assert_equal(len(raw_tx[\"vin\"][0][\"txinwitness\"]), 1)\n         assert_equal(raw_tx[\"vin\"][0][\"txinwitness\"][0], hexlify(witness_program).decode('ascii'))\n         assert(vsize != raw_tx[\"size\"])"
      }
    ]
  },
  {
    "sha": "9e50c337c7126e05dad2f2f5a53ef882ab0b0330",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5ZTUwYzMzN2M3MTI2ZTA1ZGFkMmYyZjVhNTNlZjg4MmFiMGIwMzMw",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2018-03-27T21:23:54Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2018-04-13T19:18:26Z"
      },
      "message": "Note new weight field in release-notes.",
      "tree": {
        "sha": "87b6ec2f4b6c58ebf0a576a11943adb3339107da",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/87b6ec2f4b6c58ebf0a576a11943adb3339107da"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9e50c337c7126e05dad2f2f5a53ef882ab0b0330",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9e50c337c7126e05dad2f2f5a53ef882ab0b0330",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/9e50c337c7126e05dad2f2f5a53ef882ab0b0330",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9e50c337c7126e05dad2f2f5a53ef882ab0b0330/comments",
    "author": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d0d9112b79f8c08971dd140143306ca497c47de7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d0d9112b79f8c08971dd140143306ca497c47de7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d0d9112b79f8c08971dd140143306ca497c47de7"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 5,
      "deletions": 0
    },
    "files": [
      {
        "sha": "d4c5b034496e66419137d70b026d01386b71975f",
        "filename": "doc/release-notes.md",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9e50c337c7126e05dad2f2f5a53ef882ab0b0330/doc/release-notes.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9e50c337c7126e05dad2f2f5a53ef882ab0b0330/doc/release-notes.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-notes.md?ref=9e50c337c7126e05dad2f2f5a53ef882ab0b0330",
        "patch": "@@ -65,6 +65,11 @@ RPC changes\n - The `fundrawtransaction` RPC will reject the previously deprecated `reserveChangeKey` option.\n - `sendmany` now shuffles outputs to improve privacy, so any previously expected behavior with regards to output ordering can no longer be relied upon.\n - The new RPC `testmempoolaccept` can be used to test acceptance of a transaction to the mempool without adding it.\n+- JSON transaction decomposition now includes a `weight` field which provides\n+  the transaction's exact weight. This is included in REST /rest/tx/ and\n+  /rest/block/ endpoints when in json mode. This is also included in `getblock`\n+  (with verbosity=2), `listsinceblock`, `listtransactions`, and\n+  `getrawtransaction` RPC commands.\n \n External wallet files\n ---------------------"
      }
    ]
  }
]