hebasto,2020-05-03 02:22:17,"Concept ACK.\n\nMind adding a link: https://doc.qt.io/qt-5/qcoreapplication.html#locale-settings or https://doc.qt.io/qt-5/qcoreapplication.html ?\n\nI'm confused a bit with wording ""surprisingly"" as such behavior is mentioned in Qt docs :)\n\nUPDATE: https://stackoverflow.com/questions/34877942/is-qt-forcing-the-system-locale could be relevant.\nRelated to #18147.",https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-623043705,623043705,
practicalswift,2020-05-03 05:59:53,@hebasto Thanks a lot for reviewing! Good points: I've adjusted accordingly. Please re-review :),https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-623059578,623059578,
hebasto,2020-05-04 00:07:12,"@practicalswift Why do you think that the `BitcoinApplication` constructor is a proper place to document locale issues? Did you consider other options, e.g., `doc/` directory?",https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-623206661,623206661,
practicalswift,2020-05-04 13:57:03,"@hebasto I put the comment in the `ctor` where the `QApplication` call is made and thus where the implicit `setlocale` invocation is made, but I don't have any strong opinion about where to put it. You suggestion is putting it in the developer notes instead? I can do that :)\n\nI'm fine as long as we have it documented _somewhere_ so that future generations of Bitcoin Core developers don't have ",https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-623479855,623479855,
hebasto,2020-05-04 13:59:57,"> @hebasto I put the comment in the `ctor` where the `QApplication` call is made and thus where the implicit `setlocale` invocation is made, but I don't have any strong opinion about where to put it. You suggestion is putting it in the developer notes instead? I can do that :)\n\nIt seems better to get a broader consensus :)",https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-623481519,623481519,
DrahtBot,2020-05-29 19:17:18,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-636142297,636142297,
practicalswift,2020-07-03 12:10:46,"@jonatack Thanks for excellent and detailed copy review! ❤️  Updated accordingly.\n\n@jonatack @hebasto I've now added a small note in the developer notes that refers to the more detailed description in the code comment. Looks good? :)",https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-653518158,653518158,
practicalswift,2020-07-09 21:20:15,The CI failure is most likely unrelated. Can someone restart the Cirrus CI job? :),https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-656357051,656357051,
fjahr,2020-07-15 20:35:49,"Concept ACK\n\nFWIW, I agree with @hebasto and would only put a much shorter version of the comment in the code. My perspective is that a lot of people look at `src/qt/bitcoin.cpp` but only very few of them care about localization. While it may be the best place to put it technically, it feels oddly specific there. A short hint and the link to the docs would be enough to let people know what is ",https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-658995617,658995617,
practicalswift,2020-07-29 17:19:53,@hebasto @jonatack @fjahr Thanks a lot for reviewing. Feedback addressed: the documentation has now been moved to a more appropriate home (`test/lint/lint-locale-dependence.sh`). Should be ready for final review :),https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-665793756,665793756,
fjahr,2020-07-30 13:25:06,"ACK 26fa24996e18b9ecaa1b21fcfd049af6c468d59d\n\nRestarted failing CI job.",https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-666362688,666362688,
practicalswift,2020-08-03 16:21:52,I think this one should be ready for merge now :),https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-668114067,668114067,
practicalswift,2020-08-14 05:58:06,"@fanquake I think two ACK:s ([hebasto](https://github.com/bitcoin/bitcoin/pull/18817#pullrequestreview-458382176), [fjahr](https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-666362688)) and one Concept ACK ([jonatack](https://github.com/bitcoin/bitcoin/pull/18817#pullrequestreview-442332855)) should make this totally uncontroversial documentation only change ready for merge. What do you th",https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-673901291,673901291,
practicalswift,2020-08-26 19:35:51,Ready for merge? :),https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-681082221,681082221,
MarcoFalke,2020-08-27 14:59:08,"> Since this seems to be the root cause to the locale dependency issues we've seen over the years I thought it was worth documenting :)\n\nDo you have one example handy where the different handling was the root cause for an issue?\n\n\nAlso I am wondering what the motivation here is. While this difference in handling may be theoretically correct, we should never obverse it in practice. If we ",https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-682003785,682003785,
practicalswift,2020-08-27 19:25:11,"@MarcoFalke \n\n> Do you have one example handy where the different handling was the root cause for an issue?\n\nThere are plenty but look at https://github.com/bitcoin/bitcoin/issues/6443: bug in Bitcoin Qt due to Qt's highly surprising ""unsolicited"" `setlocale` call on initialization. Not a bug in `bitcoind` due to the discussed difference.\n\nThe thing is that literally _all_ locale bugs ",https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-682145308,682145308,
MarcoFalke,2020-08-28 14:05:05,"Ok, sounds reasonable. About the dev notes: I see them mostly as instructions on how we write code. ""Avoid using locale dependent functions if possible"" is already mentioned and the qt documentation seems a bit misplaced. \n\nConcept ACK ",https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-682594183,682594183,
practicalswift,2020-08-29 01:57:07,@MarcoFalke Thanks for reviewing! No longer touching the developer notes. Should hopefully be ready for merge :),https://github.com/bitcoin/bitcoin/pull/18817#issuecomment-683218390,683218390,
jonatack,2020-07-03 10:57:14,"Can remove ""Note that"" and begin with ""Qt runs"".",https://github.com/bitcoin/bitcoin/pull/18817#discussion_r449522069,449522069,src/qt/bitcoin.cpp
jonatack,2020-07-03 10:57:44,s/locale dependent/locale-dependent/,https://github.com/bitcoin/bitcoin/pull/18817#discussion_r449522268,449522268,src/qt/bitcoin.cpp
jonatack,2020-07-03 10:58:14,"s/In contrast/In contrast,/\n\ns/opt-in/opt in/ (with the hyphen it is an adjectif; here you are using it as a verb)",https://github.com/bitcoin/bitcoin/pull/18817#discussion_r449522469,449522469,src/qt/bitcoin.cpp
jonatack,2020-07-03 11:00:10,s/situation/situations/,https://github.com/bitcoin/bitcoin/pull/18817#discussion_r449523323,449523323,src/qt/bitcoin.cpp
