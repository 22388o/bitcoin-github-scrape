[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/799574802",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21086#issuecomment-799574802",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21086",
    "id": 799574802,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5OTU3NDgwMg==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-15T16:50:16Z",
    "updated_at": "2021-03-15T16:50:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--4a62be1de6b64f3ed646cdc7932c8cf5-->\n\ud83d\udd75\ufe0f @sipa has been requested to review this pull request as specified in the REVIEWERS file.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/799574802/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/799647063",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21086#issuecomment-799647063",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21086",
    "id": 799647063,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5OTY0NzA2Mw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-15T18:24:54Z",
    "updated_at": "2021-03-15T18:24:54Z",
    "author_association": "MEMBER",
    "body": "I haven't looked at the diff, but it would be nice to have a test that fails before the changes and passes after.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/799647063/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571417751",
    "pull_request_review_id": 584868480,
    "id": 571417751,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTQxNzc1MQ==",
    "diff_hunk": "@@ -3093,16 +3093,26 @@ void CChainState::ResetBlockFailureFlags(CBlockIndex *pindex) {\n         }\n         it++;\n     }\n+\t\n+\tCBlockIndex *pindexFirstInvalid = nullptr;\n \n     // Remove the invalidity flag from all ancestors too.\n     while (pindex != nullptr) {\n         if (pindex->nStatus & BLOCK_FAILED_MASK) {\n+\t\t\tif (pindex->nStatus & BLOCK_FAILED_VALID) {\n+\t\t\t\tpindexFirstInvalid = pindex;\n+\t\t\t}\n             pindex->nStatus &= ~BLOCK_FAILED_MASK;\n             setDirtyBlockIndex.insert(pindex);\n             m_blockman.m_failed_blocks.erase(pindex);\n         }\n         pindex = pindex->pprev;\n     }\n+\t\n+\t//Remove the invalidity flag from all descendants of the first invalid ancestor block",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 20,
    "commit_id": "6821683a86165fd6fe6697a297abec0ec769ae7a",
    "original_commit_id": "fe55621f49b15347aa6d7c9295eed7240ae16a3a",
    "user": {
      "login": "steevo87",
      "id": 948099,
      "node_id": "MDQ6VXNlcjk0ODA5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/948099?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steevo87",
      "html_url": "https://github.com/steevo87",
      "followers_url": "https://api.github.com/users/steevo87/followers",
      "following_url": "https://api.github.com/users/steevo87/following{/other_user}",
      "gists_url": "https://api.github.com/users/steevo87/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steevo87/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steevo87/subscriptions",
      "organizations_url": "https://api.github.com/users/steevo87/orgs",
      "repos_url": "https://api.github.com/users/steevo87/repos",
      "events_url": "https://api.github.com/users/steevo87/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steevo87/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Changing tab to spaces:\r\n\r\n```suggestion\r\n   //Remove the invalidity flag from all descendants of the first invalid ancestor block\r\n```",
    "created_at": "2021-02-06T11:31:57Z",
    "updated_at": "2021-02-06T13:06:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21086#discussion_r571417751",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21086",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571417751"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21086#discussion_r571417751"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21086"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571417751/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3112,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571417807",
    "pull_request_review_id": 584868511,
    "id": 571417807,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTQxNzgwNw==",
    "diff_hunk": "@@ -3093,16 +3093,26 @@ void CChainState::ResetBlockFailureFlags(CBlockIndex *pindex) {\n         }\n         it++;\n     }\n+\t\n+\tCBlockIndex *pindexFirstInvalid = nullptr;",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "6821683a86165fd6fe6697a297abec0ec769ae7a",
    "original_commit_id": "fe55621f49b15347aa6d7c9295eed7240ae16a3a",
    "user": {
      "login": "steevo87",
      "id": 948099,
      "node_id": "MDQ6VXNlcjk0ODA5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/948099?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steevo87",
      "html_url": "https://github.com/steevo87",
      "followers_url": "https://api.github.com/users/steevo87/followers",
      "following_url": "https://api.github.com/users/steevo87/following{/other_user}",
      "gists_url": "https://api.github.com/users/steevo87/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steevo87/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steevo87/subscriptions",
      "organizations_url": "https://api.github.com/users/steevo87/orgs",
      "repos_url": "https://api.github.com/users/steevo87/repos",
      "events_url": "https://api.github.com/users/steevo87/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steevo87/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Changing tab to spaces:\r\n\r\n```suggestion\r\n   CBlockIndex *pindexFirstInvalid = nullptr;\r\n```",
    "created_at": "2021-02-06T11:32:26Z",
    "updated_at": "2021-02-06T13:06:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21086#discussion_r571417807",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21086",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571417807"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21086#discussion_r571417807"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21086"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571417807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3097,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571417965",
    "pull_request_review_id": 584868653,
    "id": 571417965,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTQxNzk2NQ==",
    "diff_hunk": "@@ -3093,16 +3093,26 @@ void CChainState::ResetBlockFailureFlags(CBlockIndex *pindex) {\n         }\n         it++;\n     }\n+\t\n+\tCBlockIndex *pindexFirstInvalid = nullptr;\n \n     // Remove the invalidity flag from all ancestors too.\n     while (pindex != nullptr) {\n         if (pindex->nStatus & BLOCK_FAILED_MASK) {\n+\t\t\tif (pindex->nStatus & BLOCK_FAILED_VALID) {\n+\t\t\t\tpindexFirstInvalid = pindex;\n+\t\t\t}",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "6821683a86165fd6fe6697a297abec0ec769ae7a",
    "original_commit_id": "fe55621f49b15347aa6d7c9295eed7240ae16a3a",
    "user": {
      "login": "steevo87",
      "id": 948099,
      "node_id": "MDQ6VXNlcjk0ODA5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/948099?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steevo87",
      "html_url": "https://github.com/steevo87",
      "followers_url": "https://api.github.com/users/steevo87/followers",
      "following_url": "https://api.github.com/users/steevo87/following{/other_user}",
      "gists_url": "https://api.github.com/users/steevo87/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steevo87/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steevo87/subscriptions",
      "organizations_url": "https://api.github.com/users/steevo87/orgs",
      "repos_url": "https://api.github.com/users/steevo87/repos",
      "events_url": "https://api.github.com/users/steevo87/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steevo87/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Changing tabs to spaces:\r\n\r\n```suggestion\r\n         if (pindex->nStatus & BLOCK_FAILED_VALID) {\r\n            pindexFirstInvalid = pindex;\r\n         }\r\n```",
    "created_at": "2021-02-06T11:34:33Z",
    "updated_at": "2021-02-06T13:06:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21086#discussion_r571417965",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21086",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571417965"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21086#discussion_r571417965"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21086"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571417965/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 3102,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 3104,
    "side": "RIGHT"
  }
]