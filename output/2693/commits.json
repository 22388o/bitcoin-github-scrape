[
  {
    "sha": "f0d8a52cc039cda77730047db2443fbec016f852",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmMGQ4YTUyY2MwMzljZGE3NzczMDA0N2RiMjQ0M2ZiZWMwMTZmODUy",
    "commit": {
      "author": {
        "name": "Jeff Garzik",
        "email": "jgarzik@bitpay.com",
        "date": "2013-05-24T15:10:53Z"
      },
      "committer": {
        "name": "Jeff Garzik",
        "email": "jgarzik@bitpay.com",
        "date": "2013-05-24T15:10:53Z"
      },
      "message": "Replace repeated GetBoolArg() calls with Checkpoint::fEnabled variable\nset once at init time.",
      "tree": {
        "sha": "9ee293b71d88c4b2b2e34ad49b5248b9bde9d97e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9ee293b71d88c4b2b2e34ad49b5248b9bde9d97e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f0d8a52cc039cda77730047db2443fbec016f852",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f0d8a52cc039cda77730047db2443fbec016f852",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f0d8a52cc039cda77730047db2443fbec016f852",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f0d8a52cc039cda77730047db2443fbec016f852/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "36dc41f4273c59e570978c603e48bbec43f3d0a1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/36dc41f4273c59e570978c603e48bbec43f3d0a1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/36dc41f4273c59e570978c603e48bbec43f3d0a1"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 9,
      "deletions": 3
    },
    "files": [
      {
        "sha": "7643ec5df88fef9fea83b2d851671c0b2639cdfe",
        "filename": "src/checkpoints.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 3,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f0d8a52cc039cda77730047db2443fbec016f852/src/checkpoints.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f0d8a52cc039cda77730047db2443fbec016f852/src/checkpoints.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/checkpoints.cpp?ref=f0d8a52cc039cda77730047db2443fbec016f852",
        "patch": "@@ -28,6 +28,8 @@ namespace Checkpoints\n         double fTransactionsPerDay;\n     };\n \n+    bool fEnabled = true;\n+\n     // What makes a good checkpoint block?\n     // + Is surrounded by blocks with reasonable timestamps\n     //   (no blocks before with a timestamp after, none after with\n@@ -74,7 +76,7 @@ namespace Checkpoints\n \n     bool CheckBlock(int nHeight, const uint256& hash)\n     {\n-        if (!GetBoolArg(\"-checkpoints\", true))\n+        if (!fEnabled)\n             return true;\n \n         const MapCheckpoints& checkpoints = *Checkpoints().mapCheckpoints;\n@@ -117,7 +119,7 @@ namespace Checkpoints\n \n     int GetTotalBlocksEstimate()\n     {\n-        if (!GetBoolArg(\"-checkpoints\", true))\n+        if (!fEnabled)\n             return 0;\n \n         const MapCheckpoints& checkpoints = *Checkpoints().mapCheckpoints;\n@@ -127,7 +129,7 @@ namespace Checkpoints\n \n     CBlockIndex* GetLastCheckpoint(const std::map<uint256, CBlockIndex*>& mapBlockIndex)\n     {\n-        if (!GetBoolArg(\"-checkpoints\", true))\n+        if (!fEnabled)\n             return NULL;\n \n         const MapCheckpoints& checkpoints = *Checkpoints().mapCheckpoints;"
      },
      {
        "sha": "a49a908a386cd4a0cc60a3c4cec24bc932d9f70a",
        "filename": "src/checkpoints.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f0d8a52cc039cda77730047db2443fbec016f852/src/checkpoints.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f0d8a52cc039cda77730047db2443fbec016f852/src/checkpoints.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/checkpoints.h?ref=f0d8a52cc039cda77730047db2443fbec016f852",
        "patch": "@@ -24,6 +24,8 @@ namespace Checkpoints\n     CBlockIndex* GetLastCheckpoint(const std::map<uint256, CBlockIndex*>& mapBlockIndex);\n \n     double GuessVerificationProgress(CBlockIndex *pindex);\n+\n+    extern bool fEnabled;\n }\n \n #endif"
      },
      {
        "sha": "6dafcc4af0a40282f565e22996777d55721fd7e4",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f0d8a52cc039cda77730047db2443fbec016f852/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f0d8a52cc039cda77730047db2443fbec016f852/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=f0d8a52cc039cda77730047db2443fbec016f852",
        "patch": "@@ -10,6 +10,7 @@\n #include \"init.h\"\n #include \"util.h\"\n #include \"ui_interface.h\"\n+#include \"checkpoints.h\"\n \n #include <boost/filesystem.hpp>\n #include <boost/filesystem/fstream.hpp>\n@@ -493,6 +494,7 @@ bool AppInit2(boost::thread_group& threadGroup)\n     // ********************************************************* Step 2: parameter interactions\n \n     fTestNet = GetBoolArg(\"-testnet\");\n+    Checkpoints::fEnabled = GetBoolArg(\"-checkpoints\", true);\n \n     if (mapArgs.count(\"-bind\")) {\n         // when specifying an explicit binding address, you want to listen on it"
      }
    ]
  }
]