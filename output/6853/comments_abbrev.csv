btcdrak,2015-10-19T12:27:49Z,as per @laanwj comment https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-149182235\n,https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149199969,149199969,
laanwj,2015-10-19T13:23:39Z,Concept ACK\n,https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149211948,149211948,
jonasschnelli,2015-10-19T13:49:16Z,utACK\n,https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149218522,149218522,
davecgh,2015-10-19T13:51:38Z,"I personally think this is a bad idea as it is a slippery slope.  One of the main purposes of regtest is to test that the consensus code works as expected.  As mentioned in #6162, there is currently no test coverage which exercises the retarget code and is why commit df9eb5e, which introduced the retargetting bug, ended up making it to master.  In my opinion, providing a flag to work around a bug ",https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149219109,149219109,
CodeShark,2015-10-19T13:57:07Z,I agree we need tests for retargeting - but there are a bunch of regtest use cases that test critical things entirely orthogonal to retargeting that cannot really be tested without disabling it (i.e. #6816). I would suggest adding an option to turn this on or off...or to have another regtest chain that does not disable it.\n,https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149220396,149220396,
sipa,2015-10-19T14:06:14Z,"@davecgh I fully agree that it's suboptimal that regtest would end up not testing mainnet's retargetting code. But regtest is not the only means through which the consensus rules are tested or exercised, and it's certainly easier to use it to test many other things this way. The alternative you suggest is changing the code that the network is already running on just to be able to test it, which IM",https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149222936,149222936,
laanwj,2015-10-19T14:13:31Z,"For me, and quite a few other users that are using regtest, the idea that regtest has retargeting at all was completely unexpected. In my mind, and how it has been always advertised, `regtest = easy block generation`. And I closed #6162 because I don't find it acceptable to change consensus code just to accommodate regtest.\n\nBut absolutely - the retargeting code needs to be tested, but there are",https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149225066,149225066,
gavinandresen,2015-10-19T14:15:34Z,"Concept ACK from me-- in my experience writing regression tests, the\ndefault should be no retargeting; unless you are specifically testing\nretargeting, it just gets in the way and you're forced to use hack-y\nworkarounds like calling setmocktime/generateblock to create a chain with\ntimestamps that don't retarget.\n",https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149225574,149225574,
davecgh,2015-10-19T14:55:28Z,"For what it's worth, I'm not only advocating for fixing the bug simply so the regression tests can exercise it although obviously testing the retarget code is certainly an extremely important factor and one it seems everybody agrees should be done, albeit perhaps through a different means.\n\nWe have an application (outside of tests) that uses the retarget capabilities of regtest in order to test ",https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149239239,149239239,
btcdrak,2015-10-19T14:59:32Z,utACK \n,https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149240300,149240300,
jtimon,2015-10-19T16:55:40Z,"ut ACK\n\n> Also, with this PR, this would now be a regtest option that when set to default disables all retargeting so it doesn't match mainnet, and when enabled causes a broken retarget because the overflow is still not fixed.\n\nNo, read the code again: the new field in Consensus::Params is always true for the regtest testchain (just like nSubsidyHalvingInterval is always 150 for regtest).\n",https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149279406,149279406,
davecgh,2015-10-19T17:07:49Z,@jtimon:  I was referring to:\n\n> or to have another regtest chain that does not disable it\n,https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149283703,149283703,
jtimon,2015-10-19T17:28:28Z,"@davecgh I see. Then I agree that it doesn't make sense to create another testchain (retargetRegtest?), different from regtest that doesn't skip retargeting but it actually doesn't retarget either.\nWe already have 2 chains to test retargetting anyway (main and testnet3).\n",https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149289160,149289160,
dcousens,2015-10-20T09:17:49Z,utACK\n,https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149488738,149488738,
jtimon,2015-10-19T16:51:23Z,Nit: can you s/fNoRetargeting/fPowNoRetargeting for naming consistency?\n,https://github.com/bitcoin/bitcoin/pull/6853#discussion_r42395837,42395837,src/consensus/params.h
