[
  {
    "sha": "4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0NDA4NTU4ODQzYzZjMmI3YWJlYjQxNjBmNjQxZGZkYmY1YmU1ZWI0",
    "commit": {
      "author": {
        "name": "jonnynewbs",
        "email": "jonnynewbs@gmail.com",
        "date": "2016-09-21T14:52:53Z"
      },
      "committer": {
        "name": "jnewbery",
        "email": "john@johnnewbery.com",
        "date": "2016-10-05T13:00:34Z"
      },
      "message": "Update bitcoin-tx to output witness data.",
      "tree": {
        "sha": "f2619b1603e2ae5b81d314ee1cda3eaed6b0a114",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f2619b1603e2ae5b81d314ee1cda3eaed6b0a114"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/comments",
    "author": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a7e5cbb209d4aeb8c2e4c58c92bf214759998056",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a7e5cbb209d4aeb8c2e4c58c92bf214759998056",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a7e5cbb209d4aeb8c2e4c58c92bf214759998056"
      }
    ],
    "stats": {
      "total": 22,
      "additions": 21,
      "deletions": 1
    },
    "files": [
      {
        "sha": "ea01ddc10d81a6c58f72ed93bb2742425cb932c1",
        "filename": "src/core_write.cpp",
        "status": "modified",
        "additions": 10,
        "deletions": 1,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/core_write.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/core_write.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/core_write.cpp?ref=4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
        "patch": "@@ -151,11 +151,13 @@ void ScriptPubKeyToUniv(const CScript& scriptPubKey,\n void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry)\n {\n     entry.pushKV(\"txid\", tx.GetHash().GetHex());\n+    entry.pushKV(\"hash\", tx.GetWitnessHash().GetHex());\n     entry.pushKV(\"version\", tx.nVersion);\n     entry.pushKV(\"locktime\", (int64_t)tx.nLockTime);\n \n     UniValue vin(UniValue::VARR);\n-    BOOST_FOREACH(const CTxIn& txin, tx.vin) {\n+    for (unsigned int i = 0; i < tx.vin.size(); i++) {\n+        const CTxIn& txin = tx.vin[i];\n         UniValue in(UniValue::VOBJ);\n         if (tx.IsCoinBase())\n             in.pushKV(\"coinbase\", HexStr(txin.scriptSig.begin(), txin.scriptSig.end()));\n@@ -166,6 +168,13 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry)\n             o.pushKV(\"asm\", ScriptToAsmStr(txin.scriptSig, true));\n             o.pushKV(\"hex\", HexStr(txin.scriptSig.begin(), txin.scriptSig.end()));\n             in.pushKV(\"scriptSig\", o);\n+            if (!tx.wit.IsNull() && i < tx.wit.vtxinwit.size() && !tx.wit.vtxinwit[i].IsNull()) {\n+                UniValue txinwitness(UniValue::VARR);\n+                for (const auto& item : tx.wit.vtxinwit[i].scriptWitness.stack) {\n+                    txinwitness.push_back(HexStr(item.begin(), item.end()));\n+                }\n+                in.pushKV(\"txinwitness\", txinwitness);\n+            }\n         }\n         in.pushKV(\"sequence\", (int64_t)txin.nSequence);\n         vin.push_back(in);"
      },
      {
        "sha": "51c25a5a98c5965df194fa22b049f6be5863d48a",
        "filename": "src/test/data/blanktx.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/blanktx.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/blanktx.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/blanktx.json?ref=4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
        "patch": "@@ -1,5 +1,6 @@\n {\n     \"txid\": \"d21633ba23f70118185227be58a63527675641ad37967e2aa461559f577aec43\",\n+    \"hash\": \"d21633ba23f70118185227be58a63527675641ad37967e2aa461559f577aec43\",\n     \"version\": 1,\n     \"locktime\": 0,\n     \"vin\": ["
      },
      {
        "sha": "712a2c27f8faed7358a36202771fce1999d1bfee",
        "filename": "src/test/data/tt-delin1-out.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/tt-delin1-out.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/tt-delin1-out.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/tt-delin1-out.json?ref=4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
        "patch": "@@ -1,5 +1,6 @@\n {\n     \"txid\": \"81b2035be1da1abe745c6141174a73d151009ec17b3d5ebffa2e177408c50dfd\",\n+    \"hash\": \"81b2035be1da1abe745c6141174a73d151009ec17b3d5ebffa2e177408c50dfd\",\n     \"version\": 1,\n     \"locktime\": 0,\n     \"vin\": ["
      },
      {
        "sha": "afc4e95762d4a9dcc72785e24c8602f552abc5cc",
        "filename": "src/test/data/tt-delout1-out.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/tt-delout1-out.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/tt-delout1-out.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/tt-delout1-out.json?ref=4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
        "patch": "@@ -1,5 +1,6 @@\n {\n     \"txid\": \"c46ccd75b5050e942b2e86a3648f843f525fe6fc000bf0534ba5973063354493\",\n+    \"hash\": \"c46ccd75b5050e942b2e86a3648f843f525fe6fc000bf0534ba5973063354493\",\n     \"version\": 1,\n     \"locktime\": 0,\n     \"vin\": ["
      },
      {
        "sha": "2b9075f8acece0136da5a9bdb2b0bcc58f29fe1b",
        "filename": "src/test/data/tt-locktime317000-out.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/tt-locktime317000-out.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/tt-locktime317000-out.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/tt-locktime317000-out.json?ref=4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
        "patch": "@@ -1,5 +1,6 @@\n {\n     \"txid\": \"aded538f642c17e15f4d3306b8be7e1a4d1ae0c4616d641ab51ea09ba65e5cb5\",\n+    \"hash\": \"aded538f642c17e15f4d3306b8be7e1a4d1ae0c4616d641ab51ea09ba65e5cb5\",\n     \"version\": 1,\n     \"locktime\": 317000,\n     \"vin\": ["
      },
      {
        "sha": "567e8026a321cd894b5d7f8d22c1155f9efa1797",
        "filename": "src/test/data/txcreate1.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/txcreate1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/txcreate1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/txcreate1.json?ref=4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
        "patch": "@@ -1,5 +1,6 @@\n {\n     \"txid\": \"f70f0d6c71416ed538e37549f430ab3665fee2437a42f10238c1bd490e782231\",\n+    \"hash\": \"f70f0d6c71416ed538e37549f430ab3665fee2437a42f10238c1bd490e782231\",\n     \"version\": 1,\n     \"locktime\": 0,\n     \"vin\": ["
      },
      {
        "sha": "a70c1d302a28d06823c1908e812a55b2b801d673",
        "filename": "src/test/data/txcreate2.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/txcreate2.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/txcreate2.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/txcreate2.json?ref=4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
        "patch": "@@ -1,5 +1,6 @@\n {\n     \"txid\": \"cf90229625e9eb10f6be8156bf6aa5ec2eca19a42b1e05c11f3029b560a32e13\",\n+    \"hash\": \"cf90229625e9eb10f6be8156bf6aa5ec2eca19a42b1e05c11f3029b560a32e13\",\n     \"version\": 1,\n     \"locktime\": 0,\n     \"vin\": ["
      },
      {
        "sha": "760518d30a983fb459a14b42f3ea1755b9563659",
        "filename": "src/test/data/txcreatedata1.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/txcreatedata1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/txcreatedata1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/txcreatedata1.json?ref=4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
        "patch": "@@ -1,5 +1,6 @@\n {\n     \"txid\": \"07894b4d12fe7853dd911402db1620920d261b9627c447f931417d330c25f06e\",\n+    \"hash\": \"07894b4d12fe7853dd911402db1620920d261b9627c447f931417d330c25f06e\",\n     \"version\": 1,\n     \"locktime\": 0,\n     \"vin\": ["
      },
      {
        "sha": "56dfe4a1b055a99118762a417f36fee507315d45",
        "filename": "src/test/data/txcreatedata2.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/txcreatedata2.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/txcreatedata2.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/txcreatedata2.json?ref=4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
        "patch": "@@ -1,5 +1,6 @@\n {\n     \"txid\": \"4ed17118f5e932ba8c75c461787d171bc02a016d8557cb5bcf34cd416c27bb8b\",\n+    \"hash\": \"4ed17118f5e932ba8c75c461787d171bc02a016d8557cb5bcf34cd416c27bb8b\",\n     \"version\": 1,\n     \"locktime\": 0,\n     \"vin\": ["
      },
      {
        "sha": "9bc0ed459360920bdda25b58c93bcde7f4beddd9",
        "filename": "src/test/data/txcreatedata_seq0.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/txcreatedata_seq0.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/txcreatedata_seq0.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/txcreatedata_seq0.json?ref=4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
        "patch": "@@ -1,5 +1,6 @@\n {\n     \"txid\": \"71603ccb1cd76d73d76eb6cfd5f0b9df6d65d90d76860ee52cb461c4be7032e8\",\n+    \"hash\": \"71603ccb1cd76d73d76eb6cfd5f0b9df6d65d90d76860ee52cb461c4be7032e8\",\n     \"version\": 1,\n     \"locktime\": 0,\n     \"vin\": ["
      },
      {
        "sha": "d323255418d04843ed7201fc12a71ae1c5c9d5dd",
        "filename": "src/test/data/txcreatedata_seq1.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/txcreatedata_seq1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/txcreatedata_seq1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/txcreatedata_seq1.json?ref=4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
        "patch": "@@ -1,5 +1,6 @@\n {\n     \"txid\": \"c4dea671b0d7b48f8ab10bc46650e8329d3c5766931f548f513847a19f5ba75b\",\n+    \"hash\": \"c4dea671b0d7b48f8ab10bc46650e8329d3c5766931f548f513847a19f5ba75b\",\n     \"version\": 1,\n     \"locktime\": 0,\n     \"vin\": ["
      },
      {
        "sha": "ff39e71b40c0d68a55a4aba988e5ef95a332ee29",
        "filename": "src/test/data/txcreatesign.json",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/txcreatesign.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4408558843c6c2b7abeb4160f641dfdbf5be5eb4/src/test/data/txcreatesign.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/txcreatesign.json?ref=4408558843c6c2b7abeb4160f641dfdbf5be5eb4",
        "patch": "@@ -1,5 +1,6 @@\n {\n     \"txid\": \"977e7cd286cb72cd470d539ba6cb48400f8f387d97451d45cdb8819437a303af\",\n+    \"hash\": \"977e7cd286cb72cd470d539ba6cb48400f8f387d97451d45cdb8819437a303af\",\n     \"version\": 1,\n     \"locktime\": 0,\n     \"vin\": ["
      }
    ]
  }
]