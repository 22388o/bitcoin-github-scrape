glowang,2020-05-23 18:11:05,This is ready for re-review.,https://github.com/bitcoin/bitcoin/pull/18926#issuecomment-633108826,633108826,
MarcoFalke,2020-05-28 13:39:42,ACK f871f15c9d760b56a6a3b78b3941d3983d60810c,https://github.com/bitcoin/bitcoin/pull/18926#issuecomment-635356484,635356484,
MarcoFalke,2020-05-29 18:25:07,"If someone want to fix the ""namespace issue"" in a follow-up, the same should probably be done in the other test case too: https://github.com/bitcoin/bitcoin/pull/18926#discussion_r426169660",https://github.com/bitcoin/bitcoin/pull/18926#issuecomment-636119774,636119774,
ryanofsky,2020-05-12 17:29:08,"In commit ""scripted-diff: replace gArgs with a local args manager"" (af069fcdd9b5e2c983ee32f0292c8e1f167359ec)\n\nIn the commit message for https://github.com/bitcoin/bitcoin/commit/af069fcdd9b5e2c983ee32f0292c8e1f167359ec.patch you need an extra newline between the subject and body of the commit for the scripted diff to work like:\n\n```\nscripted-diff: replace gArgs with a local args manager",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r423909125,423909125,src/test/getarg_tests.cpp
ryanofsky,2020-05-12 17:35:36,"In commit ""Include an unused ArgsManager"" (2e0c74b1ffe9bd1867700fd4a58458160324e23c)\n\nThis variable is still shared between test instances (and I think also accesible outside the test file using `extern`). I think it would be better to add a member variable to the boost test setup so the tests are isolated. This would look something like \n\nhttps://github.com/bitcoin/bitcoin/blob/db762529d6",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r423913184,423913184,src/test/getarg_tests.cpp
glowang,2020-05-13 00:26:58,Thank you! I will update the developer README too then.,https://github.com/bitcoin/bitcoin/pull/18926#discussion_r424107055,424107055,src/test/getarg_tests.cpp
glowang,2020-05-13 15:57:20,"Thank you, will fix!",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r424550768,424550768,src/test/getarg_tests.cpp
MarcoFalke,2020-05-13 17:21:28,"The newline is generally needed for git to work properly. This is already explained in CONTRIBUTING, see this section:\n\n```\nCommit messages should be verbose by default consisting of a short subject line\n(50 chars max), a blank line and detailed explanatory text as separate\nparagraph(s), unless the title alone is self-explanatory (like ""Corrected typo\nin init.cpp"") in which case a sing",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r424605088,424605088,doc/developer-notes.md
glowang,2020-05-16 16:40:37,"Note to self - \nI kept getting `cannot define or redeclare 'ResetArgs' here because namespace 'getarg_tests' does not enclose namespace\n      'LocalTestingSetup'` ",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r426169423,426169423,src/test/getarg_tests.cpp
MarcoFalke,2020-05-16 16:43:14,">  I kept getting cannot define or redeclare 'ResetArgs' here because namespace 'getarg_tests' does not enclose namespace 'LocalTestingSetup'\n\nYou can put this into a namespace. Like in `validation_block_tests`",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r426169660,426169660,src/test/getarg_tests.cpp
glowang,2020-05-19 05:27:44,"> test/getarg_tests.cpp:218: error: in ""getarg_tests/logargs"": check str.find(""Command-line arg: okaylog-bool=\""\"""") != std::string::npos has failed\n> test/getarg_tests.cpp:219: error: in ""getarg_tests/logargs"": check str.find(""Command-line arg: okaylog-negbool=false"") != std::string::npos has failed\n> test/getarg_tests.cpp:220: error: in ""getarg_tests/logargs"": check str.find(""Command-line ar",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r427038185,427038185,src/test/getarg_tests.cpp
ryanofsky,2020-05-19 10:43:25,"re: https://github.com/bitcoin/bitcoin/pull/18926#discussion_r427038185\n\n> My tests passed in the first 2 commits, but this commit gives me these errors locally. It looks like the bug comes from my `debug.log` having something that it should not.\n\nThat's right, the problem is happening because the arguments are being set in the `argman` instance not `gArgs` but line 214 still says `gArgs.L",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r427204704,427204704,src/test/getarg_tests.cpp
glowang,2020-05-19 14:23:44,"ahhhh thank you! I avoided line 214 in my sed command, because it would modify `LogArgs()` to `Loargsman()`, but I overlooked the use of the global manager in there. I will look what sed command I can use to avoid changing only a specific location of line.\n\nI feel like if I commited your solution, my scripted-diff commit on its own is still failing the test...this makes my commits depend on ea",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r427342444,427342444,src/test/getarg_tests.cpp
MarcoFalke,2020-05-19 14:29:26,"You can use \n\n```\n$ echo 'gArgs.LogArgs()' | sed -e 's/\<gArgs\>/____/g'\n____.LogArgs()\n",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r427347597,427347597,src/test/getarg_tests.cpp
ryanofsky,2020-05-19 15:36:19,"> I feel like if I commited your solution\n\nTo be sure, suggestion was just to compare against for debugging, not to commit\n",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r427399690,427399690,src/test/getarg_tests.cpp
dongcarl,2020-05-21 22:11:11,Might wanna remove these trailing whitespaces to appease Travis,https://github.com/bitcoin/bitcoin/pull/18926#discussion_r428943781,428943781,src/test/getarg_tests.cpp
glowang,2020-05-22 15:29:01,"> You can use\n> \n> ```\n> $ echo 'gArgs.LogArgs()' | sed -e 's/\<gArgs\>/____/g'\n> ____.LogArgs()\n> ```\n\nThanks Marco, I tried running this but it is not changing anything from my end. Is there any setup I needed to do? Are you using gnu-sed? This is what I tried.\n`sed -i -e 's/\<gArgs\>/argsman/g' src/test/getarg_tests.cpp` \n\nI did receive a similar suggestion from my [post](ht",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r429314330,429314330,src/test/getarg_tests.cpp
glowang,2020-05-22 15:29:24,"> > I feel like if I commited your solution\n> \n> To be sure, suggestion was just to compare against for debugging, not to commit\n\nTotally. Thanks again for your suggestion :) ",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r429314536,429314536,src/test/getarg_tests.cpp
glowang,2020-05-22 15:29:35,Thanks Carl 🙏 ,https://github.com/bitcoin/bitcoin/pull/18926#discussion_r429314636,429314636,src/test/getarg_tests.cpp
glowang,2020-05-22 15:51:13,"> > You can use\n> > ```\n> > $ echo 'gArgs.LogArgs()' | sed -e 's/\<gArgs\>/____/g'\n> > ____.LogArgs()\n> > ```\n> \n> Thanks Marco, I tried running this but it is not changing anything from my end. Is there any setup I needed to do? Are you using gnu-sed? This is what I tried.\n> `sed -i -e 's/\<gArgs\>/argsman/g' src/test/getarg_tests.cpp`\n> \n> I did receive a similar suggestion fro",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r429326340,429326340,src/test/getarg_tests.cpp
MarcoFalke,2020-05-22 15:53:14,"Yes, you will need to use gsed. Our scripted diffs don't support macos sed, only Ubuntu sed.",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r429327389,429327389,src/test/getarg_tests.cpp
MarcoFalke,2020-05-23 20:48:31,"```suggestion\n        ArgsManager m_args;\n```\n\naccording to the dev notes on member naming\n\n(the scripted diff needs to be changed to m_args as well, obviously)",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r429577215,429577215,src/test/getarg_tests.cpp
MarcoFalke,2020-05-23 20:50:29,"```suggestion\n        void SetupArgs(const std::vector<std::pair<std::string, unsigned int>>& args);\n```\n\nThis should be removed (along with the first commit), because in a member function you don't need to pass in member variables anymore",https://github.com/bitcoin/bitcoin/pull/18926#discussion_r429577338,429577338,src/test/getarg_tests.cpp
