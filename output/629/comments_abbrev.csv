luke-jr,2011-11-10T16:03:33Z,"Basic code/UI ACK except for a couple of minor issues:\n- USE_QRC might be confused with Qt Resource Compiler (or whatever 'qrc' is), maybe USE_QRCODE ?\n- QR Codes are set to ""text"" instead of ""URI""\n",https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2697019,2697019,
sje397,2011-11-10T22:27:22Z,"Thanks luke-jr. I'll change the define to USE_QRCODE. The library only supports the following encoding modes though...what is type 'URI' under the surface?\n\n/**\n- Encoding mode.\n  */\n  typedef enum {\n  QR_MODE_NUL = -1,  ///< Terminator (NUL character). Internal use only\n  QR_MODE_NUM = 0,   ///< Numeric mode\n  QR_MODE_AN,        ///< Alphabet-numeric mode\n  QR_MODE_8,         ///< 8-bit ",https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2702192,2702192,
luke-jr,2011-11-10T22:59:34Z,"Nevermind the mode thing. Looks like the problem is with my QR Code reader ""detecting"" URI vs text based on the content. :/\n",https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2702605,2702605,
sje397,2011-11-11T08:03:16Z,"Ok, change pushed.\n",https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2705847,2705847,
luke-jr,2011-11-11T15:02:16Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2708957,2708957,
laanwj,2011-11-12T14:49:53Z,Neat! ACK.\n\nCan you squash/rebase these into one commit?\n,https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2717723,2717723,
sje397,2011-11-12T14:55:51Z,Squashed.\n,https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2717743,2717743,
laanwj,2011-11-12T15:10:36Z,Thanks.\n\nSome small issues: \n- It doesn't build in qt creator without libqrcode (even if USE_QRCODE is not added); probably missing #ifdefs inside qrcodedialog.cpp\n  \n   ../bitcoin/src/qt/qrcodedialog.cpp:10: error: qrencode.h: No such file or directory\n- QRCodeDialog::genCode() is only called from the UI thread. Is it still neccesary to have it in a static critical section?\n,https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2717805,2717805,
sje397,2011-11-12T15:17:07Z,"Fixing now.\n\nThe first issue involves adding the qrcodedialog to the project conditionally, so needs changes to the pro file.\n\nI'll fix the second. I was being overly attentive to the 'not thread safe' warning in the library docs.\n",https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2717829,2717829,
sje397,2011-11-12T15:25:42Z,Done and resquashed.\n,https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2717871,2717871,
laanwj,2011-11-12T15:36:58Z,"That's fast :) Now builds and runs on machine without the library. \n\nAlso works great when enabled, I tried scanning it with my phone from the screen and it got it right the first time.\n\nAnother small code issue:\n- AddressBookPage::on_showQRCode_clicked(): `d = new QRCodeDialog` causes a memory leak every time the dialog is opened (at least until the addressbookpage is destroyed). Better to s",https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2717907,2717907,
sje397,2011-11-12T15:43:15Z,Yeah that's not ideal as is.\n\nUsing `QRCodeDialog d(...` as you suggest though causes the dialog to be destroyed immediately as the variable goes out of scope. Are you suggesting it (and not 'they') should be modal?\n,https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2717934,2717934,
sje397,2011-11-12T15:45:37Z,How about I set the 'Qt::WA_DeleteOnClose' attribute on the qrcodedialog widget instead?\n,https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2717949,2717949,
laanwj,2011-11-12T15:46:49Z,"Sorry, I misunderstood. I thought that was the idea to be modal :-)\n\nKeep it as it is, it's fine. Qt has a flag to delete a window when closed, it might be useful to enable that, but I don't think this will ever be a big issue.\n",https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2717951,2717951,
sje397,2011-11-12T15:49:29Z,Snap. I've set that flag and rebased again. 2:49am - g'night ;)\n,https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2717963,2717963,
laanwj,2011-11-12T15:50:48Z,Thanks. Goodnight!\n,https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2717967,2717967,
mikehearn,2011-11-13T11:00:36Z,Did you check if this is compatible with the Android Wallet app? I'm not sure exactly what format it's using.\n,https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2721740,2721740,
sje397,2011-11-13T11:34:06Z,"Sorry, I've only got access to my wife's rather ancient android phone which refuses to find the app in the app store for me or install the one I can find on the net.\n\nThat app is using Google's ZXing library (http://code.google.com/p/zxing/), and I did test using http://zxing.org/w/decode.jspx which uses the same library.\n\nFrom what I can tell from the source, that app uses the same URI scheme",https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2721849,2721849,
mikehearn,2011-11-13T11:35:10Z,Great! If you send me a qrcode generated by this patch I can try scanning\nit.\n,https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2721852,2721852,
sje397,2011-11-13T11:40:59Z,@mikehearn I can do that - what email?\n,https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2721876,2721876,
mikehearn,2011-11-13T11:41:31Z,mike@plan99.net\n,https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2721878,2721878,
luke-jr,2011-11-13T13:51:40Z,"If the Android app isn't standards compliant, then it should be fixed. That is IMO outside the scope of this pull request. If libqrcode isn't standards compliant, it also should be fixed and is outside the scope of this code as well. I did confirm that it works with my N900's QR Code reader (mBarcode on Maemo), except for being detected as a URI (I presume they're using a known URI scheme list).\n",https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2722366,2722366,
mikehearn,2011-11-13T13:53:22Z,It works with the Android app :) It's best to do interop testing early so\nissues can be found wherever they lie. Seems like the app doesn't use the\nlabel/message fields though.\n,https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2722374,2722374,
luke-jr,2011-11-13T13:56:41Z,"Most apps don't, I think.\n",https://github.com/bitcoin/bitcoin/pull/629#issuecomment-2722386,2722386,
gavinandresen,2011-12-19T20:45:17Z,"NACK: see http://imgur.com/Ljrgg\nOn my Mac, showing the QR code for one of my receiving addresses I get too-skinny-text-boxes for Label and Message.\n",https://github.com/bitcoin/bitcoin/pull/629#issuecomment-3209235,3209235,
gavinandresen,2011-12-19T20:49:37Z,"Really cool feature, by the way.\n\nBut could you also update doc/build-*.txt for instructions on how to get libqrencode\n (on the mac, 'port install qrencode' works nicely)\n\nIt'd be really nice if the contrib/gitian-descriptors/gitian-*.yml files were modified to build with qrencode support, too...\n",https://github.com/bitcoin/bitcoin/pull/629#issuecomment-3209292,3209292,
sje397,2011-12-20T11:16:03Z,"Hi Gavin - I reorganised the dialog and added minimum sizes to those fields. I updated the Linux and OSX build docs, and added the 'qrencode' package to the gitian.yml file. I don't have a windows dev box to do any testing there or any experience with gitian builds so I'm reluctant to get into that stuff. I also updated makefile.osx to link qrencode (dynamically) if USE_QRCODE=1 is set - but again",https://github.com/bitcoin/bitcoin/pull/629#issuecomment-3217513,3217513,
