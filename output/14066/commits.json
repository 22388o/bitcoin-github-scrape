[
  {
    "sha": "bf7357a6a0b94226bba6a79e065a4adfcfc78f16",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiZjczNTdhNmEwYjk0MjI2YmJhNmE3OWUwNjVhNGFkZmNmYzc4ZjE2",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2018-08-24T18:37:32Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-10-24T02:32:04Z"
      },
      "message": "symbol-check: Fix readelf output parsing",
      "tree": {
        "sha": "1ac064d8374b8be2918a880bc716c2f29a14754f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1ac064d8374b8be2918a880bc716c2f29a14754f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bf7357a6a0b94226bba6a79e065a4adfcfc78f16",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bf7357a6a0b94226bba6a79e065a4adfcfc78f16",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/bf7357a6a0b94226bba6a79e065a4adfcfc78f16",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bf7357a6a0b94226bba6a79e065a4adfcfc78f16/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "49984b44cfcd3fd0cef16c8ce97197973afc3c04",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/49984b44cfcd3fd0cef16c8ce97197973afc3c04",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/49984b44cfcd3fd0cef16c8ce97197973afc3c04"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 14,
      "deletions": 6
    },
    "files": [
      {
        "sha": "cab61004cf039dfbc53d130b2a7e3af27ebf4e9c",
        "filename": "contrib/devtools/symbol-check.py",
        "status": "modified",
        "additions": 14,
        "deletions": 6,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bf7357a6a0b94226bba6a79e065a4adfcfc78f16/contrib/devtools/symbol-check.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bf7357a6a0b94226bba6a79e065a4adfcfc78f16/contrib/devtools/symbol-check.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/devtools/symbol-check.py?ref=bf7357a6a0b94226bba6a79e065a4adfcfc78f16",
        "patch": "@@ -151,12 +151,20 @@ def read_symbols(executable, imports=True) -> List[Tuple[str, str, str]]:\n         raise IOError('Could not read symbols for {}: {}'.format(executable, stderr.strip()))\n     syms = []\n     for line in stdout.splitlines():\n-        line = line.split()\n-        if 'Machine:' in line:\n-            arch = line[-1]\n-        if len(line)>7 and re.match('[0-9]+:$', line[0]):\n-            (sym, _, version) = line[7].partition('@')\n-            is_import = line[6] == 'UND'\n+        words = line.split()\n+        if 'Machine:' in words:\n+            arch = words[-1]\n+\n+        # NOTE: POWER architecture has two different offsets for symbols, which readelf includes in its output as an extra column.\n+        #\n+        # For example:\n+        #     4: 0000000000000000     0 FUNC    GLOBAL DEFAULT [<localentry>: 8]   UND memcpy@GLIBC_2.17 (2)\n+        #\n+        # Relevant POWER docs: http://openpowerfoundation.org/wp-content/uploads/resources/leabi/content/dbdoclet.50655241_95185.html\n+        m = re.match(r'^\\s*\\d+:\\s*[\\da-f]+\\s+\\d+\\s+(?:(?:\\S+\\s+){3})(?:\\[.*\\]\\s+)?(\\S+)\\s+(\\S+).*$', line)\n+        if m:\n+            (sym, _, version) = m.group(2).partition('@')\n+            is_import = (m.group(1) == 'UND')\n             if version.startswith('@'):\n                 version = version[1:]\n             if is_import == imports:"
      }
    ]
  },
  {
    "sha": "6711b0855ff9057a5c1b4ff52b99c6d08bd3991e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2NzExYjA4NTVmZjkwNTdhNWMxYjRmZjUyYjk5YzZkMDhiZDM5OTFl",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2018-08-23T07:27:36Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-10-24T02:32:04Z"
      },
      "message": "Support glibc-back-compat on 64-bit POWER",
      "tree": {
        "sha": "c7705b9d6866d1e713ac5d916dadd33c28876108",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c7705b9d6866d1e713ac5d916dadd33c28876108"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6711b0855ff9057a5c1b4ff52b99c6d08bd3991e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6711b0855ff9057a5c1b4ff52b99c6d08bd3991e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6711b0855ff9057a5c1b4ff52b99c6d08bd3991e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6711b0855ff9057a5c1b4ff52b99c6d08bd3991e/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "bf7357a6a0b94226bba6a79e065a4adfcfc78f16",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bf7357a6a0b94226bba6a79e065a4adfcfc78f16",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bf7357a6a0b94226bba6a79e065a4adfcfc78f16"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 11,
      "deletions": 0
    },
    "files": [
      {
        "sha": "f361c47c946964050f2847d32ff4f573086cdcd7",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6711b0855ff9057a5c1b4ff52b99c6d08bd3991e/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6711b0855ff9057a5c1b4ff52b99c6d08bd3991e/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=6711b0855ff9057a5c1b4ff52b99c6d08bd3991e",
        "patch": "@@ -770,6 +770,11 @@ AX_GCC_FUNC_ATTRIBUTE([dllimport])\n if test x$use_glibc_compat != xno; then\n   AX_CHECK_LINK_FLAG([[-Wl,--wrap=__divmoddi4]], [COMPAT_LDFLAGS=\"$COMPAT_LDFLAGS -Wl,--wrap=__divmoddi4\"])\n   AX_CHECK_LINK_FLAG([[-Wl,--wrap=log2f]], [COMPAT_LDFLAGS=\"$COMPAT_LDFLAGS -Wl,--wrap=log2f\"])\n+  case $host in\n+    powerpc64* | ppc64*)\n+      AX_CHECK_LINK_FLAG([[-Wl,--no-tls-get-addr-optimize]], [COMPAT_LDFLAGS=\"$COMPAT_LDFLAGS -Wl,--no-tls-get-addr-optimize\"])\n+    ;;\n+  esac\n else\n   AC_SEARCH_LIBS([clock_gettime],[rt])\n fi"
      },
      {
        "sha": "1a8829689c987a8036ed2219d446a3f5d57cd0f1",
        "filename": "src/compat/glibc_compat.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6711b0855ff9057a5c1b4ff52b99c6d08bd3991e/src/compat/glibc_compat.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6711b0855ff9057a5c1b4ff52b99c6d08bd3991e/src/compat/glibc_compat.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/compat/glibc_compat.cpp?ref=6711b0855ff9057a5c1b4ff52b99c6d08bd3991e",
        "patch": "@@ -54,6 +54,12 @@ __asm(\".symver log2f_old,log2f@GLIBC_2.2.5\");\n __asm(\".symver log2f_old,log2f@GLIBC_2.4\");\n #elif defined(__aarch64__)\n __asm(\".symver log2f_old,log2f@GLIBC_2.17\");\n+#elif defined(__powerpc64__)\n+#  ifdef WORDS_BIGENDIAN\n+__asm(\".symver log2f_old,log2f@GLIBC_2.3\");\n+#  else\n+__asm(\".symver log2f_old,log2f@GLIBC_2.17\");\n+#  endif\n #elif defined(__riscv)\n __asm(\".symver log2f_old,log2f@GLIBC_2.27\");\n #endif"
      }
    ]
  },
  {
    "sha": "8782e8e72c4981ad71bbf516dc113cba94a0abbb",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4NzgyZThlNzJjNDk4MWFkNzFiYmY1MTZkYzExM2NiYTk0YTBhYmJi",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2018-08-25T07:58:00Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-10-24T02:36:49Z"
      },
      "message": "gitian: Properly quote arguments in wrappers",
      "tree": {
        "sha": "0130441a176c26922679f427a54ab7b5828021ec",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0130441a176c26922679f427a54ab7b5828021ec"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8782e8e72c4981ad71bbf516dc113cba94a0abbb",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8782e8e72c4981ad71bbf516dc113cba94a0abbb",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8782e8e72c4981ad71bbf516dc113cba94a0abbb",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8782e8e72c4981ad71bbf516dc113cba94a0abbb/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6711b0855ff9057a5c1b4ff52b99c6d08bd3991e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6711b0855ff9057a5c1b4ff52b99c6d08bd3991e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6711b0855ff9057a5c1b4ff52b99c6d08bd3991e"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 8,
      "deletions": 8
    },
    "files": [
      {
        "sha": "fadc22532bb5cca75137e29190a15e76d6925ce8",
        "filename": "contrib/gitian-descriptors/gitian-linux.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8782e8e72c4981ad71bbf516dc113cba94a0abbb/contrib/gitian-descriptors/gitian-linux.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8782e8e72c4981ad71bbf516dc113cba94a0abbb/contrib/gitian-descriptors/gitian-linux.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-linux.yml?ref=8782e8e72c4981ad71bbf516dc113cba94a0abbb",
        "patch": "@@ -64,7 +64,7 @@ script: |\n     echo \"REAL=\\`which -a ${prog} | grep -v ${WRAP_DIR}/${prog} | head -1\\`\" >> ${WRAP_DIR}/${prog}\n     echo \"export LD_PRELOAD='/usr/\\$LIB/faketime/libfaketime.so.1'\" >> ${WRAP_DIR}/${prog}\n     echo \"export FAKETIME=\\\"$1\\\"\" >> ${WRAP_DIR}/${prog}\n-    echo \"\\$REAL \\$@\" >> $WRAP_DIR/${prog}\n+    echo \"exec \\\"\\$REAL\\\" \\\"\\$@\\\"\" >> $WRAP_DIR/${prog}\n     chmod +x ${WRAP_DIR}/${prog}\n   done\n   }\n@@ -78,7 +78,7 @@ script: |\n             echo \"REAL=\\`which -a ${i}-${prog}-8 | grep -v ${WRAP_DIR}/${i}-${prog} | head -1\\`\" >> ${WRAP_DIR}/${i}-${prog}\n             echo \"export LD_PRELOAD='/usr/\\$LIB/faketime/libfaketime.so.1'\" >> ${WRAP_DIR}/${i}-${prog}\n             echo \"export FAKETIME=\\\"$1\\\"\" >> ${WRAP_DIR}/${i}-${prog}\n-            echo \"\\$REAL \\\"\\$@\\\"\" >> $WRAP_DIR/${i}-${prog}\n+            echo \"exec \\\"\\$REAL\\\" \\\"\\$@\\\"\" >> $WRAP_DIR/${i}-${prog}\n             chmod +x ${WRAP_DIR}/${i}-${prog}\n         fi\n     done"
      },
      {
        "sha": "00a38068489cf67a3266136466aef0fac2928ac3",
        "filename": "contrib/gitian-descriptors/gitian-osx-signer.yml",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8782e8e72c4981ad71bbf516dc113cba94a0abbb/contrib/gitian-descriptors/gitian-osx-signer.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8782e8e72c4981ad71bbf516dc113cba94a0abbb/contrib/gitian-descriptors/gitian-osx-signer.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-osx-signer.yml?ref=8782e8e72c4981ad71bbf516dc113cba94a0abbb",
        "patch": "@@ -26,7 +26,7 @@ script: |\n     echo \"REAL=\\`which -a ${prog} | grep -v ${WRAP_DIR}/${prog} | head -1\\`\" >> ${WRAP_DIR}/${prog}\n     echo \"export LD_PRELOAD='/usr/\\$LIB/faketime/libfaketime.so.1'\" >> ${WRAP_DIR}/${prog}\n     echo \"export FAKETIME=\\\"${REFERENCE_DATETIME}\\\"\" >> ${WRAP_DIR}/${prog}\n-    echo \"\\$REAL \\$@\" >> $WRAP_DIR/${prog}\n+    echo \"exec \\\"\\$REAL\\\" \\\"\\$@\\\"\" >> $WRAP_DIR/${prog}\n     chmod +x ${WRAP_DIR}/${prog}\n   done\n "
      },
      {
        "sha": "e6983963de4f47200012640e771b8677750dfbfd",
        "filename": "contrib/gitian-descriptors/gitian-osx.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8782e8e72c4981ad71bbf516dc113cba94a0abbb/contrib/gitian-descriptors/gitian-osx.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8782e8e72c4981ad71bbf516dc113cba94a0abbb/contrib/gitian-descriptors/gitian-osx.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-osx.yml?ref=8782e8e72c4981ad71bbf516dc113cba94a0abbb",
        "patch": "@@ -62,7 +62,7 @@ script: |\n     echo \"REAL=\\`which -a ${prog} | grep -v ${WRAP_DIR}/${prog} | head -1\\`\" >> ${WRAP_DIR}/${prog}\n     echo \"export LD_PRELOAD='/usr/\\$LIB/faketime/libfaketime.so.1'\" >> ${WRAP_DIR}/${prog}\n     echo \"export FAKETIME=\\\"$1\\\"\" >> ${WRAP_DIR}/${prog}\n-    echo \"\\$REAL \\$@\" >> $WRAP_DIR/${prog}\n+    echo \"exec \\\"\\$REAL\\\" \\\"\\$@\\\"\" >> $WRAP_DIR/${prog}\n     chmod +x ${WRAP_DIR}/${prog}\n   done\n   }\n@@ -74,7 +74,7 @@ script: |\n         echo \"REAL=\\`which -a ${i}-${prog} | grep -v ${WRAP_DIR}/${i}-${prog} | head -1\\`\" >> ${WRAP_DIR}/${i}-${prog}\n         echo \"export LD_PRELOAD='/usr/\\$LIB/faketime/libfaketime.so.1'\" >> ${WRAP_DIR}/${i}-${prog}\n         echo \"export FAKETIME=\\\"$1\\\"\" >> ${WRAP_DIR}/${i}-${prog}\n-        echo \"\\$REAL \\$@\" >> $WRAP_DIR/${i}-${prog}\n+        echo \"exec \\\"\\$REAL\\\" \\\"\\$@\\\"\" >> $WRAP_DIR/${i}-${prog}\n         chmod +x ${WRAP_DIR}/${i}-${prog}\n     done\n   done"
      },
      {
        "sha": "ec6bd35194e58cbdd11d694202d8d40bfb0442de",
        "filename": "contrib/gitian-descriptors/gitian-win.yml",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8782e8e72c4981ad71bbf516dc113cba94a0abbb/contrib/gitian-descriptors/gitian-win.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8782e8e72c4981ad71bbf516dc113cba94a0abbb/contrib/gitian-descriptors/gitian-win.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-win.yml?ref=8782e8e72c4981ad71bbf516dc113cba94a0abbb",
        "patch": "@@ -55,7 +55,7 @@ script: |\n     echo \"REAL=\\`which -a ${prog} | grep -v ${WRAP_DIR}/${prog} | head -1\\`\" >> ${WRAP_DIR}/${prog}\n     echo \"export LD_PRELOAD='/usr/\\$LIB/faketime/libfaketime.so.1'\" >> ${WRAP_DIR}/${prog}\n     echo \"export FAKETIME=\\\"$1\\\"\" >> ${WRAP_DIR}/${prog}\n-    echo \"\\$REAL \\$@\" >> $WRAP_DIR/${prog}\n+    echo \"exec \\\"\\$REAL\\\" \\\"\\$@\\\"\" >> $WRAP_DIR/${prog}\n     chmod +x ${WRAP_DIR}/${prog}\n   done\n   }\n@@ -67,7 +67,7 @@ script: |\n         echo \"REAL=\\`which -a ${i}-${prog} | grep -v ${WRAP_DIR}/${i}-${prog} | head -1\\`\" >> ${WRAP_DIR}/${i}-${prog}\n         echo \"export LD_PRELOAD='/usr/\\$LIB/faketime/libfaketime.so.1'\" >> ${WRAP_DIR}/${i}-${prog}\n         echo \"export FAKETIME=\\\"$1\\\"\" >> ${WRAP_DIR}/${i}-${prog}\n-        echo \"\\$REAL \\$@\" >> $WRAP_DIR/${i}-${prog}\n+        echo \"exec \\\"\\$REAL\\\" \\\"\\$@\\\"\" >> $WRAP_DIR/${i}-${prog}\n         chmod +x ${WRAP_DIR}/${i}-${prog}\n     done\n   done\n@@ -81,7 +81,7 @@ script: |\n         echo \"REAL=\\`which -a ${i}-${prog}-posix | grep -v ${WRAP_DIR}/${i}-${prog} | head -1\\`\" >> ${WRAP_DIR}/${i}-${prog}\n         echo \"export LD_PRELOAD='/usr/\\$LIB/faketime/libfaketime.so.1'\" >> ${WRAP_DIR}/${i}-${prog}\n         echo \"export FAKETIME=\\\"$1\\\"\" >> ${WRAP_DIR}/${i}-${prog}\n-        echo \"\\$REAL \\\"\\$@\\\"\" >> $WRAP_DIR/${i}-${prog}\n+        echo \"exec \\\"\\$REAL\\\" \\\"\\$@\\\"\" >> $WRAP_DIR/${i}-${prog}\n         chmod +x ${WRAP_DIR}/${i}-${prog}\n     done\n   done"
      }
    ]
  },
  {
    "sha": "b74c21fad1ac2822ccdfa733d39265156afb31bb",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiNzRjMjFmYWQxYWMyODIyY2NkZmE3MzNkMzkyNjUxNTZhZmIzMWJi",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2018-08-23T07:27:36Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-10-24T02:36:56Z"
      },
      "message": "gitian-linux: Build binaries for 64-bit POWER",
      "tree": {
        "sha": "a002f688c2c2ec71b6af313fc7c85df03a680f1c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a002f688c2c2ec71b6af313fc7c85df03a680f1c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b74c21fad1ac2822ccdfa733d39265156afb31bb",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b74c21fad1ac2822ccdfa733d39265156afb31bb",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b74c21fad1ac2822ccdfa733d39265156afb31bb",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b74c21fad1ac2822ccdfa733d39265156afb31bb/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8782e8e72c4981ad71bbf516dc113cba94a0abbb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8782e8e72c4981ad71bbf516dc113cba94a0abbb",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8782e8e72c4981ad71bbf516dc113cba94a0abbb"
      }
    ],
    "stats": {
      "total": 19,
      "additions": 17,
      "deletions": 2
    },
    "files": [
      {
        "sha": "e88fe50a14f2987876e8c34d1d76ad5e2fdce904",
        "filename": "contrib/devtools/symbol-check.py",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b74c21fad1ac2822ccdfa733d39265156afb31bb/contrib/devtools/symbol-check.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b74c21fad1ac2822ccdfa733d39265156afb31bb/contrib/devtools/symbol-check.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/devtools/symbol-check.py?ref=b74c21fad1ac2822ccdfa733d39265156afb31bb",
        "patch": "@@ -68,6 +68,8 @@\n 'ld-linux.so.2', # 32-bit dynamic linker\n 'ld-linux-aarch64.so.1', # 64-bit ARM dynamic linker\n 'ld-linux-armhf.so.3', # 32-bit ARM dynamic linker\n+'ld64.so.1', # POWER64 ABIv1 dynamic linker\n+'ld64.so.2', # POWER64 ABIv2 dynamic linker\n 'ld-linux-riscv64-lp64d.so.1', # 64-bit RISC-V dynamic linker\n # bitcoin-qt only\n 'libxcb.so.1', # part of X11\n@@ -80,6 +82,7 @@\n 'X86-64': (2,2,5),\n 'ARM':    (2,4),\n 'AArch64':(2,17),\n+'PowerPC64':(2,17),\n 'RISC-V': (2,27)\n }\n "
      },
      {
        "sha": "5084891fd5b450a48160f83a8e5690e681fed972",
        "filename": "contrib/gitian-descriptors/gitian-linux.yml",
        "status": "modified",
        "additions": 14,
        "deletions": 2,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b74c21fad1ac2822ccdfa733d39265156afb31bb/contrib/gitian-descriptors/gitian-linux.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b74c21fad1ac2822ccdfa733d39265156afb31bb/contrib/gitian-descriptors/gitian-linux.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-linux.yml?ref=b74c21fad1ac2822ccdfa733d39265156afb31bb",
        "patch": "@@ -27,6 +27,12 @@ packages:\n #  - aarch64-linux-gnu\n - \"binutils-aarch64-linux-gnu\"\n - \"g++-8-aarch64-linux-gnu\"\n+#  - powerpc64-linux-gnu\n+- \"binutils-powerpc64-linux-gnu\"\n+- \"g++-8-powerpc64-linux-gnu\"\n+#  - powerpc64le-linux-gnu\n+- \"binutils-powerpc64le-linux-gnu\"\n+- \"g++-8-powerpc64le-linux-gnu\"\n #  - riscv64-linux-gnu\n - \"binutils-riscv64-linux-gnu\"\n - \"g++-8-riscv64-linux-gnu\"\n@@ -38,7 +44,7 @@ script: |\n   set -e -o pipefail\n \n   WRAP_DIR=$HOME/wrapped\n-  HOSTS=\"x86_64-linux-gnu arm-linux-gnueabihf aarch64-linux-gnu riscv64-linux-gnu\"\n+  HOSTS=\"x86_64-linux-gnu arm-linux-gnueabihf aarch64-linux-gnu powerpc64-linux-gnu powerpc64le-linux-gnu riscv64-linux-gnu\"\n   CONFIGFLAGS=\"--enable-glibc-back-compat --enable-reduce-exports --disable-bench --disable-gui-tests\"\n   FAKETIME_HOST_PROGS=\"gcc g++\"\n   FAKETIME_PROGS=\"date ar ranlib nm\"\n@@ -78,7 +84,13 @@ script: |\n             echo \"REAL=\\`which -a ${i}-${prog}-8 | grep -v ${WRAP_DIR}/${i}-${prog} | head -1\\`\" >> ${WRAP_DIR}/${i}-${prog}\n             echo \"export LD_PRELOAD='/usr/\\$LIB/faketime/libfaketime.so.1'\" >> ${WRAP_DIR}/${i}-${prog}\n             echo \"export FAKETIME=\\\"$1\\\"\" >> ${WRAP_DIR}/${i}-${prog}\n-            echo \"exec \\\"\\$REAL\\\" \\\"\\$@\\\"\" >> $WRAP_DIR/${i}-${prog}\n+            if [ \"${i:0:11}\" = \"powerpc64le\" ]; then\n+                echo \"exec \\\"\\$REAL\\\" -mcpu=power8 -mtune=power9 \\\"\\$@\\\"\" >> $WRAP_DIR/${i}-${prog}\n+            elif [ \"${i:0:9}\" = \"powerpc64\" ]; then\n+                echo \"exec \\\"\\$REAL\\\" -mcpu=970 -mtune=power9 \\\"\\$@\\\"\" >> $WRAP_DIR/${i}-${prog}\n+            else\n+                echo \"exec \\\"\\$REAL\\\" \\\"\\$@\\\"\" >> $WRAP_DIR/${i}-${prog}\n+            fi\n             chmod +x ${WRAP_DIR}/${i}-${prog}\n         fi\n     done"
      }
    ]
  },
  {
    "sha": "a951c598fb4036ca6620928448bfc8593a9f4166",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphOTUxYzU5OGZiNDAzNmNhNjYyMDkyODQ0OGJmYzg1OTNhOWY0MTY2",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-03-23T06:29:53Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-10-24T02:36:56Z"
      },
      "message": "gitian: Always specify noexecstack since we enforce it unconditionally",
      "tree": {
        "sha": "b2d809a4008495f544250a848a1fa0082f6cd05f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b2d809a4008495f544250a848a1fa0082f6cd05f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a951c598fb4036ca6620928448bfc8593a9f4166",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a951c598fb4036ca6620928448bfc8593a9f4166",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a951c598fb4036ca6620928448bfc8593a9f4166",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a951c598fb4036ca6620928448bfc8593a9f4166/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b74c21fad1ac2822ccdfa733d39265156afb31bb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b74c21fad1ac2822ccdfa733d39265156afb31bb",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b74c21fad1ac2822ccdfa733d39265156afb31bb"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 1,
      "deletions": 8
    },
    "files": [
      {
        "sha": "544210ebdcf26709ea3b31770bfb8e8ea3945e4f",
        "filename": "contrib/gitian-descriptors/gitian-linux.yml",
        "status": "modified",
        "additions": 1,
        "deletions": 8,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a951c598fb4036ca6620928448bfc8593a9f4166/contrib/gitian-descriptors/gitian-linux.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a951c598fb4036ca6620928448bfc8593a9f4166/contrib/gitian-descriptors/gitian-linux.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-linux.yml?ref=a951c598fb4036ca6620928448bfc8593a9f4166",
        "patch": "@@ -50,7 +50,7 @@ script: |\n   FAKETIME_PROGS=\"date ar ranlib nm\"\n   HOST_CFLAGS=\"-O2 -g\"\n   HOST_CXXFLAGS=\"-O2 -g\"\n-  HOST_LDFLAGS_BASE=\"-static-libstdc++ -Wl,-O2\"\n+  HOST_LDFLAGS=\"-static-libstdc++ -Wl,-O2 -Wl,-z,noexecstack\"\n \n   export QT_RCC_TEST=1\n   export QT_RCC_SOURCE_DATE_OVERRIDE=1\n@@ -130,13 +130,6 @@ script: |\n   # Extract the git archive into a dir for each host and build\n   for i in ${HOSTS}; do\n     export PATH=${BASEPREFIX}/${i}/native/bin:${ORIGPATH}\n-    if [ \"${i}\" = \"riscv64-linux-gnu\" ]; then\n-      # Workaround for https://bugs.launchpad.net/ubuntu/+source/gcc-8-cross-ports/+bug/1853740\n-      # TODO: remove this when no longer needed\n-      HOST_LDFLAGS=\"${HOST_LDFLAGS_BASE} -Wl,-z,noexecstack\"\n-    else\n-      HOST_LDFLAGS=\"${HOST_LDFLAGS_BASE}\"\n-    fi\n     mkdir -p distsrc-${i}\n     cd distsrc-${i}\n     INSTALLPATH=\"${PWD}/installed/${DISTNAME}\""
      }
    ]
  },
  {
    "sha": "8c73a4cd36ef291253d465ecf71a2c0a7c615b1b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4YzczYTRjZDM2ZWYyOTEyNTNkNDY1ZWNmNzFhMmMwYTdjNjE1YjFi",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-11-02T02:05:30Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-11-30T02:29:14Z"
      },
      "message": "devtools/security-check: Abstract get_ELF_header out of check_ELF_PIE",
      "tree": {
        "sha": "22deec690d1539fa01b629351ed9e3b9b02c7783",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/22deec690d1539fa01b629351ed9e3b9b02c7783"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8c73a4cd36ef291253d465ecf71a2c0a7c615b1b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8c73a4cd36ef291253d465ecf71a2c0a7c615b1b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8c73a4cd36ef291253d465ecf71a2c0a7c615b1b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8c73a4cd36ef291253d465ecf71a2c0a7c615b1b/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a951c598fb4036ca6620928448bfc8593a9f4166",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a951c598fb4036ca6620928448bfc8593a9f4166",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a951c598fb4036ca6620928448bfc8593a9f4166"
      }
    ],
    "stats": {
      "total": 21,
      "additions": 13,
      "deletions": 8
    },
    "files": [
      {
        "sha": "1156ee4e57b096d6c3bf0b2d84d21abb9995646e",
        "filename": "contrib/devtools/security-check.py",
        "status": "modified",
        "additions": 13,
        "deletions": 8,
        "changes": 21,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8c73a4cd36ef291253d465ecf71a2c0a7c615b1b/contrib/devtools/security-check.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8c73a4cd36ef291253d465ecf71a2c0a7c615b1b/contrib/devtools/security-check.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/devtools/security-check.py?ref=8c73a4cd36ef291253d465ecf71a2c0a7c615b1b",
        "patch": "@@ -11,6 +11,7 @@\n import subprocess\n import sys\n import os\n+import re\n \n from typing import List, Optional\n \n@@ -22,18 +23,22 @@ def run_command(command) -> str:\n     p = subprocess.run(command, stdout=subprocess.PIPE, check=True, universal_newlines=True)\n     return p.stdout\n \n+def get_ELF_header(executable):\n+    stdout = run_command([READELF_CMD, '-h', '-W', executable])\n+    out = {}\n+    for line in stdout.splitlines():\n+        m = re.match(r'^\\s*([^:]+)\\:\\s*(.*?)(?:\\s+\\([^()]+\\))?$', line)\n+        if not m:\n+            continue\n+        key, val = m.groups()\n+        out[key] = val\n+    return out\n+\n def check_ELF_PIE(executable) -> bool:\n     '''\n     Check for position independent executable (PIE), allowing for address space randomization.\n     '''\n-    stdout = run_command([READELF_CMD, '-h', '-W', executable])\n-\n-    ok = False\n-    for line in stdout.splitlines():\n-        tokens = line.split()\n-        if len(line)>=2 and tokens[0] == 'Type:' and tokens[1] == 'DYN':\n-            ok = True\n-    return ok\n+    return get_ELF_header(executable).get('Type') == 'DYN'\n \n def get_ELF_program_headers(executable):\n     '''Return type and flags for ELF program headers'''"
      }
    ]
  },
  {
    "sha": "31dbf0b677d7f6adc4f4222600e5aeb266ed6e7a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozMWRiZjBiNjc3ZDdmNmFkYzRmNDIyMjYwMGU1YWViMjY2ZWQ2ZTdh",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-11-02T02:10:10Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2020-11-30T02:29:14Z"
      },
      "message": "devtools/security-check: Allow .plt to be RW on PowerPC64",
      "tree": {
        "sha": "71ab5ebcb03afe21cb0ca175e478936a3016cb85",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/71ab5ebcb03afe21cb0ca175e478936a3016cb85"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/31dbf0b677d7f6adc4f4222600e5aeb266ed6e7a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/31dbf0b677d7f6adc4f4222600e5aeb266ed6e7a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/31dbf0b677d7f6adc4f4222600e5aeb266ed6e7a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/31dbf0b677d7f6adc4f4222600e5aeb266ed6e7a/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8c73a4cd36ef291253d465ecf71a2c0a7c615b1b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8c73a4cd36ef291253d465ecf71a2c0a7c615b1b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8c73a4cd36ef291253d465ecf71a2c0a7c615b1b"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 3,
      "deletions": 0
    },
    "files": [
      {
        "sha": "01bfbd13d79b86831af235bba8afdabaefec8ec0",
        "filename": "contrib/devtools/security-check.py",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/31dbf0b677d7f6adc4f4222600e5aeb266ed6e7a/contrib/devtools/security-check.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/31dbf0b677d7f6adc4f4222600e5aeb266ed6e7a/contrib/devtools/security-check.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/devtools/security-check.py?ref=31dbf0b677d7f6adc4f4222600e5aeb266ed6e7a",
        "patch": "@@ -181,6 +181,9 @@ def check_ELF_separate_code(executable):\n         '.data': 'RW',\n         '.bss': 'RW',\n     }\n+    if get_ELF_header(executable).get('Machine') == 'PowerPC64':\n+        # .plt is RW on ppc64 even with separate-code\n+        EXPECTED_FLAGS['.plt'] = 'RW'\n     # For all LOAD program headers get mapping to the list of sections,\n     # and for each section, remember the flags of the associated program header.\n     flags_per_section = {}"
      }
    ]
  }
]