dcousens,2015-12-16T13:02:05Z,"concept ACK, once-over utACK @ 0d0f285\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165097866,165097866,
sdaftuar,2015-12-16T15:06:46Z,"In general I am sympathetic to the idea of trying to offer up policies that people want as much as reasonably possible, but my initial reaction is that this change isn't a good idea.  I don't think we should offer policies that don't make sense for a user to logically choose.\n\nWhat would be the motivation for someone turning off opt-in RBF in favor of a no-replacement policy?  If it's because th",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165135383,165135383,
luke-jr,2015-12-17T00:36:34Z,"> What would be the motivation for someone turning off opt-in RBF in favor of a no-replacement policy?\n\nI'm sure there's more, but a few that come to mind:\n- ""I haven't considered this enough to make a decision, so I want to maintain my status quo policy while still upgrading to 0.12.""\n- ""I am mining myself, and would prefer to simply include users' lower fees to encourage Bitcoin usage.""\n- """,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165300481,165300481,
dcousens,2015-12-17T02:01:27Z,"> that's merely developers trying to usurp an authority that doesn't belong to us.\n\n+1\n\nI think there is a fine line between what policies we should choose to bundle by default (and hence, if they can be, they should be configurable) and what we choose to omit.\nWe have included RBF as a embedded policy,  it is easily configurable,  so why not?\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165313249,165313249,
tulip0,2015-12-17T02:29:11Z,"Supplying options that are illogical or dangerous does have some risk, there's commonly distributed `bitcoin.conf` which users often copy terrible configurations. A quick google shows [this one](https://gist.github.com/tianpu/5effb0f70c1f4088c5da) which sets `maxconnections` so high the node will certainly crash, turns on `txindex` and binds to `8.8.8.8`. Others set `gen`, `keypool=2`, `par=1`, bi",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165317385,165317385,
petertodd,2015-12-17T07:37:47Z,utACK https://github.com/luke-jr/bitcoin/commit/0d0f28592d728ff31222becbdc38d20cae409a5b\n\nI don't care about -rbf vs -replacebyfee\n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165373656,165373656,
morcos,2015-12-17T12:54:36Z,"I think without any reason to believe this is a desired feature, this is just another example of putting in too many knobs which complicate the code and the logic and hamstring further improvements without good reason.  There should be a high bar for introducing complexity.  I'm opposed to this change.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165445686,165445686,
luke-jr,2015-12-17T12:58:52Z,"@morcos This isn't complicated, and is clearly much-desired by users.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165446400,165446400,
luke-jr,2015-12-17T13:01:33Z,-rbf renamed to -replacebyfee\n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165446960,165446960,
sdaftuar,2015-12-17T14:57:54Z,"@luke-jr I don't think it's at all intuitive to users that setting `-replacebyfee` to 0 would mean that you would still accept transactions into your mempool that are signaling opt-in to RBF (just not allowing them to be replaced).  I would expect many users to be confused if they were to use that setting and then see transactions in their mempool get double-spent, because the rest of the network ",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165475915,165475915,
morcos,2015-12-17T15:04:13Z,"> and is clearly much-desired by users.\n\n@luke-jr that would certainly influence my opinion.  Can you elaborate?  To @sdaftuar's point, they may want to be able to make txs non-replaceable, but that doesn't occur just by them changing their local policy.  I can't believe I'm suggesting this, but perhaps a more useful feature would be the ability to flag a single tx as non-replaceable, which migh",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165477576,165477576,
dgenr8,2015-12-17T18:22:03Z,"NACK.  I want opt-in RBF to work, and this change can only help it work less well.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165537503,165537503,
btcdrak,2015-12-17T19:02:55Z,utACK 786f92d\n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165549674,165549674,
luke-jr,2015-12-17T19:11:05Z,"@morcos The merge of opt-in RBF has been and is highly controversial among users, at least on reddit.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165551663,165551663,
jgarzik,2015-12-17T19:15:08Z,"@luke-jr Strictly true, but those comments often seemed to (intentionally?) miss the opt-in aspect, and so should be discounted.   A typical reddit-esque comment of ""$company is trying to kill zero-conf!"" is silly when in fact opt-in RBF will not lead to increased attack surface at payment processors.\n\nopt-in RBF does not lead to ecosystem breakage and theft, unless I'm missing something.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165552835,165552835,
instagibbs,2015-12-18T18:21:03Z,"Seems like the ""always"" option would upset the apple cart, if you are ostensibly caring about people's concerns about opt-in.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165862913,165862913,
morcos,2015-12-18T21:34:11Z,"I won't say NACK, but I'd say I have a preference not to merge this.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165902452,165902452,
amacneil,2015-12-19T03:46:16Z,"NACK. Allowing nodes to run full-RBF (`nRbfPolicy = 1`) is dangerous for existing users who are not expecting their transactions to be replaced. If only a small portion of miners adopted this setting (e.g. 10%), it would allow non-RBF transactions to be reliably double spent 10% of the time.\n\nIt would be better to release opt-in RBF without changing behavior/expectations of existing transactions",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165942990,165942990,
luke-jr,2015-12-19T07:16:00Z,"Again, that is not our decision to make.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-165956383,165956383,
petertodd,2015-12-19T16:48:21Z,@amacneil IMO that's a good argument to have an option to always do full-RBF: it reminds people that first-seen reliant zeroconf can be easily broken by a small % of miners.\n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166002450,166002450,
petertodd,2015-12-19T17:09:12Z,Tested ACK 786f92d420650ee2918c482a31f44e1bd9326574\n- [x] Help text correct\n- [x] -replacebyfee=0\n- [x] -replacebyfee=1/-replace-byfee\n- [x] -replacebyfee=2\n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166004546,166004546,
amacneil,2015-12-19T17:31:24Z,"@luke-jr @petertodd well that makes the arguments for this patch the same as full-RBF then.\n\nWhile I agree that long term it will be beneficial to move towards full-RBF, for now I was under the impression that the point of releasing opt-in RBF was to not change first seen relay expectations for existing users (at least for the 0.12 release).\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166005889,166005889,
petertodd,2015-12-19T17:40:09Z,"@amacneil It's a default-opt-in. @luke-jr and I don't agree 100% here, but I'd make the argument that the default will likely lead to the vast majority of the hashing power leaving it opt-in. As for those that enable full-RBF always, other than Bitcoin XT nodes they're not going to get double-spends relayed to them anyway... which is I guess a bit ironic.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166009092,166009092,
DavidVorick,2015-12-19T20:56:15Z,"concept ACK, there seem to be enough legitimate reasons for a user to want to turn off opt-in rbf, particularly if a miner. I do have concerns that people will disable opt-in RBF for the wrong reasons (they want to protect 0-conf), but I'm expecting that few enough people change the defaults in the first place that it won't be an issue.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166023236,166023236,
amacneil,2015-12-20T19:31:23Z,"@petertodd understood that it's opt-in by default. My point is that even a small % of mining power running full-RBF will be effectively kill zero-conf for existing users. There is a separate debate as to whether people should be relying on zero-conf (they shouldn't), but if we are going to allow/encourage even a small percentage of miners to enable full-RBF then there is really no point adding the",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166148935,166148935,
amacneil,2015-12-20T19:36:54Z,"> other than Bitcoin XT nodes they're not going to get double-spends relayed to them anyway\n\nI have seen attacks in the wild where double spends are sent directly to known mining pool nodes, so XT is not required to enable this attack.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166149337,166149337,
aalness,2015-12-21T02:09:15Z,Hmm. Why isn't first seen safe an option? If I ran a mining pool I think I'd feel a lot more comfortable with an option where I can still take part in a fee market _and_ not be potentially provably complicit in fraud. But IANAL.\n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166175856,166175856,
instagibbs,2015-12-21T02:13:58Z,@aalness opt-in RBF is sending user signaling their intent to replace. \n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166177441,166177441,
aalness,2015-12-21T02:26:11Z,Who knows how various jurisdictions will regard such signals given various circumstances. But allowing mining users to profit from a fee market with no possible fear of violating their ethics or local laws seems like a good thing to do to me.\n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166180760,166180760,
btcdrak,2015-12-21T02:30:28Z,@aalness quit trolling. PR comments are for technical feedback.\n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166181084,166181084,
aalness,2015-12-21T02:41:00Z,Where do I direct ethical questions about specific code changes?\n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166182006,166182006,
chaosgrid,2015-12-21T03:06:24Z,"This does not have economic consensus since 0-conf is being used today (i.e. PoS). It is not clear that FSS 0-conf transactions should be deprecated since they have their use cases.\nIf one miner activates Full-RBF with this switch, 0-conf non-RBF transactions can be abused to double spend. Therefore it does not make sense to include such an option that puts certain economic entities or even unawa",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166185105,166185105,
HostFat,2015-12-21T03:08:32Z,"Are there other rules where the node can make choices on which txs, ""supported from the protocol"", can or can't be broadcasted to the network?\n\nThis patch is possible, but I think that it should be coded in another way, to continue on putting txs on the mempool, and filtering somewhere else, mainly the on the user interface.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166185260,166185260,
jameshilliard,2015-12-21T03:16:17Z,"utACK https://github.com/bitcoin/bitcoin/commit/786f92d420650ee2918c482a31f44e1bd9326574\n\n@chaosgrid Varied mempool policy among miners already makes double spending 0-confs fairly simple.\n\n@HostFat Since this is local mempool policy and not a consensus rule nodes/miners can basically do whatever they want already, BitcoinXT for instance relays double spends making them easily propagate to min",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166186095,166186095,
chaosgrid,2015-12-21T03:29:31Z,"@jameshilliard Just because nodes and miners can run the mempool policy they want, it does not make it right to merge a change into the most widely used Bitcoin node software that puts a significant share of the Bitcoin industry at risk. Mempool policy is not a technical consensus rule, but it is very much an economic consensus rule right now (if you like that or not) just like it is economic cons",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166189297,166189297,
HostFat,2015-12-21T03:46:25Z,"@jameshilliard \nBitcoin is a p2p network: nodes expect to always receive all the tx (and blocks) from the other nodes, that are compatible with the protocol, and then broadcasting again.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166191983,166191983,
jameshilliard,2015-12-21T03:50:54Z,"> Just because nodes and miners can run the mempool policy they want, it does not make it right to merge a change into the most widely used Bitcoin node software that puts a significant share of the Bitcoin industry at risk.\n\n@chaosgrid There is significant risk already as a lot of miners patch core already so this doesn't really change anything. Hopefully more people realize this.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166194161,166194161,
mmeijeri,2015-12-21T10:57:18Z,"It may be too soon to facilitate full RBF, but if we do it we should at least change the numbering scheme so it goes from less radical to more radical by switching the order of always and opt-in.\n\n0 = never, 1 = always, 2 = opt-in => 0 = never, 1 = opt-in, 2 = always\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166270158,166270158,
luke-jr,2015-12-21T12:18:41Z,"I wonder if the NACKs would prefer: 1) Core supports full-RBF-always as an option rather than try to force policies on users against their will; or 2) Miners de facto enable full-RBF-always regardless of what Core supports, in protest of developers' attempted usurping of their authority over their own node.\n\nAs for why FSS is not an option: it was not a trivial addition to the code, and possibly",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166290825,166290825,
luke-jr,2015-12-21T12:20:43Z,"@mmeijeri Oh, and the reason why 1=always, is because when looked at as a boolean, the values are 0 or 1.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166291545,166291545,
HostFat,2015-12-21T12:28:59Z,"It's a kind of tx supported from the network, so blocking them from being broadcasted again is in contrast with the rules of the protocol.\n\nIt's like saying that some tx are better than others, when ever someone could develop personally this kind of feature on his own fork, promoting these filters is a bad idea for a p2p network.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166293443,166293443,
luke-jr,2015-12-21T12:32:42Z,"@HostFat Bitcoin has always filtered transactions, and must if anyone can be expected to be _capable_ of using it. Please take your philosophical discussion of this principle elsewhere - it doesn't belong here.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166294784,166294784,
HostFat,2015-12-21T15:40:30Z,"Then we should add an option to not broadcast (not including on the mempool) tx coming from X addresses, it's on the same line of thinking.\n\nMaybe even filtering the broadcast of some blocks from Y pools.\n\nBut this open to situations where even if the user/pool does comply with the protocol, he will not be anymore sure that his tx/blocks will be shared on the network.\n\nIt seems going against",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166333344,166333344,
jameshilliard,2015-12-21T15:49:41Z,"@HostFat \n\n> Maybe even filtering the broadcast of some blocks from Y pools.\n\nAside from this being a bad idea in general I don't think this is even possible if a pool is attempting to mask their blocks, the existing block tracking done by block explorers is done via coinbase sigs and known generation addresses, both of which are trivial to change. Most pools don't mind being tracked as is sin",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166336758,166336758,
Aquentus,2015-12-21T17:57:28Z,There is a revolt over this pull request and many find it incomprehensible that this suggestion would even be entertained. Satoshi clearly showed how 0conf transactions can be made pretty safe https://bitcointalk.org/index.php?topic=423.msg3819#msg3819 and the vast economic majority sees even the entertainment of this idea as an outright attack on the fundamentals of bitcoin.\n\nThere is no consen,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166375006,166375006,
jameshilliard,2015-12-21T18:05:31Z,"@Aquentus since this isn't a consensus critical change and only a local policy option I don't see any issue with allowing a choice, pools can already trivially patch this in.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166376742,166376742,
chaosgrid,2015-12-21T18:09:02Z,"@luke-jr \n\n> I wonder if the NACKs would prefer: 1) Core supports full-RBF-always as an option rather than try to force policies on users against their will; or 2) Miners de facto enable full-RBF-always regardless of what Core supports, in protest of developers' attempted usurping of their authority over their own node.\n\nAre you now threatening that if this does not get merged, you will go to ",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166377404,166377404,
jameshilliard,2015-12-21T18:14:18Z,"> I do not see any miner today running full-RBF-always (for good reason).\n\nAre you sure? There could be smaller miners running full-RBF right now, there is already a patch set for it after all. Hard to tell when mempool policy is so varied as is(which makes a succesful 0-conf double spend easy to pull off).\n\n> In fact, this patch only contributes to making 0-conf behavior completely unreliable",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166379599,166379599,
amacneil,2015-12-21T18:15:08Z,"@Aquentus (and anyone else landing here from reddit), please don't brigade from anonymous accounts, it does nothing to help the discussion.\n\n@luke-jr if there is consensus for core to support full-RBF-always, then I would prefer that over offering opt-in transaction semantics and then simultaneously breaking non-opt-in transactions by encouraging miners to run full-RBF. My understanding is that ",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166379915,166379915,
sipa,2015-12-21T18:19:08Z,"I don't mind making opt-in RBF optional if people have concerns.\n\nI don't like exposing full RBF, though. We have an equally functional and\nefficient mechanism now that doesn't require instituionalizing behaviour\nthat a large part of the community frowns upon (whether it is safe or not).\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166381017,166381017,
amacneil,2015-12-21T18:24:13Z,"> IMO it basically already is completely unreliable under adversarial conditions so this wouldn't really change much, most that have lost money on it however don't go publicizing it all that much.\n\nZero-conf is actually fairly reliable today. I was intimately involved with this at Coinbase, and they are successfully accepting zero-conf transactions for most payments today without any issues (und",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166382024,166382024,
jameshilliard,2015-12-21T18:28:01Z,"@amacneil @sipa I think one thing about having this as an option is that it might make merchants take the lack of 0-conf seriously, IMO there is a delusion out there that 0-conf can be made safe when in really can't be. The only reason it's not as big an issue is that the majority of people aren't actually trying to defraud merchants. I also did some testing and noticed that there are actually ver",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166382786,166382786,
chaosgrid,2015-12-21T19:15:08Z,@jameshilliard \n\nThis is getting extremely tiring and old. How many times does it have to be repeated that it is not necessary for 0-conf to be perfectly secure to still have value? It is all a matter of the cost/benefit trade-off for small payments.\n\n> IMO there is a delusion out there that 0-conf can be made safe when in really can't be.\n\nI don't think anybody is saying 0-conf can be made ,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166394757,166394757,
petertodd,2015-12-21T19:22:23Z,"@chaosgrid: If you don't need zeroconf to be perfectly sscurd, then surely having an obscure CLI option to enable full-rbf isn't such a big deal in practice. It does however send a strong message that the Bitcoin Core team is not officially supporting zeroconf.\n\nOn 21 December 2015 11:18:47 GMT-08:00, chaosgrid notifications@github.com wrote:\n\n> @jameshilliard \n> \n> This is getting extremely",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166396263,166396263,
petertodd,2015-12-21T19:22:26Z,"James: there's also surprisingly few vendors that are actually vulnerable. For instance, even shapeshift.io has such restrictive rules about what zeroconf txs they'll accept that it's rare for them go accept a tx without a confirmation.\n\nOn 21 December 2015 10:29:27 GMT-08:00, James Hilliard notifications@github.com wrote:\n\n> @amacneil @sipa I think one thing about having this as an option is\",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166396276,166396276,
petertodd,2015-12-21T19:22:32Z,"Adrian: Any examples of a coinbase merchant that a) irrevocably provides the customer with something of value that can be sold, prior to the 1st confirmation b) doesn't have the customers identity.\n\nWithout that, you're not in a position where you are relying on zeroconf transactions.\n\nOn 21 December 2015 10:26:02 GMT-08:00, Adrian Macneil notifications@github.com wrote:\n\n> > IMO it basicall",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166396294,166396294,
jameshilliard,2015-12-21T19:27:52Z,"@chaosgrid \n\n> if pulling off a double spend attack is fairly difficult and expensive to do with FSS-behavior across the network\n\nIMO it's not that difficult, most businesses just don't offer service where a 0-conf would do much harm since they can just shut off a service or delay a shipment if it gets double spent.\n\n> So the issue is not a lack of attackers, but rather your failure of ident",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166397272,166397272,
sandakersmann,2015-12-21T19:31:56Z,NACK\n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166398012,166398012,
HostFat,2015-12-21T19:32:02Z,"I agree with @chaosgrid, and it's true that accepting zeroconf on face2face trades is very common.\nMany are completely aware of the risks, but usually the cost of the fraud is higher of the benefit, by losing reputation or even worst.\nSo by knowing this they still accept zeroconf on small tx, even by judging one by one their customers.\nNo one is forced on accepting them.\n\nAnyway, I think that",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166398040,166398040,
dgenr8,2015-12-21T20:48:03Z,"> having an obscure CLI option to enable full-rbf isn't such a big deal in practice\n\n@petertodd You must have forgotten about Linux distros who can package default options easily, but are much less likely to include software patches.  And what about windows/mac users who are happy to change a shortcut or conf file, but aren't going to download an untrusted binary?  The upstream project, us, has ",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166414108,166414108,
amacneil,2015-12-21T20:51:00Z,"@petertodd note for the record I am no longer affiliated with Coinbase, so information may be a little out of date and opinions here are my own.\n\nThe biggest target for 0-conf scammers are gift cards (both dedicated gift retailers, and regular merchants who sell gift cards). These are usually delivered electronically and easily be cashed out via purse.io or similar with little to no verified KYC",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166414785,166414785,
surg0r,2015-12-21T21:49:06Z,nack\n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166433530,166433530,
sandakersmann,2015-12-21T22:02:29Z,The people advocating for full-RBF do not want bitcoin to be used in retail situations. They want to cut this use case out of the ecosystem and full-RBF is their tool to accomplish this. They also think that full-RBF will ease the pain when we run into the 1MB blocksize limit and this is why they are in such a hurry to implement. They don't wish to be open about this since the public outcry will b,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166436162,166436162,
pstratem,2015-12-21T22:15:32Z,utACK 786f92d420650ee2918c482a31f44e1bd9326574\n\nEach node operator has the right to run whatever policy they wish.\n\nIf you oppose this pull request you oppose freedom of choice.\n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166438539,166438539,
sandakersmann,2015-12-21T22:22:07Z,> If you oppose this pull request you oppose freedom of choice.\n\nFreedom of choice is great. Let's remove the blocksize limit and let the miners make as big blocks that they wish!\n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166439884,166439884,
JornC,2015-12-21T23:06:40Z,"It's slightly unfortunate that this would negatively alter a small fraction of businesses' faulty security assumptions while there is not yet a suitable alternative available short of waiting for confirmation or introducing any sort of trust, but considering this has been a topic of strong contention for well over a year now, and that this outcome or anything equivalent in implication (0-conf is n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166451035,166451035,
sandakersmann,2015-12-21T23:21:57Z,"> businesses' faulty security assumptions\n\nBusinesses have done commerce with 0-conf transactions for years now. It is not assumptions, it works. But with full-RBF it won't work any more.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166456120,166456120,
surg0r,2015-12-21T23:25:17Z,"They know exactly what they are doing and breaking.\nOn 21 Dec 2015 23:23, ""sandakersmann"" notifications@github.com wrote:\n\n> businesses' faulty security assumptions\n> \n> Businesses have done commerce with 0-conf transactions for years now. It\n> is not assumptions, it works. But with full-RBF it won't work any more.\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://gith",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166457043,166457043,
sipa,2015-12-21T23:25:44Z,"I see no reason to provide full RBF in bitcoin core. Despite security\nconcerns, people seem to like transactions being an implicit promise not to\nbe double spent. We offer a way to explicitly opt-out of that promise now\nfor cases where it matters. I think that suffices.\n\nNAK\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166457103,166457103,
sandakersmann,2015-12-21T23:55:05Z,Good to hear that Pieter. You have always been the voice of reason from Blockstream.\n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166462081,166462081,
luke-jr,2015-12-22T02:10:55Z,"@sipa RBF does not change the implied promise of transactions, nor does setting the opt-out flag remove such a promise. I find it disappointing that even after your excellent post on how developers don't have authority to do a hardfork on our own, you seem to support developers usurping this authority from node operators. :/\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166480161,166480161,
dcousens,2015-12-22T02:18:05Z,"@luke-jr as mentioned above, I agree with this PR personally, probably for the same reasons you do.\n\nBut, I think you are confusing @sipa's comments on consensus authority with bitcoin/bitcoin's policy authority, which, is ~~much less important~~ not relevant?\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166482031,166482031,
jtimon,2015-12-22T02:45:24Z,"What about a -policy string argument:\n\n-policy=optinrbf [default]: Allows opt-in RBF.\n-policy=firstseen: Never allows spending conflicts replacements.\n-policy=fullrbf: Just does full RBF without looking at the op-in signal.\n\nThat would make it easier to add other policies in the future, for example:\n\n-policy=random: randomly rejects some consensus-valid txs to the mempool.\n-policy=test: t",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166487161,166487161,
dcousens,2015-12-22T02:55:57Z,@jtimon IMHO that is certainly the pipe dream. \n,https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166489198,166489198,
luke-jr,2015-12-22T03:22:27Z,"> But, I think you are confusing @sipa's comments on consensus authority with bitcoin/bitcoin's policy authority, which, is not relevant?\n\nMy point is that we don't have such an authority _at all_, and trying to force users to exercise their authority in specific ways by making their desired policies explicitly difficult, especially in a case like this where it is _easy_ to provide the configura",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166492572,166492572,
jtimon,2015-12-22T03:26:17Z,"@dcousens \n""pipe dream"": a hope, wish, or dream that is impossible to achieve or not practical.\nHow is changing an integer enumeration to a string enumeration impossible? \n\nRe mergeability discussion:\n\n> 2) Miners de facto enable full-RBF-always regardless of what Core supports\n\nThis alone justifies supporting full-RBF optionally IMO.\n- [X] The feature does not change consensus critical c",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166493599,166493599,
jtimon,2015-12-22T03:31:44Z,"> This is definitely where I'd like to see us go in the future, but not something viable for 0.12, which is the target of this PR.\n\nWell, in the future each policy could have their own parameters and you told me those could be easily configurable in the GUI dynamically (see #6423 ), but the command-line interface can look more like that right now. In fact, if people don't like -policy=test and t",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166494816,166494816,
dcousens,2015-12-22T03:32:32Z,"@jtimon to clarify, I meant,  that is exactly what I'd love to see,  but,  I'm not sure if it is going to be possible [in master anyway] due to how controversial this PR seems to be.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166494894,166494894,
luke-jr,2015-12-22T06:05:50Z,"Not worth arguing over this, so I'm just going to throw it in Bitcoin LJR and call it done.\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166520713,166520713,
jtimon,2015-12-22T19:53:22Z,"> Not worth arguing over this, so I'm just going to throw it in Bitcoin LJR and call it done.\n\nI didn't saw anyone complaining about offering firstseen (the previous default replacement policy) optionally. That will also make branches outside of Bitcoin Core that support -policy=fulrbf slightly easier to maintain (although it's currently pretty easy as shown by this PR anyway).\nIf we leave \n\n",https://github.com/bitcoin/bitcoin/pull/7219#issuecomment-166714829,166714829,
jonasschnelli,2015-12-16T12:22:10Z,`-replacebyfee`?\n,https://github.com/bitcoin/bitcoin/pull/7219#discussion_r47769119,47769119,src/init.cpp
luke-jr,2015-12-16T12:26:53Z,"Hm, maybe... a bit long though? Anyone else have any opinions on what to call this?\n\nI was originally thinking -replacementpolicy, but then started overengineering it and figured that would be better left to a general policy refactoring later...\n",https://github.com/bitcoin/bitcoin/pull/7219#discussion_r47769532,47769532,src/init.cpp
tulip0,2015-12-16T12:47:06Z,"Go with the longer, more detailed one. Mystery command line flags are no fun. \n",https://github.com/bitcoin/bitcoin/pull/7219#discussion_r47771242,47771242,src/init.cpp
dcousens,2015-12-16T13:02:52Z,"Both `-rbf` and `-replacebyfee` are acceptable IMHO.\nI'd personally opt towards the latter in all cases (API, code, variables, etc)\n",https://github.com/bitcoin/bitcoin/pull/7219#discussion_r47772630,47772630,src/init.cpp
jonasschnelli,2015-12-16T13:07:30Z,"I think abbreviations should not be used for command line arguments or RPC commands. Our scheme looks more (not everywhere) after full length parameters/commands (we use `createrawtransaction` instead of `createrawtx`, etc.).\n",https://github.com/bitcoin/bitcoin/pull/7219#discussion_r47773049,47773049,src/init.cpp
chaosgrid,2015-12-21T03:38:55Z,"Why does not entering a value default to ""always"", which is not the global default? This is biased towards Full-RBF and not intuitive, because no value for a setting would imply the default value (opt-in) is used.\n",https://github.com/bitcoin/bitcoin/pull/7219#discussion_r48115149,48115149,src/init.cpp
instagibbs,2015-12-21T04:01:12Z,"IIRC this is the default if someone passes the argument. But if the argument isn't passed, it's 2. I agree it's confusing. \n",https://github.com/bitcoin/bitcoin/pull/7219#discussion_r48115675,48115675,src/init.cpp
amacneil,2015-12-21T04:04:02Z,"I think this is a typo, [GetArg only accepts two arguments](https://github.com/bitcoin/bitcoin/blob/master/src/util.h#L166).\n",https://github.com/bitcoin/bitcoin/pull/7219#discussion_r48115727,48115727,src/init.cpp
instagibbs,2015-12-21T04:06:48Z,"Oh, right, in this pull he adds a third: https://github.com/bitcoin/bitcoin/pull/7219/files#diff-772f489c7d0a32de3badbfbcb5fd200dR162\n",https://github.com/bitcoin/bitcoin/pull/7219#discussion_r48115773,48115773,src/init.cpp
chaosgrid,2015-12-21T04:08:20Z,"Yes, he added it in the other commit. The third value is the default if the value string is empty, i.e. ""-replacebyfee"" defaults to ""-replacebyfee 1""\n",https://github.com/bitcoin/bitcoin/pull/7219#discussion_r48115816,48115816,src/init.cpp
amacneil,2015-12-21T04:13:19Z,"I see. Seems unnecessary, it would make more sense to use the default value if an empty/invalid string is passed.\n",https://github.com/bitcoin/bitcoin/pull/7219#discussion_r48116112,48116112,src/init.cpp
luke-jr,2015-12-21T12:19:41Z,"If a user passes -replacebyfee by itself, the logical expected behaviour is that it gets enabled always. The user wouldn't pass any option at all, if they merely wanted the default behaviour.\n",https://github.com/bitcoin/bitcoin/pull/7219#discussion_r48140694,48140694,src/init.cpp
jtimon,2015-12-22T02:48:01Z,There's no need to use continue here.\n,https://github.com/bitcoin/bitcoin/pull/7219#discussion_r48217319,48217319,src/main.cpp
jtimon,2015-12-22T02:53:02Z,Why not just return nDefault when the option is provided with no value?\n,https://github.com/bitcoin/bitcoin/pull/7219#discussion_r48217507,48217507,src/util.h
luke-jr,2015-12-22T03:18:06Z,The use case is given in the PR...\n,https://github.com/bitcoin/bitcoin/pull/7219#discussion_r48218552,48218552,src/util.h
luke-jr,2015-12-22T03:19:27Z,How not? Please elaborate.\n,https://github.com/bitcoin/bitcoin/pull/7219#discussion_r48218595,48218595,src/main.cpp
jtimon,2015-12-22T19:10:49Z,"The exact same behavior can be achieved on init without touching this function.\nI repeat the question, why not just return nDefault when the option is provided with no value?\nIn the concrete case of this PR, seems just a hack so that ""-replacebyfee"" is equivalent to ""-replacebyfee=1"" instead of ""-replacebyfee=2"" like it would be if this function received no extra parameters. In my opinion, that ",https://github.com/bitcoin/bitcoin/pull/7219#discussion_r48286684,48286684,src/util.h
jtimon,2015-12-22T19:37:43Z,"There's never a strict need for a continue statement:\n\n```\nwhile(fCondition)\n    if (!fA)\n       continue;\n    // Do AAA\n}\n```\n\nIs equivalent to\n\n```\nwhile(fCondition)\n    if (fA) {\n      // Do AAA\n    }\n}\n```\n\nwhich is what we had and you are changing for no good reason.\nThe second version (what we currently have) is not only more readable but also more flexible, for example,",https://github.com/bitcoin/bitcoin/pull/7219#discussion_r48289504,48289504,src/main.cpp
