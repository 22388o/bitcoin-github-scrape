promag,2018-08-01T13:34:33Z,"Could shuffle after `GroupOutputs()`? , just shuffle each `group.m_outputs` in the same condition? Currently `GroupOutputs` result depends on the input order, but that can change. Post-shuffle would be guaranteed.",https://github.com/bitcoin/bitcoin/pull/13808#issuecomment-409576390,409576390,
kallewoof,2018-08-02T03:43:33Z,"@promag You would have to not cap the size of groups and create them with unlimited size, then shuffle each one and break it into groups.. don't see the benefit to this, honestly, unless it has a huge impact on speed for big wallets or something?",https://github.com/bitcoin/bitcoin/pull/13808#issuecomment-409796302,409796302,
kallewoof,2018-08-09T23:12:14Z,Addressed @instagibbs nits (except unconditional shuffle).,https://github.com/bitcoin/bitcoin/pull/13808#issuecomment-411926725,411926725,
achow101,2018-08-10T18:46:42Z,utACK 18f690ec2f7eb1b4aa51825bfed0cbfdadc93ac7,https://github.com/bitcoin/bitcoin/pull/13808#issuecomment-412172060,412172060,
instagibbs,2018-08-10T18:49:38Z,utACK https://github.com/bitcoin/bitcoin/pull/13808/commits/18f690ec2f7eb1b4aa51825bfed0cbfdadc93ac7,https://github.com/bitcoin/bitcoin/pull/13808#issuecomment-412172785,412172785,
sipa,2018-08-10T22:40:15Z,"utACK 18f690ec2f7eb1b4aa51825bfed0cbfdadc93ac7, but can you update the PR description to explain the issue and solution? It isn't at all clear from the commit message or description why this is necessary.",https://github.com/bitcoin/bitcoin/pull/13808#issuecomment-412224614,412224614,
kallewoof,2018-08-11T04:57:56Z,@sipa I updated the description.,https://github.com/bitcoin/bitcoin/pull/13808#issuecomment-412251021,412251021,
MarcoFalke,2018-08-12T21:30:49Z,utACK 18f690ec2f7eb1b4aa51825bfed0cbfdadc93ac7,https://github.com/bitcoin/bitcoin/pull/13808#issuecomment-412373087,412373087,
fanquake,2018-08-13T09:09:46Z,utACK 18f690e,https://github.com/bitcoin/bitcoin/pull/13808#issuecomment-412455461,412455461,
instagibbs,2018-08-09T20:06:19Z,s/sorting/shuffling/ ?,https://github.com/bitcoin/bitcoin/pull/13808#discussion_r209061478,209061478,src/wallet/wallet.cpp
instagibbs,2018-08-09T20:06:42Z,"can we make this 10 a constant to make it easier for the reader/future writer, or make it a parameter to the grouping function itself?",https://github.com/bitcoin/bitcoin/pull/13808#discussion_r209061577,209061577,src/wallet/wallet.cpp
instagibbs,2018-08-09T20:10:14Z,"Second thought: Would an unconditional shuffle just be easier here? We shuffle inputs later post-selection, so nothing of value should be lost.",https://github.com/bitcoin/bitcoin/pull/13808#discussion_r209062652,209062652,src/wallet/wallet.cpp
kallewoof,2018-08-09T23:11:15Z,"I haven't checked, but I don't think you can remove the later shuffle, and you at least want to skip shuffling if `!m_avoid_partial_spends`, so I don't think unconditional is ideal here.\n\nI.e. if we could *move* the shuffle operation to always happen here, rather than later, that would work fine.\n\nIf we can't, we should at least not skip the extra shuffle if we are not grouping, since that",https://github.com/bitcoin/bitcoin/pull/13808#discussion_r209105813,209105813,src/wallet/wallet.cpp
