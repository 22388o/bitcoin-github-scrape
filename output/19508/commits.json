[
  {
    "sha": "fa8a99258947a9ee3749fa472180542920cd471c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYThhOTkyNTg5NDdhOWVlMzc0OWZhNDcyMTgwNTQyOTIwY2Q0NzFj",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-07-13T20:00:40Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-07-13T19:58:10Z"
      },
      "message": "Work around memory-aliasing in descriptor ParsePubkey",
      "tree": {
        "sha": "b76fb039c87ada4d39bb73f793e04e93ba6d405c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b76fb039c87ada4d39bb73f793e04e93ba6d405c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa8a99258947a9ee3749fa472180542920cd471c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUiqngv/Sb9YwEUth7mh0X3ObtESxbKcf+cHuLQnbj0faGSlRtJ0Apn7juqsGrkK\nYjxede24VJfTXGdYvN0h1HpszrumWVAj8h1FTOMhsWLGc26Qz/w0I3NT40GJ4eSH\nITuaR4fODgbGMTnkUBM1G4Uh25UPMqdckimqwQ069bhiqkRm4tv8pyJ3FomMVZ5P\nSeBC8tZoQ6tNBZU1Hxa/ZZikVXZRuRsAfytnVjVq0+LUVWrVirPy9EPaTf0vgG8/\nVmfyrr2Wtf6LEHnau78kijcVqkZEqy12RwriE2vQyIMiixzWyiOqxhlEkJIQyM9B\nHjS7T5EK9DpNRX0vKYtTwvolOeEFX3bZ4rvgARr+abVZRwTKWlN/+Bum0deI7OIS\neuNu2XTSyzLw6ud8HnsW3NUjhStqp22U5I4eiNeSiS7Cu3nyKhsHtk2H3mWwpgaE\nXsPRkHwvIhJzf2/BAK2yAmH0YjOwXZORwyEy2kp4TL3ZS5XGn4Y2mqnebVafbW+p\nPLyu4DEA\n=10Mx\n-----END PGP SIGNATURE-----",
        "payload": "tree b76fb039c87ada4d39bb73f793e04e93ba6d405c\nparent 37485baa275147470aa605e30654a8e42b3f9532\nauthor MarcoFalke <falke.marco@gmail.com> 1594670440 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1594670290 +0200\n\nWork around memory-aliasing in descriptor ParsePubkey\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa8a99258947a9ee3749fa472180542920cd471c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa8a99258947a9ee3749fa472180542920cd471c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa8a99258947a9ee3749fa472180542920cd471c/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "37485baa275147470aa605e30654a8e42b3f9532",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/37485baa275147470aa605e30654a8e42b3f9532",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/37485baa275147470aa605e30654a8e42b3f9532"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 2,
      "deletions": 1
    },
    "files": [
      {
        "sha": "6c5961f60e25478849ba35febcaa1ecb9fa5a9d3",
        "filename": "src/script/descriptor.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa8a99258947a9ee3749fa472180542920cd471c/src/script/descriptor.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa8a99258947a9ee3749fa472180542920cd471c/src/script/descriptor.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/descriptor.cpp?ref=fa8a99258947a9ee3749fa472180542920cd471c",
        "patch": "@@ -826,7 +826,8 @@ std::unique_ptr<PubkeyProvider> ParsePubkey(uint32_t key_exp_index, const Span<c\n     }\n     if (origin_split.size() == 1) return ParsePubkeyInner(key_exp_index, origin_split[0], permit_uncompressed, out, error);\n     if (origin_split[0].size() < 1 || origin_split[0][0] != '[') {\n-        error = strprintf(\"Key origin start '[ character expected but not found, got '%c' instead\", origin_split[0][0]);\n+        error = strprintf(\"Key origin start '[ character expected but not found, got '%c' instead\",\n+                          origin_split[0].size() < 1 ? /** empty, implies split char */ ']' : origin_split[0][0]);\n         return nullptr;\n     }\n     auto slash_split = Split(origin_split[0].subspan(1), '/');"
      }
    ]
  },
  {
    "sha": "fa2ae0ac8d43086430a29c73940ad6b1cd129e96",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTJhZTBhYzhkNDMwODY0MzBhMjljNzM5NDBhZDZiMWNkMTI5ZTk2",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-07-19T18:53:08Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-07-19T18:51:06Z"
      },
      "message": "span: Add Span::empty() and use it in script/descriptor",
      "tree": {
        "sha": "c35d078d3544cb8b66b23353bd93e38744e6b2b9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c35d078d3544cb8b66b23353bd93e38744e6b2b9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa2ae0ac8d43086430a29c73940ad6b1cd129e96",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUiwRgwAhjU6eW8EpBNMw4ddzSC0C975kMVNJx/Wq6Ikt7Jl23BowjNSHa8ZYOwU\nrabmGZAyN6mVTVM8rDtZ1Z0l9aOdf98nwD7BcGylVPywQVkgvN5SC8AF8Eo42hcN\nAAV44UlH9aWcMj7k+RyP6hXQSKbLVzkZy6p853+BJNIGCu5Qo0LeSVyxdMTxd05W\nHF5Qs5UNhapO00PzTtBk9a+Qu5yGf3UQdjSJGQs16GfjHPXyoqO11eXe3eupUGnq\nnH17gql52oigOnGRhU6esB6ksEeqwdHaBGmcPvrevD6Nga1IPcuA1Qx953zdGqku\nQ2G26E+n/6jC/iIL8iWi79rA91qt/9CPCKeEYDA+VvZyR8uBMfjqthQXZ4u/Hcqi\nbDNnHHWGxqoFtj32KCt4gLlkEPCWMrAJrvFXfx6yUXAVL2I88wf4oe9sXQp3Z7Jj\ntLNRCkvhR0LkEctGSUJ4gI5llloIXCzHOEiqvwFMb1zvl+TV5MUOr2xj3HNqur41\n1yGN4PPr\n=ox55\n-----END PGP SIGNATURE-----",
        "payload": "tree c35d078d3544cb8b66b23353bd93e38744e6b2b9\nparent fa8a99258947a9ee3749fa472180542920cd471c\nauthor MarcoFalke <falke.marco@gmail.com> 1595184788 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1595184666 +0200\n\nspan: Add Span::empty() and use it in script/descriptor\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa2ae0ac8d43086430a29c73940ad6b1cd129e96",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2ae0ac8d43086430a29c73940ad6b1cd129e96",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa2ae0ac8d43086430a29c73940ad6b1cd129e96/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa8a99258947a9ee3749fa472180542920cd471c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa8a99258947a9ee3749fa472180542920cd471c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa8a99258947a9ee3749fa472180542920cd471c"
      }
    ],
    "stats": {
      "total": 7,
      "additions": 4,
      "deletions": 3
    },
    "files": [
      {
        "sha": "9978d084d5257a4c93f21d125c30a9b0b503e9d5",
        "filename": "src/script/descriptor.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa2ae0ac8d43086430a29c73940ad6b1cd129e96/src/script/descriptor.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa2ae0ac8d43086430a29c73940ad6b1cd129e96/src/script/descriptor.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/descriptor.cpp?ref=fa2ae0ac8d43086430a29c73940ad6b1cd129e96",
        "patch": "@@ -825,9 +825,9 @@ std::unique_ptr<PubkeyProvider> ParsePubkey(uint32_t key_exp_index, const Span<c\n         return nullptr;\n     }\n     if (origin_split.size() == 1) return ParsePubkeyInner(key_exp_index, origin_split[0], permit_uncompressed, out, error);\n-    if (origin_split[0].size() < 1 || origin_split[0][0] != '[') {\n+    if (origin_split[0].empty() || origin_split[0][0] != '[') {\n         error = strprintf(\"Key origin start '[ character expected but not found, got '%c' instead\",\n-                          origin_split[0].size() < 1 ? /** empty, implies split char */ ']' : origin_split[0][0]);\n+                          origin_split[0].empty() ? /** empty, implies split char */ ']' : origin_split[0][0]);\n         return nullptr;\n     }\n     auto slash_split = Split(origin_split[0].subspan(1), '/');\n@@ -897,7 +897,7 @@ std::unique_ptr<DescriptorImpl> ParseScript(uint32_t key_exp_index, Span<const c\n             providers.emplace_back(std::move(pk));\n             key_exp_index++;\n         }\n-        if (providers.size() < 1 || providers.size() > 16) {\n+        if (providers.empty() || providers.size() > 16) {\n             error = strprintf(\"Cannot have %u keys in multisig; must have between 1 and 16 keys, inclusive\", providers.size());\n             return nullptr;\n         } else if (thres < 1) {"
      },
      {
        "sha": "79f13c9203221c8b5e7eebcda66def1f51e8e160",
        "filename": "src/span.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa2ae0ac8d43086430a29c73940ad6b1cd129e96/src/span.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa2ae0ac8d43086430a29c73940ad6b1cd129e96/src/span.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/span.h?ref=fa2ae0ac8d43086430a29c73940ad6b1cd129e96",
        "patch": "@@ -151,6 +151,7 @@ class Span\n         return m_data[m_size - 1];\n     }\n     constexpr std::size_t size() const noexcept { return m_size; }\n+    constexpr bool empty() const noexcept { return size() == 0; }\n     CONSTEXPR_IF_NOT_DEBUG C& operator[](std::size_t pos) const noexcept\n     {\n         ASSERT_IF_DEBUG(size() > pos);"
      }
    ]
  }
]