[
  {
    "sha": "a3f61676e83e908da67664c6163db61d1d11c5d2",
    "node_id": "C_kwDOABII59oAKGEzZjYxNjc2ZTgzZTkwOGRhNjc2NjRjNjE2M2RiNjFkMWQxMWM1ZDI",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-11-13T18:35:59Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-11-28T12:08:54Z"
      },
      "message": "test: Make more shell scripts verifiable by the `shellcheck` tool",
      "tree": {
        "sha": "5ff45a8c5bc025f072cbd165f72de890b90a5dde",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5ff45a8c5bc025f072cbd165f72de890b90a5dde"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a3f61676e83e908da67664c6163db61d1d11c5d2",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmGjcVYACgkQQQEIES5+\nqB+23g//TIcHhDnNz/WPOHB+bwYePfgFqpDIhTdwPgAjiPNjz9nUdHUwWouZCF4A\n2kEkIZvvKZwcHLKHaGjgfbSHLMKoRDDgyIpW/noANyoN+w1Q3PnO81A/PsG51zGq\nPlF2IfGL6PmfnYE2n0LRkBhQJP2XfwQjoOXEEZ6Q7imCGGYN0lLy1zTeoY/frckv\n/5wfO0xQFD9aGEbK0JoOzPYTeDxGEtJgyAF6hHHQOux4y4H7hmK7zvztmYcrpMDv\n0KQTLCOH5nOuQp5W+zEdCm2ZMGhTJTgi7OiJJvISayRFSQRCRjS1/zK+iHs5pLCN\nFOLn5FKEoSzrJ78gJgzUEAdYATHwo30v/sUmrjPnoNtwOzx0May0zPWwIq9CV5I9\n7kwCFJ9pafwdIwvj7ywMjWme/fp9bOHs6emEyN+R2NwSfS6oJG6ngIQbKaZvBL4R\nrySeCgU5/0hqLGxLaiZvcLrytW8xRhZC6xd7fQ7shuNzX+C4qydYYGF8khZvOae1\nQEZdHJQ1wzHbm/d/HAcmgpM4LQAHGF7fKbuOZn1Gf+O/Txjap23Mcew8urAqWLFW\nLE7td9F2syhB2i8JC9+ukisU8i8CvQJmOBOOQg8Ciu0TujiqtgC1SpkEaZTxv+eF\ntBJBYsPzoAdt92Y8dKkV4OhHQ2I6N2v/3ucJj6+3135rN5l9B5c=\n=AjM2\n-----END PGP SIGNATURE-----",
        "payload": "tree 5ff45a8c5bc025f072cbd165f72de890b90a5dde\nparent 7f0f853373703a020529dd9394fca525475086b7\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1636828559 +0200\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1638101334 +0200\n\ntest: Make more shell scripts verifiable by the `shellcheck` tool\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a3f61676e83e908da67664c6163db61d1d11c5d2",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a3f61676e83e908da67664c6163db61d1d11c5d2",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a3f61676e83e908da67664c6163db61d1d11c5d2/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7f0f853373703a020529dd9394fca525475086b7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7f0f853373703a020529dd9394fca525475086b7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7f0f853373703a020529dd9394fca525475086b7"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 5,
      "deletions": 4
    },
    "files": [
      {
        "sha": "1f287e9bbb5a122584344feac2bd2f1b1122ad52",
        "filename": "contrib/guix/libexec/prelude.bash",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a3f61676e83e908da67664c6163db61d1d11c5d2/contrib/guix/libexec/prelude.bash",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a3f61676e83e908da67664c6163db61d1d11c5d2/contrib/guix/libexec/prelude.bash",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/libexec/prelude.bash?ref=a3f61676e83e908da67664c6163db61d1d11c5d2",
        "patch": "@@ -2,10 +2,10 @@\n export LC_ALL=C\n set -e -o pipefail\n \n-# shellcheck source=../../shell/realpath.bash\n+# shellcheck source=contrib/shell/realpath.bash\n source contrib/shell/realpath.bash\n \n-# shellcheck source=../../shell/git-utils.bash\n+# shellcheck source=contrib/shell/git-utils.bash\n source contrib/shell/git-utils.bash\n \n ################"
      },
      {
        "sha": "c8b88a777afbc2dca2564cc14a4d9b7a9a97d055",
        "filename": "test/lint/lint-shell.sh",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a3f61676e83e908da67664c6163db61d1d11c5d2/test/lint/lint-shell.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a3f61676e83e908da67664c6163db61d1d11c5d2/test/lint/lint-shell.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/lint/lint-shell.sh?ref=a3f61676e83e908da67664c6163db61d1d11c5d2",
        "patch": "@@ -20,12 +20,13 @@ if ! command -v shellcheck > /dev/null; then\n     exit $EXIT_CODE\n fi\n \n-SHELLCHECK_CMD=(shellcheck --external-sources --check-sourced)\n+SHELLCHECK_CMD=(shellcheck --external-sources --check-sourced --source-path=SCRIPTDIR)\n EXCLUDE=\"--exclude=$(IFS=','; echo \"${disabled[*]}\")\"\n # Check shellcheck directive used for sourced files\n mapfile -t SOURCED_FILES < <(git ls-files | xargs gawk '/^# shellcheck shell=/ {print FILENAME} {nextfile}')\n+mapfile -t GUIX_FILES < <(git ls-files contrib/guix contrib/shell | xargs gawk '/^#!\\/usr\\/bin\\/env bash/ {print FILENAME} {nextfile}')\n mapfile -t FILES < <(git ls-files -- '*.sh' | grep -vE 'src/(leveldb|secp256k1|minisketch|univalue)/')\n-if ! \"${SHELLCHECK_CMD[@]}\" \"$EXCLUDE\" \"${SOURCED_FILES[@]}\" \"${FILES[@]}\"; then\n+if ! \"${SHELLCHECK_CMD[@]}\" \"$EXCLUDE\" \"${SOURCED_FILES[@]}\" \"${GUIX_FILES[@]}\" \"${FILES[@]}\"; then\n     EXIT_CODE=1\n fi\n "
      }
    ]
  }
]