theStack,2021-08-17 17:29:09,"> Interesting. Are these error cases already covered by `./src/test/test_bitcoin -t script_tests`?\n\nIt seems like each one of the following script interpreter errors (see `src/script/script_error.cpp`):\n- ERR_WITNESS_PROGRAM_WITNESS_EMPTY (""Witness program was passed an empty witness"")\n- ERR_WITNESS_UNEXPECTED (""Witness provided for non-witness script"")\n- ERR_CLEANSTACK (""Stack size must",https://github.com/bitcoin/bitcoin/pull/22711#issuecomment-900493558,900493558,
DrahtBot,2021-08-30 23:56:27,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/22711#issuecomment-908786685,908786685,
josibake,2021-08-31 11:03:26,reACK: https://github.com/bitcoin/bitcoin/pull/22711/commits/00b93e5e990b04e8f8b3e1d6d0a274de89e83f8b,https://github.com/bitcoin/bitcoin/pull/22711#issuecomment-909132019,909132019,
theStack,2021-09-24 16:15:12,Rebased on master.,https://github.com/bitcoin/bitcoin/pull/22711#issuecomment-926755963,926755963,
pg156,2021-09-29 14:51:16,Concept and approach ACK,https://github.com/bitcoin/bitcoin/pull/22711#issuecomment-930251861,930251861,
jonatack,2021-08-17 16:24:15,"(Per `git show ca6523d0c8` (thanks for the commit reference!) this was changed in January 2018, is it still accurate, covered in `feature_block.py`?)",https://github.com/bitcoin/bitcoin/pull/22711#discussion_r690530132,690530132,test/functional/p2p_segwit.py
theStack,2021-08-17 17:28:45,"Yes, I think the relevant part is here:\n\nhttps://github.com/bitcoin/bitcoin/blob/fdd80b0a53b4af0b29cb6e03118e2456d053a757/test/functional/feature_block.py#L315-L337\n\nThese blocks (as all others in feature_block.py, IIRC) don't have a witness commitment, so they are ""non-witness carrying blocks"". For those the serialized size equals to the block weight divided by WITNESS_SCALE_FACTOR (4), i",https://github.com/bitcoin/bitcoin/pull/22711#discussion_r690578934,690578934,test/functional/p2p_segwit.py
laanwj,2021-08-18 12:15:42,Is this TODO still relevant now that it explicitly sets single-threaded validation?,https://github.com/bitcoin/bitcoin/pull/22711#discussion_r691179132,691179132,test/functional/p2p_segwit.py
theStack,2021-08-18 12:55:39,"Good question. One could argue that by implementing this TODO it'd be possible to further increase test coverage by asserting for the two different reject reasons dynamically, depending on whether `g_parallel_script_checks` is on; so on single-core systems, the specific message would be checked (like in this PR), and on multi-core systems, the more generic error message `block-validation-failed` w",https://github.com/bitcoin/bitcoin/pull/22711#discussion_r691209611,691209611,test/functional/p2p_segwit.py
MarcoFalke,2021-08-26 16:34:38,Maybe remove the TODO then?,https://github.com/bitcoin/bitcoin/pull/22711#discussion_r696798153,696798153,test/functional/p2p_segwit.py
theStack,2021-08-26 18:09:50,"@MarcoFalke: Yes, seems to be better to remove it (forgot to do that after my comment). Done.",https://github.com/bitcoin/bitcoin/pull/22711#discussion_r696866825,696866825,test/functional/p2p_segwit.py
