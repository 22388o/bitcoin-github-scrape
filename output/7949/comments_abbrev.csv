laanwj,2016-04-26T15:40:03Z,"I like the concept of being able to listen for events through http, however I think this is severely limited by having server-side state, limiting the number of listeners to only one.\n\nWhat I'd personally prefer is, instead of longpolling, to subscribe to a 'stream' of events (e.g. websocket or just chunked encoding), where the set of events to listen to is in the request. This avoids having to ",https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-214786965,214786965,
jonasschnelli,2016-04-26T15:45:30Z,"> [... ] having server-side state, limiting the number of listeners to only one\n\nRight. The current implementation limits to only one listener. Extending this PR so it would support a client chosen UUID would not be very complicated (a set of queues and a set of registered notification types). Clients could register notification types along with a client-chosen UUID.\nI might extend this PR to s",https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-214789068,214789068,
jonasschnelli,2016-04-26T17:45:23Z,"Added a commit that allows multiple clients at the same time.\n\nThe new RPC commands require now a `clientUUID` parameter (a per client unique string, ideally a UUID after RFC 4122). Bitcoind keeps a queue, sequence numbers and registered types per client.\n\nThere is currently not max client limit and no way to remove clients (though you can unregister all notification types but not empty the cu",https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-214824842,214824842,
jonasschnelli,2016-05-06T09:53:11Z,Rebased.\nWould be nice to get some concept NACKs/ACKs.\n,https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-217400507,217400507,
jonasschnelli,2016-05-12T10:54:32Z,Rebased.\n,https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-218724368,218724368,
laanwj,2017-01-11T13:09:26Z,Gah we need to take a look at this again after 0.14 is released.,https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-271864278,271864278,
jonasschnelli,2017-01-11T13:27:05Z,Yes. Sure. I'll try to re-base and overhaul this soon.,https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-271867853,271867853,
TheBlueMatt,2017-09-28T16:47:06Z,"Plan on rebasing this, or should just be closed?",https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-332896020,332896020,
jonasschnelli,2017-09-28T16:57:42Z,I'm currently rewriting this... will be ready soon.,https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-332898896,332898896,
jonasschnelli,2017-10-20T06:02:06Z,"Overhauled and rebased.\n\nThis is still server based (server keeps track of what the client has) queue max size is currently 1024^2 and does only contain hashes of blocks or transactions.\nEach notification comes with a sequence number to detect lost transactions (which then should trigger a ""full-client-sync"").",https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-338113926,338113926,
TheBlueMatt,2017-11-06T18:51:37Z,"Also, looks like the test is failing.",https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-342247619,342247619,
NicolasDorier,2018-01-10T16:10:46Z,"Strong Concept ACK for this one ! \n@jonasschnelli any idea if you will bring this one from the dead?",https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-356650229,356650229,
jonasschnelli,2018-01-10T18:50:10Z,"@NicolasDorier \nI think there is no consensus about an additional push channel... also, @sipa brought up the idea of having a push channel (could be long poll) that acts similar then `listsinceblock` where the server doesn't need to keep track of clients (keep a queue).\nI haven't looked closer at this approach.",https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-356699212,356699212,
NicolasDorier,2018-01-14T19:15:58Z,"I implemented a similar solution in NBXplorer. Basically there is a `GetUTXOs(xPub)` call, this call replay all the transactions of the xpub in topological order to create the current utxo for this xpub. While playing the transactions, it hashes them along the way (the hash after each transaction is effectively the equivalent of a `bookmark`). Then the bookmark + the UTXO is sent back to the clien",https://github.com/bitcoin/bitcoin/pull/7949#issuecomment-357534439,357534439,
MarcoFalke,2016-05-06T10:10:47Z,Nit: python3\n,https://github.com/bitcoin/bitcoin/pull/7949#discussion_r62311355,62311355,qa/rpc-tests/rpcsignals.py
jonasschnelli,2016-05-06T10:29:06Z,Fixed.\n,https://github.com/bitcoin/bitcoin/pull/7949#discussion_r62313033,62313033,qa/rpc-tests/rpcsignals.py
TheBlueMatt,2017-11-06T17:59:29Z,"Ugh, can we not use more BOOST_FOREACH garbage? Should be really easy to rewrite this without, no?",https://github.com/bitcoin/bitcoin/pull/7949#discussion_r149155028,149155028,src/rpc/notifications.cpp
TheBlueMatt,2017-11-06T18:00:45Z,"I dont think this is the notification we want  here - dont we want to use BlockConnected/Disconnected to notify clients of all connected blocks, not just new tips after reorgs which potentially connect multiple blocks?",https://github.com/bitcoin/bitcoin/pull/7949#discussion_r149155354,149155354,src/rpc/notifications.cpp
TheBlueMatt,2017-11-06T18:02:48Z,"I generally prefer 64 bit ints here - sure, its unlikely you'd overflow 32 bits, but if you're online for 3 or 4 years you may start getting closeish.",https://github.com/bitcoin/bitcoin/pull/7949#discussion_r149155844,149155844,src/rpc/notifications.cpp
TheBlueMatt,2017-11-06T18:15:14Z,"I'd be somwhat worried we'd fill someone's drive with debug log entries in case they forget to deregister a listener, here.",https://github.com/bitcoin/bitcoin/pull/7949#discussion_r149158599,149158599,src/rpc/notifications.cpp
TheBlueMatt,2017-11-06T18:29:11Z,"It'd be great if we could de-duplicate the queues here - no need to have a queue per client, just have a global queue and keep track of how far delayed all the clients are in terms of the sequence number and just clean things up to the furthest-back client.",https://github.com/bitcoin/bitcoin/pull/7949#discussion_r149162289,149162289,src/rpc/notifications.cpp
TheBlueMatt,2017-11-06T18:33:06Z,"Also, please use unique_ptr here instead of manual management and maybe remove the queue when there are no registered types (and, I suppose, the client is caught up) instead of keeping around a null queue.",https://github.com/bitcoin/bitcoin/pull/7949#discussion_r149163276,149163276,src/rpc/notifications.cpp
TheBlueMatt,2017-11-06T18:34:53Z,Should probably use a CV and a way for Interrupt to interrupt it instead of calling ShutdownRequested in a 500ms loop.,https://github.com/bitcoin/bitcoin/pull/7949#discussion_r149163720,149163720,src/rpc/notifications.cpp
practicalswift,2018-09-02T18:37:16Z,Typo found by `codespell`: becase,https://github.com/bitcoin/bitcoin/pull/7949#discussion_r214549319,214549319,src/rpc/notifications.cpp
practicalswift,2018-09-02T18:37:40Z,Typo found by `codespell`: successfull,https://github.com/bitcoin/bitcoin/pull/7949#discussion_r214549340,214549340,src/rpc/notifications.cpp
promag,2018-11-08T15:28:28Z,ðŸ‘€ ,https://github.com/bitcoin/bitcoin/pull/7949#discussion_r231934058,231934058,src/rpc/notifications.cpp
