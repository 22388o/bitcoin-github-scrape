[
  {
    "sha": "96ff9d64037bba25c080b4f26e64e7f01c6f34f1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5NmZmOWQ2NDAzN2JiYTI1YzA4MGI0ZjI2ZTY0ZTdmMDFjNmYzNGYx",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-07-15T08:22:27Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-07-15T08:26:44Z"
      },
      "message": "Can't log to debug log before chain params initialized\n\nAdd a function `AreBaseParamsConfigured` and use this to check\nbefore writing to the debug log. This avoids assertions when the\napplication happens to log too early, which happens in the GUI.\n\nMessages logged before the base parameters are configured can be\nshown using `-printtoconsole`.",
      "tree": {
        "sha": "f712605e533b91ad26b22cd7f16248dac9c79b92",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f712605e533b91ad26b22cd7f16248dac9c79b92"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/96ff9d64037bba25c080b4f26e64e7f01c6f34f1",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/96ff9d64037bba25c080b4f26e64e7f01c6f34f1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/96ff9d64037bba25c080b4f26e64e7f01c6f34f1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/96ff9d64037bba25c080b4f26e64e7f01c6f34f1/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2c0f019bfc0b9381b6dcad5960df48379b8dfe20",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2c0f019bfc0b9381b6dcad5960df48379b8dfe20",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2c0f019bfc0b9381b6dcad5960df48379b8dfe20"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 11,
      "deletions": 1
    },
    "files": [
      {
        "sha": "720e24c4a8b22fd860d1bfeb87f27d70434cf769",
        "filename": "src/chainparamsbase.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/96ff9d64037bba25c080b4f26e64e7f01c6f34f1/src/chainparamsbase.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/96ff9d64037bba25c080b4f26e64e7f01c6f34f1/src/chainparamsbase.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/chainparamsbase.cpp?ref=96ff9d64037bba25c080b4f26e64e7f01c6f34f1",
        "patch": "@@ -91,3 +91,7 @@ bool SelectBaseParamsFromCommandLine() {\n     }\n     return true;\n }\n+\n+bool AreBaseParamsConfigured() {\n+    return pCurrentBaseParams != NULL;\n+}"
      },
      {
        "sha": "4398f6954805088a280bd1eb022104da2954073e",
        "filename": "src/chainparamsbase.h",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/96ff9d64037bba25c080b4f26e64e7f01c6f34f1/src/chainparamsbase.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/96ff9d64037bba25c080b4f26e64e7f01c6f34f1/src/chainparamsbase.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/chainparamsbase.h?ref=96ff9d64037bba25c080b4f26e64e7f01c6f34f1",
        "patch": "@@ -49,4 +49,10 @@ void SelectBaseParams(CBaseChainParams::Network network);\n  */\n bool SelectBaseParamsFromCommandLine();\n \n+/**\n+ * Return true if SelectBaseParamsFromCommandLine() has been called to select\n+ * a network.\n+ */\n+bool AreBaseParamsConfigured();\n+\n #endif"
      },
      {
        "sha": "d3fa5182f37aaeb7066250e1f780af38763a3185",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/96ff9d64037bba25c080b4f26e64e7f01c6f34f1/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/96ff9d64037bba25c080b4f26e64e7f01c6f34f1/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=96ff9d64037bba25c080b4f26e64e7f01c6f34f1",
        "patch": "@@ -205,7 +205,7 @@ int LogPrintStr(const std::string &str)\n         // print to console\n         ret = fwrite(str.data(), 1, str.size(), stdout);\n     }\n-    else if (fPrintToDebugLog)\n+    else if (fPrintToDebugLog && AreBaseParamsConfigured())\n     {\n         static bool fStartedNewLine = true;\n         boost::call_once(&DebugPrintInit, debugPrintInitFlag);"
      }
    ]
  },
  {
    "sha": "c715ff52c75398a3a65975f1d1b23834bd8426ee",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjNzE1ZmY1MmM3NTM5OGEzYTY1OTc1ZjFkMWIyMzgzNGJkODQyNmVl",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-07-15T08:23:28Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-07-15T08:26:50Z"
      },
      "message": "ui: Replace some LogPrintfs with qDebug()\n\nThese are relatively unimportant messages, so don't need to be logged\nwithout -debug=ui.",
      "tree": {
        "sha": "a1cd6e7e76b48a5f1892dddaacacd81233336959",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a1cd6e7e76b48a5f1892dddaacacd81233336959"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c715ff52c75398a3a65975f1d1b23834bd8426ee",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c715ff52c75398a3a65975f1d1b23834bd8426ee",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c715ff52c75398a3a65975f1d1b23834bd8426ee",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c715ff52c75398a3a65975f1d1b23834bd8426ee/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "96ff9d64037bba25c080b4f26e64e7f01c6f34f1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/96ff9d64037bba25c080b4f26e64e7f01c6f34f1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/96ff9d64037bba25c080b4f26e64e7f01c6f34f1"
      }
    ],
    "stats": {
      "total": 19,
      "additions": 10,
      "deletions": 9
    },
    "files": [
      {
        "sha": "6b1e50922e900c8d7dda74fbf39d498cf052cc80",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 10,
        "deletions": 9,
        "changes": 19,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c715ff52c75398a3a65975f1d1b23834bd8426ee/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c715ff52c75398a3a65975f1d1b23834bd8426ee/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=c715ff52c75398a3a65975f1d1b23834bd8426ee",
        "patch": "@@ -34,6 +34,7 @@\n \n #include <boost/filesystem/operations.hpp>\n #include <QApplication>\n+#include <QDebug>\n #include <QLibraryInfo>\n #include <QLocale>\n #include <QMessageBox>\n@@ -237,7 +238,7 @@ void BitcoinCore::initialize()\n {\n     try\n     {\n-        LogPrintf(\"Running AppInit2 in thread\\n\");\n+        qDebug() << __func__ << \": Running AppInit2 in thread\";\n         int rv = AppInit2(threadGroup);\n         if(rv)\n         {\n@@ -258,11 +259,11 @@ void BitcoinCore::shutdown()\n {\n     try\n     {\n-        LogPrintf(\"Running Shutdown in thread\\n\");\n+        qDebug() << __func__ << \": Running Shutdown in thread\";\n         threadGroup.interrupt_all();\n         threadGroup.join_all();\n         Shutdown();\n-        LogPrintf(\"Shutdown finished\\n\");\n+        qDebug() << __func__ << \": Shutdown finished\";\n         emit shutdownResult(1);\n     } catch (std::exception& e) {\n         handleRunawayException(&e);\n@@ -290,10 +291,10 @@ BitcoinApplication::BitcoinApplication(int &argc, char **argv):\n \n BitcoinApplication::~BitcoinApplication()\n {\n-    LogPrintf(\"Stopping thread\\n\");\n+    qDebug() << __func__ << \": Stopping thread\";\n     emit stopThread();\n     coreThread->wait();\n-    LogPrintf(\"Stopped thread\\n\");\n+    qDebug() << __func__ << \": Stopped thread\";\n \n     delete window;\n     window = 0;\n@@ -355,13 +356,13 @@ void BitcoinApplication::startThread()\n \n void BitcoinApplication::requestInitialize()\n {\n-    LogPrintf(\"Requesting initialize\\n\");\n+    qDebug() << __func__ << \": Requesting initialize\";\n     emit requestedInitialize();\n }\n \n void BitcoinApplication::requestShutdown()\n {\n-    LogPrintf(\"Requesting shutdown\\n\");\n+    qDebug() << __func__ << \": Requesting shutdown\";\n     window->hide();\n     window->setClientModel(0);\n     pollShutdownTimer->stop();\n@@ -383,7 +384,7 @@ void BitcoinApplication::requestShutdown()\n \n void BitcoinApplication::initializeResult(int retval)\n {\n-    LogPrintf(\"Initialization result: %i\\n\", retval);\n+    qDebug() << __func__ << \": Initialization result: \" << retval;\n     // Set exit result: 0 if successful, 1 if failure\n     returnValue = retval ? 0 : 1;\n     if(retval)\n@@ -438,7 +439,7 @@ void BitcoinApplication::initializeResult(int retval)\n \n void BitcoinApplication::shutdownResult(int retval)\n {\n-    LogPrintf(\"Shutdown result: %i\\n\", retval);\n+    qDebug() << __func__ << \": Shutdown result: \" << retval;\n     quit(); // Exit main loop after shutdown finished\n }\n "
      }
    ]
  },
  {
    "sha": "33357b27a0f6e344e760caf87e96b577b4c25ad7",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozMzM1N2IyN2EwZjZlMzQ0ZTc2MGNhZjg3ZTk2YjU3N2I0YzI1YWQ3",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-07-15T14:26:16Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-07-15T14:27:47Z"
      },
      "message": "qt: Start core thread only when needed\n\nStart the core thread only when needed for initialization\nor shutdown.\n\nAvoids a bit of overhead, and also avoids spamming two\nlog messages before logging is properly initialized.",
      "tree": {
        "sha": "94d93c0701f25d22a1b205f79cb2fcde0a9091c7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/94d93c0701f25d22a1b205f79cb2fcde0a9091c7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/33357b27a0f6e344e760caf87e96b577b4c25ad7",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQEcBAABCgAGBQJTxTpkAAoJEHSBCwEjRsmm2YUH/A2hczGGkBRXDPUy715Fic0z\n/Viq5ZO/GbEDa6OImTNmfqalzlToX/hIiJd3mik9eYNZLZqDhtSMaK2CgUG2uVRt\nPSLvjPdRo0xnhZOaHDQof105irSAuErsj2b0u3t9UGB81ZNVxzd1q2PrVyorGEN8\np92qCBnNyP/eulNiMkZXxS2kWUwCEMIuifIOnRpFnQZtfmxylp9YhUMGGyg1t4me\nmN/ArJeKaQYJmhXcpnZtJ1pD9ULr19jKf/rjw5beEKMx62rG7aBDUrSP/YSJiDTb\nQpT6crwg0YU2qpD8k+c87P3BnQc5i0dSivWQMR84LsSQNzqDfmaDdRpFR+Me7tI=\n=XN4j\n-----END PGP SIGNATURE-----",
        "payload": "tree 94d93c0701f25d22a1b205f79cb2fcde0a9091c7\nparent c715ff52c75398a3a65975f1d1b23834bd8426ee\nauthor Wladimir J. van der Laan <laanwj@gmail.com> 1405434376 +0200\ncommitter Wladimir J. van der Laan <laanwj@gmail.com> 1405434467 +0200\n\nqt: Start core thread only when needed\n\nStart the core thread only when needed for initialization\nor shutdown.\n\nAvoids a bit of overhead, and also avoids spamming two\nlog messages before logging is properly initialized.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/33357b27a0f6e344e760caf87e96b577b4c25ad7",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/33357b27a0f6e344e760caf87e96b577b4c25ad7",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/33357b27a0f6e344e760caf87e96b577b4c25ad7/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c715ff52c75398a3a65975f1d1b23834bd8426ee",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c715ff52c75398a3a65975f1d1b23834bd8426ee",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c715ff52c75398a3a65975f1d1b23834bd8426ee"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 11,
      "deletions": 5
    },
    "files": [
      {
        "sha": "43466663fa9733f3c3be7024554727b6c1a642ba",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 5,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/33357b27a0f6e344e760caf87e96b577b4c25ad7/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/33357b27a0f6e344e760caf87e96b577b4c25ad7/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=33357b27a0f6e344e760caf87e96b577b4c25ad7",
        "patch": "@@ -286,15 +286,17 @@ BitcoinApplication::BitcoinApplication(int &argc, char **argv):\n     returnValue(0)\n {\n     setQuitOnLastWindowClosed(false);\n-    startThread();\n }\n \n BitcoinApplication::~BitcoinApplication()\n {\n-    qDebug() << __func__ << \": Stopping thread\";\n-    emit stopThread();\n-    coreThread->wait();\n-    qDebug() << __func__ << \": Stopped thread\";\n+    if(coreThread)\n+    {\n+        qDebug() << __func__ << \": Stopping thread\";\n+        emit stopThread();\n+        coreThread->wait();\n+        qDebug() << __func__ << \": Stopped thread\";\n+    }\n \n     delete window;\n     window = 0;\n@@ -337,6 +339,8 @@ void BitcoinApplication::createSplashScreen(bool isaTestNet)\n \n void BitcoinApplication::startThread()\n {\n+    if(coreThread)\n+        return;\n     coreThread = new QThread(this);\n     BitcoinCore *executor = new BitcoinCore();\n     executor->moveToThread(coreThread);\n@@ -357,12 +361,14 @@ void BitcoinApplication::startThread()\n void BitcoinApplication::requestInitialize()\n {\n     qDebug() << __func__ << \": Requesting initialize\";\n+    startThread();\n     emit requestedInitialize();\n }\n \n void BitcoinApplication::requestShutdown()\n {\n     qDebug() << __func__ << \": Requesting shutdown\";\n+    startThread();\n     window->hide();\n     window->setClientModel(0);\n     pollShutdownTimer->stop();"
      }
    ]
  }
]