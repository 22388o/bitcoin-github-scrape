[
  {
    "sha": "fa831684e54783f6b40533ca218eb7636bdae667",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTgzMTY4NGU1NDc4M2Y2YjQwNTMzY2EyMThlYjc2MzZiZGFlNjY3",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-07-19T09:09:59Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-09-05T09:44:25Z"
      },
      "message": "refactor: Add IsRBFOptInEmptyMempool\n\nCo-authored-by: John Newbery <jonnynewbs@gmail.com>",
      "tree": {
        "sha": "7b016530828cf75ca24592efab81edaa96403649",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7b016530828cf75ca24592efab81edaa96403649"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa831684e54783f6b40533ca218eb7636bdae667",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUhWmwwAshmDdOxILHWpIR4mUEkLDm9qQvYbQqcbRCT2ED1Rj1bnUUp8upoqE4jJ\njUwkeY0DMhyUk7zfa2xBZvHhH1vFDO0b3kb3CwgEs7HuCr4wMEaQ/6GcEL2kJXwv\nnNZxJHuI02vWZQF8IMb9vVfD0+llSVlNVCk66/hGJn/SYQh8m9l1Jazds9UKXOtf\nYXJD5EEDMJ3RYdx2EHY5OYSp8fiK01aNuvQY/Ngb4xni2O2k59kZH5XCmhAw+pEI\n4FWSTuBbWpIVwnzRuv49t9/+hbL4W8bMFb0GV0Lz2PFOx3BfzXg2OAzlILGO5TDL\nxGm7ODN+B0PRTHzQz2lB9j8/29eI4hZjjWKjWFpVJJv0oSNSvYu01PDvFN1EFj3v\nLd0a4XO/prrbPRGqvo/sBzw7rYqZsjeFsCnNG1QWajjyVep/vJJ0qcvUNevGbXHQ\nMB3wgD++CQp51qmLk+QZeSUhDC8S4Vlmsea8DnQwDQukqRly4CuxtlpJRvGXFiaJ\nF6XaaCNC\n=cS6U\n-----END PGP SIGNATURE-----",
        "payload": "tree 7b016530828cf75ca24592efab81edaa96403649\nparent df75e9f3ee4de2b841fe0e84514b58a4e630d258\nauthor MarcoFalke <falke.marco@gmail.com> 1595149799 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1599299065 +0200\n\nrefactor: Add IsRBFOptInEmptyMempool\n\nCo-authored-by: John Newbery <jonnynewbs@gmail.com>\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa831684e54783f6b40533ca218eb7636bdae667",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa831684e54783f6b40533ca218eb7636bdae667",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa831684e54783f6b40533ca218eb7636bdae667/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "df75e9f3ee4de2b841fe0e84514b58a4e630d258",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/df75e9f3ee4de2b841fe0e84514b58a4e630d258",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/df75e9f3ee4de2b841fe0e84514b58a4e630d258"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 10,
      "deletions": 2
    },
    "files": [
      {
        "sha": "19de8ab202f9e58ce6c72757a5198a75e5b36a07",
        "filename": "src/interfaces/chain.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa831684e54783f6b40533ca218eb7636bdae667/src/interfaces/chain.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa831684e54783f6b40533ca218eb7636bdae667/src/interfaces/chain.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/interfaces/chain.cpp?ref=fa831684e54783f6b40533ca218eb7636bdae667",
        "patch": "@@ -276,8 +276,9 @@ class ChainImpl : public Chain\n     }\n     RBFTransactionState isRBFOptIn(const CTransaction& tx) override\n     {\n-        LOCK(::mempool.cs);\n-        return IsRBFOptIn(tx, ::mempool);\n+        if (!m_node.mempool) return IsRBFOptInEmptyMempool(tx);\n+        LOCK(m_node.mempool->cs);\n+        return IsRBFOptIn(tx, *m_node.mempool);\n     }\n     bool hasDescendantsInMempool(const uint256& txid) override\n     {"
      },
      {
        "sha": "4b55934891917fd76070f4f1bd78ce033472d707",
        "filename": "src/policy/rbf.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa831684e54783f6b40533ca218eb7636bdae667/src/policy/rbf.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa831684e54783f6b40533ca218eb7636bdae667/src/policy/rbf.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/policy/rbf.cpp?ref=fa831684e54783f6b40533ca218eb7636bdae667",
        "patch": "@@ -36,3 +36,9 @@ RBFTransactionState IsRBFOptIn(const CTransaction& tx, const CTxMemPool& pool)\n     }\n     return RBFTransactionState::FINAL;\n }\n+\n+RBFTransactionState IsRBFOptInEmptyMempool(const CTransaction& tx)\n+{\n+    // If we don't have a local mempool we can only check the transaction itself.\n+    return SignalsOptInRBF(tx) ? RBFTransactionState::REPLACEABLE_BIP125 : RBFTransactionState::UNKNOWN;\n+}"
      },
      {
        "sha": "463c5b61e6835df2dde468170704cbedc08441d0",
        "filename": "src/policy/rbf.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa831684e54783f6b40533ca218eb7636bdae667/src/policy/rbf.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa831684e54783f6b40533ca218eb7636bdae667/src/policy/rbf.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/policy/rbf.h?ref=fa831684e54783f6b40533ca218eb7636bdae667",
        "patch": "@@ -18,5 +18,6 @@ enum class RBFTransactionState {\n // This involves checking sequence numbers of the transaction, as well\n // as the sequence numbers of all in-mempool ancestors.\n RBFTransactionState IsRBFOptIn(const CTransaction& tx, const CTxMemPool& pool) EXCLUSIVE_LOCKS_REQUIRED(pool.cs);\n+RBFTransactionState IsRBFOptInEmptyMempool(const CTransaction& tx);\n \n #endif // BITCOIN_POLICY_RBF_H"
      }
    ]
  },
  {
    "sha": "faef4fc9b4990e563022b6ab595cb02c4060c216",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWVmNGZjOWI0OTkwZTU2MzAyMmI2YWI1OTVjYjAyYzQwNjBjMjE2",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-07-19T13:04:29Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-09-05T09:44:43Z"
      },
      "message": "Remove mempool global from interfaces",
      "tree": {
        "sha": "2325c39e0adc395b5feaa15b7d0937e1de721368",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2325c39e0adc395b5feaa15b7d0937e1de721368"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faef4fc9b4990e563022b6ab595cb02c4060c216",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUhR9Av+KpYAEjq/fSacfq9fC6I24qjnCcbAE2ydyemw/hcJuTcyJjBCFU0M34/m\nU/XgyWCqWqe+F1OMXc/4380Lxl8EA24x3D020C+V/ieRgsGJYrebJ4apkJuGf7AL\nDSNpyEJcl+2p0k36F6m4wETNGht4TwRCzM7Pgjx9QqeITEUsLhD7YscILk0HP67C\ngqO34UB3wmEWcQNm9fz3dkwhlXfdye1s9HW+XX9HHZ+AJy00RJbtq36nsl+6I5YS\ntIu/qFGzqp3j2QVdpKxyhj4z9TgYpZvVNUn9tLN1KWMQf9z3072Tt3YBJpYONY0Q\nbwgOJJbu0WCQZ1IHRETmjAgip+KqiB6X1fpblnRPLQ+CxwNK8XWaUHNfbp4GgT7d\nfhh5gZTwVOBgSkNigQL+WDRBficRM5m2kWDFg+bcE2mXM6+ZeFuacpXqsa5etV6A\nk49VniwO+4feFPXIp6IpSVlEdY+H4P0nny82l+6Y0uBMmG6AqgxurxSiAfzty0Yh\nr8ugIzPJ\n=FlHr\n-----END PGP SIGNATURE-----",
        "payload": "tree 2325c39e0adc395b5feaa15b7d0937e1de721368\nparent fa831684e54783f6b40533ca218eb7636bdae667\nauthor MarcoFalke <falke.marco@gmail.com> 1595163869 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1599299083 +0200\n\nRemove mempool global from interfaces\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faef4fc9b4990e563022b6ab595cb02c4060c216",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/faef4fc9b4990e563022b6ab595cb02c4060c216",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faef4fc9b4990e563022b6ab595cb02c4060c216/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa831684e54783f6b40533ca218eb7636bdae667",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa831684e54783f6b40533ca218eb7636bdae667",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa831684e54783f6b40533ca218eb7636bdae667"
      }
    ],
    "stats": {
      "total": 23,
      "additions": 15,
      "deletions": 8
    },
    "files": [
      {
        "sha": "13d885a20d73fd27e47da3020b23e84c2e8d47da",
        "filename": "src/interfaces/chain.cpp",
        "status": "modified",
        "additions": 15,
        "deletions": 8,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faef4fc9b4990e563022b6ab595cb02c4060c216/src/interfaces/chain.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faef4fc9b4990e563022b6ab595cb02c4060c216/src/interfaces/chain.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/interfaces/chain.cpp?ref=faef4fc9b4990e563022b6ab595cb02c4060c216",
        "patch": "@@ -282,8 +282,9 @@ class ChainImpl : public Chain\n     }\n     bool hasDescendantsInMempool(const uint256& txid) override\n     {\n-        LOCK(::mempool.cs);\n-        auto it = ::mempool.GetIter(txid);\n+        if (!m_node.mempool) return false;\n+        LOCK(m_node.mempool->cs);\n+        auto it = m_node.mempool->GetIter(txid);\n         return it && (*it)->GetCountWithDescendants() > 1;\n     }\n     bool broadcastTransaction(const CTransactionRef& tx,\n@@ -299,7 +300,9 @@ class ChainImpl : public Chain\n     }\n     void getTransactionAncestry(const uint256& txid, size_t& ancestors, size_t& descendants) override\n     {\n-        ::mempool.GetTransactionAncestry(txid, ancestors, descendants);\n+        ancestors = descendants = 0;\n+        if (!m_node.mempool) return;\n+        m_node.mempool->GetTransactionAncestry(txid, ancestors, descendants);\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n@@ -308,6 +311,7 @@ class ChainImpl : public Chain\n     }\n     bool checkChainLimits(const CTransactionRef& tx) override\n     {\n+        if (!m_node.mempool) return true;\n         LockPoints lp;\n         CTxMemPoolEntry entry(tx, 0, 0, 0, false, 0, lp);\n         CTxMemPool::setEntries ancestors;\n@@ -316,8 +320,9 @@ class ChainImpl : public Chain\n         auto limit_descendant_count = gArgs.GetArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n         auto limit_descendant_size = gArgs.GetArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT) * 1000;\n         std::string unused_error_string;\n-        LOCK(::mempool.cs);\n-        return ::mempool.CalculateMemPoolAncestors(entry, ancestors, limit_ancestor_count, limit_ancestor_size,\n+        LOCK(m_node.mempool->cs);\n+        return m_node.mempool->CalculateMemPoolAncestors(\n+            entry, ancestors, limit_ancestor_count, limit_ancestor_size,\n             limit_descendant_count, limit_descendant_size, unused_error_string);\n     }\n     CFeeRate estimateSmartFee(int num_blocks, bool conservative, FeeCalculation* calc) override\n@@ -330,7 +335,8 @@ class ChainImpl : public Chain\n     }\n     CFeeRate mempoolMinFee() override\n     {\n-        return ::mempool.GetMinFee(gArgs.GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 1000000);\n+        if (!m_node.mempool) return {};\n+        return m_node.mempool->GetMinFee(gArgs.GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 1000000);\n     }\n     CFeeRate relayMinFee() override { return ::minRelayTxFee; }\n     CFeeRate relayIncrementalFee() override { return ::incrementalRelayFee; }\n@@ -396,8 +402,9 @@ class ChainImpl : public Chain\n     }\n     void requestMempoolTransactions(Notifications& notifications) override\n     {\n-        LOCK2(::cs_main, ::mempool.cs);\n-        for (const CTxMemPoolEntry& entry : ::mempool.mapTx) {\n+        if (!m_node.mempool) return;\n+        LOCK2(::cs_main, m_node.mempool->cs);\n+        for (const CTxMemPoolEntry& entry : m_node.mempool->mapTx) {\n             notifications.transactionAddedToMempool(entry.GetSharedTx());\n         }\n     }"
      }
    ]
  },
  {
    "sha": "fa9ee52556f493e4a896e2570ca1a3102d777d9a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTllZTUyNTU2ZjQ5M2U0YTg5NmUyNTcwY2ExYTMxMDJkNzc3ZDlh",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-07-19T09:01:05Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-09-05T09:45:16Z"
      },
      "message": "doc: Add doxygen comment to IsRBFOptIn",
      "tree": {
        "sha": "0b542b84dbdf9bf3515afd2838425a203c5f518f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0b542b84dbdf9bf3515afd2838425a203c5f518f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa9ee52556f493e4a896e2570ca1a3102d777d9a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUj50gv6ArngGEoFVTO8H+03+o5ZHqwpCgbgt4GezD9ljGfQ4V5WScTQY+YzG5C0\nFTjtPy0xntWlvkT1/JFQJJzwHAdmHpLCF+sAererRjn4+O2AOkyqR5GRP3N4qTK/\npg1shw4cPQOKQdOMdjO/REPZ4HuBFPQq5bOUDwW3DVLrPi7ZF+Ob01z/T0rmKPnC\nCperHw7dq6IU8+rtizCy3ikCgPvQu2vtZAmgNFhcASI7n0aimcyR7UMSg8OLpQjZ\nXk4Sr31TAwIOkLSO8y9bswxTl+uCehzJMpGq2vBRfdR0D4WW3AACfCtPNexO5FQe\nmbbp39xHXxTmT6vnqKN5rQYazQF/CxYCTBzze//d2KjjQXsIBGdCAGb2wqtU4lfg\nDNM943EQM7FhRPNcYGV4cZ7IdGKeEfA/RVwt2je2hg3ic2n+hn+d7Ek5K7PTyM/F\nTY7IvfwpP+WpaIzgMYNbKtdPAdRa/uVp8ok2uRj+LN5gtLUR2lv5mylWy8iOPo/T\nGkR9hfPB\n=SWty\n-----END PGP SIGNATURE-----",
        "payload": "tree 0b542b84dbdf9bf3515afd2838425a203c5f518f\nparent faef4fc9b4990e563022b6ab595cb02c4060c216\nauthor MarcoFalke <falke.marco@gmail.com> 1595149265 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1599299116 +0200\n\ndoc: Add doxygen comment to IsRBFOptIn\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa9ee52556f493e4a896e2570ca1a3102d777d9a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa9ee52556f493e4a896e2570ca1a3102d777d9a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa9ee52556f493e4a896e2570ca1a3102d777d9a/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "faef4fc9b4990e563022b6ab595cb02c4060c216",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faef4fc9b4990e563022b6ab595cb02c4060c216",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/faef4fc9b4990e563022b6ab595cb02c4060c216"
      }
    ],
    "stats": {
      "total": 21,
      "additions": 16,
      "deletions": 5
    },
    "files": [
      {
        "sha": "f84e6e5286f2936d6a28dd633be40914302a7750",
        "filename": "src/policy/rbf.h",
        "status": "modified",
        "additions": 16,
        "deletions": 5,
        "changes": 21,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9ee52556f493e4a896e2570ca1a3102d777d9a/src/policy/rbf.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9ee52556f493e4a896e2570ca1a3102d777d9a/src/policy/rbf.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/policy/rbf.h?ref=fa9ee52556f493e4a896e2570ca1a3102d777d9a",
        "patch": "@@ -7,16 +7,27 @@\n \n #include <txmempool.h>\n \n+/** The rbf state of unconfirmed transactions */\n enum class RBFTransactionState {\n+    /** Unconfirmed tx that does not signal rbf and is not in the mempool */\n     UNKNOWN,\n+    /** Either this tx or a mempool ancestor signals rbf */\n     REPLACEABLE_BIP125,\n-    FINAL\n+    /** Neither this tx nor a mempool ancestor signals rbf */\n+    FINAL,\n };\n \n-// Determine whether an in-mempool transaction is signaling opt-in to RBF\n-// according to BIP 125\n-// This involves checking sequence numbers of the transaction, as well\n-// as the sequence numbers of all in-mempool ancestors.\n+/**\n+ * Determine whether an unconfirmed transaction is signaling opt-in to RBF\n+ * according to BIP 125\n+ * This involves checking sequence numbers of the transaction, as well\n+ * as the sequence numbers of all in-mempool ancestors.\n+ *\n+ * @param tx   The unconfirmed transaction\n+ * @param pool The mempool, which may contain the tx\n+ *\n+ * @return     The rbf state\n+ */\n RBFTransactionState IsRBFOptIn(const CTransaction& tx, const CTxMemPool& pool) EXCLUSIVE_LOCKS_REQUIRED(pool.cs);\n RBFTransactionState IsRBFOptInEmptyMempool(const CTransaction& tx);\n "
      }
    ]
  }
]