laanwj,2018-07-17T14:26:29Z,"ACK but only after we can compile with a compiler that doesn't produce a broken `test_bitcoin`. If inlining is broken, who knows what other bugs are introduced.\n(see https://github.com/bitcoin/bitcoin/pull/13543#issuecomment-400986006 and following comments)\nMaybe Ubuntu will provide a newer version of gcc at some point.",https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-405601228,405601228,
ken2812221,2018-07-18T20:16:46Z,@laanwj How about force it to use gcc-8?,https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-406060334,406060334,
laanwj,2018-07-19T14:09:17Z,"Yes, that was what I meant. But how?",https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-406289210,406289210,
ken2812221,2018-07-19T15:44:31Z,Just see what I do in the fourth commit.,https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-406322967,406322967,
laanwj,2018-07-19T16:38:07Z,"Didn't know that a package for that was available!\nCan someone confirm that the resulting `test_bitcoin` runs without issues?\n\n**Edit:** interesting;\nI wonder if this is the only way to get the `-8` variant to be used.\nIf there's no update-alternatives incantation to update the symlinks. This would be more convenient for the build guide.\n\n**Edit** no, apparently the risc-v compiler p",https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-406339822,406339822,
laanwj,2018-07-19T16:55:51Z,Concept ACK,https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-406344957,406344957,
laanwj,2018-07-20T10:05:29Z,"> I'm all for it for 0.18, but -1 from me for 0.17.\n\nAdded appropriate milestone",https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-406554454,406554454,
DrahtBot,2018-07-22T13:32:51Z,"<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #13724 ([contrib] Support ARM and RISC-V symbol check by ken2812221)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-406866971,406866971,
MarcoFalke,2018-08-08T16:43:56Z,"gitian linux failure:\n\n```\nERROR: Feature 'system-zlib' was enabled, but the pre-condition 'libs.zlib' failed.\n\nERROR: Feature 'openssl-linked' was enabled, but the pre-condition '!features.securetransport && libs.openssl' failed.\n\nERROR: Feature 'xcb' was enabled, but the pre-condition 'libs.xcb' failed.\n\nERROR: Feature 'system-freetype' was enabled, but the pre-condition 'featu",https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-411473407,411473407,
ken2812221,2018-08-08T19:36:25Z,"@MarcoFalke Sry, missing one line during rebasing #13710",https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-411526252,411526252,
ken2812221,2018-08-09T05:37:07Z,@MarcoFalke @DrahtBot fetch the wrong commit.,https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-411642398,411642398,
laanwj,2018-08-15T16:20:16Z,"What is the reason this is still WIP? would like to merge this early in the 0.18 cycle if possible.\n(going to test)",https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-413250887,413250887,
ken2812221,2018-08-15T16:31:45Z,"@laanwj  You can see @DrahtBot 's binary, it exports so many unnecessary symbols",https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-413254457,413254457,
laanwj,2018-08-16T08:50:51Z,"I'm not sure how worried we should be about exporting unnecessary symbols on RISC-V at this point, from what I gather everything is still extremely experimental, there aren't even ready-to-use linux distribution images.\n\nThe ""don't export unnecessary symbols"" check was, at the time, added to avoid collisions between statically-linked and dynamically-linked OpenSSL, back in the day that Qt was ",https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-413473312,413473312,
ken2812221,2018-08-16T10:52:23Z,"@laanwj Thanks for clarification. The export symbol things can be done in future PR. At least I can't solve the problem for now, leave for someone who can work on improving this.",https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-413504776,413504776,
laanwj,2018-08-16T18:32:01Z,"ACK c4aecd1d8\ngitian build result tested on actual hardware (HiFive Unleashed=U540) w/ Fedora release 29 (Rawhide):\n```\n# ./test_bitcoin \nRunning 303 test cases...\ntest/scheduler_tests.cpp(141): info: counter2++\ntest/scheduler_tests.cpp(141): info: counter2++\ntest/scheduler_tests.cpp(145): info:  == \ntest/scheduler_tests.cpp(145): info: i          \n*** No errors detected\n```\n",https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-413642486,413642486,
laanwj,2018-08-23T05:36:21Z,"> Also synced the beginning of the chain, I'll keep this node running.\n\nThis was successful!\nSynchronization of the full chain on the HiFive Unleashed board to a nbd partition took about 2-3 days.\n(had to restart at some point as there were problems with the SD card interface or driver, but there were zero issues with bitcoind)",https://github.com/bitcoin/bitcoin/pull/13665#issuecomment-415297133,415297133,
theuni,2018-07-19T17:49:39Z,"I suspect that this will cause more glibc back-compat issues. That's fine, of course, they just need to be accounted for.",https://github.com/bitcoin/bitcoin/pull/13665#discussion_r203816145,203816145,contrib/gitian-descriptors/gitian-linux.yml
theuni,2018-07-19T17:51:06Z,This shouldn't be needed after https://github.com/bitcoin/bitcoin/pull/13696#issuecomment-406105319.,https://github.com/bitcoin/bitcoin/pull/13665#discussion_r203816586,203816586,depends/packages/qt.mk
theuni,2018-07-19T17:52:38Z,"Is this necessary? We don't have to support much back-compat for riscv, as its glibc support is pretty new anyway.",https://github.com/bitcoin/bitcoin/pull/13665#discussion_r203817045,203817045,src/compat/glibc_compat.cpp
ken2812221,2018-07-19T18:16:50Z,I've tested this. `make -C src check-symbol` is happy about this in gitian build.,https://github.com/bitcoin/bitcoin/pull/13665#discussion_r203824302,203824302,contrib/gitian-descriptors/gitian-linux.yml
ken2812221,2018-07-19T18:17:07Z,"This is not my commit, just based on #13696",https://github.com/bitcoin/bitcoin/pull/13665#discussion_r203824413,203824413,depends/packages/qt.mk
ken2812221,2018-07-19T18:17:21Z,This might not be necessary. But we should drop `--enable-glibc-back-compat` flag when building for RISC-V,https://github.com/bitcoin/bitcoin/pull/13665#discussion_r203824474,203824474,src/compat/glibc_compat.cpp
laanwj,2018-07-19T18:39:04Z,"I think he did this to appease the symbols check, the alternative would be to do a different symbols check per target platform.",https://github.com/bitcoin/bitcoin/pull/13665#discussion_r203831296,203831296,src/compat/glibc_compat.cpp
ken2812221,2018-07-19T18:45:12Z,I did this so the linker would know what `log2f_old` is.,https://github.com/bitcoin/bitcoin/pull/13665#discussion_r203833166,203833166,src/compat/glibc_compat.cpp
