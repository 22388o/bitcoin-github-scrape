[
  {
    "sha": "26a6bae7537c73cb4b713293ce29b7c6d71a542d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyNmE2YmFlNzUzN2M3M2NiNGI3MTMyOTNjZTI5YjdjNmQ3MWE1NDJk",
    "commit": {
      "author": {
        "name": "Pavel Jan\u00edk",
        "email": "Pavel@Janik.cz",
        "date": "2014-12-15T10:06:15Z"
      },
      "committer": {
        "name": "Pavel Jan\u00edk",
        "email": "Pavel@Janik.cz",
        "date": "2014-12-15T10:06:15Z"
      },
      "message": "Add time offset to getpeerinfo output",
      "tree": {
        "sha": "674b4fd2b88216a6cc56eb1933ee043a4ccdd2ea",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/674b4fd2b88216a6cc56eb1933ee043a4ccdd2ea"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/26a6bae7537c73cb4b713293ce29b7c6d71a542d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/26a6bae7537c73cb4b713293ce29b7c6d71a542d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/26a6bae7537c73cb4b713293ce29b7c6d71a542d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/26a6bae7537c73cb4b713293ce29b7c6d71a542d/comments",
    "author": {
      "login": "paveljanik",
      "id": 6848764,
      "node_id": "MDQ6VXNlcjY4NDg3NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6848764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paveljanik",
      "html_url": "https://github.com/paveljanik",
      "followers_url": "https://api.github.com/users/paveljanik/followers",
      "following_url": "https://api.github.com/users/paveljanik/following{/other_user}",
      "gists_url": "https://api.github.com/users/paveljanik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paveljanik/subscriptions",
      "organizations_url": "https://api.github.com/users/paveljanik/orgs",
      "repos_url": "https://api.github.com/users/paveljanik/repos",
      "events_url": "https://api.github.com/users/paveljanik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paveljanik/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "paveljanik",
      "id": 6848764,
      "node_id": "MDQ6VXNlcjY4NDg3NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6848764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paveljanik",
      "html_url": "https://github.com/paveljanik",
      "followers_url": "https://api.github.com/users/paveljanik/followers",
      "following_url": "https://api.github.com/users/paveljanik/following{/other_user}",
      "gists_url": "https://api.github.com/users/paveljanik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paveljanik/subscriptions",
      "organizations_url": "https://api.github.com/users/paveljanik/orgs",
      "repos_url": "https://api.github.com/users/paveljanik/repos",
      "events_url": "https://api.github.com/users/paveljanik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paveljanik/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "13c077c7cfe9f367c721f3d99924b3d568afb4d0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/13c077c7cfe9f367c721f3d99924b3d568afb4d0",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/13c077c7cfe9f367c721f3d99924b3d568afb4d0"
      }
    ],
    "stats": {
      "total": 14,
      "additions": 10,
      "deletions": 4
    },
    "files": [
      {
        "sha": "d917c6e0ea5ddebf39f38e5a1ee082496d535dfe",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/26a6bae7537c73cb4b713293ce29b7c6d71a542d/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/26a6bae7537c73cb4b713293ce29b7c6d71a542d/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=26a6bae7537c73cb4b713293ce29b7c6d71a542d",
        "patch": "@@ -3450,7 +3450,9 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n                   pfrom->nStartingHeight, addrMe.ToString(), pfrom->id,\n                   remoteAddr);\n \n-        AddTimeData(pfrom->addr, nTime);\n+        int64_t nTimeOffset = nTime - GetTime();\n+        pfrom->nTimeOffset = nTimeOffset;\n+        AddTimeData(pfrom->addr, nTimeOffset);\n     }\n \n "
      },
      {
        "sha": "95524a8b0f7846545d6974b320f01e9998299027",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/26a6bae7537c73cb4b713293ce29b7c6d71a542d/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/26a6bae7537c73cb4b713293ce29b7c6d71a542d/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=26a6bae7537c73cb4b713293ce29b7c6d71a542d",
        "patch": "@@ -523,6 +523,7 @@ void CNode::copyStats(CNodeStats &stats)\n     X(nLastSend);\n     X(nLastRecv);\n     X(nTimeConnected);\n+    X(nTimeOffset);\n     X(addrName);\n     X(nVersion);\n     X(cleanSubVer);\n@@ -1934,6 +1935,7 @@ CNode::CNode(SOCKET hSocketIn, CAddress addrIn, std::string addrNameIn, bool fIn\n     nSendBytes = 0;\n     nRecvBytes = 0;\n     nTimeConnected = GetTime();\n+    nTimeOffset = 0;\n     addr = addrIn;\n     addrName = addrNameIn == \"\" ? addr.ToStringIPPort() : addrNameIn;\n     nVersion = 0;"
      },
      {
        "sha": "af200cf89e95886cd258c4ab1e3262cc16bb4174",
        "filename": "src/net.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/26a6bae7537c73cb4b713293ce29b7c6d71a542d/src/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/26a6bae7537c73cb4b713293ce29b7c6d71a542d/src/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.h?ref=26a6bae7537c73cb4b713293ce29b7c6d71a542d",
        "patch": "@@ -154,6 +154,7 @@ class CNodeStats\n     int64_t nLastSend;\n     int64_t nLastRecv;\n     int64_t nTimeConnected;\n+    int64_t nTimeOffset;\n     std::string addrName;\n     int nVersion;\n     std::string cleanSubVer;\n@@ -235,6 +236,7 @@ class CNode\n     int64_t nLastSend;\n     int64_t nLastRecv;\n     int64_t nTimeConnected;\n+    int64_t nTimeOffset;\n     CAddress addr;\n     std::string addrName;\n     CService addrLocal;"
      },
      {
        "sha": "e579856b1fa85ef7704403c5cabc5f3d5f7522b1",
        "filename": "src/rpcnet.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/26a6bae7537c73cb4b713293ce29b7c6d71a542d/src/rpcnet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/26a6bae7537c73cb4b713293ce29b7c6d71a542d/src/rpcnet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcnet.cpp?ref=26a6bae7537c73cb4b713293ce29b7c6d71a542d",
        "patch": "@@ -91,6 +91,7 @@ Value getpeerinfo(const Array& params, bool fHelp)\n             \"    \\\"bytessent\\\": n,            (numeric) The total bytes sent\\n\"\n             \"    \\\"bytesrecv\\\": n,            (numeric) The total bytes received\\n\"\n             \"    \\\"conntime\\\": ttt,           (numeric) The connection time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"    \\\"timeoffset\\\": ttt,         (numeric) The time offset in seconds\\n\"\n             \"    \\\"pingtime\\\": n,             (numeric) ping time\\n\"\n             \"    \\\"pingwait\\\": n,             (numeric) ping wait\\n\"\n             \"    \\\"version\\\": v,              (numeric) The peer version, such as 7001\\n\"\n@@ -131,6 +132,7 @@ Value getpeerinfo(const Array& params, bool fHelp)\n         obj.push_back(Pair(\"bytessent\", stats.nSendBytes));\n         obj.push_back(Pair(\"bytesrecv\", stats.nRecvBytes));\n         obj.push_back(Pair(\"conntime\", stats.nTimeConnected));\n+        obj.push_back(Pair(\"timeoffset\", stats.nTimeOffset));\n         obj.push_back(Pair(\"pingtime\", stats.dPingTime));\n         if (stats.dPingWait > 0.0)\n             obj.push_back(Pair(\"pingwait\", stats.dPingWait));"
      },
      {
        "sha": "2192ed2eff04c74ab425c029491063ce63a9e88d",
        "filename": "src/timedata.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 3,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/26a6bae7537c73cb4b713293ce29b7c6d71a542d/src/timedata.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/26a6bae7537c73cb4b713293ce29b7c6d71a542d/src/timedata.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/timedata.cpp?ref=26a6bae7537c73cb4b713293ce29b7c6d71a542d",
        "patch": "@@ -40,10 +40,8 @@ static int64_t abs64(int64_t n)\n     return (n >= 0 ? n : -n);\n }\n \n-void AddTimeData(const CNetAddr& ip, int64_t nTime)\n+void AddTimeData(const CNetAddr& ip, int64_t nOffsetSample)\n {\n-    int64_t nOffsetSample = nTime - GetTime();\n-\n     LOCK(cs_nTimeOffset);\n     // Ignore duplicates\n     static set<CNetAddr> setKnown;"
      }
    ]
  },
  {
    "sha": "73caf47dfe9c398aac75b5f6bcd1e0a644479a46",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3M2NhZjQ3ZGZlOWMzOThhYWM3NWI1ZjZiY2QxZTBhNjQ0NDc5YTQ2",
    "commit": {
      "author": {
        "name": "Pavel Jan\u00edk",
        "email": "Pavel@Janik.cz",
        "date": "2014-12-15T10:07:55Z"
      },
      "committer": {
        "name": "Pavel Jan\u00edk",
        "email": "Pavel@Janik.cz",
        "date": "2014-12-15T18:56:45Z"
      },
      "message": "Display time offset in the debug window's Peers tab",
      "tree": {
        "sha": "00971dc724321ae8080d01631d9a30a75070346b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/00971dc724321ae8080d01631d9a30a75070346b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/73caf47dfe9c398aac75b5f6bcd1e0a644479a46",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/73caf47dfe9c398aac75b5f6bcd1e0a644479a46",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/73caf47dfe9c398aac75b5f6bcd1e0a644479a46",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/73caf47dfe9c398aac75b5f6bcd1e0a644479a46/comments",
    "author": {
      "login": "paveljanik",
      "id": 6848764,
      "node_id": "MDQ6VXNlcjY4NDg3NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6848764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paveljanik",
      "html_url": "https://github.com/paveljanik",
      "followers_url": "https://api.github.com/users/paveljanik/followers",
      "following_url": "https://api.github.com/users/paveljanik/following{/other_user}",
      "gists_url": "https://api.github.com/users/paveljanik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paveljanik/subscriptions",
      "organizations_url": "https://api.github.com/users/paveljanik/orgs",
      "repos_url": "https://api.github.com/users/paveljanik/repos",
      "events_url": "https://api.github.com/users/paveljanik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paveljanik/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "paveljanik",
      "id": 6848764,
      "node_id": "MDQ6VXNlcjY4NDg3NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6848764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paveljanik",
      "html_url": "https://github.com/paveljanik",
      "followers_url": "https://api.github.com/users/paveljanik/followers",
      "following_url": "https://api.github.com/users/paveljanik/following{/other_user}",
      "gists_url": "https://api.github.com/users/paveljanik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paveljanik/subscriptions",
      "organizations_url": "https://api.github.com/users/paveljanik/orgs",
      "repos_url": "https://api.github.com/users/paveljanik/repos",
      "events_url": "https://api.github.com/users/paveljanik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paveljanik/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "26a6bae7537c73cb4b713293ce29b7c6d71a542d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/26a6bae7537c73cb4b713293ce29b7c6d71a542d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/26a6bae7537c73cb4b713293ce29b7c6d71a542d"
      }
    ],
    "stats": {
      "total": 36,
      "additions": 34,
      "deletions": 2
    },
    "files": [
      {
        "sha": "c3cb20750b76d7b9176b56774eb653a8fcdf68bb",
        "filename": "src/qt/forms/rpcconsole.ui",
        "status": "modified",
        "additions": 24,
        "deletions": 1,
        "changes": 25,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73caf47dfe9c398aac75b5f6bcd1e0a644479a46/src/qt/forms/rpcconsole.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73caf47dfe9c398aac75b5f6bcd1e0a644479a46/src/qt/forms/rpcconsole.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/rpcconsole.ui?ref=73caf47dfe9c398aac75b5f6bcd1e0a644479a46",
        "patch": "@@ -1043,7 +1043,30 @@\n             </property>\n            </widget>\n           </item>\n-          <item row=\"14\" column=\"1\">\n+          <item row=\"14\" column=\"0\">\n+           <widget class=\"QLabel\" name=\"label_timeoffset\">\n+            <property name=\"text\">\n+             <string>Time Offset</string>\n+            </property>\n+           </widget>\n+          </item>\n+          <item row=\"14\" column=\"2\">\n+           <widget class=\"QLabel\" name=\"timeoffset\">\n+            <property name=\"cursor\">\n+             <cursorShape>IBeamCursor</cursorShape>\n+            </property>\n+            <property name=\"text\">\n+             <string>N/A</string>\n+            </property>\n+            <property name=\"textFormat\">\n+             <enum>Qt::PlainText</enum>\n+            </property>\n+            <property name=\"textInteractionFlags\">\n+             <set>Qt::LinksAccessibleByMouse|Qt::TextSelectableByKeyboard|Qt::TextSelectableByMouse</set>\n+            </property>\n+           </widget>\n+          </item>\n+          <item row=\"15\" column=\"1\">\n            <spacer name=\"verticalSpacer_3\">\n             <property name=\"orientation\">\n              <enum>Qt::Vertical</enum>"
      },
      {
        "sha": "98c556db755258ee23f9bb6b905cfd6b13f38e0d",
        "filename": "src/qt/guiutil.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73caf47dfe9c398aac75b5f6bcd1e0a644479a46/src/qt/guiutil.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73caf47dfe9c398aac75b5f6bcd1e0a644479a46/src/qt/guiutil.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiutil.cpp?ref=73caf47dfe9c398aac75b5f6bcd1e0a644479a46",
        "patch": "@@ -843,4 +843,9 @@ QString formatPingTime(double dPingTime)\n     return dPingTime == 0 ? QObject::tr(\"N/A\") : QString(QObject::tr(\"%1 ms\")).arg(QString::number((int)(dPingTime * 1000), 10));\n }\n \n+QString formatTimeOffset(int64_t nTimeOffset)\n+{\n+  return QString(QObject::tr(\"%1 s\")).arg(QString::number((int)nTimeOffset, 10));\n+}\n+\n } // namespace GUIUtil"
      },
      {
        "sha": "d39fad7d87050815a8adc2a76765724b6463e193",
        "filename": "src/qt/guiutil.h",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73caf47dfe9c398aac75b5f6bcd1e0a644479a46/src/qt/guiutil.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73caf47dfe9c398aac75b5f6bcd1e0a644479a46/src/qt/guiutil.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiutil.h?ref=73caf47dfe9c398aac75b5f6bcd1e0a644479a46",
        "patch": "@@ -188,7 +188,10 @@ namespace GUIUtil\n \n     /* Format a CNodeCombinedStats.dPingTime into a user-readable string or display N/A, if 0*/\n     QString formatPingTime(double dPingTime);\n-    \n+\n+    /* Format a CNodeCombinedStats.nTimeOffset into a user-readable string. */\n+    QString formatTimeOffset(int64_t nTimeOffset);\n+\n #if defined(Q_OS_MAC) && QT_VERSION >= 0x050000\n     // workaround for Qt OSX Bug:\n     // https://bugreports.qt-project.org/browse/QTBUG-15631"
      },
      {
        "sha": "4b7c5a96356261501fcee31a568b2554e04b50f4",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73caf47dfe9c398aac75b5f6bcd1e0a644479a46/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73caf47dfe9c398aac75b5f6bcd1e0a644479a46/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=73caf47dfe9c398aac75b5f6bcd1e0a644479a46",
        "patch": "@@ -607,6 +607,7 @@ void RPCConsole::updateNodeDetail(const CNodeCombinedStats *stats)\n     ui->peerBytesRecv->setText(FormatBytes(stats->nodeStats.nRecvBytes));\n     ui->peerConnTime->setText(GUIUtil::formatDurationStr(GetTime() - stats->nodeStats.nTimeConnected));\n     ui->peerPingTime->setText(GUIUtil::formatPingTime(stats->nodeStats.dPingTime));\n+    ui->timeoffset->setText(GUIUtil::formatTimeOffset(stats->nodeStats.nTimeOffset));\n     ui->peerVersion->setText(QString(\"%1\").arg(stats->nodeStats.nVersion));\n     ui->peerSubversion->setText(QString::fromStdString(stats->nodeStats.cleanSubVer));\n     ui->peerDirection->setText(stats->nodeStats.fInbound ? tr(\"Inbound\") : tr(\"Outbound\"));"
      }
    ]
  }
]