sipa,2015-05-04T20:56:39Z,"I added a commit which changes the block flushing policy a bit. The block index is still flushed at least once an hour (so that we don't need to redownload hours worth of blocks after a crash), but the coins cache is only guaranteed to be flushed once per day (as the cache size allows). @sdaftuar feel like having a look?\n",https://github.com/bitcoin/bitcoin/pull/6102#issuecomment-98847663,98847663,
laanwj,2015-05-12T12:05:04Z,"utACK. \n\nIt would be really nice to be able to get the approximated in-memory size of various data structures through RPC, such as the UTXO cache size introduced here.\n",https://github.com/bitcoin/bitcoin/pull/6102#issuecomment-101252765,101252765,
morcos,2015-05-12T14:14:51Z,"As mentioned on IRC, I think it would be better to still guard the block index writes with CheckDiskSpace.  Something like this: a8e9baa77.  Other than that, utACK. I did a light code review of the first commit and full code review of the last 4, and some light testing of the last commit.\n",https://github.com/bitcoin/bitcoin/pull/6102#issuecomment-101297067,101297067,
gavinandresen,2015-05-12T18:34:19Z,Code review and light testing ACK.\n,https://github.com/bitcoin/bitcoin/pull/6102#issuecomment-101378701,101378701,
sipa,2015-05-12T19:48:18Z,"Cherry-picked @morcos's commit.\n\nAs a test, I reindexed the entire main chain with -dbcache=16000, and this\ndid not result in a single database flush. Memory usage near the end was\nslightly lower (100 MB off on a total of 3.5 GB) than what the coin cache\nusage predicted. I can't explain that difference (it should be more), but\nat least it errs on the safe side.\n",https://github.com/bitcoin/bitcoin/pull/6102#issuecomment-101399091,101399091,
sdaftuar,2015-05-13T01:00:04Z,"I reviewed and did a little testing as well, including replicating those results on my machine, ACK.\n",https://github.com/bitcoin/bitcoin/pull/6102#issuecomment-101472938,101472938,
sdaftuar,2015-05-12T19:56:14Z,"nit: when reading the code, I found it slightly concerning that a one-character typo in this variable name below would result in code that would still compile but be wrong (since `cachedCoinsUsage` is a class member variable), though thankfully that mistake causes the unit test to fail.\n",https://github.com/bitcoin/bitcoin/pull/6102#discussion_r30173420,30173420,src/coins.cpp
