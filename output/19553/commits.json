[
  {
    "sha": "2a701a1c42c37e48aae70156692aa08aaae11088",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyYTcwMWExYzQyYzM3ZTQ4YWFlNzAxNTY2OTJhYTA4YWFhZTExMDg4",
    "commit": {
      "author": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2020-07-19T06:41:57Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2020-07-19T06:41:57Z"
      },
      "message": "build: pass -fcommon when building genisoimage\n\nStarting with the 10.1 release, GCC defaults to -fno-common. This causes\nlinking issues when building genisoimage:\n```bash\n[ 98%] Building C object genisoimage/CMakeFiles/genisoimage.dir/checksum.o\n[100%] Linking C executable genisoimage\n/usr/bin/ld: CMakeFiles/genisoimage.dir/apple.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\n/usr/bin/ld: CMakeFiles/genisoimage.dir/boot.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\n/usr/bin/ld: CMakeFiles/genisoimage.dir/desktop.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\n/usr/bin/ld: CMakeFiles/genisoimage.dir/dvd_file.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\n```\n\nRather than patching genisoimage further, pass -fcommon to preserve the\nlegacy GCC behaviour.",
      "tree": {
        "sha": "bb7868fddd8be3668bef61b488476477238cd26b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bb7868fddd8be3668bef61b488476477238cd26b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2a701a1c42c37e48aae70156692aa08aaae11088",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAl8T7BgACgkQLuufXMCV\nJsHV7A//e6L18kRHRv0eEigi2yz/XNSkPkOLyka0ZWGObSgZM4Xgi6VhU+A6ZB9b\nLHRnM+J9bPLRJfMj4g5NL3UAATGQjlxeG0llY7iGgNzOaZS4NFluP8kyV16V6MP+\n1lWeHe8+sANpTA6AE/kAKCAZdyWQnev2Fo98q/Df/QcnbKIc3ynNl2LfuVSvEPf4\ndTNdoCoFWizZ109ixnbXIo6JowMknn+jT6axZighkyO0+XhRtU9Bm5ED4J876k6K\nObITgwrgMnp8ZyiVYNvAZSrVRzgT3vBp1geriP/SN77xU3cWp+unhORYAc9M2VNg\n+bq80mX5Lo7yg0f2/TTiO9MCtNbOGhC4Ogi2jEmgo1emSuyScS7/L3Wptk9FfVpM\ni7nRtktsSPBv1WNYAqQPhxX4nSWSy0O3MOAuLgq2oRZUNrKsIpDijhLMoyASkOBv\n9IzwHDkERVnG+4tX1IWfkYh44gOe7N79E2RBnkomJ69XzVQUyynEhwbnY/kf6G+l\nESaGFy9yH113LIb9CE/tFRi4ezJKM9Jb2ZaYkipQOsrUSKRtTVGQ2bHXBK6JVNmL\npYA2bwLitmn9dRbbklizf+H9U0CYADk7nVsio/AXjZxha//Dz40kCmv5TZ9mDKkZ\nexEc1gyd9sejZqfvfWpQyMxlOyZNWkmDTs0t86pyeNdB9BtygG4=\n=y7KR\n-----END PGP SIGNATURE-----",
        "payload": "tree bb7868fddd8be3668bef61b488476477238cd26b\nparent 090d87716074434bdc6c7656ec44d049197a793a\nauthor fanquake <fanquake@gmail.com> 1595140917 +0800\ncommitter fanquake <fanquake@gmail.com> 1595140917 +0800\n\nbuild: pass -fcommon when building genisoimage\n\nStarting with the 10.1 release, GCC defaults to -fno-common. This causes\nlinking issues when building genisoimage:\n```bash\n[ 98%] Building C object genisoimage/CMakeFiles/genisoimage.dir/checksum.o\n[100%] Linking C executable genisoimage\n/usr/bin/ld: CMakeFiles/genisoimage.dir/apple.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\n/usr/bin/ld: CMakeFiles/genisoimage.dir/boot.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\n/usr/bin/ld: CMakeFiles/genisoimage.dir/desktop.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\n/usr/bin/ld: CMakeFiles/genisoimage.dir/dvd_file.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\n```\n\nRather than patching genisoimage further, pass -fcommon to preserve the\nlegacy GCC behaviour.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2a701a1c42c37e48aae70156692aa08aaae11088",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2a701a1c42c37e48aae70156692aa08aaae11088",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2a701a1c42c37e48aae70156692aa08aaae11088/comments",
    "author": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "090d87716074434bdc6c7656ec44d049197a793a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/090d87716074434bdc6c7656ec44d049197a793a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/090d87716074434bdc6c7656ec44d049197a793a"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 3,
      "deletions": 1
    },
    "files": [
      {
        "sha": "14c37a0fc779c8c3b2317f3ddff44114045fc64a",
        "filename": "depends/packages/native_cdrkit.mk",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2a701a1c42c37e48aae70156692aa08aaae11088/depends/packages/native_cdrkit.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2a701a1c42c37e48aae70156692aa08aaae11088/depends/packages/native_cdrkit.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/native_cdrkit.mk?ref=2a701a1c42c37e48aae70156692aa08aaae11088",
        "patch": "@@ -9,8 +9,10 @@ define $(package)_preprocess_cmds\n   patch -p1 < $($(package)_patch_dir)/cdrkit-deterministic.patch\n endef\n \n+# Starting with 10.1, GCC defaults to -fno-common, resulting in linking errors.\n+# Pass -fcommon to retain the legacy behaviour.\n define $(package)_config_cmds\n-  cmake -DCMAKE_INSTALL_PREFIX=$(build_prefix)\n+  cmake -DCMAKE_INSTALL_PREFIX=$(build_prefix) -DCMAKE_C_FLAGS=\"-fcommon\"\n endef\n \n define $(package)_build_cmds"
      }
    ]
  }
]