[
  {
    "sha": "fa00ff0399fe54f42d80daa04140d19bcfe0e2d8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTAwZmYwMzk5ZmU1NGY0MmQ4MGRhYTA0MTQwZDE5YmNmZTBlMmQ4",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-11-05T12:52:34Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-11-05T12:50:15Z"
      },
      "message": "test: Fix wallet_multiwallet test issue on Windows",
      "tree": {
        "sha": "2e9db6e0891ccca262838206e12014ab723aed1a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2e9db6e0891ccca262838206e12014ab723aed1a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa00ff0399fe54f42d80daa04140d19bcfe0e2d8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUh32gv/etQHJkTGdBISPU+V5Z0tqHXwUQV9dyXe7IXWHnRddevMUgcBV40nL+Ln\nXdZWI46Wcv9spACxysYyzdXnMBOMqgWHbLmLQcW6oqiQKU9cvRDMq+4Oa1BMJppm\nYDY3EYHXRTB75eldGr1h3UPrgl+fHBGkU8PoJiIAWa3jlnEl26ksObIh7Dnggw2l\nhQAzgVPn6TNUUcz0vC+xGonI/0EFA4Ej9fblDLko/sOHsVpX6i0BG1GQHY2vGXXJ\n+lUFKdKQKi6ktzg8xHcKAyol2/Jyt4dt5MpNMwWqw4AGQXV7mDn1QZRKZD9CI1zw\nmGRYbTLq1fZD4+Q9cwVduWlS9rFzn8mn5caJUEoBh3Xg5vQTIaSbt57o1hGkdgRD\n++jUcTlJn4y8FXegjHKloORcya5hzOzRXsqMDSL4pf/mJmK/GWVA2hjrcxRyQYQ2\nlGJNoU1xPBjueGmbT6ZUk+u7YaRLt11H8pdFarDj4NTwzXiWANqCjPdQF1UAuGmF\ntgXKyrWT\n=ZEl2\n-----END PGP SIGNATURE-----",
        "payload": "tree 2e9db6e0891ccca262838206e12014ab723aed1a\nparent d94777bd525a06abac74cd1508ddb845faf1d118\nauthor MarcoFalke <falke.marco@gmail.com> 1604580754 +0100\ncommitter MarcoFalke <falke.marco@gmail.com> 1604580615 +0100\n\ntest: Fix wallet_multiwallet test issue on Windows\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa00ff0399fe54f42d80daa04140d19bcfe0e2d8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa00ff0399fe54f42d80daa04140d19bcfe0e2d8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa00ff0399fe54f42d80daa04140d19bcfe0e2d8/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d94777bd525a06abac74cd1508ddb845faf1d118",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d94777bd525a06abac74cd1508ddb845faf1d118",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d94777bd525a06abac74cd1508ddb845faf1d118"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 6,
      "deletions": 6
    },
    "files": [
      {
        "sha": "abdc279197ae846d03aac8b33f7199117c2c4951",
        "filename": "test/functional/wallet_multiwallet.py",
        "status": "modified",
        "additions": 6,
        "deletions": 6,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa00ff0399fe54f42d80daa04140d19bcfe0e2d8/test/functional/wallet_multiwallet.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa00ff0399fe54f42d80daa04140d19bcfe0e2d8/test/functional/wallet_multiwallet.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_multiwallet.py?ref=fa00ff0399fe54f42d80daa04140d19bcfe0e2d8",
        "patch": "@@ -104,14 +104,14 @@ def wallet_file(name):\n         #   w8         - to verify existing wallet file is loaded correctly. Not tested for SQLite wallets as this is a deprecated BDB behavior.\n         #   ''         - to verify default wallet file is created correctly\n         to_create = ['w1', 'w2', 'w3', 'w', 'sub/w5', 'w7_symlink']\n-        in_wallet_dir = to_create.copy() # Wallets in the wallet dir\n-        in_wallet_dir.append('w7') # w7 is not loaded or created, but will be listed by listwalletdir because w7_symlink\n-        to_create.append(os.path.join(self.options.tmpdir, 'extern/w6')) # External, not in the wallet dir, so we need to avoid adding it to in_wallet_dir\n+        in_wallet_dir = [w.replace('/', os.path.sep) for w in to_create]  # Wallets in the wallet dir\n+        in_wallet_dir.append('w7')  # w7 is not loaded or created, but will be listed by listwalletdir because w7_symlink\n+        to_create.append(os.path.join(self.options.tmpdir, 'extern/w6'))  # External, not in the wallet dir, so we need to avoid adding it to in_wallet_dir\n         to_load = [self.default_wallet_name]\n         if not self.options.descriptors:\n             to_load.append('w8')\n-        wallet_names = to_create + to_load # Wallet names loaded in the wallet\n-        in_wallet_dir += to_load # The loaded wallets are also in the wallet dir\n+        wallet_names = to_create + to_load  # Wallet names loaded in the wallet\n+        in_wallet_dir += to_load  # The loaded wallets are also in the wallet dir\n         self.start_node(0)\n         for wallet_name in to_create:\n             self.nodes[0].createwallet(wallet_name)\n@@ -298,7 +298,6 @@ def wallet_file(name):\n             # Fail to load if one wallet is a copy of another, test this twice to make sure that we don't re-introduce #14304\n             assert_raises_rpc_error(-4, \"BerkeleyDatabase: Can't open database w8_copy (duplicates fileid\", self.nodes[0].loadwallet, 'w8_copy')\n \n-\n         # Fail to load if wallet file is a symlink\n         assert_raises_rpc_error(-4, \"Wallet file verification failed. Invalid -wallet path 'w8_symlink'\", self.nodes[0].loadwallet, 'w8_symlink')\n \n@@ -397,5 +396,6 @@ def wallet_file(name):\n         self.nodes[0].unloadwallet(wallet)\n         self.nodes[1].loadwallet(wallet)\n \n+\n if __name__ == '__main__':\n     MultiWalletTest().main()"
      }
    ]
  }
]