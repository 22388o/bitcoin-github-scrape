[
  {
    "sha": "9d09132be4ff99f98ca905c342347d5f35f13350",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5ZDA5MTMyYmU0ZmY5OWY5OGNhOTA1YzM0MjM0N2Q1ZjM1ZjEzMzUw",
    "commit": {
      "author": {
        "name": "Anthony Towns",
        "email": "aj@erisian.com.au",
        "date": "2020-11-17T12:56:21Z"
      },
      "committer": {
        "name": "Anthony Towns",
        "email": "aj@erisian.com.au",
        "date": "2020-11-17T16:29:33Z"
      },
      "message": "CConnman: initialise at declaration rather than in Start()\n\nEnsure nMaxOutboundTotalBytesSentInCycle and nMaxOutboundCycleStartTime\nare initialized even if CConnman::Start() is not called.",
      "tree": {
        "sha": "5ee6459c9e4dfe9a3bd817d94171bf0a49ad23de",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5ee6459c9e4dfe9a3bd817d94171bf0a49ad23de"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9d09132be4ff99f98ca905c342347d5f35f13350",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9d09132be4ff99f98ca905c342347d5f35f13350",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/9d09132be4ff99f98ca905c342347d5f35f13350",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9d09132be4ff99f98ca905c342347d5f35f13350/comments",
    "author": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e7986c51bc7afeca8f79f286fb5d950f469a8866",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e7986c51bc7afeca8f79f286fb5d950f469a8866",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e7986c51bc7afeca8f79f286fb5d950f469a8866"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 2,
      "deletions": 13
    },
    "files": [
      {
        "sha": "20c1763ea656ddefb9197f677dd7d8dae5efe311",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 11,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9d09132be4ff99f98ca905c342347d5f35f13350/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9d09132be4ff99f98ca905c342347d5f35f13350/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=9d09132be4ff99f98ca905c342347d5f35f13350",
        "patch": "@@ -2445,17 +2445,6 @@ bool CConnman::Start(CScheduler& scheduler, const Options& connOptions)\n {\n     Init(connOptions);\n \n-    {\n-        LOCK(cs_totalBytesRecv);\n-        nTotalBytesRecv = 0;\n-    }\n-    {\n-        LOCK(cs_totalBytesSent);\n-        nTotalBytesSent = 0;\n-        nMaxOutboundTotalBytesSentInCycle = 0;\n-        nMaxOutboundCycleStartTime = 0;\n-    }\n-\n     if (fListen && !InitBinds(connOptions.vBinds, connOptions.vWhiteBinds, connOptions.onion_binds)) {\n         if (clientInterface) {\n             clientInterface->ThreadSafeMessageBox("
      },
      {
        "sha": "a6dcf7f6104e59674bc62472937506697e70bf59",
        "filename": "src/net.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9d09132be4ff99f98ca905c342347d5f35f13350/src/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9d09132be4ff99f98ca905c342347d5f35f13350/src/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.h?ref=9d09132be4ff99f98ca905c342347d5f35f13350",
        "patch": "@@ -478,8 +478,8 @@ class CConnman\n     uint64_t nTotalBytesSent GUARDED_BY(cs_totalBytesSent) {0};\n \n     // outbound limit & stats\n-    uint64_t nMaxOutboundTotalBytesSentInCycle GUARDED_BY(cs_totalBytesSent);\n-    uint64_t nMaxOutboundCycleStartTime GUARDED_BY(cs_totalBytesSent);\n+    uint64_t nMaxOutboundTotalBytesSentInCycle GUARDED_BY(cs_totalBytesSent) {0};\n+    uint64_t nMaxOutboundCycleStartTime GUARDED_BY(cs_totalBytesSent) {0};\n     uint64_t nMaxOutboundLimit GUARDED_BY(cs_totalBytesSent);\n     uint64_t nMaxOutboundTimeframe GUARDED_BY(cs_totalBytesSent);\n "
      }
    ]
  }
]