[
  {
    "sha": "b3a6e613fc4c3261ff5a28f77b11398e60dca82a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiM2E2ZTYxM2ZjNGMzMjYxZmY1YTI4Zjc3YjExMzk4ZTYwZGNhODJh",
    "commit": {
      "author": {
        "name": "Chris Moore",
        "email": "dooglus@gmail.com",
        "date": "2012-04-12T20:13:08Z"
      },
      "committer": {
        "name": "Chris Moore",
        "email": "dooglus@gmail.com",
        "date": "2012-04-12T20:13:08Z"
      },
      "message": "CBitcoinSecret::SetString() now calls IsValid() to make sure it was passed something with the correct version.",
      "tree": {
        "sha": "47160cbd0caaa05e681fc83bde2afea47e6cbe86",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/47160cbd0caaa05e681fc83bde2afea47e6cbe86"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b3a6e613fc4c3261ff5a28f77b11398e60dca82a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b3a6e613fc4c3261ff5a28f77b11398e60dca82a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b3a6e613fc4c3261ff5a28f77b11398e60dca82a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b3a6e613fc4c3261ff5a28f77b11398e60dca82a/comments",
    "author": {
      "login": "dooglus",
      "id": 573356,
      "node_id": "MDQ6VXNlcjU3MzM1Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dooglus",
      "html_url": "https://github.com/dooglus",
      "followers_url": "https://api.github.com/users/dooglus/followers",
      "following_url": "https://api.github.com/users/dooglus/following{/other_user}",
      "gists_url": "https://api.github.com/users/dooglus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
      "organizations_url": "https://api.github.com/users/dooglus/orgs",
      "repos_url": "https://api.github.com/users/dooglus/repos",
      "events_url": "https://api.github.com/users/dooglus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dooglus/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dooglus",
      "id": 573356,
      "node_id": "MDQ6VXNlcjU3MzM1Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dooglus",
      "html_url": "https://github.com/dooglus",
      "followers_url": "https://api.github.com/users/dooglus/followers",
      "following_url": "https://api.github.com/users/dooglus/following{/other_user}",
      "gists_url": "https://api.github.com/users/dooglus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
      "organizations_url": "https://api.github.com/users/dooglus/orgs",
      "repos_url": "https://api.github.com/users/dooglus/repos",
      "events_url": "https://api.github.com/users/dooglus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dooglus/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b7dc02381f0afe3ee3a542d06a44a64b2cde3812",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b7dc02381f0afe3ee3a542d06a44a64b2cde3812",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b7dc02381f0afe3ee3a542d06a44a64b2cde3812"
      }
    ],
    "stats": {
      "total": 22,
      "additions": 17,
      "deletions": 5
    },
    "files": [
      {
        "sha": "7fefbc5d7481cfeaa90a02840829f21d02f1c904",
        "filename": "src/base58.h",
        "status": "modified",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b3a6e613fc4c3261ff5a28f77b11398e60dca82a/src/base58.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b3a6e613fc4c3261ff5a28f77b11398e60dca82a/src/base58.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/base58.h?ref=b3a6e613fc4c3261ff5a28f77b11398e60dca82a",
        "patch": "@@ -396,6 +396,16 @@ class CBitcoinSecret : public CBase58Data\n         return fExpectTestNet == fTestNet && (vchData.size() == 32 || (vchData.size() == 33 && vchData[32] == 1));\n     }\n \n+    bool SetString(const char* pszSecret)\n+    {\n+        return CBase58Data::SetString(pszSecret) && IsValid();\n+    }\n+\n+    bool SetString(const std::string& strSecret)\n+    {\n+        return SetString(strSecret.c_str());\n+    }\n+\n     CBitcoinSecret(const CSecret& vchSecret, bool fCompressed)\n     {\n         SetSecret(vchSecret, fCompressed);"
      },
      {
        "sha": "a6dab623b082301090a9f8504fbad16622fe06a5",
        "filename": "src/test/key_tests.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 5,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b3a6e613fc4c3261ff5a28f77b11398e60dca82a/src/test/key_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b3a6e613fc4c3261ff5a28f77b11398e60dca82a/src/test/key_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/key_tests.cpp?ref=b3a6e613fc4c3261ff5a28f77b11398e60dca82a",
        "patch": "@@ -14,6 +14,7 @@ static const string strSecret1 (\"5HxWvvfubhXpYYpS3tJkw6fq9jE9j18THftkZjHHfmFiWtm\n static const string strSecret2 (\"5KC4ejrDjv152FGwP386VD1i2NYc5KkfSMyv1nGy1VGDxGHqVY3\");\n static const string strSecret1C(\"Kwr371tjA9u2rFSMZjTNun2PXXP3WPZu2afRHTcta6KxEUdm1vEw\");\n static const string strSecret2C(\"L3Hq7a8FEQwJkW1M2GNKDW28546Vp5miewcCzSqUD9kCAXrJdS3g\");\n+static const string strAddress1(\"1HV9Lc3sNHZxwj4Zk6fB38tEmBryq2cBiF\");\n \n #ifdef KEY_TESTS_DUMPINFO\n void dumpKeyInfo(uint256 privkey)\n@@ -47,11 +48,12 @@ BOOST_AUTO_TEST_SUITE(key_tests)\n \n BOOST_AUTO_TEST_CASE(key_test1)\n {\n-    CBitcoinSecret bsecret1, bsecret2, bsecret1C, bsecret2C;\n-    bsecret1.SetString (strSecret1);\n-    bsecret2.SetString (strSecret2);\n-    bsecret1C.SetString(strSecret1C);\n-    bsecret2C.SetString(strSecret2C);\n+    CBitcoinSecret bsecret1, bsecret2, bsecret1C, bsecret2C, baddress1;\n+    BOOST_CHECK( bsecret1.SetString (strSecret1));\n+    BOOST_CHECK( bsecret2.SetString (strSecret2));\n+    BOOST_CHECK( bsecret1C.SetString(strSecret1C));\n+    BOOST_CHECK( bsecret2C.SetString(strSecret2C));\n+    BOOST_CHECK(!baddress1.SetString(strAddress1));\n \n     bool fCompressed;\n     CSecret secret1  = bsecret1.GetSecret (fCompressed);"
      }
    ]
  }
]