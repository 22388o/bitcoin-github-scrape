laanwj,2016-02-03T13:24:24Z,Concept ACK.\nMy only concern is that these warnings will never go away (no equiv CT_DELETED).\n,https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-179226942,179226942,
zander,2016-02-03T15:08:17Z,Integrated feedback and made the diff minimal.\n,https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-179284017,179284017,
jtimon,2016-02-03T20:26:14Z,Concept ACK\n,https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-179444444,179444444,
zander,2016-02-07T19:21:35Z,To protect users running the GUI (which really means the wallet in most cases) I would like this to end up in the upcoming release.\n\nCan you please make sure it gets included?\n,https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-181088780,181088780,
laanwj,2016-02-08T08:52:16Z,"@zander: \n- Review-wise, it first at least needs a tested ACK.\n\nWhether it can be included in 0.12.0 depends on whether there needs to be another Release Candidate. It looks like rc3 may pretty well be the last one (no new critical issues have come up), if so it will be relabeled as final this week. This means no further code can be included. It will make it into 0.12.1 of course.\n\nAlso I've ",https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-181258943,181258943,
jonasschnelli,2016-02-22T09:14:55Z,"Hmm... not sure about that.\nJust gave this some testing.\nIn regtest, the `nBlocks > BLOCKS_EXPECTED` check will very likely be positive, so, this is a good way to test the alert system.\n\nMain problem is probably that the GUI alert system can only display the most recent alert and there is no way of removing the alert.\n\nIMO there should be a GUI alert _log_ and a way of ""accepting"" (hiding) a",https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-187083690,187083690,
zander,2016-02-22T09:31:59Z,"> Main problem is probably that the GUI alert system can only display the most recent alert and there is no way of removing the alert.\n> IMO there should be a GUI alert log and a way of ""accepting"" (hiding) an alert. Something like OSX Notification Center (or iOS / Android notification mechanism). \n\nI do think that this is a future feature that would make a lot of sense to add. But such an exte",https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-187092755,187092755,
jonasschnelli,2016-02-22T09:37:37Z,"> The goal is to get this into the first release.\n\n0.12 final has been tagged (binaries soon).\nI don't see this as a urgent feature that would allow dispatching another RC round (which is to late anyway now).\n\nIMO adding log-based-alerts to the GUI without a actually ""log"" (only the most recent one without a timestamp), can make things worse. If we are going to change this, it should also res",https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-187095577,187095577,
zander,2016-02-22T09:43:34Z,"> I don't see this as a urgent feature\n\nHaving the GUI show you when your client stopped accepting blocks hours ago (for instance) is not an urgent feature?\n\nI welcome anyone wanting to make this better, however you want, as long as the end user does indeed get informed when his software is too old to be able to participate on the network.\n",https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-187096844,187096844,
jonasschnelli,2016-02-22T09:48:20Z,"> Having the GUI show you when your client stopped accepting blocks hours ago (for instance) is not an urgent feature?\n\nA such feature would be very nice. Although, compared to other issues, this is not a reason add a quick-fix with conceptual problems (map log-alert-system to only-display-most-recent alert) and doing other RC-round or the whole bitcoin-core packaged.\n\nWe should wait until we ",https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-187098626,187098626,
zander,2016-02-22T09:50:47Z,"Well, I made this request 17 days ago, if you can't get it into 0.12.0, then what about 0.12.1 ?\n\nPlease write a tested-ack confirming that it works (which you wrote above you did), so it can be merged at least. \n",https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-187099323,187099323,
jonasschnelli,2016-02-22T09:59:37Z,"> Well, I made this request 17 days ago, if you can't get it into 0.12.0, then what about 0.12.1 ?\n\nPlease respect the way how Core does do quality assurance. Most PR take much longer than 17 days until they get merged. Time does not matter in this case. We need reviews.\n\n> Please write a tested-ack confirming that it works (which you wrote above you did), so it can be merged at least.\n\nI ha",https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-187103725,187103725,
zander,2016-02-22T10:08:34Z,"> Example: If a user faces network problems (close 8333p, etc.), he would see WARNING: check your network connection, %d blocks received in the last %d hours (%d expected) in the GUI, he might resolve the problem then, \n\nGood enough example, the current situation is that the user never sees this warning. In your example he has applied this patch, sees the problem and can fix it.  \nWithout this ",https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-187106130,187106130,
jonasschnelli,2016-02-22T10:18:12Z,"> Without this patch, he won't fix it...\n\nThere is still the debug.log (there is a ""open"" button from the debug window).\n\n> Again, if its not perfect, then refine it, make it better for a future release. Don't stop real users from seeing real problems in the first available release.\n\nI just try to avoid a fix that introduces new issues.\n\nWhat if we ...\n- ...would add a timestamp (displays",https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-187108245,187108245,
gavinandresen,2016-02-22T10:38:15Z,Seeing an error/alert is strictly better than not.\n\nTested ACK from me.\n,https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-187116649,187116649,
jonasschnelli,2016-02-22T13:19:07Z,"Did some additional testing.\nIf a large chain fork was reported to the GUI, the error gets overwritten by `WARNING: check your network connection, 0 blocks received in the last 4 hours (24 expected)` after 4 hours. There is a high chance of missing the error (4h time window) and confusing the user with ""network troubles"".\n\nWorking on a alternative solution now.\n",https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-187169008,187169008,
laanwj,2016-03-07T19:26:59Z,Closing in favor of #7579\n,https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-193409966,193409966,
MarcoFalke,2016-06-09T23:14:14Z,"Pull is closed, removing 'Needs backport'\n",https://github.com/bitcoin/bitcoin/pull/7461#issuecomment-225054133,225054133,
MarcoFalke,2016-02-03T20:15:19Z,Nit: What is the meaning of this comment?\n,https://github.com/bitcoin/bitcoin/pull/7461#discussion_r51780262,51780262,src/alert.cpp
zander,2016-02-03T20:26:35Z,"The comment is a habit I have to indicate that the method just below is static. Something that is in the signature in the header, but not possible to have in any other way in the cpp file.\n",https://github.com/bitcoin/bitcoin/pull/7461#discussion_r51781704,51781704,src/alert.cpp
jtimon,2016-02-03T20:47:56Z,"Wouldn't ""NotifyExternal"" be a more appropriate name that it is exposed while the static function is only used internally?\n",https://github.com/bitcoin/bitcoin/pull/7461#discussion_r51784527,51784527,src/alert.h
jtimon,2016-02-03T20:49:01Z,This declaration could be saved if the the definition of the newly created method was moved below the definition of the static function.\n,https://github.com/bitcoin/bitcoin/pull/7461#discussion_r51784682,51784682,src/alert.cpp
zander,2016-02-03T21:00:13Z,"I'm not sure what you mean, the difference between the Notify and the Notify Internal is that the latter also sends a message to the uiClient. Which is internal, not external...\n",https://github.com/bitcoin/bitcoin/pull/7461#discussion_r51786167,51786167,src/alert.h
zander,2016-02-03T21:01:13Z,"Actually, there are various usages of the method Notify throughout the file, not just in the method I added.\n",https://github.com/bitcoin/bitcoin/pull/7461#discussion_r51786284,51786284,src/alert.cpp
jtimon,2016-02-03T21:12:22Z,"Never mind, somehow I was thinking about it being internal to alert.o... \n",https://github.com/bitcoin/bitcoin/pull/7461#discussion_r51787797,51787797,src/alert.h
jtimon,2016-02-03T21:13:29Z,"You are right, sorry for not making sure that wasn't the case before talking.\n",https://github.com/bitcoin/bitcoin/pull/7461#discussion_r51787928,51787928,src/alert.cpp
gavinandresen,2016-02-04T15:50:46Z,"It would be better to hold the cs_mapAlerts lock for as little time as possible, so good to add a local scope like this:\n\n```\n{\n    LOCK(cs_mapAlerts);\n    mapAlerts[zero] = internalAlert;\n}\n```\n",https://github.com/bitcoin/bitcoin/pull/7461#discussion_r51891371,51891371,src/alert.cpp
jonasschnelli,2016-02-22T14:06:57Z,I guess you need at least a `internalAlert.nExpiration` time here.\n,https://github.com/bitcoin/bitcoin/pull/7461#discussion_r53628416,53628416,src/alert.cpp
jonasschnelli,2016-02-22T14:08:03Z,IMO you ~~also~~ should set `internalAlert.strStatusBar` instead. (vchMsg is the raw data of a network alert that comes with a signature).\n,https://github.com/bitcoin/bitcoin/pull/7461#discussion_r53628561,53628561,src/alert.cpp
jonasschnelli,2016-02-22T14:16:55Z,Does this includes a risk that the alert gets relayed to other peers?\n,https://github.com/bitcoin/bitcoin/pull/7461#discussion_r53629703,53629703,src/alert.cpp
zander,2016-02-22T14:40:53Z,Why? There is no change at all in the user experience...\n,https://github.com/bitcoin/bitcoin/pull/7461#discussion_r53632834,53632834,src/alert.cpp
jonasschnelli,2016-02-22T14:43:42Z,`internalAlert.vchMsg` will never be shown in your case. What's the reason in instantiating a CAlert? IMO it's completely unused.\n,https://github.com/bitcoin/bitcoin/pull/7461#discussion_r53633225,53633225,src/alert.cpp
