promag,2020-07-09 18:47:29,"This is a POC, please don't review the code, just the approach. It needs to define the change format among other details.",https://github.com/bitcoin/bitcoin/pull/19476#issuecomment-656291483,656291483,
luke-jr,2020-07-09 19:33:10,Seems like this should probably use longpolling instead?,https://github.com/bitcoin/bitcoin/pull/19476#issuecomment-656311330,656311330,
promag,2020-07-09 19:46:07,"> Pulling can also block until changes are available.\n\n@luke-jr ‚òùÔ∏è",https://github.com/bitcoin/bitcoin/pull/19476#issuecomment-656316834,656316834,
instagibbs,2020-07-09 19:47:50,Might be a good idea to optionally start with full `getrawmempool` results(if it's not already),https://github.com/bitcoin/bitcoin/pull/19476#issuecomment-656317563,656317563,
promag,2020-07-09 19:49:34,"@instagibbs that's already the case, `start` fills the stream with `add <hash>` entries (don't mind the format) so a client never needs to call `getrawmempool` and compare/diff and sync with zmq notifications.",https://github.com/bitcoin/bitcoin/pull/19476#issuecomment-656318401,656318401,
luke-jr,2020-07-09 19:57:01,"Longpolling would support multiple clients on a single buffer. So each request would get a new position id, and requesting with that position id would tell the node where in the shared buffer to begin with new data.",https://github.com/bitcoin/bitcoin/pull/19476#issuecomment-656321390,656321390,
promag,2020-07-09 20:08:42,"@luke-jr yes, it would be possible to share the buffer for all active clients. The problem is when a new client starts a stream, it needs to receive the current mempool and then resume from the shared buffer. I consider this an optimization.",https://github.com/bitcoin/bitcoin/pull/19476#issuecomment-656326375,656326375,
DrahtBot,2020-07-13 06:04:27,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19849 (Assert that RPCArg names are equal to CRPCCommand ones (blockchain,rawtransaction) by MarcoFalke)\n* #19725 ([RPC]",https://github.com/bitcoin/bitcoin/pull/19476#issuecomment-657377645,657377645,
instagibbs,2020-07-23 20:31:15,Anyone interested in this may be interested in https://github.com/bitcoin/bitcoin/pull/19572 as well.,https://github.com/bitcoin/bitcoin/pull/19476#issuecomment-663217461,663217461,
shuckc,2020-07-24 09:32:26,"I promised a quick review after the developer IRC chat. My concerns would be:\n\nIf a client is struggling to handle a particular message type, it's not unimaginable that it might keep re-connecting for a new stream, getting a message and failing. Each time the `MempoolChanges` tracker gets abandoned by the client, but keeps accumulating new events until it hits the backlog-limit. The side-effec",https://github.com/bitcoin/bitcoin/pull/19476#issuecomment-663448278,663448278,
promag,2020-07-24 10:16:38,"Thanks for the comments @shuckc \n\nI'm not that worried about memory. Of course it would be a problem if you start lots of streams and you don't poll from them. We could limit the sum of all streams sizes. Anyway, internally streams could share the same data, see https://github.com/bitcoin/bitcoin/pull/19476#issuecomment-656326375.\n\nCurrently the client has to periodically request for chang",https://github.com/bitcoin/bitcoin/pull/19476#issuecomment-663469508,663469508,
DrahtBot,2020-09-22 17:07:08,"<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a ""draft"".</sub>",https://github.com/bitcoin/bitcoin/pull/19476#issuecomment-696854846,696854846,
promag,2020-10-05 17:32:34,Closing now that #19572 is merged.,https://github.com/bitcoin/bitcoin/pull/19476#issuecomment-703778316,703778316,
