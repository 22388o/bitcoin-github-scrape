[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259866415",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-259866415",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 259866415,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTg2NjQxNQ==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-11T02:36:53Z",
    "updated_at": "2016-11-11T03:29:28Z",
    "author_association": "MEMBER",
    "body": "Concept ACK. _Very_ curious to see some memory usage numbers :)\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259866415/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259895918",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-259895918",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 259895918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTg5NTkxOA==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-11T07:12:22Z",
    "updated_at": "2016-11-11T07:12:22Z",
    "author_association": "MEMBER",
    "body": "I created a branch with some follow-up _shared_ptr all the things_ and other optimizations: https://github.com/sipa/bitcoin/commits/sharedblock2\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259895918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260409978",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-260409978",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 260409978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDQwOTk3OA==",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?u=63e5c438c242094837a9deeda775d77988b508bf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-14T17:57:19Z",
    "updated_at": "2016-11-14T17:57:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "tested ACK.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260409978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260570570",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-260570570",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 260570570,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDU3MDU3MA==",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?u=63e5c438c242094837a9deeda775d77988b508bf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-15T07:49:38Z",
    "updated_at": "2016-11-15T07:49:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "FWIW, I attempted to test the performance impact of this but it is a bit difficulty to do a fair comparison. I am reasonably confident that it does not produce a significant slowdown. (logically it should be a speedup, but I don't think my measurements were fair/reliable enough to determine if there was on or not).\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260570570/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261055148",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-261055148",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 261055148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTA1NTE0OA==",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-16T20:01:08Z",
    "updated_at": "2016-11-16T20:01:08Z",
    "author_association": "MEMBER",
    "body": "I did a quick performance comparison running on 2 days of historical data, and though I was unable to quantify any meaningful performance difference, I agree that this doesn't appear to cause a significant slowdown.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261055148/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261056620",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-261056620",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 261056620,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTA1NjYyMA==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-16T20:07:16Z",
    "updated_at": "2016-11-16T20:42:56Z",
    "author_association": "MEMBER",
    "body": "Benchmark results (25 reindex-chainstates until last checkpoint, default dbcache, otherwise unloaded 24-core machine, measured by -debug=bench) on both master and #9125+#8580+#8589+a few shared_ptr optimizations I haven't PR'ed yet:\n- Average: master 1490s, shared_ptr 1442s\n\nBest master run:\n\n```\n2016-11-16 12:27:14   - Load block from disk: 1.25ms [273.57s]\n2016-11-16 12:27:14     - Sanity checks: 0.14ms [70.95s]\n2016-11-16 12:27:14     - Fork checks: 0.02ms [80.76s]\n2016-11-16 12:27:14       - Connect 64 transactions: 11.06ms (0.173ms/tx, 0.020ms/txin) [711.67s]\n2016-11-16 12:27:14     - Verify 550 txins: 11.09ms (0.020ms/txin) [718.24s]\n2016-11-16 12:27:14     - Index writing: 0.03ms [5.25s]\n2016-11-16 12:27:14     - Callbacks: 0.01ms [3.75s]\n2016-11-16 12:27:14   - Connect total: 11.34ms [896.52s]\n2016-11-16 12:27:14   - Flush: 0.26ms [86.70s]\n2016-11-16 12:27:14   - Writing chainstate: 0.02ms [112.45s]\n2016-11-16 12:27:14   - Connect postprocess: 0.42ms [86.88s]\n2016-11-16 12:27:14 - Connect block: 13.30ms [1456.12s]\n```\n\nBest shared_ptr run:\n\n```\n2016-11-16 10:17:40   - Load block from disk: 1.61ms [283.93s]\n2016-11-16 10:17:40     - Sanity checks: 0.18ms [76.82s]\n2016-11-16 10:17:40     - Fork checks: 0.03ms [83.22s]\n2016-11-16 10:17:40       - Connect 64 transactions: 17.43ms (0.272ms/tx, 0.032ms/txin) [717.76s]\n2016-11-16 10:17:40     - Verify 550 txins: 17.47ms (0.032ms/txin) [724.51s]\n2016-11-16 10:17:40     - Index writing: 0.02ms [5.34s]\n2016-11-16 10:17:40     - Callbacks: 0.02ms [3.85s]\n2016-11-16 10:17:40   - Connect total: 17.81ms [911.36s]\n2016-11-16 10:17:40   - Flush: 0.40ms [87.91s]\n2016-11-16 10:17:40   - Writing chainstate: 0.03ms [112.31s]\n2016-11-16 10:17:40   - Connect postprocess: 0.08ms [25.61s]\n2016-11-16 10:17:40 - Connect block: 19.94ms [1421.12s]\n```\n\nGoing to include just this PR in future benchmarks as well, as there seem to be some slowdowns too, and I don't know where they're coming from.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261056620/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261399275",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-261399275",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 261399275,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTM5OTI3NQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-17T23:09:22Z",
    "updated_at": "2016-11-17T23:09:22Z",
    "author_association": "MEMBER",
    "body": "@jtimon I believe all of them are used in successor PRs.\n\n@theuni That overload won't work for the arguments that take a\nCTransactionRef.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261399275/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261399691",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-261399691",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 261399691,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTM5OTY5MQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-17T23:11:32Z",
    "updated_at": "2016-11-17T23:11:32Z",
    "author_association": "MEMBER",
    "body": "@jtimon std::move just casts to an T&& argument. It's to indicate that the\ncalled function may destroy the object.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261399691/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261405945",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-261405945",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 261405945,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTQwNTk0NQ==",
    "user": {
      "login": "jtimon",
      "id": 1008458,
      "node_id": "MDQ6VXNlcjEwMDg0NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1008458?u=636a89c913ac407f52bb8d57c4fff384b98f421f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtimon",
      "html_url": "https://github.com/jtimon",
      "followers_url": "https://api.github.com/users/jtimon/followers",
      "following_url": "https://api.github.com/users/jtimon/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtimon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
      "organizations_url": "https://api.github.com/users/jtimon/orgs",
      "repos_url": "https://api.github.com/users/jtimon/repos",
      "events_url": "https://api.github.com/users/jtimon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtimon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-17T23:44:25Z",
    "updated_at": "2016-11-17T23:45:31Z",
    "author_association": "MEMBER",
    "body": "utACK 9bc6cbc besides some nits by @theuni \n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261405945/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261407305",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-261407305",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 261407305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTQwNzMwNQ==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-17T23:52:12Z",
    "updated_at": "2016-11-17T23:52:12Z",
    "author_association": "MEMBER",
    "body": "@sipa I'm unsure why you'd want to do that? Why wouldn't you just\n\n```\nCTransactionRef a(MakeTransactionRef());\nCTransactionRef b(a);\nCTransactionRef c(std::move(b));\n```\n\n?\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261407305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261409347",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-261409347",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 261409347,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTQwOTM0Nw==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T00:03:41Z",
    "updated_at": "2016-11-18T00:03:41Z",
    "author_association": "MEMBER",
    "body": "@theuni In #8580 I add a templated constructor to CWalletTx and CMerkleTx that just passes its arguments to MakeTransactionRef, avoiding duplicating various kinds of constructors in both.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261409347/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261417431",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-261417431",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 261417431,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTQxNzQzMQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T00:52:59Z",
    "updated_at": "2016-11-18T00:53:06Z",
    "author_association": "MEMBER",
    "body": "Rebased, and addressed two nits by @theuni:\n- Added the memory usage for the control block of the vtx entries in CBlock.\n- Changed deserialize_t to deserialize_type to avoid colliding with the reserved _t suffix.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261417431/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261733957",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-261733957",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 261733957,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTczMzk1Nw==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-19T19:24:20Z",
    "updated_at": "2016-11-26T01:21:59Z",
    "author_association": "MEMBER",
    "body": "Some more benchmarks (fastest of 28 reindexes each, 300 MB dbcache, reindex chainstate up to block 295000):\r\n- master: 1462.4s\r\n- this PR: 1411.2s\r\n- #8580: 1412.2s\r\n- #8589: 1417.5s\r\n- https://github.com/sipa/bitcoin/commits/sharedblock2: 1410.3s\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261733957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261753075",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-261753075",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 261753075,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTc1MzA3NQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-20T02:01:27Z",
    "updated_at": "2016-11-20T02:01:27Z",
    "author_association": "MEMBER",
    "body": "Addressed all of @TheBlueMatt's nits.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261753075/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261892172",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#issuecomment-261892172",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9125",
    "id": 261892172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTg5MjE3Mg==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T09:52:05Z",
    "updated_at": "2016-11-21T09:52:05Z",
    "author_association": "MEMBER",
    "body": "Tested ACK b4e4ba4",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261892172/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88527182",
    "pull_request_review_id": 9099010,
    "id": 88527182,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTI3MTgy",
    "diff_hunk": "@@ -25,6 +26,20 @@\n static const unsigned int MAX_SIZE = 0x02000000;\n \n /**\n+ * Dummy data type to identify deserializing constructors.\n+ *\n+ * By convention, a constructor of a type T with signature\n+ *\n+ *   template <typename Stream> T::T(deserialize_t, Stream& s)\n+ *\n+ * is a deserializing constructor, which builds the type by\n+ * deserializing it from s. If T contains const fields, this\n+ * is likely the only way to do so.\n+ */\n+struct deserialize_t {};",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 22,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "9ea07616f265b928e32e6981490cd29584749c6f",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nits: _t is reserved by posix, and maybe namespace \"deserialize\" to avoid future shadowing oopses?\n",
    "created_at": "2016-11-17T19:26:46Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88527182",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88527182"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88527182"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88527182/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 39,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88528236",
    "pull_request_review_id": 9099010,
    "id": 88528236,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTI4MjM2",
    "diff_hunk": "@@ -379,6 +379,7 @@ class CTransaction\n \n     /** Convert a CMutableTransaction into a CTransaction. */\n     CTransaction(const CMutableTransaction &tx);\n+    CTransaction(CMutableTransaction &&tx);\n \n     CTransaction& operator=(const CTransaction& tx);",
    "path": "src/primitives/transaction.h",
    "position": 6,
    "original_position": 6,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "b3a8200c8616d23ea577cac5233d84d795035b0d",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Does this need a move assignment operator too? Or is this being removed in a follow-up anyway?\n",
    "created_at": "2016-11-17T19:31:20Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88528236",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88528236"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88528236"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88528236/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 384,
    "original_line": 384,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88537741",
    "pull_request_review_id": 9099010,
    "id": 88537741,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTM3NzQx",
    "diff_hunk": "@@ -69,8 +69,8 @@ static inline size_t RecursiveDynamicUsage(const CMutableTransaction& tx) {\n \n static inline size_t RecursiveDynamicUsage(const CBlock& block) {\n     size_t mem = memusage::DynamicUsage(block.vtx);\n-    for (std::vector<CTransaction>::const_iterator it = block.vtx.begin(); it != block.vtx.end(); it++) {\n-        mem += RecursiveDynamicUsage(*it);\n+    for (const auto& tx : block.vtx) {\n+        mem += RecursiveDynamicUsage(*tx);",
    "path": "src/core_memusage.h",
    "position": null,
    "original_position": 7,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "8a671e8a16075707a5fe764689087163ebe9d26d",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Need to account for the overhead in the control block?\n",
    "created_at": "2016-11-17T20:18:41Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88537741",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88537741"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88537741"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88537741/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 73,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88538183",
    "pull_request_review_id": 9099010,
    "id": 88538183,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTM4MTgz",
    "diff_hunk": "@@ -1682,9 +1682,9 @@ bool GetTransaction(const uint256 &hash, CTransaction &txOut, const Consensus::P\n     if (pindexSlow) {\n         CBlock block;\n         if (ReadBlockFromDisk(block, pindexSlow, consensusParams)) {\n-            BOOST_FOREACH(const CTransaction &tx, block.vtx) {\n-                if (tx.GetHash() == hash) {\n-                    txOut = tx;\n+            for (const auto& tx : block.vtx) {",
    "path": "src/main.cpp",
    "position": 25,
    "original_position": 7,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "8a671e8a16075707a5fe764689087163ebe9d26d",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Future optim (probably done in one of your follow-up branches), this could just return a shared_ptr instead.\n",
    "created_at": "2016-11-17T20:21:13Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88538183",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88538183"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88538183"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88538183/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1685,
    "original_line": 1685,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88540383",
    "pull_request_review_id": 9099010,
    "id": 88540383,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTQwMzgz",
    "diff_hunk": "@@ -2884,7 +2885,7 @@ bool static ConnectTip(CValidationState& state, const CChainParams& chainparams,\n     // Update chainActive & related variables.\n     UpdateTip(pindexNew, chainparams);\n \n-    for(unsigned int i=0; i < pblock->vtx.size(); i++)\n+    for (unsigned int i=0; i < pblock->vtx.size(); i++)",
    "path": "src/main.cpp",
    "position": 117,
    "original_position": 99,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "8a671e8a16075707a5fe764689087163ebe9d26d",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixing them one at a time, eh? :)\n",
    "created_at": "2016-11-17T20:34:24Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88540383",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88540383"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88540383"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88540383/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2888,
    "original_line": 2888,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88541047",
    "pull_request_review_id": 9099010,
    "id": 88541047,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTQxMDQ3",
    "diff_hunk": "@@ -3109,13 +3110,13 @@ bool ActivateBestChain(CValidationState &state, const CChainParams& chainparams,\n \n         // throw all transactions though the signal-interface\n         // while _not_ holding the cs_main lock\n-        for(std::shared_ptr<const CTransaction> tx : txConflicted)\n+        for (const auto& tx : txConflicted)\n         {\n             GetMainSignals().SyncTransaction(*tx, pindexNewTip, CMainSignals::SYNC_TRANSACTION_NOT_IN_BLOCK);\n         }\n         // ... and about transactions that got confirmed:\n-        for(unsigned int i = 0; i < txChanged.size(); i++)\n-            GetMainSignals().SyncTransaction(std::get<0>(txChanged[i]), std::get<1>(txChanged[i]), std::get<2>(txChanged[i]));\n+        for (unsigned int i = 0; i < txChanged.size(); i++)",
    "path": "src/main.cpp",
    "position": 160,
    "original_position": 133,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "8a671e8a16075707a5fe764689087163ebe9d26d",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "unrelated nit: using range-for or iterators here would avoid looking up in the vector 3x.\n",
    "created_at": "2016-11-17T20:38:05Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88541047",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88541047"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88541047"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88541047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3118,
    "original_line": 3118,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88541658",
    "pull_request_review_id": 9099010,
    "id": 88541658,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTQxNjU4",
    "diff_hunk": "@@ -3454,22 +3455,22 @@ bool CheckBlock(const CBlock& block, CValidationState& state, const Consensus::P\n         return state.DoS(100, false, REJECT_INVALID, \"bad-blk-length\", false, \"size limits failed\");\n \n     // First transaction must be coinbase, the rest must not be\n-    if (block.vtx.empty() || !block.vtx[0].IsCoinBase())\n+    if (block.vtx.empty() || !block.vtx[0]->IsCoinBase())\n         return state.DoS(100, false, REJECT_INVALID, \"bad-cb-missing\", false, \"first tx is not coinbase\");\n     for (unsigned int i = 1; i < block.vtx.size(); i++)\n-        if (block.vtx[i].IsCoinBase())\n+        if (block.vtx[i]->IsCoinBase())\n             return state.DoS(100, false, REJECT_INVALID, \"bad-cb-multiple\", false, \"more than one coinbase\");\n \n     // Check transactions\n     for (const auto& tx : block.vtx)\n-        if (!CheckTransaction(tx, state, false))\n+        if (!CheckTransaction(*tx, state, false))\n             return state.Invalid(false, state.GetRejectCode(), state.GetRejectReason(),\n-                                 strprintf(\"Transaction check failed (tx hash %s) %s\", tx.GetHash().ToString(), state.GetDebugMessage()));\n+                                 strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), state.GetDebugMessage()));\n \n     unsigned int nSigOps = 0;\n     for (const auto& tx : block.vtx)\n     {\n-        nSigOps += GetLegacySigOpCount(tx);",
    "path": "src/main.cpp",
    "position": 188,
    "original_position": 161,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "8a671e8a16075707a5fe764689087163ebe9d26d",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: This could be combined with the loop above, and &*tx could be cached to avoid duped dereference cost.\n",
    "created_at": "2016-11-17T20:41:47Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88541658",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88541658"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88541658"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88541658/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3472,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88545416",
    "pull_request_review_id": 9099010,
    "id": 88545416,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTQ1NDE2",
    "diff_hunk": "@@ -596,29 +596,29 @@ void CTxMemPool::removeConflicts(const CTransaction &tx, std::vector<std::shared\n /**\n  * Called when a block is connected. Removes from mempool and updates the miner fee estimator.\n  */\n-void CTxMemPool::removeForBlock(const std::vector<CTransaction>& vtx, unsigned int nBlockHeight,\n+void CTxMemPool::removeForBlock(const std::vector<shared_ptr<const CTransaction>>& vtx, unsigned int nBlockHeight,\n                                 std::vector<std::shared_ptr<const CTransaction>>* conflicts, bool fCurrentEstimate)\n {\n     LOCK(cs);\n     std::vector<CTxMemPoolEntry> entries;\n-    BOOST_FOREACH(const CTransaction& tx, vtx)\n+    for (const auto& tx : vtx)\n     {\n-        uint256 hash = tx.GetHash();\n+        uint256 hash = tx->GetHash();\n \n         indexed_transaction_set::iterator i = mapTx.find(hash);\n         if (i != mapTx.end())\n             entries.push_back(*i);\n     }\n-    BOOST_FOREACH(const CTransaction& tx, vtx)\n+    for (const auto& tx : vtx)\n     {",
    "path": "src/txmempool.cpp",
    "position": 50,
    "original_position": 22,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "8a671e8a16075707a5fe764689087163ebe9d26d",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: could cache the dereferenced tx since it's used a few times\n",
    "created_at": "2016-11-17T21:03:41Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88545416",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88545416"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88545416"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88545416/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 613,
    "original_line": 613,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88546294",
    "pull_request_review_id": 9117976,
    "id": 88546294,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTQ2Mjk0",
    "diff_hunk": "@@ -1682,9 +1682,9 @@ bool GetTransaction(const uint256 &hash, CTransaction &txOut, const Consensus::P\n     if (pindexSlow) {\n         CBlock block;\n         if (ReadBlockFromDisk(block, pindexSlow, consensusParams)) {\n-            BOOST_FOREACH(const CTransaction &tx, block.vtx) {\n-                if (tx.GetHash() == hash) {\n-                    txOut = tx;\n+            for (const auto& tx : block.vtx) {",
    "path": "src/main.cpp",
    "position": 25,
    "original_position": 7,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "8a671e8a16075707a5fe764689087163ebe9d26d",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Heh, https://github.com/bitcoin/bitcoin/pull/8580/commits/9b27eb1db1e4d1433f016dad381b52e8d986b685. Nevermind.\n",
    "created_at": "2016-11-17T21:08:43Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88546294",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88546294"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88546294"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88546294/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1685,
    "original_line": 1685,
    "side": "RIGHT",
    "in_reply_to_id": 88538183
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88546809",
    "pull_request_review_id": 9118508,
    "id": 88546809,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTQ2ODA5",
    "diff_hunk": "@@ -25,6 +26,20 @@\n static const unsigned int MAX_SIZE = 0x02000000;\n \n /**\n+ * Dummy data type to identify deserializing constructors.\n+ *\n+ * By convention, a constructor of a type T with signature\n+ *\n+ *   template <typename Stream> T::T(deserialize_t, Stream& s)\n+ *\n+ * is a deserializing constructor, which builds the type by\n+ * deserializing it from s. If T contains const fields, this\n+ * is likely the only way to do so.\n+ */\n+struct deserialize_t {};",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 22,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "9ea07616f265b928e32e6981490cd29584749c6f",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'm not sure what you are suggesting here.\n",
    "created_at": "2016-11-17T21:11:57Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88546809",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88546809"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88546809"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88546809/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 39,
    "side": "RIGHT",
    "in_reply_to_id": 88527182
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88546901",
    "pull_request_review_id": 9118599,
    "id": 88546901,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTQ2OTAx",
    "diff_hunk": "@@ -379,6 +379,7 @@ class CTransaction\n \n     /** Convert a CMutableTransaction into a CTransaction. */\n     CTransaction(const CMutableTransaction &tx);\n+    CTransaction(CMutableTransaction &&tx);\n \n     CTransaction& operator=(const CTransaction& tx);",
    "path": "src/primitives/transaction.h",
    "position": 6,
    "original_position": 6,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "b3a8200c8616d23ea577cac5233d84d795035b0d",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "All assignment operators go away in #8580.\n",
    "created_at": "2016-11-17T21:12:28Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88546901",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88546901"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88546901"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88546901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 384,
    "original_line": 384,
    "side": "RIGHT",
    "in_reply_to_id": 88528236
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88556905",
    "pull_request_review_id": 9128405,
    "id": 88556905,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTU2OTA1",
    "diff_hunk": "@@ -25,6 +26,20 @@\n static const unsigned int MAX_SIZE = 0x02000000;\n \n /**\n+ * Dummy data type to identify deserializing constructors.\n+ *\n+ * By convention, a constructor of a type T with signature\n+ *\n+ *   template <typename Stream> T::T(deserialize_t, Stream& s)\n+ *\n+ * is a deserializing constructor, which builds the type by\n+ * deserializing it from s. If T contains const fields, this\n+ * is likely the only way to do so.\n+ */\n+struct deserialize_t {};",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 22,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "9ea07616f265b928e32e6981490cd29584749c6f",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "``` c++\nnamespace deserialize\n{\n  struct tag {};\n  constexpr tag do;\n}\n```\n\nI suppose it's not worry worrying about though. I can't come up with a case where using a local variable \"deserialize\" could compile in an unintended way.\n",
    "created_at": "2016-11-17T22:01:42Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88556905",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88556905"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88556905"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88556905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 39,
    "side": "RIGHT",
    "in_reply_to_id": 88527182
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88565949",
    "pull_request_review_id": 9137405,
    "id": 88565949,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTY1OTQ5",
    "diff_hunk": "@@ -460,12 +464,25 @@ struct CMutableTransaction\n         SerializeTransaction(*this, s, ser_action);\n     }\n \n+    template <typename Stream>\n+    CMutableTransaction(deserialize_t, Stream& s) {\n+        Unserialize(s);\n+    }\n+\n     /** Compute the hash of this CMutableTransaction. This is computed on the\n      * fly, as opposed to GetHash() in CTransaction, which uses a cached result.\n      */\n     uint256 GetHash() const;\n };\n \n+typedef std::shared_ptr<const CTransaction> CTransactionRef;\n+static inline CTransactionRef MakeTransactionRef() { return std::make_shared<const CTransaction>(); }\n+static inline CTransactionRef MakeTransactionRef(const CTransaction& txIn) { return std::make_shared<const CTransaction>(txIn); }\n+static inline CTransactionRef MakeTransactionRef(const CMutableTransaction& txIn) { return std::make_shared<const CTransaction>(txIn); }\n+static inline CTransactionRef MakeTransactionRef(CMutableTransaction&& txIn) { return std::make_shared<const CTransaction>(std::move(txIn)); }",
    "path": "src/primitives/transaction.h",
    "position": null,
    "original_position": 37,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "9bc6cbc4e24ef856ad4c803226378f276acc14ff",
    "user": {
      "login": "jtimon",
      "id": 1008458,
      "node_id": "MDQ6VXNlcjEwMDg0NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtimon",
      "html_url": "https://github.com/jtimon",
      "followers_url": "https://api.github.com/users/jtimon/followers",
      "following_url": "https://api.github.com/users/jtimon/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtimon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
      "organizations_url": "https://api.github.com/users/jtimon/orgs",
      "repos_url": "https://api.github.com/users/jtimon/repos",
      "events_url": "https://api.github.com/users/jtimon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtimon/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Where is this version used? I see calls that call std::move before calling that maybe should be using this instead?\n\nIn any case, it doesn't feel right to have so many versions of the function somehow. Specially one some with & and others with &&\n",
    "created_at": "2016-11-17T22:55:17Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88565949",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88565949"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88565949"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88565949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 482,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88566807",
    "pull_request_review_id": 9138217,
    "id": 88566807,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTY2ODA3",
    "diff_hunk": "@@ -69,8 +69,8 @@ static inline size_t RecursiveDynamicUsage(const CMutableTransaction& tx) {\n \n static inline size_t RecursiveDynamicUsage(const CBlock& block) {\n     size_t mem = memusage::DynamicUsage(block.vtx);\n-    for (std::vector<CTransaction>::const_iterator it = block.vtx.begin(); it != block.vtx.end(); it++) {",
    "path": "src/core_memusage.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "9bc6cbc4e24ef856ad4c803226378f276acc14ff",
    "user": {
      "login": "jtimon",
      "id": 1008458,
      "node_id": "MDQ6VXNlcjEwMDg0NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtimon",
      "html_url": "https://github.com/jtimon",
      "followers_url": "https://api.github.com/users/jtimon/followers",
      "following_url": "https://api.github.com/users/jtimon/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtimon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
      "organizations_url": "https://api.github.com/users/jtimon/orgs",
      "repos_url": "https://api.github.com/users/jtimon/repos",
      "events_url": "https://api.github.com/users/jtimon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtimon/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks\n",
    "created_at": "2016-11-17T23:00:29Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88566807",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88566807"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88566807"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88566807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 72,
    "original_line": null,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88567792",
    "pull_request_review_id": 9139136,
    "id": 88567792,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTY3Nzky",
    "diff_hunk": "@@ -460,12 +464,25 @@ struct CMutableTransaction\n         SerializeTransaction(*this, s, ser_action);\n     }\n \n+    template <typename Stream>\n+    CMutableTransaction(deserialize_t, Stream& s) {\n+        Unserialize(s);\n+    }\n+\n     /** Compute the hash of this CMutableTransaction. This is computed on the\n      * fly, as opposed to GetHash() in CTransaction, which uses a cached result.\n      */\n     uint256 GetHash() const;\n };\n \n+typedef std::shared_ptr<const CTransaction> CTransactionRef;\n+static inline CTransactionRef MakeTransactionRef() { return std::make_shared<const CTransaction>(); }\n+static inline CTransactionRef MakeTransactionRef(const CTransaction& txIn) { return std::make_shared<const CTransaction>(txIn); }\n+static inline CTransactionRef MakeTransactionRef(const CMutableTransaction& txIn) { return std::make_shared<const CTransaction>(txIn); }\n+static inline CTransactionRef MakeTransactionRef(CMutableTransaction&& txIn) { return std::make_shared<const CTransaction>(std::move(txIn)); }",
    "path": "src/primitives/transaction.h",
    "position": null,
    "original_position": 37,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "9bc6cbc4e24ef856ad4c803226378f276acc14ff",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I believe the overloads could be replaced with:\n\n``` c++\ntemplate <typename T>\nstatic inline CTransactionRef MakeTransactionRef(T&& txIn)\n{\n  return std::make_shared<const CTransaction>(std::forward<T>(txIn));\n}\n```\n",
    "created_at": "2016-11-17T23:06:42Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88567792",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88567792"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88567792"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88567792/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 482,
    "side": "RIGHT",
    "in_reply_to_id": 88565949
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88578710",
    "pull_request_review_id": 9149379,
    "id": 88578710,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTc4NzEw",
    "diff_hunk": "@@ -2884,7 +2885,7 @@ bool static ConnectTip(CValidationState& state, const CChainParams& chainparams,\n     // Update chainActive & related variables.\n     UpdateTip(pindexNew, chainparams);\n \n-    for(unsigned int i=0; i < pblock->vtx.size(); i++)\n+    for (unsigned int i=0; i < pblock->vtx.size(); i++)",
    "path": "src/main.cpp",
    "position": 117,
    "original_position": 99,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "8a671e8a16075707a5fe764689087163ebe9d26d",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You take one down, pass it around. Infinity cases of nits in the code.\n",
    "created_at": "2016-11-18T00:33:36Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88578710",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88578710"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88578710"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88578710/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2888,
    "original_line": 2888,
    "side": "RIGHT",
    "in_reply_to_id": 88540383
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88578876",
    "pull_request_review_id": 9149529,
    "id": 88578876,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTc4ODc2",
    "diff_hunk": "@@ -3109,13 +3110,13 @@ bool ActivateBestChain(CValidationState &state, const CChainParams& chainparams,\n \n         // throw all transactions though the signal-interface\n         // while _not_ holding the cs_main lock\n-        for(std::shared_ptr<const CTransaction> tx : txConflicted)\n+        for (const auto& tx : txConflicted)\n         {\n             GetMainSignals().SyncTransaction(*tx, pindexNewTip, CMainSignals::SYNC_TRANSACTION_NOT_IN_BLOCK);\n         }\n         // ... and about transactions that got confirmed:\n-        for(unsigned int i = 0; i < txChanged.size(); i++)\n-            GetMainSignals().SyncTransaction(std::get<0>(txChanged[i]), std::get<1>(txChanged[i]), std::get<2>(txChanged[i]));\n+        for (unsigned int i = 0; i < txChanged.size(); i++)",
    "path": "src/main.cpp",
    "position": 160,
    "original_position": 133,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "8a671e8a16075707a5fe764689087163ebe9d26d",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not going to touch that now, as I believe #9014 will rewrite this anyway.\n",
    "created_at": "2016-11-18T00:34:56Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88578876",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88578876"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88578876"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88578876/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3118,
    "original_line": 3118,
    "side": "RIGHT",
    "in_reply_to_id": 88541047
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88578993",
    "pull_request_review_id": 9149641,
    "id": 88578993,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTc4OTkz",
    "diff_hunk": "@@ -3454,22 +3455,22 @@ bool CheckBlock(const CBlock& block, CValidationState& state, const Consensus::P\n         return state.DoS(100, false, REJECT_INVALID, \"bad-blk-length\", false, \"size limits failed\");\n \n     // First transaction must be coinbase, the rest must not be\n-    if (block.vtx.empty() || !block.vtx[0].IsCoinBase())\n+    if (block.vtx.empty() || !block.vtx[0]->IsCoinBase())\n         return state.DoS(100, false, REJECT_INVALID, \"bad-cb-missing\", false, \"first tx is not coinbase\");\n     for (unsigned int i = 1; i < block.vtx.size(); i++)\n-        if (block.vtx[i].IsCoinBase())\n+        if (block.vtx[i]->IsCoinBase())\n             return state.DoS(100, false, REJECT_INVALID, \"bad-cb-multiple\", false, \"more than one coinbase\");\n \n     // Check transactions\n     for (const auto& tx : block.vtx)\n-        if (!CheckTransaction(tx, state, false))\n+        if (!CheckTransaction(*tx, state, false))\n             return state.Invalid(false, state.GetRejectCode(), state.GetRejectReason(),\n-                                 strprintf(\"Transaction check failed (tx hash %s) %s\", tx.GetHash().ToString(), state.GetDebugMessage()));\n+                                 strprintf(\"Transaction check failed (tx hash %s) %s\", tx->GetHash().ToString(), state.GetDebugMessage()));\n \n     unsigned int nSigOps = 0;\n     for (const auto& tx : block.vtx)\n     {\n-        nSigOps += GetLegacySigOpCount(tx);",
    "path": "src/main.cpp",
    "position": 188,
    "original_position": 161,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "8a671e8a16075707a5fe764689087163ebe9d26d",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good point, but let's do that as an independent improvement.\n",
    "created_at": "2016-11-18T00:35:53Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88578993",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88578993"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88578993"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88578993/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3472,
    "original_line": null,
    "side": "RIGHT",
    "in_reply_to_id": 88541658
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88579459",
    "pull_request_review_id": 9150116,
    "id": 88579459,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTc5NDU5",
    "diff_hunk": "@@ -596,29 +596,29 @@ void CTxMemPool::removeConflicts(const CTransaction &tx, std::vector<std::shared\n /**\n  * Called when a block is connected. Removes from mempool and updates the miner fee estimator.\n  */\n-void CTxMemPool::removeForBlock(const std::vector<CTransaction>& vtx, unsigned int nBlockHeight,\n+void CTxMemPool::removeForBlock(const std::vector<shared_ptr<const CTransaction>>& vtx, unsigned int nBlockHeight,\n                                 std::vector<std::shared_ptr<const CTransaction>>* conflicts, bool fCurrentEstimate)\n {\n     LOCK(cs);\n     std::vector<CTxMemPoolEntry> entries;\n-    BOOST_FOREACH(const CTransaction& tx, vtx)\n+    for (const auto& tx : vtx)\n     {\n-        uint256 hash = tx.GetHash();\n+        uint256 hash = tx->GetHash();\n \n         indexed_transaction_set::iterator i = mapTx.find(hash);\n         if (i != mapTx.end())\n             entries.push_back(*i);\n     }\n-    BOOST_FOREACH(const CTransaction& tx, vtx)\n+    for (const auto& tx : vtx)\n     {",
    "path": "src/txmempool.cpp",
    "position": 50,
    "original_position": 22,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "8a671e8a16075707a5fe764689087163ebe9d26d",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Likewise.\n",
    "created_at": "2016-11-18T00:40:23Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88579459",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88579459"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88579459"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88579459/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 613,
    "original_line": 613,
    "side": "RIGHT",
    "in_reply_to_id": 88545416
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88579642",
    "pull_request_review_id": 9150296,
    "id": 88579642,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTc5NjQy",
    "diff_hunk": "@@ -69,8 +69,8 @@ static inline size_t RecursiveDynamicUsage(const CMutableTransaction& tx) {\n \n static inline size_t RecursiveDynamicUsage(const CBlock& block) {\n     size_t mem = memusage::DynamicUsage(block.vtx);\n-    for (std::vector<CTransaction>::const_iterator it = block.vtx.begin(); it != block.vtx.end(); it++) {\n-        mem += RecursiveDynamicUsage(*it);\n+    for (const auto& tx : block.vtx) {\n+        mem += RecursiveDynamicUsage(*tx);",
    "path": "src/core_memusage.h",
    "position": null,
    "original_position": 7,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "8a671e8a16075707a5fe764689087163ebe9d26d",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed.\n",
    "created_at": "2016-11-18T00:42:11Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88579642",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88579642"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88579642"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88579642/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 73,
    "side": "RIGHT",
    "in_reply_to_id": 88537741
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88579656",
    "pull_request_review_id": 9150314,
    "id": 88579656,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NTc5NjU2",
    "diff_hunk": "@@ -25,6 +26,20 @@\n static const unsigned int MAX_SIZE = 0x02000000;\n \n /**\n+ * Dummy data type to identify deserializing constructors.\n+ *\n+ * By convention, a constructor of a type T with signature\n+ *\n+ *   template <typename Stream> T::T(deserialize_t, Stream& s)\n+ *\n+ * is a deserializing constructor, which builds the type by\n+ * deserializing it from s. If T contains const fields, this\n+ * is likely the only way to do so.\n+ */\n+struct deserialize_t {};",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 22,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "9ea07616f265b928e32e6981490cd29584749c6f",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed by using deserialize_type instead of deserialize_t.\n",
    "created_at": "2016-11-18T00:42:25Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88579656",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88579656"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88579656"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88579656/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 39,
    "side": "RIGHT",
    "in_reply_to_id": 88527182
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88790537",
    "pull_request_review_id": 9355123,
    "id": 88790537,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NzkwNTM3",
    "diff_hunk": "@@ -193,7 +193,7 @@ class CBlockHeaderAndShortTxIDs {\n \n class PartiallyDownloadedBlock {\n protected:\n-    std::vector<std::shared_ptr<const CTransaction> > txn_available;\n+    std::vector<CTransactionRef > txn_available;",
    "path": "src/blockencodings.h",
    "position": null,
    "original_position": 35,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "39e832c90012db03822f61009060712a47f7f81d",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: bad search/replace here?\n",
    "created_at": "2016-11-19T23:56:28Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88790537",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88790537"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88790537"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88790537/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 196,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88790945",
    "pull_request_review_id": 9355123,
    "id": 88790945,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NzkwOTQ1",
    "diff_hunk": "@@ -25,6 +26,20 @@\n static const unsigned int MAX_SIZE = 0x02000000;\n \n /**\n+ * Dummy data type to identify deserializing constructors.\n+ *\n+ * By convention, a constructor of a type T with signature\n+ *\n+ *   template <typename Stream> T::T(deserialize_t, Stream& s)",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 16,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "39e832c90012db03822f61009060712a47f7f81d",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: comment out of date\n",
    "created_at": "2016-11-20T00:25:50Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88790945",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88790945"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88790945"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88790945/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 33,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88791112",
    "pull_request_review_id": 9355123,
    "id": 88791112,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NzkxMTEy",
    "diff_hunk": "@@ -460,12 +464,25 @@ struct CMutableTransaction\n         SerializeTransaction(*this, s, ser_action);\n     }\n \n+    template <typename Stream>\n+    CMutableTransaction(deserialize_t, Stream& s) {\n+        Unserialize(s);\n+    }\n+\n     /** Compute the hash of this CMutableTransaction. This is computed on the\n      * fly, as opposed to GetHash() in CTransaction, which uses a cached result.\n      */\n     uint256 GetHash() const;\n };\n \n+typedef std::shared_ptr<const CTransaction> CTransactionRef;\n+static inline CTransactionRef MakeTransactionRef() { return std::make_shared<const CTransaction>(); }\n+static inline CTransactionRef MakeTransactionRef(const CTransaction& txIn) { return std::make_shared<const CTransaction>(txIn); }\n+static inline CTransactionRef MakeTransactionRef(const CMutableTransaction& txIn) { return std::make_shared<const CTransaction>(txIn); }\n+static inline CTransactionRef MakeTransactionRef(CMutableTransaction&& txIn) { return std::make_shared<const CTransaction>(std::move(txIn)); }",
    "path": "src/primitives/transaction.h",
    "position": null,
    "original_position": 37,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "9bc6cbc4e24ef856ad4c803226378f276acc14ff",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Might still be worth replacing the 6 functions with 3 using @theuni's suggestion\n",
    "created_at": "2016-11-20T00:38:34Z",
    "updated_at": "2016-11-20T02:00:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88791112",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88791112"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88791112"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88791112/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 482,
    "side": "RIGHT",
    "in_reply_to_id": 88565949
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88792015",
    "pull_request_review_id": 9356283,
    "id": 88792015,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NzkyMDE1",
    "diff_hunk": "@@ -193,7 +193,7 @@ class CBlockHeaderAndShortTxIDs {\n \n class PartiallyDownloadedBlock {\n protected:\n-    std::vector<std::shared_ptr<const CTransaction> > txn_available;\n+    std::vector<CTransactionRef > txn_available;",
    "path": "src/blockencodings.h",
    "position": null,
    "original_position": 35,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "39e832c90012db03822f61009060712a47f7f81d",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed.\n",
    "created_at": "2016-11-20T02:01:06Z",
    "updated_at": "2016-11-20T02:01:06Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88792015",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88792015"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88792015"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88792015/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 196,
    "side": "RIGHT",
    "in_reply_to_id": 88790537
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88792016",
    "pull_request_review_id": 9356284,
    "id": 88792016,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg4NzkyMDE2",
    "diff_hunk": "@@ -25,6 +26,20 @@\n static const unsigned int MAX_SIZE = 0x02000000;\n \n /**\n+ * Dummy data type to identify deserializing constructors.\n+ *\n+ * By convention, a constructor of a type T with signature\n+ *\n+ *   template <typename Stream> T::T(deserialize_t, Stream& s)",
    "path": "src/serialize.h",
    "position": null,
    "original_position": 16,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "39e832c90012db03822f61009060712a47f7f81d",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed.\n",
    "created_at": "2016-11-20T02:01:11Z",
    "updated_at": "2016-11-20T02:01:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88792016",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88792016"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r88792016"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88792016/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 33,
    "side": "RIGHT",
    "in_reply_to_id": 88790945
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/183006766",
    "pull_request_review_id": 113922540,
    "id": 183006766,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MzAwNjc2Ng==",
    "diff_hunk": "@@ -460,6 +464,11 @@ struct CMutableTransaction\n         SerializeTransaction(*this, s, ser_action);\n     }\n \n+    template <typename Stream>\n+    CMutableTransaction(deserialize_type, Stream& s) {",
    "path": "src/primitives/transaction.h",
    "position": 23,
    "original_position": 23,
    "commit_id": "b4e4ba475a5679e09f279aaf2a83dcf93c632bdb",
    "original_commit_id": "da60506fc80f6a78f1b271a9a53b956b49b37234",
    "user": {
      "login": "arielgabizon",
      "id": 5689834,
      "node_id": "MDQ6VXNlcjU2ODk4MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5689834?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielgabizon",
      "html_url": "https://github.com/arielgabizon",
      "followers_url": "https://api.github.com/users/arielgabizon/followers",
      "following_url": "https://api.github.com/users/arielgabizon/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielgabizon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielgabizon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielgabizon/subscriptions",
      "organizations_url": "https://api.github.com/users/arielgabizon/orgs",
      "repos_url": "https://api.github.com/users/arielgabizon/repos",
      "events_url": "https://api.github.com/users/arielgabizon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielgabizon/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Right now there's some code redundancy - the only `deserialize_type` is `deserialize`,\r\nso it's not really used - like here.\r\nBut I guess people think there may be more in the future. ",
    "created_at": "2018-04-20T10:14:25Z",
    "updated_at": "2018-04-20T10:20:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r183006766",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/183006766"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9125#discussion_r183006766"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9125"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/183006766/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 468,
    "original_line": 468,
    "side": "RIGHT"
  }
]