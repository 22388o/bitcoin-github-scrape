sdaftuar,2018-05-18T00:49:13Z,"I'd suggest dropping the third commit, which at first glance would seem to introduce a number of vulnerabilities.  I agree though that it would be useful to add tests that would fail if that third commit were introduced.",https://github.com/bitcoin/bitcoin/pull/13268#issuecomment-390059084,390059084,
Empact,2018-05-18T01:04:18Z,"@sdaftuar thanks, by vulnerabilities, I suppose you mean there is a risk of maliciously-crafted transactions bringing down the recipient node by triggering the throws, is that right? I hadn't been considering the changes through that lens, but I can take a second look with that in mind.",https://github.com/bitcoin/bitcoin/pull/13268#issuecomment-390062045,390062045,
Empact,2018-05-18T08:46:47Z,"@sdaftuar I removed the third commit. Seems the remaining cases should be safe given they're already asserted against or otherwise assumed to be safe, such that the invalid values are not contended with at all.",https://github.com/bitcoin/bitcoin/pull/13268#issuecomment-390139587,390139587,
theuni,2018-05-18T16:02:32Z,"Concept ACK on clarifying bounds, but I really don't like the use of exceptions replacing explicit prior checks. I understand that they accomplish the same thing, but IMO it is far less safe because it equates checks that are allowed to fail with those that logically never should. It also turns potential compile-time checks into guaranteed runtime ones.\n\nLastly, it really harms code clarity. [",https://github.com/bitcoin/bitcoin/pull/13268#issuecomment-390254067,390254067,
ryanofsky,2018-05-18T16:38:18Z,"> it equates checks that are allowed to fail with those that logically never should\n\nAccording to http://en.cppreference.com/w/cpp/error/logic_error, this exception type ""reports errors that are a consequence of faulty logic within the program such as violating logical preconditions or class invariants"", so it doesn't seem switching from `operator[]` to `at()` in c++ should be taken to indicat",https://github.com/bitcoin/bitcoin/pull/13268#issuecomment-390263753,390263753,
sipa,2018-05-18T17:40:47Z,"> it doesn't seem switching from operator[] to at() in c++ should be taken to indicate any change in preconditions or intent.\n\n> But there may still be practical reasons to favor throwing exceptions explicitly or using assert() instead of relying on at().\n\nThis seems to only be a philosophical distinction to me. Yes, maybe  `std::logic_error` isn't designed to caught by normal program code",https://github.com/bitcoin/bitcoin/pull/13268#issuecomment-390280367,390280367,
Empact,2018-05-18T19:41:58Z,"Ok my earlier message (now removed) related to a whitespace error - we only have 6 `catch(` blocks without a space separating the catch and parens, but we have 54 const std::exception catches and 71 if you include `...`. So the behavior change concern is fair. I'll drop the first commit as well.\n\nrelevant regex: `catch ?\([^)]*(std::exception&|\.\.\.)`",https://github.com/bitcoin/bitcoin/pull/13268#issuecomment-390312095,390312095,
Empact,2018-05-18T19:47:03Z,Checks are now strictly additional.,https://github.com/bitcoin/bitcoin/pull/13268#issuecomment-390313329,390313329,
Empact,2018-05-18T20:15:12Z,Removed a check relative to `CreateTransaction` `nOutput` where the value was locally guaranteed to be valid.,https://github.com/bitcoin/bitcoin/pull/13268#issuecomment-390320044,390320044,
DrahtBot,2018-07-22T23:49:09Z,"<!--5d09a71f8925f3f132321140b44b946d-->The last travis run for this pull request was 65 days ago and is thus outdated. To trigger a fresh travis build, this pull request should be closed and re-opened.",https://github.com/bitcoin/bitcoin/pull/13268#issuecomment-406906677,406906677,
DrahtBot,2018-08-13T11:19:44Z,<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase,https://github.com/bitcoin/bitcoin/pull/13268#issuecomment-412486027,412486027,
