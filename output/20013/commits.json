[
  {
    "sha": "f61b8ca3b6235ae03347b281e93e2ce99039f9f6",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNjFiOGNhM2I2MjM1YWUwMzM0N2IyODFlOTNlMmNlOTkwMzlmOWY2",
    "commit": {
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-09-25T07:16:04Z"
      },
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-09-29T08:12:03Z"
      },
      "message": "rpc: add RPC parameter normalization functions",
      "tree": {
        "sha": "c3df5d688e1f99d0472764702970591a71df1756",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c3df5d688e1f99d0472764702970591a71df1756"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f61b8ca3b6235ae03347b281e93e2ce99039f9f6",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEExCr/fGGz5EoUVM01V692LbM1MyIFAl9y7FMACgkQV692LbM1\nMyIS2Q//RuIciB43H9ruNzzbYcy382BeABK3ohFMfcq0E/RbUWPIC6tmqoadQ6eF\nzVzP8d4a8v+BqaEsIDgcr9zl6YzcsmyY/8jYDul/NJcmi+Pz0Y3RpAfU554HJfvf\n7/E1ckwbC2NFCiWNjdRnGcqtq3ZbOGFqE525wDDJpJCv5fN9mL3XrDMS3QYcxr8l\n8UuqizZfzJEmZq0NtCOHGyiSHY6eOWaWD/d0rNX4QWoEPPHGC6gBCu/2oM2S12Oi\nszhYNUa+/CLlRkqZ2a4Tk/TbkRI0izEg2bdvFS9oq6rjQQIr2BU1qIHfLy3t13IR\n9WX+WOwMyNm+XXgweYIzI0zcxhUcMsartFfF2r5gix8x+TnFTAGGaIBjM80Rk4fL\n8vEH6ytY+ahxyuhEelIcsugZNHev+kA2wrmttlPQqYaK94Pt08KwF9uylkvlekyq\nZC8p2Oyjr0O9iBCm8hJvP66DSeI2V522uPpj9s0vCRYdVbAiozIKbV0qKUNMrmds\n3p/RYvSqkVCmFjMt9AJAskfkF/aCVb3973XTsaBWVG3jNT9FKauZ6ITvvMcDkhp3\nwKB5AOZckSTojtSOXlOSj3WHuDSad1PXCzx2YtTzTPzDvuNkX0sfIyHuuUTXmQWu\nIBwUygxxZcHvBXBDrcfKkiUMHbIsAJ2r5UiqFehupKX80ipKzEs=\n=/Hqt\n-----END PGP SIGNATURE-----",
        "payload": "tree c3df5d688e1f99d0472764702970591a71df1756\nparent e36aa351a31cde0f95ce957b2ff593a97f91eb6d\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1601018164 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1601367123 +0900\n\nrpc: add RPC parameter normalization functions\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f61b8ca3b6235ae03347b281e93e2ce99039f9f6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f61b8ca3b6235ae03347b281e93e2ce99039f9f6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f61b8ca3b6235ae03347b281e93e2ce99039f9f6/comments",
    "author": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e36aa351a31cde0f95ce957b2ff593a97f91eb6d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e36aa351a31cde0f95ce957b2ff593a97f91eb6d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e36aa351a31cde0f95ce957b2ff593a97f91eb6d"
      }
    ],
    "stats": {
      "total": 26,
      "additions": 26,
      "deletions": 0
    },
    "files": [
      {
        "sha": "6308ad4a81a3172e1a624ba2de4539bf831b5c03",
        "filename": "src/rpc/util.cpp",
        "status": "modified",
        "additions": 23,
        "deletions": 0,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f61b8ca3b6235ae03347b281e93e2ce99039f9f6/src/rpc/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f61b8ca3b6235ae03347b281e93e2ce99039f9f6/src/rpc/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.cpp?ref=f61b8ca3b6235ae03347b281e93e2ce99039f9f6",
        "patch": "@@ -20,6 +20,29 @@\n const std::string UNIX_EPOCH_TIME = \"UNIX epoch time\";\n const std::string EXAMPLE_ADDRESS[2] = {\"bc1q09vm5lfy0j5reeulh4x5752q25uqqvz34hufdl\", \"bc1q02ad21edsxd23d32dfgqqsz4vv4nmtfzuklhy3\"};\n \n+std::string NormalizedParameterName(const std::string& key)\n+{\n+    std::string result = ToLower(key);\n+    std::string::size_type pos = 0;\n+    while (std::string::npos != (pos = result.find(\"_\", pos))) {\n+        result.erase(pos, 1);\n+    }\n+    return result;\n+}\n+\n+UniValue NormalizedObject(const UniValue& univalue)\n+{\n+    if (!univalue.isObject()) return univalue;\n+    UniValue r(UniValue::VOBJ);\n+    const auto& keys = univalue.getKeys();\n+    const auto& values = univalue.getValues();\n+    size_t sz = keys.size();\n+    for (size_t i = 0; i < sz; ++i) {\n+        r.pushKV(NormalizedParameterName(keys[i]), values[i]);\n+    }\n+    return r;\n+}\n+\n void RPCTypeCheck(const UniValue& params,\n                   const std::list<UniValueType>& typesExpected,\n                   bool fAllowNull)"
      },
      {
        "sha": "2bff38f31e3cb4788202702720150b94e5b73903",
        "filename": "src/rpc/util.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f61b8ca3b6235ae03347b281e93e2ce99039f9f6/src/rpc/util.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f61b8ca3b6235ae03347b281e93e2ce99039f9f6/src/rpc/util.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.h?ref=f61b8ca3b6235ae03347b281e93e2ce99039f9f6",
        "patch": "@@ -49,6 +49,9 @@ struct UniValueType {\n     UniValue::VType type;\n };\n \n+std::string NormalizedParameterName(const std::string& key);\n+UniValue NormalizedObject(const UniValue& univalue);\n+\n /**\n  * Type-check arguments; throws JSONRPCError if wrong type given. Does not check that\n  * the right number of arguments are passed, just that any passed are the correct type."
      }
    ]
  },
  {
    "sha": "0f0a6a0d04041ca75afe708881e45048e6bd9e73",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowZjBhNmEwZDA0MDQxY2E3NWFmZTcwODg4MWU0NTA0OGU2YmQ5ZTcz",
    "commit": {
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-09-25T07:46:27Z"
      },
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-09-29T08:12:03Z"
      },
      "message": "rpc: add transition helper for normalized univalues",
      "tree": {
        "sha": "eb2fda5034712f4d4979af474dfac909740de392",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/eb2fda5034712f4d4979af474dfac909740de392"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0f0a6a0d04041ca75afe708881e45048e6bd9e73",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEExCr/fGGz5EoUVM01V692LbM1MyIFAl9y7FMACgkQV692LbM1\nMyIj9A/7BaC8pHH4J0P8DNc3ULxGIVJbHSgx3vczcdmhdkl2OsdAXTXrl4rESuZC\nqVOxPZcku1SjhE/hzXIXzG49i6vNfL6GMuE44bYJL6nmsg6V23y22j9yAhz1Tzw4\nXYPTWctCcDCO0Z/X+/HepSu+fdbQrKtc/JphMLVPsQid1KhltfI/cHBsMHs2LqfG\nbzVV4Lb0BISZY6xdxhQyZxtEltIyHeMgyiTIpwF9Uepr1Ejg7Z3rY0ijUPOyIizr\nBDsgrhDWfGHfItLJuidMdpQ55RBNyNGGsfTtGNMzFPeKMCtu7FHs/iaZk4UjSgDo\ncGYURybo4kg92Wj0pS/1Rm+A4NgqPq+T7nQJIk18aPxC3b5sg9F5Tj9u9fNml4ww\nGUP3oAv+3fWA/qhIhUHlHBecVWXHd+KxC40N97djENm5gbo7jJhchNIfss9MLokV\nVDuGJKj0PUuYtM4wdGFIKdmNFPNZiig9fO5QeElUykD9CfQfkHwc5fCLfwKdjRIn\nCI+0oguFPiDwfZY4JEu2VyakilBy3HapwgYwxFsavOqvF8Fcio051ncxtkPdPLdK\nJ7fAeTNbB/NajUHJOamPt+S4jyQeNSw7urhUL/t2rbzLaGyTRH7NqYKhg3XIec4S\nFjA1qdFzq/uP1Yzs+1zpkapw62qL/wSlLd2gmwweyeMkajua02s=\n=/gUh\n-----END PGP SIGNATURE-----",
        "payload": "tree eb2fda5034712f4d4979af474dfac909740de392\nparent f61b8ca3b6235ae03347b281e93e2ce99039f9f6\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1601019987 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1601367123 +0900\n\nrpc: add transition helper for normalized univalues\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0f0a6a0d04041ca75afe708881e45048e6bd9e73",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0f0a6a0d04041ca75afe708881e45048e6bd9e73",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0f0a6a0d04041ca75afe708881e45048e6bd9e73/comments",
    "author": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f61b8ca3b6235ae03347b281e93e2ce99039f9f6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f61b8ca3b6235ae03347b281e93e2ce99039f9f6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f61b8ca3b6235ae03347b281e93e2ce99039f9f6"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 12,
      "deletions": 0
    },
    "files": [
      {
        "sha": "bcd190fff97c889bb4aedd6213836a82bc522779",
        "filename": "src/rpc/util.h",
        "status": "modified",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0f0a6a0d04041ca75afe708881e45048e6bd9e73/src/rpc/util.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0f0a6a0d04041ca75afe708881e45048e6bd9e73/src/rpc/util.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.h?ref=0f0a6a0d04041ca75afe708881e45048e6bd9e73",
        "patch": "@@ -51,6 +51,18 @@ struct UniValueType {\n \n std::string NormalizedParameterName(const std::string& key);\n UniValue NormalizedObject(const UniValue& univalue);\n+/**\n+ * This is a temporary structure meant to allow a gradual transition to normalized objects.\n+ *\n+ * It takes a UniValue dictionary (object) in normalized form, and will normalize queries coming in.\n+ * I.e. pre-normalization code will work exactly the same with both normalized and non-normalized objects\n+ * if using one of these.\n+ */\n+struct NormalizedUniValue: public UniValue {\n+    NormalizedUniValue(const UniValue& univalue) : UniValue(NormalizedObject(univalue)) {}\n+    const UniValue& operator[](const std::string& key) const { return UniValue::operator[](NormalizedParameterName(key)); }\n+    bool exists(const std::string& key) const { return UniValue::exists(NormalizedParameterName(key)); }\n+};\n \n /**\n  * Type-check arguments; throws JSONRPCError if wrong type given. Does not check that"
      }
    ]
  },
  {
    "sha": "4ed1c98b8d095bc1daef32d7c1d01421866d51b8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0ZWQxYzk4YjhkMDk1YmMxZGFlZjMyZDdjMWQwMTQyMTg2NmQ1MWI4",
    "commit": {
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-09-25T08:05:49Z"
      },
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-09-29T08:12:48Z"
      },
      "message": "rpc: make FundTransaction take a NormalizedUniValue",
      "tree": {
        "sha": "e593ec919c352c3a5e4b9e98c37aadcc0029a0f5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e593ec919c352c3a5e4b9e98c37aadcc0029a0f5"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4ed1c98b8d095bc1daef32d7c1d01421866d51b8",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEExCr/fGGz5EoUVM01V692LbM1MyIFAl9y7IAACgkQV692LbM1\nMyKwBQ/+IyNhJ9ur7Nxwb/nTssqLZbIPGg+s3RJ6VtdBMVHoGaTzfD/AvF/UA5Fb\nPCUmfiXqj48O4EaRn3gekVaCSXVQJZWGRcNCy9vvNiu+p8Scg2ERNvWCzf8vjX7S\n6B/+nhzUicWtEiQPQa19iDOIuXNkP4DVe9Kg6dXnO+kWl4k9fhyhrEfqr7YBkQWv\naWWL/jUC6ap6eaphXupLLpyy5q5vrLnebFBMs2ZqD/TjJrzJ0nDZGwSbq/wbIVTS\n2WgHXkNFrg/RbGPKYvs9xiDHf6ZaKo4z2dOuF59sBGC65QL2RfTpQLuzP6N1atuX\nkZ8gws2yuGauhCP0kAze83cs4eaXqJLZx9ypMFOx8B320lbhryhEPs1WsQy/w/uU\nQXpv/rUbuIPI9elTosrN7rF9qM2Bs1a6n2YqP0ev3R4tfVmReXlwFMboqlwZRlAm\n/dKJiJT6CsvKSZWVKlw9UsouMqflc/pthlEH5VElpq/RBuf7jZYswjlGMmj+PRs3\nJINMb0csOkWtvb9zxpNZTUa9oAk6hYN5fJpGsBOyq4aZbGzJiTYB+dzL+1Yr87nG\nwr5OE5CAozI3FPU+TT8vSej3AtSStRR00Ia368GI4R5pdmxtSAFn8SbtFdkOx9zJ\ne0wemasu8r1vbhKOo/Bi+uw+AeQrUMhVxfhhhZixgJdyVJRC1y4=\n=a/1j\n-----END PGP SIGNATURE-----",
        "payload": "tree e593ec919c352c3a5e4b9e98c37aadcc0029a0f5\nparent 0f0a6a0d04041ca75afe708881e45048e6bd9e73\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1601021149 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1601367168 +0900\n\nrpc: make FundTransaction take a NormalizedUniValue\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4ed1c98b8d095bc1daef32d7c1d01421866d51b8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4ed1c98b8d095bc1daef32d7c1d01421866d51b8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4ed1c98b8d095bc1daef32d7c1d01421866d51b8/comments",
    "author": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0f0a6a0d04041ca75afe708881e45048e6bd9e73",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0f0a6a0d04041ca75afe708881e45048e6bd9e73",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0f0a6a0d04041ca75afe708881e45048e6bd9e73"
      }
    ],
    "stats": {
      "total": 32,
      "additions": 12,
      "deletions": 20
    },
    "files": [
      {
        "sha": "edfe0c35dd71ee326b05e9686ff285c99f3cb0bc",
        "filename": "src/wallet/rpcwallet.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 17,
        "changes": 29,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4ed1c98b8d095bc1daef32d7c1d01421866d51b8/src/wallet/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4ed1c98b8d095bc1daef32d7c1d01421866d51b8/src/wallet/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/rpcwallet.cpp?ref=4ed1c98b8d095bc1daef32d7c1d01421866d51b8",
        "patch": "@@ -3008,7 +3008,7 @@ static RPCHelpMan listunspent()\n     };\n }\n \n-void FundTransaction(CWallet* const pwallet, CMutableTransaction& tx, CAmount& fee_out, int& change_position, UniValue options, CCoinControl& coinControl)\n+void FundTransaction(CWallet* const pwallet, CMutableTransaction& tx, CAmount& fee_out, int& change_position, NormalizedUniValue options, CCoinControl& coinControl)\n {\n     // Make sure the results are valid at least up to the most recent block\n     // the user could have gotten from another RPC command prior to now\n@@ -3028,26 +3028,21 @@ void FundTransaction(CWallet* const pwallet, CMutableTransaction& tx, CAmount& f\n         RPCTypeCheckArgument(options, UniValue::VOBJ);\n         RPCTypeCheckObj(options,\n             {\n-                {\"add_inputs\", UniValueType(UniValue::VBOOL)},\n-                {\"add_to_wallet\", UniValueType(UniValue::VBOOL)},\n-                {\"changeAddress\", UniValueType(UniValue::VSTR)},\n-                {\"change_address\", UniValueType(UniValue::VSTR)},\n-                {\"changePosition\", UniValueType(UniValue::VNUM)},\n-                {\"change_position\", UniValueType(UniValue::VNUM)},\n-                {\"change_type\", UniValueType(UniValue::VSTR)},\n-                {\"includeWatching\", UniValueType(UniValue::VBOOL)},\n-                {\"include_watching\", UniValueType(UniValue::VBOOL)},\n+                {\"addinputs\", UniValueType(UniValue::VBOOL)},\n+                {\"addtowallet\", UniValueType(UniValue::VBOOL)},\n+                {\"changeaddress\", UniValueType(UniValue::VSTR)},\n+                {\"changeposition\", UniValueType(UniValue::VNUM)},\n+                {\"changetype\", UniValueType(UniValue::VSTR)},\n+                {\"includewatching\", UniValueType(UniValue::VBOOL)},\n                 {\"inputs\", UniValueType(UniValue::VARR)},\n-                {\"lockUnspents\", UniValueType(UniValue::VBOOL)},\n-                {\"lock_unspents\", UniValueType(UniValue::VBOOL)},\n+                {\"lockunspents\", UniValueType(UniValue::VBOOL)},\n                 {\"locktime\", UniValueType(UniValue::VNUM)},\n-                {\"feeRate\", UniValueType()}, // will be checked below\n+                {\"feerate\", UniValueType()}, // will be checked below\n                 {\"psbt\", UniValueType(UniValue::VBOOL)},\n-                {\"subtractFeeFromOutputs\", UniValueType(UniValue::VARR)},\n-                {\"subtract_fee_from_outputs\", UniValueType(UniValue::VARR)},\n+                {\"subtractfeefromoutputs\", UniValueType(UniValue::VARR)},\n                 {\"replaceable\", UniValueType(UniValue::VBOOL)},\n-                {\"conf_target\", UniValueType(UniValue::VNUM)},\n-                {\"estimate_mode\", UniValueType(UniValue::VSTR)},\n+                {\"conftarget\", UniValueType(UniValue::VNUM)},\n+                {\"estimatemode\", UniValueType(UniValue::VSTR)},\n             },\n             true, true);\n "
      },
      {
        "sha": "e9698a9608278a74bfeb76134d12d2466de59c5b",
        "filename": "test/functional/rpc_fundrawtransaction.py",
        "status": "modified",
        "additions": 0,
        "deletions": 3,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4ed1c98b8d095bc1daef32d7c1d01421866d51b8/test/functional/rpc_fundrawtransaction.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4ed1c98b8d095bc1daef32d7c1d01421866d51b8/test/functional/rpc_fundrawtransaction.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/rpc_fundrawtransaction.py?ref=4ed1c98b8d095bc1daef32d7c1d01421866d51b8",
        "patch": "@@ -211,9 +211,6 @@ def test_invalid_option(self):\n \n         assert_raises_rpc_error(-3, \"Unexpected key foo\", self.nodes[2].fundrawtransaction, rawtx, {'foo':'bar'})\n \n-        # reserveChangeKey was deprecated and is now removed\n-        assert_raises_rpc_error(-3, \"Unexpected key reserveChangeKey\", lambda: self.nodes[2].fundrawtransaction(hexstring=rawtx, options={'reserveChangeKey': True}))\n-\n     def test_invalid_change_address(self):\n         self.log.info(\"Test fundrawtxn with an invalid change address\")\n         utx = get_unspent(self.nodes[2].listunspent(), 5)"
      }
    ]
  },
  {
    "sha": "560f3b4ae7d8b9b33835feaa58463162110e982e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NjBmM2I0YWU3ZDhiOWIzMzgzNWZlYWE1ODQ2MzE2MjExMGU5ODJl",
    "commit": {
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-09-25T08:11:04Z"
      },
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-09-29T08:13:10Z"
      },
      "message": "rpc: normalize send RPC",
      "tree": {
        "sha": "7bd1d26f2ccb49ab599ae77a1c65632b8e709a88",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7bd1d26f2ccb49ab599ae77a1c65632b8e709a88"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/560f3b4ae7d8b9b33835feaa58463162110e982e",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEExCr/fGGz5EoUVM01V692LbM1MyIFAl9y7JYACgkQV692LbM1\nMyKqlQ//VhNKKF616o6HQ6DBENN9trrDsut5sSQqTCR9dTzjNwy+cL8szW6OAGLC\n0f7dv2AMdpG/nQLn95WRYL6Eak+aXSlMz8c/psNZv3smDjdalcJunQhdO+tRpfBq\nvuORmVTm+N5UXDw3ng31+p0IBsPV5ozkOq+/COCUJQ4E4+gOnHUHGzDcuXcUta3Y\nV58tla0lnjYeCYoIBCETHE4X2B1iALl5oeCnRyGKvaMM1LEqBvfHiRfPxJN+nco5\nlcg9ZZUkExqfNA7fmY6O+x8p3vWc0NtfBmJD9v5Whau7QPGige84/orK71O2KGIo\nlwlaGA3vZwpCShmqiogieLRp7MaeZ0sCPx9jwChfSUpfNTo4iq+in986cUM7n8ap\nHsDCTQ/IwMIvWgP9AXzRn8yNzT2vzgJcdbBHT5dFODkcDfAoYC1+X1Y8nt7RJ9Bn\nfoxPYq+STI6gR4Kpg1BeUaBA9jMuEAuRH4dmKhNzb8zyF+0kAEzvGa2DdtUYT+p6\nZA8FcTRh/M7dbRJAlwu0S76vMKjXsBMAhQKA0lP0ew4vjPEZGB1iUdwRFF0CkmN1\naYkjqIDTYlgwUkOD0lEriG+7p60dOEZgGAuieJfadJSBCaxdtVSYwPmveUy7gLx5\ngz2MPZe2G/I7KFVeXUARWqWz29sLJZ+BXD/jbo+QS6/KneO6o4E=\n=pjiZ\n-----END PGP SIGNATURE-----",
        "payload": "tree 7bd1d26f2ccb49ab599ae77a1c65632b8e709a88\nparent 4ed1c98b8d095bc1daef32d7c1d01421866d51b8\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1601021464 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1601367190 +0900\n\nrpc: normalize send RPC\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/560f3b4ae7d8b9b33835feaa58463162110e982e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/560f3b4ae7d8b9b33835feaa58463162110e982e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/560f3b4ae7d8b9b33835feaa58463162110e982e/comments",
    "author": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4ed1c98b8d095bc1daef32d7c1d01421866d51b8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4ed1c98b8d095bc1daef32d7c1d01421866d51b8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4ed1c98b8d095bc1daef32d7c1d01421866d51b8"
      }
    ],
    "stats": {
      "total": 30,
      "additions": 6,
      "deletions": 24
    },
    "files": [
      {
        "sha": "5760a8b770a799e7ca06c2ad445148453ca3cbd1",
        "filename": "src/wallet/rpcwallet.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 24,
        "changes": 30,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/560f3b4ae7d8b9b33835feaa58463162110e982e/src/wallet/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/560f3b4ae7d8b9b33835feaa58463162110e982e/src/wallet/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/rpcwallet.cpp?ref=560f3b4ae7d8b9b33835feaa58463162110e982e",
        "patch": "@@ -4041,33 +4041,18 @@ static RPCHelpMan send()\n             if (!wallet) return NullUniValue;\n             CWallet* const pwallet = wallet.get();\n \n-            UniValue options = request.params[3];\n-            if (options.exists(\"feeRate\") || options.exists(\"fee_rate\") || options.exists(\"estimate_mode\") || options.exists(\"conf_target\")) {\n+            UniValue options = NormalizedObject(request.params[3]);\n+            if (options.exists(\"feerate\") || options.exists(\"estimatemode\") || options.exists(\"conftarget\")) {\n                 if (!request.params[1].isNull() || !request.params[2].isNull()) {\n                     throw JSONRPCError(RPC_INVALID_PARAMETER, \"Use either conf_target and estimate_mode or the options dictionary to control fee rate\");\n                 }\n             } else {\n-                options.pushKV(\"conf_target\", request.params[1]);\n-                options.pushKV(\"estimate_mode\", request.params[2]);\n+                options.pushKV(\"conftarget\", request.params[1]);\n+                options.pushKV(\"estimatemode\", request.params[2]);\n             }\n-            if (!options[\"conf_target\"].isNull() && (options[\"estimate_mode\"].isNull() || (options[\"estimate_mode\"].get_str() == \"unset\"))) {\n+            if (!options[\"conftarget\"].isNull() && (options[\"estimatemode\"].isNull() || (options[\"estimatemode\"].get_str() == \"unset\"))) {\n                 throw JSONRPCError(RPC_INVALID_PARAMETER, \"Specify estimate_mode\");\n             }\n-            if (options.exists(\"changeAddress\")) {\n-                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Use change_address\");\n-            }\n-            if (options.exists(\"changePosition\")) {\n-                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Use change_position\");\n-            }\n-            if (options.exists(\"includeWatching\")) {\n-                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Use include_watching\");\n-            }\n-            if (options.exists(\"lockUnspents\")) {\n-                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Use lock_unspents\");\n-            }\n-            if (options.exists(\"subtractFeeFromOutputs\")) {\n-                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Use subtract_fee_from_outputs\");\n-            }\n \n             const bool psbt_opt_in = options.exists(\"psbt\") && options[\"psbt\"].get_bool();\n \n@@ -4084,10 +4069,7 @@ static RPCHelpMan send()\n             coin_control.m_add_inputs = rawTx.vin.size() == 0;\n             FundTransaction(pwallet, rawTx, fee, change_position, options, coin_control);\n \n-            bool add_to_wallet = true;\n-            if (options.exists(\"add_to_wallet\")) {\n-                add_to_wallet = options[\"add_to_wallet\"].get_bool();\n-            }\n+            bool add_to_wallet = !options.exists(\"addtowallet\") || options[\"addtowallet\"].get_bool();\n \n             // Make a blank psbt\n             PartiallySignedTransaction psbtx(rawTx);"
      }
    ]
  },
  {
    "sha": "8c3f775c338e4c4680792ab5dec45b1798310246",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4YzNmNzc1YzMzOGU0YzQ2ODA3OTJhYjVkZWM0NWIxNzk4MzEwMjQ2",
    "commit": {
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-09-29T08:35:35Z"
      },
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-09-29T08:35:35Z"
      },
      "message": "fix: inline due to linker issues in next commit",
      "tree": {
        "sha": "0f13cb7a180e858aaf281f37f61ef2c3f98a8304",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0f13cb7a180e858aaf281f37f61ef2c3f98a8304"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8c3f775c338e4c4680792ab5dec45b1798310246",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEExCr/fGGz5EoUVM01V692LbM1MyIFAl9y8dcACgkQV692LbM1\nMyK6gg/6AnEmPV4ZkUHonzHft+pFeeRjeSRf9QusUH8y/Qv0yp7Nq5OKPKdrcpE1\nb7l2Ynp1ea1KxLqLjBKQFCkmOLK4ArnUZ0cxxj0+Xu91BuArzPbSBb99MWQTM3U6\n1x4M0RAjfddo4EoZql7Yr2CMpNOsJVJGS9pI5wTMpJ2E9ozw/GuW9ghCfn35FVdJ\n+K18OzwWGpxtI+mikNuJ/gUoEfVgnQ+fb+S8jjyKFqCOVCLQmDmoEWmxuG8w7nYP\nUsiwa4MIws8uuQhtHlu3qY3jYf2ARninhpH3NSd8ffE5jAa9Ncm0pSX78NjumLza\n4/wnV18qfaVkmgTQLzJQMIKBhGxr/aNgpb+RWDV5zbohMDCZHSWgz8VN08Br/Z+K\nxYZK6xBBmCepu1PaqG5l8Ld3yw7JYQSEYBtkSwnXiOYOoZ4duGL4EKc9/IZvFUKR\nJ9EB+u9R909KcxuV8QY0urrxkFSWRxaMHNlLomIZRGl4w+NC6JCqzokdkMvoNaEN\nBYhfunsvF58HntY4ZwyKbDDZJsVSeAyvRFJtMJ4s6OGHdp4XRwEIgpaK7+py2Vt0\nLN6VUcwyoa+1zueIM5t3WPn8zolLsm6uLv5M5ZRUvI/SUMaR0XGKq/JpgxgHsswp\nN0M22r7Gzlk0e3gk1mkodbdMZ/hRiY3Xm0HEf/clRTLzmmgAD2w=\n=kwpV\n-----END PGP SIGNATURE-----",
        "payload": "tree 0f13cb7a180e858aaf281f37f61ef2c3f98a8304\nparent 560f3b4ae7d8b9b33835feaa58463162110e982e\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1601368535 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1601368535 +0900\n\nfix: inline due to linker issues in next commit\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8c3f775c338e4c4680792ab5dec45b1798310246",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8c3f775c338e4c4680792ab5dec45b1798310246",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8c3f775c338e4c4680792ab5dec45b1798310246/comments",
    "author": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "560f3b4ae7d8b9b33835feaa58463162110e982e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/560f3b4ae7d8b9b33835feaa58463162110e982e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/560f3b4ae7d8b9b33835feaa58463162110e982e"
      }
    ],
    "stats": {
      "total": 21,
      "additions": 10,
      "deletions": 11
    },
    "files": [
      {
        "sha": "1e278e7c13068aa239c60a2e2b43087c91cdede7",
        "filename": "src/rpc/util.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 10,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8c3f775c338e4c4680792ab5dec45b1798310246/src/rpc/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8c3f775c338e4c4680792ab5dec45b1798310246/src/rpc/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.cpp?ref=8c3f775c338e4c4680792ab5dec45b1798310246",
        "patch": "@@ -20,16 +20,6 @@\n const std::string UNIX_EPOCH_TIME = \"UNIX epoch time\";\n const std::string EXAMPLE_ADDRESS[2] = {\"bc1q09vm5lfy0j5reeulh4x5752q25uqqvz34hufdl\", \"bc1q02ad21edsxd23d32dfgqqsz4vv4nmtfzuklhy3\"};\n \n-std::string NormalizedParameterName(const std::string& key)\n-{\n-    std::string result = ToLower(key);\n-    std::string::size_type pos = 0;\n-    while (std::string::npos != (pos = result.find(\"_\", pos))) {\n-        result.erase(pos, 1);\n-    }\n-    return result;\n-}\n-\n UniValue NormalizedObject(const UniValue& univalue)\n {\n     if (!univalue.isObject()) return univalue;"
      },
      {
        "sha": "2a70b318df9b92f495fe77e7878d4fb211e06eaa",
        "filename": "src/rpc/util.h",
        "status": "modified",
        "additions": 10,
        "deletions": 1,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8c3f775c338e4c4680792ab5dec45b1798310246/src/rpc/util.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8c3f775c338e4c4680792ab5dec45b1798310246/src/rpc/util.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/util.h?ref=8c3f775c338e4c4680792ab5dec45b1798310246",
        "patch": "@@ -49,7 +49,16 @@ struct UniValueType {\n     UniValue::VType type;\n };\n \n-std::string NormalizedParameterName(const std::string& key);\n+inline std::string NormalizedParameterName(const std::string& key)\n+{\n+    std::string result = ToLower(key);\n+    std::string::size_type pos = 0;\n+    while (std::string::npos != (pos = result.find(\"_\", pos))) {\n+        result.erase(pos, 1);\n+    }\n+    return result;\n+}\n+\n UniValue NormalizedObject(const UniValue& univalue);\n /**\n  * This is a temporary structure meant to allow a gradual transition to normalized objects."
      }
    ]
  },
  {
    "sha": "107ab453a20e763d40e6359186faff8f77e322c8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxMDdhYjQ1M2EyMGU3NjNkNDBlNjM1OTE4NmZhZmY4Zjc3ZTMyMmM4",
    "commit": {
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-09-29T08:41:27Z"
      },
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-09-29T08:41:27Z"
      },
      "message": "rpc: normalize named parameters\n\nWhen using -named, this converts all variants of case and underscores into a normalized lower case no underscore parameter name.",
      "tree": {
        "sha": "d64a66a087dc79768903d139e25e965d52360e9e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d64a66a087dc79768903d139e25e965d52360e9e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/107ab453a20e763d40e6359186faff8f77e322c8",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEExCr/fGGz5EoUVM01V692LbM1MyIFAl9y8zcACgkQV692LbM1\nMyKQug//Uj2EEV5IYcL2mSpV+1AJtZt67qYcHp4BT+iAdM0AutiN6eXPu4r9/euL\nSoe/u5wBtdGG8wzNiX6N0X2Z7OWZ1iVIVBNcNo4qz7UK/BL+w0KmtOPJrKGccp+7\ncShSBdwpvsiaEoWvohjs3VrJCgsiFJMq3I35yO3UXYXTP1FeXHsZFQ8D7wVUfO1y\nVaI5UryJnyuDwBtT79IL64PUOiVWl9Ce2MB6VIBXCBTY0SuFVp/SoA68qxO79oLs\n0LmdL/lEQGUVBIG6virnUvbwej0injsY5JJjE7W0Cvcc4Fj/9J+RA2ruyCoGlknW\n/As+ykTAWHC+YmdYw/hvQ6sXe9mJ0J8pMct6WmRNriKNlemJOBYrF9oXVq0Pml+/\nTfWPi6ht3WK5TKO4lSplIoVwjg2zxJ3rPylcRrxKDLwaU4uE9edaTRDNmAjSgFvr\nhpcKk5b72Fc3n9e6JMUKlzzk8RFz7tOXadbQlRhLbiFN8L98CHpRG503zpKrnwaj\n91Zf1f3gxIt5DLegaSLdO0Kp2cpXDJA7XHsvBDusBFeqQMQkSB0TKxOXlCYiJnMW\n2O/Rv1oKLruhwoXLv4Fslh2h2LZX3ONf4KYcbQYHb1RbBwd9Kreu4ieKTbvGyMh+\n7xKNdEJRLERYanDro8HY2CwCKwvEuyR1jUp4RbSwUQM9gj5P4mg=\n=Eq9W\n-----END PGP SIGNATURE-----",
        "payload": "tree d64a66a087dc79768903d139e25e965d52360e9e\nparent 8c3f775c338e4c4680792ab5dec45b1798310246\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1601368887 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1601368887 +0900\n\nrpc: normalize named parameters\n\nWhen using -named, this converts all variants of case and underscores into a normalized lower case no underscore parameter name.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/107ab453a20e763d40e6359186faff8f77e322c8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/107ab453a20e763d40e6359186faff8f77e322c8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/107ab453a20e763d40e6359186faff8f77e322c8/comments",
    "author": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8c3f775c338e4c4680792ab5dec45b1798310246",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8c3f775c338e4c4680792ab5dec45b1798310246",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8c3f775c338e4c4680792ab5dec45b1798310246"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 5,
      "deletions": 4
    },
    "files": [
      {
        "sha": "3338d38625678e9e6dd44a74ae360e1a06c5deeb",
        "filename": "src/rpc/client.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/107ab453a20e763d40e6359186faff8f77e322c8/src/rpc/client.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/107ab453a20e763d40e6359186faff8f77e322c8/src/rpc/client.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/client.cpp?ref=107ab453a20e763d40e6359186faff8f77e322c8",
        "patch": "@@ -8,6 +8,7 @@\n \n #include <set>\n #include <stdint.h>\n+#include <rpc/util.h>\n \n class CRPCConvertParam\n {\n@@ -212,7 +213,7 @@ CRPCConvertTable::CRPCConvertTable()\n         members.insert(std::make_pair(vRPCConvertParams[i].methodName,\n                                       vRPCConvertParams[i].paramIdx));\n         membersByName.insert(std::make_pair(vRPCConvertParams[i].methodName,\n-                                            vRPCConvertParams[i].paramName));\n+                                            NormalizedParameterName(vRPCConvertParams[i].paramName)));\n     }\n }\n \n@@ -259,7 +260,7 @@ UniValue RPCConvertNamedValues(const std::string &strMethod, const std::vector<s\n             throw(std::runtime_error(\"No '=' in named argument '\"+s+\"', this needs to be present for every argument (even if it is empty)\"));\n         }\n \n-        std::string name = s.substr(0, pos);\n+        std::string name = NormalizedParameterName(s.substr(0, pos));\n         std::string value = s.substr(pos+1);\n \n         if (!rpcCvtTable.convert(strMethod, name)) {"
      },
      {
        "sha": "b898f5879c85268fa8fce9d34eaca4ed0f9b1053",
        "filename": "src/rpc/server.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/107ab453a20e763d40e6359186faff8f77e322c8/src/rpc/server.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/107ab453a20e763d40e6359186faff8f77e322c8/src/rpc/server.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/server.cpp?ref=107ab453a20e763d40e6359186faff8f77e322c8",
        "patch": "@@ -396,13 +396,13 @@ static inline JSONRPCRequest transformNamedArguments(const JSONRPCRequest& in, c\n     const std::vector<UniValue>& values = in.params.getValues();\n     std::unordered_map<std::string, const UniValue*> argsIn;\n     for (size_t i=0; i<keys.size(); ++i) {\n-        argsIn[keys[i]] = &values[i];\n+        argsIn[NormalizedParameterName(keys[i])] = &values[i];\n     }\n     // Process expected parameters.\n     int hole = 0;\n     for (const std::string &argNamePattern: argNames) {\n         std::vector<std::string> vargNames;\n-        boost::algorithm::split(vargNames, argNamePattern, boost::algorithm::is_any_of(\"|\"));\n+        boost::algorithm::split(vargNames, NormalizedParameterName(argNamePattern), boost::algorithm::is_any_of(\"|\"));\n         auto fr = argsIn.end();\n         for (const std::string & argName : vargNames) {\n             fr = argsIn.find(argName);"
      }
    ]
  },
  {
    "sha": "6e6944cf478609709efcafa59d3c0a50648dc115",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2ZTY5NDRjZjQ3ODYwOTcwOWVmY2FmYTU5ZDNjMGE1MDY0OGRjMTE1",
    "commit": {
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-09-29T09:43:27Z"
      },
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2020-09-29T09:43:27Z"
      },
      "message": "fix: compile issue",
      "tree": {
        "sha": "c1c72120b0dd291280c0a469efdbca92193785d6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c1c72120b0dd291280c0a469efdbca92193785d6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6e6944cf478609709efcafa59d3c0a50648dc115",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEExCr/fGGz5EoUVM01V692LbM1MyIFAl9zAb8ACgkQV692LbM1\nMyIO0A/9EwKAAwAB4iifud786o0ZEGf9skXYhbb7RdBwA/ZdPolvHuCAi7GbN2L5\nEUx5gQnsqu+hdAja1M2hCVxva/nckqbwZKAN0VInVqn5QwRlupEI+UbUQdxGHJ0b\nAVeSFNCR3bmFbtV76TsPSGp45PxjrK66mj2id5uVSVQsZ7TIXAueYbNRMnORL2vb\nRL5a1adgKflqdaXi0oeEBIHa7RmqNha0c7K/d/XHe2uecgZwdOpjqDegym8ElWRO\n53afVNa7f4cPpHtnLFI/Nozpa4pS3h+KFEkENRFBJCjRzTrKaFpZRDe4r9EXH7zh\nMVgKKV/NP2wGdOJl8aGQrFXAoAP9xyX4bgKOcPnzb1EJR35iwyVXFLnVr4+bijuA\nDXYEeOFEmE7y5F6A6CH4HDTkMbh1vbFbgF9HA6PaQ22i7PlCQ88x4BqLa62+t7mM\n3IE5CPI4O3b589ajF7xHOdjoG3NjpQuHky+Dm4/U3WxEhdJ9o5rw910sy0kUf1bF\nenmImN+FtN1aphjtnVbhxMIuTJltwdkAEBZwbkpbtSWZvmmultR0IDVaplw/FJkK\nGnEZY1yNRBtYWxCeVk3FAkIyiPr5d0Wf/hwFxU18xPDF3oTm3wcqkgUN3QEXol4K\nvqPYpyULwqoZjD+O15ncJVe74KiCG05XCgEPnDpj0TXySTWA4gs=\n=TkkN\n-----END PGP SIGNATURE-----",
        "payload": "tree c1c72120b0dd291280c0a469efdbca92193785d6\nparent 107ab453a20e763d40e6359186faff8f77e322c8\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1601372607 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1601372607 +0900\n\nfix: compile issue\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6e6944cf478609709efcafa59d3c0a50648dc115",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6e6944cf478609709efcafa59d3c0a50648dc115",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6e6944cf478609709efcafa59d3c0a50648dc115/comments",
    "author": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "107ab453a20e763d40e6359186faff8f77e322c8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/107ab453a20e763d40e6359186faff8f77e322c8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/107ab453a20e763d40e6359186faff8f77e322c8"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "83c3223ebb2f1de5a03f4354af4ff5afcaa0ccd8",
        "filename": "src/rpc/server.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6e6944cf478609709efcafa59d3c0a50648dc115/src/rpc/server.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6e6944cf478609709efcafa59d3c0a50648dc115/src/rpc/server.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/server.cpp?ref=6e6944cf478609709efcafa59d3c0a50648dc115",
        "patch": "@@ -402,10 +402,10 @@ static inline JSONRPCRequest transformNamedArguments(const JSONRPCRequest& in, c\n     int hole = 0;\n     for (const std::string &argNamePattern: argNames) {\n         std::vector<std::string> vargNames;\n-        boost::algorithm::split(vargNames, NormalizedParameterName(argNamePattern), boost::algorithm::is_any_of(\"|\"));\n+        boost::algorithm::split(vargNames, argNamePattern, boost::algorithm::is_any_of(\"|\"));\n         auto fr = argsIn.end();\n         for (const std::string & argName : vargNames) {\n-            fr = argsIn.find(argName);\n+            fr = argsIn.find(NormalizedParameterName(argName));\n             if (fr != argsIn.end()) {\n                 break;\n             }"
      }
    ]
  }
]