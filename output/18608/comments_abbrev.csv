luke-jr,2020-04-12 20:02:19,"Concept NACK. This completely breaks down the layering/abstraction here... Simply adding new metadata shouldn't require touching the db layer, and the db layer shouldn't have visibility into stuff like `CTxDestination`",https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-612668486,612668486,
ryanofsky,2020-04-12 21:12:05,"> Simply adding new metadata shouldn't require touching the db layer\n\nAdding new metadata should touch the walletdb layer because it changes the database format. The reason why #13756 introduced a bug is no one understood how it was changing the database format. I try to look at format changes very closely and I didn't pay any attention at all to that PR because it wasn't modifying walletdb. (",https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-612676590,612676590,
DrahtBot,2020-04-12 22:08:45,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-612683473,612683473,
promag,2020-04-13 00:59:16,"This approach makes it easy to remove circular dependency recentrequeststablemodel -> walletmodel -> recentrequeststablemodel, see 452ecd7c6048e2799d8ba0dedf6e41843e397614 (https://github.com/promag/bitcoin/tree/2020-04-review-18608).",https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-612703456,612703456,
luke-jr,2020-04-13 03:45:18,"> Adding new metadata should touch the walletdb layer because it changes the database format.\n\nNot usually, no.\n\nAnd do we really want db-level wrapper functions for every single piece of metadata?? That's exactly the kind of thing destdata was supposed to help avoid...\n\n>The reason why #13756 introduced a bug is no one understood how it was changing the database format. I try to look ",https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-612736594,612736594,
ryanofsky,2020-04-13 05:13:22,"> > Adding new metadata should touch the walletdb layer because it changes the database format.\n\n> Not usually, no.\n\nThis discussion is too handwavy and general to be productive, but if you believe the PR creates problems here, you should be able to provide examples of database format changes that _should_ bypass walletdb and that this PR will make more difficult.\n\n> And do we really w",https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-612753612,612753612,
ryanofsky,2020-04-27 18:39:28,"Rebased 5a9bbfe5e7f717426ee573e4a0059f38a834efb4 -> 6847561ce15ec723315abb28279fa69e1f4d8f09 ([`pr/nodest.2`](https://github.com/ryanofsky/bitcoin/commits/pr/nodest.2) -> [`pr/nodest.3`](https://github.com/ryanofsky/bitcoin/commits/pr/nodest.3), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/nodest.2-rebase..pr/nodest.3)) due to conflict with #16528\nRebased 6847561ce15ec723315abb28279",https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-620161217,620161217,
ryanofsky,2021-03-03 20:13:11,"Closing this in favor or more narrow #21353. which doesn't fully consolidate destdata code in walletdb, but does at least remove it from the gui. Can re-evaluate this later if it's still appropriate.",https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-790024230,790024230,
promag,2020-04-13 00:46:32,Should `#include <interfaces/wallet.h>`.,https://github.com/bitcoin/bitcoin/pull/18608#discussion_r407273795,407273795,src/qt/recentrequeststablemodel.cpp
ryanofsky,2020-04-13 02:14:38,"re: https://github.com/bitcoin/bitcoin/pull/18608#discussion_r407273795\n\n> Should `#include <interfaces/wallet.h>`.\n\nThanks, updated",https://github.com/bitcoin/bitcoin/pull/18608#discussion_r407286898,407286898,src/qt/recentrequeststablemodel.cpp
promag,2020-07-12 22:12:54,"nit, sort ðŸ™ˆ ",https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453369490,453369490,src/qt/recentrequeststablemodel.cpp
promag,2020-07-12 22:17:52,Is this a bugfix?,https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453369905,453369905,src/wallet/bdb.cpp
ryanofsky,2020-07-13 12:28:56,"re: https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453369905\n\n> Is this a bugfix?\n\nIt's needed to avoid errors if a transaction and a cursor are active at the same time. This didn't used to happen so it wasn't really a bug, but this change is more correct, and necessary for the new erase function.",https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453613336,453613336,src/wallet/bdb.cpp
ryanofsky,2020-07-13 12:29:15,"re: https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453369490\n\n> nit, sort\n\nThanks. Wonder if I'm slowly forgetting the alphabet.",https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453613499,453613499,src/qt/recentrequeststablemodel.cpp
