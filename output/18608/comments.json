[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612668486",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-612668486",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18608",
    "id": 612668486,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjY2ODQ4Ng==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-12T20:02:19Z",
    "updated_at": "2020-04-12T20:02:19Z",
    "author_association": "MEMBER",
    "body": "Concept NACK. This completely breaks down the layering/abstraction here... Simply adding new metadata shouldn't require touching the db layer, and the db layer shouldn't have visibility into stuff like `CTxDestination`",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612668486/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612676590",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-612676590",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18608",
    "id": 612676590,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjY3NjU5MA==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-12T21:12:05Z",
    "updated_at": "2020-04-12T21:12:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Simply adding new metadata shouldn't require touching the db layer\r\n\r\nAdding new metadata should touch the walletdb layer because it changes the database format. The reason why #13756 introduced a bug is no one understood how it was changing the database format. I try to look at format changes very closely and I didn't pay any attention at all to that PR because it wasn't modifying walletdb. (Implementation of #13756 would also have been smaller and simpler if it was adding a new walletdb key, in addition to avoiding the bug.)\r\n\r\n> the db layer shouldn't have visibility into stuff like `CTxDestination`\r\n\r\nWhere's this coming from? I could pretty easily move the EncodeDestination/DecodeDestination calls out of walletdb, but it's already accepting and returning CKeyMetadata, CPubKey, CKeyMetadata, CMasterKey, CWalletTx values so CTxDestination hardly seems like a bridge too far.\r\n\r\n> Concept NACK. This completely breaks down the layering/abstraction here... \r\n\r\nLet me know specifically what's broken. This PR gets rid of complexity and code and should make it safer and easier to make changes extending the database format in the future.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612676590/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612683473",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-612683473",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18608",
    "id": 612683473,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjY4MzQ3Mw==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-12T22:08:45Z",
    "updated_at": "2021-01-21T10:04:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612683473/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612703456",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-612703456",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18608",
    "id": 612703456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjcwMzQ1Ng==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-13T00:59:16Z",
    "updated_at": "2020-04-13T00:59:16Z",
    "author_association": "MEMBER",
    "body": "This approach makes it easy to remove circular dependency recentrequeststablemodel -> walletmodel -> recentrequeststablemodel, see 452ecd7c6048e2799d8ba0dedf6e41843e397614 (https://github.com/promag/bitcoin/tree/2020-04-review-18608).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612703456/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612736594",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-612736594",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18608",
    "id": 612736594,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjczNjU5NA==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-13T03:45:18Z",
    "updated_at": "2020-04-13T03:45:18Z",
    "author_association": "MEMBER",
    "body": "> Adding new metadata should touch the walletdb layer because it changes the database format.\r\n\r\nNot usually, no.\r\n\r\nAnd do we really want db-level wrapper functions for every single piece of metadata?? That's exactly the kind of thing destdata was supposed to help avoid...\r\n\r\n>The reason why #13756 introduced a bug is no one understood how it was changing the database format. I try to look at format changes very closely and I didn't pay any attention at all to that PR because it wasn't modifying walletdb. (Implementation of #13756 would also have been smaller and simpler if it was adding a new walletdb key, in addition to avoiding the bug.)\r\n\r\nThe bug was completely unrelated to the database format. Even if the wallet was left in RAM, and never written to a database (not possible with our code, just hypothetical), the bug would have remained...\r\nAnd simply using a new database key would not have fixed it either...\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612736594/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612753612",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-612753612",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18608",
    "id": 612753612,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjc1MzYxMg==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-13T05:13:22Z",
    "updated_at": "2020-04-13T05:13:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "> > Adding new metadata should touch the walletdb layer because it changes the database format.\r\n\r\n> Not usually, no.\r\n\r\nThis discussion is too handwavy and general to be productive, but if you believe the PR creates problems here, you should be able to provide examples of database format changes that _should_ bypass walletdb and that this PR will make more difficult.\r\n\r\n> And do we really want db-level wrapper functions for every single piece of metadata?? That's exactly the kind of thing destdata was supposed to help avoid...\r\n\r\nThere are various extension points in the wallet for metadata, and this PR doesn't remove them. This PR removes the `CAddressBookData::destdata` extension point because it was badly implemented and misused, already caused a bug, and is a loaded gun waiting to cause more bugs. Your PR #18550 removes the loaded gun by complicating the destdata implementation. But I objected to #18550 because of other changes it bundles, and the complexity it adds turns out not to be necessary here because we can just get rid of the destdata field while simplifying code and not changing behavior.\r\n\r\n> > The reason why #13756 introduced a bug is no one understood how it was changing the database format. I try to look at format changes very closely and I didn't pay any attention at all to that PR because it wasn't modifying walletdb. (Implementation of #13756 would also have been smaller and simpler if it was adding a new walletdb key, in addition to avoiding the bug.)\r\n\r\n> The bug was completely unrelated to the database format. Even if the wallet was left in RAM, and never written to a database (not possible with our code, just hypothetical), the bug would have remained...\r\n\r\nI'd like to interpret this charitably since it is vague and talking about a hypothetical alternate implementation of #13756, but I think this is basically nonsense. If `CAddressBookData::destdata` field didn't exist, #13756 wouldn't have store used data in `CAddressBookData`. It would have added something like `(\"useddata\" << EncodeDestionation(dest))` rows and a `std::set<CTxDestination> m_used_dests` `CWallet` member, avoiding the bug and requiring less code to implement.\r\n\r\n> And simply using a new database key would not have fixed it either...\r\n\r\nNot only would using a non-DESTDATA database key have been _sufficient_ to fix it in the most likely scenario (described above) for the 0.19 release, but using a non-DESTDATA key would have been _necessary_ to fix it for all pre-0.19 releases, because they treat addresses with DESTDATA rows as non-change.\r\n\r\nReally, Luke, DESTDATA is garbage. This PR isolates it to the lowest layer of walletdb, reducing complexity in upper layers and preventing them from misusing it again.\r\n\r\nIf you want to add new metadata fields, even new extensible metadata fields, nothing in the PR prevents it or makes it more difficult. I know you're claiming otherwise, but it's not true and you haven't provided plausible examples or specifics to back up your assertions. I promise this PR isn't trying to rain on your metadata parade.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612753612/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620161217",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-620161217",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18608",
    "id": 620161217,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDE2MTIxNw==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-27T18:39:28Z",
    "updated_at": "2020-07-10T20:05:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased 5a9bbfe5e7f717426ee573e4a0059f38a834efb4 -> 6847561ce15ec723315abb28279fa69e1f4d8f09 ([`pr/nodest.2`](https://github.com/ryanofsky/bitcoin/commits/pr/nodest.2) -> [`pr/nodest.3`](https://github.com/ryanofsky/bitcoin/commits/pr/nodest.3), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/nodest.2-rebase..pr/nodest.3)) due to conflict with #16528\r\nRebased 6847561ce15ec723315abb28279fa69e1f4d8f09 -> 4855c6271c731c27cb8a65f8b64e5167e88dc014 ([`pr/nodest.3`](https://github.com/ryanofsky/bitcoin/commits/pr/nodest.3) -> [`pr/nodest.4`](https://github.com/ryanofsky/bitcoin/commits/pr/nodest.4), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/nodest.3-rebase..pr/nodest.4)) due to conflict with #18699\r\nRebased 4855c6271c731c27cb8a65f8b64e5167e88dc014 -> 3a58f2ae17fbb016cbcda2273be28d7c1a43b0f7 ([`pr/nodest.4`](https://github.com/ryanofsky/bitcoin/commits/pr/nodest.4) -> [`pr/nodest.5`](https://github.com/ryanofsky/bitcoin/commits/pr/nodest.5), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/nodest.4-rebase..pr/nodest.5)) due to conflict with #18918\r\nRebased 3a58f2ae17fbb016cbcda2273be28d7c1a43b0f7 -> 005f0dfd1628fcd96a1a6828599fb213b8ec25ea ([`pr/nodest.5`](https://github.com/ryanofsky/bitcoin/commits/pr/nodest.5) -> [`pr/nodest.6`](https://github.com/ryanofsky/bitcoin/commits/pr/nodest.6), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/nodest.5-rebase..pr/nodest.6)) due to conflict with #19290\r\nRebased 005f0dfd1628fcd96a1a6828599fb213b8ec25ea -> e44e5a2e33243fc7e678dc34586999ef18d82435 ([`pr/nodest.6`](https://github.com/ryanofsky/bitcoin/commits/pr/nodest.6) -> [`pr/nodest.7`](https://github.com/ryanofsky/bitcoin/commits/pr/nodest.7), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/nodest.6-rebase..pr/nodest.7)) due to conflict with #19308\r\nRebased e44e5a2e33243fc7e678dc34586999ef18d82435 -> 36aa5fee72a1a3a192f98215609b33f9ab644ac4 ([`pr/nodest.7`](https://github.com/ryanofsky/bitcoin/commits/pr/nodest.7) -> [`pr/nodest.8`](https://github.com/ryanofsky/bitcoin/commits/pr/nodest.8), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/nodest.7-rebase..pr/nodest.8)) due to conflict with #18918, and after #19422 workaround to avoid TSAN closedir BerkeleyBatch error https://travis-ci.org/github/bitcoin/bitcoin/jobs/703992618\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620161217/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/790024230",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18608#issuecomment-790024230",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18608",
    "id": 790024230,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDAyNDIzMA==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-03T20:13:11Z",
    "updated_at": "2021-03-03T20:13:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing this in favor or more narrow #21353. which doesn't fully consolidate destdata code in walletdb, but does at least remove it from the gui. Can re-evaluate this later if it's still appropriate.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/790024230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407273795",
    "pull_request_review_id": 391910274,
    "id": 407273795,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzI3Mzc5NQ==",
    "diff_hunk": "@@ -141,7 +142,7 @@ bool RecentRequestsTableModel::removeRows(int row, int count, const QModelIndex\n         for (int i = 0; i < count; ++i)\n         {\n             const RecentRequestEntry* rec = &list[row+i];\n-            if (!walletModel->saveReceiveRequest(rec->recipient.address.toStdString(), rec->id, \"\"))\n+            if (!walletModel->wallet().saveReceiveRequest(DecodeDestination(rec->recipient.address.toStdString()), ToString(rec->id), \"\"))",
    "path": "src/qt/recentrequeststablemodel.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "7a05b1dee2fa68b32bfb19e273fb55a5b3836a3e",
    "original_commit_id": "02c9d2c78d8c361f247b33f4f09d0277ee8565c6",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should `#include <interfaces/wallet.h>`.",
    "created_at": "2020-04-13T00:46:32Z",
    "updated_at": "2021-03-03T20:09:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18608#discussion_r407273795",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18608",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407273795"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18608#discussion_r407273795"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18608"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407273795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 148,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407286898",
    "pull_request_review_id": 391923113,
    "id": 407286898,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzI4Njg5OA==",
    "diff_hunk": "@@ -141,7 +142,7 @@ bool RecentRequestsTableModel::removeRows(int row, int count, const QModelIndex\n         for (int i = 0; i < count; ++i)\n         {\n             const RecentRequestEntry* rec = &list[row+i];\n-            if (!walletModel->saveReceiveRequest(rec->recipient.address.toStdString(), rec->id, \"\"))\n+            if (!walletModel->wallet().saveReceiveRequest(DecodeDestination(rec->recipient.address.toStdString()), ToString(rec->id), \"\"))",
    "path": "src/qt/recentrequeststablemodel.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "7a05b1dee2fa68b32bfb19e273fb55a5b3836a3e",
    "original_commit_id": "02c9d2c78d8c361f247b33f4f09d0277ee8565c6",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "re: https://github.com/bitcoin/bitcoin/pull/18608#discussion_r407273795\r\n\r\n> Should `#include <interfaces/wallet.h>`.\r\n\r\nThanks, updated",
    "created_at": "2020-04-13T02:14:38Z",
    "updated_at": "2021-03-03T20:09:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18608#discussion_r407286898",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18608",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407286898"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18608#discussion_r407286898"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18608"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407286898/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 148,
    "side": "RIGHT",
    "in_reply_to_id": 407273795
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453369490",
    "pull_request_review_id": 446913735,
    "id": 453369490,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM2OTQ5MA==",
    "diff_hunk": "@@ -10,18 +10,20 @@\n #include <qt/walletmodel.h>\n \n #include <clientversion.h>\n+#include <key_io.h>",
    "path": "src/qt/recentrequeststablemodel.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "7a05b1dee2fa68b32bfb19e273fb55a5b3836a3e",
    "original_commit_id": "36aa5fee72a1a3a192f98215609b33f9ab644ac4",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, sort \ud83d\ude48 ",
    "created_at": "2020-07-12T22:12:54Z",
    "updated_at": "2021-03-03T20:09:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453369490",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18608",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453369490"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453369490"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18608"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453369490/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 13,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453369905",
    "pull_request_review_id": 446913735,
    "id": 453369905,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM2OTkwNQ==",
    "diff_hunk": "@@ -716,7 +716,7 @@ bool BerkeleyBatch::StartCursor()\n     assert(!m_cursor);\n     if (!pdb)\n         return false;\n-    int ret = pdb->cursor(nullptr, &m_cursor, 0);\n+    int ret = pdb->cursor(activeTxn, &m_cursor, 0);",
    "path": "src/wallet/bdb.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "7a05b1dee2fa68b32bfb19e273fb55a5b3836a3e",
    "original_commit_id": "36aa5fee72a1a3a192f98215609b33f9ab644ac4",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is this a bugfix?",
    "created_at": "2020-07-12T22:17:52Z",
    "updated_at": "2021-03-03T20:09:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453369905",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18608",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453369905"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453369905"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18608"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453369905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 660,
    "original_line": 660,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453613336",
    "pull_request_review_id": 447203863,
    "id": 453613336,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYxMzMzNg==",
    "diff_hunk": "@@ -716,7 +716,7 @@ bool BerkeleyBatch::StartCursor()\n     assert(!m_cursor);\n     if (!pdb)\n         return false;\n-    int ret = pdb->cursor(nullptr, &m_cursor, 0);\n+    int ret = pdb->cursor(activeTxn, &m_cursor, 0);",
    "path": "src/wallet/bdb.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "7a05b1dee2fa68b32bfb19e273fb55a5b3836a3e",
    "original_commit_id": "36aa5fee72a1a3a192f98215609b33f9ab644ac4",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "re: https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453369905\r\n\r\n> Is this a bugfix?\r\n\r\nIt's needed to avoid errors if a transaction and a cursor are active at the same time. This didn't used to happen so it wasn't really a bug, but this change is more correct, and necessary for the new erase function.",
    "created_at": "2020-07-13T12:28:56Z",
    "updated_at": "2021-03-03T20:09:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453613336",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18608",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453613336"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453613336"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18608"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453613336/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 660,
    "original_line": 660,
    "side": "RIGHT",
    "in_reply_to_id": 453369905
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453613499",
    "pull_request_review_id": 447203863,
    "id": 453613499,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYxMzQ5OQ==",
    "diff_hunk": "@@ -10,18 +10,20 @@\n #include <qt/walletmodel.h>\n \n #include <clientversion.h>\n+#include <key_io.h>",
    "path": "src/qt/recentrequeststablemodel.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "7a05b1dee2fa68b32bfb19e273fb55a5b3836a3e",
    "original_commit_id": "36aa5fee72a1a3a192f98215609b33f9ab644ac4",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "re: https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453369490\r\n\r\n> nit, sort\r\n\r\nThanks. Wonder if I'm slowly forgetting the alphabet.",
    "created_at": "2020-07-13T12:29:15Z",
    "updated_at": "2021-03-03T20:09:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453613499",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18608",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453613499"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18608#discussion_r453613499"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18608"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453613499/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 13,
    "side": "RIGHT",
    "in_reply_to_id": 453369490
  }
]