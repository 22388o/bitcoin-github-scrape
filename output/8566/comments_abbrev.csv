jonasschnelli,2016-08-24T06:39:33Z,Nice!\nConcept ACK.\n,https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-241971324,241971324,
isle2983,2016-08-25T02:30:46Z,Comment spelling/grammar nits:\n\ns/OtherBasic/Other basic/ \ns/Debian based/Debian-based/\ns/arguement/argument/\ns/# Window/# Windows/\ns/# Sign Sindows/# Sign Windows/\n,https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242265201,242265201,
achow101,2016-08-25T03:04:13Z,Nits addressed\n,https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242269230,242269230,
laanwj,2016-08-25T08:43:26Z,"Concept ACK, haven't tested\n",https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242318860,242318860,
btcdrak,2016-08-25T09:59:08Z,"Concept ACK, I'm testing this out.\n",https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242337054,242337054,
sipa,2016-08-25T10:17:20Z,"One feature I've always wanted (but never bothered to add to my own build scripts) is detached signing: I don't want my GPG key on the build machine. However, if you don't use gsign, the assert file is overwritten for every build. So if possible I'd like to have a means to just copy the assert file to the right location in gitian.sigs, but without adding the gpg signature yet.\n",https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242341072,242341072,
btcdrak,2016-08-25T11:28:28Z,"I agree with @sipa, we need a ""--sign-detached"" option. In my case my signing keys are on a hardware device which is not available to the VM so I have to copy (scp) the gitian.sigs/\* out to my main machine to detach sign. Certainly running the --sign command works, you end up with the asserts in the gitian.sigs folder but of course it generates error messages.\n",https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242355025,242355025,
btcdrak,2016-08-25T11:30:19Z,This could really do with checking that the MacOS SDK file exists in the  `gitian-builder/inputs/` folder\n,https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242355379,242355379,
btcdrak,2016-08-25T11:49:14Z,"Tested various options, works, makes me happy.\n",https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242358948,242358948,
achow101,2016-08-25T19:29:30Z,Addressed btcdrak's concerns.\n\nI will see what I can do regarding detached signing.\n,https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242509022,242509022,
achow101,2016-08-25T19:35:32Z,So what exactly do you guys want with detached signing?\n,https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242510554,242510554,
sipa,2016-08-25T19:37:43Z,"By detached signing I mean it behaves exactly as if it's signing, and the\n.assert file appears inside the gitian.sigs dir, but no GPG signature for\nit is created.\n\nThanks a lot for looking into this wishlist item :)\n",https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242511167,242511167,
achow101,2016-08-25T23:36:10Z,@sipa @btcdrak I think I got it to create just the assert files for detached signing. I also added an option to not automatically commit the sigs.\n,https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242579404,242579404,
laanwj,2016-08-26T09:56:37Z,"> By detached signing I mean it behaves exactly as if it's signing, and the\n> .assert file appears inside the gitian.sigs dir, but no GPG signature for\n> it is created.\n\nMy favorite hack for this is:\n\n``` bash\ngsign -p true ...\n```\n\n(This uses the program ""true"" to sign, which effectively skips the step and returns success)\n",https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242686189,242686189,
laanwj,2016-08-26T09:58:54Z,"Oh that's what you did already, great!\n",https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242686824,242686824,
ghost,2016-08-26T20:03:09Z,"""--setup"" has failed because it is missing the clone bitcoin command:\n\n> git clone https://github.com/bitcoin/bitcoin\n\nUpdate: Fair point as I had it from somewhere else; should probably mention that somewhere for newcomers attempting this. The script itself seems to be properly working, although it won't work in a VM due to other reasons.\n",https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242837021,242837021,
achow101,2016-08-26T20:07:23Z,"The assumption is that you already have that\n\nOn August 26, 2016 4:03:39 PM Lauda notifications@github.com wrote:\n\n> ""--setup"" has failed because it is missing the clone bitcoin command:\n> \n> > git clone https://github.com/bitcoin/bitcoin\n> \n> ## \n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly or view it on GitHub:\n> https://github.com/bitco",https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242837988,242837988,
laanwj,2016-08-28T12:02:14Z,"`doc/gitian-building.md` should be updated to use this script.\n(not necessarily in this pull, but it makes sure that we have a ""supported"" build process that uses this script)\n",https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242971057,242971057,
btcdrak,2016-08-28T12:50:35Z,Tested ACK 6ffd6b4a573e00644b8985c825357a7aa7b8ce88 (documentation nit aside)\n,https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242973119,242973119,
btcdrak,2016-08-25T11:12:05Z,This should default to lxc because it is the default according to the instructions we ship.\n,https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76224004,76224004,contrib/gitian-build.sh
btcdrak,2016-08-25T11:20:18Z,if signer is missing you should display the usage\n\nfor example the `ln` command spits out\n\n```\n$ ln\nln: missing file operand\nTry 'ln --help' for more information.\n```\n\nSo I suggest:\n\n```\n$0: Missing signer\nUsage: $0 [-c|u|v|b|s|B|o|h|j|m|] signer version\n```\n\nor\n\n```\n$0: Missing signer\nTry $0 -h\n```\n,https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76224923,76224923,contrib/gitian-build.sh
btcdrak,2016-08-25T11:20:35Z,Suggest\n\n```\n$0: Missing version\nUsage: $0 [-c|u|v|b|s|B|o|h|j|m|] signer version\n```\n\nor \n\n```\n$0: Missing version\nTry $0 -h\n```\n,https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76224950,76224950,contrib/gitian-build.sh
btcdrak,2016-08-25T11:22:02Z,Consider using `$0` in place of `gitian-build.sh`\n,https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76225090,76225090,contrib/gitian-build.sh
btcdrak,2016-08-25T11:25:26Z,Can I suggest we make these two URLs a variable defined at the beginning of the file. If this dep is updated in the future it will make it easier to spot.\n,https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76225457,76225457,contrib/gitian-build.sh
fanquake,2016-08-28T04:31:05Z,nit: looks like the default is actually [4000](https://github.com/bitcoin/bitcoin/pull/8566/files#diff-436c4e7496c0c2c2e1146ea5bb18079fR18).\n,https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76525964,76525964,contrib/gitian-build.sh
luke-jr,2016-08-28T04:33:03Z,The default probably should be 2000. 32-bit KVM has a limit of 2047...\n,https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76525974,76525974,contrib/gitian-build.sh
MarcoFalke,2016-08-28T05:43:47Z,@luke-jr this would require setting `-j` to 1 as well. I don't think those are sensible defaults for gitian building.\n,https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76526408,76526408,contrib/gitian-build.sh
btcdrak,2016-08-28T09:54:10Z,It's time @luke-jr upgraded to 64 bits :8ball: \n,https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76529192,76529192,contrib/gitian-build.sh
achow101,2016-08-28T13:37:10Z,"The [default from gitian](https://github.com/devrandom/gitian-builder/blob/master/bin/gbuild#L8) is `-j 2` and `-m 2000`, so I will set that to be the default.\n",https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76532061,76532061,contrib/gitian-build.sh
sipa,2016-08-28T13:38:53Z,I would expect -j2 -m2000 to OOM.\n,https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76532093,76532093,contrib/gitian-build.sh
achow101,2016-08-28T13:41:11Z,"It doesn't (at least, I haven't seen it do that). I have run gitian with the defaults before and it works fine, albeit rather slowly.\n",https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76532127,76532127,contrib/gitian-build.sh
MarcoFalke,2016-08-28T15:16:25Z,"It was causing OOM for me (on kvm, though).\n",https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76533784,76533784,contrib/gitian-build.sh
luke-jr,2016-08-28T16:49:05Z,I have no problems building with -j2 -m2047 at least (KVM).\n,https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76535376,76535376,contrib/gitian-build.sh
