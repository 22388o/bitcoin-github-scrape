[
  {
    "sha": "eda4cfb992d140c8471f6cc2bf16c4a106439225",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZGE0Y2ZiOTkyZDE0MGM4NDcxZjZjYzJiZjE2YzRhMTA2NDM5MjI1",
    "commit": {
      "author": {
        "name": "Andrew Chow",
        "email": "achow101@gmail.com",
        "date": "2016-08-23T20:20:15Z"
      },
      "committer": {
        "name": "Andrew Chow",
        "email": "achow101@gmail.com",
        "date": "2016-08-27T12:56:23Z"
      },
      "message": "Create an easy to use gitian building script\n\nI've written a script that automates the setup and building of binaries with gitian. All of the commands are pulled from various documentation on gitian building.",
      "tree": {
        "sha": "c41d693f1e438cdf5eb5e66d5662926a88107c42",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c41d693f1e438cdf5eb5e66d5662926a88107c42"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/eda4cfb992d140c8471f6cc2bf16c4a106439225",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eda4cfb992d140c8471f6cc2bf16c4a106439225",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/eda4cfb992d140c8471f6cc2bf16c4a106439225",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eda4cfb992d140c8471f6cc2bf16c4a106439225/comments",
    "author": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c072b8fd95cd4fa84f08189a0cd8b173ea2dbb8e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c072b8fd95cd4fa84f08189a0cd8b173ea2dbb8e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c072b8fd95cd4fa84f08189a0cd8b173ea2dbb8e"
      }
    ],
    "stats": {
      "total": 365,
      "additions": 365,
      "deletions": 0
    },
    "files": [
      {
        "sha": "3e3c83da5f1e612984e470acfb4b8540bb7229af",
        "filename": "contrib/README.md",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/eda4cfb992d140c8471f6cc2bf16c4a106439225/contrib/README.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/eda4cfb992d140c8471f6cc2bf16c4a106439225/contrib/README.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/README.md?ref=eda4cfb992d140c8471f6cc2bf16c4a106439225",
        "patch": "@@ -45,6 +45,9 @@ Scripts and notes for Mac builds.\n ### [RPM](/contrib/rpm) ###\n RPM spec file for building bitcoin-core on RPM based distributions\n \n+### [Gitian-build](/contrib/gitian-build.sh) ###\n+Script for running full gitian builds.\n+\n Test and Verify Tools \n ---------------------\n "
      },
      {
        "sha": "b51a91fdc0e396fdc33c8f79c118f06795814eda",
        "filename": "contrib/gitian-build.sh",
        "status": "added",
        "additions": 362,
        "deletions": 0,
        "changes": 362,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/eda4cfb992d140c8471f6cc2bf16c4a106439225/contrib/gitian-build.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/eda4cfb992d140c8471f6cc2bf16c4a106439225/contrib/gitian-build.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-build.sh?ref=eda4cfb992d140c8471f6cc2bf16c4a106439225",
        "patch": "@@ -0,0 +1,362 @@\n+# What to do\n+sign=false\n+verify=false\n+build=false\n+setupenv=false\n+\n+# Systems to build\n+linux=true\n+windows=true\n+osx=true\n+\n+# Other Basic variables\n+SIGNER=\n+VERSION=\n+commit=false\n+url=https://github.com/bitcoin/bitcoin\n+proc=4\n+mem=4000\n+lxc=true\n+osslTarUrl=http://downloads.sourceforge.net/project/osslsigncode/osslsigncode/osslsigncode-1.7.1.tar.gz\n+osslPatchUrl=https://bitcoincore.org/cfields/osslsigncode-Backports-to-1.7.1.patch\n+scriptName=$(basename -- \"$0\")\n+\n+# Help Message\n+read -d '' usage <<- EOF\n+Usage: $scriptName [-c|u|v|b|s|B|o|h|j|m|] signer version\n+\n+Run this script from the directory containing the bitcoin, gitian-builder, gitian.sigs, and bitcoin-detached-sigs.\n+\n+Arguments:\n+signer          GPG signer to sign each build assert file\n+version\t\tVersion number, commit, or branch to build. If building a commit or branch, the -c option must be specified\n+\n+Options:\n+-c|--commit\tIndicate that the version argument is for a commit or branch\n+-u|--url\tSpecify the URL of the repository. Default is https://github.com/bitcoin/bitcoin\n+-v|--verify \tVerify the gitian build\n+-b|--build\tDo a gitiain build\n+-s|--sign\tMake signed binaries for Windows and Mac OSX\n+-B|--buildsign\tBuild both signed and unsigned binaries\n+-o|--os\t\tSpecify which Operating Systems the build is for. Default is lwx. l for linux, w for windows, x for osx\n+-j\t\tNumber of processes to use. Default 4\n+-m\t\tMemory to allocate in MiB. Default 2000\n+--kvm           Use KVM instead of LXC\n+--setup         Setup the gitian building environment. Uses KVM. If you want to use lxc, use the --lxc option. Only works on Debian-based systems (Ubuntu, Debian)\n+-h|--help\tPrint this help message\n+EOF\n+\n+# Get options and arguments\n+while :; do\n+    case $1 in\n+        # Verify\n+        -v|--verify)\n+\t    verify=true\n+            ;;\n+        # Build\n+        -b|--build)\n+\t    build=true\n+            ;;\n+        # Sign binaries\n+        -s|--sign)\n+\t    sign=true\n+            ;;\n+        # Build then Sign\n+        -B|--buildsign)\n+\t    sign=true\n+\t    build=true\n+            ;;\n+        # PGP Signer\n+        -S|--signer)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tSIGNER=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"--signer\" requires a non-empty argument.'\n+\t\texit 1\n+\t    fi\n+           ;;\n+        # Operating Systems\n+        -o|--os)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tlinux=false\n+\t\twindows=false\n+\t\tosx=false\n+\t\tif [[ \"$2\" = *\"l\"* ]]\n+\t\tthen\n+\t\t    linux=true\n+\t\tfi\n+\t\tif [[ \"$2\" = *\"w\"* ]]\n+\t\tthen\n+\t\t    windows=true\n+\t\tfi\n+\t\tif [[ \"$2\" = *\"x\"* ]]\n+\t\tthen\n+\t\t    osx=true\n+\t\tfi\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"--os\" requires an argument containing an l (for linux), w (for windows), or x (for Mac OSX)\\n'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+\t# Help message\n+\t-h|--help)\n+\t    echo \"$usage\"\n+\t    exit 0\n+\t    ;;\n+\t# Commit or branch\n+\t-c|--commit)\n+\t    commit=true\n+\t    ;;\n+\t# Number of Processes\n+\t-j)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tproc=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"-j\" requires an argument'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+\t# Memory to allocate\n+\t-m)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tmem=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"-m\" requires an argument'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+\t# URL\n+\t-u)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\turl=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"-u\" requires an argument'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+        # kvm\n+        --kvm)\n+            lxc=false\n+            ;;\n+        # Setup\n+        --setup)\n+            setup=true\n+            ;;\n+\t*)               # Default case: If no more options then break out of the loop.\n+             break\n+    esac\n+    shift\n+done\n+\n+# Set up LXC\n+if [[ $lxc = true ]]\n+then\n+    export USE_LXC=1\n+    export LXC_BRIDGE=lxcbr0\n+    sudo ifconfig lxcbr0 up 10.0.2.2\n+fi\n+\n+# Get signer\n+if [[ -n\"$1\" ]]\n+then\n+    SIGNER=$1\n+    shift\n+fi\n+\n+# Get version\n+if [[ -n \"$1\" ]]\n+then\n+    VERSION=$1\n+    COMMIT=$VERSION\n+    shift\n+fi\n+\n+# Check that a signer is specified\n+if [[ $SIGNER == \"\" ]]\n+then\n+    echo \"$scriptName: Missing signer.\"\n+    echo \"Try $scriptName --help for more information\"\n+    exit 1\n+fi\n+\n+# Check that a version is specified\n+if [[ $VERSION == \"\" ]]\n+then\n+    echo \"$scriptName: Missing version.\"\n+    echo \"Try $scriptName --help for more information\"\n+    exit 1\n+fi\n+\n+# Add a \"v\" if no -c\n+if [[ $commit = false ]]\n+then\n+\tCOMMIT=\"v${VERSION}\"\n+fi\n+echo ${COMMIT}\n+\n+# Setup build environment\n+if [[ $setup = true ]]\n+then\n+    pushd ./gitian-builder\n+    sudo apt-get install ruby apache2 git apt-cacher-ng python-vm-builder qemu-kvm qemu-utils\n+    git clone https://github.com/bitcoin-core/gitian.sigs.git\n+    git clone https://github.com/bitcoin-core/bitcoin-detached-sigs.git\n+    git clone https://github.com/devrandom/gitian-builder.git\n+    if [[ -n \"$USE_LXC\" ]]\n+    then\n+        sudo apt-get install lxc\n+        bin/make-base-vm --suite trusty --arch amd64 --lxc\n+    else\n+        bin/make-base-vm --suite trusty --arch amd64\n+    fi\n+    popd\n+fi\n+\n+# Set up build\n+pushd ./bitcoin\n+git fetch\n+git checkout ${COMMIT}\n+popd\n+\n+# Build\n+if [[ $build = true ]]\n+then\n+\t# Make output folder\n+\tmkdir -p ./bitcoin-binaries/${VERSION}\n+\t\n+\t# Build Dependencies\n+\techo \"\"\n+\techo \"Building Dependencies\"\n+\techo \"\"\n+\tpushd ./gitian-builder\t\n+\tmkdir -p inputs\n+\twget -N -P inputs $osslPatchUrl\n+\twget -N -P inputs $osslTarUrl\n+\tmake -C ../bitcoin/depends download SOURCES_PATH=`pwd`/cache/common\n+\n+\t# Linux\n+\tif [[ $linux = true ]]\n+\tthen\n+            echo \"\"\n+\t    echo \"Compiling ${VERSION} Linux\"\n+\t    echo \"\"\n+\t    ./bin/gbuild -j ${proc} -m ${mem} --commit bitcoin=${COMMIT} --url bitcoin=${url} ../bitcoin/contrib/gitian-descriptors/gitian-linux.yml\n+\t    ./bin/gsign --signer $SIGNER --release ${VERSION}-linux --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-linux.yml\n+\t    mv build/out/bitcoin-*.tar.gz build/out/src/bitcoin-*.tar.gz ../bitcoin-binaries/${VERSION}\n+\tfi\n+\t# Windows\n+\tif [[ $windows = true ]]\n+\tthen\n+\t    echo \"\"\n+\t    echo \"Compiling ${VERSION} Windows\"\n+\t    echo \"\"\n+\t    ./bin/gbuild -j ${proc} -m ${mem} --commit bitcoin=${COMMIT} --url bitcoin=${url} ../bitcoin/contrib/gitian-descriptors/gitian-win.yml\n+\t    ./bin/gsign --signer $SIGNER --release ${VERSION}-win-unsigned --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-win.yml\n+\t    mv build/out/bitcoin-*-win-unsigned.tar.gz inputs/bitcoin-win-unsigned.tar.gz\n+\t    mv build/out/bitcoin-*.zip build/out/bitcoin-*.exe ../bitcoin-binaries/${VERSION}\n+\tfi\n+\t# Mac OSX\n+\tif [[ $osx = true ]]\n+\tthen\n+\t    echo \"\"\n+\t    echo \"Compiling ${VERSION} Mac OSX\"\n+\t    echo \"\"\n+\t    ./bin/gbuild -j ${proc} -m ${mem} --commit bitcoin=${COMMIT} --url bitcoin=${url} ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\n+\t    ./bin/gsign --signer $SIGNER --release ${VERSION}-osx-unsigned --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\n+\t    mv build/out/bitcoin-*-osx-unsigned.tar.gz inputs/bitcoin-osx-unsigned.tar.gz\n+\t    mv build/out/bitcoin-*.tar.gz build/out/bitcoin-*.dmg ../bitcoin-binaries/${VERSION}\n+\tfi\n+\tpopd\n+\n+\t# Commit to gitian.sigs repo\n+\techo \"\"\n+\techo \"Committing ${VERSION} Unsigned Sigs\"\n+\techo \"\"\n+\tpushd gitian.sigs\n+\tgit add ${VERSION}-linux/${SIGNER}\n+\tgit add ${VERSION}-win-unsigned/${SIGNER}\n+\tgit add ${VERSION}-osx-unsigned/${SIGNER}\n+\tgit commit -a -m \"Add ${VERSION} unsigned sigs for ${SIGNER}\"\n+\tpopd\n+fi\n+\n+# Verify the build\n+if [[ $verify = true ]]\n+then\n+\t# Linux\n+\tpushd ./gitian-builder\n+\techo \"\"\n+\techo \"Verifying v${VERSION} Linux\"\n+\techo \"\"\n+\t./bin/gverify -v -d ../gitian.sigs/ -r ${VERSION}-linux ../bitcoin/contrib/gitian-descriptors/gitian-linux.yml\n+\t# Windows\n+\techo \"\"\n+\techo \"Verifying v${VERSION} Windows\"\n+\techo \"\"\n+\t./bin/gverify -v -d ../gitian.sigs/ -r ${VERSION}-win-unsigned ../bitcoin/contrib/gitian-descriptors/gitian-win.yml\n+\t# Mac OSX\t\n+\techo \"\"\n+\techo \"Verifying v${VERSION} Mac OSX\"\n+\techo \"\"\t\n+\t./bin/gverify -v -d ../gitian.sigs/ -r ${VERSION}-osx-unsigned ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\n+\t# Signed Windows\n+\techo \"\"\n+\techo \"Verifying v${VERSION} Signed Windows\"\n+\techo \"\"\n+\t./bin/gverify -v -d ../gitian.sigs/ -r ${VERSION}-osx-signed ../bitcoin/contrib/gitian-descriptors/gitian-osx-signer.yml\n+\t# Signed Mac OSX\n+\techo \"\"\n+\techo \"Verifying v${VERSION} Signed Mac OSX\"\n+\techo \"\"\n+\t./bin/gverify -v -d ../gitian.sigs/ -r ${VERSION}-osx-signed ../bitcoin/contrib/gitian-descriptors/gitian-osx-signer.yml\t\n+\tpopd\n+fi\n+\n+# Sign binaries\n+if [[ $sign = true ]]\n+then\n+\t\n+        pushd ./gitian-builder\n+\t# Sign Windows\n+\tif [[ $windows = true ]]\n+\tthen\n+\t    echo \"\"\n+\t    echo \"Signing ${VERSION} Windows\"\n+\t    echo \"\"\n+\t    ./bin/gbuild -i --commit signature=${COMMIT} ../bitcoin/contrib/gitian-descriptors/gitian-win-signer.yml\n+\t    ./bin/gsign --signer $SIGNER --release ${VERSION}-win-signed --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-win-signer.yml\n+\t    mv build/out/bitcoin-*win64-setup.exe ../bitcoin-binaries/${VERSION}\n+\t    mv build/out/bitcoin-*win32-setup.exe ../bitcoin-binaries/${VERSION}\n+\tfi\n+\t# Sign Mac OSX\n+\tif [[ $osx = true ]]\n+\tthen\n+\t    echo \"\"\n+\t    echo \"Signing ${VERSION} Mac OSX\"\n+\t    echo \"\"\n+\t    ./bin/gbuild -i --commit signature=${COMMIT} ../bitcoin/contrib/gitian-descriptors/gitian-osx-signer.yml\n+\t    ./bin/gsign --signer $SIGNER --release ${VERSION}-osx-signed --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-osx-signer.yml\n+\t    mv build/out/bitcoin-osx-signed.dmg ../bitcoin-binaries/${VERSION}/bitcoin-${VERSION}-osx.dmg\n+\tfi\n+\tpopd\n+\n+\t# Commit Sigs\n+\tpushd gitian.sigs\n+\techo \"\"\n+\techo \"Committing ${VERSION} Signed Sigs\"\n+\techo \"\"\n+\tgit add ${VERSION}-win-signed/${SIGNER}\n+\tgit add ${VERSION}-osx-signed/${SIGNER}\n+\tgit commit -a -m \"Add ${VERSION} signed binary sigs for ${SIGNER}\"\n+\tpopd\n+fi"
      }
    ]
  },
  {
    "sha": "498d8dadbf71b96f9b2a82e449c848acf1ed03f5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0OThkOGRhZGJmNzFiOTZmOWIyYTgyZTQ0OWM4NDhhY2YxZWQwM2Y1",
    "commit": {
      "author": {
        "name": "Andrew Chow",
        "email": "achow101@gmail.com",
        "date": "2016-08-25T19:42:39Z"
      },
      "committer": {
        "name": "Andrew Chow",
        "email": "achow101@gmail.com",
        "date": "2016-08-27T12:56:23Z"
      },
      "message": "Check for OSX SDK",
      "tree": {
        "sha": "3ac16fb0795a87de10eb083a6dcb209a5f72e8c6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3ac16fb0795a87de10eb083a6dcb209a5f72e8c6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/498d8dadbf71b96f9b2a82e449c848acf1ed03f5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/498d8dadbf71b96f9b2a82e449c848acf1ed03f5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/498d8dadbf71b96f9b2a82e449c848acf1ed03f5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/498d8dadbf71b96f9b2a82e449c848acf1ed03f5/comments",
    "author": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "eda4cfb992d140c8471f6cc2bf16c4a106439225",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eda4cfb992d140c8471f6cc2bf16c4a106439225",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/eda4cfb992d140c8471f6cc2bf16c4a106439225"
      }
    ],
    "stats": {
      "total": 7,
      "additions": 7,
      "deletions": 0
    },
    "files": [
      {
        "sha": "7baaabee6d669d75a14bdcd8cc1b989c3116f5ce",
        "filename": "contrib/gitian-build.sh",
        "status": "modified",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/498d8dadbf71b96f9b2a82e449c848acf1ed03f5/contrib/gitian-build.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/498d8dadbf71b96f9b2a82e449c848acf1ed03f5/contrib/gitian-build.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-build.sh?ref=498d8dadbf71b96f9b2a82e449c848acf1ed03f5",
        "patch": "@@ -166,6 +166,13 @@ then\n     sudo ifconfig lxcbr0 up 10.0.2.2\n fi\n \n+# Check for OSX SDK\n+if [[ ! -e \"gitian-builder/inputs/MacOSX10.11.sdk.tar.gz\" && $osx == true ]]\n+then\n+    echo \"Cannot build for OSX, SDK does not exist. Will build for other OSes\"\n+    osx=false\n+fi\n+\n # Get signer\n if [[ -n\"$1\" ]]\n then"
      }
    ]
  },
  {
    "sha": "6ffd6b4a573e00644b8985c825357a7aa7b8ce88",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2ZmZkNmI0YTU3M2UwMDY0NGI4OTg1YzgyNTM1N2E3YWE3YjhjZTg4",
    "commit": {
      "author": {
        "name": "Andrew Chow",
        "email": "achow101@gmail.com",
        "date": "2016-08-25T23:34:07Z"
      },
      "committer": {
        "name": "Andrew Chow",
        "email": "achow101@gmail.com",
        "date": "2016-08-27T12:56:23Z"
      },
      "message": "Create option to detach sign gitian builds and not commit the files in the script\n\nGitian builds can be done where the assert files are made but no signing is done. The sigs can also optionally not be committed automatically.",
      "tree": {
        "sha": "4b59f0430c53a8d1a0e168a465b1b35273c28cc9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4b59f0430c53a8d1a0e168a465b1b35273c28cc9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6ffd6b4a573e00644b8985c825357a7aa7b8ce88",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6ffd6b4a573e00644b8985c825357a7aa7b8ce88",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6ffd6b4a573e00644b8985c825357a7aa7b8ce88",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6ffd6b4a573e00644b8985c825357a7aa7b8ce88/comments",
    "author": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "498d8dadbf71b96f9b2a82e449c848acf1ed03f5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/498d8dadbf71b96f9b2a82e449c848acf1ed03f5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/498d8dadbf71b96f9b2a82e449c848acf1ed03f5"
      }
    ],
    "stats": {
      "total": 69,
      "additions": 44,
      "deletions": 25
    },
    "files": [
      {
        "sha": "e45a0d591f6493f91344d9d092695a0ce7d2c49b",
        "filename": "contrib/gitian-build.sh",
        "status": "modified",
        "additions": 44,
        "deletions": 25,
        "changes": 69,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6ffd6b4a573e00644b8985c825357a7aa7b8ce88/contrib/gitian-build.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6ffd6b4a573e00644b8985c825357a7aa7b8ce88/contrib/gitian-build.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-build.sh?ref=6ffd6b4a573e00644b8985c825357a7aa7b8ce88",
        "patch": "@@ -20,6 +20,8 @@ lxc=true\n osslTarUrl=http://downloads.sourceforge.net/project/osslsigncode/osslsigncode/osslsigncode-1.7.1.tar.gz\n osslPatchUrl=https://bitcoincore.org/cfields/osslsigncode-Backports-to-1.7.1.patch\n scriptName=$(basename -- \"$0\")\n+signProg=\"gpg --detach-sign\"\n+commitFiles=true\n \n # Help Message\n read -d '' usage <<- EOF\n@@ -43,6 +45,8 @@ Options:\n -m\t\tMemory to allocate in MiB. Default 2000\n --kvm           Use KVM instead of LXC\n --setup         Setup the gitian building environment. Uses KVM. If you want to use lxc, use the --lxc option. Only works on Debian-based systems (Ubuntu, Debian)\n+--detach-sign   Create the assert file for detached signing. Will not commit anything.\n+--no-commit     Do not commit anything to git\n -h|--help\tPrint this help message\n EOF\n \n@@ -148,6 +152,15 @@ while :; do\n         --kvm)\n             lxc=false\n             ;;\n+        # Detach sign\n+        --detach-sign)\n+            signProg=\"true\"\n+            commitFiles=false\n+            ;;\n+        # Commit files\n+        --no-commit)\n+            commitFiles=false\n+            ;;\n         # Setup\n         --setup)\n             setup=true\n@@ -214,11 +227,11 @@ echo ${COMMIT}\n # Setup build environment\n if [[ $setup = true ]]\n then\n-    pushd ./gitian-builder\n     sudo apt-get install ruby apache2 git apt-cacher-ng python-vm-builder qemu-kvm qemu-utils\n     git clone https://github.com/bitcoin-core/gitian.sigs.git\n     git clone https://github.com/bitcoin-core/bitcoin-detached-sigs.git\n     git clone https://github.com/devrandom/gitian-builder.git\n+    pushd ./gitian-builder\n     if [[ -n \"$USE_LXC\" ]]\n     then\n         sudo apt-get install lxc\n@@ -258,7 +271,7 @@ then\n \t    echo \"Compiling ${VERSION} Linux\"\n \t    echo \"\"\n \t    ./bin/gbuild -j ${proc} -m ${mem} --commit bitcoin=${COMMIT} --url bitcoin=${url} ../bitcoin/contrib/gitian-descriptors/gitian-linux.yml\n-\t    ./bin/gsign --signer $SIGNER --release ${VERSION}-linux --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-linux.yml\n+\t    ./bin/gsign -p $signProg --signer $SIGNER --release ${VERSION}-linux --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-linux.yml\n \t    mv build/out/bitcoin-*.tar.gz build/out/src/bitcoin-*.tar.gz ../bitcoin-binaries/${VERSION}\n \tfi\n \t# Windows\n@@ -268,7 +281,7 @@ then\n \t    echo \"Compiling ${VERSION} Windows\"\n \t    echo \"\"\n \t    ./bin/gbuild -j ${proc} -m ${mem} --commit bitcoin=${COMMIT} --url bitcoin=${url} ../bitcoin/contrib/gitian-descriptors/gitian-win.yml\n-\t    ./bin/gsign --signer $SIGNER --release ${VERSION}-win-unsigned --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-win.yml\n+\t    ./bin/gsign -p $signProg --signer $SIGNER --release ${VERSION}-win-unsigned --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-win.yml\n \t    mv build/out/bitcoin-*-win-unsigned.tar.gz inputs/bitcoin-win-unsigned.tar.gz\n \t    mv build/out/bitcoin-*.zip build/out/bitcoin-*.exe ../bitcoin-binaries/${VERSION}\n \tfi\n@@ -279,22 +292,25 @@ then\n \t    echo \"Compiling ${VERSION} Mac OSX\"\n \t    echo \"\"\n \t    ./bin/gbuild -j ${proc} -m ${mem} --commit bitcoin=${COMMIT} --url bitcoin=${url} ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\n-\t    ./bin/gsign --signer $SIGNER --release ${VERSION}-osx-unsigned --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\n+\t    ./bin/gsign -p $signProg --signer $SIGNER --release ${VERSION}-osx-unsigned --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\n \t    mv build/out/bitcoin-*-osx-unsigned.tar.gz inputs/bitcoin-osx-unsigned.tar.gz\n \t    mv build/out/bitcoin-*.tar.gz build/out/bitcoin-*.dmg ../bitcoin-binaries/${VERSION}\n \tfi\n \tpopd\n \n-\t# Commit to gitian.sigs repo\n-\techo \"\"\n-\techo \"Committing ${VERSION} Unsigned Sigs\"\n-\techo \"\"\n-\tpushd gitian.sigs\n-\tgit add ${VERSION}-linux/${SIGNER}\n-\tgit add ${VERSION}-win-unsigned/${SIGNER}\n-\tgit add ${VERSION}-osx-unsigned/${SIGNER}\n-\tgit commit -a -m \"Add ${VERSION} unsigned sigs for ${SIGNER}\"\n-\tpopd\n+        if [[ $commitFiles = true ]]\n+        then\n+\t    # Commit to gitian.sigs repo\n+            echo \"\"\n+            echo \"Committing ${VERSION} Unsigned Sigs\"\n+            echo \"\"\n+            pushd gitian.sigs\n+            git add ${VERSION}-linux/${SIGNER}\n+            git add ${VERSION}-win-unsigned/${SIGNER}\n+            git add ${VERSION}-osx-unsigned/${SIGNER}\n+            git commit -a -m \"Add ${VERSION} unsigned sigs for ${SIGNER}\"\n+            popd\n+        fi\n fi\n \n # Verify the build\n@@ -341,7 +357,7 @@ then\n \t    echo \"Signing ${VERSION} Windows\"\n \t    echo \"\"\n \t    ./bin/gbuild -i --commit signature=${COMMIT} ../bitcoin/contrib/gitian-descriptors/gitian-win-signer.yml\n-\t    ./bin/gsign --signer $SIGNER --release ${VERSION}-win-signed --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-win-signer.yml\n+\t    ./bin/gsign -p $signProg --signer $SIGNER --release ${VERSION}-win-signed --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-win-signer.yml\n \t    mv build/out/bitcoin-*win64-setup.exe ../bitcoin-binaries/${VERSION}\n \t    mv build/out/bitcoin-*win32-setup.exe ../bitcoin-binaries/${VERSION}\n \tfi\n@@ -352,18 +368,21 @@ then\n \t    echo \"Signing ${VERSION} Mac OSX\"\n \t    echo \"\"\n \t    ./bin/gbuild -i --commit signature=${COMMIT} ../bitcoin/contrib/gitian-descriptors/gitian-osx-signer.yml\n-\t    ./bin/gsign --signer $SIGNER --release ${VERSION}-osx-signed --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-osx-signer.yml\n+\t    ./bin/gsign -p $signProg --signer $SIGNER --release ${VERSION}-osx-signed --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-osx-signer.yml\n \t    mv build/out/bitcoin-osx-signed.dmg ../bitcoin-binaries/${VERSION}/bitcoin-${VERSION}-osx.dmg\n \tfi\n \tpopd\n \n-\t# Commit Sigs\n-\tpushd gitian.sigs\n-\techo \"\"\n-\techo \"Committing ${VERSION} Signed Sigs\"\n-\techo \"\"\n-\tgit add ${VERSION}-win-signed/${SIGNER}\n-\tgit add ${VERSION}-osx-signed/${SIGNER}\n-\tgit commit -a -m \"Add ${VERSION} signed binary sigs for ${SIGNER}\"\n-\tpopd\n+        if [[ $commitFiles = true ]]\n+        then\n+            # Commit Sigs\n+            pushd gitian.sigs\n+            echo \"\"\n+            echo \"Committing ${VERSION} Signed Sigs\"\n+            echo \"\"\n+            git add ${VERSION}-win-signed/${SIGNER}\n+            git add ${VERSION}-osx-signed/${SIGNER}\n+            git commit -a -m \"Add ${VERSION} signed binary sigs for ${SIGNER}\"\n+            popd\n+        fi\n fi"
      }
    ]
  },
  {
    "sha": "3fe0b68fb423da2a49dee31983e865fb22a24248",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozZmUwYjY4ZmI0MjNkYTJhNDlkZWUzMTk4M2U4NjVmYjIyYTI0MjQ4",
    "commit": {
      "author": {
        "name": "Andrew Chow",
        "email": "achow101@gmail.com",
        "date": "2016-08-28T13:41:50Z"
      },
      "committer": {
        "name": "Andrew Chow",
        "email": "achow101@gmail.com",
        "date": "2016-08-28T13:41:50Z"
      },
      "message": "Set defaults to gitian defaults\n\nSet the default -j and -m to 2 and 2000 respectively, matching gitian's default values.",
      "tree": {
        "sha": "54646b8fef94fae68e68131c0f873deb39d26cdd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/54646b8fef94fae68e68131c0f873deb39d26cdd"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3fe0b68fb423da2a49dee31983e865fb22a24248",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3fe0b68fb423da2a49dee31983e865fb22a24248",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3fe0b68fb423da2a49dee31983e865fb22a24248",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3fe0b68fb423da2a49dee31983e865fb22a24248/comments",
    "author": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6ffd6b4a573e00644b8985c825357a7aa7b8ce88",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6ffd6b4a573e00644b8985c825357a7aa7b8ce88",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6ffd6b4a573e00644b8985c825357a7aa7b8ce88"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "ee47d138f3798b9a0427dc1fd12db77f2c49bf46",
        "filename": "contrib/gitian-build.sh",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3fe0b68fb423da2a49dee31983e865fb22a24248/contrib/gitian-build.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3fe0b68fb423da2a49dee31983e865fb22a24248/contrib/gitian-build.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-build.sh?ref=3fe0b68fb423da2a49dee31983e865fb22a24248",
        "patch": "@@ -14,8 +14,8 @@ SIGNER=\n VERSION=\n commit=false\n url=https://github.com/bitcoin/bitcoin\n-proc=4\n-mem=4000\n+proc=2\n+mem=2000\n lxc=true\n osslTarUrl=http://downloads.sourceforge.net/project/osslsigncode/osslsigncode/osslsigncode-1.7.1.tar.gz\n osslPatchUrl=https://bitcoincore.org/cfields/osslsigncode-Backports-to-1.7.1.patch\n@@ -41,7 +41,7 @@ Options:\n -s|--sign\tMake signed binaries for Windows and Mac OSX\n -B|--buildsign\tBuild both signed and unsigned binaries\n -o|--os\t\tSpecify which Operating Systems the build is for. Default is lwx. l for linux, w for windows, x for osx\n--j\t\tNumber of processes to use. Default 4\n+-j\t\tNumber of processes to use. Default 2\n -m\t\tMemory to allocate in MiB. Default 2000\n --kvm           Use KVM instead of LXC\n --setup         Setup the gitian building environment. Uses KVM. If you want to use lxc, use the --lxc option. Only works on Debian-based systems (Ubuntu, Debian)"
      }
    ]
  }
]