[
  {
    "sha": "1c5d22585384c8bb05a27a04eab5c57b31d623fb",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxYzVkMjI1ODUzODRjOGJiMDVhMjdhMDRlYWI1YzU3YjMxZDYyM2Zi",
    "commit": {
      "author": {
        "name": "Chun Kuan Lee",
        "email": "ken2812221@gmail.com",
        "date": "2018-07-21T21:58:29Z"
      },
      "committer": {
        "name": "Chun Kuan Lee",
        "email": "ken2812221@gmail.com",
        "date": "2018-08-03T17:11:42Z"
      },
      "message": "Drop boost::scoped_array",
      "tree": {
        "sha": "8b3de17ec422774df895d4fedcd398975650dcc3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8b3de17ec422774df895d4fedcd398975650dcc3"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1c5d22585384c8bb05a27a04eab5c57b31d623fb",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1c5d22585384c8bb05a27a04eab5c57b31d623fb",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/1c5d22585384c8bb05a27a04eab5c57b31d623fb",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1c5d22585384c8bb05a27a04eab5c57b31d623fb/comments",
    "author": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ef4fac0ea5b4891f4529e4b59dfd1f7aeb3009b5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ef4fac0ea5b4891f4529e4b59dfd1f7aeb3009b5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ef4fac0ea5b4891f4529e4b59dfd1f7aeb3009b5"
      }
    ],
    "stats": {
      "total": 32,
      "additions": 7,
      "deletions": 25
    },
    "files": [
      {
        "sha": "f49d5df389b129ed06995147d2fabc59c4291182",
        "filename": "src/qt/guiutil.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 24,
        "changes": 31,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1c5d22585384c8bb05a27a04eab5c57b31d623fb/src/qt/guiutil.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1c5d22585384c8bb05a27a04eab5c57b31d623fb/src/qt/guiutil.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiutil.cpp?ref=1c5d22585384c8bb05a27a04eab5c57b31d623fb",
        "patch": "@@ -38,8 +38,6 @@\n #include <shlwapi.h>\n #endif\n \n-#include <boost/scoped_array.hpp>\n-\n #include <QAbstractItemView>\n #include <QApplication>\n #include <QClipboard>\n@@ -547,52 +545,37 @@ bool SetStartOnSystemStartup(bool fAutoStart)\n         CoInitialize(nullptr);\n \n         // Get a pointer to the IShellLink interface.\n-        IShellLink* psl = nullptr;\n+        IShellLinkW* psl = nullptr;\n         HRESULT hres = CoCreateInstance(CLSID_ShellLink, nullptr,\n-            CLSCTX_INPROC_SERVER, IID_IShellLink,\n+            CLSCTX_INPROC_SERVER, IID_IShellLinkW,\n             reinterpret_cast<void**>(&psl));\n \n         if (SUCCEEDED(hres))\n         {\n             // Get the current executable path\n-            TCHAR pszExePath[MAX_PATH];\n-            GetModuleFileName(nullptr, pszExePath, sizeof(pszExePath));\n+            WCHAR pszExePath[MAX_PATH];\n+            GetModuleFileNameW(nullptr, pszExePath, ARRAYSIZE(pszExePath));\n \n             // Start client minimized\n             QString strArgs = \"-min\";\n             // Set -testnet /-regtest options\n             strArgs += QString::fromStdString(strprintf(\" -testnet=%d -regtest=%d\", gArgs.GetBoolArg(\"-testnet\", false), gArgs.GetBoolArg(\"-regtest\", false)));\n \n-#ifdef UNICODE\n-            boost::scoped_array<TCHAR> args(new TCHAR[strArgs.length() + 1]);\n-            // Convert the QString to TCHAR*\n-            strArgs.toWCharArray(args.get());\n-            // Add missing '\\0'-termination to string\n-            args[strArgs.length()] = '\\0';\n-#endif\n-\n             // Set the path to the shortcut target\n             psl->SetPath(pszExePath);\n-            PathRemoveFileSpec(pszExePath);\n+            PathRemoveFileSpecW(pszExePath);\n             psl->SetWorkingDirectory(pszExePath);\n             psl->SetShowCmd(SW_SHOWMINNOACTIVE);\n-#ifndef UNICODE\n-            psl->SetArguments(strArgs.toStdString().c_str());\n-#else\n-            psl->SetArguments(args.get());\n-#endif\n+            psl->SetArguments(strArgs.toStdWString().c_str());\n \n             // Query IShellLink for the IPersistFile interface for\n             // saving the shortcut in persistent storage.\n             IPersistFile* ppf = nullptr;\n             hres = psl->QueryInterface(IID_IPersistFile, reinterpret_cast<void**>(&ppf));\n             if (SUCCEEDED(hres))\n             {\n-                WCHAR pwsz[MAX_PATH];\n-                // Ensure that the string is ANSI.\n-                MultiByteToWideChar(CP_ACP, 0, StartupShortcutPath().string().c_str(), -1, pwsz, MAX_PATH);\n                 // Save the link by calling IPersistFile::Save.\n-                hres = ppf->Save(pwsz, TRUE);\n+                hres = ppf->Save(StartupShortcutPath().wstring().c_str(), TRUE);\n                 ppf->Release();\n                 psl->Release();\n                 CoUninitialize();"
      },
      {
        "sha": "2e8569a509b440c6e257ec5341d05ab865f7a9e6",
        "filename": "test/lint/lint-includes.sh",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1c5d22585384c8bb05a27a04eab5c57b31d623fb/test/lint/lint-includes.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1c5d22585384c8bb05a27a04eab5c57b31d623fb/test/lint/lint-includes.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/lint/lint-includes.sh?ref=1c5d22585384c8bb05a27a04eab5c57b31d623fb",
        "patch": "@@ -65,7 +65,6 @@ EXPECTED_BOOST_INCLUDES=(\n     boost/optional.hpp\n     boost/preprocessor/cat.hpp\n     boost/preprocessor/stringize.hpp\n-    boost/scoped_array.hpp\n     boost/signals2/connection.hpp\n     boost/signals2/last_value.hpp\n     boost/signals2/signal.hpp"
      }
    ]
  },
  {
    "sha": "bb6ca65f9890e8280ace32de5a37774e14705859",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYjZjYTY1Zjk4OTBlODI4MGFjZTMyZGU1YTM3Nzc0ZTE0NzA1ODU5",
    "commit": {
      "author": {
        "name": "Chun Kuan Lee",
        "email": "ken2812221@gmail.com",
        "date": "2018-07-31T15:03:52Z"
      },
      "committer": {
        "name": "Chun Kuan Lee",
        "email": "ken2812221@gmail.com",
        "date": "2018-08-03T18:47:58Z"
      },
      "message": "gui: get special folder in unicode",
      "tree": {
        "sha": "3e4de89a24a140af691ce04c414e6e14fe49fc61",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3e4de89a24a140af691ce04c414e6e14fe49fc61"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bb6ca65f9890e8280ace32de5a37774e14705859",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bb6ca65f9890e8280ace32de5a37774e14705859",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/bb6ca65f9890e8280ace32de5a37774e14705859",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bb6ca65f9890e8280ace32de5a37774e14705859/comments",
    "author": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ken2812221",
      "id": 11154118,
      "node_id": "MDQ6VXNlcjExMTU0MTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11154118?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ken2812221",
      "html_url": "https://github.com/ken2812221",
      "followers_url": "https://api.github.com/users/ken2812221/followers",
      "following_url": "https://api.github.com/users/ken2812221/following{/other_user}",
      "gists_url": "https://api.github.com/users/ken2812221/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ken2812221/subscriptions",
      "organizations_url": "https://api.github.com/users/ken2812221/orgs",
      "repos_url": "https://api.github.com/users/ken2812221/repos",
      "events_url": "https://api.github.com/users/ken2812221/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ken2812221/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1c5d22585384c8bb05a27a04eab5c57b31d623fb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1c5d22585384c8bb05a27a04eab5c57b31d623fb",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1c5d22585384c8bb05a27a04eab5c57b31d623fb"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "c2c93d966a35837a1f1af118fabe6206a009d394",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bb6ca65f9890e8280ace32de5a37774e14705859/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bb6ca65f9890e8280ace32de5a37774e14705859/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=bb6ca65f9890e8280ace32de5a37774e14705859",
        "patch": "@@ -1118,14 +1118,14 @@ void AllocateFileRange(FILE *file, unsigned int offset, unsigned int length) {\n #ifdef WIN32\n fs::path GetSpecialFolderPath(int nFolder, bool fCreate)\n {\n-    char pszPath[MAX_PATH] = \"\";\n+    WCHAR pszPath[MAX_PATH] = L\"\";\n \n-    if(SHGetSpecialFolderPathA(nullptr, pszPath, nFolder, fCreate))\n+    if(SHGetSpecialFolderPathW(nullptr, pszPath, nFolder, fCreate))\n     {\n         return fs::path(pszPath);\n     }\n \n-    LogPrintf(\"SHGetSpecialFolderPathA() failed, could not obtain requested path.\\n\");\n+    LogPrintf(\"SHGetSpecialFolderPathW() failed, could not obtain requested path.\\n\");\n     return fs::path(\"\");\n }\n #endif"
      }
    ]
  }
]