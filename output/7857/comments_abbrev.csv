promag,2016-04-11T07:31:40Z,Will add tests when this is considered acceptable.\n,https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-208202018,208202018,
jonasschnelli,2016-04-11T08:45:19Z,Concept ACK.\nThe RBF feebump command requires a similar change.\n,https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-208234137,208234137,
sdaftuar,2016-04-11T13:53:18Z,"Wouldn't feerate make more sense to specify, since presumably you don't know how big the transaction will be?\n",https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-208353849,208353849,
sipa,2016-04-11T14:17:11Z,"I agree that feerate makes more sense. When you're calling\nfundrawtransaction, you don't know what the final inputs (and sometimes\noutputs) will be, or you wouldn't be calling it.\n",https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-208368555,208368555,
promag,2016-04-11T14:48:05Z,"Suppose the use case where the fee was estimated, rounded, displayed and accepted by the user. I just want to honour that value. If it is not enough then if fails, but if it succeeds then its added to the block reward.\n\nI'm aware of transaction size and all, but at the end I just need to **fund** the requested fee.\n",https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-208381960,208381960,
jonasschnelli,2016-04-11T14:49:08Z,@promag: how about using CoinControls `nMinimumTotalFee` for that purpose?\n,https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-208382462,208382462,
promag,2016-04-11T15:04:32Z,"As I said, I have to honour that value and still use the unspent selection algorithm. There is no `nMaximumTotalFee` otherwise I would be happy.\n",https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-208389750,208389750,
promag,2016-04-11T15:12:10Z,Unless you (all) agree on adding `nMaximumTotalFee` and fail if it's not enough.\n,https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-208394603,208394603,
promag,2016-04-15T15:24:34Z,"Since #7518 was merged, can I get some closure here?\n",https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-210504236,210504236,
laanwj,2016-04-15T15:45:46Z,"We try to avoid absolute fees on the API, because they make it easy to accidentally post a transaction with too little (or too much) fee. Especially for a call like `fundrawtransaction`, where, as said by @sdaftuar and @sipa, the final size of the transaction is not yet known. A fee rate would be better IMO.\n",https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-210513757,210513757,
promag,2016-04-15T15:49:25Z,@laanwj even `nMaximumTotalFee`?\n,https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-210516068,210516068,
laanwj,2016-04-15T16:20:50Z,"> If it is not enough then if fails, but if it succeeds then its added to the block reward.*\* If it is not enough then if fails, but if it succeeds then its added to the block reward.**\n\nBut when would it fail? You mean when it would be rejected by local mempool policy (note that this can vary quite much over time)?\n",https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-210528132,210528132,
promag,2016-04-15T23:40:32Z,@laanwj nMaximumTotalFee would be added to `CCoinControl` and only used in `CWallet::CreateTransaction`. This is useful for services depending on bitcoind wishing to create transactions and have control of the final fee.\n\n**Edit**:\nThis is not related to the mempool policy as it remains the same and it is a different subject.\n,https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-210685731,210685731,
laanwj,2016-04-19T13:43:45Z,"I  still don't see the point. Why would you specify a maximum fee instead of a fee-rate? Before calling fundrawtransaction you **don't know** how large the transaction is going to be, and miners  judge fee-rate (fee/KB), not total fee, so it's easy to get a transaction stuck this way.\n",https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-211928343,211928343,
MarcoFalke,2016-04-19T13:52:20Z,"Agree with @laanwj. Even though we have a `-maxtxfee` as some upper bound which ideally should never trigger, adding something like this as an option to fundraw does not make sense. You can look at the transaction later to find out the total fee and discard it/do other things if you don't like the fee amount.\n",https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-211930955,211930955,
laanwj,2016-04-19T13:57:14Z,"> You can look at the transaction later to find out the total fee and discard it/do other things if you don't like the fee amount\n\nRight, that's one of the things you get for free with using a multi-step process instead of a single `sendtoaddress`.\n",https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-211932399,211932399,
promag,2016-04-22T08:51:14Z,"Imagine there are lots of small unspents that if used causes the total fee to increase. If lockUnspent option is true and fee exceeds the max fee then no locking would occur.\n\nRegardless of maxFee, I believe exposing the minFee (of `CCoinControl`) and allowing to override `nTxConfirmTarget` is acceptable?\n",https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-213334821,213334821,
paveljanik,2016-04-22T10:47:18Z,Needs rebase.\n,https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-213375769,213375769,
sipa,2016-06-02T14:35:24Z,Concept ACK for a maxfee. I don't think fundrawtransaction should have an exact fee option though.\n\nAlso needs a rebase after #7518.\n,https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-223311108,223311108,
promag,2016-06-06T20:51:10Z,I'm going forward with maxfee.\n,https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-224084234,224084234,
sipa,2016-08-25T12:03:25Z,@promag Still working on this?\n,https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-242362114,242362114,
laanwj,2016-09-26T12:43:52Z,"Closing this due to inactivity, no reply from author in a month. Feel free to ping me if you're starting work on this again then I'll reopen.\n",https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-249558964,249558964,
jonasschnelli,2016-09-26T12:46:18Z,Related: https://github.com/bitcoin/bitcoin/pull/7967 ([merged] [RPC] add feerate option to fundrawtransaction)\n,https://github.com/bitcoin/bitcoin/pull/7857#issuecomment-249559455,249559455,
