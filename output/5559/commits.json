[
  {
    "sha": "e179eb3d9bfec7e67908242c71c87b716a41c97c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplMTc5ZWIzZDliZmVjN2U2NzkwODI0MmM3MWM4N2I3MTZhNDFjOTdj",
    "commit": {
      "author": {
        "name": "Thomas Zander",
        "email": "thomas@thomaszander.se",
        "date": "2014-12-28T23:25:18Z"
      },
      "committer": {
        "name": "Thomas Zander",
        "email": "thomas@thomaszander.se",
        "date": "2015-01-05T20:17:45Z"
      },
      "message": "Make the command-line-args dialog better\n\nInstead of using a fixed-width font in a label, which virtually\nguarentees a horizontal scrollbar, use a proper text-document\nthat can re-layout based on user input.",
      "tree": {
        "sha": "d6ddc1348c12f009559ab104fddfad134b05c62e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d6ddc1348c12f009559ab104fddfad134b05c62e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e179eb3d9bfec7e67908242c71c87b716a41c97c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e179eb3d9bfec7e67908242c71c87b716a41c97c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e179eb3d9bfec7e67908242c71c87b716a41c97c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e179eb3d9bfec7e67908242c71c87b716a41c97c/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "e5153095ea410dd07770c0327447856488bfd137",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e5153095ea410dd07770c0327447856488bfd137",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e5153095ea410dd07770c0327447856488bfd137"
      }
    ],
    "stats": {
      "total": 108,
      "additions": 87,
      "deletions": 21
    },
    "files": [
      {
        "sha": "9ace9afd7933b3367753f45f7bac32e17a6ffa88",
        "filename": "src/qt/forms/helpmessagedialog.ui",
        "status": "modified",
        "additions": 15,
        "deletions": 5,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e179eb3d9bfec7e67908242c71c87b716a41c97c/src/qt/forms/helpmessagedialog.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e179eb3d9bfec7e67908242c71c87b716a41c97c/src/qt/forms/helpmessagedialog.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/helpmessagedialog.ui?ref=e179eb3d9bfec7e67908242c71c87b716a41c97c",
        "patch": "@@ -6,8 +6,8 @@\n    <rect>\n     <x>0</x>\n     <y>0</y>\n-    <width>800</width>\n-    <height>400</height>\n+    <width>585</width>\n+    <height>225</height>\n    </rect>\n   </property>\n   <property name=\"font\">\n@@ -34,6 +34,13 @@\n    </item>\n    <item>\n     <layout class=\"QVBoxLayout\" name=\"verticalLayout\">\n+     <item>\n+      <widget class=\"QTextEdit\" name=\"helpMessage\">\n+       <property name=\"readOnly\">\n+        <bool>true</bool>\n+       </property>\n+      </widget>\n+     </item>\n      <item>\n       <widget class=\"QScrollArea\" name=\"scrollArea\">\n        <property name=\"verticalScrollBarPolicy\">\n@@ -47,19 +54,22 @@\n          <rect>\n           <x>0</x>\n           <y>0</y>\n-          <width>659</width>\n-          <height>348</height>\n+          <width>447</width>\n+          <height>68</height>\n          </rect>\n         </property>\n         <layout class=\"QVBoxLayout\" name=\"verticalLayout_2\">\n          <item>\n-          <widget class=\"QLabel\" name=\"helpMessageLabel\">\n+          <widget class=\"QLabel\" name=\"aboutMessage\">\n            <property name=\"cursor\">\n             <cursorShape>IBeamCursor</cursorShape>\n            </property>\n            <property name=\"textFormat\">\n             <enum>Qt::PlainText</enum>\n            </property>\n+           <property name=\"alignment\">\n+            <set>Qt::AlignLeading|Qt::AlignLeft|Qt::AlignTop</set>\n+           </property>\n            <property name=\"openExternalLinks\">\n             <bool>true</bool>\n            </property>"
      },
      {
        "sha": "9ee408179d0fd11f212d34b150aadf731d609810",
        "filename": "src/qt/utilitydialog.cpp",
        "status": "modified",
        "additions": 72,
        "deletions": 16,
        "changes": 88,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e179eb3d9bfec7e67908242c71c87b716a41c97c/src/qt/utilitydialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e179eb3d9bfec7e67908242c71c87b716a41c97c/src/qt/utilitydialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/utilitydialog.cpp?ref=e179eb3d9bfec7e67908242c71c87b716a41c97c",
        "patch": "@@ -18,6 +18,8 @@\n #include <QCloseEvent>\n #include <QLabel>\n #include <QRegExp>\n+#include <QTextTable>\n+#include <QTextCursor>\n #include <QVBoxLayout>\n \n /** \"Help message\" or \"About\" dialog box */\n@@ -52,28 +54,82 @@ HelpMessageDialog::HelpMessageDialog(QWidget *parent, bool about) :\n         // Replace newlines with HTML breaks\n         licenseInfoHTML.replace(\"\\n\\n\", \"<br><br>\");\n \n-        ui->helpMessageLabel->setTextFormat(Qt::RichText);\n+        ui->aboutMessage->setTextFormat(Qt::RichText);\n         ui->scrollArea->setVerticalScrollBarPolicy(Qt::ScrollBarAsNeeded);\n         text = version + \"\\n\" + licenseInfo;\n-        ui->helpMessageLabel->setText(version + \"<br><br>\" + licenseInfoHTML);\n-        ui->helpMessageLabel->setWordWrap(true);\n+        ui->aboutMessage->setText(version + \"<br><br>\" + licenseInfoHTML);\n+        ui->aboutMessage->setWordWrap(true);\n+        ui->helpMessage->setVisible(false);\n     } else {\n         setWindowTitle(tr(\"Command-line options\"));\n-        QString header = tr(\"Usage:\") + \"\\n\" +\n-            \"  bitcoin-qt [\" + tr(\"command-line options\") + \"]                     \" + \"\\n\";\n+        QTextCursor cursor(ui->helpMessage->document());\n+        cursor.insertText(version);\n+        cursor.insertBlock();\n+        cursor.insertText(tr(\"Usage:\") + '\\n' +\n+            \"  bitcoin-qt [\" + tr(\"command-line options\") + \"]\\n\");\n+\n+        cursor.insertBlock();\n+        QTextTableFormat tf;\n+        tf.setBorderStyle(QTextFrameFormat::BorderStyle_None);\n+        tf.setCellPadding(2);\n+        QVector<QTextLength> widths;\n+        widths << QTextLength(QTextLength::PercentageLength, 20);\n+        widths << QTextLength(QTextLength::PercentageLength, 80);\n+        tf.setColumnWidthConstraints(widths);\n+        QTextTable *table = cursor.insertTable(2, 2, tf);\n \n         QString coreOptions = QString::fromStdString(HelpMessage(HMM_BITCOIN_QT));\n-\n-        QString uiOptions = tr(\"UI options\") + \":\\n\" +\n-            \"  -choosedatadir            \" + tr(\"Choose data directory on startup (default: 0)\") + \"\\n\" +\n-            \"  -lang=<lang>              \" + tr(\"Set language, for example \\\"de_DE\\\" (default: system locale)\") + \"\\n\" +\n-            \"  -min                      \" + tr(\"Start minimized\") + \"\\n\" +\n-            \"  -rootcertificates=<file>  \" + tr(\"Set SSL root certificates for payment request (default: -system-)\") + \"\\n\" +\n-            \"  -splash                   \" + tr(\"Show splash screen on startup (default: 1)\");\n-\n-        ui->helpMessageLabel->setFont(GUIUtil::bitcoinAddressFont());\n-        text = version + \"\\n\" + header + \"\\n\" + coreOptions + \"\\n\" + uiOptions;\n-        ui->helpMessageLabel->setText(text);\n+        bool first = true;\n+        QTextCharFormat bold;\n+        bold.setFontWeight(QFont::Bold);\n+        // note that coreOptions is not translated.\n+        foreach (const QString &line, coreOptions.split('\\n')) {\n+            if (!first) {\n+                table->appendRows(1);\n+                cursor.movePosition(QTextCursor::NextRow);\n+            }\n+            first = false;\n+\n+            if (line.startsWith(\"  \")) {\n+                int index = line.indexOf(' ', 3);\n+                if (index > 0) {\n+                    cursor.insertText(line.left(index).trimmed());\n+                    cursor.movePosition(QTextCursor::NextCell);\n+                    cursor.insertText(line.mid(index).trimmed());\n+                    continue;\n+                }\n+            }\n+            cursor.movePosition(QTextCursor::NextCell, QTextCursor::KeepAnchor);\n+            table->mergeCells(cursor);\n+            cursor.insertText(line.trimmed(), bold);\n+        }\n+\n+        table->appendRows(6);\n+        cursor.movePosition(QTextCursor::NextRow);\n+        cursor.insertText(tr(\"UI options\") + \":\", bold);\n+        cursor.movePosition(QTextCursor::NextRow);\n+        cursor.insertText(\"-choosedatadir\");\n+        cursor.movePosition(QTextCursor::NextCell);\n+        cursor.insertText(tr(\"Choose data directory on startup (default: 0)\"));\n+        cursor.movePosition(QTextCursor::NextCell);\n+        cursor.insertText(\"-lang=<lang>\");\n+        cursor.movePosition(QTextCursor::NextCell);\n+        cursor.insertText(tr(\"Set language, for example \\\"de_DE\\\" (default: system locale)\"));\n+        cursor.movePosition(QTextCursor::NextCell);\n+        cursor.insertText(\"-min\");\n+        cursor.movePosition(QTextCursor::NextCell);\n+        cursor.insertText(tr(\"Start minimized\"));\n+        cursor.movePosition(QTextCursor::NextCell);\n+        cursor.insertText(\"-rootcertificates=<file>\");\n+        cursor.movePosition(QTextCursor::NextCell);\n+        cursor.insertText(tr(\"Set SSL root certificates for payment request (default: -system-)\"));\n+        cursor.movePosition(QTextCursor::NextCell);\n+        cursor.insertText(\"-splash\");\n+        cursor.movePosition(QTextCursor::NextCell);\n+        cursor.insertText(tr(\"Show splash screen on startup (default: 1)\"));\n+\n+        ui->helpMessage->moveCursor(QTextCursor::Start);\n+        ui->scrollArea->setVisible(false);\n     }\n }\n "
      }
    ]
  }
]