[
  {
    "sha": "e7d9fc5c5316a63917e076ca58a0b552ea0d56ae",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplN2Q5ZmM1YzUzMTZhNjM5MTdlMDc2Y2E1OGEwYjU1MmVhMGQ1NmFl",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2018-03-01T09:40:36Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2018-03-01T09:40:36Z"
      },
      "message": "[qt] navigate to  transaction history page after send\n\nThe transaction will be selected. When sending to multiple\ndestinations, all will be selected (thanks @promag).",
      "tree": {
        "sha": "ba6d8fe20433a696f1c8781a99d3e25e2e173d3c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ba6d8fe20433a696f1c8781a99d3e25e2e173d3c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAlqXypYACgkQV/+b28ww\nEAkzVg//TWM7N67OlVp5G+BD75wU7JZp63etveMC87uJ5dTkl0rslUQHaLAFUeY4\nxkEu6isBgOpEPRcsJETvEw26cUXZEaCFufLsZ7sYaPV9CeMfwFGcIwKIn8UZHKgw\niCK5elOp7X1akllCodDL9Elb4fJRjfunctu/kQTEEFhq54BYEjSdRYdJ7IEGkmPS\nENLxvj+s46nnkvotNLeoN5/JWToPLJbGrhr1h+qhU+/9hpgOlpwde8BSdCa4UEYW\nH1c0F6K4MDPUMuoKVKgVTDwDcTEBri2NLzSQQnQEwQxrhSzkunymNvyteLA9Hm0U\n/chQnZZkBqtkXgrJs7NyH3jqqALVbcWBPV261Z4ARwja2uLpBPWOlcv4O/HiJWmG\njZ4nTAU061IBZ2J9plaMmwz2+Tx0EOgjYK9r+J3t//kS02zvqBNkwadopjJdFzm+\nsLt0UJz3k7mOTRYAe9wziLiASykC+psamqckEIHGSnwD1K0Taj3eTWFKtvKv4pqF\ns7aNwVpYxKLYxsI2JFs45ncYemA3er4vVwhBmO35o2NNIJT09zi+9uljKo86ldqk\nwtG1ReWKt23Xo5bE/EueLdWcx0RBeOG79tA6dlOwoNhIplfWCxfBJteok1gtKlmF\njlMRUEaXoyATDbCNPtlx75bVY4VMn/K1haAkh0915bITlKdXTok=\n=iPHP\n-----END PGP SIGNATURE-----",
        "payload": "tree ba6d8fe20433a696f1c8781a99d3e25e2e173d3c\nparent c997f8808256521397f1c003bb1e9896fee6eaa0\nauthor Sjors Provoost <sjors@sprovoost.nl> 1519897236 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1519897236 +0100\n\n[qt] navigate to  transaction history page after send\n\nThe transaction will be selected. When sending to multiple\ndestinations, all will be selected (thanks @promag).\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c997f8808256521397f1c003bb1e9896fee6eaa0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c997f8808256521397f1c003bb1e9896fee6eaa0",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c997f8808256521397f1c003bb1e9896fee6eaa0"
      }
    ],
    "stats": {
      "total": 45,
      "additions": 42,
      "deletions": 3
    },
    "files": [
      {
        "sha": "ab381bfb5d49fbf0850767298a5fa820c1e5f8e1",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=e7d9fc5c5316a63917e076ca58a0b552ea0d56ae",
        "patch": "@@ -29,6 +29,7 @@\n #include <init.h>\n #include <rpc/server.h>\n #include <ui_interface.h>\n+#include <uint256.h>\n #include <util.h>\n #include <warnings.h>\n \n@@ -80,6 +81,7 @@ Q_IMPORT_PLUGIN(QCocoaIntegrationPlugin);\n // Declare meta types used for QMetaObject::invokeMethod\n Q_DECLARE_METATYPE(bool*)\n Q_DECLARE_METATYPE(CAmount)\n+Q_DECLARE_METATYPE(uint256)\n \n static void InitMessage(const std::string &message)\n {"
      },
      {
        "sha": "ef36aab1a4307a2619a74f53b1b9f1b8506ecdb7",
        "filename": "src/qt/sendcoinsdialog.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae/src/qt/sendcoinsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae/src/qt/sendcoinsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsdialog.cpp?ref=e7d9fc5c5316a63917e076ca58a0b552ea0d56ae",
        "patch": "@@ -369,6 +369,7 @@ void SendCoinsDialog::on_sendButton_clicked()\n         accept();\n         CoinControlDialog::coinControl()->UnSelectAll();\n         coinControlUpdateLabels();\n+        Q_EMIT coinsSent(currentTransaction.getTransaction()->GetHash());\n     }\n     fNewRecipientAllowed = true;\n }"
      },
      {
        "sha": "48885bbcad77f1418a759241ce90e8d1d3d40dfe",
        "filename": "src/qt/sendcoinsdialog.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae/src/qt/sendcoinsdialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae/src/qt/sendcoinsdialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsdialog.h?ref=e7d9fc5c5316a63917e076ca58a0b552ea0d56ae",
        "patch": "@@ -54,6 +54,9 @@ public Q_SLOTS:\n     void setBalance(const CAmount& balance, const CAmount& unconfirmedBalance, const CAmount& immatureBalance,\n                     const CAmount& watchOnlyBalance, const CAmount& watchUnconfBalance, const CAmount& watchImmatureBalance);\n \n+Q_SIGNALS:\n+    void coinsSent(const uint256& txid);\n+\n private:\n     Ui::SendCoinsDialog *ui;\n     ClientModel *clientModel;"
      },
      {
        "sha": "006f9fe4437490fdfe90ff8c92bfcf28d20cb843",
        "filename": "src/qt/transactionview.cpp",
        "status": "modified",
        "additions": 27,
        "deletions": 2,
        "changes": 29,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae/src/qt/transactionview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae/src/qt/transactionview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactionview.cpp?ref=e7d9fc5c5316a63917e076ca58a0b552ea0d56ae",
        "patch": "@@ -263,8 +263,7 @@ void TransactionView::setModel(WalletModel *_model)\n \n void TransactionView::chooseDate(int idx)\n {\n-    if(!transactionProxyModel)\n-        return;\n+    if (!transactionProxyModel) return;\n     QDate current = QDate::currentDate();\n     dateRangeWidget->setVisible(false);\n     switch(dateWidget->itemData(idx).toInt())\n@@ -592,6 +591,32 @@ void TransactionView::focusTransaction(const QModelIndex &idx)\n     transactionView->setFocus();\n }\n \n+void TransactionView::focusTransaction(const uint256& txid)\n+{\n+    if (!transactionProxyModel)\n+        return;\n+\n+    const QModelIndexList results = this->model->getTransactionTableModel()->match(\n+        this->model->getTransactionTableModel()->index(0,0),\n+        TransactionTableModel::TxHashRole,\n+        QString::fromStdString(txid.ToString()), -1);\n+\n+    transactionView->setFocus();\n+    transactionView->selectionModel()->clearSelection();\n+    for (const QModelIndex& index : results) {\n+        const QModelIndex targetIndex = transactionProxyModel->mapFromSource(index);\n+        transactionView->selectionModel()->select(\n+            targetIndex,\n+            QItemSelectionModel::Rows | QItemSelectionModel::Select);\n+        // Called once per destination to ensure all results are in view, unless\n+        // transactions are not ordered by (ascending or descending) date.\n+        transactionView->scrollTo(targetIndex);\n+        // scrollTo() does not scroll far enough the first time when transactions\n+        // are ordered by ascending date.\n+        if (index == results[0]) transactionView->scrollTo(targetIndex);\n+    }\n+}\n+\n // We override the virtual resizeEvent of the QWidget to adjust tables column\n // sizes as the tables width is proportional to the dialogs width.\n void TransactionView::resizeEvent(QResizeEvent* event)"
      },
      {
        "sha": "66dc5bc86bf1f961ca8de02ec29378597b53ff27",
        "filename": "src/qt/transactionview.h",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae/src/qt/transactionview.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae/src/qt/transactionview.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactionview.h?ref=e7d9fc5c5316a63917e076ca58a0b552ea0d56ae",
        "patch": "@@ -7,6 +7,8 @@\n \n #include <qt/guiutil.h>\n \n+#include <uint256.h>\n+\n #include <QWidget>\n #include <QKeyEvent>\n \n@@ -116,7 +118,7 @@ public Q_SLOTS:\n     void changedSearch();\n     void exportClicked();\n     void focusTransaction(const QModelIndex&);\n-\n+    void focusTransaction(const uint256& txid);\n };\n \n #endif // BITCOIN_QT_TRANSACTIONVIEW_H"
      },
      {
        "sha": "64497a3431d1a60c184024466aba81da317da183",
        "filename": "src/qt/walletview.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae/src/qt/walletview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e7d9fc5c5316a63917e076ca58a0b552ea0d56ae/src/qt/walletview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.cpp?ref=e7d9fc5c5316a63917e076ca58a0b552ea0d56ae",
        "patch": "@@ -68,6 +68,9 @@ WalletView::WalletView(const PlatformStyle *_platformStyle, QWidget *parent):\n     connect(overviewPage, SIGNAL(transactionClicked(QModelIndex)), transactionView, SLOT(focusTransaction(QModelIndex)));\n     connect(overviewPage, SIGNAL(outOfSyncWarningClicked()), this, SLOT(requestedSyncWarningInfo()));\n \n+    // Highlight transaction after send\n+    connect(sendCoinsPage, SIGNAL(coinsSent(uint256)), transactionView, SLOT(focusTransaction(uint256)));\n+\n     // Double-clicking on a transaction on the transaction history page shows details\n     connect(transactionView, SIGNAL(doubleClicked(QModelIndex)), transactionView, SLOT(showDetails()));\n \n@@ -91,6 +94,9 @@ void WalletView::setBitcoinGUI(BitcoinGUI *gui)\n         // Clicking on a transaction on the overview page simply sends you to transaction history page\n         connect(overviewPage, SIGNAL(transactionClicked(QModelIndex)), gui, SLOT(gotoHistoryPage()));\n \n+        // Navigate to transaction history page after send\n+        connect(sendCoinsPage, SIGNAL(coinsSent(uint256)), gui, SLOT(gotoHistoryPage()));\n+\n         // Receive and report messages\n         connect(this, SIGNAL(message(QString,QString,unsigned int)), gui, SLOT(message(QString,QString,unsigned int)));\n "
      }
    ]
  }
]