[
  {
    "sha": "fa82f4ea96749115311cffa0919d49d383c4d28b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTgyZjRlYTk2NzQ5MTE1MzExY2ZmYTA5MTlkNDlkMzgzYzRkMjhi",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-08-24T17:19:58Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-08-24T17:19:19Z"
      },
      "message": "Remove unused MaybeSetAddrName\n\nThis logic is a no-op since it was introduced in commit\nf9f5cfc50637f2cd1540923caf337e2651ec1625.\n\nm_addr_name is never initialized to the empty string, because\nToStringIPPort never returns an empty string.",
      "tree": {
        "sha": "05480cf49b6f2f1dde92262a0bc321806673c5bd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/05480cf49b6f2f1dde92262a0bc321806673c5bd"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa82f4ea96749115311cffa0919d49d383c4d28b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUj8zgwAiOBCiNdkkRXhFfvkJQ1tmGoAdAth3pT0Rdg7TAfxIIP84iCBptoGeb4I\nHlYuHClSt9ZO1I1FKWHg3zC9/WWaayNRMUbdfQi5hZ097SEecZhx7Ru1a1QFWgHg\ndDjuSZUr4P1fUHJmmsWtAwBGOpKz25aCd6I2vezeoIj8qasle3Ha97YVjYAnj9DX\nW7y8E+b1A4msXV8F+V27mQwkgKxNulO9KPV9xlIbeNRGJQKFDd+4zCUdbNRvya/H\n+hLqO2xz7ZgRiqb6q6A+KTa48Ss9EbYDlxQSCayWM9XRPXwU4QyrqKWqTEV+2Db0\n5aD/N4MDLAvN4EnNekc2COkX5ve/wc4BiYdH5tn7YDFOB9NejBmcMFjxMShbKg41\nRUL7yxbRO3ANRhoucFaSJ0cLfb93aFlDS+6/ANMD3z45OfHLR9a4ibrwMSOpqQs6\nvmamIjDuXiy04MaomIKP9oFRC8fbOn7Za8YBdPL3FIG1lB148hnyAMtRFXdeS3it\nwM1tY9vW\n=XZDN\n-----END PGP SIGNATURE-----",
        "payload": "tree 05480cf49b6f2f1dde92262a0bc321806673c5bd\nparent eb09c26724e3f714b613788fc506f2ff3a208d2c\nauthor MarcoFalke <falke.marco@gmail.com> 1629825598 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1629825559 +0200\n\nRemove unused MaybeSetAddrName\n\nThis logic is a no-op since it was introduced in commit\nf9f5cfc50637f2cd1540923caf337e2651ec1625.\n\nm_addr_name is never initialized to the empty string, because\nToStringIPPort never returns an empty string.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa82f4ea96749115311cffa0919d49d383c4d28b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa82f4ea96749115311cffa0919d49d383c4d28b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa82f4ea96749115311cffa0919d49d383c4d28b/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "eb09c26724e3f714b613788fc506f2ff3a208d2c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eb09c26724e3f714b613788fc506f2ff3a208d2c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/eb09c26724e3f714b613788fc506f2ff3a208d2c"
      }
    ],
    "stats": {
      "total": 23,
      "additions": 4,
      "deletions": 19
    },
    "files": [
      {
        "sha": "51d9c7f590450394c8e2e447101e7bc2f5cd4895",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 14,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa82f4ea96749115311cffa0919d49d383c4d28b/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa82f4ea96749115311cffa0919d49d383c4d28b/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=fa82f4ea96749115311cffa0919d49d383c4d28b",
        "patch": "@@ -414,14 +414,10 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n                 return nullptr;\n             }\n             // It is possible that we already have a connection to the IP/port pszDest resolved to.\n-            // In that case, drop the connection that was just created, and return the existing CNode instead.\n-            // Also store the name we used to connect in that CNode, so that future FindNode() calls to that\n-            // name catch this early.\n+            // In that case, drop the connection that was just created.\n             LOCK(cs_vNodes);\n             CNode* pnode = FindNode(static_cast<CService>(addrConnect));\n-            if (pnode)\n-            {\n-                pnode->MaybeSetAddrName(std::string(pszDest));\n+            if (pnode) {\n                 LogPrintf(\"Failed to open new connection, already connected\\n\");\n                 return nullptr;\n             }\n@@ -539,14 +535,8 @@ std::string CNode::GetAddrName() const {\n     return addrName;\n }\n \n-void CNode::MaybeSetAddrName(const std::string& addrNameIn) {\n-    LOCK(cs_addrName);\n-    if (addrName.empty()) {\n-        addrName = addrNameIn;\n-    }\n-}\n-\n-CService CNode::GetAddrLocal() const {\n+CService CNode::GetAddrLocal() const\n+{\n     LOCK(cs_addrLocal);\n     return addrLocal;\n }"
      },
      {
        "sha": "ee8c1119e75f7976ad026e61391f223e6d3d9e06",
        "filename": "src/net.h",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa82f4ea96749115311cffa0919d49d383c4d28b/src/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa82f4ea96749115311cffa0919d49d383c4d28b/src/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.h?ref=fa82f4ea96749115311cffa0919d49d383c4d28b",
        "patch": "@@ -659,8 +659,6 @@ class CNode\n     }\n \n     std::string GetAddrName() const;\n-    //! Sets the addrName only if it was not previously set\n-    void MaybeSetAddrName(const std::string& addrNameIn);\n \n     std::string ConnectionTypeAsString() const { return ::ConnectionTypeAsString(m_conn_type); }\n "
      },
      {
        "sha": "7b7bde746c4b072d9d95c9be434a5074920a73e6",
        "filename": "src/test/fuzz/net.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 3,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa82f4ea96749115311cffa0919d49d383c4d28b/src/test/fuzz/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa82f4ea96749115311cffa0919d49d383c4d28b/src/test/fuzz/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/net.cpp?ref=fa82f4ea96749115311cffa0919d49d383c4d28b",
        "patch": "@@ -37,9 +37,6 @@ FUZZ_TARGET_INIT(net, initialize_net)\n             [&] {\n                 node.CloseSocketDisconnect();\n             },\n-            [&] {\n-                node.MaybeSetAddrName(fuzzed_data_provider.ConsumeRandomLengthString(32));\n-            },\n             [&] {\n                 const std::vector<bool> asmap = ConsumeRandomLengthBitVector(fuzzed_data_provider);\n                 if (!SanityCheckASMap(asmap)) {"
      }
    ]
  },
  {
    "sha": "fa786570a5fdf6723b35883054f9f840a3440f92",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTc4NjU3MGE1ZmRmNjcyM2IzNTg4MzA1NGY5Zjg0MGEzNDQwZjky",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-08-24T17:54:13Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-08-26T08:27:52Z"
      },
      "message": "Remove unused RecursiveMutex cs_addrName",
      "tree": {
        "sha": "3797ea254a766dbf9ff8d6d9ae221c20da9eee1f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3797ea254a766dbf9ff8d6d9ae221c20da9eee1f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa786570a5fdf6723b35883054f9f840a3440f92",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUiTyAwAgKHRDMrxkkDz9//3tXX/fzsIwkYZ/87DLgVIYLoZAQF1N9QHP3hdWZP8\n3yl9nTUvSbNpV/NGNhdzCmtFh96QzI4we8a9TJEeoQq0ks58xKU4zaYUwHxT+F63\nY5iksWAcaLJD95RQUBGgcZJrFVPbfjACTX9/CdOgGiR1dpuSXc0aBNC4qQQSF29G\nOMA1diGhHQoKdeafwyzNkK6nZdlvSShKjrDbnduzsSikX9fJQ/SyvU88ci0NjOTR\nroAQ5AYhZ0oJ4z+KPFqaf/LMViXQQDG+An3me07IWVnBszZ8mAPttuVhG4e0F2uf\nbPOznaf63k4xH5lhLKyeMblBohK+BiMf4uo2qKZPdYzZmgx+hA+yoSGU7jDX1w2m\nE4b263ijut0FgLUiBIFuSi+NAvRQ22fmxvPxC5WnUEa5pna9DO/IPtLCRkR5odyP\nXzl7dk1zcT4C9XDd35YwT68diXPhuNWQqjGojLlw1xTs28NK6+Yer9ilycu/w3rj\nCVsHm54D\n=Q4Px\n-----END PGP SIGNATURE-----",
        "payload": "tree 3797ea254a766dbf9ff8d6d9ae221c20da9eee1f\nparent fa82f4ea96749115311cffa0919d49d383c4d28b\nauthor MarcoFalke <falke.marco@gmail.com> 1629827653 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1629966472 +0200\n\nRemove unused RecursiveMutex cs_addrName\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa786570a5fdf6723b35883054f9f840a3440f92",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa786570a5fdf6723b35883054f9f840a3440f92",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa786570a5fdf6723b35883054f9f840a3440f92/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa82f4ea96749115311cffa0919d49d383c4d28b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa82f4ea96749115311cffa0919d49d383c4d28b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa82f4ea96749115311cffa0919d49d383c4d28b"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 7,
      "deletions": 9
    },
    "files": [
      {
        "sha": "97b3c42d96c66bf9e2e51b17eb6f6e4bf8e46ef0",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 5,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa786570a5fdf6723b35883054f9f840a3440f92/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa786570a5fdf6723b35883054f9f840a3440f92/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=fa786570a5fdf6723b35883054f9f840a3440f92",
        "patch": "@@ -530,9 +530,9 @@ std::string ConnectionTypeAsString(ConnectionType conn_type)\n     assert(false);\n }\n \n-std::string CNode::GetAddrName() const {\n-    LOCK(cs_addrName);\n-    return addrName;\n+std::string CNode::GetAddrName() const\n+{\n+    return m_addr_name;\n }\n \n CService CNode::GetAddrLocal() const\n@@ -2956,6 +2956,7 @@ CNode::CNode(NodeId idIn, ServiceFlags nLocalServicesIn, SOCKET hSocketIn, const\n     : nTimeConnected(GetTimeSeconds()),\n       addr(addrIn),\n       addrBind(addrBindIn),\n+      m_addr_name{addrNameIn.empty() ? addr.ToStringIPPort() : addrNameIn},\n       m_inbound_onion(inbound_onion),\n       nKeyedNetGroup(nKeyedNetGroupIn),\n       id(idIn),\n@@ -2965,7 +2966,6 @@ CNode::CNode(NodeId idIn, ServiceFlags nLocalServicesIn, SOCKET hSocketIn, const\n {\n     if (inbound_onion) assert(conn_type_in == ConnectionType::INBOUND);\n     hSocket = hSocketIn;\n-    addrName = addrNameIn == \"\" ? addr.ToStringIPPort() : addrNameIn;\n     if (conn_type_in != ConnectionType::BLOCK_RELAY) {\n         m_tx_relay = std::make_unique<TxRelay>();\n     }\n@@ -2975,7 +2975,7 @@ CNode::CNode(NodeId idIn, ServiceFlags nLocalServicesIn, SOCKET hSocketIn, const\n     mapRecvBytesPerMsgCmd[NET_MESSAGE_COMMAND_OTHER] = 0;\n \n     if (fLogIPs) {\n-        LogPrint(BCLog::NET, \"Added connection to %s peer=%d\\n\", addrName, id);\n+        LogPrint(BCLog::NET, \"Added connection to %s peer=%d\\n\", m_addr_name, id);\n     } else {\n         LogPrint(BCLog::NET, \"Added connection peer=%d\\n\", id);\n     }"
      },
      {
        "sha": "0a1686da8c5c3e830b6487031fd305da21e0a73a",
        "filename": "src/net.h",
        "status": "modified",
        "additions": 2,
        "deletions": 4,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa786570a5fdf6723b35883054f9f840a3440f92/src/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa786570a5fdf6723b35883054f9f840a3440f92/src/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.h?ref=fa786570a5fdf6723b35883054f9f840a3440f92",
        "patch": "@@ -430,6 +430,7 @@ class CNode\n     const CAddress addr;\n     // Bind address of our side of the connection\n     const CAddress addrBind;\n+    const std::string m_addr_name;\n     //! Whether this peer is an inbound onion, i.e. connected via our Tor onion service.\n     const bool m_inbound_onion;\n     std::atomic<int> nVersion{0};\n@@ -691,10 +692,7 @@ class CNode\n     //! service advertisements.\n     const ServiceFlags nLocalServices;\n \n-    std::list<CNetMessage> vRecvMsg;  // Used only by SocketHandler thread\n-\n-    mutable RecursiveMutex cs_addrName;\n-    std::string addrName GUARDED_BY(cs_addrName);\n+    std::list<CNetMessage> vRecvMsg; // Used only by SocketHandler thread\n \n     // Our address, as reported by the peer\n     CService addrLocal GUARDED_BY(cs_addrLocal);"
      }
    ]
  },
  {
    "sha": "fa9eade142964d5482fe8d2109fb67a9556ae93d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTllYWRlMTQyOTY0ZDU0ODJmZThkMjEwOWZiNjdhOTU1NmFlOTNk",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-08-26T08:39:10Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-08-26T08:44:26Z"
      },
      "message": "Remove GetAddrName\n\nhttps://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines.html#c131-avoid-trivial-getters-and-setters",
      "tree": {
        "sha": "fb47b3838e0b76d50e5b3e617442bdbcca1a2e1a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fb47b3838e0b76d50e5b3e617442bdbcca1a2e1a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa9eade142964d5482fe8d2109fb67a9556ae93d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUj1ggwAwV0n9G682JccbkRJXzTmYYgQQ+D+aMbiKm9mTGohu9mm6wbVzqM5Rfeo\nlZo4Wh3MqwDs+oyUifb9YR6hiV7T2OtyTxrMVUredfT2AR7oZHRytfUMpfnI0JG2\nrjvAxCCdIIE+VwBpDVWYu25uE0qHNvAv6SBblN5usDU53O9Yp8hbXyX98Ej6gJo7\nDzZfbok60/Bu5PAtFyR87wo9yTngocO4rFPnm1z3dw0JhsYMlbiY2XtWzSp2uTfS\n/0vsIYBXNBxIXMn6+0P45iNz3a2gubcNa9YD/mCni8eBcse6WeTxS2UH5F/IXh9D\ndfYHCpfyf3RCdsK9A1D6idU8QUqFTEJ0stQSUO6tT6vmZTFGwVsCr908f8+5H49R\nA04KMlQOO6H6uEmcUk1jAUaygedAkeQlwA/hK2k0dEI/rbovlOYiyUvdnsTwqbl4\nnSi8lTGLhbwObeGqaP4mr6+E+qQs6bDaTmiKpun3zf1IC1vJZTOpXSQm5o2Ds0mt\n3niotd6G\n=zT/A\n-----END PGP SIGNATURE-----",
        "payload": "tree fb47b3838e0b76d50e5b3e617442bdbcca1a2e1a\nparent fa786570a5fdf6723b35883054f9f840a3440f92\nauthor MarcoFalke <falke.marco@gmail.com> 1629967150 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1629967466 +0200\n\nRemove GetAddrName\n\nhttps://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines.html#c131-avoid-trivial-getters-and-setters\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa9eade142964d5482fe8d2109fb67a9556ae93d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa9eade142964d5482fe8d2109fb67a9556ae93d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa9eade142964d5482fe8d2109fb67a9556ae93d/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa786570a5fdf6723b35883054f9f840a3440f92",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa786570a5fdf6723b35883054f9f840a3440f92",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa786570a5fdf6723b35883054f9f840a3440f92"
      }
    ],
    "stats": {
      "total": 30,
      "additions": 11,
      "deletions": 19
    },
    "files": [
      {
        "sha": "87fc9603fe02a79b86442982d1f489ec5419ec4e",
        "filename": "doc/tracing.md",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9eade142964d5482fe8d2109fb67a9556ae93d/doc/tracing.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9eade142964d5482fe8d2109fb67a9556ae93d/doc/tracing.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/tracing.md?ref=fa9eade142964d5482fe8d2109fb67a9556ae93d",
        "patch": "@@ -147,7 +147,7 @@ For example:\n ```C++\n TRACE6(net, inbound_message,\n     pnode->GetId(),\n-    pnode->GetAddrName().c_str(),\n+    pnode->m_addr_name.c_str(),\n     pnode->ConnectionTypeAsString().c_str(),\n     sanitizedType.c_str(),\n     msg.data.size(),"
      },
      {
        "sha": "9b1e17c587da3575e9c0285e5a897b0b66fce903",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 9,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=fa9eade142964d5482fe8d2109fb67a9556ae93d",
        "patch": "@@ -331,7 +331,7 @@ CNode* CConnman::FindNode(const std::string& addrName)\n {\n     LOCK(cs_vNodes);\n     for (CNode* pnode : vNodes) {\n-        if (pnode->GetAddrName() == addrName) {\n+        if (pnode->m_addr_name == addrName) {\n             return pnode;\n         }\n     }\n@@ -530,11 +530,6 @@ std::string ConnectionTypeAsString(ConnectionType conn_type)\n     assert(false);\n }\n \n-std::string CNode::GetAddrName() const\n-{\n-    return m_addr_name;\n-}\n-\n CService CNode::GetAddrLocal() const\n {\n     LOCK(cs_addrLocal);\n@@ -577,7 +572,7 @@ void CNode::copyStats(CNodeStats &stats, const std::vector<bool> &m_asmap)\n     X(nLastBlockTime);\n     X(nTimeConnected);\n     X(nTimeOffset);\n-    stats.addrName = GetAddrName();\n+    X(m_addr_name);\n     X(nVersion);\n     {\n         LOCK(cs_SubVer);\n@@ -2127,7 +2122,7 @@ std::vector<AddedNodeInfo> CConnman::GetAddedNodeInfo() const\n             if (pnode->addr.IsValid()) {\n                 mapConnected[pnode->addr] = pnode->IsInboundConn();\n             }\n-            std::string addrName = pnode->GetAddrName();\n+            std::string addrName{pnode->m_addr_name};\n             if (!addrName.empty()) {\n                 mapConnectedByName[std::move(addrName)] = std::make_pair(pnode->IsInboundConn(), static_cast<const CService&>(pnode->addr));\n             }\n@@ -3004,7 +2999,7 @@ void CConnman::PushMessage(CNode* pnode, CSerializedNetMsg&& msg)\n \n     TRACE6(net, outbound_message,\n         pnode->GetId(),\n-        pnode->GetAddrName().c_str(),\n+        pnode->m_addr_name.c_str(),\n         pnode->ConnectionTypeAsString().c_str(),\n         msg.m_type.c_str(),\n         msg.data.size(),"
      },
      {
        "sha": "d568c56205e03420b19ae261feeceba91acc11cb",
        "filename": "src/net.h",
        "status": "modified",
        "additions": 1,
        "deletions": 3,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.h?ref=fa9eade142964d5482fe8d2109fb67a9556ae93d",
        "patch": "@@ -248,7 +248,7 @@ class CNodeStats\n     int64_t nLastBlockTime;\n     int64_t nTimeConnected;\n     int64_t nTimeOffset;\n-    std::string addrName;\n+    std::string m_addr_name;\n     int nVersion;\n     std::string cleanSubVer;\n     bool fInbound;\n@@ -659,8 +659,6 @@ class CNode\n         return nLocalServices;\n     }\n \n-    std::string GetAddrName() const;\n-\n     std::string ConnectionTypeAsString() const { return ::ConnectionTypeAsString(m_conn_type); }\n \n     /** A ping-pong round trip has completed successfully. Update latest and minimum ping times. */"
      },
      {
        "sha": "3ad34e83ba3fd1c8ff8f3e1429cdb51099b42e1f",
        "filename": "src/net_processing.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/net_processing.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/net_processing.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net_processing.cpp?ref=fa9eade142964d5482fe8d2109fb67a9556ae93d",
        "patch": "@@ -4086,7 +4086,7 @@ bool PeerManagerImpl::ProcessMessages(CNode* pfrom, std::atomic<bool>& interrupt\n \n     TRACE6(net, inbound_message,\n         pfrom->GetId(),\n-        pfrom->GetAddrName().c_str(),\n+        pfrom->m_addr_name.c_str(),\n         pfrom->ConnectionTypeAsString().c_str(),\n         msg.m_command.c_str(),\n         msg.m_recv.size(),"
      },
      {
        "sha": "433a1ea934e19e210250b0b2802fa62c2e321731",
        "filename": "src/qt/peertablemodel.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/qt/peertablemodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/qt/peertablemodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/peertablemodel.cpp?ref=fa9eade142964d5482fe8d2109fb67a9556ae93d",
        "patch": "@@ -72,7 +72,7 @@ QVariant PeerTableModel::data(const QModelIndex& index, int role) const\n         case NetNodeId:\n             return (qint64)rec->nodeStats.nodeid;\n         case Address:\n-            return QString::fromStdString(rec->nodeStats.addrName);\n+            return QString::fromStdString(rec->nodeStats.m_addr_name);\n         case Direction:\n             return QString(rec->nodeStats.fInbound ?\n                                //: An Inbound Connection from a Peer."
      },
      {
        "sha": "419133bc32f2c409709ffddd85db8a836bd39a40",
        "filename": "src/qt/peertablesortproxy.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/qt/peertablesortproxy.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/qt/peertablesortproxy.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/peertablesortproxy.cpp?ref=fa9eade142964d5482fe8d2109fb67a9556ae93d",
        "patch": "@@ -25,7 +25,7 @@ bool PeerTableSortProxy::lessThan(const QModelIndex& left_index, const QModelInd\n     case PeerTableModel::NetNodeId:\n         return left_stats.nodeid < right_stats.nodeid;\n     case PeerTableModel::Address:\n-        return left_stats.addrName.compare(right_stats.addrName) < 0;\n+        return left_stats.m_addr_name.compare(right_stats.m_addr_name) < 0;\n     case PeerTableModel::Direction:\n         return left_stats.fInbound > right_stats.fInbound; // default sort Inbound, then Outbound\n     case PeerTableModel::ConnectionType:"
      },
      {
        "sha": "19b8aa0f7dda97f3424a69d799aecaa569f8fcc0",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=fa9eade142964d5482fe8d2109fb67a9556ae93d",
        "patch": "@@ -1129,7 +1129,7 @@ void RPCConsole::updateDetailWidget()\n     }\n     const auto stats = selected_peers.first().data(PeerTableModel::StatsRole).value<CNodeCombinedStats*>();\n     // update the detail ui with latest node information\n-    QString peerAddrDetails(QString::fromStdString(stats->nodeStats.addrName) + \" \");\n+    QString peerAddrDetails(QString::fromStdString(stats->nodeStats.m_addr_name) + \" \");\n     peerAddrDetails += tr(\"(peer: %1)\").arg(QString::number(stats->nodeStats.nodeid));\n     if (!stats->nodeStats.addrLocal.empty())\n         peerAddrDetails += \"<br />\" + tr(\"via %1\").arg(QString::fromStdString(stats->nodeStats.addrLocal));"
      },
      {
        "sha": "0f554ec5e7067a5c53988ca5b0cb64832f76013e",
        "filename": "src/rpc/net.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/rpc/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/rpc/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/net.cpp?ref=fa9eade142964d5482fe8d2109fb67a9556ae93d",
        "patch": "@@ -197,7 +197,7 @@ static RPCHelpMan getpeerinfo()\n         CNodeStateStats statestats;\n         bool fStateStats = peerman.GetNodeStateStats(stats.nodeid, statestats);\n         obj.pushKV(\"id\", stats.nodeid);\n-        obj.pushKV(\"addr\", stats.addrName);\n+        obj.pushKV(\"addr\", stats.m_addr_name);\n         if (stats.addrBind.IsValid()) {\n             obj.pushKV(\"addrbind\", stats.addrBind.ToString());\n         }"
      },
      {
        "sha": "9a579c053f2ccb3c21895864bc42e7e389b28f95",
        "filename": "src/test/fuzz/net.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/test/fuzz/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa9eade142964d5482fe8d2109fb67a9556ae93d/src/test/fuzz/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/net.cpp?ref=fa9eade142964d5482fe8d2109fb67a9556ae93d",
        "patch": "@@ -79,7 +79,6 @@ FUZZ_TARGET_INIT(net, initialize_net)\n     }\n \n     (void)node.GetAddrLocal();\n-    (void)node.GetAddrName();\n     (void)node.GetId();\n     (void)node.GetLocalNonce();\n     (void)node.GetLocalServices();"
      }
    ]
  }
]