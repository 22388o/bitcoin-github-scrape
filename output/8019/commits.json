[
  {
    "sha": "addb9d2a092b4fd0384d4ff82e9607e5411eab97",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphZGRiOWQyYTA5MmI0ZmQwMzg0ZDRmZjgyZTk2MDdlNTQxMWVhYjk3",
    "commit": {
      "author": {
        "name": "instagibbs",
        "email": "gsanders87@gmail.com",
        "date": "2016-05-06T16:53:23Z"
      },
      "committer": {
        "name": "instagibbs",
        "email": "gsanders87@gmail.com",
        "date": "2016-05-06T16:53:23Z"
      },
      "message": "Remove state arg from ReconsiderBlock",
      "tree": {
        "sha": "97082670482b54c5c5bad2c85e952b787cf5c2f3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/97082670482b54c5c5bad2c85e952b787cf5c2f3"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/addb9d2a092b4fd0384d4ff82e9607e5411eab97",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/addb9d2a092b4fd0384d4ff82e9607e5411eab97",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/addb9d2a092b4fd0384d4ff82e9607e5411eab97",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/addb9d2a092b4fd0384d4ff82e9607e5411eab97/comments",
    "author": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fbd84788e676c9cbd126f6236ec46bb2f342bd00",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fbd84788e676c9cbd126f6236ec46bb2f342bd00",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fbd84788e676c9cbd126f6236ec46bb2f342bd00"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 5,
      "deletions": 7
    },
    "files": [
      {
        "sha": "9489bb1c461700a82996c33b0f626f8af94ddc45",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/addb9d2a092b4fd0384d4ff82e9607e5411eab97/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/addb9d2a092b4fd0384d4ff82e9607e5411eab97/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=addb9d2a092b4fd0384d4ff82e9607e5411eab97",
        "patch": "@@ -3011,7 +3011,7 @@ bool InvalidateBlock(CValidationState& state, const CChainParams& chainparams, C\n     return true;\n }\n \n-bool ReconsiderBlock(CValidationState& state, CBlockIndex *pindex) {\n+bool ReconsiderBlock(CBlockIndex *pindex) {\n     AssertLockHeld(cs_main);\n \n     int nHeight = pindex->nHeight;"
      },
      {
        "sha": "e48cebecb37cb59c55e3d696fcb42b586636dab8",
        "filename": "src/main.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/addb9d2a092b4fd0384d4ff82e9607e5411eab97/src/main.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/addb9d2a092b4fd0384d4ff82e9607e5411eab97/src/main.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.h?ref=addb9d2a092b4fd0384d4ff82e9607e5411eab97",
        "patch": "@@ -464,7 +464,7 @@ CBlockIndex* FindForkInGlobalIndex(const CChain& chain, const CBlockLocator& loc\n bool InvalidateBlock(CValidationState& state, const CChainParams& chainparams, CBlockIndex *pindex);\n \n /** Remove invalidity status from a block and its descendants. */\n-bool ReconsiderBlock(CValidationState& state, CBlockIndex *pindex);\n+bool ReconsiderBlock(CBlockIndex *pindex);\n \n /** The currently-connected chain of blocks (protected by cs_main). */\n extern CChain chainActive;"
      },
      {
        "sha": "d221012afad3376e972df3eb6b9003b9ee8b14ec",
        "filename": "src/rpc/blockchain.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 5,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/addb9d2a092b4fd0384d4ff82e9607e5411eab97/src/rpc/blockchain.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/addb9d2a092b4fd0384d4ff82e9607e5411eab97/src/rpc/blockchain.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/blockchain.cpp?ref=addb9d2a092b4fd0384d4ff82e9607e5411eab97",
        "patch": "@@ -973,20 +973,18 @@ UniValue reconsiderblock(const UniValue& params, bool fHelp)\n \n     std::string strHash = params[0].get_str();\n     uint256 hash(uint256S(strHash));\n-    CValidationState state;\n \n     {\n         LOCK(cs_main);\n         if (mapBlockIndex.count(hash) == 0)\n             throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n \n         CBlockIndex* pblockindex = mapBlockIndex[hash];\n-        ReconsiderBlock(state, pblockindex);\n+        ReconsiderBlock(pblockindex);\n     }\n \n-    if (state.IsValid()) {\n-        ActivateBestChain(state, Params());\n-    }\n+    CValidationState state;\n+    ActivateBestChain(state, Params());\n \n     if (!state.IsValid()) {\n         throw JSONRPCError(RPC_DATABASE_ERROR, state.GetRejectReason());"
      }
    ]
  },
  {
    "sha": "657e07efa34ffe9d8614a618e00452c9ee7c0e0d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2NTdlMDdlZmEzNGZmZTlkODYxNGE2MThlMDA0NTJjOWVlN2MwZTBk",
    "commit": {
      "author": {
        "name": "instagibbs",
        "email": "gsanders87@gmail.com",
        "date": "2016-05-09T15:26:37Z"
      },
      "committer": {
        "name": "instagibbs",
        "email": "gsanders87@gmail.com",
        "date": "2016-05-09T15:26:37Z"
      },
      "message": "Rename ReconsiderBlock func to reflect real behavior",
      "tree": {
        "sha": "4a67d2948791dc34d02e48883513fb6f1b1f5bf3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4a67d2948791dc34d02e48883513fb6f1b1f5bf3"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/657e07efa34ffe9d8614a618e00452c9ee7c0e0d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/657e07efa34ffe9d8614a618e00452c9ee7c0e0d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/657e07efa34ffe9d8614a618e00452c9ee7c0e0d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/657e07efa34ffe9d8614a618e00452c9ee7c0e0d/comments",
    "author": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "addb9d2a092b4fd0384d4ff82e9607e5411eab97",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/addb9d2a092b4fd0384d4ff82e9607e5411eab97",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/addb9d2a092b4fd0384d4ff82e9607e5411eab97"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "11eaa055d71c9b8be16ece8ebba89db5d0b86199",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/657e07efa34ffe9d8614a618e00452c9ee7c0e0d/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/657e07efa34ffe9d8614a618e00452c9ee7c0e0d/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=657e07efa34ffe9d8614a618e00452c9ee7c0e0d",
        "patch": "@@ -3011,7 +3011,7 @@ bool InvalidateBlock(CValidationState& state, const CChainParams& chainparams, C\n     return true;\n }\n \n-bool ReconsiderBlock(CBlockIndex *pindex) {\n+bool ResetBlockFailureFlags(CBlockIndex *pindex) {\n     AssertLockHeld(cs_main);\n \n     int nHeight = pindex->nHeight;"
      },
      {
        "sha": "ebbd12c8c39c2e3ca69da31529d8bc5c36849c92",
        "filename": "src/main.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/657e07efa34ffe9d8614a618e00452c9ee7c0e0d/src/main.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/657e07efa34ffe9d8614a618e00452c9ee7c0e0d/src/main.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.h?ref=657e07efa34ffe9d8614a618e00452c9ee7c0e0d",
        "patch": "@@ -464,7 +464,7 @@ CBlockIndex* FindForkInGlobalIndex(const CChain& chain, const CBlockLocator& loc\n bool InvalidateBlock(CValidationState& state, const CChainParams& chainparams, CBlockIndex *pindex);\n \n /** Remove invalidity status from a block and its descendants. */\n-bool ReconsiderBlock(CBlockIndex *pindex);\n+bool ResetBlockFailureFlags(CBlockIndex *pindex);\n \n /** The currently-connected chain of blocks (protected by cs_main). */\n extern CChain chainActive;"
      },
      {
        "sha": "cf3c73c4dfef61de504412dab358c15b9743b37d",
        "filename": "src/rpc/blockchain.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/657e07efa34ffe9d8614a618e00452c9ee7c0e0d/src/rpc/blockchain.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/657e07efa34ffe9d8614a618e00452c9ee7c0e0d/src/rpc/blockchain.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/blockchain.cpp?ref=657e07efa34ffe9d8614a618e00452c9ee7c0e0d",
        "patch": "@@ -980,7 +980,7 @@ UniValue reconsiderblock(const UniValue& params, bool fHelp)\n             throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n \n         CBlockIndex* pblockindex = mapBlockIndex[hash];\n-        ReconsiderBlock(pblockindex);\n+        ResetBlockFailureFlags(pblockindex);\n     }\n \n     CValidationState state;"
      }
    ]
  }
]