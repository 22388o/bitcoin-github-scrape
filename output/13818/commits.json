[
  {
    "sha": "00cf5cbcc015b71630a360e00e8e364388527557",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMGNmNWNiY2MwMTViNzE2MzBhMzYwZTAwZThlMzY0Mzg4NTI3NTU3",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2018-07-31T14:03:04Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2018-09-04T08:24:20Z"
      },
      "message": "Initial GUI proxy settings reflect -proxy param",
      "tree": {
        "sha": "8bcf803882bca4619c4414dad664805df8e7971c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8bcf803882bca4619c4414dad664805df8e7971c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/00cf5cbcc015b71630a360e00e8e364388527557",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAluOQTQACgkQV/+b28ww\nEAmRiw/9GE2G3ipCF2pkk+4J4/iaUOSUJ09UnYHIGdCl2epClSDa4nZqYOF4cAbJ\nu9Exy0nb2AdH0flhNVOLLL+AmRltH5dZysxpDF0s3o/mk+Y1e4IJMlYmvPtgmor0\nMv5A6Tz0NMQYZLRu/WAN22EgujAso9/tNuCQ/Yu6k7GLe+qvfDIke+cgwk4FSWQE\n5u/lOFD+RN3p6GvyIhnMwXfMkw9c8j03ZysN0/Afi6GaFqVWeHI5mKHCg5qAcMij\nceauXKad40PfkyniU8CoPGNoFMU7SZ6yTUXOO/yVA7yH4URVidiKDoLcQOTQv503\nl20VCBppB4Gz8utb5mgU53jYcyyM+K+UjxftrciQRrNEd8BifCymJinpAar7BSjn\n+5sqWaVbJs95IiQRExCymAVJq46HRPVIbENB3KEkq/dnWWQq3qGZIsXVlxo7OUpS\noAKppxeP1hmjStiwsfOjV2FiKRTUNoxIkuwat62nfm3VFJlPg9QcQfAbL0J4jcBc\n4lypPifyzlOSvLDoW39Gh1NxYO4uKWLvzv/30sbrDRpUuOWcq9YWrMf3682ZtKFP\nO/AGJv2lAvHpVfQngsEdJnKB9RJXixagYOiz2aV9gkvWI1LOf6u4Fu6x/1x0OpMo\nQFbouLhYwix6P3SlK6H+MY7Z98xnedp8+Vw59b+HA9Aq0ezLs/E=\n=Osgj\n-----END PGP SIGNATURE-----",
        "payload": "tree 8bcf803882bca4619c4414dad664805df8e7971c\nparent 68f3c7eb080e461cfeac37f8db7034fe507241d0\nauthor Sjors Provoost <sjors@sprovoost.nl> 1533045784 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1536049460 +0200\n\nInitial GUI proxy settings reflect -proxy param\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/00cf5cbcc015b71630a360e00e8e364388527557",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/00cf5cbcc015b71630a360e00e8e364388527557",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/00cf5cbcc015b71630a360e00e8e364388527557/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "68f3c7eb080e461cfeac37f8db7034fe507241d0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/68f3c7eb080e461cfeac37f8db7034fe507241d0",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/68f3c7eb080e461cfeac37f8db7034fe507241d0"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 14,
      "deletions": 4
    },
    "files": [
      {
        "sha": "abdb356c5a8368b9ece370aa66c3e6d573b7062f",
        "filename": "src/qt/optionsmodel.cpp",
        "status": "modified",
        "additions": 14,
        "deletions": 4,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/00cf5cbcc015b71630a360e00e8e364388527557/src/qt/optionsmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/00cf5cbcc015b71630a360e00e8e364388527557/src/qt/optionsmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsmodel.cpp?ref=00cf5cbcc015b71630a360e00e8e364388527557",
        "patch": "@@ -130,15 +130,25 @@ void OptionsModel::Init(bool resetSettings)\n     if (!m_node.softSetBoolArg(\"-listen\", settings.value(\"fListen\").toBool()))\n         addOverriddenOption(\"-listen\");\n \n-    if (!settings.contains(\"fUseProxy\"))\n-        settings.setValue(\"fUseProxy\", false);\n-    if (!settings.contains(\"addrProxy\"))\n-        settings.setValue(\"addrProxy\", GetDefaultProxyAddress());\n+    if (!settings.contains(\"addrProxy\")) {\n+        QString addrProxy = QString::fromStdString(gArgs.GetArg(\"-proxy\", \"\"));\n+        if (!addrProxy.isEmpty()) {\n+            // If a proxy is configured, enable it in the UI:\n+            if (!settings.contains(\"fUseProxy\")) {\n+                settings.setValue(\"fUseProxy\", true);\n+            }\n+        } else {\n+            addrProxy = GetDefaultProxyAddress();\n+        }\n+        settings.setValue(\"addrProxy\", addrProxy);\n+    }\n     // Only try to set -proxy, if user has enabled fUseProxy\n     if (settings.value(\"fUseProxy\").toBool() && !m_node.softSetArg(\"-proxy\", settings.value(\"addrProxy\").toString().toStdString()))\n         addOverriddenOption(\"-proxy\");\n     else if(!settings.value(\"fUseProxy\").toBool() && !gArgs.GetArg(\"-proxy\", \"\").empty())\n         addOverriddenOption(\"-proxy\");\n+    if (!settings.contains(\"fUseProxy\"))\n+        settings.setValue(\"fUseProxy\", false);\n \n     if (!settings.contains(\"fUseSeparateProxyTor\"))\n         settings.setValue(\"fUseSeparateProxyTor\", false);"
      }
    ]
  },
  {
    "sha": "b39ca20e771e572350bace4ac61821e14fc6e7f9",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiMzljYTIwZTc3MWU1NzIzNTBiYWNlNGFjNjE4MjFlMTRmYzZlN2Y5",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2018-07-31T14:24:44Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2018-09-04T08:25:54Z"
      },
      "message": "[GUI] settings: if -proxy is set, disable interaction",
      "tree": {
        "sha": "cbd7a87fb1cf1c9f710f689c24def0684e7860df",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cbd7a87fb1cf1c9f710f689c24def0684e7860df"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b39ca20e771e572350bace4ac61821e14fc6e7f9",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAluOQZIACgkQV/+b28ww\nEAku2g//YIbEkMBjkKdFA2oFdfUaWLME16fISamXzFwgidxm8w+BIZqblARGVNBB\nLb4ftSLjsVJ/IZ9JNWqpaMOn1AtCONCbdujZkHT3HoUfGaJ3mNsr+rfb5jetHYUs\nqSiWpbivWEmO74JXE45qadF2nq2m7piAhnhtjhj1ENNR5kM8ODl4550+3nKkbwfW\nnQMSkR61+DFSuuAzRPunk1kYRSQ6SRx9WBblWxJo0hrsOYRz65UHFsfihaP9JCkv\nqbKJd651Fw5r2sWx00TV+WQ6bvPnYzzdlNnyOSVxcj+VKTmspWWz7dAO2GtQ/Cs7\nLE1EQdqA8tJT3qCh2G+yYExf8xs6FPGcB1VmgEIMu3RTnnXZT6xqUjwcbPc5DrmR\n3XbwGx8yx7r4tutsXZIDSL7P7Z3pWmKnn23L8DYPQXumvgshGzU8KBK7RLlZh2ky\ngMe8aojTN7f51diiWKxcnDrAyAtB5l9u74IqjdwcA90bGPuzFomWt7m1eFERzMfZ\nTmfdyWnPdF6Jx2b4e9CjuHAN+jPHS57QZGAQQjTdEjOl1xTEEfg9xC3dCFVp82cJ\nvM46ep2V8Bj52GjvRwXpnuz9Cc9Tc1U1bHAmOJ0Q61yfJUyThrmFetlsgJRipPq5\nJGX5G8d3Vd6vSW2BEIGzePe0e97WRI7RB/4kcKw06xZ96AGjCFk=\n=FmaC\n-----END PGP SIGNATURE-----",
        "payload": "tree cbd7a87fb1cf1c9f710f689c24def0684e7860df\nparent 00cf5cbcc015b71630a360e00e8e364388527557\nauthor Sjors Provoost <sjors@sprovoost.nl> 1533047084 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1536049554 +0200\n\n[GUI] settings: if -proxy is set, disable interaction\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b39ca20e771e572350bace4ac61821e14fc6e7f9",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b39ca20e771e572350bace4ac61821e14fc6e7f9",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b39ca20e771e572350bace4ac61821e14fc6e7f9/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "00cf5cbcc015b71630a360e00e8e364388527557",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/00cf5cbcc015b71630a360e00e8e364388527557",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/00cf5cbcc015b71630a360e00e8e364388527557"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 9,
      "deletions": 3
    },
    "files": [
      {
        "sha": "08f4154af6900de6d73793183f124ae4258ee323",
        "filename": "src/qt/optionsdialog.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 3,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b39ca20e771e572350bace4ac61821e14fc6e7f9/src/qt/optionsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b39ca20e771e572350bace4ac61821e14fc6e7f9/src/qt/optionsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsdialog.cpp?ref=b39ca20e771e572350bace4ac61821e14fc6e7f9",
        "patch": "@@ -61,9 +61,15 @@ OptionsDialog::OptionsDialog(QWidget *parent, bool enableWallet) :\n     ui->proxyPortTor->setEnabled(false);\n     ui->proxyPortTor->setValidator(new QIntValidator(1, 65535, this));\n \n-    connect(ui->connectSocks, &QPushButton::toggled, ui->proxyIp, &QWidget::setEnabled);\n-    connect(ui->connectSocks, &QPushButton::toggled, ui->proxyPort, &QWidget::setEnabled);\n-    connect(ui->connectSocks, &QPushButton::toggled, this, &OptionsDialog::updateProxyValidationState);\n+    // Disable and don't connect proxy checkbox interaction if proxy= is set by\n+    // a param, to make it clear that removing the param / config is prerequisite to disabling.\n+    if (!gArgs.GetArg(\"-proxy\", \"\").empty()) {\n+        ui->connectSocks->setEnabled(false);\n+    } else {\n+        connect(ui->connectSocks, &QPushButton::toggled, ui->proxyIp, &QWidget::setEnabled);\n+        connect(ui->connectSocks, &QPushButton::toggled, ui->proxyPort, &QWidget::setEnabled);\n+        connect(ui->connectSocks, &QPushButton::toggled, this, &OptionsDialog::updateProxyValidationState);\n+    }\n \n     connect(ui->connectSocksTor, &QPushButton::toggled, ui->proxyIpTor, &QWidget::setEnabled);\n     connect(ui->connectSocksTor, &QPushButton::toggled, ui->proxyPortTor, &QWidget::setEnabled);"
      }
    ]
  }
]