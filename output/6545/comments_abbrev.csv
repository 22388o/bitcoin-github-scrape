laanwj,2015-08-12T07:26:59Z,utACK. Nice catch!\n,https://github.com/bitcoin/bitcoin/pull/6545#issuecomment-130199346,130199346,
btcdrak,2015-08-12T07:36:06Z,utACK\n,https://github.com/bitcoin/bitcoin/pull/6545#issuecomment-130202364,130202364,
laanwj,2015-08-20T15:14:58Z,backported to 0.11 as  649f5d9c1100bb3cbace724900f035939df5ea11\n,https://github.com/bitcoin/bitcoin/pull/6545#issuecomment-133045273,133045273,
jonasschnelli,2015-08-11T14:30:46Z,I didn't know the behavior in details: but does this mean if we have reached the `BITCOIN_TIMEDATA_MAX_SAMPLES` of 200 we run into a risk of not detecting a significant time offset anymore?\nWhy not shift out the `CNetAddr` instance at index 0 if we have reached 200 (and still add the new one)?\n,https://github.com/bitcoin/bitcoin/pull/6545#discussion_r36751196,36751196,src/timedata.cpp
paveljanik,2015-08-11T15:45:21Z,"Please read the comment just after the change in the original code: https://github.com/bitcoin/bitcoin/blob/master/src/timedata.cpp#L56\n\nThis PR does not change the behaviour described there at all. I do not even plan to change the current ""use the timedata samples from the first 200 peers we have seen"" to ""use the timedata samples from the last 200 peers we have seen"" because of the comments th",https://github.com/bitcoin/bitcoin/pull/6545#discussion_r36760732,36760732,src/timedata.cpp
theuni,2015-08-11T17:47:57Z,"Wow, that's subtle. I thought the same as @jonasschnelli until re-reading the comments a few times.\n\nConcept ACK, but I'd prefer to see it implemented in a way such that the early return depends on the quirk, otherwise I'm afraid it could introduce new bugs down the road. At the very least it deserves its own comment.\n",https://github.com/bitcoin/bitcoin/pull/6545#discussion_r36775218,36775218,src/timedata.cpp
paveljanik,2015-08-11T17:52:38Z,"I had a comment there but have deleted it because it said something like\n\n``` c\n// Do not accept more timedata samples (see the comment below).\n```\n\nBut I have deleted it (it looks so clean with the comment below, that I thought it is better not comment it).\nThe long comment below should probably just be moved up... What do you think?\n",https://github.com/bitcoin/bitcoin/pull/6545#discussion_r36775801,36775801,src/timedata.cpp
paveljanik,2015-08-11T17:54:43Z,"@theuni Can you please translate ""the early return depends on the quirk"" for me? I'm not native English speaker and this is not clear to me. How it should be implemented?\n",https://github.com/bitcoin/bitcoin/pull/6545#discussion_r36776068,36776068,src/timedata.cpp
theuni,2015-08-13T15:28:54Z,"@paveljanik Nevermind, it looks like there's no good way to do that anyway.\n",https://github.com/bitcoin/bitcoin/pull/6545#discussion_r36987786,36987786,src/timedata.cpp
paveljanik,2015-08-13T21:34:30Z,"... without changing the way it works. Yes. I do not want to change it at all.\n\nIf we agree on it, the next step could be getting rid of `CMedianFilter`, using plain `std::set` with 200 entries...\n",https://github.com/bitcoin/bitcoin/pull/6545#discussion_r37028385,37028385,src/timedata.cpp
laanwj,2015-08-20T15:11:50Z,"@paveljanik I wouldn't spend time on this as-is unless it is broken (like this leak). This whole code needs to be replaced, @gmaxwell had some good ideas.\n",https://github.com/bitcoin/bitcoin/pull/6545#discussion_r37541047,37541047,src/timedata.cpp
