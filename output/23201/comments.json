[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935049936",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-935049936",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201",
    "id": 935049936,
    "node_id": "IC_kwDOABII5843u7rQ",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-05T23:22:16Z",
    "updated_at": "2021-10-05T23:22:16Z",
    "author_association": "MEMBER",
    "body": "Note that bumpfee does not take this into account yet, but it's next on my list.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935049936/reactions",
      "total_count": 3,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935053378",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-935053378",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201",
    "id": 935053378,
    "node_id": "IC_kwDOABII5843u8hC",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-05T23:23:46Z",
    "updated_at": "2021-10-05T23:23:46Z",
    "author_association": "MEMBER",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935053378/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935140775",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-935140775",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201",
    "id": 935140775,
    "node_id": "IC_kwDOABII5843vR2n",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?u=a0e0040aacd7d4f0787481e8ac30b494fa429e11&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-06T00:26:25Z",
    "updated_at": "2021-10-06T00:26:25Z",
    "author_association": "MEMBER",
    "body": "cc @t-bast maybe @apoelstra ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935140775/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935590919",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-935590919",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201",
    "id": 935590919,
    "node_id": "IC_kwDOABII5843w_wH",
    "user": {
      "login": "t-bast",
      "id": 31281497,
      "node_id": "MDQ6VXNlcjMxMjgxNDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/31281497?u=9baf85664fb647e1bca36fd972723566ea9ded21&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/t-bast",
      "html_url": "https://github.com/t-bast",
      "followers_url": "https://api.github.com/users/t-bast/followers",
      "following_url": "https://api.github.com/users/t-bast/following{/other_user}",
      "gists_url": "https://api.github.com/users/t-bast/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
      "organizations_url": "https://api.github.com/users/t-bast/orgs",
      "repos_url": "https://api.github.com/users/t-bast/repos",
      "events_url": "https://api.github.com/users/t-bast/events{/privacy}",
      "received_events_url": "https://api.github.com/users/t-bast/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-06T06:46:25Z",
    "updated_at": "2021-10-06T06:46:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK, I'll test this today with lightning transactions.\r\nShould this PR update the release notes?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935590919/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935811299",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-935811299",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201",
    "id": 935811299,
    "node_id": "IC_kwDOABII5843x1jj",
    "user": {
      "login": "t-bast",
      "id": 31281497,
      "node_id": "MDQ6VXNlcjMxMjgxNDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/31281497?u=9baf85664fb647e1bca36fd972723566ea9ded21&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/t-bast",
      "html_url": "https://github.com/t-bast",
      "followers_url": "https://api.github.com/users/t-bast/followers",
      "following_url": "https://api.github.com/users/t-bast/following{/other_user}",
      "gists_url": "https://api.github.com/users/t-bast/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
      "organizations_url": "https://api.github.com/users/t-bast/orgs",
      "repos_url": "https://api.github.com/users/t-bast/repos",
      "events_url": "https://api.github.com/users/t-bast/events{/privacy}",
      "received_events_url": "https://api.github.com/users/t-bast/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-06T09:14:01Z",
    "updated_at": "2021-10-06T09:14:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "I tested https://github.com/bitcoin/bitcoin/pull/23201/commits/5c2ff2578512fca8134d68a8a86ae144c9335cca with lightning transactions, and I'm correctly able to specify input weights for non-standard inputs. Thanks @achow101!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935811299/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/936035567",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-936035567",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201",
    "id": 936035567,
    "node_id": "IC_kwDOABII5843ysTv",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-06T11:23:34Z",
    "updated_at": "2021-11-29T23:31:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23367](https://github.com/bitcoin/bitcoin/pull/23367) (Optimize coin selection by dropping BnB upper limit by S3RK)\n* [#23202](https://github.com/bitcoin/bitcoin/pull/23202) (wallet: allow psbtbumpfee to work with txs with external inputs by achow101)\n* [#22019](https://github.com/bitcoin/bitcoin/pull/22019) (wallet: Introduce SelectionResult for encapsulating a coin selection solution by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/936035567/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/939911058",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-939911058",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201",
    "id": 939911058,
    "node_id": "IC_kwDOABII5844BeeS",
    "user": {
      "login": "yanmaani",
      "id": 68476452,
      "node_id": "MDQ6VXNlcjY4NDc2NDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/68476452?u=8981086437e755a833ea7fec1c188f80e57738dc&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yanmaani",
      "html_url": "https://github.com/yanmaani",
      "followers_url": "https://api.github.com/users/yanmaani/followers",
      "following_url": "https://api.github.com/users/yanmaani/following{/other_user}",
      "gists_url": "https://api.github.com/users/yanmaani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yanmaani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
      "organizations_url": "https://api.github.com/users/yanmaani/orgs",
      "repos_url": "https://api.github.com/users/yanmaani/repos",
      "events_url": "https://api.github.com/users/yanmaani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yanmaani/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-11T10:46:25Z",
    "updated_at": "2021-10-11T10:46:25Z",
    "author_association": "NONE",
    "body": "LGTM",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/939911058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/965198257",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-965198257",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201",
    "id": 965198257,
    "node_id": "IC_kwDOABII5845h8Gx",
    "user": {
      "login": "t-bast",
      "id": 31281497,
      "node_id": "MDQ6VXNlcjMxMjgxNDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/31281497?u=9baf85664fb647e1bca36fd972723566ea9ded21&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/t-bast",
      "html_url": "https://github.com/t-bast",
      "followers_url": "https://api.github.com/users/t-bast/followers",
      "following_url": "https://api.github.com/users/t-bast/following{/other_user}",
      "gists_url": "https://api.github.com/users/t-bast/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
      "organizations_url": "https://api.github.com/users/t-bast/orgs",
      "repos_url": "https://api.github.com/users/t-bast/repos",
      "events_url": "https://api.github.com/users/t-bast/events{/privacy}",
      "received_events_url": "https://api.github.com/users/t-bast/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-10T13:54:59Z",
    "updated_at": "2021-11-10T13:54:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looks like this PR has multiple concept ACKs (and an E2E test with lightning!), is it possible to move forward with it?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/965198257/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981760029",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#issuecomment-981760029",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23201",
    "id": 981760029,
    "node_id": "IC_kwDOABII5846hHgd",
    "user": {
      "login": "t-bast",
      "id": 31281497,
      "node_id": "MDQ6VXNlcjMxMjgxNDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/31281497?u=9baf85664fb647e1bca36fd972723566ea9ded21&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/t-bast",
      "html_url": "https://github.com/t-bast",
      "followers_url": "https://api.github.com/users/t-bast/followers",
      "following_url": "https://api.github.com/users/t-bast/following{/other_user}",
      "gists_url": "https://api.github.com/users/t-bast/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
      "organizations_url": "https://api.github.com/users/t-bast/orgs",
      "repos_url": "https://api.github.com/users/t-bast/repos",
      "events_url": "https://api.github.com/users/t-bast/events{/privacy}",
      "received_events_url": "https://api.github.com/users/t-bast/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-29T15:46:20Z",
    "updated_at": "2021-11-29T15:46:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "It would be really great to have this PR integrated for pre-signed transaction protocols (and ideally a follow-up to add these arguments to the bump fee RPCs), it would really make using the `bitcoind` RPC much smoother!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981760029/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723015304",
    "pull_request_review_id": 772362588,
    "id": 723015304,
    "node_id": "PRRC_kwDOABII584rGFaI",
    "diff_hunk": "@@ -4707,10 +4767,15 @@ static RPCHelpMan walletcreatefundedpsbt()\n         }, true\n     );\n \n+    UniValue options = request.params[3];\n+    if (options.exists(\"input_weights\")) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Specify weight in inputs instead\");",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 122,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "5c2ff2578512fca8134d68a8a86ae144c9335cca",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Isn't this already done in `SetOptionsInputWeights`?",
    "created_at": "2021-10-06T08:41:12Z",
    "updated_at": "2021-10-06T08:41:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723015304",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723015304"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723015304"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723015304/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4772,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723399460",
    "pull_request_review_id": 772873773,
    "id": 723399460,
    "node_id": "PRRC_kwDOABII584rHjMk",
    "diff_hunk": "@@ -4707,10 +4767,15 @@ static RPCHelpMan walletcreatefundedpsbt()\n         }, true\n     );\n \n+    UniValue options = request.params[3];\n+    if (options.exists(\"input_weights\")) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Specify weight in inputs instead\");",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 122,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "5c2ff2578512fca8134d68a8a86ae144c9335cca",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Indeed, removed.",
    "created_at": "2021-10-06T15:31:28Z",
    "updated_at": "2021-10-06T15:31:28Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723399460",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723399460"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723399460"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723399460/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4772,
    "side": "RIGHT",
    "in_reply_to_id": 723015304
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723737247",
    "pull_request_review_id": 773302897,
    "id": 723737247,
    "node_id": "PRRC_kwDOABII584rI1qf",
    "diff_hunk": "@@ -3339,6 +3340,35 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n         }\n     }\n \n+    if (options.exists(\"input_weights\")) {\n+        const UniValue& inputs = options[\"input_weights\"].get_array();\n+        for (unsigned int i = 0; i < inputs.size(); ++i) {\n+            const UniValue& input = inputs[i].get_obj();\n+\n+            uint256 txid = ParseHashO(input, \"txid\");\n+\n+            const UniValue& vout_v = find_value(input, \"vout\");\n+            if (!vout_v.isNum()) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, missing vout key\");\n+            }\n+            int vout = vout_v.get_int();\n+            if (vout < 0) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, vout cannot be negative\");\n+            }\n+\n+            const UniValue& weight_v = find_value(input, \"weight\");\n+            if (!weight_v.isNum()) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, missing weight key\");\n+            }\n+            int64_t weight = weight_v.get_int64();\n+            if (weight < 40 * 4) {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 33,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "c3fbbe7de9087205ed5e3c01e348005d88e7bb53",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: use WITNESS_SCALE_FACTOR",
    "created_at": "2021-10-06T23:00:17Z",
    "updated_at": "2021-10-06T23:08:35Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723737247",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723737247"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723737247"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723737247/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3364,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723739242",
    "pull_request_review_id": 773302897,
    "id": 723739242,
    "node_id": "PRRC_kwDOABII584rI2Jq",
    "diff_hunk": "@@ -1032,10 +1037,38 @@ def test_external_inputs(self):\n         assert signed_tx['complete']\n \n         funded_tx = wallet.fundrawtransaction(raw_tx, {\"solving_data\": {\"descriptors\": [desc]}})\n-        signed_tx = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n-        assert not signed_tx['complete']\n-        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx['hex'])\n-        assert signed_tx['complete']\n+        signed_tx1 = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n+        assert not signed_tx1['complete']\n+        signed_tx2 = self.nodes[0].signrawtransactionwithwallet(signed_tx1['hex'])\n+        assert signed_tx2['complete']\n+\n+        unsigned_weight = self.nodes[0].decoderawtransaction(signed_tx1[\"hex\"])[\"weight\"]\n+        signed_weight = self.nodes[0].decoderawtransaction(signed_tx2[\"hex\"])[\"weight\"]\n+        # Input's weight is difference between weight of signed and unsigned,\n+        # and the weight of stuff that didn't change (prevout, sequence, 1 byte of scriptSig)\n+        input_weight = signed_weight - unsigned_weight + (45 * 4)\n+        low_input_weight = input_weight // 2\n+        high_input_weight = input_weight * 2\n+\n+        # Funding should also work if the input weight is provided\n+        funded_tx = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": input_weight}]})\n+        signed_tx = wallet.signrawtransactionwithwallet(funded_tx[\"hex\"])\n+        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx[\"hex\"])\n+        assert self.nodes[0].testmempoolaccept([signed_tx[\"hex\"]])[0][\"allowed\"]\n+        # Reducing the weight should have a lower fee\n+        funded_tx2 = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": low_input_weight}]})\n+        assert_greater_than(funded_tx[\"fee\"], funded_tx2[\"fee\"])\n+        # Increasing the weight should have a higher lower fee",
    "path": "test/functional/rpc_fundrawtransaction.py",
    "position": null,
    "original_position": 41,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "7121427e245b640bd3b9598494ba5af97f1f544b",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "higher lower fee?",
    "created_at": "2021-10-06T23:05:34Z",
    "updated_at": "2021-10-06T23:08:35Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723739242",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723739242"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723739242"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723739242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1061,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723749363",
    "pull_request_review_id": 773317911,
    "id": 723749363,
    "node_id": "PRRC_kwDOABII584rI4nz",
    "diff_hunk": "@@ -3339,6 +3340,35 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n         }\n     }\n \n+    if (options.exists(\"input_weights\")) {\n+        const UniValue& inputs = options[\"input_weights\"].get_array();\n+        for (unsigned int i = 0; i < inputs.size(); ++i) {\n+            const UniValue& input = inputs[i].get_obj();\n+\n+            uint256 txid = ParseHashO(input, \"txid\");\n+\n+            const UniValue& vout_v = find_value(input, \"vout\");\n+            if (!vout_v.isNum()) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, missing vout key\");\n+            }\n+            int vout = vout_v.get_int();\n+            if (vout < 0) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, vout cannot be negative\");\n+            }\n+\n+            const UniValue& weight_v = find_value(input, \"weight\");\n+            if (!weight_v.isNum()) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, missing weight key\");\n+            }\n+            int64_t weight = weight_v.get_int64();\n+            if (weight < 40 * 4) {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 33,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "c3fbbe7de9087205ed5e3c01e348005d88e7bb53",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2021-10-06T23:33:34Z",
    "updated_at": "2021-10-06T23:33:34Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723749363",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723749363"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723749363"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723749363/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3364,
    "side": "RIGHT",
    "in_reply_to_id": 723737247
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723749384",
    "pull_request_review_id": 773317941,
    "id": 723749384,
    "node_id": "PRRC_kwDOABII584rI4oI",
    "diff_hunk": "@@ -1032,10 +1037,38 @@ def test_external_inputs(self):\n         assert signed_tx['complete']\n \n         funded_tx = wallet.fundrawtransaction(raw_tx, {\"solving_data\": {\"descriptors\": [desc]}})\n-        signed_tx = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n-        assert not signed_tx['complete']\n-        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx['hex'])\n-        assert signed_tx['complete']\n+        signed_tx1 = wallet.signrawtransactionwithwallet(funded_tx['hex'])\n+        assert not signed_tx1['complete']\n+        signed_tx2 = self.nodes[0].signrawtransactionwithwallet(signed_tx1['hex'])\n+        assert signed_tx2['complete']\n+\n+        unsigned_weight = self.nodes[0].decoderawtransaction(signed_tx1[\"hex\"])[\"weight\"]\n+        signed_weight = self.nodes[0].decoderawtransaction(signed_tx2[\"hex\"])[\"weight\"]\n+        # Input's weight is difference between weight of signed and unsigned,\n+        # and the weight of stuff that didn't change (prevout, sequence, 1 byte of scriptSig)\n+        input_weight = signed_weight - unsigned_weight + (45 * 4)\n+        low_input_weight = input_weight // 2\n+        high_input_weight = input_weight * 2\n+\n+        # Funding should also work if the input weight is provided\n+        funded_tx = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": input_weight}]})\n+        signed_tx = wallet.signrawtransactionwithwallet(funded_tx[\"hex\"])\n+        signed_tx = self.nodes[0].signrawtransactionwithwallet(signed_tx[\"hex\"])\n+        assert self.nodes[0].testmempoolaccept([signed_tx[\"hex\"]])[0][\"allowed\"]\n+        # Reducing the weight should have a lower fee\n+        funded_tx2 = wallet.fundrawtransaction(raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": low_input_weight}]})\n+        assert_greater_than(funded_tx[\"fee\"], funded_tx2[\"fee\"])\n+        # Increasing the weight should have a higher lower fee",
    "path": "test/functional/rpc_fundrawtransaction.py",
    "position": null,
    "original_position": 41,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "7121427e245b640bd3b9598494ba5af97f1f544b",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2021-10-06T23:33:38Z",
    "updated_at": "2021-10-06T23:33:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723749384",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723749384"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r723749384"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723749384/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1061,
    "side": "RIGHT",
    "in_reply_to_id": 723739242
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725094128",
    "pull_request_review_id": 775131271,
    "id": 725094128,
    "node_id": "PRRC_kwDOABII584rOA7w",
    "diff_hunk": "@@ -114,9 +114,29 @@ class CCoinControl\n         vOutpoints.assign(setSelected.begin(), setSelected.end());\n     }\n \n+    void SetInputWeight(const COutPoint& outpoint, int64_t weight)\n+    {\n+        m_input_weights[outpoint] = weight;\n+    }\n+\n+    bool HasInputWeight(const COutPoint& outpoint) const\n+    {\n+        return m_input_weights.count(outpoint) > 0;",
    "path": "src/wallet/coincontrol.h",
    "position": 11,
    "original_position": 11,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "yanmaani",
      "id": 68476452,
      "node_id": "MDQ6VXNlcjY4NDc2NDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yanmaani",
      "html_url": "https://github.com/yanmaani",
      "followers_url": "https://api.github.com/users/yanmaani/followers",
      "following_url": "https://api.github.com/users/yanmaani/following{/other_user}",
      "gists_url": "https://api.github.com/users/yanmaani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yanmaani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
      "organizations_url": "https://api.github.com/users/yanmaani/orgs",
      "repos_url": "https://api.github.com/users/yanmaani/repos",
      "events_url": "https://api.github.com/users/yanmaani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yanmaani/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Isn't \"no weight\" -1? If so, shouldn't this be ` >= 0`?",
    "created_at": "2021-10-08T15:08:33Z",
    "updated_at": "2021-10-08T15:25:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725094128",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725094128"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725094128"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725094128/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 124,
    "original_line": 124,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725095840",
    "pull_request_review_id": 775131271,
    "id": 725095840,
    "node_id": "PRRC_kwDOABII584rOBWg",
    "diff_hunk": "@@ -3177,9 +3177,27 @@ static RPCHelpMan listunspent()\n     };\n }\n \n+static RPCArg InputWeightsDoc(bool include=false)\n+{\n+    if (include) {\n+        return {\n+            \"input_weights\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Inputs and their corresponding weights\",\n+             {\n+                 {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                 {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},\n+                 {\"weight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The maximum weight for this input, including the weight of the outpoint and sequence number. Note that signature sizes are not guaranteed to be consistent, so the maximum DER signatures size of 73 bytes should be used when considering ECDSA signatures\"},",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "yanmaani",
      "id": 68476452,
      "node_id": "MDQ6VXNlcjY4NDc2NDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yanmaani",
      "html_url": "https://github.com/yanmaani",
      "followers_url": "https://api.github.com/users/yanmaani/followers",
      "following_url": "https://api.github.com/users/yanmaani/following{/other_user}",
      "gists_url": "https://api.github.com/users/yanmaani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yanmaani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
      "organizations_url": "https://api.github.com/users/yanmaani/orgs",
      "repos_url": "https://api.github.com/users/yanmaani/repos",
      "events_url": "https://api.github.com/users/yanmaani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yanmaani/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Would be cleaner to concatenate this across multiple lines so you don't have to scroll out, no?",
    "created_at": "2021-10-08T15:10:47Z",
    "updated_at": "2021-10-08T15:25:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725095840",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725095840"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725095840"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725095840/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3188,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725097038",
    "pull_request_review_id": 775131271,
    "id": 725097038,
    "node_id": "PRRC_kwDOABII584rOBpO",
    "diff_hunk": "@@ -3367,6 +3387,35 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n         }\n     }\n \n+    if (options.exists(\"input_weights\")) {\n+        const UniValue& inputs = options[\"input_weights\"].get_array();\n+        for (unsigned int i = 0; i < inputs.size(); ++i) {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 51,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "yanmaani",
      "id": 68476452,
      "node_id": "MDQ6VXNlcjY4NDc2NDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yanmaani",
      "html_url": "https://github.com/yanmaani",
      "followers_url": "https://api.github.com/users/yanmaani/followers",
      "following_url": "https://api.github.com/users/yanmaani/following{/other_user}",
      "gists_url": "https://api.github.com/users/yanmaani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yanmaani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
      "organizations_url": "https://api.github.com/users/yanmaani/orgs",
      "repos_url": "https://api.github.com/users/yanmaani/repos",
      "events_url": "https://api.github.com/users/yanmaani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yanmaani/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Any reason here not to use a C++-style loop? Granted, it's not a big difference.",
    "created_at": "2021-10-08T15:12:22Z",
    "updated_at": "2021-10-08T15:25:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725097038",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725097038"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725097038"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725097038/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3392,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725098362",
    "pull_request_review_id": 775131271,
    "id": 725098362,
    "node_id": "PRRC_kwDOABII584rOB96",
    "diff_hunk": "@@ -3446,7 +3512,7 @@ static RPCHelpMan fundrawtransaction()\n                                 },\n                             },\n                         },\n-                        FundTxDoc()),\n+                        FundTxDoc(true)),",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 110,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "yanmaani",
      "id": 68476452,
      "node_id": "MDQ6VXNlcjY4NDc2NDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yanmaani",
      "html_url": "https://github.com/yanmaani",
      "followers_url": "https://api.github.com/users/yanmaani/followers",
      "following_url": "https://api.github.com/users/yanmaani/following{/other_user}",
      "gists_url": "https://api.github.com/users/yanmaani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yanmaani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
      "organizations_url": "https://api.github.com/users/yanmaani/orgs",
      "repos_url": "https://api.github.com/users/yanmaani/repos",
      "events_url": "https://api.github.com/users/yanmaani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yanmaani/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Comment here explaining the name of the parameter?",
    "created_at": "2021-10-08T15:14:21Z",
    "updated_at": "2021-10-08T15:25:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725098362",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725098362"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725098362"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725098362/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3515,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725099707",
    "pull_request_review_id": 775131271,
    "id": 725099707,
    "node_id": "PRRC_kwDOABII584rOCS7",
    "diff_hunk": "@@ -3404,6 +3453,23 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n     }\n }\n \n+static void SetOptionsInputWeights(const UniValue& inputs, UniValue& options)\n+{\n+    if (options.exists(\"input_weights\")) {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 47,
    "original_position": 87,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "yanmaani",
      "id": 68476452,
      "node_id": "MDQ6VXNlcjY4NDc2NDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yanmaani",
      "html_url": "https://github.com/yanmaani",
      "followers_url": "https://api.github.com/users/yanmaani/followers",
      "following_url": "https://api.github.com/users/yanmaani/following{/other_user}",
      "gists_url": "https://api.github.com/users/yanmaani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yanmaani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
      "organizations_url": "https://api.github.com/users/yanmaani/orgs",
      "repos_url": "https://api.github.com/users/yanmaani/repos",
      "events_url": "https://api.github.com/users/yanmaani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yanmaani/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "What's going on here? Are there two mutually exclusive ways to give the input weights?",
    "created_at": "2021-10-08T15:16:02Z",
    "updated_at": "2021-10-08T15:25:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725099707",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725099707"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725099707"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725099707/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3436,
    "original_line": 3436,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725101698",
    "pull_request_review_id": 775131271,
    "id": 725101698,
    "node_id": "PRRC_kwDOABII584rOCyC",
    "diff_hunk": "@@ -463,15 +463,17 @@ bool SelectCoins(const CWallet& wallet, const std::vector<COutput>& vAvailableCo\n             }\n             input_bytes = GetTxSpendSize(wallet, wtx, outpoint.n, false);\n             txout = wtx.tx->vout.at(outpoint.n);\n-        }\n-        if (input_bytes == -1) {\n-            // The input is external. We either did not find the tx in mapWallet, or we did but couldn't compute the input size with wallet data\n+        } else {\n+            // The input is external. We did not find the tx in mapWallet.",
    "path": "src/wallet/spend.cpp",
    "position": 8,
    "original_position": 8,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "yanmaani",
      "id": 68476452,
      "node_id": "MDQ6VXNlcjY4NDc2NDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yanmaani",
      "html_url": "https://github.com/yanmaani",
      "followers_url": "https://api.github.com/users/yanmaani/followers",
      "following_url": "https://api.github.com/users/yanmaani/following{/other_user}",
      "gists_url": "https://api.github.com/users/yanmaani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yanmaani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
      "organizations_url": "https://api.github.com/users/yanmaani/orgs",
      "repos_url": "https://api.github.com/users/yanmaani/repos",
      "events_url": "https://api.github.com/users/yanmaani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yanmaani/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Pardon my ignorance here, but why do we need it in `mapWallet` if we have its size?",
    "created_at": "2021-10-08T15:18:43Z",
    "updated_at": "2021-10-08T15:25:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725101698",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725101698"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725101698"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725101698/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 467,
    "original_line": 467,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725104913",
    "pull_request_review_id": 775131271,
    "id": 725104913,
    "node_id": "PRRC_kwDOABII584rODkR",
    "diff_hunk": "@@ -1023,6 +1023,11 @@ def test_external_inputs(self):\n         assert_raises_rpc_error(-5, \"'01234567890a0b0c0d0e0f' is not a valid public key\", wallet.fundrawtransaction, raw_tx, {\"solving_data\": {\"pubkeys\":[\"01234567890a0b0c0d0e0f\"]}})\n         assert_raises_rpc_error(-5, \"'not a script' is not hex\", wallet.fundrawtransaction, raw_tx, {\"solving_data\": {\"scripts\":[\"not a script\"]}})\n         assert_raises_rpc_error(-8, \"Unable to parse descriptor 'not a descriptor'\", wallet.fundrawtransaction, raw_tx, {\"solving_data\": {\"descriptors\":[\"not a descriptor\"]}})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, missing vout key\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"]}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, vout cannot be negative\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": -1}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, missing weight key\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"]}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, weight cannot be less than 160\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": 159}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, weight cannot be less than 160\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": -1}]})\n ",
    "path": "test/functional/rpc_fundrawtransaction.py",
    "position": 9,
    "original_position": 9,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "yanmaani",
      "id": 68476452,
      "node_id": "MDQ6VXNlcjY4NDc2NDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/68476452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yanmaani",
      "html_url": "https://github.com/yanmaani",
      "followers_url": "https://api.github.com/users/yanmaani/followers",
      "following_url": "https://api.github.com/users/yanmaani/following{/other_user}",
      "gists_url": "https://api.github.com/users/yanmaani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yanmaani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yanmaani/subscriptions",
      "organizations_url": "https://api.github.com/users/yanmaani/orgs",
      "repos_url": "https://api.github.com/users/yanmaani/repos",
      "events_url": "https://api.github.com/users/yanmaani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yanmaani/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Are you missing the `Specify weight in inputs instead` error case?",
    "created_at": "2021-10-08T15:22:59Z",
    "updated_at": "2021-10-08T15:25:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725104913",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725104913"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725104913"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725104913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1031,
    "original_line": 1031,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725125227",
    "pull_request_review_id": 775173618,
    "id": 725125227,
    "node_id": "PRRC_kwDOABII584rOIhr",
    "diff_hunk": "@@ -114,9 +114,29 @@ class CCoinControl\n         vOutpoints.assign(setSelected.begin(), setSelected.end());\n     }\n \n+    void SetInputWeight(const COutPoint& outpoint, int64_t weight)\n+    {\n+        m_input_weights[outpoint] = weight;\n+    }\n+\n+    bool HasInputWeight(const COutPoint& outpoint) const\n+    {\n+        return m_input_weights.count(outpoint) > 0;",
    "path": "src/wallet/coincontrol.h",
    "position": 11,
    "original_position": 11,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is checking whether the outpoint exists in the map. The result of `count` is always 0 or 1, it does not actually fetch the value stored.",
    "created_at": "2021-10-08T15:50:42Z",
    "updated_at": "2021-10-08T15:50:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725125227",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725125227"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725125227"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725125227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 124,
    "original_line": 124,
    "side": "RIGHT",
    "in_reply_to_id": 725094128
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725130904",
    "pull_request_review_id": 775181098,
    "id": 725130904,
    "node_id": "PRRC_kwDOABII584rOJ6Y",
    "diff_hunk": "@@ -3404,6 +3453,23 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n     }\n }\n \n+static void SetOptionsInputWeights(const UniValue& inputs, UniValue& options)\n+{\n+    if (options.exists(\"input_weights\")) {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 47,
    "original_position": 87,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes.\r\n\r\nFor `send` and `walletcreatefundedpsbt`, the weights can and should be specified in the inputs array. To avoid conflicts, these are mutually exclusive. `input_weights` exists for `fundrawtransaction` because it does not have an `inputs` array. However it is also useful to be able to pass it as part of the `options` object, which is what this function does.",
    "created_at": "2021-10-08T15:58:20Z",
    "updated_at": "2021-10-08T15:58:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725130904",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725130904"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725130904"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725130904/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3436,
    "original_line": 3436,
    "side": "RIGHT",
    "in_reply_to_id": 725099707
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725131187",
    "pull_request_review_id": 775181460,
    "id": 725131187,
    "node_id": "PRRC_kwDOABII584rOJ-z",
    "diff_hunk": "@@ -3446,7 +3512,7 @@ static RPCHelpMan fundrawtransaction()\n                                 },\n                             },",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 68,
    "original_position": 107,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sorry for causing the conflict, but it might be cleaner to just inline the doc here if only one RPC method is using it and none of the others.\r\n\r\n```suggestion\r\n                            },\r\n                            {\"input_weights\", RPCArg::.......\r\n```",
    "created_at": "2021-10-08T15:58:42Z",
    "updated_at": "2021-10-08T15:58:52Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725131187",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725131187"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725131187"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725131187/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3491,
    "original_line": 3491,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725131633",
    "pull_request_review_id": 775182121,
    "id": 725131633,
    "node_id": "PRRC_kwDOABII584rOKFx",
    "diff_hunk": "@@ -463,15 +463,17 @@ bool SelectCoins(const CWallet& wallet, const std::vector<COutput>& vAvailableCo\n             }\n             input_bytes = GetTxSpendSize(wallet, wtx, outpoint.n, false);\n             txout = wtx.tx->vout.at(outpoint.n);\n-        }\n-        if (input_bytes == -1) {\n-            // The input is external. We either did not find the tx in mapWallet, or we did but couldn't compute the input size with wallet data\n+        } else {\n+            // The input is external. We did not find the tx in mapWallet.",
    "path": "src/wallet/spend.cpp",
    "position": 8,
    "original_position": 8,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "We are not guaranteed to have the size.",
    "created_at": "2021-10-08T15:59:24Z",
    "updated_at": "2021-10-08T15:59:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725131633",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725131633"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725131633"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725131633/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 467,
    "original_line": 467,
    "side": "RIGHT",
    "in_reply_to_id": 725101698
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138412",
    "pull_request_review_id": 775191352,
    "id": 725138412,
    "node_id": "PRRC_kwDOABII584rOLvs",
    "diff_hunk": "@@ -3177,9 +3177,27 @@ static RPCHelpMan listunspent()\n     };\n }\n \n+static RPCArg InputWeightsDoc(bool include=false)\n+{\n+    if (include) {\n+        return {\n+            \"input_weights\", RPCArg::Type::ARR, RPCArg::Optional::OMITTED_NAMED_ARG, \"Inputs and their corresponding weights\",\n+             {\n+                 {\"txid\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The transaction id\"},\n+                 {\"vout\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The output number\"},\n+                 {\"weight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The maximum weight for this input, including the weight of the outpoint and sequence number. Note that signature sizes are not guaranteed to be consistent, so the maximum DER signatures size of 73 bytes should be used when considering ECDSA signatures\"},",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2021-10-08T16:09:18Z",
    "updated_at": "2021-10-08T16:09:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725138412",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138412"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725138412"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3188,
    "side": "RIGHT",
    "in_reply_to_id": 725095840
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138464",
    "pull_request_review_id": 775191443,
    "id": 725138464,
    "node_id": "PRRC_kwDOABII584rOLwg",
    "diff_hunk": "@@ -3367,6 +3387,35 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n         }\n     }\n \n+    if (options.exists(\"input_weights\")) {\n+        const UniValue& inputs = options[\"input_weights\"].get_array();\n+        for (unsigned int i = 0; i < inputs.size(); ++i) {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 51,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2021-10-08T16:09:23Z",
    "updated_at": "2021-10-08T16:09:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725138464",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138464"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725138464"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3392,
    "side": "RIGHT",
    "in_reply_to_id": 725097038
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138729",
    "pull_request_review_id": 775191738,
    "id": 725138729,
    "node_id": "PRRC_kwDOABII584rOL0p",
    "diff_hunk": "@@ -3446,7 +3512,7 @@ static RPCHelpMan fundrawtransaction()\n                                 },\n                             },\n                         },\n-                        FundTxDoc()),\n+                        FundTxDoc(true)),",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 110,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Removed the comment, the help can actually be inline.",
    "created_at": "2021-10-08T16:09:43Z",
    "updated_at": "2021-10-08T16:09:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725138729",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138729"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725138729"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725138729/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3515,
    "side": "RIGHT",
    "in_reply_to_id": 725098362
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725139015",
    "pull_request_review_id": 775192075,
    "id": 725139015,
    "node_id": "PRRC_kwDOABII584rOL5H",
    "diff_hunk": "@@ -3446,7 +3512,7 @@ static RPCHelpMan fundrawtransaction()\n                                 },\n                             },",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 68,
    "original_position": 107,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done. For some reason I thought it needed to be in that function, but actually it doesn't.",
    "created_at": "2021-10-08T16:10:07Z",
    "updated_at": "2021-10-08T16:10:07Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725139015",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725139015"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725139015"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725139015/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3491,
    "original_line": 3491,
    "side": "RIGHT",
    "in_reply_to_id": 725131187
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725147359",
    "pull_request_review_id": 775203058,
    "id": 725147359,
    "node_id": "PRRC_kwDOABII584rON7f",
    "diff_hunk": "@@ -1023,6 +1023,11 @@ def test_external_inputs(self):\n         assert_raises_rpc_error(-5, \"'01234567890a0b0c0d0e0f' is not a valid public key\", wallet.fundrawtransaction, raw_tx, {\"solving_data\": {\"pubkeys\":[\"01234567890a0b0c0d0e0f\"]}})\n         assert_raises_rpc_error(-5, \"'not a script' is not hex\", wallet.fundrawtransaction, raw_tx, {\"solving_data\": {\"scripts\":[\"not a script\"]}})\n         assert_raises_rpc_error(-8, \"Unable to parse descriptor 'not a descriptor'\", wallet.fundrawtransaction, raw_tx, {\"solving_data\": {\"descriptors\":[\"not a descriptor\"]}})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, missing vout key\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"]}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, vout cannot be negative\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": -1}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, missing weight key\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"]}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, weight cannot be less than 160\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": 159}]})\n+        assert_raises_rpc_error(-8, \"Invalid parameter, weight cannot be less than 160\", wallet.fundrawtransaction, raw_tx, {\"input_weights\": [{\"txid\": ext_utxo[\"txid\"], \"vout\": ext_utxo[\"vout\"], \"weight\": -1}]})\n ",
    "path": "test/functional/rpc_fundrawtransaction.py",
    "position": 9,
    "original_position": 9,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "d0592296b13c6316cd681fc0df1effcf9c7e31e4",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Added to `rpc_psbt` and `wallet_send` where it actually can be an error.",
    "created_at": "2021-10-08T16:22:25Z",
    "updated_at": "2021-10-08T16:22:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725147359",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725147359"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r725147359"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725147359/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1031,
    "original_line": 1031,
    "side": "RIGHT",
    "in_reply_to_id": 725104913
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731363383",
    "pull_request_review_id": 782637722,
    "id": 731363383,
    "node_id": "PRRC_kwDOABII584rl7g3",
    "diff_hunk": "@@ -114,9 +114,29 @@ class CCoinControl\n         vOutpoints.assign(setSelected.begin(), setSelected.end());\n     }\n \n+    void SetInputWeight(const COutPoint& outpoint, int64_t weight)\n+    {\n+        m_input_weights[outpoint] = weight;\n+    }\n+\n+    bool HasInputWeight(const COutPoint& outpoint) const\n+    {\n+        return m_input_weights.count(outpoint) > 0;\n+    }\n+\n+    int64_t GetInputWeight(const COutPoint& outpoint) const\n+    {\n+        if (HasInputWeight(outpoint)) {",
    "path": "src/wallet/coincontrol.h",
    "position": null,
    "original_position": 16,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It seems that all callers already check for this. Instead of returning -1, how about\r\n```cpp\r\nint64_t GetInputWeight(const COutPoint& outpoint) const\r\n{\r\n    auto it = m_input_weights.find(output);\r\n    assert(it != m_input_weights.end();\r\n    return it->second;\r\n}\r\n```",
    "created_at": "2021-10-18T22:35:43Z",
    "updated_at": "2021-10-18T22:53:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731363383",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731363383"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731363383"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731363383/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 129,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731367942",
    "pull_request_review_id": 782637722,
    "id": 731367942,
    "node_id": "PRRC_kwDOABII584rl8oG",
    "diff_hunk": "@@ -3404,6 +3431,23 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n     }\n }\n \n+static void SetOptionsInputWeights(const UniValue& inputs, UniValue& options)\n+{\n+    if (options.exists(\"input_weights\")) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Specify weight in inputs instead\");\n+    }\n+    if (inputs.size() == 0) {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 50,
    "original_position": 50,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Instead of this check, check below:\r\n```cpp\r\nif (!weights.empty()) {\r\n    options.pushKV(\"input_weights\", weights);\r\n}\r\n```",
    "created_at": "2021-10-18T22:46:22Z",
    "updated_at": "2021-10-18T22:53:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731367942",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731367942"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731367942"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731367942/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3439,
    "original_line": 3439,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731394750",
    "pull_request_review_id": 782674268,
    "id": 731394750,
    "node_id": "PRRC_kwDOABII584rmDK-",
    "diff_hunk": "@@ -114,9 +114,29 @@ class CCoinControl\n         vOutpoints.assign(setSelected.begin(), setSelected.end());\n     }\n \n+    void SetInputWeight(const COutPoint& outpoint, int64_t weight)\n+    {\n+        m_input_weights[outpoint] = weight;\n+    }\n+\n+    bool HasInputWeight(const COutPoint& outpoint) const\n+    {\n+        return m_input_weights.count(outpoint) > 0;\n+    }\n+\n+    int64_t GetInputWeight(const COutPoint& outpoint) const\n+    {\n+        if (HasInputWeight(outpoint)) {",
    "path": "src/wallet/coincontrol.h",
    "position": null,
    "original_position": 16,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2021-10-18T23:57:05Z",
    "updated_at": "2021-10-18T23:57:05Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731394750",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731394750"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731394750"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731394750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 129,
    "side": "RIGHT",
    "in_reply_to_id": 731363383
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731394871",
    "pull_request_review_id": 782674406,
    "id": 731394871,
    "node_id": "PRRC_kwDOABII584rmDM3",
    "diff_hunk": "@@ -3404,6 +3431,23 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n     }\n }\n \n+static void SetOptionsInputWeights(const UniValue& inputs, UniValue& options)\n+{\n+    if (options.exists(\"input_weights\")) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Specify weight in inputs instead\");\n+    }\n+    if (inputs.size() == 0) {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 50,
    "original_position": 50,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This doesn't work because `inputs.getValues()` expects `inputs` to be non-null.",
    "created_at": "2021-10-18T23:57:25Z",
    "updated_at": "2021-10-18T23:57:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731394871",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731394871"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731394871"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731394871/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3439,
    "original_line": 3439,
    "side": "RIGHT",
    "in_reply_to_id": 731367942
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731579384",
    "pull_request_review_id": 782898092,
    "id": 731579384,
    "node_id": "PRRC_kwDOABII584rmwP4",
    "diff_hunk": "@@ -3404,6 +3431,23 @@ void FundTransaction(CWallet& wallet, CMutableTransaction& tx, CAmount& fee_out,\n     }\n }\n \n+static void SetOptionsInputWeights(const UniValue& inputs, UniValue& options)\n+{\n+    if (options.exists(\"input_weights\")) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Specify weight in inputs instead\");\n+    }\n+    if (inputs.size() == 0) {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 50,
    "original_position": 50,
    "commit_id": "cea4f3489b675c9271c91da6f9bd9d9f4eff5af0",
    "original_commit_id": "0224b9db65824064ca3a28f9802f5327735b95bb",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, right \ud83d\ude1e  you can keep the check below to avoid `\"input_weights\": []`.",
    "created_at": "2021-10-19T07:40:10Z",
    "updated_at": "2021-10-19T07:40:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731579384",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731579384"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/23201#discussion_r731579384"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23201"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731579384/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3439,
    "original_line": 3439,
    "side": "RIGHT",
    "in_reply_to_id": 731367942
  }
]