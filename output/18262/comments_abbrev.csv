DrahtBot,2020-03-04 22:58:20,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #17526 (Use Single Random Draw In addition to knapsack as coin selection fallback by achow101)\n* #17331 (Use effective va",https://github.com/bitcoin/bitcoin/pull/18262#issuecomment-594915186,594915186,
practicalswift,2020-03-04 23:07:38,Concept ACK,https://github.com/bitcoin/bitcoin/pull/18262#issuecomment-594919329,594919329,
fjahr,2020-03-04 23:44:32,"Concept ACK on this as it is an improvement!\n\nHowever, looking at this I had another thought: given we have two possible solutions with 0 waste, would we not want to minimize fees by selecting the one with fewer inputs? So, instead of stopping early we could still run through all the tries and select the best waste option with the least inputs. Actually this could be an additional breaker betw",https://github.com/bitcoin/bitcoin/pull/18262#issuecomment-594940669,594940669,
achow101,2020-03-05 00:11:34,"> However, looking at this I had another thought: given we have two possible solutions with 0 waste, would we not want to minimize fees by selecting the one with fewer inputs? So, instead of stopping early we could still run through all the tries and select the best waste option with the least inputs. Actually this could be an additional breaker between any equal waste options.\n\nFewer inputs d",https://github.com/bitcoin/bitcoin/pull/18262#issuecomment-594955255,594955255,
instagibbs,2020-03-05 13:54:17,"> So long as fee > long_term_fee, the waste metric will include an amount that is proportional to the fee each input requires, so in the end, the selection that has the least waste also pays the least in transaction fees.\n\njust to nit, in this case, `fee == long_term_fee`, right? I think it could go either way, if the user expects long term fees to go up or down they might want to pick more or",https://github.com/bitcoin/bitcoin/pull/18262#issuecomment-595241281,595241281,
instagibbs,2020-03-05 13:54:25,aka concept ACK,https://github.com/bitcoin/bitcoin/pull/18262#issuecomment-595241325,595241325,
laanwj,2020-03-06 18:10:26,"Obvious concept ACK.\nIs this a case that happens in practice though? I mean, is it worth special-casing, or doesn't it really matter to do a few more iterations in an unlikely 'optimal' case? I don't really have an intuition for this.",https://github.com/bitcoin/bitcoin/pull/18262#issuecomment-595892344,595892344,
yancyribbens,2020-03-07 09:43:02,"> Is this a case that happens in practice though?\n\nThat's also a question I have.  My intuition is it's very unlikely to have an exact match in practice.  Also, I think If the cost of change is sufficiently small, its unlikely to have any match including an exact match.",https://github.com/bitcoin/bitcoin/pull/18262#issuecomment-596068022,596068022,
achow101,2020-03-07 14:34:27,"I think this condition is fairly hard to hit and probably doesn't make much of a difference. I think that most wallets will hit the iteration limit in BnB as we do search for more solutions after finding the first one, so exiting early probably isn't helping that much anyways.",https://github.com/bitcoin/bitcoin/pull/18262#issuecomment-596094586,596094586,
instagibbs,2020-03-20 18:57:28,"I think this extra logic is really easy to understand and maintainable, therefore should be merged(provided proper review) regardless or not how theoretical people find it.",https://github.com/bitcoin/bitcoin/pull/18262#issuecomment-601862193,601862193,
instagibbs,2020-03-20 18:58:25,utACK https://github.com/bitcoin/bitcoin/pull/18262/commits/9b5950db8683f9b4be03f79ee0aae8a780b01a4b,https://github.com/bitcoin/bitcoin/pull/18262#issuecomment-601862618,601862618,
instagibbs,2020-03-05 14:11:13,why these changes?,https://github.com/bitcoin/bitcoin/pull/18262#discussion_r388316467,388316467,src/wallet/test/coinselector_tests.cpp
achow101,2020-03-05 16:08:29,There is an optimal result earlier in the selection so that changes the outcome here.,https://github.com/bitcoin/bitcoin/pull/18262#discussion_r388396230,388396230,src/wallet/test/coinselector_tests.cpp
