[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345148386",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-345148386",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 345148386,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTE0ODM4Ng==",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?u=256d78207f88d303d61b62060a309657276cf6cb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-17T05:21:45Z",
    "updated_at": "2017-11-17T05:23:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "NACK, redeemScript + scriptPubKey are sufficient information to know whether you are talking about P2SH-P2WSH, P2SH, P2WSH. Having one more \"witness script\" is just redundant information which can go wrong.\r\n\r\nIf you enter the witness script in \"redeemScript\" field, you can easily find out in code if it mean P2SH or Witness by comparing with the scriptPubKey, there is no ambiguity.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345148386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345150004",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-345150004",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 345150004,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTE1MDAwNA==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-17T05:35:09Z",
    "updated_at": "2017-11-17T05:35:09Z",
    "author_association": "MEMBER",
    "body": "@NicolasDorier How so? The redeemscript only contains a hash of the witness script in the case of P2SH-P2WSH, which is not sufficient to sign with.\n\nIt would be possible to require passing only the witness script, and automatically also add the v0 P2WSH redeemscript (and any future versions?). But just the redeemscript is not enough.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345150004/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345155716",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-345155716",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 345155716,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTE1NTcxNg==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-17T06:18:56Z",
    "updated_at": "2017-11-17T06:20:25Z",
    "author_association": "MEMBER",
    "body": "Indeed, IMO its much cleaner implementation and user experience to have the witnessScript provided in addition to the redeemScript, not only because that avoids the ambiguous witness version issue in a nice way but also because then it is clear to the user which script the redeemScript actually refers to (because the redeemScript output of other RPCs in general would refer to the wrapper P2SH redeemScript not the witnessScript which would introduce confusion).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345155716/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345366064",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-345366064",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 345366064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTM2NjA2NA==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-17T21:10:02Z",
    "updated_at": "2017-11-17T21:10:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK. Can you add a test?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345366064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345388311",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-345388311",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 345388311,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTM4ODMxMQ==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-17T22:57:27Z",
    "updated_at": "2017-11-17T22:57:27Z",
    "author_association": "MEMBER",
    "body": "@jonasschnelli yep will do, see TODO section :) Just trying to work out the cleanest way to test it wrt all the existing tests in segwit.py",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345388311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345432938",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-345432938",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 345432938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTQzMjkzOA==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-18T10:24:04Z",
    "updated_at": "2017-11-18T10:24:31Z",
    "author_association": "MEMBER",
    "body": "Test and release notes added, @jonasschnelli's nits addresses",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345432938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345592667",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-345592667",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 345592667,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTU5MjY2Nw==",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?u=256d78207f88d303d61b62060a309657276cf6cb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-20T05:04:04Z",
    "updated_at": "2017-11-20T05:07:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is how I am doing with NBitcoin for long.\r\n\r\n@sipa if you have `redeemscript` and `scriptPubKey` you can know exactly wether redeemScript is a Segwit or P2SH redeem.\r\n\r\nIf `scriptPubKey` is P2WSH, then you know `redeemScript` is a segwit redeem.\r\n\r\nIf `scriptPubKey` is P2SH, you know `redeemScript` is either a P2SH redeem or a Segwit Redeem.\r\n\r\nIf `Hash(redeemScript) is contained inside scriptPubKey`, then it is a P2SH redeem else it is a segwit redeem. If it is a P2SH redeem, and inside is a segwit program, you must return error to the user.\r\n\r\nYou can then Hash(Hash(redeemScript)) and verify that it is indeed into `ScriptPubKey` to be sure the user did not messed up.\r\n\r\nYou can derive the P2SH redeem from the Segwit redeem, so no need to specify both.\r\n\r\nAgain, strong NACK on this one. This is not needed.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345592667/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345593132",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-345593132",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 345593132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTU5MzEzMg==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-20T05:08:07Z",
    "updated_at": "2017-11-20T05:08:07Z",
    "author_association": "MEMBER",
    "body": "@NicolasDorier Ah, I'm using redeemscript exclusively for P2SH.\n\nYes, if you have the witness script, and can correctly guess it is a V0 P2WSH embedded in P2SH, you can derive the redeemscript.\n\nI'm not convinced guessing is the best approach.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345593132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345593451",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-345593451",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 345593451,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTU5MzQ1MQ==",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?u=256d78207f88d303d61b62060a309657276cf6cb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-20T05:11:08Z",
    "updated_at": "2017-11-20T05:18:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Well the thing is that this field is called `redeemScript` which does not suppose it is P2SH or Segwit redeem, and it does not have to.\r\n\r\nIf you insist having both redeem, then I would suggest to rename `redeemScript` as `p2shRedeem`.\r\n\r\nBut then, the logic of this RPC method will need to ensure that all, `witnessScript`, `p2shRedeem` and `scriptPubKey` are coherent.\r\n\r\nI am convinced specifying both is just wrong as there is no ambiguity, no way to guess incorrectly. Just more way for the user to get wrong and confused, and more code to ensure everything is coherent on both side.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345593451/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345607577",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-345607577",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 345607577,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTYwNzU3Nw==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-20T06:59:15Z",
    "updated_at": "2017-11-20T06:59:15Z",
    "author_association": "MEMBER",
    "body": "@NicolasDorier That's the fair point, the naming would be inconsistent in that case.\r\n\r\nWe also don't actually need to distinguish for our implementation. @MeshCollider perhaps we can just permit redeemScript to be a list, in which case multiple scripts gets loaded with AddCScript?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345607577/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345666863",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-345666863",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 345666863,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTY2Njg2Mw==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-20T11:19:06Z",
    "updated_at": "2017-11-20T11:19:51Z",
    "author_association": "MEMBER",
    "body": "Yep I'm happy with that approach too, I just definitely want to avoid guessing the witness version as mentioned. Although re: terminology, I've only ever seen redeemScript used to refer exclusively to P2SH, even the [bitcoincore.org segwit wallet dev guide](http://bitcoincore.org/en/segwit_wallet_dev/) refers to the witness redeem script as witnessScript only.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345666863/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345897851",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-345897851",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 345897851,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTg5Nzg1MQ==",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?u=256d78207f88d303d61b62060a309657276cf6cb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-21T02:34:47Z",
    "updated_at": "2017-11-21T02:36:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "The fact that \"redeemScript\" can refer to all type of PS2SH*-P2WSH* redeems makes migration from P2SH to Segwit easier, as there is no additional fields to pass around that did not existed before.\r\n\r\nIn NBitcoin, there is a type called `ScriptCoin` which was used to represent a P2SH + Redeem. When I updated the library for  Segwit, I only needed to instruct my users that if they want to migrate to  P2SH-P2WSH they just need a different way of calculating the ScriptPubKey when generating a new address. The majority of their code did not changed. (No additional field, old non-segwit UTXO were still working fine, no additional type to know about, no if/else logic for handling both way in their code)\r\n\r\nThat said I would be fine with redeemScript being an array as well.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345897851/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346543626",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-346543626",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 346543626,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjU0MzYyNg==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-23T07:06:04Z",
    "updated_at": "2017-11-23T07:06:04Z",
    "author_association": "MEMBER",
    "body": "I've made the modification to include the witnessScript in a redeem script array in the case of P2SH-P2WSH, will squash those modification commits if that approach is acceptable",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346543626/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/347702349",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-347702349",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 347702349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzcwMjM0OQ==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-28T23:42:56Z",
    "updated_at": "2017-11-28T23:42:56Z",
    "author_association": "MEMBER",
    "body": "Fixed, thanks @NicolasDorier \r\nSquashed fixups too",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/347702349/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/347741428",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-347741428",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 347741428,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0Nzc0MTQyOA==",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?u=256d78207f88d303d61b62060a309657276cf6cb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-29T03:25:23Z",
    "updated_at": "2017-11-29T03:25:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Code review ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/347741428/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351221570",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-351221570",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 351221570,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTIyMTU3MA==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-12T22:50:54Z",
    "updated_at": "2017-12-12T22:50:54Z",
    "author_association": "MEMBER",
    "body": "Rebased and added the extra check as suggested by @NicolasDorier. That also fixed the unused OP_0 warning.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351221570/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351262752",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-351262752",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 351262752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTI2Mjc1Mg==",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?u=256d78207f88d303d61b62060a309657276cf6cb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-13T02:32:15Z",
    "updated_at": "2017-12-13T02:32:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "reACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351262752/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351440892",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-351440892",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 351440892,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTQ0MDg5Mg==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-13T16:17:32Z",
    "updated_at": "2017-12-13T16:17:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "Should passing a redeem script array to signrawtransaction be possible with bitcoin-cli? It looks this might not work currently because the param does not have an entry in vRPCConvertParams. You might be able to work around this with something like:\r\n\r\n```c++\r\nif (redeem_script.isStr() && !IsHex(redeem_script.get_str())) {\r\n    redeem_script.read(redeem_script.get_str().substr());\r\n    RPCTypeCheckArgument(redeem_script, UniValue::VARR);\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351440892/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352435455",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-352435455",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 352435455,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjQzNTQ1NQ==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-18T14:09:31Z",
    "updated_at": "2017-12-18T14:09:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "This PR has two code review acks (from me and NicolasDorier) so maybe it is close to being merged. The remaining comments that haven't been responded to are minor and shouldn't hold this up.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352435455/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352915339",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-352915339",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 352915339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjkxNTMzOQ==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-19T23:12:33Z",
    "updated_at": "2017-12-19T23:12:33Z",
    "author_association": "MEMBER",
    "body": "Addressed @ryanofsky feedback, thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352915339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353222613",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-353222613",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 353222613,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzIyMjYxMw==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-21T00:29:27Z",
    "updated_at": "2017-12-21T00:29:27Z",
    "author_association": "MEMBER",
    "body": "Feedback addressed, fixup commits squashed into one cleanup commit",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353222613/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353761566",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-353761566",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 353761566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mzc2MTU2Ng==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-24T02:32:59Z",
    "updated_at": "2017-12-24T02:33:50Z",
    "author_association": "MEMBER",
    "body": "Fixed @ryanofsky's comments, thanks :) Haven't tested CLI yet though",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353761566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358157946",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-358157946",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 358157946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODE1Nzk0Ng==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-17T00:51:31Z",
    "updated_at": "2018-01-17T00:52:06Z",
    "author_association": "MEMBER",
    "body": "Rebased to fix merge conflict in rawtransactions.py",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358157946/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/365103590",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-365103590",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 365103590,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NTEwMzU5MA==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-12T23:53:02Z",
    "updated_at": "2018-02-12T23:53:02Z",
    "author_association": "MEMBER",
    "body": "Concept ACK. Rebase/squash last commit?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/365103590/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/365181850",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-365181850",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 365181850,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NTE4MTg1MA==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-13T08:10:11Z",
    "updated_at": "2018-02-13T08:10:11Z",
    "author_association": "MEMBER",
    "body": "@sipa done :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/365181850/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/415981158",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-415981158",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 415981158,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTk4MTE1OA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-25T16:35:17Z",
    "updated_at": "2018-08-25T16:35:17Z",
    "author_association": "MEMBER",
    "body": "Needs rebase",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/415981158/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/429716224",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-429716224",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 429716224,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTcxNjIyNA==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-15T05:49:21Z",
    "updated_at": "2018-10-15T05:49:21Z",
    "author_association": "MEMBER",
    "body": "Closing this, replaced by #14481",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/429716224/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436447889",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#issuecomment-436447889",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11708",
    "id": 436447889,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjQ0Nzg4OQ==",
    "user": {
      "login": "Rspigler",
      "id": 24482484,
      "node_id": "MDQ6VXNlcjI0NDgyNDg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/24482484?u=7354800fee53a3db4ba3c6aa40de4ea8c3bf58f0&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Rspigler",
      "html_url": "https://github.com/Rspigler",
      "followers_url": "https://api.github.com/users/Rspigler/followers",
      "following_url": "https://api.github.com/users/Rspigler/following{/other_user}",
      "gists_url": "https://api.github.com/users/Rspigler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Rspigler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Rspigler/subscriptions",
      "organizations_url": "https://api.github.com/users/Rspigler/orgs",
      "repos_url": "https://api.github.com/users/Rspigler/repos",
      "events_url": "https://api.github.com/users/Rspigler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Rspigler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-06T23:30:39Z",
    "updated_at": "2018-11-06T23:30:39Z",
    "author_association": "NONE",
    "body": "@fanquake This should be removed from 'In Progress' in 'Segwit' and https://github.com/bitcoin/bitcoin/pull/14481 perhaps added?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436447889/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151760982",
    "pull_request_review_id": 77526827,
    "id": 151760982,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTc2MDk4Mg==",
    "diff_hunk": "@@ -2808,17 +2808,18 @@ UniValue listunspent(const JSONRPCRequest& request)\n             \"\\nResult\\n\"\n             \"[                   (array of json object)\\n\"\n             \"  {\\n\"\n-            \"    \\\"txid\\\" : \\\"txid\\\",          (string) the transaction id \\n\"\n-            \"    \\\"vout\\\" : n,               (numeric) the vout value\\n\"\n-            \"    \\\"address\\\" : \\\"address\\\",    (string) the bitcoin address\\n\"\n-            \"    \\\"account\\\" : \\\"account\\\",    (string) DEPRECATED. The associated account, or \\\"\\\" for the default account\\n\"\n-            \"    \\\"scriptPubKey\\\" : \\\"key\\\",   (string) the script key\\n\"\n-            \"    \\\"amount\\\" : x.xxx,         (numeric) the transaction output amount in \" + CURRENCY_UNIT + \"\\n\"\n-            \"    \\\"confirmations\\\" : n,      (numeric) The number of confirmations\\n\"\n-            \"    \\\"redeemScript\\\" : n        (string) The redeemScript if scriptPubKey is P2SH\\n\"\n-            \"    \\\"spendable\\\" : xxx,        (bool) Whether we have the private keys to spend this output\\n\"\n-            \"    \\\"solvable\\\" : xxx,         (bool) Whether we know how to spend this output, ignoring the lack of keys\\n\"\n-            \"    \\\"safe\\\" : xxx              (bool) Whether this output is considered safe to spend. Unconfirmed transactions\\n\"\n+            \"    \\\"txid\\\" : \\\"txid\\\",            (string) the transaction id \\n\"\n+            \"    \\\"vout\\\" : n,                   (numeric) the vout value\\n\"",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "9e5c9ebe0231d9030eaccc336560e3898cd61b7b",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Watch out with the indentation,... the `\\\"` result in one char. It may look unaligned in the source code but is aligned in the help output.",
    "created_at": "2017-11-17T18:48:26Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r151760982",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151760982"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r151760982"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151760982/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2812,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151789014",
    "pull_request_review_id": 77560641,
    "id": 151789014,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTc4OTAxNA==",
    "diff_hunk": "@@ -2923,6 +2924,26 @@ UniValue listunspent(const JSONRPCRequest& request)\n                 CScript redeemScript;\n                 if (pwallet->GetCScript(hash, redeemScript)) {\n                     entry.push_back(Pair(\"redeemScript\", HexStr(redeemScript.begin(), redeemScript.end())));\n+                    CTxDestination witness_destination;\n+                    if(redeemScript.IsPayToWitnessScriptHash() && ExtractDestination(redeemScript, witness_destination)) {\n+                        const WitnessV0ScriptHash& whash = boost::get<WitnessV0ScriptHash>(witness_destination);\n+                        CScriptID id;\n+                        CRIPEMD160().Write(whash.begin(), 32).Finalize(id.begin());",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 38,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "9e5c9ebe0231d9030eaccc336560e3898cd61b7b",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: replace 32 with `sizeof()`?",
    "created_at": "2017-11-17T21:04:34Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r151789014",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151789014"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r151789014"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151789014/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2931,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151832181",
    "pull_request_review_id": 77610319,
    "id": 151832181,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgzMjE4MQ==",
    "diff_hunk": "@@ -2923,6 +2924,26 @@ UniValue listunspent(const JSONRPCRequest& request)\n                 CScript redeemScript;\n                 if (pwallet->GetCScript(hash, redeemScript)) {\n                     entry.push_back(Pair(\"redeemScript\", HexStr(redeemScript.begin(), redeemScript.end())));\n+                    CTxDestination witness_destination;\n+                    if(redeemScript.IsPayToWitnessScriptHash() && ExtractDestination(redeemScript, witness_destination)) {\n+                        const WitnessV0ScriptHash& whash = boost::get<WitnessV0ScriptHash>(witness_destination);\n+                        CScriptID id;\n+                        CRIPEMD160().Write(whash.begin(), whash.size()).Finalize(id.begin());\n+                        CScript witnessScript;\n+                        if (pwallet->GetCScript(id, witnessScript)) {\n+                            entry.push_back(Pair(\"witnessScript\", HexStr(witnessScript.begin(), witnessScript.end())));\n+                        }\n+                    }\n+                }\n+            }\n+\n+            if (scriptPubKey.IsPayToWitnessScriptHash()) {\n+                const WitnessV0ScriptHash& whash = boost::get<WitnessV0ScriptHash>(address);\n+                CScriptID id;\n+                CRIPEMD160().Write(whash.begin(), 32).Finalize(id.begin());",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 50,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "a0b90c9edf7f3b0d7cbcad79533c4ff257610fa9",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: the `whash.size()` should also go here... :P",
    "created_at": "2017-11-18T07:42:13Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r151832181",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151832181"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r151832181"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151832181/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2943,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151832339",
    "pull_request_review_id": 77610476,
    "id": 151832339,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTgzMjMzOQ==",
    "diff_hunk": "@@ -2923,6 +2924,26 @@ UniValue listunspent(const JSONRPCRequest& request)\n                 CScript redeemScript;\n                 if (pwallet->GetCScript(hash, redeemScript)) {\n                     entry.push_back(Pair(\"redeemScript\", HexStr(redeemScript.begin(), redeemScript.end())));\n+                    CTxDestination witness_destination;\n+                    if(redeemScript.IsPayToWitnessScriptHash() && ExtractDestination(redeemScript, witness_destination)) {\n+                        const WitnessV0ScriptHash& whash = boost::get<WitnessV0ScriptHash>(witness_destination);\n+                        CScriptID id;\n+                        CRIPEMD160().Write(whash.begin(), whash.size()).Finalize(id.begin());\n+                        CScript witnessScript;\n+                        if (pwallet->GetCScript(id, witnessScript)) {\n+                            entry.push_back(Pair(\"witnessScript\", HexStr(witnessScript.begin(), witnessScript.end())));\n+                        }\n+                    }\n+                }\n+            }\n+\n+            if (scriptPubKey.IsPayToWitnessScriptHash()) {\n+                const WitnessV0ScriptHash& whash = boost::get<WitnessV0ScriptHash>(address);\n+                CScriptID id;\n+                CRIPEMD160().Write(whash.begin(), 32).Finalize(id.begin());",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 50,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "a0b90c9edf7f3b0d7cbcad79533c4ff257610fa9",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Heh missed that, thanks :P ",
    "created_at": "2017-11-18T07:52:49Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r151832339",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151832339"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r151832339"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151832339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2943,
    "side": "RIGHT",
    "in_reply_to_id": 151832181
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152906089",
    "pull_request_review_id": 78839631,
    "id": 152906089,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjkwNjA4OQ==",
    "diff_hunk": "@@ -669,6 +669,7 @@ UniValue signrawtransaction(const JSONRPCRequest& request)\n             \"         \\\"vout\\\":n,                  (numeric, required) The output number\\n\"\n             \"         \\\"scriptPubKey\\\": \\\"hex\\\",   (string, required) script key\\n\"\n             \"         \\\"redeemScript\\\": \\\"hex\\\",   (string, required for P2SH or P2WSH) redeem script\\n\"\n+            \"         \\\"witnessScript\\\": \\\"hex\\\",  (string, required for P2SH-P2WSH) witness script\\n\"",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "8cb0b73b723d01de60961f10fe7f93e7abf0ef9b",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "you are not using that anymore",
    "created_at": "2017-11-24T06:58:31Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r152906089",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152906089"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r152906089"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152906089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 672,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152906099",
    "pull_request_review_id": 78839644,
    "id": 152906099,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjkwNjA5OQ==",
    "diff_hunk": "@@ -650,7 +650,7 @@ UniValue signrawtransaction(const JSONRPCRequest& request)\n \n     if (request.fHelp || request.params.size() < 1 || request.params.size() > 4)\n         throw std::runtime_error(\n-            \"signrawtransaction \\\"hexstring\\\" ( [{\\\"txid\\\":\\\"id\\\",\\\"vout\\\":n,\\\"scriptPubKey\\\":\\\"hex\\\",\\\"redeemScript\\\":\\\"hex\\\"},...] [\\\"privatekey1\\\",...] sighashtype )\\n\"\n+            \"signrawtransaction \\\"hexstring\\\" ( [{\\\"txid\\\":\\\"id\\\",\\\"vout\\\":n,\\\"scriptPubKey\\\":\\\"hex\\\",\\\"redeemScript\\\":\\\"hex\\\",\\\"witnessScript\\\":\\\"hex\\\"},...] [\\\"privatekey1\\\",...] sighashtype )\\n\"",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "8cb0b73b723d01de60961f10fe7f93e7abf0ef9b",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "you are not using that anymore",
    "created_at": "2017-11-24T06:58:37Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r152906099",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152906099"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r152906099"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152906099/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 653,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153685355",
    "pull_request_review_id": 79727211,
    "id": 153685355,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MzY4NTM1NQ==",
    "diff_hunk": "@@ -138,6 +139,35 @@ def run_test(self):\n         self.successful_signing_test()\n         self.script_verification_error_test()\n \n+        # Now test signing transaction to P2SH-P2WSH addresses without wallet\n+        # Create a new P2SH-P2WSH 1-of-1 multisig address:\n+        embedded_address = self.nodes[1].getnewaddress()\n+        embedded_pubkey = self.nodes[1].validateaddress(embedded_address)[\"pubkey\"]\n+        embedded_privkey = self.nodes[1].dumpprivkey(embedded_address)\n+        multisig_address = self.nodes[1].addmultisigaddress(1, [embedded_pubkey])\n+        p2sh_p2wsh_address = self.nodes[1].addwitnessaddress(multisig_address)\n+        witness_script = CScript([OP_1, hex_str_to_bytes(embedded_pubkey), OP_1, OP_CHECKMULTISIG])\n+\n+        # send transaction to P2SH-P2WSH 1-of-1 multisig address\n+        self.nodes[0].generate(101)\n+        tx_to_witness = self.nodes[0].createrawtransaction([self.nodes[0].listunspent()[0]], {p2sh_p2wsh_address: Decimal(\"49.999\")})\n+        signed_tx_to_witness = self.nodes[0].signrawtransaction(tx_to_witness)\n+        assert (\"errors\" not in signed_tx_to_witness or len([\"errors\"]) == 0)\n+        self.nodes[0].sendrawtransaction(signed_tx_to_witness[\"hex\"])\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # Find the UTXO for the transaction node[1] should have received, check witnessScript matches\n+        unspent_output = self.nodes[1].listunspent(0, 999999, [p2sh_p2wsh_address])[0]\n+        assert_equal(unspent_output[\"redeemScript\"][1], bytes_to_hex_str(witness_script))",
    "path": "test/functional/signrawtransactions.py",
    "position": null,
    "original_position": 39,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "43fc622821b7524b681e3172bb20623ad27a9200",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: check if the redeemScript[0] is the p2sh redeem.",
    "created_at": "2017-11-29T03:18:22Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r153685355",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153685355"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r153685355"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153685355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 165,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156518971",
    "pull_request_review_id": 83010524,
    "id": 156518971,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjUxODk3MQ==",
    "diff_hunk": "@@ -138,6 +139,35 @@ def run_test(self):\n         self.successful_signing_test()\n         self.script_verification_error_test()\n \n+        # Now test signing transaction to P2SH-P2WSH addresses without wallet\n+        # Create a new P2SH-P2WSH 1-of-1 multisig address:\n+        embedded_address = self.nodes[1].getnewaddress()\n+        embedded_pubkey = self.nodes[1].validateaddress(embedded_address)[\"pubkey\"]\n+        embedded_privkey = self.nodes[1].dumpprivkey(embedded_address)\n+        multisig_address = self.nodes[1].addmultisigaddress(1, [embedded_pubkey])\n+        p2sh_p2wsh_address = self.nodes[1].addwitnessaddress(multisig_address)\n+        witness_script = CScript([OP_1, hex_str_to_bytes(embedded_pubkey), OP_1, OP_CHECKMULTISIG])\n+\n+        # send transaction to P2SH-P2WSH 1-of-1 multisig address\n+        self.nodes[0].generate(101)\n+        tx_to_witness = self.nodes[0].createrawtransaction([self.nodes[0].listunspent()[0]], {p2sh_p2wsh_address: Decimal(\"49.999\")})\n+        signed_tx_to_witness = self.nodes[0].signrawtransaction(tx_to_witness)\n+        assert (\"errors\" not in signed_tx_to_witness or len([\"errors\"]) == 0)\n+        self.nodes[0].sendrawtransaction(signed_tx_to_witness[\"hex\"])\n+        self.nodes[0].generate(1)\n+        self.sync_all()\n+\n+        # Find the UTXO for the transaction node[1] should have received, check witnessScript matches\n+        unspent_output = self.nodes[1].listunspent(0, 999999, [p2sh_p2wsh_address])[0]\n+        assert_equal(unspent_output[\"redeemScript\"][1], bytes_to_hex_str(witness_script))",
    "path": "test/functional/signrawtransactions.py",
    "position": null,
    "original_position": 39,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "43fc622821b7524b681e3172bb20623ad27a9200",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2017-12-12T22:49:57Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r156518971",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156518971"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r156518971"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156518971/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 165,
    "side": "RIGHT",
    "in_reply_to_id": 153685355
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156718884",
    "pull_request_review_id": 83242943,
    "id": 156718884,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjcxODg4NA==",
    "diff_hunk": "@@ -825,17 +825,18 @@ UniValue signrawtransaction(const JSONRPCRequest& request)\n             // if redeemScript given and not using the local wallet (private keys\n             // given), add redeemScript to the tempKeystore so it can be signed:\n             if (fGivenKeys && (scriptPubKey.IsPayToScriptHash() || scriptPubKey.IsPayToWitnessScriptHash())) {",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "82ef24d7f88c2b5ccfc2ff3697b7a11b68c06c2f",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not directly related to this PR, but seems like it might good to return an error if this condition is false instead of skipping validation of the redeemscript parameter.",
    "created_at": "2017-12-13T16:58:08Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r156718884",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156718884"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r156718884"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156718884/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 827,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156719988",
    "pull_request_review_id": 83242943,
    "id": 156719988,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjcxOTk4OA==",
    "diff_hunk": "@@ -825,17 +825,18 @@ UniValue signrawtransaction(const JSONRPCRequest& request)\n             // if redeemScript given and not using the local wallet (private keys\n             // given), add redeemScript to the tempKeystore so it can be signed:\n             if (fGivenKeys && (scriptPubKey.IsPayToScriptHash() || scriptPubKey.IsPayToWitnessScriptHash())) {\n-                RPCTypeCheckObj(prevOut,\n-                    {\n-                        {\"txid\", UniValueType(UniValue::VSTR)},\n-                        {\"vout\", UniValueType(UniValue::VNUM)},\n-                        {\"scriptPubKey\", UniValueType(UniValue::VSTR)},\n-                        {\"redeemScript\", UniValueType(UniValue::VSTR)},\n-                    });\n-                UniValue v = find_value(prevOut, \"redeemScript\");\n-                if (!v.isNull()) {\n-                    std::vector<unsigned char> rsData(ParseHexV(v, \"redeemScript\"));\n-                    CScript redeemScript(rsData.begin(), rsData.end());\n+                UniValue rs = find_value(prevOut, \"redeemScript\");\n+                std::vector<UniValue> scripts;\n+                if (rs.getType() == UniValue::VSTR) {\n+                    scripts.push_back(rs);\n+                } else if (rs.getType() == UniValue::VARR) {\n+                    // If redeemScript is an array, iterate over all scripts provided\n+                    scripts = rs.getValues();\n+                }\n+                for (const UniValue& script : scripts) {\n+                    if (script.getType() != UniValue::VSTR) continue;",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 33,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "82ef24d7f88c2b5ccfc2ff3697b7a11b68c06c2f",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe drop this line. It prevents get_str() below from throwing an exception if the wrong type is passed.",
    "created_at": "2017-12-13T17:01:55Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r156719988",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156719988"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r156719988"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156719988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 837,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156725891",
    "pull_request_review_id": 83242943,
    "id": 156725891,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjcyNTg5MQ==",
    "diff_hunk": "@@ -2842,17 +2842,17 @@ UniValue listunspent(const JSONRPCRequest& request)\n             \"\\nResult\\n\"\n             \"[                   (array of json object)\\n\"\n             \"  {\\n\"\n-            \"    \\\"txid\\\" : \\\"txid\\\",          (string) the transaction id \\n\"\n-            \"    \\\"vout\\\" : n,               (numeric) the vout value\\n\"\n-            \"    \\\"address\\\" : \\\"address\\\",    (string) the bitcoin address\\n\"\n-            \"    \\\"account\\\" : \\\"account\\\",    (string) DEPRECATED. The associated account, or \\\"\\\" for the default account\\n\"\n-            \"    \\\"scriptPubKey\\\" : \\\"key\\\",   (string) the script key\\n\"\n-            \"    \\\"amount\\\" : x.xxx,         (numeric) the transaction output amount in \" + CURRENCY_UNIT + \"\\n\"\n-            \"    \\\"confirmations\\\" : n,      (numeric) The number of confirmations\\n\"\n-            \"    \\\"redeemScript\\\" : n        (string) The redeemScript if scriptPubKey is P2SH\\n\"\n-            \"    \\\"spendable\\\" : xxx,        (bool) Whether we have the private keys to spend this output\\n\"\n-            \"    \\\"solvable\\\" : xxx,         (bool) Whether we know how to spend this output, ignoring the lack of keys\\n\"\n-            \"    \\\"safe\\\" : xxx              (bool) Whether this output is considered safe to spend. Unconfirmed transactions\\n\"\n+            \"    \\\"txid\\\" : \\\"txid\\\",            (string) the transaction id \\n\"\n+            \"    \\\"vout\\\" : n,                 (numeric) the vout value\\n\"\n+            \"    \\\"address\\\" : \\\"address\\\",      (string) the bitcoin address\\n\"\n+            \"    \\\"account\\\" : \\\"account\\\",      (string) DEPRECATED. The associated account, or \\\"\\\" for the default account\\n\"\n+            \"    \\\"scriptPubKey\\\" : \\\"key\\\",     (string) the script key\\n\"\n+            \"    \\\"amount\\\" : x.xxx,           (numeric) the transaction output amount in \" + CURRENCY_UNIT + \"\\n\"\n+            \"    \\\"confirmations\\\" : n,        (numeric) The number of confirmations\\n\"\n+            \"    \\\"redeemScript\\\" : \\\"script\\\" | [\\\"script\\\", ... ],  (string or array) The redeemScript and/or witnessScript if using P2SH/P2WSH\\n\"",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 22,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "83a418da228f9c1c2759ecaf224f10ade406c489",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It might be good to explicitly say this will be an array for p2wsh and nested p2wsh outputs, a string for traditional p2sh outputs, and unset in other cases.",
    "created_at": "2017-12-13T17:22:00Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r156725891",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156725891"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r156725891"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156725891/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2852,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156731671",
    "pull_request_review_id": 83242943,
    "id": 156731671,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjczMTY3MQ==",
    "diff_hunk": "@@ -2956,7 +2956,33 @@ UniValue listunspent(const JSONRPCRequest& request)\n                 const CScriptID& hash = boost::get<CScriptID>(address);\n                 CScript redeemScript;\n                 if (pwallet->GetCScript(hash, redeemScript)) {\n-                    entry.push_back(Pair(\"redeemScript\", HexStr(redeemScript.begin(), redeemScript.end())));\n+                    CTxDestination witness_destination;\n+                    if(redeemScript.IsPayToWitnessScriptHash() && ExtractDestination(redeemScript, witness_destination)) {\n+                        const WitnessV0ScriptHash& whash = boost::get<WitnessV0ScriptHash>(witness_destination);\n+                        CScriptID id;\n+                        CRIPEMD160().Write(whash.begin(), whash.size()).Finalize(id.begin());\n+                        CScript witnessScript;\n+                        // For compatibility with signrawtransaction, if we have both a witnessScript\n+                        // and redeemScript, return them in an array\n+                        UniValue scripts(UniValue::VARR);\n+                        scripts.push_back(HexStr(redeemScript.begin(), redeemScript.end()));\n+                        if (pwallet->GetCScript(id, witnessScript)) {\n+                            scripts.push_back(HexStr(witnessScript.begin(), witnessScript.end()));\n+                        }\n+                        entry.push_back(Pair(\"redeemScript\", scripts));\n+                    } else {\n+                        entry.push_back(Pair(\"redeemScript\", HexStr(redeemScript.begin(), redeemScript.end())));\n+                    }\n+                }\n+            }\n+\n+            if (scriptPubKey.IsPayToWitnessScriptHash()) {\n+                const WitnessV0ScriptHash& whash = boost::get<WitnessV0ScriptHash>(address);\n+                CScriptID id;\n+                CRIPEMD160().Write(whash.begin(), whash.size()).Finalize(id.begin());\n+                CScript witnessScript;\n+                if (pwallet->GetCScript(id, witnessScript)) {",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 59,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "83a418da228f9c1c2759ecaf224f10ade406c489",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "IIUC, this should never be false? Would be helpful to have a comment saying this, or else mentioning when it would be expected.",
    "created_at": "2017-12-13T17:43:17Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r156731671",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156731671"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r156731671"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156731671/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3046,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157901984",
    "pull_request_review_id": 84622752,
    "id": 157901984,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzkwMTk4NA==",
    "diff_hunk": "@@ -822,20 +822,23 @@ UniValue signrawtransaction(const JSONRPCRequest& request)\n                 view.AddCoin(out, std::move(newcoin), true);\n             }\n \n-            // if redeemScript given and not using the local wallet (private keys\n-            // given), add redeemScript to the tempKeystore so it can be signed:\n-            if (fGivenKeys && (scriptPubKey.IsPayToScriptHash() || scriptPubKey.IsPayToWitnessScriptHash())) {\n-                RPCTypeCheckObj(prevOut,\n-                    {\n-                        {\"txid\", UniValueType(UniValue::VSTR)},\n-                        {\"vout\", UniValueType(UniValue::VNUM)},\n-                        {\"scriptPubKey\", UniValueType(UniValue::VSTR)},\n-                        {\"redeemScript\", UniValueType(UniValue::VSTR)},\n-                    });\n-                UniValue v = find_value(prevOut, \"redeemScript\");\n-                if (!v.isNull()) {\n-                    std::vector<unsigned char> rsData(ParseHexV(v, \"redeemScript\"));\n-                    CScript redeemScript(rsData.begin(), rsData.end());\n+            // if redeemScript given add redeemScript to the tempKeystore so it can be signed:\n+            if (scriptPubKey.IsPayToScriptHash() || scriptPubKey.IsPayToWitnessScriptHash()) {\n+                UniValue rs = find_value(prevOut, \"redeemScript\");\n+                if (!fGivenKeys && rs != NullUniValue) {\n+                    // if private keys aren't given, assume we are using the local wallet, so we should not accept scripts\n+                    throw JSONRPCError(RPC_INVALID_PARAMETER, \"Scripts cannot be provided when using local wallet\");  \n+                }\n+                std::vector<UniValue> scripts;\n+                if (rs.getType() == UniValue::VSTR) {\n+                    scripts.push_back(rs);\n+                } else if (rs.getType() == UniValue::VARR) {\n+                    // If redeemScript is an array, iterate over all scripts provided\n+                    scripts = rs.getValues();\n+                }",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 40,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "5749f261df039d5b49e240b2e5d9e86e4d69b2a0",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Missing error when not string or array? Suggestion (`scripts` is a vector of strings):\r\n```cpp\r\nif (rs.getType() == UniValue::VARR) {\r\n    for (auto r : rs.getValues()) {\r\n         scripts.push_back(r.get_str());\r\n    }\r\n} else {\r\n    scripts.push_back(rs.get_str());\r\n}\r\n```",
    "created_at": "2017-12-19T23:19:33Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r157901984",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157901984"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r157901984"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157901984/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 854,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157913677",
    "pull_request_review_id": 84636306,
    "id": 157913677,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzkxMzY3Nw==",
    "diff_hunk": "@@ -822,20 +822,23 @@ UniValue signrawtransaction(const JSONRPCRequest& request)\n                 view.AddCoin(out, std::move(newcoin), true);\n             }\n \n-            // if redeemScript given and not using the local wallet (private keys\n-            // given), add redeemScript to the tempKeystore so it can be signed:\n-            if (fGivenKeys && (scriptPubKey.IsPayToScriptHash() || scriptPubKey.IsPayToWitnessScriptHash())) {\n-                RPCTypeCheckObj(prevOut,\n-                    {\n-                        {\"txid\", UniValueType(UniValue::VSTR)},\n-                        {\"vout\", UniValueType(UniValue::VNUM)},\n-                        {\"scriptPubKey\", UniValueType(UniValue::VSTR)},\n-                        {\"redeemScript\", UniValueType(UniValue::VSTR)},\n-                    });\n-                UniValue v = find_value(prevOut, \"redeemScript\");\n-                if (!v.isNull()) {\n-                    std::vector<unsigned char> rsData(ParseHexV(v, \"redeemScript\"));\n-                    CScript redeemScript(rsData.begin(), rsData.end());\n+            // if redeemScript given add redeemScript to the tempKeystore so it can be signed:\n+            if (scriptPubKey.IsPayToScriptHash() || scriptPubKey.IsPayToWitnessScriptHash()) {\n+                UniValue rs = find_value(prevOut, \"redeemScript\");\n+                if (!fGivenKeys && rs != NullUniValue) {\n+                    // if private keys aren't given, assume we are using the local wallet, so we should not accept scripts\n+                    throw JSONRPCError(RPC_INVALID_PARAMETER, \"Scripts cannot be provided when using local wallet\");  \n+                }\n+                std::vector<UniValue> scripts;\n+                if (rs.getType() == UniValue::VSTR) {\n+                    scripts.push_back(rs);\n+                } else if (rs.getType() == UniValue::VARR) {\n+                    // If redeemScript is an array, iterate over all scripts provided\n+                    scripts = rs.getValues();\n+                }",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 40,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "5749f261df039d5b49e240b2e5d9e86e4d69b2a0",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nice idea, done, thanks :)",
    "created_at": "2017-12-20T00:44:39Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r157913677",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157913677"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r157913677"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157913677/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 854,
    "side": "RIGHT",
    "in_reply_to_id": 157901984
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158171159",
    "pull_request_review_id": 84938577,
    "id": 158171159,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1ODE3MTE1OQ==",
    "diff_hunk": "@@ -180,7 +180,7 @@ def run_test(self):\n                 break\n \n         bal = self.nodes[0].getbalance()\n-        inputs = [{ \"txid\" : txId, \"vout\" : vout['n'], \"scriptPubKey\" : vout['scriptPubKey']['hex'], \"redeemScript\" : mSigObjValid['hex']}]\n+        inputs = [{ \"txid\" : txId, \"vout\" : vout['n'], \"scriptPubKey\" : vout['scriptPubKey']['hex']}]",
    "path": "test/functional/rawtransactions.py",
    "position": null,
    "original_position": 5,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "50074643f20cc36e6ffbbec22f1c850c6e9a3207",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This `redeemScript` parameter was being silently ignored until now, because scripts are not used by signrawtransaction if no keys are passed in (the internal wallet is used instead). New code returns an error instead of silently ignoring it, so it was removed.",
    "created_at": "2017-12-21T00:30:43Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r158171159",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158171159"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r158171159"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158171159/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 183,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158310307",
    "pull_request_review_id": 85101101,
    "id": 158310307,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1ODMxMDMwNw==",
    "diff_hunk": "@@ -822,20 +822,27 @@ UniValue signrawtransaction(const JSONRPCRequest& request)\n                 view.AddCoin(out, std::move(newcoin), true);\n             }\n \n-            // if redeemScript given and not using the local wallet (private keys\n-            // given), add redeemScript to the tempKeystore so it can be signed:\n-            if (fGivenKeys && (scriptPubKey.IsPayToScriptHash() || scriptPubKey.IsPayToWitnessScriptHash())) {\n-                UniValue rs = find_value(prevOut, \"redeemScript\");\n-                std::vector<UniValue> scripts;\n-                if (rs.getType() == UniValue::VSTR) {\n-                    scripts.push_back(rs);\n-                } else if (rs.getType() == UniValue::VARR) {\n+            // if redeemScript given add redeemScript to the tempKeystore so it can be signed:\n+            UniValue rs = find_value(prevOut, \"redeemScript\");\n+            if (rs.getType() != UniValue::VNULL) {\n+                if (!(scriptPubKey.IsPayToScriptHash() || scriptPubKey.IsPayToWitnessScriptHash())) {\n+                    // if this isnt P2SH or P2WSH, scripts should not be provided\n+                    throw JSONRPCError(RPC_INVALID_PARAMETER, \"Scripts should not be provided if P2SH or P2WSH are not being used\");\n+                } else if (!fGivenKeys) {\n+                    // if private keys aren't given, assume we are using the local wallet, so we should not accept scripts\n+                    throw JSONRPCError(RPC_INVALID_PARAMETER, \"Scripts cannot be provided when using local wallet (no keys given)\");\n+                }\n+                std::vector<std::string> scripts;\n+                if (rs.getType() == UniValue::VARR) {\n                     // If redeemScript is an array, iterate over all scripts provided\n-                    scripts = rs.getValues();\n+                    for (auto r : rs.getValues()) {\n+                        scripts.push_back(r.get_str());\n+                    }\n+                } else {\n+                    scripts.push_back(rs.get_str());\n                 }\n-                for (const UniValue& script : scripts) {\n-                    if (script.getType() != UniValue::VSTR) continue;\n-                    std::vector<unsigned char> script_data(ParseHexV(script.get_str(), \"redeemScript\"));\n+                for (const std::string script : scripts) {",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "50074643f20cc36e6ffbbec22f1c850c6e9a3207",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Could use const reference to avoid string copy here (though there are more copies below anyway).",
    "created_at": "2017-12-21T15:49:43Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r158310307",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158310307"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r158310307"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158310307/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 844,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158310778",
    "pull_request_review_id": 85101101,
    "id": 158310778,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1ODMxMDc3OA==",
    "diff_hunk": "@@ -822,20 +822,27 @@ UniValue signrawtransaction(const JSONRPCRequest& request)\n                 view.AddCoin(out, std::move(newcoin), true);\n             }\n \n-            // if redeemScript given and not using the local wallet (private keys\n-            // given), add redeemScript to the tempKeystore so it can be signed:\n-            if (fGivenKeys && (scriptPubKey.IsPayToScriptHash() || scriptPubKey.IsPayToWitnessScriptHash())) {\n-                UniValue rs = find_value(prevOut, \"redeemScript\");\n-                std::vector<UniValue> scripts;\n-                if (rs.getType() == UniValue::VSTR) {\n-                    scripts.push_back(rs);\n-                } else if (rs.getType() == UniValue::VARR) {\n+            // if redeemScript given add redeemScript to the tempKeystore so it can be signed:\n+            UniValue rs = find_value(prevOut, \"redeemScript\");\n+            if (rs.getType() != UniValue::VNULL) {\n+                if (!(scriptPubKey.IsPayToScriptHash() || scriptPubKey.IsPayToWitnessScriptHash())) {\n+                    // if this isnt P2SH or P2WSH, scripts should not be provided\n+                    throw JSONRPCError(RPC_INVALID_PARAMETER, \"Scripts should not be provided if P2SH or P2WSH are not being used\");\n+                } else if (!fGivenKeys) {\n+                    // if private keys aren't given, assume we are using the local wallet, so we should not accept scripts\n+                    throw JSONRPCError(RPC_INVALID_PARAMETER, \"Scripts cannot be provided when using local wallet (no keys given)\");\n+                }\n+                std::vector<std::string> scripts;\n+                if (rs.getType() == UniValue::VARR) {\n                     // If redeemScript is an array, iterate over all scripts provided\n-                    scripts = rs.getValues();\n+                    for (auto r : rs.getValues()) {",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 26,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "50074643f20cc36e6ffbbec22f1c850c6e9a3207",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Could use const auto& to avoid univalue copies",
    "created_at": "2017-12-21T15:51:23Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r158310778",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158310778"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r158310778"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158310778/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 838,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158313209",
    "pull_request_review_id": 85101101,
    "id": 158313209,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1ODMxMzIwOQ==",
    "diff_hunk": "@@ -822,20 +822,27 @@ UniValue signrawtransaction(const JSONRPCRequest& request)\n                 view.AddCoin(out, std::move(newcoin), true);\n             }\n \n-            // if redeemScript given and not using the local wallet (private keys\n-            // given), add redeemScript to the tempKeystore so it can be signed:\n-            if (fGivenKeys && (scriptPubKey.IsPayToScriptHash() || scriptPubKey.IsPayToWitnessScriptHash())) {\n-                UniValue rs = find_value(prevOut, \"redeemScript\");\n-                std::vector<UniValue> scripts;\n-                if (rs.getType() == UniValue::VSTR) {\n-                    scripts.push_back(rs);\n-                } else if (rs.getType() == UniValue::VARR) {\n+            // if redeemScript given add redeemScript to the tempKeystore so it can be signed:\n+            UniValue rs = find_value(prevOut, \"redeemScript\");\n+            if (rs.getType() != UniValue::VNULL) {\n+                if (!(scriptPubKey.IsPayToScriptHash() || scriptPubKey.IsPayToWitnessScriptHash())) {\n+                    // if this isnt P2SH or P2WSH, scripts should not be provided\n+                    throw JSONRPCError(RPC_INVALID_PARAMETER, \"Scripts should not be provided if P2SH or P2WSH are not being used\");\n+                } else if (!fGivenKeys) {\n+                    // if private keys aren't given, assume we are using the local wallet, so we should not accept scripts",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 19,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "50074643f20cc36e6ffbbec22f1c850c6e9a3207",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe s/should not accept/don't currently support accepting/. This seems more like a reasonable limitation of the current implementation than a desirable feature of it.",
    "created_at": "2017-12-21T16:00:19Z",
    "updated_at": "2018-02-15T05:28:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r158313209",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158313209"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r158313209"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158313209/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 832,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172907581",
    "pull_request_review_id": 102006213,
    "id": 172907581,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MjkwNzU4MQ==",
    "diff_hunk": "@@ -3017,7 +3017,34 @@ UniValue listunspent(const JSONRPCRequest& request)\n                 const CScriptID& hash = boost::get<CScriptID>(address);\n                 CScript redeemScript;\n                 if (pwallet->GetCScript(hash, redeemScript)) {\n-                    entry.pushKV(\"redeemScript\", HexStr(redeemScript.begin(), redeemScript.end()));\n+                    CTxDestination witness_destination;\n+                    if (redeemScript.IsPayToWitnessScriptHash() && ExtractDestination(redeemScript, witness_destination)) {\n+                        const WitnessV0ScriptHash& whash = boost::get<WitnessV0ScriptHash>(witness_destination);\n+                        CScriptID id;\n+                        CRIPEMD160().Write(whash.begin(), whash.size()).Finalize(id.begin());\n+                        CScript witnessScript;\n+                        // For compatibility with signrawtransaction, if we have both a witnessScript\n+                        // and redeemScript, return them in an array\n+                        UniValue scripts(UniValue::VARR);\n+                        scripts.push_back(HexStr(redeemScript.begin(), redeemScript.end()));\n+                        if (pwallet->GetCScript(id, witnessScript)) {\n+                            scripts.push_back(HexStr(witnessScript.begin(), witnessScript.end()));\n+                        }\n+                        entry.push_back(Pair(\"redeemScript\", scripts));",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 47,
    "original_position": 47,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "IIRC, Pair push_backs were just cleaned up... :/",
    "created_at": "2018-03-07T16:47:01Z",
    "updated_at": "2018-03-07T16:47:01Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r172907581",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172907581"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r172907581"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172907581/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3033,
    "original_line": 3033,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173169372",
    "pull_request_review_id": 102312267,
    "id": 173169372,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MzE2OTM3Mg==",
    "diff_hunk": "@@ -3017,7 +3017,34 @@ UniValue listunspent(const JSONRPCRequest& request)\n                 const CScriptID& hash = boost::get<CScriptID>(address);\n                 CScript redeemScript;\n                 if (pwallet->GetCScript(hash, redeemScript)) {\n-                    entry.pushKV(\"redeemScript\", HexStr(redeemScript.begin(), redeemScript.end()));\n+                    CTxDestination witness_destination;\n+                    if (redeemScript.IsPayToWitnessScriptHash() && ExtractDestination(redeemScript, witness_destination)) {\n+                        const WitnessV0ScriptHash& whash = boost::get<WitnessV0ScriptHash>(witness_destination);\n+                        CScriptID id;\n+                        CRIPEMD160().Write(whash.begin(), whash.size()).Finalize(id.begin());\n+                        CScript witnessScript;\n+                        // For compatibility with signrawtransaction, if we have both a witnessScript\n+                        // and redeemScript, return them in an array\n+                        UniValue scripts(UniValue::VARR);\n+                        scripts.push_back(HexStr(redeemScript.begin(), redeemScript.end()));\n+                        if (pwallet->GetCScript(id, witnessScript)) {\n+                            scripts.push_back(HexStr(witnessScript.begin(), witnessScript.end()));\n+                        }\n+                        entry.push_back(Pair(\"redeemScript\", scripts));",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 47,
    "original_position": 47,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, this needs a large rebase and cleanup anyway now signrawtransaction was split up, things like this will be done at the same time when I get onto this",
    "created_at": "2018-03-08T14:16:47Z",
    "updated_at": "2018-03-08T14:16:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r173169372",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173169372"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r173169372"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173169372/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3033,
    "original_line": 3033,
    "side": "RIGHT",
    "in_reply_to_id": 172907581
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173895182",
    "pull_request_review_id": 103159352,
    "id": 173895182,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3Mzg5NTE4Mg==",
    "diff_hunk": "@@ -63,6 +63,14 @@ RPC changes\n \n - The `fundrawtransaction` rpc will reject the previously deprecated `reserveChangeKey` option.\n \n+- The `redeemScript` for each of the `prevtxs` given to `signrawtransaction` can now optionally be an array\n+  of scripts, so both the redeemScript and witnessScript for P2SH-P2WSH addresses can be passed in.\n+\n+- The `listunspent` output will now return an array of scripts as the `redeemScript` in the case of P2SH-P2WSH,\n+  for compatibility with the `signrawtransaction` change above. In other cases, `listunspent` will continue to return\n+  the only `redeemScript` as a string, as before.",
    "path": "doc/release-notes.md",
    "position": 9,
    "original_position": 9,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is there a reason to break the API here? Why not add a new key for the witnessScript?",
    "created_at": "2018-03-12T18:09:03Z",
    "updated_at": "2018-03-12T18:09:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r173895182",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173895182"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r173895182"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173895182/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 71,
    "original_line": 71,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173975419",
    "pull_request_review_id": 103252556,
    "id": 173975419,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3Mzk3NTQxOQ==",
    "diff_hunk": "@@ -63,6 +63,14 @@ RPC changes\n \n - The `fundrawtransaction` rpc will reject the previously deprecated `reserveChangeKey` option.\n \n+- The `redeemScript` for each of the `prevtxs` given to `signrawtransaction` can now optionally be an array\n+  of scripts, so both the redeemScript and witnessScript for P2SH-P2WSH addresses can be passed in.\n+\n+- The `listunspent` output will now return an array of scripts as the `redeemScript` in the case of P2SH-P2WSH,\n+  for compatibility with the `signrawtransaction` change above. In other cases, `listunspent` will continue to return\n+  the only `redeemScript` as a string, as before.",
    "path": "doc/release-notes.md",
    "position": 9,
    "original_position": 9,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The API only breaks in the case of P2SH-P2WSH which was not supported at all before anyway. Adding a new key for witnessScript to listunspent would make its output incompatible with the signrawtransaction input which expects a list of scripts in this case",
    "created_at": "2018-03-12T23:13:46Z",
    "updated_at": "2018-03-12T23:13:46Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r173975419",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173975419"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r173975419"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173975419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 71,
    "original_line": 71,
    "side": "RIGHT",
    "in_reply_to_id": 173895182
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214549024",
    "pull_request_review_id": 151629121,
    "id": 214549024,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNDU0OTAyNA==",
    "diff_hunk": "@@ -833,20 +833,28 @@ UniValue signrawtransaction(const JSONRPCRequest& request)\n                 view.AddCoin(out, std::move(newcoin), true);\n             }\n \n-            // if redeemScript given and not using the local wallet (private keys\n-            // given), add redeemScript to the tempKeystore so it can be signed:\n-            if (fGivenKeys && (scriptPubKey.IsPayToScriptHash() || scriptPubKey.IsPayToWitnessScriptHash())) {\n-                RPCTypeCheckObj(prevOut,\n-                    {\n-                        {\"txid\", UniValueType(UniValue::VSTR)},\n-                        {\"vout\", UniValueType(UniValue::VNUM)},\n-                        {\"scriptPubKey\", UniValueType(UniValue::VSTR)},\n-                        {\"redeemScript\", UniValueType(UniValue::VSTR)},\n-                    });\n-                UniValue v = find_value(prevOut, \"redeemScript\");\n-                if (!v.isNull()) {\n-                    std::vector<unsigned char> rsData(ParseHexV(v, \"redeemScript\"));\n-                    CScript redeemScript(rsData.begin(), rsData.end());\n+            // if redeemScript given add redeemScript to the tempKeystore so it can be signed:\n+            UniValue rs = find_value(prevOut, \"redeemScript\");\n+            if (rs.getType() != UniValue::VNULL) {\n+                if (!(scriptPubKey.IsPayToScriptHash() || scriptPubKey.IsPayToWitnessScriptHash())) {\n+                    // if this isnt P2SH or P2WSH, scripts should not be provided",
    "path": "src/rpc/rawtransaction.cpp",
    "position": 31,
    "original_position": 31,
    "commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "original_commit_id": "576624ce9567487f799d3a526b8f38b88c64ee80",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Typo found by `codespell`: \u201cisnt\u201d should be \u201cisn\u2019t\u201d or \u201cis not\u201d :-)",
    "created_at": "2018-09-02T18:25:47Z",
    "updated_at": "2018-09-02T18:25:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r214549024",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214549024"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11708#discussion_r214549024"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11708"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214549024/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 840,
    "original_line": 840,
    "side": "RIGHT"
  }
]