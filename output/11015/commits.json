[
  {
    "sha": "7b137acedd5e2ff3fe5395a927c546a528b0cac6",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3YjEzN2FjZWRkNWUyZmYzZmU1Mzk1YTkyN2M1NDZhNTI4YjBjYWM2",
    "commit": {
      "author": {
        "name": "Lucas Betschart",
        "email": "lucasbetschart@gmail.com",
        "date": "2017-08-06T20:55:14Z"
      },
      "committer": {
        "name": "Lucas Betschart",
        "email": "lucasbetschart@gmail.com",
        "date": "2017-09-18T08:54:26Z"
      },
      "message": "[Qt] Add delay before filtering transactions\nFixes 3141",
      "tree": {
        "sha": "1769af33c342762acbc490035c666f37f2671e03",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1769af33c342762acbc490035c666f37f2671e03"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7b137acedd5e2ff3fe5395a927c546a528b0cac6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7b137acedd5e2ff3fe5395a927c546a528b0cac6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7b137acedd5e2ff3fe5395a927c546a528b0cac6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7b137acedd5e2ff3fe5395a927c546a528b0cac6/comments",
    "author": {
      "login": "lclc",
      "id": 1846033,
      "node_id": "MDQ6VXNlcjE4NDYwMzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1846033?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lclc",
      "html_url": "https://github.com/lclc",
      "followers_url": "https://api.github.com/users/lclc/followers",
      "following_url": "https://api.github.com/users/lclc/following{/other_user}",
      "gists_url": "https://api.github.com/users/lclc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lclc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lclc/subscriptions",
      "organizations_url": "https://api.github.com/users/lclc/orgs",
      "repos_url": "https://api.github.com/users/lclc/repos",
      "events_url": "https://api.github.com/users/lclc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lclc/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "lclc",
      "id": 1846033,
      "node_id": "MDQ6VXNlcjE4NDYwMzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1846033?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lclc",
      "html_url": "https://github.com/lclc",
      "followers_url": "https://api.github.com/users/lclc/followers",
      "following_url": "https://api.github.com/users/lclc/following{/other_user}",
      "gists_url": "https://api.github.com/users/lclc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lclc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lclc/subscriptions",
      "organizations_url": "https://api.github.com/users/lclc/orgs",
      "repos_url": "https://api.github.com/users/lclc/repos",
      "events_url": "https://api.github.com/users/lclc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lclc/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b9bceaf1c081a84d9fcc680372614e797b168a9e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b9bceaf1c081a84d9fcc680372614e797b168a9e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b9bceaf1c081a84d9fcc680372614e797b168a9e"
      }
    ],
    "stats": {
      "total": 31,
      "additions": 22,
      "deletions": 9
    },
    "files": [
      {
        "sha": "39dfdb587c2a6c1d0288a400d8dbb7e4551bfa8b",
        "filename": "src/qt/transactionview.cpp",
        "status": "modified",
        "additions": 20,
        "deletions": 7,
        "changes": 27,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b137acedd5e2ff3fe5395a927c546a528b0cac6/src/qt/transactionview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b137acedd5e2ff3fe5395a927c546a528b0cac6/src/qt/transactionview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactionview.cpp?ref=7b137acedd5e2ff3fe5395a927c546a528b0cac6",
        "patch": "@@ -33,6 +33,7 @@\n #include <QScrollBar>\n #include <QSignalMapper>\n #include <QTableView>\n+#include <QTimer>\n #include <QUrl>\n #include <QVBoxLayout>\n \n@@ -112,6 +113,17 @@ TransactionView::TransactionView(const PlatformStyle *platformStyle, QWidget *pa\n     amountWidget->setValidator(new QDoubleValidator(0, 1e20, 8, this));\n     hlayout->addWidget(amountWidget);\n \n+    // Delay before filtering transactions in ms\n+    static const int input_filter_delay = 200;\n+\n+    QTimer* amount_typing_delay = new QTimer(this);\n+    amount_typing_delay->setSingleShot(true);\n+    amount_typing_delay->setInterval(input_filter_delay);\n+\n+    QTimer* prefix_typing_delay = new QTimer(this);\n+    prefix_typing_delay->setSingleShot(true);\n+    prefix_typing_delay->setInterval(input_filter_delay);\n+\n     QVBoxLayout *vlayout = new QVBoxLayout(this);\n     vlayout->setContentsMargins(0,0,0,0);\n     vlayout->setSpacing(0);\n@@ -173,8 +185,10 @@ TransactionView::TransactionView(const PlatformStyle *platformStyle, QWidget *pa\n     connect(dateWidget, SIGNAL(activated(int)), this, SLOT(chooseDate(int)));\n     connect(typeWidget, SIGNAL(activated(int)), this, SLOT(chooseType(int)));\n     connect(watchOnlyWidget, SIGNAL(activated(int)), this, SLOT(chooseWatchonly(int)));\n-    connect(addressWidget, SIGNAL(textChanged(QString)), this, SLOT(changedPrefix(QString)));\n-    connect(amountWidget, SIGNAL(textChanged(QString)), this, SLOT(changedAmount(QString)));\n+    connect(amountWidget, SIGNAL(textChanged(QString)), amount_typing_delay, SLOT(start()));\n+    connect(amount_typing_delay, SIGNAL(timeout()), this, SLOT(changedAmount()));\n+    connect(addressWidget, SIGNAL(textChanged(QString)), prefix_typing_delay, SLOT(start()));\n+    connect(prefix_typing_delay, SIGNAL(timeout()), this, SLOT(changedPrefix()));\n \n     connect(view, SIGNAL(doubleClicked(QModelIndex)), this, SIGNAL(doubleClicked(QModelIndex)));\n     connect(view, SIGNAL(customContextMenuRequested(QPoint)), this, SLOT(contextualMenu(QPoint)));\n@@ -312,20 +326,19 @@ void TransactionView::chooseWatchonly(int idx)\n         (TransactionFilterProxy::WatchOnlyFilter)watchOnlyWidget->itemData(idx).toInt());\n }\n \n-void TransactionView::changedPrefix(const QString &prefix)\n+void TransactionView::changedPrefix()\n {\n     if(!transactionProxyModel)\n         return;\n-    transactionProxyModel->setAddressPrefix(prefix);\n+    transactionProxyModel->setAddressPrefix(addressWidget->text());\n }\n \n-void TransactionView::changedAmount(const QString &amount)\n+void TransactionView::changedAmount()\n {\n     if(!transactionProxyModel)\n         return;\n     CAmount amount_parsed = 0;\n-    if(BitcoinUnits::parse(model->getOptionsModel()->getDisplayUnit(), amount, &amount_parsed))\n-    {\n+    if (BitcoinUnits::parse(model->getOptionsModel()->getDisplayUnit(), amountWidget->text(), &amount_parsed)) {\n         transactionProxyModel->setMinAmount(amount_parsed);\n     }\n     else"
      },
      {
        "sha": "5b4cfd4a88d3822eb1c3559317a53374fd6b651e",
        "filename": "src/qt/transactionview.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b137acedd5e2ff3fe5395a927c546a528b0cac6/src/qt/transactionview.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b137acedd5e2ff3fe5395a927c546a528b0cac6/src/qt/transactionview.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactionview.h?ref=7b137acedd5e2ff3fe5395a927c546a528b0cac6",
        "patch": "@@ -112,8 +112,8 @@ public Q_SLOTS:\n     void chooseDate(int idx);\n     void chooseType(int idx);\n     void chooseWatchonly(int idx);\n-    void changedPrefix(const QString &prefix);\n-    void changedAmount(const QString &amount);\n+    void changedAmount();\n+    void changedPrefix();\n     void exportClicked();\n     void focusTransaction(const QModelIndex&);\n "
      }
    ]
  }
]