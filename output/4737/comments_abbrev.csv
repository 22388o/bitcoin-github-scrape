sipa,2014-08-23T10:21:04Z,"Untested ACK.\n\nThere are a few unnecessary constcasted pthis pointers left (more than the ones I commented on), but perhaps let's fix that afterwards, to minimize the diff here.\n",https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53148999,53148999,
kdomanski,2014-08-23T10:25:37Z,The pointers I added were called **thisPtr**. Others were here before. I'd rather not mess with them in this particular PR.\n,https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53149086,53149086,
sipa,2014-08-23T10:28:10Z,"Fair enough. I was indeed referring to clutter code that was already there, that is made obsolete by the new serialization structure here. Let's not touch those for now. \n",https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53149125,53149125,
sipa,2014-08-23T10:31:47Z,Normal network sync seems to work fine.\n,https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53149196,53149196,
kdomanski,2014-08-23T10:47:41Z,I killed that newline.\n,https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53149503,53149503,
TheBlueMatt,2014-08-23T22:57:43Z,Is it just me or are all the const_casts in serialize methods unnecessary now?\n,https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53169409,53169409,
TheBlueMatt,2014-08-23T22:58:50Z,"Would it be more readable to change the name of IMPLEMENT_SERIALIZE now that its not implementing it, but just wrapping the implementation usually immediately below?\nSomething like ADD_SERIALIZE_METHODS or so.\n",https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53169447,53169447,
sipa,2014-08-23T23:15:30Z,"@TheBlueMatt Indeed, all those const_cast's are unnecessary now. To keep the patch small it doesn't hurt to leave those as-in for now (though I wouldn't object to getting rid of them either).\n",https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53169938,53169938,
sipa,2014-08-23T23:19:24Z,"`SerializationOp` is never a const method, so it can't be called on const objects indeed. However, the added `Serialize` and `GetSerializeSize` methods added by IMPLEMENT_SERIALIZE do the un-const cast before calling `SerializationOp`, essentially making the assumption that `GetSerializationOp` will not modify the state of the object when called in serialization mode.\n",https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53170038,53170038,
kdomanski,2014-08-24T09:12:57Z,Moved the backslashes left.\n,https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53185063,53185063,
jgarzik,2014-08-27T20:13:27Z,ut ACK\n,https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53633490,53633490,
sipa,2014-08-30T01:12:51Z,Needs trivial rebase after #4778.\n,https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53944638,53944638,
laanwj,2014-08-30T04:26:59Z,Rebased commits:\n- laanwj@706a96b - Use CSizeComputer to avoid counting sizes in SerializationOp\n- laanwj@c7e2682 - rework overhauled serialization methods to non-static\n- laanwj@45573d5 - remove fields of ser_streamplaceholder\n- laanwj@e9fff52 - overhaul serialization code\n,https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53948346,53948346,
jtimon,2014-08-30T10:57:32Z,Idea ack\n,https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53955255,53955255,
BitcoinPullTester,2014-08-31T00:34:28Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4737_31e9a8384a77947f6777d035992f4734618ed206/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-te",https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-53974652,53974652,
sipa,2014-09-01T13:00:14Z,@laanwj Is that an ACK?\n,https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-54056371,54056371,
laanwj,2014-09-01T13:58:59Z,"@sipa I'm testing it on my own nodes, hence the rebases.\nACK on the code changes, and haven't encountered any problems yet.\n",https://github.com/bitcoin/bitcoin/pull/4737#issuecomment-54061686,54061686,
sipa,2014-08-20T23:01:13Z,Do you use typeof anywhere?\n,https://github.com/bitcoin/bitcoin/pull/4737#discussion_r16511716,16511716,src/serialize.h
kdomanski,2014-08-20T23:06:02Z,"```\nbool fRead = boost::is_same<Operation, CSerActionUnserialize>();\n```\n",https://github.com/bitcoin/bitcoin/pull/4737#discussion_r16511900,16511900,src/serialize.h
sipa,2014-08-20T23:08:09Z,"Oh, right; see my next commit to get rid of that :)\n",https://github.com/bitcoin/bitcoin/pull/4737#discussion_r16511976,16511976,src/serialize.h
sipa,2014-08-23T10:18:36Z,pthis shouldn't be needed anymore.\n,https://github.com/bitcoin/bitcoin/pull/4737#discussion_r16630004,16630004,src/protocol.h
sipa,2014-08-23T10:19:06Z,pthis shouldn't be needed anymore.\n,https://github.com/bitcoin/bitcoin/pull/4737#discussion_r16630006,16630006,src/qt/recentrequeststablemodel.h
sipa,2014-08-23T10:19:27Z,Not needed.\n,https://github.com/bitcoin/bitcoin/pull/4737#discussion_r16630009,16630009,src/serialize.h
TheBlueMatt,2014-08-23T22:51:15Z,Any chance you can move the \s left? They were off my screen on github and they're past 80 chars when they dont seem to need to be.\n,https://github.com/bitcoin/bitcoin/pull/4737#discussion_r16633136,16633136,src/serialize.h
