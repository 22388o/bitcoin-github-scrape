[
  {
    "sha": "497f20a9a90d542195d25c9ff3f8773e77965739",
    "node_id": "C_kwDOABII59oAKDQ5N2YyMGE5YTkwZDU0MjE5NWQyNWM5ZmYzZjg3NzNlNzc5NjU3Mzk",
    "commit": {
      "author": {
        "name": "Denis Ahrens",
        "email": "denis@h3q.com",
        "date": "2021-10-26T20:22:45Z"
      },
      "committer": {
        "name": "Denis Ahrens",
        "email": "denis@h3q.com",
        "date": "2021-10-26T20:42:36Z"
      },
      "message": "test: Add four tests for HexStr() in util/strencodings.cpp",
      "tree": {
        "sha": "982ad03b1bc85fb59b7d894539bded7a8388f40b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/982ad03b1bc85fb59b7d894539bded7a8388f40b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/497f20a9a90d542195d25c9ff3f8773e77965739",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/497f20a9a90d542195d25c9ff3f8773e77965739",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/497f20a9a90d542195d25c9ff3f8773e77965739",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/497f20a9a90d542195d25c9ff3f8773e77965739/comments",
    "author": {
      "login": "denis2342",
      "id": 888782,
      "node_id": "MDQ6VXNlcjg4ODc4Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/888782?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/denis2342",
      "html_url": "https://github.com/denis2342",
      "followers_url": "https://api.github.com/users/denis2342/followers",
      "following_url": "https://api.github.com/users/denis2342/following{/other_user}",
      "gists_url": "https://api.github.com/users/denis2342/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/denis2342/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/denis2342/subscriptions",
      "organizations_url": "https://api.github.com/users/denis2342/orgs",
      "repos_url": "https://api.github.com/users/denis2342/repos",
      "events_url": "https://api.github.com/users/denis2342/events{/privacy}",
      "received_events_url": "https://api.github.com/users/denis2342/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "denis2342",
      "id": 888782,
      "node_id": "MDQ6VXNlcjg4ODc4Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/888782?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/denis2342",
      "html_url": "https://github.com/denis2342",
      "followers_url": "https://api.github.com/users/denis2342/followers",
      "following_url": "https://api.github.com/users/denis2342/following{/other_user}",
      "gists_url": "https://api.github.com/users/denis2342/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/denis2342/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/denis2342/subscriptions",
      "organizations_url": "https://api.github.com/users/denis2342/orgs",
      "repos_url": "https://api.github.com/users/denis2342/repos",
      "events_url": "https://api.github.com/users/denis2342/events{/privacy}",
      "received_events_url": "https://api.github.com/users/denis2342/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e77d9679fd0c6ad3be997e6160ccdbfc11ac7be7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e77d9679fd0c6ad3be997e6160ccdbfc11ac7be7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e77d9679fd0c6ad3be997e6160ccdbfc11ac7be7"
      }
    ],
    "stats": {
      "total": 73,
      "additions": 73,
      "deletions": 0
    },
    "files": [
      {
        "sha": "39e240eb167f4516841d08672ab888fe0f7feb23",
        "filename": "src/Makefile.test.include",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/497f20a9a90d542195d25c9ff3f8773e77965739/src/Makefile.test.include",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/497f20a9a90d542195d25c9ff3f8773e77965739/src/Makefile.test.include",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.test.include?ref=497f20a9a90d542195d25c9ff3f8773e77965739",
        "patch": "@@ -131,6 +131,7 @@ BITCOIN_TESTS =\\\n   test/skiplist_tests.cpp \\\n   test/sock_tests.cpp \\\n   test/streams_tests.cpp \\\n+  test/strencodings_tests.cpp \\\n   test/sync_tests.cpp \\\n   test/system_tests.cpp \\\n   test/util_threadnames_tests.cpp \\"
      },
      {
        "sha": "0775296f9ef964080809bc8253340fac23a2f82c",
        "filename": "src/test/strencodings_tests.cpp",
        "status": "added",
        "additions": 72,
        "deletions": 0,
        "changes": 72,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/497f20a9a90d542195d25c9ff3f8773e77965739/src/test/strencodings_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/497f20a9a90d542195d25c9ff3f8773e77965739/src/test/strencodings_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/strencodings_tests.cpp?ref=497f20a9a90d542195d25c9ff3f8773e77965739",
        "patch": "@@ -0,0 +1,72 @@\n+// Copyright (c) 2016-2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <util/strencodings.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+BOOST_AUTO_TEST_SUITE(strencoding_tests)\n+\n+BOOST_AUTO_TEST_CASE(strencoding_tests)\n+{\n+    uint8_t u1[] = { 0x12, 0x34 };\n+    std::string s1 = \"1234\";\n+\n+    uint8_t u2[] = {\n+        0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,\n+        0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f,\n+        0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16, 0x17,\n+        0x18, 0x19, 0x1a, 0x1b, 0x1c, 0x1d, 0x1e, 0x1f,\n+        0x20, 0x21, 0x22, 0x23, 0x24, 0x25, 0x26, 0x27,\n+        0x28, 0x29, 0x2a, 0x2b, 0x2c, 0x2d, 0x2e, 0x2f,\n+        0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37,\n+        0x38, 0x39, 0x3a, 0x3b, 0x3c, 0x3d, 0x3e, 0x3f,\n+        0x40, 0x41, 0x42, 0x43, 0x44, 0x45, 0x46, 0x47,\n+        0x48, 0x49, 0x4a, 0x4b, 0x4c, 0x4d, 0x4e, 0x4f,\n+        0x50, 0x51, 0x52, 0x53, 0x54, 0x55, 0x56, 0x57,\n+        0x58, 0x59, 0x5a, 0x5b, 0x5c, 0x5d, 0x5e, 0x5f,\n+        0x60, 0x61, 0x62, 0x63, 0x64, 0x65, 0x66, 0x67,\n+        0x68, 0x69, 0x6a, 0x6b, 0x6c, 0x6d, 0x6e, 0x6f,\n+        0x70, 0x71, 0x72, 0x73, 0x74, 0x75, 0x76, 0x77,\n+        0x78, 0x79, 0x7a, 0x7b, 0x7c, 0x7d, 0x7e, 0x7f,\n+        0x80, 0x81, 0x82, 0x83, 0x84, 0x85, 0x86, 0x87,\n+        0x88, 0x89, 0x8a, 0x8b, 0x8c, 0x8d, 0x8e, 0x8f,\n+        0x90, 0x91, 0x92, 0x93, 0x94, 0x95, 0x96, 0x97,\n+        0x98, 0x99, 0x9a, 0x9b, 0x9c, 0x9d, 0x9e, 0x9f,\n+        0xa0, 0xa1, 0xa2, 0xa3, 0xa4, 0xa5, 0xa6, 0xa7,\n+        0xa8, 0xa9, 0xaa, 0xab, 0xac, 0xad, 0xae, 0xaf,\n+        0xb0, 0xb1, 0xb2, 0xb3, 0xb4, 0xb5, 0xb6, 0xb7,\n+        0xb8, 0xb9, 0xba, 0xbb, 0xbc, 0xbd, 0xbe, 0xbf,\n+        0xc0, 0xc1, 0xc2, 0xc3, 0xc4, 0xc5, 0xc6, 0xc7,\n+        0xc8, 0xc9, 0xca, 0xcb, 0xcc, 0xcd, 0xce, 0xcf,\n+        0xd0, 0xd1, 0xd2, 0xd3, 0xd4, 0xd5, 0xd6, 0xd7,\n+        0xd8, 0xd9, 0xda, 0xdb, 0xdc, 0xdd, 0xde, 0xdf,\n+        0xe0, 0xe1, 0xe2, 0xe3, 0xe4, 0xe5, 0xe6, 0xe7,\n+        0xe8, 0xe9, 0xea, 0xeb, 0xec, 0xed, 0xee, 0xef,\n+        0xf0, 0xf1, 0xf2, 0xf3, 0xf4, 0xf5, 0xf6, 0xf7,\n+        0xf8, 0xf9, 0xfa, 0xfb, 0xfc, 0xfd, 0xfe, 0xff\n+    };\n+    std::string s2 =\n+        \"000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f\"\n+        \"202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f\"\n+        \"404142434445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f\"\n+        \"606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f\"\n+        \"808182838485868788898a8b8c8d8e8f909192939495969798999a9b9c9d9e9f\"\n+        \"a0a1a2a3a4a5a6a7a8a9aaabacadaeafb0b1b2b3b4b5b6b7b8b9babbbcbdbebf\"\n+        \"c0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9dadbdcdddedf\"\n+        \"e0e1e2e3e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff\";\n+\n+    uint8_t u3[] = { 0x42, 0xca, 0xfe };\n+    std::string s3 = \"42cafe\";\n+\n+    std::string c4 = \"HELLO\";\n+    std::string s4 = \"48454c4c4f\";\n+\n+    BOOST_CHECK(HexStr(u1) == s1);\n+    BOOST_CHECK(HexStr(u2) == s2);\n+    BOOST_CHECK(HexStr(u3) == s3);\n+    BOOST_CHECK(HexStr(c4) == s4);\n+}\n+\n+BOOST_AUTO_TEST_SUITE_END()"
      }
    ]
  },
  {
    "sha": "7f561b7b861761708e96c3dff92a9a877f6f1c8f",
    "node_id": "C_kwDOABII59oAKDdmNTYxYjdiODYxNzYxNzA4ZTk2YzNkZmY5MmE5YTg3N2Y2ZjFjOGY",
    "commit": {
      "author": {
        "name": "Denis Ahrens",
        "email": "denis@h3q.com",
        "date": "2021-10-26T21:00:12Z"
      },
      "committer": {
        "name": "Denis Ahrens",
        "email": "denis@h3q.com",
        "date": "2021-10-26T21:00:12Z"
      },
      "message": "util: optimize HexStr() by 27% with a larger table and 16-bit writes\n\nThe old code needed 365ns for 256 byte input on an i7-6920HQ CPU,\nthis commit needs 268ns for the same 256 byte input.\nThis is a speedup of about 27%.",
      "tree": {
        "sha": "b41e0bf897b22f47276e86a6399deccf1bbb0975",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b41e0bf897b22f47276e86a6399deccf1bbb0975"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7f561b7b861761708e96c3dff92a9a877f6f1c8f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7f561b7b861761708e96c3dff92a9a877f6f1c8f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7f561b7b861761708e96c3dff92a9a877f6f1c8f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7f561b7b861761708e96c3dff92a9a877f6f1c8f/comments",
    "author": {
      "login": "denis2342",
      "id": 888782,
      "node_id": "MDQ6VXNlcjg4ODc4Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/888782?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/denis2342",
      "html_url": "https://github.com/denis2342",
      "followers_url": "https://api.github.com/users/denis2342/followers",
      "following_url": "https://api.github.com/users/denis2342/following{/other_user}",
      "gists_url": "https://api.github.com/users/denis2342/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/denis2342/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/denis2342/subscriptions",
      "organizations_url": "https://api.github.com/users/denis2342/orgs",
      "repos_url": "https://api.github.com/users/denis2342/repos",
      "events_url": "https://api.github.com/users/denis2342/events{/privacy}",
      "received_events_url": "https://api.github.com/users/denis2342/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "denis2342",
      "id": 888782,
      "node_id": "MDQ6VXNlcjg4ODc4Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/888782?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/denis2342",
      "html_url": "https://github.com/denis2342",
      "followers_url": "https://api.github.com/users/denis2342/followers",
      "following_url": "https://api.github.com/users/denis2342/following{/other_user}",
      "gists_url": "https://api.github.com/users/denis2342/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/denis2342/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/denis2342/subscriptions",
      "organizations_url": "https://api.github.com/users/denis2342/orgs",
      "repos_url": "https://api.github.com/users/denis2342/repos",
      "events_url": "https://api.github.com/users/denis2342/events{/privacy}",
      "received_events_url": "https://api.github.com/users/denis2342/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "497f20a9a90d542195d25c9ff3f8773e77965739",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/497f20a9a90d542195d25c9ff3f8773e77965739",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/497f20a9a90d542195d25c9ff3f8773e77965739"
      }
    ],
    "stats": {
      "total": 23,
      "additions": 15,
      "deletions": 8
    },
    "files": [
      {
        "sha": "f0cae00cba4aa31ff5d0a49e792eedc939890b4a",
        "filename": "src/util/strencodings.cpp",
        "status": "modified",
        "additions": 15,
        "deletions": 8,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7f561b7b861761708e96c3dff92a9a877f6f1c8f/src/util/strencodings.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7f561b7b861761708e96c3dff92a9a877f6f1c8f/src/util/strencodings.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/strencodings.cpp?ref=7f561b7b861761708e96c3dff92a9a877f6f1c8f",
        "patch": "@@ -516,13 +516,20 @@ std::string Capitalize(std::string str)\n std::string HexStr(const Span<const uint8_t> s)\n {\n     std::string rv(s.size() * 2, '\\0');\n-    static constexpr char hexmap[16] = { '0', '1', '2', '3', '4', '5', '6', '7',\n-                                         '8', '9', 'a', 'b', 'c', 'd', 'e', 'f' };\n-    auto it = rv.begin();\n-    for (uint8_t v : s) {\n-        *it++ = hexmap[v >> 4];\n-        *it++ = hexmap[v & 15];\n-    }\n-    assert(it == rv.end());\n+    static const uint16_t *hexmap = (const uint16_t *)\n+        \"000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f\"\n+        \"202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f\"\n+        \"404142434445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f\"\n+        \"606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f\"\n+        \"808182838485868788898a8b8c8d8e8f909192939495969798999a9b9c9d9e9f\"\n+        \"a0a1a2a3a4a5a6a7a8a9aaabacadaeafb0b1b2b3b4b5b6b7b8b9babbbcbdbebf\"\n+        \"c0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9dadbdcdddedf\"\n+        \"e0e1e2e3e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff\";\n+    uint16_t *it = (uint16_t *)rv.data();\n+\n+    for (uint8_t v : s)\n+        *it++ = hexmap[v];\n+\n+    assert(it == (uint16_t *)(rv.data() + s.size() * 2));\n     return rv;\n }"
      }
    ]
  }
]