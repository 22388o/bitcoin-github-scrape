[
  {
    "sha": "cf1eba38969f6e2cb2753a4f9d79ea0fb6f6e87e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjZjFlYmEzODk2OWY2ZTJjYjI3NTNhNGY5ZDc5ZWEwZmI2ZjZlODdl",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-12-14T03:13:34Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-12-14T03:32:35Z"
      },
      "message": "Bugfix: RPC: Add missing UnregisterHTTPHandler for /wallet/",
      "tree": {
        "sha": "c4debead21eab3ed3e6916b17be5b8063f418e64",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c4debead21eab3ed3e6916b17be5b8063f418e64"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf1eba38969f6e2cb2753a4f9d79ea0fb6f6e87e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cf1eba38969f6e2cb2753a4f9d79ea0fb6f6e87e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/cf1eba38969f6e2cb2753a4f9d79ea0fb6f6e87e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cf1eba38969f6e2cb2753a4f9d79ea0fb6f6e87e/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d4991c0cbb8a5464add1b64268eccdbfd3026d6e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d4991c0cbb8a5464add1b64268eccdbfd3026d6e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d4991c0cbb8a5464add1b64268eccdbfd3026d6e"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 3,
      "deletions": 0
    },
    "files": [
      {
        "sha": "69fa8294632476f0f5c6d638354f147a31ca1c5a",
        "filename": "src/httprpc.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cf1eba38969f6e2cb2753a4f9d79ea0fb6f6e87e/src/httprpc.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cf1eba38969f6e2cb2753a4f9d79ea0fb6f6e87e/src/httprpc.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/httprpc.cpp?ref=cf1eba38969f6e2cb2753a4f9d79ea0fb6f6e87e",
        "patch": "@@ -252,6 +252,9 @@ void StopHTTPRPC()\n {\n     LogPrint(BCLog::RPC, \"Stopping HTTP RPC server\\n\");\n     UnregisterHTTPHandler(\"/\", true);\n+#ifdef ENABLE_WALLET\n+    UnregisterHTTPHandler(\"/wallet/\", false);\n+#endif\n     if (httpRPCTimerInterface) {\n         RPCUnsetTimerInterface(httpRPCTimerInterface.get());\n         httpRPCTimerInterface.reset();"
      }
    ]
  },
  {
    "sha": "bbbc2349da33e45ffdf49a1f925460e67db43a38",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYmJjMjM0OWRhMzNlNDVmZmRmNDlhMWY5MjU0NjBlNjdkYjQzYTM4",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-10-05T22:42:19Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-12-14T03:32:35Z"
      },
      "message": "RPC: Add JSONRPCRequest preparation callbacks",
      "tree": {
        "sha": "9d886db11e75fb5d835e095a9581d5c93c76bf14",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9d886db11e75fb5d835e095a9581d5c93c76bf14"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bbbc2349da33e45ffdf49a1f925460e67db43a38",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bbbc2349da33e45ffdf49a1f925460e67db43a38",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/bbbc2349da33e45ffdf49a1f925460e67db43a38",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bbbc2349da33e45ffdf49a1f925460e67db43a38/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "cf1eba38969f6e2cb2753a4f9d79ea0fb6f6e87e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cf1eba38969f6e2cb2753a4f9d79ea0fb6f6e87e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/cf1eba38969f6e2cb2753a4f9d79ea0fb6f6e87e"
      }
    ],
    "stats": {
      "total": 28,
      "additions": 28,
      "deletions": 0
    },
    "files": [
      {
        "sha": "778bbac9387a40f3be0eb406f52c550bdcbb2c45",
        "filename": "src/httprpc.cpp",
        "status": "modified",
        "additions": 15,
        "deletions": 0,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bbbc2349da33e45ffdf49a1f925460e67db43a38/src/httprpc.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bbbc2349da33e45ffdf49a1f925460e67db43a38/src/httprpc.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/httprpc.cpp?ref=bbbc2349da33e45ffdf49a1f925460e67db43a38",
        "patch": "@@ -18,10 +18,23 @@\n #include <stdio.h>\n \n #include <boost/algorithm/string.hpp> // boost::trim\n+#include <boost/signals2/signal.hpp>\n \n /** WWW-Authenticate to present with 401 Unauthorized response */\n static const char* WWW_AUTH_HEADER_DATA = \"Basic realm=\\\"jsonrpc\\\"\";\n \n+boost::signals2::signal<void (JSONRPCRequest&, const HTTPRequest&)> PrepareJSONRPCRequestCallbacks;\n+\n+void RegisterJSONRPCRequestPreparer(const JSONRPCRequestPreparer& preparer)\n+{\n+    PrepareJSONRPCRequestCallbacks.connect(preparer);\n+}\n+\n+void UnregisterJSONRPCRequestPreparer(const JSONRPCRequestPreparer& preparer)\n+{\n+    PrepareJSONRPCRequestCallbacks.disconnect(preparer);\n+}\n+\n /** Simple one-shot callback timer to be used by the RPC mechanism to e.g.\n  * re-lock the wallet.\n  */\n@@ -180,6 +193,8 @@ static bool HTTPReq_JSONRPC(HTTPRequest* req, const std::string &)\n         // Set the URI\n         jreq.URI = req->GetURI();\n \n+        PrepareJSONRPCRequestCallbacks(jreq, *req);\n+\n         std::string strReply;\n         // singleton request\n         if (valRequest.isObject()) {"
      },
      {
        "sha": "33145a32cdd8f373a3be3bbaea8e6d107e5c62dd",
        "filename": "src/httprpc.h",
        "status": "modified",
        "additions": 13,
        "deletions": 0,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bbbc2349da33e45ffdf49a1f925460e67db43a38/src/httprpc.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bbbc2349da33e45ffdf49a1f925460e67db43a38/src/httprpc.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/httprpc.h?ref=bbbc2349da33e45ffdf49a1f925460e67db43a38",
        "patch": "@@ -5,9 +5,13 @@\n #ifndef BITCOIN_HTTPRPC_H\n #define BITCOIN_HTTPRPC_H\n \n+#include <functional>\n #include <string>\n #include <map>\n \n+class HTTPRequest;\n+class JSONRPCRequest;\n+\n /** Start HTTP RPC subsystem.\n  * Precondition; HTTP and RPC has been started.\n  */\n@@ -32,4 +36,13 @@ void InterruptREST();\n  */\n void StopREST();\n \n+/** Callback to prepare a JSONRPCRequest */\n+typedef void (*JSONRPCRequestPreparer)(JSONRPCRequest& req, const HTTPRequest&);\n+/** Register callback for preparing JSONRPCRequests.\n+ * If multiple handlers match a prefix, all of them will be invoked.\n+ */\n+void RegisterJSONRPCRequestPreparer(const JSONRPCRequestPreparer&);\n+/** Unregister callback */\n+void UnregisterJSONRPCRequestPreparer(const JSONRPCRequestPreparer&);\n+\n #endif"
      }
    ]
  },
  {
    "sha": "76df77f10acd62a7eb0098acb9ac2be0dcc7318f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3NmRmNzdmMTBhY2Q2MmE3ZWIwMDk4YWNiOWFjMmJlMGRjYzczMThm",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-10-25T09:46:14Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-12-14T03:32:35Z"
      },
      "message": "RPC: Pass wallet through JSONRPCRequest",
      "tree": {
        "sha": "dde256ee5b4beb30569ed337eeddaecb595421ef",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dde256ee5b4beb30569ed337eeddaecb595421ef"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/76df77f10acd62a7eb0098acb9ac2be0dcc7318f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/76df77f10acd62a7eb0098acb9ac2be0dcc7318f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/76df77f10acd62a7eb0098acb9ac2be0dcc7318f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/76df77f10acd62a7eb0098acb9ac2be0dcc7318f/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "bbbc2349da33e45ffdf49a1f925460e67db43a38",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bbbc2349da33e45ffdf49a1f925460e67db43a38",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bbbc2349da33e45ffdf49a1f925460e67db43a38"
      }
    ],
    "stats": {
      "total": 56,
      "additions": 36,
      "deletions": 20
    },
    "files": [
      {
        "sha": "c906589aedd54342d3e1f64df8d206b15cde13f4",
        "filename": "src/httprpc.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/76df77f10acd62a7eb0098acb9ac2be0dcc7318f/src/httprpc.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/76df77f10acd62a7eb0098acb9ac2be0dcc7318f/src/httprpc.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/httprpc.cpp?ref=76df77f10acd62a7eb0098acb9ac2be0dcc7318f",
        "patch": "@@ -241,6 +241,8 @@ static bool InitRPCAuthentication()\n     return true;\n }\n \n+void JSONRPCRequestWalletResolver(JSONRPCRequest&, const HTTPRequest&);\n+\n bool StartHTTPRPC()\n {\n     LogPrint(BCLog::RPC, \"Starting HTTP RPC server\\n\");\n@@ -251,6 +253,8 @@ bool StartHTTPRPC()\n #ifdef ENABLE_WALLET\n     // ifdef can be removed once we switch to better endpoint support and API versioning\n     RegisterHTTPHandler(\"/wallet/\", false, HTTPReq_JSONRPC);\n+\n+    RegisterJSONRPCRequestPreparer(JSONRPCRequestWalletResolver);\n #endif\n     assert(EventBase());\n     httpRPCTimerInterface = MakeUnique<HTTPRPCTimerInterface>(EventBase());\n@@ -269,6 +273,8 @@ void StopHTTPRPC()\n     UnregisterHTTPHandler(\"/\", true);\n #ifdef ENABLE_WALLET\n     UnregisterHTTPHandler(\"/wallet/\", false);\n+\n+    UnregisterJSONRPCRequestPreparer(JSONRPCRequestWalletResolver);\n #endif\n     if (httpRPCTimerInterface) {\n         RPCUnsetTimerInterface(httpRPCTimerInterface.get());"
      },
      {
        "sha": "e7a04b1f8f8335402d299b3fef007899d0030c9b",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 6,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/76df77f10acd62a7eb0098acb9ac2be0dcc7318f/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/76df77f10acd62a7eb0098acb9ac2be0dcc7318f/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=76df77f10acd62a7eb0098acb9ac2be0dcc7318f",
        "patch": "@@ -302,12 +302,8 @@ bool RPCConsole::RPCParseCommandLine(std::string &strResult, const std::string &\n                             req.params = RPCConvertValues(stack.back()[0], std::vector<std::string>(stack.back().begin() + 1, stack.back().end()));\n                             req.strMethod = stack.back()[0];\n #ifdef ENABLE_WALLET\n-                            // TODO: Move this logic to WalletModel\n-                            if (!vpwallets.empty()) {\n-                                // in Qt, use always the wallet with index 0 when running with multiple wallets\n-                                QByteArray encodedName = QUrl::toPercentEncoding(QString::fromStdString(vpwallets[0]->GetName()));\n-                                req.URI = \"/wallet/\"+std::string(encodedName.constData(), encodedName.length());\n-                            }\n+                            // TODO: Some way to access secondary wallets\n+                            req.wallet = vpwallets.empty() ? nullptr : vpwallets[0];\n #endif\n                             lastResult = tableRPC.execute(req);\n                         }"
      },
      {
        "sha": "ffbf94904c1b3c792663d1885bdcf4fa39e22782",
        "filename": "src/rpc/server.h",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/76df77f10acd62a7eb0098acb9ac2be0dcc7318f/src/rpc/server.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/76df77f10acd62a7eb0098acb9ac2be0dcc7318f/src/rpc/server.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/server.h?ref=76df77f10acd62a7eb0098acb9ac2be0dcc7318f",
        "patch": "@@ -27,6 +27,8 @@ namespace RPCServer\n     void OnStopped(std::function<void ()> slot);\n }\n \n+class CWallet;\n+\n /** Wrapper for UniValue::VType, which includes typeAny:\n  * Used to denote don't care type. Only used by RPCTypeCheckObj */\n struct UniValueType {\n@@ -45,8 +47,9 @@ class JSONRPCRequest\n     bool fHelp;\n     std::string URI;\n     std::string authUser;\n+    CWallet *wallet;\n \n-    JSONRPCRequest() : id(NullUniValue), params(NullUniValue), fHelp(false) {}\n+    JSONRPCRequest() : id(NullUniValue), params(NullUniValue), fHelp(false), wallet(nullptr) {}\n     void parse(const UniValue& valRequest);\n };\n "
      },
      {
        "sha": "3ce39a318be972b29d3dabea0d9155b253a0abc9",
        "filename": "src/wallet/rpcwallet.cpp",
        "status": "modified",
        "additions": 21,
        "deletions": 8,
        "changes": 29,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/76df77f10acd62a7eb0098acb9ac2be0dcc7318f/src/wallet/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/76df77f10acd62a7eb0098acb9ac2be0dcc7318f/src/wallet/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/rpcwallet.cpp?ref=76df77f10acd62a7eb0098acb9ac2be0dcc7318f",
        "patch": "@@ -34,21 +34,34 @@\n \n #include <univalue.h>\n \n-static const std::string WALLET_ENDPOINT_BASE = \"/wallet/\";\n-\n-CWallet *GetWalletForJSONRPCRequest(const JSONRPCRequest& request)\n+void JSONRPCRequestWalletResolver(JSONRPCRequest& jreq, const HTTPRequest& httpreq)\n {\n-    if (request.URI.substr(0, WALLET_ENDPOINT_BASE.size()) == WALLET_ENDPOINT_BASE) {\n+    static const std::string WALLET_ENDPOINT_BASE = \"/wallet/\";\n+\n+    jreq.wallet = nullptr;\n+    if (jreq.URI.substr(0, WALLET_ENDPOINT_BASE.size()) == WALLET_ENDPOINT_BASE) {\n         // wallet endpoint was used\n-        std::string requestedWallet = urlDecode(request.URI.substr(WALLET_ENDPOINT_BASE.size()));\n+        std::string requestedWallet = urlDecode(jreq.URI.substr(WALLET_ENDPOINT_BASE.size()));\n         for (CWalletRef pwallet : ::vpwallets) {\n             if (pwallet->GetName() == requestedWallet) {\n-                return pwallet;\n+                jreq.wallet = pwallet;\n             }\n         }\n-        throw JSONRPCError(RPC_WALLET_NOT_FOUND, \"Requested wallet does not exist or is not loaded\");\n+        if (!jreq.wallet) {\n+            throw JSONRPCError(RPC_WALLET_NOT_FOUND, \"Requested wallet does not exist or is not loaded\");\n+        }\n+    } else if (::vpwallets.size() == 1) {\n+        jreq.wallet = ::vpwallets[0];\n+    }\n+}\n+\n+CWallet *GetWalletForJSONRPCRequest(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp && (!request.wallet) && ::vpwallets.size() > 0) {\n+        return ::vpwallets[0];\n     }\n-    return ::vpwallets.size() == 1 || (request.fHelp && ::vpwallets.size() > 0) ? ::vpwallets[0] : nullptr;\n+\n+    return request.wallet;\n }\n \n std::string HelpRequiringPassphrase(CWallet * const pwallet)"
      },
      {
        "sha": "5d4e8541ecd5951ac45167061dc6678206ec94ac",
        "filename": "src/wallet/test/wallet_tests.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 5,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/76df77f10acd62a7eb0098acb9ac2be0dcc7318f/src/wallet/test/wallet_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/76df77f10acd62a7eb0098acb9ac2be0dcc7318f/src/wallet/test/wallet_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/test/wallet_tests.cpp?ref=76df77f10acd62a7eb0098acb9ac2be0dcc7318f",
        "patch": "@@ -406,7 +406,6 @@ BOOST_FIXTURE_TEST_CASE(rescan, TestChain100Setup)\n     // after.\n     {\n         CWallet wallet;\n-        vpwallets.insert(vpwallets.begin(), &wallet);\n         UniValue keys;\n         keys.setArray();\n         UniValue key;\n@@ -424,6 +423,7 @@ BOOST_FIXTURE_TEST_CASE(rescan, TestChain100Setup)\n         key.pushKV(\"internal\", UniValue(true));\n         keys.push_back(key);\n         JSONRPCRequest request;\n+        request.wallet = &wallet;\n         request.params.setArray();\n         request.params.push_back(keys);\n \n@@ -437,7 +437,6 @@ BOOST_FIXTURE_TEST_CASE(rescan, TestChain100Setup)\n                       \"downloading and rescanning the relevant blocks (see -reindex and -rescan \"\n                       \"options).\\\"}},{\\\"success\\\":true}]\",\n                               0, oldTip->GetBlockTimeMax(), TIMESTAMP_WINDOW));\n-        vpwallets.erase(vpwallets.begin());\n     }\n }\n \n@@ -472,7 +471,7 @@ BOOST_FIXTURE_TEST_CASE(importwallet_rescan, TestChain100Setup)\n         JSONRPCRequest request;\n         request.params.setArray();\n         request.params.push_back((pathTemp / \"wallet.backup\").string());\n-        vpwallets.insert(vpwallets.begin(), &wallet);\n+        request.wallet = &wallet;\n         ::dumpwallet(request);\n     }\n \n@@ -484,7 +483,7 @@ BOOST_FIXTURE_TEST_CASE(importwallet_rescan, TestChain100Setup)\n         JSONRPCRequest request;\n         request.params.setArray();\n         request.params.push_back((pathTemp / \"wallet.backup\").string());\n-        vpwallets[0] = &wallet;\n+        request.wallet = &wallet;\n         ::importwallet(request);\n \n         LOCK(wallet.cs_wallet);\n@@ -498,7 +497,6 @@ BOOST_FIXTURE_TEST_CASE(importwallet_rescan, TestChain100Setup)\n     }\n \n     SetMockTime(0);\n-    vpwallets.erase(vpwallets.begin());\n }\n \n // Check that GetImmatureCredit() returns a newly calculated value instead of"
      }
    ]
  },
  {
    "sha": "4401eee53747a3c2cdd8b515f822102e7bf61b56",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0NDAxZWVlNTM3NDdhM2MyY2RkOGI1MTVmODIyMTAyZTdiZjYxYjU2",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-09-09T09:25:13Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-12-14T03:32:35Z"
      },
      "message": "Qt: Load all wallets into WalletModels",
      "tree": {
        "sha": "45c706e37511e766fa172329fa396d58daddca73",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/45c706e37511e766fa172329fa396d58daddca73"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4401eee53747a3c2cdd8b515f822102e7bf61b56",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4401eee53747a3c2cdd8b515f822102e7bf61b56",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4401eee53747a3c2cdd8b515f822102e7bf61b56",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4401eee53747a3c2cdd8b515f822102e7bf61b56/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "76df77f10acd62a7eb0098acb9ac2be0dcc7318f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/76df77f10acd62a7eb0098acb9ac2be0dcc7318f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/76df77f10acd62a7eb0098acb9ac2be0dcc7318f"
      }
    ],
    "stats": {
      "total": 36,
      "additions": 21,
      "deletions": 15
    },
    "files": [
      {
        "sha": "0c35a06757120a1a452c951382f0a30b4c176932",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 21,
        "deletions": 10,
        "changes": 31,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4401eee53747a3c2cdd8b515f822102e7bf61b56/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4401eee53747a3c2cdd8b515f822102e7bf61b56/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=4401eee53747a3c2cdd8b515f822102e7bf61b56",
        "patch": "@@ -252,7 +252,7 @@ public Q_SLOTS:\n     QTimer *pollShutdownTimer;\n #ifdef ENABLE_WALLET\n     PaymentServer* paymentServer;\n-    WalletModel *walletModel;\n+    std::vector<WalletModel*> m_wallet_models;\n #endif\n     int returnValue;\n     const PlatformStyle *platformStyle;\n@@ -335,7 +335,7 @@ BitcoinApplication::BitcoinApplication(int &argc, char **argv):\n     pollShutdownTimer(0),\n #ifdef ENABLE_WALLET\n     paymentServer(0),\n-    walletModel(0),\n+    m_wallet_models(),\n #endif\n     returnValue(0)\n {\n@@ -454,8 +454,10 @@ void BitcoinApplication::requestShutdown()\n \n #ifdef ENABLE_WALLET\n     window->removeAllWallets();\n-    delete walletModel;\n-    walletModel = 0;\n+    for (WalletModel *walletModel : m_wallet_models) {\n+        delete walletModel;\n+    }\n+    m_wallet_models.clear();\n #endif\n     delete clientModel;\n     clientModel = 0;\n@@ -484,16 +486,25 @@ void BitcoinApplication::initializeResult(bool success)\n         window->setClientModel(clientModel);\n \n #ifdef ENABLE_WALLET\n-        // TODO: Expose secondary wallets\n-        if (!vpwallets.empty())\n-        {\n-            walletModel = new WalletModel(platformStyle, vpwallets[0], optionsModel);\n+        bool fFirstWallet = true;\n+        for (CWalletRef pwallet : vpwallets) {\n+            WalletModel * const walletModel = new WalletModel(platformStyle, pwallet, optionsModel);\n \n-            window->addWallet(BitcoinGUI::DEFAULT_WALLET, walletModel);\n-            window->setCurrentWallet(BitcoinGUI::DEFAULT_WALLET);\n+            QString WalletName = QString::fromStdString(pwallet->GetName());\n+            if (WalletName.endsWith(\".dat\")) {\n+                WalletName.truncate(WalletName.size() - 4);\n+            }\n+\n+            window->addWallet(WalletName, walletModel);\n+            if (fFirstWallet) {\n+                window->setCurrentWallet(WalletName);\n+                fFirstWallet = false;\n+            }\n \n             connect(walletModel, SIGNAL(coinsSent(CWallet*,SendCoinsRecipient,QByteArray)),\n                              paymentServer, SLOT(fetchPaymentACK(CWallet*,const SendCoinsRecipient&,QByteArray)));\n+\n+            m_wallet_models.push_back(walletModel);\n         }\n #endif\n "
      },
      {
        "sha": "e11e8fe681b7f04e274cbb968e2943ff40e23b1a",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 4,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4401eee53747a3c2cdd8b515f822102e7bf61b56/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4401eee53747a3c2cdd8b515f822102e7bf61b56/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=4401eee53747a3c2cdd8b515f822102e7bf61b56",
        "patch": "@@ -70,10 +70,6 @@ const std::string BitcoinGUI::DEFAULT_UIPLATFORM =\n #endif\n         ;\n \n-/** Display name for default wallet name. Uses tilde to avoid name\n- * collisions in the future with additional wallets */\n-const QString BitcoinGUI::DEFAULT_WALLET = \"~Default\";\n-\n BitcoinGUI::BitcoinGUI(const PlatformStyle *_platformStyle, const NetworkStyle *networkStyle, QWidget *parent) :\n     QMainWindow(parent),\n     enableWallet(false),"
      },
      {
        "sha": "288cda916f484d919f9f43ccb627a8ae7e268004",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4401eee53747a3c2cdd8b515f822102e7bf61b56/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4401eee53747a3c2cdd8b515f822102e7bf61b56/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=4401eee53747a3c2cdd8b515f822102e7bf61b56",
        "patch": "@@ -46,7 +46,6 @@ class BitcoinGUI : public QMainWindow\n     Q_OBJECT\n \n public:\n-    static const QString DEFAULT_WALLET;\n     static const std::string DEFAULT_UIPLATFORM;\n \n     explicit BitcoinGUI(const PlatformStyle *platformStyle, const NetworkStyle *networkStyle, QWidget *parent = 0);"
      }
    ]
  },
  {
    "sha": "da943d317bd055df47452a3bded3d235a39a6e3a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkYTk0M2QzMTdiZDA1NWRmNDc0NTJhM2JkZWQzZDIzNWEzOWE2ZTNh",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-10-24T07:21:51Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-12-14T03:32:35Z"
      },
      "message": "Qt: Ensure UI updates only come from the currently selected walletView",
      "tree": {
        "sha": "a05f8e5e5eeafe99bc0a80e66fbe9bd829b3da2d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a05f8e5e5eeafe99bc0a80e66fbe9bd829b3da2d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/da943d317bd055df47452a3bded3d235a39a6e3a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/da943d317bd055df47452a3bded3d235a39a6e3a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/da943d317bd055df47452a3bded3d235a39a6e3a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/da943d317bd055df47452a3bded3d235a39a6e3a/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4401eee53747a3c2cdd8b515f822102e7bf61b56",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4401eee53747a3c2cdd8b515f822102e7bf61b56",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4401eee53747a3c2cdd8b515f822102e7bf61b56"
      }
    ],
    "stats": {
      "total": 27,
      "additions": 25,
      "deletions": 2
    },
    "files": [
      {
        "sha": "e23fe7ba273e925862cd6028b765152c525fec07",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 15,
        "deletions": 0,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/da943d317bd055df47452a3bded3d235a39a6e3a/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/da943d317bd055df47452a3bded3d235a39a6e3a/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=da943d317bd055df47452a3bded3d235a39a6e3a",
        "patch": "@@ -21,6 +21,7 @@\n #ifdef ENABLE_WALLET\n #include <qt/walletframe.h>\n #include <qt/walletmodel.h>\n+#include <qt/walletview.h>\n #endif // ENABLE_WALLET\n \n #ifdef Q_OS_MAC\n@@ -1074,6 +1075,20 @@ void BitcoinGUI::setEncryptionStatus(int status)\n         break;\n     }\n }\n+\n+void BitcoinGUI::updateWalletStatus()\n+{\n+    if (!walletFrame) {\n+        return;\n+    }\n+    WalletView * const walletView = walletFrame->currentWalletView();\n+    if (!walletView) {\n+        return;\n+    }\n+    WalletModel * const walletModel = walletView->getWalletModel();\n+    setEncryptionStatus(walletModel->getEncryptionStatus());\n+    setHDStatus(walletModel->hdEnabled());\n+}\n #endif // ENABLE_WALLET\n \n void BitcoinGUI::showNormalIfMinimized(bool fToggleHidden)"
      },
      {
        "sha": "ba6c0d056326de95e3cd2ddeb5097573d9f7b798",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/da943d317bd055df47452a3bded3d235a39a6e3a/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/da943d317bd055df47452a3bded3d235a39a6e3a/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=da943d317bd055df47452a3bded3d235a39a6e3a",
        "patch": "@@ -170,6 +170,11 @@ public Q_SLOTS:\n     void message(const QString &title, const QString &message, unsigned int style, bool *ret = nullptr);\n \n #ifdef ENABLE_WALLET\n+    /** Set the UI status indicators based on the currently selected wallet.\n+    */\n+    void updateWalletStatus();\n+\n+private:\n     /** Set the encryption status as shown in the UI.\n        @param[in] status            current encryption status\n        @see WalletModel::EncryptionStatus\n@@ -182,6 +187,7 @@ public Q_SLOTS:\n      */\n     void setHDStatus(int hdEnabled);\n \n+public Q_SLOTS:\n     bool handlePaymentRequest(const SendCoinsRecipient& recipient);\n \n     /** Show incoming transaction notification for new transactions. */"
      },
      {
        "sha": "ce37e456f1971a412aab9bff92fd096c8a60db87",
        "filename": "src/qt/walletframe.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/da943d317bd055df47452a3bded3d235a39a6e3a/src/qt/walletframe.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/da943d317bd055df47452a3bded3d235a39a6e3a/src/qt/walletframe.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.h?ref=da943d317bd055df47452a3bded3d235a39a6e3a",
        "patch": "@@ -59,6 +59,7 @@ class WalletFrame : public QFrame\n \n     const PlatformStyle *platformStyle;\n \n+public:\n     WalletView *currentWalletView();\n \n public Q_SLOTS:"
      },
      {
        "sha": "8e706699318bd38533d55f8feeec1695bd52539a",
        "filename": "src/qt/walletview.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/da943d317bd055df47452a3bded3d235a39a6e3a/src/qt/walletview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/da943d317bd055df47452a3bded3d235a39a6e3a/src/qt/walletview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.cpp?ref=da943d317bd055df47452a3bded3d235a39a6e3a",
        "patch": "@@ -95,13 +95,13 @@ void WalletView::setBitcoinGUI(BitcoinGUI *gui)\n         connect(this, SIGNAL(message(QString,QString,unsigned int)), gui, SLOT(message(QString,QString,unsigned int)));\n \n         // Pass through encryption status changed signals\n-        connect(this, SIGNAL(encryptionStatusChanged(int)), gui, SLOT(setEncryptionStatus(int)));\n+        connect(this, SIGNAL(encryptionStatusChanged(int)), gui, SLOT(updateWalletStatus()));\n \n         // Pass through transaction notifications\n         connect(this, SIGNAL(incomingTransaction(QString,int,CAmount,QString,QString,QString)), gui, SLOT(incomingTransaction(QString,int,CAmount,QString,QString,QString)));\n \n         // Connect HD enabled state signal \n-        connect(this, SIGNAL(hdEnabledStatusChanged(int)), gui, SLOT(setHDStatus(int)));\n+        connect(this, SIGNAL(hdEnabledStatusChanged(int)), gui, SLOT(updateWalletStatus()));\n     }\n }\n "
      },
      {
        "sha": "580fcdde5b60cb4f821b4365012aa956dd4f8b4a",
        "filename": "src/qt/walletview.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/da943d317bd055df47452a3bded3d235a39a6e3a/src/qt/walletview.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/da943d317bd055df47452a3bded3d235a39a6e3a/src/qt/walletview.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.h?ref=da943d317bd055df47452a3bded3d235a39a6e3a",
        "patch": "@@ -44,6 +44,7 @@ class WalletView : public QStackedWidget\n         The client model represents the part of the core that communicates with the P2P network, and is wallet-agnostic.\n     */\n     void setClientModel(ClientModel *clientModel);\n+    WalletModel *getWalletModel() { return walletModel; }\n     /** Set the wallet model.\n         The wallet model represents a bitcoin wallet, and offers access to the list of transactions, address book and sending\n         functionality."
      }
    ]
  },
  {
    "sha": "469239d26328ffe256fff9e8f2ad97e927b77353",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0NjkyMzlkMjYzMjhmZmUyNTZmZmY5ZThmMmFkOTdlOTI3Yjc3MzUz",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-09-09T10:43:54Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-12-14T03:32:35Z"
      },
      "message": "Qt: Add a combobox to toolbar to select from multiple wallets",
      "tree": {
        "sha": "6fb8c219e7843e5e5eda7a1c18c1921118f78874",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6fb8c219e7843e5e5eda7a1c18c1921118f78874"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/469239d26328ffe256fff9e8f2ad97e927b77353",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/469239d26328ffe256fff9e8f2ad97e927b77353",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/469239d26328ffe256fff9e8f2ad97e927b77353",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/469239d26328ffe256fff9e8f2ad97e927b77353/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "da943d317bd055df47452a3bded3d235a39a6e3a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/da943d317bd055df47452a3bded3d235a39a6e3a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/da943d317bd055df47452a3bded3d235a39a6e3a"
      }
    ],
    "stats": {
      "total": 30,
      "additions": 29,
      "deletions": 1
    },
    "files": [
      {
        "sha": "8449e3abe36274d5dcd42d2204100b4fc2b07445",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 23,
        "deletions": 0,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/469239d26328ffe256fff9e8f2ad97e927b77353/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/469239d26328ffe256fff9e8f2ad97e927b77353/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=469239d26328ffe256fff9e8f2ad97e927b77353",
        "patch": "@@ -37,6 +37,7 @@\n \n #include <QAction>\n #include <QApplication>\n+#include <QComboBox>\n #include <QDateTime>\n #include <QDesktopWidget>\n #include <QDragEnterEvent>\n@@ -460,6 +461,23 @@ void BitcoinGUI::createToolBars()\n         toolbar->addAction(receiveCoinsAction);\n         toolbar->addAction(historyAction);\n         overviewAction->setChecked(true);\n+\n+#ifdef ENABLE_WALLET\n+        QWidget *spacer = new QWidget();\n+        spacer->setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Expanding);\n+        toolbar->addWidget(spacer);\n+\n+        WalletSelectorLabel = new QLabel();\n+        WalletSelectorLabel->setText(tr(\"Wallet:\") + \" \");\n+        toolbar->addWidget(WalletSelectorLabel);\n+        WalletSelectorLabel->setVisible(false);\n+        WalletSelector = new QComboBox();\n+        toolbar->addWidget(WalletSelector);\n+        WalletSelector->setVisible(false);\n+        WalletSelectorLabel->setBuddy(WalletSelector);\n+\n+        connect(WalletSelector, SIGNAL(currentIndexChanged(const QString&)), this, SLOT(setCurrentWallet(const QString&)));\n+#endif\n     }\n }\n \n@@ -531,6 +549,11 @@ bool BitcoinGUI::addWallet(const QString& name, WalletModel *walletModel)\n     if(!walletFrame)\n         return false;\n     setWalletActionsEnabled(true);\n+    WalletSelector->addItem(name);\n+    if (WalletSelector->count() == 2) {\n+        WalletSelectorLabel->setVisible(true);\n+        WalletSelector->setVisible(true);\n+    }\n     return walletFrame->addWallet(name, walletModel);\n }\n "
      },
      {
        "sha": "b573c25f3df1f3ef563ca6de3a6f5bb1b46e2952",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 6,
        "deletions": 1,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/469239d26328ffe256fff9e8f2ad97e927b77353/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/469239d26328ffe256fff9e8f2ad97e927b77353/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=469239d26328ffe256fff9e8f2ad97e927b77353",
        "patch": "@@ -33,6 +33,7 @@ class ModalOverlay;\n \n QT_BEGIN_NAMESPACE\n class QAction;\n+class QComboBox;\n class QProgressBar;\n class QProgressDialog;\n QT_END_NAMESPACE\n@@ -62,7 +63,6 @@ class BitcoinGUI : public QMainWindow\n         functionality.\n     */\n     bool addWallet(const QString& name, WalletModel *walletModel);\n-    bool setCurrentWallet(const QString& name);\n     void removeAllWallets();\n #endif // ENABLE_WALLET\n     bool enableWallet;\n@@ -111,6 +111,9 @@ class BitcoinGUI : public QMainWindow\n     QAction *openAction;\n     QAction *showHelpMessageAction;\n \n+    QLabel *WalletSelectorLabel;\n+    QComboBox *WalletSelector;\n+\n     QSystemTrayIcon *trayIcon;\n     QMenu *trayIconMenu;\n     Notificator *notificator;\n@@ -170,6 +173,8 @@ public Q_SLOTS:\n     void message(const QString &title, const QString &message, unsigned int style, bool *ret = nullptr);\n \n #ifdef ENABLE_WALLET\n+    bool setCurrentWallet(const QString& name);\n+\n     /** Set the UI status indicators based on the currently selected wallet.\n     */\n     void updateWalletStatus();"
      }
    ]
  },
  {
    "sha": "91b7f95cc30f166b1f786d8c321ea9148cc7cf21",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5MWI3Zjk1Y2MzMGYxNjZiMWY3ODZkOGMzMjFlYTkxNDhjYzdjZjIx",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-09-09T20:55:59Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-12-14T03:33:22Z"
      },
      "message": "Qt: Add wallet selector to debug console",
      "tree": {
        "sha": "6e47009a2e15a7dd599c737a0285150a0b14a343",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6e47009a2e15a7dd599c737a0285150a0b14a343"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/91b7f95cc30f166b1f786d8c321ea9148cc7cf21",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/91b7f95cc30f166b1f786d8c321ea9148cc7cf21",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/91b7f95cc30f166b1f786d8c321ea9148cc7cf21",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/91b7f95cc30f166b1f786d8c321ea9148cc7cf21/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "469239d26328ffe256fff9e8f2ad97e927b77353",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/469239d26328ffe256fff9e8f2ad97e927b77353",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/469239d26328ffe256fff9e8f2ad97e927b77353"
      }
    ],
    "stats": {
      "total": 78,
      "additions": 66,
      "deletions": 12
    },
    "files": [
      {
        "sha": "c44389f37a8a6af2c917720849a1c437f13e7c14",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/91b7f95cc30f166b1f786d8c321ea9148cc7cf21/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/91b7f95cc30f166b1f786d8c321ea9148cc7cf21/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=91b7f95cc30f166b1f786d8c321ea9148cc7cf21",
        "patch": "@@ -554,6 +554,7 @@ bool BitcoinGUI::addWallet(const QString& name, WalletModel *walletModel)\n         WalletSelectorLabel->setVisible(true);\n         WalletSelector->setVisible(true);\n     }\n+    rpcConsole->addWallet(name, walletModel);\n     return walletFrame->addWallet(name, walletModel);\n }\n "
      },
      {
        "sha": "695ed61228a4007283da4f7d3be95b21be0c02e0",
        "filename": "src/qt/forms/debugwindow.ui",
        "status": "modified",
        "additions": 16,
        "deletions": 0,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/91b7f95cc30f166b1f786d8c321ea9148cc7cf21/src/qt/forms/debugwindow.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/91b7f95cc30f166b1f786d8c321ea9148cc7cf21/src/qt/forms/debugwindow.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/debugwindow.ui?ref=91b7f95cc30f166b1f786d8c321ea9148cc7cf21",
        "patch": "@@ -412,6 +412,22 @@\n          <property name=\"spacing\">\n           <number>4</number>\n          </property>\n+         <item>\n+          <widget class=\"QLabel\" name=\"WalletSelectorLabel\">\n+           <property name=\"text\">\n+            <string>Wallet: </string>\n+           </property>\n+          </widget>\n+         </item>\n+         <item>\n+          <widget class=\"QComboBox\" name=\"WalletSelector\">\n+           <item>\n+            <property name=\"text\">\n+             <string>(none)</string>\n+            </property>\n+           </item>\n+          </widget>\n+         </item>\n          <item>\n           <spacer name=\"horizontalSpacer\">\n            <property name=\"orientation\">"
      },
      {
        "sha": "4488732a12a457152e58692006eb22e12e1e261e",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 41,
        "deletions": 8,
        "changes": 49,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/91b7f95cc30f166b1f786d8c321ea9148cc7cf21/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/91b7f95cc30f166b1f786d8c321ea9148cc7cf21/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=91b7f95cc30f166b1f786d8c321ea9148cc7cf21",
        "patch": "@@ -12,6 +12,7 @@\n #include <qt/bantablemodel.h>\n #include <qt/clientmodel.h>\n #include <qt/platformstyle.h>\n+#include <qt/walletmodel.h>\n #include <chainparams.h>\n #include <netbase.h>\n #include <rpc/server.h>\n@@ -83,7 +84,7 @@ class RPCExecutor : public QObject\n     Q_OBJECT\n \n public Q_SLOTS:\n-    void request(const QString &command);\n+    void request(const QString &command, void *ppwallet);\n \n Q_SIGNALS:\n     void reply(int category, const QString &command);\n@@ -144,7 +145,7 @@ class QtRPCTimerInterface: public RPCTimerInterface\n  * @param[out]   pstrFilteredOut  Command line, filtered to remove any sensitive data\n  */\n \n-bool RPCConsole::RPCParseCommandLine(std::string &strResult, const std::string &strCommand, const bool fExecute, std::string * const pstrFilteredOut)\n+bool RPCConsole::RPCParseCommandLine(std::string &strResult, const std::string &strCommand, const bool fExecute, std::string * const pstrFilteredOut, void * const ppwallet_v)\n {\n     std::vector< std::vector<std::string> > stack;\n     stack.push_back(std::vector<std::string>());\n@@ -302,8 +303,11 @@ bool RPCConsole::RPCParseCommandLine(std::string &strResult, const std::string &\n                             req.params = RPCConvertValues(stack.back()[0], std::vector<std::string>(stack.back().begin() + 1, stack.back().end()));\n                             req.strMethod = stack.back()[0];\n #ifdef ENABLE_WALLET\n-                            // TODO: Some way to access secondary wallets\n-                            req.wallet = vpwallets.empty() ? nullptr : vpwallets[0];\n+                            CWalletRef * const ppwallet = (CWalletRef*)ppwallet_v;\n+                            if (ppwallet) {\n+                                req.wallet = *ppwallet;\n+                                delete ppwallet;\n+                            }\n #endif\n                             lastResult = tableRPC.execute(req);\n                         }\n@@ -380,7 +384,7 @@ bool RPCConsole::RPCParseCommandLine(std::string &strResult, const std::string &\n     }\n }\n \n-void RPCExecutor::request(const QString &command)\n+void RPCExecutor::request(const QString &command, void * const ppwallet_v)\n {\n     try\n     {\n@@ -411,7 +415,7 @@ void RPCExecutor::request(const QString &command)\n                 \"   example:    getblock(getblockhash(0),true)[tx][0]\\n\\n\")));\n             return;\n         }\n-        if(!RPCConsole::RPCExecuteCommandLine(result, executableCommand))\n+        if(!RPCConsole::RPCExecuteCommandLine(result, executableCommand, nullptr, ppwallet_v))\n         {\n             Q_EMIT reply(RPCConsole::CMD_ERROR, QString(\"Parse error: unbalanced ' or \\\"\"));\n             return;\n@@ -497,6 +501,12 @@ RPCConsole::RPCConsole(const PlatformStyle *_platformStyle, QWidget *parent) :\n \n RPCConsole::~RPCConsole()\n {\n+#ifdef ENABLE_WALLET\n+    for (int i = ui->WalletSelector->count(); --i >= 1; ) {\n+        CWalletRef * const ppwallet = (CWalletRef*)ui->WalletSelector->itemData(i).value<void*>();\n+        delete ppwallet;\n+    }\n+#endif\n     QSettings settings;\n     settings.setValue(\"RPCConsoleWindowGeometry\", saveGeometry());\n     RPCUnsetTimerInterface(rpcTimerInterface);\n@@ -682,6 +692,18 @@ void RPCConsole::setClientModel(ClientModel *model)\n     }\n }\n \n+#ifdef ENABLE_WALLET\n+void RPCConsole::addWallet(const QString name, WalletModel * const walletModel)\n+{\n+    CWalletRef * const ppwallet = new CWalletRef(walletModel->getWallet());\n+    ui->WalletSelector->addItem(name, QVariant::fromValue((void*)(ppwallet)));\n+    if (ui->WalletSelector->count() == 2 && !isVisible()) {\n+        // First wallet added, set to default so long as the window isn't presently visible (and potentially in use)\n+        ui->WalletSelector->setCurrentIndex(1);\n+    }\n+}\n+#endif\n+\n static QString categoryClass(int category)\n {\n     switch(category)\n@@ -869,8 +891,19 @@ void RPCConsole::on_lineEdit_returnPressed()\n \n         cmdBeforeBrowsing = QString();\n \n+        void *ppwallet_v = nullptr;\n+#ifdef ENABLE_WALLET\n+        const int wallet_index = ui->WalletSelector->currentIndex();\n+        if (wallet_index > 0) {\n+            CWalletRef *ppwallet = (CWalletRef*)ui->WalletSelector->itemData(wallet_index).value<void*>();\n+            // Copying the ref, expecting it to become more than just a simple pointer in the future\n+            ppwallet = new CWalletRef(*ppwallet);\n+            ppwallet_v = (void*)ppwallet;\n+        }\n+#endif\n+\n         message(CMD_REQUEST, QString::fromStdString(strFilteredCmd));\n-        Q_EMIT cmdRequest(cmd);\n+        Q_EMIT cmdRequest(cmd, ppwallet_v);\n \n         cmd = QString::fromStdString(strFilteredCmd);\n \n@@ -918,7 +951,7 @@ void RPCConsole::startExecutor()\n     // Replies from executor object must go to this object\n     connect(executor, SIGNAL(reply(int,QString)), this, SLOT(message(int,QString)));\n     // Requests from this object must go to executor\n-    connect(this, SIGNAL(cmdRequest(QString)), executor, SLOT(request(QString)));\n+    connect(this, SIGNAL(cmdRequest(QString, void*)), executor, SLOT(request(QString, void*)));\n \n     // On stopExecutor signal\n     // - quit the Qt event loop in the execution thread"
      },
      {
        "sha": "8151f4215dc435330b9556b5d2d025bf1555e4ac",
        "filename": "src/qt/rpcconsole.h",
        "status": "modified",
        "additions": 6,
        "deletions": 4,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/91b7f95cc30f166b1f786d8c321ea9148cc7cf21/src/qt/rpcconsole.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/91b7f95cc30f166b1f786d8c321ea9148cc7cf21/src/qt/rpcconsole.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.h?ref=91b7f95cc30f166b1f786d8c321ea9148cc7cf21",
        "patch": "@@ -17,6 +17,7 @@\n class ClientModel;\n class PlatformStyle;\n class RPCTimerInterface;\n+class WalletModel;\n \n namespace Ui {\n     class RPCConsole;\n@@ -36,12 +37,13 @@ class RPCConsole: public QWidget\n     explicit RPCConsole(const PlatformStyle *platformStyle, QWidget *parent);\n     ~RPCConsole();\n \n-    static bool RPCParseCommandLine(std::string &strResult, const std::string &strCommand, bool fExecute, std::string * const pstrFilteredOut = nullptr);\n-    static bool RPCExecuteCommandLine(std::string &strResult, const std::string &strCommand, std::string * const pstrFilteredOut = nullptr) {\n-        return RPCParseCommandLine(strResult, strCommand, true, pstrFilteredOut);\n+    static bool RPCParseCommandLine(std::string &strResult, const std::string &strCommand, bool fExecute, std::string * const pstrFilteredOut = nullptr, void *wallet = nullptr);\n+    static bool RPCExecuteCommandLine(std::string &strResult, const std::string &strCommand, std::string * const pstrFilteredOut = nullptr, void *wallet = nullptr) {\n+        return RPCParseCommandLine(strResult, strCommand, true, pstrFilteredOut, wallet);\n     }\n \n     void setClientModel(ClientModel *model);\n+    void addWallet(const QString name, WalletModel * const walletModel);\n \n     enum MessageClass {\n         MC_ERROR,\n@@ -120,7 +122,7 @@ public Q_SLOTS:\n Q_SIGNALS:\n     // For RPC command executor\n     void stopExecutor();\n-    void cmdRequest(const QString &command);\n+    void cmdRequest(const QString &command, void *ppwallet);\n \n private:\n     void startExecutor();"
      },
      {
        "sha": "9ebf981446b50cac65a945733fc32c9dd064a3d0",
        "filename": "src/qt/walletmodel.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/91b7f95cc30f166b1f786d8c321ea9148cc7cf21/src/qt/walletmodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/91b7f95cc30f166b1f786d8c321ea9148cc7cf21/src/qt/walletmodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.h?ref=91b7f95cc30f166b1f786d8c321ea9148cc7cf21",
        "patch": "@@ -129,6 +129,8 @@ class WalletModel : public QObject\n     TransactionTableModel *getTransactionTableModel();\n     RecentRequestsTableModel *getRecentRequestsTableModel();\n \n+    CWallet *getWallet() const { return wallet; };\n+\n     CAmount getBalance(const CCoinControl *coinControl = nullptr) const;\n     CAmount getUnconfirmedBalance() const;\n     CAmount getImmatureBalance() const;"
      }
    ]
  },
  {
    "sha": "703d0f6174052c5ce8a79154da56cf05ceedbf1e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3MDNkMGY2MTc0MDUyYzVjZThhNzkxNTRkYTU2Y2YwNWNlZWRiZjFl",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-12-29T13:53:25Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-12-14T03:33:22Z"
      },
      "message": "Qt: QComboBox::setVisible doesn't work in toolbars, so defer adding it at all until needed",
      "tree": {
        "sha": "e52eaefd8d43c58811c1df94d6ec9b1cca074398",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e52eaefd8d43c58811c1df94d6ec9b1cca074398"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/703d0f6174052c5ce8a79154da56cf05ceedbf1e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/703d0f6174052c5ce8a79154da56cf05ceedbf1e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/703d0f6174052c5ce8a79154da56cf05ceedbf1e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/703d0f6174052c5ce8a79154da56cf05ceedbf1e/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "91b7f95cc30f166b1f786d8c321ea9148cc7cf21",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/91b7f95cc30f166b1f786d8c321ea9148cc7cf21",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/91b7f95cc30f166b1f786d8c321ea9148cc7cf21"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 8,
      "deletions": 10
    },
    "files": [
      {
        "sha": "125e8b7d8d3d57f71584a8f92532704fae7ef901",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 10,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/703d0f6174052c5ce8a79154da56cf05ceedbf1e/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/703d0f6174052c5ce8a79154da56cf05ceedbf1e/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=703d0f6174052c5ce8a79154da56cf05ceedbf1e",
        "patch": "@@ -86,6 +86,7 @@ BitcoinGUI::BitcoinGUI(const PlatformStyle *_platformStyle, const NetworkStyle *\n     progressBar(0),\n     progressDialog(0),\n     appMenuBar(0),\n+    appToolBar(0),\n     overviewAction(0),\n     historyAction(0),\n     quitAction(0),\n@@ -453,6 +454,7 @@ void BitcoinGUI::createToolBars()\n     if(walletFrame)\n     {\n         QToolBar *toolbar = addToolBar(tr(\"Tabs toolbar\"));\n+        appToolBar = toolbar;\n         toolbar->setContextMenuPolicy(Qt::PreventContextMenu);\n         toolbar->setMovable(false);\n         toolbar->setToolButtonStyle(Qt::ToolButtonTextBesideIcon);\n@@ -467,15 +469,7 @@ void BitcoinGUI::createToolBars()\n         spacer->setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Expanding);\n         toolbar->addWidget(spacer);\n \n-        WalletSelectorLabel = new QLabel();\n-        WalletSelectorLabel->setText(tr(\"Wallet:\") + \" \");\n-        toolbar->addWidget(WalletSelectorLabel);\n-        WalletSelectorLabel->setVisible(false);\n         WalletSelector = new QComboBox();\n-        toolbar->addWidget(WalletSelector);\n-        WalletSelector->setVisible(false);\n-        WalletSelectorLabel->setBuddy(WalletSelector);\n-\n         connect(WalletSelector, SIGNAL(currentIndexChanged(const QString&)), this, SLOT(setCurrentWallet(const QString&)));\n #endif\n     }\n@@ -551,8 +545,11 @@ bool BitcoinGUI::addWallet(const QString& name, WalletModel *walletModel)\n     setWalletActionsEnabled(true);\n     WalletSelector->addItem(name);\n     if (WalletSelector->count() == 2) {\n-        WalletSelectorLabel->setVisible(true);\n-        WalletSelector->setVisible(true);\n+        WalletSelectorLabel = new QLabel();\n+        WalletSelectorLabel->setText(tr(\"Wallet:\") + \" \");\n+        WalletSelectorLabel->setBuddy(WalletSelector);\n+        appToolBar->addWidget(WalletSelectorLabel);\n+        appToolBar->addWidget(WalletSelector);\n     }\n     rpcConsole->addWallet(name, walletModel);\n     return walletFrame->addWallet(name, walletModel);"
      },
      {
        "sha": "73b2ce38222e62fe9ec407d676fca773f37c7bc1",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/703d0f6174052c5ce8a79154da56cf05ceedbf1e/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/703d0f6174052c5ce8a79154da56cf05ceedbf1e/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=703d0f6174052c5ce8a79154da56cf05ceedbf1e",
        "patch": "@@ -89,6 +89,7 @@ class BitcoinGUI : public QMainWindow\n     QProgressDialog *progressDialog;\n \n     QMenuBar *appMenuBar;\n+    QToolBar *appToolBar;\n     QAction *overviewAction;\n     QAction *historyAction;\n     QAction *quitAction;"
      }
    ]
  },
  {
    "sha": "66507329ee544405fcdfdd7bfceb846cbb6b9a1f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2NjUwNzMyOWVlNTQ0NDA1ZmNkZmRkN2JmY2ViODQ2Y2JiNmI5YTFm",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-04-20T20:23:16Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-12-14T03:33:22Z"
      },
      "message": "Qt: When multiple wallets are used, include in notifications the name of the wallet involved",
      "tree": {
        "sha": "f64b3ad1fc7740ecd6210e96d80d70bd36f1a220",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f64b3ad1fc7740ecd6210e96d80d70bd36f1a220"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/66507329ee544405fcdfdd7bfceb846cbb6b9a1f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/66507329ee544405fcdfdd7bfceb846cbb6b9a1f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/66507329ee544405fcdfdd7bfceb846cbb6b9a1f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/66507329ee544405fcdfdd7bfceb846cbb6b9a1f/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "703d0f6174052c5ce8a79154da56cf05ceedbf1e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/703d0f6174052c5ce8a79154da56cf05ceedbf1e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/703d0f6174052c5ce8a79154da56cf05ceedbf1e"
      }
    ],
    "stats": {
      "total": 42,
      "additions": 35,
      "deletions": 7
    },
    "files": [
      {
        "sha": "0b2a3eb7045e159e5f66d5a2418319d3971f51bc",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 3,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/66507329ee544405fcdfdd7bfceb846cbb6b9a1f/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/66507329ee544405fcdfdd7bfceb846cbb6b9a1f/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=66507329ee544405fcdfdd7bfceb846cbb6b9a1f",
        "patch": "@@ -569,6 +569,11 @@ void BitcoinGUI::removeAllWallets()\n     setWalletActionsEnabled(false);\n     walletFrame->removeAllWallets();\n }\n+\n+bool BitcoinGUI::multiWallet() const\n+{\n+    return (WalletSelector->count() > 1);\n+}\n #endif // ENABLE_WALLET\n \n void BitcoinGUI::setWalletActionsEnabled(bool enabled)\n@@ -1000,12 +1005,15 @@ void BitcoinGUI::showEvent(QShowEvent *event)\n }\n \n #ifdef ENABLE_WALLET\n-void BitcoinGUI::incomingTransaction(const QString& date, int unit, const CAmount& amount, const QString& type, const QString& address, const QString& label)\n+void BitcoinGUI::incomingTransaction(const QString& date, int unit, const CAmount& amount, const QString& type, const QString& address, const QString& label, const QString& wallet)\n {\n     // On new transaction, make an info balloon\n     QString msg = tr(\"Date: %1\\n\").arg(date) +\n-                  tr(\"Amount: %1\\n\").arg(BitcoinUnits::formatWithUnit(unit, amount, true)) +\n-                  tr(\"Type: %1\\n\").arg(type);\n+                  tr(\"Amount: %1\\n\").arg(BitcoinUnits::formatWithUnit(unit, amount, true));\n+    if (!wallet.isEmpty()) {\n+        msg += tr(\"Wallet: %1\\n\").arg(wallet);\n+    }\n+    msg += tr(\"Type: %1\\n\").arg(type);\n     if (!label.isEmpty())\n         msg += tr(\"Label: %1\\n\").arg(label);\n     else if (!address.isEmpty())"
      },
      {
        "sha": "b7ee396ae745b817b21c89fd08eacd9ea165001a",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/66507329ee544405fcdfdd7bfceb846cbb6b9a1f/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/66507329ee544405fcdfdd7bfceb846cbb6b9a1f/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=66507329ee544405fcdfdd7bfceb846cbb6b9a1f",
        "patch": "@@ -64,6 +64,7 @@ class BitcoinGUI : public QMainWindow\n     */\n     bool addWallet(const QString& name, WalletModel *walletModel);\n     void removeAllWallets();\n+    bool multiWallet() const;\n #endif // ENABLE_WALLET\n     bool enableWallet;\n \n@@ -197,7 +198,7 @@ public Q_SLOTS:\n     bool handlePaymentRequest(const SendCoinsRecipient& recipient);\n \n     /** Show incoming transaction notification for new transactions. */\n-    void incomingTransaction(const QString& date, int unit, const CAmount& amount, const QString& type, const QString& address, const QString& label);\n+    void incomingTransaction(const QString& date, int unit, const CAmount& amount, const QString& type, const QString& address, const QString& label, const QString& wallet);\n #endif // ENABLE_WALLET\n \n private Q_SLOTS:"
      },
      {
        "sha": "3156781a704c060b4c9236087f8eeff682343a98",
        "filename": "src/qt/walletmodel.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 0,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/66507329ee544405fcdfdd7bfceb846cbb6b9a1f/src/qt/walletmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/66507329ee544405fcdfdd7bfceb846cbb6b9a1f/src/qt/walletmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.cpp?ref=66507329ee544405fcdfdd7bfceb846cbb6b9a1f",
        "patch": "@@ -65,6 +65,15 @@ WalletModel::~WalletModel()\n     unsubscribeFromCoreSignals();\n }\n \n+QString WalletModel::getWalletName() const\n+{\n+    QString WalletName = QString::fromStdString(wallet->GetName());\n+    if (WalletName.endsWith(\".dat\")) {\n+        WalletName.truncate(WalletName.size() - 4);\n+    }\n+    return WalletName;\n+}\n+\n CAmount WalletModel::getBalance(const CCoinControl *coinControl) const\n {\n     if (coinControl)"
      },
      {
        "sha": "51e112a6e16845067b0fb35c92ef7a32824472aa",
        "filename": "src/qt/walletmodel.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/66507329ee544405fcdfdd7bfceb846cbb6b9a1f/src/qt/walletmodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/66507329ee544405fcdfdd7bfceb846cbb6b9a1f/src/qt/walletmodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.h?ref=66507329ee544405fcdfdd7bfceb846cbb6b9a1f",
        "patch": "@@ -131,6 +131,7 @@ class WalletModel : public QObject\n \n     CWallet *getWallet() const { return wallet; };\n \n+    QString getWalletName() const;\n     CAmount getBalance(const CCoinControl *coinControl = nullptr) const;\n     CAmount getUnconfirmedBalance() const;\n     CAmount getImmatureBalance() const;"
      },
      {
        "sha": "fac616bf20e2c726d36527db220168dd39382754",
        "filename": "src/qt/walletview.cpp",
        "status": "modified",
        "additions": 10,
        "deletions": 2,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/66507329ee544405fcdfdd7bfceb846cbb6b9a1f/src/qt/walletview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/66507329ee544405fcdfdd7bfceb846cbb6b9a1f/src/qt/walletview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.cpp?ref=66507329ee544405fcdfdd7bfceb846cbb6b9a1f",
        "patch": "@@ -31,6 +31,7 @@\n \n WalletView::WalletView(const PlatformStyle *_platformStyle, QWidget *parent):\n     QStackedWidget(parent),\n+    bitcoinGui(0),\n     clientModel(0),\n     walletModel(0),\n     platformStyle(_platformStyle)\n@@ -98,11 +99,13 @@ void WalletView::setBitcoinGUI(BitcoinGUI *gui)\n         connect(this, SIGNAL(encryptionStatusChanged(int)), gui, SLOT(updateWalletStatus()));\n \n         // Pass through transaction notifications\n-        connect(this, SIGNAL(incomingTransaction(QString,int,CAmount,QString,QString,QString)), gui, SLOT(incomingTransaction(QString,int,CAmount,QString,QString,QString)));\n+        connect(this, SIGNAL(incomingTransaction(QString,int,CAmount,QString,QString,QString,QString)), gui, SLOT(incomingTransaction(QString,int,CAmount,QString,QString,QString,QString)));\n \n         // Connect HD enabled state signal \n         connect(this, SIGNAL(hdEnabledStatusChanged(int)), gui, SLOT(updateWalletStatus()));\n     }\n+\n+    bitcoinGui = gui;\n }\n \n void WalletView::setClientModel(ClientModel *_clientModel)\n@@ -166,7 +169,12 @@ void WalletView::processNewTransaction(const QModelIndex& parent, int start, int\n     QString address = ttm->data(index, TransactionTableModel::AddressRole).toString();\n     QString label = ttm->data(index, TransactionTableModel::LabelRole).toString();\n \n-    Q_EMIT incomingTransaction(date, walletModel->getOptionsModel()->getDisplayUnit(), amount, type, address, label);\n+    QString wallet;\n+    if (bitcoinGui->multiWallet()) {\n+        wallet = walletModel->getWalletName();\n+    }\n+\n+    Q_EMIT incomingTransaction(date, walletModel->getOptionsModel()->getDisplayUnit(), amount, type, address, label, wallet);\n }\n \n void WalletView::gotoOverviewPage()"
      },
      {
        "sha": "4f365b8a94d671f24c5839f41671a6cff5bedaf1",
        "filename": "src/qt/walletview.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/66507329ee544405fcdfdd7bfceb846cbb6b9a1f/src/qt/walletview.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/66507329ee544405fcdfdd7bfceb846cbb6b9a1f/src/qt/walletview.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.h?ref=66507329ee544405fcdfdd7bfceb846cbb6b9a1f",
        "patch": "@@ -56,6 +56,7 @@ class WalletView : public QStackedWidget\n     void showOutOfSyncWarning(bool fShow);\n \n private:\n+    BitcoinGUI *bitcoinGui;\n     ClientModel *clientModel;\n     WalletModel *walletModel;\n \n@@ -124,7 +125,7 @@ public Q_SLOTS:\n     /** HD-Enabled status of wallet changed (only possible during startup) */\n     void hdEnabledStatusChanged(int hdEnabled);\n     /** Notify that a new transaction appeared */\n-    void incomingTransaction(const QString& date, int unit, const CAmount& amount, const QString& type, const QString& address, const QString& label);\n+    void incomingTransaction(const QString& date, int unit, const CAmount& amount, const QString& type, const QString& address, const QString& label, const QString& wallet);\n     /** Notify that the out of sync warning icon has been pressed */\n     void outOfSyncWarningClicked();\n };"
      }
    ]
  },
  {
    "sha": "69c019c0035d1b63e757f0d2c657cbb9146ec676",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2OWMwMTljMDAzNWQxYjYzZTc1N2YwZDJjNjU3Y2JiOTE0NmVjNjc2",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-10-12T07:22:48Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-12-14T03:33:22Z"
      },
      "message": "Qt: Get wallet name from WalletModel rather than passing it around",
      "tree": {
        "sha": "6917da3c3cbd6dee3a3c0057d06b68000702c824",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6917da3c3cbd6dee3a3c0057d06b68000702c824"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/69c019c0035d1b63e757f0d2c657cbb9146ec676",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/69c019c0035d1b63e757f0d2c657cbb9146ec676",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/69c019c0035d1b63e757f0d2c657cbb9146ec676",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/69c019c0035d1b63e757f0d2c657cbb9146ec676/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "66507329ee544405fcdfdd7bfceb846cbb6b9a1f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/66507329ee544405fcdfdd7bfceb846cbb6b9a1f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/66507329ee544405fcdfdd7bfceb846cbb6b9a1f"
      }
    ],
    "stats": {
      "total": 36,
      "additions": 20,
      "deletions": 16
    },
    "files": [
      {
        "sha": "d8bdb8db793b178081ba548117c1cbe77311d796",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 7,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/69c019c0035d1b63e757f0d2c657cbb9146ec676/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/69c019c0035d1b63e757f0d2c657cbb9146ec676/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=69c019c0035d1b63e757f0d2c657cbb9146ec676",
        "patch": "@@ -490,14 +490,9 @@ void BitcoinApplication::initializeResult(bool success)\n         for (CWalletRef pwallet : vpwallets) {\n             WalletModel * const walletModel = new WalletModel(platformStyle, pwallet, optionsModel);\n \n-            QString WalletName = QString::fromStdString(pwallet->GetName());\n-            if (WalletName.endsWith(\".dat\")) {\n-                WalletName.truncate(WalletName.size() - 4);\n-            }\n-\n-            window->addWallet(WalletName, walletModel);\n+            window->addWallet(walletModel);\n             if (fFirstWallet) {\n-                window->setCurrentWallet(WalletName);\n+                window->setCurrentWallet(walletModel->getWalletName());\n                 fFirstWallet = false;\n             }\n "
      },
      {
        "sha": "0f3e1a0251b2710f666bc3277bca1348a8e6deb9",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 3,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/69c019c0035d1b63e757f0d2c657cbb9146ec676/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/69c019c0035d1b63e757f0d2c657cbb9146ec676/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=69c019c0035d1b63e757f0d2c657cbb9146ec676",
        "patch": "@@ -538,10 +538,11 @@ void BitcoinGUI::setClientModel(ClientModel *_clientModel)\n }\n \n #ifdef ENABLE_WALLET\n-bool BitcoinGUI::addWallet(const QString& name, WalletModel *walletModel)\n+bool BitcoinGUI::addWallet(WalletModel *walletModel)\n {\n     if(!walletFrame)\n         return false;\n+    const QString name = walletModel->getWalletName();\n     setWalletActionsEnabled(true);\n     WalletSelector->addItem(name);\n     if (WalletSelector->count() == 2) {\n@@ -551,8 +552,8 @@ bool BitcoinGUI::addWallet(const QString& name, WalletModel *walletModel)\n         appToolBar->addWidget(WalletSelectorLabel);\n         appToolBar->addWidget(WalletSelector);\n     }\n-    rpcConsole->addWallet(name, walletModel);\n-    return walletFrame->addWallet(name, walletModel);\n+    rpcConsole->addWallet(walletModel);\n+    return walletFrame->addWallet(walletModel);\n }\n \n bool BitcoinGUI::setCurrentWallet(const QString& name)"
      },
      {
        "sha": "e07d1bf3467f160ee431f1ab8cd7cd872a9c1a70",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/69c019c0035d1b63e757f0d2c657cbb9146ec676/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/69c019c0035d1b63e757f0d2c657cbb9146ec676/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=69c019c0035d1b63e757f0d2c657cbb9146ec676",
        "patch": "@@ -62,7 +62,7 @@ class BitcoinGUI : public QMainWindow\n         The wallet model represents a bitcoin wallet, and offers access to the list of transactions, address book and sending\n         functionality.\n     */\n-    bool addWallet(const QString& name, WalletModel *walletModel);\n+    bool addWallet(WalletModel *walletModel);\n     void removeAllWallets();\n     bool multiWallet() const;\n #endif // ENABLE_WALLET"
      },
      {
        "sha": "6f93171c480f07ff8fd841a1a8125c8a5c6360f6",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/69c019c0035d1b63e757f0d2c657cbb9146ec676/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/69c019c0035d1b63e757f0d2c657cbb9146ec676/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=69c019c0035d1b63e757f0d2c657cbb9146ec676",
        "patch": "@@ -693,8 +693,9 @@ void RPCConsole::setClientModel(ClientModel *model)\n }\n \n #ifdef ENABLE_WALLET\n-void RPCConsole::addWallet(const QString name, WalletModel * const walletModel)\n+void RPCConsole::addWallet(WalletModel * const walletModel)\n {\n+    const QString name = walletModel->getWalletName();\n     CWalletRef * const ppwallet = new CWalletRef(walletModel->getWallet());\n     ui->WalletSelector->addItem(name, QVariant::fromValue((void*)(ppwallet)));\n     if (ui->WalletSelector->count() == 2 && !isVisible()) {"
      },
      {
        "sha": "9b5b2e4314a83905e27efd3d9305d16e6fe85d59",
        "filename": "src/qt/rpcconsole.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/69c019c0035d1b63e757f0d2c657cbb9146ec676/src/qt/rpcconsole.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/69c019c0035d1b63e757f0d2c657cbb9146ec676/src/qt/rpcconsole.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.h?ref=69c019c0035d1b63e757f0d2c657cbb9146ec676",
        "patch": "@@ -43,7 +43,7 @@ class RPCConsole: public QWidget\n     }\n \n     void setClientModel(ClientModel *model);\n-    void addWallet(const QString name, WalletModel * const walletModel);\n+    void addWallet(WalletModel * const walletModel);\n \n     enum MessageClass {\n         MC_ERROR,"
      },
      {
        "sha": "873e97019ac32ba233e4c1eb57b8b1d604b3bc4a",
        "filename": "src/qt/walletframe.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 2,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/69c019c0035d1b63e757f0d2c657cbb9146ec676/src/qt/walletframe.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/69c019c0035d1b63e757f0d2c657cbb9146ec676/src/qt/walletframe.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.cpp?ref=69c019c0035d1b63e757f0d2c657cbb9146ec676",
        "patch": "@@ -3,6 +3,7 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <qt/walletframe.h>\n+#include <qt/walletmodel.h>\n \n #include <qt/bitcoingui.h>\n #include <qt/walletview.h>\n@@ -39,10 +40,16 @@ void WalletFrame::setClientModel(ClientModel *_clientModel)\n     this->clientModel = _clientModel;\n }\n \n-bool WalletFrame::addWallet(const QString& name, WalletModel *walletModel)\n+bool WalletFrame::addWallet(WalletModel *walletModel)\n {\n-    if (!gui || !clientModel || !walletModel || mapWalletViews.count(name) > 0)\n+    if (!gui || !clientModel || !walletModel) {\n         return false;\n+    }\n+\n+    const QString name = walletModel->getWalletName();\n+    if (mapWalletViews.count(name) > 0) {\n+        return false;\n+    }\n \n     WalletView *walletView = new WalletView(platformStyle, this);\n     walletView->setBitcoinGUI(gui);"
      },
      {
        "sha": "6eedcf370c60c0a6046e5070a164367d471464ed",
        "filename": "src/qt/walletframe.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/69c019c0035d1b63e757f0d2c657cbb9146ec676/src/qt/walletframe.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/69c019c0035d1b63e757f0d2c657cbb9146ec676/src/qt/walletframe.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.h?ref=69c019c0035d1b63e757f0d2c657cbb9146ec676",
        "patch": "@@ -36,7 +36,7 @@ class WalletFrame : public QFrame\n \n     void setClientModel(ClientModel *clientModel);\n \n-    bool addWallet(const QString& name, WalletModel *walletModel);\n+    bool addWallet(WalletModel *walletModel);\n     bool setCurrentWallet(const QString& name);\n     bool removeWallet(const QString &name);\n     void removeAllWallets();"
      }
    ]
  },
  {
    "sha": "f5aa574c372eba83add1e8d9336621e0e475c793",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNWFhNTc0YzM3MmViYTgzYWRkMWU4ZDkzMzY2MjFlMGU0NzVjNzkz",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-12-14T03:29:55Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-12-14T03:33:22Z"
      },
      "message": "GUI: RPCConsole: Log wallet changes",
      "tree": {
        "sha": "83c0328880bb4cae984cd8d271b7a226f3637d4c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/83c0328880bb4cae984cd8d271b7a226f3637d4c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f5aa574c372eba83add1e8d9336621e0e475c793",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f5aa574c372eba83add1e8d9336621e0e475c793",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f5aa574c372eba83add1e8d9336621e0e475c793",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f5aa574c372eba83add1e8d9336621e0e475c793/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "69c019c0035d1b63e757f0d2c657cbb9146ec676",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/69c019c0035d1b63e757f0d2c657cbb9146ec676",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/69c019c0035d1b63e757f0d2c657cbb9146ec676"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 12,
      "deletions": 0
    },
    "files": [
      {
        "sha": "bdcab3c34b0bc610f983b32c33a030bdd19d9e96",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f5aa574c372eba83add1e8d9336621e0e475c793/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f5aa574c372eba83add1e8d9336621e0e475c793/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=f5aa574c372eba83add1e8d9336621e0e475c793",
        "patch": "@@ -895,11 +895,22 @@ void RPCConsole::on_lineEdit_returnPressed()\n         void *ppwallet_v = nullptr;\n #ifdef ENABLE_WALLET\n         const int wallet_index = ui->WalletSelector->currentIndex();\n+        std::string selected_wallet_name;\n         if (wallet_index > 0) {\n             CWalletRef *ppwallet = (CWalletRef*)ui->WalletSelector->itemData(wallet_index).value<void*>();\n             // Copying the ref, expecting it to become more than just a simple pointer in the future\n             ppwallet = new CWalletRef(*ppwallet);\n             ppwallet_v = (void*)ppwallet;\n+            selected_wallet_name = (*ppwallet)->GetName();\n+        }\n+\n+        if (m_last_wallet != selected_wallet_name) {\n+            if (selected_wallet_name.empty()) {\n+                message(CMD_REQUEST, tr(\"Executing command without any wallet\"));\n+            } else {\n+                message(CMD_REQUEST, tr(\"Executing command using \\\"%1\\\" wallet\").arg(QString::fromStdString(selected_wallet_name)));\n+            }\n+            m_last_wallet = selected_wallet_name;\n         }\n #endif\n "
      },
      {
        "sha": "d50bcf0f562539e4a3369c5f67daf7cdffd8232e",
        "filename": "src/qt/rpcconsole.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f5aa574c372eba83add1e8d9336621e0e475c793/src/qt/rpcconsole.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f5aa574c372eba83add1e8d9336621e0e475c793/src/qt/rpcconsole.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.h?ref=f5aa574c372eba83add1e8d9336621e0e475c793",
        "patch": "@@ -153,6 +153,7 @@ public Q_SLOTS:\n     int consoleFontSize;\n     QCompleter *autoCompleter;\n     QThread thread;\n+    std::string m_last_wallet;\n \n     /** Update UI with latest network info from model. */\n     void updateNetworkState();"
      }
    ]
  }
]