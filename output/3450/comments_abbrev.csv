Diapolo,2013-12-20T15:00:52Z,See http://msdn.microsoft.com/en-us/library/windows/desktop/aa364439%28v=vs.85%29.aspx\n,https://github.com/bitcoin/bitcoin/pull/3450#issuecomment-31014950,31014950,
jgarzik,2013-12-20T15:54:33Z,Add the MSDN link to the git commit message.\n,https://github.com/bitcoin/bitcoin/pull/3450#issuecomment-31019058,31019058,
Diapolo,2013-12-20T17:43:37Z,@jgarzik Done...\n,https://github.com/bitcoin/bitcoin/pull/3450#issuecomment-31027522,31027522,
BitcoinPullTester,2013-12-20T18:00:48Z,"Automatic sanity-testing: FAILED BUILD/TEST, see http://jenkins.bluematt.me/pull-tester/4c0b2cde3a68e65971ab7d9970a3419328d4fe0e for binaries and test log.\n\nThis could happen for one of several reasons:\n1. It chanages paths in makefile.linux-mingw or otherwise changes build scripts in a way that made them incompatible with the automated testing scripts (please tweak those patches in qa/pull-tes",https://github.com/bitcoin/bitcoin/pull/3450#issuecomment-31028771,31028771,
Diapolo,2013-12-20T18:02:35Z,"Failuer because of:\n\n<pre>\ntail: write error: Broken pipe\ntail: write error\n</pre>\n\nAFAIK unrelated to this pull, as I only changed the commit-msg and @BitcoinPullTester was happy with the code before ;).\n",https://github.com/bitcoin/bitcoin/pull/3450#issuecomment-31028887,31028887,
laanwj,2013-12-21T09:37:13Z,"This needs to be tested really, really well.\n\nJudging from the lack of MacOSX-esque corruption on windows the current _commit call is working. Switching this around may lead to some very hard to debug issues. Experience with the MacOSX issue has shown that API documentation can be misleading or even plainly wrong.\n",https://github.com/bitcoin/bitcoin/pull/3450#issuecomment-31060070,31060070,
sipa,2013-12-21T11:01:45Z,"This is code used for the block files, not LevelDB (which is where the OSX\nproblem was). Even if _commit didn't work well, we'd expect a different\nfailure pattern.\n\nRegardless, this indeed needs serious testing.\nOn Dec 21, 2013 10:37 AM, ""Wladimir J. van der Laan"" <\nnotifications@github.com> wrote:\n\n> This needs to be tested really, really well.\n> \n> Judging from the lack of MacOSX-esque",https://github.com/bitcoin/bitcoin/pull/3450#issuecomment-31061105,31061105,
laanwj,2013-12-22T07:29:50Z,To prevent corruption issues the data sync call for MacOSX was also changed (see e7bad10). In any case you raise a good point: what does leveldb use on Windows.\nThis is the Sync function for win32: https://github.com/bitcoin/bitcoin/blob/master/src/leveldb/util/env_win.cc#L587\n\nIt calls `FlushFileBuffers` (for unmapped regions) and `FlushViewOfFile` (for mappings).\n\nGiven that there is no Lev,https://github.com/bitcoin/bitcoin/pull/3450#issuecomment-31080462,31080462,
Diapolo,2013-12-22T09:24:02Z,"@laanwj Thanks for digging into the LevelDB code, to verify they also use this API call.\n",https://github.com/bitcoin/bitcoin/pull/3450#issuecomment-31081558,31081558,
sipa,2013-12-29T16:48:07Z,@laanwj Good to know.\n,https://github.com/bitcoin/bitcoin/pull/3450#issuecomment-31320278,31320278,
Diapolo,2014-01-28T10:00:57Z,Any objections to merge this or how I can help with this? I'm running with this patch for months.\n,https://github.com/bitcoin/bitcoin/pull/3450#issuecomment-33464824,33464824,
laanwj,2014-01-28T10:02:47Z,I don't have objections... I think it makes sense to do this consistent with leveldb.\n\nACK\n,https://github.com/bitcoin/bitcoin/pull/3450#issuecomment-33464962,33464962,
sipa,2014-01-28T10:08:37Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/3450#issuecomment-33465331,33465331,
