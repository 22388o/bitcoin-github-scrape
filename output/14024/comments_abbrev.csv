DrahtBot,2018-08-22T14:56:15Z,<!--e57a25ab6845829454e8d69fc972939a-->No more conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/14024#issuecomment-415061817,415061817,
practicalswift,2018-08-23T08:06:24Z,Concept ACK,https://github.com/bitcoin/bitcoin/pull/14024#issuecomment-415329237,415329237,
jnewbery,2018-08-23T14:04:29Z,"Concept ACK asserting on the contents of the debug log, but I don't understand why a new RPC method is needed. Why not read the debug log file directly?",https://github.com/bitcoin/bitcoin/pull/14024#issuecomment-415425607,415425607,
MarcoFalke,2018-08-23T14:09:03Z,@jnewbery I don't think it is possible to read from a file that is opened for writing on windows with python.,https://github.com/bitcoin/bitcoin/pull/14024#issuecomment-415427103,415427103,
jnewbery,2018-08-23T14:11:24Z,"> I don't think it is possible to read from a file that is opened for writing on windows with python.\n\nI'm NACKish on this. I don't think we should be adding code to the product to work around a limitation in the test framework on a specific platform.",https://github.com/bitcoin/bitcoin/pull/14024#issuecomment-415428006,415428006,
MarcoFalke,2018-08-23T15:29:13Z,Removed rpc,https://github.com/bitcoin/bitcoin/pull/14024#issuecomment-415459885,415459885,
ken2812221,2018-08-24T03:51:48Z,"Concept ACK. \nSeems like you've solve the problem on Windows, I'm able to pass p2p_invalid_tx test on Windows",https://github.com/bitcoin/bitcoin/pull/14024#issuecomment-415643158,415643158,
jnewbery,2018-08-24T15:56:19Z,ping @ryanofsky for review,https://github.com/bitcoin/bitcoin/pull/14024#issuecomment-415802607,415802607,
jnewbery,2018-08-24T17:53:46Z,utACK fa3e9f7627784ee00980590e5bf044a0e1249999,https://github.com/bitcoin/bitcoin/pull/14024#issuecomment-415834240,415834240,
jnewbery,2018-08-24T15:17:41Z,"Passing in an escaped string means that the printed assert when this fails looks a bit weird, but no big deal:\n\n```\n    raise AssertionError(self._node_msg(msg))\nAssertionError: [node 0] Expected message ""8d7190866370e089916899a483a8df5ce7b495b04ffefc841ecd0d5779e9a0ca\ asdf\ from\ peer\=0\ was\ not\ accepted\:\ mandatory\-script\-verify\-flag\-failed\ \(Invalid\ OP_IF\ construction\)\ \(c",https://github.com/bitcoin/bitcoin/pull/14024#discussion_r212662890,212662890,test/functional/p2p_invalid_tx.py
jnewbery,2018-08-24T15:21:52Z,"Printing the log excerpt out in the assert is a bit confusing for anything that's parsing the test_framework log (since the timestamps at the start of the line will be interpreted as new log lines. Can I convince you to make the following change:\n\n```\n@@ -242,9 +242,10 @@ class TestNode():\n             with open(debug_log, encoding='utf-8') as dl:\n                 dl.seek(prev_size)\n  ",https://github.com/bitcoin/bitcoin/pull/14024#discussion_r212664304,212664304,test/functional/test_framework/test_node.py
ryanofsky,2018-08-24T17:07:52Z,Might be more efficient to move this line before the `_raise_assertion_error` call in case the variable is unused.,https://github.com/bitcoin/bitcoin/pull/14024#discussion_r212693677,212693677,test/functional/test_framework/test_node.py
ryanofsky,2018-08-24T17:21:01Z,I was surprised to see that this code actually works without adding RPCs before and after the yield to flush the log. But apparently there is a `setbuf` call in the logging code which disables buffering. Might be worth noting in a comment.,https://github.com/bitcoin/bitcoin/pull/14024#discussion_r212697280,212697280,test/functional/test_framework/test_node.py
MarcoFalke,2018-08-24T17:41:19Z,"I think we don't optimize for performance in the test framework, so this should be fine.",https://github.com/bitcoin/bitcoin/pull/14024#discussion_r212702884,212702884,test/functional/test_framework/test_node.py
