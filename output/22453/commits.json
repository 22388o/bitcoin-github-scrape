[
  {
    "sha": "aaaa61fd306e25379e6222e31bf160a6eb04f74e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphYWFhNjFmZDMwNmUyNTM3OWU2MjIyZTMxYmYxNjBhNmViMDRmNzRl",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-07-15T09:53:32Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-07-15T09:50:50Z"
      },
      "message": "fuzz: Speed up rolling_bloom_filter fuzz test",
      "tree": {
        "sha": "b5a70e94a9ff525614e5eb2c104074f719d19971",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b5a70e94a9ff525614e5eb2c104074f719d19971"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aaaa61fd306e25379e6222e31bf160a6eb04f74e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgvuQwAuYsmuNNWNtxU/UO6epnWd6V3fFjSqE45Qthu63GMa1Q89zC4uj6oLlVZ\nh4HiReqz4HTsX+GfcPiG4FhtCMOZO9cmDBOCfy3BpzdpH6B/XBltuQFx2EG2HzM+\nsc23zwdBqvIIfqOyiWpz0tmbpNLCyazHNjzQEOPAzgYVgjKvg99YTw3KJUiFSg5O\nX0VmVC8ci6fdw/C5YJ4i1iFB6GPGq+entv3oMKxhHAb8W4qtWU3drR1yq7ThI8vr\nxgl6mWnnuC3Icx846U6GZGFhWg3Dhf0EKiljOr7k0HKcQuFuvvgS4yUdI1mSXPAO\nXm+5KXyy3V5BsKT9ug4z3cid3BLRT6PkRDI6UjCMuaenUX76PA3PZaON8kAmkhFc\np+4y0RP6omiWPzO/y+9Zt+yOJkk8nGavGu8c5MOc7Rr2Bvp2niwPwkiELMg2Xe3C\nzI8ez2+XKgHYhJI11RVXjvzJDDkqDs+vTqBimptRLrR/oxFRLRS4pyRxmLTrNYoI\n1ArU/rNp\n=Mec4\n-----END PGP SIGNATURE-----",
        "payload": "tree b5a70e94a9ff525614e5eb2c104074f719d19971\nparent 97153a702600430bdaf6af4f6f4eb8593e32819f\nauthor MarcoFalke <falke.marco@gmail.com> 1626342812 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1626342650 +0200\n\nfuzz: Speed up rolling_bloom_filter fuzz test\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aaaa61fd306e25379e6222e31bf160a6eb04f74e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/aaaa61fd306e25379e6222e31bf160a6eb04f74e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aaaa61fd306e25379e6222e31bf160a6eb04f74e/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "97153a702600430bdaf6af4f6f4eb8593e32819f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/97153a702600430bdaf6af4f6f4eb8593e32819f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/97153a702600430bdaf6af4f6f4eb8593e32819f"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 5,
      "deletions": 1
    },
    "files": [
      {
        "sha": "40aa396e1775233d20b5e27af34b98f67a14a8ee",
        "filename": "src/test/fuzz/rolling_bloom_filter.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 1,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/aaaa61fd306e25379e6222e31bf160a6eb04f74e/src/test/fuzz/rolling_bloom_filter.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/aaaa61fd306e25379e6222e31bf160a6eb04f74e/src/test/fuzz/rolling_bloom_filter.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/rolling_bloom_filter.cpp?ref=aaaa61fd306e25379e6222e31bf160a6eb04f74e",
        "patch": "@@ -16,12 +16,16 @@\n \n FUZZ_TARGET(rolling_bloom_filter)\n {\n+    // Pick an arbitrary upper bound to limit the runtime and avoid timeouts on\n+    // inputs.\n+    int limit_max_ops{3000};\n+\n     FuzzedDataProvider fuzzed_data_provider(buffer.data(), buffer.size());\n \n     CRollingBloomFilter rolling_bloom_filter{\n         fuzzed_data_provider.ConsumeIntegralInRange<unsigned int>(1, 1000),\n         0.999 / fuzzed_data_provider.ConsumeIntegralInRange<unsigned int>(1, std::numeric_limits<unsigned int>::max())};\n-    while (fuzzed_data_provider.remaining_bytes() > 0) {\n+    while (--limit_max_ops >= 0 && fuzzed_data_provider.remaining_bytes() > 0) {\n         CallOneOf(\n             fuzzed_data_provider,\n             [&] {"
      }
    ]
  },
  {
    "sha": "faa86b71acefc8f2e366746a1c251888e6e686dd",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWE4NmI3MWFjZWZjOGYyZTM2Njc0NmExYzI1MTg4OGU2ZTY4NmRk",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-07-15T09:54:13Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-07-15T09:51:17Z"
      },
      "message": "fuzz: Use ConsumeUInt256 helper to simplify rolling_bloom_filter fuzz test",
      "tree": {
        "sha": "3b952ceac100fccf4889c4a411639c85c15ccebb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3b952ceac100fccf4889c4a411639c85c15ccebb"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faa86b71acefc8f2e366746a1c251888e6e686dd",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUhYSwv/QqkYK2JXcOT+YOOu6ei4R+IfEajJJE5mdNiq2cKtgd1N93E4Zu5nC0M5\nkN+jJETYQcVF/6XniUU+VcmiIzM3iJhOakb+d9M8U84Mqm4NwMx1Jn83RlSKh1yD\nhC2xnX3/MrEuoQeOAazXR+8SJHZtiUYz/OV0FGManbIg94rLbKw/EFPhn7ZCiS7B\nN6aW+RaZ6fUgNbs+3AaBHUhAmHX8JSubvbxgh030rOK2CUs5Qb5OFcEFT+3LYDsy\nSmw9k7Eftd9SLDkJwDkN0+ugG53+Q0UQaApBRVk1QSkKMnIgbx5w8SV/DxsE/Du+\nF4I2+cMOkuUAQbW5LhBsKMqLaL0iTJxLgg9OsTjZJayhYXlZAPiwvv3HSFUKqIZ2\n8dDJJs3LwHVtWshJ+2ygKQFRt/hrrOpdwJkguCXJ71Oe9eYzQNYAKM2iBMAYvKWX\n3Lf8qkM/phb0Hny6glJAN5b27C28ruJ52Fa1aj2HfjsEYnNvNNagKgi1rs4/6dX8\njrvXtISR\n=+u4f\n-----END PGP SIGNATURE-----",
        "payload": "tree 3b952ceac100fccf4889c4a411639c85c15ccebb\nparent aaaa61fd306e25379e6222e31bf160a6eb04f74e\nauthor MarcoFalke <falke.marco@gmail.com> 1626342853 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1626342677 +0200\n\nfuzz: Use ConsumeUInt256 helper to simplify rolling_bloom_filter fuzz test\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faa86b71acefc8f2e366746a1c251888e6e686dd",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/faa86b71acefc8f2e366746a1c251888e6e686dd",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faa86b71acefc8f2e366746a1c251888e6e686dd/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "aaaa61fd306e25379e6222e31bf160a6eb04f74e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aaaa61fd306e25379e6222e31bf160a6eb04f74e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/aaaa61fd306e25379e6222e31bf160a6eb04f74e"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 4,
      "deletions": 7
    },
    "files": [
      {
        "sha": "3b33115e72b040c61e890ec16485f06aeb33f55b",
        "filename": "src/test/fuzz/rolling_bloom_filter.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 7,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faa86b71acefc8f2e366746a1c251888e6e686dd/src/test/fuzz/rolling_bloom_filter.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faa86b71acefc8f2e366746a1c251888e6e686dd/src/test/fuzz/rolling_bloom_filter.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/rolling_bloom_filter.cpp?ref=faa86b71acefc8f2e366746a1c251888e6e686dd",
        "patch": "@@ -36,13 +36,10 @@ FUZZ_TARGET(rolling_bloom_filter)\n                 assert(present);\n             },\n             [&] {\n-                const std::optional<uint256> u256 = ConsumeDeserializable<uint256>(fuzzed_data_provider);\n-                if (!u256) {\n-                    return;\n-                }\n-                (void)rolling_bloom_filter.contains(*u256);\n-                rolling_bloom_filter.insert(*u256);\n-                const bool present = rolling_bloom_filter.contains(*u256);\n+                const uint256 u256{ConsumeUInt256(fuzzed_data_provider)};\n+                (void)rolling_bloom_filter.contains(u256);\n+                rolling_bloom_filter.insert(u256);\n+                const bool present = rolling_bloom_filter.contains(u256);\n                 assert(present);\n             },\n             [&] {"
      }
    ]
  }
]