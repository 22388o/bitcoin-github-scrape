[
  {
    "sha": "fbb611730ff1575c5e53afafdf718d84a7f246bd",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYmI2MTE3MzBmZjE1NzVjNWU1M2FmYWZkZjcxOGQ4NGE3ZjI0NmJk",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@protonmail.com",
        "date": "2021-03-15T06:50:59Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@protonmail.com",
        "date": "2021-03-15T06:57:13Z"
      },
      "message": "doc: Add steps for transifex to release process\n\nDocument how to update settings on and for the transifex website before\nand after branch-off of a new release.",
      "tree": {
        "sha": "d07a99d5b1a52150119a34cd0cd4c1a60ce4893e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d07a99d5b1a52150119a34cd0cd4c1a60ce4893e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fbb611730ff1575c5e53afafdf718d84a7f246bd",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fbb611730ff1575c5e53afafdf718d84a7f246bd",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fbb611730ff1575c5e53afafdf718d84a7f246bd",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fbb611730ff1575c5e53afafdf718d84a7f246bd/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3c631917f3e0da84ee48295b7d2e93bc202bae0c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3c631917f3e0da84ee48295b7d2e93bc202bae0c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/3c631917f3e0da84ee48295b7d2e93bc202bae0c"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 8,
      "deletions": 0
    },
    "files": [
      {
        "sha": "c4ba5da5c5ada086427af96ee4091a937394fffb",
        "filename": "doc/release-process.md",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fbb611730ff1575c5e53afafdf718d84a7f246bd/doc/release-process.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fbb611730ff1575c5e53afafdf718d84a7f246bd/doc/release-process.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-process.md?ref=fbb611730ff1575c5e53afafdf718d84a7f246bd",
        "patch": "@@ -37,6 +37,12 @@ Release Process\n   - This update should be reviewed with a reindex-chainstate with assumevalid=0 to catch any defect\n      that causes rejection of blocks in the past history.\n - Clear the release notes and move them to the wiki (see \"Write the release notes\" below).\n+- Translations on Transifex\n+    - Create [a new resource](https://www.transifex.com/bitcoin/bitcoin/content/) named after the major version with slug `[bitcoin.qt-translation-<RRR>x]` where `RRR` is the major branch number padded with zeros. Use `src/qt/locale/bitcoin_en.ts` to create it.\n+    - Copy over the translations of the previous version using [transifex-migrate-resource](https://github.com/bitcoin-core/bitcoin-maintainer-tools#transifex-migrate-resource).\n+    - Update the transifex slug in [`.tx/config`](/.tx/config) to the slug of the resource created in first step. This identifies which resource translations will be synchronized from.\n+    - Make an announcement that translators can start translating for the new version. You can use one of the [previous announcements](https://www.transifex.com/bitcoin/bitcoin/announcements/) as a template.\n+    - Change the resource auto-update URL for the resource to `master`, e.g. `https://raw.githubusercontent.com/bitcoin/bitcoin/<branch>/src/qt/locale/bitcoin_en.ts`. (Do this only after the previous steps to prevent an auto-update from interfering.\n \n #### After branch-off (on master)\n \n@@ -46,6 +52,8 @@ Release Process\n \n - Update the versions.\n - Create a pinned meta-issue for testing the release candidate (see [this issue](https://github.com/bitcoin/bitcoin/issues/17079) for an example) and provide a link to it in the release announcements where useful.\n+- Translations on Transifex\n+    - Change the auto-update URL for the new major version's resource away from `master` and to the branch e.g. `https://raw.githubusercontent.com/bitcoin/bitcoin/<branch>/src/qt/locale/bitcoin_en.ts`. Do not forget this or it will keep tracking master's translations instead, drifting away from the specific major release.\n \n #### Before final release\n "
      }
    ]
  },
  {
    "sha": "9d08414d0cf759e292faf11f30d6b234b7e608c5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5ZDA4NDE0ZDBjZjc1OWUyOTJmYWYxMWYzMGQ2YjIzNGI3ZTYwOGM1",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@protonmail.com",
        "date": "2021-03-16T13:14:03Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@protonmail.com",
        "date": "2021-03-16T13:14:03Z"
      },
      "message": "doc: Remove unnecessary steps from translations update process\n\nThese have been integrated into the script long ago.",
      "tree": {
        "sha": "bb327b5113954503d82266698b70315f3e5c1f84",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bb327b5113954503d82266698b70315f3e5c1f84"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9d08414d0cf759e292faf11f30d6b234b7e608c5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9d08414d0cf759e292faf11f30d6b234b7e608c5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/9d08414d0cf759e292faf11f30d6b234b7e608c5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9d08414d0cf759e292faf11f30d6b234b7e608c5/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fbb611730ff1575c5e53afafdf718d84a7f246bd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fbb611730ff1575c5e53afafdf718d84a7f246bd",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fbb611730ff1575c5e53afafdf718d84a7f246bd"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 4,
      "deletions": 9
    },
    "files": [
      {
        "sha": "eb7292018f0897c8ebc477351a67b9213fac4827",
        "filename": "doc/translation_process.md",
        "status": "modified",
        "additions": 4,
        "deletions": 9,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9d08414d0cf759e292faf11f30d6b234b7e608c5/doc/translation_process.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9d08414d0cf759e292faf11f30d6b234b7e608c5/doc/translation_process.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/translation_process.md?ref=9d08414d0cf759e292faf11f30d6b234b7e608c5",
        "patch": "@@ -65,17 +65,12 @@ username = USERNAME\n The Transifex Bitcoin project config file is included as part of the repo. It can be found at `.tx/config`, however you shouldn\u2019t need to change anything.\n \n ### Synchronising translations\n-To assist in updating translations, a helper script is available in the [maintainer-tools repo](https://github.com/bitcoin-core/bitcoin-maintainer-tools).\n \n-1. `python3 ../bitcoin-maintainer-tools/update-translations.py`\n-2. `git add` new translations from `src/qt/locale/`\n-3. Update `src/qt/bitcoin_locale.qrc` manually or via\n-```bash\n-git ls-files src/qt/locale/*ts|xargs -n1 basename|sed 's/\\(bitcoin_\\(.*\\)\\).ts/        <file alias=\"\\2\">locale\\/\\1.qm<\\/file>/'\n+To assist in updating translations, a helper script is available in the [maintainer-tools repo](https://github.com/bitcoin-core/bitcoin-maintainer-tools). To use it and commit the result, simply do:\n+\n ```\n-4. Update `src/Makefile.qt_locale.include` manually or via\n-```bash\n-git ls-files src/qt/locale/*ts|xargs -n1 basename|sed 's/\\(bitcoin_\\(.*\\)\\).ts/  qt\\/locale\\/\\1.ts \\\\/'\n+python3 ../bitcoin-maintainer-tools/update-translations.py\n+git commit -a\n ```\n \n **Do not directly download translations** one by one from the Transifex website, as we do a few post-processing steps before committing the translations."
      }
    ]
  }
]