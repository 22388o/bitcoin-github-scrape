[
  {
    "sha": "aabc897801f2513ab5bf5e8ae6e6bcffeb889e94",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphYWJjODk3ODAxZjI1MTNhYjViZjVlOGFlNmU2YmNmZmViODg5ZTk0",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2015-12-01T08:47:13Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2015-12-01T09:07:22Z"
      },
      "message": "rpc: Don't translate warning messages\n\nBut keep translating them in the GUI.\nThis - necessarily - requires duplication of a few messages.\nAlternative take on #7134, that keeps the translations from being wiped.\n\nAlso document GetWarnings() input argument.\n\nFixes #5895.",
      "tree": {
        "sha": "74e24497a9046af4ca875c9ff2cfc97cc4e75df4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/74e24497a9046af4ca875c9ff2cfc97cc4e75df4"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aabc897801f2513ab5bf5e8ae6e6bcffeb889e94",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aabc897801f2513ab5bf5e8ae6e6bcffeb889e94",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/aabc897801f2513ab5bf5e8ae6e6bcffeb889e94",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aabc897801f2513ab5bf5e8ae6e6bcffeb889e94/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "30c2d8c635c41149b7184ea8471121c53042444c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/30c2d8c635c41149b7184ea8471121c53042444c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/30c2d8c635c41149b7184ea8471121c53042444c"
      }
    ],
    "stats": {
      "total": 33,
      "additions": 23,
      "deletions": 10
    },
    "files": [
      {
        "sha": "ea6dd4b2d20614d80b53651bc138a13746b43c95",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 15,
        "deletions": 8,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/aabc897801f2513ab5bf5e8ae6e6bcffeb889e94/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/aabc897801f2513ab5bf5e8ae6e6bcffeb889e94/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=aabc897801f2513ab5bf5e8ae6e6bcffeb889e94",
        "patch": "@@ -3979,29 +3979,34 @@ std::string GetWarnings(const std::string& strFor)\n     int nPriority = 0;\n     string strStatusBar;\n     string strRPC;\n+    string strGUI;\n \n-    if (!CLIENT_VERSION_IS_RELEASE)\n-        strStatusBar = _(\"This is a pre-release test build - use at your own risk - do not use for mining or merchant applications\");\n+    if (!CLIENT_VERSION_IS_RELEASE) {\n+        strStatusBar = \"This is a pre-release test build - use at your own risk - do not use for mining or merchant applications\";\n+        strGUI = _(\"This is a pre-release test build - use at your own risk - do not use for mining or merchant applications\");\n+    }\n \n     if (GetBoolArg(\"-testsafemode\", DEFAULT_TESTSAFEMODE))\n-        strStatusBar = strRPC = \"testsafemode enabled\";\n+        strStatusBar = strRPC = strGUI = \"testsafemode enabled\";\n \n     // Misc warnings like out of disk space and clock is wrong\n     if (strMiscWarning != \"\")\n     {\n         nPriority = 1000;\n-        strStatusBar = strMiscWarning;\n+        strStatusBar = strGUI = strMiscWarning;\n     }\n \n     if (fLargeWorkForkFound)\n     {\n         nPriority = 2000;\n-        strStatusBar = strRPC = _(\"Warning: The network does not appear to fully agree! Some miners appear to be experiencing issues.\");\n+        strStatusBar = strRPC = \"Warning: The network does not appear to fully agree! Some miners appear to be experiencing issues.\";\n+        strGUI = _(\"Warning: The network does not appear to fully agree! Some miners appear to be experiencing issues.\");\n     }\n     else if (fLargeWorkInvalidChainFound)\n     {\n         nPriority = 2000;\n-        strStatusBar = strRPC = _(\"Warning: We do not appear to fully agree with our peers! You may need to upgrade, or other nodes may need to upgrade.\");\n+        strStatusBar = strRPC = \"Warning: We do not appear to fully agree with our peers! You may need to upgrade, or other nodes may need to upgrade.\";\n+        strGUI = _(\"Warning: We do not appear to fully agree with our peers! You may need to upgrade, or other nodes may need to upgrade.\");\n     }\n \n     // Alerts\n@@ -4013,12 +4018,14 @@ std::string GetWarnings(const std::string& strFor)\n             if (alert.AppliesToMe() && alert.nPriority > nPriority)\n             {\n                 nPriority = alert.nPriority;\n-                strStatusBar = alert.strStatusBar;\n+                strStatusBar = strGUI = alert.strStatusBar;\n             }\n         }\n     }\n \n-    if (strFor == \"statusbar\")\n+    if (strFor == \"gui\")\n+        return strGUI;\n+    else if (strFor == \"statusbar\")\n         return strStatusBar;\n     else if (strFor == \"rpc\")\n         return strRPC;"
      },
      {
        "sha": "2426e6abbf2f511802bc614e039276e7a2ced3d9",
        "filename": "src/main.h",
        "status": "modified",
        "additions": 7,
        "deletions": 1,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/aabc897801f2513ab5bf5e8ae6e6bcffeb889e94/src/main.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/aabc897801f2513ab5bf5e8ae6e6bcffeb889e94/src/main.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.h?ref=aabc897801f2513ab5bf5e8ae6e6bcffeb889e94",
        "patch": "@@ -206,7 +206,13 @@ void ThreadScriptCheck();\n void PartitionCheck(bool (*initialDownloadCheck)(), CCriticalSection& cs, const CBlockIndex *const &bestHeader, int64_t nPowTargetSpacing);\n /** Check whether we are doing an initial block download (synchronizing from disk or network) */\n bool IsInitialBlockDownload();\n-/** Format a string that describes several potential problems detected by the core */\n+/** Format a string that describes several potential problems detected by the core.\n+ * strFor can have three values:\n+ * - \"rpc\": get critical warnings, which should put the client in safe mode if non-empty\n+ * - \"statusbar\": get all warnings\n+ * - \"gui\": get all warnings, translated (where possible) for GUI\n+ * This function only returns the highest priority warning of the set selected by strFor.\n+ */\n std::string GetWarnings(const std::string& strFor);\n /** Retrieve a transaction (from memory pool, or from disk, if possible) */\n bool GetTransaction(const uint256 &hash, CTransaction &tx, const Consensus::Params& params, uint256 &hashBlock, bool fAllowSlow = false);"
      },
      {
        "sha": "a4b028f0d01848f551f7eeddabc5e372e6d5daf0",
        "filename": "src/qt/clientmodel.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/aabc897801f2513ab5bf5e8ae6e6bcffeb889e94/src/qt/clientmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/aabc897801f2513ab5bf5e8ae6e6bcffeb889e94/src/qt/clientmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/clientmodel.cpp?ref=aabc897801f2513ab5bf5e8ae6e6bcffeb889e94",
        "patch": "@@ -158,7 +158,7 @@ enum BlockSource ClientModel::getBlockSource() const\n \n QString ClientModel::getStatusBarWarnings() const\n {\n-    return QString::fromStdString(GetWarnings(\"statusbar\"));\n+    return QString::fromStdString(GetWarnings(\"gui\"));\n }\n \n OptionsModel *ClientModel::getOptionsModel()"
      }
    ]
  }
]