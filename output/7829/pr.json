{
  "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7829",
  "id": 65530907,
  "node_id": "MDExOlB1bGxSZXF1ZXN0NjU1MzA5MDc=",
  "html_url": "https://github.com/bitcoin/bitcoin/pull/7829",
  "diff_url": "https://github.com/bitcoin/bitcoin/pull/7829.diff",
  "patch_url": "https://github.com/bitcoin/bitcoin/pull/7829.patch",
  "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7829",
  "number": 7829,
  "state": "closed",
  "locked": true,
  "title": "Globals: TODO: Experiment: Kill \"Params()\"",
  "user": {
    "login": "jtimon",
    "id": 1008458,
    "node_id": "MDQ6VXNlcjEwMDg0NTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jtimon",
    "html_url": "https://github.com/jtimon",
    "followers_url": "https://api.github.com/users/jtimon/followers",
    "following_url": "https://api.github.com/users/jtimon/following{/other_user}",
    "gists_url": "https://api.github.com/users/jtimon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
    "organizations_url": "https://api.github.com/users/jtimon/orgs",
    "repos_url": "https://api.github.com/users/jtimon/repos",
    "events_url": "https://api.github.com/users/jtimon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jtimon/received_events",
    "type": "User",
    "site_admin": false
  },
  "body": "Dependencies (and list of things TODO):\r\n\r\n~~\\- [ ] Globals: Explicitly pass const CChainParams& to UpdateTip() #7876~~\r\n\r\n~~\\- [ ] Globals: DisconnectTip() requires the full CChainParams, not just Consensus::Params (depends on #7876)~~\r\n\r\n~~\\- [ ] Make functions in validation.cpp static: #10227~~\r\n\r\n- [X] Trivial: Globals: Explicitly pass const CChainParams& to ProcessMessage() #7828\r\n- [X] Explicitly pass CChainParams& to DisconnectTip() #7916 (does UpdateTip() DisconnectTip() and InvalidateBlock() at once)\r\n- [X] Consensus: Decouple from chainparams.o and timedata.o #8077 [CheckBlockHeader, CheckBlock, ContextualCheckBlockHeader]\r\n- [X] Trivial: pass Consensus::Params& instead of CChainParams& in ContextualCheckBlock #8413 \r\n- [X] Chainparams: Trivial: In AppInit2(), s/Params()/chainparams/ #8975\r\n- [x] Trivial: Explicitly pass const CChainParams& to LoadBlockIndexDB() #9013\r\n- [ ] pass Consensus::Params& to functions in validation.cpp and make them static #10201\r\n\r\n- [ ] Globals: Pass Consensus::Params through CBlockTreeDB::LoadBlockIndexGuts() #9176 [0.13-chainparams-loadblockindexguts]\r\n- [ ] ConnectBlock()\r\n- [ ] FlushStateToDisk()\r\n- [ ] LoadMempool()\r\n- [ ] ProcessMessages() [not trivial]\r\n- [ ] SendMessages() [not trivial]\r\n- [ ] IsInitialBlockDownload() (disruptive)\r\n- [ ] Explicitly pass const CChainParams and Consensus::Params() in net.cpp (several functions)\r\n\r\n\"I opened this PR so that newcomers to the Bitcoin Core project could make simple changes to get familiar with contributing to Bitcoin Core. I have marked a number of TODO comments in the source code of this pull request. The changes listed here are not critical to the project but they are good introductory material. Each TODO is relatively simple, and more experienced developers are busy doing other tasks, making this an excellent chance for you to get feedback from me on basic contributions to Bitcoin Core. Hopefully this will help you streamline submissions to Core, please let me know how I can help.\"\r\n\r\nWe can slowly turn the global pCurrentParams (hidden behind the function \"Params()\" for no good reason) into a CChainParams& parameter wherever is needed. This will take very long and I won't be done by one single person. I'm pretty convinced that everybody agrees with this in general, so it should be relatively easy to get your based-on-this-PR merged. But I'm here, just ask.\r\n\r\nYou may be interested in this PR because:\r\n\r\n1) You are a developer, but you're not familiar with git (or mercurial or similar), or you are intimidated about contributing to Bitcoin Core for whatever reason. I've done it. I'm trying to be here to show you you can too (without coma between 2 \"yous\", if that's allowed in enligsh).\r\n2) You are interested in my PROMISES*\r\n3) You just want to get one commit merged in github/bitcoin/bitcoin because you have an interview in the evening, I don't care if you help me.\r\n4) rustyrussell told me nobody would ever read the forth point in a numbered list.\r\n\r\nWhat would you have to do:\r\n\r\nSimple: force me to remove TODO lines from this PR, one function at a time if possible.\r\n\r\nPROMISES:\r\n\r\nIf you force me to replace any TODO line in this PR, and you're open for nits in your own PR, I promise:\r\n- I will review your PR and nack soon or nit until I can give a no-test-needed ACK (or an utACK [the former is better]).\r\n- Please ping me on this PR, or on your own for anything related to this.\r\n\r\nOnce a month (at least):\r\n- collect nits and solve them\r\n- I will incorporate open PRs that remove TODOs from this mission.\r\n- I will rebase anything that's needed if the maintainer can't do it from my base to my-next-month-base, every month\r\n- I will try to attract more review to your PR. \r\n- You will just need patience some times.\r\n\r\n@laanwj please, take this as an open issue that is going to last for long. Just with code [but, still, never to merge no matter how much I change it].\r\n\r\nContinues #6173 #6163 #6024 (closed) #5054 and friends.\r\n",
  "created_at": "2016-04-06T20:29:53Z",
  "updated_at": "2021-09-08T12:02:20Z",
  "closed_at": "2017-05-30T17:28:17Z",
  "merged_at": null,
  "merge_commit_sha": "81d658f2445759aaec4ecf84a383d8f7dcdc89cb",
  "assignee": null,
  "assignees": [],
  "requested_reviewers": [],
  "requested_teams": [],
  "labels": [
    {
      "id": 135961,
      "node_id": "MDU6TGFiZWwxMzU5NjE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
      "name": "Refactoring",
      "color": "E6F6D6",
      "default": false,
      "description": null
    },
    {
      "id": 349312277,
      "node_id": "MDU6TGFiZWwzNDkzMTIyNzc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "c2e0c6",
      "default": true,
      "description": null
    }
  ],
  "milestone": null,
  "draft": false,
  "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7829/commits",
  "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7829/comments",
  "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments{/number}",
  "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7829/comments",
  "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/9b00b070def2c0f289e148c0b9e54387021668ea",
  "head": {
    "label": "jtimon:0.12.99-todo-globals-chainparams",
    "ref": "0.12.99-todo-globals-chainparams",
    "sha": "9b00b070def2c0f289e148c0b9e54387021668ea",
    "user": {
      "login": "jtimon",
      "id": 1008458,
      "node_id": "MDQ6VXNlcjEwMDg0NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtimon",
      "html_url": "https://github.com/jtimon",
      "followers_url": "https://api.github.com/users/jtimon/followers",
      "following_url": "https://api.github.com/users/jtimon/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtimon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
      "organizations_url": "https://api.github.com/users/jtimon/orgs",
      "repos_url": "https://api.github.com/users/jtimon/repos",
      "events_url": "https://api.github.com/users/jtimon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtimon/received_events",
      "type": "User",
      "site_admin": false
    },
    "repo": {
      "id": 17504501,
      "node_id": "MDEwOlJlcG9zaXRvcnkxNzUwNDUwMQ==",
      "name": "bitcoin",
      "full_name": "jtimon/bitcoin",
      "private": false,
      "owner": {
        "login": "jtimon",
        "id": 1008458,
        "node_id": "MDQ6VXNlcjEwMDg0NTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1008458?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jtimon",
        "html_url": "https://github.com/jtimon",
        "followers_url": "https://api.github.com/users/jtimon/followers",
        "following_url": "https://api.github.com/users/jtimon/following{/other_user}",
        "gists_url": "https://api.github.com/users/jtimon/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
        "organizations_url": "https://api.github.com/users/jtimon/orgs",
        "repos_url": "https://api.github.com/users/jtimon/repos",
        "events_url": "https://api.github.com/users/jtimon/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jtimon/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/jtimon/bitcoin",
      "description": "Bitcoin Core integration/staging tree",
      "fork": true,
      "url": "https://api.github.com/repos/jtimon/bitcoin",
      "forks_url": "https://api.github.com/repos/jtimon/bitcoin/forks",
      "keys_url": "https://api.github.com/repos/jtimon/bitcoin/keys{/key_id}",
      "collaborators_url": "https://api.github.com/repos/jtimon/bitcoin/collaborators{/collaborator}",
      "teams_url": "https://api.github.com/repos/jtimon/bitcoin/teams",
      "hooks_url": "https://api.github.com/repos/jtimon/bitcoin/hooks",
      "issue_events_url": "https://api.github.com/repos/jtimon/bitcoin/issues/events{/number}",
      "events_url": "https://api.github.com/repos/jtimon/bitcoin/events",
      "assignees_url": "https://api.github.com/repos/jtimon/bitcoin/assignees{/user}",
      "branches_url": "https://api.github.com/repos/jtimon/bitcoin/branches{/branch}",
      "tags_url": "https://api.github.com/repos/jtimon/bitcoin/tags",
      "blobs_url": "https://api.github.com/repos/jtimon/bitcoin/git/blobs{/sha}",
      "git_tags_url": "https://api.github.com/repos/jtimon/bitcoin/git/tags{/sha}",
      "git_refs_url": "https://api.github.com/repos/jtimon/bitcoin/git/refs{/sha}",
      "trees_url": "https://api.github.com/repos/jtimon/bitcoin/git/trees{/sha}",
      "statuses_url": "https://api.github.com/repos/jtimon/bitcoin/statuses/{sha}",
      "languages_url": "https://api.github.com/repos/jtimon/bitcoin/languages",
      "stargazers_url": "https://api.github.com/repos/jtimon/bitcoin/stargazers",
      "contributors_url": "https://api.github.com/repos/jtimon/bitcoin/contributors",
      "subscribers_url": "https://api.github.com/repos/jtimon/bitcoin/subscribers",
      "subscription_url": "https://api.github.com/repos/jtimon/bitcoin/subscription",
      "commits_url": "https://api.github.com/repos/jtimon/bitcoin/commits{/sha}",
      "git_commits_url": "https://api.github.com/repos/jtimon/bitcoin/git/commits{/sha}",
      "comments_url": "https://api.github.com/repos/jtimon/bitcoin/comments{/number}",
      "issue_comment_url": "https://api.github.com/repos/jtimon/bitcoin/issues/comments{/number}",
      "contents_url": "https://api.github.com/repos/jtimon/bitcoin/contents/{+path}",
      "compare_url": "https://api.github.com/repos/jtimon/bitcoin/compare/{base}...{head}",
      "merges_url": "https://api.github.com/repos/jtimon/bitcoin/merges",
      "archive_url": "https://api.github.com/repos/jtimon/bitcoin/{archive_format}{/ref}",
      "downloads_url": "https://api.github.com/repos/jtimon/bitcoin/downloads",
      "issues_url": "https://api.github.com/repos/jtimon/bitcoin/issues{/number}",
      "pulls_url": "https://api.github.com/repos/jtimon/bitcoin/pulls{/number}",
      "milestones_url": "https://api.github.com/repos/jtimon/bitcoin/milestones{/number}",
      "notifications_url": "https://api.github.com/repos/jtimon/bitcoin/notifications{?since,all,participating}",
      "labels_url": "https://api.github.com/repos/jtimon/bitcoin/labels{/name}",
      "releases_url": "https://api.github.com/repos/jtimon/bitcoin/releases{/id}",
      "deployments_url": "https://api.github.com/repos/jtimon/bitcoin/deployments",
      "created_at": "2014-03-07T06:02:15Z",
      "updated_at": "2019-10-08T20:15:18Z",
      "pushed_at": "2020-02-19T20:49:57Z",
      "git_url": "git://github.com/jtimon/bitcoin.git",
      "ssh_url": "git@github.com:jtimon/bitcoin.git",
      "clone_url": "https://github.com/jtimon/bitcoin.git",
      "svn_url": "https://github.com/jtimon/bitcoin",
      "homepage": "https://bitcoin.org/en/download",
      "size": 129931,
      "stargazers_count": 3,
      "watchers_count": 3,
      "language": "C++",
      "has_issues": false,
      "has_projects": true,
      "has_downloads": false,
      "has_wiki": false,
      "has_pages": false,
      "forks_count": 1,
      "mirror_url": null,
      "archived": false,
      "disabled": false,
      "open_issues_count": 4,
      "license": {
        "key": "mit",
        "name": "MIT License",
        "spdx_id": "MIT",
        "url": "https://api.github.com/licenses/mit",
        "node_id": "MDc6TGljZW5zZTEz"
      },
      "allow_forking": true,
      "is_template": false,
      "topics": [],
      "visibility": "public",
      "forks": 1,
      "open_issues": 4,
      "watchers": 3,
      "default_branch": "0.13-new-testchain"
    }
  },
  "base": {
    "label": "bitcoin:master",
    "ref": "master",
    "sha": "9111df9673beb6d6616d491a5478f09b5f14d040",
    "user": {
      "login": "bitcoin",
      "id": 528860,
      "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitcoin",
      "html_url": "https://github.com/bitcoin",
      "followers_url": "https://api.github.com/users/bitcoin/followers",
      "following_url": "https://api.github.com/users/bitcoin/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitcoin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitcoin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
      "organizations_url": "https://api.github.com/users/bitcoin/orgs",
      "repos_url": "https://api.github.com/users/bitcoin/repos",
      "events_url": "https://api.github.com/users/bitcoin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitcoin/received_events",
      "type": "Organization",
      "site_admin": false
    },
    "repo": {
      "id": 1181927,
      "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
      "name": "bitcoin",
      "full_name": "bitcoin/bitcoin",
      "private": false,
      "owner": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following{/other_user}",
        "gists_url": "https://api.github.com/users/bitcoin/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/bitcoin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events{/privacy}",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin",
      "description": "Bitcoin Core integration/staging tree",
      "fork": false,
      "url": "https://api.github.com/repos/bitcoin/bitcoin",
      "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
      "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys{/key_id}",
      "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators{/collaborator}",
      "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
      "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
      "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events{/number}",
      "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
      "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees{/user}",
      "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches{/branch}",
      "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
      "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs{/sha}",
      "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags{/sha}",
      "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs{/sha}",
      "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees{/sha}",
      "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/{sha}",
      "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
      "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
      "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
      "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
      "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
      "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits{/sha}",
      "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits{/sha}",
      "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments{/number}",
      "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments{/number}",
      "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/{+path}",
      "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/{base}...{head}",
      "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
      "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/{archive_format}{/ref}",
      "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
      "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues{/number}",
      "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls{/number}",
      "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones{/number}",
      "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications{?since,all,participating}",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels{/name}",
      "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases{/id}",
      "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
      "created_at": "2010-12-19T15:16:43Z",
      "updated_at": "2021-12-03T17:18:43Z",
      "pushed_at": "2021-12-03T17:12:55Z",
      "git_url": "git://github.com/bitcoin/bitcoin.git",
      "ssh_url": "git@github.com:bitcoin/bitcoin.git",
      "clone_url": "https://github.com/bitcoin/bitcoin.git",
      "svn_url": "https://github.com/bitcoin/bitcoin",
      "homepage": "https://bitcoincore.org/en/download",
      "size": 188538,
      "stargazers_count": 59782,
      "watchers_count": 59782,
      "language": "C++",
      "has_issues": true,
      "has_projects": true,
      "has_downloads": false,
      "has_wiki": false,
      "has_pages": false,
      "forks_count": 30727,
      "mirror_url": null,
      "archived": false,
      "disabled": false,
      "open_issues_count": 1015,
      "license": {
        "key": "mit",
        "name": "MIT License",
        "spdx_id": "MIT",
        "url": "https://api.github.com/licenses/mit",
        "node_id": "MDc6TGljZW5zZTEz"
      },
      "allow_forking": true,
      "is_template": false,
      "topics": [
        "bitcoin",
        "c-plus-plus",
        "cryptocurrency",
        "cryptography",
        "p2p"
      ],
      "visibility": "public",
      "forks": 30727,
      "open_issues": 1015,
      "watchers": 59782,
      "default_branch": "master"
    }
  },
  "_links": {
    "self": {
      "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7829"
    },
    "html": {
      "href": "https://github.com/bitcoin/bitcoin/pull/7829"
    },
    "issue": {
      "href": "https://api.github.com/repos/bitcoin/bitcoin/issues/7829"
    },
    "comments": {
      "href": "https://api.github.com/repos/bitcoin/bitcoin/issues/7829/comments"
    },
    "review_comments": {
      "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7829/comments"
    },
    "review_comment": {
      "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments{/number}"
    },
    "commits": {
      "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7829/commits"
    },
    "statuses": {
      "href": "https://api.github.com/repos/bitcoin/bitcoin/statuses/9b00b070def2c0f289e148c0b9e54387021668ea"
    }
  },
  "author_association": "MEMBER",
  "auto_merge": null,
  "active_lock_reason": "resolved",
  "merged": false,
  "mergeable": false,
  "rebaseable": false,
  "mergeable_state": "dirty",
  "merged_by": null,
  "comments": 20,
  "review_comments": 0,
  "maintainer_can_modify": false,
  "commits": 7,
  "additions": 92,
  "deletions": 77,
  "changed_files": 14
}