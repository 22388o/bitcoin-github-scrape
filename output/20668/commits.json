[
  {
    "sha": "010eed3ce03cf4fc622a48f40fc4d589383f7a44",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMTBlZWQzY2UwM2NmNGZjNjIyYTQ4ZjQwZmM0ZDU4OTM4M2Y3YTQ0",
    "commit": {
      "author": {
        "name": "Adam Jonas",
        "email": "jonas@chaincode.com",
        "date": "2020-12-16T01:37:32Z"
      },
      "committer": {
        "name": "Adam Jonas",
        "email": "jonas@chaincode.com",
        "date": "2020-12-16T14:24:03Z"
      },
      "message": "doc: warn that incoming conns are unlikely when not using default ports",
      "tree": {
        "sha": "8b802bb8e058873210e2c447e1d7eee6a5cb0385",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8b802bb8e058873210e2c447e1d7eee6a5cb0385"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/010eed3ce03cf4fc622a48f40fc4d589383f7a44",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/010eed3ce03cf4fc622a48f40fc4d589383f7a44",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/010eed3ce03cf4fc622a48f40fc4d589383f7a44",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/010eed3ce03cf4fc622a48f40fc4d589383f7a44/comments",
    "author": {
      "login": "adamjonas",
      "id": 755825,
      "node_id": "MDQ6VXNlcjc1NTgyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/755825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamjonas",
      "html_url": "https://github.com/adamjonas",
      "followers_url": "https://api.github.com/users/adamjonas/followers",
      "following_url": "https://api.github.com/users/adamjonas/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamjonas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamjonas/subscriptions",
      "organizations_url": "https://api.github.com/users/adamjonas/orgs",
      "repos_url": "https://api.github.com/users/adamjonas/repos",
      "events_url": "https://api.github.com/users/adamjonas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamjonas/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "adamjonas",
      "id": 755825,
      "node_id": "MDQ6VXNlcjc1NTgyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/755825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamjonas",
      "html_url": "https://github.com/adamjonas",
      "followers_url": "https://api.github.com/users/adamjonas/followers",
      "following_url": "https://api.github.com/users/adamjonas/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamjonas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamjonas/subscriptions",
      "organizations_url": "https://api.github.com/users/adamjonas/orgs",
      "repos_url": "https://api.github.com/users/adamjonas/repos",
      "events_url": "https://api.github.com/users/adamjonas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamjonas/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c434e2cca9181ce184efef946ab2ce62f2cd2ee7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c434e2cca9181ce184efef946ab2ce62f2cd2ee7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c434e2cca9181ce184efef946ab2ce62f2cd2ee7"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 6,
      "deletions": 2
    },
    "files": [
      {
        "sha": "e077f3dbb8aeab250b447bf791acabef45a0f3b1",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/010eed3ce03cf4fc622a48f40fc4d589383f7a44/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/010eed3ce03cf4fc622a48f40fc4d589383f7a44/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=010eed3ce03cf4fc622a48f40fc4d589383f7a44",
        "patch": "@@ -450,7 +450,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-peerbloomfilters\", strprintf(\"Support filtering of blocks and transaction with bloom filters (default: %u)\", DEFAULT_PEERBLOOMFILTERS), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-peerblockfilters\", strprintf(\"Serve compact block filters to peers per BIP 157 (default: %u)\", DEFAULT_PEERBLOCKFILTERS), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-permitbaremultisig\", strprintf(\"Relay non-P2SH multisig (default: %u)\", DEFAULT_PERMIT_BAREMULTISIG), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-port=<port>\", strprintf(\"Listen for connections on <port> (default: %u, testnet: %u signet: %u, regtest: %u)\", defaultChainParams->GetDefaultPort(), testnetChainParams->GetDefaultPort(), signetChainParams->GetDefaultPort(), regtestChainParams->GetDefaultPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-port=<port>\", strprintf(\"Listen for connections on <port>. Nodes not using the default ports (default: %u, testnet: %u, signet: %u, regtest: %u) are unlikely to get incoming connections.\", defaultChainParams->GetDefaultPort(), testnetChainParams->GetDefaultPort(), signetChainParams->GetDefaultPort(), regtestChainParams->GetDefaultPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-proxy=<ip:port>\", \"Connect through SOCKS5 proxy, set -noproxy to disable (default: disabled)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-proxyrandomize\", strprintf(\"Randomize credentials for every proxy connection. This enables Tor stream isolation (default: %u)\", DEFAULT_PROXYRANDOMIZE), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-seednode=<ip>\", \"Connect to a node to retrieve peer addresses, and disconnect. This option can be specified multiple times to connect to multiple nodes.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);"
      },
      {
        "sha": "7a04a215ebd2e321865f2fc776c413983b257a0b",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 1,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/010eed3ce03cf4fc622a48f40fc4d589383f7a44/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/010eed3ce03cf4fc622a48f40fc4d589383f7a44/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=010eed3ce03cf4fc622a48f40fc4d589383f7a44",
        "patch": "@@ -2081,7 +2081,11 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n                 continue;\n             }\n \n-            // do not allow non-default ports, unless after 50 invalid addresses selected already\n+            // Do not allow non-default ports, unless after 50 invalid\n+            // addresses selected already. This is to prevent malicious peers\n+            // from advertising themselves as a service on another host and\n+            // port, causing a DoS attack as nodes around the network attempt\n+            // to connect to it fruitlessly.\n             if (addr.GetPort() != Params().GetDefaultPort() && nTries < 50)\n                 continue;\n "
      }
    ]
  }
]