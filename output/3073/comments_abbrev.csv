Diapolo,2013-10-10T07:11:54Z,"I'm fine with that change, I remember it was a pain to see some issues raised, because of wrong data-dir paths because of caching etc.\n",https://github.com/bitcoin/bitcoin/pull/3073#issuecomment-26033269,26033269,
BitcoinPullTester,2013-10-11T05:24:09Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/23e0d45b79f1885a318f9eed6a7c5ceb6e449206 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/3073#issuecomment-26115339,26115339,
sipa,2013-10-13T20:34:49Z,"OpenDiskFile() calls GetDataDir, so during IBD and initial startup it is called many times. It's unlikely to be a performance burden, but it seems silly to make that many system calls (yes, I realize we call open() and read() and gettimeofdate() much more...) over and over again, trusting that it will never change.\n\nI'd be fine with just storing the block directory once in main, and reusing that",https://github.com/bitcoin/bitcoin/pull/3073#issuecomment-26226402,26226402,
laanwj,2013-10-15T06:33:29Z,I think it's silly to use this kind of caching logic for what is a simple string operation that is only invoked before opening a file.\n\nWith the system call you mean the fs::create_directories (as getenv is not a system call)? I agree that's a bit silly to do every time. It would be better to create the directories at some sane point in the initialization process and not every time before return,https://github.com/bitcoin/bitcoin/pull/3073#issuecomment-26312043,26312043,
laanwj,2013-10-19T10:24:50Z,I don't care enough about this to keep it open.\n,https://github.com/bitcoin/bitcoin/pull/3073#issuecomment-26647452,26647452,
laanwj,2013-10-09T12:53:14Z,Removed this fs::create_directory as we do fs::create_directories anyway which creates all parent directories as needed.\n,https://github.com/bitcoin/bitcoin/pull/3073#discussion_r6854707,6854707,src/util.cpp
Diapolo,2013-10-10T07:10:07Z,You mean in GetDataDir()?\n,https://github.com/bitcoin/bitcoin/pull/3073#discussion_r6879445,6879445,src/util.cpp
laanwj,2013-10-10T07:13:38Z,Yes. Or are there any other paths to here?\n,https://github.com/bitcoin/bitcoin/pull/3073#discussion_r6879489,6879489,src/util.cpp
Diapolo,2013-10-11T10:21:09Z,AFAIK no.\n,https://github.com/bitcoin/bitcoin/pull/3073#discussion_r6911884,6911884,src/util.cpp
sipa,2013-10-11T20:31:00Z,Returning a const by value doesn't mean much :)\n,https://github.com/bitcoin/bitcoin/pull/3073#discussion_r6925965,6925965,src/util.cpp
laanwj,2013-10-11T20:49:20Z,"Lol, indeed, I'll remove the const\n",https://github.com/bitcoin/bitcoin/pull/3073#discussion_r6926404,6926404,src/util.cpp
