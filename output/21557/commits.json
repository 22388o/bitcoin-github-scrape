[
  {
    "sha": "6526a1644cd1723e47054aa83b3ae8eacf84bf84",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2NTI2YTE2NDRjZDE3MjNlNDcwNTRhYTgzYjNhZThlYWNmODRiZjg0",
    "commit": {
      "author": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2021-03-23T07:34:23Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2021-03-31T06:03:11Z"
      },
      "message": "test: small cleanup in RPCNestedTests tests\n\nAdd missing includes.\nRemove obsolete comment about Qt 5.3\n(fd46c4c0018c41d36cd892ccb47485b572d65837)",
      "tree": {
        "sha": "ae7d0aa0b39f0bfb1c1cf58e8d3af48ec4c101f4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ae7d0aa0b39f0bfb1c1cf58e8d3af48ec4c101f4"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6526a1644cd1723e47054aa83b3ae8eacf84bf84",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAmBkEKQACgkQLuufXMCV\nJsGJQA/8DV3jusXO2a2W+rsE4aXmW7KjBpoRGLfhnYCHZTVDYuVTW0xHqcKpDeWX\n76s2esbFaCoZwVeT0M9Z4PaemBKSGUjKSokGNBp+O5/C7/+hopRqgYCNnRyVd8WC\nslqPqioC8gPHAwtTzSJeqTHcgFDlKzkjEPShsJVnkGL/wYEPkoTuDNV4oahmPyQ8\nK+tqvtoK4LGVMZ5YfohRH7mPklBjOzqW9W1aR+oZ6K3b7iHJla9pcDqxCeINVYWY\nPlCObQFYYv8Htuvli002vPPmzIVt0fcWZNQwmYNO1SMYmjVdsmYevGXSVGRgJjjC\nGGi2ClwwtzzHMi4d18rM+N+TuNoMko3EMRVNmKQUd71gnGVHVXaAHKzgPIZLtnkC\n5D3Oo4LdK6eLNiVkkQIXIS+kqNqq+E0OmZGkKrU/4ILn+Ne9AIrx2SJExtzDSM3G\nDyRrC3BS1DprdsWFj2RqVimDdjvgiL89LyMfLYNrbC7JrjhT6qV8e+OHgtOh8hEm\noSAVZkcmJpfcRjsgoeD2dD2qmjDuK23/zpJpn9+fK7dtIfLz1xo1q1k129olbv9v\ny2YS9T2Puj39/MUCdGpdp1RcyXT2GBuednDao9o+PlXYgtk/k5+NY6PlOiXqP8F5\npiiIgqVDxvzC29NterDyn3iyzkT6JGmUijzFMMbGUYIKxMc4v3c=\n=qaRa\n-----END PGP SIGNATURE-----",
        "payload": "tree ae7d0aa0b39f0bfb1c1cf58e8d3af48ec4c101f4\nparent e4a2918238559e0b82e287833f51b321b97518ab\nauthor fanquake <fanquake@gmail.com> 1616484863 +0800\ncommitter fanquake <fanquake@gmail.com> 1617170591 +0800\n\ntest: small cleanup in RPCNestedTests tests\n\nAdd missing includes.\nRemove obsolete comment about Qt 5.3\n(fd46c4c0018c41d36cd892ccb47485b572d65837)\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6526a1644cd1723e47054aa83b3ae8eacf84bf84",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6526a1644cd1723e47054aa83b3ae8eacf84bf84",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6526a1644cd1723e47054aa83b3ae8eacf84bf84/comments",
    "author": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e4a2918238559e0b82e287833f51b321b97518ab",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e4a2918238559e0b82e287833f51b321b97518ab",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e4a2918238559e0b82e287833f51b321b97518ab"
      }
    ],
    "stats": {
      "total": 21,
      "additions": 11,
      "deletions": 10
    },
    "files": [
      {
        "sha": "3fd02ab43f3fb3ce7fb7409b5ca30090bc3c038d",
        "filename": "src/qt/test/rpcnestedtests.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 10,
        "changes": 21,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6526a1644cd1723e47054aa83b3ae8eacf84bf84/src/qt/test/rpcnestedtests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6526a1644cd1723e47054aa83b3ae8eacf84bf84/src/qt/test/rpcnestedtests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/test/rpcnestedtests.cpp?ref=6526a1644cd1723e47054aa83b3ae8eacf84bf84",
        "patch": "@@ -11,8 +11,10 @@\n #include <univalue.h>\n #include <util/system.h>\n \n-#include <QDir>\n-#include <QtGlobal>\n+#include <QTest>\n+\n+#include <string>\n+#include <stdexcept>\n \n static RPCHelpMan rpcNestedTest_rpc()\n {\n@@ -26,7 +28,7 @@ static RPCHelpMan rpcNestedTest_rpc()\n         },\n         {},\n         RPCExamples{\"\"},\n-        [](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {\n+        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {\n             return request.params.write(0, 0);\n         },\n     };\n@@ -68,13 +70,13 @@ void RPCNestedTests::rpcNestedTests()\n     RPCConsole::RPCExecuteCommandLine(m_node, result, \"getblockchaininfo \"); //whitespace at the end will be tolerated\n     QVERIFY(result.substr(0,1) == \"{\");\n \n-    (RPCConsole::RPCExecuteCommandLine(m_node, result, \"getblockchaininfo()[\\\"chain\\\"]\")); //Quote path identifier are allowed, but look after a child containing the quotes in the key\n+    RPCConsole::RPCExecuteCommandLine(m_node, result, \"getblockchaininfo()[\\\"chain\\\"]\"); //Quote path identifier are allowed, but look after a child containing the quotes in the key\n     QVERIFY(result == \"null\");\n \n-    (RPCConsole::RPCExecuteCommandLine(m_node, result, \"createrawtransaction [] {} 0\")); //parameter not in brackets are allowed\n-    (RPCConsole::RPCExecuteCommandLine(m_node, result2, \"createrawtransaction([],{},0)\")); //parameter in brackets are allowed\n+    RPCConsole::RPCExecuteCommandLine(m_node, result, \"createrawtransaction [] {} 0\"); //parameter not in brackets are allowed\n+    RPCConsole::RPCExecuteCommandLine(m_node, result2, \"createrawtransaction([],{},0)\"); //parameter in brackets are allowed\n     QVERIFY(result == result2);\n-    (RPCConsole::RPCExecuteCommandLine(m_node, result2, \"createrawtransaction( [],  {} , 0   )\")); //whitespace between parameters is allowed\n+    RPCConsole::RPCExecuteCommandLine(m_node, result2, \"createrawtransaction( [],  {} , 0   )\"); //whitespace between parameters is allowed\n     QVERIFY(result == result2);\n \n     RPCConsole::RPCExecuteCommandLine(m_node, result, \"getblock(getbestblockhash())[tx][0]\", &filtered);\n@@ -123,11 +125,10 @@ void RPCNestedTests::rpcNestedTests()\n     RPCConsole::RPCExecuteCommandLine(m_node, result, \"rpcNestedTest(   abc   ,   cba )\");\n     QVERIFY(result == \"[\\\"abc\\\",\\\"cba\\\"]\");\n \n-    // do the QVERIFY_EXCEPTION_THROWN checks only with Qt5.3 and higher (QVERIFY_EXCEPTION_THROWN was introduced in Qt5.3)\n     QVERIFY_EXCEPTION_THROWN(RPCConsole::RPCExecuteCommandLine(m_node, result, \"getblockchaininfo() .\\n\"), std::runtime_error); //invalid syntax\n     QVERIFY_EXCEPTION_THROWN(RPCConsole::RPCExecuteCommandLine(m_node, result, \"getblockchaininfo() getblockchaininfo()\"), std::runtime_error); //invalid syntax\n-    (RPCConsole::RPCExecuteCommandLine(m_node, result, \"getblockchaininfo(\")); //tolerate non closing brackets if we have no arguments\n-    (RPCConsole::RPCExecuteCommandLine(m_node, result, \"getblockchaininfo()()()\")); //tolerate non command brackets\n+    RPCConsole::RPCExecuteCommandLine(m_node, result, \"getblockchaininfo(\"); //tolerate non closing brackets if we have no arguments\n+    RPCConsole::RPCExecuteCommandLine(m_node, result, \"getblockchaininfo()()()\"); //tolerate non command brackets\n     QVERIFY_EXCEPTION_THROWN(RPCConsole::RPCExecuteCommandLine(m_node, result, \"getblockchaininfo(True)\"), UniValue); //invalid argument\n     QVERIFY_EXCEPTION_THROWN(RPCConsole::RPCExecuteCommandLine(m_node, result, \"a(getblockchaininfo(True))\"), UniValue); //method not found\n     QVERIFY_EXCEPTION_THROWN(RPCConsole::RPCExecuteCommandLine(m_node, result, \"rpcNestedTest abc,,abc\"), std::runtime_error); //don't tolerate empty arguments when using ,"
      }
    ]
  }
]