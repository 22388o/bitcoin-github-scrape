sipa,2014-09-04T09:11:27Z,Untested ACK. I always found those newlines annoying in the debug output...\n,https://github.com/bitcoin/bitcoin/pull/4839#issuecomment-54436874,54436874,
jgarzik,2014-09-04T12:24:33Z,ut ACK\n,https://github.com/bitcoin/bitcoin/pull/4839#issuecomment-54465283,54465283,
rebroad,2014-09-06T07:15:41Z,@laanwj first commit removed.\n,https://github.com/bitcoin/bitcoin/pull/4839#issuecomment-54704980,54704980,
rebroad,2014-09-06T07:22:41Z,"(in case you'd not noticed, the msg.hdr variable I've added is safe, since msg.hdr must already exist, since it forms part of the if statement preceeding the line I changed), plus @sipa has also checked that the GetCommand() command works and returns a string whatever amount of msg has been received.\n",https://github.com/bitcoin/bitcoin/pull/4839#issuecomment-54705121,54705121,
BitcoinPullTester,2014-09-06T07:53:27Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4839_346193bd934bf198dbfd606d8c52c60bc7967858/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-te",https://github.com/bitcoin/bitcoin/pull/4839#issuecomment-54705687,54705687,
laanwj,2014-09-06T08:25:29Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/4839#issuecomment-54706284,54706284,
jgarzik,2014-09-04T12:32:04Z,NAK.  You cannot put this code here.  It must come after the msg.complete() check.\n,https://github.com/bitcoin/bitcoin/pull/4839#discussion_r17110036,17110036,src/main.cpp
laanwj,2014-09-04T12:34:41Z,Good catch.\n,https://github.com/bitcoin/bitcoin/pull/4839#discussion_r17110127,17110127,src/main.cpp
rebroad,2014-09-04T15:24:23Z,"It's never not worked. The msg doesn't need to be complete for GetCommand() to work, but it's possible it needs to have received >n bytes (any idea what n should be?).\n",https://github.com/bitcoin/bitcoin/pull/4839#discussion_r17120192,17120192,src/main.cpp
sipa,2014-09-05T01:11:46Z,"The header is only deserialized into msg.hdr once it's been received entirely, so before that point, msg.hdr will always be empty.\n",https://github.com/bitcoin/bitcoin/pull/4839#discussion_r17152758,17152758,src/main.cpp
rebroad,2014-09-05T02:10:14Z,"@sipa, All I know is that it works, and has been working since at least 4th July (probably since March if I recall correctly). If what you're saying is true, wouldn't that suggest the code as it is wouldn't work?\n",https://github.com/bitcoin/bitcoin/pull/4839#discussion_r17154142,17154142,src/main.cpp
sipa,2014-09-05T21:00:01Z,It will return an empty string for command in case an incomplete message is in the buffer. That probably happens rarely.\n,https://github.com/bitcoin/bitcoin/pull/4839#discussion_r17197912,17197912,src/main.cpp
rebroad,2014-09-06T01:58:34Z,"@sipa, ah, cool. Yes, it's never happened so far in the time I've been testing this. So it sounds like this is safe to pull then, as the strCommand variable is only used for debug logging, so it's displayed if it has it, and most future code won't be interested in using it until the complete message has arrived anyway.\n",https://github.com/bitcoin/bitcoin/pull/4839#discussion_r17206141,17206141,src/main.cpp
laanwj,2014-09-06T03:18:51Z,"@rebroad I've said this before: don't make logging-related changes change around other things. If there is any risk that this will break something, I'd rather not have it at all than have prettier logging.\n\nThis shouldn't be controversial in any way. Let's keep just the changes to the two LogPrintf lines below and I'll merge this.\n",https://github.com/bitcoin/bitcoin/pull/4839#discussion_r17206548,17206548,src/main.cpp
