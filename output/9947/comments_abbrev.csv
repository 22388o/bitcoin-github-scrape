dcousens,2017-03-08T11:27:18Z,"As discussed on IRC,  the return value would probably better approximate ""whether the transaction was in the memory pool"",  as prioritization should always occur.",https://github.com/bitcoin/bitcoin/pull/9947#issuecomment-285016948,285016948,
jnewbery,2017-03-08T15:06:49Z,"I don't understand why this is required. As mentioned above, prioritisetransaction can be used for transactions which are not yet in the mempool, and then the fee delta is:\n\n- used to determine whether the transaction should be allowed into the mempool (the `ApplyDeltas()` call in `AcceptToMemoryPoolWorker()`)\n- applied to the transaction as it enters the mempool (`mapTx.modify(newit, update",https://github.com/bitcoin/bitcoin/pull/9947#issuecomment-285065832,285065832,
MarcoFalke,2017-03-08T15:11:11Z,"Agree with jnewbery. Imo it is confusing for prioritisetransaction to\nreturn a bool. (One could think that false means the call failed, which is\nnot true.)\n\nThere are other methods to check if a transaction is in the mempool.\n\nOn Wed, Mar 8, 2017 at 4:07 PM, John Newbery <notifications@github.com>\nwrote:\n\n> I don't understand why this is required. As mentioned above,\n> prioritisetransact",https://github.com/bitcoin/bitcoin/pull/9947#issuecomment-285067070,285067070,
ghost,2017-03-09T03:12:16Z,"You could return a struct that contains a bool, that way the said bool value is given a name, making the intention clear. ",https://github.com/bitcoin/bitcoin/pull/9947#issuecomment-285242321,285242321,
jonasschnelli,2017-03-09T08:00:13Z,"I think @jnewbery and @MarcoFalke are right. I misunderstood it's behaviour. It can prioritise future transaction and I wasn't aware of that fact.\n\nAn option would be to return true/false wether the transaction was in the mempool or not... ",https://github.com/bitcoin/bitcoin/pull/9947#issuecomment-285281374,285281374,
jonasschnelli,2017-03-29T14:27:36Z,"> There are other methods to check if a transaction is in the mempool.\n\n@MarcoFalke is right here.\nClosing... ",https://github.com/bitcoin/bitcoin/pull/9947#issuecomment-290107211,290107211,
bitkevin,2017-03-08T10:11:21Z,we should check the tx hash to find out if it's exist in `mapTx` before add `nFeeDelta` to `mapDeltas`.,https://github.com/bitcoin/bitcoin/pull/9947#discussion_r104884545,104884545,src/txmempool.cpp
jonasschnelli,2017-03-08T10:14:45Z,~~Good point.. I'll fix that.~~,https://github.com/bitcoin/bitcoin/pull/9947#discussion_r104885201,104885201,src/txmempool.cpp
jonasschnelli,2017-03-08T11:02:09Z,Oh wait. This seems to be intentional. This allows to increase fees (add a fee delta) before the transaction hits the mempool.,https://github.com/bitcoin/bitcoin/pull/9947#discussion_r104893955,104893955,src/txmempool.cpp
laanwj,2017-03-08T14:39:27Z,the `return true` can go here,https://github.com/bitcoin/bitcoin/pull/9947#discussion_r104930047,104930047,src/rpc/mining.cpp
gmaxwell,2017-03-08T20:14:23Z,"And an important feature: without the ability to add deltas before a transaction exists, you may not be able to prioritize a transaction at all (because of rejection).",https://github.com/bitcoin/bitcoin/pull/9947#discussion_r105011849,105011849,src/txmempool.cpp
