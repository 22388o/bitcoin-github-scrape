[
  {
    "sha": "060058e9557f4d3094b6a8d2fa079539c5658d95",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowNjAwNThlOTU1N2Y0ZDMwOTRiNmE4ZDJmYTA3OTUzOWM1NjU4ZDk1",
    "commit": {
      "author": {
        "name": "ptschip",
        "email": "peter.tschipper@gmail.com",
        "date": "2015-08-26T13:02:21Z"
      },
      "committer": {
        "name": "ptschip",
        "email": "peter.tschipper@gmail.com",
        "date": "2015-08-26T17:59:22Z"
      },
      "message": "Enable python tests for Native Windows\n\n1) Multiplatorm support for devnull\n2) Fixed a bug in the handling of cache files\n3) Deleted run-bitcoin-cli as no longer needed",
      "tree": {
        "sha": "712cf6d8711eeff8540d54ae15a623bff1b84957",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/712cf6d8711eeff8540d54ae15a623bff1b84957"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/060058e9557f4d3094b6a8d2fa079539c5658d95",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/060058e9557f4d3094b6a8d2fa079539c5658d95",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/060058e9557f4d3094b6a8d2fa079539c5658d95",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/060058e9557f4d3094b6a8d2fa079539c5658d95/comments",
    "author": {
      "login": "ptschip",
      "id": 12862928,
      "node_id": "MDQ6VXNlcjEyODYyOTI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12862928?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ptschip",
      "html_url": "https://github.com/ptschip",
      "followers_url": "https://api.github.com/users/ptschip/followers",
      "following_url": "https://api.github.com/users/ptschip/following{/other_user}",
      "gists_url": "https://api.github.com/users/ptschip/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ptschip/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ptschip/subscriptions",
      "organizations_url": "https://api.github.com/users/ptschip/orgs",
      "repos_url": "https://api.github.com/users/ptschip/repos",
      "events_url": "https://api.github.com/users/ptschip/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ptschip/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ptschip",
      "id": 12862928,
      "node_id": "MDQ6VXNlcjEyODYyOTI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12862928?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ptschip",
      "html_url": "https://github.com/ptschip",
      "followers_url": "https://api.github.com/users/ptschip/followers",
      "following_url": "https://api.github.com/users/ptschip/following{/other_user}",
      "gists_url": "https://api.github.com/users/ptschip/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ptschip/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ptschip/subscriptions",
      "organizations_url": "https://api.github.com/users/ptschip/orgs",
      "repos_url": "https://api.github.com/users/ptschip/repos",
      "events_url": "https://api.github.com/users/ptschip/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ptschip/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ea19c2bc3f2281ad319457c6fa518bff96af13e3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ea19c2bc3f2281ad319457c6fa518bff96af13e3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ea19c2bc3f2281ad319457c6fa518bff96af13e3"
      }
    ],
    "stats": {
      "total": 32,
      "additions": 14,
      "deletions": 18
    },
    "files": [
      {
        "sha": "dfde0d43ecee34e6bab14b74fc673807df98e978",
        "filename": "Makefile.am",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/060058e9557f4d3094b6a8d2fa079539c5658d95/Makefile.am",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/060058e9557f4d3094b6a8d2fa079539c5658d95/Makefile.am",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/Makefile.am?ref=060058e9557f4d3094b6a8d2fa079539c5658d95",
        "patch": "@@ -204,7 +204,7 @@ endif\n \n dist_noinst_SCRIPTS = autogen.sh\n \n-EXTRA_DIST = $(top_srcdir)/share/genbuild.sh qa/pull-tester/rpc-tests.sh qa/pull-tester/run-bitcoin-cli qa/rpc-tests $(DIST_DOCS) $(WINDOWS_PACKAGING) $(OSX_PACKAGING)\n+EXTRA_DIST = $(top_srcdir)/share/genbuild.sh qa/pull-tester/rpc-tests.sh qa/rpc-tests $(DIST_DOCS) $(WINDOWS_PACKAGING) $(OSX_PACKAGING)\n \n CLEANFILES = $(OSX_DMG) $(BITCOIN_WIN_INSTALLER)\n "
      },
      {
        "sha": "f928cd09e347946e59cbfe0fc5ded48acd201db3",
        "filename": "qa/pull-tester/rpc-tests.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/060058e9557f4d3094b6a8d2fa079539c5658d95/qa/pull-tester/rpc-tests.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/060058e9557f4d3094b6a8d2fa079539c5658d95/qa/pull-tester/rpc-tests.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/qa/pull-tester/rpc-tests.sh?ref=060058e9557f4d3094b6a8d2fa079539c5658d95",
        "patch": "@@ -5,8 +5,8 @@ CURDIR=$(cd $(dirname \"$0\"); pwd)\n # Get BUILDDIR and REAL_BITCOIND\n . \"${CURDIR}/tests-config.sh\"\n \n-export BITCOINCLI=${BUILDDIR}/qa/pull-tester/run-bitcoin-cli\n export BITCOIND=${REAL_BITCOIND}\n+export BITCOINCLI=${REAL_BITCOINCLI}\n \n #Run the tests\n "
      },
      {
        "sha": "93c25bb9fca29e20e4b3b75718978e303268fac1",
        "filename": "qa/pull-tester/run-bitcoin-cli",
        "status": "removed",
        "additions": 0,
        "deletions": 13,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ea19c2bc3f2281ad319457c6fa518bff96af13e3/qa/pull-tester/run-bitcoin-cli",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ea19c2bc3f2281ad319457c6fa518bff96af13e3/qa/pull-tester/run-bitcoin-cli",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/qa/pull-tester/run-bitcoin-cli?ref=ea19c2bc3f2281ad319457c6fa518bff96af13e3",
        "patch": "@@ -1,13 +0,0 @@\n-#!/bin/bash\n-\n-# This is a thin wrapper around bitcoin-cli that strips the Windows-style EOLs\n-# from the output if present. It is necessary when using bitcoin-cli.exe on\n-# Linux since shells will interpret the line-endings as part of the result.\n-\n-CURDIR=$(cd $(dirname \"$0\"); pwd)\n-# Get BUILDDIR and REAL_BITCOIND\n-\n-# Grab the value of $REAL_BITCOINCLI which may be bitcoin-cli.exe.\n-. \"${CURDIR}/tests-config.sh\"\n-\n-\"${REAL_BITCOINCLI}\" \"$@\" | sed 's/\\r//'"
      },
      {
        "sha": "3759cc8162871dcea0f09b1e7cae3428fa460f72",
        "filename": "qa/rpc-tests/test_framework/util.py",
        "status": "modified",
        "additions": 12,
        "deletions": 3,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/060058e9557f4d3094b6a8d2fa079539c5658d95/qa/rpc-tests/test_framework/util.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/060058e9557f4d3094b6a8d2fa079539c5658d95/qa/rpc-tests/test_framework/util.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/qa/rpc-tests/test_framework/util.py?ref=060058e9557f4d3094b6a8d2fa079539c5658d95",
        "patch": "@@ -78,8 +78,17 @@ def initialize_chain(test_dir):\n     bitcoind and bitcoin-cli must be in search path.\n     \"\"\"\n \n-    if not os.path.isdir(os.path.join(\"cache\", \"node0\")):\n-        devnull = open(\"/dev/null\", \"w+\")\n+    if (not os.path.isdir(os.path.join(\"cache\",\"node0\"))\n+        or not os.path.isdir(os.path.join(\"cache\",\"node1\")) \n+        or not os.path.isdir(os.path.join(\"cache\",\"node2\")) \n+        or not os.path.isdir(os.path.join(\"cache\",\"node3\"))):\n+\n+        #find and delete old cache directories if any exist\n+        for i in range(4):\n+            if os.path.isdir(os.path.join(\"cache\",\"node\"+str(i))): \n+                shutil.rmtree(os.path.join(\"cache\",\"node\"+str(i)))\n+\n+        devnull = open(os.devnull, \"w\")\n         # Create cache directories, run bitcoinds:\n         for i in range(4):\n             datadir=initialize_datadir(\"cache\", i)\n@@ -171,7 +180,7 @@ def start_node(i, dirname, extra_args=None, rpchost=None, timewait=None, binary=\n     args = [ binary, \"-datadir=\"+datadir, \"-keypool=1\", \"-discover=0\", \"-rest\" ]\n     if extra_args is not None: args.extend(extra_args)\n     bitcoind_processes[i] = subprocess.Popen(args)\n-    devnull = open(\"/dev/null\", \"w+\")\n+    devnull = open(os.devnull, \"w\")\n     if os.getenv(\"PYTHON_DEBUG\", \"\"):\n         print \"start_node: bitcoind started, calling bitcoin-cli -rpcwait getblockcount\"\n     subprocess.check_call([ os.getenv(\"BITCOINCLI\", \"bitcoin-cli\"), \"-datadir=\"+datadir] +"
      }
    ]
  }
]