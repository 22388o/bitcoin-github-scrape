theuni,2015-07-14T17:07:51Z,"@gavinandresen looks good to me, agreed that the behavior is unexpected. A few thoughts, though:\n- I believe it's that way because ""-O2 -g"" are already added by default. After this change, a `./configure --enable-debug` will end up with duped flags I think. Not a problem really, the last flag wins.\n- You really want to be passing that in as `CPPFLAGS=-DDEBUG_LOCKORDER` anyway. Those are pre-proc",https://github.com/bitcoin/bitcoin/pull/6434#issuecomment-121310615,121310615,
gavinandresen,2015-07-14T21:45:46Z,"RE: CPPFLAGS:  hmm, then --enable-debug should add -DDEBUG to CPPFLAGS instead of CFLAGS/CXXFLAGS...\n\nRE: adding -DDEBUG_LOCKORDER to --enable-debug:  sounds good to me.\n",https://github.com/bitcoin/bitcoin/pull/6434#issuecomment-121400691,121400691,
laanwj,2015-07-15T06:54:59Z,"> How about just adding -DDEBUG_LOCKORDER to CPPFLAGS in the --enable-debug case?\n\nSounds good to me.\n\nAlthough maybe then it should be documented then that the flag doesn't just add debug information, but also enables specific debug functionality.\n\nOr maybe that's already clear:\n\n```\n--enable-debug          use debug compiler flags and macros (default is no)\n```\n",https://github.com/bitcoin/bitcoin/pull/6434#issuecomment-121510036,121510036,
gavinandresen,2015-07-15T18:10:29Z,Tweaked based on comments:\n\nThree changes to how configure --enable-debug behaves:\n1. Preserve user-passed CXXFLAGS/CFLAGS\n2. Compile with -DDEBUG_LOCKORDER\n3. Add -DDEBUG -DDEBUG_LOCKORDER to CPPFLAGS (since they are preprocessor options)\n,https://github.com/bitcoin/bitcoin/pull/6434#issuecomment-121698284,121698284,
theuni,2015-07-15T18:40:17Z,"Thanks, looks good.\n",https://github.com/bitcoin/bitcoin/pull/6434#issuecomment-121708373,121708373,
