tryphe,2021-08-01 03:25:54,"Concept ACK\n\nIs it possible to easily test this functionality? I would like to give it a go.",https://github.com/bitcoin/bitcoin/pull/22417#issuecomment-890441742,890441742,
luke-jr,2021-08-01 05:11:11,"Should be possible with a long-running process, then looking at `/proc/*pid*/fd` or such.\n\nIf you want to create a problem, write a program to write to random fd numbers (likely will corrupt things, don't try on an important node). :p",https://github.com/bitcoin/bitcoin/pull/22417#issuecomment-890452233,890452233,
Sjors,2021-08-06 16:41:34,"This is a bit beyond my understanding of processes. I tested (on macOS) that 3b6153ba336b929b06930d81930077f6bb519732 doesn't break HWI integration, so I have no objection.",https://github.com/bitcoin/bitcoin/pull/22417#issuecomment-894381571,894381571,
laanwj,2021-11-29 15:48:25,As I understand this code is executed in the child process. What's the advantage of using `fcntl(â€¦FD_CLOEXEC` instead of straight-up closing the fd here?,https://github.com/bitcoin/bitcoin/pull/22417#discussion_r758492164,758492164,src/util/system.h
laanwj,2021-11-29 15:50:07,TIL `/dev/fd` is a general UNIX thing and not limited to Linux. It doesn't seem like a very nice API to iterate open file descriptors but seems portable enough.,https://github.com/bitcoin/bitcoin/pull/22417#discussion_r758493969,758493969,src/util/system.h
luke-jr,2021-11-29 17:06:26,"> Instead of closing directly, we have to set the `FD_CLOEXEC` flag and let `exec` close them; otherwise, boost::process's internal pipe would be closed and we get the wrong exception thrown (not actually a problem outside of our tests, but might as well do this cleanly).",https://github.com/bitcoin/bitcoin/pull/22417#discussion_r758565651,758565651,src/util/system.h
