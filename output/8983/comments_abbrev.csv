gmaxwell,2016-10-24T16:53:04Z,What does this gain over the logging in UpdateTip that we already do?\n,https://github.com/bitcoin/bitcoin/pull/8983#issuecomment-255798182,255798182,
rebroad,2016-10-25T01:37:25Z,"@gmaxwell The thinking behind this was more along the lines of logging the serialized size of messages received with a view to adding more logging later, perhaps with a command line option to turn this on/off. Blocks, being the largest messages sent/recved, I felt to be particularly notable. \n\nTODO - still needs changing so that ProcessNewBlock detects whether it's called from receiving a block ",https://github.com/bitcoin/bitcoin/pull/8983#issuecomment-255912596,255912596,
fanquake,2016-11-13T07:42:53Z,"What's the status of this? If it's still a WIP, can you close the PR for now, and re-open it when it's been finished & rebased?\n",https://github.com/bitcoin/bitcoin/pull/8983#issuecomment-260171732,260171732,
fanquake,2016-11-25T08:33:26Z,"Closing for now, see comment above.",https://github.com/bitcoin/bitcoin/pull/8983#issuecomment-262905154,262905154,
sipa,2016-10-20T21:52:34Z,Why do you duplicate this line?\n,https://github.com/bitcoin/bitcoin/pull/8983#discussion_r84383636,84383636,src/main.cpp
sipa,2016-10-20T21:54:39Z,"That's not needed, and it's a layer violation, as this is the _serialized_ size, not the block size.\n",https://github.com/bitcoin/bitcoin/pull/8983#discussion_r84383935,84383935,src/main.cpp
sipa,2016-10-20T21:56:13Z,"You can use `::GetSerializeSize(*pblock, SER_DISK, CLIENT_VERSION)` to obtain the total block size, or `GetBlockWeight(*pblock)` to get the weight (the limited resource after segwit, which may be more useful longer term).\n",https://github.com/bitcoin/bitcoin/pull/8983#discussion_r84384192,84384192,src/main.cpp
rebroad,2016-10-22T09:16:40Z,"@sipa thanks. ok, so I need to add the size of the header to get the block size, or subtract it? Do you say it's not needed as there is the function GetSerializeSize()? Happy to call that instead, but I somehow felt I was saving resources by not needing to.\n",https://github.com/bitcoin/bitcoin/pull/8983#discussion_r84573377,84573377,src/main.cpp
rebroad,2016-10-22T09:18:56Z,Which is more useful to report? the height or the weight? (I am not actually sure what the weight even is!)\n\nShall I close this PR until I've made the changes or is it preferable to leave it open? Or shall I change the title to include WIP since it's still WIP?\n,https://github.com/bitcoin/bitcoin/pull/8983#discussion_r84573419,84573419,src/main.cpp
sipa,2016-10-24T18:00:33Z,"My question is more what do you want to log? How many bytes are being transferred, or the consensus-critical block size?\n\nAssuming compact blocks and other better relay mechanisms take off, the size on the wire will be less and less relevant.\n",https://github.com/bitcoin/bitcoin/pull/8983#discussion_r84746001,84746001,src/main.cpp
sipa,2016-10-24T18:15:55Z,"Weight is (4 \* size_without_witness + 1 \* size_of_witness). In segwit, weight is limited to 4000000.\n",https://github.com/bitcoin/bitcoin/pull/8983#discussion_r84749304,84749304,src/main.cpp
