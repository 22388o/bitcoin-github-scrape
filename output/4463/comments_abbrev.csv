laanwj,2014-07-04T16:07:15Z,"There is already a balance check in SendMoney in https://github.com/bitcoin/bitcoin/blob/master/src/wallet.cpp#L1504\n\nSee also pull #4331, which also changes where and how balance checks are being done.\n",https://github.com/bitcoin/bitcoin/pull/4463#issuecomment-48058603,48058603,
domob1812,2014-07-04T16:14:03Z,"Thanks for the quick reply.  Nevertheless, I think that the checks are simply misplaced in SendMoneyToDestination, since they apply equally to SendMoney alone.  Whether or not they belong there is another question.  I think that the error message ""Insufficient funds"" is better suited than ""This transaction requires a fee of at least..."" for the case that ""nValue > GetBalance()"".  Also, the check f",https://github.com/bitcoin/bitcoin/pull/4463#issuecomment-48058946,48058946,
laanwj,2014-07-05T14:22:40Z,"Agreed that the check really belongs in SendMoney.\nBTW: this would make SendMoneyToDestination a trivial function, maybe we can get rid of it completely.\n\n**Edit**: Had the functions the wrong way around\n",https://github.com/bitcoin/bitcoin/pull/4463#issuecomment-48087561,48087561,
domob1812,2014-07-05T14:39:50Z,"Yes, I thought about that myself.  It seemed like a ""too invasive"" change for the initial proposal, but I'll gladly do it.  So far, SendMoney isn't actually used anywhere by itself, only SendToDestination.  The latter is used only from the ""sendtoaddress"" and ""sendfrom"" RPC commands in rpcwallet.cpp.\n\nSo if you don't want to keep SendMoney by itself just for the sake of it, the simplest solution",https://github.com/bitcoin/bitcoin/pull/4463#issuecomment-48087933,48087933,
laanwj,2014-07-07T07:01:00Z,"Agreed. Let's combine the functions and rename SendMoneyToDestination to SendMoney.\n\nFor more advanced use-cases such as sending to a non-destination script it's easy enough to use `CreateTransaction`/`CommitTransaction` manually. This is, for example, what the GUI does because it can send to multiple recipients.\n",https://github.com/bitcoin/bitcoin/pull/4463#issuecomment-48146476,48146476,
domob1812,2014-07-07T07:42:29Z,Done.  Did you imagine it like this?\n,https://github.com/bitcoin/bitcoin/pull/4463#issuecomment-48149006,48149006,
laanwj,2014-07-07T07:44:31Z,"Yes, ACK\n",https://github.com/bitcoin/bitcoin/pull/4463#issuecomment-48149142,48149142,
BitcoinPullTester,2014-07-07T08:20:35Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4463_e832ab7754732af7fd46ad7f16eef973e238c357/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-te",https://github.com/bitcoin/bitcoin/pull/4463#issuecomment-48151811,48151811,
