[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325338554",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#issuecomment-325338554",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11178",
    "id": 325338554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTMzODU1NA==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-28T12:21:55Z",
    "updated_at": "2017-08-28T12:21:55Z",
    "author_association": "MEMBER",
    "body": "@achow101 @roconnor-blockstream you might want to take a look at this :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325338554/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326429479",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#issuecomment-326429479",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11178",
    "id": 326429479,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjQyOTQ3OQ==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-31T21:47:47Z",
    "updated_at": "2017-08-31T21:47:47Z",
    "author_association": "MEMBER",
    "body": "Changed style as requested, thanks @achow101",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326429479/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326727427",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#issuecomment-326727427",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11178",
    "id": 326727427,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjcyNzQyNw==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-02T07:10:08Z",
    "updated_at": "2017-09-02T07:10:08Z",
    "author_association": "MEMBER",
    "body": "Please don't change the style of *existing* code, only the new code... :/",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326727427/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326740892",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#issuecomment-326740892",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11178",
    "id": 326740892,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjc0MDg5Mg==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-02T12:19:53Z",
    "updated_at": "2017-09-02T12:19:53Z",
    "author_association": "MEMBER",
    "body": "@luke-jr the style refactor only touches a tiny amount of code inside that single function, in a similar way to adding braces to existing if-statements when modifying nearby code. I'd argue that this small change to existing code style is worth it for the consistency, especially between try_witness and try_no_witness",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326740892/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327017274",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#issuecomment-327017274",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11178",
    "id": 327017274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzAxNzI3NA==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-04T19:16:41Z",
    "updated_at": "2017-09-04T19:16:41Z",
    "author_association": "MEMBER",
    "body": "utACK 3d16658226cd08911200dbd90db762dc3409e443",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327017274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327330918",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#issuecomment-327330918",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11178",
    "id": 327330918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzMzMDkxOA==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-05T23:25:46Z",
    "updated_at": "2017-09-05T23:25:46Z",
    "author_association": "MEMBER",
    "body": "Rebased",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327330918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352679256",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#issuecomment-352679256",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11178",
    "id": 352679256,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjY3OTI1Ng==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-19T08:54:56Z",
    "updated_at": "2017-12-19T08:54:56Z",
    "author_association": "MEMBER",
    "body": "utACK 6f39ac04375a5f6ef803da59ba0b606123d63142",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352679256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136105956",
    "pull_request_review_id": 59598681,
    "id": 136105956,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjEwNTk1Ng==",
    "diff_hunk": "@@ -108,7 +108,7 @@ bool CheckTxScriptsSanity(const CMutableTransaction& tx)\n     return true;\n }\n \n-bool DecodeHexTx(CMutableTransaction& tx, const std::string& strHexTx, bool fTryNoWitness)\n+bool DecodeHexTx(CMutableTransaction& tx, const std::string& strHexTx, bool fTryNoWitness, bool fTryWitness)",
    "path": "src/core_read.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "6f39ac04375a5f6ef803da59ba0b606123d63142",
    "original_commit_id": "55e2b9c8a13b5f80d03936f4275cd9e3828e4b3f",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`snake_case`",
    "created_at": "2017-08-30T15:35:37Z",
    "updated_at": "2017-09-05T23:25:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136105956",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136105956"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136105956"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136105956/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 111,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136725742",
    "pull_request_review_id": 60304404,
    "id": 136725742,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjcyNTc0Mg==",
    "diff_hunk": "@@ -108,38 +108,44 @@ bool CheckTxScriptsSanity(const CMutableTransaction& tx)\n     return true;\n }\n \n-bool DecodeHexTx(CMutableTransaction& tx, const std::string& strHexTx, bool fTryNoWitness)\n+bool DecodeHexTx(CMutableTransaction& tx, const std::string& hex_tx, bool try_no_witness, bool try_witness)\n {\n-    if (!IsHex(strHexTx)) {\n+    if (!IsHex(hex_tx)) {\n         return false;\n     }\n \n-    std::vector<unsigned char> txData(ParseHex(strHexTx));\n+    std::vector<unsigned char> txData(ParseHex(hex_tx));\n \n-    if (fTryNoWitness) {\n+    if (try_no_witness) {\n         CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS);\n         try {\n             ssData >> tx;\n-            if (ssData.eof() && CheckTxScriptsSanity(tx)) {\n+            if (ssData.eof() && (CheckTxScriptsSanity(tx) || !try_witness)) {\n                 return true;\n             }\n         }\n         catch (const std::exception&) {\n+            if(!try_witness) {\n+                return false;\n+            }\n+\n             // Fall through.\n         }\n     }\n \n-    CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n-    try {\n-        ssData >> tx;\n-        if (!ssData.empty()) {\n+    if (try_witness) {\n+        CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n+        try {\n+            ssData >> tx;\n+            if (!ssData.empty()) {\n+                return false;\n+            }\n+        }\n+        catch (const std::exception&) {\n             return false;\n         }\n     }\n-    catch (const std::exception&) {\n-        return false;\n-    }\n-\n+    \n     return true;",
    "path": "src/core_read.cpp",
    "position": null,
    "original_position": 55,
    "commit_id": "6f39ac04375a5f6ef803da59ba0b606123d63142",
    "original_commit_id": "162763903d5c4d979e2885b011895bbdab37086b",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If you move this `return true;` inside the `if (try_witness)` block, the `if(!try_witness)` inside the `catch` above becomes unnecessary. I think that'd be a cleaner flow.",
    "created_at": "2017-09-03T20:37:58Z",
    "updated_at": "2017-09-05T23:25:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136725742",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136725742"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136725742"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136725742/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 149,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136725760",
    "pull_request_review_id": 60304404,
    "id": 136725760,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjcyNTc2MA==",
    "diff_hunk": "@@ -418,13 +418,15 @@ UniValue createrawtransaction(const JSONRPCRequest& request)\n \n UniValue decoderawtransaction(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1)\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"decoderawtransaction \\\"hexstring\\\"\\n\"\n+            \"decoderawtransaction \\\"hexstring\\\" ( iswitness )\\n\"\n             \"\\nReturn a JSON object representing the serialized, hex-encoded transaction.\\n\"\n \n             \"\\nArguments:\\n\"\n             \"1. \\\"hexstring\\\"      (string, required) The transaction hex string\\n\"\n+            \"2. iswitness          (boolean, optional) Whether the transaction hex is a serialized witness transaction \\n\"",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "6f39ac04375a5f6ef803da59ba0b606123d63142",
    "original_commit_id": "162763903d5c4d979e2885b011895bbdab37086b",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: trailing space",
    "created_at": "2017-09-03T20:39:06Z",
    "updated_at": "2017-09-05T23:25:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136725760",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136725760"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136725760"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136725760/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 428,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728007",
    "pull_request_review_id": 60306351,
    "id": 136728007,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjcyODAwNw==",
    "diff_hunk": "@@ -418,13 +418,15 @@ UniValue createrawtransaction(const JSONRPCRequest& request)\n \n UniValue decoderawtransaction(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1)\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2)\n         throw std::runtime_error(\n-            \"decoderawtransaction \\\"hexstring\\\"\\n\"\n+            \"decoderawtransaction \\\"hexstring\\\" ( iswitness )\\n\"\n             \"\\nReturn a JSON object representing the serialized, hex-encoded transaction.\\n\"\n \n             \"\\nArguments:\\n\"\n             \"1. \\\"hexstring\\\"      (string, required) The transaction hex string\\n\"\n+            \"2. iswitness          (boolean, optional) Whether the transaction hex is a serialized witness transaction \\n\"",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "6f39ac04375a5f6ef803da59ba0b606123d63142",
    "original_commit_id": "162763903d5c4d979e2885b011895bbdab37086b",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed",
    "created_at": "2017-09-03T22:33:34Z",
    "updated_at": "2017-09-05T23:25:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728007",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728007"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728007"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728007/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 428,
    "side": "RIGHT",
    "in_reply_to_id": 136725760
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728009",
    "pull_request_review_id": 60306354,
    "id": 136728009,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjcyODAwOQ==",
    "diff_hunk": "@@ -108,38 +108,44 @@ bool CheckTxScriptsSanity(const CMutableTransaction& tx)\n     return true;\n }\n \n-bool DecodeHexTx(CMutableTransaction& tx, const std::string& strHexTx, bool fTryNoWitness)\n+bool DecodeHexTx(CMutableTransaction& tx, const std::string& hex_tx, bool try_no_witness, bool try_witness)\n {\n-    if (!IsHex(strHexTx)) {\n+    if (!IsHex(hex_tx)) {\n         return false;\n     }\n \n-    std::vector<unsigned char> txData(ParseHex(strHexTx));\n+    std::vector<unsigned char> txData(ParseHex(hex_tx));\n \n-    if (fTryNoWitness) {\n+    if (try_no_witness) {\n         CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS);\n         try {\n             ssData >> tx;\n-            if (ssData.eof() && CheckTxScriptsSanity(tx)) {\n+            if (ssData.eof() && (CheckTxScriptsSanity(tx) || !try_witness)) {\n                 return true;\n             }\n         }\n         catch (const std::exception&) {\n+            if(!try_witness) {\n+                return false;\n+            }\n+\n             // Fall through.\n         }\n     }\n \n-    CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n-    try {\n-        ssData >> tx;\n-        if (!ssData.empty()) {\n+    if (try_witness) {\n+        CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n+        try {\n+            ssData >> tx;\n+            if (!ssData.empty()) {\n+                return false;\n+            }\n+        }\n+        catch (const std::exception&) {\n             return false;\n         }\n     }\n-    catch (const std::exception&) {\n-        return false;\n-    }\n-\n+    \n     return true;",
    "path": "src/core_read.cpp",
    "position": null,
    "original_position": 55,
    "commit_id": "6f39ac04375a5f6ef803da59ba0b606123d63142",
    "original_commit_id": "162763903d5c4d979e2885b011895bbdab37086b",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good idea yep, done",
    "created_at": "2017-09-03T22:33:46Z",
    "updated_at": "2017-09-05T23:25:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728009",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728009"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728009"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728009/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 149,
    "side": "RIGHT",
    "in_reply_to_id": 136725742
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728028",
    "pull_request_review_id": 60306370,
    "id": 136728028,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjcyODAyOA==",
    "diff_hunk": "@@ -129,18 +129,22 @@ bool DecodeHexTx(CMutableTransaction& tx, const std::string& strHexTx, bool fTry\n         }\n     }\n \n-    CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n-    try {\n-        ssData >> tx;\n-        if (!ssData.empty()) {\n+    if (try_witness) {\n+        CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n+        try {\n+            ssData >> tx;\n+            if (!ssData.empty()) {\n+                return false;\n+            }\n+        }\n+        catch (const std::exception&) {",
    "path": "src/core_read.cpp",
    "position": null,
    "original_position": 41,
    "commit_id": "6f39ac04375a5f6ef803da59ba0b606123d63142",
    "original_commit_id": "b0bd002c211617debb093bc57bc0b9d529377f0c",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: `catch` on the same line as `}`.",
    "created_at": "2017-09-03T22:35:16Z",
    "updated_at": "2017-09-05T23:25:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728028",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728028"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728028"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728028/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 140,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728041",
    "pull_request_review_id": 60306370,
    "id": 136728041,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjcyODA0MQ==",
    "diff_hunk": "@@ -129,18 +129,22 @@ bool DecodeHexTx(CMutableTransaction& tx, const std::string& strHexTx, bool fTry\n         }\n     }\n \n-    CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n-    try {\n-        ssData >> tx;\n-        if (!ssData.empty()) {\n+    if (try_witness) {\n+        CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n+        try {\n+            ssData >> tx;\n+            if (!ssData.empty()) {\n+                return false;",
    "path": "src/core_read.cpp",
    "position": null,
    "original_position": 38,
    "commit_id": "6f39ac04375a5f6ef803da59ba0b606123d63142",
    "original_commit_id": "b0bd002c211617debb093bc57bc0b9d529377f0c",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Even shorter: invert this test and make it return true.",
    "created_at": "2017-09-03T22:35:57Z",
    "updated_at": "2017-09-05T23:25:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728041",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728041"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728041"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728041/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 137,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728209",
    "pull_request_review_id": 60306521,
    "id": 136728209,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjcyODIwOQ==",
    "diff_hunk": "@@ -129,18 +129,22 @@ bool DecodeHexTx(CMutableTransaction& tx, const std::string& strHexTx, bool fTry\n         }\n     }\n \n-    CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n-    try {\n-        ssData >> tx;\n-        if (!ssData.empty()) {\n+    if (try_witness) {\n+        CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n+        try {\n+            ssData >> tx;\n+            if (!ssData.empty()) {\n+                return false;",
    "path": "src/core_read.cpp",
    "position": null,
    "original_position": 38,
    "commit_id": "6f39ac04375a5f6ef803da59ba0b606123d63142",
    "original_commit_id": "b0bd002c211617debb093bc57bc0b9d529377f0c",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nice :+1:",
    "created_at": "2017-09-03T22:45:03Z",
    "updated_at": "2017-09-05T23:25:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728209",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728209"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728209"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728209/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 137,
    "side": "RIGHT",
    "in_reply_to_id": 136728041
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728284",
    "pull_request_review_id": 60306592,
    "id": 136728284,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjcyODI4NA==",
    "diff_hunk": "@@ -108,39 +108,39 @@ bool CheckTxScriptsSanity(const CMutableTransaction& tx)\n     return true;\n }\n \n-bool DecodeHexTx(CMutableTransaction& tx, const std::string& strHexTx, bool fTryNoWitness)\n+bool DecodeHexTx(CMutableTransaction& tx, const std::string& hex_tx, bool try_no_witness, bool try_witness)\n {\n-    if (!IsHex(strHexTx)) {\n+    if (!IsHex(hex_tx)) {\n         return false;\n     }\n \n-    std::vector<unsigned char> txData(ParseHex(strHexTx));\n+    std::vector<unsigned char> txData(ParseHex(hex_tx));\n \n-    if (fTryNoWitness) {\n+    if (try_no_witness) {\n         CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS);\n         try {\n             ssData >> tx;\n-            if (ssData.eof() && CheckTxScriptsSanity(tx)) {\n+            if (ssData.eof() && (CheckTxScriptsSanity(tx) || !try_witness)) {\n                 return true;\n             }\n-        }\n-        catch (const std::exception&) {\n+        } catch (const std::exception&) {\n             // Fall through.\n         }\n     }\n \n-    CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n-    try {\n-        ssData >> tx;\n-        if (!ssData.empty()) {\n+    if (try_witness) {\n+        CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n+        try {\n+            ssData >> tx;\n+            if (ssData.empty()) {\n+                return true;\n+            }\n+        } catch (const std::exception&) {\n             return false;",
    "path": "src/core_read.cpp",
    "position": null,
    "original_position": 43,
    "commit_id": "6f39ac04375a5f6ef803da59ba0b606123d63142",
    "original_commit_id": "946ba02507663263b7ed3855f43af45c771b1520",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "And now this line is unnecessary as well :)",
    "created_at": "2017-09-03T22:50:19Z",
    "updated_at": "2017-09-05T23:25:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728284",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728284"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728284"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728284/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 139,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728369",
    "pull_request_review_id": 60306679,
    "id": 136728369,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjcyODM2OQ==",
    "diff_hunk": "@@ -108,39 +108,39 @@ bool CheckTxScriptsSanity(const CMutableTransaction& tx)\n     return true;\n }\n \n-bool DecodeHexTx(CMutableTransaction& tx, const std::string& strHexTx, bool fTryNoWitness)\n+bool DecodeHexTx(CMutableTransaction& tx, const std::string& hex_tx, bool try_no_witness, bool try_witness)\n {\n-    if (!IsHex(strHexTx)) {\n+    if (!IsHex(hex_tx)) {\n         return false;\n     }\n \n-    std::vector<unsigned char> txData(ParseHex(strHexTx));\n+    std::vector<unsigned char> txData(ParseHex(hex_tx));\n \n-    if (fTryNoWitness) {\n+    if (try_no_witness) {\n         CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS);\n         try {\n             ssData >> tx;\n-            if (ssData.eof() && CheckTxScriptsSanity(tx)) {\n+            if (ssData.eof() && (CheckTxScriptsSanity(tx) || !try_witness)) {\n                 return true;\n             }\n-        }\n-        catch (const std::exception&) {\n+        } catch (const std::exception&) {\n             // Fall through.\n         }\n     }\n \n-    CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n-    try {\n-        ssData >> tx;\n-        if (!ssData.empty()) {\n+    if (try_witness) {\n+        CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n+        try {\n+            ssData >> tx;\n+            if (ssData.empty()) {\n+                return true;\n+            }\n+        } catch (const std::exception&) {\n             return false;",
    "path": "src/core_read.cpp",
    "position": null,
    "original_position": 43,
    "commit_id": "6f39ac04375a5f6ef803da59ba0b606123d63142",
    "original_commit_id": "946ba02507663263b7ed3855f43af45c771b1520",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Heh, changed. Next you'll want me to move the try-catch outside the if statements so there only needs to be one of them ;) Thanks for reviewing!",
    "created_at": "2017-09-03T22:54:08Z",
    "updated_at": "2017-09-05T23:25:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728369",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728369"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728369"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728369/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 139,
    "side": "RIGHT",
    "in_reply_to_id": 136728284
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728572",
    "pull_request_review_id": 60306919,
    "id": 136728572,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjcyODU3Mg==",
    "diff_hunk": "@@ -108,39 +108,39 @@ bool CheckTxScriptsSanity(const CMutableTransaction& tx)\n     return true;\n }\n \n-bool DecodeHexTx(CMutableTransaction& tx, const std::string& strHexTx, bool fTryNoWitness)\n+bool DecodeHexTx(CMutableTransaction& tx, const std::string& hex_tx, bool try_no_witness, bool try_witness)\n {\n-    if (!IsHex(strHexTx)) {\n+    if (!IsHex(hex_tx)) {\n         return false;\n     }\n \n-    std::vector<unsigned char> txData(ParseHex(strHexTx));\n+    std::vector<unsigned char> txData(ParseHex(hex_tx));\n \n-    if (fTryNoWitness) {\n+    if (try_no_witness) {\n         CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS);\n         try {\n             ssData >> tx;\n-            if (ssData.eof() && CheckTxScriptsSanity(tx)) {\n+            if (ssData.eof() && (CheckTxScriptsSanity(tx) || !try_witness)) {\n                 return true;\n             }\n-        }\n-        catch (const std::exception&) {\n+        } catch (const std::exception&) {\n             // Fall through.\n         }\n     }\n \n-    CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n-    try {\n-        ssData >> tx;\n-        if (!ssData.empty()) {\n+    if (try_witness) {\n+        CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION);\n+        try {\n+            ssData >> tx;\n+            if (ssData.empty()) {\n+                return true;\n+            }\n+        } catch (const std::exception&) {\n             return false;",
    "path": "src/core_read.cpp",
    "position": null,
    "original_position": 43,
    "commit_id": "6f39ac04375a5f6ef803da59ba0b606123d63142",
    "original_commit_id": "946ba02507663263b7ed3855f43af45c771b1520",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nope, that wouldn't actually work. If both flags were true, and the first attempt to deserialize throws, you still want to try the second.",
    "created_at": "2017-09-03T23:06:52Z",
    "updated_at": "2017-09-05T23:25:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728572",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728572"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136728572"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136728572/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 139,
    "side": "RIGHT",
    "in_reply_to_id": 136728284
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136729560",
    "pull_request_review_id": 60308033,
    "id": 136729560,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjcyOTU2MA==",
    "diff_hunk": "@@ -108,39 +108,39 @@ bool CheckTxScriptsSanity(const CMutableTransaction& tx)\n     return true;\n }\n \n-bool DecodeHexTx(CMutableTransaction& tx, const std::string& strHexTx, bool fTryNoWitness)\n+bool DecodeHexTx(CMutableTransaction& tx, const std::string& hex_tx, bool try_no_witness, bool try_witness)\n {\n-    if (!IsHex(strHexTx)) {\n+    if (!IsHex(hex_tx)) {\n         return false;\n     }\n \n-    std::vector<unsigned char> txData(ParseHex(strHexTx));\n+    std::vector<unsigned char> txData(ParseHex(hex_tx));\n \n-    if (fTryNoWitness) {\n+    if (try_no_witness) {\n         CDataStream ssData(txData, SER_NETWORK, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS);\n         try {\n             ssData >> tx;\n-            if (ssData.eof() && CheckTxScriptsSanity(tx)) {\n+            if (ssData.eof() && (CheckTxScriptsSanity(tx) || !try_witness)) {",
    "path": "src/core_read.cpp",
    "position": null,
    "original_position": 21,
    "commit_id": "6f39ac04375a5f6ef803da59ba0b606123d63142",
    "original_commit_id": "ffa5949533ef445e1060062ece265f53d0230f53",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "One final tiny nit: swap the arguments, as checking a boolean is much faster than CheckTxScriptsSanity.",
    "created_at": "2017-09-03T23:58:41Z",
    "updated_at": "2017-09-05T23:25:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136729560",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136729560"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11178#discussion_r136729560"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11178"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136729560/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 123,
    "side": "RIGHT"
  }
]