TheBlueMatt,2017-07-07T00:07:36Z,"Note that the two generic ""Error initializing block database"" strings really should be changed, but as we are already in string freeze for 0.15, they will have to stay as-is for now :(.",https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-313552143,313552143,
TheBlueMatt,2017-07-07T01:33:28Z,More explicitly fixed the bug that I accidentally fixed by being more explicit - RewindBlockIndex MUST be called even if we start with -reindex-chainstate.,https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-313563496,313563496,
TheBlueMatt,2017-07-10T17:45:58Z,This needs an 0.15 tag as it fixes some bugs.,https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-314181608,314181608,
TheBlueMatt,2017-07-16T00:05:32Z,Rebased and added a fix for the issue @sipa pointed out at https://github.com/bitcoin/bitcoin/pull/10770#issuecomment-315558931,https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-315571715,315571715,
sipa,2017-07-16T02:22:48Z,"@TheBlueMatt When starting with `-reindex`, and then restart before completing without `-reindex`, it seems to start over from scratch.",https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-315576849,315576849,
sipa,2017-07-17T05:18:45Z,"ACK \n\n@TheBlueMatt I retract my comment, everything seems to be working like before.\n",https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-315669990,315669990,
sipa,2017-07-17T17:48:12Z,"I'd like to see this in 0.15 as it at least turns an assert into an error message, in case your chainstate is out of sync with the block chain.",https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-315828971,315828971,
TheBlueMatt,2017-07-17T17:49:22Z,"This (or some subset of it) absolutely has to land for 15, it fixes several regressions currently on master, but its a bugfix, so doesn't need to land today (but isnt small, so should go sooner rather than later).",https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-315829317,315829317,
theuni,2017-07-19T18:10:32Z,"I haven't finished reviewing, but this also fixes a crash when using an invalid -wallet argument. For example: ```./bitcoind -wallet='with spaces'```, which crashes for me on master.",https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-316470855,316470855,
morcos,2017-07-20T18:33:24Z,"utACK c93db42\n\nStrongly advocate for merging this in the near term.\nAlthough I have not gone through testing all sequences, I think this logic is far clearer and more straight forward than the existing logic and there are known bugs in the existing startup sequence.\nWith all the other changes to databases recently (rewinding, replaying, reindexing), I think it makes sense to have as much t",https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-316791726,316791726,
promag,2017-07-21T16:03:56Z,"In current master running `bitcoind -regtest '-wallet=foo%.dat'` gives:\n```\n./src/bitcoind -regtest '-wallet=foo%.dat'\nError: Invalid characters in -wallet filename\nSegmentation fault (core dumped)\n```\nWith this branch gives\n```\nError: Invalid characters in -wallet filename\nbitcoind: scheduler.cpp:200: void SingleThreadedSchedulerClient::EmptyQueue(): Assertion `!m_pscheduler->Ar",https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-317041663,317041663,
TheBlueMatt,2017-07-23T17:55:30Z,"Hmm, I went ahead and added the fix for @promag's race here, feel free to tell me it should be in a different PR. (@theuni note that it was a race, which may explain why you didnt see it).",https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-317270239,317270239,
TheBlueMatt,2017-07-23T22:11:10Z,"@sipa hmm, re: restarting-mid-reindex: your original comment that it was broken was more correct than your later retraction. Fixed and cleaned that stuff up more with more comments :).",https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-317285962,317285962,
promag,2017-07-23T23:08:22Z,@TheBlueMatt if it's not related with your refactor then IMO a new PR would be best.,https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-317288962,317288962,
TheBlueMatt,2017-07-24T18:58:45Z,"OK, removed the top two commits so this is just what it was that got ACKs. The two commits from the top are in #10919, which should likely also be taken for 15.",https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-317521420,317521420,
sipa,2017-07-25T01:42:27Z,reutACK c93db429f909e75fbeacd2419fb8434350e3b674,https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-317603655,317603655,
laanwj,2017-07-27T11:19:21Z,utACK apart from error message nits,https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-318333958,318333958,
TheBlueMatt,2017-07-27T19:03:20Z,Fixed error printings in LoadGenesisBlock.,https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-318456619,318456619,
morcos,2017-07-28T02:38:31Z,"re-utACK c0025d0\n",https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-318540606,318540606,
laanwj,2017-08-01T10:50:49Z,"I'm going to merge this now - sorry @sdaftuar, we should fix your minor nits later, but we have to make some progress with merging for 0.15",https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-319337111,319337111,
sdaftuar,2017-08-01T17:22:50Z,"@laanwj Agreed, I don't think those nits should have held this up.",https://github.com/bitcoin/bitcoin/pull/10758#issuecomment-319438265,319438265,
sipa,2017-07-16T00:42:53Z,I have difficulty parsing this sentence. Can you split it up?,https://github.com/bitcoin/bitcoin/pull/10758#discussion_r127596033,127596033,src/validation.cpp
TheBlueMatt,2017-07-16T22:44:06Z,"OK, rewrote the comment.",https://github.com/bitcoin/bitcoin/pull/10758#discussion_r127618896,127618896,src/validation.cpp
laanwj,2017-07-27T10:44:06Z,"This error is no longer correct, this is ""failed to load genesis block"" now I guess?",https://github.com/bitcoin/bitcoin/pull/10758#discussion_r129809214,129809214,src/validation.cpp
laanwj,2017-07-27T10:44:57Z,"Would be better to use `error(""%s: ..."", __func__)` here as in other places, but in any case, the function name is wrong now.",https://github.com/bitcoin/bitcoin/pull/10758#discussion_r129809348,129809348,src/validation.cpp
sdaftuar,2017-07-31T15:38:01Z,The string on the next line ought to be changed to reflect the new function name.,https://github.com/bitcoin/bitcoin/pull/10758#discussion_r130388261,130388261,src/test/test_bitcoin.cpp
sdaftuar,2017-07-31T17:28:10Z,The comment at line 3900 now seems outdated; perhaps it makes more sense to move it to `init.cpp:1422`?,https://github.com/bitcoin/bitcoin/pull/10758#discussion_r130407601,130407601,src/validation.cpp
sdaftuar,2017-07-31T17:39:50Z,style nit: curly braces for this `if`,https://github.com/bitcoin/bitcoin/pull/10758#discussion_r130410374,130410374,src/validation.cpp
sdaftuar,2017-07-31T18:04:50Z,"style nit: perhaps add the curly braces here, while you're at it",https://github.com/bitcoin/bitcoin/pull/10758#discussion_r130417278,130417278,src/validation.cpp
sdaftuar,2017-07-31T18:25:25Z,"""in the reindex completes"" -> ""after the reindex completes""?",https://github.com/bitcoin/bitcoin/pull/10758#discussion_r130423113,130423113,src/init.cpp
