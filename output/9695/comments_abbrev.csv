TheBlueMatt,2017-02-06T17:58:58Z,"Hmm, this actually needs a lot more to make copyStats non-racy, and I think we really need to do them - we're copying std::strings concurrently right now.",https://github.com/bitcoin/bitcoin/pull/9695#issuecomment-277761188,277761188,
theuni,2017-02-06T23:54:59Z,"Pushed a few more at @TheBlueMatt's request. This is essentially his PR now, just re-using this one rather than opening another.\n\nImplied ACK, btw.",https://github.com/bitcoin/bitcoin/pull/9695#issuecomment-277853546,277853546,
TheBlueMatt,2017-02-07T00:30:19Z,The above set of commits fixes all the races I'm aware of with the exception of CNode::addrLocal and CNode::addrName. Both of which I proposed fixing in a separate PR since my preferred fix is a (tiny bit) more involved (just putting accessors around them).,https://github.com/bitcoin/bitcoin/pull/9695#issuecomment-277860405,277860405,
theuni,2017-02-10T02:13:20Z,"#9695 is a superset of this, and those who have acked here have also acked there. Closing in favor.",https://github.com/bitcoin/bitcoin/pull/9695#issuecomment-278838422,278838422,
dcousens,2017-02-10T03:44:52Z,"@theuni you just self-referenced this issue?\n\nDid you mean https://github.com/bitcoin/bitcoin/pull/9708?",https://github.com/bitcoin/bitcoin/pull/9695#issuecomment-278850223,278850223,
theuni,2017-02-10T03:57:21Z,"@dcousens haha, let's say I was trying to bring github down with a recursive link attack :p\n\nBusted c/p. Yes, 9708. Thanks.",https://github.com/bitcoin/bitcoin/pull/9695#issuecomment-278851587,278851587,
sipa,2017-02-06T08:21:12Z,Did this move?,https://github.com/bitcoin/bitcoin/pull/9695#discussion_r99534095,99534095,src/net.cpp
sipa,2017-02-06T08:23:27Z,Did you mean to protect the entire receive loop below with this lock?,https://github.com/bitcoin/bitcoin/pull/9695#discussion_r99534362,99534362,src/net.cpp
theuni,2017-02-06T09:05:55Z,It was redundant. It's additionally set in CNode's ctor.,https://github.com/bitcoin/bitcoin/pull/9695#discussion_r99540293,99540293,src/net.cpp
theuni,2017-02-06T09:09:32Z,Just trying to use a big hammer here for 0.14. The lock only contends with copyStats.,https://github.com/bitcoin/bitcoin/pull/9695#discussion_r99540789,99540789,src/net.cpp
