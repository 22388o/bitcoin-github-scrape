Saviour1001,2021-08-19 14:50:26,Tested ACK <code>[f8d8eb5](https://github.com/bitcoin/bitcoin/pull/22568/commits/f8d8eb5fdaa93b6e5b77fd901b94927dc3a0473e)</code>,https://github.com/bitcoin/bitcoin/pull/22568#issuecomment-901980558,901980558,
amitiuttarwar,2021-08-16 05:35:34,why did you opt for having peer_ids be an array when no call sites pass in >1 id? ,https://github.com/bitcoin/bitcoin/pull/22568#discussion_r689249399,689249399,test/functional/p2p_addrfetch.py
amitiuttarwar,2021-08-16 05:38:17,"I don't think this line is adding much value since `wait_for_disconnect` would fail if the peer was still connected, but if you want to keep it you could consider updating to:\n```suggestion\n        assert_equal(len(node.getpeerinfo()), 0)\n```\n\nsince that's the only check that would run with an empty array for `peer_ids`",https://github.com/bitcoin/bitcoin/pull/22568#discussion_r689250194,689250194,test/functional/p2p_addrfetch.py
jonatack,2021-08-17 10:19:04,"Right, the idea was that if a caller wants to pass more than one peer id, the helper function and all the existing callers don't need to be refactored.",https://github.com/bitcoin/bitcoin/pull/22568#discussion_r690233851,690233851,test/functional/p2p_addrfetch.py
jonatack,2021-08-17 10:20:16,The idea was for it to work with only a change to the value of the `peer_ids` argument if the number of peers changes.,https://github.com/bitcoin/bitcoin/pull/22568#discussion_r690234684,690234684,test/functional/p2p_addrfetch.py
jonatack,2021-08-17 10:21:09,(Thanks for having a look!),https://github.com/bitcoin/bitcoin/pull/22568#discussion_r690235249,690235249,test/functional/p2p_addrfetch.py
amitiuttarwar,2021-08-17 15:56:46,"hm, since this is a helper within a specific test, this feels like a premature optimization to me- I would prefer simplifying the logic & increasing readability of the test. ",https://github.com/bitcoin/bitcoin/pull/22568#discussion_r690508132,690508132,test/functional/p2p_addrfetch.py
amitiuttarwar,2021-08-17 15:57:43,"same as above (https://github.com/bitcoin/bitcoin/pull/22568#discussion_r690508132), I'd prefer if this was the simplest version that captured current expectations. ",https://github.com/bitcoin/bitcoin/pull/22568#discussion_r690508960,690508960,test/functional/p2p_addrfetch.py
jonatack,2021-08-17 16:05:13,"If it decreases the cost of future change at essentially no cost, it's good design. Leaving as it is and resolving.",https://github.com/bitcoin/bitcoin/pull/22568#discussion_r690515260,690515260,test/functional/p2p_addrfetch.py
jonatack,2021-08-17 16:09:25,"For the essentially the same amount of code, this suggestion could increase the cost of future change (and is also less symmetric with the other changes) so it doesn't seem worth updating for. Prefer to leave as-is.",https://github.com/bitcoin/bitcoin/pull/22568#discussion_r690518508,690518508,test/functional/p2p_addrfetch.py
