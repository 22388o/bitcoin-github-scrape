promag,2018-10-18T00:29:39Z,"Concept ACK.\n\n@practicalswift is there a compiler flag to detect these?",https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-430834535,430834535,
practicalswift,2018-10-19T06:48:50Z,"@promag Perhaps surprisingly clang and GCC lack such a warning AFAIK, but the Intel C++ Compiler has it.\n\nAlso most C++ linters support flagging single parameter constructors not declared `explicit`.",https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-431262365,431262365,
DrahtBot,2018-10-20T09:52:42Z,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#13728](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/13728.html) (lint: Run the CI lint stage on mac by Empac",https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-431566363,431566363,
MarcoFalke,2018-10-20T14:23:31Z,"See #13769, #11112, #10969, ...\n\nAt this point I'd prefer a linter that runs in travis than having a fixup pull request every couple of weeks. I think there are some intentional cases of not using explicit, so those could be added to a whitelist.",https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-431586170,431586170,
practicalswift,2018-11-07T16:35:29Z,@MarcoFalke Good point! I've now added a Travis check that will catch newly introduced single-argument constructors not declare `explicit`. Please re-review :-),https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-436688440,436688440,
practicalswift,2018-11-12T16:31:30Z,"@promag Would you mind reviewing the updated version which contains the automatic Travis checking for `explicit`?\n\nIf merged we'll never have to think about `explicit` ever again :-)",https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-437945119,437945119,
Empact,2018-11-22T18:11:17Z,"utACK c191011 - could squash the first five commits, and ""all"" is not strictly accurate given the linter exceptions.",https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-441097795,441097795,
practicalswift,2018-11-22T23:16:53Z,@Empact Good points! Now addressed. Please re-review :-),https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-441132620,441132620,
practicalswift,2018-12-12T08:47:01Z,Rebased!,https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-446508246,446508246,
practicalswift,2018-12-13T09:23:43Z,Rebased!,https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-446898804,446898804,
practicalswift,2018-12-14T15:42:10Z,@MarcoFalke Thanks for reviewing. Feedback addressed: 1.) this PR is now test only and 2.) added another more expensive lint check after the two stages as a third stage. Please re-review :-),https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-447362847,447362847,
promag,2018-12-14T16:12:44Z,"> @promag Perhaps surprisingly clang and GCC lack such a warning AFAIK, but the Intel C++ Compiler has it.\n\nCould we add a stage to build with it?",https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-447372403,447372403,
practicalswift,2018-12-14T17:13:06Z,@promag I'm not sure the Intel C++ Compiler license would allow that. On the other hand the problem is already solved using `cppcheck` in this PR :-),https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-447390384,447390384,
MarcoFalke,2018-12-14T17:57:45Z,utACK f9d10fd2315dd73c8f1c8e6e18c041ebdffdd463,https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-447403162,447403162,
luke-jr,2018-12-20T04:41:34Z,Am I the only one who finds it annoying when linters fail on non-bugs?,https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-448867251,448867251,
practicalswift,2018-12-20T08:13:16Z,"@luke-jr In this specific case the alternative and the current situation is that a human reviewer with probability ~100 % will point out that the PR author forgot to add the `explicit` specifier. The PR author will then add it with probability ~100 % before PR merge since `explicit` is the reasonable post-C++11 default which we explicitly recommend in the developer notes:\n\n> **By default, decl",https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-448910518,448910518,
DrahtBot,2019-01-03T16:42:34Z,<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase,https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-451201426,451201426,
practicalswift,2019-01-04T19:27:40Z,"Rebased! :-)\n\n@MarcoFalke @promag Would you mind re-reviewing?",https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-451543548,451543548,
practicalswift,2019-01-05T09:09:12Z,@Empact Thanks for reviewing. Feedback addressed. Please re-review :-),https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-451639928,451639928,
practicalswift,2019-01-05T15:52:32Z,@fanquake Thanks for the review and feedback. Feedback addressed. Please re-review :-),https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-451666467,451666467,
Empact,2019-01-06T03:22:09Z,re-utACK 6907678,https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-451711864,451711864,
practicalswift,2019-01-19T17:16:15Z,@MarcoFalke @promag Would you mind re-reviewing? :-),https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-455797922,455797922,
practicalswift,2019-01-25T09:42:36Z,"@MarcoFalke Updated. Added suppression `src/support/allocators/secure.h:.* style: Struct 'secure_allocator < RNGState >' has a constructor with 1 argument that is not explicit.`.\n\nPlease re-review :-)  I think we're ready for merge :-)",https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-457514783,457514783,
practicalswift,2019-02-08T09:30:49Z,"Rebased and updated. @MarcoFalke @promag @Empact, would you mind reviewing? :-)",https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-461742425,461742425,
practicalswift,2019-03-06T21:16:09Z,@MarcoFalke Can this one get a release milestone? :-),https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-470279855,470279855,
MarcoFalke,2019-03-06T21:30:34Z,"This is controversial in its current form. See https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-448867251\n\nI guess I'd be ok with it if it would never fail (and only print the warnings), like the spell-checker.",https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-470284712,470284712,
practicalswift,2019-03-06T21:56:09Z,@MarcoFalke Updated. The updated version never fails: it only prints the warnings -- like the spell-checker. Looks good? :-),https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-470293285,470293285,
MarcoFalke,2019-03-06T23:18:20Z,utACK 2eb79c3601bfb4bff140693b3225aa4779d73390,https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-470316666,470316666,
Empact,2019-03-13T00:17:00Z,utACK https://github.com/bitcoin/bitcoin/pull/14505/commits/2eb79c3601bfb4bff140693b3225aa4779d73390,https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-472230552,472230552,
practicalswift,2019-03-20T13:46:33Z,"Fixed typo identified by @Empact and squashed.\n\n@Empact @MarcoFalke @promag Would you mind re-reviewing? :-)",https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-474835895,474835895,
laanwj,2019-07-08T18:22:50Z,ACK c4606b84329d760d7cee144bebe05807857edaae,https://github.com/bitcoin/bitcoin/pull/14505#issuecomment-509337563,509337563,
MarcoFalke,2018-12-12T19:04:55Z,Why are some of our own classes suppressed as warnings and others fixed up? Seems arbitrary to me.,https://github.com/bitcoin/bitcoin/pull/14505#discussion_r241145461,241145461,test/lint/lint-cppcheck.sh
practicalswift,2018-12-13T09:21:51Z,"I excluded the constructors that appeared to be intentionally non-`explicit` or where switching to `explicit` seemed non-trivial.\n\nThe remaining cases are:\n\n```\nCTransaction(CMutableTransaction &&tx)\nCTransaction(const CMutableTransaction &tx)\nUniValueType(UniValue::VType _type)\narith_uint256(const base_uint<256>& b)\narith_uint256(uint64_t b)\nbase_uint(uint64_t b)\nconst_itera",https://github.com/bitcoin/bitcoin/pull/14505#discussion_r241323580,241323580,test/lint/lint-cppcheck.sh
MarcoFalke,2018-12-13T20:18:03Z,"Makes sense. Though, I'd prefer if this was a test only change (adding all the suppressions) and then go out and fixup violations in the code in another pull request(s), since both tasks are slightly different when it comes to review process.",https://github.com/bitcoin/bitcoin/pull/14505#discussion_r241547613,241547613,test/lint/lint-cppcheck.sh
MarcoFalke,2018-12-13T20:19:37Z,Looks like installing and running this takes some time. Could add another more expensive lint check after the two stages as a third stage? (Feel free to ignore my suggestion),https://github.com/bitcoin/bitcoin/pull/14505#discussion_r241548078,241548078,test/lint/lint-cppcheck.sh
Empact,2019-01-05T02:37:52Z,nit: somewhat prefer the visual separation of whitespace,https://github.com/bitcoin/bitcoin/pull/14505#discussion_r245463597,245463597,.travis.yml
Empact,2019-01-05T02:38:17Z,"Should this be 3.4, as with `lint`?",https://github.com/bitcoin/bitcoin/pull/14505#discussion_r245463604,245463604,.travis.yml
fanquake,2019-01-05T09:14:31Z,I assume we can use [Cppcheck 1.86](https://sourceforge.net/p/cppcheck/news/2018/12/cppcheck-186/)? Might as well update to the newest version before merging.,https://github.com/bitcoin/bitcoin/pull/14505#discussion_r245472213,245472213,.travis/extended_lint_04_install.sh
fanquake,2019-01-05T09:15:29Z,"Can just use `2019` here, and in all the other new files.",https://github.com/bitcoin/bitcoin/pull/14505#discussion_r245472238,245472238,.travis/extended_lint_04_install.sh
fanquake,2019-01-05T09:15:43Z,Missing copyright header.,https://github.com/bitcoin/bitcoin/pull/14505#discussion_r245472240,245472240,test/lint/extended-lint-cppcheck.sh
fanquake,2019-01-05T09:21:01Z,"`nproc` isn't available on macOS, although if this is script is just meant for Travis I guess it doesn't matter too much.\n\n`sysctl -n hw.physicalcpu` is a macOS `nproc` equivalent.",https://github.com/bitcoin/bitcoin/pull/14505#discussion_r245472348,245472348,test/lint/extended-lint-cppcheck.sh
practicalswift,2019-01-05T15:26:07Z,Good point: `nproc` is part of `coreutils`. I've now switched to `getconf _NPROCESSORS_ONLN` which is the most portable way to get the number of processors AFAIK.,https://github.com/bitcoin/bitcoin/pull/14505#discussion_r245480434,245480434,test/lint/extended-lint-cppcheck.sh
MarcoFalke,2019-01-25T01:52:03Z,this is explicit in master?,https://github.com/bitcoin/bitcoin/pull/14505#discussion_r250843357,250843357,test/lint/extended-lint-cppcheck.sh
practicalswift,2019-01-25T09:37:44Z,"I'm afraid that suppressions is still needed in `master`:\n\n```\n$ test/lint/extended-lint-cppcheck.sh\nsrc/primitives/transaction.h:302: style: Class 'CTransaction' has a constructor with 1 argument that is not explicit.\n\nAdvice not applicable in this specific case? Add an exception by updating\nIGNORED_WARNINGS in test/lint/extended-lint-cppcheck.sh\n$ head -302 src/primitives/transac",https://github.com/bitcoin/bitcoin/pull/14505#discussion_r250919593,250919593,test/lint/extended-lint-cppcheck.sh
MarcoFalke,2019-03-06T21:31:03Z,Needs rebase (and update),https://github.com/bitcoin/bitcoin/pull/14505#discussion_r263144224,263144224,.travis.yml
Empact,2019-03-13T00:03:37Z,nit: `lint-` -> `extended-lint-`,https://github.com/bitcoin/bitcoin/pull/14505#discussion_r264931641,264931641,test/lint/extended-lint-all.sh
MarcoFalke,2019-07-08T21:16:40Z,"It could be enabled, but guarded by a `allow_failures` travis flag?",https://github.com/bitcoin/bitcoin/pull/14505#discussion_r301303605,301303605,test/lint/extended-lint-cppcheck.sh
