[
  {
    "sha": "ed0a6f1d0eee969b052d27cabf09841865418fff",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZDBhNmYxZDBlZWU5NjliMDUyZDI3Y2FiZjA5ODQxODY1NDE4ZmZm",
    "commit": {
      "author": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-09-25T22:39:28Z"
      },
      "committer": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-09-25T22:39:28Z"
      },
      "message": "Fixed setaccount accepting foreign address\n\nFixed issue https://github.com/bitcoin/bitcoin/issues/4209 where using setaccount with a foreign address causes the address to be added to your receiving addresses.",
      "tree": {
        "sha": "6b32e86f9a26304177cf661718441af9cfe0c8f1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6b32e86f9a26304177cf661718441af9cfe0c8f1"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed0a6f1d0eee969b052d27cabf09841865418fff",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ed0a6f1d0eee969b052d27cabf09841865418fff",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ed0a6f1d0eee969b052d27cabf09841865418fff",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ed0a6f1d0eee969b052d27cabf09841865418fff/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "4b2b78b9f2bd339cc4505996258e00c186e91792",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4b2b78b9f2bd339cc4505996258e00c186e91792",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4b2b78b9f2bd339cc4505996258e00c186e91792"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 4,
      "deletions": 2
    },
    "files": [
      {
        "sha": "57a684094a907978e3a7a219bd23ba175db07bb8",
        "filename": "src/rpcwallet.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 2,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ed0a6f1d0eee969b052d27cabf09841865418fff/src/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ed0a6f1d0eee969b052d27cabf09841865418fff/src/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcwallet.cpp?ref=ed0a6f1d0eee969b052d27cabf09841865418fff",
        "patch": "@@ -238,8 +238,10 @@ Value setaccount(const Array& params, bool fHelp)\n             GetAccountAddress(strOldAccount, true);\n     }\n \n-    pwalletMain->SetAddressBook(address.Get(), strAccount, \"receive\");\n-\n+    // Only add the account if the address if yours.\n+    if (IsMine(*pwalletMain, address.Get())\n+        pwalletMain->SetAddressBook(address.Get(), strAccount, \"receive\");\n+    \n     return Value::null;\n }\n "
      }
    ]
  },
  {
    "sha": "91f0339d3e321e83db6810462f263479c0ab179e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5MWYwMzM5ZDNlMzIxZTgzZGI2ODEwNDYyZjI2MzQ3OWMwYWIxNzll",
    "commit": {
      "author": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-09-25T22:53:02Z"
      },
      "committer": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-09-25T22:53:02Z"
      },
      "message": "Fixed a parenthesis error\n\nI forgot a parenthesis at the end of my if statement, which caused the code to fail.",
      "tree": {
        "sha": "6111ab950f02ba71a78826fe80ed4997fe106ccc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6111ab950f02ba71a78826fe80ed4997fe106ccc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/91f0339d3e321e83db6810462f263479c0ab179e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/91f0339d3e321e83db6810462f263479c0ab179e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/91f0339d3e321e83db6810462f263479c0ab179e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/91f0339d3e321e83db6810462f263479c0ab179e/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "ed0a6f1d0eee969b052d27cabf09841865418fff",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ed0a6f1d0eee969b052d27cabf09841865418fff",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ed0a6f1d0eee969b052d27cabf09841865418fff"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "22d7d7316f9c53c4d88a1a46aeefabac44a72bc3",
        "filename": "src/rpcwallet.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/91f0339d3e321e83db6810462f263479c0ab179e/src/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/91f0339d3e321e83db6810462f263479c0ab179e/src/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcwallet.cpp?ref=91f0339d3e321e83db6810462f263479c0ab179e",
        "patch": "@@ -239,7 +239,7 @@ Value setaccount(const Array& params, bool fHelp)\n     }\n \n     // Only add the account if the address if yours.\n-    if (IsMine(*pwalletMain, address.Get())\n+    if (IsMine(*pwalletMain, address.Get()))\n         pwalletMain->SetAddressBook(address.Get(), strAccount, \"receive\");\n     \n     return Value::null;"
      }
    ]
  },
  {
    "sha": "42f79d681be6b61f2c11216f4b014b391511ecf6",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0MmY3OWQ2ODFiZTZiNjFmMmMxMTIxNmY0YjAxNGIzOTE1MTFlY2Y2",
    "commit": {
      "author": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-09-26T13:55:04Z"
      },
      "committer": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-09-26T13:55:04Z"
      },
      "message": "Reworked ownership detection, added error message\n\nIncluded the 'current unused key' detection in the ownership check of the address, and added a throw error if the address is foreign.",
      "tree": {
        "sha": "493fcfeff950d4370f00f7ef6ad9ccc3d1b952e9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/493fcfeff950d4370f00f7ef6ad9ccc3d1b952e9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/42f79d681be6b61f2c11216f4b014b391511ecf6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/42f79d681be6b61f2c11216f4b014b391511ecf6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/42f79d681be6b61f2c11216f4b014b391511ecf6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/42f79d681be6b61f2c11216f4b014b391511ecf6/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "91f0339d3e321e83db6810462f263479c0ab179e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/91f0339d3e321e83db6810462f263479c0ab179e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/91f0339d3e321e83db6810462f263479c0ab179e"
      }
    ],
    "stats": {
      "total": 21,
      "additions": 12,
      "deletions": 9
    },
    "files": [
      {
        "sha": "511c9b325e1cffa62d571ce914d8c1c464c949aa",
        "filename": "src/rpcwallet.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 9,
        "changes": 21,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/42f79d681be6b61f2c11216f4b014b391511ecf6/src/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/42f79d681be6b61f2c11216f4b014b391511ecf6/src/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcwallet.cpp?ref=42f79d681be6b61f2c11216f4b014b391511ecf6",
        "patch": "@@ -230,18 +230,21 @@ Value setaccount(const Array& params, bool fHelp)\n     if (params.size() > 1)\n         strAccount = AccountFromValue(params[1]);\n \n-    // Detect when changing the account of an address that is the 'unused current key' of another account:\n-    if (pwalletMain->mapAddressBook.count(address.Get()))\n-    {\n-        string strOldAccount = pwalletMain->mapAddressBook[address.Get()].name;\n-        if (address == GetAccountAddress(strOldAccount))\n-            GetAccountAddress(strOldAccount, true);\n-    }\n-\n     // Only add the account if the address if yours.\n     if (IsMine(*pwalletMain, address.Get()))\n+    {\n+        // Detect when changing the account of an address that is the 'unused current key' of another account:\n+        if (pwalletMain->mapAddressBook.count(address.Get()))\n+        {\n+            string strOldAccount = pwalletMain->mapAddressBook[address.Get()].name;\n+            if (address == GetAccountAddress(strOldAccount))\n+                GetAccountAddress(strOldAccount, true);\n+        }\n         pwalletMain->SetAddressBook(address.Get(), strAccount, \"receive\");\n-    \n+    }\n+    else\n+        throw JSONRPCError(RPC_MISC_ERROR, \"Foreign Bitcoin address\");\n+\n     return Value::null;\n }\n "
      }
    ]
  },
  {
    "sha": "b19f1766ab438846cebcaf1d5f6ed2ead9271b30",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiMTlmMTc2NmFiNDM4ODQ2Y2ViY2FmMWQ1ZjZlZDJlYWQ5MjcxYjMw",
    "commit": {
      "author": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-09-26T14:20:47Z"
      },
      "committer": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-09-26T14:20:47Z"
      },
      "message": "Changed a test to THROW\n\nTrying out an idea which should fix a failing test with the RPC command setaccount. I am not so sure about these tests, so if this is no good just let me know.",
      "tree": {
        "sha": "f66bbe356ce03dd5a814f4f16a5dcdbb6dd0d15d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f66bbe356ce03dd5a814f4f16a5dcdbb6dd0d15d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b19f1766ab438846cebcaf1d5f6ed2ead9271b30",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b19f1766ab438846cebcaf1d5f6ed2ead9271b30",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b19f1766ab438846cebcaf1d5f6ed2ead9271b30",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b19f1766ab438846cebcaf1d5f6ed2ead9271b30/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "42f79d681be6b61f2c11216f4b014b391511ecf6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/42f79d681be6b61f2c11216f4b014b391511ecf6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/42f79d681be6b61f2c11216f4b014b391511ecf6"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "a1cdde2c08187e92f61048b2a0c379aa1255620d",
        "filename": "src/test/rpc_wallet_tests.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b19f1766ab438846cebcaf1d5f6ed2ead9271b30/src/test/rpc_wallet_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b19f1766ab438846cebcaf1d5f6ed2ead9271b30/src/test/rpc_wallet_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/rpc_wallet_tests.cpp?ref=b19f1766ab438846cebcaf1d5f6ed2ead9271b30",
        "patch": "@@ -84,7 +84,7 @@ BOOST_AUTO_TEST_CASE(rpc_wallet)\n \t/*********************************\n \t * \t\t\tsetaccount\n \t *********************************/\n-\tBOOST_CHECK_NO_THROW(CallRPC(\"setaccount 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XZ nullaccount\"));\n+\tBOOST_CHECK_THROW(CallRPC(\"setaccount 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XZ nullaccount\"), runtime_error);\n \tBOOST_CHECK_THROW(CallRPC(\"setaccount\"), runtime_error);\n \t/* 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4X (33 chars) is an illegal address (should be 34 chars) */\n \tBOOST_CHECK_THROW(CallRPC(\"setaccount 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4X nullaccount\"), runtime_error);"
      }
    ]
  },
  {
    "sha": "362327f2881dd76b87bdef363beed3ad72cd7a7a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozNjIzMjdmMjg4MWRkNzZiODdiZGVmMzYzYmVlZDNhZDcyY2Q3YTdh",
    "commit": {
      "author": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-09-26T17:04:37Z"
      },
      "committer": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-09-26T17:04:37Z"
      },
      "message": "Fixed comment typo for ownership test\n\nThe comment previously said \"... if the address if yours.\" and I have fixed the type to say \"... if the address is yours.",
      "tree": {
        "sha": "2a49d598c1e27ec0751eade50cceb543514596cc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2a49d598c1e27ec0751eade50cceb543514596cc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/362327f2881dd76b87bdef363beed3ad72cd7a7a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/362327f2881dd76b87bdef363beed3ad72cd7a7a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/362327f2881dd76b87bdef363beed3ad72cd7a7a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/362327f2881dd76b87bdef363beed3ad72cd7a7a/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "b19f1766ab438846cebcaf1d5f6ed2ead9271b30",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b19f1766ab438846cebcaf1d5f6ed2ead9271b30",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b19f1766ab438846cebcaf1d5f6ed2ead9271b30"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "ff81ba26d47ebb630d8897f5aa1c10c26fed31a1",
        "filename": "src/rpcwallet.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/362327f2881dd76b87bdef363beed3ad72cd7a7a/src/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/362327f2881dd76b87bdef363beed3ad72cd7a7a/src/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcwallet.cpp?ref=362327f2881dd76b87bdef363beed3ad72cd7a7a",
        "patch": "@@ -230,7 +230,7 @@ Value setaccount(const Array& params, bool fHelp)\n     if (params.size() > 1)\n         strAccount = AccountFromValue(params[1]);\n \n-    // Only add the account if the address if yours.\n+    // Only add the account if the address is yours.\n     if (IsMine(*pwalletMain, address.Get()))\n     {\n         // Detect when changing the account of an address that is the 'unused current key' of another account:"
      }
    ]
  },
  {
    "sha": "4ef0e3d64fd94765f54894769ce3b30a8431d161",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0ZWYwZTNkNjRmZDk0NzY1ZjU0ODk0NzY5Y2UzYjMwYTg0MzFkMTYx",
    "commit": {
      "author": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-10-01T13:29:36Z"
      },
      "committer": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-10-01T13:29:36Z"
      },
      "message": "Improved the error message for IsMine check",
      "tree": {
        "sha": "baa54004f0a87706c6b33e5faec6ca7903735c7d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/baa54004f0a87706c6b33e5faec6ca7903735c7d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4ef0e3d64fd94765f54894769ce3b30a8431d161",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4ef0e3d64fd94765f54894769ce3b30a8431d161",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4ef0e3d64fd94765f54894769ce3b30a8431d161",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4ef0e3d64fd94765f54894769ce3b30a8431d161/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "362327f2881dd76b87bdef363beed3ad72cd7a7a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/362327f2881dd76b87bdef363beed3ad72cd7a7a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/362327f2881dd76b87bdef363beed3ad72cd7a7a"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "b361e67911e49c833509b1a782d087b1886a35b5",
        "filename": "src/rpcwallet.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4ef0e3d64fd94765f54894769ce3b30a8431d161/src/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4ef0e3d64fd94765f54894769ce3b30a8431d161/src/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcwallet.cpp?ref=4ef0e3d64fd94765f54894769ce3b30a8431d161",
        "patch": "@@ -243,7 +243,7 @@ Value setaccount(const Array& params, bool fHelp)\n         pwalletMain->SetAddressBook(address.Get(), strAccount, \"receive\");\n     }\n     else\n-        throw JSONRPCError(RPC_MISC_ERROR, \"Foreign Bitcoin address\");\n+        throw JSONRPCError(RPC_MISC_ERROR, \"setaccount can only be used with own address\");\n \n     return Value::null;\n }"
      }
    ]
  },
  {
    "sha": "247ff7b2db55c331164deb3900d7ce9d9703b3c7",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyNDdmZjdiMmRiNTVjMzMxMTY0ZGViMzkwMGQ3Y2U5ZDk3MDNiM2M3",
    "commit": {
      "author": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-10-01T14:15:34Z"
      },
      "committer": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-10-01T14:15:34Z"
      },
      "message": "Added setaccount success test with demo address",
      "tree": {
        "sha": "d9601894a2b8037087ca47cc43e75a2124d90d17",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d9601894a2b8037087ca47cc43e75a2124d90d17"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/247ff7b2db55c331164deb3900d7ce9d9703b3c7",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/247ff7b2db55c331164deb3900d7ce9d9703b3c7",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/247ff7b2db55c331164deb3900d7ce9d9703b3c7",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/247ff7b2db55c331164deb3900d7ce9d9703b3c7/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "4ef0e3d64fd94765f54894769ce3b30a8431d161",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4ef0e3d64fd94765f54894769ce3b30a8431d161",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4ef0e3d64fd94765f54894769ce3b30a8431d161"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 2,
      "deletions": 0
    },
    "files": [
      {
        "sha": "6d2bf0efb876354a3eba0c4bbe559886ea0564c5",
        "filename": "src/test/rpc_wallet_tests.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/247ff7b2db55c331164deb3900d7ce9d9703b3c7/src/test/rpc_wallet_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/247ff7b2db55c331164deb3900d7ce9d9703b3c7/src/test/rpc_wallet_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/rpc_wallet_tests.cpp?ref=247ff7b2db55c331164deb3900d7ce9d9703b3c7",
        "patch": "@@ -84,6 +84,8 @@ BOOST_AUTO_TEST_CASE(rpc_wallet)\n \t/*********************************\n \t * \t\t\tsetaccount\n \t *********************************/\n+\tBOOST_CHECK_NO_THROW(CallRPC(\"setaccount \" + demoAddress.ToString() + \" nullaccount\"));\n+\t/* 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XZ is not owned by the test wallet. */\n \tBOOST_CHECK_THROW(CallRPC(\"setaccount 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XZ nullaccount\"), runtime_error);\n \tBOOST_CHECK_THROW(CallRPC(\"setaccount\"), runtime_error);\n \t/* 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4X (33 chars) is an illegal address (should be 34 chars) */"
      }
    ]
  },
  {
    "sha": "f71553c2174381f82ab0db51593ac03b5138fdd1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNzE1NTNjMjE3NDM4MWY4MmFiMGRiNTE1OTNhYzAzYjUxMzhmZGQx",
    "commit": {
      "author": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-10-01T17:41:19Z"
      },
      "committer": {
        "name": "Eric Shaw",
        "email": "ericshaw.linux@gmail.com",
        "date": "2014-10-01T17:41:19Z"
      },
      "message": "Created new address for setaccount success test",
      "tree": {
        "sha": "1c07e8e8639e5dc9f6a0d7eb48fe7f3ac510700b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1c07e8e8639e5dc9f6a0d7eb48fe7f3ac510700b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f71553c2174381f82ab0db51593ac03b5138fdd1",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f71553c2174381f82ab0db51593ac03b5138fdd1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f71553c2174381f82ab0db51593ac03b5138fdd1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f71553c2174381f82ab0db51593ac03b5138fdd1/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "247ff7b2db55c331164deb3900d7ce9d9703b3c7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/247ff7b2db55c331164deb3900d7ce9d9703b3c7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/247ff7b2db55c331164deb3900d7ce9d9703b3c7"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 4,
      "deletions": 2
    },
    "files": [
      {
        "sha": "8c1d2900bcc7eb221a746d9c46deaf0343140d57",
        "filename": "src/test/rpc_wallet_tests.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 2,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f71553c2174381f82ab0db51593ac03b5138fdd1/src/test/rpc_wallet_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f71553c2174381f82ab0db51593ac03b5138fdd1/src/test/rpc_wallet_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/rpc_wallet_tests.cpp?ref=f71553c2174381f82ab0db51593ac03b5138fdd1",
        "patch": "@@ -80,11 +80,13 @@ BOOST_AUTO_TEST_CASE(rpc_wallet)\n \t\twalletdb.WriteAccount(strAccount, account);\n \t});\n \n-\n+    CPubKey setaccountDemoPubkey = pwalletMain->GenerateNewKey();\n+        CBitcoinAddress setaccountDemoAddress = CBitcoinAddress(CTxDestination(setaccountDemoPubkey.GetID()));\n+        \n \t/*********************************\n \t * \t\t\tsetaccount\n \t *********************************/\n-\tBOOST_CHECK_NO_THROW(CallRPC(\"setaccount \" + demoAddress.ToString() + \" nullaccount\"));\n+\tBOOST_CHECK_NO_THROW(CallRPC(\"setaccount \" + setaccountDemoAddress.ToString() + \" nullaccount\"));\n \t/* 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XZ is not owned by the test wallet. */\n \tBOOST_CHECK_THROW(CallRPC(\"setaccount 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XZ nullaccount\"), runtime_error);\n \tBOOST_CHECK_THROW(CallRPC(\"setaccount\"), runtime_error);"
      }
    ]
  },
  {
    "sha": "cfe104b76fb79bf1ac4f30e59352fe54bee20a66",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjZmUxMDRiNzZmYjc5YmYxYWM0ZjMwZTU5MzUyZmU1NGJlZTIwYTY2",
    "commit": {
      "author": {
        "name": "Eric Shaw",
        "email": "ericshawlinux@users.noreply.github.com",
        "date": "2014-10-02T16:19:18Z"
      },
      "committer": {
        "name": "Eric Shaw",
        "email": "ericshawlinux@users.noreply.github.com",
        "date": "2014-10-02T16:19:18Z"
      },
      "message": "Changed mixed indentation to four spaces",
      "tree": {
        "sha": "10644f16616cf0da36c2e2cb93dd3f35c02e886c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/10644f16616cf0da36c2e2cb93dd3f35c02e886c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cfe104b76fb79bf1ac4f30e59352fe54bee20a66",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cfe104b76fb79bf1ac4f30e59352fe54bee20a66",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/cfe104b76fb79bf1ac4f30e59352fe54bee20a66",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cfe104b76fb79bf1ac4f30e59352fe54bee20a66/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "f71553c2174381f82ab0db51593ac03b5138fdd1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f71553c2174381f82ab0db51593ac03b5138fdd1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f71553c2174381f82ab0db51593ac03b5138fdd1"
      }
    ],
    "stats": {
      "total": 140,
      "additions": 70,
      "deletions": 70
    },
    "files": [
      {
        "sha": "1525c69df8bb919c153b63d7f0fae6e261923593",
        "filename": "src/test/rpc_wallet_tests.cpp",
        "status": "modified",
        "additions": 70,
        "deletions": 70,
        "changes": 140,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cfe104b76fb79bf1ac4f30e59352fe54bee20a66/src/test/rpc_wallet_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cfe104b76fb79bf1ac4f30e59352fe54bee20a66/src/test/rpc_wallet_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/rpc_wallet_tests.cpp?ref=cfe104b76fb79bf1ac4f30e59352fe54bee20a66",
        "patch": "@@ -68,30 +68,30 @@ BOOST_AUTO_TEST_CASE(rpc_wallet)\n     LOCK2(cs_main, pwalletMain->cs_wallet);\n \n     CPubKey demoPubkey = pwalletMain->GenerateNewKey();\n-\tCBitcoinAddress demoAddress = CBitcoinAddress(CTxDestination(demoPubkey.GetID()));\n-\tValue retValue;\n-\tstring strAccount = \"walletDemoAccount\";\n-\tstring strPurpose = \"receive\";\n-\tBOOST_CHECK_NO_THROW({ /*Initialize Wallet with an account */\n-\t\tCWalletDB walletdb(pwalletMain->strWalletFile);\n-\t\tCAccount account;\n-\t\taccount.vchPubKey = demoPubkey;\n-\t\tpwalletMain->SetAddressBook(account.vchPubKey.GetID(), strAccount, strPurpose);\n-\t\twalletdb.WriteAccount(strAccount, account);\n-\t});\n+    CBitcoinAddress demoAddress = CBitcoinAddress(CTxDestination(demoPubkey.GetID()));\n+    Value retValue;\n+    string strAccount = \"walletDemoAccount\";\n+    string strPurpose = \"receive\";\n+    BOOST_CHECK_NO_THROW({ /*Initialize Wallet with an account */\n+        CWalletDB walletdb(pwalletMain->strWalletFile);\n+        CAccount account;\n+        account.vchPubKey = demoPubkey;\n+        pwalletMain->SetAddressBook(account.vchPubKey.GetID(), strAccount, strPurpose);\n+        walletdb.WriteAccount(strAccount, account);\n+    });\n \n     CPubKey setaccountDemoPubkey = pwalletMain->GenerateNewKey();\n-        CBitcoinAddress setaccountDemoAddress = CBitcoinAddress(CTxDestination(setaccountDemoPubkey.GetID()));\n-        \n-\t/*********************************\n-\t * \t\t\tsetaccount\n-\t *********************************/\n-\tBOOST_CHECK_NO_THROW(CallRPC(\"setaccount \" + setaccountDemoAddress.ToString() + \" nullaccount\"));\n-\t/* 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XZ is not owned by the test wallet. */\n-\tBOOST_CHECK_THROW(CallRPC(\"setaccount 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XZ nullaccount\"), runtime_error);\n-\tBOOST_CHECK_THROW(CallRPC(\"setaccount\"), runtime_error);\n-\t/* 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4X (33 chars) is an illegal address (should be 34 chars) */\n-\tBOOST_CHECK_THROW(CallRPC(\"setaccount 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4X nullaccount\"), runtime_error);\n+    CBitcoinAddress setaccountDemoAddress = CBitcoinAddress(CTxDestination(setaccountDemoPubkey.GetID()));\n+\n+    /*********************************\n+     * \t\t\tsetaccount\n+     *********************************/\n+    BOOST_CHECK_NO_THROW(CallRPC(\"setaccount \" + setaccountDemoAddress.ToString() + \" nullaccount\"));\n+    /* 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XZ is not owned by the test wallet. */\n+    BOOST_CHECK_THROW(CallRPC(\"setaccount 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XZ nullaccount\"), runtime_error);\n+    BOOST_CHECK_THROW(CallRPC(\"setaccount\"), runtime_error);\n+    /* 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4X (33 chars) is an illegal address (should be 34 chars) */\n+    BOOST_CHECK_THROW(CallRPC(\"setaccount 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4X nullaccount\"), runtime_error);\n \n     /*********************************\n      * \t\t\tlistunspent\n@@ -105,8 +105,8 @@ BOOST_AUTO_TEST_CASE(rpc_wallet)\n     BOOST_CHECK(r.get_array().empty());\n \n     /*********************************\n-\t * \t\tlistreceivedbyaddress\n-\t *********************************/\n+     * \t\tlistreceivedbyaddress\n+     *********************************/\n     BOOST_CHECK_NO_THROW(CallRPC(\"listreceivedbyaddress\"));\n     BOOST_CHECK_NO_THROW(CallRPC(\"listreceivedbyaddress 0\"));\n     BOOST_CHECK_THROW(CallRPC(\"listreceivedbyaddress not_int\"), runtime_error);\n@@ -115,8 +115,8 @@ BOOST_AUTO_TEST_CASE(rpc_wallet)\n     BOOST_CHECK_THROW(CallRPC(\"listreceivedbyaddress 0 true extra\"), runtime_error);\n \n     /*********************************\n-\t * \t\tlistreceivedbyaccount\n-\t *********************************/\n+     * \t\tlistreceivedbyaccount\n+     *********************************/\n     BOOST_CHECK_NO_THROW(CallRPC(\"listreceivedbyaccount\"));\n     BOOST_CHECK_NO_THROW(CallRPC(\"listreceivedbyaccount 0\"));\n     BOOST_CHECK_THROW(CallRPC(\"listreceivedbyaccount not_int\"), runtime_error);\n@@ -125,58 +125,58 @@ BOOST_AUTO_TEST_CASE(rpc_wallet)\n     BOOST_CHECK_THROW(CallRPC(\"listreceivedbyaccount 0 true extra\"), runtime_error);\n \n     /*********************************\n-\t * \t\tgetrawchangeaddress\n-\t *********************************/\n+     * \t\tgetrawchangeaddress\n+     *********************************/\n     BOOST_CHECK_NO_THROW(CallRPC(\"getrawchangeaddress\"));\n \n     /*********************************\n-\t * \t\tgetnewaddress\n-\t *********************************/\n+     * \t\tgetnewaddress\n+     *********************************/\n     BOOST_CHECK_NO_THROW(CallRPC(\"getnewaddress\"));\n     BOOST_CHECK_NO_THROW(CallRPC(\"getnewaddress getnewaddress_demoaccount\"));\n \n     /*********************************\n-\t * \t\tgetaccountaddress\n-\t *********************************/\n+     * \t\tgetaccountaddress\n+     *********************************/\n     BOOST_CHECK_NO_THROW(CallRPC(\"getaccountaddress \\\"\\\"\"));\n-\tBOOST_CHECK_NO_THROW(CallRPC(\"getaccountaddress accountThatDoesntExists\")); // Should generate a new account\n-\tBOOST_CHECK_NO_THROW(retValue = CallRPC(\"getaccountaddress \" + strAccount));\n-\tBOOST_CHECK(CBitcoinAddress(retValue.get_str()).Get() == demoAddress.Get());\n-\n-\t/*********************************\n-\t * \t\t\tgetaccount\n-\t *********************************/\n-\tBOOST_CHECK_THROW(CallRPC(\"getaccount\"), runtime_error);\n-\tBOOST_CHECK_NO_THROW(CallRPC(\"getaccount \" + demoAddress.ToString()));\n-\n-\t/*********************************\n-\t * \tsignmessage + verifymessage\n-\t *********************************/\n-\tBOOST_CHECK_NO_THROW(retValue = CallRPC(\"signmessage \" + demoAddress.ToString() + \" mymessage\"));\n-\tBOOST_CHECK_THROW(CallRPC(\"signmessage\"), runtime_error);\n-\t/* Should throw error because this address is not loaded in the wallet */\n-\tBOOST_CHECK_THROW(CallRPC(\"signmessage 1QFqqMUD55ZV3PJEJZtaKCsQmjLT6JkjvJ mymessage\"), runtime_error);\n-\n-\t/* missing arguments */\n-\tBOOST_CHECK_THROW(CallRPC(\"verifymessage \"+ demoAddress.ToString()), runtime_error);\n-\tBOOST_CHECK_THROW(CallRPC(\"verifymessage \"+ demoAddress.ToString() + \" \" + retValue.get_str()), runtime_error);\n-\t/* Illegal address */\n-\tBOOST_CHECK_THROW(CallRPC(\"verifymessage 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4X \" + retValue.get_str() + \" mymessage\"), runtime_error);\n-\t/* wrong address */\n-\tBOOST_CHECK(CallRPC(\"verifymessage 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XZ \" + retValue.get_str() + \" mymessage\").get_bool() == false);\n-\t/* Correct address and signature but wrong message */\n-\tBOOST_CHECK(CallRPC(\"verifymessage \"+ demoAddress.ToString() + \" \" + retValue.get_str() + \" wrongmessage\").get_bool() == false);\n-\t/* Correct address, message and signature*/\n-\tBOOST_CHECK(CallRPC(\"verifymessage \"+ demoAddress.ToString() + \" \" + retValue.get_str() + \" mymessage\").get_bool() == true);\n-\n-\t/*********************************\n-\t * \t\tgetaddressesbyaccount\n-\t *********************************/\n-\tBOOST_CHECK_THROW(CallRPC(\"getaddressesbyaccount\"), runtime_error);\n-\tBOOST_CHECK_NO_THROW(retValue = CallRPC(\"getaddressesbyaccount \" + strAccount));\n-\tArray arr = retValue.get_array();\n-\tBOOST_CHECK(arr.size() > 0);\n-\tBOOST_CHECK(CBitcoinAddress(arr[0].get_str()).Get() == demoAddress.Get());\n+    BOOST_CHECK_NO_THROW(CallRPC(\"getaccountaddress accountThatDoesntExists\")); // Should generate a new account\n+    BOOST_CHECK_NO_THROW(retValue = CallRPC(\"getaccountaddress \" + strAccount));\n+    BOOST_CHECK(CBitcoinAddress(retValue.get_str()).Get() == demoAddress.Get());\n+\n+    /*********************************\n+     * \t\t\tgetaccount\n+     *********************************/\n+    BOOST_CHECK_THROW(CallRPC(\"getaccount\"), runtime_error);\n+    BOOST_CHECK_NO_THROW(CallRPC(\"getaccount \" + demoAddress.ToString()));\n+\n+    /*********************************\n+     * \tsignmessage + verifymessage\n+     *********************************/\n+    BOOST_CHECK_NO_THROW(retValue = CallRPC(\"signmessage \" + demoAddress.ToString() + \" mymessage\"));\n+    BOOST_CHECK_THROW(CallRPC(\"signmessage\"), runtime_error);\n+    /* Should throw error because this address is not loaded in the wallet */\n+    BOOST_CHECK_THROW(CallRPC(\"signmessage 1QFqqMUD55ZV3PJEJZtaKCsQmjLT6JkjvJ mymessage\"), runtime_error);\n+\n+    /* missing arguments */\n+    BOOST_CHECK_THROW(CallRPC(\"verifymessage \"+ demoAddress.ToString()), runtime_error);\n+    BOOST_CHECK_THROW(CallRPC(\"verifymessage \"+ demoAddress.ToString() + \" \" + retValue.get_str()), runtime_error);\n+    /* Illegal address */\n+    BOOST_CHECK_THROW(CallRPC(\"verifymessage 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4X \" + retValue.get_str() + \" mymessage\"), runtime_error);\n+    /* wrong address */\n+    BOOST_CHECK(CallRPC(\"verifymessage 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XZ \" + retValue.get_str() + \" mymessage\").get_bool() == false);\n+    /* Correct address and signature but wrong message */\n+    BOOST_CHECK(CallRPC(\"verifymessage \"+ demoAddress.ToString() + \" \" + retValue.get_str() + \" wrongmessage\").get_bool() == false);\n+    /* Correct address, message and signature*/\n+    BOOST_CHECK(CallRPC(\"verifymessage \"+ demoAddress.ToString() + \" \" + retValue.get_str() + \" mymessage\").get_bool() == true);\n+\n+    /*********************************\n+     * \t\tgetaddressesbyaccount\n+     *********************************/\n+    BOOST_CHECK_THROW(CallRPC(\"getaddressesbyaccount\"), runtime_error);\n+    BOOST_CHECK_NO_THROW(retValue = CallRPC(\"getaddressesbyaccount \" + strAccount));\n+    Array arr = retValue.get_array();\n+    BOOST_CHECK(arr.size() > 0);\n+    BOOST_CHECK(CBitcoinAddress(arr[0].get_str()).Get() == demoAddress.Get());\n \n }\n "
      }
    ]
  }
]