[
  {
    "sha": "fa5ad3e4aac93535140ee0cf787f1b1ca4cd58d3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTVhZDNlNGFhYzkzNTM1MTQwZWUwY2Y3ODdmMWIxY2E0Y2Q1OGQz",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2019-07-24T19:52:23Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2019-08-24T11:24:25Z"
      },
      "message": "validation: Run CheckBlockIndex only on success. Fixup to 613c46fe",
      "tree": {
        "sha": "a65ea82da7f0afc0b37338c39ef8c7ec78a5120a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a65ea82da7f0afc0b37338c39ef8c7ec78a5120a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa5ad3e4aac93535140ee0cf787f1b1ca4cd58d3",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUhX8gv/YGOZ8PQ9n3mw4T/jyMjqA2fxbf9KanqXYD+qth/4J5iWw9xY9ys19sib\nZFvah6NbbDZoQ0qrD5BBEqkDvUMxOIMRioVtt0HYKRkq/Z5LYtsI6EkE2/VKinK8\nZdL8DjnMC3WChZhAZ+7c9tcvnZDyUcw8YMi5ZDdey/CL0IR8zsiFMJF6xxDqm1C5\noHaLavk+63v+2ZGwlsEKytSzSQx8xiS5gs3L3avOtNE5BfSDYzqrJjQmRTSwURgo\nQGOKyk4d4mVPTJo5fiXLoIYPItlv8SCYfegLqIodu7BCwvy2WNnq+s3ZCAS0AjdW\nmt7UMmF5gIPVgF3GFRYEDpZFGvMJogIt1fNiIyt+DmLT2lywgKV+GbfCGUnP3eZW\nCmCOhF3UCm9HBSrSM/yfuzPG907DDJXhSsOQUhy7LPzhgv60Mdp59nuVFyuFcO2x\nVYypUVWRYsedc8jvF09sSLr9xFI3b8BGM4X+j2dwIkUIWFD8WRvmLpyVhyqlBPfx\nmJFrTyHc\n=E8cp\n-----END PGP SIGNATURE-----",
        "payload": "tree a65ea82da7f0afc0b37338c39ef8c7ec78a5120a\nparent 52b9797119d5ee20b255efc68931ac7e158e325d\nauthor MarcoFalke <falke.marco@gmail.com> 1563997943 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1566645865 -0400\n\nvalidation: Run CheckBlockIndex only on success. Fixup to 613c46fe\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa5ad3e4aac93535140ee0cf787f1b1ca4cd58d3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa5ad3e4aac93535140ee0cf787f1b1ca4cd58d3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa5ad3e4aac93535140ee0cf787f1b1ca4cd58d3/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "52b9797119d5ee20b255efc68931ac7e158e325d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/52b9797119d5ee20b255efc68931ac7e158e325d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/52b9797119d5ee20b255efc68931ac7e158e325d"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "bc4bc1d2a51eaee17b9c9fc18d50cc8f2071ba4b",
        "filename": "src/validation.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa5ad3e4aac93535140ee0cf787f1b1ca4cd58d3/src/validation.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa5ad3e4aac93535140ee0cf787f1b1ca4cd58d3/src/validation.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/validation.cpp?ref=fa5ad3e4aac93535140ee0cf787f1b1ca4cd58d3",
        "patch": "@@ -3389,12 +3389,12 @@ bool ProcessNewBlockHeaders(const std::vector<CBlockHeader>& headers, CValidatio\n         for (const CBlockHeader& header : headers) {\n             CBlockIndex *pindex = nullptr; // Use a temp pindex instead of ppindex to avoid a const_cast\n             bool accepted = g_blockman.AcceptBlockHeader(header, state, chainparams, &pindex);\n-            ::ChainstateActive().CheckBlockIndex(chainparams.GetConsensus());\n \n             if (!accepted) {\n                 if (first_invalid) *first_invalid = header;\n                 return false;\n             }\n+            ::ChainstateActive().CheckBlockIndex(chainparams.GetConsensus());\n             if (ppindex) {\n                 *ppindex = pindex;\n             }\n@@ -3435,10 +3435,10 @@ bool CChainState::AcceptBlock(const std::shared_ptr<const CBlock>& pblock, CVali\n     CBlockIndex *&pindex = ppindex ? *ppindex : pindexDummy;\n \n     bool accepted_header = m_blockman.AcceptBlockHeader(block, state, chainparams, &pindex);\n-    CheckBlockIndex(chainparams.GetConsensus());\n \n     if (!accepted_header)\n         return false;\n+    CheckBlockIndex(chainparams.GetConsensus());\n \n     // Try to process all requested blocks that we don't have, but only\n     // process an unrequested block if it's new and has enough work to"
      }
    ]
  }
]