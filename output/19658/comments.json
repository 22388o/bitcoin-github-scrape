[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/668548928",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#issuecomment-668548928",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19658",
    "id": 668548928,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2ODU0ODkyOA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-04T11:49:15Z",
    "updated_at": "2020-08-04T11:49:15Z",
    "author_association": "MEMBER",
    "body": "cc @naumenkogs ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/668548928/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/668603501",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#issuecomment-668603501",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19658",
    "id": 668603501,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2ODYwMzUwMQ==",
    "user": {
      "login": "naumenkogs",
      "id": 7975071,
      "node_id": "MDQ6VXNlcjc5NzUwNzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7975071?u=06eb9ae4f9b3f954056098860decccbf1340e40f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/naumenkogs",
      "html_url": "https://github.com/naumenkogs",
      "followers_url": "https://api.github.com/users/naumenkogs/followers",
      "following_url": "https://api.github.com/users/naumenkogs/following{/other_user}",
      "gists_url": "https://api.github.com/users/naumenkogs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
      "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
      "repos_url": "https://api.github.com/users/naumenkogs/repos",
      "events_url": "https://api.github.com/users/naumenkogs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-04T13:41:18Z",
    "updated_at": "2020-08-04T13:41:18Z",
    "author_association": "MEMBER",
    "body": "I think this is a move in the right direction: GetAddr() should be more dynamic.\r\nIt also seems to be useful for testing.\r\n\r\nConcept ACK.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/668603501/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/668728080",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#issuecomment-668728080",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19658",
    "id": 668728080,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2ODcyODA4MA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-04T17:31:02Z",
    "updated_at": "2020-08-06T07:55:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19238 (refactor: Replace RecursiveMutex with Mutex in CAddrMan by hebasto)\n* #17428 (p2p: Try to preserve outbound block-relay-only connections during restart by hebasto)\n* #16365 (Log RPC parameters (arguments) if -debug=rpcparams by LarryRuane)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/668728080/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/669238375",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#issuecomment-669238375",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19658",
    "id": 669238375,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2OTIzODM3NQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-05T14:50:17Z",
    "updated_at": "2020-08-05T14:50:17Z",
    "author_association": "MEMBER",
    "body": "Concept ACK, I think more control over addrman via RPC is a good thing.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/669238375/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/671825875",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#issuecomment-671825875",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19658",
    "id": 671825875,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3MTgyNTg3NQ==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-11T09:04:27Z",
    "updated_at": "2020-08-11T09:04:27Z",
    "author_association": "MEMBER",
    "body": "Thanks for the review @mzumsande . All comments have been addressed.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/671825875/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/672727849",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#issuecomment-672727849",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19658",
    "id": 672727849,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3MjcyNzg0OQ==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-12T08:24:01Z",
    "updated_at": "2020-08-12T08:24:01Z",
    "author_association": "MEMBER",
    "body": "Thanks for the review @luke-jr . I've addressed all of your comments.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/672727849/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/672780220",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#issuecomment-672780220",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19658",
    "id": 672780220,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3Mjc4MDIyMA==",
    "user": {
      "login": "naumenkogs",
      "id": 7975071,
      "node_id": "MDQ6VXNlcjc5NzUwNzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7975071?u=06eb9ae4f9b3f954056098860decccbf1340e40f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/naumenkogs",
      "html_url": "https://github.com/naumenkogs",
      "followers_url": "https://api.github.com/users/naumenkogs/followers",
      "following_url": "https://api.github.com/users/naumenkogs/following{/other_user}",
      "gists_url": "https://api.github.com/users/naumenkogs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
      "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
      "repos_url": "https://api.github.com/users/naumenkogs/repos",
      "events_url": "https://api.github.com/users/naumenkogs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-12T10:05:24Z",
    "updated_at": "2020-08-12T10:05:24Z",
    "author_association": "MEMBER",
    "body": "utACK 37a480e0cd94895b6051abef12d984ff74bdc4a3\r\nI think both methods would be useful.\r\n\r\nYou updated rpc_net.py test, but there's also p2p_getaddr_cache.py and p2p_addr_relay.py which may benefit from new methods?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/672780220/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/672784083",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#issuecomment-672784083",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19658",
    "id": 672784083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3Mjc4NDA4Mw==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-12T10:13:46Z",
    "updated_at": "2020-08-12T10:13:46Z",
    "author_association": "MEMBER",
    "body": "> there's also p2p_getaddr_cache.py and p2p_addr_relay.py which may benefit from new methods?\r\n\r\nOf course. Those can be done in a follow-up.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/672784083/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/672797660",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#issuecomment-672797660",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19658",
    "id": 672797660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3Mjc5NzY2MA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-12T10:44:47Z",
    "updated_at": "2020-08-12T10:45:22Z",
    "author_association": "MEMBER",
    "body": "Code review and lightly manually tested ACK 37a480e0cd94895b6051abef12d984ff74bdc4a3\r\nI found the default of 1 a bit confusing (because the RPC name is plural), but it's well documented so also no real problem with it.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/672797660/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/672811680",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#issuecomment-672811680",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19658",
    "id": 672811680,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3MjgxMTY4MA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-12T11:19:13Z",
    "updated_at": "2020-08-12T11:19:13Z",
    "author_association": "MEMBER",
    "body": "Thanks @laanwj \r\n\r\n> I found the default of 1 a bit confusing (because the RPC name is plural), but it's well documented so also no real problem with it.\r\n\r\nYeah, I agree it's a bit confusing, but I didn't want to change the default in this PR.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/672811680/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467489148",
    "pull_request_review_id": 463818112,
    "id": 467489148,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ4OTE0OA==",
    "diff_hunk": "@@ -773,6 +773,54 @@ static UniValue getnodeaddresses(const JSONRPCRequest& request)\n     return ret;\n }\n \n+static UniValue addpeeraddress(const JSONRPCRequest& request)\n+{\n+    RPCHelpMan{\"addpeeraddress\",\n+        \"\\nAdd the address of a potential peer to the address manager. This RPC is for testing only.\\n\",\n+        {\n+            {\"address\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The IP address of the peer\"},\n+            {\"port\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The port of the peer\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::BOOL, \"success\", \"whether the peer address waas successfully added to the address manager\"},\n+            },\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"addpeeraddress\", \"\\\"1.2.3.4\\\" 8333\")\n+    + HelpExampleRpc(\"getnodeaddresses\", \"\\\"1.2.3.4\\\", 8333\")\n+        },\n+    }.Check(request);\n+\n+    NodeContext& node = EnsureNodeContext(request.context);\n+    if (!node.addrman) {",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 25,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "fe36e5a2f19b0d0cafe61898507ff41b10972a08",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This doesn't compile since `addrman` is not a member of `NodeContext`.",
    "created_at": "2020-08-08T17:59:43Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467489148",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467489148"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467489148"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467489148/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 797,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467508938",
    "pull_request_review_id": 463829653,
    "id": 467508938,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzUwODkzOA==",
    "diff_hunk": "@@ -773,6 +773,54 @@ static UniValue getnodeaddresses(const JSONRPCRequest& request)\n     return ret;\n }\n \n+static UniValue addpeeraddress(const JSONRPCRequest& request)\n+{\n+    RPCHelpMan{\"addpeeraddress\",\n+        \"\\nAdd the address of a potential peer to the address manager. This RPC is for testing only.\\n\",\n+        {\n+            {\"address\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The IP address of the peer\"},\n+            {\"port\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The port of the peer\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::BOOL, \"success\", \"whether the peer address waas successfully added to the address manager\"},\n+            },\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"addpeeraddress\", \"\\\"1.2.3.4\\\" 8333\")\n+    + HelpExampleRpc(\"getnodeaddresses\", \"\\\"1.2.3.4\\\", 8333\")\n+        },\n+    }.Check(request);\n+\n+    NodeContext& node = EnsureNodeContext(request.context);\n+    if (!node.addrman) {",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 25,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "fe36e5a2f19b0d0cafe61898507ff41b10972a08",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "oops. This was from a previous version of the branch. Should be fixed now.",
    "created_at": "2020-08-08T22:06:05Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467508938",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467508938"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467508938"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467508938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 797,
    "side": "RIGHT",
    "in_reply_to_id": 467489148
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467611673",
    "pull_request_review_id": 463892617,
    "id": 467611673,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYxMTY3Mw==",
    "diff_hunk": "@@ -775,6 +773,54 @@ static UniValue getnodeaddresses(const JSONRPCRequest& request)\n     return ret;\n }\n \n+static UniValue addpeeraddress(const JSONRPCRequest& request)\n+{\n+    RPCHelpMan{\"addpeeraddress\",\n+        \"\\nAdd the address of a potential peer to the address manager. This RPC is for testing only.\\n\",\n+        {\n+            {\"address\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The IP address of the peer\"},\n+            {\"port\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The port of the peer\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::BOOL, \"success\", \"whether the peer address waas successfully added to the address manager\"},\n+            },\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"addpeeraddress\", \"\\\"1.2.3.4\\\" 8333\")\n+    + HelpExampleRpc(\"getnodeaddresses\", \"\\\"1.2.3.4\\\", 8333\")\n+        },\n+    }.Check(request);\n+\n+    NodeContext& node = EnsureNodeContext(request.context);\n+    if (!node.connman) {\n+        throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Peer-to-peer functionality missing or disabled\");\n+    }\n+\n+    UniValue obj(UniValue::VOBJ);\n+\n+    std::string addr_string = request.params[0].get_str();\n+    uint16_t port = request.params[1].get_int();",
    "path": "src/rpc/net.cpp",
    "position": 63,
    "original_position": 63,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "5bff6fdb509a13b31597af6e2ca9b4779575c3b9",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should add `addpeeraddress` to `vRPCConvertParams` (`rpc/client.cpp`).",
    "created_at": "2020-08-09T18:03:33Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467611673",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467611673"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467611673"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467611673/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 804,
    "original_line": 804,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467611696",
    "pull_request_review_id": 463892617,
    "id": 467611696,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYxMTY5Ng==",
    "diff_hunk": "@@ -775,6 +773,54 @@ static UniValue getnodeaddresses(const JSONRPCRequest& request)\n     return ret;\n }\n \n+static UniValue addpeeraddress(const JSONRPCRequest& request)\n+{\n+    RPCHelpMan{\"addpeeraddress\",\n+        \"\\nAdd the address of a potential peer to the address manager. This RPC is for testing only.\\n\",\n+        {\n+            {\"address\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The IP address of the peer\"},\n+            {\"port\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The port of the peer\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::BOOL, \"success\", \"whether the peer address waas successfully added to the address manager\"},\n+            },\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"addpeeraddress\", \"\\\"1.2.3.4\\\" 8333\")\n+    + HelpExampleRpc(\"getnodeaddresses\", \"\\\"1.2.3.4\\\", 8333\")",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 51,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "5bff6fdb509a13b31597af6e2ca9b4779575c3b9",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "typo, getnodeaddresses->addpeeraddress",
    "created_at": "2020-08-09T18:03:49Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467611696",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467611696"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467611696"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467611696/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 792,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467611771",
    "pull_request_review_id": 463892617,
    "id": 467611771,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYxMTc3MQ==",
    "diff_hunk": "@@ -775,6 +773,54 @@ static UniValue getnodeaddresses(const JSONRPCRequest& request)\n     return ret;\n }\n \n+static UniValue addpeeraddress(const JSONRPCRequest& request)\n+{\n+    RPCHelpMan{\"addpeeraddress\",\n+        \"\\nAdd the address of a potential peer to the address manager. This RPC is for testing only.\\n\",\n+        {\n+            {\"address\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The IP address of the peer\"},\n+            {\"port\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The port of the peer\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::BOOL, \"success\", \"whether the peer address waas successfully added to the address manager\"},",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 46,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "5bff6fdb509a13b31597af6e2ca9b4779575c3b9",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "typo: waas -> was",
    "created_at": "2020-08-09T18:04:34Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467611771",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467611771"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467611771"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467611771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 787,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467613055",
    "pull_request_review_id": 463892617,
    "id": 467613055,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYxMzA1NQ==",
    "diff_hunk": "@@ -51,11 +51,8 @@ static const bool DEFAULT_WHITELISTFORCERELAY = false;\n static const int TIMEOUT_INTERVAL = 20 * 60;\n /** Run the feeler connection loop once every 2 minutes or 120 seconds. **/\n static const int FEELER_INTERVAL = 120;\n-/** The maximum number of new addresses to accumulate before announcing. */\n-static const unsigned int MAX_ADDR_TO_SEND = 1000;\n-// TODO: remove ADDRMAN_GETADDR_MAX and let the caller specify this limit with MAX_ADDR_TO_SEND.\n-static_assert(MAX_ADDR_TO_SEND == ADDRMAN_GETADDR_MAX,\n-    \"Max allowed ADDR message size should be equal to the max number of records returned from AddrMan.\");\n+/** The maximum number of addresses from our addrman to return in a getaddr call. */",
    "path": "src/net.h",
    "position": null,
    "original_position": 9,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "5bff6fdb509a13b31597af6e2ca9b4779575c3b9",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "\"call\" still sounds like rpc, maybe \"return in response to a getaddr message\".",
    "created_at": "2020-08-09T18:18:27Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467613055",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467613055"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467613055"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467613055/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 54,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467613151",
    "pull_request_review_id": 463892617,
    "id": 467613151,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYxMzE1MQ==",
    "diff_hunk": "@@ -143,6 +143,8 @@ static constexpr unsigned int MAX_FEEFILTER_CHANGE_DELAY = 5 * 60;\n static constexpr uint32_t MAX_GETCFILTERS_SIZE = 1000;\n /** Maximum number of cf hashes that may be requested with one getcfheaders. See BIP 157. */\n static constexpr uint32_t MAX_GETCFHEADERS_SIZE = 2000;\n+/** the maximum percentage of addresses from our addrman to return in a getaddr call. */",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "5bff6fdb509a13b31597af6e2ca9b4779575c3b9",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "as for \"call\", see above",
    "created_at": "2020-08-09T18:19:30Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467613151",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467613151"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467613151"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467613151/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 146,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467614541",
    "pull_request_review_id": 463892617,
    "id": 467614541,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYxNDU0MQ==",
    "diff_hunk": "@@ -154,30 +152,35 @@ def test_service_flags(self):\n     def _test_getnodeaddresses(self):\n         self.nodes[0].add_p2p_connection(P2PInterface())\n \n-        # send some addresses to the node via the p2p message addr\n-        msg = msg_addr()\n+        # Add some addresses to the Address Manager over RPC. Due to the way\n+        # bucket and bucket position are calculated, some of these addresses\n+        # will collide.\n         imported_addrs = []\n-        for i in range(256):\n-            a = \"123.123.123.{}\".format(i)\n+        for i in range(10000):\n+            first_octet = i >> 8\n+            second_octet = i % 256\n+            a = \"{}.{}.1.1\".format(first_octet, second_octet)\n             imported_addrs.append(a)\n-            addr = CAddress()\n-            addr.time = 100000000\n-            addr.nServices = NODE_NETWORK | NODE_WITNESS\n-            addr.ip = a\n-            addr.port = 8333\n-            msg.addrs.append(addr)\n-        self.nodes[0].p2p.send_and_ping(msg)\n-\n-        # obtain addresses via rpc call and check they were ones sent in before\n-        REQUEST_COUNT = 10\n-        node_addresses = self.nodes[0].getnodeaddresses(REQUEST_COUNT)\n-        assert_equal(len(node_addresses), REQUEST_COUNT)\n+            self.nodes[0].addpeeraddress(a, 8333)\n+\n+        # Obtain addresses via rpc call and check they were ones sent in before.\n+        #\n+        # All addresses added above are in the same netgroup and so are assigned\n+        # to the same bucket. Maximum possible addresses in addrman is therefore\n+        # 64, although actual number will usually be slightly less due to\n+        # BucketPosition collisions.",
    "path": "test/functional/rpc_net.py",
    "position": null,
    "original_position": 45,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "5bff6fdb509a13b31597af6e2ca9b4779575c3b9",
    "user": {
      "login": "mzumsande",
      "id": 48763452,
      "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzumsande",
      "html_url": "https://github.com/mzumsande",
      "followers_url": "https://api.github.com/users/mzumsande/followers",
      "following_url": "https://api.github.com/users/mzumsande/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzumsande/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
      "organizations_url": "https://api.github.com/users/mzumsande/orgs",
      "repos_url": "https://api.github.com/users/mzumsande/repos",
      "events_url": "https://api.github.com/users/mzumsande/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzumsande/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This comment became outdated.",
    "created_at": "2020-08-09T18:34:04Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467614541",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467614541"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r467614541"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467614541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 171,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468429728",
    "pull_request_review_id": 464875667,
    "id": 468429728,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQyOTcyOA==",
    "diff_hunk": "@@ -775,6 +773,54 @@ static UniValue getnodeaddresses(const JSONRPCRequest& request)\n     return ret;\n }\n \n+static UniValue addpeeraddress(const JSONRPCRequest& request)\n+{\n+    RPCHelpMan{\"addpeeraddress\",\n+        \"\\nAdd the address of a potential peer to the address manager. This RPC is for testing only.\\n\",\n+        {\n+            {\"address\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The IP address of the peer\"},\n+            {\"port\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The port of the peer\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::BOOL, \"success\", \"whether the peer address waas successfully added to the address manager\"},\n+            },\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"addpeeraddress\", \"\\\"1.2.3.4\\\" 8333\")\n+    + HelpExampleRpc(\"getnodeaddresses\", \"\\\"1.2.3.4\\\", 8333\")\n+        },\n+    }.Check(request);\n+\n+    NodeContext& node = EnsureNodeContext(request.context);\n+    if (!node.connman) {\n+        throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Peer-to-peer functionality missing or disabled\");\n+    }\n+\n+    UniValue obj(UniValue::VOBJ);\n+\n+    std::string addr_string = request.params[0].get_str();\n+    uint16_t port = request.params[1].get_int();",
    "path": "src/rpc/net.cpp",
    "position": 63,
    "original_position": 63,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "5bff6fdb509a13b31597af6e2ca9b4779575c3b9",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "done",
    "created_at": "2020-08-11T08:56:18Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468429728",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468429728"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468429728"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468429728/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 804,
    "original_line": 804,
    "side": "RIGHT",
    "in_reply_to_id": 467611673
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468429788",
    "pull_request_review_id": 464875741,
    "id": 468429788,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQyOTc4OA==",
    "diff_hunk": "@@ -775,6 +773,54 @@ static UniValue getnodeaddresses(const JSONRPCRequest& request)\n     return ret;\n }\n \n+static UniValue addpeeraddress(const JSONRPCRequest& request)\n+{\n+    RPCHelpMan{\"addpeeraddress\",\n+        \"\\nAdd the address of a potential peer to the address manager. This RPC is for testing only.\\n\",\n+        {\n+            {\"address\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The IP address of the peer\"},\n+            {\"port\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The port of the peer\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::BOOL, \"success\", \"whether the peer address waas successfully added to the address manager\"},\n+            },\n+        },\n+        RPCExamples{\n+            HelpExampleCli(\"addpeeraddress\", \"\\\"1.2.3.4\\\" 8333\")\n+    + HelpExampleRpc(\"getnodeaddresses\", \"\\\"1.2.3.4\\\", 8333\")",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 51,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "5bff6fdb509a13b31597af6e2ca9b4779575c3b9",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "fixed",
    "created_at": "2020-08-11T08:56:24Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468429788",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468429788"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468429788"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468429788/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 792,
    "side": "RIGHT",
    "in_reply_to_id": 467611696
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468429999",
    "pull_request_review_id": 464876003,
    "id": 468429999,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQyOTk5OQ==",
    "diff_hunk": "@@ -775,6 +773,54 @@ static UniValue getnodeaddresses(const JSONRPCRequest& request)\n     return ret;\n }\n \n+static UniValue addpeeraddress(const JSONRPCRequest& request)\n+{\n+    RPCHelpMan{\"addpeeraddress\",\n+        \"\\nAdd the address of a potential peer to the address manager. This RPC is for testing only.\\n\",\n+        {\n+            {\"address\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The IP address of the peer\"},\n+            {\"port\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The port of the peer\"},\n+        },\n+        RPCResult{\n+            RPCResult::Type::OBJ, \"\", \"\",\n+            {\n+                {RPCResult::Type::BOOL, \"success\", \"whether the peer address waas successfully added to the address manager\"},",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 46,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "5bff6fdb509a13b31597af6e2ca9b4779575c3b9",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "fixed",
    "created_at": "2020-08-11T08:56:44Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468429999",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468429999"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468429999"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468429999/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 787,
    "side": "RIGHT",
    "in_reply_to_id": 467611771
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468432099",
    "pull_request_review_id": 464878713,
    "id": 468432099,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQzMjA5OQ==",
    "diff_hunk": "@@ -51,11 +51,8 @@ static const bool DEFAULT_WHITELISTFORCERELAY = false;\n static const int TIMEOUT_INTERVAL = 20 * 60;\n /** Run the feeler connection loop once every 2 minutes or 120 seconds. **/\n static const int FEELER_INTERVAL = 120;\n-/** The maximum number of new addresses to accumulate before announcing. */\n-static const unsigned int MAX_ADDR_TO_SEND = 1000;\n-// TODO: remove ADDRMAN_GETADDR_MAX and let the caller specify this limit with MAX_ADDR_TO_SEND.\n-static_assert(MAX_ADDR_TO_SEND == ADDRMAN_GETADDR_MAX,\n-    \"Max allowed ADDR message size should be equal to the max number of records returned from AddrMan.\");\n+/** The maximum number of addresses from our addrman to return in a getaddr call. */",
    "path": "src/net.h",
    "position": null,
    "original_position": 9,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "5bff6fdb509a13b31597af6e2ca9b4779575c3b9",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "fixed",
    "created_at": "2020-08-11T09:00:08Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468432099",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468432099"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468432099"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468432099/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 54,
    "side": "RIGHT",
    "in_reply_to_id": 467613055
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468432161",
    "pull_request_review_id": 464878783,
    "id": 468432161,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQzMjE2MQ==",
    "diff_hunk": "@@ -143,6 +143,8 @@ static constexpr unsigned int MAX_FEEFILTER_CHANGE_DELAY = 5 * 60;\n static constexpr uint32_t MAX_GETCFILTERS_SIZE = 1000;\n /** Maximum number of cf hashes that may be requested with one getcfheaders. See BIP 157. */\n static constexpr uint32_t MAX_GETCFHEADERS_SIZE = 2000;\n+/** the maximum percentage of addresses from our addrman to return in a getaddr call. */",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "5bff6fdb509a13b31597af6e2ca9b4779575c3b9",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "fixed",
    "created_at": "2020-08-11T09:00:15Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468432161",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468432161"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468432161"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468432161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 146,
    "side": "RIGHT",
    "in_reply_to_id": 467613151
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468433266",
    "pull_request_review_id": 464880206,
    "id": 468433266,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQzMzI2Ng==",
    "diff_hunk": "@@ -154,30 +152,35 @@ def test_service_flags(self):\n     def _test_getnodeaddresses(self):\n         self.nodes[0].add_p2p_connection(P2PInterface())\n \n-        # send some addresses to the node via the p2p message addr\n-        msg = msg_addr()\n+        # Add some addresses to the Address Manager over RPC. Due to the way\n+        # bucket and bucket position are calculated, some of these addresses\n+        # will collide.\n         imported_addrs = []\n-        for i in range(256):\n-            a = \"123.123.123.{}\".format(i)\n+        for i in range(10000):\n+            first_octet = i >> 8\n+            second_octet = i % 256\n+            a = \"{}.{}.1.1\".format(first_octet, second_octet)\n             imported_addrs.append(a)\n-            addr = CAddress()\n-            addr.time = 100000000\n-            addr.nServices = NODE_NETWORK | NODE_WITNESS\n-            addr.ip = a\n-            addr.port = 8333\n-            msg.addrs.append(addr)\n-        self.nodes[0].p2p.send_and_ping(msg)\n-\n-        # obtain addresses via rpc call and check they were ones sent in before\n-        REQUEST_COUNT = 10\n-        node_addresses = self.nodes[0].getnodeaddresses(REQUEST_COUNT)\n-        assert_equal(len(node_addresses), REQUEST_COUNT)\n+            self.nodes[0].addpeeraddress(a, 8333)\n+\n+        # Obtain addresses via rpc call and check they were ones sent in before.\n+        #\n+        # All addresses added above are in the same netgroup and so are assigned\n+        # to the same bucket. Maximum possible addresses in addrman is therefore\n+        # 64, although actual number will usually be slightly less due to\n+        # BucketPosition collisions.",
    "path": "test/functional/rpc_net.py",
    "position": null,
    "original_position": 45,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "5bff6fdb509a13b31597af6e2ca9b4779575c3b9",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "fixed",
    "created_at": "2020-08-11T09:02:07Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468433266",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468433266"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468433266"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468433266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 171,
    "side": "RIGHT",
    "in_reply_to_id": 467614541
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468876270",
    "pull_request_review_id": 465443045,
    "id": 468876270,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODg3NjI3MA==",
    "diff_hunk": "@@ -479,11 +479,15 @@ int CAddrMan::Check_()\n }\n #endif\n \n-void CAddrMan::GetAddr_(std::vector<CAddress>& vAddr)\n+void CAddrMan::GetAddr_(std::vector<CAddress>& vAddr, unsigned int max_addresses, unsigned int max_pct)\n {\n-    unsigned int nNodes = ADDRMAN_GETADDR_MAX_PCT * vRandom.size() / 100;\n-    if (nNodes > ADDRMAN_GETADDR_MAX)\n-        nNodes = ADDRMAN_GETADDR_MAX;\n+    unsigned int nNodes = vRandom.size();\n+    if (max_pct != 0) {",
    "path": "src/addrman.cpp",
    "position": 11,
    "original_position": 11,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "81cbe5e87a9418b473f251b1ec8c9b6c8b6fb124",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Seems more logical to use `>= 100` here?",
    "created_at": "2020-08-11T21:30:35Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468876270",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468876270"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468876270"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468876270/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 485,
    "original_line": 485,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468876741",
    "pull_request_review_id": 465443045,
    "id": 468876741,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODg3Njc0MQ==",
    "diff_hunk": "@@ -479,11 +479,15 @@ int CAddrMan::Check_()\n }\n #endif\n \n-void CAddrMan::GetAddr_(std::vector<CAddress>& vAddr)\n+void CAddrMan::GetAddr_(std::vector<CAddress>& vAddr, unsigned int max_addresses, unsigned int max_pct)\n {\n-    unsigned int nNodes = ADDRMAN_GETADDR_MAX_PCT * vRandom.size() / 100;\n-    if (nNodes > ADDRMAN_GETADDR_MAX)\n-        nNodes = ADDRMAN_GETADDR_MAX;\n+    unsigned int nNodes = vRandom.size();\n+    if (max_pct != 0) {\n+        nNodes = max_pct * nNodes / 100;\n+    }\n+    if (max_addresses != 0) {",
    "path": "src/addrman.cpp",
    "position": 14,
    "original_position": 14,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "81cbe5e87a9418b473f251b1ec8c9b6c8b6fb124",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe just `std::numeric_limits<int>::max()`",
    "created_at": "2020-08-11T21:31:38Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468876741",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468876741"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468876741"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468876741/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 488,
    "original_line": 488,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468876980",
    "pull_request_review_id": 465443045,
    "id": 468876980,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODg3Njk4MA==",
    "diff_hunk": "@@ -261,7 +255,7 @@ friend class CAddrManTest;\n #endif\n \n     //! Select several addresses at once.\n-    void GetAddr_(std::vector<CAddress> &vAddr) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+    void GetAddr_(std::vector<CAddress> &vAddr, unsigned int max_addresses, unsigned int max_pct) EXCLUSIVE_LOCKS_REQUIRED(cs);",
    "path": "src/addrman.h",
    "position": null,
    "original_position": 18,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "81cbe5e87a9418b473f251b1ec8c9b6c8b6fb124",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`size_t` might be more appropriate for `max_addresses`",
    "created_at": "2020-08-11T21:32:04Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468876980",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468876980"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468876980"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468876980/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 258,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468877498",
    "pull_request_review_id": 465443045,
    "id": 468877498,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODg3NzQ5OA==",
    "diff_hunk": "@@ -98,7 +98,7 @@ static void AddrManGetAddr(benchmark::Bench& bench)\n     FillAddrMan(addrman);\n \n     bench.run([&] {\n-        const auto& addresses = addrman.GetAddr();\n+        const auto& addresses = addrman.GetAddr(2500, 23);  // Compatibility with ADDRMAN_GETADDR_MAX_PCT and ADDRMAN_GETADDR_MAX",
    "path": "src/bench/addrman.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "81cbe5e87a9418b473f251b1ec8c9b6c8b6fb124",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This comment is confusing. I assume it's supposed to mean the original values thereof?",
    "created_at": "2020-08-11T21:33:10Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468877498",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468877498"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468877498"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468877498/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 101,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468878124",
    "pull_request_review_id": 465443045,
    "id": 468878124,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODg3ODEyNA==",
    "diff_hunk": "@@ -727,7 +727,7 @@ static UniValue getnodeaddresses(const JSONRPCRequest& request)\n             RPCHelpMan{\"getnodeaddresses\",\n                 \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\",\n                 {\n-                    {\"count\", RPCArg::Type::NUM, /* default */ \"1\", \"How many addresses to return. Limited to the smaller of \" + ToString(ADDRMAN_GETADDR_MAX) + \" or \" + ToString(ADDRMAN_GETADDR_MAX_PCT) + \"% of all known addresses.\"},\n+                    {\"count\", RPCArg::Type::NUM, /* default */ \"1\", \"The max number of addresses to return. Specify 0 to return all known addresses.\"},",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "81cbe5e87a9418b473f251b1ec8c9b6c8b6fb124",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "\"maximum\"",
    "created_at": "2020-08-11T21:34:42Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468878124",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468878124"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468878124"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468878124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 730,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468878263",
    "pull_request_review_id": 465443045,
    "id": 468878263,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODg3ODI2Mw==",
    "diff_hunk": "@@ -727,7 +727,7 @@ static UniValue getnodeaddresses(const JSONRPCRequest& request)\n             RPCHelpMan{\"getnodeaddresses\",\n                 \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\",\n                 {\n-                    {\"count\", RPCArg::Type::NUM, /* default */ \"1\", \"How many addresses to return. Limited to the smaller of \" + ToString(ADDRMAN_GETADDR_MAX) + \" or \" + ToString(ADDRMAN_GETADDR_MAX_PCT) + \"% of all known addresses.\"},\n+                    {\"count\", RPCArg::Type::NUM, /* default */ \"1\", \"The max number of addresses to return. Specify 0 to return all known addresses.\"},",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "81cbe5e87a9418b473f251b1ec8c9b6c8b6fb124",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Would prefer -1 rather than 0 for no limit",
    "created_at": "2020-08-11T21:34:59Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468878263",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468878263"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468878263"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468878263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 730,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468879149",
    "pull_request_review_id": 465443045,
    "id": 468879149,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODg3OTE0OQ==",
    "diff_hunk": "@@ -775,6 +773,54 @@ static UniValue getnodeaddresses(const JSONRPCRequest& request)\n     return ret;\n }\n \n+static UniValue addpeeraddress(const JSONRPCRequest& request)",
    "path": "src/rpc/net.cpp",
    "position": 35,
    "original_position": 35,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "81cbe5e87a9418b473f251b1ec8c9b6c8b6fb124",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "IMO this should be moved to a separate PR, so not reviewing here.",
    "created_at": "2020-08-11T21:37:04Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468879149",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468879149"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r468879149"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468879149/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 776,
    "original_line": 776,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469076013",
    "pull_request_review_id": 465676931,
    "id": 469076013,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA3NjAxMw==",
    "diff_hunk": "@@ -479,11 +479,15 @@ int CAddrMan::Check_()\n }\n #endif\n \n-void CAddrMan::GetAddr_(std::vector<CAddress>& vAddr)\n+void CAddrMan::GetAddr_(std::vector<CAddress>& vAddr, unsigned int max_addresses, unsigned int max_pct)\n {\n-    unsigned int nNodes = ADDRMAN_GETADDR_MAX_PCT * vRandom.size() / 100;\n-    if (nNodes > ADDRMAN_GETADDR_MAX)\n-        nNodes = ADDRMAN_GETADDR_MAX;\n+    unsigned int nNodes = vRandom.size();\n+    if (max_pct != 0) {",
    "path": "src/addrman.cpp",
    "position": 11,
    "original_position": 11,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "81cbe5e87a9418b473f251b1ec8c9b6c8b6fb124",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think both are fine. Calling with 0 to indicate no max seems fine to me too.",
    "created_at": "2020-08-12T07:58:21Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r469076013",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469076013"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r469076013"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469076013/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 485,
    "original_line": 485,
    "side": "RIGHT",
    "in_reply_to_id": 468876270
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469076062",
    "pull_request_review_id": 465677015,
    "id": 469076062,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA3NjA2Mg==",
    "diff_hunk": "@@ -479,11 +479,15 @@ int CAddrMan::Check_()\n }\n #endif\n \n-void CAddrMan::GetAddr_(std::vector<CAddress>& vAddr)\n+void CAddrMan::GetAddr_(std::vector<CAddress>& vAddr, unsigned int max_addresses, unsigned int max_pct)\n {\n-    unsigned int nNodes = ADDRMAN_GETADDR_MAX_PCT * vRandom.size() / 100;\n-    if (nNodes > ADDRMAN_GETADDR_MAX)\n-        nNodes = ADDRMAN_GETADDR_MAX;\n+    unsigned int nNodes = vRandom.size();\n+    if (max_pct != 0) {\n+        nNodes = max_pct * nNodes / 100;\n+    }\n+    if (max_addresses != 0) {",
    "path": "src/addrman.cpp",
    "position": 14,
    "original_position": 14,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "81cbe5e87a9418b473f251b1ec8c9b6c8b6fb124",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "as above",
    "created_at": "2020-08-12T07:58:28Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r469076062",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469076062"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r469076062"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469076062/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 488,
    "original_line": 488,
    "side": "RIGHT",
    "in_reply_to_id": 468876741
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469085897",
    "pull_request_review_id": 465689838,
    "id": 469085897,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA4NTg5Nw==",
    "diff_hunk": "@@ -261,7 +255,7 @@ friend class CAddrManTest;\n #endif\n \n     //! Select several addresses at once.\n-    void GetAddr_(std::vector<CAddress> &vAddr) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+    void GetAddr_(std::vector<CAddress> &vAddr, unsigned int max_addresses, unsigned int max_pct) EXCLUSIVE_LOCKS_REQUIRED(cs);",
    "path": "src/addrman.h",
    "position": null,
    "original_position": 18,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "81cbe5e87a9418b473f251b1ec8c9b6c8b6fb124",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "ok, changed all of these to size_t",
    "created_at": "2020-08-12T08:16:58Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r469085897",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469085897"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r469085897"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469085897/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 258,
    "side": "RIGHT",
    "in_reply_to_id": 468876980
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469087624",
    "pull_request_review_id": 465692082,
    "id": 469087624,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA4NzYyNA==",
    "diff_hunk": "@@ -98,7 +98,7 @@ static void AddrManGetAddr(benchmark::Bench& bench)\n     FillAddrMan(addrman);\n \n     bench.run([&] {\n-        const auto& addresses = addrman.GetAddr();\n+        const auto& addresses = addrman.GetAddr(2500, 23);  // Compatibility with ADDRMAN_GETADDR_MAX_PCT and ADDRMAN_GETADDR_MAX",
    "path": "src/bench/addrman.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "81cbe5e87a9418b473f251b1ec8c9b6c8b6fb124",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, so the values used in the bench stay the same. I've removed the comment since it's confusing.",
    "created_at": "2020-08-12T08:20:04Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r469087624",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469087624"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r469087624"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469087624/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 101,
    "side": "RIGHT",
    "in_reply_to_id": 468877498
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469088140",
    "pull_request_review_id": 465692709,
    "id": 469088140,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA4ODE0MA==",
    "diff_hunk": "@@ -727,7 +727,7 @@ static UniValue getnodeaddresses(const JSONRPCRequest& request)\n             RPCHelpMan{\"getnodeaddresses\",\n                 \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\",\n                 {\n-                    {\"count\", RPCArg::Type::NUM, /* default */ \"1\", \"How many addresses to return. Limited to the smaller of \" + ToString(ADDRMAN_GETADDR_MAX) + \" or \" + ToString(ADDRMAN_GETADDR_MAX_PCT) + \"% of all known addresses.\"},\n+                    {\"count\", RPCArg::Type::NUM, /* default */ \"1\", \"The max number of addresses to return. Specify 0 to return all known addresses.\"},",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "81cbe5e87a9418b473f251b1ec8c9b6c8b6fb124",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "done",
    "created_at": "2020-08-12T08:20:55Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r469088140",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469088140"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r469088140"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469088140/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 730,
    "side": "RIGHT",
    "in_reply_to_id": 468878124
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469088229",
    "pull_request_review_id": 465692844,
    "id": 469088229,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA4ODIyOQ==",
    "diff_hunk": "@@ -727,7 +727,7 @@ static UniValue getnodeaddresses(const JSONRPCRequest& request)\n             RPCHelpMan{\"getnodeaddresses\",\n                 \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\",\n                 {\n-                    {\"count\", RPCArg::Type::NUM, /* default */ \"1\", \"How many addresses to return. Limited to the smaller of \" + ToString(ADDRMAN_GETADDR_MAX) + \" or \" + ToString(ADDRMAN_GETADDR_MAX_PCT) + \"% of all known addresses.\"},\n+                    {\"count\", RPCArg::Type::NUM, /* default */ \"1\", \"The max number of addresses to return. Specify 0 to return all known addresses.\"},",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "81cbe5e87a9418b473f251b1ec8c9b6c8b6fb124",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "as above",
    "created_at": "2020-08-12T08:21:06Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r469088229",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469088229"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r469088229"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469088229/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 730,
    "side": "RIGHT",
    "in_reply_to_id": 468878263
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469088712",
    "pull_request_review_id": 465693411,
    "id": 469088712,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA4ODcxMg==",
    "diff_hunk": "@@ -775,6 +773,54 @@ static UniValue getnodeaddresses(const JSONRPCRequest& request)\n     return ret;\n }\n \n+static UniValue addpeeraddress(const JSONRPCRequest& request)",
    "path": "src/rpc/net.cpp",
    "position": 35,
    "original_position": 35,
    "commit_id": "37a480e0cd94895b6051abef12d984ff74bdc4a3",
    "original_commit_id": "81cbe5e87a9418b473f251b1ec8c9b6c8b6fb124",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'm keeping it in this PR since it already has reviews and concept ACKs.",
    "created_at": "2020-08-12T08:21:54Z",
    "updated_at": "2020-08-12T08:24:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r469088712",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469088712"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19658#discussion_r469088712"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19658"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/469088712/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 776,
    "original_line": 776,
    "side": "RIGHT",
    "in_reply_to_id": 468879149
  }
]