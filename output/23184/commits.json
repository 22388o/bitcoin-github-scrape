[
  {
    "sha": "fa2ad19a5edf4754adde99b3d6cf0a3b4609badc",
    "node_id": "C_kwDOABII59oAKGZhMmFkMTlhNWVkZjQ3NTRhZGRlOTliM2Q2Y2YwYTNiNDYwOWJhZGM",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-10-05T10:41:56Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-10-05T10:39:22Z"
      },
      "message": "test: Add ParseMoney embedded whitespace tests",
      "tree": {
        "sha": "876d907a0c7fb30a10a7b8a3afcb89a07feaa79d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/876d907a0c7fb30a10a7b8a3afcb89a07feaa79d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa2ad19a5edf4754adde99b3d6cf0a3b4609badc",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUjchAwAsYXBR52hpuECaJ3uccC78iWA5Fx4X3a1P0oSqS9GDkoCq+10HX0H4Q/O\nglVSiyUeAP11UrKTJkA5A38d2bV0jX+v3Qi8ep2xQCQ4tUugSvxfaDvKi/CfUTf2\nw2zGmuLWyI38JW1vlO+2mJXkK9/F/YrzO7OJUzWyL1uuB5FQQIT5dmLOJyn20z+0\nZDHDtAxfZQv+rX9lmwRD8+rmpwNFOjJsmBhJtTJXZJm4Kb/0pn8jesLsfxYZgpY+\n9lfhxyWmIfhyW/y9U5yk8UTLGuiAo+Va5LRjt2KhnhkBVQmI5bcEMkhov/V6MgpO\nwQedOS8eYWA/jf1JT21mfauZiVqBE+SqTiQz1VOF5Ho/D+K0tGmfo6Bn68XRgSes\n1u/n0q07bqMbzkWEnbw87LlZhnnNQciVIeRsiTGL36Qq2BcMznOqN2iErN+Ipd+i\n3xD7QUmzqdnxbH1Wj3h4/SvJSbpe7IIHBihJixz2QBrPlIEe9dW9wxDVodCzmxJW\n5Rxxqxir\n=hgev\n-----END PGP SIGNATURE-----",
        "payload": "tree 876d907a0c7fb30a10a7b8a3afcb89a07feaa79d\nparent c79d9fb2f6e5f47dcb0ac45d66a542dad0c8e7e4\nauthor MarcoFalke <falke.marco@gmail.com> 1633430516 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1633430362 +0200\n\ntest: Add ParseMoney embedded whitespace tests\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa2ad19a5edf4754adde99b3d6cf0a3b4609badc",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2ad19a5edf4754adde99b3d6cf0a3b4609badc",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa2ad19a5edf4754adde99b3d6cf0a3b4609badc/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c79d9fb2f6e5f47dcb0ac45d66a542dad0c8e7e4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c79d9fb2f6e5f47dcb0ac45d66a542dad0c8e7e4",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c79d9fb2f6e5f47dcb0ac45d66a542dad0c8e7e4"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 5,
      "deletions": 0
    },
    "files": [
      {
        "sha": "8b3e5ac10cf24e2b6cbad1eaf5ae814d3478eb3d",
        "filename": "src/test/util_tests.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa2ad19a5edf4754adde99b3d6cf0a3b4609badc/src/test/util_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa2ad19a5edf4754adde99b3d6cf0a3b4609badc/src/test/util_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/util_tests.cpp?ref=fa2ad19a5edf4754adde99b3d6cf0a3b4609badc",
        "patch": "@@ -1281,6 +1281,11 @@ BOOST_AUTO_TEST_CASE(util_ParseMoney)\n     BOOST_CHECK(!ParseMoney(\" 1.2 3 \"));\n     BOOST_CHECK(!ParseMoney(\" 1 2.3 \"));\n \n+    // Embedded whitespace should fail\n+    BOOST_CHECK(!ParseMoney(\" -1 .2  \"));\n+    BOOST_CHECK(!ParseMoney(\"  1 .2  \"));\n+    BOOST_CHECK(!ParseMoney(\" +1 .2  \"));\n+\n     // Attempted 63 bit overflow should fail\n     BOOST_CHECK(!ParseMoney(\"92233720368.54775808\"));\n "
      }
    ]
  },
  {
    "sha": "faae83c8f86c7daa14bacae384115996c3643df2",
    "node_id": "C_kwDOABII59oAKGZhYWU4M2M4Zjg2YzdkYWExNGJhY2FlMzg0MTE1OTk2YzM2NDNkZjI",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-10-05T11:19:16Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-10-05T11:05:37Z"
      },
      "message": "doc: Fixup ToIntegral docs",
      "tree": {
        "sha": "e72a39699009c0502843f238b84800cfa9a86eee",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e72a39699009c0502843f238b84800cfa9a86eee"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faae83c8f86c7daa14bacae384115996c3643df2",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUioCgwAytC0D/7yj5IxqDb4w7Vdu3PkCbZwxNApSZxBbwN+aAgR7GtXj0EmsDrg\ndVZHOsr3dD1FWfXY/Mqi0EZe6z44bSJE9xZ2VEB/8rALm/iHOMK3mmbuigX/1hR4\nYNgN7iQ1p8sFElqYL+hDp0pl20T/zH40OEuJN3p16a3/0JuFWV+9nVkr0es6Dun5\nlxGU0mliHIqWXF7emI58wwJI+6afURZ5KggNsnvoh+dE7GrDZzM5lKqA1zzWMSZB\nruPOpq7KVD+SgdevQqbOzC3fBkcGUEkGKVWQ5U48gPBVpGiAROs2knNBbH984z7M\nSW/oZRQS9FXXLkMapZ/X15P2iSlJ6Xywyhlx2Os0fOr4Zb+5mbQEywE8SaXk85JT\nKy4HmO3XKkajfQ6KCnNwdk7tLcs/gaMsFgKWyFiqaYsKJJqw4iYNZfTrgmpuxFI9\nz3RMi8/x42pME7nEXJNEe3zxo4g1cumwjR6iGMSOwoecQVU+38MVNjnzd3jcecJ3\nMd/Aqxed\n=xJXI\n-----END PGP SIGNATURE-----",
        "payload": "tree e72a39699009c0502843f238b84800cfa9a86eee\nparent fa2ad19a5edf4754adde99b3d6cf0a3b4609badc\nauthor MarcoFalke <falke.marco@gmail.com> 1633432756 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1633431937 +0200\n\ndoc: Fixup ToIntegral docs\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faae83c8f86c7daa14bacae384115996c3643df2",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/faae83c8f86c7daa14bacae384115996c3643df2",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faae83c8f86c7daa14bacae384115996c3643df2/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa2ad19a5edf4754adde99b3d6cf0a3b4609badc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa2ad19a5edf4754adde99b3d6cf0a3b4609badc",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2ad19a5edf4754adde99b3d6cf0a3b4609badc"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "eedb5ec2f860e7e5c1ad734f296ffbce0d07f68e",
        "filename": "src/util/strencodings.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faae83c8f86c7daa14bacae384115996c3643df2/src/util/strencodings.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faae83c8f86c7daa14bacae384115996c3643df2/src/util/strencodings.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/strencodings.h?ref=faae83c8f86c7daa14bacae384115996c3643df2",
        "patch": "@@ -72,7 +72,7 @@ void SplitHostPort(std::string in, uint16_t& portOut, std::string& hostOut);\n \n // LocaleIndependentAtoi is provided for backwards compatibility reasons.\n //\n-// New code should use the ParseInt64/ParseUInt64/ParseInt32/ParseUInt32 functions\n+// New code should use ToIntegral or the ParseInt* functions\n // which provide parse error feedback.\n //\n // The goal of LocaleIndependentAtoi is to replicate the exact defined behaviour\n@@ -125,7 +125,7 @@ constexpr inline bool IsSpace(char c) noexcept {\n /**\n  * Convert string to integral type T. Leading whitespace, a leading +, or any\n  * trailing character fail the parsing. The required format expressed as regex\n- * is `-?[0-9]+`.\n+ * is `-?[0-9]+`. The minus sign is only permitted for signed integer types.\n  *\n  * @returns std::nullopt if the entire string could not be parsed, or if the\n  *   parsed value is not in the range representable by the type T."
      },
      {
        "sha": "4a3eefa74c3cfb0e05f0b5ebd9511da349ed7d5e",
        "filename": "test/lint/lint-locale-dependence.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faae83c8f86c7daa14bacae384115996c3643df2/test/lint/lint-locale-dependence.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faae83c8f86c7daa14bacae384115996c3643df2/test/lint/lint-locale-dependence.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/lint/lint-locale-dependence.sh?ref=faae83c8f86c7daa14bacae384115996c3643df2",
        "patch": "@@ -38,7 +38,7 @@ export LC_ALL=C\n # https://stackoverflow.com/a/34878283 for more details.\n \n # TODO: Reduce KNOWN_VIOLATIONS by replacing uses of locale dependent stoul/strtol with locale\n-#       independent ToIntegral<T>(...).\n+#       independent ToIntegral<T>(...) or the ParseInt*() functions.\n # TODO: Reduce KNOWN_VIOLATIONS by replacing uses of locale dependent snprintf with strprintf.\n KNOWN_VIOLATIONS=(\n     \"src/bitcoin-tx.cpp.*stoul\""
      }
    ]
  },
  {
    "sha": "fa6a25e92d1afeffa5b1a8d3edcfe176da04291a",
    "node_id": "C_kwDOABII59oAKGZhNmEyNWU5MmQxYWZlZmZhNWIxYThkM2VkY2ZlMTc2ZGEwNDI5MWE",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-10-05T11:07:09Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-10-05T11:05:52Z"
      },
      "message": "Use stricter ToIntegral over LocaleIndependentAtoi where possible",
      "tree": {
        "sha": "db253ccf084a02af7f68f144f80eca483a4beab2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/db253ccf084a02af7f68f144f80eca483a4beab2"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa6a25e92d1afeffa5b1a8d3edcfe176da04291a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUiSSQwArG6OfrriCV6B+1ChNf8HrlrvXfvgQBnPb+uRavqj9CVelC3WgOpEn9yb\ne8uWGstX2auFj/sn8MpLqZJ2CG9skJpXNZIrFS9ZPGLzm3eVzVnSdHRUL7NaqumS\n5o0qPxil5i3oTvTB/u6Cy73WQoU9d15VIqJyl76sctMn4KHqlmMTINKKAoEksnHV\nmNo7KXjtWVpNtCzpQWwK3n505dYB6Fb1BPDhxnaFrvIACvOcSyWZAOgQp27/163/\nnViVYVESuMgB4NJ7U4G/GF/+1iwqaRDxlY6TXDjKIZXmyMszSUf2D+YowxvwHL5q\n54ur4qdmHEzKKzurv2KiqWJYntbwQSHk/eUdiLxXC7/ciE8n/+UIJT8xY4TQeJy3\n2eEJRegUIKRsBeACDWEVhBYy+/hYcYK2BwJeWR/qPl5mQHXdmheIFh/IAb9LXAx6\n9/ZUv0PgsDqjWbmuHr7EEkRS/Jx3TgOtV1Db3oH1KQGptJlVP1YZax1wNbp/6r2l\ngWHuNrF0\n=k1KF\n-----END PGP SIGNATURE-----",
        "payload": "tree db253ccf084a02af7f68f144f80eca483a4beab2\nparent faae83c8f86c7daa14bacae384115996c3643df2\nauthor MarcoFalke <falke.marco@gmail.com> 1633432029 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1633431952 +0200\n\nUse stricter ToIntegral over LocaleIndependentAtoi where possible\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa6a25e92d1afeffa5b1a8d3edcfe176da04291a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa6a25e92d1afeffa5b1a8d3edcfe176da04291a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa6a25e92d1afeffa5b1a8d3edcfe176da04291a/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "faae83c8f86c7daa14bacae384115996c3643df2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faae83c8f86c7daa14bacae384115996c3643df2",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/faae83c8f86c7daa14bacae384115996c3643df2"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 14,
      "deletions": 6
    },
    "files": [
      {
        "sha": "7f70f3334f9f83515ae912c77335d7901c5cb937",
        "filename": "src/core_read.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa6a25e92d1afeffa5b1a8d3edcfe176da04291a/src/core_read.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa6a25e92d1afeffa5b1a8d3edcfe176da04291a/src/core_read.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/core_read.cpp?ref=fa6a25e92d1afeffa5b1a8d3edcfe176da04291a",
        "patch": "@@ -11,6 +11,7 @@\n #include <serialize.h>\n #include <streams.h>\n #include <univalue.h>\n+#include <util/check.h>\n #include <util/strencodings.h>\n #include <version.h>\n \n@@ -69,7 +70,9 @@ CScript ParseScript(const std::string& s)\n             (w->front() == '-' && w->size() > 1 && std::all_of(w->begin()+1, w->end(), ::IsDigit)))\n         {\n             // Number\n-            int64_t n = LocaleIndependentAtoi<int64_t>(*w);\n+            const auto parsed{ToIntegral<int64_t>(*w)};\n+            CHECK_NONFATAL(parsed.has_value());\n+            const int64_t n{*parsed};\n \n             //limit the range of numbers ParseScript accepts in decimal\n             //since numbers outside -0xFFFFFFFF...0xFFFFFFFF are illegal in scripts"
      },
      {
        "sha": "0c3332ab76145b2804d70fd64c24e9c6c9a9c084",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 4,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa6a25e92d1afeffa5b1a8d3edcfe176da04291a/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa6a25e92d1afeffa5b1a8d3edcfe176da04291a/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=fa6a25e92d1afeffa5b1a8d3edcfe176da04291a",
        "patch": "@@ -247,10 +247,11 @@ bool RPCConsole::RPCParseCommandLine(interfaces::Node* node, std::string &strRes\n                                 UniValue subelement;\n                                 if (lastResult.isArray())\n                                 {\n-                                    for(char argch: curarg)\n-                                        if (!IsDigit(argch))\n-                                            throw std::runtime_error(\"Invalid result query\");\n-                                    subelement = lastResult[LocaleIndependentAtoi<int>(curarg)];\n+                                    const auto parsed{ToIntegral<size_t>(curarg)};\n+                                    if (!parsed) {\n+                                        throw std::runtime_error(\"Invalid result query\");\n+                                    }\n+                                    subelement = lastResult[parsed.value()];\n                                 }\n                                 else if (lastResult.isObject())\n                                     subelement = find_value(lastResult, curarg);"
      },
      {
        "sha": "d2f8ce00d5f843e26293eb886390d44894850889",
        "filename": "src/test/fuzz/parse_script.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa6a25e92d1afeffa5b1a8d3edcfe176da04291a/src/test/fuzz/parse_script.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa6a25e92d1afeffa5b1a8d3edcfe176da04291a/src/test/fuzz/parse_script.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/parse_script.cpp?ref=fa6a25e92d1afeffa5b1a8d3edcfe176da04291a",
        "patch": "@@ -5,12 +5,15 @@\n #include <core_io.h>\n #include <script/script.h>\n #include <test/fuzz/fuzz.h>\n+#include <util/check.h>\n \n FUZZ_TARGET(parse_script)\n {\n     const std::string script_string(buffer.begin(), buffer.end());\n     try {\n         (void)ParseScript(script_string);\n+    } catch (const NonFatalCheckError&) {\n+        assert(false); // fail on internal logic error\n     } catch (const std::runtime_error&) {\n     }\n }"
      },
      {
        "sha": "b1b603cee55d8551e697f8be41641af8d160d683",
        "filename": "src/util/moneystr.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa6a25e92d1afeffa5b1a8d3edcfe176da04291a/src/util/moneystr.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa6a25e92d1afeffa5b1a8d3edcfe176da04291a/src/util/moneystr.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/moneystr.cpp?ref=fa6a25e92d1afeffa5b1a8d3edcfe176da04291a",
        "patch": "@@ -7,6 +7,7 @@\n \n #include <consensus/amount.h>\n #include <tinyformat.h>\n+#include <util/check.h>\n #include <util/strencodings.h>\n #include <util/string.h>\n \n@@ -77,7 +78,7 @@ std::optional<CAmount> ParseMoney(const std::string& money_string)\n         return std::nullopt;\n     if (nUnits < 0 || nUnits > COIN)\n         return std::nullopt;\n-    int64_t nWhole = LocaleIndependentAtoi<int64_t>(strWhole);\n+    const int64_t nWhole{*Assert(ToIntegral<int64_t>(strWhole))};\n     CAmount value = nWhole * COIN + nUnits;\n \n     if (!MoneyRange(value)) {"
      }
    ]
  }
]