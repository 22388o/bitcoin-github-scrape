gmaxwell,2014-12-16T09:49:47Z,"Because of the non-enforcement of minRelayTxFee this patch is somewhat bigger than I wanted.\n\nI've not tested this yet and I will do so, but wanted to get it up for discussion unless there is something I've missed where we don't need to enforce the relay fee minimum anymore.\n\nPresumably if smartfee is working it'll always be higher than that in any case, but I wouldn't want to be in a case whe",https://github.com/bitcoin/bitcoin/pull/5485#issuecomment-67134897,67134897,
morcos,2014-12-16T16:41:16Z,"I reviewed this code and it looks good to me.  I was wondering if you saw #5202 as there is already some incarnation of maximum fees, I think this is better than the mess that already exists and maybe we can get rid of some of the old ones now.  \n\nOne slight negative of enforcing the minRelayTxFee is this precludes the option to take your chances on relaying, but boost your chances of being incl",https://github.com/bitcoin/bitcoin/pull/5485#issuecomment-67189386,67189386,
gmaxwell,2014-12-16T19:10:12Z,"@morcos Thanks for the review.  I'll go through 5202, I saw that it was there... I'd been not following the fees logic, so I hadn't reviewed it. On this PR I wasn't trying for general improvements just bugfix grade foot-gun prevention.\n\nRe ""take your chance"", well-- I don't believe you'll relay it yourself under this condition, so I think at a minimum something else would need to change. And if ",https://github.com/bitcoin/bitcoin/pull/5485#issuecomment-67213891,67213891,
morcos,2014-12-16T20:34:00Z,"Maybe I'm missing something but I thought that by default free or very low fee transactions were relayed but they were just rate limited, so I don't see why you wouldn't often relay your own or others transactions.  The flag fSendFreeTransactions which lets you put 0 fee is different than the fAllowFree flag to GetMinRelayFee which is always true and I don't think your decision to relay could dist",https://github.com/bitcoin/bitcoin/pull/5485#issuecomment-67226998,67226998,
gmaxwell,2014-12-17T04:45:48Z,"@morcos There is a floor under which transactions without priority will not be relayed at all, this prevents varrious dos attacks (e.g. if it's merely rate limited I can fill your memory at that rate, and block all other free transactions).   (If somehow that slipped out, that needs to be fixed. :) )\n",https://github.com/bitcoin/bitcoin/pull/5485#issuecomment-67276754,67276754,
laanwj,2014-12-17T15:48:50Z,utACK\n,https://github.com/bitcoin/bitcoin/pull/5485#issuecomment-67341662,67341662,
jonasschnelli,2014-12-17T19:11:40Z,"ACK.\nTested with `-maxtxfee=0.00001` and Qt (big multiout tx). LLDB stepped the code.\nLooks good.\nnit: as mentioned by @laanwj, `./src/bitcoind --help | grep fee` shows:\n\n```\n  -paytxfee=<amt>        Fee (in BTC/kB) to add to transactions you send (default: 0.00)\n  -sendfreetransactions  Send transactions as zero-fee transactions if possible (default: 0)\n  -txconfirmtarget=<n>   If paytxfe",https://github.com/bitcoin/bitcoin/pull/5485#issuecomment-67375449,67375449,
laanwj,2014-12-17T15:28:52Z,"In contrast to the other fee options (which are per KB) this one is total, I think that requires extra mention.\n",https://github.com/bitcoin/bitcoin/pull/5485#discussion_r21978524,21978524,src/init.cpp
fanquake,2014-12-19T11:30:11Z,s/we're/we\n,https://github.com/bitcoin/bitcoin/pull/5485#discussion_r22100297,22100297,src/wallet.cpp
gmaxwell,2014-12-19T20:05:22Z,fixed\n,https://github.com/bitcoin/bitcoin/pull/5485#discussion_r22125760,22125760,src/wallet.cpp
