[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542437438",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-542437438",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 542437438,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MjQzNzQzOA==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-15T22:50:48Z",
    "updated_at": "2019-10-15T22:51:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK\r\n\r\nThanks for addressing these issues quickly! :) Will test.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542437438/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543123631",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-543123631",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 543123631,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MzEyMzYzMQ==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-17T11:06:20Z",
    "updated_at": "2019-10-17T11:06:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "With this patch applied the PSBT fuzzer appears to be unable to trigger the problematic conditions listed in the issue #17149.\r\n\r\nHowever, I noticed that using the following 202 byte input:\r\n\r\n```\r\n70736274ff01009a020000000258e87a21b56daf0c23be8e7070456c336f\r\n7cbaa5c8757924f545887bb282dd750000000000ffffffff838d0427d0ec\r\n650a68aa46bb0b098aea4422c071b2ca78352a077959d07cea1d01000000\r\n00ffffffff0270aaf00800000000160014d85c2b71d0060b09c9886aeb81\r\n5e50991dda124d00e1f5050000000016001400aea9a2e5f0f876a588df55\r\n46e8742d202020ffff603016000001012000c2eb0b000000001714a9b7f5\r\nfaff09090010610000db2a077959d07cea1d01000000\r\n```\r\n\r\nThe following UBSan condition is triggered:\r\n\r\n```\r\nprevector.h:452:19: runtime error: reference binding to misaligned address 0x7fff2c5dc562 for type 'prevector<28, unsigned char, unsigned int, int>::size_type' (aka 'unsigned int'), which requires 4 byte alignment\r\n0x7fff2c5dc562: note: pointer points here\r\n ff ff  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  00 00 00 00 00 00\r\n              ^\r\n    #0 0x56183e4f724f in prevector<28u, unsigned char, unsigned int, int>::swap(prevector<28u, unsigned char, unsigned int, int>&) src/./prevector.h:452:9\r\n    #1 0x56183e4ec6fa in prevector<28u, unsigned char, unsigned int, int>::operator=(prevector<28u, unsigned char, unsigned int, int>&&) src/./prevector.h:272:9\r\n    #2 0x56183e4ec6fa in CScript::operator=(CScript&&) src/./script/script.h:390\r\n    #3 0x56183f407fa9 in ProduceSignature(SigningProvider const&, BaseSignatureCreator const&, CScript const&, SignatureData&) src/script/sign.cpp:240:23\r\n    #4 0x56183f30c8a3 in SignPSBTInput(SigningProvider const&, PartiallySignedTransaction&, int, int, SignatureData*, bool) src/psbt.cpp:285:24\r\n    #5 0x56183e7eb0e8 in AnalyzePSBT(PartiallySignedTransaction) src/node/psbt.cpp:54:29\r\n    #6 0x56183e393014 in test_one_input(std::vector<unsigned char, std::allocator<unsigned char> > const&) src/test/fuzz/psbt.cpp:28:35\r\n\u2026\r\nSUMMARY: UndefinedBehaviorSanitizer: undefined-behavior prevector.h:452:19 in\r\n```\r\n\r\nMight be worth tackling that one as well?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543123631/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543290034",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-543290034",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 543290034,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MzI5MDAzNA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-17T17:55:20Z",
    "updated_at": "2019-10-17T17:55:20Z",
    "author_association": "MEMBER",
    "body": "What do I need to run in order to get the same error?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543290034/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543294418",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-543294418",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 543294418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MzI5NDQxOA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-17T18:06:27Z",
    "updated_at": "2019-10-17T18:06:27Z",
    "author_association": "MEMBER",
    "body": "Something like this:\r\n\r\n```\r\n#check out this branch\r\n./configure --disable-ccache --enable-fuzz --with-sanitizers=fuzzer,address,undefined CC=clang CXX=clang++\r\nmake -j 9\r\nexport LSAN_OPTIONS=\"suppressions=$(pwd)/test/sanitizer_suppressions/lsan\"\r\nexport TSAN_OPTIONS=\"suppressions=$(pwd)/test/sanitizer_suppressions/tsan\"\r\nexport UBSAN_OPTIONS=\"suppressions=$(pwd)/test/sanitizer_suppressions/ubsan:print_stacktrace=1:halt_on_error=1\"\r\n#run this fuzzer with the seed\r\n./src/test/fuzz/this_fuzzer -runs=1 ./the_input\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543294418/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543294629",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-543294629",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 543294629,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MzI5NDYyOQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-17T18:07:00Z",
    "updated_at": "2019-10-17T18:07:00Z",
    "author_association": "MEMBER",
    "body": "Not sure how to translate the base16 seed into a binary seed with the command line, though",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543294629/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543302776",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-543302776",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 543302776,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MzMwMjc3Ng==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-17T18:27:01Z",
    "updated_at": "2019-10-17T18:27:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "@MarcoFalke \r\n\r\n```\r\n$ xxd -r -p > seed <<< \"70736274ff01009a020000000258e87a21b56daf0c23be8e7070456c336f\r\n7cbaa5c8757924f545887bb282dd750000000000ffffffff838d0427d0ec\r\n650a68aa46bb0b098aea4422c071b2ca78352a077959d07cea1d01000000\r\n00ffffffff0270aaf00800000000160014d85c2b71d0060b09c9886aeb81\r\n5e50991dda124d00e1f5050000000016001400aea9a2e5f0f876a588df55\r\n46e8742d202020ffff603016000001012000c2eb0b000000001714a9b7f5\r\nfaff09090010610000db2a077959d07cea1d01000000\"\r\n$ head -c4 seed\r\npsbt\r\n```\r\n\r\n:)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543302776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543308076",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-543308076",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 543308076,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MzMwODA3Ng==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-17T18:39:55Z",
    "updated_at": "2019-10-17T18:39:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "@achow101 \r\n\r\n```\r\n$ CC=clang CXX=clang++ ./configure --enable-fuzz \\\r\n      --with-sanitizers=address,fuzzer,undefined\r\n$ make\r\n$ mkdir psbt-seeds/\r\n$ xxd -r -p > psbt-seeds/seed <<< \"70736274ff01009a020000000258e87a21b56daf0c23be8e7070456c336f\r\n7cbaa5c8757924f545887bb282dd750000000000ffffffff838d0427d0ec\r\n650a68aa46bb0b098aea4422c071b2ca78352a077959d07cea1d01000000\r\n00ffffffff0270aaf00800000000160014d85c2b71d0060b09c9886aeb81\r\n5e50991dda124d00e1f5050000000016001400aea9a2e5f0f876a588df55\r\n46e8742d202020ffff603016000001012000c2eb0b000000001714a9b7f5\r\nfaff09090010610000db2a077959d07cea1d01000000\"\r\n$ UBSAN_OPTIONS=\"print_stacktrace=1:halt_on_error=1\" src/test/fuzz/psbt psbt-seeds/\r\n\u2026\r\nprevector.h:452:19: runtime error: reference binding to misaligned address 0x7fff2c5dc562 for type 'prevector<28, unsigned char, unsigned int, int>::size_type' (aka 'unsigned int'), which requires 4 byte alignment\r\n0x7fff2c5dc562: note: pointer points here\r\n ff ff  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  00 00 00 00 00 00\r\n              ^\r\n    #0 0x56183e4f724f in prevector<28u, unsigned char, unsigned int, int>::swap(prevector<28u, unsigned char, unsigned int, int>&) src/./prevector.h:452:9\r\n    #1 0x56183e4ec6fa in prevector<28u, unsigned char, unsigned int, int>::operator=(prevector<28u, unsigned char, unsigned int, int>&&) src/./prevector.h:272:9\r\n    #2 0x56183e4ec6fa in CScript::operator=(CScript&&) src/./script/script.h:390\r\n    #3 0x56183f407fa9 in ProduceSignature(SigningProvider const&, BaseSignatureCreator const&, CScript const&, SignatureData&) src/script/sign.cpp:240:23\r\n    #4 0x56183f30c8a3 in SignPSBTInput(SigningProvider const&, PartiallySignedTransaction&, int, int, SignatureData*, bool) src/psbt.cpp:285:24\r\n    #5 0x56183e7eb0e8 in AnalyzePSBT(PartiallySignedTransaction) src/node/psbt.cpp:54:29\r\n    #6 0x56183e393014 in test_one_input(std::vector<unsigned char, std::allocator<unsigned char> > const&) src/test/fuzz/psbt.cpp:28:35\r\n\u2026\r\nSUMMARY: UndefinedBehaviorSanitizer: undefined-behavior prevector.h:452:19 in\r\n```\r\n\r\n:)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543308076/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543416770",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-543416770",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 543416770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MzQxNjc3MA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-18T00:00:25Z",
    "updated_at": "2019-10-18T00:00:25Z",
    "author_association": "MEMBER",
    "body": "I'm not really sure why that happens.\r\n\r\n```\r\ndiff --git a/src/script/sign.cpp b/src/script/sign.cpp\r\nindex 0ed92e8d5b..be24d002ad 100644\r\n--- a/src/script/sign.cpp\r\n+++ b/src/script/sign.cpp\r\n@@ -237,7 +237,11 @@ bool ProduceSignature(const SigningProvider& provider, const BaseSignatureCreato\r\n     if (P2SH) {\r\n         result.push_back(std::vector<unsigned char>(subscript.begin(), subscript.end()));\r\n     }\r\n-    sigdata.scriptSig = PushAll(result);\r\n+    if (result.size() == 0) {\r\n+        sigdata.scriptSig.clear();\r\n+    } else {\r\n+        sigdata.scriptSig = PushAll(result);\r\n+    }\r\n \r\n     // Test solution\r\n     sigdata.complete = solved && VerifyScript(sigdata.scriptSig, fromPubKey, &sigdata.scriptWitness, STANDARD_SCRIPT_VERIFY_FLAGS, creator.Checker());\r\n```\r\n\r\nfixes the problem, but it's more signing code than not. ISTM we should see this elsewhere too but it doesn't seem like it.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543416770/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/544160293",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-544160293",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 544160293,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NDE2MDI5Mw==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-19T15:29:25Z",
    "updated_at": "2019-10-19T15:29:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "@achow101 \r\n\r\n> ISTM we should see this elsewhere too but it doesn't seem like it.\r\n\r\nIsn't the difference that the *move* assignment operator is used in this case whereas the other non-warning cases you're referring to use the *copy* assignment operator?\r\n\r\nIf I'm correct then these two should trigger the UBSan warning:\r\n\r\n```\r\nsigdata.scriptSig = PushAll(result);\r\n```\r\n\r\n```\r\nCString script_sig = PushAll(result);\r\nsigdata.scriptSig = std::move(script_sig);\r\n```\r\n\r\nWhereas this won't trigger the UBSan warning:\r\n\r\n```\r\nCString script_sig = PushAll(result);\r\nsigdata.scriptSig = script_sig;\r\n```\r\n\r\nCould that be the case?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/544160293/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/544168946",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-544168946",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 544168946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NDE2ODk0Ng==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-19T16:31:12Z",
    "updated_at": "2019-10-19T16:31:12Z",
    "author_association": "MEMBER",
    "body": "> Isn't the difference that the _move_ assignment operator is used in this case whereas the other non-warning cases you're referring to use the _copy_ assignment operator?\r\n\r\nWhat I meant was that we should see this same error for any fuzzers that hit ProduceSignature. But I think we just don't have any fuzzers that reach ProduceSignature.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/544168946/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/544171404",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-544171404",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 544171404,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NDE3MTQwNA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-19T16:51:12Z",
    "updated_at": "2019-10-19T16:51:12Z",
    "author_association": "MEMBER",
    "body": "I've added a commit which adds a copy constructor and copy `operator=` to `CScript` which fixes the UBSan warning.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/544171404/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/544281583",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-544281583",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 544281583,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NDI4MTU4Mw==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-20T19:03:04Z",
    "updated_at": "2019-10-20T19:03:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "@achow101 Good! Then we should be able to get rid of this UBSan suppression? :)\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/b8f041af2d2c89afdc14f8c632dfb7fecb535cb5/test/sanitizer_suppressions/ubsan#L2",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/544281583/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545010103",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-545010103",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 545010103,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NTAxMDEwMw==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-22T15:10:35Z",
    "updated_at": "2019-10-22T15:10:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Judging from my testing we can get rid of both these UBSan suppressions as part of this PR:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/b8f041af2d2c89afdc14f8c632dfb7fecb535cb5/test/sanitizer_suppressions/ubsan#L1-L2\r\n\r\nGreat!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545010103/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/549272331",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-549272331",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 549272331,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0OTI3MjMzMQ==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-04T09:20:08Z",
    "updated_at": "2019-11-04T20:14:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "@achow101 Can you remove the UBSan suppressions? That will allow Travis to confirm that you've solved the alignment issue. Then this PR should be ready to go AFAICT.\r\n\r\n~~@fanquake Would you mind adding waiting for author-tag? :)~~",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/549272331/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/549529326",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-549529326",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 549529326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0OTUyOTMyNg==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-04T20:19:15Z",
    "updated_at": "2019-11-04T20:19:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK db30e5bd6fb51913a4ce2177097be3ebcabab146 assuming Travis is happy too -- diff looks correct",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/549529326/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/549606221",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-549606221",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 549606221,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0OTYwNjIyMQ==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-05T00:16:52Z",
    "updated_at": "2019-12-11T12:23:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17211](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17211.html) (Allow fundrawtransaction and walletcreatefundedpsbt to take external inputs by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/549606221/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564283882",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-564283882",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 564283882,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDI4Mzg4Mg==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-10T22:14:51Z",
    "updated_at": "2019-12-10T22:14:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK a2800d704870cf120127a98769ed97b06c35042e -- diff looks correct",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564283882/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564363345",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-564363345",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 564363345,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDM2MzM0NQ==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-11T03:27:20Z",
    "updated_at": "2019-12-11T03:27:20Z",
    "author_association": "MEMBER",
    "body": "I've added some more to this.\r\n\r\nI've added a couple of tests. In doing so, I also found a few additional places that we needed checks.\r\n\r\nAdditionally, I've replaced the `Reset` calls with the new `SetInvalid` so that we can return proper errors.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564363345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564413228",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-564413228",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 564413228,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDQxMzIyOA==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-11T07:20:28Z",
    "updated_at": "2019-12-11T07:20:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK 2dd91b86cd7ef09fa3ae280bfe99db8cfb6fe531 -- diff looks correct",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564413228/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564670060",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-564670060",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 564670060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDY3MDA2MA==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-11T18:20:07Z",
    "updated_at": "2019-12-11T18:20:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Sjors Do you ACK the changes also with the nits unaddressed? If so please consider ACK:ing - it would be good to get this reviewed (and merged).\r\n\r\nIt bothers me that an RPC call with a malformed PSBT can bring down Bitcoin Core :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564670060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564912684",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-564912684",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 564912684,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDkxMjY4NA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-12T08:58:27Z",
    "updated_at": "2019-12-12T08:58:27Z",
    "author_association": "MEMBER",
    "body": "@practicalswift I haven't reviewed the rest of the code yet. My suggestions for improvements should not hold back merging. ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564912684/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565660251",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-565660251",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 565660251,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTY2MDI1MQ==",
    "user": {
      "login": "gwillen",
      "id": 458997,
      "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gwillen",
      "html_url": "https://github.com/gwillen",
      "followers_url": "https://api.github.com/users/gwillen/followers",
      "following_url": "https://api.github.com/users/gwillen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gwillen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gwillen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
      "organizations_url": "https://api.github.com/users/gwillen/orgs",
      "repos_url": "https://api.github.com/users/gwillen/repos",
      "events_url": "https://api.github.com/users/gwillen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gwillen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-14T00:34:20Z",
    "updated_at": "2019-12-14T00:34:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@achow101 what would you say to the alternate approach of having something like an all-in-one-place PSBT sanity checker? Could be added to IsSane() (which I would prefer), or if you think it might be too heavyweight (but I don't think so), a new method.\r\n\r\nThen we can immediately check every PSBT at the point of parsing, and not have to worry thereafter.\r\n\r\nIf you're amenable, I would be happy to make a candidate CL.\r\n\r\n(If you're not amenable, then utACK to this one. But I'm concerned that the piecemeal approach will both clutter the code with checks that are redundant across different methods, AND still miss stuff that we'll have to add more checks for later.)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565660251/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/566113328",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-566113328",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 566113328,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NjExMzMyOA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-16T15:37:25Z",
    "updated_at": "2019-12-16T15:37:25Z",
    "author_association": "MEMBER",
    "body": "@gwillen I don't think that we should have these checks at parse time. It's useful to have `decodepsbt` be able to decode psbts that are correctly formatted but logically incorrect (as we are doing here). Doing these checks at parse time would mean that `decodepsbt` would fail.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/566113328/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/566181903",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-566181903",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 566181903,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NjE4MTkwMw==",
    "user": {
      "login": "gwillen",
      "id": 458997,
      "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gwillen",
      "html_url": "https://github.com/gwillen",
      "followers_url": "https://api.github.com/users/gwillen/followers",
      "following_url": "https://api.github.com/users/gwillen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gwillen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gwillen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
      "organizations_url": "https://api.github.com/users/gwillen/orgs",
      "repos_url": "https://api.github.com/users/gwillen/repos",
      "events_url": "https://api.github.com/users/gwillen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gwillen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-16T18:24:55Z",
    "updated_at": "2019-12-16T18:24:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "That makes sense. What do you think about having two separate checks -- a basic validity check at parse time, and a more thorough check that can be run before doing anything with the PSBT (other than displaying it as JSON)?\r\n\r\nI think it's probably a hazard to allow PSBTs to hang around which have inconsistencies that can lead to e.g. reading off the end of vectors, and count on individual use code paths to check this every time. Even if we fix this specific case, I feel like it's going to hit us again in the future.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/566181903/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/566291980",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-566291980",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 566291980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NjI5MTk4MA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-16T23:15:52Z",
    "updated_at": "2019-12-16T23:15:52Z",
    "author_association": "MEMBER",
    "body": "I think it makes to have a general consistency check for other commands. But I think we should still do error checking like this as a belt-and-suspenders. We could add the general consistency check in another pr.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/566291980/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/566601136",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-566601136",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 566601136,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NjYwMTEzNg==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-17T15:50:47Z",
    "updated_at": "2019-12-17T15:50:47Z",
    "author_association": "MEMBER",
    "body": "> However tests still pass if the new checks `... >= input.non_witness_utxo->vout.size()` are removed.\r\n\r\nReally? It fails for me. I removed the second commit and kept just the test from it. That test fails.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/566601136/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/566812394",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-566812394",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 566812394,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NjgxMjM5NA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-18T00:33:22Z",
    "updated_at": "2019-12-18T00:33:22Z",
    "author_association": "MEMBER",
    "body": "Try running the test with\r\n```diff\r\n--- a/src/wallet/psbtwallet.cpp\r\n+++ b/src/wallet/psbtwallet.cpp\r\n@@ -44,9 +44,6 @@ TransactionError FillPSBT(const CWallet* pwallet, PartiallySignedTransaction& ps\r\n         if (!input.witness_utxo.IsNull()) {\r\n             script = input.witness_utxo.scriptPubKey;\r\n         } else if (input.non_witness_utxo) {\r\n-            if (txin.prevout.n >= input.non_witness_utxo->vout.size()) {\r\n-                return TransactionError::MISSING_INPUTS;\r\n-            }\r\n             script = input.non_witness_utxo->vout[txin.prevout.n].scriptPubKey;\r\n         } else {\r\n             // There's no UTXO so we can just skip this now\r\n```\r\nAnd I think I've tried with another.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/566812394/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/571242018",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-571242018",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 571242018,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MTI0MjAxOA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-06T17:58:25Z",
    "updated_at": "2020-01-06T17:58:25Z",
    "author_association": "MEMBER",
    "body": "I've added test cases for the `SignPSBTInput` and `FillPSBT` checks. Since the `SignPSBTInput` check can't be reached via RPC (it gets caught by `FillPSBT` or `AnalyzePSBT`), I added the test case to the `psbt_updater_test` unit test.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/571242018/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/571324181",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-571324181",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 571324181,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MTMyNDE4MQ==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-06T21:33:33Z",
    "updated_at": "2020-01-06T21:33:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK deaa6dd144f5650b385658a0c4f9a014aff8dde2 -- only change since last ACK was the addition of tests\r\n\r\nWould be great to have this merged - this PR greatly improves the robustness of the PSBT code :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/571324181/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/578964902",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-578964902",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 578964902,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3ODk2NDkwMg==",
    "user": {
      "login": "gwillen",
      "id": 458997,
      "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gwillen",
      "html_url": "https://github.com/gwillen",
      "followers_url": "https://api.github.com/users/gwillen/followers",
      "following_url": "https://api.github.com/users/gwillen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gwillen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gwillen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
      "organizations_url": "https://api.github.com/users/gwillen/orgs",
      "repos_url": "https://api.github.com/users/gwillen/repos",
      "events_url": "https://api.github.com/users/gwillen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gwillen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-27T21:36:25Z",
    "updated_at": "2020-01-27T21:36:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "tested ACK deaa6dd, would also like to see this merged!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/578964902/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/579005896",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-579005896",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 579005896,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTAwNTg5Ng==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-27T23:29:13Z",
    "updated_at": "2020-01-27T23:29:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "I really hoped this fix would make it to 0.19.1 :\\\r\n\r\nIt doesn't feel good to ship with a known heap use-after-free bug (see #17149) which is reachable via RPC. \r\n\r\nNow that we that RPC whitelisting is merged (#12763) we no longer have the luxury of assuming that all RPC access is from fully trusted RPC consumers.\r\n\r\nThus the previous \"the RPC consumer is also the node operator\" assumption that may have allowed us to take RPC flaws somewhat lightly in the past no longer holds in all cases (it may still hold in the case of obviously dangerous RPC functions such as `stop` which are unlikely to be whitelisted) :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/579005896/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/579129752",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-579129752",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 579129752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTEyOTc1Mg==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-28T08:15:09Z",
    "updated_at": "2020-01-28T08:15:09Z",
    "author_association": "MEMBER",
    "body": "IMO we should keep recommending trusted clients regardless of their whitelist. I hope RPC whitelisting doesn't give the impression that now the RPC interface can be made public..",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/579129752/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/579364107",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-579364107",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 579364107,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTM2NDEwNw==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-28T17:28:26Z",
    "updated_at": "2020-01-28T17:30:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "@promag I agree and in an ideal world all users would read and follow our recommendations :)\r\n\r\nUnfortunately a non-negligible subset of our users still expose their RPC ports publicly as can be verified empirically by running an Internet-wide TCP port scan using say [`masscan`](https://github.com/robertdavidgraham/masscan) (impressive software: an Internet-wide single-port scan can be as quick as six minutes given a good connection/NIC!) or similar.\r\n\r\nOne approach to this could be: _\"OK, those users screwed up badly. They didn't read our recommendations. Their loss. Not our problem as developers.\"_\r\n\r\nAnother could be: _\"Oh gosh, that's unfortunate! Let's try to mitigate the effect of that by trying to make the RPC interface reasonably robust and secure also in the presence user screwups.\"_\r\n\r\nThe former approach is certainly more convenient from a _developer_ perspective, but I don't think that approach is in the best interest of our _users_ :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/579364107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/579367337",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-579367337",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 579367337,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTM2NzMzNw==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-28T17:35:44Z",
    "updated_at": "2020-01-28T17:35:44Z",
    "author_association": "MEMBER",
    "body": "These are not in conflict. We should obviously fix bugs in RPC, even if they only affect careless users (by whatever definition). At the same time, we still shouldn't recommend exposing RPC to the public, because it was not designed for that.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/579367337/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/579388242",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-579388242",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 579388242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTM4ODI0Mg==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-28T18:26:06Z",
    "updated_at": "2020-01-28T18:26:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "> We should obviously fix bugs in RPC, even if they only affect careless users (by whatever definition).\r\n\r\nAgreed.\r\n\r\nLet's get rid of the heap use-after-free bug this PR fixes :)\r\n\r\nPlease review :)\r\n\r\n> At the same time, we still shouldn't recommend exposing RPC to the public, [\u2026]\r\n\r\nAgreed.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/579388242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/579963266",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#issuecomment-579963266",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17156",
    "id": 579963266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTk2MzI2Ng==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T21:15:56Z",
    "updated_at": "2020-01-29T21:15:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Very glad to see this one merged!\r\n\r\nWe have another PSBT related issued to resolve too: the misaligned pointer use in `ProduceSignature(\u2026)` (via `prevector`). While not PSBT specific the function `ProduceSignature(\u2026)` is reachable from `AnalyzePSBT` (via `SignPSBTInput`):\r\n\r\n```\r\nprevector.h:453:19: runtime error: reference binding to misaligned address 0x7f63f89a4022 for type 'prevector<28, unsigned char, unsigned int, int>::size_type' (aka 'unsigned int'), which requires 4 byte alignment\r\n 00 00  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  00 00 00 00 00 00\r\n              ^ \r\n    #0 0x5652760202ce in prevector<28u, unsigned char, unsigned int, int>::swap(prevector<28u, unsigned char, unsigned int, int>&) src/./prevector.h:453:9\r\n    #1 0x56527601ff0e in prevector<28u, unsigned char, unsigned int, int>::operator=(prevector<28u, unsigned char, unsigned int, int>&&) src/./prevector.h:273:9\r\n    #2 0x56527601ff0e in CScript::operator=(CScript&&) src/./script/script.h:390:7\r\n    #3 0x565276094236 in ProduceSignature(SigningProvider const&, BaseSignatureCreator const&, CScript const&, SignatureData&) src/script/sign.cpp:240:23\r\n    #4 0x565276042ef8 in SignPSBTInput(SigningProvider const&, PartiallySignedTransaction&, int, int, SignatureData*, bool) src/psbt.cpp:285:24\r\n    #5 0x565275fdad45 in AnalyzePSBT(PartiallySignedTransaction) src/node/psbt.cpp:64:29\r\n```\r\n\r\nThus anyone interested in PSBT robustness might want to review #17708 too :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/579963266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339335339",
    "pull_request_review_id": 307565031,
    "id": 339335339,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzOTMzNTMzOQ==",
    "diff_hunk": "@@ -411,6 +411,7 @@ class CScript : public CScriptBase\n     CScript(const_iterator pbegin, const_iterator pend) : CScriptBase(pbegin, pend) { }\n     CScript(std::vector<unsigned char>::const_iterator pbegin, std::vector<unsigned char>::const_iterator pend) : CScriptBase(pbegin, pend) { }\n     CScript(const unsigned char* pbegin, const unsigned char* pend) : CScriptBase(pbegin, pend) { }\n+    CScript(const CScript& a) : CScript(a.begin(), a.end()) {}",
    "path": "src/script/script.h",
    "position": null,
    "original_position": 4,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "c8c393b149f975f13e3ac7e4be17196d7c482b69",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Might want to add a comment in the code describing why this explicit copy constructor (which seems to be redundant) was added, otherwise it might be removed again with the next 'clean up warnings' PR.",
    "created_at": "2019-10-27T10:24:41Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r339335339",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339335339"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r339335339"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339335339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 416,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339340644",
    "pull_request_review_id": 307570445,
    "id": 339340644,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzOTM0MDY0NA==",
    "diff_hunk": "@@ -411,6 +411,7 @@ class CScript : public CScriptBase\n     CScript(const_iterator pbegin, const_iterator pend) : CScriptBase(pbegin, pend) { }\n     CScript(std::vector<unsigned char>::const_iterator pbegin, std::vector<unsigned char>::const_iterator pend) : CScriptBase(pbegin, pend) { }\n     CScript(const unsigned char* pbegin, const unsigned char* pend) : CScriptBase(pbegin, pend) { }\n+    CScript(const CScript& a) : CScript(a.begin(), a.end()) {}",
    "path": "src/script/script.h",
    "position": null,
    "original_position": 4,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "c8c393b149f975f13e3ac7e4be17196d7c482b69",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Agreed! That is also why it is important also to remove the UBSan suppressions as part of this PR: to catch non-refactoring nature of such a mistaken \"clean up\" in a future PR  :)\r\n\r\nThese needs to go:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/b8f041af2d2c89afdc14f8c632dfb7fecb535cb5/test/sanitizer_suppressions/ubsan#L1-L2",
    "created_at": "2019-10-27T12:40:32Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r339340644",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339340644"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r339340644"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339340644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 416,
    "side": "RIGHT",
    "in_reply_to_id": 339335339
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341984253",
    "pull_request_review_id": 310982956,
    "id": 341984253,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTk4NDI1Mw==",
    "diff_hunk": "@@ -69,6 +69,9 @@ bool PartiallySignedTransaction::GetInputUTXO(CTxOut& utxo, int input_index) con\n     PSBTInput input = inputs[input_index];\n     int prevout_index = tx->vin[input_index].prevout.n;\n     if (input.non_witness_utxo) {\n+        if (prevout_index >= input.non_witness_utxo->vout.size()) {",
    "path": "src/psbt.cpp",
    "position": 7,
    "original_position": 4,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "c8c393b149f975f13e3ac7e4be17196d7c482b69",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'm afraid this will trigger a sign-compare warning when compiling with Clang due to LHS being `int` and the RHS being `unsigned long` (`size_t`).",
    "created_at": "2019-11-04T10:33:46Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r341984253",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341984253"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r341984253"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/341984253/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 71,
    "original_line": 71,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342244304",
    "pull_request_review_id": 311324695,
    "id": 342244304,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjI0NDMwNA==",
    "diff_hunk": "@@ -411,6 +411,7 @@ class CScript : public CScriptBase\n     CScript(const_iterator pbegin, const_iterator pend) : CScriptBase(pbegin, pend) { }\n     CScript(std::vector<unsigned char>::const_iterator pbegin, std::vector<unsigned char>::const_iterator pend) : CScriptBase(pbegin, pend) { }\n     CScript(const unsigned char* pbegin, const unsigned char* pend) : CScriptBase(pbegin, pend) { }\n+    CScript(const CScript& a) : CScript(a.begin(), a.end()) {}",
    "path": "src/script/script.h",
    "position": null,
    "original_position": 4,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "c8c393b149f975f13e3ac7e4be17196d7c482b69",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Added a comment and removed the suppressions.",
    "created_at": "2019-11-04T20:03:21Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r342244304",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342244304"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r342244304"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342244304/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 416,
    "side": "RIGHT",
    "in_reply_to_id": 339335339
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342244341",
    "pull_request_review_id": 311324738,
    "id": 342244341,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjI0NDM0MQ==",
    "diff_hunk": "@@ -69,6 +69,9 @@ bool PartiallySignedTransaction::GetInputUTXO(CTxOut& utxo, int input_index) con\n     PSBTInput input = inputs[input_index];\n     int prevout_index = tx->vin[input_index].prevout.n;\n     if (input.non_witness_utxo) {\n+        if (prevout_index >= input.non_witness_utxo->vout.size()) {",
    "path": "src/psbt.cpp",
    "position": 7,
    "original_position": 4,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "c8c393b149f975f13e3ac7e4be17196d7c482b69",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed",
    "created_at": "2019-11-04T20:03:26Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r342244341",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342244341"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r342244341"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342244341/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 71,
    "original_line": 71,
    "side": "RIGHT",
    "in_reply_to_id": 341984253
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342304795",
    "pull_request_review_id": 311403300,
    "id": 342304795,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjMwNDc5NQ==",
    "diff_hunk": "@@ -79,9 +84,16 @@ PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n         // Get the output amount\n         CAmount out_amt = std::accumulate(psbtx.tx->vout.begin(), psbtx.tx->vout.end(), CAmount(0),\n             [](CAmount a, const CTxOut& b) {\n+                if (!MoneyRange(a) || !MoneyRange(b.nValue) || !MoneyRange(a + b.nValue)) {\n+                    return CAmount(-1);\n+                }",
    "path": "src/node/psbt.cpp",
    "position": 32,
    "original_position": 25,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "db30e5bd6fb51913a4ce2177097be3ebcabab146",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Are you sure this is correct? This will reset the intermediate result to -1, and then accumulate all remaining values.",
    "created_at": "2019-11-04T22:33:55Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r342304795",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342304795"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r342304795"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342304795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 99,
    "original_line": 99,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342307700",
    "pull_request_review_id": 311407123,
    "id": 342307700,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjMwNzcwMA==",
    "diff_hunk": "@@ -79,9 +84,16 @@ PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n         // Get the output amount\n         CAmount out_amt = std::accumulate(psbtx.tx->vout.begin(), psbtx.tx->vout.end(), CAmount(0),\n             [](CAmount a, const CTxOut& b) {\n+                if (!MoneyRange(a) || !MoneyRange(b.nValue) || !MoneyRange(a + b.nValue)) {\n+                    return CAmount(-1);\n+                }",
    "path": "src/node/psbt.cpp",
    "position": 32,
    "original_position": 25,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "db30e5bd6fb51913a4ce2177097be3ebcabab146",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "-1 will fail MoneyRange so later values that go through this will also always return -1.",
    "created_at": "2019-11-04T22:42:29Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r342307700",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342307700"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r342307700"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342307700/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 99,
    "original_line": 99,
    "side": "RIGHT",
    "in_reply_to_id": 342304795
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342308366",
    "pull_request_review_id": 311407978,
    "id": 342308366,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjMwODM2Ng==",
    "diff_hunk": "@@ -79,9 +84,16 @@ PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n         // Get the output amount\n         CAmount out_amt = std::accumulate(psbtx.tx->vout.begin(), psbtx.tx->vout.end(), CAmount(0),\n             [](CAmount a, const CTxOut& b) {\n+                if (!MoneyRange(a) || !MoneyRange(b.nValue) || !MoneyRange(a + b.nValue)) {\n+                    return CAmount(-1);\n+                }",
    "path": "src/node/psbt.cpp",
    "position": 32,
    "original_position": 25,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "db30e5bd6fb51913a4ce2177097be3ebcabab146",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Correct. Thx.",
    "created_at": "2019-11-04T22:44:35Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r342308366",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342308366"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r342308366"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342308366/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 99,
    "original_line": 99,
    "side": "RIGHT",
    "in_reply_to_id": 342304795
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/346997910",
    "pull_request_review_id": 317851807,
    "id": 346997910,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0Njk5NzkxMA==",
    "diff_hunk": "@@ -412,6 +412,9 @@ class CScript : public CScriptBase\n     CScript(std::vector<unsigned char>::const_iterator pbegin, std::vector<unsigned char>::const_iterator pend) : CScriptBase(pbegin, pend) { }\n     CScript(const unsigned char* pbegin, const unsigned char* pend) : CScriptBase(pbegin, pend) { }\n \n+    // Define a copy constructor so that operator= is a copy instead of a move to avoid undefined behavior",
    "path": "src/script/script.h",
    "position": null,
    "original_position": 4,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "db30e5bd6fb51913a4ce2177097be3ebcabab146",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "could explain how this would otherwise be undefined behavior and why this can't be fixed in `prevector.h`?",
    "created_at": "2019-11-15T20:26:22Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r346997910",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/346997910"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r346997910"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/346997910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 415,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/347011705",
    "pull_request_review_id": 317870083,
    "id": 347011705,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NzAxMTcwNQ==",
    "diff_hunk": "@@ -412,6 +412,9 @@ class CScript : public CScriptBase\n     CScript(std::vector<unsigned char>::const_iterator pbegin, std::vector<unsigned char>::const_iterator pend) : CScriptBase(pbegin, pend) { }\n     CScript(const unsigned char* pbegin, const unsigned char* pend) : CScriptBase(pbegin, pend) { }\n \n+    // Define a copy constructor so that operator= is a copy instead of a move to avoid undefined behavior",
    "path": "src/script/script.h",
    "position": null,
    "original_position": 4,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "db30e5bd6fb51913a4ce2177097be3ebcabab146",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'm not sure why it would be undefined behavior,  but UBSan was triggering on it. I think prevector already has a copy constructor?",
    "created_at": "2019-11-15T21:08:19Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r347011705",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/347011705"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r347011705"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/347011705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 415,
    "side": "RIGHT",
    "in_reply_to_id": 346997910
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/347520135",
    "pull_request_review_id": 318514434,
    "id": 347520135,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NzUyMDEzNQ==",
    "diff_hunk": "@@ -412,6 +412,9 @@ class CScript : public CScriptBase\n     CScript(std::vector<unsigned char>::const_iterator pbegin, std::vector<unsigned char>::const_iterator pend) : CScriptBase(pbegin, pend) { }\n     CScript(const unsigned char* pbegin, const unsigned char* pend) : CScriptBase(pbegin, pend) { }\n \n+    // Define a copy constructor so that operator= is a copy instead of a move to avoid undefined behavior",
    "path": "src/script/script.h",
    "position": null,
    "original_position": 4,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "db30e5bd6fb51913a4ce2177097be3ebcabab146",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In that case I'd prefer to leave the third commit for a separate pull request. Changing those parts of the code without understanding why for the sole reason to please a sanitizer seems worrisome ",
    "created_at": "2019-11-18T17:47:36Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r347520135",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/347520135"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r347520135"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/347520135/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 415,
    "side": "RIGHT",
    "in_reply_to_id": 346997910
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/347538497",
    "pull_request_review_id": 318537381,
    "id": 347538497,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NzUzODQ5Nw==",
    "diff_hunk": "@@ -412,6 +412,9 @@ class CScript : public CScriptBase\n     CScript(std::vector<unsigned char>::const_iterator pbegin, std::vector<unsigned char>::const_iterator pend) : CScriptBase(pbegin, pend) { }\n     CScript(const unsigned char* pbegin, const unsigned char* pend) : CScriptBase(pbegin, pend) { }\n \n+    // Define a copy constructor so that operator= is a copy instead of a move to avoid undefined behavior",
    "path": "src/script/script.h",
    "position": null,
    "original_position": 4,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "db30e5bd6fb51913a4ce2177097be3ebcabab146",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I've dropped the commit.",
    "created_at": "2019-11-18T18:27:15Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r347538497",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/347538497"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r347538497"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/347538497/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 415,
    "side": "RIGHT",
    "in_reply_to_id": 346997910
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356328921",
    "pull_request_review_id": 330209138,
    "id": 356328921,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjMyODkyMQ==",
    "diff_hunk": "@@ -85,9 +90,16 @@ PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n         // Get the output amount\n         CAmount out_amt = std::accumulate(psbtx.tx->vout.begin(), psbtx.tx->vout.end(), CAmount(0),\n             [](CAmount a, const CTxOut& b) {\n+                if (!MoneyRange(a) || !MoneyRange(b.nValue) || !MoneyRange(a + b.nValue)) {\n+                    return CAmount(-1);\n+                }\n                 return a += b.nValue;\n             }\n         );\n+        if (out_amt == -1) {",
    "path": "src/node/psbt.cpp",
    "position": null,
    "original_position": 29,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "e769f25031a63c378f2efeb957b90a72a8524a5e",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "e769f25031a63c378f2efeb957b90a72a8524a5e\r\n\r\nAlso use `!MoneyRange(out_amt)`?",
    "created_at": "2019-12-10T23:13:05Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356328921",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356328921"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356328921"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356328921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 99,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356329124",
    "pull_request_review_id": 330209138,
    "id": 356329124,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjMyOTEyNA==",
    "diff_hunk": "@@ -41,6 +41,14 @@ struct PSBTAnalysis {\n         next = PSBTRole::CREATOR;\n         error = err_msg;\n     }\n+\n+    void Reset() {",
    "path": "src/node/psbt.h",
    "position": null,
    "original_position": 5,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "e769f25031a63c378f2efeb957b90a72a8524a5e",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "e769f25031a63c378f2efeb957b90a72a8524a5e\r\n\r\nnit, `{` in new line? (if you decide to keep this, see next comment)",
    "created_at": "2019-12-10T23:13:44Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356329124",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356329124"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356329124"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356329124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 45,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356330520",
    "pull_request_review_id": 330209138,
    "id": 356330520,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjMzMDUyMA==",
    "diff_hunk": "@@ -31,6 +32,10 @@ PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n         // Check for a UTXO\n         CTxOut utxo;\n         if (psbtx.GetInputUTXO(utxo, i)) {\n+            if (!MoneyRange(in_amt) || !MoneyRange(utxo.nValue) || !MoneyRange(in_amt + utxo.nValue)) {\n+                result.Reset();\n+                return result;",
    "path": "src/node/psbt.cpp",
    "position": 14,
    "original_position": 14,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "e769f25031a63c378f2efeb957b90a72a8524a5e",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "e769f25031a63c378f2efeb957b90a72a8524a5e\r\n\r\nWhy not `return {};` instead of `Reset`? Same below, and then drop `PSBTAnalysis::Reset()`.  ",
    "created_at": "2019-12-10T23:18:12Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356330520",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356330520"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356330520"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356330520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 37,
    "original_line": 37,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356332550",
    "pull_request_review_id": 330209138,
    "id": 356332550,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjMzMjU1MA==",
    "diff_hunk": "@@ -1203,7 +1214,12 @@ UniValue decodepsbt(const JSONRPCRequest& request)\n         outputs.push_back(out);\n \n         // Fee calculation\n-        output_value += psbtx.tx->vout[i].nValue;\n+        if (MoneyRange(output_value) && MoneyRange(psbtx.tx->vout[i].nValue) && MoneyRange(output_value + psbtx.tx->vout[i].nValue)) {",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 34,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "e769f25031a63c378f2efeb957b90a72a8524a5e",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "e769f25031a63c378f2efeb957b90a72a8524a5e\r\n\r\nUnnecessary check `MoneyRange(output_value)` - starts with zero and next value is already checked. Same with `total_in`.",
    "created_at": "2019-12-10T23:24:40Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356332550",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356332550"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356332550"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356332550/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1217,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356349820",
    "pull_request_review_id": 330234208,
    "id": 356349820,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjM0OTgyMA==",
    "diff_hunk": "@@ -31,6 +32,9 @@ PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n         // Check for a UTXO\n         CTxOut utxo;\n         if (psbtx.GetInputUTXO(utxo, i)) {\n+            if (!MoneyRange(in_amt) || !MoneyRange(utxo.nValue) || !MoneyRange(in_amt + utxo.nValue)) {",
    "path": "src/node/psbt.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "fc02ce290dba4a2da8d890901ce5ad5a9ba54051",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Drop first check, same below.",
    "created_at": "2019-12-11T00:28:18Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356349820",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356349820"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356349820"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356349820/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 35,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387723",
    "pull_request_review_id": 330279702,
    "id": 356387723,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjM4NzcyMw==",
    "diff_hunk": "@@ -85,9 +90,16 @@ PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n         // Get the output amount\n         CAmount out_amt = std::accumulate(psbtx.tx->vout.begin(), psbtx.tx->vout.end(), CAmount(0),\n             [](CAmount a, const CTxOut& b) {\n+                if (!MoneyRange(a) || !MoneyRange(b.nValue) || !MoneyRange(a + b.nValue)) {\n+                    return CAmount(-1);\n+                }\n                 return a += b.nValue;\n             }\n         );\n+        if (out_amt == -1) {",
    "path": "src/node/psbt.cpp",
    "position": null,
    "original_position": 29,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "e769f25031a63c378f2efeb957b90a72a8524a5e",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-12-11T03:25:22Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356387723",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387723"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356387723"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387723/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 99,
    "side": "RIGHT",
    "in_reply_to_id": 356328921
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387739",
    "pull_request_review_id": 330279727,
    "id": 356387739,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjM4NzczOQ==",
    "diff_hunk": "@@ -41,6 +41,14 @@ struct PSBTAnalysis {\n         next = PSBTRole::CREATOR;\n         error = err_msg;\n     }\n+\n+    void Reset() {",
    "path": "src/node/psbt.h",
    "position": null,
    "original_position": 5,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "e769f25031a63c378f2efeb957b90a72a8524a5e",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Removed Reset",
    "created_at": "2019-12-11T03:25:28Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356387739",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387739"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356387739"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387739/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 45,
    "side": "RIGHT",
    "in_reply_to_id": 356329124
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387757",
    "pull_request_review_id": 330279747,
    "id": 356387757,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjM4Nzc1Nw==",
    "diff_hunk": "@@ -31,6 +32,10 @@ PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n         // Check for a UTXO\n         CTxOut utxo;\n         if (psbtx.GetInputUTXO(utxo, i)) {\n+            if (!MoneyRange(in_amt) || !MoneyRange(utxo.nValue) || !MoneyRange(in_amt + utxo.nValue)) {\n+                result.Reset();\n+                return result;",
    "path": "src/node/psbt.cpp",
    "position": 14,
    "original_position": 14,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "e769f25031a63c378f2efeb957b90a72a8524a5e",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Removed Reset",
    "created_at": "2019-12-11T03:25:33Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356387757",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387757"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356387757"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387757/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 37,
    "original_line": 37,
    "side": "RIGHT",
    "in_reply_to_id": 356330520
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387778",
    "pull_request_review_id": 330279776,
    "id": 356387778,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjM4Nzc3OA==",
    "diff_hunk": "@@ -1203,7 +1214,12 @@ UniValue decodepsbt(const JSONRPCRequest& request)\n         outputs.push_back(out);\n \n         // Fee calculation\n-        output_value += psbtx.tx->vout[i].nValue;\n+        if (MoneyRange(output_value) && MoneyRange(psbtx.tx->vout[i].nValue) && MoneyRange(output_value + psbtx.tx->vout[i].nValue)) {",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 34,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "e769f25031a63c378f2efeb957b90a72a8524a5e",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-12-11T03:25:39Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356387778",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387778"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356387778"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387778/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1217,
    "side": "RIGHT",
    "in_reply_to_id": 356332550
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387895",
    "pull_request_review_id": 330279909,
    "id": 356387895,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjM4Nzg5NQ==",
    "diff_hunk": "@@ -31,6 +32,9 @@ PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n         // Check for a UTXO\n         CTxOut utxo;\n         if (psbtx.GetInputUTXO(utxo, i)) {\n+            if (!MoneyRange(in_amt) || !MoneyRange(utxo.nValue) || !MoneyRange(in_amt + utxo.nValue)) {",
    "path": "src/node/psbt.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "fc02ce290dba4a2da8d890901ce5ad5a9ba54051",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done, but the check below is necessary. It's how the accumulator is guaranteed to return -1.",
    "created_at": "2019-12-11T03:26:07Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356387895",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387895"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356387895"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356387895/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 35,
    "side": "RIGHT",
    "in_reply_to_id": 356349820
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356456587",
    "pull_request_review_id": 330364343,
    "id": 356456587,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjQ1NjU4Nw==",
    "diff_hunk": "@@ -31,6 +32,9 @@ PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n         // Check for a UTXO\n         CTxOut utxo;\n         if (psbtx.GetInputUTXO(utxo, i)) {\n+            if (!MoneyRange(in_amt) || !MoneyRange(utxo.nValue) || !MoneyRange(in_amt + utxo.nValue)) {",
    "path": "src/node/psbt.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "fc02ce290dba4a2da8d890901ce5ad5a9ba54051",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> but the check below is necessary.\r\n\r\nOh yeah sorry.",
    "created_at": "2019-12-11T08:28:17Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356456587",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356456587"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356456587"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356456587/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 35,
    "side": "RIGHT",
    "in_reply_to_id": 356349820
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356551562",
    "pull_request_review_id": 330480711,
    "id": 356551562,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjU1MTU2Mg==",
    "diff_hunk": "@@ -66,8 +66,11 @@ bool PartiallySignedTransaction::AddOutput(const CTxOut& txout, const PSBTOutput\n bool PartiallySignedTransaction::GetInputUTXO(CTxOut& utxo, int input_index) const\n {\n     PSBTInput input = inputs[input_index];",
    "path": "src/psbt.cpp",
    "position": 3,
    "original_position": 3,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "2dd91b86cd7ef09fa3ae280bfe99db8cfb6fe531",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: `inputs.at(input_index)`",
    "created_at": "2019-12-11T11:44:07Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356551562",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356551562"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356551562"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356551562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 68,
    "original_line": 68,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356553132",
    "pull_request_review_id": 330480711,
    "id": 356553132,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjU1MzEzMg==",
    "diff_hunk": "@@ -31,9 +32,17 @@ PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n         // Check for a UTXO\n         CTxOut utxo;\n         if (psbtx.GetInputUTXO(utxo, i)) {\n+            if (!MoneyRange(utxo.nValue) || !MoneyRange(in_amt + utxo.nValue)) {\n+                result.SetInvalid(strprintf(\"PSBT is not valid. Input %u has invalid value\", i));\n+                return result;\n+            }\n             in_amt += utxo.nValue;\n             input_analysis.has_utxo = true;\n         } else {\n+            if (input.non_witness_utxo && psbtx.tx->vin[i].prevout.n >= input.non_witness_utxo->vout.size()) {",
    "path": "src/node/psbt.cpp",
    "position": 19,
    "original_position": 19,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "2dd91b86cd7ef09fa3ae280bfe99db8cfb6fe531",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: `vin.at(i)` (also in the `FinalizeAndExtractPSBT` loops)",
    "created_at": "2019-12-11T11:48:01Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356553132",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356553132"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356553132"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356553132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 42,
    "original_line": 42,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356740090",
    "pull_request_review_id": 330722490,
    "id": 356740090,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1Njc0MDA5MA==",
    "diff_hunk": "@@ -31,9 +32,17 @@ PSBTAnalysis AnalyzePSBT(PartiallySignedTransaction psbtx)\n         // Check for a UTXO\n         CTxOut utxo;\n         if (psbtx.GetInputUTXO(utxo, i)) {\n+            if (!MoneyRange(utxo.nValue) || !MoneyRange(in_amt + utxo.nValue)) {\n+                result.SetInvalid(strprintf(\"PSBT is not valid. Input %u has invalid value\", i));\n+                return result;\n+            }\n             in_amt += utxo.nValue;\n             input_analysis.has_utxo = true;\n         } else {\n+            if (input.non_witness_utxo && psbtx.tx->vin[i].prevout.n >= input.non_witness_utxo->vout.size()) {",
    "path": "src/node/psbt.cpp",
    "position": 19,
    "original_position": 19,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "2dd91b86cd7ef09fa3ae280bfe99db8cfb6fe531",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "meh. don't feel like changing",
    "created_at": "2019-12-11T17:41:57Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356740090",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356740090"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356740090"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356740090/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 42,
    "original_line": 42,
    "side": "RIGHT",
    "in_reply_to_id": 356553132
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356740160",
    "pull_request_review_id": 330722591,
    "id": 356740160,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1Njc0MDE2MA==",
    "diff_hunk": "@@ -66,8 +66,11 @@ bool PartiallySignedTransaction::AddOutput(const CTxOut& txout, const PSBTOutput\n bool PartiallySignedTransaction::GetInputUTXO(CTxOut& utxo, int input_index) const\n {\n     PSBTInput input = inputs[input_index];",
    "path": "src/psbt.cpp",
    "position": 3,
    "original_position": 3,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "2dd91b86cd7ef09fa3ae280bfe99db8cfb6fe531",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Unrelated style changes are unrelated",
    "created_at": "2019-12-11T17:42:06Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356740160",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356740160"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r356740160"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356740160/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 68,
    "original_line": 68,
    "side": "RIGHT",
    "in_reply_to_id": 356551562
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/357023841",
    "pull_request_review_id": 331073638,
    "id": 357023841,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NzAyMzg0MQ==",
    "diff_hunk": "@@ -66,8 +66,11 @@ bool PartiallySignedTransaction::AddOutput(const CTxOut& txout, const PSBTOutput\n bool PartiallySignedTransaction::GetInputUTXO(CTxOut& utxo, int input_index) const\n {\n     PSBTInput input = inputs[input_index];",
    "path": "src/psbt.cpp",
    "position": 3,
    "original_position": 3,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "2dd91b86cd7ef09fa3ae280bfe99db8cfb6fe531",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It's not a style change, `at` checks these array indexes \"are within bounds\" and throws an exception otherwise. There's a bunch of places in this code where we don't use iterators and assume that two arrays are the same size.",
    "created_at": "2019-12-12T08:57:40Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r357023841",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/357023841"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r357023841"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/357023841/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 68,
    "original_line": 68,
    "side": "RIGHT",
    "in_reply_to_id": 356551562
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/357879394",
    "pull_request_review_id": 332177363,
    "id": 357879394,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1Nzg3OTM5NA==",
    "diff_hunk": "@@ -66,8 +66,11 @@ bool PartiallySignedTransaction::AddOutput(const CTxOut& txout, const PSBTOutput\n bool PartiallySignedTransaction::GetInputUTXO(CTxOut& utxo, int input_index) const\n {\n     PSBTInput input = inputs[input_index];",
    "path": "src/psbt.cpp",
    "position": 3,
    "original_position": 3,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "2dd91b86cd7ef09fa3ae280bfe99db8cfb6fe531",
    "user": {
      "login": "gwillen",
      "id": 458997,
      "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gwillen",
      "html_url": "https://github.com/gwillen",
      "followers_url": "https://api.github.com/users/gwillen/followers",
      "following_url": "https://api.github.com/users/gwillen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gwillen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gwillen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
      "organizations_url": "https://api.github.com/users/gwillen/orgs",
      "repos_url": "https://api.github.com/users/gwillen/repos",
      "events_url": "https://api.github.com/users/gwillen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gwillen/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Throwing an exception here would actually be rude, yes? So it would be better to establish invariants that ensure we are in-bounds, or else add a bounds check ourselves otherwise?",
    "created_at": "2019-12-14T00:24:10Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r357879394",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/357879394"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r357879394"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/357879394/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 68,
    "original_line": 68,
    "side": "RIGHT",
    "in_reply_to_id": 356551562
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/358528829",
    "pull_request_review_id": 332945972,
    "id": 358528829,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1ODUyODgyOQ==",
    "diff_hunk": "@@ -66,8 +66,11 @@ bool PartiallySignedTransaction::AddOutput(const CTxOut& txout, const PSBTOutput\n bool PartiallySignedTransaction::GetInputUTXO(CTxOut& utxo, int input_index) const\n {\n     PSBTInput input = inputs[input_index];",
    "path": "src/psbt.cpp",
    "position": 3,
    "original_position": 3,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "2dd91b86cd7ef09fa3ae280bfe99db8cfb6fe531",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> establish invariants that ensure we are in-bounds\r\n\r\nAgree, I think it makes no sense to add bound checks here.\r\n\r\nIn any case, here or followup this could use\r\n```\r\nconst_reference operator[]( size_type pos ) const;\r\n```\r\nsince `PSBTInput` is not that trivial.",
    "created_at": "2019-12-16T23:58:09Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r358528829",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/358528829"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r358528829"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/358528829/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 68,
    "original_line": 68,
    "side": "RIGHT",
    "in_reply_to_id": 356551562
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/358551968",
    "pull_request_review_id": 332973307,
    "id": 358551968,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1ODU1MTk2OA==",
    "diff_hunk": "@@ -66,8 +66,11 @@ bool PartiallySignedTransaction::AddOutput(const CTxOut& txout, const PSBTOutput\n bool PartiallySignedTransaction::GetInputUTXO(CTxOut& utxo, int input_index) const\n {\n     PSBTInput input = inputs[input_index];",
    "path": "src/psbt.cpp",
    "position": 3,
    "original_position": 3,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "2dd91b86cd7ef09fa3ae280bfe99db8cfb6fe531",
    "user": {
      "login": "gwillen",
      "id": 458997,
      "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gwillen",
      "html_url": "https://github.com/gwillen",
      "followers_url": "https://api.github.com/users/gwillen/followers",
      "following_url": "https://api.github.com/users/gwillen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gwillen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gwillen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
      "organizations_url": "https://api.github.com/users/gwillen/orgs",
      "repos_url": "https://api.github.com/users/gwillen/repos",
      "events_url": "https://api.github.com/users/gwillen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gwillen/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "That would just mean changing \"PSBTInput input\" to \"const PSBTInput& input\"?",
    "created_at": "2019-12-17T01:09:29Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r358551968",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/358551968"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r358551968"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/358551968/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 68,
    "original_line": 68,
    "side": "RIGHT",
    "in_reply_to_id": 356551562
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/358556333",
    "pull_request_review_id": 332978165,
    "id": 358556333,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1ODU1NjMzMw==",
    "diff_hunk": "@@ -66,8 +66,11 @@ bool PartiallySignedTransaction::AddOutput(const CTxOut& txout, const PSBTOutput\n bool PartiallySignedTransaction::GetInputUTXO(CTxOut& utxo, int input_index) const\n {\n     PSBTInput input = inputs[input_index];",
    "path": "src/psbt.cpp",
    "position": 3,
    "original_position": 3,
    "commit_id": "deaa6dd144f5650b385658a0c4f9a014aff8dde2",
    "original_commit_id": "2dd91b86cd7ef09fa3ae280bfe99db8cfb6fe531",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes.",
    "created_at": "2019-12-17T01:27:29Z",
    "updated_at": "2020-01-06T17:57:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r358556333",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/358556333"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17156#discussion_r358556333"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17156"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/358556333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 68,
    "original_line": 68,
    "side": "RIGHT",
    "in_reply_to_id": 356551562
  }
]